LavaPack.loadBundle([[2870,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={snapId:"npm:@metamask/solana-wallet-snap",manifest:{version:"1.15.1",description:"Manage Solana using MetaMask",proposedName:"Solana",repository:{type:"git",url:"https://github.com/MetaMask/snap-solana-wallet.git"},source:{shasum:"pGQ4C4+ClecT6LmyhpZlVdXWL13tJw2wrzO8W4sJwMk=",location:{npm:{filePath:"dist/bundle.js",iconPath:"images/icon.svg",packageName:"@metamask/solana-wallet-snap",registry:"https://registry.npmjs.org/"}},locales:["locales/en.json"]},initialConnections:{"https://portfolio.metamask.io":{}},initialPermissions:{"endowment:rpc":{dapps:!0,snaps:!1},"endowment:keyring":{allowedOrigins:["https://portfolio.metamask.io"]},snap_getBip32Entropy:[{path:["m","44'","501'"],curve:"ed25519"}],"endowment:network-access":{},"endowment:cronjob":{jobs:[{expression:"* * * * *",request:{method:"refreshSend",params:{}}},{expression:"* * * * *",request:{method:"refreshConfirmationEstimation",params:{}}},{expression:"* * * * *",request:{method:"refreshTransactions",params:{}}},{expression:"* * * * *",request:{method:"refreshAssets",params:{}}}]},"endowment:protocol":{scopes:{"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":{methods:["getGenesisHash"]},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":{methods:["getGenesisHash"]}}},"endowment:assets":{scopes:["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"]},snap_manageAccounts:{},snap_manageState:{},snap_dialog:{},snap_getPreferences:{}},manifestVersion:"0.1"},files:[{path:"images/icon.svg",value:'<svg width="101" height="101" viewBox="0 0 101 101" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M100.48 69.3817L83.8068 86.8015C83.4444 87.1799 83.0058 87.4816 82.5185 87.6878C82.0312 87.894 81.5055 88.0003 80.9743 88H1.93563C1.55849 88 1.18957 87.8926 0.874202 87.6912C0.558829 87.4897 0.31074 87.2029 0.160416 86.8659C0.0100923 86.529 -0.0359181 86.1566 0.0280382 85.7945C0.0919944 85.4324 0.263131 85.0964 0.520422 84.8278L17.2061 67.408C17.5676 67.0306 18.0047 66.7295 18.4904 66.5234C18.9762 66.3172 19.5002 66.2104 20.0301 66.2095H99.0644C99.4415 66.2095 99.8104 66.3169 100.126 66.5183C100.441 66.7198 100.689 67.0067 100.84 67.3436C100.99 67.6806 101.036 68.0529 100.972 68.415C100.908 68.7771 100.737 69.1131 100.48 69.3817ZM83.8068 34.3032C83.4444 33.9248 83.0058 33.6231 82.5185 33.4169C82.0312 33.2108 81.5055 33.1045 80.9743 33.1048H1.93563C1.55849 33.1048 1.18957 33.2121 0.874202 33.4136C0.558829 33.6151 0.31074 33.9019 0.160416 34.2388C0.0100923 34.5758 -0.0359181 34.9482 0.0280382 35.3103C0.0919944 35.6723 0.263131 36.0083 0.520422 36.277L17.2061 53.6968C17.5676 54.0742 18.0047 54.3752 18.4904 54.5814C18.9762 54.7875 19.5002 54.8944 20.0301 54.8952H99.0644C99.4415 54.8952 99.8104 54.7879 100.126 54.5864C100.441 54.3849 100.689 54.0981 100.84 53.7612C100.99 53.4242 101.036 53.0518 100.972 52.6897C100.908 52.3277 100.737 51.9917 100.48 51.723L83.8068 34.3032ZM1.93563 21.7905H80.9743C81.5055 21.7907 82.0312 21.6845 82.5185 21.4783C83.0058 21.2721 83.4444 20.9704 83.8068 20.592L100.48 3.17219C100.737 2.90357 100.908 2.56758 100.972 2.2055C101.036 1.84342 100.99 1.47103 100.84 1.13408C100.689 0.79713 100.441 0.510296 100.126 0.308823C99.8104 0.107349 99.4415 1.24074e-05 99.0644 0L20.0301 0C19.5002 0.000878397 18.9762 0.107699 18.4904 0.313848C18.0047 0.519998 17.5676 0.821087 17.2061 1.19848L0.524723 18.6183C0.267681 18.8866 0.0966198 19.2223 0.0325185 19.5839C-0.0315829 19.9456 0.0140624 20.3177 0.163856 20.6545C0.31365 20.9913 0.561081 21.2781 0.875804 21.4799C1.19053 21.6817 1.55886 21.7896 1.93563 21.7905Z" fill="url(#paint0_linear_174_4403)"/>\n<defs>\n<linearGradient id="paint0_linear_174_4403" x1="8.52558" y1="90.0973" x2="88.9933" y2="-3.01622" gradientUnits="userSpaceOnUse">\n<stop offset="0.08" stop-color="#9945FF"/>\n<stop offset="0.3" stop-color="#8752F3"/>\n<stop offset="0.5" stop-color="#5497D5"/>\n<stop offset="0.6" stop-color="#43B4CA"/>\n<stop offset="0.72" stop-color="#28E0B9"/>\n<stop offset="0.97" stop-color="#19FB9B"/>\n</linearGradient>\n</defs>\n</svg>\n'},{path:"dist/bundle.js",value:'(()=>{var e={7991:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],c=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,d=c>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},6586:(e,t)=>{"use strict";t.I=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function o(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=o(t)^r>>5}t=o(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=o(t)^31&r}return t}function a(e,t,n,r){let o=0,i=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(o=o<<t|e[r],i+=t;i>=n;)i-=n,s.push(o>>i&a);if(r)i>0&&s.push(o<<n-i&a);else{if(i>=t)return"Excess padding";if(o<<n-i&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let d=i(u);if("string"==typeof d)return d;const f=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return"Unknown character "+t;d=o(d)^n,e+6>=l.length||f.push(n)}return d!==t?"Invalid checksum for "+e:{prefix:u,words:f}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if("object"==typeof n)return n},decode:function(e,t){const n=a(e,t);if("object"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError("Exceeds length limit");let s=i(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error("Non 5-bit word");s=o(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=o(s);s^=t;for(let e=0;e<6;++e){c+=n.charAt(s>>5*(5-e)&31)}return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.I=l("bech32"),l("bech32m")},1048:(e,t,n)=>{"use strict";const r=n(7991),o=n(9318),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError(\'The value "\'+e+\'" is invalid for option "size"\');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError(\'The "string" argument must be of type string. Received type number\');return d(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError(\'The "value" argument must not be of type number. Received type number\');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||Z(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError(\'"size" argument must be of type number\');if(e<0)throw new RangeError(\'The value "\'+e+\'" is invalid for option "size"\')}function d(e){return l(e),s(e<0?0:0|h(e))}function f(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError(\'"offset" is outside of buffer bounds\');if(e.byteLength<t+(n||0))throw new RangeError(\'"length" is outside of buffer bounds\');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(o)return r?-1:K(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return B(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function A(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function b(e,t,n,r){return H(K(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return H(G(t),e,n,r)}function x(e,t,n,r){return H(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(J(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');t.copy(r,o)}o+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<s;++e)if(u[e]!==l[e]){i=u[e],a=l[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function O(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function B(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function C(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=Y[e[r]];return o}function R(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(t>o||t<i)throw new RangeError(\'"value" argument is out of bounds\');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,o){$(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function _(e,t,n,r,o){$(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return _(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return _(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError(\'The value "\'+e+\'" is invalid for argument "value"\');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const z={};function F(e,t,n){z[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function D(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function $(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new z.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,o,i)}function q(e,t){if("number"!=typeof e)throw new z.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new z.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=D(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=D(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Q(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},282:e=>{e.exports=a,a.default=a,a.stable=l,a.stableStringify=l;var t="[...]",n="[Circular]",r=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,n,a){var s;void 0===a&&(a=i()),c(e,"",0,[],void 0,0,a);try{s=0===o.length?JSON.stringify(e,t,n):JSON.stringify(e,f(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function s(e,t,n,i){var a=Object.getOwnPropertyDescriptor(i,n);void 0!==a.get?a.configurable?(Object.defineProperty(i,n,{value:e}),r.push([i,n,t,a])):o.push([t,n,e]):(i[n]=e,r.push([i,n,t]))}function c(e,r,o,i,a,u,l){var d;if(u+=1,"object"==typeof e&&null!==e){for(d=0;d<i.length;d++)if(i[d]===e)return void s(n,e,r,a);if(void 0!==l.depthLimit&&u>l.depthLimit)return void s(t,e,r,a);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void s(t,e,r,a);if(i.push(e),Array.isArray(e))for(d=0;d<e.length;d++)c(e[d],d,d,i,e,u,l);else{var f=Object.keys(e);for(d=0;d<f.length;d++){var p=f[d];c(e[p],p,d,i,e,u,l)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function l(e,t,n,a){void 0===a&&(a=i());var s,c=d(e,"",0,[],void 0,0,a)||e;try{s=0===o.length?JSON.stringify(c,t,n):JSON.stringify(c,f(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function d(e,o,i,a,c,l,f){var p;if(l+=1,"object"==typeof e&&null!==e){for(p=0;p<a.length;p++)if(a[p]===e)return void s(n,e,o,c);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==f.depthLimit&&l>f.depthLimit)return void s(t,e,o,c);if(void 0!==f.edgesLimit&&i+1>f.edgesLimit)return void s(t,e,o,c);if(a.push(e),Array.isArray(e))for(p=0;p<e.length;p++)d(e[p],p,p,a,e,l,f);else{var h={},g=Object.keys(e).sort(u);for(p=0;p<g.length;p++){var m=g[p];d(e[m],m,p,a,e,l,f),h[m]=e[m]}if(void 0===c)return h;r.push([c,o,e]),c[o]=h}a.pop()}}function f(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(o.length>0)for(var r=0;r<o.length;r++){var i=o[r];if(i[1]===t&&i[0]===n){n=i[2],o.splice(r,1);break}}return e.call(this,t,n)}}},9318:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*g}},3103:(e,t,n)=>{var r=n(4715)(n(8942),"DataView");e.exports=r},5098:(e,t,n)=>{var r=n(3305),o=n(9361),i=n(1112),a=n(5276),s=n(5071);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},7553:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},1386:(e,t,n)=>{var r=n(2393),o=n(2049),i=n(7144),a=n(7452),s=n(3964);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},528:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},9770:(e,t,n)=>{var r=n(4715)(n(8942),"Map");e.exports=r},8250:(e,t,n)=>{var r=n(9753),o=n(5681),i=n(88),a=n(4732),s=n(9068);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},9413:(e,t,n)=>{var r=n(4715)(n(8942),"Promise");e.exports=r},4512:(e,t,n)=>{var r=n(4715)(n(8942),"Set");e.exports=r},3212:(e,t,n)=>{var r=n(8250),o=n(1877),i=n(8006);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},1340:(e,t,n)=>{var r=n(1386),o=n(4103),i=n(1779),a=n(4162),s=n(7462),c=n(6638);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},5650:(e,t,n)=>{var r=n(8942).Symbol;e.exports=r},1623:(e,t,n)=>{var r=n(8942).Uint8Array;e.exports=r},9270:(e,t,n)=>{var r=n(4715)(n(8942),"WeakMap");e.exports=r},6912:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},9968:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},9847:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},9756:(e,t,n)=>{var r=n(2478);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},358:(e,t,n)=>{var r=n(6137),o=n(3283),i=n(3142),a=n(5853),s=n(9632),c=n(8666),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&c(e),p=n||l||d||f,h=p?r(e.length,String):[],g=h.length;for(var m in e)!t&&!u.call(e,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||h.push(m);return h}},5111:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},1129:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},6465:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},3422:(e,t,n)=>{var r=n(7073),o=n(6285),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},7034:(e,t,n)=>{var r=n(6285);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},7930:(e,t,n)=>{var r=n(9032),o=n(1211);e.exports=function(e,t){return e&&r(t,o(t),e)}},125:(e,t,n)=>{var r=n(9032),o=n(5288);e.exports=function(e,t){return e&&r(t,o(t),e)}},7073:(e,t,n)=>{var r=n(2532);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},9334:(e,t,n)=>{var r=n(1340),o=n(9968),i=n(3422),a=n(7930),s=n(125),c=n(7099),u=n(4354),l=n(3546),d=n(4733),f=n(393),p=n(3650),h=n(8486),g=n(7350),m=n(424),y=n(5964),v=n(3142),w=n(5853),A=n(7681),b=n(1580),S=n(3943),E=n(1211),x=n(5288),T="[object Arguments]",k="[object Function]",I="[object Object]",O={};O[T]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[I]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[k]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,B,C,R,j){var N,P=1&n,_=2&n,M=4&n;if(B&&(N=R?B(t,C,R,j):B(t)),void 0!==N)return N;if(!b(t))return t;var L=v(t);if(L){if(N=g(t),!P)return u(t,N)}else{var U=h(t),z=U==k||"[object GeneratorFunction]"==U;if(w(t))return c(t,P);if(U==I||U==T||z&&!R){if(N=_||z?{}:y(t),!P)return _?d(t,s(N,t)):l(t,a(N,t))}else{if(!O[U])return R?t:{};N=m(t,U,P)}}j||(j=new r);var F=j.get(t);if(F)return F;j.set(t,N),S(t)?t.forEach((function(r){N.add(e(r,n,B,r,t,j))})):A(t)&&t.forEach((function(r,o){N.set(o,e(r,n,B,o,t,j))}));var D=L?void 0:(M?_?p:f:_?x:E)(t);return o(D||t,(function(r,o){D&&(r=t[o=r]),i(N,o,e(r,n,B,o,t,j))})),N}},9747:(e,t,n)=>{var r=n(1580),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},7250:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},313:(e,t,n)=>{var r=n(1129),o=n(714);e.exports=function e(t,n,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var l=t[c];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},7923:(e,t,n)=>{var r=n(3526),o=n(6040);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},8244:(e,t,n)=>{var r=n(1129),o=n(3142);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},7379:(e,t,n)=>{var r=n(5650),o=n(8870),i=n(9005),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},3636:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},2478:(e,t,n)=>{var r=n(7250),o=n(9454),i=n(7706);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},6027:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},4687:(e,t,n)=>{var r=n(353),o=n(547);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},353:(e,t,n)=>{var r=n(1340),o=n(3934),i=n(8861),a=n(1182),s=n(8486),c=n(3142),u=n(5853),l=n(8666),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,y){var v=c(e),w=c(t),A=v?f:s(e),b=w?f:s(t),S=(A=A==d?p:A)==p,E=(b=b==d?p:b)==p,x=A==b;if(x&&u(e)){if(!u(t))return!1;v=!0,S=!1}if(x&&!S)return y||(y=new r),v||l(e)?o(e,t,n,g,m,y):i(e,t,A,n,g,m,y);if(!(1&n)){var T=S&&h.call(e,"__wrapped__"),k=E&&h.call(t,"__wrapped__");if(T||k){var I=T?e.value():e,O=k?t.value():t;return y||(y=new r),m(I,O,n,g,y)}}return!!x&&(y||(y=new r),a(e,t,n,g,m,y))}},777:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},8330:(e,t,n)=>{var r=n(1340),o=n(4687);e.exports=function(e,t,n,i){var a=n.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],d=e[l],f=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var p=new r;if(i)var h=i(d,f,l,e,t,p);if(!(void 0===h?o(f,d,3,i,p):h))return!1}}return!0}},9454:e=>{e.exports=function(e){return e!=e}},9624:(e,t,n)=>{var r=n(3655),o=n(4759),i=n(1580),a=n(4066),s=/^\\[object .+?Constructor\\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},1935:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},674:(e,t,n)=>{var r=n(7379),o=n(5387),i=n(547),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},3334:(e,t,n)=>{var r=n(6526),o=n(2343),i=n(2053),a=n(3142),s=n(3282);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},195:(e,t,n)=>{var r=n(4882),o=n(8121),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7200:(e,t,n)=>{var r=n(1580),o=n(4882),i=n(8546),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},5962:e=>{e.exports=function(){}},6526:(e,t,n)=>{var r=n(8330),o=n(4367),i=n(3904);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},2343:(e,t,n)=>{var r=n(4687),o=n(6123),i=n(7276),a=n(5187),s=n(7267),c=n(3904),u=n(6040);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},2762:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},8880:(e,t,n)=>{var r=n(7923);e.exports=function(e){return function(t){return r(t,e)}}},4943:(e,t,n)=>{var r=n(2053),o=n(6065),i=o?function(e,t){return o.set(e,t),e}:r;e.exports=i},7403:(e,t,n)=>{var r=n(2619),o=n(2532),i=n(2053),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},6137:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2291:(e,t,n)=>{var r=n(5650),o=n(5111),i=n(3142),a=n(1187),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6403:(e,t,n)=>{var r=n(2945),o=/^\\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},9460:e=>{e.exports=function(e){return function(t){return e(t)}}},5568:e=>{e.exports=function(e,t){return e.has(t)}},3526:(e,t,n)=>{var r=n(3142),o=n(5187),i=n(6493),a=n(5243);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},8898:(e,t,n)=>{var r=n(1623);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},7099:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},2480:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},8340:e=>{var t=/\\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8069:(e,t,n)=>{var r=n(5650),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},2264:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},4977:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=r.length,c=-1,u=n.length,l=t(a-s,0),d=Array(u+l),f=!o;++c<u;)d[c]=n[c];for(;++i<s;)(f||i<a)&&(d[r[i]]=e[i]);for(;l--;)d[c++]=e[i++];return d}},5755:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=-1,c=r.length,u=-1,l=n.length,d=t(a-c,0),f=Array(d+l),p=!o;++i<d;)f[i]=e[i];for(var h=i;++u<l;)f[h+u]=n[u];for(;++s<c;)(p||i<a)&&(f[h+r[s]]=e[i++]);return f}},4354:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},9032:(e,t,n)=>{var r=n(3422),o=n(7073);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},3546:(e,t,n)=>{var r=n(9032),o=n(7979);e.exports=function(e,t){return r(e,o(e),t)}},4733:(e,t,n)=>{var r=n(9032),o=n(5832);e.exports=function(e,t){return r(e,o(e),t)}},1950:(e,t,n)=>{var r=n(8942)["__core-js_shared__"];e.exports=r},3816:e=>{e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},6713:(e,t,n)=>{var r=n(4364),o=n(8942);e.exports=function(e,t,n){var i=1&t,a=r(e);return function t(){return(this&&this!==o&&this instanceof t?a:e).apply(i?n:this,arguments)}}},4364:(e,t,n)=>{var r=n(9747),o=n(1580);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}},2443:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(3504),a=n(4216),s=n(6850),c=n(8813),u=n(8942);e.exports=function(e,t,n){var l=o(e);return function o(){for(var d=arguments.length,f=Array(d),p=d,h=s(o);p--;)f[p]=arguments[p];var g=d<3&&f[0]!==h&&f[d-1]!==h?[]:c(f,h);return(d-=g.length)<n?a(e,t,i,o.placeholder,void 0,f,g,void 0,void 0,n-d):r(this&&this!==u&&this instanceof o?l:e,this,f)}}},1942:(e,t,n)=>{var r=n(528),o=n(1439),i=n(5196),a=n(961),s=n(3142),c=n(6648);e.exports=function(e){return o((function(t){var n=t.length,o=n,u=r.prototype.thru;for(e&&t.reverse();o--;){var l=t[o];if("function"!=typeof l)throw new TypeError("Expected a function");if(u&&!d&&"wrapper"==a(l))var d=new r([],!0)}for(o=d?o:n;++o<n;){l=t[o];var f=a(l),p="wrapper"==f?i(l):void 0;d=p&&c(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?d[a(p[0])].apply(d,p[3]):1==l.length&&c(l)?d[f]():d.thru(l)}return function(){var e=arguments,r=e[0];if(d&&1==e.length&&s(r))return d.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}},3504:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(3816),a=n(4364),s=n(4216),c=n(6850),u=n(6591),l=n(8813),d=n(8942);e.exports=function e(t,n,f,p,h,g,m,y,v,w){var A=128&n,b=1&n,S=2&n,E=24&n,x=512&n,T=S?void 0:a(t);return function k(){for(var I=arguments.length,O=Array(I),B=I;B--;)O[B]=arguments[B];if(E)var C=c(k),R=i(O,C);if(p&&(O=r(O,p,h,E)),g&&(O=o(O,g,m,E)),I-=R,E&&I<w){var j=l(O,C);return s(t,n,e,k.placeholder,f,O,j,y,v,w-I)}var N=b?f:this,P=S?N[t]:t;return I=O.length,y?O=u(O,y):x&&I>1&&O.reverse(),A&&v<I&&(O.length=v),this&&this!==d&&this instanceof k&&(P=T||a(P)),P.apply(N,O)}}},6341:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(8942);e.exports=function(e,t,n,a){var s=1&t,c=o(e);return function t(){for(var o=-1,u=arguments.length,l=-1,d=a.length,f=Array(d+u),p=this&&this!==i&&this instanceof t?c:e;++l<d;)f[l]=a[l];for(;u--;)f[l++]=arguments[++o];return r(p,s?n:this,f)}}},4216:(e,t,n)=>{var r=n(6648),o=n(5512),i=n(5620);e.exports=function(e,t,n,a,s,c,u,l,d,f){var p=8&t;t|=p?32:64,4&(t&=~(p?64:32))||(t&=-4);var h=[e,t,s,p?c:void 0,p?u:void 0,p?void 0:c,p?void 0:u,l,d,f],g=n.apply(void 0,h);return r(e)&&o(g,h),g.placeholder=a,i(g,e,t)}},8638:(e,t,n)=>{var r=n(4943),o=n(6713),i=n(2443),a=n(3504),s=n(6341),c=n(5196),u=n(7028),l=n(5512),d=n(5620),f=n(7642),p=Math.max;e.exports=function(e,t,n,h,g,m,y,v){var w=2&t;if(!w&&"function"!=typeof e)throw new TypeError("Expected a function");var A=h?h.length:0;if(A||(t&=-97,h=g=void 0),y=void 0===y?y:p(f(y),0),v=void 0===v?v:f(v),A-=g?g.length:0,64&t){var b=h,S=g;h=g=void 0}var E=w?void 0:c(e),x=[e,t,n,h,g,b,S,m,y,v];if(E&&u(x,E),e=x[0],t=x[1],n=x[2],h=x[3],g=x[4],!(v=x[9]=void 0===x[9]?w?0:e.length:p(x[9]-A,0))&&24&t&&(t&=-25),t&&1!=t)T=8==t||16==t?i(e,t,v):32!=t&&33!=t||g.length?a.apply(void 0,x):s(e,t,n,h);else var T=o(e,t,n);return d((E?r:l)(T,x),e,t)}},2532:(e,t,n)=>{var r=n(4715),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},3934:(e,t,n)=>{var r=n(3212),o=n(6465),i=n(5568);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(e),p=c.get(t);if(f&&p)return f==t&&p==e;var h=-1,g=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++h<l;){var y=e[h],v=t[h];if(a)var w=u?a(v,y,h,t,e,c):a(y,v,h,e,t,c);if(void 0!==w){if(w)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(y===e||s(y,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!s(y,v,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},8861:(e,t,n)=>{var r=n(5650),o=n(1623),i=n(6285),a=n(3934),s=n(5894),c=n(9828),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=c),e.size!=t.size&&!h)return!1;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var m=a(p(e),p(t),r,u,d,f);return f.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},1182:(e,t,n)=>{var r=n(393),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var d=l;d--;){var f=u[d];if(!(c?f in t:o.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<l;){var y=e[f=u[d]],v=t[f];if(i)var w=c?i(v,y,f,t,e,s):i(y,v,f,e,t,s);if(!(void 0===w?y===v||a(y,v,n,i,s):w)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var A=e.constructor,b=t.constructor;A==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof b&&b instanceof b||(g=!1)}return s.delete(e),s.delete(t),g}},1439:(e,t,n)=>{var r=n(5857),o=n(5234),i=n(796);e.exports=function(e){return i(o(e,void 0,r),e+"")}},4967:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},393:(e,t,n)=>{var r=n(8244),o=n(7979),i=n(1211);e.exports=function(e){return r(e,i,o)}},3650:(e,t,n)=>{var r=n(8244),o=n(5832),i=n(5288);e.exports=function(e){return r(e,i,o)}},5196:(e,t,n)=>{var r=n(6065),o=n(9071),i=r?function(e){return r.get(e)}:o;e.exports=i},961:(e,t,n)=>{var r=n(3476),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},6850:e=>{e.exports=function(e){return e.placeholder}},4700:(e,t,n)=>{var r=n(9067);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},4367:(e,t,n)=>{var r=n(7267),o=n(1211);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},4715:(e,t,n)=>{var r=n(9624),o=n(155);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},4784:(e,t,n)=>{var r=n(3766)(Object.getPrototypeOf,Object);e.exports=r},8870:(e,t,n)=>{var r=n(5650),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},7979:(e,t,n)=>{var r=n(9847),o=n(9306),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},5832:(e,t,n)=>{var r=n(1129),o=n(4784),i=n(7979),a=n(9306),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},8486:(e,t,n)=>{var r=n(3103),o=n(9770),i=n(9413),a=n(4512),s=n(9270),c=n(7379),u=n(4066),l="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",g=u(r),m=u(o),y=u(i),v=u(a),w=u(s),A=c;(r&&A(new r(new ArrayBuffer(1)))!=h||o&&A(new o)!=l||i&&A(i.resolve())!=d||a&&A(new a)!=f||s&&A(new s)!=p)&&(A=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case g:return h;case m:return l;case y:return d;case v:return f;case w:return p}return t}),e.exports=A},155:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},8788:e=>{var t=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},5899:(e,t,n)=>{var r=n(3526),o=n(3283),i=n(3142),a=n(9632),s=n(5387),c=n(6040);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,d=!1;++u<l;){var f=c(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(i(e)||o(e))}},3305:(e,t,n)=>{var r=n(4497);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},9361:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},1112:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},5276:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},5071:(e,t,n)=>{var r=n(4497);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7350:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},424:(e,t,n)=>{var r=n(8898),o=n(2480),i=n(8340),a=n(8069),s=n(2264);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},5964:(e,t,n)=>{var r=n(9747),o=n(4784),i=n(4882);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},9141:e=>{var t=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var o=r-1;return n[o]=(r>1?"& ":"")+n[o],n=n.join(r>2?", ":" "),e.replace(t,"{\\n/* [wrapped with "+n+"] */\\n")}},714:(e,t,n)=>{var r=n(5650),o=n(3283),i=n(3142),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},9632:e=>{var t=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5187:(e,t,n)=>{var r=n(3142),o=n(1187),i=/\\.|\\[(?:[^[\\]]*|(["\'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},9067:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},6648:(e,t,n)=>{var r=n(7553),o=n(5196),i=n(961),a=n(3321);e.exports=function(e){var t=i(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},4759:(e,t,n)=>{var r,o=n(1950),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},4882:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7267:(e,t,n)=>{var r=n(1580);e.exports=function(e){return e==e&&!r(e)}},2393:e=>{e.exports=function(){this.__data__=[],this.size=0}},2049:(e,t,n)=>{var r=n(7034),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},7144:(e,t,n)=>{var r=n(7034);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7452:(e,t,n)=>{var r=n(7034);e.exports=function(e){return r(this.__data__,e)>-1}},3964:(e,t,n)=>{var r=n(7034);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},9753:(e,t,n)=>{var r=n(5098),o=n(1386),i=n(9770);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},5681:(e,t,n)=>{var r=n(4700);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},88:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).get(e)}},4732:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).has(e)}},9068:(e,t,n)=>{var r=n(4700);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},5894:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},3904:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},6853:(e,t,n)=>{var r=n(9011);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},7028:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(8813),a="__lodash_placeholder__",s=128,c=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],l=n|u,d=l<131,f=u==s&&8==n||u==s&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!d&&!f)return e;1&u&&(e[2]=t[2],l|=1&n?0:4);var p=t[3];if(p){var h=e[3];e[3]=h?r(h,p,t[4]):p,e[4]=h?i(e[3],a):t[4]}return(p=t[5])&&(h=e[5],e[5]=h?o(h,p,t[6]):p,e[6]=h?i(e[5],a):t[6]),(p=t[7])&&(e[7]=p),u&s&&(e[8]=null==e[8]?t[8]:c(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},6065:(e,t,n)=>{var r=n(9270),o=r&&new r;e.exports=o},4497:(e,t,n)=>{var r=n(4715)(Object,"create");e.exports=r},8121:(e,t,n)=>{var r=n(3766)(Object.keys,Object);e.exports=r},8546:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},2306:(e,t,n)=>{e=n.nmd(e);var r=n(4967),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},9005:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3766:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5234:(e,t,n)=>{var r=n(6912),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(c),r(e,this,u)}}},3476:e=>{e.exports={}},6591:(e,t,n)=>{var r=n(4354),o=n(9632),i=Math.min;e.exports=function(e,t){for(var n=e.length,a=i(t.length,n),s=r(e);a--;){var c=t[a];e[a]=o(c,n)?s[c]:void 0}return e}},8813:e=>{var t="__lodash_placeholder__";e.exports=function(e,n){for(var r=-1,o=e.length,i=0,a=[];++r<o;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[i++]=r)}return a}},8942:(e,t,n)=>{var r=n(4967),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},1877:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},8006:e=>{e.exports=function(e){return this.__data__.has(e)}},5512:(e,t,n)=>{var r=n(4943),o=n(3316)(r);e.exports=o},9828:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},796:(e,t,n)=>{var r=n(7403),o=n(3316)(r);e.exports=o},5620:(e,t,n)=>{var r=n(8788),o=n(9141),i=n(796),a=n(33);e.exports=function(e,t,n){var s=t+"";return i(e,o(s,a(r(s),n)))}},3316:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},4103:(e,t,n)=>{var r=n(1386);e.exports=function(){this.__data__=new r,this.size=0}},1779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},4162:e=>{e.exports=function(e){return this.__data__.get(e)}},7462:e=>{e.exports=function(e){return this.__data__.has(e)}},6638:(e,t,n)=>{var r=n(1386),o=n(9770),i=n(8250);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},7706:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},6493:(e,t,n)=>{var r=n(6853),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},6040:(e,t,n)=>{var r=n(1187);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},4066:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},2945:e=>{var t=/\\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},33:(e,t,n)=>{var r=n(9968),o=n(9756),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(i,(function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)})),e.sort()}},3410:(e,t,n)=>{var r=n(7553),o=n(528),i=n(4354);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},5353:(e,t,n)=>{var r=n(8638);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},2846:(e,t,n)=>{var r=n(9334);e.exports=function(e){return r(e,4)}},2619:e=>{e.exports=function(e){return function(){return e}}},7336:(e,t,n)=>{var r=n(8638);function o(e,t,n){var i=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},2784:(e,t,n)=>{var r=n(1580),o=n(4495),i=n(6131),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,d,f,p,h=0,g=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=c,r=u;return c=u=void 0,h=t,d=e.apply(r,n)}function w(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-h>=l}function A(){var e=o();if(w(e))return b(e);f=setTimeout(A,function(e){var n=t-(e-p);return m?s(n,l-(e-h)):n}(e))}function b(e){return f=void 0,y&&c?v(e):(c=u=void 0,d)}function S(){var e=o(),n=w(e);if(c=arguments,u=this,p=e,n){if(void 0===f)return function(e){return h=e,f=setTimeout(A,t),g?v(e):d}(p);if(m)return clearTimeout(f),f=setTimeout(A,t),v(p)}return void 0===f&&(f=setTimeout(A,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(m="maxWait"in n)?a(i(n.maxWait)||0,t):l,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==f&&clearTimeout(f),h=0,c=p=u=f=void 0},S.flush=function(){return void 0===f?d:b(o())},S}},6285:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5857:(e,t,n)=>{var r=n(313);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},2879:(e,t,n)=>{var r=n(1942)();e.exports=r},3579:(e,t,n)=>{var r=n(3565),o=n(2991),i=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,u,l){var d="function"==typeof n,f=n===Object(n);if(f&&(l=u,u=n,n=void 0),null==u)throw new TypeError;l||(l={});var p={cap:!("cap"in l)||l.cap,curry:!("curry"in l)||l.curry,fixed:!("fixed"in l)||l.fixed,immutable:!("immutable"in l)||l.immutable,rearg:!("rearg"in l)||l.rearg},h=d?u:o,g="curry"in l&&l.curry,m="fixed"in l&&l.fixed,y="rearg"in l&&l.rearg,v=d?u.runInContext():void 0,w=d?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},A=w.ary,b=w.assign,S=w.clone,E=w.curry,x=w.forEach,T=w.isArray,k=w.isError,I=w.isFunction,O=w.isWeakMap,B=w.keys,C=w.rearg,R=w.toInteger,j=w.toPath,N=B(r.aryMethod),P={castArray:function(e){return function(){var t=arguments[0];return T(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return p.cap&&"number"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!I(n))return e(n,Object(t));var r=[];return x(B(t),(function(e){I(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),x(r,(function(e){var t=e[1];I(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:R(t)+1;return E(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return E(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),l)}}};function _(e,t){if(p.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return F(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(C(a(e,n),t),n)}))}(t,n);var o=!d&&r.iterateeAry[e];if(o)return function(e,t){return F(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,o)}return t}function M(e,t,n){if(p.fixed&&(m||!r.skipFixed[e])){var o=r.methodSpread[e],a=o&&o.start;return void 0===a?A(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=r&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function L(e,t,n){return p.rearg&&n>1&&(y||!r.skipRearg[e])?C(t,r.methodRearg[e]||r.aryRearg[n]):t}function U(e,t){for(var n=-1,r=(t=j(t)).length,o=r-1,i=S(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],c=a[s];null==c||I(c)||k(c)||O(c)||(a[s]=S(n==o?c:Object(c))),a=a[s]}return i}function z(t,n){var o=r.aliasToReal[t]||t,i=r.remap[o]||o,a=l;return function(t){var r=d?v:w,s=d?v[i]:n,c=b(b({},a),t);return e(r,o,s,c)}}function F(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=p.rearg?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function D(e,t,n){var o,i=r.aliasToReal[e]||e,a=t,u=P[i];return u?a=u(t):p.immutable&&(r.mutate.array[i]?a=c(t,s):r.mutate.object[i]?a=c(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(a=c(t,U))),x(N,(function(e){return x(r.aryMethod[e],(function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return o=s?M(i,L(i,a,e),e):L(i,M(i,a,e),e),o=function(e,t,n){return g||p.curry&&n>1?E(t,n):t}(0,o=_(i,o),e),!1}})),!o})),o||(o=a),o==t&&(o=g?E(o,1):function(){return t.apply(this,arguments)}),o.convert=z(i,t),o.placeholder=t.placeholder=n,o}if(!f)return D(n,u,h);var $=u,q=[];return x(N,(function(e){x(r.aryMethod[e],(function(e){var t=$[r.remap[e]||e];t&&q.push([e,D(e,t,$)])}))})),x(B($),(function(e){var t=$[e];if("function"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=z(e,t),q.push([e,t])}})),x(q,(function(e){$[e[0]]=e[1]})),$.convert=function(e){return $.runInContext.convert(e)(void 0)},$.placeholder=$,x(B($),(function(e){x(r.realToAlias[e]||[],(function(t){$[t]=$[e]}))})),$}},3565:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},8055:(e,t,n)=>{e.exports={ary:n(5353),assign:n(7930),clone:n(2846),curry:n(7336),forEach:n(9968),isArray:n(3142),isError:n(441),isFunction:n(3655),isWeakMap:n(7769),iteratee:n(2590),keys:n(195),rearg:n(864),toInteger:n(7642),toPath:n(2613)}},2673:(e,t,n)=>{var r=n(3579),o=n(8055);e.exports=function(e,t,n){return r(o,e,t,n)}},4255:(e,t,n)=>{var r=n(2673)("debounce",n(2784));r.placeholder=n(2991),e.exports=r},3092:(e,t,n)=>{var r=n(2673)("flow",n(2879));r.placeholder=n(2991),e.exports=r},3804:(e,t,n)=>{e.exports=n(3092)},2991:e=>{e.exports={}},6123:(e,t,n)=>{var r=n(7923);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},7276:(e,t,n)=>{var r=n(3636),o=n(5899);e.exports=function(e,t){return null!=e&&o(e,t,r)}},2053:e=>{e.exports=function(e){return e}},3283:(e,t,n)=>{var r=n(6027),o=n(547),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},3142:e=>{var t=Array.isArray;e.exports=t},6529:(e,t,n)=>{var r=n(3655),o=n(5387);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},5853:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=n(4772),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},441:(e,t,n)=>{var r=n(7379),o=n(547),i=n(8360);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},3655:(e,t,n)=>{var r=n(7379),o=n(1580);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},5387:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},7681:(e,t,n)=>{var r=n(777),o=n(9460),i=n(2306),a=i&&i.isMap,s=a?o(a):r;e.exports=s},1580:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},547:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8360:(e,t,n)=>{var r=n(7379),o=n(4784),i=n(547),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},3943:(e,t,n)=>{var r=n(1935),o=n(9460),i=n(2306),a=i&&i.isSet,s=a?o(a):r;e.exports=s},1187:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},8666:(e,t,n)=>{var r=n(674),o=n(9460),i=n(2306),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},7769:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&"[object WeakMap]"==r(e)}},2590:(e,t,n)=>{var r=n(9334),o=n(3334);e.exports=function(e){return o("function"==typeof e?e:r(e,1))}},1211:(e,t,n)=>{var r=n(358),o=n(195),i=n(6529);e.exports=function(e){return i(e)?r(e):o(e)}},5288:(e,t,n)=>{var r=n(358),o=n(7200),i=n(6529);e.exports=function(e){return i(e)?r(e,!0):o(e)}},9011:(e,t,n)=>{var r=n(8250);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},9071:e=>{e.exports=function(){}},4495:(e,t,n)=>{var r=n(8942);e.exports=function(){return r.Date.now()}},3282:(e,t,n)=>{var r=n(2762),o=n(8880),i=n(5187),a=n(6040);e.exports=function(e){return i(e)?r(a(e)):o(e)}},864:(e,t,n)=>{var r=n(8638),o=n(1439),i=o((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=i},9306:e=>{e.exports=function(){return[]}},4772:e=>{e.exports=function(){return!1}},3301:(e,t,n)=>{var r=n(6131),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7642:(e,t,n)=>{var r=n(3301);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},6131:(e,t,n)=>{var r=n(6403),o=n(1580),i=n(1187),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},2613:(e,t,n)=>{var r=n(5111),o=n(4354),i=n(3142),a=n(1187),s=n(6493),c=n(6040),u=n(5243);e.exports=function(e){return i(e)?r(e,c):a(e)?[e]:o(s(u(e)))}},5243:(e,t,n)=>{var r=n(2291);e.exports=function(e){return null==e?"":r(e)}},3321:(e,t,n)=>{var r=n(7553),o=n(528),i=n(5962),a=n(3142),s=n(547),c=n(3410),u=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(u.call(e,"__wrapped__"))return c(e)}return new o(e)}l.prototype=i.prototype,l.prototype.constructor=l,e.exports=l}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{"use strict";n.r(r),n.d(r,{onAssetsConversion:()=>jm,onAssetsLookup:()=>Rm,onCronjob:()=>Cm,onKeyringRequest:()=>Om,onProtocolRequest:()=>Nm,onRpcRequest:()=>Im,onUserInput:()=>Bm});var e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";(()=>{const t=Array(256).fill(-1);for(let n=0;n<58;++n)t[e.charCodeAt(n)]=n})();var t,o,i,a=(t=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function o(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+e+")";t=o(t)^r>>5}t=o(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=o(t)^31&r}return t}function a(e,t,n,r){let o=0,i=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(o=o<<t|e[r],i+=t;i>=n;)i-=n,s.push(o>>i&a);if(r)i>0&&s.push(o<<n-i&a);else{if(i>=t)return"Excess padding";if(o<<n-i&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+" too short";if(e.length>n)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let d=i(u);if("string"==typeof d)return d;const f=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return"Unknown character "+t;d=o(d)^n,e+6>=l.length||f.push(n)}return d!==t?"Invalid checksum for "+e:{prefix:u,words:f}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if("object"==typeof n)return n},decode:function(e,t){const n=a(e,t);if("object"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError("Exceeds length limit");let s=i(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error("Non 5-bit word");s=o(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=o(s);s^=t;for(let e=0;e<6;++e)c+=n.charAt(s>>5*(5-e)&31);return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l("bech32"),t.bech32m=l("bech32m")},t(o={exports:{}},o.exports),o.exports);(i=a)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")&&i.default;a.bech32m,a.bech32;new Int32Array(64);new Uint8Array(new Uint16Array([65279]).buffer)[0];var s,c;!function(e){e.mainnet="mainnet",e.testnet="testnet",e.regtest="regtest"}(s||(s={})),function(e){e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr"}(c||(c={}));c.p2pkh,s.mainnet,c.p2pkh,s.testnet,c.p2sh,s.mainnet,c.p2sh,s.testnet;class u extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function l(e){return"object"==typeof e&&null!==e}function d(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function f(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:""}, but received: \\`${d(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*p(e,t,n,r){(function(e){return l(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=f(o,t,n,r);e&&(yield e)}}function*h(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&"type"!==t.type&&l(t.schema)&&l(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,s))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[u,d,f]of t.entries(e,s)){const t=h(d,f,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,d],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):i&&(d=n[1],void 0===u?e=d:e instanceof Map?e.set(u,d):e instanceof Set?e.add(d):l(e)&&(void 0!==d||u in e)&&(e[u]=d))}if("not_valid"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class g{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>p(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>p(o(e,t),t,this,e):()=>[]}assert(e,t){return m(e,this,t)}create(e,t){return y(e,this,t)}is(e){return v(e,this)}mask(e,t){return function(e,t,n){const r=w(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return w(e,this,t)}}function m(e,t,n){const r=w(e,t,{message:n});if(r[0])throw r[0]}function y(e,t,n){const r=w(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function v(e,t){return!w(e,t)[0]}function w(e,t,n={}){const r=h(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new u(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function A(){return U("any",(()=>!0))}function b(e){return new g({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${d(e)}`})}function S(){return U("bigint",(e=>"bigint"==typeof e))}function E(){return U("boolean",(e=>"boolean"==typeof e))}function x(e){const t={},n=e.map((e=>d(e))).join();for(const n of e)t[n]=n;return new g({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \\`${n}\\`, but received: ${d(t)}`})}function T(){return U("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${d(e)}`))}function k(e){const t=d(e),n=typeof e;return new g({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${d(n)}`})}function I(){return U("never",(()=>!1))}function O(e){return new g({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function B(){return U("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${d(e)}`))}function C(e){const t=e?Object.keys(e):[],n=I();return new g({type:"object",schema:e??null,*entries(r){if(e&&l(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>l(e)||`Expected an object, but received: ${d(e)}`,coercer:e=>l(e)?{...e}:e})}function R(e){return new g({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function j(e,t){return new g({type:"record",schema:null,*entries(n){if(l(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>l(e)||`Expected an object, but received: ${d(e)}`})}function N(){return U("string",(e=>"string"==typeof e||`Expected a string, but received: ${d(e)}`))}function P(e){const t=Object.keys(e);return new g({type:"type",schema:e,*entries(n){if(l(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>l(e)||`Expected an object, but received: ${d(e)}`,coercer:e=>l(e)?{...e}:e})}function _(e){const t=e.map((e=>e.type)).join(" | ");return new g({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=h(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${d(n)}`,...o]}})}function M(){return U("unknown",(()=>!0))}function L(...e){const t="type"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?P(r):C(r)}function U(e,t){return new g({type:e,schema:null,validator:t})}function z(e,t){return U(e,(e=>"string"==typeof e&&t.test(e)))}const F=z("UuidV4",/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu),D=F,$=U("Url",(e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}})),q=z("StringNumber",/^\\d+(\\.\\d+)?$/u);function W(e){return C(e)}function V(e){return e.path[e.path.length-1]in e.branch[e.branch.length-2]}function K(e){return new g({...e,validator:(t,n)=>!V(n)||e.validator(t,n),refiner:(t,n)=>!V(n)||e.refiner(t,n)})}function G(e,t,n){return new g({...e,coercer:(r,o)=>v(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function H(e){return e instanceof Map||e instanceof Set?e.size:e.length}function J(e){return Y(e,"nonempty",(t=>H(t)>0||`Expected a nonempty ${e.type} but received an empty one`))}function Z(e,t){return Y(e,"pattern",(n=>t.test(n)||`Expected a ${e.type} matching \\`/${t.source}/\\` but received "${n}"`))}function Y(e,t,n){return new g({...e,*refiner(r,o){yield*e.refiner(r,o);const i=p(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const Q=(e,t)=>Object.hasOwnProperty.call(e,t);var X;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(X=X||(X={}));const ee=e=>C(e);function te({path:e,branch:t}){const n=e[e.length-1];return Q(t[t.length-2],n)}function ne(e){return new g({...e,type:`optional ${e.type}`,validator:(t,n)=>!te(n)||e.validator(t,n),refiner:(t,n)=>!te(n)||e.refiner(t,n)})}function re(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!re(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!re(n[e][1])){t=!1;break}return t}return!1}const oe=U("JSON",(e=>re(e))),ie=G(oe,Y(A(),"JSON",(e=>v(e,oe))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));const ae=k("2.0"),se=O(_([B(),N()])),ce=ee({code:T(),message:N(),data:ne(ie),stack:ne(N())}),ue=_([j(N(),ie),b(ie)]);ee({id:se,jsonrpc:ae,method:N(),params:ne(ue)}),ee({jsonrpc:ae,method:N(),params:ne(ue)});C({id:se,jsonrpc:ae,result:R(M()),error:R(ce)});const le=ee({id:se,jsonrpc:ae,result:ie}),de=ee({id:se,jsonrpc:ae,error:ce});_([le,de]);const fe=W({jsonrpc:k("2.0"),id:_([N(),B(),k(null)]),method:N(),params:K(_([b(ie),j(N(),ie)]))});const pe=(e,t)=>Object.hasOwnProperty.call(e,t);var he;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(he=he||(he={}));const ge=e=>C(e);function me({path:e,branch:t}){const n=e[e.length-1];return pe(t[t.length-2],n)}function ye(e){return new g({...e,type:`optional ${e.type}`,validator:(t,n)=>!me(n)||e.validator(t,n),refiner:(t,n)=>!me(n)||e.refiner(t,n)})}function ve(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!ve(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!ve(n[e][1])){t=!1;break}return t}return!1}const we=U("JSON",(e=>ve(e))),Ae=G(we,Y(A(),"JSON",(e=>v(e,we))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));const be=k("2.0"),Se=O(_([B(),N()])),Ee=ge({code:T(),message:N(),data:ye(Ae),stack:ye(N())}),xe=_([j(N(),Ae),b(Ae)]);ge({id:Se,jsonrpc:be,method:N(),params:ye(xe)}),ge({jsonrpc:be,method:N(),params:ye(xe)});C({id:Se,jsonrpc:be,result:R(M()),error:R(Ee)});const Te=ge({id:Se,jsonrpc:be,result:Ae}),ke=ge({id:Se,jsonrpc:be,error:Ee});_([Te,ke]);function Ie(e,t){return U(e,(e=>"string"==typeof e&&t.test(e)))}const Oe=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Be=/^[-a-z0-9]{3,8}$/u,Ce=/^[-_a-zA-Z0-9]{1,32}$/u,Re=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,je=/^[-.%a-zA-Z0-9]{1,128}$/u,Ne=/^[-a-z0-9]{3,8}$/u,Pe=/^[-.%a-zA-Z0-9]{1,128}$/u,_e=/^[-.%a-zA-Z0-9]{1,78}$/u,Me=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,Le=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,Ue=Ie("CaipChainId",Oe),ze=(Ie("CaipNamespace",Be),Ie("CaipReference",Ce),Ie("CaipAccountId",Re)),Fe=(Ie("CaipAccountAddress",je),Ie("CaipAssetNamespace",Ne),Ie("CaipAssetReference",Pe),Ie("CaipTokenId",_e),Ie("CaipAssetType",Me)),De=Ie("CaipAssetId",Le),$e=Ie("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var qe,We,Ve,Ke;!function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(qe=qe||(qe={})),function(e){e.Eoa="eip155:eoa",e.Erc4337="eip155:erc4337"}(We||(We={})),function(e){e.P2wpkh="bip122:p2wpkh"}(Ve||(Ve={})),function(e){e.DataAccount="solana:data-account"}(Ke||(Ke={}));const Ge=W({id:D,type:x([`${We.Eoa}`,`${We.Erc4337}`,`${Ve.P2wpkh}`,`${Ke.DataAccount}`]),address:N(),scopes:J(b(Ue)),options:j(N(),Ae),methods:b(N())}),He=(C({address:ze}),W({unit:N(),amount:q})),Je=W({fungible:k(!0),type:Fe,...He.schema}),Ze=W({fungible:k(!1),id:De}),Ye=(Qe=e=>function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(e)&&!e.fungible?Ze:Je,new g({type:"union",schema:null,*entries(e,t){yield*Qe(e).entries(e,t)},*refiner(e,t){yield*Qe(e).refiner(e,t)},coercer:(e,t)=>Qe(e).coercer(e,t),validator:(e,t)=>Qe(e).validator(e,t)}));var Qe;const Xe=W({amount:q,unit:N()}),et=(j(N(),Ae),W({id:F,scope:N(),account:F,request:W({method:N(),params:K(_([b(Ae),j(N(),Ae)]))})})),tt=(_([W({pending:k(!0),redirect:K(W({message:K(N()),url:K(N())}))}),W({pending:k(!1),result:Ae})]),W({address:N(),asset:O(Ye)}));var nt;!function(e){e.Base="base",e.Priority="priority"}(nt||(nt={}));const rt=W({type:x([`${nt.Base}`,`${nt.Priority}`]),asset:Ye});var ot,it;!function(e){e.Submitted="submitted",e.Unconfirmed="unconfirmed",e.Confirmed="confirmed",e.Failed="failed"}(ot||(ot={})),function(e){e.Send="send",e.Receive="receive",e.Swap="swap"}(it||(it={}));const at=W({status:x([`${ot.Submitted}`,`${ot.Unconfirmed}`,`${ot.Confirmed}`,`${ot.Failed}`]),timestamp:O(B())}),st=W({id:N(),chain:Ue,account:F,status:x([`${ot.Submitted}`,`${ot.Unconfirmed}`,`${ot.Confirmed}`,`${ot.Failed}`]),timestamp:O(B()),type:x([`${it.Send}`,`${it.Receive}`,`${it.Swap}`]),from:b(tt),to:b(tt),fees:b(rt),events:b(at)}),ct=(W({data:b(st),next:O(N())}),W({limit:B(),next:K(O(N()))}));var ut;!function(e){e.Mainnet="bip122:000000000019d6689c085ae165831e93",e.Testnet="bip122:000000000933ea01ad0ee984209779ba",e.Testnet4="bip122:00000000da84f2bafbbc53dee25a72ae",e.Signet="bip122:00000008819873e925422c1ff0f99f7c",e.Regtest="bip122:regtest"}(ut||(ut={}));var lt=n(6586);const dt=Y(N(),"BtcP2wpkhAddressStruct",(e=>{try{lt.I.decode(e)}catch(e){return new Error(`Could not decode P2WPKH address: ${e.message}`)}return!0}));var ft;!function(e){e.SendBitcoin="sendBitcoin"}(ft||(ft={}));W({...Ge.schema,address:dt,type:k(`${Ve.P2wpkh}`),scopes:function(e,t,n=t){const r=`Expected a ${e.type}`,o=t===n?`of \\`${t}\\``:`between \\`${t}\\` and \\`${n}\\``;return Y(e,"size",(e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=n||`${r} ${o} but received \\`${e}\\``;if(e instanceof Map||e instanceof Set){const{size:i}=e;return t<=i&&i<=n||`${r} with a size ${o} but received one with a size of \\`${i}\\``}const{length:i}=e;return t<=i&&i<=n||`${r} with a length ${o} but received one with a length of \\`${i}\\``}))}(b(Ue),1),methods:b(x([`${ft.SendBitcoin}`]))});var pt;!function(e){e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}(pt||(pt={}));const ht=Ie("SolAddress",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu);var gt;!function(e){e.SendAndConfirmTransaction="sendAndConfirmTransaction",e.SignAndSendTransaction="signAndSendTransaction",e.SignTransaction="signTransaction",e.SignMessage="signMessage",e.SignIn="signIn"}(gt||(gt={}));W({...Ge.schema,address:ht,type:k(`${Ke.DataAccount}`),scopes:J(b(Ue)),methods:b(x(Object.values(gt)))});var mt;!function(e){e.Eoa="eip155:0",e.Mainnet="eip155:1",e.Testnet="eip155:11155111"}(mt||(mt={}));const yt=Ie("EthBytes",/^0x[0-9a-f]*$/iu),vt=Ie("EthAddress",/^0x[0-9a-f]{40}$/iu),wt=Ie("EthUint256",/^0x([1-9a-f][0-9a-f]*|0)$/iu);var At;!function(e){e.PersonalSign="personal_sign",e.Sign="eth_sign",e.SignTransaction="eth_signTransaction",e.SignTypedDataV1="eth_signTypedData_v1",e.SignTypedDataV3="eth_signTypedData_v3",e.SignTypedDataV4="eth_signTypedData_v4",e.PrepareUserOperation="eth_prepareUserOperation",e.PatchUserOperation="eth_patchUserOperation",e.SignUserOperation="eth_signUserOperation"}(At||(At={}));W({...Ge.schema,address:vt,type:k(`${We.Eoa}`),scopes:J(b(k(mt.Eoa))),methods:b(x([`${At.PersonalSign}`,`${At.Sign}`,`${At.SignTransaction}`,`${At.SignTypedDataV1}`,`${At.SignTypedDataV3}`,`${At.SignTypedDataV4}`]))}),W({...Ge.schema,address:vt,type:k(`${We.Erc4337}`),scopes:J(b(Ue)),methods:b(x([`${At.PersonalSign}`,`${At.Sign}`,`${At.SignTypedDataV1}`,`${At.SignTypedDataV3}`,`${At.SignTypedDataV4}`,`${At.PrepareUserOperation}`,`${At.PatchUserOperation}`,`${At.SignUserOperation}`]))}),W({sender:vt,nonce:wt,initCode:yt,callData:yt,callGasLimit:wt,verificationGasLimit:wt,preVerificationGas:wt,maxFeePerGas:wt,maxPriorityFeePerGas:wt,paymasterAndData:yt,signature:yt}),W({to:vt,value:wt,data:yt}),W({nonce:wt,initCode:yt,callData:yt,gasLimits:K(W({callGasLimit:wt,verificationGasLimit:wt,preVerificationGas:wt})),dummyPaymasterAndData:yt,dummySignature:yt,bundlerUrl:$}),W({paymasterAndData:yt,callGasLimit:K(wt),verificationGasLimit:K(wt),preVerificationGas:K(wt)});var bt;!function(e){e.ListAccounts="keyring_listAccounts",e.GetAccount="keyring_getAccount",e.CreateAccount="keyring_createAccount",e.ListAccountAssets="keyring_listAccountAssets",e.ListAccountTransactions="keyring_listAccountTransactions",e.GetAccountBalances="keyring_getAccountBalances",e.ResolveAccountAddress="keyring_resolveAccountAddress",e.FilterAccountChains="keyring_filterAccountChains",e.UpdateAccount="keyring_updateAccount",e.DeleteAccount="keyring_deleteAccount",e.ExportAccount="keyring_exportAccount",e.ListRequests="keyring_listRequests",e.GetRequest="keyring_getRequest",e.SubmitRequest="keyring_submitRequest",e.ApproveRequest="keyring_approveRequest",e.RejectRequest="keyring_rejectRequest"}(bt||(bt={}));const St={jsonrpc:k("2.0"),id:_([N(),B(),k(null)])},Et=W({...St,method:k("keyring_listAccounts")}),xt=(b(Ge),W({...St,method:k("keyring_getAccount"),params:W({id:F})})),Tt=W({...St,method:k("keyring_createAccount"),params:W({options:j(N(),Ae)})}),kt=W({...St,method:k("keyring_listAccountTransactions"),params:W({id:F,pagination:ct})}),It=W({...St,method:k("keyring_listAccountAssets"),params:W({id:F})}),Ot=b($e),Bt=W({...St,method:k(`${bt.GetAccountBalances}`),params:W({id:F,assets:b(Fe)})}),Ct=(j(Fe,Xe),W({...St,method:k("keyring_resolveAccountAddress"),params:W({scope:Ue,request:fe})})),Rt=(O(W({address:ze})),W({...St,method:k("keyring_filterAccountChains"),params:W({id:F,chains:b(N())})})),jt=(b(N()),W({...St,method:k("keyring_updateAccount"),params:W({account:Ge})})),Nt=(k(null),W({...St,method:k("keyring_deleteAccount"),params:W({id:F})})),Pt=(k(null),W({...St,method:k("keyring_exportAccount"),params:W({id:F})})),_t=W({...St,method:k("keyring_listRequests")}),Mt=(b(et),W({...St,method:k("keyring_getRequest"),params:W({id:F})})),Lt=W({...St,method:k("keyring_submitRequest"),params:et}),Ut=W({...St,method:k("keyring_approveRequest"),params:W({id:F,data:j(N(),Ae)})}),zt=(k(null),W({...St,method:k("keyring_rejectRequest"),params:W({id:F})}));k(null);var Ft;!function(e){e.AccountCreated="notify:accountCreated",e.AccountUpdated="notify:accountUpdated",e.AccountDeleted="notify:accountDeleted",e.RequestApproved="notify:requestApproved",e.RequestRejected="notify:requestRejected",e.AccountBalancesUpdated="notify:accountBalancesUpdated",e.AccountAssetListUpdated="notify:accountAssetListUpdated",e.AccountTransactionsUpdated="notify:accountTransactionsUpdated"}(Ft||(Ft={}));W({method:k(`${Ft.AccountCreated}`),params:W({account:Ge,accountNameSuggestion:K(N()),displayConfirmation:K(E()),displayAccountNameSuggestion:K(E())})}),W({method:k(`${Ft.AccountUpdated}`),params:W({account:Ge})}),W({method:k(`${Ft.AccountDeleted}`),params:W({id:F})}),W({method:k(`${Ft.RequestApproved}`),params:W({id:F,result:Ae})}),W({method:k(`${Ft.RequestRejected}`),params:W({id:F})}),W({method:k(`${Ft.AccountBalancesUpdated}`),params:W({balances:j(D,j(Fe,He))})}),W({method:k(`${Ft.AccountTransactionsUpdated}`),params:W({transactions:j(D,b(st))})}),W({method:k(`${Ft.AccountAssetListUpdated}`),params:W({assets:j(D,W({added:b($e),removed:b($e)}))})});class Dt extends Error{constructor(e){super(`Method not supported: ${e}`)}}async function $t(e,t){try{return await async function(e,t){switch(m(t,fe),t.method){case`${bt.ListAccounts}`:return m(t,Et),e.listAccounts();case`${bt.GetAccount}`:return m(t,xt),e.getAccount(t.params.id);case`${bt.CreateAccount}`:return m(t,Tt),e.createAccount(t.params.options);case`${bt.ListAccountTransactions}`:if(void 0===e.listAccountTransactions)throw new Dt(t.method);return m(t,kt),e.listAccountTransactions(t.params.id,t.params.pagination);case`${bt.ListAccountAssets}`:if(void 0===e.listAccountAssets)throw new Dt(t.method);return m(t,It),e.listAccountAssets(t.params.id);case`${bt.GetAccountBalances}`:if(void 0===e.getAccountBalances)throw new Dt(t.method);return m(t,Bt),e.getAccountBalances(t.params.id,t.params.assets);case`${bt.ResolveAccountAddress}`:if(void 0===e.resolveAccountAddress)throw new Dt(t.method);return m(t,Ct),e.resolveAccountAddress(t.params.scope,t.params.request);case`${bt.FilterAccountChains}`:return m(t,Rt),e.filterAccountChains(t.params.id,t.params.chains);case`${bt.UpdateAccount}`:return m(t,jt),e.updateAccount(t.params.account);case`${bt.DeleteAccount}`:return m(t,Nt),e.deleteAccount(t.params.id);case`${bt.ExportAccount}`:if(void 0===e.exportAccount)throw new Dt(t.method);return m(t,Pt),e.exportAccount(t.params.id);case`${bt.ListRequests}`:if(void 0===e.listRequests)throw new Dt(t.method);return m(t,_t),e.listRequests();case`${bt.GetRequest}`:if(void 0===e.getRequest)throw new Dt(t.method);return m(t,Mt),e.getRequest(t.params.id);case`${bt.SubmitRequest}`:return m(t,Lt),e.submitRequest(t.params);case`${bt.ApproveRequest}`:if(void 0===e.approveRequest)throw new Dt(t.method);return m(t,Ut),e.approveRequest(t.params.id,t.params.data);case`${bt.RejectRequest}`:if(void 0===e.rejectRequest)throw new Dt(t.method);return m(t,zt),e.rejectRequest(t.params.id);default:throw new Dt(t.method)}}(e,t)}catch(e){const t=e instanceof Error&&"string"==typeof e.message?e.message:"An unknown error occurred while handling the keyring request";throw new Error(t)}}async function qt(e,t,n){await e.request({method:"snap_manageAccounts",params:{method:t,params:{...n}}})}function Wt(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}const Vt=(e,t)=>Object.hasOwnProperty.call(e,t);var Kt;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(Kt=Kt||(Kt={}));var Gt=n(282);const Ht=e=>C(e);function Jt({path:e,branch:t}){const n=e[e.length-1];return Vt(t[t.length-2],n)}function Zt(e){return new g({...e,type:`optional ${e.type}`,validator:(t,n)=>!Jt(n)||e.validator(t,n),refiner:(t,n)=>!Jt(n)||e.refiner(t,n)})}function Yt(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Yt(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!Yt(n[e][1])){t=!1;break}return t}return!1}const Qt=U("JSON",(e=>Yt(e))),Xt=G(Qt,Y(A(),"JSON",(e=>v(e,Qt))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));function en(e){try{return function(e){y(e,Xt)}(e),!0}catch{return!1}}const tn=k("2.0"),nn=O(_([B(),N()])),rn=Ht({code:T(),message:N(),data:Zt(Xt),stack:Zt(N())}),on=_([j(N(),Xt),b(Xt)]);Ht({id:nn,jsonrpc:tn,method:N(),params:Zt(on)}),Ht({jsonrpc:tn,method:N(),params:Zt(on)});C({id:nn,jsonrpc:tn,result:R(M()),error:R(rn)});const an=Ht({id:nn,jsonrpc:tn,result:Xt}),sn=Ht({id:nn,jsonrpc:tn,error:rn});_([an,sn]);const cn={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},un={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},ln={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},dn=cn.internal,fn="Unspecified error message. This is a bug, please report it.",pn=(hn(dn),"Unspecified server error.");function hn(e,t=fn){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(Vt(ln,t))return ln[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return pn}return t}function gn(e){return Array.isArray(e)?e.map((e=>en(e)?e:Wt(e)?mn(e):null)):Wt(e)?mn(e):en(e)?e:null}function mn(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return en(r)&&(t[n]=r),t}),{})}const yn=(vn=Gt,vn?.__esModule?vn.default:vn);var vn;class wn extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error(\'"code" must be an integer.\');if(!t||"string"!=typeof t)throw new Error(\'"message" must be a non-empty string.\');!function(e){return Wt(e)&&Vt(e,"cause")&&Wt(e.cause)}(n)?super(t):(super(t,{cause:n.cause}),Vt(this,"cause")||Object.assign(this,{cause:n.cause})),void 0!==n&&(this.data=n),this.code=e}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(this.data)&&(e.data.cause=gn(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return yn(this.serialize(),bn,2)}}class An extends wn{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error(\'"code" must be an integer such that: 1000 <= code <= 4999\');super(e,t,n)}}function bn(e,t){if("[Circular]"!==t)return t}const Sn=e=>Un(cn.parse,e),En=e=>Un(cn.invalidRequest,e),xn=e=>Un(cn.invalidParams,e),Tn=e=>Un(cn.methodNotFound,e),kn=e=>Un(cn.internal,e),In=e=>Un(cn.invalidInput,e),On=e=>Un(cn.resourceNotFound,e),Bn=e=>Un(cn.resourceUnavailable,e),Cn=e=>Un(cn.transactionRejected,e),Rn=e=>Un(cn.methodNotSupported,e),jn=e=>Un(cn.limitExceeded,e),Nn=e=>zn(un.userRejectedRequest,e),Pn=e=>zn(un.unauthorized,e),_n=e=>zn(un.unsupportedMethod,e),Mn=e=>zn(un.disconnected,e),Ln=e=>zn(un.chainDisconnected,e);function Un(e,t){const[n,r]=Fn(t);return new wn(e,n??hn(e),r)}function zn(e,t){const[n,r]=Fn(t);return new An(e,n??hn(e),r)}function Fn(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t??void 0,n]}}return[]}function Dn(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}const $n=(e,t)=>Object.hasOwnProperty.call(e,t);var qn;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(qn=qn||(qn={}));const Wn=e=>C(e);function Vn({path:e,branch:t}){const n=e[e.length-1];return $n(t[t.length-2],n)}function Kn(e){return new g({...e,type:`optional ${e.type}`,validator:(t,n)=>!Vn(n)||e.validator(t,n),refiner:(t,n)=>!Vn(n)||e.refiner(t,n)})}function Gn(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Gn(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!Gn(n[e][1])){t=!1;break}return t}return!1}const Hn=U("JSON",(e=>Gn(e))),Jn=G(Hn,Y(A(),"JSON",(e=>v(e,Hn))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t})))));function Zn(e){try{return function(e){y(e,Jn)}(e),!0}catch{return!1}}const Yn=k("2.0"),Qn=O(_([B(),N()])),Xn=Wn({code:T(),message:N(),data:Kn(Jn),stack:Kn(N())}),er=_([j(N(),Jn),b(Jn)]);Wn({id:Qn,jsonrpc:Yn,method:N(),params:Kn(er)}),Wn({jsonrpc:Yn,method:N(),params:Kn(er)});C({id:Qn,jsonrpc:Yn,result:R(M()),error:R(Xn)});const tr=Wn({id:Qn,jsonrpc:Yn,result:Jn}),nr=Wn({id:Qn,jsonrpc:Yn,error:Xn});_([tr,nr]);function rr(e){return Dn(e)&&$n(e,"data")&&"object"==typeof e.data&&null!==e.data&&Zn(e.data)&&!Array.isArray(e.data)?e.data:{}}var or,ir,ar,sr,cr=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},ur=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class lr extends Error{constructor(e,t={}){const n=function(e){return Dn(e)&&$n(e,"message")&&"string"==typeof e.message?e.message:String(e)}(e);super(n),or.set(this,void 0),ir.set(this,void 0),ar.set(this,void 0),sr.set(this,void 0),cr(this,ir,n,"f"),cr(this,or,function(e){return Dn(e)&&$n(e,"code")&&"number"==typeof e.code&&Number.isInteger(e.code)?e.code:-32603}(e),"f");const r={...rr(e),...t};Object.keys(r).length>0&&cr(this,ar,r,"f"),cr(this,sr,super.stack,"f")}get name(){return"SnapError"}get code(){return ur(this,or,"f")}get message(){return ur(this,ir,"f")}get data(){return ur(this,ar,"f")}get stack(){return ur(this,sr,"f")}toJSON(){return{code:-31002,message:"Snap Error",data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}}function dr(e){return class extends lr{constructor(t,n){if("object"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}or=new WeakMap,ir=new WeakMap,ar=new WeakMap,sr=new WeakMap;const fr=dr(kn),pr=dr(In),hr=dr(xn),gr=dr(En),mr=dr(jn),yr=dr(Tn),vr=dr(Rn),wr=dr(Sn),Ar=dr(On),br=dr(Bn),Sr=dr(Cn),Er=dr(Ln),xr=dr(Mn),Tr=dr(Pn),kr=dr(_n),Ir=dr(Nn);var Or=/^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,Br=Math.ceil,Cr=Math.floor,Rr="[BigNumber Error] ",jr=Rr+"Number primitive has more than 15 significant digits: ",Nr=1e14,Pr=14,_r=9007199254740991,Mr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Lr=1e7,Ur=1e9;function zr(e){var t=0|e;return e>0||e===t?t:t-1}function Fr(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=Pr-t.length;n--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function Dr(e,t){var n,r,o=e.c,i=t.c,a=e.s,s=t.s,c=e.e,u=t.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=c==u,!o||!i)return r?0:!o^n?1:-1;if(!r)return c>u^n?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function $r(e,t,n,r){if(e<t||e>n||e!==Cr(e))throw Error(Rr+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function qr(e){var t=e.c.length-1;return zr(e.e/Pr)==t&&e.c[t]%2!=0}function Wr(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function Vr(e,t,n){var r,o;if(t<0){for(o=n+".";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Kr=function e(t){var n,r,o,i,a,s,c,u,l,d,f=k.prototype={constructor:k,toString:null,valueOf:null},p=new k(1),h=20,g=4,m=-7,y=21,v=-1e7,w=1e7,A=!1,b=1,S=0,E={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},x="0123456789abcdefghijklmnopqrstuvwxyz",T=!0;function k(e,t){var n,i,a,s,c,u,l,d,f=this;if(!(f instanceof k))return new k(e,t);if(null==t){if(e&&!0===e._isBigNumber)return f.s=e.s,void(!e.c||e.e>w?f.c=f.e=null:e.e<v?f.c=[f.e=0]:(f.e=e.e,f.c=e.c.slice()));if((u="number"==typeof e)&&0*e==0){if(f.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;c>=10;c/=10,s++);return void(s>w?f.c=f.e=null:(f.e=s,f.c=[e]))}d=String(e)}else{if(!Or.test(d=String(e)))return o(f,d,u);f.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(s=d.indexOf("."))>-1&&(d=d.replace(".","")),(c=d.search(/e/i))>0?(s<0&&(s=c),s+=+d.slice(c+1),d=d.substring(0,c)):s<0&&(s=d.length)}else{if($r(t,2,x.length,"Base"),10==t&&T)return C(f=new k(e),h+f.e+1,g);if(d=String(e),u="number"==typeof e){if(0*e!=0)return o(f,d,u,t);if(f.s=1/e<0?(d=d.slice(1),-1):1,k.DEBUG&&d.replace(/^0\\.0*|\\./,"").length>15)throw Error(jr+e)}else f.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=x.slice(0,t),s=c=0,l=d.length;c<l;c++)if(n.indexOf(i=d.charAt(c))<0){if("."==i){if(c>s){s=l;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,c=-1,s=0;continue}return o(f,String(e),u,t)}u=!1,(s=(d=r(d,t,10,f.s)).indexOf("."))>-1?d=d.replace(".",""):s=d.length}for(c=0;48===d.charCodeAt(c);c++);for(l=d.length;48===d.charCodeAt(--l););if(d=d.slice(c,++l)){if(l-=c,u&&k.DEBUG&&l>15&&(e>_r||e!==Cr(e)))throw Error(jr+f.s*e);if((s=s-c-1)>w)f.c=f.e=null;else if(s<v)f.c=[f.e=0];else{if(f.e=s,f.c=[],c=(s+1)%Pr,s<0&&(c+=Pr),c<l){for(c&&f.c.push(+d.slice(0,c)),l-=Pr;c<l;)f.c.push(+d.slice(c,c+=Pr));c=Pr-(d=d.slice(c)).length}else c-=l;for(;c--;d+="0");f.c.push(+d)}}else f.c=[f.e=0]}function I(e,t,n,r){var o,i,a,s,c;if(null==n?n=g:$r(n,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)c=Fr(e.c),c=1==r||2==r&&(a<=m||a>=y)?Wr(c,a):Vr(c,a,"0");else if(i=(e=C(new k(e),t,n)).e,s=(c=Fr(e.c)).length,1==r||2==r&&(t<=i||i<=m)){for(;s<t;c+="0",s++);c=Wr(c,i)}else if(t-=a,c=Vr(c,i,"0"),i+1>s){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=i-s)>0)for(i+1==s&&(c+=".");t--;c+="0");return e.s<0&&o?"-"+c:c}function O(e,t){for(var n,r,o=1,i=new k(e[0]);o<e.length;o++)(!(r=new k(e[o])).s||(n=Dr(i,r))===t||0===n&&i.s===t)&&(i=r);return i}function B(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*Pr-1)>w?e.c=e.e=null:n<v?e.c=[e.e=0]:(e.e=n,e.c=t),e}function C(e,t,n,r){var o,i,a,s,c,u,l,d=e.c,f=Mr;if(d){e:{for(o=1,s=d[0];s>=10;s/=10,o++);if((i=t-o)<0)i+=Pr,a=t,c=d[u=0],l=Cr(c/f[o-a-1]%10);else if((u=Br((i+1)/Pr))>=d.length){if(!r)break e;for(;d.length<=u;d.push(0));c=l=0,o=1,a=(i%=Pr)-Pr+1}else{for(c=s=d[u],o=1;s>=10;s/=10,o++);l=(a=(i%=Pr)-Pr+o)<0?0:Cr(c/f[o-a-1]%10)}if(r=r||t<0||null!=d[u+1]||(a<0?c:c%f[o-a-1]),r=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(i>0?a>0?c/f[o-a]:0:d[u-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,r?(t-=e.e+1,d[0]=f[(Pr-t%Pr)%Pr],e.e=-t||0):d[0]=e.e=0,e;if(0==i?(d.length=u,s=1,u--):(d.length=u+1,s=f[Pr-i],d[u]=a>0?Cr(c/f[o-a]%f[a])*s:0),r)for(;;){if(0==u){for(i=1,a=d[0];a>=10;a/=10,i++);for(a=d[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(e.e++,d[0]==Nr&&(d[0]=1));break}if(d[u]+=s,d[u]!=Nr)break;d[u--]=0,s=1}for(i=d.length;0===d[--i];d.pop());}e.e>w?e.c=e.e=null:e.e<v&&(e.c=[e.e=0])}return e}function R(e){var t,n=e.e;return null===n?e.toString():(t=Fr(e.c),t=n<=m||n>=y?Wr(t,n):Vr(t,n,"0"),e.s<0?"-"+t:t)}return k.clone=e,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(Rr+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&($r(n=e[t],0,Ur,t),h=n),e.hasOwnProperty(t="ROUNDING_MODE")&&($r(n=e[t],0,8,t),g=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?($r(n[0],-Ur,0,t),$r(n[1],0,Ur,t),m=n[0],y=n[1]):($r(n,-Ur,Ur,t),m=-(y=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)$r(n[0],-Ur,-1,t),$r(n[1],1,Ur,t),v=n[0],w=n[1];else{if($r(n,-Ur,Ur,t),!n)throw Error(Rr+t+" cannot be zero: "+n);v=-(w=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(Rr+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw A=!n,Error(Rr+"crypto unavailable");A=n}else A=n}if(e.hasOwnProperty(t="MODULO_MODE")&&($r(n=e[t],0,9,t),b=n),e.hasOwnProperty(t="POW_PRECISION")&&($r(n=e[t],0,Ur,t),S=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(Rr+t+" not an object: "+n);E=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\\-.\\s]|(.).*\\1/.test(n))throw Error(Rr+t+" invalid: "+n);T="0123456789"==n.slice(0,10),x=n}}return{DECIMAL_PLACES:h,ROUNDING_MODE:g,EXPONENTIAL_AT:[m,y],RANGE:[v,w],CRYPTO:A,MODULO_MODE:b,POW_PRECISION:S,FORMAT:E,ALPHABET:x}},k.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!k.DEBUG)return!0;var t,n,r=e.c,o=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===i||-1===i)&&o>=-Ur&&o<=Ur&&o===Cr(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%Pr)<1&&(t+=Pr),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=Nr||n!==Cr(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(Rr+"Invalid BigNumber: "+e)},k.maximum=k.max=function(){return O(arguments,-1)},k.minimum=k.min=function(){return O(arguments,1)},k.random=(i=9007199254740992,a=Math.random()*i&2097151?function(){return Cr(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,i,s=0,c=[],u=new k(p);if(null==e?e=h:$r(e,0,Ur),o=Br(e/Pr),A)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(i=131072*t[s]+(t[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(c.push(i%1e14),s+=2);s=o/2}else{if(!crypto.randomBytes)throw A=!1,Error(Rr+"crypto unavailable");for(t=crypto.randomBytes(o*=7);s<o;)(i=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(c.push(i%1e14),s+=7);s=o/7}if(!A)for(;s<o;)(i=a())<9e15&&(c[s++]=i%1e14);for(o=c[--s],e%=Pr,o&&e&&(i=Mr[Pr-e],c[s]=Cr(o/i)*i);0===c[s];c.pop(),s--);if(s<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=Pr);for(s=1,i=c[0];i>=10;i/=10,s++);s<Pr&&(r-=Pr-s)}return u.e=r,u.c=c,u}),k.sum=function(){for(var e=1,t=arguments,n=new k(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var o,i,a=[0],s=0,c=e.length;s<c;){for(i=a.length;i--;a[i]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var c,u,l,d,f,p,m,y,v=r.indexOf("."),w=h,A=g;for(v>=0&&(d=S,S=0,r=r.replace(".",""),p=(y=new k(o)).pow(r.length-v),S=d,y.c=t(Vr(Fr(p.c),p.e,"0"),10,i,e),y.e=y.c.length),l=d=(m=t(r,o,i,s?(c=x,e):(c=e,x))).length;0==m[--d];m.pop());if(!m[0])return c.charAt(0);if(v<0?--l:(p.c=m,p.e=l,p.s=a,m=(p=n(p,y,w,A,i)).c,f=p.r,l=p.e),v=m[u=l+w+1],d=i/2,f=f||u<0||null!=m[u+1],f=A<4?(null!=v||f)&&(0==A||A==(p.s<0?3:2)):v>d||v==d&&(4==A||f||6==A&&1&m[u-1]||A==(p.s<0?8:7)),u<1||!m[0])r=f?Vr(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(m.length=u,f)for(--i;++m[--u]>i;)m[u]=0,u||(++l,m=[1].concat(m));for(d=m.length;!m[--d];);for(v=0,r="";v<=d;r+=c.charAt(m[v++]));r=Vr(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,a,s=0,c=e.length,u=t%Lr,l=t/Lr|0;for(e=e.slice();c--;)s=((o=u*(i=e[c]%Lr)+(r=l*i+(a=e[c]/Lr|0)*u)%Lr*Lr+s)/n|0)+(r/Lr|0)+l*a,e[c]=o%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,i,a,s){var c,u,l,d,f,p,h,g,m,y,v,w,A,b,S,E,x,T=r.s==o.s?1:-1,I=r.c,O=o.c;if(!(I&&I[0]&&O&&O[0]))return new k(r.s&&o.s&&(I?!O||I[0]!=O[0]:O)?I&&0==I[0]||!O?0*T:T/0:NaN);for(m=(g=new k(T)).c=[],T=i+(u=r.e-o.e)+1,s||(s=Nr,u=zr(r.e/Pr)-zr(o.e/Pr),T=T/Pr|0),l=0;O[l]==(I[l]||0);l++);if(O[l]>(I[l]||0)&&u--,T<0)m.push(1),d=!0;else{for(b=I.length,E=O.length,l=0,T+=2,(f=Cr(s/(O[0]+1)))>1&&(O=e(O,f,s),I=e(I,f,s),E=O.length,b=I.length),A=E,v=(y=I.slice(0,E)).length;v<E;y[v++]=0);x=O.slice(),x=[0].concat(x),S=O[0],O[1]>=s/2&&S++;do{if(f=0,(c=t(O,y,E,v))<0){if(w=y[0],E!=v&&(w=w*s+(y[1]||0)),(f=Cr(w/S))>1)for(f>=s&&(f=s-1),h=(p=e(O,f,s)).length,v=y.length;1==t(p,y,h,v);)f--,n(p,E<h?x:O,h,s),h=p.length,c=1;else 0==f&&(c=f=1),h=(p=O.slice()).length;if(h<v&&(p=[0].concat(p)),n(y,p,v,s),v=y.length,-1==c)for(;t(O,y,E,v)<1;)f++,n(y,E<v?x:O,v,s),v=y.length}else 0===c&&(f++,y=[0]);m[l++]=f,y[0]?y[v++]=I[A]||0:(y=[I[A]],v=1)}while((A++<b||null!=y[0])&&T--);d=null!=y[0],m[0]||m.splice(0,1)}if(s==Nr){for(l=1,T=m[0];T>=10;T/=10,l++);C(g,i+(g.e=l+u*Pr-1)+1,a,d)}else g.e=u,g.r=+d;return g}}(),s=/^(-?)0([xbo])(?=\\w[\\w.]*$)/i,c=/^([^.]+)\\.$/,u=/^\\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,d=/^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g,o=function(e,t,n,r){var o,i=n?t:t.replace(d,"");if(l.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(s,(function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t})),r&&(o=r,i=i.replace(c,"$1").replace(u,"0.$1")),t!=i))return new k(i,o);if(k.DEBUG)throw Error(Rr+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},f.absoluteValue=f.abs=function(){var e=new k(this);return e.s<0&&(e.s=1),e},f.comparedTo=function(e,t){return Dr(this,new k(e,t))},f.decimalPlaces=f.dp=function(e,t){var n,r,o,i=this;if(null!=e)return $r(e,0,Ur),null==t?t=g:$r(t,0,8),C(new k(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-zr(this.e/Pr))*Pr,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},f.dividedBy=f.div=function(e,t){return n(this,new k(e,t),h,g)},f.dividedToIntegerBy=f.idiv=function(e,t){return n(this,new k(e,t),0,1)},f.exponentiatedBy=f.pow=function(e,t){var n,r,o,i,a,s,c,u,l=this;if((e=new k(e)).c&&!e.isInteger())throw Error(Rr+"Exponent not an integer: "+R(e));if(null!=t&&(t=new k(t)),a=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return u=new k(Math.pow(+R(l),a?e.s*(2-qr(e)):+R(e))),t?u.mod(t):u;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new k(NaN);(r=!s&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||a&&l.c[1]>=24e7:l.c[0]<8e13||a&&l.c[0]<=9999975e7)))return i=l.s<0&&qr(e)?-0:0,l.e>-1&&(i=1/i),new k(s?1/i:i);S&&(i=Br(S/Pr+2))}for(a?(n=new k(.5),s&&(e.s=1),c=qr(e)):c=(o=Math.abs(+R(e)))%2,u=new k(p);;){if(c){if(!(u=u.times(l)).c)break;i?u.c.length>i&&(u.c.length=i):r&&(u=u.mod(t))}if(o){if(0===(o=Cr(o/2)))break;c=o%2}else if(C(e=e.times(n),e.e+1,1),e.e>14)c=qr(e);else{if(0===(o=+R(e)))break;c=o%2}l=l.times(l),i?l.c&&l.c.length>i&&(l.c.length=i):r&&(l=l.mod(t))}return r?u:(s&&(u=p.div(u)),t?u.mod(t):i?C(u,S,g,undefined):u)},f.integerValue=function(e){var t=new k(this);return null==e?e=g:$r(e,0,8),C(t,t.e+1,e)},f.isEqualTo=f.eq=function(e,t){return 0===Dr(this,new k(e,t))},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(e,t){return Dr(this,new k(e,t))>0},f.isGreaterThanOrEqualTo=f.gte=function(e,t){return 1===(t=Dr(this,new k(e,t)))||0===t},f.isInteger=function(){return!!this.c&&zr(this.e/Pr)>this.c.length-2},f.isLessThan=f.lt=function(e,t){return Dr(this,new k(e,t))<0},f.isLessThanOrEqualTo=f.lte=function(e,t){return-1===(t=Dr(this,new k(e,t)))||0===t},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&0==this.c[0]},f.minus=function(e,t){var n,r,o,i,a=this,s=a.s;if(t=(e=new k(e,t)).s,!s||!t)return new k(NaN);if(s!=t)return e.s=-t,a.plus(e);var c=a.e/Pr,u=e.e/Pr,l=a.c,d=e.c;if(!c||!u){if(!l||!d)return l?(e.s=-t,e):new k(d?a:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new k(l[0]?a:3==g?-0:0)}if(c=zr(c),u=zr(u),l=l.slice(),s=c-u){for((i=s<0)?(s=-s,o=l):(u=c,o=d),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(t=d.length))?s:t,s=t=0;t<r;t++)if(l[t]!=d[t]){i=l[t]<d[t];break}if(i&&(o=l,l=d,d=o,e.s=-e.s),(t=(r=d.length)-(n=l.length))>0)for(;t--;l[n++]=0);for(t=Nr-1;r>s;){if(l[--r]<d[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=Nr}l[r]-=d[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?B(e,l,u):(e.s=3==g?-1:1,e.c=[e.e=0],e)},f.modulo=f.mod=function(e,t){var r,o,i=this;return e=new k(e,t),!i.c||!e.s||e.c&&!e.c[0]?new k(NaN):!e.c||i.c&&!i.c[0]?new k(i):(9==b?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,b),(e=i.minus(r.times(e))).c[0]||1!=b||(e.s=i.s),e)},f.multipliedBy=f.times=function(e,t){var n,r,o,i,a,s,c,u,l,d,f,p,h,g,m,y=this,v=y.c,w=(e=new k(e,t)).c;if(!(v&&w&&v[0]&&w[0]))return!y.s||!e.s||v&&!v[0]&&!w||w&&!w[0]&&!v?e.c=e.e=e.s=null:(e.s*=y.s,v&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=zr(y.e/Pr)+zr(e.e/Pr),e.s*=y.s,(c=v.length)<(d=w.length)&&(h=v,v=w,w=h,o=c,c=d,d=o),o=c+d,h=[];o--;h.push(0));for(g=Nr,m=Lr,o=d;--o>=0;){for(n=0,f=w[o]%m,p=w[o]/m|0,i=o+(a=c);i>o;)n=((u=f*(u=v[--a]%m)+(s=p*u+(l=v[a]/m|0)*f)%m*m+h[i]+n)/g|0)+(s/m|0)+p*l,h[i--]=u%g;h[i]=n}return n?++r:h.splice(0,1),B(e,h,r)},f.negated=function(){var e=new k(this);return e.s=-e.s||null,e},f.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new k(e,t)).s,!o||!t)return new k(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/Pr,a=e.e/Pr,s=r.c,c=e.c;if(!i||!a){if(!s||!c)return new k(o/0);if(!s[0]||!c[0])return c[0]?e:new k(s[0]?r:0*o)}if(i=zr(i),a=zr(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=c):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=c.length)<0&&(n=c,c=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+c[t]+o)/Nr|0,s[t]=Nr===s[t]?0:s[t]%Nr;return o&&(s=[o].concat(s),++a),B(e,s,a)},f.precision=f.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return $r(e,1,Ur),null==t?t=g:$r(t,0,8),C(new k(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*Pr+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},f.shiftedBy=function(e){return $r(e,-9007199254740991,_r),this.times("1e"+e)},f.squareRoot=f.sqrt=function(){var e,t,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=h+4,d=new k("0.5");if(1!==c||!s||!s[0])return new k(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+R(a)))||c==1/0?(((t=Fr(s)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=zr((u+1)/2)-(u<0||u%2),r=new k(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new k(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=d.times(i.plus(n(a,i,l,1))),Fr(i.c).slice(0,c)===(t=Fr(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(C(r,r.e+h+2,1),e=!r.times(r).eq(a));break}if(!o&&(C(i,i.e+h+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return C(r,r.e+h+1,g,e)},f.toExponential=function(e,t){return null!=e&&($r(e,0,Ur),e++),I(this,e,t,1)},f.toFixed=function(e,t){return null!=e&&($r(e,0,Ur),e=e+this.e+1),I(this,e,t)},f.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=E;else if("object"!=typeof n)throw Error(Rr+"Argument not an object: "+n);if(r=o.toFixed(e,t),o.c){var i,a=r.split("."),s=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",l=a[0],d=a[1],f=o.s<0,p=f?l.slice(1):l,h=p.length;if(c&&(i=s,s=c,c=i,h-=i),s>0&&h>0){for(i=h%s||s,l=p.substr(0,i);i<h;i+=s)l+=u+p.substr(i,s);c>0&&(l+=u+p.slice(i)),f&&(l="-"+l)}r=d?l+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\\\d{"+c+"}\\\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):l}return(n.prefix||"")+r+(n.suffix||"")},f.toFraction=function(e){var t,r,o,i,a,s,c,u,l,d,f,h,m=this,y=m.c;if(null!=e&&(!(c=new k(e)).isInteger()&&(c.c||1!==c.s)||c.lt(p)))throw Error(Rr+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+R(c));if(!y)return new k(m);for(t=new k(p),l=r=new k(p),o=u=new k(p),h=Fr(y),a=t.e=h.length-m.e-1,t.c[0]=Mr[(s=a%Pr)<0?Pr+s:s],e=!e||c.comparedTo(t)>0?a>0?t:l:c,s=w,w=1/0,c=new k(h),u.c[0]=0;d=n(c,t,0,1),1!=(i=r.plus(d.times(o))).comparedTo(e);)r=o,o=i,l=u.plus(d.times(i=l)),u=i,t=c.minus(d.times(i=t)),c=i;return i=n(e.minus(r),o,0,1),u=u.plus(i.times(l)),r=r.plus(i.times(o)),u.s=l.s=m.s,f=n(l,o,a*=2,g).minus(m).abs().comparedTo(n(u,r,a,g).minus(m).abs())<1?[l,o]:[u,r],w=s,f},f.toNumber=function(){return+R(this)},f.toPrecision=function(e,t){return null!=e&&$r(e,1,Ur),I(this,e,t,2)},f.toString=function(e){var t,n=this,o=n.s,i=n.e;return null===i?o?(t="Infinity",o<0&&(t="-"+t)):t="NaN":(null==e?t=i<=m||i>=y?Wr(Fr(n.c),i):Vr(Fr(n.c),i,"0"):10===e&&T?t=Vr(Fr((n=C(new k(n),h+i+1,g)).c),n.e,"0"):($r(e,2,x.length,"Base"),t=r(Vr(Fr(n.c),i,"0"),10,e,o,!0)),o<0&&n.c[0]&&(t="-"+t)),t},f.valueOf=f.toJSON=function(){return R(this)},f._isBigNumber=!0,f[Symbol.toStringTag]="BigNumber",f[Symbol.for("nodejs.util.inspect.custom")]=f.valueOf,null!=t&&k.set(t),k}();const Gr=Kr;var Hr=4,Jr=5,Zr=10,Yr=-32700,Qr=-32603,Xr=-32602,eo=-32601,to=-32600,no=-32015,ro=-32014,oo=-32012,io=-32010,ao=-32009,so=-32007,co=-32006,uo=-32004,lo=-32002,fo=-32001,po=28e5,ho=2800001,go=2800003,mo=2800006,yo=2800007,vo=2800008,wo=2800009,Ao=32300001,bo=3230004,So=361e4,Eo=3610001,xo=3610003,To=3610005,ko=3610006,Io=3610007,Oo=3704001,Bo=3704002,Co=3704003,Ro=4615e3,jo=4615026,No=4615045,Po=5508e3,_o=5663e3,Mo=5663001,Lo=5663004,Uo=5663005,zo=5663006,Fo=5663007,Do=5663008,$o=5663009,qo=5663012,Wo=5663015,Vo=5663016,Ko=5663017,Go=5663018,Ho=5663019,Jo=705e4,Zo=7050030,Yo=7050031,Qo=7050035,Xo=8078e3,ei=8078001,ti=8078004,ni=8078005,ri=8078006,oi=8078007,ii=8078011,ai=8078012,si=8078013,ci=8078014,ui=81e5,li=8100002,di=8100003,fi=9900003;function pi(e){if(Array.isArray(e)){return"%5B"+e.map(pi).join("%2C%20")+"%5D"}return"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function hi([e,t]){return`${e}=${pi(t)}`}function gi(e,t={}){{let n=`Solana error #${e}; Decode this error by running \\`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` \'${function(e){const t=Object.entries(e).map(hi).join("&");return btoa(t)}(t)}\'`),`${n}\\``}}function mi(e,t){return!!(e instanceof Error&&"SolanaError"===e.name)&&(void 0===t||e.context.__code===t)}var yi=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...o}=t;e&&(r={cause:e}),Object.keys(o).length>0&&(n=o)}super(gi(e,n),r),this.context={__code:e,...n},this.name="SolanaError"}};function vi(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function wi({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},o){let i,a;"string"==typeof r?i=r:(i=Object.keys(r)[0],a=r[i]);const s=e+n.indexOf(i),c=t(s,i,a),u=new yi(s,c);return vi(u,o),u}var Ai=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function bi(e,t){const n=Number(e);return wi({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>e===Ro?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:e===jo?{code:Number(r),index:n}:e===No?{encodedData:r,index:n}:{index:n},orderedErrorNames:Ai,rpcEnumError:t},bi)}var Si=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function Ei(e){return"object"==typeof e&&"InstructionError"in e?bi(...e.InstructionError):wi({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>e===Jo?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:e===Zo?{index:Number(n)}:e===Yo||e===Qo?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:Si,rpcEnumError:e},Ei)}function xi(e){let t;if("object"==typeof(n=e)&&null!==n&&"code"in n&&"message"in n&&("number"==typeof n.code||"bigint"==typeof n.code)&&"string"==typeof n.message){const{code:n,data:r,message:o}=e,i=Number(n);if(i===lo){const{err:e,...n}=r,o=e?{cause:Ei(e)}:null;t=new yi(lo,{...n,...o})}else{let e;switch(i){case Qr:case Xr:case to:case eo:case Yr:case oo:case fo:case uo:case ro:case io:case ao:case so:case co:case no:e={__serverMessage:o};break;default:"object"!=typeof r||Array.isArray(r)||(e=r)}t=new yi(i,e)}}else{const n="object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:"Malformed JSON-RPC error with no message attribute";t=new yi(Zr,{error:e,message:n})}var n;return vi(t,xi),t}var Ti=(e,t)=>((e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n})(e.length<=t?e:e.slice(0,t),t);function ki(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function Ii(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(ki(t,e));return e.write(t,n,0),n}})}function Oi(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function Bi(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function Ci(e){return!Bi(e)}function Ri(e,t){if(Bi(e)!==Bi(t))throw new yi(ti);if(Bi(e)&&Bi(t)&&e.fixedSize!==t.fixedSize)throw new yi(ni,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Bi(e)&&!Bi(t)&&e.maxSize!==t.maxSize)throw new yi(ri,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function ji(e,t,n,r=0){const o=n.length-r;if(o<t)throw new yi(ei,{bytesLength:o,codecDescription:e,expected:t})}function Ni(e,t,n){if(t<0||t>n)throw new yi(ci,{bytesLength:n,codecDescription:e,offset:t})}function Pi(e,t){const n=(n,r,o)=>{const i=e.encode(n);return o=t.write(i.length,r,o),r.set(i,o),o+i.length};if(Bi(t)&&Bi(e))return Ii({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=Bi(t)?t.fixedSize:t.maxSize??null,o=Bi(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Ii({...e,...null!==i?{maxSize:i}:{},getSizeFromValue:n=>{const r=ki(n,e);return ki(r,t)+r},write:n})}function _i(e,t){const n=(n,r)=>{const[o,i]=t.read(n,r),a=Number(o);return((r=i)>0||n.length>a)&&(n=n.slice(r,r+a)),ji("addDecoderSizePrefix",a,n),[e.decode(n),r+a]};if(Bi(t)&&Bi(e))return Oi({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=Bi(t)?t.fixedSize:t.maxSize??null,o=Bi(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Oi({...e,...null!==i?{maxSize:i}:{},read:n})}function Mi(e,t){return Ii({fixedSize:t,write:(n,r,o)=>{const i=e.encode(n),a=i.length>t?i.slice(0,t):i;return r.set(a,o),o+t}})}function Li(e,t){return Oi({fixedSize:t,read:(n,r)=>{ji("fixCodecSize",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),Bi(e)&&(n=Ti(n,e.fixedSize));const[o]=e.read(n,0);return[o,r+t]}})}function Ui(e,t){return Oi({...e,read:(n,r)=>{const o=e=>zi(e,n.length),i=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:o}):r;Ni("offsetDecoder",i,n.length);const[a,s]=e.read(n,i),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:i,postOffset:s,preOffset:r,wrapBytes:o}):s;return Ni("offsetDecoder",c,n.length),[a,c]}})}function zi(e,t){return 0===t?0:(e%t+t)%t}function Fi(e,t){if(Bi(e)){const n=t(e.fixedSize);if(n<0)throw new yi(si,{bytesLength:n,codecDescription:"resizeDecoder"});return Oi({...e,fixedSize:n})}return e}function Di(e,t){return Ui(Fi(e,(e=>e+t)),{postOffset:({postOffset:e})=>e+t})}function $i(e,t){return Ii({...Ci(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function qi(e,t){return Oi({...e,read:(n,r)=>{const[o,i]=e.read(n,r);return[t(o,n,r),i]}})}function Wi(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new yi(ai,{alphabet:e,base:e.length,value:n})}var Vi=e=>Ii({getSizeFromValue:t=>{const[n,r]=Hi(t,e[0]);if(!r)return t.length;const o=Ji(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(Wi(e,t),""===t)return r;const[o,i]=Hi(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=Ji(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),Ki=e=>Oi({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}}),Gi=e=>Ri(Vi(e),Ki(e));function Hi(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Ji(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var Zi="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Yi=()=>Vi(Zi),Qi=()=>Ki(Zi);var Xi,ea,ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",na=()=>Ii({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new yi(ai,{alphabet:ta,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split("").map((e=>e.charCodeAt(0)));return t.set(r,n),r.length+n}catch{throw new yi(ai,{alphabet:ta,base:64,value:e})}}}),ra=()=>Oi({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),oa=()=>Ri(na(),ra()),ia=e=>e.replace(/\\u0000/g,""),aa=globalThis.TextDecoder,sa=globalThis.TextEncoder,ca=()=>Ri((()=>{let e;return Ii({getSizeFromValue:t=>(e||=new sa).encode(t).length,write:(t,n,r)=>{const o=(e||=new sa).encode(t);return n.set(o,r),r+o.length}})})(),(()=>{let e;return Oi({read(t,n){const r=(e||=new aa).decode(t.slice(n));return[ia(r),t.length]}})})());function ua(){if(!globalThis.isSecureContext)throw new yi(So)}function la(){if(ua(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.exportKey)throw new yi(xo)}function da(){return Xi||(Xi=Yi()),Xi}function fa(e){if(e.length<32||e.length>44)throw new yi(ho,{actualLength:e.length});const t=da().encode(e).byteLength;if(32!==t)throw new yi(po,{actualLength:t})}function pa(e){return fa(e),e}function ha(){return $i(Mi(da(),32),(e=>pa(e)))}function ga(){return Li((ea||(ea=Qi()),ea),32)}function ma(){return Ri(ha(),ga())}function ya(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var va=37095705934669439343138083508754565189542113879843219016388785533085940283555n,wa=57896044618658097711785492504343953926634992332820282019728792003956564819949n,Aa=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function ba(e){const t=e%wa;return t>=0n?t:wa+t}function Sa(e,t){let n=e;for(;t-- >0n;)n*=n,n%=wa;return n}function Ea(e,t){const n=ba(t*t*t),r=function(e){const t=e*e%wa*e%wa,n=Sa(t,2n)*t%wa,r=Sa(n,1n)*e%wa,o=Sa(r,5n)*r%wa,i=Sa(o,10n)*o%wa,a=Sa(i,20n)*i%wa,s=Sa(a,40n)*a%wa,c=Sa(s,80n)*s%wa,u=Sa(c,80n)*s%wa,l=Sa(u,10n)*o%wa;return Sa(l,2n)*e%wa}(e*ba(n*n*t));let o=ba(e*n*r);const i=ba(t*o*o),a=o,s=ba(o*Aa),c=i===e,u=i===ba(-e),l=i===ba(-e*Aa);return c&&(o=a),(u||l)&&(o=s),1n===(1n&ba(o))&&(o=ba(-o)),c||u?o:null}function xa(e){if(32!==e.byteLength)return!1;const t=function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),"");return BigInt(`0x${t}`)}(e);return function(e,t){const n=ba(e*e),r=Ea(ba(n-1n),ba(va*n+1n));return null!==r&&(0n!==r||!(0!=(128&t)))}(t,e[31])}var Ta=32,ka=16,Ia=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function Oa({programAddress:e,seeds:t}){if(function(){if(ua(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.digest)throw new yi(Eo)}(),t.length>ka)throw new yi(mo,{actual:t.length,maxSeeds:ka});let n;const r=t.reduce(((e,t,r)=>{const o="string"==typeof t?(n||=new TextEncoder).encode(t):t;if(o.byteLength>Ta)throw new yi(yo,{actual:o.byteLength,index:r,maxSeedLength:Ta});return e.push(...o),e}),[]),o=ma(),i=o.encode(e),a=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...i,...Ia])),s=new Uint8Array(a);if(xa(s))throw new yi(vo);return o.decode(s)}async function Ba(e){if(la(),"public"!==e.type||"Ed25519"!==e.algorithm.name)throw new yi(go);const t=await crypto.subtle.exportKey("raw",e);return ga().decode(new Uint8Array(t))}const Ca=1e9;var Ra,ja;!function(e){e.Mainnet="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.Devnet="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.Testnet="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",e.Localnet="solana:123456789abcdef"}(Ra||(Ra={})),function(e){e[e.SolMainnet=`${Ra.Mainnet}/slip44:501`]="SolMainnet",e[e.SolDevnet=`${Ra.Devnet}/slip44:501`]="SolDevnet",e[e.SolTestnet=`${Ra.Testnet}/slip44:501`]="SolTestnet",e[e.SolLocalnet=`${Ra.Localnet}/slip44:501`]="SolLocalnet",e[e.UsdcMainnet=`${Ra.Mainnet}/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v`]="UsdcMainnet",e[e.UsdcDevnet=`${Ra.Devnet}/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU`]="UsdcDevnet",e[e.UsdcLocalnet=`${Ra.Localnet}/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU`]="UsdcLocalnet",e[e.EurcMainnet=`${Ra.Mainnet}/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr`]="EurcMainnet",e[e.EurcDevnet=`${Ra.Devnet}/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr`]="EurcDevnet",e[e.EurcLocalnet=`${Ra.Localnet}/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr`]="EurcLocalnet"}(ja||(ja={}));Ra.Mainnet,Ra.Devnet,Ra.Testnet,Ra.Localnet;var Na;!function(e){e.SOL="slip44:501"}(Na||(Na={}));const Pa={[ja.SolMainnet]:{symbol:"SOL",caip19Id:ja.SolMainnet,address:"So11111111111111111111111111111111111111112",decimals:9},[ja.SolDevnet]:{symbol:"SOL",caip19Id:ja.SolDevnet,address:"So11111111111111111111111111111111111111112",decimals:9},[ja.SolTestnet]:{symbol:"SOL",caip19Id:ja.SolTestnet,address:"So11111111111111111111111111111111111111112",decimals:9},[ja.SolLocalnet]:{symbol:"SOL",caip19Id:ja.SolLocalnet,address:"So11111111111111111111111111111111111111112",decimals:9},[ja.UsdcMainnet]:{symbol:"USDC",caip19Id:ja.UsdcMainnet,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6},[ja.UsdcDevnet]:{symbol:"USDC",caip19Id:ja.UsdcDevnet,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",decimals:6},[ja.UsdcLocalnet]:{symbol:"USDC",caip19Id:ja.UsdcLocalnet,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",decimals:6}},_a=pa("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ma={[Ra.Mainnet]:{caip2Id:Ra.Mainnet,cluster:"mainnet",name:"Solana Mainnet",nativeToken:Pa[ja.SolMainnet]},[Ra.Devnet]:{caip2Id:Ra.Devnet,cluster:"devnet",name:"Solana Devnet",nativeToken:Pa[ja.SolDevnet]},[Ra.Testnet]:{caip2Id:Ra.Testnet,cluster:"testnet",name:"Solana Testnet",nativeToken:Pa[ja.SolTestnet]},[Ra.Localnet]:{caip2Id:Ra.Localnet,cluster:"local",name:"Solana Localnet",nativeToken:Pa[ja.SolLocalnet]}},La=Z(N(),/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/u),Ua=Y(B(),"positive",(e=>!(e<0)||`Expected a positive number but received a negative number ${e}`)),za=Z(N(),/^(?!0\\d)(\\d+(\\.\\d+)?)$/u),Fa=Y(N(),"safe-url",(e=>{try{const t=new URL(e);if(!["http:","https:"].includes(t.protocol))return"URL must use http or https protocol";if(!e.match(/^https?:\\/\\/[^/]+\\/?/u))return"Malformed URL - incorrect protocol format";const n=t.hostname.toLowerCase();if(!("localhost"===n||n.includes(".")&&/^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/u.test(n)))return"Invalid hostname format";const r=decodeURIComponent(e.toLowerCase());if(e.includes("\\\\")||e.includes("@")||r.includes("\\\\")||r.includes("@")||e.toLowerCase().includes("%2f@")||e.toLowerCase().includes("%5c@"))return"URL contains protocol pollution attempts";const o=decodeURIComponent(n);if(n.includes("\\\\")||n.includes("@")||o.includes("/")||n.toLowerCase().includes("%2f"))return"Invalid hostname characters detected";if(e.includes("../")||e.includes("..%2f")||e.includes("..%2F"))return"Directory traversal attempts are not allowed";const i=[/<[^>]*>/u,/javascript:/u,/data:/u,/\\\\[@\\\\]/u,/%2f@/u,/[^\\x20-\\x7E]/u,/\\$\\{.*?\\}/u,/#\\{.*?\\}/u,/[|;]/u,/%0[acd]|%0[acd]/u,/\\/\\/\\w+@/u,/(?:[^a-z]|^)(?:union\\s+(?:all\\s+)?select|select\\s+(?:.*\\s+)?from|insert\\s+into|update\\s+.*\\s+set|delete\\s+from|drop\\s+table|alter\\s+table|create\\s+table|exec(?:ute)?|union|where\\s+[\\d\\w]\\s*=\\s*[\\d\\w]|\\bor\\b\\s*[\\d\\w]\\s*=\\s*[\\d\\w])/iu,/\'.*?(?:OR|UNION|SELECT|FROM|WHERE).*?\'/iu,/%27.*?(?:OR|UNION|SELECT|FROM|WHERE).*?(?:%27|\')/iu,/%20(?:OR|UNION|SELECT|FROM|WHERE)%20/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=(?:[^&]*\\/\\/|https?:)/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=%(?:[^&]*\\/\\/|https?:)/iu];for(const e of i)if(e.test(r))return"URL contains potentially malicious patterns";return!(t.port&&!/^\\d+$/u.test(t.port))||"Invalid port number"}catch(e){return"Invalid URL format"}})),Da=Z(N(),/^[-a-z0-9]{3,8}:[-a-zA-Z0-9]{1,64}\\/[-a-zA-Z0-9]{1,64}(:[-a-zA-Z0-9]{1,64})?$/u),$a=C({accountId:La}),qa=C({accountId:La}),Wa=C({accountId:La}),Va=C({accountId:La,assets:b(Da)}),Ka=C({accountId:La,pagination:C({limit:T(),next:R(O(N()))})}),Ga=j(Da,C({amount:za,unit:N()})),Ha=(b(Da),x(Object.values(gt)),C({base64EncodedTransactionMessage:N()}),x(Object.values(Ra))),Ja=(x(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","usd","aed","ars","aud","bdt","bhd","bmd","brl","cad","chf","clp","cny","czk","dkk","eur","gbp","gel","hkd","huf","idr","ils","inr","jpy","krw","kwd","lkr","mmk","mxn","myr","ngn","nok","nzd","php","pkr","pln","rub","sar","sek","sgd","thb","try","twd","uah","vef","vnd","zar","xdr","xag","xau","bits","sats"]),C({transaction:N(),scope:x(Object.values(Ra))})),Za=C({value:O(za)}),Ya=U("Base58",(e=>"string"!=typeof e?"Expected a string, but received: "+typeof e:!!/^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/u.test(e)||"Expected a Base58 encoded string, but received a string with invalid characters")),Qa=Z(N(),/^(?:[A-Za-z0-9+/]{4})+(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/u);function Xa(e){const{baseUrl:t,path:n,pathParams:r,queryParams:o}=e;m(t,Fa);const i=n.replace(/\\{(\\w+)\\}/gu,((e,t)=>{var n;const o=null===(n=r)||void 0===n?void 0:n[t];if(void 0===o)throw new Error(`Path parameter ${t} is undefined`);return o})).replace(/^\\/+/u,"").replace(/\\/+/gu,"/").replace(/\\/+$/u,""),a=new URL(i,t);Object.entries(o??{}).filter((([e,t])=>void 0!==t)).filter((([e,t])=>null!==t)).forEach((([e,t])=>{t&&a.searchParams.append(e,t)}));const s=a.toString();return m(s,Fa),s}var es,ts=((es=ts||{})[es.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",es[es.READONLY_SIGNER=2]="READONLY_SIGNER",es[es.WRITABLE=1]="WRITABLE",es[es.READONLY=0]="READONLY",es),ns=2,rs=1;function os(e){return e>=2}function is(e){return 0!=(e&rs)}function as(e,t){return e|t}function ss(e){return e|ns}var cs,us=Object.freeze({name:"Ed25519"});async function ls(e,t){const n=e.byteLength;if(32!==n)throw new yi(Oo,{actualLength:n});const r=function(e){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e])}(e);return await crypto.subtle.importKey("pkcs8",r,us,t??!1,["sign"])}async function ds(e,t){!function(){if(ua(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.sign)throw new yi(To)}();const n=await crypto.subtle.sign(us,e,t);return new Uint8Array(n)}function fs(e){return function(e){if(cs||(cs=Yi()),e.length<64||e.length>88)throw new yi(Co,{actualLength:e.length});const t=cs.encode(e).byteLength;if(64!==t)throw new yi(Bo,{actualLength:t})}(e),e}async function ps(e,t,n){return function(){if(ua(),void 0===globalThis.crypto||"function"!=typeof globalThis.crypto.subtle?.verify)throw new yi(ko)}(),await crypto.subtle.verify(us,e,t,n)}async function hs(e,t=!1){const n=ls(e,t),[r,o]=await Promise.all([(t?n:ls(e,!0)).then((async e=>await async function(e,t=!1){if(la(),!1===e.extractable)throw new yi(Io,{key:e});const n=await crypto.subtle.exportKey("jwk",e);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:t,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",t,["verify"])}(e,!0))),n]);return{privateKey:o,publicKey:r}}function gs(e,t,n,r){if(r<t||r>n)throw new yi(ii,{codecDescription:e,max:n,min:t,value:r})}var ms,ys=((ms=ys||{})[ms.Little=0]="Little",ms[ms.Big=1]="Big",ms);function vs(e){return 1!==e?.endian}function ws(e){return Ii({fixedSize:e.size,write(t,n,r){e.range&&gs(e.name,e.range[0],e.range[1],t);const o=new ArrayBuffer(e.size);return e.set(new DataView(o),t,vs(e.config)),n.set(new Uint8Array(o),r),r+e.size}})}function As(e){return Oi({fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new yi(Xo,{codecDescription:e})}(e.name,t,n),ji(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),o=n??e.byteLength;return e.buffer.slice(r,r+o)}(t,n,e.size));return[e.get(r,vs(e.config)),n+e.size]}})}var bs=()=>Ii({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{gs("shortU16",0,65535,e);const r=[0];for(let t=0;;t+=1){const n=Number(e)>>7*t;if(0===n)break;const o=127&n;r[t]=o,t>0&&(r[t-1]|=128)}return t.set(r,n),n+r.length}}),Ss=()=>Oi({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const o=r-1,i=e[t+o];if(n|=(127&i)<<7*o,0==(128&i))break}return[n,t+r]}}),Es=(e={})=>ws({config:e,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,n)=>e.setUint32(0,Number(t),n),size:4}),xs=(e={})=>As({config:e,get:(e,t)=>e.getUint32(0,t),name:"u32",size:4}),Ts=(e={})=>ws({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),ks=()=>ws({name:"u8",range:[0,Number("0xff")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),Is=()=>As({get:e=>e.getUint8(0),name:"u8",size:1});function Os(e,t,n){if(t!==n)throw new yi(oi,{actual:n,codecDescription:e,expected:t})}function Bs(e){return e.reduce(((e,t)=>null===e||null===t?null:e+t),0)}function Cs(e){return Bi(e)?e.fixedSize:null}function Rs(e){return Bi(e)?e.fixedSize:e.maxSize??null}function js(e,t={}){const n=t.size??Es(),r=Ps(n,Cs(e)),o=Ps(n,Rs(e))??void 0;return Ii({...null!==r?{fixedSize:r}:{getSizeFromValue:t=>("object"==typeof n?ki(t.length,n):0)+[...t].reduce(((t,n)=>t+ki(n,e)),0),maxSize:o},write:(t,r,o)=>("number"==typeof n&&Os("array",n,t.length),"object"==typeof n&&(o=n.write(t.length,r,o)),t.forEach((t=>{o=e.write(t,r,o)})),o)})}function Ns(e,t={}){const n=t.size??xs(),r=Cs(e),o=Ps(n,r),i=Ps(n,Rs(e))??void 0;return Oi({...null!==o?{fixedSize:o}:{maxSize:i},read:(t,r)=>{const o=[];if("object"==typeof n&&0===t.slice(r).length)return[o,r];if("remainder"===n){for(;r<t.length;){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}const[i,a]="number"==typeof n?[n,r]:n.read(t,r);r=a;for(let n=0;n<i;n+=1){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}})}function Ps(e,t){return"number"!=typeof e?null:0===e?0:null===t?null:t*e}function _s(){return Ii({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function Ms(){return Oi({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}function Ls(e){const t=Bs(e.map(Cs)),n=Bs(e.map(Rs))??void 0;return Oi({...null===t?{maxSize:n}:{fixedSize:t},read:(t,n)=>{const r=[];return e.forEach((e=>{const[o,i]=e.read(t,n);r.push(o),n=i})),[r,n]}})}var Us;function zs(e){const t=e.map((([,e])=>e)),n=Bs(t.map(Cs)),r=Bs(t.map(Rs))??void 0;return Ii({...null===n?{getSizeFromValue:t=>e.map((([e,n])=>ki(t[e],n))).reduce(((e,t)=>e+t),0),maxSize:r}:{fixedSize:n},write:(t,n,r)=>(e.forEach((([e,o])=>{r=o.write(t[e],n,r)})),r)})}function Fs(e){const t=e.map((([,e])=>e)),n=Bs(t.map(Cs)),r=Bs(t.map(Rs))??void 0;return Oi({...null===n?{maxSize:r}:{fixedSize:n},read:(t,n)=>{const r={};return e.forEach((([e,o])=>{const[i,a]=o.read(t,n);n=a,r[e]=i})),[r,n]}})}function Ds(){return Us||(Us=Yi()),Us}function $s(e){if(e.length<32||e.length>44)throw new yi(Hr,{actualLength:e.length});const t=Ds().encode(e).byteLength;if(32!==t)throw new yi(Jr,{actualLength:t})}function qs(e){switch(e){case"finalized":return 2;case"confirmed":return 1;case"processed":return 0;default:throw new yi(fi,{unexpectedValue:e})}}function Ws(e,...t){return t.reduce(((e,t)=>t(e)),e)}function Vs(e){if(!("lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.blockhash&&"bigint"==typeof e.lifetimeConstraint.lastValidBlockHeight))return!1;try{return $s(e.lifetimeConstraint.blockhash),!0}catch{return!1}}function Ks(e,t){if("lifetimeConstraint"in t&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight)return t;const n={...t,lifetimeConstraint:Object.freeze(e)};return Object.freeze(n),n}var Gs=e=>Ii({getSizeFromValue:t=>{const[n,r]=Js(t,e[0]);if(!r)return t.length;const o=Zs(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(function(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new yi(ai,{alphabet:e,base:e.length,value:n})}(e,t),""===t)return r;const[o,i]=Js(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=Zs(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),Hs=e=>Oi({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return["",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}});function Js(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Zs(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var Ys,Qs,Xs,ec,tc,nc,rc="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",oc=()=>Gs(rc),ic=()=>Hs(rc);function ac(){return Xs||(Xs=ks()),Xs}function sc(){return ec||(ec=Is()),ec}var cc=128;function uc(){return Ii({getSizeFromValue:e=>"legacy"===e?0:1,maxSize:1,write:(e,t,n)=>{if("legacy"===e)return n;if(e<0||e>127)throw new yi(Lo,{actualVersion:e});return t.set([e|cc],n),n+1}})}function lc(){return Oi({maxSize:1,read:(e,t)=>{const n=e[t];if(0==(n&cc))return["legacy",t];return[n^cc,t+1]}})}function dc(){return zs(pc())}function fc(){return $i(zs([...pc(),["addressTableLookups",js((Ys||(Ys=zs([["lookupTableAddress",ha()],["writableIndices",js(ks(),{size:bs()})],["readableIndices",js(ks(),{size:bs()})]])),Ys),{size:bs()})]]),(e=>"legacy"===e.version?e:{...e,addressTableLookups:e.addressTableLookups??[]}))}function pc(){return[["version",uc()],["header",zs([["numSignerAccounts",ac()],["numReadonlySignerAccounts",ac()],["numReadonlyNonSignerAccounts",ac()]])],["staticAccounts",js(ha(),{size:bs()})],["lifetimeToken",Mi(oc(),32)],["instructions",js((tc||(tc=$i(zs([["programAddressIndex",ks()],["accountIndices",js(ks(),{size:bs()})],["data",Pi(_s(),bs())]]),(e=>void 0!==e.accountIndices&&void 0!==e.data?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)}))),tc),{size:bs()})]]}function hc(){return Ii({getSizeFromValue:e=>"legacy"===e.version?dc().getSizeFromValue(e):fc().getSizeFromValue(e),write:(e,t,n)=>"legacy"===e.version?dc().write(e,t,n):fc().write(e,t,n)})}function gc(){return qi(Fs([["version",lc()],["header",Fs([["numSignerAccounts",sc()],["numReadonlySignerAccounts",sc()],["numReadonlyNonSignerAccounts",sc()]])],["staticAccounts",Ns(ga(),{size:Ss()})],["lifetimeToken",Li(ic(),32)],["instructions",Ns((nc||(nc=qi(Fs([["programAddressIndex",Is()],["accountIndices",Ns(Is(),{size:Ss()})],["data",_i(Ms(),Ss())]]),(e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}}))),nc),{size:Ss()})],["addressTableLookups",Ns((Qs||(Qs=Fs([["lookupTableAddress",ga()],["writableIndices",Ns(Is(),{size:Ss()})],["readableIndices",Ns(Is(),{size:Ss()})]])),Qs),{size:Ss()})]]),(({addressTableLookups:e,...t})=>"legacy"!==t.version&&e?.length?{...t,addressTableLookups:e}:t))}function mc(e,t,n){e[t]=n(e[t]??{role:ts.READONLY})}var yc=Symbol("AddressMapTypeProperty");function vc(e){const t={};for(const n of e){if(!("lookupTableAddress"in n))continue;const e=t[n.lookupTableAddress]||={readableIndices:[],writableIndices:[]};n.role===ts.WRITABLE?e.writableIndices.push(n.addressIndex):e.readableIndices.push(n.addressIndex)}return Object.keys(t).sort(ya()).map((e=>({lookupTableAddress:e,...t[e]})))}function wc(e){let t=0,n=0,r=0;for(const o of e){if("lookupTableAddress"in o)break;const e=is(o.role);os(o.role)?(r++,e||n++):e||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function Ac(e,t){const n=function(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}(t);return e.map((({accounts:e,data:t,programAddress:r})=>({programAddressIndex:n[r],...e?{accountIndices:e.map((({address:e})=>n[e]))}:null,...t?{data:t}:null})))}function bc(e){const t=e.findIndex((e=>"lookupTableAddress"in e));return(-1===t?e:e.slice(0,t)).map((({address:e})=>e))}function Sc(e){const t=function(e){let t;const n=Object.entries(e).sort((([e,n],[r,o])=>{if(n[yc]!==o[yc]){if(0===n[yc])return-1;if(0===o[yc])return 1;if(2===n[yc])return-1;if(2===o[yc])return 1}const i=os(n.role);if(i!==os(o.role))return i?-1:1;const a=is(n.role);return a!==is(o.role)?a?-1:1:(t||=ya(),1===n[yc]&&1===o[yc]&&n.lookupTableAddress!==o.lookupTableAddress?t(n.lookupTableAddress,o.lookupTableAddress):t(e,r))})).map((([e,t])=>({address:e,...t})));return n}(function(e,t){const n={[e]:{[yc]:0,role:ts.WRITABLE_SIGNER}},r=new Set;for(const e of t){let t;if(mc(n,e.programAddress,(t=>{if(r.add(e.programAddress),yc in t){if(is(t.role)){if(0===t[yc])throw new yi(_o,{programAddress:e.programAddress});throw new yi(Mo,{programAddress:e.programAddress})}if(2===t[yc])return t}return{[yc]:2,role:ts.READONLY}})),e.accounts)for(const o of e.accounts)mc(n,o.address,(e=>{const{address:n,...i}=o;if(yc in e)switch(e[yc]){case 0:return e;case 1:{const n=as(e.role,i.role);if("lookupTableAddress"in i){if(e.lookupTableAddress!==i.lookupTableAddress&&(t||=ya())(i.lookupTableAddress,e.lookupTableAddress)<0)return{[yc]:1,...i,role:n}}else if(os(i.role))return{[yc]:2,role:n};return e.role!==n?{...e,role:n}:e}case 2:{const t=as(e.role,i.role);if(r.has(o.address)){if(is(i.role))throw new yi(Mo,{programAddress:o.address});return e.role!==t?{...e,role:t}:e}return"lookupTableAddress"in i&&!os(e.role)?{...i,[yc]:1,role:t}:e.role!==t?{...e,role:t}:e}}return"lookupTableAddress"in i?{...i,[yc]:1}:{...i,[yc]:2}}))}return n}(e.feePayer.address,e.instructions));return{..."legacy"!==e.version?{addressTableLookups:vc(t)}:null,header:wc(t),instructions:Ac(e.instructions,t),lifetimeToken:(n=e.lifetimeConstraint,"nonce"in n?n.nonce:n.blockhash),staticAccounts:bc(t),version:e.version};var n}function Ec({version:e}){return Object.freeze({instructions:Object.freeze([]),version:e})}var xc,Tc="SysvarRecentB1ockHashes11111111111111111111",kc="11111111111111111111111111111111";function Ic(e,t){return{accounts:[{address:e,role:ts.WRITABLE},{address:Tc,role:ts.READONLY},{address:t,role:ts.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:kc}}function Oc(e){return e.programAddress===kc&&null!=e.data&&(4===(t=e.data).byteLength&&4===t[0]&&0===t[1]&&0===t[2]&&0===t[3])&&3===e.accounts?.length&&null!=e.accounts[0].address&&e.accounts[0].role===ts.WRITABLE&&e.accounts[1].address===Tc&&e.accounts[1].role===ts.READONLY&&null!=e.accounts[2].address&&os(e.accounts[2].role);var t}function Bc(e){return"lifetimeConstraint"in e&&"string"==typeof e.lifetimeConstraint.nonce&&null!=e.instructions[0]&&Oc(e.instructions[0])}function Cc(e,t){if("feePayer"in t&&e===t.feePayer?.address&&function(e){return!!e&&"address"in e&&"string"==typeof e.address&&1===Object.keys(e).length}(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}function Rc(e,t){return jc([e],t)}function jc(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}function Nc(e,t){return Object.freeze({...t,instructions:Object.freeze([...e,...t.instructions])})}function Pc(e,t){const n=e.staticAccounts[0];if(!n)throw new yi(Do);const r=function(e){const{header:t}=e,n=t.numSignerAccounts-t.numReadonlySignerAccounts,r=e.staticAccounts.length-t.numSignerAccounts-t.numReadonlyNonSignerAccounts,o=[];let i=0;for(let t=0;t<n;t++)o.push({address:e.staticAccounts[i],role:ts.WRITABLE_SIGNER}),i++;for(let n=0;n<t.numReadonlySignerAccounts;n++)o.push({address:e.staticAccounts[i],role:ts.READONLY_SIGNER}),i++;for(let t=0;t<r;t++)o.push({address:e.staticAccounts[i],role:ts.WRITABLE}),i++;for(let n=0;n<t.numReadonlyNonSignerAccounts;n++)o.push({address:e.staticAccounts[i],role:ts.READONLY}),i++;return o}(e),o="addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?function(e,t){const n=e.map((e=>e.lookupTableAddress)),r=n.filter((e=>void 0===t[e]));if(r.length>0)throw new yi(Uo,{lookupTableAddresses:r});const o=[],i=[];for(const n of e){const e=t[n.lookupTableAddress],r=Math.max(...n.readableIndices,...n.writableIndices);if(r>=e.length)throw new yi(zo,{highestKnownIndex:e.length-1,highestRequestedIndex:r,lookupTableAddress:n.lookupTableAddress});const a=n.readableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:ts.READONLY})));o.push(...a);const s=n.writableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:ts.WRITABLE})));i.push(...s)}return[...i,...o]}(e.addressTableLookups,t?.addressesByLookupTableAddress??{}):[],i=[...r,...o],a=e.instructions.map((e=>function(e,t){const n=t[e.programAddressIndex]?.address;if(!n)throw new yi(Fo,{index:e.programAddressIndex});const r=e.accountIndices?.map((e=>t[e])),{data:o}=e;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...o&&o.length?{data:o}:{}})}(e,i))),s=a[0],c=function(e,t,n){if(t&&Oc(t)){const n=t.accounts[0].address;fa(n);const r=t.accounts[2].address;return fa(r),{nonce:e,nonceAccountAddress:n,nonceAuthorityAddress:r}}return{blockhash:e,lastValidBlockHeight:n??2n**64n-1n}}(e.lifetimeToken,s,t?.lastValidBlockHeight);return Ws(Ec({version:e.version}),(e=>Cc(n,e)),(e=>a.reduce(((e,t)=>Rc(t,e)),e)),(e=>"blockhash"in c?Ks(c,e):function({nonce:e,nonceAccountAddress:t,nonceAuthorityAddress:n},r){let o;const i=r.instructions[0];if(i&&Oc(i))if(function(e,t,n){return e.accounts[0].address===t&&e.accounts[2].address===n}(i,t,n)){if(Bc(r)&&r.lifetimeConstraint.nonce===e)return r;o=[i,...r.instructions.slice(1)]}else o=[Object.freeze(Ic(t,n)),...r.instructions.slice(1)];else o=[Object.freeze(Ic(t,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(o),lifetimeConstraint:Object.freeze({nonce:e})})}(c,e)))}function _c(e){const t=Object.values(e);if(0===t.length)throw new yi(Vo);return t.map((e=>e||new Uint8Array(64).fill(0)))}function Mc(){return zs([["signatures",$i(js(Mi(_s(),64),{size:bs()}),_c)],["messageBytes",_s()]])}function Lc(){return qi(Fs([["signatures",Ns(Li(Ms(),64),{size:Ss()})],["messageBytes",Ms()]]),Uc)}function Uc(e){const{messageBytes:t,signatures:n}=e,r=Ls([lc(),Di(Is(),2),Ns(ga(),{size:Ss()})]),[o,i,a]=r.decode(t),s=a.slice(0,i);if(s.length!==n.length)throw new yi(Ko,{numRequiredSignatures:i,signaturesLength:n.length,signerAddresses:s});const c={};return s.forEach(((e,t)=>{const r=n[t];r.every((e=>0===e))?c[e]=null:c[e]=r})),{messageBytes:t,signatures:Object.freeze(c)}}function zc(e){const t=Sc(e),n=hc().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),o={};for(const e of r)o[e]=null;let i;i=Vs(e)?{blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:{nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address};const a={lifetimeConstraint:i,messageBytes:n,signatures:Object.freeze(o)};return Object.freeze(a)}function Fc(e){xc||(xc=Qi());const t=Object.values(e.signatures)[0];if(!t)throw new yi(qo);return xc.decode(t)}async function Dc(e,t){let n,r;if(await Promise.all(e.map((async e=>{const o=await Ba(e.publicKey),i=t.signatures[o];if(void 0===i)return r||=new Set,void r.add(o);if(r)return;const a=await ds(e.privateKey,t.messageBytes);var s,c;null!==i&&(c=i,(s=a).length===c.length&&s.every(((e,t)=>e===c[t])))||(n||={},n[o]=a)}))),r&&r.size>0){const e=Object.keys(t.signatures);throw new yi(Wo,{expectedAddresses:e,unexpectedAddresses:[...r]})}return n?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...n})}):t}function $c(e){const t=[];if(Object.entries(e.signatures).forEach((([e,n])=>{n||t.push(e)})),t.length>0)throw new yi($o,{addresses:t})}function qc(e){const t=Mc().encode(e);return ra().decode(t)}function Wc(e){const t={};return e.forEach((e=>{if(t[e.address]){if(t[e.address]!==e)throw new yi(Po,{address:e.address})}else t[e.address]=e})),Object.values(t)}function Vc(e){return"modifyAndSignTransactions"in e&&"function"==typeof e.modifyAndSignTransactions}function Kc(e){return"signTransactions"in e&&"function"==typeof e.signTransactions}function Gc(e){return"signAndSendTransactions"in e&&"function"==typeof e.signAndSendTransactions}function Hc(e){return Kc(e)||Vc(e)||Gc(e)}function Jc(e){return Wc((e.accounts??[]).flatMap((e=>"signer"in e?e.signer:[])))}function Zc(e){return Wc([...e.feePayer&&Hc(e.feePayer)?[e.feePayer]:[],...e.instructions.flatMap(Jc)])}function Yc(e,t){const n=(r=t)&&"feePayer"in r&&r.feePayer&&"string"==typeof r.feePayer.address&&!Hc(r.feePayer)?e.find((e=>e.address===t.feePayer.address)):void 0;var r;return n||0!==t.instructions.length?Object.freeze({...t,...n?{feePayer:n}:null,instructions:t.instructions.map((t=>function(e,t){if(!t.accounts||0===t.accounts.length)return t;const n=new Map(Wc(e).map((e=>[e.address,e])));return Object.freeze({...t,accounts:t.accounts.map((e=>{const t=n.get(e.address);return os(e.role)&&!("signer"in e)&&t?Object.freeze({...e,signer:t}):e}))})}(e,t)))}):t}async function Qc(e){const t=await Ba(e.publicKey),n={address:t,keyPair:e,signMessages:n=>Promise.all(n.map((async n=>Object.freeze({[t]:await ds(e.privateKey,n.content)})))),signTransactions:n=>Promise.all(n.map((async n=>{const r=await Dc([e],n);return Object.freeze({[t]:r.signatures[t]})})))};return Object.freeze(n)}async function Xc(e,t){return await Qc(await hs(e,t))}function eu(e){const t={address:e,signMessages:e=>Promise.resolve(e.map((()=>Object.freeze({})))),signTransactions:e=>Promise.resolve(e.map((()=>Object.freeze({}))))};return Object.freeze(t)}async function tu(e,t){const n=await async function(e,t){const{partialSigners:n,modifyingSigners:r}=nu(Wc(Zc(e).filter(Hc)),{identifySendingSigner:!1});return await ru(e,r,n,t)}(e,t);return $c(n),n}function nu(e,t={}){const n=t.identifySendingSigner??!0?function(e){const t=e.filter(Gc);if(0===t.length)return null;const n=t.filter((e=>!Vc(e)&&!Kc(e)));if(n.length>0)return n[0];return t[0]}(e):null,r=e.filter((e=>e!==n&&(Vc(e)||Kc(e)))),o=function(e){const t=e.filter(Vc);if(0===t.length)return[];const n=t.filter((e=>!Kc(e)));return n.length>0?n:[t[0]]}(r),i=r.filter(Kc).filter((e=>!o.includes(e)));return Object.freeze({modifyingSigners:o,partialSigners:i,sendingSigner:n})}async function ru(e,t=[],n=[],r){const o=zc(e),i=await t.reduce((async(e,t)=>{r?.abortSignal?.throwIfAborted();const[n]=await t.modifyAndSignTransactions([await e],r);return Object.freeze(n)}),Promise.resolve(o));r?.abortSignal?.throwIfAborted();const a=await Promise.all(n.map((async e=>{const[t]=await e.signTransactions([i],r);return t}))),s={...i,signatures:Object.freeze(a.reduce(((e,t)=>({...e,...t})),i.signatures??{}))};return Object.freeze(s)}var ou=globalThis.TextEncoder;var iu,au=((iu=au||{})[iu.Uninitialized=0]="Uninitialized",iu[iu.Initialized=1]="Initialized",iu);var su,cu=((su=cu||{})[su.Legacy=0]="Legacy",su[su.Current=1]="Current",su);var uu,lu,du="11111111111111111111111111111111",fu=((uu=fu||{})[uu.Nonce=0]="Nonce",uu),pu=((lu=pu||{})[lu.CreateAccount=0]="CreateAccount",lu[lu.Assign=1]="Assign",lu[lu.TransferSol=2]="TransferSol",lu[lu.CreateAccountWithSeed=3]="CreateAccountWithSeed",lu[lu.AdvanceNonceAccount=4]="AdvanceNonceAccount",lu[lu.WithdrawNonceAccount=5]="WithdrawNonceAccount",lu[lu.InitializeNonceAccount=6]="InitializeNonceAccount",lu[lu.AuthorizeNonceAccount=7]="AuthorizeNonceAccount",lu[lu.Allocate=8]="Allocate",lu[lu.AllocateWithSeed=9]="AllocateWithSeed",lu[lu.AssignWithSeed=10]="AssignWithSeed",lu[lu.TransferSolWithSeed=11]="TransferSolWithSeed",lu[lu.UpgradeNonceAccount=12]="UpgradeNonceAccount",lu);function hu(e){if(!e)throw new Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function gu(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:ts.READONLY});const n=t.isWritable?ts.WRITABLE:ts.READONLY;return Object.freeze({address:hu(t.value),role:mu(t.value)?ss(n):n,...mu(t.value)?{signer:t.value}:{}})}}function mu(e){return!!e&&"object"==typeof e&&"address"in e&&Hc(e)}var yu=2;function vu(){return $i(zs([["discriminator",Es()],["amount",Ts()]]),(e=>({...e,discriminator:yu})))}const wu={log:(console.log,(...e)=>{}),info:(console.info,(...e)=>{}),warn:(console.warn,(...e)=>{}),debug:(console.debug,(...e)=>{}),error:(console.error,(...e)=>{})},Au=j(Da,O(j(N(),Ua))),bu=x(["btc","eth","ltc","bch","bnb","eos","xrp","xlm","link","dot","yfi","usd","aed","ars","aud","bdt","bhd","bmd","brl","cad","chf","clp","cny","czk","dkk","eur","gbp","gel","hkd","huf","idr","ils","inr","jpy","krw","kwd","lkr","mmk","mxn","myr","ngn","nok","nzd","php","pkr","pln","rub","sar","sek","sgd","thb","try","twd","uah","vef","vnd","zar","xdr","xag","xau","bits","sats"]);const Su=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),o=r.charCodeAt(0);if(255!==t[o])throw new TypeError(r+" is ambiguous");t[o]=n}const n=e.length,r=e.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let i=0,a=0,s=0;for(;e[i]===r;)a++,i++;const c=(e.length-i)*o+1>>>0,u=new Uint8Array(c);for(;e[i];){let r=t[e.charCodeAt(i)];if(255===r)return;let o=0;for(let e=c-1;(0!==r||o<s)&&-1!==e;e--,o++)r+=n*u[e]>>>0,u[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error("Non-zero carry");s=o,i++}let l=c-s;for(;l!==c&&0===u[l];)l++;const d=new Uint8Array(a+(c-l));let f=a;for(;l!==c;)d[f++]=u[l++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let o=0,a=0,s=0;const c=t.length;for(;s!==c&&0===t[s];)s++,o++;const u=(c-s)*i+1>>>0,l=new Uint8Array(u);for(;s!==c;){let e=t[s],r=0;for(let t=u-1;(0!==e||r<a)&&-1!==t;t--,r++)e+=256*l[t]>>>0,l[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");a=r,s++}let d=u-a;for(;d!==u&&0===l[d];)d++;let f=r.repeat(o);for(;d<u;++d)f+=e.charAt(l[d]);return f},decodeUnsafe:a,decode:function(e){const t=a(e);if(t)return t;throw new Error("Non-base"+n+" character")}}};const Eu=Su("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var xu=n(1048).hp;const Tu={[Ra.Mainnet]:"mainnet",[Ra.Devnet]:"devnet",[Ra.Testnet]:"testnet",[Ra.Localnet]:"localnet"};const ku=b(C({decimals:T(),assetId:Da,name:N(),symbol:N(),iconUrl:R(Fa)}));const Iu=x(Object.values(Ra)),Ou=P({address:N()}),Bu=k("ed25519"),Cu=P({domain:R(N()),address:R(N()),statement:R(N()),uri:R(N()),version:R(N()),chainId:R(N()),nonce:R(N()),issuedAt:R(N()),expirationTime:R(N()),notBefore:R(N()),requestId:R(N()),resources:R(b(N()))}),Ru=P({account:Ou,message:Qa}),ju=x(["processed","confirmed","finalized"]),Nu=P({commitment:R(ju)}),Pu=P({account:Ou,transaction:Qa,scope:Iu,options:R(Nu)}),_u=P({...Nu.schema,commitment:R(ju),skipPreflight:R(E()),maxRetries:R(B())}),Mu=P({...Pu.schema,scope:Iu,options:R(_u)}),Lu=C({method:x([gt.SignAndSendTransaction]),params:Mu}),Uu=C({method:x([gt.SignIn]),params:Cu}),zu=C({method:x([gt.SignMessage]),params:Ru}),Fu=C({method:x([gt.SignTransaction]),params:Pu}),Du=C({signature:Ya}),$u=C({signedTransaction:Qa}),qu=C({signature:Ya,signedMessage:Qa,signatureType:Bu}),Wu=C({account:Ou,...qu.schema}),Vu=_([Lu,Uu,zu,Fu]);function Ku(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class Gu extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}const Hu=Z(N(),/^(?:0x)?[0-9a-f]+$/iu);Z(N(),/^0x[0-9a-f]+$/iu),Z(N(),/^0x[0-9a-f]{40}$/u),Z(N(),/^0x[0-9a-fA-F]{40}$/u);function Ju(e){!function(e,t="Assertion failed.",n=Gu){if(!e){if(t instanceof Error)throw t;throw Ku(n,t)}}(function(e){return v(e,Hu)}(e),"Value must be a hexadecimal string.")}function Zu(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n(1048).hp;const Yu=48,Qu=58,Xu=87;!function(){const e=[]}();function el(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;Ju(e);const t=Zu(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),o=n.charCodeAt(2*e+1),i=t-(t<Qu?Yu:Xu),a=o-(o<Qu?Yu:Xu);r[e]=16*i+a}return r}const tl=["m","44\'","501\'"];async function nl(e){wu.log({index:e},"Generating solana wallet");const t=[`${e}\'`,"0\'"];try{const e=await async function(e,t){return await snap.request({method:"snap_getBip32Entropy",params:{path:e,curve:t}})}([...tl,...t],"ed25519");if(!e.privateKey||!e.publicKey)throw new Error("Unable to derive private key");return{privateKeyBytes:el(e.privateKey),publicKeyBytes:el(e.publicKey)}}catch(e){throw wu.error({error:e},"Error deriving keypair"),new Error(e)}}var rl;!function(e){e.StartSendTransactionFlow="startSendTransactionFlow",e.GetFeeForTransaction="getFeeForTransaction"}(rl||(rl={}));const ol=G(b(Fa),N(),(e=>e.split(","))),il=G(b(N()),N(),(e=>e.split(","))),al=C({ENVIRONMENT:x(["local","test","production"]),RPC_URL_MAINNET_LIST:ol,RPC_URL_DEVNET_LIST:ol,RPC_URL_TESTNET_LIST:ol,RPC_URL_LOCALNET_LIST:il,EXPLORER_BASE_URL:Fa,PRICE_API_BASE_URL:Fa,TOKEN_API_BASE_URL:Fa,STATIC_API_BASE_URL:Fa,SECURITY_ALERTS_API_BASE_URL:Fa,LOCAL_API_BASE_URL:N()});class sl{#e;constructor(){const e=this.#t();this.#e=this.#n(e)}#t(){return y({ENVIRONMENT:"production",RPC_URL_MAINNET_LIST:"https://solana-mainnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_URL_DEVNET_LIST:"https://solana-devnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d",RPC_URL_TESTNET_LIST:"https://api.testnet.solana.com",RPC_URL_LOCALNET_LIST:"http://localhost:8899",EXPLORER_BASE_URL:"https://solscan.io",PRICE_API_BASE_URL:"https://price.api.cx.metamask.io",TOKEN_API_BASE_URL:"https://tokens.api.cx.metamask.io",STATIC_API_BASE_URL:"https://static.cx.metamask.io",SECURITY_ALERTS_API_BASE_URL:"https://security-alerts.api.cx.metamask.io",LOCAL_API_BASE_URL:"http://localhost:8899"},al)}#n(e){return{environment:e.ENVIRONMENT,networks:[{...Ma[Ra.Mainnet],rpcUrls:e.RPC_URL_MAINNET_LIST},{...Ma[Ra.Devnet],rpcUrls:e.RPC_URL_DEVNET_LIST},{...Ma[Ra.Testnet],rpcUrls:e.RPC_URL_TESTNET_LIST},{...Ma[Ra.Localnet],rpcUrls:e.RPC_URL_LOCALNET_LIST}],explorerBaseUrl:e.EXPLORER_BASE_URL,activeNetworks:"test"===e.ENVIRONMENT?[Ra.Localnet]:[Ra.Mainnet,Ra.Devnet],priceApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.PRICE_API_BASE_URL,chunkSize:50},tokenApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.TOKEN_API_BASE_URL,chunkSize:50},staticApi:{baseUrl:e.STATIC_API_BASE_URL},transactions:{storageLimit:20},securityAlertsApi:{baseUrl:"test"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.SECURITY_ALERTS_API_BASE_URL}}}get(){return this.#e}getNetworkBy(e,t){const n=this.get().networks.find((n=>n[e]===t));if(!n)throw new Error(`Network ${e} not found`);return n}}const cl=(new sl).get(),ul=["local","test"].includes(cl.environment),ll=ul?["http://localhost:3000"]:["https://portfolio.metamask.io"],dl=ul?new Set([bt.ListAccounts,bt.GetAccount,bt.CreateAccount,bt.FilterAccountChains,bt.DeleteAccount,bt.GetAccountBalances,bt.SubmitRequest,bt.ListAccountTransactions,bt.ListAccountAssets,rl.StartSendTransactionFlow,rl.GetFeeForTransaction]):new Set([]),fl=new Set([bt.ListAccounts,bt.GetAccount,bt.CreateAccount,bt.DeleteAccount,bt.GetAccountBalances,bt.SubmitRequest,bt.ListAccountTransactions,bt.ListAccountAssets,bt.ResolveAccountAddress,rl.StartSendTransactionFlow,rl.GetFeeForTransaction]),pl=new Map([]);for(const e of ll)pl.set(e,dl);pl.set("metamask",fl);const hl=(e,t)=>{var n;if(!e)throw new Tr("Origin not found");if(!(null===(n=pl.get(e))||void 0===n?void 0:n.has(t)))throw new Tr("Permission denied")};function gl(e,t){try{m(e,t)}catch(e){throw new hr(e.message)}}function ml(e,t){try{m(e,t)}catch(e){throw new lr("Invalid Response")}}const yl=C({id:La,scope:Ha,account:La,request:Vu});const vl=e=>Gr(e.toString()).dividedBy(Ca),wl=e=>Gr(e.toString()).multipliedBy(Ca).integerValue(Gr.ROUND_DOWN);function Al(e,t){const n=t.filter((t=>!e.includes(t))),r=e.filter((e=>!t.includes(e)));return{hasDiff:n.length>0||r.length>0,added:n,deleted:r}}function bl(e,t){const n={added:{},deleted:{},changed:{},hasDiff:!1},r=(e,o,i="")=>{for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=i?`${i}.${a}`:a;if(Object.prototype.hasOwnProperty.call(o,a)){if("object"==typeof e[a]&&null!==e[a]&&"object"==typeof o[a]&&null!==o[a])r(e[a],o[a],s);else if(e[a]!==o[a]){const e=s.split(".")[0];n.changed[e??a]=t[e??a],n.hasDiff=!0}}else n.deleted[s]=e[a],n.hasDiff=!0}for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&!Object.prototype.hasOwnProperty.call(e,t)){const e=i?`${i}.${t}`:t;n.added[e]=o[t],n.hasDiff=!0}};return r(e,t),n}function Sl(e,t){var n;return null===(n=e.find((e=>e.address===t)))||void 0===n?void 0:n.id}function El(e,t){return`${e}/token:${t}`}const xl=P({context:P({slot:S()}),value:S()}),Tl=P({amount:N(),decimals:B()}),kl=P({mint:N(),owner:N(),isNative:E(),tokenAmount:Tl}),Il=P({parsed:P({info:kl})}),Ol=P({account:P({data:Il})}),Bl=P({context:P({slot:S()}),value:b(Ol)});function Cl(e,t,n){if("string"==typeof e)throw new Error(`An HTML element ("${String(e)}") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error("A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.");return e({...t,key:n})}function Rl(e,t,n){return Cl(e,t,n)}const jl=\'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><image width="16" height="16" href="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQUFBQUGBgUICAcICAsKCQkKCxEMDQwNDBEaEBMQEBMQGhcbFhUWGxcpIBwcICkvJyUnLzkzMzlHREddXX0BBQUFBQUFBQYGBQgIBwgICwoJCQoLEQwNDA0MERoQExAQExAaFxsWFRYbFykgHBwgKS8nJScvOTMzOUdER11dff/CABEIAPoA+gMBIgACEQEDEQH/xAA1AAEAAwEBAQEBAAAAAAAAAAAAAQIHBggEBQMBAQADAQEBAQAAAAAAAAAAAAACAwQBBQYH/9oADAMBAAIQAxAAAADxkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACx204cU3mdnnYLG+IQwNvsxhgLfrRh5/egLRh59egkYefXoRCPn6mv5BH2ajuwAAAACZdFZz6/SvzfofWfLWtS2jw7WpNGO01mjJaas+P+k0tRjtNbUY38Leccnq/DxFq5f2ao7cAAAAB+36W8/9p7+DZZxp6nl7LOM3qzbLOMqs2zzjF6suyzjNqqNlnGrU5NkY7zlHP75Wjzv0mg5pAAAAAAs6jqdsMuajacMsam5HLGqORytqkxjlTVbc5lLVpjDKGsfhQlwdb1p3QAAAAAADofSXk7q/cp9MT8n0/cebe1Jpx2tS2fJNqTRkvNLUY7TWaMdqXZ8vnHPvZHmrw/u+JTGL6EAAAAABMDuvQvkLQfo6PQU55P0WLRJztTl0Sc7U5tFnOppzaOzmacujTnSrLo3x8NNFOM8zsuM+H99Aq2AAAAAATMfpWPznbNXOJdqjHi47Wec4l2jnOLdo5zi57JFxrsp5HjadRy9d0CMgAAAAJPqm+j0X8fW/oV82rPvUWRNGObUmjHe1LUZLIUY7TDPk/opk2CP5uPy+U+1qKrwAAAAPo3zPdc+23fu2/BfYXdA/AmjL+/bn1GToZ55Tl6KedmjJ0c87anL0LnuZyUTgH9fm+Q9+Bk0AAAAAAWVdWVFlRZUWVFpo4uoLxV0HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EAEEQAAECAwQHBAgDBgcBAAAAAAECBAADBgURF1UQMUFRkpPSEiFSohYgIjBAYaPiBzLBEyRUYnCRFBVDRYGhstH/2gAIAQEAAT8A/qXdF0XRd8ou9a4R3aOz8AO+KUo95Uc1SyoyGcs+3OIvvPhQDrMYUWPmbzhRGFFj5m74URhRY2Zu+FEYT2NmbvhRGE1jZm84URhNY2ZvOFEYTWNmjzhRGEti5o84URhLYuaPP7IjCWxc0ecKIwksXM3nCiMJLFzN5wojCSxczd/2RGEliZm8/siKt/DthYNkTLRbWlNUqWtIKJwA7Xa8JHwFK0w6qN6EJvQ1lkGfO2AeEb1HZDRq2YNpLVrJTLkyk9lCAO4D9TtJ2nQIv0C/QDAOgGL9Lp22Yt5rl1NTLky03rWrUB+p+W2KyqubUr72SpDOSSJEonzKHiPv6dsB7UT1LduLkJuM2afyy0bzvO4RZdmtbIZSGTRHZlS069qlbVK3k6AYGkQDA0DQDonTpTaVMnTpqUSkJKlrUbkhI1kmK3rJdQuRIaKUiz5BPYB7jMV41CD3++sWx3ltv5LNqm9au9Sj+VCRrUo7hFg2IzsBhLZthftmzCO+Yvao7vkNA0AxfA0A6RAMCCpKUqJUAALySbgBFeVsLXUuzbPWQxQr25m2coH/AMiFa/f0rVK6ZmO1hkiemehIIKuwoFBvFyrjGLByIc89MYsnIxz/ALIxZORjn/ZGLJyMc89MYspyP6/2xi0nIvr/AGxi2nI/r/bGLYyL6/2xi5LyM8/7Yxbl5Gef9sYuSsjPPHTGLkrI1c8dMYuSMjXzh0xi63yRfOHTFR/iO9tpktk1bBpJWLpp7fbWtPh1CCTBJPwN3udfqk6vgKcph7Ui3KW02VKEhIK1zL9atQFwJjCu1szZ+fpjCy18zZ+fpjCu1syZefpjCu1syZefpjCq18yZ+fpjCq18yZ+fpjCm18zZ+fpjCi1s0Z+fpjCe1szZ+fpjCe1s0Z+fpjCa180Z+fpjCa1szZ+fpjCa1szZefpjCW1s0Zefpi36Etan2gdrVKcSAblqlX+wTvBAMKB7ou9/T9vPKffJctriki6bLP5Vo3H9DFl2m1tdlIetV9qXMGralW1KtxGgGAYvgQDoBi+L9A0TZUtxKmSp0tK5cwFK0K7wUnWCIrWjlU+4DltethOPsE95lK8CjB+ApipnVPPAtN62yyBPk7FDeNyhsMNHbZ+2kum04TJMxPaSobR+hG0bIEXwDpB0AwIHqO2rZ+2nNXMlM2TMR2VoVqI/Q7jsisKWn049ISVTGc4kyJvy1lCvmII9+DdFH1VNsB0JThalMJyh+1RrKD40jeIkzpLiVLnSZqZkqYkKQtJvSUnUQdAOi+BF+gHQNA0WjZzO1Wc5m8lCZKmC4jaDsUk7FDYYqWnHtOv1t56SqUq8yJwHctH/ANG2B78G4xR1ZKsLttXiVzGSzeAk3mUraUg6wdojEum9zzkp64xMprc85KeuMTKa8Lzkp64xMprwvOSnrjE2mvC85KeuMTaa8LzlJ64xNprwveSnrjE6mvC95KeuMT6Z3POSnrjE+mdzzlJ6oxOpnc85Q6oxPpjc85SeqMT6YOx5yU9cYn0xue8lPXFY1tYFuWKtk1kT1zzNQpCpqAkIuPeoHtHX8APWv9S+L4vGjVo/4+Bs6zHtquA3ZN1TphBNydgG0k9wEYfVR/Ao5qIw9qj+BRzURh/VWXDmojD6qsuHNRGH1VZcOaiMPqqy4c1EYf1Xlf1ZfVGH9WZX9VHVGH1WZX9WX1Rh9VeWfVl9UYf1blJ5qOqMP6tyo81HVGH1W5T9VHVGH1XZSeajqi0qSt+yGxdPrPXLkhQSV9pKgCd/ZJ+As6z3dpu5LVrKMybMNwA/7JOwDaYpun29PMBIRcufMuLib41bh/KNnq3iL4ECO6Bd6m0d0fiBWMp6ldj2esKkBX7xOGpage5Cd6RtPvhDRrPeOJTeRKVMnTFBKEDWSYpSmJNPNSVkLezUj9rM2Aa+wn5DadI9QQDovgQNAivK2S2TPsezZl80jsOZwP5AdaE/PeYJJ99KlrmrQhAJWSAABeSdwikaTRYklLp0Ap/MRcdolJOwfPeY1QDov0iBoBi+AdNb1l/k6FWcwX+/LR7ax/oAjZ/OYUpSiSSSSbyT3kn39BubFZv5860ZqJc5KB/h1zPyJO0/JW6PSanh/vTXjj0mp7OmvHAqens6a8celFO501449Kacztrxx6U05nbXjj0ppzPGnHHpTTeeNOOPSqnM8accelVN54044FVU3njTjj0rprPWnHAqums8accelVNZ4044qav7PYNDLsp0hy7mC4LR3oljxE7VbhE+dNcTVzpswrmLUVKUokqJOsknWfgAbovMXnfF/wAzHai+L4vMdo747R3x2jvgKO+O18zHa+cXnfBJ/rX/AP/EADQRAAEDAQUFBAkFAAAAAAAAAAIAAQQDBRIUU5IREzBCVBUjMkMGICExM0RQUqIQImFyof/aAAgBAgEBPwD6pTpnVK6A3iT2fJ+z/U8GQ3InhyG5FhqzcqehUbkW7qfYnE25eBTA6piADeIlCgNFD2/ELxIhRCiFEKIUQqq93gWXXs+NT3lQu+/qitWC/m/i6e04b+annxcxFOi5iKZGfmRSo78yORS2ftJETk+1+BRgTK4bylQMhT2XO6U12ZOb5c12dMyDTwJWQawUnKNYORlIo9YG2vS4NkWoUM92fwS/H+UziY3hRCiFEKIUQog2+9S4z0ivD4eDY9rYd9xXLu+UvtRWlA6oEVowepBFPhZ4IpsPPBFMiZ4IpUbNBHXjG2x6oKsICbsBXh4AAVQhAAvES7Om9Kel1gJnSnpdYGY3y56Vg5TeQelYSVkHpWGkZJ6Vh6+UaISF9hD64iREIj73Vh2Jg6bSKw98X4ohRCiFEKIUQqVWCPTvEq1YqxuRev6Nw4Aji5MgN5yARN7EU6D1YamRTYXVBqZFMh9QGpkUqJ1AamRSonUBqZFJi54amVaXGpgRb0FKlHKqXn8PLwNqvOrzra6vP+u36t//xAA2EQABBAEBAwkECwEAAAAAAAACAAEDBAWiEjFDBhETFDAyQkRSICFBkhYjM1BTVGBhcrHB0f/aAAgBAwEBPwD70llCGMpJC2RT5jHtxtLp85jm42l0/KDFtvsaXT8pMS3mdLp+U+HbzOl0/KvCN5vS6+l+Cbfb0uqOQq5KBp6x7Ufd7rt/ftkTA3O+5ZC0dk9lvsxRgjBGCMEYI41hMBLl7PpgDvn/AIq1aGpBHBCGzGDcw+3binmbZDuosbYfwo8VbfhosNdfhamR4PIPwtTIsBkX4GpkfJzKPug1MoOSuSmmAZI+jDxntMqVOvQrhBCGyI6v3fsHkAX95J7ELeNPbr/GVddqNxl1+m3HBPk6Db7QJ8tjvjaBRZOhNIMYWgci7GWPbZHGjBGCMFJGjBOxCTEKwmYG4HQTF9cOrsZYtv3sjryP4UdSV+EjpWH4SPH2X3QGjxlx+AaPE338qaHFZSIwOOuYkKoS2ZawPZi6OT4/97F3ZOYN4l0sbeNl08P4oJ7EDcUF1mv+YD5l1uq3mA+ZkMkcjc4GxD2DROze9GCMFICMEYIwVelJbl2B3KtWjqxDFHub260cXNtmYI3i9aNg9aMWRx86OE/Qjry+hdSnM+ZgVatHWjYQb+X6F//Z" /></svg>\',Nl="send-form",Pl="confirm-sign-and-send-transaction";async function _l(e,t){return snap.request({method:"snap_createInterface",params:{ui:e,context:t}})}async function Ml(e,t,n){return snap.request({method:"snap_updateInterface",params:{id:e,ui:t,context:n}})}async function Ll(e,t){return snap.request({method:"snap_resolveInterface",params:{id:e,value:t}})}async function Ul(e){return snap.request({method:"snap_dialog",params:{id:e}})}async function zl(){return snap.request({method:"snap_getPreferences"})}async function Fl(e){return await snap.request({method:"snap_getInterfaceContext",params:{id:e}})}function Dl(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function $l(e){return t=>{const{key:n=null,...r}=t;return{type:e,props:Dl(r),key:n}}}const ql=$l("Container"),Wl=$l("Box"),Vl=$l("Heading"),Kl=$l("Text"),Gl=$l("Section"),Hl=$l("Row"),Jl=$l("Address"),Zl=$l("Image"),Yl=$l("Footer"),Ql=$l("Button");function Xl(e,t){return`${e}:${t}`}const ed=JSON.parse(\'{"D":{"send.title":{"message":"Send"},"send.balance":{"message":"Balance"},"send.maxButton":{"message":"Max"},"send.cancelButton":{"message":"Cancel"},"send.continueButton":{"message":"Continue"},"send.fromField":{"message":"From"},"send.toField":{"message":"To"},"send.amountField":{"message":"Amount"},"send.assetField":{"message":"Token"},"send.toPlaceholder":{"message":"Enter public address"},"send.fromRequiredError":{"message":"Account is required"},"send.amountRequiredError":{"message":"Amount is required"},"send.amountGreatherThanMinimumBalanceForRentExemptionError":{"message":"Amount must be greater than {minimumValue}"},"send.insuffientSolToCoverFee":{"message":"Insufficient SOL balance to cover the transaction fee"},"send.toRequiredError":{"message":"To address is required"},"send.toInvalidError":{"message":"Invalid Solana address"},"send.insufficientBalance":{"message":"Insufficient balance"},"send.simulationTitleError":{"message":"Transaction simulation failed"},"send.simulationMessageError":{"message":"This transaction was reverted during simulation."},"send.selectedTokenPriceNotAvailable":{"message":"Prices for tokens in {currency} are currently not available. You are still able to send tokens."},"send.confirmation.title":{"message":"Review"},"send.confirmation.from":{"message":"From"},"send.confirmation.recipient":{"message":"Recipient"},"send.confirmation.network":{"message":"Network"},"send.confirmation.transactionSpeed":{"message":"Transaction speed"},"send.confirmation.fee":{"message":"Network fee"},"send.confirmation.sendButton":{"message":"Send"},"send.confirmation.cancelButton":{"message":"Cancel"},"send.confirmation.viewTransaction":{"message":"View transaction"},"send.send-pending.title":{"message":"Sending..."},"send.send-pending.subtitle":{"message":"Your transaction was submitted."},"send.transaction-success.title":{"message":"Sent"},"send.transaction-success.subtitle":{"message":"{amount} {tokenSymbol} was successfully sent"},"send.transaction-failure.title":{"message":"Transaction failed"},"send.transaction-failure.subtitle":{"message":"Unable to send {amount} {tokenSymbol}"},"confirmation.account":{"message":"Account"},"confirmation.network":{"message":"Network"},"confirmation.estimatedChanges":{"message":"Estimated changes"},"confirmation.estimatedChanges.send":{"message":"You send"},"confirmation.estimatedChanges.receive":{"message":"You receive"},"confirmation.estimatedChanges.notAvailable":{"message":"Not available"},"confirmation.estimatedChanges.noChanges":{"message":"No changes"},"confirmation.estimatedChanges.tooltip":{"message":"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee."},"confirmation.advanced.show":{"message":"Show advanced"},"confirmation.advanced.hide":{"message":"Hide advanced"},"confirmation.cancelButton":{"message":"Cancel"},"confirmation.confirmButton":{"message":"Confirm"},"confirmation.title":{"message":"Transaction request"},"confirmation.advanced.unknownInstruction":{"message":"Unknown"},"confirmation.advanced.programId":{"message":"Program ID"},"confirmation.advanced.data":{"message":"Data"},"confirmation.fee":{"message":"Network fee"},"confirmation.feeError":{"message":"Unable to estimate fee"},"confirmation.simulationErrorTitle":{"message":"This transaction was reverted during simulation."},"confirmation.simulationErrorSubtitle":{"message":"Reason: {reason}"},"confirmation.validationErrorTitle":{"message":"This is a deceptive request"},"confirmation.validationErrorSubtitle":{"message":"If you approve this request, a third party known for scams will take all your assets."},"confirmation.validationErrorLearnMore":{"message":"Learn more"},"confirmation.validationErrorSecurityAdviced":{"message":"Security advice by"},"confirmation.signMessage.title":{"message":"Sign message"},"confirmation.signMessage.message":{"message":"Message"},"confirmation.signIn.title":{"message":"Sign-in request"},"confirmation.signIn.description":{"message":"A site wants you to sign in to prove you own this account."},"confirmation.signIn.requestFrom":{"message":"Request from"},"confirmation.signIn.unknownDomain":{"message":"Unknown domain"},"confirmation.signIn.signingInWith":{"message":"Signing in with"},"confirmation.signIn.badAccount":{"message":"This site is asking you to sign in using the wrong account."},"confirmation.signIn.message":{"message":"Message"},"confirmation.signIn.statement":{"message":"Statement"},"confirmation.signIn.version":{"message":"Version"},"confirmation.signIn.chainId":{"message":"Chain ID"},"confirmation.signIn.nonce":{"message":"Nonce"},"confirmation.signIn.issuedAt":{"message":"Issued at"},"confirmation.signIn.expirationTime":{"message":"Expiration time"},"confirmation.signIn.notBefore":{"message":"Not before"},"confirmation.signIn.requestId":{"message":"Request ID"},"confirmation.signIn.resources":{"message":"Resources"}}}\'),td=JSON.parse(\'{"D":{"send.title":{"message":"Enviar"},"send.balance":{"message":"Saldo"},"send.maxButton":{"message":"Mx."},"send.cancelButton":{"message":"Cancelar"},"send.continueButton":{"message":"Continuar"},"send.fromField":{"message":"De"},"send.toField":{"message":"Para"},"send.amountField":{"message":"Monto"},"send.assetField":{"message":"Token"},"send.toPlaceholder":{"message":"Introduzca la direccin pblica"},"send.fromRequiredError":{"message":"La cuenta es obligatoria"},"send.amountRequiredError":{"message":"El monto es obligatorio"},"send.amountGreatherThanMinimumBalanceForRentExemptionError":{"message":"El valor debe ser superior a {minimumValue}"},"send.insuffientSolToCoverFee":{"message":"Insufficient SOL balance to cover the transaction fee"},"send.toRequiredError":{"message":"La direccin del destinatario es obligatoria"},"send.toInvalidError":{"message":"Direccin de Solana no vlida"},"send.insufficientBalance":{"message":"Saldo insuficiente"},"send.simulationTitleError":{"message":"Simulacin de transaccin fallida"},"send.simulationMessageError":{"message":"Esta transaccin se revirti durante la simulacin."},"send.selectedTokenPriceNotAvailable":{"message":"Los precios de los tokens en {currency} no estn disponibles actualmente. An puede enviar tokens."},"send.confirmation.title":{"message":"Revisar"},"send.confirmation.from":{"message":"De"},"send.confirmation.recipient":{"message":"Destinatario"},"send.confirmation.network":{"message":"Red"},"send.confirmation.transactionSpeed":{"message":"Velocidad de la transaccin"},"send.confirmation.fee":{"message":"Tarifa de red"},"send.confirmation.sendButton":{"message":"Enviar"},"send.confirmation.cancelButton":{"message":"Cancelar"},"send.confirmation.viewTransaction":{"message":"Ver transaccin"},"send.send-pending.title":{"message":"Enviando..."},"send.send-pending.subtitle":{"message":"Se envi su transaccin."},"send.transaction-success.title":{"message":"Enviado"},"send.transaction-success.subtitle":{"message":"El envo de {amount} {tokenSymbol} se realiz correctamente"},"send.transaction-failure.title":{"message":"Transaccin fallida"},"send.transaction-failure.subtitle":{"message":"Error al enviar {amount} {tokenSymbol}"},"confirmation.account":{"message":"Cuenta"},"confirmation.network":{"message":"Red"},"confirmation.estimatedChanges":{"message":"Cambios estimados"},"confirmation.estimatedChanges.send":{"message":"Usted enva"},"confirmation.estimatedChanges.receive":{"message":"Usted recibe"},"confirmation.estimatedChanges.notAvailable":{"message":"No disponible"},"confirmation.estimatedChanges.noChanges":{"message":"Sin cambios"},"confirmation.estimatedChanges.tooltip":{"message":"Los cambios estimados son los que podran producirse si sigue adelante con esta transaccin. Esto es solo una prediccin, no una garanta."},"confirmation.advanced.show":{"message":"Mostrar avanzadas"},"confirmation.advanced.hide":{"message":"Ocultar avanzadas"},"confirmation.cancelButton":{"message":"Cancelar"},"confirmation.confirmButton":{"message":"Confirmar"},"confirmation.title":{"message":"Solicitud de transaccin"},"confirmation.advanced.unknownInstruction":{"message":"Desconocida"},"confirmation.advanced.programId":{"message":"ID del programa"},"confirmation.advanced.data":{"message":"Datos"},"confirmation.fee":{"message":"Tarifa de red"},"confirmation.feeError":{"message":"No se puede calcular la tarifa"},"confirmation.simulationErrorTitle":{"message":"Esta transaccin se revirti durante la simulacin."},"confirmation.simulationErrorSubtitle":{"message":"Motivo: {reason}"},"confirmation.validationErrorTitle":{"message":"Esta es una solicitud engaosa"},"confirmation.validationErrorSubtitle":{"message":"Si aprueba esta solicitud, un tercero conocido por sus estafas se quedar con todos sus activos."},"confirmation.validationErrorLearnMore":{"message":"Conozca ms"},"confirmation.validationErrorSecurityAdviced":{"message":"Asesoramiento de seguridad por"},"confirmation.signMessage.title":{"message":"Sign message"},"confirmation.signMessage.message":{"message":"Message"},"confirmation.signIn.title":{"message":"Sign-in request"},"confirmation.signIn.description":{"message":"A site wants you to sign in to prove you own this account."},"confirmation.signIn.requestFrom":{"message":"Request from"},"confirmation.signIn.unknownDomain":{"message":"Unknown domain"},"confirmation.signIn.signingInWith":{"message":"Signing in with"},"confirmation.signIn.badAccount":{"message":"This site is asking you to sign in using the wrong account."},"confirmation.signIn.message":{"message":"Message"},"confirmation.signIn.statement":{"message":"Statement"},"confirmation.signIn.version":{"message":"Version"},"confirmation.signIn.chainId":{"message":"Chain ID"},"confirmation.signIn.nonce":{"message":"Nonce"},"confirmation.signIn.issuedAt":{"message":"Issued at"},"confirmation.signIn.expirationTime":{"message":"Expiration time"},"confirmation.signIn.notBefore":{"message":"Not before"},"confirmation.signIn.requestId":{"message":"Request ID"},"confirmation.signIn.resources":{"message":"Resources"}}}\'),nd={en:ed.D,es:td.D};function rd(e){const t=nd[e]??nd.en;return(e,n)=>{var r,o;let i=(null===(o=t)||void 0===o||null===(r=o[e])||void 0===r?void 0:r.message)??e;return n&&i&&Object.keys(n).forEach((e=>{const t=new RegExp(`\\\\{${e}\\\\}`,"gu");i=i.replace(t,n[e]??"")})),i}}const od=({label:e,value:t})=>null!=t?Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:e}),Cl(Kl,{children:t})]}):null,id=1e-6,ad=3,sd="0",cd=new Gr(id).decimalPlaces();function ud(e,t){try{const n=new Gr(e);if(n.isNaN())return sd;if(n.isZero())return sd;if(n.abs().lt(id))return`<${function(e,t){const n=new Gr(t),r=n.decimalPlaces(),o=n.toFixed(r??0),[i,a]=o.split("."),s=new Intl.NumberFormat(e).format(i);return a?`${s}.${a}`:s}(t,id)}`;if(n.abs().lt(1))return new Intl.NumberFormat(t,{maximumSignificantDigits:ad}).format(Number(n.toFixed(cd??0)));const r=n.abs().integerValue().toString().length,o=Math.max(0,ad-r+1);return new Intl.NumberFormat(t,{maximumFractionDigits:o}).format(n.toFixed(o))}catch(e){return console.error(e),sd}}function ld(e,t,n){return new Gr(e).toNumber().toLocaleString(n,{style:"currency",currency:t,maximumFractionDigits:2,minimumFractionDigits:2})}const dd=({asset:e,preferences:t})=>{const n=e.type;return Rl(Wl,{direction:"vertical",crossAlignment:"end",children:[Rl(Wl,{direction:"horizontal",alignment:"center",children:[Rl(Kl,{color:"in"===n?"success":"error",children:["in"===n?"+":"-",ud(e.value??0,t.locale)]}),e.imageSvg?Cl(Wl,{alignment:"center",center:!0,children:Cl(Zl,{borderRadius:"full",src:e.imageSvg})}):null,Cl(Kl,{children:e.symbol??""})]}),e.price?Cl(Kl,{color:"muted",children:ld(e.price.toString(),t.currency,t.locale)}):null]})},fd=$l("Tooltip");var pd;!function(e){e.AddSquare="add-square",e.Add="add",e.Arrow2Down="arrow-2-down",e.Arrow2Left="arrow-2-left",e.Arrow2Right="arrow-2-right",e.Arrow2Up="arrow-2-up",e.Arrow2UpRight="arrow-2-up-right",e.ArrowDoubleLeft="arrow-double-left",e.ArrowDoubleRight="arrow-double-right",e.ArrowDown="arrow-down",e.ArrowLeft="arrow-left",e.ArrowRight="arrow-right",e.ArrowUp="arrow-up",e.BankToken="bank-token",e.Bank="bank",e.Book="book",e.Bookmark="bookmark",e.Bridge="bridge",e.Calculator="calculator",e.CardPos="card-pos",e.CardToken="card-token",e.Card="card",e.Category="category",e.Chart="chart",e.CheckBold="check-bold",e.Check="check",e.Clock="clock",e.Close="close",e.CodeCircle="code-circle",e.Coin="coin",e.Confirmation="confirmation",e.Connect="connect",e.CopySuccess="copy-success",e.Copy="copy",e.Customize="customize",e.Danger="danger",e.Dark="dark",e.Data="data",e.Diagram="diagram",e.DocumentCode="document-code",e.DragDrop="drag-drop",e.DraggingAnimation="dragging-animation",e.PinningAnimation="pinning-animation",e.Edit="edit",e.Eraser="eraser",e.Ethereum="ethereum",e.Expand="expand",e.Explore="explore",e.Export="export",e.EyeSlash="eye-slash",e.Eye="eye",e.Filter="filter",e.Flag="flag",e.FlashSlash="flash-slash",e.Flash="flash",e.FullCircle="full-circle",e.Gas="gas",e.GlobalSearch="global-search",e.Global="global",e.Graph="graph",e.Hardware="hardware",e.Heart="heart",e.Hierarchy="hierarchy",e.Home="home",e.Import="import",e.Info="info",e.Key="key",e.Light="light",e.Link="link",e.Loading="loading",e.LockCircle="lock-circle",e.LockSlash="lock-slash",e.Lock="lock",e.Login="login",e.Logout="logout",e.Menu="menu",e.MessageQuestion="message-question",e.Messages="messages",e.MinusBold="minus-bold",e.MinusSquare="minus-square",e.Minus="minus",e.Mobile="mobile",e.Money="money",e.Monitor="monitor",e.MoreHorizontal="more-horizontal",e.MoreVertical="more-vertical",e.NotificationCircle="notification-circle",e.Notification="notification",e.PasswordCheck="password-check",e.People="people",e.Pin="pin",e.ProgrammingArrows="programming-arrows",e.Custody="custody",e.Question="question",e.Received="received",e.Refresh="refresh",e.Save="save",e.ScanBarcode="scan-barcode",e.ScanFocus="scan-focus",e.Scan="scan",e.Scroll="scroll",e.Search="search",e.SecurityCard="security-card",e.SecurityCross="security-cross",e.SecurityKey="security-key",e.SecuritySearch="security-search",e.SecuritySlash="security-slash",e.SecurityTick="security-tick",e.SecurityTime="security-time",e.SecurityUser="security-user",e.Security="security",e.Send1="send-1",e.Send2="send-2",e.Setting="setting",e.Slash="slash",e.SnapsMobile="snaps-mobile",e.SnapsPlus="snaps-plus",e.Snaps="snaps",e.Speedometer="speedometer",e.Star="star",e.Stake="stake",e.Student="student",e.SwapHorizontal="swap-horizontal",e.SwapVertical="swap-vertical",e.Tag="tag",e.Tilde="tilde",e.Timer="timer",e.Trash="trash",e.TrendDown="trend-down",e.TrendUp="trend-up",e.UserCircleAdd="user-circle-add",e.UserCircleLink="user-circle-link",e.UserCircleRemove="user-circle-remove",e.UserCircle="user-circle",e.User="user",e.WalletCard="wallet-card",e.WalletMoney="wallet-money",e.Wallet="wallet",e.Warning="warning",e.Twitter="twitter",e.QrCode="qr-code",e.UserCheck="user-check",e.Unpin="unpin",e.Ban="ban",e.Bold="bold",e.CircleX="circle-x",e.Download="download",e.FileIcon="file",e.Flask="flask",e.Plug="plug",e.Share="share",e.Square="square",e.Tint="tint",e.Upload="upload",e.Usb="usb",e.Wifi="wifi",e.PlusMinus="plus-minus"}(pd||(pd={}));const hd=$l("Icon"),gd=({preferences:e})=>{const t=rd(e.locale);return Rl(Wl,{direction:"horizontal",center:!0,children:[Cl(Kl,{fontWeight:"medium",children:t("confirmation.estimatedChanges")}),Cl(fd,{content:t("confirmation.estimatedChanges.tooltip"),children:Cl(hd,{name:"info"})})]})},md=$l("Skeleton"),yd=({preferences:e})=>{const t=rd(e.locale);return Rl(Gl,{direction:"vertical",children:[Cl(gd,{preferences:e}),Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:t("confirmation.estimatedChanges.send")}),Cl(Wl,{children:Rl(Wl,{direction:"vertical",crossAlignment:"end",children:[Cl(md,{width:100,height:20}),Cl(md,{width:40,height:20})]})})]}),Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:t("confirmation.estimatedChanges.receive")}),Cl(Wl,{children:Rl(Wl,{direction:"vertical",crossAlignment:"end",children:[Cl(md,{width:100,height:20}),Cl(md,{width:40,height:20})]})})]})]})},vd=({changes:e,preferences:t,scanFetchStatus:n,scanStatus:r})=>{var o,i,a,s,c,u;const l=rd(t.locale),d="fetched"===n,f="error"===n;if("fetching"===n)return Cl(yd,{preferences:t});if(f||d&&"ERROR"===r)return Rl(Gl,{direction:"vertical",children:[Cl(gd,{preferences:t}),Cl(Kl,{color:"alternative",children:l("confirmation.estimatedChanges.notAvailable")})]});const p=(null===(o=e)||void 0===o?void 0:o.assets.filter((e=>"out"===e.type)))??[],h=(null===(i=e)||void 0===i?void 0:i.assets.filter((e=>"in"===e.type)))??[],g=p.length>0||h.length>0;return Rl(Gl,d&&!g?{direction:"vertical",children:[Cl(gd,{preferences:t}),Cl(Kl,{color:"alternative",children:l("confirmation.estimatedChanges.noChanges")})]}:{children:[Cl(gd,{preferences:t}),(null===(a=p)||void 0===a?void 0:a.length)>0?Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:l("confirmation.estimatedChanges.send")}),Cl(Wl,{children:Cl(Wl,{children:null===(s=p)||void 0===s?void 0:s.map((e=>Cl(dd,{asset:e,preferences:t})))})})]}):null,Cl(Wl,{children:null}),(null===(c=h)||void 0===c?void 0:c.length)>0?Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:l("confirmation.estimatedChanges.receive")}),Cl(Wl,{children:Cl(Wl,{children:null===(u=h)||void 0===u?void 0:u.map((e=>Cl(dd,{asset:e,preferences:t})))})})]}):null]})};var wd;!function(e){e.Cancel="confirm-sign-in-cancel",e.Confirm="confirm-sign-in-confirm"}(wd||(wd={}));const Ad={[wd.Cancel]:async function({id:e}){await Ll(e,!1)},[wd.Confirm]:async function({id:e}){await Ll(e,!0)}},bd=({params:e,account:t,scope:n,preferences:r,networkImage:o})=>{const i=rd(r.locale),{domain:a,statement:s,uri:c,version:u,chainId:l,nonce:d,issuedAt:f,expirationTime:p,notBefore:h,requestId:g,resources:m,address:y}=e,v=Xl(n,t.address),w=y?Xl(n,y):null,A=w!==v;return Rl(ql,{children:[Rl(Wl,{children:[Rl(Wl,{alignment:"center",center:!0,children:[Cl(Wl,{children:null}),Cl(Vl,{size:"lg",children:i("confirmation.signIn.title")}),Cl(Kl,{color:"muted",alignment:"center",children:i("confirmation.signIn.description")})]}),r.simulateOnChainActions?Cl(vd,{changes:null,scanStatus:null,preferences:r,scanFetchStatus:"fetched"}):null,Rl(Gl,{children:[Cl(Hl,{label:i("confirmation.signIn.requestFrom"),children:Cl(Kl,{children:a??i("confirmation.signIn.unknownDomain")})}),Cl(Hl,{label:i("confirmation.signIn.signingInWith"),tooltip:A?i("confirmation.signIn.badAccount"):void 0,variant:A?"warning":"default",children:Cl(Jl,{address:v,truncate:!0,displayName:!0,avatar:!0})})]}),Rl(Gl,{children:[Cl(Kl,{fontWeight:"medium",children:i("confirmation.signIn.message")}),Cl(Kl,{children:s??""}),Cl(od,{label:"URL",value:c}),Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:i("confirmation.network")}),Rl(Wl,{direction:"horizontal",alignment:"center",children:[Cl(Wl,{alignment:"center",center:!0,children:Cl(Zl,{borderRadius:"medium",src:o??jl})}),Cl(Kl,{children:Ma[n].name})]})]}),w?Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:i("confirmation.account")}),Cl(Jl,{address:w,truncate:!0,displayName:!0,avatar:!0})]}):null,Cl(od,{label:i("confirmation.signIn.version"),value:u}),Cl(od,{label:i("confirmation.signIn.chainId"),value:l}),Cl(od,{label:i("confirmation.signIn.nonce"),value:d}),Cl(od,{label:i("confirmation.signIn.issuedAt"),value:f}),Cl(od,{label:i("confirmation.signIn.expirationTime"),value:p}),Cl(od,{label:i("confirmation.signIn.notBefore"),value:h}),Cl(od,{label:i("confirmation.signIn.requestId"),value:g}),m&&m.length>0?Rl(Wl,{alignment:"space-between",direction:"vertical",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:i("confirmation.signIn.resources")}),Cl(Wl,{direction:"vertical",children:m.map((e=>Cl(Kl,{children:e},e)))})]}):null]})]}),Rl(Yl,{children:[Cl(Ql,{name:wd.Cancel,children:i("confirmation.cancelButton")}),Cl(Ql,{name:wd.Confirm,children:i("confirmation.confirmButton")})]})]})};var Sd;!function(e){e.Cancel="confirm-sign-message-cancel",e.Confirm="confirm-sign-message-confirm"}(Sd||(Sd={}));const Ed={[Sd.Cancel]:async function({id:e}){await Ll(e,!1)},[Sd.Confirm]:async function({id:e}){await Ll(e,!0)}},xd=({message:e,account:t,scope:n,locale:r,networkImage:o})=>{const i=rd(r),{address:a}=t,s=Xl(n,a);return Rl(ql,{children:[Rl(Wl,{children:[Rl(Wl,{alignment:"center",center:!0,children:[Cl(Wl,{children:null}),Cl(Vl,{size:"lg",children:i("confirmation.signMessage.title")})]}),Rl(Gl,{children:[Cl(Wl,{direction:"horizontal",center:!0,children:Cl(Kl,{fontWeight:"medium",children:i("confirmation.signMessage.message")})}),Cl(Wl,{alignment:"space-between",children:Cl(Kl,{children:e})})]}),Rl(Gl,{children:[Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:i("confirmation.account")}),Cl(Jl,{address:s,truncate:!0,displayName:!0,avatar:!0})]}),Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:i("confirmation.network")}),Rl(Wl,{direction:"horizontal",alignment:"center",children:[Cl(Wl,{alignment:"center",center:!0,children:Cl(Zl,{borderRadius:"medium",src:o??jl})}),Cl(Kl,{children:Ma[n].name})]})]})]})]}),Rl(Yl,{children:[Cl(Ql,{name:Sd.Cancel,children:i("confirmation.cancelButton")}),Cl(Ql,{name:Sd.Confirm,children:i("confirmation.confirmButton")})]})]})};function Td(e){return e.length>12?`${e.slice(0,5)}...${e.slice(-5)}`:e}var kd;!function(e){e.ShowAdvanced="confirm-sign-and-send-transaction-show-advanced",e.Cancel="confirm-sign-and-send-transaction-cancel",e.Confirm="confirm-sign-and-send-transaction-confirm"}(kd||(kd={}));const Id={[kd.ShowAdvanced]:async function({id:e,context:t}){const n={...t,advanced:{...t.advanced,shown:!t.advanced.shown}};await Ml(e,Cl(Ud,{context:n}),n)},[kd.Cancel]:async function({id:e}){await Ll(e,!1)},[kd.Confirm]:async function({id:e}){await Ll(e,!0)}},Od=$l("Link");function Bd(e,t,n){const{cluster:r}=Ma[e];return Xa({baseUrl:"https://solscan.io",path:`/${t}/${n}`,queryParams:r?{cluster:r}:void 0})}const Cd=({programId:e,data:t,scope:n,locale:r})=>{const o=rd(r);return Rl(Gl,{alignment:"start",children:[Cl(Kl,{color:"alternative",fontWeight:"bold",children:o("confirmation.advanced.unknownInstruction")}),Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{color:"alternative",alignment:"start",children:o("confirmation.advanced.programId")}),Cl(Od,{href:Bd(n,"address",e),children:Cl(Jl,{avatar:!1,address:Xl(n,e),truncate:!0})})]}),Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{color:"alternative",children:o("confirmation.advanced.data")}),Cl(Kl,{children:Td(t)})]})]})},Rd=({instructions:e,showInstructions:t,locale:n,scope:r})=>{const o=rd(n),i=t?"hide":"show",a=t?"arrow-up":"arrow-down";return Rl(Wl,{alignment:"start",children:[Rl(Ql,{name:kd.ShowAdvanced,children:[o(`confirmation.advanced.${i}`),Cl(hd,{name:a,color:"primary"})]}),t&&Cl(Wl,{children:e.map((e=>Cl(Cd,{locale:n,scope:r,...e})))})]})},jd=$l("Banner"),Nd={Malicious:"danger",Warning:"warning"},Pd=({preferences:e,validation:t,error:n,scanFetchStatus:r})=>{var o,i;const a=rd(e.locale);if("error"===r)return Cl(jd,{title:a("confirmation.simulationErrorTitle"),severity:"warning",children:Cl(Kl,{children:a("confirmation.simulationErrorSubtitle",{reason:"Unknown"})})});if(!n&&!t)return Cl(Wl,{children:null});if(null===(o=n)||void 0===o?void 0:o.code)return Cl(jd,{title:a("confirmation.simulationErrorTitle"),severity:"warning",children:Cl(Kl,{children:a("confirmation.simulationErrorSubtitle",{reason:n.code})})});if(!t)return Cl(Wl,{children:null});const s=Nd[null===(i=t)||void 0===i?void 0:i.type];return s?Rl(jd,{title:a("confirmation.validationErrorTitle"),severity:s,children:[Cl(Kl,{children:a("confirmation.validationErrorSubtitle")}),Cl(Kl,{size:"sm",children:Cl(Od,{href:"https://support.metamask.io/configure/wallet/how-to-turn-on-security-alerts/",children:a("confirmation.validationErrorLearnMore")})}),Rl(Kl,{size:"sm",children:[Cl(hd,{color:"primary",name:"security-tick"})," ",a("confirmation.validationErrorSecurityAdviced")," ",Cl(Od,{href:"https://www.blockaid.io",children:"Blockaid"})]})]}):Cl(Wl,{children:null})};function _d(e,t,n){return`${ud(e,n)} ${t}`}function Md(e,t){return new Gr(e).multipliedBy(t).toString()}const Ld=({accountAddress:e,scope:t,feeInSol:n,nativePrice:r,fetchingPricesStatus:o,preferences:i,networkImage:a})=>{const{currency:s,locale:c}=i,u=rd(c),l="fetching"===o,d=n&&r&&!("error"===o)?ld(Md(n,r),s,c):"";return Rl(Gl,{children:[Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:u("confirmation.account")}),Cl(Jl,{address:Xl(t,e),truncate:!0,displayName:!0,avatar:!0})]}),Cl(Wl,{children:null}),Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:u("confirmation.network")}),Rl(Wl,{direction:"horizontal",alignment:"center",children:[Cl(Wl,{alignment:"center",center:!0,children:Cl(Zl,{borderRadius:"medium",src:a??""})}),Cl(Kl,{children:Ma[t].name})]})]}),Cl(Wl,{children:null}),Rl(Wl,{alignment:"space-between",direction:"horizontal",children:[Cl(Kl,{fontWeight:"medium",color:"alternative",children:u("confirmation.fee")}),n?Rl(Wl,{direction:"horizontal",alignment:"center",children:[l?Cl(md,{}):Cl(Kl,{color:"muted",children:d}),Cl(Kl,{children:_d(n,Ma[t].nativeToken.symbol,c)})]}):Cl(fd,{content:u("confirmation.feeError"),children:Cl(hd,{name:"warning"})})]})]})},Ud=({context:e})=>{var t,n,r,o,i,a;const s=rd(e.preferences.locale),c=e.feeEstimatedInSol,{nativeToken:u}=Ma[e.scope],l=(null===(t=e.tokenPrices[u.caip19Id])||void 0===t?void 0:t.price)??null,d="fetching"===e.scanFetchStatus;return Rl(ql,{children:[Rl(Wl,{children:[e.preferences.useSecurityAlerts?Cl(Pd,{scanFetchStatus:e.scanFetchStatus,validation:(null===(n=e.scan)||void 0===n?void 0:n.validation)??null,error:(null===(r=e.scan)||void 0===r?void 0:r.error)??null,preferences:e.preferences}):null,Rl(Wl,{alignment:"center",center:!0,children:[Cl(Wl,{children:null}),Cl(Vl,{size:"lg",children:s("confirmation.title")}),Cl(Wl,{children:null})]}),e.preferences.simulateOnChainActions?Cl(vd,{scanStatus:(null===(o=e.scan)||void 0===o?void 0:o.status)??null,scanFetchStatus:e.scanFetchStatus,changes:(null===(i=e.scan)||void 0===i?void 0:i.estimatedChanges)??null,preferences:e.preferences}):null,Cl(Ld,{accountAddress:(null===(a=e.account)||void 0===a?void 0:a.address)??null,scope:e.scope,feeInSol:c,nativePrice:l,fetchingPricesStatus:e.tokenPricesFetchStatus,preferences:e.preferences,networkImage:e.networkImage}),Cl(Rd,{instructions:e.advanced.instructions,showInstructions:e.advanced.shown,locale:e.preferences.locale,scope:e.scope})]}),Rl(Yl,{children:[Cl(Ql,{name:kd.Cancel,children:s("confirmation.cancelButton")}),Cl(Ql,{name:kd.Confirm,disabled:d,children:s("confirmation.confirmButton")})]})]})},zd={method:gt.SignAndSendTransaction,scope:Ra.Mainnet,networkImage:jl,account:null,transaction:"",scan:null,scanFetchStatus:"fetching",feeEstimatedInSol:"0",tokenPrices:{},tokenPricesFetchStatus:"fetching",preferences:{locale:"en",currency:"usd",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},advanced:{shown:!1,instructions:[]}};async function Fd(e){const t={...zd,...e},n=zl().then((e=>{t.preferences=e})).catch((()=>{t.preferences=zd.preferences})),r=ch.decodeBase64Encoded(t.transaction,t.scope).then((e=>{t.advanced.instructions=function(e){const t=[];return e.forEach((e=>{var n;t.push({programId:e.programAddress,data:Eu.encode((null===(n=e)||void 0===n?void 0:n.data)?new Uint8Array(e.data):new Uint8Array)})})),t}(e.instructions)})).catch((e=>{console.error(e),t.advanced.instructions=[]}));await Promise.all([n,r]);const{currency:o,useExternalPricingData:i,useSecurityAlerts:a,simulateOnChainActions:s}=t.preferences,c=await _l(Cl(Ud,{context:t}),t),u=Ul(c),l={...t},d=await dh.buildTransactionMessage(t.transaction,t.scope),f=[Ma[t.scope].nativeToken.caip19Id];let p;i?p=Sh.getMultipleTokenPrices(f,o).then((e=>{l.tokenPrices=e,l.tokenPricesFetchStatus="fetched"})).catch((()=>{l.tokenPricesFetchStatus="error"})):(l.tokenPricesFetchStatus="fetched",l.tokenPrices={});const h=ch.getFeeFromTransactionInLamports(d,l.scope).then((e=>{l.feeEstimatedInSol=e?vl(e).toString():null})).catch((()=>{l.feeEstimatedInSol=null}));await Promise.all([p,h]),await Ml(c,Cl(Ud,{context:l}),l);const g={...l},m=[];if(s&&m.push("simulation"),a&&m.push("validation"),s||a){var y;const e=wh.scanTransaction({method:g.method,accountAddress:(null===(y=g.account)||void 0===y?void 0:y.address)??"",transaction:g.transaction,scope:g.scope,options:m}).then((async e=>{g.scanFetchStatus="fetched",g.scan=e})).catch((()=>{g.scan=null,g.scanFetchStatus="error"}));await Promise.all([e])}else g.scanFetchStatus="fetched",g.scan=null;return await Ml(c,Cl(Ud,{context:g}),g),await ah.update((e=>{var t;return{...e,mapInterfaceNameToId:{...(null===(t=e)||void 0===t?void 0:t.mapInterfaceNameToId)??{},[Pl]:c}}})),u}var Dd;!function(e){e.OnTransactionAdded="onTransactionAdded",e.OnTransactionApproved="onTransactionApproved",e.OnTransactionSubmitted="onTransactionSubmitted",e.OnTransactionFinalized="onTransactionFinalized",e.OnTransactionRejected="onTransactionRejected"}(Dd||(Dd={}));function $d(e){return JSON.parse(function(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let o=!1;if("\\\\"===e[r]&&(t.push(e[r++]),o=!o),\'"\'!==e[r]){if(!n){const n=qd(e,r);if(n?.length){r+=n.length-1,n.match(/\\.|[eE]-/)?t.push(n):t.push(Wd(n));continue}}t.push(e[r])}else t.push(e[r]),o||(n=!n)}return t.join("")}(e),((e,t)=>function(e){return!!e&&"object"==typeof e&&"$n"in e&&"string"==typeof e.$n}(t)?function({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}(t):t))}function qd(e,t){if(!e[t]?.match(/[-\\d]/))return null;const n=e.slice(t).match(/^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/);return n?n[0]:null}function Wd(e){return`{"$n":"${e}"}`}var Vd=0n;function Kd(){const e=Vd;return Vd++,e.toString()}function Gd(e){return function(e){return new Proxy(e.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get:(t,n,r)=>function(...o){const i=n.toString(),a=Reflect.get(t,i,r);if(!a)throw new yi(di,{method:i,params:o});const s=a(...o);return function({transport:e},t){return{send:async n=>await t.execute({signal:n?.abortSignal,transport:e})}}(e,s)}})}(e)}function Hd(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,o=r.toString();return function(...t){const n=Object.freeze({methodName:o,params:t}),r=e?.requestTransformer?e?.requestTransformer(n):n;return Object.freeze({execute:async({signal:t,transport:n})=>{const o=function(e){return{id:Kd(),jsonrpc:"2.0",method:e.methodName,params:e.params}}(r),i=await n({payload:o,signal:t});return e?.responseTransformer?e.responseTransformer(i,r):i}})}}})}function Jd(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)&&("jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&"string"==typeof e.method&&"params"in e)}var Zd={};function Yd(e){return function t(n,r){if(Array.isArray(n))return n.map(((e,n)=>{const o={...r,keyPath:[...r.keyPath,n]};return t(e,o)}));if("object"==typeof n&&null!==n){const e={};for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const i={...r,keyPath:[...r.keyPath,o]};e[o]=t(n[o],i)}return e}return e.reduce(((e,t)=>t(e,r)),n)}}function Qd(e,t){return n=>{const r=Yd(e);return Object.freeze({...n,params:r(n.params,t)})}}function Xd(e){return"bigint"==typeof e?Number(e):e}function ef({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const o=t[n];if(void 0===o||o&&"object"==typeof o&&!Array.isArray(o))if(o&&e in o){if(!o[e]||"finalized"===o[e]){const r=[...t],{[e]:i,...a}=o;return Object.keys(a).length>0?r[n]=a:n===r.length-1?r.length--:r[n]=void 0,r}}else if("finalized"!==r){const i=[...t];return i[n]={...o,[e]:r},i}return t}function tf(e){return(t,{keyPath:n})=>("bigint"==typeof t&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}var nf={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function rf(e){const t=e?.onIntegerOverflow;return n=>{return Ws(n,t?(r=t,e=>Qd([tf(((...t)=>r(e,...t)))],{keyPath:[]})(e)):e=>e,Qd([Xd],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:o}=n;if(!Array.isArray(r))return n;const i=t[o];return null==i?n:Object.freeze({methodName:o,params:ef({commitmentPropertyName:"sendTransaction"===o?"preflightCommitment":"commitment",optionsObjectPositionInParams:i,overrideCommitment:e,params:r})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:nf}));var r}}function of(e){return t=[af(e)],n={keyPath:[]},e=>Yd(t)(e,n);var t,n}function af(e){return function(t,{keyPath:n}){return"number"==typeof t&&Number.isInteger(t)||"bigint"==typeof t?function(e,t){return t.some((t=>{if(t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--){const r=e[n],o=t[n];if(o!==r&&(o!==Zd||"number"!=typeof r))return!1}return!0}))}(n,e)?Number(t):BigInt(t):t}}function sf(e){return(t,n)=>{const r=n.methodName,o=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return Ws(t,(e=>(e=>{const t=e;if("error"in t)throw xi(t.error);return t})(e)),(e=>e.result),(e=>of(o??[])(e,n)))}}var cf,uf=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",Zd,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Zd,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Zd,"state","preUpdateAverageRate"],["data","parsed","info","extensions",Zd,"state","currentRate"]],lf=[...uf,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",Zd,"confirmationCount"]],df=[["index"],["instructions",Zd,"accounts",Zd],["instructions",Zd,"programIdIndex"],["instructions",Zd,"stackHeight"]],ff=[["addressTableLookups",Zd,"writableIndexes",Zd],["addressTableLookups",Zd,"readonlyIndexes",Zd],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",Zd,"accounts",Zd],["instructions",Zd,"programIdIndex"],["instructions",Zd,"stackHeight"]];function pf(e){return Hd({requestTransformer:rf(e),responseTransformer:sf({allowedNumericKeyPaths:hf()})})}function hf(){return cf||(cf={getAccountInfo:lf.map((e=>["value",...e])),getBlock:[["transactions",Zd,"meta","preTokenBalances",Zd,"accountIndex"],["transactions",Zd,"meta","preTokenBalances",Zd,"uiTokenAmount","decimals"],["transactions",Zd,"meta","postTokenBalances",Zd,"accountIndex"],["transactions",Zd,"meta","postTokenBalances",Zd,"uiTokenAmount","decimals"],["transactions",Zd,"meta","rewards",Zd,"commission"],...df.map((e=>["transactions",Zd,"meta","innerInstructions",Zd,...e])),...ff.map((e=>["transactions",Zd,"transaction","message",...e])),["rewards",Zd,"commission"]],getClusterNodes:[[Zd,"featureSet"],[Zd,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[Zd,"commission"]],getMultipleAccounts:lf.map((e=>["value",Zd,...e])),getProgramAccounts:lf.flatMap((e=>[["value",Zd,"account",...e],[Zd,"account",...e]])),getRecentPerformanceSamples:[[Zd,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:uf.map((e=>["value",Zd,"account",...e])),getTokenAccountsByOwner:uf.map((e=>["value",Zd,"account",...e])),getTokenLargestAccounts:[["value",Zd,"decimals"],["value",Zd,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",Zd,"accountIndex"],["meta","preTokenBalances",Zd,"uiTokenAmount","decimals"],["meta","postTokenBalances",Zd,"accountIndex"],["meta","postTokenBalances",Zd,"uiTokenAmount","decimals"],["meta","rewards",Zd,"commission"],...df.map((e=>["meta","innerInstructions",Zd,...e])),...ff.map((e=>["transaction","message",...e]))],getVersion:[["feature-set"]],getVoteAccounts:[["current",Zd,"commission"],["delinquent",Zd,"commission"]],simulateTransaction:[...lf.map((e=>["value","accounts",Zd,...e])),...df.map((e=>["value","innerInstructions",Zd,...e]))]}),cf}Object.assign({"accept-charset":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,"permissions-policy":!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,via:!0},{"accept-encoding":!0});var gf=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function mf(e){return Jd(e)&&gf.includes(e.method)}function yf(e){return function(e){const{fromJson:t,headers:n,toJson:r,url:o}=e,i=n&&function(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}(n);return async function({payload:e,signal:n}){const a=r?r(e):JSON.stringify(e),s={body:a,headers:{...i,accept:"application/json","content-length":a.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:n},c=await fetch(o,s);if(!c.ok)throw new yi(li,{headers:c.headers,message:c.statusText,statusCode:c.status});return t?t(await c.text(),e):await c.json()}}({...e,fromJson:(e,t)=>mf(t)?$d(e):JSON.parse(e),toJson:e=>{return mf(e)?(t=e,function(e){return e.replace(/\\{\\s*"\\$n"\\s*:\\s*"(-?\\d+)"\\s*\\}/g,"$1")}(JSON.stringify(t,((e,t)=>"bigint"==typeof t?function(e){return{$n:`${e}`}}(t):t),n))):JSON.stringify(e);var t,n}})}var vf=Object.prototype.toString,wf=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function Af(e,t){let n,r,o,i,a,s,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if("toJSON"in e&&"function"==typeof e.toJSON)return Af(e.toJSON(),t);if(c=vf.call(e),"[object Array]"===c){for(o="[",r=e.length-1,n=0;n<r;n++)o+=Af(e[n],!0)+",";return r>-1&&(o+=Af(e[n],!0)),o+"]"}if("[object Object]"===c){for(i=wf(e).sort(),r=i.length,o="",n=0;n<r;)a=i[n],s=Af(e[a],!1),void 0!==s&&(o&&(o+=","),o+=JSON.stringify(a)+":"+s),n++;return"{"+o+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"bigint":return`${e.toString()}n`;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}function bf(e){const t=Af(e,!1);if(void 0!==t)return""+t}function Sf(e,t,n){let r="";if("number"==typeof t[0]){const e=t[0]+1,n=e%10,o=e%100;r=1==n&&11!=o?e+"st":2==n&&12!=o?e+"nd":3==n&&13!=o?e+"rd":e+"th"}else r=`\\`${t[0].toString()}\\``;const o=t.length>1?t.slice(1).map((e=>"number"==typeof e?`[${e}]`:e)).join("."):void 0,i=new yi(ui,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:o?` at path \\`${o}\\``:"",value:n,...void 0!==o?{path:o}:void 0});return vi(i,Sf),i}var Ef,xf={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw Sf(e.methodName,t,n)}},Tf=globalThis.AbortController;function kf(e){return Jd(e)?bf([e.method,e.params]):void 0}function If(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function Of(e){return Ws(yf({...e,headers:{...!1,...e.headers?If(e.headers):void 0,"solana-client":"js/2.1.0"}}),(e=>function(e,t){let n;return async function(r){const{payload:o,signal:i}=r,a=t(o);if(void 0===a)return await e(r);if(n||(queueMicrotask((()=>{n=void 0})),n={}),null==n[a]){const t=new Tf,o=(async()=>{try{return await e({...r,signal:t.signal})}catch(e){if(e===(Ef||={}))return;throw e}})();n[a]={abortController:t,numConsumers:0,responsePromise:o}}const s=n[a];if(s.numConsumers++,i){const e=s.responsePromise;return await new Promise(((t,n)=>{const r=e=>{i.removeEventListener("abort",r),s.numConsumers-=1,queueMicrotask((()=>{0===s.numConsumers&&s.abortController.abort(Ef||={})})),n(e.target.reason)};i.addEventListener("abort",r),e.then(t).catch(n).finally((()=>{i.removeEventListener("abort",r)}))}))}return await s.responsePromise}}(e,kf)))}function Bf(e){return Gd({api:pf(xf),transport:e})}async function Cf(e){return new Promise((t=>setTimeout(t,e)))}const Rf=e=>{const t=(e=>async(...t)=>{let n;const r=e.length;for(const[o,i]of e.entries())try{return wu.info(`[ FailoverTransport] Attempting to use transport ${o+1} of ${r}`),await i(...t)}catch(e){n=e;const t=o===r-1;wu.error(`[ FailoverTransport] Transport failed: ${e}. ${t?"No more transports to try.":"Trying next transport..."}`)}throw n})(e.map((e=>Of({url:e}))));return n=t,async(...e)=>{const{payload:t}=e[0],{method:r}=t;let o;for(let t=0;t<4;t++)try{return wu.info(`[ RetryingTransport] Attempt "${r}" ${t+1} of 4`),await n(...e)}catch(e){if(wu.error(`[ RetryingTransport] Error during attempt "${r}" ${t+1} of 4: ${e}`),o=e,t<3){const e=(i=t,Math.min(400*Math.pow(2,i),1500));wu.info(`[ RetryingTransport] Sleeping for ${e}ms`),await Cf(e)}}var i;throw o};var n};const jf=(e,t)=>({...e,...Object.fromEntries(Object.entries(t).filter((([e,t])=>null!=t&&(!t||"object"!=typeof t||Object.keys(t).length>0))))}),Nf={keyringAccounts:{}};var Pf,_f="ComputeBudget111111111111111111111111111111",Mf=((Pf=Mf||{})[Pf.RequestUnits=0]="RequestUnits",Pf[Pf.RequestHeapFrame=1]="RequestHeapFrame",Pf[Pf.SetComputeUnitLimit=2]="SetComputeUnitLimit",Pf[Pf.SetComputeUnitPrice=3]="SetComputeUnitPrice",Pf[Pf.SetLoadedAccountsDataSizeLimit=4]="SetLoadedAccountsDataSizeLimit",Pf);var Lf=2;function Uf(){return $i(zs([["discriminator",ks()],["units",Es()]]),(e=>({...e,discriminator:Lf})))}function zf(e,t){const n={...e};return{programAddress:t?.programAddress??_f,data:Uf().encode(n)}}var Ff,Df=((Ff=Df||{})[Ff.Uninitialized=0]="Uninitialized",Ff[Ff.Initialized=1]="Initialized",Ff[Ff.Frozen=2]="Frozen",Ff);var $f,qf=(($f=qf||{})[$f.MintTokens=0]="MintTokens",$f[$f.FreezeAccount=1]="FreezeAccount",$f[$f.AccountOwner=2]="AccountOwner",$f[$f.CloseAccount=3]="CloseAccount",$f);var Wf,Vf="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",Kf=((Wf=Kf||{})[Wf.CreateAssociatedToken=0]="CreateAssociatedToken",Wf[Wf.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",Wf[Wf.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",Wf);var Gf,Hf="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",Jf=((Gf=Jf||{})[Gf.Mint=0]="Mint",Gf[Gf.Token=1]="Token",Gf[Gf.Multisig=2]="Multisig",Gf);var Zf,Yf=((Zf=Yf||{})[Zf.InitializeMint=0]="InitializeMint",Zf[Zf.InitializeAccount=1]="InitializeAccount",Zf[Zf.InitializeMultisig=2]="InitializeMultisig",Zf[Zf.Transfer=3]="Transfer",Zf[Zf.Approve=4]="Approve",Zf[Zf.Revoke=5]="Revoke",Zf[Zf.SetAuthority=6]="SetAuthority",Zf[Zf.MintTo=7]="MintTo",Zf[Zf.Burn=8]="Burn",Zf[Zf.CloseAccount=9]="CloseAccount",Zf[Zf.FreezeAccount=10]="FreezeAccount",Zf[Zf.ThawAccount=11]="ThawAccount",Zf[Zf.TransferChecked=12]="TransferChecked",Zf[Zf.ApproveChecked=13]="ApproveChecked",Zf[Zf.MintToChecked=14]="MintToChecked",Zf[Zf.BurnChecked=15]="BurnChecked",Zf[Zf.InitializeAccount2=16]="InitializeAccount2",Zf[Zf.SyncNative=17]="SyncNative",Zf[Zf.InitializeAccount3=18]="InitializeAccount3",Zf[Zf.InitializeMultisig2=19]="InitializeMultisig2",Zf[Zf.InitializeMint2=20]="InitializeMint2",Zf[Zf.GetAccountDataSize=21]="GetAccountDataSize",Zf[Zf.InitializeImmutableOwner=22]="InitializeImmutableOwner",Zf[Zf.AmountToUiAmount=23]="AmountToUiAmount",Zf[Zf.UiAmountToAmount=24]="UiAmountToAmount",Zf);function Qf(e){if(!e)throw new Error("Expected a Address.");return"object"==typeof e&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function Xf(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:ts.READONLY});const n=t.isWritable?ts.WRITABLE:ts.READONLY;return Object.freeze({address:Qf(t.value),role:ep(t.value)?ss(n):n,...ep(t.value)?{signer:t.value}:{}})}}function ep(e){return!!e&&"object"==typeof e&&"address"in e&&Hc(e)}async function tp(e,t={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=t;return await async function({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await Oa({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(e){if(!mi(e,vo))throw e;n--}throw new yi(wo)}({programAddress:n,seeds:[ha().encode(e.owner),ha().encode(e.tokenProgram),ha().encode(e.mint)]})}var np=0;function rp(){return $i(zs([["discriminator",ks()]]),(e=>({...e,discriminator:np})))}function op(e,t){const n=t?.programAddress??Vf,r={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};r.tokenProgram.value||(r.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.systemProgram.value||(r.systemProgram.value="11111111111111111111111111111111");const o=Xf(n);return{accounts:[o(r.payer),o(r.ata),o(r.owner),o(r.mint),o(r.systemProgram),o(r.tokenProgram)],programAddress:n,data:rp().encode({})}}var ip=3;function ap(){return $i(zs([["discriminator",ks()],["amount",Ts()]]),(e=>({...e,discriminator:ip})))}function sp(e){return!("exists"in e)||"exists"in e&&e.exists}function cp(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=na().encode(t.data[0]);return Object.freeze({...lp(t),address:e,data:n,exists:!0})}function up(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=t.data.parsed.info;return Object.freeze({...lp(t),address:e,data:n,exists:!0})}function lp(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}var dp="ComputeBudget111111111111111111111111111111",fp={blockhash:"11111111111111111111111111111111",lastValidBlockHeight:0n},pp=2;function hp(e){return function(e,t){return e.programAddress===t}(e,dp)&&function(e){return void 0!==e.data}(e)&&e.data[0]===pp}async function gp({abortSignal:e,rpc:t,transactionMessage:n,...r}){const o=Bc(n);let i;i=o||Vs(n)?n:Ks(fp,n);const a=n.instructions.findIndex(hp),s=function(e){const t=new Uint8Array(5);return t[0]=pp,Es().write(e,t,1),Object.freeze({data:t,programAddress:dp})}(14e5);if(-1===a)i=Rc(s,i);else{const e=[...i.instructions];e.splice(a,1,s),i=Object.freeze({...i,instructions:e})}const c=qc(zc(i));try{const{value:{err:n,unitsConsumed:i}}=await t.simulateTransaction(c,{...r,encoding:"base64",replaceRecentBlockhash:!o,sigVerify:!1}).send({abortSignal:e});if(null==i)throw new yi(Go);const a=i>4294967295n?4294967295:Number(i);if(n)throw new yi(Ho,{cause:n,unitsConsumed:a});return a}catch(e){if(mi(e,Ho))throw e;throw new yi(Go,{cause:e})}}async function mp(e,t,n){if(0===e.length)return{};const r=await async function(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:"jsonParsed"}).send({abortSignal:r})).value.map(((e,n)=>e&&"object"==typeof e&&"parsed"in e.data?up(t[n],e):cp(t[n],e)))}(t,e,n);return function(e){const t=e.filter((e=>sp(e)&&e.data instanceof Uint8Array));if(t.length>0){const e=t.map((e=>e.address));throw new yi(bo,{addresses:e})}}(r),function(e){const t=e.filter((e=>!e.exists));if(t.length>0){const e=t.map((e=>e.address));throw new yi(Ao,{addresses:e})}}(r),r.reduce(((e,t)=>({...e,[t.address]:t.data.addresses})),{})}function yp(e,t){return!t?.preflightCommitment&&function(e,t){return e===t?0:qs(e)<qs(t)?-1:1}(e,"finalized")<0?{...t,preflightCommitment:e}:t}async function vp({abortSignal:e,commitment:t,rpc:n,transaction:r,...o}){const i=qc(r);return await n.sendTransaction(i,{...yp(t,o),encoding:"base64"}).send({abortSignal:e})}function wp({rpc:e}){return async function(t,n){await vp({...n,rpc:e,transaction:t})}}async function Ap(e,t){var n,r;const o=(null===(n=t)||void 0===n?void 0:n.maxAttempts)??10,i=(null===(r=t)||void 0===r?void 0:r.delayMs)??1e3;let a=0;for(;a<o;)try{return await e()}catch(e){if(a+=1,a===o)throw e;await new Promise((e=>setTimeout(e,i)))}throw new Error("Unreachable")}class bp{#r;#o;#i;constructor(e,t,n){this.#r=e,this.#o=t,this.#i=n}async buildTransactionMessage(e,t,n,r,o){this.#i.log("Build transfer SPL token transaction message");const{privateKeyBytes:i}=await nl(e.index),a=await Xc(i),s=await this.getOrCreateAssociatedTokenAccount(n,a.address,o,a),c=await this.getOrCreateAssociatedTokenAccount(n,t,o,a),u=await this.getTokenAccount(n,o),l=function(e,t){const n=new Gr(e.toString());if(n.isNegative())throw new Error("Token amount cannot be negative");const r=n.times(10**t).integerValue(Gr.ROUND_DOWN);return BigInt(r.toString())}(r,this.getDecimals(u)),d=await this.#o.getLatestBlockhash(o),f=Ws(Ec({version:0}),(e=>Cc(a.address,e)),(e=>Ks(d,e)),(e=>Rc(function(e,t){const n=t?.programAddress??Hf,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},o={...e},i=(o.multiSigners??[]).map((e=>({address:e.address,role:ts.READONLY_SIGNER,signer:e}))),a=Xf(n);return{accounts:[a(r.source),a(r.destination),a(r.authority),...i],programAddress:n,data:ap().encode(o)}}({source:s.address,destination:c.address,authority:a,amount:l}),e)));return Nc([zf({units:await this.#o.getComputeUnitEstimate(f,o)})],f)}async getOrCreateAssociatedTokenAccount(e,t,n,r){const o=await this.getAssociatedTokenAccount(e,t,n);try{return bp.assertAccountExists(o),o}catch(o){if(this.#i.log("Associated token account does not exist. Create it..."),!r)throw new Error("Payer is required to create associated token account");return await this.createAssociatedTokenAccount(e,t,n,r)}}static async deriveAssociatedTokenAccountAddress(e,t){return(await tp({mint:e,owner:t,tokenProgram:Hf}))[0]}async getAssociatedTokenAccount(e,t,n){const r=await bp.deriveAssociatedTokenAccountAddress(e,t);return await this.getTokenAccount(r,n)}async createAssociatedTokenAccount(e,t,n,r){const o=await bp.deriveAssociatedTokenAccountAddress(e,t),i=await this.getAssociatedTokenAccount(e,t,n);bp.assertAccountNotExists(i);const a=await this.#o.getLatestBlockhash(n),s=Ws(Ec({version:0}),(e=>Cc(r.address,e)),(e=>Ks(a,e)),(n=>jc([op({payer:r,ata:o,owner:t,mint:e})],n))),c=Yc([r],s),u=await tu(c),l=Fc(u),d=wp({rpc:this.#r.getRpc(n)});return await d(u,{commitment:"confirmed"}),await this.#o.waitForTransactionCommitment(l,"confirmed",n),await Ap((async()=>{const e=await this.getTokenAccount(o,n);return bp.assertAccountExists(e),e}))}async getTokenAccount(e,t){const n=this.#r.getRpc(t),r=await async function(e,t,n={}){const{abortSignal:r,...o}=n,{value:i}=await e.getAccountInfo(t,{...o,encoding:"jsonParsed"}).send({abortSignal:r});return i&&"object"==typeof i&&"parsed"in i.data?up(t,i):cp(t,i)}(n,e);return r}getDecimals(e){bp.assertAccountExists(e),bp.assertAccountDecoded(e);const{decimals:t}=e.data;if(!t)throw new Error(`Decimals not found for ${e}`);return t}static isAccountExists(e){return e.exists}static assertAccountExists(e){if(!bp.isAccountExists(e))throw new Error("Token account does not exist")}static assertAccountNotExists(e){if(bp.isAccountExists(e))throw new Error("Token account exists")}static isAccountDecoded(e){return bp.assertAccountExists(e),!(e.data instanceof Uint8Array)}static assertAccountDecoded(e){if(bp.assertAccountExists(e),!bp.isAccountDecoded(e))throw new Error("Token account is encoded. Implement a decoder.")}}const Sp={mapInterfaceNameToId:{},transactions:{},assets:{},metadata:{},tokenPrices:{}};Error;function Ep(e){return function(e){return function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)&&"string"==typeof e.message?e.message:null==e?"":String(e)}(e).replace(/\\.$/u,"")}function xp(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class Tp extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function kp(e,t="Assertion failed.",n=Tp){if(!e){if(t instanceof Error)throw t;throw xp(n,t)}}function Ip(e,t,n="Assertion failed",r=Tp){try{m(e,t)}catch(e){throw xp(r,`${n}: ${Ep(e)}.`)}}function Op(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Bp(...e){const t=(e,t)=>n=>e(t(n)),n=Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),r=e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0);return{encode:n,decode:r}}function Cp(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(Op(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function Rp(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function jp(e,t="="){if(Op(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function Np(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function Pp(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(Op(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,a=!0;for(let o=r;o<i.length;o++){const s=i[o],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const u=Math.floor(c/n);if(i[o]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error("convertRadix: carry overflow");a&&(u?a=!1:r=o)}if(o.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}const _p=(e,t)=>t?_p(t,e%t):e,Mp=(e,t)=>e+(t-_p(e,t));function Lp(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Mp(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Mp(t,n)}`);let o=0,i=0;const a=2**n-1,s=[];for(const r of e){if(Op(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)s.push((o>>i-n&a)>>>0);o&=2**i-1}if(o=o<<n-i&a,!r&&i>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&s.push(o>>>0),s}function Up(e){return Op(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Pp(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Pp(t,e,256))}}}function zp(e,t=!1){if(Op(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Mp(8,e)>32||Mp(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Lp(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Lp(n,e,8,t))}}}Bp(zp(4),Cp("0123456789ABCDEF"),Rp("")),Bp(zp(5),Cp("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),jp(5),Rp("")),Bp(zp(5),Cp("0123456789ABCDEFGHIJKLMNOPQRSTUV"),jp(5),Rp("")),Bp(zp(5),Cp("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Rp(""),Np((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))));const Fp=Bp(zp(6),Cp("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),jp(6),Rp("")),Dp=(Bp(zp(6),Cp("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),jp(6),Rp("")),Bp(zp(6),Cp("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Rp("")),e=>Bp(Up(58),Cp(e),Rp("")));Dp("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Bp(Cp("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Rp(""));Bp(zp(4),Cp("0123456789abcdef"),Rp(""),Np((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));n(1048).hp;!function(){const e=[]}();function $p(e){return e instanceof Uint8Array}function qp(e){kp($p(e),"Value must be a Uint8Array.")}var Wp;!function(e){e.Copyable="copyable",e.Divider="divider",e.Heading="heading",e.Panel="panel",e.Spinner="spinner",e.Text="text",e.Image="image",e.Row="row",e.Address="address",e.Button="button",e.Input="input",e.Form="form"}(Wp||(Wp={}));const Vp=C({type:N()}),Kp=(L(Vp,C({value:M()})),L(Vp,C({type:k(Wp.Image),value:Y(N(),"SVG",(e=>!!e.includes("<svg")||"Value is not a valid SVG."))}))),Gp=function(e,t,n=[]){return(...r)=>{if(1===r.length&&function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(r[0])){const n={...r[0],type:e};return Ip(n,t,`Invalid ${e} component`),n}const o=n.reduce(((e,t,n)=>void 0!==r[n]?{...e,[t]:r[n]}:e),{type:e});return Ip(o,t,`Invalid ${e} component`),o}}(Wp.Image,Kp,["value"]);async function Hp(e,t){const n=await async function(e,t){if("function"!=typeof fetch)throw new Error(`Failed to fetch image data from "${e}": Using this function requires the "endowment:network-access" permission.`);return fetch(e,t).then((async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from "${e}": ${t.status} ${t.statusText}`);const n=await t.blob();return kp("image/jpeg"===n.type||"image/png"===n.type,"Expected image data to be a JPEG or PNG image."),n}))}(e,t),r=new Uint8Array(await n.arrayBuffer());return`data:${n.type};base64,${function(e){return qp(e),Fp.encode(e)}(r)}`}const Jp=\'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\\n  <path fill="#999999" d="m456 256c0 113-91 205-204 205-114 0-205-92-205-205 0-113 91-205 205-205 113 0 204 92 204 205z m-204-108c-33 0-63 24-63 58 0 9 8 17 17 17 9 0 17-8 17-17 0-12 11-24 29-24 17 0 28 12 28 24 0 6-4 11-14 17l0 0c-12 8-32 21-32 48l0 5c0 9 8 17 18 17 9 0 17-8 17-17l0-5c0-7 3-12 15-19 11-7 30-20 30-46 0-34-30-58-62-58z m-1 170c-9 0-17 7-17 17 0 9 8 17 17 17l1 0c9 0 17-8 17-17 0-10-8-17-17-17z"/>\\n</svg>\';function Zp(e){if(!e)return e;const t=e.split("/").pop();return t?t.includes("iso4217:")||t.includes("token:")?t.split(":").pop():t:e}function Yp(e){return e.includes("swift:0/iso4217:")}function Qp({scope:e,transactionData:t}){var n;const r=function(e){var t,n;const r=new Gr((null===(n=e.meta)||void 0===n||null===(t=n.fee)||void 0===t?void 0:t.toString())??"0");return r.dividedBy(Ca)}(t),o=function(e){const t=e.transaction.message.accountKeys.findIndex((e=>"ComputeBudget111111111111111111111111111111"===e));if(!t)return null;let n=null,r=null,o=0;for(const i of e.transaction.message.instructions)if(i.programIdIndex===t){const e=Eu.decode(i.data),t=e[0];2===t&&(n=eh(e)),3===t&&(r=Xp(e))}else o+=1;if(!r)return null;n||(n=Gr(2e5).multipliedBy(o));const i=r.multipliedBy(n).dividedBy(Ca).decimalPlaces(9,Gr.ROUND_UP);return i}(t),i=r.minus(o??0),a=[{type:"base",asset:{fungible:!0,type:Ma[e].nativeToken.caip19Id,unit:Ma[e].nativeToken.symbol,amount:i.toString()}}];return(null===(n=o)||void 0===n?void 0:n.isGreaterThan(0))&&a.push({type:"priority",asset:{fungible:!0,type:Ma[e].nativeToken.caip19Id,unit:Ma[e].nativeToken.symbol,amount:o.toString()}}),a}function Xp(e){let t=BigInt(0);for(let n=0;n<8;n++)t|=BigInt(e[1+n]??0)<<BigInt(8*n);return Gr(t.toString()).dividedBy(1e6)}function eh(e){let t=BigInt(0);for(let n=0;n<4;n++)t|=BigInt(e[1+n]??0)<<BigInt(8*n);return Gr(t.toString())}function th({scope:e,transactionData:t}){var n,r,o,i,a,s,c,u;const l=Qp({scope:e,transactionData:t}),d=[],f=[],p=new Map((null===(r=t.meta)||void 0===r||null===(n=r.preBalances)||void 0===n?void 0:n.map(((e,t)=>[t,new Gr(e.toString())])))??[]),h=new Map((null===(i=t.meta)||void 0===i||null===(o=i.postBalances)||void 0===o?void 0:o.map(((e,t)=>[t,new Gr(e.toString())])))??[]),g=[...t.transaction.message.accountKeys,...(null===(s=t.meta)||void 0===s||null===(a=s.loadedAddresses)||void 0===a?void 0:a.writable)??[],...(null===(u=t.meta)||void 0===u||null===(c=u.loadedAddresses)||void 0===c?void 0:c.readonly)??[]],m=new Set([...Array.from(p.keys()),...Array.from(h.keys())]);for(const n of m){var y;const r=null===(y=g[n])||void 0===y?void 0:y.toString();if(!r)continue;const o=p.get(n)??new Gr(0),i=h.get(n)??new Gr(0);let a=i.minus(o).absoluteValue().dividedBy(new Gr(Ca));if(0===n){var v;const e=vl((null===(v=t.meta)||void 0===v?void 0:v.fee)??0);a=a.minus(e).decimalPlaces(8,Gr.ROUND_DOWN)}if(a.isZero())continue;const s=a.toString();o.isGreaterThan(i)&&d.push({address:r,asset:{fungible:!0,type:Ma[e].nativeToken.caip19Id,unit:Ma[e].nativeToken.symbol,amount:s}}),o.isLessThan(i)&&f.push({address:r,asset:{fungible:!0,type:Ma[e].nativeToken.caip19Id,unit:Ma[e].nativeToken.symbol,amount:s}})}const w=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===du));if(-1===i)return{from:r,to:o};return n.forEach((n=>{const{accounts:a,data:s,programIdIndex:c}=n;if(c!==i)return;const[u,l]=a;if(void 0===u||void 0===l||u!==l)return;const d=t.transaction.message.accountKeys[u],f=t.transaction.message.accountKeys[l];if(!d||!f||d!==f)return;const p=function(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return Gr(t.toString()).dividedBy(Ca)}(Eu.decode(s));r.push({address:d,asset:{amount:p.toString(),fungible:!0,type:Ma[e].nativeToken.caip19Id,unit:Ma[e].nativeToken.symbol}}),o.push({address:f,asset:{amount:p.toString(),fungible:!0,type:Ma[e].nativeToken.caip19Id,unit:Ma[e].nativeToken.symbol}})})),{from:r,to:o}}({scope:e,transactionData:t});return w.from.length>0&&d.push(...w.from),w.to.length>0&&f.push(...w.to),{fees:l,from:d,to:f}}function nh({scope:e,transactionData:t}){var n,r,o,i,a,s,c,u;const l=[],d=[],f=new Map((null===(r=t.meta)||void 0===r||null===(n=r.preTokenBalances)||void 0===n?void 0:n.map((e=>[e.accountIndex,new Gr(e.uiTokenAmount.amount)])))??[]),p=new Map((null===(i=t.meta)||void 0===i||null===(o=i.postTokenBalances)||void 0===o?void 0:o.map((e=>[e.accountIndex,new Gr(e.uiTokenAmount.amount)])))??[]),h=new Set([...(null===(s=t.meta)||void 0===s||null===(a=s.preTokenBalances)||void 0===a?void 0:a.map((e=>e.accountIndex)))??[],...(null===(u=t.meta)||void 0===u||null===(c=u.postTokenBalances)||void 0===c?void 0:c.map((e=>e.accountIndex)))??[]]);for(const n of h){var g,m,y,v;const r=f.get(n)??new Gr(0),o=(p.get(n)??new Gr(0)).minus(r);if(o.isZero())continue;const i=(null===(m=t.meta)||void 0===m||null===(g=m.preTokenBalances)||void 0===g?void 0:g.find((e=>e.accountIndex===n)))??(null===(v=t.meta)||void 0===v||null===(y=v.postTokenBalances)||void 0===y?void 0:y.find((e=>e.accountIndex===n)));if(!i)continue;const{mint:a,uiTokenAmount:{decimals:s},owner:c}=i,u=El(e,a);if(!c)continue;const h=o.absoluteValue().dividedBy(new Gr(10).pow(s)).toString();o.isNegative()&&l.push({address:c,asset:{fungible:!0,type:u,unit:"",amount:h}}),o.isPositive()&&d.push({address:c,asset:{fungible:!0,type:u,unit:"",amount:h}})}const w=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===Hf));if(-1===i)return{from:r,to:o};return n.forEach((n=>{var a,s,c,u,l,d;const{accounts:f,data:p,programIdIndex:h}=n;if(h!==i)return;const[g,m]=f;if(void 0===g||void 0===m||g!==m)return;const y=t.transaction.message.accountKeys[g],v=t.transaction.message.accountKeys[m];if(!y||!v||y!==v)return;const w=function(e){let t=BigInt(0);for(let n=1;n<9;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-1));return Gr(t.toString()).dividedBy(1e6)}(Eu.decode(p)),A=null===(c=t.meta)||void 0===c||null===(s=c.preTokenBalances)||void 0===s||null===(a=s.find((e=>e.accountIndex===g)))||void 0===a?void 0:a.mint,b=null===(d=t.meta)||void 0===d||null===(l=d.preTokenBalances)||void 0===l||null===(u=l.find((e=>e.accountIndex===g)))||void 0===u?void 0:u.owner;if(!A||!b)return;const S=El(e,A);r.push({address:b,asset:{amount:w.toString(),fungible:!0,type:S,unit:""}}),o.push({address:b,asset:{amount:w.toString(),fungible:!0,type:S,unit:""}})})),{from:r,to:o}}({scope:e,transactionData:t});return w.from.length>0&&l.push(...w.from),w.to.length>0&&d.push(...w.to),{from:l,to:d}}function rh({scope:e,address:t,transactionData:n}){var r,o;if(!n)return null;const i=n.transaction.signatures[0];if(!i)return null;const a=i,s=Number(n.blockTime),c=th({scope:e,transactionData:n});let{fees:u}=c;const{from:l,to:d}=c,{from:f,to:p}=nh({scope:e,transactionData:n});let h=[...l,...f],g=[...d,...p];const m=function({address:e,from:t,to:n}){const r=t.filter((t=>t.address===e)),o=n.filter((t=>t.address===e)),i=r.length>0,a=o.length>0,s=t.every((t=>n.some((n=>{var r,o;return n.address===e&&!0===(null===(r=t.asset)||void 0===r?void 0:r.fungible)&&!0===(null===(o=n.asset)||void 0===o?void 0:o.fungible)&&t.asset.type===n.asset.type})))),c=n.every((n=>t.some((t=>{var r,o;return t.address===e&&!0===(null===(r=t.asset)||void 0===r?void 0:r.fungible)&&!0===(null===(o=n.asset)||void 0===o?void 0:o.fungible)&&t.asset.type===n.asset.type}))));if(s&&c)return"send";if(i&&a)return"swap";if(i)return"send";return"receive"}({address:t,from:h,to:g});"swap"===m&&(h=h.filter((e=>e.address===t)),g=g.filter((e=>e.address===t))),"receive"===m&&(u=[]);const y=(null===(r=n.meta)||void 0===r?void 0:r.err)||(null===(o=n.meta)||void 0===o?void 0:o.status)&&"Err"in n.meta.status?"failed":"confirmed";return{id:a,timestamp:s,chain:e,status:y,type:m,from:h,to:g,fees:u,events:[{status:y,timestamp:s}]}}const oh=new sl,ih=new class{async get(){const e=await snap.request({method:"snap_manageState",params:{operation:"get",encrypted:!0}});return jf(Nf,e??{})}async set(e){await snap.request({method:"snap_manageState",params:{operation:"update",newState:e,encrypted:!0}})}async update(e){return this.get().then((async t=>{const n=e(t);return this.set(n)}))}},ah=new class{async get(){const e=await snap.request({method:"snap_manageState",params:{operation:"get",encrypted:!1}});return jf(Sp,e??{})}async set(e){await snap.request({method:"snap_manageState",params:{operation:"update",newState:e,encrypted:!1}})}async update(e){return this.get().then((async t=>{const n=e(t);return this.set(n)}))}},sh=new class{#a;#s=new Map;constructor(e){this.#a=e}#c(e){const t=this.#a.getNetworkBy("caip2Id",e),n=Bf(Rf(t.rpcUrls));return this.#s.set(e,n),n}getRpc(e){return m(e,Ha),this.#s.get(e)??this.#c(e)}}(oh),ch=new class{#r;#i;constructor(e,t){this.#r=e,this.#i=t}async getLatestBlockhash(e){try{return(await this.#r.getRpc(e).getLatestBlockhash().send()).value}catch(e){throw this.#i.error(e),e}}async getComputeUnitEstimate(e,t){const n=function({rpc:e}){return async function(t,n){return await gp({...n,rpc:e,transactionMessage:t})}}({rpc:this.#r.getRpc(t)});return await n(e)}async getFeeFromTransactionInLamports(e,t){const n=await this.base64EncodeTransactionMessage(e);return await this.getFeeForMessageInLamports(n,t)}async getFeeForMessageInLamports(e,t){try{m(e,Qa);const n=this.#r.getRpc(t),r=await n.getFeeForMessage(e,{commitment:"confirmed"}).send();return this.#i.log(`Transaction is estimated to cost ${r.value} lamports`),r.value}catch(e){return this.#i.error(e),null}}async base64EncodeTransactionMessage(e){return Ws(e,Sc,hc().encode,ra().decode)}async#u(e){return Ws(e,na().encode,gc().decode,Pc)}async#l(e,t){return Ws(e,na().encode,Lc().decode,(e=>gc().decode(e.messageBytes)),(async e=>async function(e,t,n){const r=("addressTableLookups"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?e.addressTableLookups:[]).map((e=>e.lookupTableAddress)),{lastValidBlockHeight:o,...i}=n??{};return Pc(e,{addressesByLookupTableAddress:r.length>0?await mp(r,t,i):{},lastValidBlockHeight:o})}(e,this.#r.getRpc(t))))}async decodeBase64Encoded(e,t){return(async e=>new Promise(((t,n)=>{if(0===e.length)return void n(new AggregateError([],"No promises to resolve"));let r=0;const o=[];e.forEach(((i,a)=>{Promise.resolve(i).then((e=>t(e)),(t=>{o[a]=t,r+=1,r===e.length&&n(new AggregateError(o,"All promises rejected"))}))}))})))([this.#u(e),this.#l(e,t)])}async base64EncodeTransactionMessageFromBase64EncodedTransaction(e){return Ws(e,na().encode,Lc().decode,(e=>e.messageBytes),ra().decode)}async waitForTransactionCommitment(e,t,n){m(e,Ya);const r=this.#r.getRpc(n);return Ap((async()=>{this.#i.log(` Checking if transaction ${e} has reached commitment level ${t}`);const n=await r.getTransaction(fs(e),{commitment:t,maxSupportedTransactionVersion:0}).send();if(n)return this.#i.log(` Transaction ${e} has reached commitment level ${t}`),n;const o=` Transaction with signature ${e} not found or has not yet reached requested commitment level: ${t}`;throw this.#i.warn(o),new Error(o)}),{delayMs:200})}async getMinimumBalanceForRentExemption(e,t=BigInt(0),n){const r=this.#r.getRpc(e);return await r.getMinimumBalanceForRentExemption(t,n).send()}async signTransactionMessage(e,t){const{privateKeyBytes:n}=await nl(t.index),r=Yc([await Xc(n)],e);return await tu(r)}async encodeSignedTransactionToBase64(e){const t=Ri(Mc(),Lc()).encode(e);return oa().decode(t)}}(sh,wu),uh=new class{#o;#i;constructor(e,t){this.#o=e,this.#i=t}async buildTransactionMessage(e,t,n,r){try{const o=BigInt(wl(n).toString()),i=await this.#o.getLatestBlockhash(r),a=Ws(Ec({version:0}),(t=>Cc(e,t)),(e=>Ks(i,e)),(n=>Rc(function(e,t){const n=t?.programAddress??du,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0}},o={...e},i=gu(n);return{accounts:[i(r.source),i(r.destination)],programAddress:n,data:vu().encode(o)}}({amount:o,destination:t,source:eu(e)}),n))),s=await this.#o.getComputeUnitEstimate(a,r);return Nc([zf({units:s})],a)}catch(e){throw this.#i.error({error:e},"Error building transaction message"),e}}}(ch,wu),lh=new bp(sh,ch,wu),dh=new class{#o;constructor(e){this.#o=e}async buildTransactionMessage(e,t){m(e,Qa);const n=await this.#o.decodeBase64Encoded(e,t);return Ks(await this.#o.getLatestBlockhash(t),n)}}(ch),fh=new class{#d;#i;#f;#p;#h;constructor(e,t=globalThis.fetch,n=wu){this.#d=t,this.#i=n;const{tokenApi:r,staticApi:o}=e.get(),{baseUrl:i,chunkSize:a}=r;m(i,Fa),this.#f=i,this.#p=a,this.#h=o.baseUrl}async#g(e){m(e,b(Da));const t=Xa({baseUrl:this.#f,path:"/v3/assets",queryParams:{assetIds:e.join(",")}}),n=await this.#d(t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return m(r,ku),r}async getTokenMetadataFromAddresses(e){try{m(e,b(Da));const t=[];for(let n=0;n<e.length;n+=this.#p)t.push(e.slice(n,n+this.#p));const n=await Promise.all(t.map((async e=>this.#g(e)))),r=new Map;return n.flat().forEach((e=>{var t;r.set(e.assetId,{name:e.name,symbol:e.symbol,fungible:!0,iconUrl:(null===(t=e)||void 0===t?void 0:t.iconUrl)??Xa({baseUrl:this.#h,path:"/api/v2/tokenIcons/assets/{assetId}.png",pathParams:{assetId:e.assetId.replace(/:/gu,"/")}}),units:[{name:e.name,symbol:e.symbol,decimals:e.decimals}]})})),Object.fromEntries(r)}catch(e){throw this.#i.error(e,"Error fetching token metadata"),e}}}(oh),ph=new class{#d;#i;#f;#p;constructor(e,t=globalThis.fetch,n=wu){const{baseUrl:r,chunkSize:o}=e.get().priceApi;m(r,Fa),this.#d=t,this.#i=n,this.#f=r,this.#p=o}async getFiatExchangeRates(){try{const e=await this.#d(`${this.#f}/v1/exchange-rates/fiat`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw this.#i.error(e,"Error fetching fiat exchange rates"),e}}async getMultipleSpotPrices(e,t="usd"){try{if(m(e,b(Da)),m(t,bu),0===e.length)return{};const n=[];for(let t=0;t<e.length;t+=this.#p)n.push(e.slice(t,t+this.#p));return(await Promise.all(n.map((async e=>{const n=Xa({baseUrl:this.#f,path:"/v3/spot-prices",queryParams:{vsCurrency:t,assetIds:e.join(","),includeMarketData:"false"}}),r=await this.#d(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();m(o,Au);return Object.keys(o).reduce(((e,n)=>{var r,i;const a=null===(i=o)||void 0===i||null===(r=i[n])||void 0===r?void 0:r[t];return a?(e[n]={price:a},e):e}),{})})))).reduce(((e,t)=>({...e,...t})),{})}catch(e){throw this.#i.error(e,"Error fetching spot prices"),e}}}(oh),hh=new class{#m;#i;constructor({tokenMetadataClient:e,logger:t}){this.#m=e,this.#i=t}async getTokensMetadata(e){if(0===e.length)return{};const t=await this.#m.getTokenMetadataFromAddresses(e),n=Object.keys(t).map((async e=>{const n=e;try{var r;if(!(null===(r=t[n])||void 0===r?void 0:r.iconUrl))return void this.#i.warn(`No metadata for ${e}`);const o=await this.generateImageComponent(t[n].iconUrl);if(!o)return void this.#i.warn(`Unable to generate image for ${e}`);t[n]?t[n].imageSvg=o:this.#i.warn(`No metadata for ${e}`)}catch(e){this.#i.error(e)}}));return await Promise.all(n),t}async generateImageComponent(e,t=48,n=48){return e?async function(e,{width:t,height:n=t,request:r}){kp("number"==typeof t&&t>0,"Expected width to be a number greater than 0."),kp("number"==typeof n&&n>0,"Expected height to be a number greater than 0.");const o=await Hp(e,r),i=`width="${t}" height="${n}"`;return Gp(`<svg ${i.trim()} xmlns="http://www.w3.org/2000/svg"><image ${i.trim()} href="${o}" /></svg>`)}(e,{width:t,height:n}).then((e=>e.value)).catch((()=>Jp)):Jp}}({tokenMetadataClient:fh,logger:wu}),gh=new class{#i;#r;#a;#y;#v;constructor({connection:e,logger:t,configProvider:n,state:r,tokenMetadataService:o}){this.#i=t,this.#r=e,this.#a=n,this.#y=r,this.#v=o}async listAccountAssets(e){const{activeNetworks:t}=this.#a.get(),n=t.map((async t=>this.getNativeAsset(e.address,t))),r=t.map((async t=>this.discoverTokens(e.address,t))),[o,i]=await Promise.all([Promise.all(n),Promise.all(r)]);return[...o.map((e=>e.address)),...i.flatMap((e=>e.map((e=>e.address))))]}async discoverTokens(e,t){return await this.#w(e,t)}async getNativeAsset(e,t){const n=await this.#r.getRpc(t).getBalance(pa(e)).send();return m(n,xl),{scope:t,address:`${t}/${Na.SOL}`,balance:n.value.toString(),decimals:9,native:!0}}async#w(e,t){try{const n=await this.#r.getRpc(t).getTokenAccountsByOwner(pa(e),{programId:_a},{encoding:"jsonParsed"}).send();return m(n,Bl),n.value.map((e=>this.#A(e.account.data.parsed.info,t)))}catch(e){throw this.#i.error(e,"Error fetching token accounts"),e}}#A(e,t){return{scope:t,address:El(t,e.mint),balance:e.tokenAmount.amount,decimals:e.tokenAmount.decimals,native:e.isNative}}async getAccountBalances(e,t){const n=new Map,r=new Map,o=t.reduce(((e,t)=>{const n=t.split("/")[0];return e[n]||(e[n]=[]),e[n].push(t),e}),{});for(const t of Object.keys(o)){const c=t,u=o[c],[l,d]=await Promise.all([this.getNativeAsset(e.address,c),this.discoverTokens(e.address,c)]),f=await this.#v.getTokensMetadata([l.address,...d.map((e=>e.address))]);for(const e of u)if(f[e]&&r.set(e,f[e]),e.endsWith(Na.SOL))n.set(e,{amount:vl(l.balance).toString(),unit:"SOL"});else{const t=d.find((t=>t.address===e));var i;if(t)n.set(e,{amount:(a=t.balance,s=t.decimals,new Gr(a.toString()).div(10**s).toFixed()),unit:(null===(i=f[t.address])||void 0===i?void 0:i.symbol)??"UNKNOWN"})}}var a,s;const c=Object.fromEntries(n.entries());return await this.#y.update((t=>{var n,o;return{...t,assets:{...(null===(n=t)||void 0===n?void 0:n.assets)??{},[e.id]:c},metadata:{...(null===(o=t)||void 0===o?void 0:o.metadata)??{},...Object.fromEntries(r.entries())}}})),c}async refreshAssets(e){if(0===e.length)return void this.#i.info("[AssetsService] No accounts found");this.#i.log(`[AssetsService] Refreshing assets for ${e.length} accounts`);const t=await this.#y.get();for(const n of e){this.#i.log(`[AssetsService] Fetching all assets for ${n.address} in all networks`);const e=await this.listAccountAssets(n),r=t.assets[n.id],o=Object.keys(r??{}),i=e??{},{added:a,deleted:s,hasDiff:c}=Al(o,i);c&&(this.#i.info({assetsAdded:a,assetsDeleted:s,assetsChanged:c},`[refreshAssets] Found updated assets for ${n.address}`),await qt(snap,Ft.AccountAssetListUpdated,{assets:{[n.id]:{added:a,removed:s}}}));const u=await this.getAccountBalances(n,e),l=t.assets[n.id],{added:d,deleted:f,changed:p,hasDiff:h}=bl(l??{},u);h&&(this.#i.info({balancesAdded:d,balancesDeleted:f,balancesChanged:p},`[BalancesService] Found updated balances for ${n.address}`),await qt(snap,Ft.AccountBalancesUpdated,{balances:{[n.id]:{...d,...p}}}),await this.#y.update((e=>({...e,assets:{...e.assets,[n.id]:u}}))))}}#b(e,t,n,r){var o,i,a,s,c;if(!(null===(o=t)||void 0===o?void 0:o.meta))return r;const u=[...t.transaction.message.accountKeys,...(null===(a=t.meta)||void 0===a||null===(i=a.loadedAddresses)||void 0===i?void 0:i.writable)??[],...(null===(c=t.meta)||void 0===c||null===(s=c.loadedAddresses)||void 0===s?void 0:s.readonly)??[]],{postBalances:l,preBalances:d}=t.meta;for(let t=0;t<l.length;t++){const o=u[t],i=BigInt(d[t]??0),a=BigInt(l[t]??0);if(i===a)continue;const s=Sl(n,o);if(!s)continue;const c=vl(Number(a)).toString();r[s]||(r[s]={}),r[s]={...r[s],[Ma[e].nativeToken.caip19Id]:{amount:c,unit:Ma[e].nativeToken.symbol}}}return r}}({connection:sh,logger:wu,configProvider:oh,state:ah,tokenMetadataService:hh}),mh=new class{#r;#i;#v;#y;#a;constructor({logger:e,connection:t,tokenMetadataService:n,state:r,configProvider:o}){this.#r=t,this.#v=n,this.#i=e,this.#y=r,this.#a=o}async fetchLatestAddressTransactions(e,t){const n=[Ra.Mainnet,Ra.Devnet],r=(await Promise.all(n.map((async n=>this.fetchAddressTransactions(n,e,{limit:t}))))).flatMap((({data:e})=>e)).sort(((e,t)=>(t.timestamp??0)-(e.timestamp??0)));return r}async fetchAddressTransactions(e,t,n){const r=(await this.#r.getRpc(e).getSignaturesForAddress(t,n.next?{limit:n.limit,before:n.next}:{limit:n.limit}).send()).map((({signature:e})=>e)),o=(await this.getTransactionsDataFromSignatures({scope:e,signatures:r})).reduce(((n,r)=>{const o=rh({scope:e,address:t,transactionData:r});return o&&n.push(o),n}),[]),i=await this.#S({[t]:o}),a=r.length===n.limit?r[r.length-1]??null:null;return{data:i[t]??[],next:a}}async fetchLatestSignatures(e,t,n){this.#i.log(`[TransactionsService.fetchAllSignatures] Fetching all signatures for ${t} on ${e}`);return(await this.#r.getRpc(e).getSignaturesForAddress(t,{limit:n}).send()).map((({signature:e})=>e))}async getTransactionsDataFromSignatures({scope:e,signatures:t}){return await Promise.all(t.map((async t=>this.#r.getRpc(e).getTransaction(t,{maxSupportedTransactionVersion:0}).send())))}async refreshTransactions(e){try{if(this.#i.log(`[TransactionsService] Refreshing transactions for ${e.length} accounts`),!e.length)return void this.#i.log("[TransactionsService] No accounts found");const t=(await this.#y.get()).transactions,n=this.#E(t),r=await this.#x({accounts:e,existingSignatures:n}),o=await this.#T({accounts:e,newSignaturesMapping:r}),i=await this.#S(o);await qt(snap,Ft.AccountTransactionsUpdated,{transactions:i});const a=this.#k({accounts:e,previousTransactionsByAccount:t,newTransactionsByAccount:o});await this.#y.update((e=>({...e,transactions:a})))}catch(e){this.#i.error("[TransactionsService] Error. Releasing lock...",e)}}#E(e){return new Set(Object.values(e??{}).flat().map((e=>e.id)))}async#x({scopes:e=[Ra.Mainnet,Ra.Devnet],accounts:t,existingSignatures:n}){const r={byNetwork:new Map(e.map((e=>[e,new Set]))),byAccountAndNetwork:new Map(t.map((t=>[t.id,new Map(e.map((e=>[e,new Set])))])))};for(const o of t)for(const t of e){this.#i.log(`[TransactionsService] Fetching signatures for ${o.address} on ${t}...`);const e=await this.fetchLatestSignatures(t,pa(o.address),this.#a.get().transactions.storageLimit),i=e.filter((e=>!n.has(e)));if(!i.length){this.#i.log(`[TransactionsService] Found 0 new signatures out of ${e.length} total for address ${o.address} on network ${t}`);continue}const a=r.byNetwork.get(t),s=r.byAccountAndNetwork.get(o.id).get(t);i.forEach((e=>{a.add(e),s.add(e)})),this.#i.info(`[TransactionsService] Found ${i.length} new signatures (${e.length} total) for ${o.address} on ${t}`)}return r}async#T({scopes:e=[Ra.Mainnet,Ra.Devnet],accounts:t,newSignaturesMapping:n}){const r={};for(const i of e){const e=n.byNetwork.get(i);if(!e.size)continue;const a=Array.from(e),s=await this.getTransactionsDataFromSignatures({scope:i,signatures:a});for(const e of t){var o;r[e.id]||(r[e.id]=[]);const t=n.byAccountAndNetwork.get(e.id).get(i),a=s.filter((e=>{var n,r;const o=null===(r=e)||void 0===r||null===(n=r.transaction)||void 0===n?void 0:n.signatures[0];return o&&t.has(o)})).map((t=>{const n=rh({scope:i,address:e.address,transactionData:t});return n?{...n,account:e.id}:null})).filter((e=>null!==e));null===(o=r[e.id])||void 0===o||o.push(...a)}}return r}#k({accounts:e,previousTransactionsByAccount:t,newTransactionsByAccount:n}){return Object.fromEntries(e.map((e=>[e.id,[...t[e.id]??[],...n[e.id]??[]].sort(((e,t)=>(e.timestamp??0)-(t.timestamp??0))).slice(0,this.#a.get().transactions.storageLimit)])))}async#S(e){const t=[...new Set(Object.values(e).flatMap((e=>e.flatMap((({from:e,to:t})=>[...e,...t].filter((e=>{var t;return null===(t=e.asset)||void 0===t?void 0:t.fungible})).map((e=>e.asset.type)))))))],n=await this.#v.getTokensMetadata(t);return Object.keys(e).forEach((t=>{var r;null===(r=e[t])||void 0===r||r.forEach((e=>{e.from.forEach((e=>{var t,r;(null===(t=e.asset)||void 0===t?void 0:t.fungible)&&n[e.asset.type]&&(e.asset.unit=(null===(r=n[e.asset.type])||void 0===r?void 0:r.symbol)??"")})),e.to.forEach((e=>{var t,r;(null===(t=e.asset)||void 0===t?void 0:t.fungible)&&n[e.asset.type]&&(e.asset.unit=(null===(r=n[e.asset.type])||void 0===r?void 0:r.symbol)??"")}))}))})),e}}({logger:wu,connection:sh,tokenMetadataService:hh,state:ah,configProvider:oh}),yh=new class{#i=wu;constructor(e=wu){this.#i=e}async trackEventTransactionAdded(e,t,n){this.#i.log("[ AnalyticsService] Tracking event transaction added"),m(t,Qa)}async trackEventTransactionApproved(e,t,n){this.#i.log("[ AnalyticsService] Tracking event transaction approved"),m(t,Qa)}async trackEventTransactionSubmitted(e,t,n,r){this.#i.log("[ AnalyticsService] Tracking event transaction submitted"),m(t,Qa)}async trackEventTransactionFinalized(e,t){this.#i.log("[ AnalyticsService] Tracking event transaction finalized")}async trackEventTransactionRejected(e,t,n){this.#i.log("[ AnalyticsService] Tracking event transaction rejected"),m(t,Qa)}}(wu),vh=new class{#r;#I;#o;#i;constructor(e,t,n,r=wu){this.#r=e,this.#I=t,this.#o=n,this.#i=r}async resolveAccountAddress(e,t,n){const{method:r,params:o}=n,i=e.filter((e=>e.scopes.includes(t)));if(0===i.length)throw new Error("No accounts with this scope");switch(r){case gt.SignIn:{const{address:e}=o;if(!e)throw new Error("No address");return Xl(t,e)}case gt.SignAndSendTransaction:case gt.SignMessage:case gt.SignTransaction:{var a;const{account:e}=o,n=null===(a=i.find((t=>t.address===e.address)))||void 0===a?void 0:a.address;if(!n)throw new Error("Account not found");return Xl(t,n)}default:throw this.#i.warn({method:r},"Unsupported method"),new Error("Unsupported method")}}async signTransaction(e,t){m(t.request,Fu),m(t.scope,Ha);const{transaction:n,scope:r}=t.request.params,o=await this.#I.buildTransactionMessage(n,r),i=await this.#o.signTransactionMessage(o,e),a={signedTransaction:await this.#o.encodeSignedTransactionToBase64(i)};return m(a,$u),a}async signAndSendTransaction(e,t){m(t.request,Lu),m(t.scope,Ha);const{request:{params:{transaction:n}},scope:r}=t,o=await this.#I.buildTransactionMessage(n,r),i=await this.#o.signTransactionMessage(o,e),a=Fc(i),s=wp({rpc:this.#r.getRpc(r)}),c=Bd(r,"tx",a);this.#i.info(`Sending transaction: ${c}`),await s(i,{commitment:"confirmed"}),await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Dd.OnTransactionSubmitted,params:{accountId:e.id,base64EncodedTransaction:n,signature:a,scope:r}}}});const u={signature:a};m(u,Du);const l=await this.#o.waitForTransactionCommitment(a,"confirmed",r),d={...rh({scope:r,address:pa(e.address),transactionData:l}),account:e.id};return await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Dd.OnTransactionFinalized,params:{accountId:e.id,transaction:d}}}}),u}async signMessage(e,t){m(t.request,zu);const{message:n}=t.request.params,r=oa().encode(n),o=ca().decode(r),{privateKeyBytes:i}=await nl(e.index),a=await Xc(i),s=function(e,t={}){return Object.freeze({content:"string"==typeof e?(new ou).encode(e):e,signatures:Object.freeze({...t})})}(o),[c]=await a.signMessages([s]);m(c,C());const u=c[pa(e.address)];var l;m(u,(l=Uint8Array,U("instance",(e=>e instanceof l||`Expected a \\`${l.name}\\` instance, but received: ${d(e)}`))));const f={signature:Qi().decode(u),signedMessage:n,signatureType:"ed25519"};return m(f,qu),f}async signIn(e,t){m(t.request,Uu);const{address:n}=e,{params:r}=t.request,o=JSON.stringify(r),i=ca().encode(o),a=oa().decode(i),s={id:globalThis.crypto.randomUUID(),scope:t.scope,account:e.id,request:{method:gt.SignMessage,params:{account:{address:n},message:a}}},c={account:{address:n},...await this.signMessage(e,s)};return m(c,Wu),c}async verifySignature(e,t,n){m(t,Ya),m(n,Qa);const{privateKeyBytes:r}=await nl(e.index),o=await Xc(r),i=Gi(Zi).encode(t),a=oa().encode(n);return await ps(o.keyPair.publicKey,i,a)}}(sh,dh,ch,wu),wh=new class{#O;#i;#v;constructor(e,t,n){this.#O=e,this.#v=t,this.#i=n}async scanTransaction({method:e,accountAddress:t,transaction:n,scope:r,options:o=["simulation","validation"]}){try{var i,a;const s=await this.#O.scanTransactions({method:e,accountAddress:t,transactions:[n],scope:r,options:o}),c=this.#B(s);if(!(null===(a=c)||void 0===a||null===(i=a.estimatedChanges)||void 0===i?void 0:i.assets))return null;const u={...c},l=c.estimatedChanges.assets.map((async(e,t)=>{const{logo:n}=e;if(n)return this.#v.generateImageComponent(n,16,16).then((e=>{var n,r,o;e&&(null===(o=u)||void 0===o||null===(r=o.estimatedChanges)||void 0===r||null===(n=r.assets)||void 0===n?void 0:n[t])&&(u.estimatedChanges.assets[t].imageSvg=e)})).catch((()=>null))}));return await Promise.all(l??[]),u}catch(e){return this.#i.error(e),null}}#B(e){var t,n,r,o,i,a,s,c,u,l;return{status:null===(t=e)||void 0===t?void 0:t.status,estimatedChanges:{assets:(null===(i=e.result)||void 0===i||null===(o=i.simulation)||void 0===o||null===(r=o.account_summary)||void 0===r||null===(n=r.account_assets_diff)||void 0===n?void 0:n.map((e=>{var t,n,r,o;return{type:e.in?"in":"out",symbol:"symbol"in e.asset?e.asset.symbol:e.asset_type,name:"name"in e.asset?e.asset.name:e.asset_type,logo:"logo"in e.asset?e.asset.logo:null,value:(null===(t=e.in)||void 0===t?void 0:t.value)??(null===(n=e.out)||void 0===n?void 0:n.value)??null,price:(null===(r=e.in)||void 0===r?void 0:r.usd_price)??(null===(o=e.out)||void 0===o?void 0:o.usd_price)??null,imageSvg:null}})))??[]},validation:{type:null===(s=e.result)||void 0===s||null===(a=s.validation)||void 0===a?void 0:a.result_type,reason:null===(u=e.result)||void 0===u||null===(c=u.validation)||void 0===c?void 0:c.reason},error:(null===(l=e)||void 0===l?void 0:l.error_details)?{type:"type"in e.error_details?e.error_details.type:null,code:"code"in e.error_details?e.error_details.code:null}:null}}}(new class{#d;#i;#f;constructor(e,t=globalThis.fetch,n=wu){const{baseUrl:r}=e.get().securityAlertsApi;this.#d=t,this.#i=n,this.#f=r}async scanTransactions({method:e,accountAddress:t,transactions:n,scope:r,options:o}){const i=xu.from(Eu.decode(t)).toString("base64");this.#i.info("Scanning transaction");return(await this.#d(`${this.#f}/solana/message/scan`,{headers:{"Content-Type":"application/json",accept:"application/json"},method:"POST",body:JSON.stringify({method:e,encoding:"base64",account_address:i,metadata:{url:"https://metamask.io"},chain:Tu[r],transactions:n,options:o})})).json()}}(oh),hh,wu),Ah=new class{async handleKeyringRequest(e,t){const{request:{method:n}}=e;switch(n){case gt.SignAndSendTransaction:case gt.SignTransaction:return this.#C(e,t);case gt.SignMessage:return this.#R(e,t);case gt.SignIn:return this.#j(e,t);default:throw new Error(`Unsupported method: ${n}`)}}async#C(e,t){m(e.request,_([Lu,Fu]));const{request:{method:n,params:{transaction:r}},scope:o,account:i}=e;await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Dd.OnTransactionAdded,params:{accountId:i,base64EncodedTransaction:r,scope:o}}}});return await Fd({...zd,scope:o,method:n,transaction:r,account:t})?(await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Dd.OnTransactionApproved,params:{accountId:i,base64EncodedTransaction:r,scope:o}}}}),!0):(await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Dd.OnTransactionRejected,params:{accountId:i,base64EncodedTransaction:r,scope:o}}}}),!1)}async#R(e,t){const n=await async function(e,t){m(e.request,zu);const{request:{params:{message:n}},scope:r}=e,o=oa().encode(n),i=ca().decode(o),a=await zl().then((e=>e.locale)).catch((()=>"en"));return Ul(await _l(Cl(xd,{message:i,account:t,scope:r,locale:a,networkImage:jl}),{}))}(e,t);return Boolean(n)}async#j(e,t){const n=await async function(e,t){m(e.request,Uu);const{request:{params:n},scope:r}=e,o=await zl();return Ul(await _l(Cl(bd,{params:n,account:t,scope:r,preferences:o,networkImage:jl}),{}))}(e,t);return Boolean(n)}},bh=new class{#N;#y;#i;#P;#_;#M;#L;constructor({encryptedState:e,state:t,logger:n,transactionsService:r,assetsService:o,walletService:i,confirmationHandler:a}){this.#N=e,this.#y=t,this.#i=n,this.#P=r,this.#_=o,this.#M=i,this.#L=a}async listAccounts(){try{var e;const t=(null===(e=await this.#N.get())||void 0===e?void 0:e.keyringAccounts)??{};return Object.values(t).sort(((e,t)=>e.index-t.index))}catch(e){throw this.#i.error({error:e},"Error listing accounts"),new Error("Error listing accounts")}}async getAccount(e){try{var t,n;gl({accountId:e},$a);const r=(null===(t=await this.#N.get())||void 0===t?void 0:t.keyringAccounts)??{};if(!r[e])throw new Error(`Account "${e}" not found`);return null===(n=r)||void 0===n?void 0:n[e]}catch(e){throw this.#i.error({error:e},"Error getting account"),e}}async getAccountOrThrow(e){const t=await this.getAccount(e);if(!t)throw new Error(`Account "${e}" not found`);return t}async createAccount(e){const t=crypto.randomUUID();try{var n;let r;if((null===(n=e)||void 0===n?void 0:n.importedAccount)&&"number"==typeof e.index)r=e.index;else{r=function(e){if(0===e.length)return 0;const t=e.map((e=>e.index)).sort(((e,t)=>e-t));let n=0;for(const e of t){if(e!==n)break;n+=1}return n}(await this.listAccounts())}const{publicKeyBytes:o}=await nl(r),i=ga().decode(o.slice(1)),{importedAccount:a,index:s,accountNameSuggestion:c,...u}=e??{},l={id:t,index:r,type:Ke.DataAccount,address:i,scopes:[pt.Mainnet,pt.Testnet,pt.Devnet],options:{...u,imported:a??!1},methods:[gt.SignAndSendTransaction,gt.SignTransaction,gt.SignMessage,gt.SignIn]};await this.#N.update((e=>{var t;return{...e,keyringAccounts:{...(null===(t=e)||void 0===t?void 0:t.keyringAccounts)??{},[l.id]:l}}}));const d={type:l.type,id:l.id,address:l.address,options:l.options,methods:l.methods,scopes:l.scopes};return await this.emitEvent(Ft.AccountCreated,{account:d,accountNameSuggestion:c??`Solana Account ${r+1}`,displayAccountNameSuggestion:!c}),d}catch(e){throw this.#i.error({error:e},"Error creating account"),await this.#U(t),new Error("Error creating account")}}async#U(e){await Promise.all([this.#N.update((t=>{var n,r,o,i;(null===(r=t)||void 0===r||null===(n=r.keyringAccounts)||void 0===n?void 0:n[e])&&(null===(i=t)||void 0===i||(null===(o=i.keyringAccounts)||void 0===o||delete o[e]));return t})),this.#y.update((t=>{var n,r,o,i;return null===(r=t)||void 0===r||(null===(n=r.transactions)||void 0===n||delete n[e]),null===(i=t)||void 0===i||(null===(o=i.assets)||void 0===o||delete o[e]),t}))])}async deleteAccount(e){try{gl({accountId:e},qa),await this.#U(e),await this.emitEvent(Ft.AccountDeleted,{id:e})}catch(e){throw this.#i.error({error:e},"Error deleting account"),e}}async listAccountAssets(e){try{gl({accountId:e},Wa);const t=await this.getAccountOrThrow(e),n=await this.#_.listAccountAssets(t);return ml(n,Ot),n}catch(e){throw this.#i.error({error:e},"Error listing account assets"),e}}async getAccountBalances(e,t){try{gl({accountId:e,assets:t},Va);const n=await this.getAccountOrThrow(e),r=await this.#_.getAccountBalances(n,t);return ml(r,Ga),r}catch(e){throw this.#i.error({error:e},"Error getting account balances"),e}}async emitEvent(e,t){await qt(snap,e,t)}async filterAccountChains(e,t){throw new Error(`Implement me! ${e} ${t.toString()}`)}async updateAccount(e){throw new Error(`Implement me! ${JSON.stringify(e)}`)}async submitRequest(e){return{pending:!1,result:await this.#z(e)}}async#z(e){m(e,yl);const{request:{method:t,params:n},scope:r,account:o}=e,i=await this.getAccountOrThrow(o);if(!i.scopes.includes(r))throw new Error(`Scope "${r}" is not allowed for this account`);if(!i.methods.includes(t))throw new Error(`Method "${t}" is not allowed for this account`);if("scope"in n&&r!==n.scope)throw new Error(`Scope "${r}" does not match "${n.scope}" in request.params`);if(!await this.#L.handleKeyringRequest(e,i))return null;switch(t){case gt.SignAndSendTransaction:return this.#M.signAndSendTransaction(i,e);case gt.SignTransaction:return this.#M.signTransaction(i,e);case gt.SignMessage:return this.#M.signMessage(i,e);case gt.SignIn:return this.#M.signIn(i,e);default:throw new yr(`Unsupported method: ${t}`)}}async listAccountTransactions(e,t){try{var n,r,o;gl({accountId:e,pagination:t},Ka);const i=await this.getAccount(e);if(!i)throw new Error("Account not found");const a=(null===(r=await this.#y.get())||void 0===r||null===(n=r.transactions)||void 0===n?void 0:n[e])??[];if(!a.length){const e=(await this.#P.fetchLatestAddressTransactions(pa(i.address),t.limit)).map((e=>({...e,account:i.id})));return await this.#y.update((t=>{var n;return{...t,transactions:{...(null===(n=t)||void 0===n?void 0:n.transactions)??{},[i.id]:e}}})),{data:e,next:null}}const s=t.next?a.findIndex((e=>e.id===t.next)):0,c=a.slice(s,s+t.limit),u=s+t.limit<a.length;return{data:c,next:u?(null===(o=a[s+t.limit])||void 0===o?void 0:o.id)??null:null}}catch(e){throw this.#i.error({error:e},"Error listing account transactions"),e}}async resolveAccountAddress(e,t){try{m(e,Ha);const{method:n,params:r}=t,o={method:n,params:r};m(o,Vu);const i=await this.listAccounts();return{address:await this.#M.resolveAccountAddress(i,e,o)}}catch(e){return this.#i.error({error:e},"Error resolving account address"),null}}}({encryptedState:ih,state:ah,transactionsService:mh,logger:wu,assetsService:gh,walletService:vh,confirmationHandler:Ah}),Sh=new class{#F;#i;constructor(e,t=wu){this.#F=e,this.#i=t}#D(e){return Zp(e).toLowerCase()}async getMultipleTokenPrices(e,t){if(m(e,b(Da)),m(t,bu),0===e.length)return{};try{return await this.#F.getMultipleSpotPrices(e,t)}catch(e){return this.#i.error(e,"Error fetching token prices"),{}}}async getMultipleTokenConversions(e){if(0===e.length)return{};const t=e.flatMap((e=>[e.from,e.to])).filter((e=>!Yp(e))),[n,r]=await Promise.all([this.#F.getFiatExchangeRates(),this.#F.getMultipleSpotPrices(t,"usd")]),o={};return e.forEach((e=>{const{from:t,to:i}=e;let a,s;if(o[t]||(o[t]={}),Yp(t)){var c;const e=null===(c=n[this.#D(t)])||void 0===c?void 0:c.value;if(!e)return void(o[t][i]=null);a=new Gr(1).dividedBy(e)}else{var u;a=new Gr((null===(u=r[t])||void 0===u?void 0:u.price)??0)}if(Yp(i)){var l;const e=null===(l=n[this.#D(i)])||void 0===l?void 0:l.value;if(!e)return void(o[t][i]=null);s=new Gr(1).dividedBy(e)}else{var d;s=new Gr((null===(d=r[i])||void 0===d?void 0:d.price)??0)}if(a.isZero()||s.isZero())return void(o[t][i]=null);const f=a.dividedBy(s).toString();o[t][i]={rate:f,conversionTime:Date.now()}})),o}}(ph),Eh={configProvider:oh,connection:sh,keyring:bh,priceApiClient:ph,encryptedState:ih,state:ah,assetsService:gh,tokenPricesService:Sh,transactionHelper:ch,transactionsService:mh,sendSolBuilder:uh,sendSplTokenBuilder:lh,fromBase64EncodedBuilder:dh,walletService:vh,transactionScanService:wh,analyticsService:yh,confirmationHandler:Ah},xh=C({id:N(),jsonrpc:k("2.0"),method:k(Dd.OnTransactionAdded),params:C({accountId:La,base64EncodedTransaction:Qa,scope:Ha})}),Th=C({id:N(),jsonrpc:k("2.0"),method:k(Dd.OnTransactionApproved),params:C({accountId:La,base64EncodedTransaction:Qa,scope:Ha})}),kh=C({id:N(),jsonrpc:k("2.0"),method:k(Dd.OnTransactionFinalized),params:C({accountId:La,transaction:st})}),Ih=C({id:N(),jsonrpc:k("2.0"),method:k(Dd.OnTransactionRejected),params:C({accountId:La,base64EncodedTransaction:Qa,scope:Ha})}),Oh=C({id:N(),jsonrpc:k("2.0"),method:k(Dd.OnTransactionSubmitted),params:C({accountId:La,base64EncodedTransaction:Qa,signature:N(),scope:Ha})}),Bh={[Dd.OnTransactionAdded]:async({request:e})=>{try{wu.info("[onTransactionAdded] Cronjob triggered",e),m(e,xh);const{accountId:t,base64EncodedTransaction:n,scope:r}=e.params,o=await bh.getAccountOrThrow(t);await yh.trackEventTransactionAdded(o,n,r)}catch(e){throw wu.error(e),new fr(e)}},[Dd.OnTransactionApproved]:async({request:e})=>{try{wu.info("[onTransactionApproved] Cronjob triggered",e),m(e,Th);const{accountId:t,base64EncodedTransaction:n,scope:r}=e.params,o=await bh.getAccountOrThrow(t);await yh.trackEventTransactionApproved(o,n,r)}catch(e){throw wu.error(e),new fr(e)}},[Dd.OnTransactionSubmitted]:async({request:e})=>{try{wu.info("[onTransactionSubmitted] Cronjob triggered",e),m(e,Oh);const{accountId:t,base64EncodedTransaction:n,signature:r,scope:o}=e.params,i=await bh.getAccountOrThrow(t);await yh.trackEventTransactionSubmitted(i,n,r,o)}catch(e){throw wu.error(e),new fr(e)}},[Dd.OnTransactionFinalized]:async({request:e})=>{try{wu.info("[onTransactionFinalized] Cronjob triggered",e),m(e,kh);const{accountId:t,transaction:n}=e.params,r=await bh.getAccountOrThrow(t),o=await bh.listAccounts(),i=n.from.map((e=>e.address)),a=n.to.map((e=>e.address)),s=[...i,...a],c=o.filter((e=>s.includes(e.address))),u=gh.refreshAssets(c),l=mh.refreshTransactions(c),d=yh.trackEventTransactionFinalized(r,n);await Promise.all([u,l,d])}catch(e){throw wu.error(e),new fr(e)}},[Dd.OnTransactionRejected]:async({request:e})=>{try{wu.info("[onTransactionRejected] Cronjob triggered",e),m(e,Ih);const{accountId:t,base64EncodedTransaction:n,scope:r}=e.params,o=await bh.getAccountOrThrow(t);await yh.trackEventTransactionRejected(o,n,r)}catch(e){throw wu.error(e),new fr(e)}}};var Ch;function Rh(e){return U(JSON.stringify(e),k(e).validator)}!function(e){e.RefreshSend="refreshSend",e.RefreshConfirmationEstimation="refreshConfirmationEstimation",e.RefreshTransactions="refreshTransactions",e.RefreshAssets="refreshAssets"}(Ch||(Ch={}));const jh=C({id:N(),jsonrpc:Rh("2.0"),method:Rh("refreshAssets"),params:C({accountId:R(La)})}),Nh=$l("Form");function Ph(e){return null==e}var _h;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(_h=_h||(_h={}));const Mh=({title:e,backButtonName:t})=>Rl(Wl,{direction:"horizontal",alignment:"space-between",center:!0,children:[t?Cl(Ql,{name:t,children:Cl(hd,{name:"arrow-left",color:"primary",size:"md"})}):null,Cl(Vl,{size:"sm",children:e}),Rl(Wl,{direction:"horizontal",children:[Cl(Wl,{children:null}),Cl(Wl,{children:null}),Cl(Wl,{children:null}),Cl(Wl,{children:null})]})]}),Lh=$l("Field"),Uh=$l("Selector"),zh=$l("SelectorOption"),Fh=$l("Card");function Dh(e){return e?e.length<=10?"":`${e.slice(0,6)}...${e.slice(-4)}`:""}const $h=({accounts:e,balances:t,price:n,name:r,scope:o,selectedAccountId:i,error:a,locale:s,currency:c})=>{const u=rd(s),l=Object.values(e);return Cl(Lh,{label:u("send.fromField"),error:a,children:Cl(Uh,{name:r,value:i,title:"From",children:l.map((e=>{var r;const i=null===(r=t[e.id])||void 0===r?void 0:r[`${o}/${Na.SOL}`],{amount:a,unit:u}=i??{},l=void 0!==a&&u?_d(a,u,s):"",d=void 0!==a&&null!==n&&c?ld(Md(a,n),c,s):"-";return Cl(zh,{value:e.id,children:Cl(Fh,{value:l,extra:d,description:Dh(e.address),title:Cl(Jl,{address:Xl(o,e.address),truncate:!0,displayName:!0,avatar:!0})})})}))})})},qh=$l("Input");var Wh,Vh;!function(e){e.Form="send-form",e.DestinationAccountInput="send-to",e.BackButton="send-back-button",e.SourceAccountSelector="send-account-selector",e.AmountInput="send-amount-input",e.AssetSelector="send-asset-selector",e.SwapCurrencyButton="send-swap-currency",e.MaxAmountButton="send-amount-input-max",e.CancelButton="send-cancel-button",e.SendButton="send-submit-button",e.ClearButton="send-clear-button",e.CloseButton="send-close-button"}(Wh||(Wh={})),function(e){e.TOKEN="TOKEN",e.FIAT="USD"}(Vh||(Vh={}));const Kh=({name:e,value:t,tokenSymbol:n,currency:r,currencyType:o,error:i,locale:a,swapCurrencyButtonDisabled:s=!1})=>{const c=rd(a),u=o===Vh.FIAT?r.toUpperCase():n;return Rl(Lh,{label:c("send.amountField"),error:i,children:[Cl(qh,{name:e,type:"number",min:0,placeholder:"0",step:.01,value:t}),Rl(Wl,{direction:"horizontal",center:!0,children:[Cl(Wl,{direction:"vertical",alignment:"center",children:Cl(Kl,{size:"sm",children:u})}),Cl(Ql,{name:Wh.SwapCurrencyButton,disabled:s,children:Cl(hd,{name:"swap-vertical",color:s?"muted":"primary",size:"md"})})]})]})},Gh=({selectedAccountId:e,balances:t,tokenMetadata:n,locale:r,tokenCaipId:o})=>{const i=rd(r),a=t[e]??{};return Cl(Lh,{label:i("send.assetField"),children:Cl(Uh,{name:Wh.AssetSelector,title:i("send.assetField"),value:o,children:Object.keys(a).map(((e,t)=>{var r;const o=a[e],i=n[e];return Cl(zh,{value:e,children:Cl(Fh,{image:(null===(r=i)||void 0===r?void 0:r.imageSvg)??Jp,title:"",value:o.unit??"UNKNOWN"})},t)}))})})},Hh=({name:e,value:t,error:n,locale:r})=>{const o=rd(r),i=t.length>0;return Rl(Lh,{label:o("send.toField"),error:n,children:[Cl(qh,{name:e,placeholder:o("send.toPlaceholder"),value:t}),i&&Cl(Wl,{children:Cl(Ql,{name:Wh.ClearButton,children:Cl(hd,{name:pd.Close,color:"primary"})})})]})},Jh=e=>{var t,n;const{amount:r,tokenPrices:o,tokenCaipId:i,currencyType:a}=e,s=null===(n=o)||void 0===n||null===(t=n[i])||void 0===t?void 0:t.price;if(a===Vh.TOKEN)return r;if(void 0===s)throw new Error("Token price is undefined, cannot convert to fiat amount.");return Gr(r).dividedBy(Gr(s)).toString()},Zh=e=>{var t,n;const{tokenCaipId:r,tokenMetadata:o}=e,i=o[r];return{...i??{},tokenSymbol:(null===(t=i)||void 0===t?void 0:t.symbol)??"UNKNOWN",tokenImage:(null===(n=i)||void 0===n?void 0:n.imageSvg)??Jp}},Yh=e=>{var t,n;const{tokenCaipId:r,tokenPrices:o}=e;return null===(n=o)||void 0===n||null===(t=n[r])||void 0===t?void 0:t.price},Qh=e=>{var t,n,r;const{balances:o,fromAccountId:i,tokenCaipId:a}=e;return(null===(r=o)||void 0===r||null===(n=r[i])||void 0===n||null===(t=n[a])||void 0===t?void 0:t.amount)??"0"},Xh=e=>{var t,n;const{tokenCaipId:r,scope:o}=e;return r===(null===(n=Ma[o])||void 0===n||null===(t=n.nativeToken)||void 0===t?void 0:t.caip19Id)},eg=$l("Spinner"),tg=({title:e,subtitle:t,iconSrc:n,isLoading:r})=>Rl(Wl,{alignment:"center",center:!0,children:[Rl(Wl,{direction:"horizontal",center:!0,children:[r?Cl(eg,{}):null,n&&!r?Cl(Zl,{borderRadius:"full",src:n}):null]}),Cl(Vl,{size:"lg",children:e}),t?Cl(Kl,{color:"muted",children:t}):null]}),ng=$l("Value"),rg=({context:e})=>{var t,n;const{scope:r,fromAccountId:o,toAddress:i,accounts:a,feeEstimatedInSol:s,preferences:{locale:c,currency:u},transaction:l,feePaidInSol:d,tokenPrices:f}=e,p=rd(c),h=Ma[r],g=null===(t=a.find((e=>e.id===o)))||void 0===t?void 0:t.address,m=Xl(r,g),y=Xl(r,i),v=h.name,w=h.nativeToken.symbol,A=null===(n=f[h.nativeToken.caip19Id])||void 0===n?void 0:n.price,b=l?d:s,S=b?_d(b,w,c):"",E=void 0===A||null===b?"":ld(Md(b,A),u,c);return Rl(Wl,{children:[Rl(Gl,{children:[Cl(Hl,{label:p("send.confirmation.from"),children:Cl(Od,{href:Bd(r,"address",g),children:Cl(Jl,{address:m,displayName:!0})})}),Cl(Hl,{label:p("send.confirmation.recipient"),children:Cl(Od,{href:Bd(r,"address",i),children:Cl(Jl,{address:y,displayName:!0})})})]}),Rl(Gl,{children:[Cl(Hl,{label:p("send.confirmation.network"),children:Cl(Kl,{children:v})}),Cl(Hl,{label:p("send.confirmation.transactionSpeed"),children:Cl(Kl,{children:"<1s"})}),Cl(Hl,{label:p("send.confirmation.fee"),children:Cl(ng,{extra:E,value:S})})]})]})};var og;!function(e){e.BackButton="transaction-confirmation-back-button",e.CancelButton="transaction-confirmation-cancel-button",e.ConfirmButton="transaction-confirmation-submit-button"}(og||(og={}));const ig={"send-form":({context:e})=>{var t,n,r,o,i,a,s,c,u,l;const{accounts:d,fromAccountId:f,amount:p,toAddress:h,validation:g,currencyType:m,tokenCaipId:y,scope:v,balances:w,tokenPricesFetchStatus:A,tokenMetadata:b,buildingTransaction:S,error:E,preferences:{locale:x,currency:T}}=e,k=rd(x),I=null===(t=w[f])||void 0===t?void 0:t[y],O=null===(n=I)||void 0===n?void 0:n.amount,B=(null===(r=I)||void 0===r?void 0:r.unit)??"",C=void 0!==O,R=(e=>{var t,n,r,o;const{tokenPrices:i,scope:a}=e;return null===(o=i)||void 0===o||null===(t=o[null===(r=Ma[a])||void 0===r||null===(n=r.nativeToken)||void 0===n?void 0:n.caip19Id])||void 0===t?void 0:t.price})(e),j=Yh(e),N=void 0===O||"0"===O,P=void 0===j,_="error"===A||"fetched"===A&&P,M=(C?{[Vh.FIAT]:ld(Md(O,j??0),T,x),[Vh.TOKEN]:_d(O,B,x)}:{[Vh.FIAT]:"",[Vh.TOKEN]:""})[m],L=f.length>0&&h.length>0&&Ph(null===(o=g)||void 0===o?void 0:o[Wh.DestinationAccountInput]),U=!Ph(e.transactionMessage)&&""!==e.transactionMessage,z=f.length>0&&p.length>0&&h.length>0&&Object.values(g).every(Ph)&&C&&!S&&U;return Rl(ql,{children:[Rl(Wl,{children:[Cl(Mh,{title:k("send.title"),backButtonName:Wh.BackButton}),Rl(Nh,{name:Wh.Form,children:[_&&Cl(jd,{title:"",severity:"info",children:Cl(Kl,{children:k("send.selectedTokenPriceNotAvailable",{currency:T})})}),Cl(Wl,{children:null}),Cl(Wl,{children:null}),Cl(Wl,{children:null}),Cl($h,{name:Wh.SourceAccountSelector,scope:v,error:(null===(a=g)||void 0===a||null===(i=a[Wh.SourceAccountSelector])||void 0===i?void 0:i.message)??"",accounts:d,selectedAccountId:f,balances:w,price:R??null,locale:x,currency:T}),Cl(Wl,{children:null}),Cl(Wl,{children:null}),Cl(Wl,{children:null}),Cl(Hh,{locale:x,name:Wh.DestinationAccountInput,value:h,error:(null===(c=g)||void 0===c||null===(s=c[Wh.DestinationAccountInput])||void 0===s?void 0:s.message)??""}),L&&Rl(Wl,{children:[Cl(Wl,{children:null}),Cl(Wl,{children:null}),Cl(Wl,{children:null}),Rl(Wl,{direction:"horizontal",children:[Cl(Gh,{tokenCaipId:y,tokenMetadata:b,selectedAccountId:f,balances:w,locale:x}),Cl(Kh,{name:Wh.AmountInput,error:(null===(l=g)||void 0===l||null===(u=l[Wh.AmountInput])||void 0===u?void 0:u.message)??"",currencyType:m,tokenSymbol:B,currency:T,value:p,locale:x,swapCurrencyButtonDisabled:P||N})]}),Rl(Wl,{direction:"horizontal",alignment:"space-between",center:!0,children:[M?Cl(Kl,{size:"sm",color:"muted",children:`${k("send.balance")}: ${M}`}):Cl(Wl,{children:null}),Cl(Ql,{size:"sm",name:Wh.MaxAmountButton,disabled:N,children:k("send.maxButton")})]})]}),E&&Rl(Wl,{children:[Cl(Wl,{children:null}),Cl(jd,{title:k(E.title),severity:"warning",children:Cl(Kl,{children:k(E.message)})})]})]})]}),Rl(Yl,{children:[Cl(Ql,{name:Wh.CancelButton,children:k("send.cancelButton")}),Cl(Ql,{name:Wh.SendButton,disabled:!z,loading:S,children:k("send.continueButton")})]})]})},"transaction-confirmation":({context:e})=>{const{preferences:{currency:t,locale:n}}=e,r=rd(n),{tokenImage:o,tokenSymbol:i}=Zh(e),a=Jh(e),s=Yh(e),c=void 0===s?"":ld(Md(a,s),t,n);return Rl(ql,{children:[Rl(Wl,{children:[Cl(Mh,{title:r("send.confirmation.title"),backButtonName:og.BackButton}),Cl(tg,{title:_d(a,i,n),subtitle:c,iconSrc:o}),Cl(rg,{context:e})]}),Rl(Yl,{children:[Cl(Ql,{name:og.CancelButton,children:r("send.confirmation.cancelButton")}),Cl(Ql,{name:og.ConfirmButton,children:r("send.confirmation.sendButton")})]})]})},"send-pending":({context:e})=>{const t=rd(e.preferences.locale);return Cl(ql,{children:Rl(Wl,{children:[Cl(Wl,{children:null}),Cl(tg,{title:t("send.send-pending.title"),subtitle:t("send.send-pending.subtitle"),isLoading:!0}),Cl(rg,{context:e})]})})},"transaction-success":({context:e})=>{var t,n;const{preferences:r,transaction:o,scope:i}=e,a=rd(r.locale),{tokenSymbol:s}=Zh(e),c=Jh(e);return Cl(ql,{children:Rl(Wl,{children:[Cl(Wl,{children:null}),Cl(tg,{title:a("send.transaction-success.title"),subtitle:a("send.transaction-success.subtitle",{amount:ud(c,r.locale),tokenSymbol:s}),iconSrc:\'<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\\n<path d="M24.0002 3.99902C12.9802 3.99902 4.00024 12.979 4.00024 23.999C4.00024 35.019 12.9802 43.999 24.0002 43.999C35.0202 43.999 44.0002 35.019 44.0002 23.999C44.0002 12.979 35.0202 3.99902 24.0002 3.99902ZM33.5602 19.399L22.2202 30.739C21.9402 31.019 21.5602 31.179 21.1602 31.179C20.7602 31.179 20.3802 31.019 20.1002 30.739L14.4402 25.079C13.8602 24.499 13.8602 23.539 14.4402 22.959C15.0202 22.379 15.9802 22.379 16.5602 22.959L21.1602 27.559L31.4402 17.279C32.0202 16.699 32.9802 16.699 33.5602 17.279C34.1402 17.859 34.1402 18.799 33.5602 19.399Z" fill="#1C8234"/>\\n</svg>\\n\'}),Cl(rg,{context:e}),(null===(t=o)||void 0===t?void 0:t.signature)?Cl(Wl,{alignment:"center",center:!0,children:Cl(Od,{href:Bd(i,"tx",null===(n=o)||void 0===n?void 0:n.signature),children:a("send.confirmation.viewTransaction")})}):null]})})},"transaction-failure":({context:e})=>{const{preferences:t}=e,n=rd(t.locale),{tokenSymbol:r}=Zh(e),o=Jh(e);return Cl(ql,{children:Rl(Wl,{children:[Cl(Wl,{children:null}),Cl(tg,{title:n("send.transaction-failure.title"),subtitle:n("send.transaction-failure.subtitle",{amount:o,tokenSymbol:r}),iconSrc:\'<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\\n<path d="M40.8277 29.5283L29.7931 8.40143C28.3104 5.55884 26.2586 4 24 4C21.7414 4 19.6896 5.55884 18.2069 8.40143L7.17228 29.5283C5.77572 32.2241 5.62055 34.81 6.74125 36.8456C7.86194 38.8813 10.0689 40 12.9654 40H35.0346C37.9311 40 40.1381 38.8813 41.2588 36.8456C42.3795 34.81 42.2243 32.2058 40.8277 29.5283ZM22.7069 16.8375C22.7069 16.0856 23.2931 15.462 24 15.462C24.7069 15.462 25.2931 16.0856 25.2931 16.8375V26.0071C25.2931 26.759 24.7069 27.3826 24 27.3826C23.2931 27.3826 22.7069 26.759 22.7069 26.0071V16.8375ZM25.2241 32.811C25.1379 32.8844 25.0517 32.9577 24.9655 33.0311C24.8621 33.1044 24.7586 33.1595 24.6552 33.1961C24.5517 33.2511 24.4483 33.2878 24.3276 33.3062C24.2241 33.3245 24.1034 33.3428 24 33.3428C23.8965 33.3428 23.7759 33.3245 23.6552 33.3062C23.5517 33.2878 23.4483 33.2511 23.3448 33.1961C23.2414 33.1595 23.1379 33.1044 23.0345 33.0311C22.9483 32.9577 22.8621 32.8844 22.7759 32.811C22.4655 32.4626 22.2758 31.9857 22.2758 31.5089C22.2758 31.0321 22.4655 30.5553 22.7759 30.2068C22.8621 30.1335 22.9483 30.0601 23.0345 29.9868C23.1379 29.9134 23.2414 29.8584 23.3448 29.8217C23.4483 29.7667 23.5517 29.73 23.6552 29.7117C23.8793 29.6567 24.1207 29.6567 24.3276 29.7117C24.4483 29.73 24.5517 29.7667 24.6552 29.8217C24.7586 29.8584 24.8621 29.9134 24.9655 29.9868C25.0517 30.0601 25.1379 30.1335 25.2241 30.2068C25.5345 30.5553 25.7241 31.0321 25.7241 31.5089C25.7241 31.9857 25.5345 32.4626 25.2241 32.811Z" fill="#BF5208"/>\\n</svg>\\n\'}),Cl(rg,{context:e})]})})}},ag=({context:e})=>{const t=e.stage??"send-form";return Cl(ig[t],{context:e})};function sg(e,t,n){var r;return n[e]?(null===(r=n[e])||void 0===r?void 0:r.map((e=>e(t))).find((e=>null!==e)))??null:null}function cg(e){const t=pg(e),n={[Wh.SourceAccountSelector]:e.fromAccountId,[Wh.AmountInput]:e.amount,[Wh.DestinationAccountInput]:e.toAddress};return Object.entries(t).every((([e,t])=>{const r=n[e];return!!r&&t.every((e=>null===e(r)))}))}const ug=(e,t)=>{const n=rd(t);return t=>{const r=""===t?{message:n(e),value:t}:null;return r?{message:r.message,value:t}:null}},lg=(e,t)=>{const n=rd(t);return t=>{try{return pa(t),null}catch{return{message:n(e),value:t}}}},dg=e=>{const{minimumBalanceForRentExemptionSol:t,preferences:{locale:n},scope:r,feeEstimatedInSol:o}=e,i=rd(n);return n=>{const a=Jh({...e,amount:n}),s=parseFloat(a),c=Qh(e),u=parseFloat(c),l=parseFloat(o??"0"),d=parseFloat(t??"0");if(0===s)return{message:"",value:n};if(s>u)return{message:i("send.insufficientBalance"),value:n};if(Xh(e)){if(s<parseFloat(t))return{message:i("send.amountGreatherThanMinimumBalanceForRentExemptionError",{minimumValue:t}),value:n};if(s+l+d>u)return{message:i("send.insuffientSolToCoverFee"),value:n}}else{const t=Qh({...e,tokenCaipId:Ma[r].nativeToken.caip19Id});if(l>parseFloat(t))return{message:i("send.insuffientSolToCoverFee"),value:n}}return null}},fg=C({scope:x([...Object.values(Ra)]),account:La}),pg=e=>({[Wh.SourceAccountSelector]:[ug("send.fromRequiredError",e.preferences.locale)],[Wh.AmountInput]:[dg(e),ug("send.amountRequiredError",e.preferences.locale)],[Wh.DestinationAccountInput]:[ug("send.toRequiredError",e.preferences.locale),lg("send.toInvalidError",e.preferences.locale)]}),hg={scope:Ra.Mainnet,fromAccountId:"",amount:"",toAddress:"",feeEstimatedInSol:"0",feePaidInSol:"0",tokenCaipId:ja.SolMainnet,accounts:[],currencyType:Vh.TOKEN,validation:{},balances:{},assets:[],tokenPrices:{},tokenPricesFetchStatus:"initial",tokenMetadata:{},preferences:{locale:"en",currency:"usd",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},error:null,buildingTransaction:!1,transactionMessage:null,transaction:null,stage:"send-form",minimumBalanceForRentExemptionSol:"0.002"};const gg={...{[Ch.RefreshSend]:async()=>{const[e,t]=await Promise.all([ah.get(),zl().catch((()=>hg.preferences))]);try{wu.info(`[${Ch.RefreshSend}] Cronjob triggered`);const o=Object.values(e.assets).flatMap((e=>Object.keys(e)));let i={};try{i=await Sh.getMultipleTokenPrices(o,t.currency),await ah.update((e=>({...e,tokenPrices:{...e.tokenPrices,...i}}))),wu.info(`[${Ch.RefreshSend}]  Token prices were properly refreshed and saved in the state.`)}catch(e){wu.info({error:e},`[${Ch.RefreshSend}]  Could not update the token prices in the state.`)}try{var n,r;const t=null===(r=e)||void 0===r||null===(n=r.mapInterfaceNameToId)||void 0===n?void 0:n[Nl];if(t){const e=await Fl(t);if(!e)return void wu.info(`[${Ch.RefreshSend}] No interface context found`);if("transaction-confirmation"!==e.stage)return void wu.info(`[${Ch.RefreshSend}]  Not in transaction confirmation stage`);if(!e.assets)return void wu.info(`[${Ch.RefreshSend}]  No assets found`);const n=await Fl(t),r={...n,tokenPrices:{...n.tokenPrices,...i}};await Ml(t,Cl(ag,{context:r}),r)}}catch(e){wu.info({error:e},`[${Ch.RefreshSend}]  Could not update the interface`)}wu.info(`[${Ch.RefreshSend}]  Cronjob suceeded`)}catch(e){wu.info({error:e},`[${Ch.RefreshSend}]  Cronjob failed`)}},[Ch.RefreshConfirmationEstimation]:async()=>{try{var e,t;wu.info(`[${Ch.RefreshConfirmationEstimation}] Cronjob triggered`);const o=null===(t=await ah.get())||void 0===t||null===(e=t.mapInterfaceNameToId)||void 0===e?void 0:e[Pl];try{if(o){var n,r;const e=await Fl(o);if(!e)return void wu.info(`[${Ch.RefreshConfirmationEstimation}] No interface context found`);if(!((null===(n=e.account)||void 0===n?void 0:n.address)&&e.transaction&&e.scope&&e.method))return void wu.info(`[${Ch.RefreshConfirmationEstimation}] Context is missing required fields`);if(!(null===(r=e.preferences)||void 0===r?void 0:r.simulateOnChainActions))return void wu.info(`[${Ch.RefreshConfirmationEstimation}] Transaction simulation is disabled in preferences`);const t={...e,scanFetchStatus:"fetching"};await Ml(o,Cl(Ud,{context:t}),t);const i=await wh.scanTransaction({method:e.method,accountAddress:e.account.address,transaction:e.transaction,scope:e.scope}),a={...await Fl(o),scanFetchStatus:"fetched",scan:i};wu.info(`[${Ch.RefreshConfirmationEstimation}] New scan fetched`),await Ml(o,Cl(Ud,{context:a}),a)}wu.info(`[${Ch.RefreshConfirmationEstimation}] Cronjob suceeded`)}catch(e){if(!o)return void wu.info(`[${Ch.RefreshConfirmationEstimation}] No interface context found`);const t={...await Fl(o),scanFetchStatus:"fetched"};await Ml(o,Cl(Ud,{context:t}),t),wu.info({error:e},`[${Ch.RefreshConfirmationEstimation}] Could not update the interface. But rolled back status to fetched.`)}}catch(e){wu.info({error:e},`[${Ch.RefreshConfirmationEstimation}] Cronjob failed`)}},[Ch.RefreshTransactions]:async function(){try{wu.info("[refreshTransactions] Cronjob triggered");const e=await bh.listAccounts();await mh.refreshTransactions(e),wu.info("[refreshTransactions] Cronjob finished")}catch(e){throw wu.error("[refreshTransactions] Error",e),new fr(e)}},[Ch.RefreshAssets]:async({request:e})=>{try{wu.info("[refreshAssets] Cronjob triggered"),m(e,jh);const{accountId:t}=e.params,n=t?[await bh.getAccountOrThrow(t)]:await bh.listAccounts();await gh.refreshAssets(n),wu.info("[refreshAssets] Done refreshing assets")}catch(e){wu.error({error:e},"[refreshAssets] Error refreshing assets")}}},...Bh};var mg;!function(e){e.GetGenesisHash="getGenesisHash"}(mg||(mg={}));const yg=C({jsonrpc:k("2.0"),id:La,method:x(Object.values(mg)),params:R(b())}),vg={[rl.StartSendTransactionFlow]:async({request:e})=>{const{params:t}=e;m(t,fg);const{scope:n,account:r}=t,o=Ma[n].nativeToken.caip19Id,i={...hg,scope:n,fromAccountId:r,tokenCaipId:o},[a,s,c]=await Promise.all([ah.get(),ih.get(),zl().catch((()=>hg.preferences))]);i.balances=function({scope:e,balances:t}){return Object.fromEntries(Object.entries(t).map((([t,n])=>[t,Object.fromEntries(Object.entries(n).filter((([t,n])=>{const r=t===Ma[e].nativeToken.caip19Id,o=t.startsWith(e),i="0"!==n.amount;return r||o&&i})))])))}({scope:n,balances:a.assets});const u=a.assets[i.fromAccountId]??{};i.assets=Object.keys(u),i.accounts=Object.values(s.keyringAccounts),i.preferences=c,i.tokenMetadata=a.metadata??{},i.tokenPrices=a.tokenPrices??{};const l=await _l(Cl(ag,{context:i}),i),d=Ul(l);let f;i.preferences.useExternalPricingData?f=Sh.getMultipleTokenPrices(i.assets,i.preferences.currency).then((e=>{i.tokenPrices={...i.tokenPrices,...e},i.tokenPricesFetchStatus="fetched"})).catch((()=>{i.tokenPricesFetchStatus="error"})):i.tokenPricesFetchStatus="fetched";const p=ch.getMinimumBalanceForRentExemption(n).then((e=>{i.minimumBalanceForRentExemptionSol=vl(e).toString()})).catch((()=>{}));return await Promise.all([f,p]),await Ml(l,Cl(ag,{context:i}),i),await ah.update((e=>{var t;return{...e,mapInterfaceNameToId:{...(null===(t=e)||void 0===t?void 0:t.mapInterfaceNameToId)??{},[Nl]:l}}})),d},[rl.GetFeeForTransaction]:async({request:e})=>{m(e.params,Ja);const{transaction:t,scope:n}=e.params;try{var r;const e=await ch.base64EncodeTransactionMessageFromBase64EncodedTransaction(t),o={value:(null===(r=await ch.getFeeForMessageInLamports(e,n))||void 0===r?void 0:r.toString())??null};return m(o,Za),o}catch(e){throw wu.error(e),e}}};const wg=2n**255n-19n,Ag=2n**252n+27742317777372353535851937790883648493n,bg=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Sg=0x6666666666666666666666666666666666666666666666666666666666666658n,Eg={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:wg,n:Ag,h:8,Gx:bg,Gy:Sg},xg=(e="")=>{throw new Error(e)},Tg=e=>"string"==typeof e,kg=(e,t)=>!(e=>e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name)(e)||"number"==typeof t&&t>0&&e.length!==t?xg("Uint8Array of valid length expected"):e,Ig=e=>new Uint8Array(e),Og=(e,t)=>kg(Tg(e)?Mg(e):Ig(kg(e)),t),Bg=(e,t=wg)=>{let n=e%t;return n>=0n?n:t+n},Cg=e=>e instanceof Rg?e:xg("Point expected");class Rg{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r}static fromAffine(e){return new Rg(e.x,e.y,1n,Bg(e.x*e.y))}static fromHex(e,t=!1){const{d:n}=Eg,r=(e=Og(e,32)).slice(),o=e[31];r[31]=-129&o;const i=Ug(r);!t||0n<=i&&i<2n**256n||xg("bad y coord 1"),t||0n<=i&&i<wg||xg("bad y coord 2");const a=Bg(i*i),s=Bg(a-1n),c=Bg(n*a+1n);let{isValid:u,value:l}=qg(s,c);u||xg("bad y coordinate 3");const d=1n===(1n&l),f=0!=(128&o);return!t&&0n===l&&f&&xg("bad y coord 3"),f!==d&&(l=Bg(-l)),new Rg(l,i,1n,Bg(l*i))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:a}=Cg(e),s=Bg(t*a),c=Bg(o*r),u=Bg(n*a),l=Bg(i*r);return s===c&&u===l}is0(){return this.equals(Ng)}negate(){return new Rg(Bg(-this.ex),this.ey,this.ez,Bg(-this.et))}double(){const{ex:e,ey:t,ez:n}=this,{a:r}=Eg,o=Bg(e*e),i=Bg(t*t),a=Bg(2n*Bg(n*n)),s=Bg(r*o),c=e+t,u=Bg(Bg(c*c)-o-i),l=s+i,d=l-a,f=s-i,p=Bg(u*d),h=Bg(l*f),g=Bg(u*f),m=Bg(d*l);return new Rg(p,h,m,g)}add(e){const{ex:t,ey:n,ez:r,et:o}=this,{ex:i,ey:a,ez:s,et:c}=Cg(e),{a:u,d:l}=Eg,d=Bg(t*i),f=Bg(n*a),p=Bg(o*l*c),h=Bg(r*s),g=Bg((t+n)*(i+a)-d-f),m=Bg(h-p),y=Bg(h+p),v=Bg(f-u*d),w=Bg(g*m),A=Bg(y*v),b=Bg(g*v),S=Bg(m*y);return new Rg(w,A,S,b)}mul(e,t=!0){if(0n===e)return!0===t?xg("cannot multiply by 0"):Ng;if("bigint"==typeof e&&0n<e&&e<Ag||xg("invalid scalar, must be < L"),!t&&this.is0()||1n===e)return this;if(this.equals(jg))return cm(e).p;let n=Ng,r=jg;for(let o=this;e>0n;o=o.double(),e>>=1n)1n&e?n=n.add(o):t&&(r=r.add(o));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(Eg.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(Ag/2n,!1).double();return Ag%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:t,ez:n}=this;if(this.equals(Ng))return{x:0n,y:1n};const r=Fg(n);return 1n!==Bg(n*r)&&xg("invalid inverse"),{x:Bg(e*r),y:Bg(t*r)}}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=Lg(t);return n[31]|=1n&e?128:0,n}toHex(){return _g(this.toRawBytes())}}Rg.BASE=new Rg(bg,Sg,1n,Bg(bg*Sg)),Rg.ZERO=new Rg(0n,1n,1n,0n);const{BASE:jg,ZERO:Ng}=Rg,Pg=(e,t)=>e.toString(16).padStart(t,"0"),_g=e=>Array.from(e).map((e=>Pg(e,2))).join(""),Mg=e=>{const t=e.length;(!Tg(e)||t%2)&&xg("hex invalid 1");const n=Ig(t/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);(Number.isNaN(i)||i<0)&&xg("hex invalid 2"),n[t]=i}return n},Lg=e=>Mg(Pg(e,64)).reverse(),Ug=e=>BigInt("0x"+_g(Ig(kg(e)).reverse())),zg=(...e)=>{const t=Ig(e.reduce(((e,t)=>e+kg(t).length),0));let n=0;return e.forEach((e=>{t.set(e,n),n+=e.length})),t},Fg=(e,t=wg)=>{(0n===e||t<=0n)&&xg("no inverse n="+e+" mod="+t);let n=Bg(e,t),r=t,o=0n,i=1n,a=1n,s=0n;for(;0n!==n;){const e=r/n,t=r%n,c=o-a*e,u=i-s*e;r=n,n=t,o=a,i=s,a=c,s=u}return 1n===r?Bg(o,t):xg("no inverse")},Dg=(e,t)=>{let n=e;for(;t-- >0n;)n*=n,n%=wg;return n},$g=19681161376707505956807079304988542015446066515923890162744021073123829784752n,qg=(e,t)=>{const n=Bg(t*t*t),r=(e=>{const t=e*e%wg*e%wg,n=Dg(t,2n)*t%wg,r=Dg(n,1n)*e%wg,o=Dg(r,5n)*r%wg,i=Dg(o,10n)*o%wg,a=Dg(i,20n)*i%wg,s=Dg(a,40n)*a%wg,c=Dg(s,80n)*s%wg,u=Dg(c,80n)*s%wg,l=Dg(u,10n)*o%wg;return{pow_p_5_8:Dg(l,2n)*e%wg,b2:t}})(e*Bg(n*n*t)).pow_p_5_8;let o=Bg(e*n*r);const i=Bg(t*o*o),a=o,s=Bg(o*$g),c=i===e,u=i===Bg(-e),l=i===Bg(-e*$g);return c&&(o=a),(u||l)&&(o=s),1n===(1n&Bg(o))&&(o=Bg(-o)),{isValid:c||u,value:o}},Wg=e=>Bg(Ug(e),Ag);let Vg;const Kg=(...e)=>im.sha512Async(...e),Gg=(...e)=>"function"==typeof Vg?Vg(...e):xg("etc.sha512Sync not set"),Hg=e=>{const t=e.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;const n=e.slice(32,64),r=Wg(t),o=jg.mul(r),i=o.toRawBytes();return{head:t,prefix:n,scalar:r,point:o,pointBytes:i}},Jg=e=>Kg(Og(e,32)).then(Hg),Zg=e=>Hg(Gg(Og(e,32))),Yg=e=>Jg(e).then((e=>e.pointBytes));function Qg(e,t){return e?Kg(t.hashable).then(t.finish):t.finish(Gg(t.hashable))}const Xg=(e,t,n)=>{const{pointBytes:r,scalar:o}=e,i=Wg(t),a=jg.mul(i).toRawBytes();return{hashable:zg(a,r,n),finish:e=>{const t=Bg(i+Wg(e)*o,Ag);return kg(zg(a,Lg(t)),64)}}},em=async(e,t)=>{const n=Og(e),r=await Jg(t),o=await Kg(r.prefix,n);return Qg(!0,Xg(r,o,n))},tm={zip215:!0},nm=(e,t,n,r=tm)=>{t=Og(t),e=Og(e,64);const{zip215:o}=r;let i,a,s,c,u=new Uint8Array;try{i=Rg.fromHex(n,o),a=Rg.fromHex(e.slice(0,32),o),s=Ug(e.slice(32,64)),c=jg.mul(s,!1),u=zg(a.toRawBytes(),i.toRawBytes(),t)}catch(e){}return{hashable:u,finish:e=>{if(null==c)return!1;if(!o&&i.isSmallOrder())return!1;const t=Wg(e);return a.add(i.mul(t,!1)).add(c.negate()).clearCofactor().is0()}}},rm=async(e,t,n,r=tm)=>Qg(!0,nm(e,t,n,r)),om=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,im={bytesToHex:_g,hexToBytes:Mg,concatBytes:zg,mod:Bg,invert:Fg,randomBytes:(e=32)=>{const t=om();return t&&t.getRandomValues||xg("crypto.getRandomValues must be defined"),t.getRandomValues(Ig(e))},sha512Async:async(...e)=>{const t=om();t&&t.subtle||xg("crypto.subtle or etc.sha512Async must be defined");const n=zg(...e);return Ig(await t.subtle.digest("SHA-512",n.buffer))},sha512Sync:void 0};Object.defineProperties(im,{sha512Sync:{configurable:!1,get:()=>Vg,set(e){Vg||(Vg=e)}}});const am={getExtendedPublicKeyAsync:Jg,getExtendedPublicKey:Zg,randomPrivateKey:()=>im.randomBytes(32),precompute:(e=8,t=jg)=>(t.multiply(3n),t)};let sm;const cm=e=>{const t=sm||(sm=(()=>{const e=[];let t=jg,n=t;for(let r=0;r<33;r++){n=t,e.push(n);for(let r=1;r<128;r++)n=n.add(t),e.push(n);t=n.double()}return e})()),n=(e,t)=>{let n=t.negate();return e?n:t};let r=Ng,o=jg;const i=BigInt(255),a=BigInt(8);for(let s=0;s<33;s++){const c=128*s;let u=Number(e&i);e>>=a,u>128&&(u-=256,e+=1n);const l=c,d=c+Math.abs(u)-1,f=s%2!=0,p=u<0;0===u?o=o.add(n(f,t[l])):r=r.add(n(p,t[d]))}return{p:r,f:o}};function um(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var lm=n(1048).hp;const dm="8d9df0f7-1363-4d2c-8152-ce4ed78f27d8",fm=[48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32];function pm(e){return lm.from(e).toString("base64").replace(/\\+/gu,"-").replace(/\\//gu,"_").replace(/[=]/gu,"")}function hm(e){const t=e.replace(/-/gu,"+").replace(/_/gu,"/");return new Uint8Array(lm.from(t,"base64"))}function gm(e){return"Ed25519"===e||"object"==typeof e&&"Ed25519"===e.name}function mm(){const{subtle:e}=globalThis.crypto;Object.defineProperty(globalThis,"isSecureContext",{value:!0,writable:!0,configurable:!0}),Object.defineProperty(e,"generateKey",{value:async(...e)=>gm(e[0])?await async function(e,t,n){const r=am.randomPrivateKey(),o=await Yg(r),i=Array.from(n);return{privateKey:{algorithm:{name:"Ed25519"},extractable:t,type:"private",usages:i,[dm]:r},publicKey:{algorithm:{name:"Ed25519"},extractable:!0,type:"public",usages:i,[dm]:o}}}(...e):await globalThis.crypto.subtle.generateKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,"exportKey",{value:async(...e)=>gm(e[1].algorithm)?await async function(e,t){if(!t.extractable)throw new DOMException("key is not extractable","InvalidAccessException");const n=t[dm];switch(e){case"raw":if("public"!==t.type)throw new DOMException("Unable to export a raw Ed25519 private key","InvalidAccessError");return n.buffer;case"pkcs8":if("private"!==t.type)throw new DOMException("Unable to export a pkcs8 Ed25519 public key","InvalidAccessError");return new Uint8Array([...fm,...n]).buffer;case"jwk":{const e={crv:"Ed25519",ext:t.extractable,key_ops:t.usages,kty:"OKP"};if("private"===t.type){const t=await Yg(n);return Object.freeze({...e,d:pm(n),x:pm(t)})}return Object.freeze({...e,x:pm(n)})}case"spki":{if("public"!==t.type)throw new DOMException("Only public keys can be exported as SPKI","InvalidAccessError");const e=new Uint8Array([48,5,6,3,43,101,112]),r=new Uint8Array([3,n.length+1,0,...n]);return new Uint8Array([48,e.length+r.length,...e,...r]).buffer}default:throw new Error(`Unsupported export format: ${e}`)}}(...e):await globalThis.crypto.subtle.exportKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,"sign",{value:async(...e)=>{const[t,n]=e;return gm(t)&&gm(n.algorithm)?await async function(e,t,n){if("private"!==t.type)throw new DOMException("Key is not private","NotAllowedError");if(!t.usages.includes("sign"))throw new DOMException("Key usage not allowed","NotAllowedError");const r=um(n),o=t[dm],i=function(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteLength)}(await em(r,o));return i}(...e):await globalThis.crypto.subtle.sign(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,"verify",{value:async(...e)=>{const[t,n]=e;return gm(t)&&gm(n.algorithm)?await async function(e,t,n,r){if("public"!==t.type)throw new DOMException("Key is not public","NotAllowedError");if(!t.usages.includes("verify"))throw new DOMException("Key usage not allowed","NotAllowedError");const o=um(n),i=um(r),a=t[dm];return await rm(o,i,a)}(...e):await globalThis.crypto.subtle.verify(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,"importKey",{value:async(...e)=>gm(e[2])?await async function(e,t,n,r,o){const i=Array.from(o);switch(e){case"raw":{const e=um(t);if(32!==e.length)throw new DOMException("Ed25519 raw keys must be exactly 32-bytes","DataError");return{algorithm:{name:"Ed25519"},extractable:r,type:"public",usages:i.filter((e=>"verify"===e)),[dm]:e}}case"pkcs8":{const e=um(t);if(48!==e.length)throw new DOMException("Invalid PKCS8 key data length","DataError");if(!e.slice(0,16).every(((e,t)=>e===fm[t])))throw new DOMException("Invalid PKCS8 header","DataError");return{algorithm:{name:"Ed25519"},extractable:r,type:"private",usages:i.filter((e=>"sign"===e)),[dm]:e.slice(16)}}case"jwk":{const e=t;if("OKP"!==e.kty||"Ed25519"!==e.crv)throw new DOMException("Invalid Ed25519 JWK","DataError");const n="d"in e?"private":"public";if("public"===n&&!e.x)throw new DOMException("Ed25519 JWK is missing public key","DataError");if(!("private"!==n||e.d&&e.x))throw new DOMException("Ed25519 JWK is missing key data","DataError");const o="private"===n?e.d:e.x;return{algorithm:{name:"Ed25519"},extractable:r,type:n,usages:i.filter((e=>"private"===n?"sign"===e:"verify"===e)),[dm]:hm(o)}}case"spki":{const e=um(t);if(48!==e[0])throw new DOMException("Invalid SPKI format","DataError");const n=2;if(48!==e[n]||6!==e[n+2]||3!==e[n+3]||43!==e[n+4]||101!==e[n+5]||112!==e[n+6])throw new DOMException("Not an Ed25519 key","DataError");const r=n+7+2;return{algorithm:{name:"Ed25519"},extractable:!0,type:"public",usages:i.filter((e=>"verify"===e)),[dm]:e.slice(r)}}default:throw new Error(`Unsupported import format: ${e}`)}}(...e):await globalThis.crypto.subtle.importKey(...e),writable:!0,configurable:!0})}const ym=async e=>Promise.resolve().then(e);Error;function vm(e){return[lr,yr,Ir,vr,yr,wr,Ar,br,Sr,Er,xr,Tr,kr,fr,pr,hr,gr,mr].some((t=>e instanceof t))}var wm=n(4255),Am=n.n(wm),bm=n(3804),Sm=n.n(bm);class Em extends Error{constructor(e="Operation cancelled"){super(e),this.name="CancellationError"}}const xm=Sm()((async(e,t)=>{try{if(!cg(t))return;const n={buildingTransaction:!0,transactionMessage:null,feeEstimatedInSol:null};await Ml(e,Cl(ag,{context:{...t,...n}}),{...t,...n});const{feeInLamports:r,base64EncodedTransactionMessage:o}=await(async e=>{const{fromAccountId:t,tokenCaipId:n,scope:r,toAddress:o}=e,i=Jh(e),a=await bh.getAccountOrThrow(t);let s=null;if(s=n===Ma[r].nativeToken.caip19Id?await uh.buildTransactionMessage(pa(a.address),pa(o),i,r):await lh.buildTransactionMessage(a,pa(o),pa(Zp(n)),i,r),!s)throw new Error("Unable to generate transaction message");return{feeInLamports:await ch.getFeeFromTransactionInLamports(s,r),base64EncodedTransactionMessage:await ch.base64EncodeTransactionMessage(s)}})(t),i={transactionMessage:o,feeEstimatedInSol:r?vl(r).toString():null,buildingTransaction:!1},a=await Fl(e);await Ml(e,Cl(ag,{context:{...a,...i}}),{...a,...i})}catch(t){const n={error:{title:"send.simulationTitleError",message:"send.simulationMessageError"},transactionMessage:null,feeEstimatedInSol:null,buildingTransaction:!1},r=await Fl(e);await Ml(e,Cl(ag,{context:{...r,...n}}),{...r,...n})}}),(function(e){const t=(e=>(...t)=>{const n=new AbortController,r=[...t];r.some((e=>e instanceof AbortSignal))||r.push(n.signal);const o=Promise.race([e(...r),new Promise(((e,t)=>{n.signal.addEventListener("abort",(()=>{t(new Em)}))}))]);return o.cancel=()=>n.abort(),o})(e);let n=null;return async(...e)=>{if(n&&"function"==typeof n.cancel){const e="Cancelling previous task";console.warn(e),n.cancel()}const r=t(...e);n=r;try{return await r}finally{n===r&&(n=null)}}}),Am()(500));const Tm={[Wh.BackButton]:async function({id:e}){await Ll(e,!1),await ah.update((e=>{var t,n;return null===(n=e)||void 0===n||(null===(t=n.mapInterfaceNameToId)||void 0===t||delete t[Nl]),e}))},[Wh.SourceAccountSelector]:async function({id:e,event:t,context:n}){n.fromAccountId=t.value,n.error=null,n.validation[Wh.SourceAccountSelector]=sg(Wh.SourceAccountSelector,n.fromAccountId,pg(n)),n.validation[Wh.AmountInput]=sg(Wh.AmountInput,n.amount,pg(n)),await Ml(e,Cl(ag,{context:n}),n),await xm(e,n)},[Wh.AmountInput]:async function({id:e,event:t,context:n}){n.amount=t.value,n.error=null,n.validation[Wh.AmountInput]=sg(Wh.AmountInput,n.amount,pg(n)),await Ml(e,Cl(ag,{context:n}),n),await xm(e,n)},[Wh.AssetSelector]:async function({id:e,event:t,context:n}){n.tokenCaipId=t.value,n.amount="",n.error=null,await Ml(e,Cl(ag,{context:n}),n),await xm(e,n)},[Wh.SwapCurrencyButton]:async function({id:e,context:t}){if(t.error=null,t.currencyType=t.currencyType===Vh.TOKEN?Vh.FIAT:Vh.TOKEN,!t.amount)return void await Ml(e,Cl(ag,{context:t}),t);const n=Gr(t.amount??"0"),{price:r}=t.tokenPrices[t.tokenCaipId]??{price:0};t.currencyType===Vh.TOKEN&&(t.amount=n.dividedBy(r).toString()),t.currencyType===Vh.FIAT&&(t.amount=n.multipliedBy(r).toString()),await Ml(e,Cl(ag,{context:t}),t)},[Wh.MaxAmountButton]:async function({id:e,context:t}){const{currencyType:n,minimumBalanceForRentExemptionSol:r}=t,o={...t},i=Qh(t);if(Xh(t)){const e=wl(i),t=wl(r),n=e.minus(5e3).minus(t),a=vl(n);o.amount=a.toString()}else o.amount=i;if(n===Vh.FIAT){const{price:e}=t.tokenPrices[t.tokenCaipId]??{price:0};o.amount=Md(o.amount,e)}o.error=null,o.validation[Wh.AmountInput]=sg(Wh.AmountInput,o.amount,pg(o)),await Ml(e,Cl(ag,{context:o}),o),await xm(e,o)},[Wh.DestinationAccountInput]:async function({id:e,event:t,context:n}){n.toAddress=t.value,n.error=null,n.validation[Wh.DestinationAccountInput]=sg(Wh.DestinationAccountInput,n.toAddress,pg(n)),await Ml(e,Cl(ag,{context:n}),n),await xm(e,n)},[Wh.ClearButton]:async function({id:e,context:t}){t.toAddress="",t.error=null,await Ml(e,Cl(ag,{context:t}),t)},[Wh.CancelButton]:async function({id:e}){await Ll(e,!1),await ah.update((e=>{var t,n;return null===(n=e)||void 0===n||(null===(t=n.mapInterfaceNameToId)||void 0===t||delete t[Nl]),e}))},[Wh.SendButton]:async function({id:e,context:t}){if(!cg(t))return;const n={...t};n.stage="transaction-confirmation",await Ml(e,Cl(ag,{context:n}),n);const r=await Sh.getMultipleTokenPrices(t.assets,t.preferences.currency).then((e=>e)).catch((()=>null));r&&(n.tokenPrices=r),await Ml(e,Cl(ag,{context:n}),n),await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Dd.OnTransactionAdded,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,scope:t.scope}}}})}};const km={[og.BackButton]:async function({id:e,context:t}){const n={...t,stage:"send-form"};await Ml(e,Cl(ag,{context:n}),n)},[og.CancelButton]:async function({id:e,context:t}){const{fromAccountId:n,transactionMessage:r,scope:o}=t;await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Dd.OnTransactionRejected,params:{accountId:n,base64EncodedTransaction:r,scope:o}}}}),await Ll(e,!1),await ah.update((e=>{var t,n;return null===(n=e)||void 0===n||(null===(t=n.mapInterfaceNameToId)||void 0===t||delete t[Nl]),e}))},[og.ConfirmButton]:async function({id:e,context:t}){const{scope:n,fromAccountId:r,feeEstimatedInSol:o,transactionMessage:i}=t;if(t.error=null,!i)return t.stage="send-form",void await Ml(e,Cl(ag,{context:t}),t);await snap.request({method:"snap_scheduleBackgroundEvent",params:{duration:"PT1S",request:{method:Dd.OnTransactionApproved,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,scope:t.scope}}}});const a={...t,stage:"send-pending"};await Ml(e,Cl(ag,{context:a}),a);let s=null;try{const e=await bh.getAccountOrThrow(r);s=(await vh.signAndSendTransaction(e,{id:globalThis.crypto.randomUUID(),scope:n,account:r,request:{method:gt.SignAndSendTransaction,params:{transaction:i,scope:n,account:{address:""}}}})).signature}catch(e){wu.error({error:e},"Error submitting request")}const c={...t,stage:s?"transaction-success":"transaction-failure",feePaidInSol:o,transaction:{result:s?"success":"failure",signature:s}};await Ml(e,Cl(ag,{context:c}),c)}};Object.defineProperty(globalThis,"DOMException",{value:Error,writable:!0,configurable:!0,enumerable:!0}),mm(),Object.defineProperty(globalThis,"queueMicrotask",{value:ym,writable:!0,configurable:!0,enumerable:!0}),Gr.config({EXPONENTIAL_AT:16});const Im=async({origin:e,request:t})=>{try{wu.log("[ onRpcRequest]",t.method,t);const{method:n}=t;hl(e,n);const r=vg[n];if(!r)throw new yr(`RpcRequest method ${n} not found. Available methods: ${Object.values(rl).toString()}`);return r({origin:e,request:t})}catch(e){let t=e;throw vm(e)||(t=new lr(e)),wu.error(`onRpcRequest error: ${JSON.stringify(t.toJSON(),null,2)}`),t}},Om=async({origin:e,request:t})=>{try{return wu.log("[ onKeyringRequest]",t.method,t),hl(e,t.method),await $t(bh,t)}catch(e){let n=e;throw vm(e)||(n=new lr(e)),wu.error(`onKeyringRequest - ${t.method} - Error: ${JSON.stringify(n.toJSON(),null,2)}`),n}},Bm=async({id:e,event:t})=>{if(wu.log("[ onUserInput]",e,t),!t.name)return;const n={...Tm,...km,...Id,...Ed,...Ad}[t.name];if(!n)return;const r=await Fl(e);await n({id:e,event:t,context:r,snapContext:Eh})},Cm=async({request:e})=>{wu.log("[ onCronjob]",e.method,e);const{method:t}=e;m(t,x([...Object.values(Ch),...Object.values(Dd)]));const{locked:n}=await async function(){return await snap.request({method:"snap_getClientStatus"})}();if(n)return Promise.resolve();return(0,gg[t])({request:e})},Rm=async e=>{const{assets:t}=e;return{assets:await fh.getTokenMetadataFromAddresses(t)}},jm=async e=>{const{conversions:t}=e;return{conversionRates:await Sh.getMultipleTokenConversions(t)}},Nm=async({scope:e,request:t})=>{if(m(e,Ha),t.method===mg.GetGenesisHash)return m(t,yg),sh.getRpc(e).getGenesisHash().send();throw new Error(`Unsupported method: ${t.method}`)}})();var o=exports;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();'},{path:"locales/en.json",value:'{\n  "locale": "en",\n  "messages": {\n    "send.title": {\n      "message": "Send"\n    },\n    "send.balance": {\n      "message": "Balance"\n    },\n    "send.maxButton": {\n      "message": "Max"\n    },\n    "send.cancelButton": {\n      "message": "Cancel"\n    },\n    "send.continueButton": {\n      "message": "Continue"\n    },\n    "send.fromField": {\n      "message": "From"\n    },\n    "send.toField": {\n      "message": "To"\n    },\n    "send.amountField": {\n      "message": "Amount"\n    },\n    "send.assetField": {\n      "message": "Token"\n    },\n    "send.toPlaceholder": {\n      "message": "Enter public address"\n    },\n    "send.fromRequiredError": {\n      "message": "Account is required"\n    },\n    "send.amountRequiredError": {\n      "message": "Amount is required"\n    },\n    "send.amountGreatherThanMinimumBalanceForRentExemptionError": {\n      "message": "Amount must be greater than {minimumValue}"\n    },\n    "send.insuffientSolToCoverFee": {\n      "message": "Insufficient SOL balance to cover the transaction fee"\n    },\n    "send.toRequiredError": {\n      "message": "To address is required"\n    },\n    "send.toInvalidError": {\n      "message": "Invalid Solana address"\n    },\n    "send.insufficientBalance": {\n      "message": "Insufficient balance"\n    },\n    "send.simulationTitleError": {\n      "message": "Transaction simulation failed"\n    },\n    "send.simulationMessageError": {\n      "message": "This transaction was reverted during simulation."\n    },\n    "send.selectedTokenPriceNotAvailable": {\n      "message": "Prices for tokens in {currency} are currently not available. You are still able to send tokens."\n    },\n    "send.confirmation.title": {\n      "message": "Review"\n    },\n    "send.confirmation.from": {\n      "message": "From"\n    },\n    "send.confirmation.recipient": {\n      "message": "Recipient"\n    },\n    "send.confirmation.network": {\n      "message": "Network"\n    },\n    "send.confirmation.transactionSpeed": {\n      "message": "Transaction speed"\n    },\n    "send.confirmation.fee": {\n      "message": "Network fee"\n    },\n    "send.confirmation.sendButton": {\n      "message": "Send"\n    },\n    "send.confirmation.cancelButton": {\n      "message": "Cancel"\n    },\n    "send.confirmation.viewTransaction": {\n      "message": "View transaction"\n    },\n    "send.send-pending.title": {\n      "message": "Sending..."\n    },\n    "send.send-pending.subtitle": {\n      "message": "Your transaction was submitted."\n    },\n    "send.transaction-success.title": {\n      "message": "Sent"\n    },\n    "send.transaction-success.subtitle": {\n      "message": "{amount} {tokenSymbol} was successfully sent"\n    },\n    "send.transaction-failure.title": {\n      "message": "Transaction failed"\n    },\n    "send.transaction-failure.subtitle": {\n      "message": "Unable to send {amount} {tokenSymbol}"\n    },\n    "confirmation.account": {\n      "message": "Account"\n    },\n    "confirmation.network": {\n      "message": "Network"\n    },\n    "confirmation.estimatedChanges": {\n      "message": "Estimated changes"\n    },\n    "confirmation.estimatedChanges.send": {\n      "message": "You send"\n    },\n    "confirmation.estimatedChanges.receive": {\n      "message": "You receive"\n    },\n    "confirmation.estimatedChanges.notAvailable": {\n      "message": "Not available"\n    },\n    "confirmation.estimatedChanges.noChanges": {\n      "message": "No changes"\n    },\n    "confirmation.estimatedChanges.tooltip": {\n      "message": "Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee."\n    },\n    "confirmation.advanced.show": {\n      "message": "Show advanced"\n    },\n    "confirmation.advanced.hide": {\n      "message": "Hide advanced"\n    },\n    "confirmation.cancelButton": {\n      "message": "Cancel"\n    },\n    "confirmation.confirmButton": {\n      "message": "Confirm"\n    },\n    "confirmation.title": {\n      "message": "Transaction request"\n    },\n    "confirmation.advanced.unknownInstruction": {\n      "message": "Unknown"\n    },\n    "confirmation.advanced.programId": {\n      "message": "Program ID"\n    },\n    "confirmation.advanced.data": {\n      "message": "Data"\n    },\n    "confirmation.fee": {\n      "message": "Network fee"\n    },\n    "confirmation.feeError": {\n      "message": "Unable to estimate fee"\n    },\n    "confirmation.simulationErrorTitle": {\n      "message": "This transaction was reverted during simulation."\n    },\n    "confirmation.simulationErrorSubtitle": {\n      "message": "Reason: {reason}"\n    },\n    "confirmation.validationErrorTitle": {\n      "message": "This is a deceptive request"\n    },\n    "confirmation.validationErrorSubtitle": {\n      "message": "If you approve this request, a third party known for scams will take all your assets."\n    },\n    "confirmation.validationErrorLearnMore": {\n      "message": "Learn more"\n    },\n    "confirmation.validationErrorSecurityAdviced": {\n      "message": "Security advice by"\n    },\n    "confirmation.signMessage.title": {\n      "message": "Sign message"\n    },\n    "confirmation.signMessage.message": {\n      "message": "Message"\n    },\n    "confirmation.signIn.title": {\n      "message": "Sign-in request"\n    },\n    "confirmation.signIn.description": {\n      "message": "A site wants you to sign in to prove you own this account."\n    },\n    "confirmation.signIn.requestFrom": {\n      "message": "Request from"\n    },\n    "confirmation.signIn.unknownDomain": {\n      "message": "Unknown domain"\n    },\n    "confirmation.signIn.signingInWith": {\n      "message": "Signing in with"\n    },\n    "confirmation.signIn.badAccount": {\n      "message": "This site is asking you to sign in using the wrong account."\n    },\n    "confirmation.signIn.message": {\n      "message": "Message"\n    },\n    "confirmation.signIn.statement": {\n      "message": "Statement"\n    },\n    "confirmation.signIn.version": {\n      "message": "Version"\n    },\n    "confirmation.signIn.chainId": {\n      "message": "Chain ID"\n    },\n    "confirmation.signIn.nonce": {\n      "message": "Nonce"\n    },\n    "confirmation.signIn.issuedAt": {\n      "message": "Issued at"\n    },\n    "confirmation.signIn.expirationTime": {\n      "message": "Expiration time"\n    },\n    "confirmation.signIn.notBefore": {\n      "message": "Not before"\n    },\n    "confirmation.signIn.requestId": {\n      "message": "Request ID"\n    },\n    "confirmation.signIn.resources": {\n      "message": "Resources"\n    }\n  }\n}'}],removable:!1,hideSnapBranding:!0}}}},{package:"@metamask/solana-wallet-snap",file:"node_modules/@metamask/solana-wallet-snap/dist/preinstalled-snap.json"}],[2871,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.StructError=void 0;class r extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...o}=e,{path:s}=e,a=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??a),null!==i&&i!==undefined&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}n.StructError=r}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/error.cjs"}],[2872,{"./error.cjs":2871,"./struct.cjs":2873,"./structs/coercions.cjs":2874,"./structs/refinements.cjs":2875,"./structs/types.cjs":2876,"./structs/utilities.cjs":2877},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./error.cjs"),n),i(e("./struct.cjs"),n),i(e("./structs/coercions.cjs"),n),i(e("./structs/refinements.cjs"),n),i(e("./structs/types.cjs"),n),i(e("./structs/utilities.cjs"),n)}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/index.cjs"}],[2873,{"./error.cjs":2871,"./utils.cjs":2878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validate=n.is=n.mask=n.create=n.assert=n.Struct=void 0;const r=e("./error.cjs"),i=e("./utils.cjs");function o(e,t,n){const r=u(e,t,{message:n});if(r[0])throw r[0]}function s(e,t,n){const r=u(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function a(e,t,n){const r=u(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function c(e,t){return!u(e,t)[0]}function u(e,t,n={}){const o=(0,i.run)(e,t,n),s=(0,i.shiftIterator)(o);if(s[0]){return[new r.StructError(s[0],(function*(){for(const e of o)e[0]&&(yield e[0])})),undefined]}const a=s[1];return[undefined,a]}n.Struct=class{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:s=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=s,this.validator=r?(e,t)=>{const n=r(e,t);return(0,i.toFailures)(n,t,this,e)}:()=>[],this.refiner=o?(e,t)=>{const n=o(e,t);return(0,i.toFailures)(n,t,this,e)}:()=>[]}assert(e,t){return o(e,this,t)}create(e,t){return s(e,this,t)}is(e){return c(e,this)}mask(e,t){return a(e,this,t)}validate(e,t={}){return u(e,this,t)}},n.assert=o,n.create=s,n.mask=a,n.is=c,n.validate=u}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/struct.cjs"}],[2874,{"../struct.cjs":2873,"../utils.cjs":2878,"./types.cjs":2876},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.trimmed=n.defaulted=n.coerce=void 0;const r=e("../struct.cjs"),i=e("../utils.cjs"),o=e("./types.cjs");function s(e,t,n){return new r.Struct({...e,coercer:(i,o)=>(0,r.is)(i,t)?e.coercer(n(i,o),o):e.coercer(i,o)})}n.coerce=s,n.defaulted=function(e,t,n={}){return s(e,(0,o.unknown)(),(e=>{const r="function"==typeof t?t():t;if(e===undefined)return r;if(!n.strict&&(0,i.isPlainObject)(e)&&(0,i.isPlainObject)(r)){const t={...e};let n=!1;for(const e in r)t[e]===undefined&&(t[e]=r[e],n=!0);if(n)return t}return e}))},n.trimmed=function(e){return s(e,(0,o.string)(),(e=>e.trim()))}}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/coercions.cjs"}],[2875,{"../struct.cjs":2873,"../utils.cjs":2878},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.refine=n.size=n.pattern=n.nonempty=n.min=n.max=n.empty=void 0;const r=e("../struct.cjs"),i=e("../utils.cjs");function o(e){return e instanceof Map||e instanceof Set?e.size:e.length}function s(e,t,n){return new r.Struct({...e,*refiner(r,o){yield*e.refiner(r,o);const s=n(r,o),a=(0,i.toFailures)(s,o,e,r);for(const e of a)yield{...e,refinement:t}}})}n.empty=function(e){return s(e,"empty",(t=>{const n=o(t);return 0===n||`Expected an empty ${e.type} but received one with a size of \`${n}\``}))},n.max=function(e,t,n={}){const{exclusive:r}=n;return s(e,"max",(n=>r?n<t:n<=t||`Expected a ${e.type} less than ${r?"":"or equal to "}${t} but received \`${n}\``))},n.min=function(e,t,n={}){const{exclusive:r}=n;return s(e,"min",(n=>r?n>t:n>=t||`Expected a ${e.type} greater than ${r?"":"or equal to "}${t} but received \`${n}\``))},n.nonempty=function(e){return s(e,"nonempty",(t=>o(t)>0||`Expected a nonempty ${e.type} but received an empty one`))},n.pattern=function(e,t){return s(e,"pattern",(n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`))},n.size=function(e,t,n=t){const r=`Expected a ${e.type}`,i=t===n?`of \`${t}\``:`between \`${t}\` and \`${n}\``;return s(e,"size",(e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=n||`${r} ${i} but received \`${e}\``;if(e instanceof Map||e instanceof Set){const{size:o}=e;return t<=o&&o<=n||`${r} with a size ${i} but received one with a size of \`${o}\``}const{length:o}=e;return t<=o&&o<=n||`${r} with a length ${i} but received one with a length of \`${o}\``}))},n.refine=s}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/refinements.cjs"}],[2876,{"../struct.cjs":2873,"../utils.cjs":2878,"./utilities.cjs":2877},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unknown=n.union=n.type=n.tuple=n.string=n.set=n.regexp=n.record=n.optional=n.object=n.number=n.nullable=n.never=n.map=n.literal=n.intersection=n.integer=n.instance=n.func=n.enums=n.date=n.boolean=n.bigint=n.array=n.any=void 0;const r=e("../struct.cjs"),i=e("../utils.cjs"),o=e("./utilities.cjs");function s(){return(0,o.define)("never",(()=>!1))}n.any=function(){return(0,o.define)("any",(()=>!0))},n.array=function(e){return new r.Struct({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${(0,i.print)(e)}`})},n.bigint=function(){return(0,o.define)("bigint",(e=>"bigint"==typeof e))},n.boolean=function(){return(0,o.define)("boolean",(e=>"boolean"==typeof e))},n.date=function(){return(0,o.define)("date",(e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${(0,i.print)(e)}`))},n.enums=function(e){const t={},n=e.map((e=>(0,i.print)(e))).join();for(const n of e)t[n]=n;return new r.Struct({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${n}\`, but received: ${(0,i.print)(t)}`})},n.func=function(){return(0,o.define)("func",(e=>"function"==typeof e||`Expected a function, but received: ${(0,i.print)(e)}`))},n.instance=function(e){return(0,o.define)("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${(0,i.print)(t)}`))},n.integer=function(){return(0,o.define)("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${(0,i.print)(e)}`))},n.intersection=function(e){return new r.Struct({type:"intersection",schema:null,*entries(t,n){for(const{entries:r}of e)yield*r(t,n)},*validator(t,n){for(const{validator:r}of e)yield*r(t,n)},*refiner(t,n){for(const{refiner:r}of e)yield*r(t,n)}})},n.literal=function(e){const t=(0,i.print)(e),n=typeof e;return new r.Struct({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${(0,i.print)(n)}`})},n.map=function(e,t){return new r.Struct({type:"map",schema:null,*entries(n){if(e&&t&&n instanceof Map)for(const[r,i]of n.entries())yield[r,r,e],yield[r,i,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${(0,i.print)(e)}`})},n.never=s,n.nullable=function(e){return new r.Struct({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})},n.number=function(){return(0,o.define)("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${(0,i.print)(e)}`))},n.object=function(e){const t=e?Object.keys(e):[],n=s();return new r.Struct({type:"object",schema:e??null,*entries(r){if(e&&(0,i.isObject)(r)){const i=new Set(Object.keys(r));for(const n of t)i.delete(n),yield[n,r[n],e[n]];for(const e of i)yield[e,r[e],n]}},validator:e=>(0,i.isObject)(e)||`Expected an object, but received: ${(0,i.print)(e)}`,coercer:e=>(0,i.isObject)(e)?{...e}:e})},n.optional=function(e){return new r.Struct({...e,validator:(t,n)=>t===undefined||e.validator(t,n),refiner:(t,n)=>t===undefined||e.refiner(t,n)})},n.record=function(e,t){return new r.Struct({type:"record",schema:null,*entries(n){if((0,i.isObject)(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>(0,i.isObject)(e)||`Expected an object, but received: ${(0,i.print)(e)}`})},n.regexp=function(){return(0,o.define)("regexp",(e=>e instanceof RegExp))},n.set=function(e){return new r.Struct({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const n of t)yield[n,n,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${(0,i.print)(e)}`})},n.string=function(){return(0,o.define)("string",(e=>"string"==typeof e||`Expected a string, but received: ${(0,i.print)(e)}`))},n.tuple=function(e){const t=s();return new r.Struct({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${(0,i.print)(e)}`})},n.type=function(e){const t=Object.keys(e);return new r.Struct({type:"type",schema:e,*entries(n){if((0,i.isObject)(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>(0,i.isObject)(e)||`Expected an object, but received: ${(0,i.print)(e)}`,coercer:e=>(0,i.isObject)(e)?{...e}:e})},n.union=function(e){const t=e.map((e=>e.type)).join(" | ");return new r.Struct({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=(0,i.run)(n,t,r),[s]=e;if(!s?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${(0,i.print)(n)}`,...o]}})},n.unknown=function(){return(0,o.define)("unknown",(()=>!0))}}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/types.cjs"}],[2877,{"../struct.cjs":2873,"./types.cjs":2876},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pick=n.partial=n.omit=n.lazy=n.dynamic=n.deprecated=n.define=n.assign=void 0;const r=e("../struct.cjs"),i=e("./types.cjs");n.assign=function(...e){const t="type"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?(0,i.type)(r):(0,i.object)(r)},n.define=function(e,t){return new r.Struct({type:e,schema:null,validator:t})},n.deprecated=function(e,t){return new r.Struct({...e,refiner:(t,n)=>t===undefined||e.refiner(t,n),validator:(n,r)=>n===undefined||(t(n,r),e.validator(n,r))})},n.dynamic=function(e){return new r.Struct({type:"dynamic",schema:null,*entries(t,n){const r=e(t,n);yield*r.entries(t,n)},validator:(t,n)=>e(t,n).validator(t,n),coercer:(t,n)=>e(t,n).coercer(t,n),refiner:(t,n)=>e(t,n).refiner(t,n)})},n.lazy=function(e){let t;return new r.Struct({type:"lazy",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator:(n,r)=>(t??(t=e()),t.validator(n,r)),coercer:(n,r)=>(t??(t=e()),t.coercer(n,r)),refiner:(n,r)=>(t??(t=e()),t.refiner(n,r))})},n.omit=function(e,t){const{schema:n}=e,r={...n};for(const e of t)delete r[e];return"type"===e.type?(0,i.type)(r):(0,i.object)(r)},n.partial=function(e){const t=e instanceof r.Struct,n=t?{...e.schema}:{...e};for(const e in n)n[e]=(0,i.optional)(n[e]);return t&&"type"===e.type?(0,i.type)(n):(0,i.object)(n)},n.pick=function(e,t){const{schema:n}=e,r={};for(const e of t)r[e]=n[e];return"type"===e.type?(0,i.type)(r):(0,i.object)(r)}}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/structs/utilities.cjs"}],[2878,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return"object"==typeof e&&null!==e}function i(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function o(e,t,n,r){if(!0===e)return undefined;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:s}=t,{type:a}=n,{refinement:c,message:u=`Expected a value of type \`${a}\`${c?` with refinement \`${c}\``:""}, but received: \`${i(r)}\``}=e;return{value:r,type:a,refinement:c,key:o[o.length-1],path:o,branch:s,...e,message:u}}Object.defineProperty(n,"__esModule",{value:!0}),n.run=n.toFailures=n.toFailure=n.shiftIterator=n.print=n.isPlainObject=n.isObject=void 0,n.isObject=r,n.isPlainObject=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},n.print=i,n.shiftIterator=function(e){const{done:t,value:n}=e.next();return t?undefined:n},n.toFailure=o,n.toFailures=function*(e,t,n,i){(function(e){return r(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const r of e){const e=o(r,t,n,i);e&&(yield e)}},n.run=function*e(t,n,i={}){const{path:o=[],branch:s=[t],coerce:a=!1,mask:c=!1}=i,u={path:o,branch:s};if(a&&(t=n.coercer(t,u),c&&"type"!==n.type&&r(n.schema)&&r(t)&&!Array.isArray(t)))for(const e in t)n.schema[e]===undefined&&delete t[e];let l="valid";for(const e of n.validator(t,u))e.explanation=i.message,l="not_valid",yield[e,undefined];for(let[d,f,h]of n.entries(t,u)){const n=e(f,h,{path:d===undefined?o:[...o,d],branch:d===undefined?s:[...s,f],coerce:a,mask:c,message:i.message});for(const e of n)e[0]?(l=null===e[0].refinement||e[0].refinement===undefined?"not_valid":"not_refined",yield[e[0],undefined]):a&&(f=e[1],d===undefined?t=f:t instanceof Map?t.set(d,f):t instanceof Set?t.add(f):r(t)&&(f!==undefined||d in t)&&(t[d]=f))}if("not_valid"!==l)for(const e of n.refiner(t,u))e.explanation=i.message,l="not_refined",yield[e,undefined];"valid"===l&&(yield[undefined,t])}}}},{package:"@metamask/utils>@metamask/superstruct",file:"node_modules/@metamask/superstruct/dist/utils.cjs"}],[2879,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createEventEmitterProxy=void 0;const r=()=>!0,i=["newListener","removeListener"],o=e=>!i.includes(e);n.createEventEmitterProxy=function(e,{eventFilter:t=r}={}){const n="skipInternal"===t?o:t;if("function"!=typeof n)throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=[],s=e,a=e=>{const t=s;s=e,i.forEach((({name:n,handler:r,addedWith:i,filtered:o})=>{o||e[i](n,r),t.off(n,r)}))};const c=(e,t)=>{i=i.filter((n=>e!==n.name||t!==n.handler&&t!==n.unwrappedHandler))};return new Proxy(s,{get(e,t,r){if("setTarget"===t)return a;const o=s[t];return"function"==typeof o?function(...e){const a=e[1];if("once"===t){const t=(...n)=>(c(e[0],t),a(...n));e[1]=t}if("on"===t||"addListener"===t||"prependListener"===t||"once"===t)i.push({addedWith:t,name:e[0],unwrappedHandler:a,handler:e[1],filtered:!n(e[0])});else if("off"===t||"removeListener"===t){const t=i.find((({name:t,unwrappedHandler:n})=>t===e[0]&&n===e[1]));if(t===undefined)return s;c(e[0],e[1]),e[1]=t.handler}return o.apply(this===r?s:this,e)}:o},set:(e,t,n)=>"setTarget"===t?(a=n,!0):(s[t]=n,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createEventEmitterProxy.js"}],[2880,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSwappableProxy=void 0,n.createSwappableProxy=function(e){let t=e,n=e=>{t=e};return new Proxy(t,{get(e,r,i){if("setTarget"===r)return n;const o=t[r];return o instanceof Function?function(...e){return o.apply(this===i?t:this,e)}:o},set:(e,r,i)=>"setTarget"===r?(n=i,!0):(t[r]=i,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createSwappableProxy.js"}],[2881,{"./createEventEmitterProxy":2879,"./createSwappableProxy":2880,"./types":2882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./createEventEmitterProxy"),n),i(e("./createSwappableProxy"),n),i(e("./types"),n)}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/index.js"}],[2882,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/types.js"}],[2884,{"./api/accounts-api.cjs":2885,"./gas-flows/DefaultGasFeeFlow.cjs":2888,"./gas-flows/LineaGasFeeFlow.cjs":2889,"./gas-flows/OptimismLayer1GasFeeFlow.cjs":2890,"./gas-flows/RandomisedEstimationsGasFeeFlow.cjs":2892,"./gas-flows/ScrollLayer1GasFeeFlow.cjs":2893,"./gas-flows/TestGasFeeFlow.cjs":2894,"./helpers/AccountsApiRemoteTransactionSource.cjs":2895,"./helpers/GasFeePoller.cjs":2896,"./helpers/IncomingTransactionHelper.cjs":2897,"./helpers/MethodDataHelper.cjs":2898,"./helpers/MultichainTrackingHelper.cjs":2899,"./helpers/PendingTransactionTracker.cjs":2900,"./helpers/ResimulateHelper.cjs":2901,"./hooks/ExtraTransactionsPublishHook.cjs":2904,"./logger.cjs":2906,"./types.cjs":2907,"./utils/batch.cjs":2908,"./utils/eip7702.cjs":2909,"./utils/external-transactions.cjs":2910,"./utils/gas-fees.cjs":2912,"./utils/gas-flow.cjs":2913,"./utils/gas.cjs":2914,"./utils/history.cjs":2915,"./utils/layer1-gas-fee-flow.cjs":2916,"./utils/nonce.cjs":2917,"./utils/prepare.cjs":2918,"./utils/retry.cjs":2919,"./utils/simulation.cjs":2922,"./utils/swaps.cjs":2923,"./utils/transaction-type.cjs":2924,"./utils/utils.cjs":2925,"./utils/validation.cjs":2926,"@metamask/base-controller":1383,"@metamask/controller-utils":1474,"@metamask/eth-query":1701,"@metamask/network-controller":2176,"@metamask/nonce-tracker":2333,"@metamask/rpc-errors":2554,"@metamask/utils":2950,events:4399,lodash:4855,uuid:5663},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f,h,p,m,g,y,w,b,v,E,A,T,x,S,k,I,C,j,P,_,O,B,R,N,L,F,M,D,U,G,z,$,H=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},W=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},q=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionController=n.ApprovalState=n.SPEED_UP_RATE=n.CANCEL_RATE=void 0;const V=e("@metamask/base-controller"),K=e("@metamask/controller-utils"),Z=q(e("@metamask/eth-query")),J=e("@metamask/network-controller"),Y=e("@metamask/nonce-tracker"),X=e("@metamask/rpc-errors"),Q=e("@metamask/utils"),ee=e("events"),te=e("lodash"),ne=e("uuid"),re=e("./api/accounts-api.cjs"),ie=e("./gas-flows/DefaultGasFeeFlow.cjs"),oe=e("./gas-flows/LineaGasFeeFlow.cjs"),se=e("./gas-flows/OptimismLayer1GasFeeFlow.cjs"),ae=e("./gas-flows/RandomisedEstimationsGasFeeFlow.cjs"),ce=e("./gas-flows/ScrollLayer1GasFeeFlow.cjs"),ue=e("./gas-flows/TestGasFeeFlow.cjs"),le=e("./helpers/AccountsApiRemoteTransactionSource.cjs"),de=e("./helpers/GasFeePoller.cjs"),fe=e("./helpers/IncomingTransactionHelper.cjs"),he=e("./helpers/MethodDataHelper.cjs"),pe=e("./helpers/MultichainTrackingHelper.cjs"),me=e("./helpers/PendingTransactionTracker.cjs"),ge=e("./helpers/ResimulateHelper.cjs"),ye=e("./hooks/ExtraTransactionsPublishHook.cjs"),we=e("./logger.cjs"),be=e("./types.cjs"),ve=e("./utils/batch.cjs"),Ee=e("./utils/eip7702.cjs"),Ae=e("./utils/external-transactions.cjs"),Te=e("./utils/gas.cjs"),xe=e("./utils/gas-fees.cjs"),Se=e("./utils/gas-flow.cjs"),ke=e("./utils/history.cjs"),Ie=e("./utils/layer1-gas-fee-flow.cjs"),Ce=e("./utils/nonce.cjs"),je=e("./utils/prepare.cjs"),Pe=e("./utils/retry.cjs"),_e=e("./utils/simulation.cjs"),Oe=e("./utils/swaps.cjs"),Be=e("./utils/transaction-type.cjs"),Re=e("./utils/utils.cjs"),Ne=e("./utils/validation.cjs"),Le={transactions:{persist:!0,anonymous:!1},methodData:{persist:!0,anonymous:!1},lastFetchedBlockNumbers:{persist:!0,anonymous:!1},submitHistory:{persist:!0,anonymous:!1}};n.CANCEL_RATE=1.1,n.SPEED_UP_RATE=1.1;const Fe="TransactionController";var Me;!function(e){e.Approved="approved",e.NotApproved="not-approved",e.SkippedViaBeforePublishHook="skipped-via-before-publish-hook"}(Me||(n.ApprovalState=Me={}));class De extends V.BaseController{failTransaction(e,t,n){let o;try{o=H(this,r,"m",B).call(this,{transactionId:e.id,note:"TransactionController#failTransaction - Add error message and set status to failed",skipValidation:!0},(e=>{e.status=be.TransactionStatus.failed,e.error=(0,Re.normalizeTxError)(t)}))}catch(n){(0,we.projectLogger)("Failed to mark transaction as failed",n),o={...e,status:be.TransactionStatus.failed,error:(0,Re.normalizeTxError)(t)}}this.messagingSystem.publish(`${Fe}:transactionFailed`,{actionId:n,error:t.message,transactionMeta:o}),this.onTransactionStatusChange(o),this.messagingSystem.publish(`${Fe}:transactionFinished`,o),H(this,i,"f").emit(`${e.id}:finished`,o)}constructor(e){const{disableHistory:t,disableSendFlowHistory:n,disableSwaps:y,enableTxParamsGasFeeUpdates:w,getCurrentAccountEIP1559Compatibility:b,getCurrentNetworkEIP1559Compatibility:v,getExternalPendingTransactions:E,getGasFeeEstimates:k,getNetworkClientRegistry:j,getNetworkState:P,getPermittedAccounts:B,getSavedGasFees:R,incomingTransactions:M={},isFirstTimeInteractionEnabled:D,isSimulationEnabled:U,messenger:G,pendingTransactions:z={},publicKeyEIP7702:$,securityProviderRequest:q,sign:V,state:K,testGasFeeFlows:Z,trace:J,transactionHistoryLimit:Y=40,hooks:X}=e;super({name:Fe,metadata:Le,messenger:G,state:{methodData:{},transactions:[],lastFetchedBlockNumbers:{},submitHistory:[],...K}}),r.add(this),i.set(this,new ee.EventEmitter),this.approvingTransactionIds=new Set,o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),this.signAbortCallbacks=new Map,d.set(this,void 0),f.set(this,void 0),h.set(this,void 0),p.set(this,void 0),m.set(this,void 0),g.set(this,void 0),S.set(this,(()=>{H(this,g,"f").checkForPendingTransactionAndStartPolling()})),this.messagingSystem=G,this.isTxParamsGasFeeUpdatesEnabled=w??!1,this.getNetworkState=P,this.isSendFlowHistoryDisabled=n??!1,this.isHistoryDisabled=t??!1,this.isSwapsDisabled=y??!1,W(this,h,D??(()=>!0),"f"),W(this,p,U??(()=>!0),"f"),this.getSavedGasFees=R??(e=>undefined),this.getCurrentAccountEIP1559Compatibility=b??(()=>Promise.resolve(!0)),this.getCurrentNetworkEIP1559Compatibility=v,this.getGasFeeEstimates=k||(()=>Promise.resolve({})),this.getPermittedAccounts=B,this.getExternalPendingTransactions=E??(()=>[]),this.securityProviderRequest=q,W(this,a,M,"f"),W(this,c,z,"f"),W(this,u,X?.publishBatch,"f"),W(this,l,$,"f"),W(this,f,Y,"f"),this.sign=V,W(this,m,!0===Z,"f"),W(this,d,J??((e,t)=>t?.()),"f"),this.afterSign=X?.afterSign??(()=>!0),this.beforeCheckPendingTransaction=X?.beforeCheckPendingTransaction??(()=>!0),this.beforePublish=X?.beforePublish??(()=>!0),this.getAdditionalSignArguments=X?.getAdditionalSignArguments??(()=>[]),this.publish=X?.publish??(()=>Promise.resolve({transactionHash:undefined}));const Q=e=>this.messagingSystem.call("NetworkController:findNetworkClientIdByChainId",e);W(this,g,new pe.MultichainTrackingHelper({findNetworkClientIdByChainId:Q,getNetworkClientById:e=>this.messagingSystem.call("NetworkController:getNetworkClientById",e),getNetworkClientRegistry:j,removePendingTransactionTrackerListeners:H(this,r,"m",C).bind(this),createNonceTracker:H(this,r,"m",T).bind(this),createPendingTransactionTracker:H(this,r,"m",x).bind(this),onNetworkStateChange:e=>{this.messagingSystem.subscribe("NetworkController:stateChange",e)}}),"f"),H(this,g,"f").initialize(),this.gasFeeFlows=H(this,r,"m",_).call(this),this.layer1GasFeeFlows=H(this,r,"m",O).call(this);new de.GasFeePoller({findNetworkClientIdByChainId:Q,gasFeeFlows:this.gasFeeFlows,getGasFeeControllerEstimates:this.getGasFeeEstimates,getProvider:e=>H(this,r,"m",A).call(this,{networkClientId:e}),getTransactions:()=>this.state.transactions,layer1GasFeeFlows:this.layer1GasFeeFlows,messenger:this.messagingSystem,onStateChange:e=>{this.messagingSystem.subscribe("TransactionController:stateChange",e)}}).hub.on("transaction-updated",H(this,r,"m",L).bind(this)),W(this,o,new he.MethodDataHelper({getProvider:e=>H(this,r,"m",A).call(this,{networkClientId:e}),getState:()=>this.state.methodData}),"f"),H(this,o,"f").hub.on("update",(({fourBytePrefix:e,methodData:t})=>{this.update((n=>{n.methodData[e]=t}))}));W(this,s,new fe.IncomingTransactionHelper({getCache:()=>this.state.lastFetchedBlockNumbers,getCurrentAccount:()=>H(this,r,"m",F).call(this),getLocalTransactions:()=>this.state.transactions,includeTokenTransfers:H(this,a,"f").includeTokenTransfers,isEnabled:H(this,a,"f").isEnabled,queryEntireHistory:H(this,a,"f").queryEntireHistory,remoteTransactionSource:new le.AccountsApiRemoteTransactionSource,trimTransactions:this.trimTransactionsForState.bind(this),updateCache:e=>{this.update((t=>{e(t.lastFetchedBlockNumbers)}))},updateTransactions:H(this,a,"f").updateTransactions}),"f"),H(this,r,"m",I).call(this,H(this,s,"f")),this.messagingSystem.subscribe("TransactionController:stateChange",H(this,S,"f")),new ge.ResimulateHelper({simulateTransaction:H(this,r,"m",N).bind(this),onTransactionsUpdate:e=>{this.messagingSystem.subscribe("TransactionController:stateChange",e,(e=>e.transactions))},getTransactions:()=>this.state.transactions}),this.onBootCleanup(),H(this,S,"f").call(this)}destroy(){H(this,r,"m",k).call(this)}async handleMethodData(e,t){return H(this,o,"f").lookup(e,t)}async addTransactionBatch(e){return await(0,ve.addTransactionBatch)({addTransaction:this.addTransaction.bind(this),getChainId:H(this,r,"m",b).bind(this),getEthQuery:e=>H(this,r,"m",E).call(this,{networkClientId:e}),getInternalAccounts:H(this,r,"m",M).bind(this),getTransaction:e=>this.getTransactionOrThrow(e),messenger:this.messagingSystem,publishBatchHook:H(this,u,"f"),publicKeyEIP7702:H(this,l,"f"),request:e,updateTransaction:H(this,r,"m",B).bind(this)})}async isAtomicBatchSupported(e){return(0,ve.isAtomicBatchSupported)({...e,getEthQuery:e=>H(this,r,"m",E).call(this,{chainId:e}),messenger:this.messagingSystem,publicKeyEIP7702:H(this,l,"f")})}async addTransaction(e,t){(0,we.projectLogger)("Adding transaction",e,t);const{actionId:n,batchId:i,deviceConfirmedOn:o,disableGasBuffer:s,method:a,nestedTransactions:c,networkClientId:u,origin:l,publishHook:f,requireApproval:h,securityAlertResponse:p,sendFlowHistory:m,swaps:y={},traceContext:v,type:A}=t;if(e=(0,Re.normalizeTransactionParams)(e),!H(this,g,"f").has(u))throw new Error(`Network client not found - ${u}`);const T=H(this,r,"m",b).call(this,u),x=H(this,r,"m",E).call(this,{networkClientId:u}),S=l===undefined?undefined:await(this.getPermittedAccounts?.(l)),k=H(this,r,"m",F).call(this).address,I=H(this,r,"m",M).call(this);await(0,Ne.validateTransactionOrigin)({data:e.data,from:e.from,internalAccounts:I,origin:l,permittedAddresses:S,selectedAddress:k,txParams:e,type:A});const C=(0,Ee.getDelegationAddress)(e.from,x).catch((()=>undefined)),j=await this.getEIP1559Compatibility(u);(0,Ne.validateTxParams)(e,j,T),e.type||(0,Re.setEnvelopeType)(e,j);if(i?.length&&this.state.transactions.some((e=>e.batchId?.toLowerCase()===i?.toLowerCase()))&&l&&l!==K.ORIGIN_METAMASK)throw new X.JsonRpcError(Ne.ErrorCode.DuplicateBundleId,"Batch ID already exists");const P=this.generateDappSuggestedGasFees(e,l),_=A??(await(0,Be.determineTransactionType)(e,x)).type,O=await C,B=this.getTransactionWithActionId(n);let L=B?(0,te.cloneDeep)(B):{actionId:n,batchId:i,chainId:T,dappSuggestedGasFees:P,delegationAddress:O,deviceConfirmedOn:o,disableGasBuffer:s,id:(0,ne.v1)(),isFirstTimeInteraction:undefined,nestedTransactions:c,networkClientId:u,origin:l,securityAlertResponse:p,status:be.TransactionStatus.unapproved,time:Date.now(),txParams:e,type:_,userEditedGasLimit:!1,verifiedOnBlockchain:!1};if(await H(this,d,"f").call(this,{name:"Estimate Gas Properties",parentContext:v},(e=>this.updateGasProperties(L,{traceContext:e}))),!B){if(a&&this.securityProviderRequest){const e=await this.securityProviderRequest(L,a);L.securityProviderResponse=e}this.isSendFlowHistoryDisabled||(L.sendFlowHistory=m??[]),this.isHistoryDisabled||(L=(0,ke.addInitialHistorySnapshot)(L)),L=(0,Oe.updateSwapsTransaction)(L,_,y,{isSwapsDisabled:this.isSwapsDisabled,cancelTransaction:H(this,r,"m",w).bind(this),messenger:this.messagingSystem}),this.addMetadata(L),!1!==h?(H(this,r,"m",N).call(this,L,{traceContext:v}).catch((e=>{throw(0,we.projectLogger)("Error while updating simulation data",e),e})),H(this,r,"m",R).call(this,L,{traceContext:v}).catch((e=>{(0,we.projectLogger)("Error while updating first interaction properties",e)}))):(0,we.projectLogger)("Skipping simulation & first interaction update as approval not required"),this.messagingSystem.publish(`${Fe}:unapprovedTransactionAdded`,L)}return{result:this.processApproval(L,{actionId:n,isExisting:Boolean(B),publishHook:f,requireApproval:h,traceContext:v}),transactionMeta:L}}startIncomingTransactionPolling(){H(this,s,"f").start()}stopIncomingTransactionPolling(){H(this,s,"f").stop()}async updateIncomingTransactions(){await H(this,s,"f").update()}async stopTransaction(e,t,{estimatedBaseFee:o,actionId:s}={}){await H(this,r,"m",y).call(this,{actionId:s,estimatedBaseFee:o,gasValues:t,label:"cancel",rate:n.CANCEL_RATE,transactionId:e,transactionType:be.TransactionType.cancel,prepareTransactionParams:e=>{delete e.data,e.to=e.from,e.value="0x0"},afterSubmit:e=>{this.messagingSystem.publish(`${Fe}:transactionFinished`,e),H(this,i,"f").emit(`${e.id}:finished`,e)}})}async speedUpTransaction(e,t,{actionId:i,estimatedBaseFee:o}={}){await H(this,r,"m",y).call(this,{actionId:i,estimatedBaseFee:o,gasValues:t,label:"speed up",rate:n.SPEED_UP_RATE,transactionId:e,transactionType:be.TransactionType.retry,afterSubmit:e=>{this.messagingSystem.publish(`${Fe}:speedupTransactionAdded`,e)}})}async estimateGas(e,t){const n=H(this,r,"m",E).call(this,{networkClientId:t}),{estimatedGas:i,simulationFails:o}=await(0,Te.estimateGas)({chainId:H(this,r,"m",b).call(this,t),ethQuery:n,isSimulationEnabled:H(this,p,"f").call(this),txParams:e});return{gas:i,simulationFails:o}}async estimateGasBuffered(e,t,n){const i=H(this,r,"m",E).call(this,{networkClientId:n}),{blockGasLimit:o,estimatedGas:s,simulationFails:a}=await(0,Te.estimateGas)({chainId:H(this,r,"m",b).call(this,n),ethQuery:i,isSimulationEnabled:H(this,p,"f").call(this),txParams:e});return{gas:(0,Te.addGasBuffer)(s,o,t),simulationFails:a}}updateTransaction(e,t){const{id:n}=e;H(this,r,"m",B).call(this,{transactionId:n,note:t},(()=>({...e})))}updateSecurityAlertResponse(e,t){if(!t)throw new Error("updateSecurityAlertResponse: securityAlertResponse should not be null");const n=this.getTransaction(e);if(!n)throw new Error("Cannot update security alert response as no transaction metadata found");const r={...n,securityAlertResponse:t};this.updateTransaction(r,`${Fe}:updatesecurityAlertResponse - securityAlertResponse updated`)}wipeTransactions({address:e,chainId:t}={}){if(!t&&!e)return void this.update((e=>{e.transactions=[]}));const n=this.state.transactions.filter((({chainId:n,txParams:r})=>{if(!(!t||t===n))return!0;return!(!e||r.from?.toLowerCase()===e.toLowerCase())}));this.update((e=>{e.transactions=this.trimTransactionsForState(n)}))}async confirmExternalTransaction(e,t,n){const r=this.addExternalTransaction(e);try{const e=r.id,i={...r,status:be.TransactionStatus.confirmed,txReceipt:t};n&&(i.baseFeePerGas=n),this.markNonceDuplicatesDropped(e),this.updateTransaction(i,`${Fe}:confirmExternalTransaction - Add external transaction`),this.onTransactionStatusChange(i),this.updatePostBalance(i).catch((e=>{throw(0,we.projectLogger)("Error while updating post balance",e),e})),this.messagingSystem.publish(`${Fe}:transactionConfirmed`,i)}catch(e){console.error("Failed to confirm external transaction",e)}}updateTransactionSendFlowHistory(e,t,n){if(this.isSendFlowHistoryDisabled)throw new Error("Send flow history is disabled for the current transaction controller");const r=this.getTransaction(e);if(!r)throw new Error("Cannot update send flow history as no transaction metadata found");(0,Re.validateIfTransactionUnapproved)(r,"updateTransactionSendFlowHistory");const i=r.sendFlowHistory??[];if(t===i.length){const e={...r,sendFlowHistory:[...i,...n]};this.updateTransaction(e,`${Fe}:updateTransactionSendFlowHistory - sendFlowHistory updated`)}return this.getTransaction(e)}updateTransactionGasFees(e,{defaultGasEstimates:t,estimateUsed:n,estimateSuggested:r,gas:i,gasLimit:o,gasPrice:s,maxPriorityFeePerGas:a,maxFeePerGas:c,originalGasEstimate:u,userEditedGasLimit:l,userFeeLevel:d}){const f=this.getTransaction(e);if(!f)throw new Error("Cannot update transaction as no transaction metadata found");(0,Re.validateIfTransactionUnapproved)(f,"updateTransactionGasFees");let h={txParams:{gas:i,gasLimit:o,gasPrice:s,maxPriorityFeePerGas:a,maxFeePerGas:c},defaultGasEstimates:t,estimateUsed:n,estimateSuggested:r,originalGasEstimate:u,userEditedGasLimit:l,userFeeLevel:d};h.txParams=(0,te.pickBy)(h.txParams),h=(0,te.pickBy)(h);const p=(0,te.merge)({},f,h);return this.updateTransaction(p,`${Fe}:updateTransactionGasFees - gas values updated`),this.getTransaction(e)}updatePreviousGasParams(e,{gasLimit:t,maxFeePerGas:n,maxPriorityFeePerGas:r}){const i=this.getTransaction(e);if(!i)throw new Error("Cannot update transaction as no transaction metadata found");(0,Re.validateIfTransactionUnapproved)(i,"updatePreviousGasParams");const o={previousGas:{gasLimit:t,maxFeePerGas:n,maxPriorityFeePerGas:r}};o.previousGas=(0,te.pickBy)(o.previousGas);const s=(0,te.merge)({},i,o);return this.updateTransaction(s,`${Fe}:updatePreviousGasParams - Previous gas values updated`),this.getTransaction(e)}async getNonceLock(e,t){return H(this,g,"f").getNonceLock(e,t)}async updateEditableParams(e,{data:t,from:n,gas:i,gasPrice:o,maxFeePerGas:s,maxPriorityFeePerGas:a,to:c,value:u}){const l=this.getTransaction(e);if(!l)throw new Error("Cannot update editable params as no transaction metadata found");(0,Re.validateIfTransactionUnapproved)(l,"updateEditableParams");const d={txParams:{data:t,from:n,to:c,value:u,gas:i,gasPrice:o,maxFeePerGas:s,maxPriorityFeePerGas:a}};d.txParams=(0,te.pickBy)(d.txParams);const f=(0,te.merge)({},l,d),{networkClientId:h}=l,p=H(this,r,"m",A).call(this,{networkClientId:h}),m=new Z.default(p),{type:g}=await(0,Be.determineTransactionType)(f.txParams,m);return f.type=g,await(0,Ie.updateTransactionLayer1GasFee)({layer1GasFeeFlows:this.layer1GasFeeFlows,messenger:this.messagingSystem,provider:p,transactionMeta:f}),this.updateTransaction(f,`Update Editable Params for ${e}`),this.getTransaction(e)}setTransactionActive(e,t){if(!this.getTransaction(e))throw new Error(`Transaction with id ${e} not found`);H(this,r,"m",B).call(this,{transactionId:e,note:"TransactionController#setTransactionActive - Transaction isActive updated",skipHistory:!0,skipValidation:!0,skipResimulateCheck:!0},(e=>{e.isActive=t}))}async approveTransactionsWithSameNonce(e=[],{hasNonce:t}={}){if((0,we.projectLogger)("Approving transactions with same nonce",{transactions:e}),0===e.length)return"";const n=e[0],{chainId:i}=n,o=H(this,r,"m",v).call(this,{chainId:i}),s=(0,je.prepareTransaction)(i,n),a=(0,je.serializeTransaction)(s);if(this.approvingTransactionIds.has(a))return"";let c,u;this.approvingTransactionIds.add(a);try{const r=n.from;u=!0!==t?await this.getNonceLock(r,o):undefined;const i=u?(0,Q.add0x)(u.nextNonce.toString(16)):n.nonce;u&&(0,we.projectLogger)("Using nonce from nonce tracker",i,u.nonceDetails),c=await Promise.all(e.map((e=>(e.nonce=i,this.signExternalTransaction(e.chainId,e)))))}catch(e){throw(0,we.projectLogger)("Error while signing transactions with same nonce",e),e}finally{u?.releaseLock(),this.approvingTransactionIds.delete(a)}return c}updateCustodialTransaction(e,{errorMessage:t,hash:n,status:r}){const o=this.getTransaction(e);if(!o)throw new Error("Cannot update custodial transaction as no transaction metadata found");if(!o.custodyId)throw new Error("Transaction must be a custodian transaction");if(r&&![be.TransactionStatus.submitted,be.TransactionStatus.signed,be.TransactionStatus.failed].includes(r))throw new Error(`Cannot update custodial transaction with status: ${r}`);const s=(0,te.merge)({},o,(0,te.pickBy)({hash:n,status:r}));s.status===be.TransactionStatus.submitted&&(s.submittedTime=(new Date).getTime()),s.status===be.TransactionStatus.failed&&(s.error=(0,Re.normalizeTxError)(new Error(t))),this.updateTransaction(s,`${Fe}:updateCustodialTransaction - Custodial transaction updated`),[be.TransactionStatus.submitted,be.TransactionStatus.failed].includes(r)&&(this.messagingSystem.publish(`${Fe}:transactionFinished`,s),H(this,i,"f").emit(`${s.id}:finished`,s))}getTransactions({initialList:e,limit:t,searchCriteria:n={}}={}){const r=(0,te.mapValues)(n,(e=>"function"==typeof e?e:t=>t===e)),i=e??this.state.transactions,o=(0,te.sortBy)((0,te.pickBy)(i,(e=>{for(const[t,n]of Object.entries(r))if(t in e.txParams){if(!1===n(e.txParams[t]))return!1}else if(!1===n(e[t]))return!1;return!0})),"time");if(t!==undefined){const e=new Set,n=[];for(let r=o.length-1;r>-1;r--){const i=o[r],{nonce:s}=i.txParams;if(!e.has(s)){if(!(e.size<t))continue;e.add(s)}n.unshift(i)}return n}return o}async estimateGasFee({transactionParams:e,chainId:t,networkClientId:n}){const{id:r,provider:i}=H(this,g,"f").getNetworkClient({chainId:t,networkClientId:n}),o={txParams:e,chainId:t,networkClientId:r},s=(0,Se.getGasFeeFlow)(o,this.gasFeeFlows,this.messagingSystem),a=new Z.default(i),c=await this.getGasFeeEstimates({networkClientId:r});return s.getGasFees({ethQuery:a,gasFeeControllerData:c,messenger:this.messagingSystem,transactionMeta:o})}async getLayer1GasFee({transactionParams:e,chainId:t,networkClientId:n}){const i=H(this,r,"m",A).call(this,{chainId:t,networkClientId:n});return await(0,Ie.getTransactionLayer1GasFee)({layer1GasFeeFlows:this.layer1GasFeeFlows,messenger:this.messagingSystem,provider:i,transactionMeta:{txParams:e,chainId:t}})}async signExternalTransaction(e,t){if(!this.sign)throw new Error("No sign method defined.");const n=(0,Re.normalizeTransactionParams)(t),r=(0,Re.isEIP1559Transaction)(n)?be.TransactionEnvelopeType.feeMarket:be.TransactionEnvelopeType.legacy,i={...n,type:r,gasLimit:n.gas,chainId:e},{from:o}=i,s=(0,je.prepareTransaction)(e,i),a=await this.sign(s,o);return(0,je.serializeTransaction)(a)}clearUnapprovedTransactions(){const e=this.state.transactions.filter((({status:e})=>e!==be.TransactionStatus.unapproved));this.update((t=>{t.transactions=this.trimTransactionsForState(e)}))}abortTransactionSigning(e){if(!this.getTransaction(e))throw new Error("Cannot abort signing as no transaction metadata found");const t=this.signAbortCallbacks.get(e);if(!t)throw new Error("Cannot abort signing as transaction is not waiting for signing");t(),this.signAbortCallbacks.delete(e)}async updateAtomicBatchData({transactionId:e,transactionIndex:t,transactionData:n}){(0,we.projectLogger)("Updating atomic batch data",{transactionId:e,transactionIndex:t,transactionData:n});const i=H(this,r,"m",B).call(this,{transactionId:e,note:"TransactionController#updateAtomicBatchData - Atomic batch data updated"},(e=>{const{nestedTransactions:r,txParams:i}=e,o=i.from,s=r?.[t];if(!s)throw new Error(`Nested transaction not found with index - ${t}`);s.data=n;const a=(0,Ee.generateEIP7702BatchTransaction)(o,r);e.txParams.data=a.data})),o=(0,te.cloneDeep)({...i,txParams:{...i.txParams,gas:undefined}});return await H(this,r,"m",U).call(this,o),H(this,r,"m",B).call(this,{transactionId:e,note:"TransactionController#updateAtomicBatchData - Gas estimate updated"},(e=>{e.txParams.gas=o.txParams.gas,e.simulationFails=o.simulationFails,e.gasLimitNoBuffer=o.gasLimitNoBuffer})),i.txParams.data}updateBatchTransactions({transactionId:e,batchTransactions:t}){(0,we.projectLogger)("Updating batch transactions",{transactionId:e,batchTransactions:t}),H(this,r,"m",B).call(this,{transactionId:e,note:"TransactionController#updateBatchTransactions - Batch transactions updated"},(e=>{e.batchTransactions=t}))}updateSelectedGasFeeToken(e,t){H(this,r,"m",B).call(this,{transactionId:e},(e=>{const n=e.gasFeeTokens?.some((e=>e.tokenAddress.toLowerCase()===t?.toLowerCase()));if(t&&!n)throw new Error(`No matching gas fee token found with address - ${t}`);e.selectedGasFeeToken=t}))}addMetadata(e){(0,Ne.validateTxParams)(e.txParams),this.update((t=>{t.transactions=this.trimTransactionsForState([...t.transactions,e])}))}async updateGasProperties(e,{traceContext:t}={}){const n=e.txParams.type!==be.TransactionEnvelopeType.legacy&&await this.getEIP1559Compatibility(e.networkClientId),{networkClientId:i}=e,o=H(this,r,"m",E).call(this,{networkClientId:i}),s=H(this,r,"m",A).call(this,{networkClientId:i});await H(this,d,"f").call(this,{name:"Update Gas",parentContext:t},(async()=>{await H(this,r,"m",U).call(this,e)})),await H(this,d,"f").call(this,{name:"Update Gas Fees",parentContext:t},(async()=>await(0,xe.updateGasFees)({eip1559:n,ethQuery:o,gasFeeFlows:this.gasFeeFlows,getGasFeeEstimates:this.getGasFeeEstimates,getSavedGasFees:this.getSavedGasFees.bind(this),messenger:this.messagingSystem,txMeta:e}))),await H(this,d,"f").call(this,{name:"Update Layer 1 Gas Fees",parentContext:t},(async()=>await(0,Ie.updateTransactionLayer1GasFee)({layer1GasFeeFlows:this.layer1GasFeeFlows,messenger:this.messagingSystem,provider:s,transactionMeta:e})))}onBootCleanup(){this.clearUnapprovedTransactions(),this.failIncompleteTransactions()}failIncompleteTransactions(){const e=this.state.transactions.filter((e=>[be.TransactionStatus.approved,be.TransactionStatus.signed].includes(e.status)));for(const t of e)this.failTransaction(t,new Error("Transaction incomplete at startup"))}async processApproval(e,{actionId:t,isExisting:n=!1,publishHook:i,requireApproval:o,shouldShowRequest:s=!0,traceContext:a}){const c=e.id;let u;const{meta:l,isCompleted:f}=this.isTransactionCompleted(c),h=f?Promise.resolve(l):this.waitForTransactionFinished(c);if(l&&!n&&!f)try{if(!1!==o){const t=await H(this,d,"f").call(this,{name:"Await Approval",parentContext:a},(t=>this.requestApproval(e,{shouldShowRequest:s,traceContext:t})));u=t.resultCallbacks;const n=t.value,r=n?.txMeta;r&&((0,we.projectLogger)("Updating transaction with approval data",{customNonce:r.customNonceValue,params:r.txParams}),this.updateTransaction(r,"TransactionController#processApproval - Updated with approval data"))}const{isCompleted:n}=this.isTransactionCompleted(c);if(!n){await this.approveTransaction(c,a,i)===Me.SkippedViaBeforePublishHook&&u&&u.success();const e=this.getTransaction(c);this.messagingSystem.publish(`${Fe}:transactionApproved`,{transactionMeta:e,actionId:t})}}catch(e){const n=e,{isCompleted:i}=this.isTransactionCompleted(c);i||(H(this,r,"m",z).call(this,n)?H(this,r,"m",$).call(this,c,t,n):this.failTransaction(l,n,t))}const p=await h;switch(p?.status){case be.TransactionStatus.failed:const e=p.error;throw u?.error(e),X.rpcErrors.internal(e.message);case be.TransactionStatus.submitted:return u?.success(),p.hash;default:const t=X.rpcErrors.internal(`MetaMask Tx Signature: Unknown problem: ${JSON.stringify(p||c)}`);throw u?.error(t),t}}async approveTransaction(e,t,n){let o,s,a=this.getTransactionOrThrow(e);(0,we.projectLogger)("Approving transaction",a);try{if(!this.sign)return this.failTransaction(a,new Error("No sign method defined.")),Me.NotApproved;if(!a.chainId)return this.failTransaction(a,new Error("No chainId defined.")),Me.NotApproved;if(this.approvingTransactionIds.has(e))return(0,we.projectLogger)("Skipping approval as signing in progress",e),Me.NotApproved;this.approvingTransactionIds.add(e),o=()=>this.approvingTransactionIds.delete(e);const[c,u]=await(0,Ce.getNextNonce)(a,(e=>H(this,g,"f").getNonceLock(e,a.networkClientId)));s=u,a=H(this,r,"m",B).call(this,{transactionId:e,note:"TransactionController#approveTransaction - Transaction approved"},(e=>{const{chainId:t,txParams:n}=e,{gas:r,type:i}=n;e.status=be.TransactionStatus.approved,e.txParams.chainId=t,e.txParams.gasLimit=r,e.txParams.nonce=c,!i&&(0,Re.isEIP1559Transaction)(n)&&(e.txParams.type=be.TransactionEnvelopeType.feeMarket)})),this.onTransactionStatusChange(a);const l=await H(this,d,"f").call(this,{name:"Sign",parentContext:t},(()=>this.signTransaction(a)));if(!this.beforePublish(a))return(0,we.projectLogger)("Skipping publishing transaction based on hook"),this.messagingSystem.publish(`${Fe}:transactionPublishingSkipped`,a),Me.SkippedViaBeforePublishHook;if(!l)return Me.NotApproved;const{networkClientId:f}=a,h=H(this,r,"m",E).call(this,{networkClientId:f});let p;const m=a.type===be.TransactionType.swap;let y;if(m&&((0,we.projectLogger)("Determining pre-transaction balance"),p=await(0,K.query)(h,"getBalance",[a.txParams.from])),(0,we.projectLogger)("Publishing transaction",a.txParams),s?.(),s=undefined,a.batchTransactions?.length){(0,we.projectLogger)("Found batch transactions",a.batchTransactions);const e=new ye.ExtraTransactionsPublishHook({addTransactionBatch:this.addTransactionBatch.bind(this),transactions:a.batchTransactions});n=e.getHook()}return await H(this,d,"f").call(this,{name:"Publish",parentContext:t},(async()=>{const e=n??this.publish;({transactionHash:y}=await e(a,l)),y===undefined&&(y=await this.publishTransaction(h,{...a,rawTx:l}))})),(0,we.projectLogger)("Publish successful",y),a=H(this,r,"m",B).call(this,{transactionId:e,note:"TransactionController#approveTransaction - Transaction submitted"},(e=>{e.hash=y,e.status=be.TransactionStatus.submitted,e.submittedTime=(new Date).getTime(),m&&(e.preTxBalance=p,(0,we.projectLogger)("Updated pre-transaction balance",p))})),this.messagingSystem.publish(`${Fe}:transactionSubmitted`,{transactionMeta:a}),this.messagingSystem.publish(`${Fe}:transactionFinished`,a),H(this,i,"f").emit(`${e}:finished`,a),this.onTransactionStatusChange(a),Me.Approved}catch(e){return this.failTransaction(a,e),Me.NotApproved}finally{o?.(),s?.()}}async publishTransaction(e,t,{skipSubmitHistory:n}={}){const i=await(0,K.query)(e,"sendRawTransaction",[t.rawTx]);return!0!==n&&H(this,r,"m",D).call(this,t,i),i}trimTransactionsForState(e){const t=new Set,n=[...e].sort(((e,t)=>e.time>t.time?-1:1)).filter((e=>{const{chainId:n,status:r,txParams:i,time:o}=e;if(i){const e=`${String(i.nonce)}-${(0,K.convertHexToDecimal)(n)}-${new Date(o).toDateString()}`;if(t.has(e))return!0;if(t.size<H(this,f,"f")||!this.isFinalState(r))return t.add(e),!0}return!1}));return n.reverse(),n}isFinalState(e){return e===be.TransactionStatus.rejected||e===be.TransactionStatus.confirmed||e===be.TransactionStatus.failed}isLocalFinalState(e){return[be.TransactionStatus.confirmed,be.TransactionStatus.failed,be.TransactionStatus.rejected,be.TransactionStatus.submitted].includes(e)}async requestApproval(e,{shouldShowRequest:t,traceContext:n}){const r=this.getApprovalId(e),{origin:i}=e,o=K.ApprovalType.Transaction,s={txId:e.id};return await H(this,d,"f").call(this,{name:"Notification Display",id:r,parentContext:n}),await this.messagingSystem.call("ApprovalController:addRequest",{id:r,origin:i||K.ORIGIN_METAMASK,type:o,requestData:s,expectsResult:!0},t)}getTransaction(e){const{transactions:t}=this.state;return t.find((({id:t})=>t===e))}getTransactionOrThrow(e,t="TransactionController"){const n=this.getTransaction(e);if(!n)throw new Error(`${t}: No transaction found with id ${e}`);return n}getApprovalId(e){return String(e.id)}isTransactionCompleted(e){const t=this.getTransaction(e);if(!t)return{meta:undefined,isCompleted:!1};return{meta:t,isCompleted:this.isLocalFinalState(t.status)}}onIncomingTransactions(e){if(!e.length)return;const t=e.map((e=>{const{chainId:t}=e,n=H(this,r,"m",v).call(this,{chainId:t});return{...e,networkClientId:n}}));this.update((e=>{const{transactions:n}=e;e.transactions=this.trimTransactionsForState([...t,...n]),(0,we.projectLogger)("Added incoming transactions to state",t.length,t)})),this.messagingSystem.publish(`${Fe}:incomingTransactionsReceived`,t)}generateDappSuggestedGasFees(e,t){if(!t||t===K.ORIGIN_METAMASK)return undefined;const{gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,gas:o}=e;if(n===undefined&&r===undefined&&i===undefined&&o===undefined)return undefined;const s={};return n!==undefined?s.gasPrice=n:r===undefined&&i===undefined||(s.maxFeePerGas=r,s.maxPriorityFeePerGas=i),o!==undefined&&(s.gas=o),s}addExternalTransaction(e){const{chainId:t}=e,{transactions:n}=this.state,r=e?.txParams?.from,i=n.filter((e=>e.txParams.from===r&&e.chainId===t)),o=i.filter((e=>e.status===be.TransactionStatus.confirmed)),s=i.filter((e=>e.status===be.TransactionStatus.submitted));(0,Ae.validateConfirmedExternalTransaction)(e,o,s);const a=0!==(e.history??[]).length||this.isHistoryDisabled?e:(0,ke.addInitialHistorySnapshot)(e);return this.update((e=>{e.transactions=this.trimTransactionsForState([...e.transactions,a])})),a}markNonceDuplicatesDropped(e){const t=this.getTransaction(e);if(!t)return;const n=t.txParams?.nonce,r=t.txParams?.from,{chainId:i}=t,o=this.state.transactions.filter((t=>t.id!==e&&t.txParams.from===r&&t.txParams.nonce===n&&t.chainId===i&&t.type!==be.TransactionType.incoming)),s=o.map((e=>e.id));if(0!==o.length){this.update((e=>{for(const n of e.transactions)s.includes(n.id)&&(n.replacedBy=t?.hash,n.replacedById=t?.id)}));for(const e of this.state.transactions)s.includes(e.id)&&e.status!==be.TransactionStatus.failed&&this.setTransactionStatusDropped(e)}}setTransactionStatusDropped(e){const t={...e,status:be.TransactionStatus.dropped};this.messagingSystem.publish(`${Fe}:transactionDropped`,{transactionMeta:t}),this.updateTransaction(t,"TransactionController#setTransactionStatusDropped - Transaction dropped"),this.onTransactionStatusChange(t)}getTransactionWithActionId(e){return this.state.transactions.find((t=>e&&t.actionId===e))}async waitForTransactionFinished(e){return new Promise((t=>{H(this,i,"f").once(`${e}:finished`,(e=>{t(e)}))}))}updateTransactionMetaRSV(e,t){const n=(0,te.cloneDeep)(e);for(const e of["r","s","v"]){const r=t[e];r!==undefined&&null!==r&&(n[e]=(0,Q.add0x)(r.toString(16)))}return n}async getEIP1559Compatibility(e){const t=await this.getCurrentNetworkEIP1559Compatibility(e),n=await this.getCurrentAccountEIP1559Compatibility();return t&&n}async signTransaction(e){const{txParams:t}=e;(0,we.projectLogger)("Signing transaction",t);const{authorizationList:n,from:r}=t,i={...t};i.authorizationList=await(0,Ee.signAuthorizationList)({authorizationList:n,messenger:this.messagingSystem,transactionMeta:e});const o=(0,je.prepareTransaction)(e.chainId,i);this.approvingTransactionIds.add(e.id);const s=await new Promise(((t,n)=>{this.sign?.(o,r,...this.getAdditionalSignArguments(e)).then(t,n),this.signAbortCallbacks.set(e.id,(()=>n(new Error("Signing aborted by user"))))}));if(this.signAbortCallbacks.delete(e.id),!s)return(0,we.projectLogger)("Skipping signed status as no signed transaction"),undefined;const a=(0,te.cloneDeep)(e);if(!this.afterSign(a,s))return this.updateTransaction(a,"TransactionController#signTransaction - Update after sign"),(0,we.projectLogger)("Skipping signed status based on hook"),undefined;const c={...this.updateTransactionMetaRSV(a,s),status:be.TransactionStatus.signed,txParams:i};this.updateTransaction(c,"TransactionController#approveTransaction - Transaction signed"),this.onTransactionStatusChange(c);const u=(0,je.serializeTransaction)(s),l=(0,te.merge)({},c,{rawTx:u});return this.updateTransaction(l,"TransactionController#approveTransaction - RawTransaction added"),u}onTransactionStatusChange(e){this.messagingSystem.publish(`${Fe}:transactionStatusUpdated`,{transactionMeta:e})}getNonceTrackerTransactions(e,t,n){return(0,Ce.getAndFormatTransactionsForNonceTracker)(n,t,e,this.state.transactions)}onConfirmedTransaction(e){(0,we.projectLogger)("Processing confirmed transaction",e.id),this.markNonceDuplicatesDropped(e.id),this.messagingSystem.publish(`${Fe}:transactionConfirmed`,e),this.onTransactionStatusChange(e),this.updatePostBalance(e).catch((e=>{throw(0,we.projectLogger)("Error while updating post balance",e),e}))}async updatePostBalance(e){try{const{networkClientId:t,type:n}=e;if(n!==be.TransactionType.swap)return;const i=H(this,r,"m",E).call(this,{networkClientId:t}),{updatedTransactionMeta:o,approvalTransactionMeta:s}=await(0,Oe.updatePostTransactionBalance)(e,{ethQuery:i,getTransaction:this.getTransaction.bind(this),updateTransaction:this.updateTransaction.bind(this)});this.messagingSystem.publish(`${Fe}:postTransactionBalanceUpdated`,{transactionMeta:o,approvalTransactionMeta:s})}catch(e){(0,we.projectLogger)("Error while updating post transaction balance",e)}}async publishTransactionForRetry(e,t){try{return await this.publishTransaction(e,t)}catch(e){if(this.isTransactionAlreadyConfirmedError(e))throw new Error("Previous transaction is already confirmed");throw e}}isTransactionAlreadyConfirmedError(e){return e?.message?.includes("nonce too low")||e?.data?.message?.includes("nonce too low")}}n.TransactionController=De,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,S=new WeakMap,r=new WeakSet,y=async function({actionId:e,afterSubmit:t,estimatedBaseFee:n,gasValues:i,label:o,prepareTransactionParams:s,rate:a,transactionId:c,transactionType:u}){if(this.getTransactionWithActionId(e))return;i&&(i=(0,Re.normalizeGasFeeValues)(i),(0,Re.validateGasValues)(i)),(0,we.projectLogger)(`Creating ${o} transaction`,c,i);const l=this.getTransaction(c);if(!l)return;if(!this.sign)throw new Error("No sign method defined.");const d=(0,Pe.getTransactionParamsWithIncreasedGasFee)(l.txParams,a,i);s?.(d);const f=(0,je.prepareTransaction)(l.chainId,d),h=await this.sign(f,l.txParams.from),p=this.updateTransactionMetaRSV(l,h),m=(0,je.serializeTransaction)(h),g=d.maxFeePerGas??d.gasPrice,y=d.maxFeePerGas?p.txParams.maxFeePerGas:p.txParams.gasPrice;(0,we.projectLogger)(`Submitting ${o} transaction`,{oldFee:y,newFee:g,txParams:d});const{networkClientId:w}=l,b=H(this,r,"m",E).call(this,{networkClientId:w}),v={...p,actionId:e,estimatedBaseFee:n,id:(0,ne.v1)(),originalGasEstimate:l.txParams.gas,originalType:l.type,rawTx:m,time:Date.now(),txParams:d,type:u},A=await this.publishTransactionForRetry(b,{...v,origin:o});v.hash=A,this.addMetadata(v),this.messagingSystem.publish(`${Fe}:transactionApproved`,{transactionMeta:v,actionId:e}),this.messagingSystem.publish(`${Fe}:transactionSubmitted`,{transactionMeta:v,actionId:e}),t?.(v)},w=function(e,t,n){const o=this.getTransaction(e);if(!o)return;H(this,r,"m",G).call(this,e);const s={...o,status:be.TransactionStatus.rejected,error:(0,Re.normalizeTxError)(n??X.providerErrors.userRejectedRequest())};this.messagingSystem.publish(`${Fe}:transactionFinished`,s),H(this,i,"f").emit(`${o.id}:finished`,s),this.messagingSystem.publish(`${Fe}:transactionRejected`,{transactionMeta:s,actionId:t}),this.onTransactionStatusChange(s)},b=function(e){return H(this,g,"f").getNetworkClient({networkClientId:e}).configuration.chainId},v=function({chainId:e,networkClientId:t}){return t||H(this,g,"f").getNetworkClient({chainId:e}).id},E=function({chainId:e,networkClientId:t}){return new Z.default(H(this,r,"m",A).call(this,{chainId:e,networkClientId:t}))},A=function({chainId:e,networkClientId:t}){return H(this,g,"f").getNetworkClient({chainId:e,networkClientId:t}).provider},T=function({provider:e,blockTracker:t,chainId:n}){return new Y.NonceTracker({provider:e,blockTracker:t,getPendingTransactions:H(this,r,"m",P).bind(this,n),getConfirmedTransactions:this.getNonceTrackerTransactions.bind(this,[be.TransactionStatus.confirmed],n)})},x=function({provider:e,blockTracker:t,chainId:n,networkClientId:i}){const o=new Z.default(e),s=new me.PendingTransactionTracker({blockTracker:t,getChainId:()=>n,getEthQuery:()=>o,getNetworkClientId:()=>i,getTransactions:()=>this.state.transactions,isResubmitEnabled:H(this,c,"f").isResubmitEnabled,getGlobalLock:()=>H(this,g,"f").acquireNonceLockForChainIdKey({chainId:n}),messenger:this.messagingSystem,publishTransaction:(e,t)=>this.publishTransaction(e,t,{skipSubmitHistory:!0}),hooks:{beforeCheckPendingTransaction:this.beforeCheckPendingTransaction.bind(this),beforePublish:this.beforePublish.bind(this)}});return H(this,r,"m",j).call(this,s),s},k=function(){H(this,g,"f").stopAllTracking()},I=function(e){e.hub.on("transactions",this.onIncomingTransactions.bind(this))},C=function(e){e.hub.removeAllListeners("transaction-confirmed"),e.hub.removeAllListeners("transaction-dropped"),e.hub.removeAllListeners("transaction-failed"),e.hub.removeAllListeners("transaction-updated")},j=function(e){e.hub.on("transaction-confirmed",this.onConfirmedTransaction.bind(this)),e.hub.on("transaction-dropped",this.setTransactionStatusDropped.bind(this)),e.hub.on("transaction-failed",this.failTransaction.bind(this)),e.hub.on("transaction-updated",this.updateTransaction.bind(this))},P=function(e,t){return[...this.getNonceTrackerTransactions([be.TransactionStatus.approved,be.TransactionStatus.signed,be.TransactionStatus.submitted],t,e),...this.getExternalPendingTransactions(t,e)]},_=function(){return H(this,m,"f")?[new ue.TestGasFeeFlow]:[new ae.RandomisedEstimationsGasFeeFlow,new oe.LineaGasFeeFlow,new ie.DefaultGasFeeFlow]},O=function(){return[new se.OptimismLayer1GasFeeFlow,new ce.ScrollLayer1GasFeeFlow]},B=function({transactionId:e,note:t,skipHistory:n,skipValidation:i,skipResimulateCheck:o},s){let a;this.update((r=>{const c=r.transactions.findIndex((({id:t})=>t===e));if(-1===c)throw new Error(`Cannot update transaction as ID not found - ${e}`);let u=r.transactions[c];const l=(0,te.cloneDeep)(u);u=s(u)??u,!0!==i&&(u.txParams=(0,Re.normalizeTransactionParams)(u.txParams),(0,Ne.validateTxParams)(u.txParams)),!o&&H(this,p,"f").call(this)&&(a=(0,ge.shouldResimulate)(l,u));this.isHistoryDisabled||n||(u=(0,ke.updateTransactionHistory)(u,t??"Transaction updated")),r.transactions[c]=u}));const c=this.getTransaction(e);return a?.resimulate&&H(this,r,"m",N).call(this,c,{blockTime:a.blockTime}).catch((e=>{throw(0,we.projectLogger)("Error during re-simulation",e),e})),c},R=async function(e,{traceContext:t}={}){if(!H(this,h,"f").call(this))return;const{chainId:n,id:i,txParams:{to:o,from:s}}=e,a={chainId:(0,Q.hexToNumber)(n),to:o,from:s};(0,Ne.validateParamTo)(o);if(!this.state.transactions.find((e=>e.chainId===n&&e.txParams.from===s&&e.txParams.to===o&&e.id!==i)))try{const{count:e}=await H(this,d,"f").call(this,{name:"Account Address Relationship",parentContext:t},(()=>(0,re.getAccountAddressRelationship)(a))),n=e===undefined?undefined:0===e;if(!this.getTransaction(i))return void(0,we.projectLogger)("Cannot update first time interaction as transaction not found",i);H(this,r,"m",B).call(this,{transactionId:i,note:"TransactionController#updateFirstInteraction - Update first time interaction"},(e=>{e.isFirstTimeInteraction=n})),(0,we.projectLogger)("Updated first time interaction",i,{isFirstTimeInteraction:n})}catch(e){(0,we.projectLogger)("Error fetching account address relationship, skipping first time interaction update",e)}},N=async function(e,{blockTime:t,traceContext:n}={}){const{id:i,chainId:o,txParams:s,simulationData:a}=e,{from:c,to:u,value:l,data:f}=s;let h={error:{code:be.SimulationErrorCode.Disabled,message:"Simulation disabled"},tokenBalanceChanges:[]},m=[];if(H(this,p,"f").call(this)){const e=s?.authorizationList?.[0]?.address,r=e&&Ee.DELEGATION_PREFIX+(0,Q.remove0x)(e),i=await H(this,d,"f").call(this,{name:"Simulate",parentContext:n},(()=>(0,_e.getSimulationData)({chainId:o,from:c,to:u,value:l,data:f},{blockTime:t,senderCode:r})));m=i?.gasFeeTokens,h=i?.simulationData,t&&a&&(0,ge.hasSimulationDataChanged)(a,h)&&(h={...h,isUpdatedAfterSecurityCheck:!0})}this.getTransaction(i)?(H(this,r,"m",B).call(this,{transactionId:i,note:"TransactionController#updateSimulationData - Update simulation data",skipResimulateCheck:Boolean(t)},(e=>{e.gasFeeTokens=m,e.simulationData=h})),(0,we.projectLogger)("Updated simulation data",i,h)):(0,we.projectLogger)("Cannot update simulation data as transaction not found",i,h)},L=function({transactionId:e,gasFeeEstimates:t,gasFeeEstimatesLoaded:n,layer1GasFee:i}){H(this,r,"m",B).call(this,{transactionId:e,skipHistory:!0},(e=>{(0,de.updateTransactionGasFees)({txMeta:e,gasFeeEstimates:t,gasFeeEstimatesLoaded:n,isTxParamsGasFeeUpdatesEnabled:this.isTxParamsGasFeeUpdatesEnabled,layer1GasFee:i})}))},F=function(){return this.messagingSystem.call("AccountsController:getSelectedAccount")},M=function(){const e=this.messagingSystem.call("AccountsController:getState");return Object.values(e.internalAccounts?.accounts??{}).filter((e=>"eip155:eoa"===e.type)).map((e=>e.address))},D=function(e,t){const{chainId:n,networkClientId:r,origin:i,rawTx:o,txParams:s}=e,{networkConfigurationsByChainId:a}=this.getNetworkState(),c=a[n],u=c?.rpcEndpoints.find((e=>e.networkClientId===r)),l=u?.url,d={chainId:n,hash:t,networkType:u?.name??r,networkUrl:l,origin:i,rawTransaction:o,time:Date.now(),transaction:s};(0,we.projectLogger)("Updating submit history",d),this.update((e=>{const{submitHistory:t}=e;100===t.length&&t.pop(),t.unshift(d)}))},U=async function(e){const{chainId:t,networkClientId:n}=e,i=H(this,g,"f").getNetworkClient({networkClientId:n}).configuration.type===J.NetworkClientType.Custom,o=H(this,r,"m",E).call(this,{networkClientId:n});await(0,Te.updateGas)({chainId:t,ethQuery:o,isCustomNetwork:i,isSimulationEnabled:H(this,p,"f").call(this),messenger:this.messagingSystem,txMeta:e})},G=function(e){this.update((t=>{const n=t.transactions.filter((({id:t})=>t!==e));t.transactions=this.trimTransactionsForState(n)}))},z=function(e){return[X.errorCodes.provider.userRejectedRequest,X.errorCodes.rpc.methodNotSupported].includes(e.code)},$=function(e,t,n){if(H(this,r,"m",w).call(this,e,t,n),n.code===X.errorCodes.provider.userRejectedRequest)throw X.providerErrors.userRejectedRequest({message:"MetaMask Tx Signature: User denied transaction signature.",data:n?.data});throw n}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/TransactionController.cjs"}],[2885,{"../errors.cjs":2887,"../logger.cjs":2906,"@metamask/controller-utils":1474,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountTransactions=n.getAccountAddressRelationship=void 0;const r=e("@metamask/controller-utils"),i=e("@metamask/utils"),o=e("../errors.cjs"),s=e("../logger.cjs"),a="https://accounts.api.cx.metamask.io",c=`${a}/v1/accounts/`,u="x-metamask-clientproduct",l="metamask-transaction-controller",d=[1,10,56,137,8453,42161,59144,534352],f=(0,i.createModuleLogger)(s.projectLogger,"accounts-api");n.getAccountAddressRelationship=async function(e){const{chainId:t,from:n,to:i}=e;if(!d.includes(t))throw f("Unsupported chain ID for account relationship API",t),new o.FirstTimeInteractionError("Unsupported chain ID");const s=`${a}/v1/networks/${t}/accounts/${n}/relationships/${i}`;f("Getting account address relationship",{request:e,url:s});const c={[u]:l},h=await(0,r.successfulFetch)(s,{headers:c});if(204===h.status)return{count:0};const p=await h.json();if(f("Retrieved account address relationship",p),p.error){const{code:e,message:t}=p.error;throw new o.FirstTimeInteractionError(t,e)}return p},n.getAccountTransactions=async function(e){const{address:t,chainIds:n,cursor:i,endTimestamp:o,sortDirection:s,startTimestamp:a}=e;let d=`${c}${t}/transactions`;const h=[];if(n){const e=n.join(",");h.push(`networks=${e}`)}a&&h.push(`startTimestamp=${a}`),o&&h.push(`endTimestamp=${o}`),i&&h.push(`cursor=${i}`),s&&h.push(`sortDirection=${s}`),h.length&&(d+=`?${h.join("&")}`),f("Getting account transactions",{request:e,url:d});const p={[u]:l},m=await(0,r.successfulFetch)(d,{headers:p}),g=await m.json();return f("Retrieved account transactions",g),g}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/api/accounts-api.cjs"}],[2886,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ABI_IERC7821=n.ABI_SIMULATION_ERC721_LEGACY=n.ABI_SIMULATION_ERC20_WRAPPED=n.CHAIN_IDS=void 0,n.CHAIN_IDS={MAINNET:"0x1",GOERLI:"0x5",BASE:"0x2105",BASE_TESTNET:"0x14a33",BSC:"0x38",BSC_TESTNET:"0x61",OPTIMISM:"0xa",OPTIMISM_TESTNET:"0x1a4",OPBNB:"0xcc",OPBNB_TESTNET:"0x15eb",OPTIMISM_SEPOLIA:"0xaa37dc",POLYGON:"0x89",POLYGON_TESTNET:"0x13881",AVALANCHE:"0xa86a",AVALANCHE_TESTNET:"0xa869",FANTOM:"0xfa",FANTOM_TESTNET:"0xfa2",SEPOLIA:"0xaa36a7",LINEA_GOERLI:"0xe704",LINEA_SEPOLIA:"0xe705",LINEA_MAINNET:"0xe708",MOONBEAM:"0x504",MOONBEAM_TESTNET:"0x507",MOONRIVER:"0x505",GNOSIS:"0x64",ARBITRUM:"0xa4b1",ZKSYNC_ERA:"0x144",ZORA:"0x76adf1",SCROLL:"0x82750",SCROLL_SEPOLIA:"0x8274f",MEGAETH_TESTNET:"0x18c6"},n.ABI_SIMULATION_ERC20_WRAPPED=[{anonymous:!1,inputs:[{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Withdrawal",type:"event"}],n.ABI_SIMULATION_ERC721_LEGACY=[{anonymous:!1,inputs:[{indexed:!1,name:"_from",type:"address"},{indexed:!1,name:"_to",type:"address"},{indexed:!1,name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"}],n.ABI_IERC7821=[{type:"function",name:"execute",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"},{name:"executionData",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"supportsExecutionMode",inputs:[{name:"mode",type:"bytes32",internalType:"ModeCode"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"}]}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/constants.cjs"}],[2887,{"./types.cjs":2907},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SimulationRevertedError=n.SimulationInvalidResponseError=n.SimulationChainNotSupportedError=n.FirstTimeInteractionError=n.SimulationError=void 0;const r=e("./types.cjs");class i extends Error{constructor(e,t){super(e??"Simulation failed"),this.code=t}}n.SimulationError=i;class o extends Error{constructor(e,t){super(e??"Error checking first time interaction"),this.code=t}}n.FirstTimeInteractionError=o;n.SimulationChainNotSupportedError=class extends i{constructor(e){super(`Chain is not supported: ${e}`,r.SimulationErrorCode.ChainNotSupported)}};n.SimulationInvalidResponseError=class extends i{constructor(){super("Invalid response from simulation API",r.SimulationErrorCode.InvalidResponse)}};n.SimulationRevertedError=class extends i{constructor(){super("Transaction was reverted",r.SimulationErrorCode.Reverted)}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/errors.cjs"}],[2888,{"../logger.cjs":2906,"../types.cjs":2907,"../utils/gas-fees.cjs":2912,"@metamask/gas-fee-controller":1924,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultGasFeeFlow=void 0;const l=e("@metamask/gas-fee-controller"),d=e("@metamask/utils"),f=e("../logger.cjs"),h=e("../types.cjs"),p=e("../utils/gas-fees.cjs"),m=(0,d.createModuleLogger)(f.projectLogger,"default-gas-fee-flow");n.DefaultGasFeeFlow=class{constructor(){r.add(this)}matchesTransaction(){return!0}async getGasFees(e){const{gasFeeControllerData:t}=e,{gasEstimateType:n,gasFeeEstimates:a}=t;let c;switch(n){case l.GAS_ESTIMATE_TYPES.FEE_MARKET:m("Using fee market estimates",a),c=u(this,r,"m",i).call(this,a);break;case l.GAS_ESTIMATE_TYPES.LEGACY:m("Using legacy estimates",a),c=u(this,r,"m",o).call(this,a);break;case l.GAS_ESTIMATE_TYPES.ETH_GASPRICE:m("Using eth_gasPrice estimates",a),c=u(this,r,"m",s).call(this,a);break;default:throw new Error(`Unsupported gas estimate type: ${n}`)}return{estimates:c}}},r=new WeakSet,i=function(e){const t=Object.values(h.GasFeeEstimateLevel).reduce(((t,n)=>({...t,[n]:u(this,r,"m",a).call(this,e,n)})),{});return{type:h.GasFeeEstimateType.FeeMarket,...t}},o=function(e){const t=Object.values(h.GasFeeEstimateLevel).reduce(((t,n)=>({...t,[n]:u(this,r,"m",c).call(this,e,n)})),{});return{type:h.GasFeeEstimateType.Legacy,...t}},s=function(e){return{type:h.GasFeeEstimateType.GasPrice,gasPrice:(0,p.gweiDecimalToWeiHex)(e.gasPrice)}},a=function(e,t){return{maxFeePerGas:(0,p.gweiDecimalToWeiHex)(e[t].suggestedMaxFeePerGas),maxPriorityFeePerGas:(0,p.gweiDecimalToWeiHex)(e[t].suggestedMaxPriorityFeePerGas)}},c=function(e,t){return(0,p.gweiDecimalToWeiHex)(e[t])}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/DefaultGasFeeFlow.cjs"}],[2889,{"../logger.cjs":2906,"../types.cjs":2907,"./DefaultGasFeeFlow.cjs":2888,"@metamask/controller-utils":1474,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.LineaGasFeeFlow=void 0;const l=e("@metamask/controller-utils"),d=e("@metamask/utils"),f=e("./DefaultGasFeeFlow.cjs"),h=e("../logger.cjs"),p=e("../types.cjs"),m=(0,d.createModuleLogger)(h.projectLogger,"linea-gas-fee-flow"),g=[l.ChainId["linea-mainnet"],l.ChainId["linea-goerli"],l.ChainId["linea-sepolia"]],y={low:1,medium:1.35,high:1.7},w={low:1,medium:1.05,high:1.1};n.LineaGasFeeFlow=class{constructor(){r.add(this)}matchesTransaction({transactionMeta:e}){return g.includes(e.chainId)}async getGasFees(e){try{return await u(this,r,"m",i).call(this,e)}catch(t){return m("Using default flow as fallback due to error",t),(new f.DefaultGasFeeFlow).getGasFees(e)}}},r=new WeakSet,i=async function(e){const{ethQuery:t,transactionMeta:n}=e,i=await u(this,r,"m",o).call(this,n,t);m("Received Linea response",i);const d=u(this,r,"m",s).call(this,i.baseFeePerGas,y);m("Generated base fees",u(this,r,"m",c).call(this,d));const f=u(this,r,"m",s).call(this,i.priorityFeePerGas,w);m("Generated priority fees",u(this,r,"m",c).call(this,f));const h=u(this,r,"m",a).call(this,d,f);m("Generated max fees",u(this,r,"m",c).call(this,h));return{estimates:Object.values(p.GasFeeEstimateLevel).reduce(((e,t)=>({...e,[t]:{maxFeePerGas:(0,l.toHex)(h[t]),maxPriorityFeePerGas:(0,l.toHex)(f[t])}})),{type:p.GasFeeEstimateType.FeeMarket})}},o=function(e,t){return(0,l.query)(t,"linea_estimateGas",[{from:e.txParams.from,to:e.txParams.to,value:e.txParams.value,input:e.txParams.data}])},s=function(e,t){const n=(0,l.hexToBN)(e);return{low:n.muln(t.low),medium:n.muln(t.medium),high:n.muln(t.high)}},a=function(e,t){return{low:e.low.add(t.low),medium:e.medium.add(t.medium),high:e.high.add(t.high)}},c=function(e){return Object.values(p.GasFeeEstimateLevel).map((t=>e[t].toString(10)))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/LineaGasFeeFlow.cjs"}],[2890,{"../constants.cjs":2886,"./OracleLayer1GasFeeFlow.cjs":2891},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.OptimismLayer1GasFeeFlow=void 0;const r=e("./OracleLayer1GasFeeFlow.cjs"),i=e("../constants.cjs"),o=[i.CHAIN_IDS.OPTIMISM,i.CHAIN_IDS.OPTIMISM_TESTNET,i.CHAIN_IDS.BASE,i.CHAIN_IDS.BASE_TESTNET,i.CHAIN_IDS.OPBNB,i.CHAIN_IDS.OPBNB_TESTNET,i.CHAIN_IDS.ZORA];class s extends r.OracleLayer1GasFeeFlow{constructor(){super("0x420000000000000000000000000000000000000F")}matchesTransaction({transactionMeta:e}){return o.includes(e.chainId)}}n.OptimismLayer1GasFeeFlow=s}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/OptimismLayer1GasFeeFlow.cjs"}],[2891,{"../logger.cjs":2906,"../utils/prepare.cjs":2918,"@ethersproject/contracts":507,"@ethersproject/providers":545,"@metamask/utils":2950,buffer:4074},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r,i,o,s,a,c,u=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},l=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.OracleLayer1GasFeeFlow=void 0;const d=e("@ethersproject/contracts"),f=e("@ethersproject/providers"),h=e("@metamask/utils"),p=e("../logger.cjs"),m=e("../utils/prepare.cjs"),g=(0,h.createModuleLogger)(p.projectLogger,"oracle-layer1-gas-fee-flow"),y=[{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"getL1Fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];n.OracleLayer1GasFeeFlow=class{constructor(e,t){r.add(this),i.set(this,void 0),o.set(this,void 0),u(this,i,e,"f"),u(this,o,t??!1,"f")}async getLayer1Fee(e){try{return await l(this,r,"m",s).call(this,e)}catch(e){throw g("Failed to get oracle layer 1 gas fee",e),new Error("Failed to get oracle layer 1 gas fee")}}},i=new WeakMap,o=new WeakMap,r=new WeakSet,s=async function(e){const{provider:t,transactionMeta:n}=e,s=new d.Contract(l(this,i,"f"),y,new f.Web3Provider(t)),c=l(this,r,"m",a).call(this,n,l(this,o,"f")).serialize(),u=await s.getL1Fee(c);if(u===undefined)throw new Error("No value returned from oracle contract");return{layer1Fee:u.toHexString()}},a=function(e,n){const i=l(this,r,"m",c).call(this,e),{chainId:o}=e;let s=(0,m.prepareTransaction)(o,i);if(n){const e=t.from("abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789","hex");s=s.sign(e)}return s},c=function(e){return{...e.txParams,gasLimit:e.txParams.gas}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/OracleLayer1GasFeeFlow.cjs"}],[2892,{"../logger.cjs":2906,"../types.cjs":2907,"../utils/feature-flags.cjs":2911,"../utils/gas-fees.cjs":2912,"./DefaultGasFeeFlow.cjs":2888,"@metamask/gas-fee-controller":1924,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.randomiseDecimalGWEIAndConvertToHex=n.RandomisedEstimationsGasFeeFlow=void 0;const u=e("@metamask/gas-fee-controller"),l=e("@metamask/utils"),d=e("./DefaultGasFeeFlow.cjs"),f=e("../logger.cjs"),h=e("../types.cjs"),p=e("../utils/feature-flags.cjs"),m=e("../utils/gas-fees.cjs"),g=(0,l.createModuleLogger)(f.projectLogger,"randomised-estimation-gas-fee-flow");function y(e,t,n){const r=(0,m.gweiDecimalToWeiDecimal)(e),i=r.length,o=Math.min(t,i-n);if(0===Number(r)||o<=0)return`0x${Number(r).toString(16)}`;const s=i-o,a=r.slice(0,s),c=r.slice(-o),u=function(e,t){const n=10**e;return t+Math.floor(Math.random()*(n-t))}(o,Number(c)),d=`0x${(BigInt(a+"0".repeat(o))+BigInt(u)).toString(16)}`;return(0,l.add0x)(d)}n.RandomisedEstimationsGasFeeFlow=class{constructor(){r.add(this)}matchesTransaction({transactionMeta:e,messenger:t}){const{chainId:n}=e;return(0,p.getGasFeeRandomisation)(t).randomisedGasFeeDigits[n]!==undefined}async getGasFees(e){try{return await c(this,r,"m",o).call(this,e)}catch(t){return g("Using default flow as fallback due to error",t),await c(this,r,"m",i).call(this,e)}}},r=new WeakSet,i=async function(e){return(new d.DefaultGasFeeFlow).getGasFees(e)},o=async function(e){const{messenger:t,gasFeeControllerData:n,transactionMeta:o}=e,{gasEstimateType:a,gasFeeEstimates:l}=n,d=(0,p.getGasFeeRandomisation)(t),f=d.randomisedGasFeeDigits[o.chainId],h=d.preservedNumberOfDigits??2;if(a===u.GAS_ESTIMATE_TYPES.FEE_MARKET){g("Randomising fee market estimates",l);const e=c(this,r,"m",s).call(this,l,f,h);return g("Added randomised fee market estimates",e),{estimates:e}}return await c(this,r,"m",i).call(this,e)},s=function(e,t,n){const i=Object.values(h.GasFeeEstimateLevel).reduce(((i,o)=>({...i,[o]:c(this,r,"m",a).call(this,e,o,t,n)})),{});return{type:h.GasFeeEstimateType.FeeMarket,...i}},a=function(e,t,n,r){return{maxFeePerGas:(0,m.gweiDecimalToWeiHex)(e[t].suggestedMaxFeePerGas),maxPriorityFeePerGas:y(e[t].suggestedMaxPriorityFeePerGas,n,r)}},n.randomiseDecimalGWEIAndConvertToHex=y}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/RandomisedEstimationsGasFeeFlow.cjs"}],[2893,{"../constants.cjs":2886,"./OracleLayer1GasFeeFlow.cjs":2891},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollLayer1GasFeeFlow=void 0;const r=e("./OracleLayer1GasFeeFlow.cjs"),i=e("../constants.cjs"),o=[i.CHAIN_IDS.SCROLL,i.CHAIN_IDS.SCROLL_SEPOLIA];class s extends r.OracleLayer1GasFeeFlow{constructor(){super("0x5300000000000000000000000000000000000002",!0)}matchesTransaction({transactionMeta:e}){return o.includes(e.chainId)}}n.ScrollLayer1GasFeeFlow=s}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/ScrollLayer1GasFeeFlow.cjs"}],[2894,{"../types.cjs":2907,"@metamask/controller-utils":1474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.TestGasFeeFlow=void 0;const c=e("@metamask/controller-utils"),u=e("../types.cjs"),l=1e15;n.TestGasFeeFlow=class{constructor(){r.add(this),i.set(this,1)}matchesTransaction(){return!0}async getGasFees(e){const{transactionMeta:t}=e,{txParams:n}=t,{gas:c}=n;if(!c)throw new Error("Cannot estimate fee without gas value");const d=parseInt(c,16),f=.5*l,h=(s(this,i,"f")+1)*l,p=s(this,i,"f")*l,m=h-f,g=p-f,y=h+f,w=p+f;return a(this,i,s(this,i,"f")+1,"f"),{estimates:{type:u.GasFeeEstimateType.FeeMarket,low:{maxFeePerGas:s(this,r,"m",o).call(this,m,d),maxPriorityFeePerGas:s(this,r,"m",o).call(this,g,d)},medium:{maxFeePerGas:s(this,r,"m",o).call(this,h,d),maxPriorityFeePerGas:s(this,r,"m",o).call(this,p,d)},high:{maxFeePerGas:s(this,r,"m",o).call(this,y,d),maxPriorityFeePerGas:s(this,r,"m",o).call(this,w,d)}}}}},i=new WeakMap,r=new WeakSet,o=function(e,t){const n=Math.ceil(e/t);return(0,c.toHex)(n)}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/gas-flows/TestGasFeeFlow.cjs"}],[2895,{"../api/accounts-api.cjs":2885,"../constants.cjs":2886,"../logger.cjs":2906,"../types.cjs":2907,"@metamask/controller-utils":1474,"bn.js":4026,uuid:5663},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.AccountsApiRemoteTransactionSource=n.SUPPORTED_CHAIN_IDS=void 0;const h=e("@metamask/controller-utils"),p=f(e("bn.js")),m=e("uuid"),g=e("../api/accounts-api.cjs"),y=e("../constants.cjs"),w=e("../logger.cjs"),b=e("../types.cjs");n.SUPPORTED_CHAIN_IDS=[y.CHAIN_IDS.MAINNET,y.CHAIN_IDS.POLYGON,y.CHAIN_IDS.BSC,y.CHAIN_IDS.LINEA_MAINNET,y.CHAIN_IDS.BASE,y.CHAIN_IDS.OPTIMISM,y.CHAIN_IDS.ARBITRUM,y.CHAIN_IDS.SCROLL];const v=(0,w.createModuleLogger)(w.incomingTransactionsLogger,"accounts-api-source");n.AccountsApiRemoteTransactionSource=class{constructor(){r.add(this)}getSupportedChains(){return n.SUPPORTED_CHAIN_IDS}async fetchTransactions(e){const{address:t}=e,n=await d(this,r,"m",i).call(this,e);v("Fetched transactions",n.length,n);const o=n.map((e=>d(this,r,"m",a).call(this,t,e)));v("Normalized transactions",o);const c=d(this,r,"m",s).call(this,e,o);return v("Filtered transactions",c.length,c),c}},r=new WeakSet,i=async function(e){v("Getting transactions",e);const{address:t,cache:i}=e,s=d(this,r,"m",u).call(this,i,n.SUPPORTED_CHAIN_IDS,t);return s&&v("Using cached cursor",s),await d(this,r,"m",o).call(this,e,n.SUPPORTED_CHAIN_IDS,s)},o=async function(e,t,n){const{address:i,queryEntireHistory:o,updateCache:s}=e,a=[];let u=!0,f=n,h=0;const p=o||n?undefined:d(this,r,"m",l).call(this,Date.now());for(;u;)try{const e=await(0,g.getAccountTransactions)({address:i,chainIds:t,cursor:f,sortDirection:"ASC",startTimestamp:p});h+=1,e?.data&&a.push(...e.data),u=e?.pageInfo?.hasNextPage,f=e?.pageInfo?.cursor,f&&s((e=>{const n=d(this,r,"m",c).call(this,t,i);e[n]=f,v("Updated cache",{key:n,newCursor:f})}))}catch(e){v("Error while fetching transactions",e);break}return v("Queried transactions",{pageCount:h}),a},s=function(e,t){const{address:n,includeTokenTransfers:r,updateTransactions:i}=e;let o=t;return i||(o=o.filter((e=>e.txParams.to===n))),r||(o=o.filter((e=>!e.isTransfer))),o},a=function(e,t){const n=String(t.blockNumber),r=`0x${t.chainId.toString(16)}`,{hash:i}=t,o=new Date(t.timestamp).getTime(),s=(0,m.v1)({msecs:o}),{from:a}=t,c=(0,h.BNToHex)(new p.default(t.gas)),u=(0,h.BNToHex)(new p.default(t.gasPrice)),l=(0,h.BNToHex)(new p.default(t.gasUsed)),d=(0,h.BNToHex)(new p.default(t.nonce)),f=b.TransactionType.incoming,g=t.isError?b.TransactionStatus.failed:b.TransactionStatus.confirmed,y=t.valueTransfers.find((t=>t.to.toLowerCase()===e.toLowerCase()&&t.contractAddress)),w=Boolean(y),v=y?.contractAddress,E=y?.decimal,A=y?.symbol,T=(0,h.BNToHex)(new p.default(y?.amount??t.value)),x=y?e:t.to;return{blockNumber:n,chainId:r,error:g===b.TransactionStatus.failed?new Error("Transaction failed"):undefined,hash:i,id:s,isTransfer:w,networkClientId:"",status:g,time:o,toSmartContract:!1,transferInformation:w?{contractAddress:v,decimals:E,symbol:A}:undefined,txParams:{chainId:r,from:a,gas:c,gasPrice:u,gasUsed:l,nonce:d,to:x,value:T},type:f,verifiedOnBlockchain:!1}},c=function(e,t){return`accounts-api#${e.join(",")}#${t}`},u=function(e,t,n){return e[d(this,r,"m",c).call(this,t,n)]},l=function(e){return Math.floor(e/1e3)}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/AccountsApiRemoteTransactionSource.cjs"}],[2896,{"../logger.cjs":2906,"../types.cjs":2907,"../utils/gas-flow.cjs":2913,"../utils/layer1-gas-fee-flow.cjs":2916,"@metamask/eth-query":1701,"@metamask/utils":2950,events:4399},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f,h,p,m,g,y,w,b,v,E,A=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},T=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},x=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.updateTransactionGasFees=n.GasFeePoller=void 0;const S=x(e("@metamask/eth-query")),k=e("@metamask/utils"),I=x(e("events")),C=e("../logger.cjs"),j=e("../types.cjs"),P=e("../utils/gas-flow.cjs"),_=e("../utils/layer1-gas-fee-flow.cjs"),O=(0,k.createModuleLogger)(C.projectLogger,"gas-fee-poller");n.GasFeePoller=class{constructor({findNetworkClientIdByChainId:e,gasFeeFlows:t,getGasFeeControllerEstimates:n,getProvider:m,getTransactions:g,layer1GasFeeFlows:y,messenger:w,onStateChange:b}){r.add(this),this.hub=new I.default,i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),f.set(this,!1),A(this,i,e,"f"),A(this,o,t,"f"),A(this,u,y,"f"),A(this,s,n,"f"),A(this,a,m,"f"),A(this,c,g,"f"),A(this,l,w,"f"),b((()=>{T(this,r,"m",v).call(this).length?T(this,r,"m",h).call(this):T(this,r,"m",p).call(this)}))}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,f=new WeakMap,r=new WeakSet,h=function(){T(this,f,"f")||(T(this,r,"m",m).call(this),A(this,f,!0,"f"),O("Started polling"))},p=function(){T(this,f,"f")&&(clearTimeout(T(this,d,"f")),A(this,d,undefined,"f"),A(this,f,!1,"f"),O("Stopped polling"))},m=async function e(){await T(this,r,"m",g).call(this),A(this,d,setTimeout((()=>T(this,r,"m",e).call(this)),1e4),"f")},g=async function(){const e=T(this,r,"m",v).call(this);if(!e.length)return;O("Found unapproved transactions",e.length);const t=await T(this,r,"m",E).call(this,e);O("Retrieved gas fee controller data",t),await Promise.all(e.flatMap((e=>{const{chainId:n}=e,i=t.get(n);return T(this,r,"m",y).call(this,e,i)})))},y=async function(e,t){const{id:n}=e,[i,o]=await Promise.all([T(this,r,"m",w).call(this,e,t),T(this,r,"m",b).call(this,e)]);(i||o)&&this.hub.emit("transaction-updated",{transactionId:n,gasFeeEstimates:i?.gasFeeEstimates,gasFeeEstimatesLoaded:i?.gasFeeEstimatesLoaded,layer1GasFee:o})},w=async function(e,t){const{networkClientId:n}=e,r=new S.default(T(this,a,"f").call(this,n)),i=(0,P.getGasFeeFlow)(e,T(this,o,"f"),T(this,l,"f"));i&&O("Found gas fee flow",i.constructor.name,e.id);const s={ethQuery:r,gasFeeControllerData:t,messenger:T(this,l,"f"),transactionMeta:e};let c;if(i)try{c=(await i.getGasFees(s)).estimates}catch(t){O("Failed to get suggested gas fees",e.id,t)}return!c&&e.gasFeeEstimatesLoaded?undefined:(O("Updated gas fee estimates",{gasFeeEstimates:c,transaction:e.id}),{gasFeeEstimates:c,gasFeeEstimatesLoaded:!0})},b=async function(e){const{networkClientId:t}=e,n=T(this,a,"f").call(this,t),r=await(0,_.getTransactionLayer1GasFee)({layer1GasFeeFlows:T(this,u,"f"),messenger:T(this,l,"f"),provider:n,transactionMeta:e});return r&&O("Updated layer 1 gas fee",r,e.id),r},v=function(){return T(this,c,"f").call(this).filter((e=>e.status===j.TransactionStatus.unapproved))},E=async function(e){const t=new Map;for(const n of e){const{chainId:e,networkClientId:r}=n;if(t.has(e))continue;const o=r??T(this,i,"f").call(this,e);t.set(e,o)}O("Extracted network client IDs by chain ID",t);const n=Array.from(t.entries()).map((async([e,t])=>[e,await T(this,s,"f").call(this,{networkClientId:t})]));return new Map(await Promise.all(n))},n.updateTransactionGasFees=function({txMeta:e,gasFeeEstimates:t,gasFeeEstimatesLoaded:n,isTxParamsGasFeeUpdatesEnabled:r,layer1GasFee:i}){const o=e.userFeeLevel,s=Object.values(j.GasFeeEstimateLevel).includes(o),{type:a}=t??{};if(r&&s){if(e.txParams.type!==j.TransactionEnvelopeType.legacy){if(a===j.GasFeeEstimateType.FeeMarket){const n=t;e.txParams.maxFeePerGas=n[o].maxFeePerGas,e.txParams.maxPriorityFeePerGas=n[o].maxPriorityFeePerGas}if(a===j.GasFeeEstimateType.GasPrice){const n=t;e.txParams.maxFeePerGas=n.gasPrice,e.txParams.maxPriorityFeePerGas=n.gasPrice}if(a===j.GasFeeEstimateType.Legacy){const n=t[o];e.txParams.maxFeePerGas=n,e.txParams.maxPriorityFeePerGas=n}delete e.txParams.gasPrice}else{if(a===j.GasFeeEstimateType.FeeMarket){const n=t;e.txParams.gasPrice=n[o].maxFeePerGas}if(a===j.GasFeeEstimateType.GasPrice){const n=t;e.txParams.gasPrice=n.gasPrice}if(a===j.GasFeeEstimateType.Legacy){const n=t;e.txParams.gasPrice=n[o]}delete e.txParams.maxFeePerGas,delete e.txParams.maxPriorityFeePerGas}}t&&(e.gasFeeEstimates=t),n!==undefined&&(e.gasFeeEstimatesLoaded=n),i&&(e.layer1GasFee=i)}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/GasFeePoller.cjs"}],[2897,{"../logger.cjs":2906,events:4399},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f,h,p,m,g,y,w,b=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},v=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},E=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.IncomingTransactionHelper=void 0;const A=E(e("events")),T=e("../logger.cjs");n.IncomingTransactionHelper=class{constructor({getCache:e,getCurrentAccount:t,getLocalTransactions:n,includeTokenTransfers:g,isEnabled:y,queryEntireHistory:w,remoteTransactionSource:v,trimTransactions:E,updateCache:T,updateTransactions:x}){r.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),f.set(this,void 0),h.set(this,void 0),p.set(this,void 0),m.set(this,void 0),this.hub=new A.default,b(this,i,e,"f"),b(this,o,t,"f"),b(this,s,n,"f"),b(this,a,g,"f"),b(this,c,y??(()=>!0),"f"),b(this,u,!1,"f"),b(this,l,w,"f"),b(this,d,v,"f"),b(this,h,E,"f"),b(this,p,T,"f"),b(this,m,x,"f")}start(){v(this,u,"f")||v(this,r,"m",w).call(this)&&((0,T.incomingTransactionsLogger)("Starting polling"),b(this,f,setTimeout((()=>v(this,r,"m",g).call(this)),3e4),"f"),b(this,u,!0,"f"),(0,T.incomingTransactionsLogger)("Started polling"))}stop(){v(this,f,"f")&&clearTimeout(v(this,f,"f")),v(this,u,"f")&&(b(this,u,!1,"f"),(0,T.incomingTransactionsLogger)("Stopped polling"))}async update({isInterval:e}={}){if((0,T.incomingTransactionsLogger)("Checking for incoming transactions",{isInterval:Boolean(e)}),!v(this,r,"m",w).call(this))return;const t=v(this,o,"f").call(this),n=v(this,i,"f").call(this),c=v(this,a,"f")??!0,u=v(this,l,"f")??!0,f=v(this,m,"f")??!1;let g=[];try{g=await v(this,d,"f").fetchTransactions({address:t.address,cache:n,includeTokenTransfers:c,queryEntireHistory:u,updateCache:v(this,p,"f"),updateTransactions:f})}catch(e){return void(0,T.incomingTransactionsLogger)("Error while fetching remote transactions",e)}if(!g.length)return;v(this,r,"m",y).call(this,g),(0,T.incomingTransactionsLogger)("Found potential transactions",g.length,g);const b=v(this,s,"f").call(this),E=g.filter((e=>!b.some((t=>t.hash?.toLowerCase()===e.hash?.toLowerCase()&&t.txParams.from?.toLowerCase()===e.txParams.from?.toLowerCase()&&t.type===e.type))));if(!E.length)return void(0,T.incomingTransactionsLogger)("All transactions are already known");(0,T.incomingTransactionsLogger)("Found unique transactions",E.length,E);const A=v(this,h,"f").call(this,[...E,...b]),x=E.map((e=>e.id)),S=A.filter((e=>x.includes(e.id)));S.length?((0,T.incomingTransactionsLogger)("Adding new transactions",S.length,S),this.hub.emit("transactions",S)):(0,T.incomingTransactionsLogger)("All unique transactions truncated due to limit")}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,r=new WeakSet,g=async function e(){try{await this.update({isInterval:!0})}catch(e){console.error("Error while checking incoming transactions",e)}v(this,u,"f")&&b(this,f,setTimeout((()=>v(this,r,"m",e).call(this)),3e4),"f")},y=function(e){e.sort(((e,t)=>e.time<t.time?-1:1))},w=function(){return v(this,c,"f").call(this)}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/IncomingTransactionHelper.cjs"}],[2898,{"../logger.cjs":2906,"@metamask/utils":2950,"async-mutex":3913,"eth-method-registry":4297,events:4399},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},l=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.MethodDataHelper=void 0;const f=e("@metamask/utils"),h=e("async-mutex"),p=e("eth-method-registry"),m=d(e("events")),g=e("../logger.cjs"),y=(0,f.createModuleLogger)(g.projectLogger,"method-data");n.MethodDataHelper=class{constructor({getProvider:e,getState:t}){r.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,new h.Mutex),this.hub=new m.default,u(this,i,e,"f"),u(this,o,t,"f"),u(this,s,new Map,"f")}async lookup(e,t){y("lookup",e,t);const n=await l(this,a,"f").acquire();try{const n=l(this,o,"f").call(this)[e];if(n)return y("Cached",n),n;let a=l(this,s,"f").get(t);if(!a){const e=l(this,i,"f").call(this,t);a=new p.MethodRegistry({provider:e}),l(this,s,"f").set(t,a),y("Created registry",t)}const u=await l(this,r,"m",c).call(this,e,a);return y("Result",u),this.hub.emit("update",{fourBytePrefix:e,methodData:u}),u}finally{n()}}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,r=new WeakSet,c=async function(e,t){const n=await t.lookup(e);if(!n)return y("No method found",e),{registryMethod:"",parsedRegistryMethod:{name:undefined,args:undefined}};y("Parsing",n);return{registryMethod:n,parsedRegistryMethod:t.parse(n)}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/MethodDataHelper.cjs"}],[2899,{"../logger.cjs":2906,"async-mutex":3913},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f,h,p,m=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},g=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainTrackingHelper=void 0;const y=e("async-mutex"),w=e("../logger.cjs"),b=(0,w.createModuleLogger)(w.projectLogger,"multichain-tracking");n.MultichainTrackingHelper=class{constructor({findNetworkClientIdByChainId:e,getNetworkClientById:t,getNetworkClientRegistry:n,removePendingTransactionTrackerListeners:y,createNonceTracker:w,createPendingTransactionTracker:v,onNetworkStateChange:E}){r.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,new Map),d.set(this,new Map),this.checkForPendingTransactionAndStartPolling=()=>{for(const[,e]of g(this,d,"f"))e.pendingTransactionTracker.startIfPendingTransactions()},f.set(this,(e=>{const t=Object.keys(e),n=Array.from(g(this,d,"f").keys()),i=n.filter((e=>!t.includes(e)));i.forEach((e=>{g(this,r,"m",h).call(this,e)}));const o=t.filter((e=>!n.includes(e)));o.forEach((e=>{g(this,r,"m",p).call(this,e)})),o.length&&b("Added trackers",o),i.length&&b("Removed trackers",i)})),m(this,i,e,"f"),m(this,o,t,"f"),m(this,s,n,"f"),m(this,a,y,"f"),m(this,c,w,"f"),m(this,u,v,"f"),E(((e,t)=>{const n=g(this,s,"f").call(this);t.forEach((({op:e,path:t})=>{if("remove"===e&&"networkConfigurations"===t[0]){const e=t[1];delete n[e]}})),g(this,f,"f").call(this,n)}))}initialize(){const e=g(this,s,"f").call(this);g(this,f,"f").call(this,e),b("Initialized")}has(e){return g(this,d,"f").has(e)}async acquireNonceLockForChainIdKey({chainId:e,key:t="global"}){let n=g(this,l,"f").get(e);n||(n=new Map,g(this,l,"f").set(e,n));let r=n.get(t);return r||(r=new y.Mutex,n.set(t,r)),await r.acquire()}async getNonceLock(e,t){const n=g(this,o,"f").call(this,t),r=await this.acquireNonceLockForChainIdKey({chainId:n.configuration.chainId,key:e}),i=g(this,d,"f").get(t)?.nonceTracker;if(!i)throw new Error(`Missing nonce tracker for network client ID - ${t}`);try{const t=await i.getNonceLock(e),n=()=>{t.releaseLock(),r?.()};return{...t,releaseLock:n}}catch(e){throw r?.(),e}}stopAllTracking(){for(const[e]of g(this,d,"f"))g(this,r,"m",h).call(this,e)}getNetworkClient({chainId:e,networkClientId:t}){if(!t&&!e)throw new Error("Cannot locate network client without networkClientId or chainId");let n,r=t;try{t&&(n=g(this,o,"f").call(this,t))}catch(n){if(b("No network client found with ID",t),!e)throw n}return!n&&e&&(r=g(this,i,"f").call(this,e),n=g(this,o,"f").call(this,r)),{...n,id:r}}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,f=new WeakMap,r=new WeakSet,h=function(e){const t=g(this,d,"f").get(e);t&&(t.pendingTransactionTracker.stop(),g(this,a,"f").call(this,t.pendingTransactionTracker),g(this,d,"f").delete(e))},p=function(e){if(g(this,d,"f").get(e))return;const{provider:t,blockTracker:n,configuration:{chainId:r}}=g(this,o,"f").call(this,e),i=g(this,c,"f").call(this,{provider:t,blockTracker:n,chainId:r}),s=g(this,u,"f").call(this,{provider:t,blockTracker:n,chainId:r,networkClientId:e});g(this,d,"f").set(e,{nonceTracker:i,pendingTransactionTracker:s})}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/MultichainTrackingHelper.cjs"}],[2900,{"../logger.cjs":2906,"../types.cjs":2907,"./TransactionPoller.cjs":2902,"@metamask/controller-utils":1474,events:4399,lodash:4855},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f,h,p,m,g,y,w,b,v,E,A,T,x,S,k,I,C,j,P,_,O,B,R,N,L,F,M,D=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},U=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},G=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PendingTransactionTracker=void 0;const z=e("@metamask/controller-utils"),$=G(e("events")),H=e("lodash"),W=e("./TransactionPoller.cjs"),q=e("../logger.cjs"),V=e("../types.cjs"),K=["replacement transaction underpriced","known transaction","gas price too low to replace","transaction with the same hash was already imported","gateway timeout","nonce too low"],Z=(0,q.createModuleLogger)(q.projectLogger,"pending-transactions");n.PendingTransactionTracker=class{constructor({blockTracker:e,getChainId:t,getEthQuery:n,getGlobalLock:v,getNetworkClientId:E,getTransactions:A,hooks:T,isResubmitEnabled:x,messenger:S,publishTransaction:k}){r.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),f.set(this,void 0),h.set(this,void 0),p.set(this,void 0),m.set(this,void 0),g.set(this,void 0),y.set(this,void 0),this.startIfPendingTransactions=()=>{const e=U(this,r,"m",j).call(this);e.length?U(this,r,"m",w).call(this,e):this.stop()},this.hub=new $.default,D(this,i,new Map,"f"),D(this,o,t,"f"),D(this,s,n,"f"),D(this,a,E,"f"),D(this,c,A,"f"),D(this,u,x??(()=>!0),"f"),D(this,l,U(this,r,"m",b).bind(this),"f"),D(this,f,v,"f"),D(this,h,k,"f"),D(this,p,!1,"f"),D(this,m,new W.TransactionPoller({blockTracker:e,chainId:t(),messenger:S}),"f"),D(this,y,T?.beforePublish??(()=>!0),"f"),D(this,g,T?.beforeCheckPendingTransaction??(()=>!0),"f"),D(this,d,(0,q.createModuleLogger)(Z,`${t()}:${E()}`),"f")}async forceCheckTransaction(e){const t=await U(this,f,"f").call(this);try{await U(this,r,"m",S).call(this,e)}catch(e){U(this,d,"f").call(this,"Failed to check transaction",e)}finally{t()}}stop(){U(this,p,"f")&&(U(this,m,"f").stop(),D(this,p,!1,"f"),U(this,d,"f").call(this,"Stopped polling"))}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,r=new WeakSet,w=function(e){U(this,m,"f").setPendingTransactions(e),U(this,p,"f")||(U(this,m,"f").start(U(this,l,"f")),D(this,p,!0,"f"),U(this,d,"f").call(this,"Started polling"))},b=async function(e){const t=await U(this,f,"f").call(this);try{await U(this,r,"m",v).call(this)}catch(e){U(this,d,"f").call(this,"Failed to check transactions",e)}finally{t()}try{await U(this,r,"m",E).call(this,e)}catch(e){U(this,d,"f").call(this,"Failed to resubmit transactions",e)}},v=async function(){U(this,d,"f").call(this,"Checking transactions");const e=U(this,r,"m",j).call(this);e.length?(U(this,d,"f").call(this,"Found pending transactions to check",{count:e.length,ids:e.map((e=>e.id))}),await Promise.all(e.map((e=>U(this,r,"m",S).call(this,e))))):U(this,d,"f").call(this,"No pending transactions to check")},E=async function(e){if(!U(this,u,"f").call(this)||!U(this,p,"f"))return;U(this,d,"f").call(this,"Resubmitting transactions");const t=U(this,r,"m",j).call(this);if(t.length){U(this,d,"f").call(this,"Found pending transactions to resubmit",{count:t.length,ids:t.map((e=>e.id))});for(const n of t)try{await U(this,r,"m",T).call(this,n,e)}catch(e){const t=e.value?.message?.toLowerCase()||e.message?.toLowerCase()||String(e);if(U(this,r,"m",A).call(this,t)){U(this,d,"f").call(this,"Ignoring known transaction error",t);continue}U(this,r,"m",P).call(this,n,e.message,"There was an error when resubmitting this transaction.")}}else U(this,d,"f").call(this,"No pending transactions to resubmit")},A=function(e){return K.some((t=>e.includes(t)))},T=async function(e,t){if(!U(this,r,"m",x).call(this,e,t))return;if(!U(this,y,"f").call(this,e))return;const n=U(this,s,"f").call(this,e.networkClientId);await U(this,h,"f").call(this,n,e);const i=(e.retryCount??0)+1;U(this,r,"m",B).call(this,(0,H.merge)({},e,{retryCount:i}),"PendingTransactionTracker:transaction-retry - Retry count increased")},x=function(e,t){const n=(0,H.cloneDeep)(e);n.firstRetryBlockNumber||(n.firstRetryBlockNumber=t,U(this,r,"m",B).call(this,n,"PendingTransactionTracker:#isResubmitDue - First retry block number set"));const{firstRetryBlockNumber:i}=n,o=Number.parseInt(t,16)-Number.parseInt(i,16),s=e.retryCount||0;return o>=Math.min(50,Math.pow(2,s))},S=async function(e){const{hash:t,id:n}=e;if(!t&&U(this,g,"f").call(this,e)){const t=new Error("We had an error while submitting this transaction, please try again.");return t.name="NoTxHashError",void U(this,r,"m",_).call(this,e,t)}if(U(this,r,"m",C).call(this,e))return U(this,d,"f").call(this,"Nonce already taken",n),void U(this,r,"m",O).call(this,e);try{const n=await U(this,r,"m",R).call(this,t),i="0x1"===n?.status;if("0x0"===n?.status)return U(this,d,"f").call(this,"Transaction receipt has failed status"),void U(this,r,"m",_).call(this,e,new Error("Transaction dropped or replaced"));const{blockNumber:o,blockHash:s}=n||{};if(i&&o&&s)return void await U(this,r,"m",k).call(this,e,{...n,blockNumber:o,blockHash:s})}catch(t){return U(this,d,"f").call(this,"Failed to check transaction",n,t),void U(this,r,"m",P).call(this,e,t.message,"There was a problem loading this transaction.")}await U(this,r,"m",I).call(this,e)&&U(this,r,"m",O).call(this,e)},k=async function(e,t){const{id:n}=e,{blockHash:i}=t;U(this,d,"f").call(this,"Transaction confirmed",n);const{baseFeePerGas:o,timestamp:s}=await U(this,r,"m",N).call(this,i,!1),a=(0,H.cloneDeep)(e);a.baseFeePerGas=o,a.blockTimestamp=s,a.status=V.TransactionStatus.confirmed,a.txParams={...a.txParams,gasUsed:t.gasUsed},a.txReceipt=t,a.verifiedOnBlockchain=!0,U(this,r,"m",B).call(this,a,"PendingTransactionTracker:#onTransactionConfirmed - Transaction confirmed"),this.hub.emit("transaction-confirmed",a)},I=async function(e){const{hash:t,id:n,txParams:{nonce:o,from:s}}=e;if(!o||!t)return!1;const a=await U(this,r,"m",L).call(this,s),c=parseInt(a,16);if(parseInt(o,16)>=c)return!1;let u=U(this,i,"f").get(t);return u===undefined&&(u=0,U(this,i,"f").set(t,u)),u<3?(U(this,d,"f").call(this,"Incrementing dropped block count",{id:n,droppedBlockCount:u}),U(this,i,"f").set(t,u+1),!1):(U(this,d,"f").call(this,"Hit dropped block count",n),U(this,i,"f").delete(t),!0)},C=function(e){const{id:t,txParams:n}=e;return U(this,r,"m",F).call(this).some((e=>e.id!==t&&e.txParams.from===n.from&&e.status===V.TransactionStatus.confirmed&&e.txParams.nonce===n.nonce&&e.type!==V.TransactionType.incoming))},j=function(){return U(this,r,"m",M).call(this).filter((e=>e.status===V.TransactionStatus.submitted&&!e.verifiedOnBlockchain&&!e.isUserOperation))},P=function(e,t,n){U(this,r,"m",B).call(this,{...e,warning:{error:t,message:n}},"PendingTransactionTracker:#warnTransaction - Warning added")},_=function(e,t){U(this,d,"f").call(this,"Transaction failed",e.id,t),this.hub.emit("transaction-failed",e,t)},O=function(e){U(this,d,"f").call(this,"Transaction dropped",e.id),this.hub.emit("transaction-dropped",e)},B=function(e,t){this.hub.emit("transaction-updated",e,t)},R=async function(e){return await(0,z.query)(U(this,s,"f").call(this),"getTransactionReceipt",[e])},N=async function(e,t){return await(0,z.query)(U(this,s,"f").call(this),"getBlockByHash",[e,t])},L=async function(e){return await(0,z.query)(U(this,s,"f").call(this),"getTransactionCount",[e])},F=function(){const e=U(this,o,"f").call(this);return U(this,c,"f").call(this).filter((t=>t.chainId===e))},M=function(){const e=U(this,a,"f").call(this);return U(this,c,"f").call(this).filter((t=>t.networkClientId===e))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/PendingTransactionTracker.cjs"}],[2901,{"../logger.cjs":2906,"../types.cjs":2907,"../utils/utils.cjs":2925,"@metamask/utils":2950,"bn.js":4026,lodash:4855},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},h=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.hasSimulationDataChanged=n.shouldResimulate=n.ResimulateHelper=n.RESIMULATE_INTERVAL_MS=n.BLOCK_TIME_ADDITIONAL_SECONDS=n.VALUE_COMPARISON_PERCENT_THRESHOLD=n.BLOCKAID_RESULT_TYPE_MALICIOUS=n.RESIMULATE_PARAMS=void 0;const p=e("@metamask/utils"),m=e("bn.js"),g=e("lodash"),y=e("../logger.cjs"),w=e("../types.cjs"),b=e("../utils/utils.cjs"),v=(0,y.createModuleLogger)(y.projectLogger,"resimulate-helper");n.RESIMULATE_PARAMS=["to","value","data"],n.BLOCKAID_RESULT_TYPE_MALICIOUS="Malicious",n.VALUE_COMPARISON_PERCENT_THRESHOLD=5,n.BLOCK_TIME_ADDITIONAL_SECONDS=60,n.RESIMULATE_INTERVAL_MS=3e3;function E(e,t){return!A(e?.difference??"0x0",t?.difference??"0x0",!1===e?.isDecrease,!1===t?.isDecrease)}function A(e,t,r,i){let o=new m.BN((0,p.remove0x)(e),"hex"),s=new m.BN((0,p.remove0x)(t),"hex");return r&&(o=o.neg()),i&&(s=s.neg()),(0,b.getPercentageChange)(o,s)<=n.VALUE_COMPARISON_PERCENT_THRESHOLD}n.ResimulateHelper=class{constructor({getTransactions:e,simulateTransaction:t,onTransactionsUpdate:n}){r.add(this),i.set(this,new Map),o.set(this,void 0),s.set(this,void 0),f(this,o,e,"f"),f(this,s,t,"f"),n(h(this,r,"m",a).bind(this))}},i=new WeakMap,o=new WeakMap,s=new WeakMap,r=new WeakSet,a=function(){const e=h(this,o,"f").call(this).filter((e=>e.status===w.TransactionStatus.unapproved)),t=new Set(e.map((e=>e.id)));new Set([...t,...h(this,i,"f").keys()]).forEach((t=>{const n=e.find((e=>e.id===t));n?.isActive?h(this,r,"m",c).call(this,n):h(this,r,"m",l).call(this,t)}))},c=function(e){const{id:t}=e;if(h(this,i,"f").has(t))return;const o=()=>{h(this,s,"f").call(this,e).catch((e=>{v("Error during transaction resimulation",e)})).finally((()=>{h(this,i,"f").has(t)&&h(this,r,"m",u).call(this,t,o)}))};h(this,r,"m",u).call(this,t,o),v(`Started resimulating transaction ${t} every ${n.RESIMULATE_INTERVAL_MS} milliseconds`)},u=function(e,t){const r=setTimeout(t,n.RESIMULATE_INTERVAL_MS);h(this,i,"f").set(e,r)},l=function(e){h(this,i,"f").has(e)&&(h(this,r,"m",d).call(this,e),v(`Stopped resimulating transaction ${e} every ${n.RESIMULATE_INTERVAL_MS} milliseconds`))},d=function(e){const t=h(this,i,"f").get(e);t&&(clearTimeout(t),h(this,i,"f").delete(e))},n.shouldResimulate=function(e,t){const{id:r}=t,i=function(e,t){const{id:r,txParams:i}=t,{txParams:o}=e;if(!o||(0,g.isEqual)(o,i))return!1;const s=Object.keys(i).filter((e=>i[e]!==o[e]));return v("Transaction parameters updated",{transactionId:r,updatedProperties:s,originalParams:o,newParams:i}),n.RESIMULATE_PARAMS.some((e=>s.includes(e)))}(e,t),o=function(e,t){const{securityAlertResponse:r}=e,{id:i,securityAlertResponse:o}=t;if((0,g.isEqual)(r,o))return!1;return v("Security alert updated",{transactionId:i,originalSecurityAlertResponse:r,newSecurityAlertResponse:o}),o?.result_type===n.BLOCKAID_RESULT_TYPE_MALICIOUS}(e,t),s=function(e,t){const{simulationData:n}=e,{simulationData:r,txParams:i}=t;if(!r||(0,g.isEqual)(n,r))return!1;return!A(i?.value??"0x0",r?.nativeBalanceChange?.difference??"0x0",!1,!1===r?.nativeBalanceChange?.isDecrease)}(e,t),a=i||o||s;let c;if(o||s){c=Math.floor(Date.now()/1e3)+n.BLOCK_TIME_ADDITIONAL_SECONDS}return a&&v("Transaction should be resimulated",{transactionId:r,blockTime:c,parametersUpdated:i,securityAlert:o,valueAndNativeBalanceMismatch:s}),{blockTime:c,resimulate:a}},n.hasSimulationDataChanged=function(e,t){if((0,g.isEqual)(e,t))return!1;if(E(e?.nativeBalanceChange,t?.nativeBalanceChange))return v("Simulation data native balance changed"),!0;if(e.tokenBalanceChanges.length!==t.tokenBalanceChanges.length)return!0;for(const n of e.tokenBalanceChanges){const e=t.tokenBalanceChanges.find((({address:e,id:t})=>e===n.address&&t===n.id));if(!e)return v("Missing new token balance",{address:n.address,id:n.id}),!0;if(E(n,e))return v("Simulation data token balance changed",{originalTokenBalanceChange:n,newTokenBalanceChange:e}),!0}return!1}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/ResimulateHelper.cjs"}],[2902,{"../logger.cjs":2906,"../utils/feature-flags.cjs":2911,"@metamask/utils":2950,lodash:4855},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d,f,h,p,m,g,y=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},w=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionPoller=void 0;const b=e("@metamask/utils"),v=e("lodash"),E=e("../logger.cjs"),A=e("../utils/feature-flags.cjs"),T=(0,b.createModuleLogger)(E.projectLogger,"transaction-poller");n.TransactionPoller=class{constructor({blockTracker:e,chainId:t,messenger:n}){r.add(this),i.set(this,0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,!1),f.set(this,void 0),y(this,o,e,"f"),y(this,s,t,"f"),y(this,a,n,"f")}start(e){w(this,d,"f")||(y(this,u,e,"f"),y(this,d,!0,"f"),w(this,r,"m",h).call(this),T("Started"))}stop(){w(this,d,"f")&&(y(this,d,!1,"f"),y(this,u,undefined,"f"),y(this,i,0,"f"),y(this,l,undefined,"f"),w(this,r,"m",m).call(this),w(this,r,"m",g).call(this),T("Stopped"))}setPendingTransactions(e){const t=(w(this,l,"f")??[]).map((e=>e.id));y(this,l,e,"f");const n=e.map((e=>e.id)),o=!(0,v.isEqual)(t,n);w(this,d,"f")&&o&&(T("Detected new pending transactions",n),y(this,i,0,"f"),w(this,c,"f")&&(w(this,r,"m",g).call(this),w(this,r,"m",h).call(this)))}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,f=new WeakMap,r=new WeakSet,h=function e(){if(!w(this,d,"f"))return;const{countMax:t,intervalMs:n}=(0,A.getAcceleratedPollingParams)(w(this,s,"f"),w(this,a,"f"));if(w(this,i,"f")>=t)return y(this,c,(e=>w(this,r,"m",p).call(this,!1,e)),"f"),w(this,o,"f").on("latest",w(this,c,"f")),void T("Added block tracker listener");w(this,r,"m",m).call(this),y(this,f,setTimeout((async()=>{await w(this,r,"m",p).call(this,!0),w(this,r,"m",e).call(this)}),n),"f")},p=async function(e,t){e?T("Accelerated interval",w(this,i,"f")+1):T("Block tracker interval",t);const n=t??await w(this,o,"f").getLatestBlock();await(w(this,u,"f")?.call(this,n)),e&&w(this,d,"f")&&y(this,i,w(this,i,"f")+1,"f")},m=function(){w(this,f,"f")&&(clearTimeout(w(this,f,"f")),y(this,f,undefined,"f"))},g=function(){w(this,c,"f")&&(w(this,o,"f").removeListener("latest",w(this,c,"f")),y(this,c,undefined,"f"))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/helpers/TransactionPoller.cjs"}],[2903,{"../logger.cjs":2906,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},l=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CollectPublishHook=void 0;const d=e("@metamask/utils"),f=e("../logger.cjs"),h=(0,d.createModuleLogger)(f.projectLogger,"collect-publish-hook");n.CollectPublishHook=class{constructor(e){r.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),u(this,i,[],"f"),u(this,a,(0,d.createDeferredPromise)(),"f"),u(this,o,[],"f"),u(this,s,e,"f")}getHook(){return l(this,r,"m",c).bind(this)}ready(){return l(this,a,"f").promise}success(e){if(h("Success",{transactionHashes:e}),e.length!==l(this,s,"f"))throw new Error("Transaction hash count mismatch");for(let t=0;t<l(this,i,"f").length;t++){const n=l(this,i,"f")[t],r=e[t];n.resolve({transactionHash:r})}}error(e){h("Error",{error:e});for(const t of l(this,i,"f"))t.reject(e)}},i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,r=new WeakSet,c=function(e,t){l(this,o,"f").push(t),h("Processing transaction",{transactionMeta:e,signedTx:t});const n=(0,d.createDeferredPromise)();return l(this,i,"f").push(n),l(this,o,"f").length===l(this,s,"f")&&(h("All transactions signed"),l(this,a,"f").resolve({signedTransactions:l(this,o,"f")})),n.promise}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/hooks/CollectPublishHook.cjs"}],[2904,{"../logger.cjs":2906,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.ExtraTransactionsPublishHook=void 0;const u=e("@metamask/utils"),l=e("../logger.cjs"),d=(0,u.createModuleLogger)(l.projectLogger,"extra-transactions-publish-hook");n.ExtraTransactionsPublishHook=class{constructor({addTransactionBatch:e,transactions:t}){r.add(this),i.set(this,void 0),o.set(this,void 0),a(this,i,e,"f"),a(this,o,t,"f")}getHook(){return c(this,r,"m",s).bind(this)}},i=new WeakMap,o=new WeakMap,r=new WeakSet,s=async function(e,t){d("Publishing transaction as batch",{transactionMeta:e,signedTx:t});const{id:n,networkClientId:r,txParams:s}=e,a=s.from,l=s.to,f=s.data,h=s.value,p=s.gas,m=s.maxFeePerGas,g=s.maxPriorityFeePerGas,y=t,w=(0,u.createDeferredPromise)(),b=[{existingTransaction:{id:n,onPublish:({transactionHash:e})=>{w.resolve({transactionHash:e})},signedTransaction:y},params:{data:f,gas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,to:l,value:h}},...c(this,o,"f").map((e=>({params:e})))];return d("Adding transaction batch",{from:a,networkClientId:r,transactions:b}),await c(this,i,"f").call(this,{from:a,networkClientId:r,transactions:b,useHook:!0}),w.promise}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/hooks/ExtraTransactionsPublishHook.cjs"}],[2905,{"./TransactionController.cjs":2884,"./constants.cjs":2886,"./helpers/AccountsApiRemoteTransactionSource.cjs":2895,"./types.cjs":2907,"./utils/gas-flow.cjs":2913,"./utils/history.cjs":2915,"./utils/prepare.cjs":2918,"./utils/transaction-type.cjs":2924,"./utils/utils.cjs":2925},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HARDFORK=n.INCOMING_TRANSACTIONS_SUPPORTED_CHAIN_IDS=n.CHAIN_IDS=n.normalizeTransactionParams=n.isEIP1559Transaction=n.mergeGasFeeEstimates=n.determineTransactionType=n.MAX_TRANSACTION_HISTORY_LENGTH=n.DISPLAYED_TRANSACTION_HISTORY_PATHS=n.WalletDevice=n.UserFeeLevel=n.TransactionType=n.TransactionStatus=n.TransactionEnvelopeType=n.SimulationTokenStandard=n.SimulationErrorCode=n.GasFeeEstimateType=n.GasFeeEstimateLevel=n.TransactionController=n.SPEED_UP_RATE=n.CANCEL_RATE=void 0;var r=e("./TransactionController.cjs");Object.defineProperty(n,"CANCEL_RATE",{enumerable:!0,get:function(){return r.CANCEL_RATE}}),Object.defineProperty(n,"SPEED_UP_RATE",{enumerable:!0,get:function(){return r.SPEED_UP_RATE}}),Object.defineProperty(n,"TransactionController",{enumerable:!0,get:function(){return r.TransactionController}});var i=e("./types.cjs");Object.defineProperty(n,"GasFeeEstimateLevel",{enumerable:!0,get:function(){return i.GasFeeEstimateLevel}}),Object.defineProperty(n,"GasFeeEstimateType",{enumerable:!0,get:function(){return i.GasFeeEstimateType}}),Object.defineProperty(n,"SimulationErrorCode",{enumerable:!0,get:function(){return i.SimulationErrorCode}}),Object.defineProperty(n,"SimulationTokenStandard",{enumerable:!0,get:function(){return i.SimulationTokenStandard}}),Object.defineProperty(n,"TransactionEnvelopeType",{enumerable:!0,get:function(){return i.TransactionEnvelopeType}}),Object.defineProperty(n,"TransactionStatus",{enumerable:!0,get:function(){return i.TransactionStatus}}),Object.defineProperty(n,"TransactionType",{enumerable:!0,get:function(){return i.TransactionType}}),Object.defineProperty(n,"UserFeeLevel",{enumerable:!0,get:function(){return i.UserFeeLevel}}),Object.defineProperty(n,"WalletDevice",{enumerable:!0,get:function(){return i.WalletDevice}});var o=e("./utils/history.cjs");Object.defineProperty(n,"DISPLAYED_TRANSACTION_HISTORY_PATHS",{enumerable:!0,get:function(){return o.DISPLAYED_TRANSACTION_HISTORY_PATHS}}),Object.defineProperty(n,"MAX_TRANSACTION_HISTORY_LENGTH",{enumerable:!0,get:function(){return o.MAX_TRANSACTION_HISTORY_LENGTH}});var s=e("./utils/transaction-type.cjs");Object.defineProperty(n,"determineTransactionType",{enumerable:!0,get:function(){return s.determineTransactionType}});var a=e("./utils/gas-flow.cjs");Object.defineProperty(n,"mergeGasFeeEstimates",{enumerable:!0,get:function(){return a.mergeGasFeeEstimates}});var c=e("./utils/utils.cjs");Object.defineProperty(n,"isEIP1559Transaction",{enumerable:!0,get:function(){return c.isEIP1559Transaction}}),Object.defineProperty(n,"normalizeTransactionParams",{enumerable:!0,get:function(){return c.normalizeTransactionParams}});var u=e("./constants.cjs");Object.defineProperty(n,"CHAIN_IDS",{enumerable:!0,get:function(){return u.CHAIN_IDS}});var l=e("./helpers/AccountsApiRemoteTransactionSource.cjs");Object.defineProperty(n,"INCOMING_TRANSACTIONS_SUPPORTED_CHAIN_IDS",{enumerable:!0,get:function(){return l.SUPPORTED_CHAIN_IDS}});var d=e("./utils/prepare.cjs");Object.defineProperty(n,"HARDFORK",{enumerable:!0,get:function(){return d.HARDFORK}})}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/index.cjs"}],[2906,{"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.incomingTransactionsLogger=n.projectLogger=void 0;const r=e("@metamask/utils");Object.defineProperty(n,"createModuleLogger",{enumerable:!0,get:function(){return r.createModuleLogger}}),n.projectLogger=(0,r.createProjectLogger)("transaction-controller"),n.incomingTransactionsLogger=(0,r.createModuleLogger)(n.projectLogger,"incoming-transactions")}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/logger.cjs"}],[2907,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o,s,a,c,u,l,d;Object.defineProperty(n,"__esModule",{value:!0}),n.SimulationErrorCode=n.SimulationTokenStandard=n.GasFeeEstimateType=n.GasFeeEstimateLevel=n.UserFeeLevel=n.TransactionEnvelopeType=n.TransactionType=n.WalletDevice=n.TransactionStatus=void 0,function(e){e.unapproved="unapproved",e.approved="approved",e.signed="signed",e.submitted="submitted",e.confirmed="confirmed",e.failed="failed",e.dropped="dropped",e.rejected="rejected",e.cancelled="cancelled"}(r||(n.TransactionStatus=r={})),function(e){e.MM_MOBILE="metamask_mobile",e.MM_EXTENSION="metamask_extension",e.OTHER="other_device"}(i||(n.WalletDevice=i={})),function(e){e.batch="batch",e.bridge="bridge",e.bridgeApproval="bridgeApproval",e.cancel="cancel",e.contractInteraction="contractInteraction",e.deployContract="contractDeployment",e.ethDecrypt="eth_decrypt",e.ethGetEncryptionPublicKey="eth_getEncryptionPublicKey",e.incoming="incoming",e.personalSign="personal_sign",e.retry="retry",e.revokeDelegation="revokeDelegation",e.simpleSend="simpleSend",e.signTypedData="eth_signTypedData",e.smart="smart",e.stakingClaim="stakingClaim",e.stakingDeposit="stakingDeposit",e.stakingUnstake="stakingUnstake",e.swap="swap",e.swapAndSend="swapAndSend",e.swapApproval="swapApproval",e.tokenMethodApprove="approve",e.tokenMethodSafeTransferFrom="safetransferfrom",e.tokenMethodTransfer="transfer",e.tokenMethodTransferFrom="transferfrom",e.tokenMethodSetApprovalForAll="setapprovalforall",e.tokenMethodIncreaseAllowance="increaseAllowance"}(o||(n.TransactionType=o={})),function(e){e.legacy="0x0",e.accessList="0x1",e.feeMarket="0x2",e.setCode="0x4"}(s||(n.TransactionEnvelopeType=s={})),function(e){e.CUSTOM="custom",e.DAPP_SUGGESTED="dappSuggested",e.MEDIUM="medium"}(a||(n.UserFeeLevel=a={})),function(e){e.Low="low",e.Medium="medium",e.High="high"}(c||(n.GasFeeEstimateLevel=c={})),function(e){e.FeeMarket="fee-market",e.Legacy="legacy",e.GasPrice="eth_gasPrice"}(u||(n.GasFeeEstimateType=u={})),function(e){e.erc20="erc20",e.erc721="erc721",e.erc1155="erc1155"}(l||(n.SimulationTokenStandard=l={})),function(e){e.ChainNotSupported="chain-not-supported",e.Disabled="disabled",e.InvalidResponse="invalid-response",e.Reverted="reverted"}(d||(n.SimulationErrorCode=d={}))}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/types.cjs"}],[2908,{"../hooks/CollectPublishHook.cjs":2903,"../index.cjs":2905,"../logger.cjs":2906,"../types.cjs":2907,"./eip7702.cjs":2909,"./feature-flags.cjs":2911,"./validation.cjs":2926,"@metamask/rpc-errors":2554,"@metamask/utils":2950,uuid:5663},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isAtomicBatchSupported=n.addTransactionBatch=void 0;const r=e("@metamask/rpc-errors"),i=e("@metamask/utils"),o=e("uuid"),s=e("./eip7702.cjs"),a=e("./feature-flags.cjs"),c=e("./validation.cjs"),u=e("../index.cjs"),l=e("../hooks/CollectPublishHook.cjs"),d=e("../logger.cjs"),f=e("../types.cjs"),h=(0,i.createModuleLogger)(d.projectLogger,"batch");function p(){const e=(0,o.v4)(),t=new Uint8Array((0,o.parse)(e));return(0,i.bytesToHex)(t)}async function m(e,t,n,r){const{existingTransaction:i,params:o}=t,{addTransaction:s,getTransaction:a,request:c,updateTransaction:u}=r,{from:l,networkClientId:d}=c;if(i){const{id:t,onPublish:r,signedTransaction:s}=i,c=a(t);return u({transactionId:t},(t=>{t.batchId=e})),n(c,s).then(r).catch((()=>{})),h("Processed existing transaction with hook",{id:t,params:o}),{id:t,params:o}}const{transactionMeta:f}=await s({...o,from:l},{batchId:e,disableGasBuffer:!0,networkClientId:d,publishHook:n,requireApproval:!1}),{id:p,txParams:m}=f,g={data:m.data,gas:m.gas,maxFeePerGas:m.maxFeePerGas,maxPriorityFeePerGas:m.maxPriorityFeePerGas,to:m.to,value:m.value};return h("Processed new transaction with hook",{id:p,params:g}),{id:p,params:g}}n.addTransactionBatch=async function(e){const{addTransaction:t,getChainId:n,getInternalAccounts:i,messenger:o,publicKeyEIP7702:d,request:g}=e,y=(0,a.getBatchSizeLimit)(o);(0,c.validateBatchRequest)({internalAccounts:i(),request:g,sizeLimit:y});const{batchId:w,from:b,networkClientId:v,requireApproval:E,securityAlertId:A,transactions:T,useHook:x,validateSecurity:S}=g;if(h("Adding",g),x)return await async function(e){const{publishBatchHook:t,request:n}=e,{from:r,networkClientId:i,transactions:o}=n;if(h("Adding transaction batch using hook",n),!t)throw h("No publish batch hook provided"),new Error("No publish batch hook provided");const s=p(),a=o.length,c=new l.CollectPublishHook(a),u=c.getHook(),d=[];try{for(const t of o){const n=await m(s,t,u,e);d.push(n)}const{signedTransactions:n}=await c.ready(),a=d.map(((e,t)=>({...e,signedTx:n[t]})));h("Calling publish batch hook",{from:r,networkClientId:i,transactions:a});const l=await t({from:r,networkClientId:i,transactions:a});if(h("Publish batch hook result",l),!l)throw new Error("Publish batch hook did not return a result");const f=l.results.map((({transactionHash:e})=>e));return c.success(f),h("Completed batch transaction with hook",f),{batchId:s}}catch(e){throw h("Publish batch hook failed",e),c.error(e),e}}(e);const k=n(v),I=e.getEthQuery(v);if(!(0,s.doesChainSupportEIP7702)(k,o))throw h("Chain does not support EIP-7702",k),r.rpcErrors.internal("Chain does not support EIP-7702");if(!d)throw r.rpcErrors.internal("EIP-7702 public key not specified");const{delegationAddress:C,isSupported:j}=await(0,s.isAccountUpgradedToEIP7702)(b,k,d,o,I);if(h("Account",{delegationAddress:C,isSupported:j}),!j&&C)throw h("Account upgraded to unsupported contract",b,C),r.rpcErrors.internal("Account upgraded to unsupported contract");const P=await Promise.all(T.map((e=>async function(e,t,n){const{from:r}=e,{params:i}=t,{type:o}=await(0,u.determineTransactionType)({from:r,...i},n);return{...i,type:o}}(g,e,I)))),_={from:b,...(0,s.generateEIP7702BatchTransaction)(b,P)};if(!j){const e=(0,a.getEIP7702UpgradeContractAddress)(k,o,d);if(!e)throw r.rpcErrors.internal("Upgrade contract address not found");_.type=f.TransactionEnvelopeType.setCode,_.authorizationList=[{address:e}]}if(S){const e={method:"eth_sendTransaction",params:[{..._,authorizationList:undefined,type:f.TransactionEnvelopeType.feeMarket}],delegationMock:_.authorizationList?.[0]?.address};h("Security request",e),S(e,k).catch((e=>{h("Security validation failed",e)}))}h("Adding batch transaction",_,v);const O=w??p(),B=A?{securityAlertId:A}:undefined,{result:R}=await t(_,{batchId:O,nestedTransactions:P,networkClientId:v,requireApproval:E,securityAlertResponse:B,type:f.TransactionType.batch});return await R,{batchId:O}},n.isAtomicBatchSupported=async function(e){const{address:t,chainIds:n,getEthQuery:i,messenger:o,publicKeyEIP7702:c}=e;if(!c)throw r.rpcErrors.internal("EIP-7702 public key not specified");const u=(0,a.getEIP7702SupportedChains)(o).filter((e=>!n||n.includes(e))),l=await Promise.all(u.map((async e=>{const n=i(e),{isSupported:r,delegationAddress:u}=await(0,s.isAccountUpgradedToEIP7702)(t,e,c,o,n);return{chainId:e,delegationAddress:u,isSupported:r,upgradeContractAddress:(0,a.getEIP7702UpgradeContractAddress)(e,o,c)}})));return h("Atomic batch supported results",l),l}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/batch.cjs"}],[2909,{"../constants.cjs":2886,"../logger.cjs":2906,"./feature-flags.cjs":2911,"@ethersproject/abi":484,"@ethersproject/contracts":507,"@metamask/controller-utils":1474,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.signAuthorizationList=n.generateEIP7702BatchTransaction=n.isAccountUpgradedToEIP7702=n.getDelegationAddress=n.doesChainSupportEIP7702=n.CALLS_SIGNATURE=n.BATCH_FUNCTION_NAME=n.DELEGATION_PREFIX=void 0;const r=e("@ethersproject/abi"),i=e("@ethersproject/contracts"),o=e("@metamask/controller-utils"),s=e("@metamask/utils"),a=e("./feature-flags.cjs"),c=e("../constants.cjs"),u=e("../logger.cjs");n.DELEGATION_PREFIX="0xef0100",n.BATCH_FUNCTION_NAME="execute",n.CALLS_SIGNATURE="(address,uint256,bytes)[]";const l=["gas","maxFeePerGas","maxPriorityFeePerGas"],d=(0,s.createModuleLogger)(u.projectLogger,"eip-7702");async function f(e,t){const r=await(0,o.query)(t,"eth_getCode",[e]),i=(0,s.add0x)(r?.toLowerCase?.()??"");return 48===r?.length&&i.startsWith(n.DELEGATION_PREFIX)?(0,s.add0x)(i.slice(n.DELEGATION_PREFIX.length)):undefined}async function h(e,t,n,r){const i=function(e,t,n){const{chainId:r,nonce:i}=e,{txParams:s,chainId:a}=t,{nonce:c}=s,u=r??a;let l=i;l===undefined&&(l=(0,o.toHex)(parseInt(c,16)+1+n));const f={...e,chainId:u,nonce:l};return d("Prepared authorization",f),f}(e,t,r),{txParams:s}=t,{from:a}=s,{address:c,chainId:u,nonce:l}=i,f=parseInt(u,16),h=parseInt(l,16),p=await n.call("KeyringController:signEip7702Authorization",{chainId:f,contractAddress:c,from:a,nonce:h}),m={address:c,chainId:u,nonce:0===h?"0x":l,r:p.slice(0,66),s:`0x${p.slice(66,130)}`,yParity:parseInt(p.slice(130,132),16)-27==0?"0x":"0x1"};return d("Signed authorization",m),m}n.doesChainSupportEIP7702=function(e,t){return(0,a.getEIP7702SupportedChains)(t).some((t=>t.toLowerCase()===e.toLowerCase()))},n.getDelegationAddress=f,n.isAccountUpgradedToEIP7702=async function(e,t,n,r,i){const o=(0,a.getEIP7702ContractAddresses)(t,r,n),s=await f(e,i),c=Boolean(s&&o.some((e=>e.toLowerCase()===s.toLowerCase())));return{delegationAddress:s,isSupported:c}},n.generateEIP7702BatchTransaction=function(e,t){const o=i.Contract.getInterface(c.ABI_IERC7821),s=t.map((e=>{const{data:t,to:n,value:r}=e,i=l.filter((t=>e[t]!==undefined));if(i.length){const t=i.map((t=>`${t}: ${e[t]}`)).join(", ");throw new Error(`EIP-7702 batch transactions do not support gas parameters per call - ${t}`)}return[n??"0x0000000000000000000000000000000000000000",r??"0x0",t??"0x"]})),a="0x01".padEnd(66,"0"),u=r.defaultAbiCoder.encode([n.CALLS_SIGNATURE],[s]),f=o.encodeFunctionData(n.BATCH_FUNCTION_NAME,[a,u]);return d("Transaction data",f),{data:f,to:e}},n.signAuthorizationList=async function({authorizationList:e,messenger:t,transactionMeta:n}){if(!e)return undefined;const r=[];let i=0;for(const o of e){const e=await h(o,n,t,i);r.push(e),i+=1}return r}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/eip7702.cjs"}],[2910,{"../types.cjs":2907,"@metamask/rpc-errors":2554},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateConfirmedExternalTransaction=void 0;const r=e("@metamask/rpc-errors"),i=e("../types.cjs");n.validateConfirmedExternalTransaction=function(e,t,n){if(!e||!e.txParams)throw r.rpcErrors.invalidParams('"transactionMeta" or "transactionMeta.txParams" is missing');if(e.status!==i.TransactionStatus.confirmed)throw r.rpcErrors.invalidParams('External transaction status should be "confirmed"');const o=e.txParams.nonce;if(n&&n.length>0){if(n.find((e=>e.txParams?.nonce===o)))throw r.rpcErrors.invalidParams("External transaction nonce should not be in pending txs")}if(t&&t.length>0){if(t.find((e=>e.txParams?.nonce===o)))throw r.rpcErrors.invalidParams("External transaction nonce should not be in confirmed txs")}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/external-transactions.cjs"}],[2911,{"../logger.cjs":2906,"./signature.cjs":2920,"./utils.cjs":2925,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getGasEstimateBuffer=n.getGasFeeRandomisation=n.getAcceleratedPollingParams=n.getBatchSizeLimit=n.getEIP7702UpgradeContractAddress=n.getEIP7702ContractAddresses=n.getEIP7702SupportedChains=n.FeatureFlag=void 0;const r=e("@metamask/utils"),i=e("./signature.cjs"),o=e("./utils.cjs"),s=e("../logger.cjs");var a;!function(e){e.EIP7702="confirmations_eip_7702",e.GasBuffer="confirmations_gas_buffer",e.Transactions="confirmations_transactions"}(a||(n.FeatureFlag=a={}));const c=(0,r.createModuleLogger)(s.projectLogger,"feature-flags");function u(e,t,n){const r=l(t);return(r?.[a.EIP7702]?.contracts?.[e.toLowerCase()]??[]).filter((t=>(0,i.isValidSignature)([t.address,(0,o.padHexToEvenLength)(e)],t.signature,n))).map((e=>e.address))}function l(e){const t=e.call("RemoteFeatureFlagController:getState").remoteFeatureFlags;return c("Retrieved feature flags",t),t}n.getEIP7702SupportedChains=function(e){const t=l(e);return t?.[a.EIP7702]?.supportedChains??[]},n.getEIP7702ContractAddresses=u,n.getEIP7702UpgradeContractAddress=function(e,t,n){return u(e,t,n)?.[0]},n.getBatchSizeLimit=function(e){const t=l(e);return t?.[a.Transactions]?.batchSizeLimit??10},n.getAcceleratedPollingParams=function(e,t){const n=l(t),r=n?.[a.Transactions]?.acceleratedPolling;return{countMax:r?.perChainConfig?.[e]?.countMax||r?.defaultCountMax||10,intervalMs:r?.perChainConfig?.[e]?.intervalMs||r?.defaultIntervalMs||3e3}},n.getGasFeeRandomisation=function(e){const t=l(e),n=t?.[a.Transactions]?.gasFeeRandomisation||{};return{randomisedGasFeeDigits:n.randomisedGasFeeDigits||{},preservedNumberOfDigits:n.preservedNumberOfDigits}},n.getGasEstimateBuffer=function({chainId:e,isCustomRPC:t,isUpgradeWithDataToSelf:n,messenger:r}){const i=l(r),o=i?.[a.GasBuffer],s=o?.perChainConfig?.[e],c=t?undefined:s?.included,u=t?undefined:o?.included;return(n?s?.eip7702:undefined)??c??s?.base??u??o?.default??1}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/feature-flags.cjs"}],[2912,{"../logger.cjs":2906,"../types.cjs":2907,"./gas-flow.cjs":2913,"./swaps.cjs":2923,"@metamask/controller-utils":1474,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.gweiDecimalToWeiDecimal=n.gweiDecimalToWeiHex=n.updateGasFees=void 0;const r=e("@metamask/controller-utils"),i=e("@metamask/utils"),o=e("./gas-flow.cjs"),s=e("./swaps.cjs"),a=e("../logger.cjs"),c=e("../types.cjs"),u=(0,i.createModuleLogger)(a.projectLogger,"gas-fees");function l(e){return(0,r.toHex)((0,r.gweiDecToWEIBN)(e))}n.updateGasFees=async function(e){const{txMeta:t}=e,n={...t.txParams},a=s.SWAP_TRANSACTION_TYPES.includes(t.type)?undefined:e.getSavedGasFees(t.chainId),d=await async function(e){const{eip1559:t,ethQuery:n,gasFeeFlows:s,getGasFeeEstimates:a,messenger:l,txMeta:d}=e,{networkClientId:f}=d;if(!t&&d.txParams.gasPrice||t&&d.txParams.maxFeePerGas&&d.txParams.maxPriorityFeePerGas)return{};const h=(0,o.getGasFeeFlow)(d,s,l);try{const e=await a({networkClientId:f}),t=await h.getGasFees({ethQuery:n,gasFeeControllerData:e,messenger:l,transactionMeta:d}),r=t.estimates?.type;switch(r){case c.GasFeeEstimateType.FeeMarket:return t.estimates.medium;case c.GasFeeEstimateType.Legacy:return{gasPrice:t.estimates.medium};case c.GasFeeEstimateType.GasPrice:return{gasPrice:t.estimates.gasPrice};default:throw new Error(`Unsupported gas fee estimate type returned from flow: ${r}`)}}catch(e){u("Failed to get suggested gas fees",e)}const p=await(0,r.query)(n,"gasPrice");return{gasPrice:p?(0,i.add0x)(p.toString(16)):undefined}}(e);u("Suggested gas fees",d);const f={...e,initialParams:n,savedGasFees:a,suggestedGasFees:d};t.txParams.maxFeePerGas=function(e){const{savedGasFees:t,eip1559:n,initialParams:r,suggestedGasFees:i}=e;if(!n)return undefined;if(t){const e=l(t.maxBaseFee);return u("Using maxFeePerGas from savedGasFees",e),e}if(r.maxFeePerGas)return u("Using maxFeePerGas from request",r.maxFeePerGas),r.maxFeePerGas;if(r.gasPrice&&!r.maxPriorityFeePerGas)return u("Setting maxFeePerGas to gasPrice from request",r.gasPrice),r.gasPrice;if(i.maxFeePerGas)return u("Using suggested maxFeePerGas",i.maxFeePerGas),i.maxFeePerGas;if(i.gasPrice)return u("Setting maxFeePerGas to suggested gasPrice",i.gasPrice),i.gasPrice;return u("maxFeePerGas not set"),undefined}(f),t.txParams.maxPriorityFeePerGas=function(e){const{eip1559:t,initialParams:n,savedGasFees:r,suggestedGasFees:i,txMeta:o}=e;if(!t)return undefined;if(r){const e=l(r.priorityFee);return u("Using maxPriorityFeePerGas from savedGasFees.priorityFee",e),e}if(n.maxPriorityFeePerGas)return u("Using maxPriorityFeePerGas from request",n.maxPriorityFeePerGas),n.maxPriorityFeePerGas;if(n.gasPrice&&!n.maxFeePerGas)return u("Setting maxPriorityFeePerGas to gasPrice from request",n.gasPrice),n.gasPrice;if(i.maxPriorityFeePerGas)return u("Using suggested maxPriorityFeePerGas",i.maxPriorityFeePerGas),i.maxPriorityFeePerGas;if(o.txParams.maxFeePerGas)return u("Setting maxPriorityFeePerGas to maxFeePerGas",o.txParams.maxFeePerGas),o.txParams.maxFeePerGas;return u("maxPriorityFeePerGas not set"),undefined}(f),t.txParams.gasPrice=function(e){const{eip1559:t,initialParams:n,suggestedGasFees:r}=e;if(t)return undefined;if(n.gasPrice)return u("Using gasPrice from request",n.gasPrice),n.gasPrice;if(r.maxFeePerGas)return u("Using suggested maxFeePerGas",r.maxFeePerGas),r.maxFeePerGas;if(r.gasPrice)return u("Using suggested gasPrice",r.gasPrice),r.gasPrice;return u("gasPrice not set"),undefined}(f),t.userFeeLevel=function(e){const{eip1559:t,initialParams:n,savedGasFees:i,suggestedGasFees:o,txMeta:s}=e;if(!t)return undefined;if(i)return c.UserFeeLevel.CUSTOM;if(!n.maxFeePerGas&&!n.maxPriorityFeePerGas&&n.gasPrice)return s.origin===r.ORIGIN_METAMASK?c.UserFeeLevel.CUSTOM:c.UserFeeLevel.DAPP_SUGGESTED;if(!n.maxFeePerGas&&!n.maxPriorityFeePerGas&&o.maxFeePerGas&&o.maxPriorityFeePerGas)return c.UserFeeLevel.MEDIUM;if(s.origin===r.ORIGIN_METAMASK)return c.UserFeeLevel.MEDIUM;return c.UserFeeLevel.DAPP_SUGGESTED}(f),u("Updated gas fee properties",{maxFeePerGas:t.txParams.maxFeePerGas,maxPriorityFeePerGas:t.txParams.maxPriorityFeePerGas,gasPrice:t.txParams.gasPrice}),(t.txParams.maxFeePerGas||t.txParams.maxPriorityFeePerGas)&&delete t.txParams.gasPrice,t.txParams.gasPrice&&(delete t.txParams.maxFeePerGas,delete t.txParams.maxPriorityFeePerGas),function(e){e.defaultGasEstimates||(e.defaultGasEstimates={});e.defaultGasEstimates.maxFeePerGas=e.txParams.maxFeePerGas,e.defaultGasEstimates.maxPriorityFeePerGas=e.txParams.maxPriorityFeePerGas,e.defaultGasEstimates.gasPrice=e.txParams.gasPrice,e.defaultGasEstimates.estimateType=e.userFeeLevel}(t)},n.gweiDecimalToWeiHex=l,n.gweiDecimalToWeiDecimal=function(e){const t="string"==typeof e?e:String(e);return(1e9*Number(t)).toString()}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas-fees.cjs"}],[2913,{"../types.cjs":2907,"@metamask/controller-utils":1474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeGasFeeEstimates=n.getGasFeeFlow=void 0;const r=e("@metamask/controller-utils"),i=e("../types.cjs");function o(e,t){return(0,r.weiHexToGweiDec)(e[t])}n.getGasFeeFlow=function(e,t,n){return t.find((t=>t.matchesTransaction({transactionMeta:e,messenger:n})))},n.mergeGasFeeEstimates=function({gasFeeControllerEstimates:e,transactionGasFeeEstimates:t}){const n=t.type;return n===i.GasFeeEstimateType.FeeMarket?Object.values(i.GasFeeEstimateLevel).reduce(((n,i)=>{return{...n,[i]:(o=e?.[i],s=t[i],{...o,suggestedMaxFeePerGas:(0,r.weiHexToGweiDec)(s.maxFeePerGas),suggestedMaxPriorityFeePerGas:(0,r.weiHexToGweiDec)(s.maxPriorityFeePerGas)})};var o,s}),{...e}):n===i.GasFeeEstimateType.Legacy?Object.values(i.GasFeeEstimateLevel).reduce(((e,n)=>({...e,[n]:o(t,n)})),{}):n===i.GasFeeEstimateType.GasPrice?{gasPrice:(s=t,(0,r.weiHexToGweiDec)(s.gasPrice))}:e;var s}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas-flow.cjs"}],[2914,{"../logger.cjs":2906,"../types.cjs":2907,"./eip7702.cjs":2909,"./feature-flags.cjs":2911,"./simulation-api.cjs":2921,"@metamask/controller-utils":1474,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addGasBuffer=n.estimateGas=n.updateGas=n.DUMMY_AUTHORIZATION_SIGNATURE=n.INTRINSIC_GAS=n.MAX_GAS_BLOCK_PERCENT=n.GAS_ESTIMATE_FALLBACK_BLOCK_PERCENT=n.DEFAULT_GAS_MULTIPLIER=n.FIXED_GAS=n.log=void 0;const r=e("@metamask/controller-utils"),i=e("@metamask/utils"),o=e("./eip7702.cjs"),s=e("./feature-flags.cjs"),a=e("./simulation-api.cjs"),c=e("../logger.cjs"),u=e("../types.cjs");async function l({chainId:e,ethQuery:t,isSimulationEnabled:s,txParams:c}){const l={...c},{authorizationList:d,data:f,from:h,value:p,to:m}=l,{gasLimit:g,number:y}=await async function(e){return await(0,r.query)(e,"getBlockByNumber",["latest",!1])}(t),w=(0,r.hexToBN)(g),b=(0,r.BNToHex)((0,r.fractionBN)(w,n.GAS_ESTIMATE_FALLBACK_BLOCK_PERCENT,100));l.data=f?(0,i.add0x)(f):f,l.value=p||"0x0",l.authorizationList=function(e,t){return e?.map((e=>({...e,chainId:e.chainId??t,nonce:e.nonce??"0x1",r:e.r??n.DUMMY_AUTHORIZATION_SIGNATURE,s:e.s??n.DUMMY_AUTHORIZATION_SIGNATURE,yParity:e.yParity??"0x1"})))}(l.authorizationList,e),delete l.gasPrice,delete l.maxFeePerGas,delete l.maxPriorityFeePerGas;let v,E=b;const A=c.type===u.TransactionEnvelopeType.setCode&&Boolean(d?.length)&&Boolean(f)&&"0x"!==f&&h?.toLowerCase()===m?.toLowerCase();try{E=s&&A?await async function(e,t,s){const c=await(0,r.query)(t,"estimateGas",[{...e,data:"0x"}]);(0,n.log)("Upgrade only gas",c);const u=e.authorizationList?.[0].address,l=await async function({chainId:e,delegationAddress:t,transaction:n}){const r=await(0,a.simulateTransactions)(e,{transactions:[{to:n.to,from:n.from,data:n.data,value:n.value}],overrides:{[n.from]:{code:t&&o.DELEGATION_PREFIX+(0,i.remove0x)(t)}}}),s=r?.transactions?.[0].gasUsed;if(!s)throw new Error("No simulated gas returned");return s}({chainId:s,delegationAddress:u,transaction:e});(0,n.log)("Execute gas",l);const d=(0,r.BNToHex)((0,r.hexToBN)(c).add((0,r.hexToBN)(l)).subn(n.INTRINSIC_GAS));return(0,n.log)("Total type 4 gas",d),d}(l,t,e):await(0,r.query)(t,"estimateGas",[l])}catch(e){v={reason:e.message,errorKey:e.errorKey,debug:{blockNumber:y,blockGasLimit:g}},(0,n.log)("Estimation failed",{...v,fallback:b})}return{blockGasLimit:g,estimatedGas:E,isUpgradeWithDataToSelf:A,simulationFails:v}}function d(e,t,o){const s=(0,r.hexToBN)(e),a=(0,r.fractionBN)((0,r.hexToBN)(t),n.MAX_GAS_BLOCK_PERCENT,100),c=(0,r.fractionBN)(s,100*o,100);if(s.gt(a)){const t=(0,i.add0x)(e);return(0,n.log)("Using estimated value",t),t}if(c.lt(a)){const e=(0,i.add0x)((0,r.BNToHex)(c));return(0,n.log)("Using padded estimate",e,o),e}const u=(0,i.add0x)((0,r.BNToHex)(a));return(0,n.log)("Using 90% of block gas limit",u),u}n.log=(0,i.createModuleLogger)(c.projectLogger,"gas"),n.FIXED_GAS="0x5208",n.DEFAULT_GAS_MULTIPLIER=1.5,n.GAS_ESTIMATE_FALLBACK_BLOCK_PERCENT=35,n.MAX_GAS_BLOCK_PERCENT=90,n.INTRINSIC_GAS=21e3,n.DUMMY_AUTHORIZATION_SIGNATURE="0x1111111111111111111111111111111111111111111111111111111111111111",n.updateGas=async function(e){const{txMeta:t}=e,i={...t.txParams},[o,a,c]=await async function(e){const{chainId:t,isCustomNetwork:i,isSimulationEnabled:o,messenger:a,txMeta:c}=e,{disableGasBuffer:u}=c;if(c.txParams.gas)return(0,n.log)("Using value from request",c.txParams.gas),[c.txParams.gas,undefined,c.txParams.gas];if(await async function({ethQuery:e,txMeta:t,isCustomNetwork:n}){const{txParams:{to:i,data:o}}=t;if(n||!i||o)return!1;const s=await async function(e,t){return await(0,r.query)(e,"getCode",[t])}(e,i);return!s||"0x"===s}(e))return(0,n.log)("Using fixed value",n.FIXED_GAS),[n.FIXED_GAS,undefined,n.FIXED_GAS];const{blockGasLimit:f,estimatedGas:h,isUpgradeWithDataToSelf:p,simulationFails:m}=await l({chainId:e.chainId,ethQuery:e.ethQuery,isSimulationEnabled:o,txParams:c.txParams});(0,n.log)("Original estimated gas",h),m&&(0,n.log)("Using original fallback estimate as simulation failed");u&&(0,n.log)("Gas buffer disabled");if(m||u)return[h,m,h];const g=(0,s.getGasEstimateBuffer)({chainId:t,isCustomRPC:i,isUpgradeWithDataToSelf:p,messenger:a});(0,n.log)("Buffer",g);const y=d(h,f,g);return(0,n.log)("Buffered gas",y),[y,m,h]}(e);t.txParams.gas=o,t.simulationFails=a,t.gasLimitNoBuffer=c,i.gas||(t.originalGasEstimate=t.txParams.gas),t.defaultGasEstimates||(t.defaultGasEstimates={}),t.defaultGasEstimates.gas=t.txParams.gas},n.estimateGas=l,n.addGasBuffer=d}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/gas.cjs"}],[2915,{"fast-json-patch":4433,lodash:4855},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.updateTransactionHistory=n.addInitialHistorySnapshot=n.DISPLAYED_TRANSACTION_HISTORY_PATHS=n.MAX_TRANSACTION_HISTORY_LENGTH=void 0;const i=r(e("fast-json-patch")),o=e("lodash");function s(e,t,n){const r=i.default.compare(e,t);return r[0]&&(n&&(r[0].note=n),r[0].timestamp=Date.now()),r}function a(e){return(0,o.cloneDeep)(e).reduce(((e,t)=>i.default.applyPatch(e,t).newDocument))}function c(e){const t={...e};return delete t.history,(0,o.cloneDeep)(t)}n.MAX_TRANSACTION_HISTORY_LENGTH=100,n.DISPLAYED_TRANSACTION_HISTORY_PATHS=["/status","/txParams/gasPrice","/txParams/gas","/estimatedBaseFee","/blockTimestamp"],n.addInitialHistorySnapshot=function(e){const t=c(e);return(0,o.merge)({},e,{history:[t]})},n.updateTransactionHistory=function(e,t){if(!e.history)return e;const r=c(e),i=s(a(e.history),r,t);if(0===i.length)return e;let u=[...e.history,i];return u.length>n.MAX_TRANSACTION_HISTORY_LENGTH&&(u=function(e){const t=e[0],r=e.slice(1),i=r.findIndex((e=>!e.some((({path:e})=>n.DISPLAYED_TRANSACTION_HISTORY_PATHS.includes(e)))));if(-1===i)return e;const o=i===r.length-1?i-1:i+1,c=Math.min(i,o),u=r[c],l=r[c+1],d=a([t,...r.slice(0,c)]),f=a([d,u,l]),h=s(d,f,`${String(u[0].note)}, ${String(l[0].note)}`);return r.splice(c,2,h),[t,...r]}(u)),(0,o.merge)({},e,{history:u})}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/history.cjs"}],[2916,{"../logger.cjs":2906,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTransactionLayer1GasFee=n.updateTransactionLayer1GasFee=void 0;const r=e("@metamask/utils"),i=e("../logger.cjs"),o=(0,r.createModuleLogger)(i.projectLogger,"layer-1-gas-fee-flow");async function s({layer1GasFeeFlows:e,messenger:t,provider:n,transactionMeta:r}){const i=function(e,t,n){return t.find((t=>t.matchesTransaction({transactionMeta:e,messenger:n})))}(r,e,t);if(!i)return undefined;o("Found layer 1 gas fee flow",i.constructor.name,r.id);try{const{layer1Fee:e}=await i.getLayer1Fee({provider:n,transactionMeta:r});return e}catch(e){return o("Failed to get layer 1 gas fee",r.id,e),undefined}}n.updateTransactionLayer1GasFee=async function(e){const t=await s(e);if(!t)return;const{transactionMeta:n}=e;n.layer1GasFee=t,o("Updated layer 1 gas fee",t,n.id)},n.getTransactionLayer1GasFee=s}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/layer1-gas-fee-flow.cjs"}],[2917,{"../logger.cjs":2906,"@metamask/controller-utils":1474},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAndFormatTransactionsForNonceTracker=n.getNextNonce=void 0;const r=e("@metamask/controller-utils"),i=e("../logger.cjs"),o=(0,i.createModuleLogger)(i.projectLogger,"nonce");n.getNextNonce=async function(e,t){const{customNonceValue:n,txParams:{from:i,nonce:s}}=e,a=n?(0,r.toHex)(n):undefined;if(a)return o("Using custom nonce",a),[a,undefined];if(s)return o("Using existing nonce",s),[s,undefined];const c=await t(i),u=(0,r.toHex)(c.nextNonce),l=c.releaseLock.bind(c);return o("Using nonce from nonce tracker",u,c.nonceDetails),[u,l]},n.getAndFormatTransactionsForNonceTracker=function(e,t,n,r){return r.filter((({chainId:r,isTransfer:i,isUserOperation:o,status:s,txParams:{from:a}})=>!i&&!o&&r===e&&n.includes(s)&&a.toLowerCase()===t.toLowerCase())).map((({status:e,txParams:{from:t,gas:n,value:r,nonce:i}})=>({status:e,history:[{}],txParams:{from:t??"",gas:n??"",value:r??"",nonce:i??""}})))}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/nonce.cjs"}],[2918,{"@ethereumjs/common":425,"@ethereumjs/tx":442,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.serializeTransaction=n.prepareTransaction=n.HARDFORK=void 0;const r=e("@ethereumjs/common"),i=e("@ethereumjs/tx"),o=e("@metamask/utils");function s(e){const t={chainId:parseInt(e,16),defaultHardfork:n.HARDFORK};return r.Common.custom(t,{eips:[7702]})}n.HARDFORK=r.Hardfork.Prague,n.prepareTransaction=function(e,t){const n=t;return i.TransactionFactory.fromTxData(n,{freeze:!1,common:s(e)})},n.serializeTransaction=function(e){return(0,o.bytesToHex)(e.serialize())}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/prepare.cjs"}],[2919,{"@metamask/controller-utils":1474,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTransactionParamsWithIncreasedGasFee=void 0;const r=e("@metamask/controller-utils"),i=e("@metamask/utils");function o(e,t){const n=(0,r.convertHexToDecimal)(e),o=parseInt(""+n*t,10);return(0,i.add0x)(o.toString(16))}n.getTransactionParamsWithIncreasedGasFee=function(e,t,n){const r=function(e,t,n){if(n&&"gasPrice"in n)return n.gasPrice;const r=e.gasPrice;if(!r||"0x0"===r)return undefined;return o(r,t)}(e,t,n),i=function(e,t,n){if(n&&"maxFeePerGas"in n&&"maxPriorityFeePerGas"in n)return n;const r=e.maxFeePerGas,i=e.maxPriorityFeePerGas;if(!r||!i||"0x0"===r||"0x0"===i)return undefined;const s=o(r,t),a=o(i,t);return{maxFeePerGas:s,maxPriorityFeePerGas:a}}(e,t,n);if(i){const t={...e,...i};return delete t.gasPrice,t}if(r){const t={...e,gasPrice:r};return delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,t}throw new Error("Cannot increase gas fee as no current values and no new values were provided")}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/retry.cjs"}],[2920,{"@ethersproject/wallet":580,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isValidSignature=void 0;const r=e("@ethersproject/wallet"),i=e("@metamask/utils");n.isValidSignature=function(e,t,n){try{const o=(0,i.add0x)(e.map(i.remove0x).join("")),s=(0,i.hexToBytes)(o);return(0,r.verifyMessage)(s,t).toLowerCase()===n.toLowerCase()}catch{return!1}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/signature.cjs"}],[2921,{"../errors.cjs":2887,"../logger.cjs":2906,"@metamask/controller-utils":1474,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.simulateTransactions=void 0;const r=e("@metamask/controller-utils"),i=e("@metamask/utils"),o=e("../errors.cjs"),s=e("../logger.cjs"),a=(0,i.createModuleLogger)(s.projectLogger,"simulation-api"),c="https://tx-sentinel-{0}.api.cx.metamask.io/",u="networks";let l=0;function d(e){return c.replace("{0}",e)}n.simulateTransactions=async function(e,t){const n=await async function(e){const t=await async function(){const e=`${d("ethereum-mainnet")}${u}`,t=await fetch(e);return t.json()}(),n=(0,r.convertHexToDecimal)(e),i=t[n];if(!i?.confirmations)throw a("Chain is not supported",e),new o.SimulationChainNotSupportedError(e);return d(i.network)}(e);a("Sending request",n,t);const i=l;l+=1;const s=await fetch(n,{method:"POST",body:JSON.stringify({id:String(i),jsonrpc:"2.0",method:"infura_simulateTransactions",params:[t]})}),c=await s.json();if(a("Received response",c),c.error){const{code:e,message:t}=c.error;throw new o.SimulationError(t,e)}return c?.result}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/simulation-api.cjs"}],[2922,{"../constants.cjs":2886,"../errors.cjs":2887,"../logger.cjs":2906,"../types.cjs":2907,"./simulation-api.cjs":2921,"@ethersproject/abi":484,"@metamask/controller-utils":1474,"@metamask/metamask-eth-abis":2089,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getEvents=n.getSimulationData=n.SupportedToken=void 0;const r=e("@ethersproject/abi"),i=e("@metamask/controller-utils"),o=e("@metamask/metamask-eth-abis"),s=e("@metamask/utils"),a=e("./simulation-api.cjs"),c=e("../constants.cjs"),u=e("../errors.cjs"),l=e("../logger.cjs"),d=e("../types.cjs");var f;!function(e){e.ERC20="erc20",e.ERC721="erc721",e.ERC1155="erc1155",e.ERC20_WRAPPED="erc20Wrapped",e.ERC721_LEGACY="erc721Legacy"}(f||(n.SupportedToken=f={}));const h=(0,s.createModuleLogger)(l.projectLogger,"simulation"),p=["Transfer","TransferSingle","TransferBatch","Deposit","Withdrawal"],m={[f.ERC20]:{abi:o.abiERC20,standard:d.SimulationTokenStandard.erc20},[f.ERC721]:{abi:o.abiERC721,standard:d.SimulationTokenStandard.erc721},[f.ERC1155]:{abi:o.abiERC1155,standard:d.SimulationTokenStandard.erc1155},[f.ERC20_WRAPPED]:{abi:c.ABI_SIMULATION_ERC20_WRAPPED,standard:d.SimulationTokenStandard.erc20},[f.ERC721_LEGACY]:{abi:c.ABI_SIMULATION_ERC721_LEGACY,standard:d.SimulationTokenStandard.erc721}},g=["execution reverted","insufficient funds for gas"];function y(e){const t=x(e.transactions[0]?.callTrace??{});h("Extracted logs",t);const n=function(){const e=Object.values(f);return new Map(e.map((e=>{const{abi:t}=m[e];return[e,new r.Interface(t)]})))}();return t.map((e=>{const t=function(e,t){const n=Object.values(f);for(const r of n)try{const n=t.get(r),{abi:i,standard:o}=m[r];return{...n.parseLog(e),abi:i,standard:o}}catch(e){continue}return undefined}(e,n);if(!t)return h("Failed to parse log",e),undefined;const r=t.abi.find((e=>e.name===t.name))?.inputs;if(!r)return h("Failed to find inputs for event",t),undefined;if(!p.includes(t.name))return h("Ignoring unsupported event",t.name,t),undefined;h("Normalizing event args",t.name,t);const i=function(e,t){return e.reduce(((e,n,r)=>{const i=t[r].name.replace("_",""),o=w(n);return e[i]=o,e}),{})}(t.args,r);return{contractAddress:e.address,tokenStandard:t.standard,name:t.name,args:i,abi:t.abi}})).filter((e=>e!==undefined))}function w(e){if(Array.isArray(e))return e.map(w);let t=e;return t=t.toHexString?.()??t,t=t.toLowerCase?.()??t,t}function b(e){return"Transfer"===e.name&&e.tokenStandard===d.SimulationTokenStandard.erc721&&0===parseInt(e.args.from,16)}function v(e){return e.tokenStandard===d.SimulationTokenStandard.erc721?[e.args.tokenId]:e.tokenStandard===d.SimulationTokenStandard.erc1155&&"TransferSingle"===e.name?[e.args.id]:e.tokenStandard===d.SimulationTokenStandard.erc1155&&"TransferBatch"===e.name?e.args.ids:[undefined]}function E(e){switch(e){case d.SimulationTokenStandard.erc721:return new r.Interface(o.abiERC721);case d.SimulationTokenStandard.erc1155:return new r.Interface(o.abiERC1155);default:return new r.Interface(o.abiERC20)}}function A(e,t,n){const r=E(t.standard);try{if(t.standard===d.SimulationTokenStandard.erc721){const t=r.decodeFunctionResult("ownerOf",n.return);return t[0].toLowerCase()===e.toLowerCase()?"0x1":"0x0"}const o=r.decodeFunctionResult("balanceOf",n.return);return(0,i.toHex)(o[0])}catch(e){throw h("Failed to decode balance transaction",e,{token:t,response:n}),new u.SimulationError(`Failed to decode balance transaction for token ${t.address}: ${String(e)}`)}}function T(e,t,n){const r=E(e);switch(e){case d.SimulationTokenStandard.erc721:return r.encodeFunctionData("ownerOf",[n]);case d.SimulationTokenStandard.erc1155:return r.encodeFunctionData("balanceOf",[t,n]);default:return r.encodeFunctionData("balanceOf",[t])}}function x(e){return[...e.logs??[],...(e.calls??[]).map((e=>x(e))).flat()]}function S(e,t){const n=(0,i.hexToBN)(t).sub((0,i.hexToBN)(e)),r=n.isNeg(),o=(0,i.toHex)(n.abs());return n.isZero()?(h("Balance change is zero"),undefined):{previousBalance:e,newBalance:t,difference:o,isDecrease:r}}n.getSimulationData=async function(e,t={}){const{chainId:n,from:r,to:o,value:s,data:c}=e,{blockTime:l,senderCode:d}=t;h("Getting simulation data",e);try{const f=await(0,a.simulateTransactions)(n,{transactions:[{data:c,from:r,to:o,value:s}],suggestFees:{withTransfer:!0,withFeeTransfer:!0},withCallTrace:!0,withLogs:!0,...l&&{blockOverrides:{time:(0,i.toHex)(l)}},...d&&{overrides:{[r]:{code:d}}}}),p=f.transactions?.[0]?.error;if(p)throw new u.SimulationError(p);const m=function(e,t){const n=t.transactions[0];if(!n)return undefined;const{stateDiff:r}=n,i=r?.pre?.[e]?.balance,o=r?.post?.[e]?.balance;if(!i||!o)return undefined;return S(i,o)}(e.from,f),g=y(f);h("Parsed events",g);const w=await async function(e,t,n){const{from:r}=e,{blockTime:o,senderCode:s}=n,c=function(e,t){const n=new Set,r=new Map,i=new Map,o=t.filter((t=>[t.args.from,t.args.to].includes(e.from)));h("Filtered user events",o);for(const t of o){const o=v(t);h("Extracted token IDs",o);for(const s of o){const o={address:t.contractAddress,standard:t.tokenStandard,id:s},a=JSON.stringify(o);if(n.has(a)){h("Ignoring additional event with same contract and token ID",o);continue}n.add(a);const c=T(t.tokenStandard,e.from,s),u={from:e.from,to:t.contractAddress,data:c};b(t)||r.set(o,u),i.set(o,u)}}return{before:r,after:i}}(e,t);h("Generated balance transactions",[...c.after.values()]);const l=[...c.before.values(),e,...c.after.values()];if(1===l.length)return[];const d=await(0,a.simulateTransactions)(e.chainId,{transactions:l,...o&&{blockOverrides:{time:(0,i.toHex)(o)}},...s&&{overrides:{[r]:{code:s}}}});if(h("Balance simulation response",d),d.transactions.length!==l.length)throw new u.SimulationInvalidResponseError;let f=0;return[...c.after.keys()].map(((t,n)=>{const r=S(!c.before.get(t)?"0x0":A(e.from,t,d.transactions[f++]),A(e.from,t,d.transactions[n+c.before.size+1]));return r?{...t,...r}:undefined})).filter((e=>e!==undefined))}(e,g,t),E={nativeBalanceChange:m,tokenBalanceChanges:w};let x=[];try{x=function(e){const t=e.transactions?.[0]?.fees?.[0];return(t?.tokenFees??[]).map((e=>({amount:e.balanceNeededToken,balance:e.currentBalanceToken,decimals:e.token.decimals,gas:t.gas,maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas,rateWei:e.rateWei,recipient:e.feeRecipient,symbol:e.token.symbol,tokenAddress:e.token.address})))}(f)}catch(e){h("Failed to parse gas fee tokens",e,f)}return{gasFeeTokens:x,simulationData:E}}catch(t){h("Failed to get simulation data",t,e);let n=t;g.some((e=>n.message?.includes(e)))&&(n=new u.SimulationRevertedError);const{code:r,message:i}=n;return{gasFeeTokens:[],simulationData:{tokenBalanceChanges:[],error:{code:r,message:i}}}}},n.getEvents=y}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/simulation.cjs"}],[2923,{"../constants.cjs":2886,"../logger.cjs":2906,"../types.cjs":2907,"./utils.cjs":2925,"@metamask/controller-utils":1474,lodash:4855},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.updatePostTransactionBalance=n.updateSwapsTransaction=n.SWAP_TRANSACTION_TYPES=n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP=n.DEFAULT_TOKEN_ADDRESS=n.UPDATE_POST_TX_BALANCE_ATTEMPTS=n.UPDATE_POST_TX_BALANCE_TIMEOUT=void 0;const r=e("@metamask/controller-utils"),i=e("lodash"),o=e("./utils.cjs"),s=e("../constants.cjs"),a=e("../logger.cjs"),c=e("../types.cjs"),u=(0,a.createModuleLogger)(a.projectLogger,"swaps");n.UPDATE_POST_TX_BALANCE_TIMEOUT=5e3,n.UPDATE_POST_TX_BALANCE_ATTEMPTS=6;n.DEFAULT_TOKEN_ADDRESS="0x0000000000000000000000000000000000000000";const l={name:"Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},d={name:"Binance Coin",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},f={name:"Matic",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},h={name:"Avalanche",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},p={name:"Test Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},m={name:"Ether",address:n.DEFAULT_TOKEN_ADDRESS,decimals:18},g={...l},y={...l},w={...l};function b(e,t){return!(!e||!t)&&e===n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[t]?.address}function v(e){return new Promise((t=>setTimeout(t,e)))}n.SWAPS_CHAINID_DEFAULT_TOKEN_MAP={[s.CHAIN_IDS.MAINNET]:l,"0x539":p,[s.CHAIN_IDS.BSC]:d,[s.CHAIN_IDS.POLYGON]:f,[s.CHAIN_IDS.GOERLI]:m,[s.CHAIN_IDS.AVALANCHE]:h,[s.CHAIN_IDS.OPTIMISM]:y,[s.CHAIN_IDS.ARBITRUM]:g,[s.CHAIN_IDS.ZKSYNC_ERA]:w},n.SWAP_TRANSACTION_TYPES=[c.TransactionType.swap,c.TransactionType.swapAndSend,c.TransactionType.swapApproval],n.updateSwapsTransaction=function(e,t,r,{isSwapsDisabled:s,cancelTransaction:a,messenger:u}){if(s||!n.SWAP_TRANSACTION_TYPES.includes(t))return e;if(t===c.TransactionType.swap&&!1===r?.hasApproveTx&&e.simulationFails)throw a(e.id),new Error("Simulation failed");const l=r?.meta;if(!l)return e;let d=e;return t===c.TransactionType.swapApproval&&(d=function(e,{type:t,sourceTokenSymbol:n}){(0,o.validateIfTransactionUnapproved)(e,"updateSwapApprovalTransaction");let r={type:t,sourceTokenSymbol:n};return r=(0,i.pickBy)({type:t,sourceTokenSymbol:n}),(0,i.merge)({},e,r)}(e,l),u.publish("TransactionController:transactionNewSwapApproval",{transactionMeta:d})),t===c.TransactionType.swapAndSend&&(d=function(e,{approvalTxId:t,destinationTokenAddress:n,destinationTokenAmount:r,destinationTokenDecimals:s,destinationTokenSymbol:a,estimatedBaseFee:c,sourceTokenAddress:u,sourceTokenAmount:l,sourceTokenDecimals:d,sourceTokenSymbol:f,swapAndSendRecipient:h,swapMetaData:p,swapTokenValue:m,type:g}){(0,o.validateIfTransactionUnapproved)(e,"updateSwapTransaction");let y={approvalTxId:t,destinationTokenAddress:n,destinationTokenAmount:r,destinationTokenDecimals:s,destinationTokenSymbol:a,estimatedBaseFee:c,sourceTokenAddress:u,sourceTokenAmount:l,sourceTokenDecimals:d,sourceTokenSymbol:f,swapAndSendRecipient:h,swapMetaData:p,swapTokenValue:m,type:g};return y=(0,i.pickBy)(y),(0,i.merge)({},e,y)}(e,l),u.publish("TransactionController:transactionNewSwapAndSend",{transactionMeta:d})),t===c.TransactionType.swap&&(d=function(e,{sourceTokenSymbol:t,destinationTokenSymbol:n,type:r,destinationTokenDecimals:s,destinationTokenAddress:a,swapMetaData:c,swapTokenValue:u,estimatedBaseFee:l,approvalTxId:d}){(0,o.validateIfTransactionUnapproved)(e,"updateSwapTransaction");let f={sourceTokenSymbol:t,destinationTokenSymbol:n,type:r,destinationTokenDecimals:s,destinationTokenAddress:a,swapMetaData:c,swapTokenValue:u,estimatedBaseFee:l,approvalTxId:d};return f=(0,i.pickBy)(f),(0,i.merge)({},e,f)}(e,l),u.publish("TransactionController:transactionNewSwap",{transactionMeta:d})),d},n.updatePostTransactionBalance=async function(e,{ethQuery:t,getTransaction:i,updateTransaction:o}){u("Updating post transaction balance",e.id);const s=e.id;let a,c;for(let o=0;o<n.UPDATE_POST_TX_BALANCE_ATTEMPTS;o++){u("Querying balance",{attempt:o});const l=await(0,r.query)(t,"getBalance",[e.txParams.from]);a={...i(s)??{}},c=a.approvalTxId?i(a.approvalTxId):undefined,a.postTxBalance=l.toString(16);const d=b(e.destinationTokenAddress,e.chainId);if(!d||e.preTxBalance!==a.postTxBalance){u("Finishing post balance update",{isDefaultTokenAddress:d,preTxBalance:e.preTxBalance,postTxBalance:a.postTxBalance});break}u("Waiting for balance to update",{delay:n.UPDATE_POST_TX_BALANCE_TIMEOUT}),await v(n.UPDATE_POST_TX_BALANCE_TIMEOUT)}return o(a,"TransactionController#updatePostTransactionBalance - Add post transaction balance"),u("Completed post balance update",a?.postTxBalance),{updatedTransactionMeta:a,approvalTransactionMeta:c}}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/swaps.cjs"}],[2924,{"../types.cjs":2907,"@ethersproject/abi":484,"@metamask/controller-utils":1474,"@metamask/metamask-eth-abis":2089},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.determineTransactionType=n.ESTIMATE_GAS_ERROR=void 0;const r=e("@ethersproject/abi"),i=e("@metamask/controller-utils"),o=e("@metamask/metamask-eth-abis"),s=e("../types.cjs");n.ESTIMATE_GAS_ERROR="eth_estimateGas rpc method error";const a=new r.Interface(o.abiERC20),c=new r.Interface(o.abiERC721),u=new r.Interface(o.abiERC1155),l=new r.Interface(o.abiFiatTokenV2);n.determineTransactionType=async function(e,t){const{data:n,to:r}=e;if(n&&!r)return{type:s.TransactionType.deployContract,getCodeResponse:undefined};const{contractCode:o,isContractAddress:d}=await async function(e,t){let n;try{n=await(0,i.query)(e,"getCode",[t])}catch(e){n=null}const r=!!n&&("0x"!==n&&"0x0"!==n);return{contractCode:n,isContractAddress:r}}(t,r);if(!d)return{type:s.TransactionType.simpleSend,getCodeResponse:o};const f=0!==Number(e.value??"0"),h={type:s.TransactionType.contractInteraction,getCodeResponse:o};if(!n||f)return h;const p=function(e){if(!e)return undefined;try{return a.parseTransaction({data:e})}catch{}try{return c.parseTransaction({data:e})}catch{}try{return u.parseTransaction({data:e})}catch{}try{return l.parseTransaction({data:e})}catch{}return undefined}(n)?.name;if(!p)return h;const m=[s.TransactionType.tokenMethodApprove,s.TransactionType.tokenMethodSetApprovalForAll,s.TransactionType.tokenMethodTransfer,s.TransactionType.tokenMethodTransferFrom,s.TransactionType.tokenMethodSafeTransferFrom,s.TransactionType.tokenMethodIncreaseAllowance].find((e=>e.toLowerCase()===p.toLowerCase()));return m?{type:m,getCodeResponse:o}:h}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/transaction-type.cjs"}],[2925,{"../types.cjs":2907,"@metamask/utils":2950,"bn.js":4026},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.setEnvelopeType=n.getPercentageChange=n.padHexToEvenLength=n.normalizeGasFeeValues=n.normalizeTxError=n.validateIfTransactionUnapproved=n.validateGasValues=n.isEIP1559Transaction=n.normalizeTransactionParams=n.ESTIMATE_GAS_ERROR=void 0;const i=e("@metamask/utils"),o=r(e("bn.js")),s=e("../types.cjs");n.ESTIMATE_GAS_ERROR="eth_estimateGas rpc method error";const a={accessList:e=>e,authorizationList:e=>e,data:e=>(0,i.add0x)(u(e)),from:e=>(0,i.add0x)(e).toLowerCase(),gas:e=>(0,i.add0x)(e),gasLimit:e=>(0,i.add0x)(e),gasPrice:e=>(0,i.add0x)(e),nonce:e=>(0,i.add0x)(e),to:e=>(0,i.add0x)(e).toLowerCase(),value:e=>(0,i.add0x)(e),maxFeePerGas:e=>(0,i.add0x)(e),maxPriorityFeePerGas:e=>(0,i.add0x)(e),estimatedBaseFee:e=>(0,i.add0x)(e),type:e=>(0,i.add0x)(e)};n.normalizeTransactionParams=function(e){const t={from:""};for(const n of(0,i.getKnownPropertyNames)(a))e[n]&&(t[n]=a[n](e[n]));return t.value||(t.value="0x0"),t.gasLimit&&!t.gas&&(t.gas=t.gasLimit),t},n.isEIP1559Transaction=function(e){const t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);return t(e,"maxFeePerGas")&&t(e,"maxPriorityFeePerGas")};function c(e){try{return JSON.parse(JSON.stringify(e)),!0}catch{return!1}}function u(e){const t=e.toLowerCase().startsWith("0x")?e.slice(0,2):"",n=t?e.slice(2):e;return t+(n.length%2==0?n:`0${n}`)}n.validateGasValues=e=>{Object.keys(e).forEach((t=>{const n=e[t];if("string"!=typeof n||!(0,i.isStrictHexString)(n))throw new TypeError(`expected hex string for ${t} but received: ${n}`)}))},n.validateIfTransactionUnapproved=function(e,t){if(e?.status!==s.TransactionStatus.unapproved)throw new Error(`TransactionsController: Can only call ${t} on an unapproved transaction.\n      Current tx status: ${e?.status}`)},n.normalizeTxError=function(e){return{name:e.name,message:e.message,stack:e.stack,code:e.code,rpc:c(e.value)?e.value:undefined}},n.normalizeGasFeeValues=function(e){const t=e=>"string"==typeof e?(0,i.add0x)(e):e;return"gasPrice"in e?{gasPrice:t(e.gasPrice)}:{maxFeePerGas:t(e.maxFeePerGas),maxPriorityFeePerGas:t(e.maxPriorityFeePerGas)}},n.padHexToEvenLength=u,n.getPercentageChange=function(e,t){const n=new o.default(10).pow(new o.default(18)),r=e.mul(n),i=t.mul(n),s=i.sub(r);return s.isZero()?0:r.isZero()&&!i.isZero()?100:s.muln(100).div(r).abs().toNumber()},n.setEnvelopeType=function(e,t){e.accessList?e.type=s.TransactionEnvelopeType.accessList:e.authorizationList?e.type=s.TransactionEnvelopeType.setCode:e.type=t?s.TransactionEnvelopeType.feeMarket:s.TransactionEnvelopeType.legacy}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/utils.cjs"}],[2926,{"../types.cjs":2907,"./utils.cjs":2925,"@ethersproject/abi":484,"@metamask/controller-utils":1474,"@metamask/metamask-eth-abis":2089,"@metamask/rpc-errors":2554,"@metamask/utils":2950},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateBatchRequest=n.validateParamTo=n.validateTxParams=n.validateTransactionOrigin=n.ErrorCode=void 0;const r=e("@ethersproject/abi"),i=e("@metamask/controller-utils"),o=e("@metamask/metamask-eth-abis"),s=e("@metamask/rpc-errors"),a=e("@metamask/utils"),c=e("./utils.cjs"),u=e("../types.cjs");var l;!function(e){e[e.DuplicateBundleId=5720]="DuplicateBundleId",e[e.BundleTooLarge=5740]="BundleTooLarge"}(l||(n.ErrorCode=l={}));const d=[u.TransactionEnvelopeType.feeMarket,u.TransactionEnvelopeType.setCode];function f(e,t){const n=e.type;switch(t){case"authorizationList":if(n&&n!==u.TransactionEnvelopeType.setCode)throw s.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${n}" but including authorizationList requires type: "${u.TransactionEnvelopeType.setCode}"`);break;case"maxFeePerGas":case"maxPriorityFeePerGas":if(n&&!d.includes(n))throw s.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${n}" but including maxFeePerGas and maxPriorityFeePerGas requires type: "${d.join(", ")}"`);break;default:if(n&&d.includes(n))throw s.rpcErrors.invalidParams(`Invalid transaction envelope type: specified type "${n}" but included a gasPrice instead of maxFeePerGas and maxPriorityFeePerGas`)}}function h(e,t,n){if(void 0!==e[n])throw s.rpcErrors.invalidParams(`Invalid transaction params: specified ${t} but also included ${n}, these cannot be mixed`)}function p(e,t){const n=e[t];if("string"!=typeof n||!(0,a.isStrictHexString)(n))throw s.rpcErrors.invalidParams(`Invalid transaction params: ${String(t)} is not a valid hexadecimal string. got: (${String(n)})`)}function m(e){p(e,"address"),function(e,t,n){const r=(0,a.remove0x)(e).length/2;if(r!==t)throw s.rpcErrors.invalidParams(`Invalid transaction params: ${n} must be ${t} bytes. got: ${r} bytes`)}(e.address,20,"address");for(const t of["chainId","nonce","r","s"])e[t]&&p(e,t);const{yParity:t}=e;if(t&&!["0x","0x1"].includes(t))throw s.rpcErrors.invalidParams(`Invalid transaction params: yParity must be '0x' or '0x1'. got: ${t}`)}n.validateTransactionOrigin=async function({data:e,from:t,internalAccounts:n,origin:r,permittedAddresses:o,selectedAddress:a,txParams:c,type:l}){const d=r===i.ORIGIN_METAMASK,f=r&&r!==i.ORIGIN_METAMASK,{authorizationList:h,to:p,type:m}=c;if(d&&t!==a)throw s.rpcErrors.internal({message:"Internally initiated transaction is using invalid account.",data:{origin:r,fromAddress:t,selectedAddress:a}});if(f&&o&&!o.includes(t))throw s.providerErrors.unauthorized({data:{origin:r}});if(f&&(h||m===u.TransactionEnvelopeType.setCode))throw s.rpcErrors.invalidParams("External EIP-7702 transactions are not supported");const g=Boolean(e&&"0x"!==e);if(f&&g&&n?.some((e=>e.toLowerCase()===p?.toLowerCase()))&&l!==u.TransactionType.batch)throw s.rpcErrors.invalidParams("External transactions to internal accounts cannot include data")},n.validateTxParams=function(e,t=!0,n){!function(e){if(e&&!Object.values(u.TransactionEnvelopeType).includes(e))throw s.rpcErrors.invalidParams(`Invalid transaction envelope type: "${e}". Must be one of: ${Object.values(u.TransactionEnvelopeType).join(", ")}`)}(e.type),function(e,t){if((0,c.isEIP1559Transaction)(e)&&!t)throw s.rpcErrors.invalidParams("Invalid transaction params: params specify an EIP-1559 transaction but the current network does not support EIP-1559")}(e,t),function(e){if(!e||"string"!=typeof e)throw s.rpcErrors.invalidParams(`Invalid "from" address ${e}: not a string.`);if(!(0,i.isValidHexAddress)(e))throw s.rpcErrors.invalidParams('Invalid "from" address.')}(e.from),function(e){if("0x"===e.to||e.to===undefined){if(!e.data)throw s.rpcErrors.invalidParams('Invalid "to" address.');delete e.to}else if(e.to!==undefined&&!(0,i.isValidHexAddress)(e.to))throw s.rpcErrors.invalidParams('Invalid "to" address.')}(e),function(e){if(e!==undefined){if(e.includes("-"))throw s.rpcErrors.invalidParams(`Invalid transaction value "${e}": not a positive number.`);if(e.includes("."))throw s.rpcErrors.invalidParams(`Invalid transaction value "${e}": number must be in wei.`);const t=parseInt(e,10);if(!(Number.isFinite(t)&&!Number.isNaN(t)&&!isNaN(Number(e))&&Number.isSafeInteger(t)))throw s.rpcErrors.invalidParams(`Invalid transaction value ${e}: number must be a valid number.`)}}(e.value),function(e){if(e){const t=new r.Interface(o.abiERC20);try{t.parseTransaction({data:e})}catch(e){if(e.message.match(/BUFFER_OVERRUN/u))throw s.rpcErrors.invalidParams("Invalid transaction params: data out-of-bounds, BUFFER_OVERRUN.")}}}(e.data),function(e,t){if(e&&t&&e.toLowerCase?.()!==t.toLowerCase())throw s.rpcErrors.invalidParams(`Invalid transaction params: chainId must match the network client, got: ${e}, expected: ${t}`)}(e.chainId,n),function(e){e.gasPrice&&(f(e,"gasPrice"),h(e,"gasPrice","maxFeePerGas"),h(e,"gasPrice","maxPriorityFeePerGas"),p(e,"gasPrice"));e.maxFeePerGas&&(f(e,"maxFeePerGas"),h(e,"maxFeePerGas","gasPrice"),p(e,"maxFeePerGas"));e.maxPriorityFeePerGas&&(f(e,"maxPriorityFeePerGas"),h(e,"maxPriorityFeePerGas","gasPrice"),p(e,"maxPriorityFeePerGas"));e.gasLimit&&p(e,"gasLimit");e.gas&&p(e,"gas")}(e),function(e){const{authorizationList:t}=e;if(!t)return;if(f(e,"authorizationList"),!Array.isArray(t))throw s.rpcErrors.invalidParams("Invalid transaction params: authorizationList must be an array");for(const e of t)m(e)}(e)},n.validateParamTo=function(e){if(!e||"string"!=typeof e)throw s.rpcErrors.invalidParams('Invalid "to" address')},n.validateBatchRequest=function({internalAccounts:e,request:t,sizeLimit:n}){const{origin:r}=t,o=r&&r!==i.ORIGIN_METAMASK,a=e.map((e=>e.toLowerCase()));if(o&&t.transactions.some((e=>{const t=e.params.to?.toLowerCase(),n=e.params.data,r=a.includes(t),i=Boolean(n&&"0x"!==n);return r&&i})))throw s.rpcErrors.invalidParams("External calls to internal accounts cannot include data");if(o&&t.transactions.length>n)throw new s.JsonRpcError(l.BundleTooLarge,`Batch size cannot exceed ${n}. got: ${t.transactions.length}`)}}}},{package:"@metamask/transaction-controller",file:"node_modules/@metamask/transaction-controller/dist/utils/validation.cjs"}],[2940,{"./errors.cjs":2948,"@metamask/superstruct":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.assertExhaustive=n.assertStruct=n.assert=n.AssertionError=void 0;const r=e("@metamask/superstruct"),i=e("./errors.cjs");function o(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class s extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}n.AssertionError=s,n.assert=function(e,t="Assertion failed.",n=s){if(!e){if(t instanceof Error)throw t;throw o(n,t)}},n.assertStruct=function(e,t,n="Assertion failed",a=s){try{(0,r.assert)(e,t)}catch(e){throw o(a,`${n}: ${function(e){return(0,i.getErrorMessage)(e).replace(/\.$/u,"")}(e)}.`)}},n.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/assert.cjs"}],[2941,{"./assert.cjs":2940,"@metamask/superstruct":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.base64=void 0;const r=e("@metamask/superstruct"),i=e("./assert.cjs");n.base64=(e,t={})=>{const n=t.paddingRequired??!1,o=t.characterSet??"base64";let s,a;return"base64"===o?s=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===o),s=String.raw`[-_A-Za-z0-9]`),a=n?new RegExp(`^(?:${s}{4})*(?:${s}{3}=|${s}{2}==)?$`,"u"):new RegExp(`^(?:${s}{4})*(?:${s}{2,3}|${s}{3}=|${s}{2}==)?$`,"u"),(0,r.pattern)(e,a)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/base64.cjs"}],[2942,{"./assert.cjs":2940,"./hex.cjs":2949,"@scure/base":3027,buffer:4074},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.createDataView=n.concatBytes=n.valueToBytes=n.base64ToBytes=n.stringToBytes=n.numberToBytes=n.signedBigIntToBytes=n.bigIntToBytes=n.hexToBytes=n.bytesToBase64=n.bytesToString=n.bytesToNumber=n.bytesToSignedBigInt=n.bytesToBigInt=n.bytesToHex=n.assertIsBytes=n.isBytes=void 0;const r=e("@scure/base"),i=e("./assert.cjs"),o=e("./hex.cjs"),s=48,a=58,c=87;const u=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function l(e){return e instanceof Uint8Array}function d(e){(0,i.assert)(l(e),"Value must be a Uint8Array.")}function f(e){if(d(e),0===e.length)return"0x";const t=u(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,o.add0x)(n.join(""))}function h(e){d(e);const t=f(e);return BigInt(t)}function p(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,o.assertIsHexString)(e);const t=(0,o.remove0x)(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),i=n.charCodeAt(2*e+1),o=t-(t<a?s:c),u=i-(i<a?s:c);r[e]=16*o+u}return r}function m(e){(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return p(e.toString(16))}function g(e){(0,i.assert)("number"==typeof e,"Value must be a number."),(0,i.assert)(e>=0,"Value must be a non-negative number."),(0,i.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return p(e.toString(16))}function y(e){return(0,i.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function w(e){if("bigint"==typeof e)return m(e);if("number"==typeof e)return g(e);if("string"==typeof e)return e.startsWith("0x")?p(e):y(e);if(l(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}n.isBytes=l,n.assertIsBytes=d,n.bytesToHex=f,n.bytesToBigInt=h,n.bytesToSignedBigInt=function(e){d(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)},n.bytesToNumber=function(e){d(e);const t=h(e);return(0,i.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},n.bytesToString=function(e){return d(e),(new TextDecoder).decode(e)},n.bytesToBase64=function(e){return d(e),r.base64.encode(e)},n.hexToBytes=p,n.bigIntToBytes=m,n.signedBigIntToBytes=function(e,t){(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)("number"==typeof t,"Byte length must be a number."),(0,i.assert)(t>0,"Byte length must be greater than 0."),(0,i.assert)(function(e,t){(0,i.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let n=e;const r=new Uint8Array(t);for(let e=0;e<r.length;e++)r[e]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()},n.numberToBytes=g,n.stringToBytes=y,n.base64ToBytes=function(e){return(0,i.assert)("string"==typeof e,"Value must be a string."),r.base64.decode(e)},n.valueToBytes=w,n.concatBytes=function(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const i=w(e[r]);t[r]=i,n+=i.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r},n.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/bytes.cjs"}],[2943,{"./superstruct.cjs":2958,"@metamask/superstruct":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toCaipAssetId=n.toCaipAssetType=n.toCaipAccountId=n.toCaipChainId=n.parseCaipAssetId=n.parseCaipAssetType=n.parseCaipAccountId=n.parseCaipChainId=n.isCaipAssetId=n.isCaipAssetType=n.isCaipTokenId=n.isCaipAssetReference=n.isCaipAssetNamespace=n.isCaipAccountAddress=n.isCaipAccountId=n.isCaipReference=n.isCaipNamespace=n.isCaipChainId=n.KnownCaipNamespace=n.CaipAssetTypeOrIdStruct=n.CaipAssetIdStruct=n.CaipAssetTypeStruct=n.CaipTokenIdStruct=n.CaipAssetReferenceStruct=n.CaipAssetNamespaceStruct=n.CaipAccountAddressStruct=n.CaipAccountIdStruct=n.CaipReferenceStruct=n.CaipNamespaceStruct=n.CaipChainIdStruct=n.CAIP_ASSET_ID_REGEX=n.CAIP_ASSET_TYPE_REGEX=n.CAIP_TOKEN_ID_REGEX=n.CAIP_ASSET_REFERENCE_REGEX=n.CAIP_ASSET_NAMESPACE_REGEX=n.CAIP_ACCOUNT_ADDRESS_REGEX=n.CAIP_ACCOUNT_ID_REGEX=n.CAIP_REFERENCE_REGEX=n.CAIP_NAMESPACE_REGEX=n.CAIP_CHAIN_ID_REGEX=void 0;const r=e("@metamask/superstruct"),i=e("./superstruct.cjs");n.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,n.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,n.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,n.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,n.CAIP_ASSET_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,n.CAIP_ASSET_REFERENCE_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,n.CAIP_TOKEN_ID_REGEX=/^[-.%a-zA-Z0-9]{1,78}$/u,n.CAIP_ASSET_TYPE_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,n.CAIP_ASSET_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u;function o(e){return(0,r.is)(e,n.CaipNamespaceStruct)}function s(e){return(0,r.is)(e,n.CaipReferenceStruct)}function a(e){return(0,r.is)(e,n.CaipAccountAddressStruct)}function c(e){return(0,r.is)(e,n.CaipAssetNamespaceStruct)}function u(e){return(0,r.is)(e,n.CaipAssetReferenceStruct)}function l(e){return(0,r.is)(e,n.CaipTokenIdStruct)}n.CaipChainIdStruct=(0,i.definePattern)("CaipChainId",n.CAIP_CHAIN_ID_REGEX),n.CaipNamespaceStruct=(0,i.definePattern)("CaipNamespace",n.CAIP_NAMESPACE_REGEX),n.CaipReferenceStruct=(0,i.definePattern)("CaipReference",n.CAIP_REFERENCE_REGEX),n.CaipAccountIdStruct=(0,i.definePattern)("CaipAccountId",n.CAIP_ACCOUNT_ID_REGEX),n.CaipAccountAddressStruct=(0,i.definePattern)("CaipAccountAddress",n.CAIP_ACCOUNT_ADDRESS_REGEX),n.CaipAssetNamespaceStruct=(0,i.definePattern)("CaipAssetNamespace",n.CAIP_ASSET_NAMESPACE_REGEX),n.CaipAssetReferenceStruct=(0,i.definePattern)("CaipAssetReference",n.CAIP_ASSET_REFERENCE_REGEX),n.CaipTokenIdStruct=(0,i.definePattern)("CaipTokenId",n.CAIP_TOKEN_ID_REGEX),n.CaipAssetTypeStruct=(0,i.definePattern)("CaipAssetType",n.CAIP_ASSET_TYPE_REGEX),n.CaipAssetIdStruct=(0,i.definePattern)("CaipAssetId",n.CAIP_ASSET_ID_REGEX),n.CaipAssetTypeOrIdStruct=(0,i.definePattern)("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u),function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(n.KnownCaipNamespace||(n.KnownCaipNamespace={})),n.isCaipChainId=function(e){return(0,r.is)(e,n.CaipChainIdStruct)},n.isCaipNamespace=o,n.isCaipReference=s,n.isCaipAccountId=function(e){return(0,r.is)(e,n.CaipAccountIdStruct)},n.isCaipAccountAddress=a,n.isCaipAssetNamespace=c,n.isCaipAssetReference=u,n.isCaipTokenId=l,n.isCaipAssetType=function(e){return(0,r.is)(e,n.CaipAssetTypeStruct)},n.isCaipAssetId=function(e){return(0,r.is)(e,n.CaipAssetIdStruct)},n.parseCaipChainId=function(e){const t=n.CAIP_CHAIN_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},n.parseCaipAccountId=function(e){const t=n.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.parseCaipAssetType=function(e){const t=n.CAIP_ASSET_TYPE_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset type.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.parseCaipAssetId=function(e){const t=n.CAIP_ASSET_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP asset ID.");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,tokenId:t.groups.tokenId,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},n.toCaipChainId=function(e,t){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${t}`},n.toCaipAccountId=function(e,t,r){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!a(r))throw new Error(`Invalid "accountAddress", must match: ${n.CAIP_ACCOUNT_ADDRESS_REGEX.toString()}`);return`${e}:${t}:${r}`},n.toCaipAssetType=function(e,t,r,i){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!c(r))throw new Error(`Invalid "assetNamespace", must match: ${n.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!u(i))throw new Error(`Invalid "assetReference", must match: ${n.CAIP_ASSET_REFERENCE_REGEX.toString()}`);return`${e}:${t}/${r}:${i}`},n.toCaipAssetId=function(e,t,r,i,a){if(!o(e))throw new Error(`Invalid "namespace", must match: ${n.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${n.CAIP_REFERENCE_REGEX.toString()}`);if(!c(r))throw new Error(`Invalid "assetNamespace", must match: ${n.CAIP_ASSET_NAMESPACE_REGEX.toString()}`);if(!u(i))throw new Error(`Invalid "assetReference", must match: ${n.CAIP_ASSET_REFERENCE_REGEX.toString()}`);if(!l(a))throw new Error(`Invalid "tokenId", must match: ${n.CAIP_TOKEN_ID_REGEX.toString()}`);return`${e}:${t}/${r}:${i}/${a}`}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/caip-types.cjs"}],[2944,{"./base64.cjs":2941,"@metamask/superstruct":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChecksumStruct=void 0;const r=e("@metamask/superstruct"),i=e("./base64.cjs");n.ChecksumStruct=(0,r.size)((0,i.base64)((0,r.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/checksum.cjs"}],[2945,{"./assert.cjs":2940,"./bytes.cjs":2942,"./hex.cjs":2949,"@metamask/superstruct":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createHex=n.createBytes=n.createBigInt=n.createNumber=void 0;const r=e("@metamask/superstruct"),i=e("./assert.cjs"),o=e("./bytes.cjs"),s=e("./hex.cjs"),a=(0,r.union)([(0,r.number)(),(0,r.bigint)(),(0,r.string)(),s.StrictHexStruct]),c=(0,r.coerce)((0,r.number)(),a,Number),u=(0,r.coerce)((0,r.bigint)(),a,BigInt),l=((0,r.union)([s.StrictHexStruct,(0,r.instance)(Uint8Array)]),(0,r.coerce)((0,r.instance)(Uint8Array),(0,r.union)([s.StrictHexStruct]),o.hexToBytes)),d=(0,r.coerce)(s.StrictHexStruct,(0,r.instance)(Uint8Array),o.bytesToHex);n.createNumber=function(e){try{const t=(0,r.create)(e,c);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof r.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},n.createBigInt=function(e){try{return(0,r.create)(e,u)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},n.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,r.create)(e,l)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},n.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,r.create)(e,d)}catch(e){if(e instanceof r.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/coercers.cjs"}],[2946,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,i,o=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(n,"__esModule",{value:!0}),n.FrozenSet=n.FrozenMap=void 0;class a{get size(){return o(this,r,"f").size}[(r=new WeakMap,Symbol.iterator)](){return o(this,r,"f")[Symbol.iterator]()}constructor(e){r.set(this,void 0),s(this,r,new Map(e),"f"),Object.freeze(this)}entries(){return o(this,r,"f").entries()}forEach(e,t){return o(this,r,"f").forEach(((n,r,i)=>e.call(t,n,r,this)))}get(e){return o(this,r,"f").get(e)}has(e){return o(this,r,"f").has(e)}keys(){return o(this,r,"f").keys()}values(){return o(this,r,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}n.FrozenMap=a;class c{get size(){return o(this,i,"f").size}[(i=new WeakMap,Symbol.iterator)](){return o(this,i,"f")[Symbol.iterator]()}constructor(e){i.set(this,void 0),s(this,i,new Set(e),"f"),Object.freeze(this)}entries(){return o(this,i,"f").entries()}forEach(e,t){return o(this,i,"f").forEach(((n,r,i)=>e.call(t,n,r,this)))}has(e){return o(this,i,"f").has(e)}keys(){return o(this,i,"f").keys()}values(){return o(this,i,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}n.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/collections.cjs"}],[2947,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/encryption-types.cjs"}],[2948,{"./misc.cjs":2954,"pony-cause":5003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wrapError=n.getErrorMessage=n.isErrorWithStack=n.isErrorWithMessage=n.isErrorWithCode=void 0;const r=e("pony-cause"),i=e("./misc.cjs");function o(e){return"object"==typeof e&&null!==e&&"code"in e}function s(e){return"object"==typeof e&&null!==e&&"message"in e}n.isErrorWithCode=o,n.isErrorWithMessage=s,n.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},n.getErrorMessage=function(e){return s(e)&&"string"==typeof e.message?e.message:(0,i.isNullOrUndefined)(e)?"":String(e)},n.wrapError=function(e,t){if((n=e)instanceof Error||(0,i.isObject)(n)&&"Error"===n.constructor.name){let n;return n=2===Error.length?new Error(t,{cause:e}):new r.ErrorWithCause(t,{cause:e}),o(e)&&(n.code=e.code),n}var n;return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/errors.cjs"}],[2949,{"./assert.cjs":2940,"./bytes.cjs":2942,"@metamask/superstruct":2872,"@noble/hashes/sha3":3001},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.remove0x=n.add0x=n.isValidChecksumAddress=n.getChecksumAddress=n.isValidHexAddress=n.assertIsStrictHexString=n.assertIsHexString=n.isStrictHexString=n.isHexString=n.HexChecksumAddressStruct=n.HexAddressStruct=n.StrictHexStruct=n.HexStruct=void 0;const r=e("@metamask/superstruct"),i=e("@noble/hashes/sha3"),o=e("./assert.cjs"),s=e("./bytes.cjs");function a(e){return(0,r.is)(e,n.HexStruct)}function c(e){return(0,r.is)(e,n.StrictHexStruct)}function u(e){(0,o.assert)((0,r.is)(e,n.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),a=d((0,s.bytesToHex)((0,i.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const n=a[t];return(0,o.assert)((0,r.is)(n,(0,r.string)()),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,r.is)(e,n.HexChecksumAddressStruct)&&u(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}n.HexStruct=(0,r.pattern)((0,r.string)(),/^(?:0x)?[0-9a-f]+$/iu),n.StrictHexStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-f]+$/iu),n.HexAddressStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-f]{40}$/u),n.HexChecksumAddressStruct=(0,r.pattern)((0,r.string)(),/^0x[0-9a-fA-F]{40}$/u),n.isHexString=a,n.isStrictHexString=c,n.assertIsHexString=function(e){(0,o.assert)(a(e),"Value must be a hexadecimal string.")},n.assertIsStrictHexString=function(e){(0,o.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},n.isValidHexAddress=function(e){return(0,r.is)(e,n.HexAddressStruct)||l(e)},n.getChecksumAddress=u,n.isValidChecksumAddress=l,n.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},n.remove0x=d}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/hex.cjs"}],[2950,{"./assert.cjs":2940,"./base64.cjs":2941,"./bytes.cjs":2942,"./caip-types.cjs":2943,"./checksum.cjs":2944,"./coercers.cjs":2945,"./collections.cjs":2946,"./encryption-types.cjs":2947,"./errors.cjs":2948,"./hex.cjs":2949,"./json.cjs":2951,"./keyring.cjs":2952,"./logging.cjs":2953,"./misc.cjs":2954,"./number.cjs":2955,"./opaque.cjs":2956,"./promise.cjs":2957,"./superstruct.cjs":2958,"./time.cjs":2959,"./transaction-types.cjs":2960,"./versions.cjs":2961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./assert.cjs"),n),i(e("./base64.cjs"),n),i(e("./bytes.cjs"),n),i(e("./caip-types.cjs"),n),i(e("./checksum.cjs"),n),i(e("./coercers.cjs"),n),i(e("./collections.cjs"),n),i(e("./encryption-types.cjs"),n),i(e("./errors.cjs"),n),i(e("./hex.cjs"),n),i(e("./json.cjs"),n),i(e("./keyring.cjs"),n),i(e("./logging.cjs"),n),i(e("./misc.cjs"),n),i(e("./number.cjs"),n),i(e("./opaque.cjs"),n),i(e("./promise.cjs"),n),i(e("./superstruct.cjs"),n),i(e("./time.cjs"),n),i(e("./transaction-types.cjs"),n),i(e("./versions.cjs"),n)}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/index.cjs"}],[2951,{"./assert.cjs":2940,"./misc.cjs":2954,"@metamask/superstruct":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonRpcIdValidator=n.assertIsJsonRpcError=n.isJsonRpcError=n.assertIsJsonRpcFailure=n.isJsonRpcFailure=n.assertIsJsonRpcSuccess=n.isJsonRpcSuccess=n.assertIsJsonRpcResponse=n.isJsonRpcResponse=n.assertIsPendingJsonRpcResponse=n.isPendingJsonRpcResponse=n.JsonRpcResponseStruct=n.JsonRpcFailureStruct=n.JsonRpcSuccessStruct=n.PendingJsonRpcResponseStruct=n.assertIsJsonRpcRequest=n.isJsonRpcRequest=n.assertIsJsonRpcNotification=n.isJsonRpcNotification=n.JsonRpcNotificationStruct=n.JsonRpcRequestStruct=n.JsonRpcParamsStruct=n.JsonRpcErrorStruct=n.JsonRpcIdStruct=n.JsonRpcVersionStruct=n.jsonrpc2=n.getJsonSize=n.getSafeJson=n.isValidJson=n.JsonStruct=n.UnsafeJsonStruct=n.exactOptional=n.object=void 0;const r=e("@metamask/superstruct"),i=e("./assert.cjs"),o=e("./misc.cjs");function s({path:e,branch:t}){const n=e[e.length-1];return(0,o.hasProperty)(t[t.length-2],n)}function a(e){return new r.Struct({...e,type:`optional ${e.type}`,validator:(t,n)=>!s(n)||e.validator(t,n),refiner:(t,n)=>!s(n)||e.refiner(t,n)})}function c(e){if(null===e||"boolean"==typeof e||"string"==typeof e)return!0;if("number"==typeof e&&Number.isFinite(e))return!0;if("object"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!c(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if("string"!=typeof n[e][0]||!c(n[e][1])){t=!1;break}return t}return!1}function u(e){return(0,r.create)(e,n.JsonStruct)}n.object=e=>(0,r.object)(e),n.exactOptional=a,n.UnsafeJsonStruct=(0,r.define)("JSON",(e=>c(e))),n.JsonStruct=(0,r.coerce)(n.UnsafeJsonStruct,(0,r.refine)((0,r.any)(),"JSON",(e=>(0,r.is)(e,n.UnsafeJsonStruct))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t))))),n.isValidJson=function(e){try{return u(e),!0}catch{return!1}},n.getSafeJson=u,n.getJsonSize=function(e){(0,i.assertStruct)(e,n.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},n.jsonrpc2="2.0",n.JsonRpcVersionStruct=(0,r.literal)(n.jsonrpc2),n.JsonRpcIdStruct=(0,r.nullable)((0,r.union)([(0,r.number)(),(0,r.string)()])),n.JsonRpcErrorStruct=(0,n.object)({code:(0,r.integer)(),message:(0,r.string)(),data:a(n.JsonStruct),stack:a((0,r.string)())}),n.JsonRpcParamsStruct=(0,r.union)([(0,r.record)((0,r.string)(),n.JsonStruct),(0,r.array)(n.JsonStruct)]),n.JsonRpcRequestStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:a(n.JsonRpcParamsStruct)}),n.JsonRpcNotificationStruct=(0,n.object)({jsonrpc:n.JsonRpcVersionStruct,method:(0,r.string)(),params:a(n.JsonRpcParamsStruct)}),n.isJsonRpcNotification=function(e){return(0,r.is)(e,n.JsonRpcNotificationStruct)},n.assertIsJsonRpcNotification=function(e,t){(0,i.assertStruct)(e,n.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},n.isJsonRpcRequest=function(e){return(0,r.is)(e,n.JsonRpcRequestStruct)},n.assertIsJsonRpcRequest=function(e,t){(0,i.assertStruct)(e,n.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},n.PendingJsonRpcResponseStruct=(0,r.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:(0,r.optional)((0,r.unknown)()),error:(0,r.optional)(n.JsonRpcErrorStruct)}),n.JsonRpcSuccessStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,result:n.JsonStruct}),n.JsonRpcFailureStruct=(0,n.object)({id:n.JsonRpcIdStruct,jsonrpc:n.JsonRpcVersionStruct,error:n.JsonRpcErrorStruct}),n.JsonRpcResponseStruct=(0,r.union)([n.JsonRpcSuccessStruct,n.JsonRpcFailureStruct]),n.isPendingJsonRpcResponse=function(e){return(0,r.is)(e,n.PendingJsonRpcResponseStruct)},n.assertIsPendingJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,n.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},n.isJsonRpcResponse=function(e){return(0,r.is)(e,n.JsonRpcResponseStruct)},n.assertIsJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,n.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},n.isJsonRpcSuccess=function(e){return(0,r.is)(e,n.JsonRpcSuccessStruct)},n.assertIsJsonRpcSuccess=function(e,t){(0,i.assertStruct)(e,n.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},n.isJsonRpcFailure=function(e){return(0,r.is)(e,n.JsonRpcFailureStruct)},n.assertIsJsonRpcFailure=function(e,t){(0,i.assertStruct)(e,n.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},n.isJsonRpcError=function(e){return(0,r.is)(e,n.JsonRpcErrorStruct)},n.assertIsJsonRpcError=function(e,t){(0,i.assertStruct)(e,n.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},n.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:n,permitNull:r}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||r&&null===e)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/json.cjs"}],[2952,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/keyring.cjs"}],[2953,{debug:4226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.createModuleLogger=n.createProjectLogger=void 0;const i=(0,r(e("debug")).default)("metamask");n.createProjectLogger=function(e){return i.extend(e)},n.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/logging.cjs"}],[2954,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateNumberSize=n.calculateStringSize=n.isASCII=n.isPlainObject=n.ESCAPE_CHARACTERS_REGEXP=n.JsonSize=n.getKnownPropertyNames=n.hasProperty=n.isObject=n.isNullOrUndefined=n.isNonEmptyArray=void 0,n.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},n.isNullOrUndefined=function(e){return null===e||e===undefined},n.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function r(e){return e.charCodeAt(0)<=127}n.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),n.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(n.JsonSize||(n.JsonSize={})),n.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,n.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},n.isASCII=r,n.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>r(t)?e+1:e+2),0)+(e.match(n.ESCAPE_CHARACTERS_REGEXP)??[]).length},n.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/misc.cjs"}],[2955,{"./assert.cjs":2940,"./hex.cjs":2949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hexToBigInt=n.hexToNumber=n.bigIntToHex=n.numberToHex=void 0;const r=e("./assert.cjs"),i=e("./hex.cjs");n.numberToHex=e=>((0,r.assert)("number"==typeof e,"Value must be a number."),(0,r.assert)(e>=0,"Value must be a non-negative number."),(0,r.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16)));n.bigIntToHex=e=>((0,r.assert)("bigint"==typeof e,"Value must be a bigint."),(0,r.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16)));n.hexToNumber=e=>{(0,i.assertIsHexString)(e);const t=parseInt(e,16);return(0,r.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};n.hexToBigInt=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/number.cjs"}],[2956,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/opaque.cjs"}],[2957,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createDeferredPromise=void 0,n.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,n;const r=new Promise(((e,r)=>{t=e,n=r}));return e&&r.catch((e=>{})),{promise:r,resolve:t,reject:n}}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/promise.cjs"}],[2958,{"@metamask/superstruct":2872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.definePattern=void 0;const r=e("@metamask/superstruct");n.definePattern=function(e,t){return(0,r.define)(e,(e=>"string"==typeof e&&t.test(e)))}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/superstruct.cjs"}],[2959,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.timeSince=n.inMilliseconds=n.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(n.Duration||(n.Duration={}));const r=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};n.inMilliseconds=function(e,t){return r(e,"count"),e*t},n.timeSince=function(e){return r(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/time.cjs"}],[2960,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/transaction-types.cjs"}],[2961,{"./assert.cjs":2940,"@metamask/superstruct":2872,semver:5547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.satisfiesVersionRange=n.gtRange=n.gtVersion=n.assertIsSemVerRange=n.assertIsSemVerVersion=n.isValidSemVerRange=n.isValidSemVerVersion=n.VersionRangeStruct=n.VersionStruct=void 0;const r=e("@metamask/superstruct"),i=e("semver"),o=e("./assert.cjs");n.VersionStruct=(0,r.refine)((0,r.string)(),"Version",(e=>null!==(0,i.valid)(e)||`Expected SemVer version, got "${e}"`)),n.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",(e=>null!==(0,i.validRange)(e)||`Expected SemVer range, got "${e}"`)),n.isValidSemVerVersion=function(e){return(0,r.is)(e,n.VersionStruct)},n.isValidSemVerRange=function(e){return(0,r.is)(e,n.VersionRangeStruct)},n.assertIsSemVerVersion=function(e){(0,o.assertStruct)(e,n.VersionStruct)},n.assertIsSemVerRange=function(e){(0,o.assertStruct)(e,n.VersionRangeStruct)},n.gtVersion=function(e,t){return(0,i.gt)(e,t)},n.gtRange=function(e,t){return(0,i.gtr)(e,t)},n.satisfiesVersionRange=function(e,t){return(0,i.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/utils",file:"node_modules/@metamask/utils/dist/versions.cjs"}],[2963,{"./utils":2973,assert:4070,buffer:4074},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=r(e("assert")),o=e("./utils");let s=[];var a;!function(e){e.STANDARD="standard",e.URI="uri",e.MINIMAL="minimal"}(a||(a={}));const c=e=>"ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom".slice(4*e,4*e+4),u=e=>`${e}${o.getCRCHex(t.from(e,"hex"))}`,l=(e,n)=>{const r=u(e);return t.from(r,"hex").reduce(((e,t)=>[...e,c(t)]),[]).join(n)},d=e=>{const n=u(e);return t.from(n,"hex").reduce(((e,t)=>e+(e=>{const t=c(e);return`${t[0]}${t[3]}`})(t)),"")},f=(e,n,r)=>{const a=(4==r?e.split(n):o.partition(e,2)).map((e=>((e,n)=>{i.default(e.length===n,"Invalid Bytewords: word.length does not match wordLength provided");const r=26;if(0===s.length){s=[...new Array(676)].map((()=>-1));for(let e=0;e<256;e++){const t=c(e);let n=t[0].charCodeAt(0)-"a".charCodeAt(0),i=t[3].charCodeAt(0)-"a".charCodeAt(0);s[i*r+n]=e}}let o=e[0].toLowerCase().charCodeAt(0)-"a".charCodeAt(0),a=e[4==n?3:1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0);i.default(0<=o&&o<r&&0<=a&&a<r,"Invalid Bytewords: invalid word");let u=s[a*r+o];if(i.default(-1!==u,"Invalid Bytewords: value not in lookup table"),4==n){const t=c(u);let n=e[1].toLowerCase(),r=e[2].toLowerCase();i.default(n===t[1]&&r===t[2],"Invalid Bytewords: invalid middle letters of word")}return t.from([u]).toString("hex")})(e,r))).join("");i.default(a.length>=5,"Invalid Bytewords: invalid decoded string length");const[u,l]=o.split(t.from(a,"hex"),4),d=o.getCRCHex(u);return i.default(d===l.toString("hex"),"Invalid Checksum"),u.toString("hex")};n.default={decode:(e,t=a.MINIMAL)=>{switch(t){case a.STANDARD:return f(e," ",4);case a.URI:return f(e,"-",4);case a.MINIMAL:return f(e,"",2);default:throw new Error(`Invalid style ${t}`)}},encode:(e,t=a.MINIMAL)=>{switch(t){case a.STANDARD:return l(e," ");case a.URI:return l(e,"-");case a.MINIMAL:return d(e);default:throw new Error(`Invalid style ${t}`)}},STYLES:a}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/bytewords.js"}],[2964,{buffer:4074,"cbor-sync":4092},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.cborDecode=n.cborEncode=void 0;const r=e("cbor-sync");n.cborEncode=e=>r.encode(e);n.cborDecode=e=>r.decode(t.isBuffer(e)?e:t.from(e,"hex"))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/cbor.js"}],[2965,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InvalidChecksumError=n.InvalidSequenceComponentError=n.InvalidTypeError=n.InvalidPathLengthError=n.InvalidSchemeError=void 0;class r extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}}n.InvalidSchemeError=r;class i extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}}n.InvalidPathLengthError=i;class o extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}}n.InvalidTypeError=o;class s extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}}n.InvalidSequenceComponentError=s;class a extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}}n.InvalidChecksumError=a}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/errors.js"}],[2966,{"./errors":2965,"./fountainUtils":2968,"./utils":2973,buffer:4074},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.FountainDecoderPart=void 0;const r=e("./utils"),i=e("./fountainUtils"),o=e("./errors");class s{constructor(e,t){this._indexes=e,this._fragment=t}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(e){const t=i.chooseFragments(e.seqNum,e.seqLength,e.checksum),n=e.fragment;return new s(t,n)}isSimple(){return 1===this.indexes.length}}n.FountainDecoderPart=s;class a{constructor(){this.result=undefined,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(e){if(0===this.expectedPartIndexes.length)[...new Array(e.seqLength)].forEach(((e,t)=>this.expectedPartIndexes.push(t))),this.expectedMessageLength=e.messageLength,this.expectedChecksum=e.checksum,this.expectedFragmentLength=e.fragment.length;else{if(this.expectedPartIndexes.length!==e.seqLength)return!1;if(this.expectedMessageLength!==e.messageLength)return!1;if(this.expectedChecksum!==e.checksum)return!1;if(this.expectedFragmentLength!==e.fragment.length)return!1}return!0}reducePartByPart(e,t){if(r.arrayContains(e.indexes,t.indexes)){const n=r.setDifference(e.indexes,t.indexes),i=r.bufferXOR(e.fragment,t.fragment);return new s(n,i)}return e}reduceMixedBy(e){const t=[];this.mixedParts.map((({value:t})=>this.reducePartByPart(t,e))).forEach((e=>{e.isSimple()?this.queuedParts.push(e):t.push({key:e.indexes,value:e})})),this.mixedParts=t}processSimplePart(e){const t=e.indexes[0];if(!this.receivedPartIndexes.includes(t))if(this.simpleParts.push({key:e.indexes,value:e}),this.receivedPartIndexes.push(t),r.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){const e=this.simpleParts.map((({value:e})=>e)).sort(((e,t)=>e.indexes[0]-t.indexes[0])),t=a.joinFragments(e.map((e=>e.fragment)),this.expectedMessageLength);r.getCRC(t)===this.expectedChecksum?this.result=t:this.error=new o.InvalidChecksumError}else this.reduceMixedBy(e)}processMixedPart(e){if(this.mixedParts.some((({key:t})=>r.arraysEqual(t,e.indexes))))return;let t=this.simpleParts.reduce(((e,{value:t})=>this.reducePartByPart(e,t)),e);t=this.mixedParts.reduce(((e,{value:t})=>this.reducePartByPart(e,t)),t),t.isSimple()?this.queuedParts.push(t):(this.reduceMixedBy(t),this.mixedParts.push({key:t.indexes,value:t}))}processQueuedItem(){if(0===this.queuedParts.length)return;const e=this.queuedParts.shift();e.isSimple()?this.processSimplePart(e):this.processMixedPart(e)}receivePart(e){if(this.isComplete())return!1;if(!this.validatePart(e))return!1;const t=s.fromEncoderPart(e);for(this.lastPartIndexes=t.indexes,this.queuedParts.push(t);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return Boolean(this.result!==undefined&&this.result.length>0)}isSuccess(){return Boolean(this.error===undefined&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:t.from([])}isFailure(){return this.error!==undefined}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;const e=this.expectedPartCount();return 0===e?0:Math.min(.99,this.processedPartsCount/(1.75*e))}getProgress(){if(this.isComplete())return 1;const e=this.expectedPartCount();return 0===e?0:this.receivedPartIndexes.length/e}}n.default=a,a.joinFragments=(e,n)=>t.concat(e).slice(0,n)}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainDecoder.js"}],[2967,{"./cbor":2964,"./fountainUtils":2968,"./utils":2973,assert:4070,buffer:4074},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.FountainEncoderPart=void 0;const i=r(e("assert")),o=e("./utils"),s=e("./fountainUtils"),a=e("./cbor");class c{constructor(e,t,n,r,i){this._seqNum=e,this._seqLength=t,this._messageLength=n,this._checksum=r,this._fragment=i}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){const e=a.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return t.from(e)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(e){const[n,r,o,s,u]=a.cborDecode(e);return i.default("number"==typeof n),i.default("number"==typeof r),i.default("number"==typeof o),i.default("number"==typeof s),i.default(t.isBuffer(u)&&u.length>0),new c(n,r,o,s,t.from(u))}}n.FountainEncoderPart=c;class u{constructor(e,t=100,n=0,r=10){const i=u.findNominalFragmentLength(e.length,r,t);this._messageLength=e.length,this._fragments=u.partitionMessage(e,i),this.fragmentLength=i,this.seqNum=o.toUint32(n),this.checksum=o.getCRC(e)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return 1===this._fragments.length}seqLength(){return this._fragments.length}mix(e){return e.reduce(((e,t)=>o.bufferXOR(this._fragments[t],e)),t.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=o.toUint32(this.seqNum+1);const e=s.chooseFragments(this.seqNum,this._fragments.length,this.checksum),t=this.mix(e);return new c(this.seqNum,this._fragments.length,this._messageLength,this.checksum,t)}static findNominalFragmentLength(e,t,n){i.default(e>0),i.default(t>0),i.default(n>=t);const r=Math.ceil(e/t);let o=0;for(let t=1;t<=r&&(o=Math.ceil(e/t),!(o<=n));t++);return o}static partitionMessage(e,n){let r,i=t.from(e),s=[];for(;i.length>0;)[r,i]=o.split(i,-n),r=t.alloc(n,0).fill(r,0,r.length),s.push(r);return s}}n.default=u}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainEncoder.js"}],[2968,{"./utils":2973,"./xoshiro":2974,"@keystonehq/alias-sampling":610,buffer:4074},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.chooseFragments=n.shuffle=n.chooseDegree=void 0;const i=e("./utils"),o=r(e("./xoshiro")),s=r(e("@keystonehq/alias-sampling"));n.chooseDegree=(e,t)=>{const n=[...new Array(e)].map(((e,t)=>1/(t+1)));return s.default(n,undefined,t.nextDouble).next()+1};n.shuffle=(e,t)=>{let n=[...e],r=[];for(;n.length>0;){let e=t.nextInt(0,n.length-1),i=n[e];n.splice(e,1),r.push(i)}return r};n.chooseFragments=(e,r,s)=>{if(e<=r)return[e-1];{const a=t.concat([i.intToBytes(e),i.intToBytes(s)]),c=new o.default(a),u=n.chooseDegree(r,c),l=[...new Array(r)].map(((e,t)=>t));return n.shuffle(l,c).slice(0,u)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/fountainUtils.js"}],[2969,{"./ur":2970,"./urDecoder":2971,"./urEncoder":2972},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.URDecoder=n.UREncoder=n.UR=void 0;const i=r(e("./ur"));n.UR=i.default;const o=r(e("./urEncoder"));n.UREncoder=o.default;const s=r(e("./urDecoder"));n.URDecoder=s.default}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/index.js"}],[2970,{"./cbor":2964,"./errors":2965,"./utils":2973,buffer:4074},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./errors"),i=e("./utils"),o=e("./cbor");class s{constructor(e,t="bytes"){if(this._cborPayload=e,this._type=t,!i.isURType(this._type))throw new r.InvalidTypeError}static fromBuffer(e){return new s(o.cborEncode(e))}static from(e,n){return s.fromBuffer(t.from(e,n))}decodeCBOR(){return o.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(e){return this.type===e.type&&this.cbor.equals(e.cbor)}}n.default=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/ur.js"}],[2971,{"./bytewords":2963,"./errors":2965,"./fountainDecoder":2966,"./fountainEncoder":2967,"./ur":2970,"./utils":2973,assert:4070,buffer:4074},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=r(e("./fountainDecoder")),o=r(e("./bytewords")),s=r(e("assert")),a=e("./utils"),c=e("./errors"),u=r(e("./ur")),l=e("./fountainEncoder");class d{constructor(e=new i.default,t="bytes"){this.fountainDecoder=e,this.type=t,s.default(a.isURType(t),"Invalid UR type"),this.expected_type=""}static decodeBody(e,n){const r=o.default.decode(n,o.default.STYLES.MINIMAL);return new u.default(t.from(r,"hex"),e)}validatePart(e){return this.expected_type?this.expected_type===e:!!a.isURType(e)&&(this.expected_type=e,!0)}static decode(e){const[t,n]=this.parse(e);if(0===n.length)throw new c.InvalidPathLengthError;const r=n[0];return d.decodeBody(t,r)}static parse(e){const t=e.toLowerCase();if("ur:"!==t.slice(0,3))throw new c.InvalidSchemeError;const n=t.slice(3).split("/"),r=n[0];if(n.length<2)throw new c.InvalidPathLengthError;if(!a.isURType(r))throw new c.InvalidTypeError;return[r,n.slice(1)]}static parseSequenceComponent(e){const t=e.split("-");if(2!==t.length)throw new c.InvalidSequenceComponentError;const n=a.toUint32(Number(t[0])),r=Number(t[1]);if(n<1||r<1)throw new c.InvalidSequenceComponentError;return[n,r]}receivePart(e){if(this.result!==undefined)return!1;const[t,n]=d.parse(e);if(!this.validatePart(t))return!1;if(1===n.length)return this.result=d.decodeBody(t,n[0]),!0;if(2!==n.length)throw new c.InvalidPathLengthError;const[r,i]=n,[s,a]=d.parseSequenceComponent(r),f=o.default.decode(i,o.default.STYLES.MINIMAL),h=l.FountainEncoderPart.fromCBOR(f);return s===h.seqNum&&a===h.seqLength&&(!!this.fountainDecoder.receivePart(h)&&(this.fountainDecoder.isSuccess()?this.result=new u.default(this.fountainDecoder.resultMessage(),t):this.fountainDecoder.isFailure()&&(this.error=new c.InvalidSchemeError),!0))}resultUR(){return this.result?this.result:new u.default(t.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return this.error!==undefined}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}}n.default=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/urDecoder.js"}],[2972,{"./bytewords":2963,"./fountainEncoder":2967},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=r(e("./fountainEncoder")),o=r(e("./bytewords"));class s{constructor(e,t,n,r){this.ur=e,this.fountainEncoder=new i.default(e.cbor,t,n,r)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map((()=>this.nextPart()))}nextPart(){const e=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?s.encodeSinglePart(this.ur):s.encodePart(this.ur.type,e)}static encodeUri(e,t){return[e,t.join("/")].join(":")}static encodeUR(e){return s.encodeUri("ur",e)}static encodePart(e,t){const n=`${t.seqNum}-${t.seqLength}`,r=o.default.encode(t.cbor().toString("hex"),o.default.STYLES.MINIMAL);return s.encodeUR([e,n,r])}static encodeSinglePart(e){const t=o.default.encode(e.cbor.toString("hex"),o.default.STYLES.MINIMAL);return s.encodeUR([e.type,t])}}n.default=s}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/urEncoder.js"}],[2973,{buffer:4074,crc:4169,"sha.js":5569},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.bufferXOR=n.setDifference=n.arrayContains=n.arraysEqual=n.hasPrefix=n.isURType=n.intToBytes=n.toUint32=n.getCRCHex=n.getCRC=n.split=n.partition=n.sha256Hash=void 0;const i=r(e("sha.js")),o=e("crc");n.sha256Hash=e=>i.default("sha256").update(e).digest();n.partition=(e,t)=>e.match(new RegExp(".{1,"+t+"}","g"))||[e];n.split=(e,t)=>[e.slice(0,-t),e.slice(-t)];n.getCRC=e=>o.crc32(e);n.getCRCHex=e=>o.crc32(e).toString(16).padStart(8,"0");n.toUint32=e=>e>>>0;n.intToBytes=e=>{const n=new ArrayBuffer(4);return new DataView(n).setUint32(0,e,!1),t.from(n)};n.isURType=e=>e.split("").every(((t,n)=>{let r=e.charCodeAt(n);return"a".charCodeAt(0)<=r&&r<="z".charCodeAt(0)||("0".charCodeAt(0)<=r&&r<="9".charCodeAt(0)||r==="-".charCodeAt(0))}));n.hasPrefix=(e,t)=>0===e.indexOf(t);n.arraysEqual=(e,t)=>e.length===t.length&&e.every((e=>t.includes(e)));n.arrayContains=(e,t)=>t.every((t=>e.includes(t)));n.setDifference=(e,t)=>e.filter((e=>t.indexOf(e)<0));n.bufferXOR=(e,n)=>{const r=Math.max(e.length,n.length),i=t.allocUnsafe(r);for(let t=0;t<r;++t)i[t]=e[t]^n[t];return i}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/utils.js"}],[2974,{"./utils":2973,"bignumber.js":2975,jsbi:4686},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=e("./utils"),o=r(e("bignumber.js")),s=r(e("jsbi")),a=(e,t)=>s.default.bitwiseXor(s.default.asUintN(64,s.default.leftShift(e,s.default.BigInt(t))),s.default.BigInt(s.default.asUintN(64,s.default.signedRightShift(e,s.default.subtract(s.default.BigInt(64),s.default.BigInt(t))))));n.default=class{constructor(e){this.next=()=>new o.default(this.roll().toString()),this.nextDouble=()=>new o.default(this.roll().toString()).div(0x10000000000000000),this.nextInt=(e,t)=>Math.floor(this.nextDouble().toNumber()*(t-e+1)+e),this.nextByte=()=>this.nextInt(0,255),this.nextData=e=>[...new Array(e)].map((()=>this.nextByte()));const t=i.sha256Hash(e);this.s=[s.default.BigInt(0),s.default.BigInt(0),s.default.BigInt(0),s.default.BigInt(0)],this.setS(t)}setS(e){for(let t=0;t<4;t++){let n=8*t,r=s.default.BigInt(0);for(let t=0;t<8;t++)r=s.default.asUintN(64,s.default.leftShift(r,s.default.BigInt(8))),r=s.default.asUintN(64,s.default.bitwiseOr(r,s.default.BigInt(e[n+t])));this.s[t]=s.default.asUintN(64,r)}}roll(){const e=s.default.asUintN(64,s.default.multiply(a(s.default.asUintN(64,s.default.multiply(this.s[1],s.default.BigInt(5))),7),s.default.BigInt(9))),t=s.default.asUintN(64,s.default.leftShift(this.s[1],s.default.BigInt(17)));return this.s[2]=s.default.asUintN(64,s.default.bitwiseXor(this.s[2],s.default.BigInt(this.s[0]))),this.s[3]=s.default.asUintN(64,s.default.bitwiseXor(this.s[3],s.default.BigInt(this.s[1]))),this.s[1]=s.default.asUintN(64,s.default.bitwiseXor(this.s[1],s.default.BigInt(this.s[2]))),this.s[0]=s.default.asUintN(64,s.default.bitwiseXor(this.s[0],s.default.BigInt(this.s[3]))),this.s[2]=s.default.asUintN(64,s.default.bitwiseXor(this.s[2],s.default.BigInt(t))),this.s[3]=s.default.asUintN(64,a(this.s[3],45)),e}}}}},{package:"@ngraveio/bc-ur",file:"node_modules/@ngraveio/bc-ur/dist/xoshiro.js"}],[2975,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,h=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=u-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,c=e.e,u=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==u,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>u^n?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==u?0:c>u^n?1:-1}function y(e,t,n,r){if(e<t||e>n||e!==o(e))throw Error(s+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function w(e){var t=e.c.length-1;return p(e.e/u)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function v(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}n=function e(t){var n,E,A,T,x,S,k,I,C,j,P=H.prototype={constructor:H,toString:null,valueOf:null},_=new H(1),O=20,B=4,R=-7,N=21,L=-1e7,F=1e7,M=!1,D=1,U=0,G={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},z="0123456789abcdefghijklmnopqrstuvwxyz",$=!0;function H(e,t){var n,i,s,c,d,f,h,p,m=this;if(!(m instanceof H))return new H(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>F?m.c=m.e=null:e.e<L?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>F?m.c=m.e=null:(m.e=c,m.c=[e]))}p=String(e)}else{if(!r.test(p=String(e)))return A(m,p,f);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(c=p.indexOf("."))>-1&&(p=p.replace(".","")),(d=p.search(/e/i))>0?(c<0&&(c=d),c+=+p.slice(d+1),p=p.substring(0,d)):c<0&&(c=p.length)}else{if(y(t,2,z.length,"Base"),10==t&&$)return K(m=new H(e),O+m.e+1,B);if(p=String(e),f="number"==typeof e){if(0*e!=0)return A(m,p,f,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,H.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=z.slice(0,t),c=d=0,h=p.length;d<h;d++)if(n.indexOf(i=p.charAt(d))<0){if("."==i){if(d>c){c=h;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,d=-1,c=0;continue}return A(m,String(e),f,t)}f=!1,(c=(p=E(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):c=p.length}for(d=0;48===p.charCodeAt(d);d++);for(h=p.length;48===p.charCodeAt(--h););if(p=p.slice(d,++h)){if(h-=d,f&&H.DEBUG&&h>15&&(e>l||e!==o(e)))throw Error(a+m.s*e);if((c=c-d-1)>F)m.c=m.e=null;else if(c<L)m.c=[m.e=0];else{if(m.e=c,m.c=[],d=(c+1)%u,c<0&&(d+=u),d<h){for(d&&m.c.push(+p.slice(0,d)),h-=u;d<h;)m.c.push(+p.slice(d,d+=u));d=u-(p=p.slice(d)).length}else d-=h;for(;d--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function W(e,t,n,r){var i,o,s,a,c;if(null==n?n=B:y(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=m(e.c),c=1==r||2==r&&(s<=R||s>=N)?b(c,s):v(c,s,"0");else if(o=(e=K(new H(e),t,n)).e,a=(c=m(e.c)).length,1==r||2==r&&(t<=o||o<=R)){for(;a<t;c+="0",a++);c=b(c,o)}else if(t-=s,c=v(c,o,"0"),o+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=o-a)>0)for(o+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function q(e,t){for(var n,r,i=1,o=new H(e[0]);i<e.length;i++)(!(r=new H(e[i])).s||(n=g(o,r))===t||0===n&&o.s===t)&&(o=r);return o}function V(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*u-1)>F?e.c=e.e=null:n<L?e.c=[e.e=0]:(e.e=n,e.c=t),e}function K(e,t,n,r){var s,a,l,f,h,p,m,g=e.c,y=d;if(g){e:{for(s=1,f=g[0];f>=10;f/=10,s++);if((a=t-s)<0)a+=u,l=t,h=g[p=0],m=o(h/y[s-l-1]%10);else if((p=i((a+1)/u))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));h=m=0,s=1,l=(a%=u)-u+1}else{for(h=f=g[p],s=1;f>=10;f/=10,s++);m=(l=(a%=u)-u+s)<0?0:o(h/y[s-l-1]%10)}if(r=r||t<0||null!=g[p+1]||(l<0?h:h%y[s-l-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(a>0?l>0?h/y[s-l]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=y[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,f=1,p--):(g.length=p+1,f=y[u-a],g[p]=l>0?o(h/y[s-l]%y[l])*f:0),r)for(;;){if(0==p){for(a=1,l=g[0];l>=10;l/=10,a++);for(l=g[0]+=f,f=1;l>=10;l/=10,f++);a!=f&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[p]+=f,g[p]!=c)break;g[p--]=0,f=1}for(a=g.length;0===g[--a];g.pop());}e.e>F?e.c=e.e=null:e.e<L&&(e.c=[e.e=0])}return e}function Z(e){var t,n=e.e;return null===n?e.toString():(t=m(e.c),t=n<=R||n>=N?b(t,n):v(t,n,"0"),e.s<0?"-"+t:t)}return H.clone=e,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(n=e[t],0,h,t),O=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(n=e[t],0,8,t),B=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(y(n[0],-h,0,t),y(n[1],0,h,t),R=n[0],N=n[1]):(y(n,-h,h,t),R=-(N=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)y(n[0],-h,-1,t),y(n[1],1,h,t),L=n[0],F=n[1];else{if(y(n,-h,h,t),!n)throw Error(s+t+" cannot be zero: "+n);L=-(F=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw M=!n,Error(s+"crypto unavailable");M=n}else M=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(n=e[t],0,9,t),D=n),e.hasOwnProperty(t="POW_PRECISION")&&(y(n=e[t],0,h,t),U=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(s+t+" not an object: "+n);G=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(s+t+" invalid: "+n);$="0123456789"==n.slice(0,10),z=n}}return{DECIMAL_PLACES:O,ROUNDING_MODE:B,EXPONENTIAL_AT:[R,N],RANGE:[L,F],CRYPTO:M,MODULO_MODE:D,POW_PRECISION:U,FORMAT:G,ALPHABET:z}},H.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!H.DEBUG)return!0;var t,n,r=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&i>=-h&&i<=h&&i===o(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%u)<1&&(t+=u),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==o(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},H.maximum=H.max=function(){return q(arguments,-1)},H.minimum=H.min=function(){return q(arguments,1)},H.random=(T=9007199254740992,x=Math.random()*T&2097151?function(){return o(Math.random()*T)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,c,l=0,f=[],p=new H(_);if(null==e?e=O:y(e,0,h),a=i(e/u),M)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(c=131072*t[l]+(t[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[l]=n[0],t[l+1]=n[1]):(f.push(c%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw M=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(c=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(f.push(c%1e14),l+=7);l=a/7}if(!M)for(;l<a;)(c=x())<9e15&&(f[l++]=c%1e14);for(a=f[--l],e%=u,a&&e&&(c=d[u-e],f[l]=o(a/c)*c);0===f[l];f.pop(),l--);if(l<0)f=[r=0];else{for(r=-1;0===f[0];f.splice(0,1),r-=u);for(l=1,c=f[0];c>=10;c/=10,l++);l<u&&(r-=u-l)}return p.e=r,p.c=f,p}),H.sum=function(){for(var e=1,t=arguments,n=new H(t[0]);e<t.length;)n=n.plus(t[e++]);return n},E=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,s=[0],a=0,c=e.length;a<c;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,a){var c,u,l,d,f,h,p,g,y=r.indexOf("."),w=O,b=B;for(y>=0&&(d=U,U=0,r=r.replace(".",""),h=(g=new H(i)).pow(r.length-y),U=d,g.c=t(v(m(h.c),h.e,"0"),10,o,e),g.e=g.c.length),l=d=(p=t(r,i,o,a?(c=z,e):(c=e,z))).length;0==p[--d];p.pop());if(!p[0])return c.charAt(0);if(y<0?--l:(h.c=p,h.e=l,h.s=s,p=(h=n(h,g,w,b,o)).c,f=h.r,l=h.e),y=p[u=l+w+1],d=o/2,f=f||u<0||null!=p[u+1],f=b<4?(null!=y||f)&&(0==b||b==(h.s<0?3:2)):y>d||y==d&&(4==b||f||6==b&&1&p[u-1]||b==(h.s<0?8:7)),u<1||!p[0])r=f?v(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(p.length=u,f)for(--o;++p[--u]>o;)p[u]=0,u||(++l,p=[1].concat(p));for(d=p.length;!p[--d];);for(y=0,r="";y<=d;r+=c.charAt(p[y++]));r=v(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,o,s,a=0,c=e.length,u=t%f,l=t/f|0;for(e=e.slice();c--;)a=((i=u*(o=e[c]%f)+(r=l*o+(s=e[c]/f|0)*u)%f*f+a)/n|0)+(r/f|0)+l*s,e[c]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,a,l){var d,f,h,m,g,y,w,b,v,E,A,T,x,S,k,I,C,j=r.s==i.s?1:-1,P=r.c,_=i.c;if(!(P&&P[0]&&_&&_[0]))return new H(r.s&&i.s&&(P?!_||P[0]!=_[0]:_)?P&&0==P[0]||!_?0*j:j/0:NaN);for(v=(b=new H(j)).c=[],j=s+(f=r.e-i.e)+1,l||(l=c,f=p(r.e/u)-p(i.e/u),j=j/u|0),h=0;_[h]==(P[h]||0);h++);if(_[h]>(P[h]||0)&&f--,j<0)v.push(1),m=!0;else{for(S=P.length,I=_.length,h=0,j+=2,(g=o(l/(_[0]+1)))>1&&(_=e(_,g,l),P=e(P,g,l),I=_.length,S=P.length),x=I,A=(E=P.slice(0,I)).length;A<I;E[A++]=0);C=_.slice(),C=[0].concat(C),k=_[0],_[1]>=l/2&&k++;do{if(g=0,(d=t(_,E,I,A))<0){if(T=E[0],I!=A&&(T=T*l+(E[1]||0)),(g=o(T/k))>1)for(g>=l&&(g=l-1),w=(y=e(_,g,l)).length,A=E.length;1==t(y,E,w,A);)g--,n(y,I<w?C:_,w,l),w=y.length,d=1;else 0==g&&(d=g=1),w=(y=_.slice()).length;if(w<A&&(y=[0].concat(y)),n(E,y,A,l),A=E.length,-1==d)for(;t(_,E,I,A)<1;)g++,n(E,I<A?C:_,A,l),A=E.length}else 0===d&&(g++,E=[0]);v[h++]=g,E[0]?E[A++]=P[x]||0:(E=[P[x]],A=1)}while((x++<S||null!=E[0])&&j--);m=null!=E[0],v[0]||v.splice(0,1)}if(l==c){for(h=1,j=v[0];j>=10;j/=10,h++);K(b,s+(b.e=h+f*u-1)+1,a,m)}else b.e=f,b.r=+m;return b}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,I=/^\.([^.]+)$/,C=/^-?(Infinity|NaN)$/,j=/^\s*\+(?=[\w.])|^\s+|\s+$/g,A=function(e,t,n,r){var i,o=n?t:t.replace(j,"");if(C.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(S,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,o=o.replace(k,"$1").replace(I,"0.$1")),t!=o))return new H(o,i);if(H.DEBUG)throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},P.absoluteValue=P.abs=function(){var e=new H(this);return e.s<0&&(e.s=1),e},P.comparedTo=function(e,t){return g(this,new H(e,t))},P.decimalPlaces=P.dp=function(e,t){var n,r,i,o=this;if(null!=e)return y(e,0,h),null==t?t=B:y(t,0,8),K(new H(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-p(this.e/u))*u,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},P.dividedBy=P.div=function(e,t){return n(this,new H(e,t),O,B)},P.dividedToIntegerBy=P.idiv=function(e,t){return n(this,new H(e,t),0,1)},P.exponentiatedBy=P.pow=function(e,t){var n,r,a,c,l,d,f,h,p=this;if((e=new H(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+Z(e));if(null!=t&&(t=new H(t)),l=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new H(Math.pow(+Z(p),l?e.s*(2-w(e)):+Z(e))),t?h.mod(t):h;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new H(NaN);(r=!d&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return c=p.s<0&&w(e)?-0:0,p.e>-1&&(c=1/c),new H(d?1/c:c);U&&(c=i(U/u+2))}for(l?(n=new H(.5),d&&(e.s=1),f=w(e)):f=(a=Math.abs(+Z(e)))%2,h=new H(_);;){if(f){if(!(h=h.times(p)).c)break;c?h.c.length>c&&(h.c.length=c):r&&(h=h.mod(t))}if(a){if(0===(a=o(a/2)))break;f=a%2}else if(K(e=e.times(n),e.e+1,1),e.e>14)f=w(e);else{if(0===(a=+Z(e)))break;f=a%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):r&&(p=p.mod(t))}return r?h:(d&&(h=_.div(h)),t?h.mod(t):c?K(h,U,B,undefined):h)},P.integerValue=function(e){var t=new H(this);return null==e?e=B:y(e,0,8),K(t,t.e+1,e)},P.isEqualTo=P.eq=function(e,t){return 0===g(this,new H(e,t))},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(e,t){return g(this,new H(e,t))>0},P.isGreaterThanOrEqualTo=P.gte=function(e,t){return 1===(t=g(this,new H(e,t)))||0===t},P.isInteger=function(){return!!this.c&&p(this.e/u)>this.c.length-2},P.isLessThan=P.lt=function(e,t){return g(this,new H(e,t))<0},P.isLessThanOrEqualTo=P.lte=function(e,t){return-1===(t=g(this,new H(e,t)))||0===t},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.minus=function(e,t){var n,r,i,o,s=this,a=s.s;if(t=(e=new H(e,t)).s,!a||!t)return new H(NaN);if(a!=t)return e.s=-t,s.plus(e);var l=s.e/u,d=e.e/u,f=s.c,h=e.c;if(!l||!d){if(!f||!h)return f?(e.s=-t,e):new H(h?s:NaN);if(!f[0]||!h[0])return h[0]?(e.s=-t,e):new H(f[0]?s:3==B?-0:0)}if(l=p(l),d=p(d),f=f.slice(),a=l-d){for((o=a<0)?(a=-a,i=f):(d=l,i=h),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(o=(a=f.length)<(t=h.length))?a:t,a=t=0;t<r;t++)if(f[t]!=h[t]){o=f[t]<h[t];break}if(o&&(i=f,f=h,h=i,e.s=-e.s),(t=(r=h.length)-(n=f.length))>0)for(;t--;f[n++]=0);for(t=c-1;r>a;){if(f[--r]<h[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=c}f[r]-=h[r]}for(;0==f[0];f.splice(0,1),--d);return f[0]?V(e,f,d):(e.s=3==B?-1:1,e.c=[e.e=0],e)},P.modulo=P.mod=function(e,t){var r,i,o=this;return e=new H(e,t),!o.c||!e.s||e.c&&!e.c[0]?new H(NaN):!e.c||o.c&&!o.c[0]?new H(o):(9==D?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,D),(e=o.minus(r.times(e))).c[0]||1!=D||(e.s=o.s),e)},P.multipliedBy=P.times=function(e,t){var n,r,i,o,s,a,l,d,h,m,g,y,w,b,v,E=this,A=E.c,T=(e=new H(e,t)).c;if(!(A&&T&&A[0]&&T[0]))return!E.s||!e.s||A&&!A[0]&&!T||T&&!T[0]&&!A?e.c=e.e=e.s=null:(e.s*=E.s,A&&T?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p(E.e/u)+p(e.e/u),e.s*=E.s,(l=A.length)<(m=T.length)&&(w=A,A=T,T=w,i=l,l=m,m=i),i=l+m,w=[];i--;w.push(0));for(b=c,v=f,i=m;--i>=0;){for(n=0,g=T[i]%v,y=T[i]/v|0,o=i+(s=l);o>i;)n=((d=g*(d=A[--s]%v)+(a=y*d+(h=A[s]/v|0)*g)%v*v+w[o]+n)/b|0)+(a/v|0)+y*h,w[o--]=d%b;w[o]=n}return n?++r:w.splice(0,1),V(e,w,r)},P.negated=function(){var e=new H(this);return e.s=-e.s||null,e},P.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new H(e,t)).s,!i||!t)return new H(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/u,s=e.e/u,a=r.c,l=e.c;if(!o||!s){if(!a||!l)return new H(i/0);if(!a[0]||!l[0])return l[0]?e:new H(a[0]?r:0*i)}if(o=p(o),s=p(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=l):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=l.length)<0&&(n=l,l=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+l[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++s),V(e,a,s)},P.precision=P.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return y(e,1,h),null==t?t=B:y(t,0,8),K(new H(o),e,t);if(!(n=o.c))return null;if(r=(i=n.length-1)*u+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},P.shiftedBy=function(e){return y(e,-9007199254740991,l),this.times("1e"+e)},P.squareRoot=P.sqrt=function(){var e,t,r,i,o,s=this,a=s.c,c=s.s,u=s.e,l=O+4,d=new H("0.5");if(1!==c||!a||!a[0])return new H(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+Z(s)))||c==1/0?(((t=m(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=p((u+1)/2)-(u<0||u%2),r=new H(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new H(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(o=r,r=d.times(o.plus(n(s,o,l,1))),m(o.c).slice(0,c)===(t=m(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(K(r,r.e+O+2,1),e=!r.times(r).eq(s));break}if(!i&&(K(o,o.e+O+2,0),o.times(o).eq(s))){r=o;break}l+=4,c+=4,i=1}return K(r,r.e+O+1,B,e)},P.toExponential=function(e,t){return null!=e&&(y(e,0,h),e++),W(this,e,t,1)},P.toFixed=function(e,t){return null!=e&&(y(e,0,h),e=e+this.e+1),W(this,e,t)},P.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=G;else if("object"!=typeof n)throw Error(s+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var o,a=r.split("."),c=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||"",d=a[0],f=a[1],h=i.s<0,p=h?d.slice(1):d,m=p.length;if(u&&(o=c,c=u,u=o,m-=o),c>0&&m>0){for(o=m%c||c,d=p.substr(0,o);o<m;o+=c)d+=l+p.substr(o,c);u>0&&(d+=l+p.slice(o)),h&&(d="-"+d)}r=f?d+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):f):d}return(n.prefix||"")+r+(n.suffix||"")},P.toFraction=function(e){var t,r,i,o,a,c,l,f,h,p,g,y,w=this,b=w.c;if(null!=e&&(!(l=new H(e)).isInteger()&&(l.c||1!==l.s)||l.lt(_)))throw Error(s+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+Z(l));if(!b)return new H(w);for(t=new H(_),h=r=new H(_),i=f=new H(_),y=m(b),a=t.e=y.length-w.e-1,t.c[0]=d[(c=a%u)<0?u+c:c],e=!e||l.comparedTo(t)>0?a>0?t:h:l,c=F,F=1/0,l=new H(y),f.c[0]=0;p=n(l,t,0,1),1!=(o=r.plus(p.times(i))).comparedTo(e);)r=i,i=o,h=f.plus(p.times(o=h)),f=o,t=l.minus(p.times(o=t)),l=o;return o=n(e.minus(r),i,0,1),f=f.plus(o.times(h)),r=r.plus(o.times(i)),f.s=h.s=w.s,g=n(h,i,a*=2,B).minus(w).abs().comparedTo(n(f,r,a,B).minus(w).abs())<1?[h,i]:[f,r],F=c,g},P.toNumber=function(){return+Z(this)},P.toPrecision=function(e,t){return null!=e&&y(e,1,h),W(this,e,t,2)},P.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=i<=R||i>=N?b(m(n.c),i):v(m(n.c),i,"0"):10===e&&$?t=v(m((n=K(new H(n),O+i+1,B)).c),n.e,"0"):(y(e,2,z.length,"Base"),t=E(v(m(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},P.valueOf=P.toJSON=function(){return Z(this)},P._isBigNumber=!0,null!=t&&H.set(t),H}(),n.default=n.BigNumber=n,"function"==typeof define&&define.amd?define((function(){return n})):void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)}}},{package:"@ngraveio/bc-ur>bignumber.js",file:"node_modules/@ngraveio/bc-ur/node_modules/bignumber.js/bignumber.js"}],[2976,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function o(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function s(e,...t){if(!o(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("hash must be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){s(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(n,"__esModule",{value:!0}),n.output=n.exists=n.hash=n.bytes=n.bool=n.number=n.isBytes=void 0,n.number=r,n.bool=i,n.isBytes=o,n.bytes=s,n.hash=a,n.exists=c,n.output=u;const l={number:r,bool:i,bytes:s,hash:a,exists:c,output:u};n.default=l}}},{package:"@metamask/profile-sync-controller>@noble/ciphers",file:"node_modules/@noble/ciphers/_assert.js"}],[2977,{"./_assert.js":2976,"./utils.js":2980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.polyval=n.ghash=n._toGHASHKey=void 0;const r=e("./utils.js"),i=e("./_assert.js"),o=16,s=new Uint8Array(16),a=(0,r.u32)(s),c=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;function u(e){e.reverse();const t=1&e[15];let n=0;for(let t=0;t<e.length;t++){const r=e[t];e[t]=r>>>1|n,n=(1&r)<<7}return e[0]^=225&-t,e}n._toGHASHKey=u;class l{constructor(e,t){this.blockLen=o,this.outputLen=o,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,r.toBytes)(e),(0,i.bytes)(e,16);const n=(0,r.createView)(e);let s=n.getUint32(0,!1),a=n.getUint32(4,!1),u=n.getUint32(8,!1),l=n.getUint32(12,!1);const d=[];for(let e=0;e<128;e++)d.push({s0:c(s),s1:c(a),s2:c(u),s3:c(l)}),({s0:s,s1:a,s2:u,s3:l}={s3:(p=u)<<31|(m=l)>>>1,s2:(h=a)<<31|p>>>1,s1:(f=s)<<31|h>>>1,s0:f>>>1^225<<24&-(1&m)});var f,h,p,m;const g=(y=t||1024)>65536?8:y>1024?4:2;var y;if(![1,2,4,8].includes(g))throw new Error(`ghash: wrong window size=${g}, should be 2, 4 or 8`);this.W=g;const w=128/g,b=this.windowSize=2**g,v=[];for(let e=0;e<w;e++)for(let t=0;t<b;t++){let n=0,r=0,i=0,o=0;for(let s=0;s<g;s++){if(!(t>>>g-s-1&1))continue;const{s0:a,s1:c,s2:u,s3:l}=d[g*e+s];n^=a,r^=c,i^=u,o^=l}v.push({s0:n,s1:r,s2:i,s3:o})}this.t=v}_updateBlock(e,t,n,r){e^=this.s0,t^=this.s1,n^=this.s2,r^=this.s3;const{W:i,t:o,windowSize:s}=this;let a=0,c=0,u=0,l=0;const d=(1<<i)-1;let f=0;for(const h of[e,t,n,r])for(let e=0;e<4;e++){const t=h>>>8*e&255;for(let e=8/i-1;e>=0;e--){const n=t>>>i*e&d,{s0:r,s1:h,s2:p,s3:m}=o[f*s+n];a^=r,c^=h,u^=p,l^=m,f+=1}}this.s0=a,this.s1=c,this.s2=u,this.s3=l}update(e){e=(0,r.toBytes)(e),(0,i.exists)(this);const t=(0,r.u32)(e),n=Math.floor(e.length/o),c=e.length%o;for(let e=0;e<n;e++)this._updateBlock(t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]);return c&&(s.set(e.subarray(n*o)),this._updateBlock(a[0],a[1],a[2],a[3]),a.fill(0)),this}destroy(){const{t:e}=this;for(const t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){(0,i.exists)(this),(0,i.output)(e,this),this.finished=!0;const{s0:t,s1:n,s2:o,s3:s}=this,a=(0,r.u32)(e);return a[0]=t,a[1]=n,a[2]=o,a[3]=s,e}digest(){const e=new Uint8Array(o);return this.digestInto(e),this.destroy(),e}}class d extends l{constructor(e,t){const n=u((e=(0,r.toBytes)(e)).slice());super(n,t),n.fill(0)}update(e){e=(0,r.toBytes)(e),(0,i.exists)(this);const t=(0,r.u32)(e),n=e.length%o,u=Math.floor(e.length/o);for(let e=0;e<u;e++)this._updateBlock(c(t[4*e+3]),c(t[4*e+2]),c(t[4*e+1]),c(t[4*e+0]));return n&&(s.set(e.subarray(u*o)),this._updateBlock(c(a[3]),c(a[2]),c(a[1]),c(a[0])),a.fill(0)),this}digestInto(e){(0,i.exists)(this),(0,i.output)(e,this),this.finished=!0;const{s0:t,s1:n,s2:o,s3:s}=this,a=(0,r.u32)(e);return a[0]=t,a[1]=n,a[2]=o,a[3]=s,e.reverse()}}function f(e){const t=(t,n)=>e(n,t.length).update((0,r.toBytes)(t)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(t,n)=>e(t,n),t}n.ghash=f(((e,t)=>new l(e,t))),n.polyval=f(((e,t)=>new d(e,t)))}}},{package:"@metamask/profile-sync-controller>@noble/ciphers",file:"node_modules/@noble/ciphers/_polyval.js"}],[2978,{"./_assert.js":2976,"./_polyval.js":2977,"./utils.js":2980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unsafe=n.siv=n.gcm=n.cfb=n.cbc=n.ecb=n.ctr=n.expandKeyDecLE=n.expandKeyLE=void 0;const r=e("./utils.js"),i=e("./_polyval.js"),o=e("./_assert.js"),s=16,a=new Uint8Array(s),c=283;function u(e){return e<<1^c&-(e>>7)}function l(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(1&t),e=u(e);return n}const d=(()=>{let e=new Uint8Array(256);for(let t=0,n=1;t<256;t++,n^=u(n))e[t]=n;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return t})(),f=d.map(((e,t)=>d.indexOf(t))),h=e=>e<<24|e>>>8,p=e=>e<<8|e>>>24;function m(e,t){if(256!==e.length)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map(((n,r)=>t(e[r]))),r=n.map(p),i=r.map(p),o=i.map(p),s=new Uint32Array(65536),a=new Uint32Array(65536),c=new Uint16Array(65536);for(let t=0;t<256;t++)for(let u=0;u<256;u++){const l=256*t+u;s[l]=n[t]^r[u],a[l]=i[t]^o[u],c[l]=e[t]<<8|e[u]}return{sbox:e,sbox2:c,T0:n,T1:r,T2:i,T3:o,T01:s,T23:a}}const g=m(d,(e=>l(e,3)<<24|e<<16|e<<8|l(e,2))),y=m(f,(e=>l(e,11)<<24|l(e,13)<<16|l(e,9)<<8|l(e,14))),w=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=u(n))e[t]=n;return e})();function b(e){(0,o.bytes)(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=g,i=(0,r.u32)(e),s=i.length,a=e=>A(n,e,e,e,e),c=new Uint32Array(t+28);c.set(i);for(let e=s;e<c.length;e++){let t=c[e-1];e%s==0?t=a(h(t))^w[e/s-1]:s>6&&e%s==4&&(t=a(t)),c[e]=c[e-s]^t}return c}function v(e){const t=b(e),n=t.slice(),r=t.length,{sbox2:i}=g,{T0:o,T1:s,T2:a,T3:c}=y;for(let e=0;e<r;e+=4)for(let i=0;i<4;i++)n[e+i]=t[r-e-4+i];t.fill(0);for(let e=4;e<r-4;e++){const t=n[e],r=A(i,t,t,t,t);n[e]=o[255&r]^s[r>>>8&255]^a[r>>>16&255]^c[r>>>24]}return n}function E(e,t,n,r,i,o){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|o>>>24&255]}function A(e,t,n,r,i){return e[255&t|65280&n]|e[r>>>16&255|i>>>16&65280]<<16}function T(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=g;let c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];const u=e.length/4-2;for(let o=0;o<u;o++){const o=e[c++]^E(s,a,t,n,r,i),u=e[c++]^E(s,a,n,r,i,t),l=e[c++]^E(s,a,r,i,t,n),d=e[c++]^E(s,a,i,t,n,r);t=o,n=u,r=l,i=d}return{s0:e[c++]^A(o,t,n,r,i),s1:e[c++]^A(o,n,r,i,t),s2:e[c++]^A(o,r,i,t,n),s3:e[c++]^A(o,i,t,n,r)}}function x(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=y;let c=0;t^=e[c++],n^=e[c++],r^=e[c++],i^=e[c++];const u=e.length/4-2;for(let o=0;o<u;o++){const o=e[c++]^E(s,a,t,i,r,n),u=e[c++]^E(s,a,n,t,i,r),l=e[c++]^E(s,a,r,n,t,i),d=e[c++]^E(s,a,i,r,n,t);t=o,n=u,r=l,i=d}return{s0:e[c++]^A(o,t,i,r,n),s1:e[c++]^A(o,n,t,i,r),s2:e[c++]^A(o,r,n,t,i),s3:e[c++]^A(o,i,r,n,t)}}function S(e,t){if(!t)return new Uint8Array(e);if((0,o.bytes)(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function k(e,t,n,i){(0,o.bytes)(t,s),(0,o.bytes)(n);const a=n.length;i=S(a,i);const c=t,u=(0,r.u32)(c);let{s0:l,s1:d,s2:f,s3:h}=T(e,u[0],u[1],u[2],u[3]);const p=(0,r.u32)(n),m=(0,r.u32)(i);for(let t=0;t+4<=p.length;t+=4){m[t+0]=p[t+0]^l,m[t+1]=p[t+1]^d,m[t+2]=p[t+2]^f,m[t+3]=p[t+3]^h;let n=1;for(let e=c.length-1;e>=0;e--)n=n+(255&c[e])|0,c[e]=255&n,n>>>=8;({s0:l,s1:d,s2:f,s3:h}=T(e,u[0],u[1],u[2],u[3]))}const g=s*Math.floor(p.length/4);if(g<a){const e=new Uint32Array([l,d,f,h]),t=(0,r.u8)(e);for(let e=g,r=0;e<a;e++,r++)i[e]=n[e]^t[r]}return i}function I(e,t,n,i,a){(0,o.bytes)(n,s),(0,o.bytes)(i),a=S(i.length,a);const c=n,u=(0,r.u32)(c),l=(0,r.createView)(c),d=(0,r.u32)(i),f=(0,r.u32)(a),h=t?0:12,p=i.length;let m=l.getUint32(h,t),{s0:g,s1:y,s2:w,s3:b}=T(e,u[0],u[1],u[2],u[3]);for(let n=0;n+4<=d.length;n+=4)f[n+0]=d[n+0]^g,f[n+1]=d[n+1]^y,f[n+2]=d[n+2]^w,f[n+3]=d[n+3]^b,m=m+1>>>0,l.setUint32(h,m,t),({s0:g,s1:y,s2:w,s3:b}=T(e,u[0],u[1],u[2],u[3]));const v=s*Math.floor(d.length/4);if(v<p){const e=new Uint32Array([g,y,w,b]),t=(0,r.u8)(e);for(let e=v,n=0;e<p;e++,n++)a[e]=i[e]^t[n]}return a}function C(e){if((0,o.bytes)(e),e.length%s!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function j(e,t,n){let i=e.length;const o=i%s;if(!t&&0!==o)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const a=(0,r.u32)(e);if(t){let e=s-o;e||(e=s),i+=e}const c=S(i,n);return{b:a,o:(0,r.u32)(c),out:c}}function P(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let t=0;t<r;t++)if(e[n-t-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function _(e){const t=new Uint8Array(16),n=(0,r.u32)(t);t.set(e);const i=s-e.length;for(let e=s-i;e<s;e++)t[e]=i;return n}function O(e,t,n,i,o){const s=e.create(n,i.length+(o?.length||0));o&&s.update(o),s.update(i);const a=new Uint8Array(16),c=(0,r.createView)(a);return o&&(0,r.setBigUint64)(c,0,BigInt(8*o.length),t),(0,r.setBigUint64)(c,8,BigInt(8*i.length),t),s.update(a),s.digest()}n.expandKeyLE=b,n.expandKeyDecLE=v,n.ctr=(0,r.wrapCipher)({blockSize:16,nonceLength:16},(function(e,t){function n(n,r){const i=b(e),o=t.slice(),s=k(i,o,n,r);return i.fill(0),o.fill(0),s}return(0,o.bytes)(e),(0,o.bytes)(t,s),{encrypt:(e,t)=>n(e,t),decrypt:(e,t)=>n(e,t)}})),n.ecb=(0,r.wrapCipher)({blockSize:16},(function(e,t={}){(0,o.bytes)(e);const n=!t.disablePadding;return{encrypt:(t,r)=>{(0,o.bytes)(t);const{b:i,o:s,out:a}=j(t,n,r),c=b(e);let u=0;for(;u+4<=i.length;){const{s0:e,s1:t,s2:n,s3:r}=T(c,i[u+0],i[u+1],i[u+2],i[u+3]);s[u++]=e,s[u++]=t,s[u++]=n,s[u++]=r}if(n){const e=_(t.subarray(4*u)),{s0:n,s1:r,s2:i,s3:o}=T(c,e[0],e[1],e[2],e[3]);s[u++]=n,s[u++]=r,s[u++]=i,s[u++]=o}return c.fill(0),a},decrypt:(t,i)=>{C(t);const o=v(e),s=S(t.length,i),a=(0,r.u32)(t),c=(0,r.u32)(s);for(let e=0;e+4<=a.length;){const{s0:t,s1:n,s2:r,s3:i}=x(o,a[e+0],a[e+1],a[e+2],a[e+3]);c[e++]=t,c[e++]=n,c[e++]=r,c[e++]=i}return o.fill(0),P(s,n)}}})),n.cbc=(0,r.wrapCipher)({blockSize:16,nonceLength:16},(function(e,t,n={}){(0,o.bytes)(e),(0,o.bytes)(t,16);const i=!n.disablePadding;return{encrypt:(n,o)=>{const s=b(e),{b:a,o:c,out:u}=j(n,i,o),l=(0,r.u32)(t);let d=l[0],f=l[1],h=l[2],p=l[3],m=0;for(;m+4<=a.length;)d^=a[m+0],f^=a[m+1],h^=a[m+2],p^=a[m+3],({s0:d,s1:f,s2:h,s3:p}=T(s,d,f,h,p)),c[m++]=d,c[m++]=f,c[m++]=h,c[m++]=p;if(i){const e=_(n.subarray(4*m));d^=e[0],f^=e[1],h^=e[2],p^=e[3],({s0:d,s1:f,s2:h,s3:p}=T(s,d,f,h,p)),c[m++]=d,c[m++]=f,c[m++]=h,c[m++]=p}return s.fill(0),u},decrypt:(n,o)=>{C(n);const s=v(e),a=(0,r.u32)(t),c=S(n.length,o),u=(0,r.u32)(n),l=(0,r.u32)(c);let d=a[0],f=a[1],h=a[2],p=a[3];for(let e=0;e+4<=u.length;){const t=d,n=f,r=h,i=p;d=u[e+0],f=u[e+1],h=u[e+2],p=u[e+3];const{s0:o,s1:a,s2:c,s3:m}=x(s,d,f,h,p);l[e++]=o^t,l[e++]=a^n,l[e++]=c^r,l[e++]=m^i}return s.fill(0),P(c,i)}}})),n.cfb=(0,r.wrapCipher)({blockSize:16,nonceLength:16},(function(e,t){function n(n,i,o){const a=b(e),c=n.length;o=S(c,o);const u=(0,r.u32)(n),l=(0,r.u32)(o),d=i?l:u,f=(0,r.u32)(t);let h=f[0],p=f[1],m=f[2],g=f[3];for(let e=0;e+4<=u.length;){const{s0:t,s1:n,s2:r,s3:i}=T(a,h,p,m,g);l[e+0]=u[e+0]^t,l[e+1]=u[e+1]^n,l[e+2]=u[e+2]^r,l[e+3]=u[e+3]^i,h=d[e++],p=d[e++],m=d[e++],g=d[e++]}const y=s*Math.floor(u.length/4);if(y<c){({s0:h,s1:p,s2:m,s3:g}=T(a,h,p,m,g));const e=(0,r.u8)(new Uint32Array([h,p,m,g]));for(let t=y,r=0;t<c;t++,r++)o[t]=n[t]^e[r];e.fill(0)}return a.fill(0),o}return(0,o.bytes)(e),(0,o.bytes)(t,16),{encrypt:(e,t)=>n(e,!0,t),decrypt:(e,t)=>n(e,!1,t)}})),n.gcm=(0,r.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},(function(e,t,n){if((0,o.bytes)(t),0===t.length)throw new Error("aes/gcm: empty nonce");const s=16;function c(e,t,r){const o=O(i.ghash,!1,e,r,n);for(let e=0;e<t.length;e++)o[e]^=t[e];return o}function u(){const n=b(e),o=a.slice(),s=a.slice();if(I(n,!1,s,s,o),12===t.length)s.set(t);else{const e=a.slice(),n=(0,r.createView)(e);(0,r.setBigUint64)(n,8,BigInt(8*t.length),!1),i.ghash.create(o).update(t).update(e).digestInto(s)}return{xk:n,authKey:o,counter:s,tagMask:I(n,!1,s,a)}}return{encrypt:e=>{(0,o.bytes)(e);const{xk:t,authKey:n,counter:r,tagMask:i}=u(),a=new Uint8Array(e.length+s);I(t,!1,r,e,a);const l=c(n,i,a.subarray(0,a.length-s));return a.set(l,e.length),t.fill(0),a},decrypt:e=>{if((0,o.bytes)(e),e.length<s)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:t,authKey:n,counter:i,tagMask:a}=u(),l=e.subarray(0,-16),d=e.subarray(-16),f=c(n,a,l);if(!(0,r.equalBytes)(f,d))throw new Error("aes/gcm: invalid ghash tag");const h=I(t,!1,i,l);return n.fill(0),a.fill(0),t.fill(0),h}}}));const B=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n)throw new Error(`${e}: invalid value=${r}, must be [${t}..${n}]`)};function R(e){return null!=e&&"object"==typeof e&&(e instanceof Uint32Array||"Uint32Array"===e.constructor.name)}n.siv=(0,r.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},(function(e,t,n){const s=B("AAD",0,2**36),a=B("plaintext",0,2**36),c=B("nonce",12,12),u=B("ciphertext",16,2**36+16);function l(){const n=e.length;if(16!==n&&24!==n&&32!==n)throw new Error(`key length must be 16, 24 or 32 bytes, got: ${n} bytes`);const i=b(e),o=new Uint8Array(n),s=new Uint8Array(16),a=(0,r.u32)(t);let c=0,u=a[0],l=a[1],d=a[2],f=0;for(const e of[s,o].map(r.u32)){const t=(0,r.u32)(e);for(let e=0;e<t.length;e+=2){const{s0:n,s1:r}=T(i,c,u,l,d);t[e+0]=n,t[e+1]=r,c=++f}}return i.fill(0),{authKey:s,encKey:b(o)}}function d(e,o,s){const a=O(i.polyval,!0,o,s,n);for(let e=0;e<12;e++)a[e]^=t[e];a[15]&=127;const c=(0,r.u32)(a);let u=c[0],l=c[1],d=c[2],f=c[3];return({s0:u,s1:l,s2:d,s3:f}=T(e,u,l,d,f)),c[0]=u,c[1]=l,c[2]=d,c[3]=f,a}function f(e,t,n){let r=t.slice();return r[15]|=128,I(e,!0,r,n)}return(0,o.bytes)(t),c(t.length),n&&((0,o.bytes)(n),s(n.length)),{encrypt:e=>{(0,o.bytes)(e),a(e.length);const{encKey:t,authKey:n}=l(),r=d(t,n,e),i=new Uint8Array(e.length+16);return i.set(r,e.length),i.set(f(t,r,e)),t.fill(0),n.fill(0),i},decrypt:e=>{(0,o.bytes)(e),u(e.length);const t=e.subarray(-16),{encKey:n,authKey:i}=l(),s=f(n,t,e.subarray(0,-16)),a=d(n,i,s);if(n.fill(0),i.fill(0),!(0,r.equalBytes)(t,a))throw new Error("invalid polyval tag");return s}}})),n.unsafe={expandKeyLE:b,expandKeyDecLE:v,encrypt:T,decrypt:x,encryptBlock:function(e,t){if((0,o.bytes)(t,16),!R(e))throw new Error("_encryptBlock accepts result of expandKeyLE");const n=(0,r.u32)(t);let{s0:i,s1:s,s2:a,s3:c}=T(e,n[0],n[1],n[2],n[3]);return n[0]=i,n[1]=s,n[2]=a,n[3]=c,t},decryptBlock:function(e,t){if((0,o.bytes)(t,16),!R(e))throw new Error("_decryptBlock accepts result of expandKeyLE");const n=(0,r.u32)(t);let{s0:i,s1:s,s2:a,s3:c}=x(e,n[0],n[1],n[2],n[3]);return n[0]=i,n[1]=s,n[2]=a,n[3]=c,t},ctrCounter:k,ctr32:I}}}},{package:"@metamask/profile-sync-controller>@noble/ciphers",file:"node_modules/@noble/ciphers/aes.js"}],[2979,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getWebcryptoSubtle=n.randomBytes=void 0;const r="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined;n.randomBytes=function(e=32){if(r&&"function"==typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")},n.getWebcryptoSubtle=function(){if(r&&"object"==typeof r.subtle&&null!=r.subtle)return r.subtle;throw new Error("crypto.subtle must be defined")}}}},{package:"@metamask/profile-sync-controller>@noble/ciphers",file:"node_modules/@noble/ciphers/crypto.js"}],[2980,{"./_assert.js":2976},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.u64Lengths=n.setBigUint64=n.wrapCipher=n.Hash=n.equalBytes=n.checkOpts=n.concatBytes=n.toBytes=n.bytesToUtf8=n.utf8ToBytes=n.asyncLoop=n.nextTick=n.numberToBytesBE=n.bytesToNumberBE=n.hexToNumber=n.hexToBytes=n.bytesToHex=n.isLE=n.createView=n.u32=n.u16=n.u8=void 0;
/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */
const r=e("./_assert.js");n.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);n.u16=e=>new Uint16Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/2));n.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(n.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),n.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!n.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function o(e){(0,r.bytes)(e);let t="";for(let n=0;n<e.length;n++)t+=i[e[n]];return t}n.bytesToHex=o;const s={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=s._0&&e<=s._9?e-s._0:e>=s._A&&e<=s._F?e-(s._A-10):e>=s._a&&e<=s._f?e-(s._a-10):void 0}function c(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=a(e.charCodeAt(i)),o=a(e.charCodeAt(i+1));if(n===undefined||o===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+o}return r}function u(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}n.hexToBytes=c,n.hexToNumber=u,n.bytesToNumberBE=function(e){return u(o(e))},n.numberToBytesBE=function(e,t){return c(e.toString(16).padStart(2*t,"0"))};function l(e){if("string"!=typeof e)throw new Error("string expected, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}n.nextTick=async()=>{},n.asyncLoop=async function(e,t,r){let i=Date.now();for(let o=0;o<e;o++){r(o);const e=Date.now()-i;e>=0&&e<t||(await(0,n.nextTick)(),i+=e)}},n.utf8ToBytes=l,n.bytesToUtf8=function(e){return(new TextDecoder).decode(e)},n.toBytes=function(e){if("string"==typeof e)e=l(e);else{if(!(0,r.isBytes)(e))throw new Error("Uint8Array expected, got "+typeof e);e=e.slice()}return e},n.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];(0,r.bytes)(i),t+=i.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n},n.checkOpts=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)},n.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n};n.Hash=class{};function d(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}n.wrapCipher=(e,t)=>(Object.assign(t,e),t),n.setBigUint64=d,n.u64Lengths=function(e,t){const r=new Uint8Array(16),i=(0,n.createView)(r);return d(i,0,BigInt(t?t.length:0),!0),d(i,8,BigInt(e.length),!0),r}}}},{package:"@metamask/profile-sync-controller>@noble/ciphers",file:"node_modules/@noble/ciphers/utils.js"}],[2981,{"./_assert.js":2976,"./utils.js":2980,"@noble/ciphers/crypto":2979},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.gcm=n.ctr=n.cbc=n.utils=n.managedNonce=n.getWebcryptoSubtle=n.randomBytes=void 0;const r=e("@noble/ciphers/crypto");Object.defineProperty(n,"randomBytes",{enumerable:!0,get:function(){return r.randomBytes}}),Object.defineProperty(n,"getWebcryptoSubtle",{enumerable:!0,get:function(){return r.getWebcryptoSubtle}});const i=e("./utils.js"),o=e("./_assert.js");n.managedNonce=function(e){return(0,o.number)(e.nonceLength),(t,...n)=>({encrypt:(o,...s)=>{const{nonceLength:a}=e,c=(0,r.randomBytes)(a),u=e(t,c,...n).encrypt(o,...s),l=(0,i.concatBytes)(c,u);return u.fill(0),l},decrypt:(r,...i)=>{const{nonceLength:o}=e,s=r.subarray(0,o),a=r.subarray(o);return e(t,s,...n).decrypt(a,...i)}})},n.utils={async encrypt(e,t,n,i){const o=(0,r.getWebcryptoSubtle)(),s=await o.importKey("raw",e,t,!0,["encrypt"]),a=await o.encrypt(n,s,i);return new Uint8Array(a)},async decrypt(e,t,n,i){const o=(0,r.getWebcryptoSubtle)(),s=await o.importKey("raw",e,t,!0,["decrypt"]),a=await o.decrypt(n,s,i);return new Uint8Array(a)}};const s={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function a(e){return(t,r,i)=>{(0,o.bytes)(t),(0,o.bytes)(r);const a={name:e,length:8*t.length},c=function(e,t,n){if(e===s.CBC)return{name:s.CBC,iv:t};if(e===s.CTR)return{name:s.CTR,counter:t,length:64};if(e===s.GCM)return n?{name:s.GCM,iv:t,additionalData:n}:{name:s.GCM,iv:t};throw new Error("unknown aes block mode")}(e,r,i);return{encrypt:e=>((0,o.bytes)(e),n.utils.encrypt(t,a,c,e)),decrypt:e=>((0,o.bytes)(e),n.utils.decrypt(t,a,c,e))}}}n.cbc=a(s.CBC),n.ctr=a(s.CTR),n.gcm=a(s.GCM)}}},{package:"@metamask/profile-sync-controller>@noble/ciphers",file:"node_modules/@noble/ciphers/webcrypto.js"}],[2982,{"./abstract/weierstrass.js":2989,"@noble/hashes/hmac":2996,"@noble/hashes/utils":3003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHash=s,n.createCurve=function(e,t){const n=t=>(0,o.weierstrass)({...e,...s(t)});return{...n(t),create:n}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/hmac"),i=e("@noble/hashes/utils"),o=e("./abstract/weierstrass.js");function s(e){return{hash:e,hmac:(t,...n)=>(0,r.hmac)(e,t,(0,i.concatBytes)(...n)),randomBytes:i.randomBytes}}}}},{package:"viem>webauthn-p256>@noble/curves",file:"node_modules/@noble/curves/_shortw_utils.js"}],[2983,{"./modular.js":2986,"./utils.js":2988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wNAF=function(e,t){return{constTimeNegate:a,hasPrecomputes:e=>1!==p(e),unsafeLadder(t,n,r=e.ZERO){let i=t;for(;n>o;)n&s&&(r=r.add(i)),i=i.double(),n>>=s;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=u(n,t),o=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(n,r,i){const{windows:o,windowSize:c}=u(n,t);let l=e.ZERO,d=e.BASE;const f=BigInt(2**n-1),h=2**n,p=BigInt(n);for(let e=0;e<o;e++){const t=e*c;let n=Number(i&f);i>>=p,n>c&&(n-=h,i+=s);const o=t,u=t+Math.abs(n)-1,m=e%2!=0,g=n<0;0===n?d=d.add(a(m,r[o])):l=l.add(a(g,r[u]))}return{p:l,f:d}},wNAFUnsafe(n,r,i,a=e.ZERO){const{windows:c,windowSize:l}=u(n,t),d=BigInt(2**n-1),f=2**n,h=BigInt(n);for(let e=0;e<c;e++){const t=e*l;if(i===o)break;let n=Number(i&d);if(i>>=h,n>l&&(n-=f,i+=s),0===n)continue;let c=r[t+Math.abs(n)-1];n<0&&(c=c.negate()),a=a.add(c)}return a},getPrecomputes(e,t,n){let r=f.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&f.set(t,n(r))),r},wNAFCached(e,t,n){const r=p(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=p(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){c(n,t),h.set(e,n),f.delete(e)}}},n.pippenger=function(e,t,n,r){if(l(n,e),d(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,s=(0,i.bitLen)(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,c=(1<<a)-1,u=new Array(c+1).fill(o),f=Math.floor((t.BITS-1)/a)*a;let h=o;for(let e=f;e>=0;e-=a){u.fill(o);for(let t=0;t<r.length;t++){const i=r[t],o=Number(i>>BigInt(e)&BigInt(c));u[o]=u[o].add(n[t])}let t=o;for(let e=u.length-1,n=o;e>0;e--)n=n.add(u[e]),t=t.add(n);if(h=h.add(t),0!==e)for(let e=0;e<a;e++)h=h.double()}return h},n.precomputeMSMUnsafe=function(e,t,n,r){c(r,t.BITS),l(n,e);const i=e.ZERO,o=2**r-1,s=Math.ceil(t.BITS/r),a=BigInt((1<<r)-1),u=n.map((e=>{const t=[];for(let n=0,r=e;n<o;n++)t.push(r),r=r.add(e);return t}));return e=>{if(d(e,t),e.length>n.length)throw new Error("array of scalars must be smaller than array of points");let o=i;for(let t=0;t<s;t++){if(o!==i)for(let e=0;e<r;e++)o=o.double();const n=BigInt(s*r-(t+1)*r);for(let t=0;t<e.length;t++){const r=e[t],i=Number(r>>n&a);i&&(o=o.add(u[t][i-1]))}}return o}},n.validateBasic=function(e){return(0,r.validateField)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,r.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("./modular.js"),i=e("./utils.js"),o=BigInt(0),s=BigInt(1);function a(e,t){const n=t.negate();return e?n:t}function c(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function u(e,t){c(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}function l(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}function d(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}const f=new WeakMap,h=new WeakMap;function p(e){return h.get(e)||1}}}},{package:"viem>webauthn-p256>@noble/curves",file:"node_modules/@noble/curves/abstract/curve.js"}],[2984,{"./curve.js":2983,"./modular.js":2986,"./utils.js":2988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.twistedEdwards=function(e){const t=function(e){const t=(0,r.validateBasic)(e);return o.validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:f,prehash:h,hash:p,randomBytes:m,nByteLength:g,h:y}=t,w=u<<BigInt(8*g)-c,b=n.create,v=(0,i.Field)(t.n,t.nBitLength),E=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(e){return{isValid:!1,value:a}}}),A=t.adjustScalarBytes||(e=>e),T=t.domain||((e,t,n)=>{if((0,s.abool)("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function x(e,t){o.aInRange("coordinate "+e,t,a,w)}function S(e){if(!(e instanceof C))throw new Error("ExtendedPoint expected")}const k=(0,s.memoized)(((e,t)=>{const{ex:r,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?l:n.inv(o));const u=b(r*t),d=b(i*t),f=b(o*t);if(s)return{x:a,y:c};if(f!==c)throw new Error("invZ was invalid");return{x:u,y:d}})),I=(0,s.memoized)((e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:o,ez:s,et:a}=e,c=b(i*i),u=b(o*o),l=b(s*s),d=b(l*l),f=b(c*n);if(b(l*b(f+u))!==b(d+b(r*b(c*u))))throw new Error("bad point: equation left != right (1)");if(b(i*o)!==b(s*a))throw new Error("bad point: equation left != right (2)");return!0}));class C{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,x("x",e),x("y",t),x("z",n),x("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof C)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return x("x",t),x("y",n),new C(t,n,c,b(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(C.fromAffine)}static msm(e,t){return(0,r.pippenger)(C,v,e,t)}_setWindowSize(e){_.setWindowSize(this,e)}assertValidity(){I(this)}equals(e){S(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:o,ez:s}=e,a=b(t*s),c=b(i*r),u=b(n*s),l=b(o*r);return a===c&&u===l}is0(){return this.equals(C.ZERO)}negate(){return new C(b(-this.ex),this.ey,this.ez,b(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,o=b(n*n),s=b(r*r),a=b(u*b(i*i)),c=b(e*o),l=n+r,d=b(b(l*l)-o-s),f=c+s,h=f-a,p=c-s,m=b(d*h),g=b(f*p),y=b(d*p),w=b(h*f);return new C(m,g,w,y)}add(e){S(e);const{a:n,d:r}=t,{ex:i,ey:o,ez:s,et:c}=this,{ex:l,ey:d,ez:f,et:h}=e;if(n===BigInt(-1)){const e=b((o-i)*(d+l)),t=b((o+i)*(d-l)),n=b(t-e);if(n===a)return this.double();const r=b(s*u*h),p=b(c*u*f),m=p+r,g=t+e,y=p-r,w=b(m*n),v=b(g*y),E=b(m*y),A=b(n*g);return new C(w,v,A,E)}const p=b(i*l),m=b(o*d),g=b(c*r*h),y=b(s*f),w=b((i+o)*(l+d)-p-m),v=y-g,E=y+g,A=b(m-n*p),T=b(w*v),x=b(E*A),k=b(w*A),I=b(v*E);return new C(T,x,I,k)}subtract(e){return this.add(e.negate())}wNAF(e){return _.wNAFCached(this,e,C.normalizeZ)}multiply(e){const t=e;o.aInRange("scalar",t,c,f);const{p:n,f:r}=this.wNAF(t);return C.normalizeZ([n,r])[0]}multiplyUnsafe(e,t=C.ZERO){const n=e;return o.aInRange("scalar",n,a,f),n===a?P:this.is0()||n===c?this:_.wNAFCachedUnsafe(this,n,C.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(y).is0()}isTorsionFree(){return _.unsafeLadder(this,f).is0()}toAffine(e){return k(this,e)}clearCofactor(){const{h:e}=t;return e===c?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:i,a:u}=t,l=n.BYTES;e=(0,s.ensureBytes)("pointHex",e,l),(0,s.abool)("zip215",r);const d=e.slice(),f=e[l-1];d[l-1]=-129&f;const h=o.bytesToNumberLE(d),p=r?w:n.ORDER;o.aInRange("pointHex.y",h,a,p);const m=b(h*h),g=b(m-c),y=b(i*m-u);let{isValid:v,value:A}=E(g,y);if(!v)throw new Error("Point.fromHex: invalid y coordinate");const T=(A&c)===c,x=!!(128&f);if(!r&&A===a&&x)throw new Error("Point.fromHex: x=0 and x_0=1");return x!==T&&(A=b(-A)),C.fromAffine({x:A,y:h})}static fromPrivateKey(e){return R(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=o.numberToBytesLE(t,n.BYTES);return r[r.length-1]|=e&c?128:0,r}toHex(){return o.bytesToHex(this.toRawBytes())}}C.BASE=new C(t.Gx,t.Gy,c,b(t.Gx*t.Gy)),C.ZERO=new C(a,c,c,a);const{BASE:j,ZERO:P}=C,_=(0,r.wNAF)(C,8*g);function O(e){return(0,i.mod)(e,f)}function B(e){return O(o.bytesToNumberLE(e))}function R(e){const t=n.BYTES;e=(0,s.ensureBytes)("private key",e,t);const r=(0,s.ensureBytes)("hashed private key",p(e),2*t),i=A(r.slice(0,t)),o=r.slice(t,2*t),a=B(i),c=j.multiply(a),u=c.toRawBytes();return{head:i,prefix:o,scalar:a,point:c,pointBytes:u}}function N(e=new Uint8Array,...t){const n=o.concatBytes(...t);return B(p(T(n,(0,s.ensureBytes)("context",e),!!h)))}const L=d;j._setWindowSize(8);return{CURVE:t,getPublicKey:function(e){return R(e).pointBytes},sign:function(e,t,r={}){e=(0,s.ensureBytes)("message",e),h&&(e=h(e));const{prefix:i,scalar:c,pointBytes:u}=R(t),l=N(r.context,i,e),d=j.multiply(l).toRawBytes(),p=O(l+N(r.context,d,u,e)*c);o.aInRange("signature.s",p,a,f);const m=o.concatBytes(d,o.numberToBytesLE(p,n.BYTES));return(0,s.ensureBytes)("result",m,2*n.BYTES)},verify:function(e,t,r,i=L){const{context:a,zip215:c}=i,u=n.BYTES;e=(0,s.ensureBytes)("signature",e,2*u),t=(0,s.ensureBytes)("message",t),r=(0,s.ensureBytes)("publicKey",r,u),c!==undefined&&(0,s.abool)("zip215",c),h&&(t=h(t));const l=o.bytesToNumberLE(e.slice(u,2*u));let d,f,p;try{d=C.fromHex(r,c),f=C.fromHex(e.slice(0,u),c),p=j.multiplyUnsafe(l)}catch(e){return!1}if(!c&&d.isSmallOrder())return!1;const m=N(a,f.toRawBytes(),d.toRawBytes(),t);return f.add(d.multiplyUnsafe(m)).subtract(p).clearCofactor().equals(C.ZERO)},ExtendedPoint:C,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>m(n.BYTES),precompute:(e=8,t=C.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("./curve.js"),i=e("./modular.js"),o=e("./utils.js"),s=e("./utils.js"),a=BigInt(0),c=BigInt(1),u=BigInt(2),l=BigInt(8),d={zip215:!0}}}},{package:"viem>webauthn-p256>@noble/curves",file:"node_modules/@noble/curves/abstract/edwards.js"}],[2985,{"./modular.js":2986,"./utils.js":2988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.expand_message_xmd=u,n.expand_message_xof=l,n.hash_to_field=d,n.isogenyMap=function(e,t){const n=t.map((e=>Array.from(e).reverse()));return(t,r)=>{const[i,o,s,a]=n.map((n=>n.reduce(((n,r)=>e.add(e.mul(n,t),r)))));return t=e.div(i,o),r=e.mul(r,e.div(s,a)),{x:t,y:r}}},n.createHasher=function(e,t,n){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const o=d(r,2,{...n,DST:n.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const o=d(r,1,{...n,DST:n.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(const e of n)if("bigint"!=typeof e)throw new Error("mapToCurve: expected array of bigints");const r=e.fromAffine(t(n)).clearCofactor();return r.assertValidity(),r}}};const r=e("./modular.js"),i=e("./utils.js"),o=i.bytesToNumberBE;function s(e,t){if(c(e),c(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function a(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e,t,n,r){(0,i.abytes)(e),(0,i.abytes)(t),c(n),t.length>255&&(t=r((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:o,blockLen:u}=r,l=Math.ceil(n/o);if(n>65535||l>255)throw new Error("expand_message_xmd: invalid lenInBytes");const d=(0,i.concatBytes)(t,s(t.length,1)),f=s(0,u),h=s(n,2),p=new Array(l),m=r((0,i.concatBytes)(f,e,h,s(0,1),d));p[0]=r((0,i.concatBytes)(m,s(1,1),d));for(let e=1;e<=l;e++){const t=[a(m,p[e-1]),s(e+1,1),d];p[e]=r((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...p).slice(0,n)}function l(e,t,n,r,o){if((0,i.abytes)(e),(0,i.abytes)(t),c(n),t.length>255){const e=Math.ceil(2*r/8);t=o.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:n}).update(e).update(s(n,2)).update(t).update(s(t.length,1)).digest()}function d(e,t,n){(0,i.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:s,k:a,m:d,hash:f,expand:h,DST:p}=n;(0,i.abytes)(e),c(t);const m="string"==typeof p?(0,i.utf8ToBytes)(p):p,g=s.toString(2).length,y=Math.ceil((g+a)/8),w=t*d*y;let b;if("xmd"===h)b=u(e,m,w,f);else if("xof"===h)b=l(e,m,w,a,f);else{if("_internal_pass"!==h)throw new Error('expand must be "xmd" or "xof"');b=e}const v=new Array(t);for(let e=0;e<t;e++){const t=new Array(d);for(let n=0;n<d;n++){const i=y*(n+e*d),a=b.subarray(i,i+y);t[n]=(0,r.mod)(o(a),s)}v[e]=t}return v}}}},{package:"viem>webauthn-p256>@noble/curves",file:"node_modules/@noble/curves/abstract/hash-to-curve.js"}],[2986,{"./utils.js":2988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNegativeLE=void 0,n.mod=d,n.pow=f,n.pow2=function(e,t,n){let r=e;for(;t-- >i;)r*=r,r%=n;return r},n.invert=h,n.tonelliShanks=p,n.FpSqrt=m,n.validateField=function(e){const t=g.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,r.validateObject)(e,t)},n.FpPow=y,n.FpInvertBatch=w,n.FpDiv=function(e,t,n){return e.mul(t,"bigint"==typeof n?h(n,e.ORDER):e.inv(n))},n.FpLegendre=b,n.FpIsSquare=function(e){const t=b(e.ORDER);return n=>{const r=t(e,n);return e.eql(r,e.ZERO)||e.eql(r,e.ONE)}},n.nLength=v,n.Field=function(e,t,n=!1,s={}){if(e<=i)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:a,nByteLength:c}=v(e,t);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const l=Object.freeze({ORDER:e,isLE:n,BITS:a,BYTES:c,MASK:(0,r.bitMask)(a),ZERO:i,ONE:o,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&o)===o,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,n)=>d(t+n,e),sub:(t,n)=>d(t-n,e),mul:(t,n)=>d(t*n,e),pow:(e,t)=>y(l,e,t),div:(t,n)=>d(t*h(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>h(t,e),sqrt:s.sqrt||(t=>(u||(u=m(e)),u(l,t))),invertBatch:e=>w(l,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?(0,r.numberToBytesLE)(e,c):(0,r.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+e.length);return n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e)}});return Object.freeze(l)},n.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)},n.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n},n.hashToPrivateScalar=function(e,t,n=!1){const i=(e=(0,r.ensureBytes)("privateHash",e)).length,s=v(t).nByteLength+8;if(s<24||i<s||i>1024)throw new Error("hashToPrivateScalar: expected "+s+"-1024 bytes of input, got "+i);return d(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-o)+o},n.getFieldBytesLength=E,n.getMinHashLength=A,n.mapHashToField=function(e,t,n=!1){const i=e.length,s=E(t),a=A(t);if(i<16||i<a||i>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+i);const c=d(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-o)+o;return n?(0,r.numberToBytesLE)(c,s):(0,r.numberToBytesBE)(c,s)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("./utils.js"),i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),l=BigInt(8);function d(e,t){const n=e%t;return n>=i?n:t+n}function f(e,t,n){if(t<i)throw new Error("invalid exponent, negatives unsupported");if(n<=i)throw new Error("invalid modulus");if(n===o)return i;let r=o;for(;t>i;)t&o&&(r=r*e%n),e=e*e%n,t>>=o;return r}function h(e,t){if(e===i)throw new Error("invert: expected non-zero number");if(t<=i)throw new Error("invert: expected positive modulus, got "+t);let n=d(e,t),r=t,s=i,a=o,c=o,u=i;for(;n!==i;){const e=r/n,t=r%n,i=s-c*e,o=a-u*e;r=n,n=t,s=c,a=u,c=i,u=o}if(r!==o)throw new Error("invert: does not exist");return d(s,t)}function p(e){const t=(e-o)/s;let n,r,a;for(n=e-o,r=0;n%s===i;n/=s,r++);for(a=s;a<e&&f(a,t,e)!==e-o;a++)if(a>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+o)/c;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const u=(n+o)/s;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=r,c=e.pow(e.mul(e.ONE,a),n),l=e.pow(i,u),d=e.pow(i,n);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(d);t<s&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,o<<BigInt(s-t-1));c=e.sqr(n),l=e.mul(l,n),d=e.mul(d,c),s=t}return l}}function m(e){if(e%c===a){const t=(e+o)/c;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%l===u){const t=(e-u)/l;return function(e,n){const r=e.mul(n,s),i=e.pow(r,t),o=e.mul(n,i),a=e.mul(e.mul(o,s),i),c=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(c),n))throw new Error("Cannot find square root");return c}}return p(e)}n.isNegativeLE=(e,t)=>(d(e,t)&o)===o;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function y(e,t,n){if(n<i)throw new Error("invalid exponent, negatives unsupported");if(n===i)return e.ONE;if(n===o)return t;let r=e.ONE,s=t;for(;n>i;)n&o&&(r=e.mul(r,s)),s=e.sqr(s),n>>=o;return r}function w(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}function b(e){const t=(e-o)/s;return(e,n)=>e.pow(n,t)}function v(e,t){const n=t!==undefined?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function E(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function A(e){const t=E(e);return t+Math.ceil(t/2)}}}},{package:"viem>webauthn-p256>@noble/curves",file:"node_modules/@noble/curves/abstract/modular.js"}],[2987,{"./modular.js":2986,"./utils.js":2988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.montgomery=function(e){const t=(h=e,(0,i.validateObject)(h,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...h})),{P:n}=t,a=e=>(0,r.mod)(e,n),c=t.montgomeryBits,u=Math.ceil(c/8),l=t.nByteLength,d=t.adjustScalarBytes||(e=>e),f=t.powPminus2||(e=>(0,r.pow)(e,n-BigInt(2),n));var h;function p(e,t,n){const r=a(e*(t-n));return[t=a(t-r),n=a(n+r)]}const m=(t.a-BigInt(2))/BigInt(4);function g(e){return(0,i.numberToBytesLE)(a(e),u)}function y(e,t){const r=function(e){const t=(0,i.ensureBytes)("u coordinate",e,u);return 32===l&&(t[31]&=127),(0,i.bytesToNumberLE)(t)}(t),h=function(e,t){(0,i.aInRange)("u",e,o,n),(0,i.aInRange)("scalar",t,o,n);const r=t,u=e;let l,d=s,h=o,g=e,y=s,w=o;for(let e=BigInt(c-1);e>=o;e--){const t=r>>e&s;w^=t,l=p(w,d,g),d=l[0],g=l[1],l=p(w,h,y),h=l[0],y=l[1],w=t;const n=d+h,i=a(n*n),o=d-h,c=a(o*o),f=i-c,b=g+y,v=a((g-y)*n),E=a(b*o),A=v+E,T=v-E;g=a(A*A),y=a(u*a(T*T)),d=a(i*c),h=a(f*(i+a(m*f)))}l=p(w,d,g),d=l[0],g=l[1],l=p(w,h,y),h=l[0],y=l[1];const b=f(h);return a(d*b)}(r,function(e){const t=(0,i.ensureBytes)("scalar",e),n=t.length;if(n!==u&&n!==l)throw new Error("invalid scalar, expected "+u+" or "+l+" bytes, got "+n);return(0,i.bytesToNumberLE)(d(t))}(e));if(h===o)throw new Error("invalid private or public key received");return g(h)}const w=g(t.Gu);function b(e){return y(e,w)}return{scalarMult:y,scalarMultBase:b,getSharedSecret:(e,t)=>y(e,t),getPublicKey:e=>b(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:w}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("./modular.js"),i=e("./utils.js"),o=BigInt(0),s=BigInt(1)}}},{package:"viem>webauthn-p256>@noble/curves",file:"node_modules/@noble/curves/abstract/montgomery.js"}],[2988,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.notImplemented=n.bitMask=void 0,n.isBytes=s,n.abytes=a,n.abool=function(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)},n.bytesToHex=u,n.numberToHexUnpadded=l,n.hexToNumber=d,n.hexToBytes=p,n.bytesToNumberBE=function(e){return d(u(e))},n.bytesToNumberLE=function(e){return a(e),d(u(Uint8Array.from(e).reverse()))},n.numberToBytesBE=m,n.numberToBytesLE=function(e,t){return m(e,t).reverse()},n.numberToVarBytesBE=function(e){return p(l(e))},n.ensureBytes=function(e,t,n){let r;if("string"==typeof t)try{r=p(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!s(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r},n.concatBytes=g,n.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},n.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))},n.inRange=w,n.aInRange=function(e,t,n,r){if(!w(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)},n.bitLen=function(e){let t;for(t=0;e>r;e>>=i,t+=1);return t},n.bitGet=function(e,t){return e>>BigInt(t)&i},n.bitSet=function(e,t,n){return e|(n?i:r)<<BigInt(t)},n.createHmacDrbg=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=b(e),i=b(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...e)=>n(i,r,...e),c=(e=b())=>{i=a(v([0]),e),r=a(),0!==e.length&&(i=a(v([1]),e),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return g(...n)};return(e,t)=>{s(),c(e);let n=undefined;for(;!(n=t(u()));)c();return s(),n}},n.validateObject=function(e,t,n={}){const r=(t,n,r)=>{const i=E[n];if("function"!=typeof i)throw new Error("invalid validator function");const o=e[t];if(!(r&&o===undefined||i(o,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+o)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e},n.memoized=function(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==undefined)return i;const o=e(n,...r);return t.set(n,o),o}};const r=BigInt(0),i=BigInt(1),o=BigInt(2);function s(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!s(e))throw new Error("Uint8Array expected")}const c=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function u(e){a(e);let t="";for(let n=0;n<e.length;n++)t+=c[e[n]];return t}function l(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function d(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?r:BigInt("0x"+e)}const f={_0:48,_9:57,A:65,F:70,a:97,f:102};function h(e){return e>=f._0&&e<=f._9?e-f._0:e>=f.A&&e<=f.F?e-(f.A-10):e>=f.a&&e<=f.f?e-(f.a-10):void 0}function p(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=h(e.charCodeAt(i)),o=h(e.charCodeAt(i+1));if(n===undefined||o===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+o}return r}function m(e,t){return p(e.toString(16).padStart(2*t,"0"))}function g(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];a(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const y=e=>"bigint"==typeof e&&r<=e;function w(e,t,n){return y(e)&&y(t)&&y(n)&&t<=e&&e<n}n.bitMask=e=>(o<<BigInt(e-1))-i;const b=e=>new Uint8Array(e),v=e=>Uint8Array.from(e);const E={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||s(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};n.notImplemented=()=>{throw new Error("not implemented")}}}},{package:"viem>webauthn-p256>@noble/curves",file:"node_modules/@noble/curves/abstract/utils.js"}],[2989,{"./curve.js":2983,"./modular.js":2986,"./utils.js":2988},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DER=n.DERErr=void 0,n.weierstrassPoints=g,n.weierstrass=function(e){const t=function(e){const t=(0,r.validateBasic)(e);return o.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:c,n:u}=t,l=c.BYTES+1,h=2*c.BYTES+1;function p(e){return(0,i.mod)(e,u)}function m(e){return(0,i.invert)(e,u)}const{ProjectivePoint:y,normPrivateKeyToScalar:w,weierstrassEquation:b,isWithinCurveOrder:v}=g({...t,toBytes(e,t,n){const r=t.toAffine(),i=c.toBytes(r.x),a=o.concatBytes;return(0,s.abool)("isCompressed",n),n?a(Uint8Array.from([t.hasEvenY()?2:3]),i):a(Uint8Array.from([4]),i,c.toBytes(r.y))},fromBytes(e){const t=e.length,n=e[0],r=e.subarray(1);if(t!==l||2!==n&&3!==n){if(t===h&&4===n){return{x:c.fromBytes(r.subarray(0,c.BYTES)),y:c.fromBytes(r.subarray(c.BYTES,2*c.BYTES))}}throw new Error("invalid Point, expected length of "+l+", or uncompressed "+h+", got "+t)}{const e=o.bytesToNumberBE(r);if(!o.inRange(e,f,c.ORDER))throw new Error("Point is not on curve");const t=b(e);let i;try{i=c.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!==((i&f)===f)&&(i=c.neg(i)),{x:e,y:i}}}}),E=e=>o.bytesToHex(o.numberToBytesBE(e,t.nByteLength));function A(e){return e>u>>f}const T=(e,t,n)=>o.bytesToNumberBE(e.slice(t,n));class x{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=(0,s.ensureBytes)("compactSignature",e,2*n),new x(T(e,0,n),T(e,n,2*n))}static fromDER(e){const{r:t,s:r}=n.DER.toSig((0,s.ensureBytes)("DER",e));return new x(t,r)}assertValidity(){o.aInRange("r",this.r,f,u),o.aInRange("s",this.s,f,u)}addRecoveryBit(e){return new x(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:r,recovery:i}=this,o=C((0,s.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const a=2===i||3===i?n+t.n:n;if(a>=c.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&i?"03":"02",l=y.fromHex(u+E(a)),d=m(a),f=p(-o*d),h=p(r*d),g=y.BASE.multiplyAndAddUnsafe(l,f,h);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,p(-this.s),this.recovery):this}toDERRawBytes(){return o.hexToBytes(this.toDERHex())}toDERHex(){return n.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return o.hexToBytes(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const S={isValidPrivateKey(e){try{return w(e),!0}catch(e){return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{const e=(0,i.getMinHashLength)(t.n);return(0,i.mapHashToField)(t.randomBytes(e),t.n)},precompute:(e=8,t=y.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function k(e){const t=o.isBytes(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===l||r===h:n?r===2*l||r===2*h:e instanceof y}const I=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const n=o.bytesToNumberBE(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},C=t.bits2int_modN||function(e){return p(I(e))},j=o.bitMask(t.nBitLength);function P(e){return o.aInRange("num < 2^"+t.nBitLength,e,d,j),o.numberToBytesBE(e,t.nByteLength)}function _(e,n,r=O){if(["recovered","canonical"].some((e=>e in r)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:u}=t;let{lowS:l,prehash:h,extraEntropy:g}=r;null==l&&(l=!0),e=(0,s.ensureBytes)("msgHash",e),a(r),h&&(e=(0,s.ensureBytes)("prehashed msgHash",i(e)));const b=C(e),E=w(n),T=[P(E),P(b)];if(null!=g&&!1!==g){const e=!0===g?u(c.BYTES):g;T.push((0,s.ensureBytes)("extraEntropy",e))}const S=o.concatBytes(...T),k=b;return{seed:S,k2sig:function(e){const t=I(e);if(!v(t))return;const n=m(t),r=y.BASE.multiply(t).toAffine(),i=p(r.x);if(i===d)return;const o=p(n*p(k+i*E));if(o===d)return;let s=(r.x===i?0:2)|Number(r.y&f),a=o;return l&&A(o)&&(a=function(e){return A(e)?p(-e):e}(o),s^=1),new x(i,a,s)}}}const O={lowS:t.lowS,prehash:!1},B={lowS:t.lowS,prehash:!1};return y.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return y.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(k(e))throw new Error("first arg must be private key");if(!k(t))throw new Error("second arg must be public key");return y.fromHex(t).multiply(w(e)).toRawBytes(n)},sign:function(e,n,r=O){const{seed:i,k2sig:s}=_(e,n,r),a=t;return o.createHmacDrbg(a.hash.outputLen,a.nByteLength,a.hmac)(i,s)},verify:function(e,r,i,c=B){const u=e;r=(0,s.ensureBytes)("msgHash",r),i=(0,s.ensureBytes)("publicKey",i);const{lowS:l,prehash:d,format:f}=c;if(a(c),"strict"in c)throw new Error("options.strict was renamed to lowS");if(f!==undefined&&"compact"!==f&&"der"!==f)throw new Error("format must be compact or der");const h="string"==typeof u||o.isBytes(u),g=!h&&!f&&"object"==typeof u&&null!==u&&"bigint"==typeof u.r&&"bigint"==typeof u.s;if(!h&&!g)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let w,b=undefined;try{if(g&&(b=new x(u.r,u.s)),h){try{"compact"!==f&&(b=x.fromDER(u))}catch(e){if(!(e instanceof n.DER.Err))throw e}b||"der"===f||(b=x.fromCompact(u))}w=y.fromHex(i)}catch(e){return!1}if(!b)return!1;if(l&&b.hasHighS())return!1;d&&(r=t.hash(r));const{r:v,s:E}=b,A=C(r),T=m(E),S=p(A*T),k=p(v*T),I=y.BASE.multiplyAndAddUnsafe(w,S,k)?.toAffine();if(!I)return!1;return p(I.x)===v},ProjectivePoint:y,Signature:x,utils:S}},n.SWUFpSqrtRatio=y,n.mapToCurveSimpleSWU=function(e,t){if((0,i.validateField)(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=y(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,o,s,a,c,u,l,d;i=e.sqr(r),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),u=e.sqr(a),c=e.mul(u,t.A),o=e.add(o,c),o=e.mul(o,s),u=e.mul(u,a),c=e.mul(u,t.B),o=e.add(o,c),l=e.mul(i,s);const{isValid:f,value:h}=n(o,u);d=e.mul(i,r),d=e.mul(d,h),l=e.cmov(l,s,f),d=e.cmov(d,h,f);const p=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),l=e.div(l,a),{x:l,y:d}}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("./curve.js"),i=e("./modular.js"),o=e("./utils.js"),s=e("./utils.js");function a(e){e.lowS!==undefined&&(0,s.abool)("lowS",e.lowS),e.prehash!==undefined&&(0,s.abool)("prehash",e.prehash)}const{bytesToNumberBE:c,hexToBytes:u}=o;class l extends Error{constructor(e=""){super(e)}}n.DERErr=l,n.DER={Err:l,_tlv:{encode:(e,t)=>{const{Err:r}=n.DER;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const i=t.length/2,s=o.numberToHexUnpadded(i);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const a=i>127?o.numberToHexUnpadded(s.length/2|128):"";return o.numberToHexUnpadded(e)+a+s+t},decode(e,t){const{Err:r}=n.DER;let i=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[i++]!==e)throw new r("tlv.decode: wrong tlv");const o=t[i++];let s=0;if(!!(128&o)){const e=127&o;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const n=t.subarray(i,i+e);if(n.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===n[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of n)s=s<<8|e;if(i+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=o;const a=t.subarray(i,i+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(i+s)}}},_int:{encode(e){const{Err:t}=n.DER;if(e<d)throw new t("integer: negative integers are not allowed");let r=o.numberToHexUnpadded(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=n.DER;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return c(e)}},toSig(e){const{Err:t,_int:r,_tlv:i}=n.DER,s="string"==typeof e?u(e):e;o.abytes(s);const{v:a,l:c}=i.decode(48,s);if(c.length)throw new t("invalid signature: left bytes after parsing");const{v:l,l:d}=i.decode(2,a),{v:f,l:h}=i.decode(2,d);if(h.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(f)}},hexFromSig(e){const{_tlv:t,_int:r}=n.DER,i=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,i)}};const d=BigInt(0),f=BigInt(1),h=BigInt(2),p=BigInt(3),m=BigInt(4);function g(e){const t=function(e){const t=(0,r.validateBasic)(e);o.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:s}=t;if(n){if(!i.eql(s,i.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,a=(0,i.Field)(t.n,t.nBitLength),c=t.toBytes||((e,t,r)=>{const i=t.toAffine();return o.concatBytes(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),u=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function l(e){const{a:r,b:i}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),l(t.Gx)))throw new Error("bad generator point: equation left != right");function h(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:a,n:c}=t;if(n&&"bigint"!=typeof e){if(o.isBytes(e)&&(e=o.bytesToHex(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let u;try{u="bigint"==typeof e?e:o.bytesToNumberBE((0,s.ensureBytes)("private key",e,r))}catch(t){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return a&&(u=(0,i.mod)(u,c)),o.aInRange("private key",u,f,c),u}function m(e){if(!(e instanceof w))throw new Error("ProjectivePoint expected")}const g=(0,s.memoized)(((e,t)=>{const{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};const s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));const a=n.mul(r,t),c=n.mul(i,t),u=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:a,y:c}})),y=(0,s.memoized)((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");const o=n.sqr(i),s=l(r);if(!n.eql(o,s))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class w{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof w)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?w.ZERO:new w(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(w.fromAffine)}static fromHex(e){const t=w.fromAffine(u((0,s.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return w.BASE.multiply(h(e))}static msm(e,t){return(0,r.pippenger)(w,a,e,t)}_setWindowSize(e){v.setWindowSize(this,e)}assertValidity(){y(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){m(e);const{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(o,i)),u=n.eql(n.mul(r,a),n.mul(s,i));return c&&u}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,p),{px:o,py:s,pz:a}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,d=n.mul(o,o),f=n.mul(s,s),h=n.mul(a,a),m=n.mul(o,s);return m=n.add(m,m),l=n.mul(o,a),l=n.add(l,l),c=n.mul(e,l),u=n.mul(i,h),u=n.add(c,u),c=n.sub(f,u),u=n.add(f,u),u=n.mul(c,u),c=n.mul(m,c),l=n.mul(i,l),h=n.mul(e,h),m=n.sub(d,h),m=n.mul(e,m),m=n.add(m,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,h),d=n.mul(d,m),u=n.add(u,d),h=n.mul(s,a),h=n.add(h,h),d=n.mul(h,m),c=n.sub(c,d),l=n.mul(h,f),l=n.add(l,l),l=n.add(l,l),new w(c,u,l)}add(e){m(e);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:c}=e;let u=n.ZERO,l=n.ZERO,d=n.ZERO;const f=t.a,h=n.mul(t.b,p);let g=n.mul(r,s),y=n.mul(i,a),b=n.mul(o,c),v=n.add(r,i),E=n.add(s,a);v=n.mul(v,E),E=n.add(g,y),v=n.sub(v,E),E=n.add(r,o);let A=n.add(s,c);return E=n.mul(E,A),A=n.add(g,b),E=n.sub(E,A),A=n.add(i,o),u=n.add(a,c),A=n.mul(A,u),u=n.add(y,b),A=n.sub(A,u),d=n.mul(f,E),u=n.mul(h,b),d=n.add(u,d),u=n.sub(y,d),d=n.add(y,d),l=n.mul(u,d),y=n.add(g,g),y=n.add(y,g),b=n.mul(f,b),E=n.mul(h,E),y=n.add(y,b),b=n.sub(g,b),b=n.mul(f,b),E=n.add(E,b),g=n.mul(y,E),l=n.add(l,g),g=n.mul(A,E),u=n.mul(v,u),u=n.sub(u,g),g=n.mul(v,y),d=n.mul(A,d),d=n.add(d,g),new w(u,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(w.ZERO)}wNAF(e){return v.wNAFCached(this,e,w.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;o.aInRange("scalar",e,d,i);const s=w.ZERO;if(e===d)return s;if(this.is0()||e===f)return this;if(!r||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,e,w.normalizeZ);let{k1neg:a,k1:c,k2neg:u,k2:l}=r.splitScalar(e),h=s,p=s,m=this;for(;c>d||l>d;)c&f&&(h=h.add(m)),l&f&&(p=p.add(m)),m=m.double(),c>>=f,l>>=f;return a&&(h=h.negate()),u&&(p=p.negate()),p=new w(n.mul(p.px,r.beta),p.py,p.pz),h.add(p)}multiply(e){const{endo:r,n:i}=t;let s,a;if(o.aInRange("scalar",e,f,i),r){const{k1neg:t,k1:i,k2neg:o,k2:c}=r.splitScalar(e);let{p:u,f:l}=this.wNAF(i),{p:d,f:f}=this.wNAF(c);u=v.constTimeNegate(t,u),d=v.constTimeNegate(o,d),d=new w(n.mul(d.px,r.beta),d.py,d.pz),s=u.add(d),a=l.add(f)}else{const{p:t,f:n}=this.wNAF(e);s=t,a=n}return w.normalizeZ([s,a])[0]}multiplyAndAddUnsafe(e,t,n){const r=w.BASE,i=(e,t)=>t!==d&&t!==f&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?undefined:o}toAffine(e){return g(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===f)return!0;if(n)return n(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===f?this:n?n(w,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return(0,s.abool)("isCompressed",e),this.assertValidity(),c(w,this,e)}toHex(e=!0){return(0,s.abool)("isCompressed",e),o.bytesToHex(this.toRawBytes(e))}}w.BASE=new w(t.Gx,t.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,v=(0,r.wNAF)(w,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:w,normPrivateKeyToScalar:h,weierstrassEquation:l,isWithinCurveOrder:function(e){return o.inRange(e,f,t.n)}}}function y(e,t){const n=e.ORDER;let r=d;for(let e=n-f;e%h===d;e/=h)r+=f;const i=r,o=h<<i-f-f,s=o*h,a=(n-f)/s,c=(a-f)/h,u=s-f,l=o,g=e.pow(t,a),y=e.pow(t,(a+f)/h);let w=(t,n)=>{let r=g,o=e.pow(n,u),s=e.sqr(o);s=e.mul(s,n);let a=e.mul(t,s);a=e.pow(a,c),a=e.mul(a,o),o=e.mul(a,n),s=e.mul(a,t);let d=e.mul(s,o);a=e.pow(d,l);let p=e.eql(a,e.ONE);o=e.mul(s,y),a=e.mul(d,r),s=e.cmov(o,s,p),d=e.cmov(a,d,p);for(let t=i;t>f;t--){let n=t-h;n=h<<n-f;let i=e.pow(d,n);const a=e.eql(i,e.ONE);o=e.mul(s,r),r=e.mul(r,r),i=e.mul(d,r),s=e.cmov(o,s,a),d=e.cmov(i,d,a)}return{isValid:p,value:s}};if(e.ORDER%m===p){const n=(e.ORDER-p)/m,r=e.sqrt(e.neg(t));w=(t,i)=>{let o=e.sqr(i);const s=e.mul(t,i);o=e.mul(o,s);let a=e.pow(o,n);a=e.mul(a,s);const c=e.mul(a,r),u=e.mul(e.sqr(a),i),l=e.eql(u,t);return{isValid:l,value:e.cmov(c,a,l)}}}return w}}}},{package:"viem>webauthn-p256>@noble/curves",file:"node_modules/@noble/curves/abstract/weierstrass.js"}],[2990,{"./abstract/curve.js":2983,"./abstract/edwards.js":2984,"./abstract/hash-to-curve.js":2985,"./abstract/modular.js":2986,"./abstract/montgomery.js":2987,"./abstract/utils.js":2988,"@noble/hashes/sha512":3002,"@noble/hashes/utils":3003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hash_to_ristretto255=n.hashToRistretto255=n.RistrettoPoint=n.encodeToCurve=n.hashToCurve=n.edwardsToMontgomery=n.x25519=n.ed25519ph=n.ed25519ctx=n.ed25519=n.ED25519_TORSION_SUBGROUP=void 0,n.edwardsToMontgomeryPub=S,n.edwardsToMontgomeryPriv=function(e){const t=T.hash(e.subarray(0,32));return T.adjustScalarBytes(t).subarray(0,32)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/sha512"),i=e("@noble/hashes/utils"),o=e("./abstract/curve.js"),s=e("./abstract/edwards.js"),a=e("./abstract/hash-to-curve.js"),c=e("./abstract/modular.js"),u=e("./abstract/montgomery.js"),l=e("./abstract/utils.js"),d=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),f=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),h=BigInt(0),p=BigInt(1),m=BigInt(2),g=BigInt(3),y=BigInt(5),w=BigInt(8);function b(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=d,s=e*e%o*e%o,a=(0,c.pow2)(s,m,o)*s%o,u=(0,c.pow2)(a,p,o)*e%o,l=(0,c.pow2)(u,y,o)*u%o,f=(0,c.pow2)(l,t,o)*l%o,h=(0,c.pow2)(f,n,o)*f%o,g=(0,c.pow2)(h,r,o)*h%o,w=(0,c.pow2)(g,i,o)*g%o,b=(0,c.pow2)(w,i,o)*g%o,v=(0,c.pow2)(b,t,o)*l%o;return{pow_p_5_8:(0,c.pow2)(v,m,o)*e%o,b2:s}}function v(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function E(e,t){const n=d,r=(0,c.mod)(t*t*t,n),i=b(e*(0,c.mod)(r*r*t,n)).pow_p_5_8;let o=(0,c.mod)(e*r*i,n);const s=(0,c.mod)(t*o*o,n),a=o,u=(0,c.mod)(o*f,n),l=s===e,h=s===(0,c.mod)(-e,n),p=s===(0,c.mod)(-e*f,n);return l&&(o=a),(h||p)&&(o=u),(0,c.isNegativeLE)(o,n)&&(o=(0,c.mod)(-o,n)),{isValid:l||h,value:o}}n.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const A=(()=>(0,c.Field)(d,undefined,!0))(),T=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:A,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:w,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:r.sha512,randomBytes:i.randomBytes,adjustScalarBytes:v,uvRatio:E}))();function x(e,t,n){if(t.length>255)throw new Error("Context is too big");return(0,i.concatBytes)((0,i.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,t.length]),t,e)}function S(e){const{y:t}=n.ed25519.ExtendedPoint.fromHex(e),r=BigInt(1);return A.toBytes(A.create((r+t)*A.inv(r-t)))}n.ed25519=(0,s.twistedEdwards)(T),n.ed25519ctx=(0,s.twistedEdwards)({...T,domain:x}),n.ed25519ph=(0,s.twistedEdwards)(Object.assign({},T,{domain:x,prehash:r.sha512})),n.x25519=(0,u.montgomery)({P:d,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=d,{pow_p_5_8:n,b2:r}=b(e);return(0,c.mod)((0,c.pow2)(n,g,t)*r,t)},adjustScalarBytes:v,randomBytes:i.randomBytes}),n.edwardsToMontgomery=S;const k=(()=>(A.ORDER+g)/w)(),I=(()=>A.pow(m,k))(),C=(()=>A.sqrt(A.neg(A.ONE)))();const j=(()=>(0,c.FpSqrtEven)(A,A.neg(BigInt(486664))))();function P(e){const{xMn:t,xMd:n,yMn:r,yMd:i}=function(e){const t=(A.ORDER-y)/w,n=BigInt(486662);let r=A.sqr(e);r=A.mul(r,m);let i=A.add(r,A.ONE),o=A.neg(n),s=A.sqr(i),a=A.mul(s,i),c=A.mul(r,n);c=A.mul(c,o),c=A.add(c,s),c=A.mul(c,o);let u=A.sqr(a);s=A.sqr(u),u=A.mul(u,a),u=A.mul(u,c),s=A.mul(s,u);let l=A.pow(s,t);l=A.mul(l,u);let d=A.mul(l,C);s=A.sqr(l),s=A.mul(s,a);let f=A.eql(s,c),h=A.cmov(d,l,f),g=A.mul(o,r),b=A.mul(l,e);b=A.mul(b,I);let v=A.mul(b,C),E=A.mul(c,r);s=A.sqr(b),s=A.mul(s,a);let T=A.eql(s,E),x=A.cmov(v,b,T);s=A.sqr(h),s=A.mul(s,a);let S=A.eql(s,c),k=A.cmov(g,o,S),j=A.cmov(x,h,S),P=A.isOdd(j);return j=A.cmov(j,A.neg(j),S!==P),{xMn:k,xMd:i,yMn:j,yMd:p}}(e);let o=A.mul(t,i);o=A.mul(o,j);let s=A.mul(n,r),a=A.sub(t,n),c=A.add(t,n),u=A.mul(s,c),l=A.eql(u,A.ZERO);o=A.cmov(o,A.ZERO,l),s=A.cmov(s,A.ONE,l),a=A.cmov(a,A.ONE,l),c=A.cmov(c,A.ONE,l);const d=A.invertBatch([s,c]);return{x:A.mul(o,d[0]),y:A.mul(a,d[1])}}const _=(()=>(0,a.createHasher)(n.ed25519.ExtendedPoint,(e=>P(e[0])),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:A.ORDER,m:1,k:128,expand:"xmd",hash:r.sha512}))();function O(e){if(!(e instanceof z))throw new Error("RistrettoPoint expected")}n.hashToCurve=_.hashToCurve,n.encodeToCurve=_.encodeToCurve;const B=f,R=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),N=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),L=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),F=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),M=e=>E(p,e),D=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),U=e=>n.ed25519.CURVE.Fp.create((0,l.bytesToNumberLE)(e)&D);function G(e){const{d:t}=n.ed25519.CURVE,r=n.ed25519.CURVE.Fp.ORDER,i=n.ed25519.CURVE.Fp.create,o=i(B*e*e),s=i((o+p)*L);let a=BigInt(-1);const u=i((a-t*o)*i(o+t));let{isValid:l,value:d}=E(s,u),f=i(d*e);(0,c.isNegativeLE)(f,r)||(f=i(-f)),l||(d=f),l||(a=o);const h=i(a*(o-p)*F-u),m=d*d,g=i((d+d)*u),y=i(h*R),w=i(p-m),b=i(p+m);return new n.ed25519.ExtendedPoint(i(g*b),i(w*y),i(y*b),i(g*w))}class z{constructor(e){this.ep=e}static fromAffine(e){return new z(n.ed25519.ExtendedPoint.fromAffine(e))}static hashToCurve(e){e=(0,l.ensureBytes)("ristrettoHash",e,64);const t=G(U(e.slice(0,32))),n=G(U(e.slice(32,64)));return new z(t.add(n))}static fromHex(e){e=(0,l.ensureBytes)("ristrettoHex",e,32);const{a:t,d:r}=n.ed25519.CURVE,i=n.ed25519.CURVE.Fp.ORDER,o=n.ed25519.CURVE.Fp.create,s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=U(e);if(!(0,l.equalBytes)((0,l.numberToBytesLE)(a,32),e)||(0,c.isNegativeLE)(a,i))throw new Error(s);const u=o(a*a),d=o(p+t*u),f=o(p-t*u),m=o(d*d),g=o(f*f),y=o(t*r*m-g),{isValid:w,value:b}=M(o(y*g)),v=o(b*f),E=o(b*v*y);let A=o((a+a)*v);(0,c.isNegativeLE)(A,i)&&(A=o(-A));const T=o(d*E),x=o(A*T);if(!w||(0,c.isNegativeLE)(x,i)||T===h)throw new Error(s);return new z(new n.ed25519.ExtendedPoint(A,T,p,x))}static msm(e,t){const r=(0,c.Field)(n.ed25519.CURVE.n,n.ed25519.CURVE.nBitLength);return(0,o.pippenger)(z,r,e,t)}toRawBytes(){let{ex:e,ey:t,ez:r,et:i}=this.ep;const o=n.ed25519.CURVE.Fp.ORDER,s=n.ed25519.CURVE.Fp.create,a=s(s(r+t)*s(r-t)),u=s(e*t),d=s(u*u),{value:f}=M(s(a*d)),h=s(f*a),p=s(f*u),m=s(h*p*i);let g;if((0,c.isNegativeLE)(i*m,o)){let n=s(t*B),r=s(e*B);e=n,t=r,g=s(h*N)}else g=p;(0,c.isNegativeLE)(e*m,o)&&(t=s(-t));let y=s((r-t)*g);return(0,c.isNegativeLE)(y,o)&&(y=s(-y)),(0,l.numberToBytesLE)(y,32)}toHex(){return(0,l.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(e){O(e);const{ex:t,ey:r}=this.ep,{ex:i,ey:o}=e.ep,s=n.ed25519.CURVE.Fp.create,a=s(t*o)===s(r*i),c=s(r*o)===s(t*i);return a||c}add(e){return O(e),new z(this.ep.add(e.ep))}subtract(e){return O(e),new z(this.ep.subtract(e.ep))}multiply(e){return new z(this.ep.multiply(e))}multiplyUnsafe(e){return new z(this.ep.multiplyUnsafe(e))}double(){return new z(this.ep.double())}negate(){return new z(this.ep.negate())}}n.RistrettoPoint=(z.BASE||(z.BASE=new z(n.ed25519.ExtendedPoint.BASE)),z.ZERO||(z.ZERO=new z(n.ed25519.ExtendedPoint.ZERO)),z);n.hashToRistretto255=(e,t)=>{const n=t.DST,o="string"==typeof n?(0,i.utf8ToBytes)(n):n,s=(0,a.expand_message_xmd)(e,o,64,r.sha512);return z.hashToCurve(s)},n.hash_to_ristretto255=n.hashToRistretto255}}},{package:"viem>webauthn-p256>@noble/curves",file:"node_modules/@noble/curves/ed25519.js"}],[2991,{"./_shortw_utils.js":2982,"./abstract/hash-to-curve.js":2985,"./abstract/modular.js":2986,"./abstract/utils.js":2988,"./abstract/weierstrass.js":2989,"@noble/hashes/sha256":3e3,"@noble/hashes/utils":3003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.encodeToCurve=n.hashToCurve=n.schnorr=n.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/sha256"),i=e("@noble/hashes/utils"),o=e("./_shortw_utils.js"),s=e("./abstract/hash-to-curve.js"),a=e("./abstract/modular.js"),c=e("./abstract/utils.js"),u=e("./abstract/weierstrass.js"),l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f=BigInt(1),h=BigInt(2),p=(e,t)=>(e+t/h)/t;function m(e){const t=l,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),c=BigInt(44),u=BigInt(88),d=e*e*e%t,f=d*d*e%t,p=(0,a.pow2)(f,n,t)*f%t,m=(0,a.pow2)(p,n,t)*f%t,y=(0,a.pow2)(m,h,t)*d%t,w=(0,a.pow2)(y,i,t)*y%t,b=(0,a.pow2)(w,o,t)*w%t,v=(0,a.pow2)(b,c,t)*b%t,E=(0,a.pow2)(v,u,t)*v%t,A=(0,a.pow2)(E,c,t)*b%t,T=(0,a.pow2)(A,n,t)*f%t,x=(0,a.pow2)(T,s,t)*w%t,S=(0,a.pow2)(x,r,t)*d%t,k=(0,a.pow2)(S,h,t);if(!g.eql(g.sqr(k),e))throw new Error("Cannot find square root");return k}const g=(0,a.Field)(l,undefined,undefined,{sqrt:m});n.secp256k1=(0,o.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),c=p(o*e,t),u=p(-r*e,t);let l=(0,a.mod)(e-c*n-u*i,t),h=(0,a.mod)(-c*r-u*o,t);const m=l>s,g=h>s;if(m&&(l=t-l),g&&(h=t-h),l>s||h>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:l,k2neg:g,k2:h}}}},r.sha256);const y=BigInt(0),w={};function b(e,...t){let n=w[e];if(n===undefined){const t=(0,r.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=(0,c.concatBytes)(t,t),w[e]=n}return(0,r.sha256)((0,c.concatBytes)(n,...t))}const v=e=>e.toRawBytes(!0).slice(1),E=e=>(0,c.numberToBytesBE)(e,32),A=e=>(0,a.mod)(e,l),T=e=>(0,a.mod)(e,d),x=n.secp256k1.ProjectivePoint,S=(e,t,n)=>x.BASE.multiplyAndAddUnsafe(e,t,n);function k(e){let t=n.secp256k1.utils.normPrivateKeyToScalar(e),r=x.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:T(-t),bytes:v(r)}}function I(e){(0,c.aInRange)("x",e,f,l);const t=A(e*e);let n=m(A(t*e+BigInt(7)));n%h!==y&&(n=A(-n));const r=new x(e,n,f);return r.assertValidity(),r}const C=c.bytesToNumberBE;function j(...e){return T(C(b("BIP0340/challenge",...e)))}function P(e){return k(e).bytes}function _(e,t,n=(0,i.randomBytes)(32)){const r=(0,c.ensureBytes)("message",e),{bytes:o,scalar:s}=k(t),a=(0,c.ensureBytes)("auxRand",n,32),u=E(s^C(b("BIP0340/aux",a))),l=b("BIP0340/nonce",u,o,r),d=T(C(l));if(d===y)throw new Error("sign failed: k is zero");const{bytes:f,scalar:h}=k(d),p=j(f,o,r),m=new Uint8Array(64);if(m.set(f,0),m.set(E(T(h+p*s)),32),!O(m,r,o))throw new Error("sign: Invalid signature produced");return m}function O(e,t,n){const r=(0,c.ensureBytes)("signature",e,64),i=(0,c.ensureBytes)("message",t),o=(0,c.ensureBytes)("publicKey",n,32);try{const e=I(C(o)),t=C(r.subarray(0,32));if(!(0,c.inRange)(t,f,l))return!1;const n=C(r.subarray(32,64));if(!(0,c.inRange)(n,f,d))return!1;const s=j(E(t),v(e),i),a=S(e,n,T(-s));return!(!a||!a.hasEvenY()||a.toAffine().x!==t)}catch(e){return!1}}n.schnorr={getPublicKey:P,sign:_,verify:O,utils:{randomPrivateKey:n.secp256k1.utils.randomPrivateKey,lift_x:I,pointToBytes:v,numberToBytesBE:c.numberToBytesBE,bytesToNumberBE:c.bytesToNumberBE,taggedHash:b,mod:a.mod}};const B=(()=>(0,s.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),R=(()=>(0,u.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))(),N=(()=>(0,s.createHasher)(n.secp256k1.ProjectivePoint,(e=>{const{x:t,y:n}=R(g.create(e[0]));return B(t,n)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:r.sha256}))();n.hashToCurve=N.hashToCurve,n.encodeToCurve=N.encodeToCurve}}},{package:"viem>webauthn-p256>@noble/curves",file:"node_modules/@noble/curves/secp256k1.js"}],[2992,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function i(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}Object.defineProperty(n,"__esModule",{value:!0}),n.anumber=r,n.abytes=i,n.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)},n.aexists=function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},n.aoutput=function(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/_assert.js"}],[2993,{"./_assert.js":2992,"./utils.js":3003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HashMD=void 0,n.setBigUint64=o,n.Chi=function(e,t,n){return e&t^~e&n},n.Maj=function(e,t,n){return e&t^e&n^t&n};const r=e("./_assert.js"),i=e("./utils.js");function o(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}class s extends i.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,r.aexists)(this);const{view:t,buffer:n,blockLen:o}=this,s=(e=(0,i.toBytes)(e)).length;for(let r=0;r<s;){const a=Math.min(o-this.pos,s-r);if(a!==o)n.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=s-r;r+=o)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.aexists)(this),(0,r.aoutput)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:a}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(n,0),c=0);for(let e=c;e<s;e++)t[e]=0;o(n,s-8,BigInt(8*this.length),a),this.process(n,0);const u=(0,i.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)u.setUint32(4*e,f[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}n.HashMD=s}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/_md.js"}],[2994,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.add5L=n.add5H=n.add4H=n.add4L=n.add3H=n.add3L=n.rotlBL=n.rotlBH=n.rotlSL=n.rotlSH=n.rotr32L=n.rotr32H=n.rotrBL=n.rotrBH=n.rotrSL=n.rotrSH=n.shrSL=n.shrSH=n.toBig=void 0,n.fromBig=o,n.split=s,n.add=v;const r=BigInt(2**32-1),i=BigInt(32);function o(e,t=!1){return t?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function s(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=o(e[i],t);[n[i],r[i]]=[s,a]}return[n,r]}const a=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);n.toBig=a;const c=(e,t,n)=>e>>>n;n.shrSH=c;const u=(e,t,n)=>e<<32-n|t>>>n;n.shrSL=u;const l=(e,t,n)=>e>>>n|t<<32-n;n.rotrSH=l;const d=(e,t,n)=>e<<32-n|t>>>n;n.rotrSL=d;const f=(e,t,n)=>e<<64-n|t>>>n-32;n.rotrBH=f;const h=(e,t,n)=>e>>>n-32|t<<64-n;n.rotrBL=h;const p=(e,t)=>t;n.rotr32H=p;const m=(e,t)=>e;n.rotr32L=m;const g=(e,t,n)=>e<<n|t>>>32-n;n.rotlSH=g;const y=(e,t,n)=>t<<n|e>>>32-n;n.rotlSL=y;const w=(e,t,n)=>t<<n-32|e>>>64-n;n.rotlBH=w;const b=(e,t,n)=>e<<n-32|t>>>64-n;function v(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}n.rotlBL=b;const E=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);n.add3L=E;const A=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;n.add3H=A;const T=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);n.add4L=T;const x=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;n.add4H=x;const S=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);n.add5L=S;const k=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0;n.add5H=k;const I={fromBig:o,split:s,toBig:a,shrSH:c,shrSL:u,rotrSH:l,rotrSL:d,rotrBH:f,rotrBL:h,rotr32H:p,rotr32L:m,rotlSH:g,rotlSL:y,rotlBH:w,rotlBL:b,add:v,add3L:E,add3H:A,add4L:T,add4H:x,add5H:k,add5L:S};n.default=I}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/_u64.js"}],[2995,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.crypto=void 0,n.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/crypto.js"}],[2996,{"./_assert.js":2992,"./utils.js":3003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hmac=n.HMAC=void 0;const r=e("./_assert.js"),i=e("./utils.js");class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.ahash)(e);const n=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,r.aexists)(this),this.iHash.update(e),this}digestInto(e){(0,r.aexists)(this),(0,r.abytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}n.HMAC=o;n.hmac=(e,t,n)=>new o(e,t).update(n).digest(),n.hmac.create=(e,t)=>new o(e,t)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/hmac.js"}],[2997,{"./_assert.js":2992,"./hmac.js":2996,"./utils.js":3003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pbkdf2=function(e,t,n,r){const{c:i,dkLen:c,DK:u,PRF:l,PRFSalt:d}=s(e,t,n,r);let f;const h=new Uint8Array(4),p=(0,o.createView)(h),m=new Uint8Array(l.outputLen);for(let e=1,t=0;t<c;e++,t+=l.outputLen){const n=u.subarray(t,t+l.outputLen);p.setInt32(0,e,!1),(f=d._cloneInto(f)).update(h).digestInto(m),n.set(m.subarray(0,n.length));for(let e=1;e<i;e++){l._cloneInto(f).update(m).digestInto(m);for(let e=0;e<n.length;e++)n[e]^=m[e]}}return a(l,d,u,f,m)},n.pbkdf2Async=async function(e,t,n,r){const{c:i,dkLen:c,asyncTick:u,DK:l,PRF:d,PRFSalt:f}=s(e,t,n,r);let h;const p=new Uint8Array(4),m=(0,o.createView)(p),g=new Uint8Array(d.outputLen);for(let e=1,t=0;t<c;e++,t+=d.outputLen){const n=l.subarray(t,t+d.outputLen);m.setInt32(0,e,!1),(h=f._cloneInto(h)).update(p).digestInto(g),n.set(g.subarray(0,n.length)),await(0,o.asyncLoop)(i-1,u,(()=>{d._cloneInto(h).update(g).digestInto(g);for(let e=0;e<n.length;e++)n[e]^=g[e]}))}return a(d,f,l,h,g)};const r=e("./_assert.js"),i=e("./hmac.js"),o=e("./utils.js");function s(e,t,n,s){(0,r.ahash)(e);const a=(0,o.checkOpts)({dkLen:32,asyncTick:10},s),{c:c,dkLen:u,asyncTick:l}=a;if((0,r.anumber)(c),(0,r.anumber)(u),(0,r.anumber)(l),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const d=(0,o.toBytes)(t),f=(0,o.toBytes)(n),h=new Uint8Array(u),p=i.hmac.create(e,d),m=p._cloneInto().update(f);return{c:c,dkLen:u,asyncTick:l,DK:h,PRF:p,PRFSalt:m}}function a(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/pbkdf2.js"}],[2998,{"./_md.js":2993,"./utils.js":3003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ripemd160=n.RIPEMD160=void 0;const r=e("./_md.js"),i=e("./utils.js"),o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),s=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t)));let a=[s],c=[s.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[a,c])t.push(t[e].map((e=>o[e])));const u=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),l=a.map(((e,t)=>e.map((e=>u[t][e])))),d=c.map(((e,t)=>e.map((e=>u[t][e])))),f=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),h=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function p(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const m=new Uint32Array(16);class g extends r.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)m[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,o=0|this.h1,s=o,u=0|this.h2,g=u,y=0|this.h3,w=y,b=0|this.h4,v=b;for(let e=0;e<5;e++){const t=4-e,E=f[e],A=h[e],T=a[e],x=c[e],S=l[e],k=d[e];for(let t=0;t<16;t++){const r=(0,i.rotl)(n+p(e,o,u,y)+m[T[t]]+E,S[t])+b|0;n=b,b=y,y=0|(0,i.rotl)(u,10),u=o,o=r}for(let e=0;e<16;e++){const n=(0,i.rotl)(r+p(t,s,g,w)+m[x[e]]+A,k[e])+v|0;r=v,v=w,w=0|(0,i.rotl)(g,10),g=s,s=n}}this.set(this.h1+u+w|0,this.h2+y+v|0,this.h3+b+r|0,this.h4+n+s|0,this.h0+o+g|0)}roundClean(){m.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}n.RIPEMD160=g,n.ripemd160=(0,i.wrapConstructor)((()=>new g))}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/ripemd160.js"}],[2999,{"./_assert.js":2992,"./pbkdf2.js":2997,"./sha256.js":3e3,"./utils.js":3003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.scrypt=function(e,t,n){const{N:r,r:i,p:o,dkLen:a,blockSize32:d,V:f,B32:h,B:p,tmp:m,blockMixCb:g}=u(e,t,n);s.isLE||(0,s.byteSwap32)(h);for(let e=0;e<o;e++){const t=d*e;for(let e=0;e<d;e++)f[e]=h[t+e];for(let e=0,t=0;e<r-1;e++)c(f,t,f,t+=d,i),g();c(f,(r-1)*d,h,t,i),g();for(let e=0;e<r;e++){const e=h[t+d-16]%r;for(let n=0;n<d;n++)m[n]=h[t+n]^f[e*d+n];c(m,0,h,t,i),g()}}s.isLE||(0,s.byteSwap32)(h);return l(e,a,p,f,m)},n.scryptAsync=async function(e,t,n){const{N:r,r:i,p:o,dkLen:a,blockSize32:d,V:f,B32:h,B:p,tmp:m,blockMixCb:g,asyncTick:y}=u(e,t,n);s.isLE||(0,s.byteSwap32)(h);for(let e=0;e<o;e++){const t=d*e;for(let e=0;e<d;e++)f[e]=h[t+e];let n=0;await(0,s.asyncLoop)(r-1,y,(()=>{c(f,n,f,n+=d,i),g()})),c(f,(r-1)*d,h,t,i),g(),await(0,s.asyncLoop)(r,y,(()=>{const e=h[t+d-16]%r;for(let n=0;n<d;n++)m[n]=h[t+n]^f[e*d+n];c(m,0,h,t,i),g()}))}s.isLE||(0,s.byteSwap32)(h);return l(e,a,p,f,m)};const r=e("./_assert.js"),i=e("./pbkdf2.js"),o=e("./sha256.js"),s=e("./utils.js");function a(e,t,n,r,i,o){let a=e[t++]^n[r++],c=e[t++]^n[r++],u=e[t++]^n[r++],l=e[t++]^n[r++],d=e[t++]^n[r++],f=e[t++]^n[r++],h=e[t++]^n[r++],p=e[t++]^n[r++],m=e[t++]^n[r++],g=e[t++]^n[r++],y=e[t++]^n[r++],w=e[t++]^n[r++],b=e[t++]^n[r++],v=e[t++]^n[r++],E=e[t++]^n[r++],A=e[t++]^n[r++],T=a,x=c,S=u,k=l,I=d,C=f,j=h,P=p,_=m,O=g,B=y,R=w,N=b,L=v,F=E,M=A;for(let e=0;e<8;e+=2)I^=(0,s.rotl)(T+N|0,7),_^=(0,s.rotl)(I+T|0,9),N^=(0,s.rotl)(_+I|0,13),T^=(0,s.rotl)(N+_|0,18),O^=(0,s.rotl)(C+x|0,7),L^=(0,s.rotl)(O+C|0,9),x^=(0,s.rotl)(L+O|0,13),C^=(0,s.rotl)(x+L|0,18),F^=(0,s.rotl)(B+j|0,7),S^=(0,s.rotl)(F+B|0,9),j^=(0,s.rotl)(S+F|0,13),B^=(0,s.rotl)(j+S|0,18),k^=(0,s.rotl)(M+R|0,7),P^=(0,s.rotl)(k+M|0,9),R^=(0,s.rotl)(P+k|0,13),M^=(0,s.rotl)(R+P|0,18),x^=(0,s.rotl)(T+k|0,7),S^=(0,s.rotl)(x+T|0,9),k^=(0,s.rotl)(S+x|0,13),T^=(0,s.rotl)(k+S|0,18),j^=(0,s.rotl)(C+I|0,7),P^=(0,s.rotl)(j+C|0,9),I^=(0,s.rotl)(P+j|0,13),C^=(0,s.rotl)(I+P|0,18),R^=(0,s.rotl)(B+O|0,7),_^=(0,s.rotl)(R+B|0,9),O^=(0,s.rotl)(_+R|0,13),B^=(0,s.rotl)(O+_|0,18),N^=(0,s.rotl)(M+F|0,7),L^=(0,s.rotl)(N+M|0,9),F^=(0,s.rotl)(L+N|0,13),M^=(0,s.rotl)(F+L|0,18);i[o++]=a+T|0,i[o++]=c+x|0,i[o++]=u+S|0,i[o++]=l+k|0,i[o++]=d+I|0,i[o++]=f+C|0,i[o++]=h+j|0,i[o++]=p+P|0,i[o++]=m+_|0,i[o++]=g+O|0,i[o++]=y+B|0,i[o++]=w+R|0,i[o++]=b+N|0,i[o++]=v+L|0,i[o++]=E+F|0,i[o++]=A+M|0}function c(e,t,n,r,i){let o=r+0,s=r+16*i;for(let r=0;r<16;r++)n[s+r]=e[t+16*(2*i-1)+r];for(let r=0;r<i;r++,o+=16,t+=16)a(n,s,e,t,n,o),r>0&&(s+=16),a(n,o,e,t+=16,n,s)}function u(e,t,n){const a=(0,s.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:c,r:u,p:l,dkLen:d,asyncTick:f,maxmem:h,onProgress:p}=a;if((0,r.anumber)(c),(0,r.anumber)(u),(0,r.anumber)(l),(0,r.anumber)(d),(0,r.anumber)(f),(0,r.anumber)(h),p!==undefined&&"function"!=typeof p)throw new Error("progressCb should be function");const m=128*u,g=m/4;if(c<=1||c&c-1||c>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, and less than 2^32");if(l<0||l>137438953440/m)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(d<0||d>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");if(m*(c+l)>h)throw new Error("Scrypt: memused is bigger than maxMem. Expected 128 * r * (N + p) > maxmem of "+h);const y=(0,i.pbkdf2)(o.sha256,e,t,{c:1,dkLen:m*l}),w=(0,s.u32)(y),b=(0,s.u32)(new Uint8Array(m*c)),v=(0,s.u32)(new Uint8Array(m));let E=()=>{};if(p){const e=2*c*l,t=Math.max(Math.floor(e/1e4),1);let n=0;E=()=>{n++,!p||n%t&&n!==e||p(n/e)}}return{N:c,r:u,p:l,dkLen:d,blockSize32:g,V:b,B32:w,B:y,tmp:v,blockMixCb:E,asyncTick:f}}function l(e,t,n,r,s){const a=(0,i.pbkdf2)(o.sha256,e,n,{c:1,dkLen:t});return n.fill(0),r.fill(0),s.fill(0),a}}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/scrypt.js"}],[3,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={chunks:[{color:[102,24,0],faces:[[2,3,1],[1,3,4],[5,1,4],[6,7,61],[6,61,8],[15,20,12],[15,9,19],[19,20,15],[1,5,0],[1,0,2],[31,30,32],[30,33,32],[34,33,30],[35,37,60],[35,60,36],[44,41,49],[44,48,38],[48,44,49],[30,29,34],[30,31,29],[12,20,49],[12,49,41],[20,19,48],[20,48,49],[19,9,38],[19,38,48]],materialName:"model:model1:brown"},{color:[227,72,7],faces:[[9,6,63],[17,28,13],[13,16,17],[8,65,10],[27,7,59],[63,8,10],[18,2,21],[2,0,21],[21,22,23],[24,22,21],[21,5,24],[14,16,13],[25,16,14],[16,24,17],[25,22,24],[16,25,24],[17,24,5],[0,5,21],[61,27,8],[62,37,35],[42,46,45],[46,42,57],[37,64,56],[56,36,60],[37,62,39],[47,50,31],[31,50,29],[50,52,51],[53,50,51],[50,53,34],[43,42,45],[45,54,43],[53,45,46],[54,53,51],[54,45,53],[53,46,34],[29,50,34],[36,56,58],[23,22,51],[23,51,52],[22,25,54],[22,54,51],[25,14,43],[25,43,54],[56,60,37],[7,27,61],[38,62,35],[8,63,6],[37,39,64],[8,27,65]],materialName:"model:model1:orange_dark"},{color:[255,92,22],faces:[[27,59,4],[65,3,10],[3,2,18],[23,18,21],[27,4,3],[28,15,13],[56,32,33],[56,64,32],[32,47,31],[52,50,47],[56,33,58],[57,42,44],[18,23,52],[18,52,47],[32,64,39],[27,3,65]],materialName:"model:model1:orange_mid"},{color:[192,196,205],faces:[[26,13,11],[14,13,26],[43,55,42],[55,40,42],[14,26,55],[14,55,43],[26,11,40],[26,40,55],[11,12,41],[11,41,40]],materialName:"model:model1:white_underside"},{color:[255,141,93],faces:[[17,59,7],[17,7,28],[28,9,15],[9,28,6],[28,7,6],[58,34,46],[58,46,57],[58,57,36],[57,44,38],[38,35,57],[36,57,35],[62,63,10],[62,10,39],[10,3,32],[10,32,39],[3,18,47],[3,47,32],[59,5,4],[34,58,33],[5,59,17],[38,9,63],[38,63,62]],materialName:"model:model1:pasted__orange_bright_alt"},{color:[231,235,246],faces:[[15,12,11],[15,11,13],[44,42,40],[44,40,41]],materialName:"model:model1:white_side"}],positions:[[11.086484,5.960324999999999,2.77823],[6.465275,4.255375000000001,1.88451],[9.594237,11.702960999999998,4.818539],[2.466232,4.250507000000001,6.037715],[6.464263,1.4749859999999995,3.628665],[9.605342,1.4489300000000007,.910938],[2.231848,-2.4387,8.109403],[4.922223,-1.7745820000000005,6.462612],[2.730904,-.9981170000000006,8.231533],[.93571,-5.683305,13.898631],[1.826048,.1982759999999999,8.967493],[1.258694,-9.521664999999999,11.713494],[1.255813,-7.606733,14.061978],[4.829895,-7.400282,5.474004],[4.015327,-7.042688,.703314],[1.612633,-6.389058,13.879456],[9.587111,-8.813012,-.560606],[11.053112,-3.933592,1.23187],[2.146133,7.2576350000000005,2.344184],[.566381,-6.040558,14.725849],[1.08419,-6.719231000000001,14.706674],[5.171019,4.21175,-3.034384],[2.0921,2.645106,-5.246524],[1.66333,6.2937319999999985,-1.261715],[7.22446,.4266179999999995,-1.816326],[2.34563,-2.4331899999999997,-5.660416],[1.060229,-9.526682000000001,3.893901],[4.81298,.19828200000000074,7.707912],[4.82989,-4.000793,8.547805],[-11.086484,5.960324999999999,2.77823],[-6.465275,4.255375000000001,1.88451],[-9.594237,11.702960999999998,4.818539],[-2.466232,4.250507000000001,6.037715],[-6.464263,1.4749859999999995,3.628665],[-9.605342,1.4489300000000007,.910938],[-2.231848,-2.4387,8.109403],[-4.922223,-1.7745820000000005,6.462612],[-2.730904,-.9981170000000006,8.231533],[-.93571,-5.683305,13.898631],[-1.826048,.1982759999999999,8.967493],[-1.258695,-9.521664999999999,11.713494],[-1.255813,-7.606733,14.061978],[-4.829895,-7.400282,5.474004],[-4.015327,-7.042687,.703314],[-1.612633,-6.389058,13.879456],[-9.587111,-8.813012,-.560606],[-11.053112,-3.933592,1.23187],[-2.146133,7.2576350000000005,2.344184],[-.566381,-6.040558,14.725849],[-1.08419,-6.719231000000001,14.706674],[-5.171019,4.21175,-3.034384],[-2.0921,2.645106,-5.246524],[-1.66333,6.2937319999999985,-1.261715],[-7.22446,.4266179999999995,-1.816326],[-2.34563,-2.4331899999999997,-5.660416],[-1.060229,-9.526682000000001,3.893901],[-4.81298,.19828200000000074,7.707912],[-4.82989,-4.000793,8.547805],[-6.599504,-1.3817730000000008,5.348948],[6.599504,-1.3817730000000008,5.348948],[-4.135162,-.9990760000000005,7.580709],[4.135162,-.9990760000000005,7.580709],[-1.551688,-1.8464950000000009,9.58765],[1.551688,-1.8464950000000009,9.58765],[-3.089554,.19827800000000018,8.422374],[3.089554,.19827800000000018,8.422374]]}}}},{package:"$root$",file:"app/build-types/main/fox.json"}],[3e3,{"./_md.js":2993,"./utils.js":3003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha224=n.sha256=n.SHA256=void 0;const r=e("./_md.js"),i=e("./utils.js"),o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class c extends r.HashMD{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)a[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=a[e-15],n=a[e-2],r=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(n,17)^(0,i.rotr)(n,19)^n>>>10;a[e]=o+a[e-7]+r+a[e-16]|0}let{A:n,B:s,C:c,D:u,E:l,F:d,G:f,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+(0,r.Chi)(l,d,f)+o[e]+a[e]|0,p=((0,i.rotr)(n,2)^(0,i.rotr)(n,13)^(0,i.rotr)(n,22))+(0,r.Maj)(n,s,c)|0;h=f,f=d,d=l,l=u+t|0,u=c,c=s,s=n,n=t+p|0}n=n+this.A|0,s=s+this.B|0,c=c+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(n,s,c,u,l,d,f,h)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}n.SHA256=c;class u extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}n.sha256=(0,i.wrapConstructor)((()=>new c)),n.sha224=(0,i.wrapConstructor)((()=>new u))}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha256.js"}],[3001,{"./_assert.js":2992,"./_u64.js":2994,"./utils.js":3003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shake256=n.shake128=n.keccak_512=n.keccak_384=n.keccak_256=n.keccak_224=n.sha3_512=n.sha3_384=n.sha3_256=n.sha3_224=n.Keccak=void 0,n.keccakP=b;const r=e("./_assert.js"),i=e("./_u64.js"),o=e("./utils.js"),s=[],a=[],c=[],u=BigInt(0),l=BigInt(1),d=BigInt(2),f=BigInt(7),h=BigInt(256),p=BigInt(113);for(let e=0,t=l,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],s.push(2*(5*r+n)),a.push((e+1)*(e+2)/2%64);let i=u;for(let e=0;e<7;e++)t=(t<<l^(t>>f)*p)%h,t&d&&(i^=l<<(l<<BigInt(e))-l);c.push(i)}const[m,g]=(0,i.split)(c,!0),y=(e,t,n)=>n>32?(0,i.rotlBH)(e,t,n):(0,i.rotlSH)(e,t,n),w=(e,t,n)=>n>32?(0,i.rotlBL)(e,t,n):(0,i.rotlSL)(e,t,n);function b(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,o=n[i],s=n[i+1],a=y(o,s,1)^n[r],c=w(o,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=a[n],o=y(t,i,r),c=w(t,i,r),u=s[n];t=e[u],i=e[u+1],e[u]=o,e[u+1]=c}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=m[r],e[1]^=g[r]}n.fill(0)}class v extends o.Hash{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,r.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,o.u32)(this.state)}keccak(){o.isLE||(0,o.byteSwap32)(this.state32),b(this.state32,this.rounds),o.isLE||(0,o.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,r.aexists)(this);const{blockLen:t,state:n}=this,i=(e=(0,o.toBytes)(e)).length;for(let r=0;r<i;){const o=Math.min(t-this.pos,i-r);for(let t=0;t<o;t++)n[this.pos++]^=e[r++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,r.aexists)(this,!1),(0,r.abytes)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,r.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,r.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new v(t,n,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}n.Keccak=v;const E=(e,t,n)=>(0,o.wrapConstructor)((()=>new v(t,e,n)));n.sha3_224=E(6,144,28),n.sha3_256=E(6,136,32),n.sha3_384=E(6,104,48),n.sha3_512=E(6,72,64),n.keccak_224=E(1,144,28),n.keccak_256=E(1,136,32),n.keccak_384=E(1,104,48),n.keccak_512=E(1,72,64);const A=(e,t,n)=>(0,o.wrapXOFConstructorWithOpts)(((r={})=>new v(t,e,r.dkLen===undefined?n:r.dkLen,!0)));n.shake128=A(31,168,16),n.shake256=A(31,136,32)}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha3.js"}],[3002,{"./_md.js":2993,"./_u64.js":2994,"./utils.js":3003},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha384=n.sha512_256=n.sha512_224=n.sha512=n.SHA384=n.SHA512_256=n.SHA512_224=n.SHA512=void 0;const r=e("./_md.js"),i=e("./_u64.js"),o=e("./utils.js"),[s,a]=(()=>i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),c=new Uint32Array(80),u=new Uint32Array(80);class l extends r.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:f,Gl:h,Hh:p,Hl:m}=this;return[e,t,n,r,i,o,s,a,c,u,l,d,f,h,p,m]}set(e,t,n,r,i,o,s,a,c,u,l,d,f,h,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t),u[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],n=0|u[e-15],r=i.default.rotrSH(t,n,1)^i.default.rotrSH(t,n,8)^i.default.shrSH(t,n,7),o=i.default.rotrSL(t,n,1)^i.default.rotrSL(t,n,8)^i.default.shrSL(t,n,7),s=0|c[e-2],a=0|u[e-2],l=i.default.rotrSH(s,a,19)^i.default.rotrBH(s,a,61)^i.default.shrSH(s,a,6),d=i.default.rotrSL(s,a,19)^i.default.rotrBL(s,a,61)^i.default.shrSL(s,a,6),f=i.default.add4L(o,d,u[e-7],u[e-16]),h=i.default.add4H(f,r,l,c[e-7],c[e-16]);c[e]=0|h,u[e]=0|f}let{Ah:n,Al:r,Bh:o,Bl:l,Ch:d,Cl:f,Dh:h,Dl:p,Eh:m,El:g,Fh:y,Fl:w,Gh:b,Gl:v,Hh:E,Hl:A}=this;for(let e=0;e<80;e++){const t=i.default.rotrSH(m,g,14)^i.default.rotrSH(m,g,18)^i.default.rotrBH(m,g,41),T=i.default.rotrSL(m,g,14)^i.default.rotrSL(m,g,18)^i.default.rotrBL(m,g,41),x=m&y^~m&b,S=g&w^~g&v,k=i.default.add5L(A,T,S,a[e],u[e]),I=i.default.add5H(k,E,t,x,s[e],c[e]),C=0|k,j=i.default.rotrSH(n,r,28)^i.default.rotrBH(n,r,34)^i.default.rotrBH(n,r,39),P=i.default.rotrSL(n,r,28)^i.default.rotrBL(n,r,34)^i.default.rotrBL(n,r,39),_=n&o^n&d^o&d,O=r&l^r&f^l&f;E=0|b,A=0|v,b=0|y,v=0|w,y=0|m,w=0|g,({h:m,l:g}=i.default.add(0|h,0|p,0|I,0|C)),h=0|d,p=0|f,d=0|o,f=0|l,o=0|n,l=0|r;const B=i.default.add3L(C,P,O);n=i.default.add3H(B,I,j,_),r=0|B}({h:n,l:r}=i.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:l}=i.default.add(0|this.Bh,0|this.Bl,0|o,0|l)),({h:d,l:f}=i.default.add(0|this.Ch,0|this.Cl,0|d,0|f)),({h:h,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|h,0|p)),({h:m,l:g}=i.default.add(0|this.Eh,0|this.El,0|m,0|g)),({h:y,l:w}=i.default.add(0|this.Fh,0|this.Fl,0|y,0|w)),({h:b,l:v}=i.default.add(0|this.Gh,0|this.Gl,0|b,0|v)),({h:E,l:A}=i.default.add(0|this.Hh,0|this.Hl,0|E,0|A)),this.set(n,r,o,l,d,f,h,p,m,g,y,w,b,v,E,A)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}n.SHA512=l;class d extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}n.SHA512_224=d;class f extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}n.SHA512_256=f;class h extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}n.SHA384=h,n.sha512=(0,o.wrapConstructor)((()=>new l)),n.sha512_224=(0,o.wrapConstructor)((()=>new d)),n.sha512_256=(0,o.wrapConstructor)((()=>new f)),n.sha384=(0,o.wrapConstructor)((()=>new h))}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/sha512.js"}],[3003,{"./_assert.js":2992,"@noble/hashes/crypto":2995},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.Hash=n.nextTick=n.byteSwapIfBE=n.isLE=void 0,n.isBytes=function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name},n.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},n.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},n.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},n.rotr=function(e,t){return e<<32-t|e>>>t},n.rotl=function(e,t){return e<<t|e>>>32-t>>>0},n.byteSwap=o,n.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=o(e[t])},n.bytesToHex=function(e){(0,i.abytes)(e);let t="";for(let n=0;n<e.length;n++)t+=s[e[n]];return t},n.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=c(e.charCodeAt(i)),o=c(e.charCodeAt(i+1));if(n===undefined||o===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+o}return r},n.asyncLoop=async function(e,t,r){let i=Date.now();for(let o=0;o<e;o++){r(o);const e=Date.now()-i;e>=0&&e<t||(await(0,n.nextTick)(),i+=e)}},n.utf8ToBytes=u,n.toBytes=l,n.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];(0,i.abytes)(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n},n.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!=={}.toString.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},n.wrapConstructor=function(e){const t=t=>e().update(l(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},n.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(l(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},n.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(l(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},n.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"==typeof r.crypto.randomBytes)return r.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")};const r=e("@noble/hashes/crypto"),i=e("./_assert.js");function o(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}n.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],n.byteSwapIfBE=n.isLE?e=>e:e=>o(e);const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const a={_0:48,_9:57,A:65,F:70,a:97,f:102};function c(e){return e>=a._0&&e<=a._9?e-a._0:e>=a.A&&e<=a.F?e-(a.A-10):e>=a.a&&e<=a.f?e-(a.a-10):void 0}function u(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function l(e){return"string"==typeof e&&(e=u(e)),(0,i.abytes)(e),e}n.nextTick=async()=>{};n.Hash=class{clone(){return this._cloneInto()}}}}},{package:"@noble/hashes",file:"node_modules/@noble/hashes/utils.js"}],[3004,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openrpcDocument=void 0,n.openrpcDocument={$schema:"https://meta.json-schema.tools/",$id:"https://meta.open-rpc.org/",title:"openrpcDocument",type:"object",required:["info","methods","openrpc"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{openrpc:{title:"openrpc",type:"string",enum:["1.3.2","1.3.1","1.3.0","1.2.6","1.2.5","1.2.4","1.2.3","1.2.2","1.2.1","1.2.0","1.1.12","1.1.11","1.1.10","1.1.9","1.1.8","1.1.7","1.1.6","1.1.5","1.1.4","1.1.3","1.1.2","1.1.1","1.1.0","1.0.0","1.0.0-rc1","1.0.0-rc0"]},info:{$ref:"#/definitions/infoObject"},externalDocs:{$ref:"#/definitions/externalDocumentationObject"},servers:{title:"servers",type:"array",additionalItems:!1,items:{$ref:"#/definitions/serverObject"}},methods:{title:"methods",type:"array",additionalItems:!1,items:{title:"methodOrReference",oneOf:[{$ref:"#/definitions/methodObject"},{$ref:"#/definitions/referenceObject"}]}},components:{title:"components",type:"object",properties:{schemas:{title:"schemaComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/JSONSchema"}}},links:{title:"linkComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/linkObject"}}},errors:{title:"errorComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/errorObject"}}},examples:{title:"exampleComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/exampleObject"}}},examplePairings:{title:"examplePairingComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/examplePairingObject"}}},contentDescriptors:{title:"contentDescriptorComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/contentDescriptorObject"}}},tags:{title:"tagComponents",type:"object",patternProperties:{"[0-z]+":{$ref:"#/definitions/tagObject"}}}}},$schema:{title:"metaSchema",description:"JSON Schema URI (used by some editors)",type:"string",default:"https://meta.open-rpc.org/"}},definitions:{specificationExtension:{title:"specificationExtension"},JSONSchema:{$ref:"https://meta.json-schema.tools"},referenceObject:{title:"referenceObject",type:"object",additionalProperties:!1,required:["$ref"],properties:{$ref:{$ref:"https://meta.json-schema.tools/#/definitions/JSONSchemaObject/properties/$ref"}}},errorObject:{title:"errorObject",type:"object",description:"Defines an application level error.",additionalProperties:!1,required:["code","message"],properties:{code:{title:"errorObjectCode",description:"A Number that indicates the error type that occurred. This MUST be an integer. The error codes from and including -32768 to -32000 are reserved for pre-defined errors. These pre-defined errors SHOULD be assumed to be returned from any JSON-RPC api.",type:"integer"},message:{title:"errorObjectMessage",description:"A String providing a short description of the error. The message SHOULD be limited to a concise single sentence.",type:"string"},data:{title:"errorObjectData",description:"A Primitive or Structured value that contains additional information about the error. This may be omitted. The value of this member is defined by the Server (e.g. detailed error information, nested errors etc.)."}}},licenseObject:{title:"licenseObject",type:"object",additionalProperties:!1,properties:{name:{title:"licenseObjectName",type:"string"},url:{title:"licenseObjectUrl",type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},contactObject:{title:"contactObject",type:"object",additionalProperties:!1,properties:{name:{title:"contactObjectName",type:"string"},email:{title:"contactObjectEmail",type:"string"},url:{title:"contactObjectUrl",type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},infoObject:{title:"infoObject",type:"object",additionalProperties:!1,required:["title","version"],properties:{title:{title:"infoObjectProperties",type:"string"},description:{title:"infoObjectDescription",type:"string"},termsOfService:{title:"infoObjectTermsOfService",type:"string",format:"uri"},version:{title:"infoObjectVersion",type:"string"},contact:{$ref:"#/definitions/contactObject"},license:{$ref:"#/definitions/licenseObject"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},serverObject:{title:"serverObject",type:"object",required:["url"],additionalProperties:!1,properties:{url:{title:"serverObjectUrl",type:"string",format:"uri"},name:{title:"serverObjectName",type:"string"},description:{title:"serverObjectDescription",type:"string"},summary:{title:"serverObjectSummary",type:"string"},variables:{title:"serverObjectVariables",type:"object",patternProperties:{"[0-z]+":{title:"serverObjectVariable",type:"object",required:["default"],properties:{default:{title:"serverObjectVariableDefault",type:"string"},description:{title:"serverObjectVariableDescription",type:"string"},enum:{title:"serverObjectVariableEnum",type:"array",items:{title:"serverObjectVariableEnumItem",type:"string"}}}}}}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},linkObject:{title:"linkObject",type:"object",additionalProperties:!1,properties:{name:{title:"linkObjectName",type:"string",minLength:1},summary:{title:"linkObjectSummary",type:"string"},method:{title:"linkObjectMethod",type:"string"},description:{title:"linkObjectDescription",type:"string"},params:{title:"linkObjectParams"},server:{title:"linkObjectServer",$ref:"#/definitions/serverObject"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},externalDocumentationObject:{title:"externalDocumentationObject",type:"object",additionalProperties:!1,description:"information about external documentation",required:["url"],properties:{description:{title:"externalDocumentationObjectDescription",type:"string"},url:{title:"externalDocumentationObjectUrl",type:"string",format:"uri"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},methodObject:{title:"methodObject",type:"object",required:["name","params"],additionalProperties:!1,properties:{name:{title:"methodObjectName",description:"The cannonical name for the method. The name MUST be unique within the methods array.",type:"string",minLength:1},description:{title:"methodObjectDescription",description:"A verbose explanation of the method behavior. GitHub Flavored Markdown syntax MAY be used for rich text representation.",type:"string"},summary:{title:"methodObjectSummary",description:"A short summary of what the method does.",type:"string"},servers:{title:"servers",type:"array",additionalItems:!1,items:{$ref:"#/definitions/serverObject"}},tags:{title:"methodObjectTags",type:"array",items:{title:"tagOrReference",oneOf:[{$ref:"#/definitions/tagObject"},{$ref:"#/definitions/referenceObject"}]}},paramStructure:{title:"methodObjectParamStructure",type:"string",description:"Format the server expects the params. Defaults to 'either'.",enum:["by-position","by-name","either"],default:"either"},params:{title:"methodObjectParams",type:"array",items:{title:"contentDescriptorOrReference",oneOf:[{$ref:"#/definitions/contentDescriptorObject"},{$ref:"#/definitions/referenceObject"}]}},result:{title:"methodObjectResult",oneOf:[{$ref:"#/definitions/contentDescriptorObject"},{$ref:"#/definitions/referenceObject"}]},errors:{title:"methodObjectErrors",description:"Defines an application level error.",type:"array",items:{title:"errorOrReference",oneOf:[{$ref:"#/definitions/errorObject"},{$ref:"#/definitions/referenceObject"}]}},links:{title:"methodObjectLinks",type:"array",items:{title:"linkOrReference",oneOf:[{$ref:"#/definitions/linkObject"},{$ref:"#/definitions/referenceObject"}]}},examples:{title:"methodObjectExamples",type:"array",items:{title:"examplePairingOrReference",oneOf:[{$ref:"#/definitions/examplePairingObject"},{$ref:"#/definitions/referenceObject"}]}},deprecated:{title:"methodObjectDeprecated",type:"boolean",default:!1},externalDocs:{$ref:"#/definitions/externalDocumentationObject"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},tagObject:{title:"tagObject",type:"object",additionalProperties:!1,required:["name"],properties:{name:{title:"tagObjectName",type:"string",minLength:1},description:{title:"tagObjectDescription",type:"string"},externalDocs:{$ref:"#/definitions/externalDocumentationObject"}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},exampleObject:{title:"exampleObject",type:"object",required:["name","value"],properties:{summary:{title:"exampleObjectSummary",type:"string"},value:{title:"exampleObjectValue"},description:{title:"exampleObjectDescription",type:"string"},name:{title:"exampleObjectName",type:"string",minLength:1}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}},examplePairingObject:{title:"examplePairingObject",type:"object",required:["name","params"],properties:{name:{title:"examplePairingObjectName",type:"string",minLength:1},description:{title:"examplePairingObjectDescription",type:"string"},params:{title:"examplePairingObjectParams",type:"array",items:{title:"exampleOrReference",oneOf:[{$ref:"#/definitions/exampleObject"},{$ref:"#/definitions/referenceObject"}]}},result:{title:"examplePairingObjectResult",oneOf:[{$ref:"#/definitions/exampleObject"},{$ref:"#/definitions/referenceObject"}]}}},contentDescriptorObject:{title:"contentDescriptorObject",type:"object",additionalProperties:!1,required:["name","schema"],properties:{name:{title:"contentDescriptorObjectName",type:"string",minLength:1},description:{title:"contentDescriptorObjectDescription",type:"string"},summary:{title:"contentDescriptorObjectSummary",type:"string"},schema:{$ref:"#/definitions/JSONSchema"},required:{title:"contentDescriptorObjectRequired",type:"boolean",default:!1},deprecated:{title:"contentDescriptorObjectDeprecated",type:"boolean",default:!1}},patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}}}}},n.default=n.openrpcDocument}}},{package:"@open-rpc/meta-schema",file:"node_modules/@open-rpc/meta-schema/index.js"}],[3005,{"@json-schema-tools/dereferencer":3009,"@json-schema-tools/reference-resolver":606,"fast-safe-stringify":4435},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.OpenRPCDocumentDereferencingError=void 0;var a=s(e("@json-schema-tools/dereferencer")),c=s(e("@json-schema-tools/reference-resolver")),u=s(e("fast-safe-stringify")),l=function(e){this.name="OpenRPCDocumentDereferencingError",this.message="The json schema provided cannot be dereferenced. Received Error: \n ".concat(e)};n.OpenRPCDocumentDereferencingError=l;var d=function(e,t,n){return i(void 0,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:if((r=e.$ref)===undefined)return[2,e];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.resolve(r,t)];case 2:return[2,o.sent()];case 3:throw i=o.sent(),new l(["unable to eval pointer against OpenRPC Document.","error type: ".concat(i.name),"instance: ".concat(i.instance),"token: ".concat(i.token),"pointer: ".concat(r),"reference object: ".concat((0,u.default)(e))].join("\n"));case 4:return[2]}}))}))},f=function(e,t,n){return i(void 0,void 0,void 0,(function(){var r,i,s,a,c,u;return o(this,(function(o){switch(o.label){case 0:r=[],i=0,s=e,o.label=1;case 1:return i<s.length?(a=s[i],u=(c=r).push,[4,d(a,t,n)]):[3,4];case 2:u.apply(c,[o.sent()]),o.label=3;case 3:return i++,[3,1];case 4:return[2,r]}}))}))},h=function(e,t){return i(void 0,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:if(!0===e||!1===e)return[2,Promise.resolve(e)];t!==undefined&&(e.components={schemas:t}),n=new a.default(e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.resolve()];case 2:return!0!==(r=o.sent())&&!1!==r&&(delete r.components,delete e.components),[2,r];case 3:throw i=o.sent(),new l(["Unable to parse reference inside of JSONSchema",e.title?"Schema Title: ".concat(e.title):"","error message: ".concat(i.message),"schema in question: ".concat((0,u.default)(e))].join("\n"));case 4:return[2]}}))}))},p=function(e){return i(void 0,void 0,void 0,(function(){var t,n,r,i,s,a,c;return o(this,(function(o){switch(o.label){case 0:if(e.components===undefined)return[2,Promise.resolve(e)];if(e.components.contentDescriptors===undefined)return[2,Promise.resolve(e)];t=e.components.contentDescriptors,n=Object.keys(t),r={},e.components.schemas&&(r=e.components.schemas),i=0,s=n,o.label=1;case 1:return i<s.length?(a=s[i],c=t[a],[4,h(t[a].schema,r)]):[3,4];case 2:c.schema=o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2,e]}}))}))},m=function(e,t,n){return i(void 0,void 0,void 0,(function(){var r,i,s,a,c,u,l,p,m,g,y,w,b,v,E,A,T,x,S,k;return o(this,(function(o){switch(o.label){case 0:return r=e,e.$ref===undefined?[3,2]:[4,d({$ref:e.$ref},t,n)];case 1:r=o.sent(),o.label=2;case 2:return r.tags===undefined?[3,4]:(i=r,[4,f(r.tags,t,n)]);case 3:i.tags=o.sent(),o.label=4;case 4:return r.errors===undefined?[3,6]:(s=r,[4,f(r.errors,t,n)]);case 5:s.errors=o.sent(),o.label=6;case 6:return r.links===undefined?[3,8]:(a=r,[4,f(r.links,t,n)]);case 7:a.links=o.sent(),o.label=8;case 8:return r.examples===undefined?[3,14]:(c=r,[4,f(r.examples,t,n)]);case 9:c.examples=o.sent(),u=0,l=r.examples,o.label=10;case 10:return u<l.length?(p=l[u],m=p,[4,f(p.params,t,n)]):[3,14];case 11:return m.params=o.sent(),p.result===undefined?[3,13]:(g=p,[4,d(p.result,t,n)]);case 12:g.result=o.sent(),o.label=13;case 13:return u++,[3,10];case 14:return y=r,[4,f(r.params,t,n)];case 15:return y.params=o.sent(),r.result===undefined?[3,17]:(w=r,[4,d(r.result,t,n)]);case 16:w.result=o.sent(),o.label=17;case 17:b={},t.components&&t.components.schemas&&(b=t.components.schemas),v=r.params,E=0,A=v,o.label=18;case 18:return E<A.length?(T=A[E],x=T,[4,h(T.schema,b)]):[3,21];case 19:x.schema=o.sent(),o.label=20;case 20:return E++,[3,18];case 21:return r.result===undefined?[3,23]:(S=r.result,k=S,[4,h(S.schema,b)]);case 22:k.schema=o.sent(),o.label=23;case 23:return[2,r]}}))}))};n.default=function(e,t){return void 0===t&&(t=c.default),i(this,void 0,void 0,(function(){var n,s,a,c,u,l,d;return o(this,(function(f){switch(f.label){case 0:return n=r({},e),[4,(g=n,i(void 0,void 0,void 0,(function(){var e,t,n,r,i,s,a;return o(this,(function(o){switch(o.label){case 0:if(g.components===undefined)return[2,Promise.resolve(g)];if(g.components.schemas===undefined)return[2,Promise.resolve(g)];e=g.components.schemas,t=Object.keys(e),n=0,r=t,o.label=1;case 1:return n<r.length?(i=r[n],s=e,a=i,[4,h(e[i],e)]):[3,4];case 2:s[a]=o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2,g]}}))})))];case 1:return n=f.sent(),[4,p(n)];case 2:n=f.sent(),s=[],a=0,c=n.methods,f.label=3;case 3:return a<c.length?(u=c[a],d=(l=s).push,[4,m(u,n,t)]):[3,6];case 4:d.apply(l,[f.sent()]),f.label=5;case 5:return a++,[3,3];case 6:return n.methods=s,[2,n]}var g}))}))}}}},{package:"@open-rpc/schema-utils-js",file:"node_modules/@open-rpc/schema-utils-js/build/dereference-document.js"}],[3006,{"./dereference-document":3005,"./validate-open-rpc-document":3007,"@json-schema-tools/reference-resolver":606,"@json-schema-tools/reference-resolver/build/reference-resolver":607,"is-url":4675},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.makeCustomResolver=void 0;var l=u(e("./dereference-document")),d=s(e("./validate-open-rpc-document")),f=u(e("@json-schema-tools/reference-resolver")),h=e("is-url"),p=u(e("@json-schema-tools/reference-resolver/build/reference-resolver")),m={dereference:!0,validate:!0};n.makeCustomResolver=function(e){return new p.default(e)},n.default=function(e,t){return function(n,i){return void 0===n&&(n="./openrpc.json"),void 0===i&&(i=m),a(this,void 0,void 0,(function(){var o,s,a,u;return c(this,(function(c){switch(c.label){case 0:return s=r(r({},m),i),"string"==typeof n?[3,1]:(o=n,[3,6]);case 1:return function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(n)?(o=JSON.parse(n),[3,6]):[3,2];case 2:return h(n)?[4,e(n)]:[3,4];case 3:return o=c.sent(),[3,6];case 4:return[4,t(n)];case 5:o=c.sent(),c.label=6;case 6:if(s.validate&&(u=(0,d.default)(o))instanceof d.OpenRPCDocumentValidationError)throw u;return a=o,s.dereference?s.resolver===undefined?[3,8]:[4,(0,l.default)(o,s.resolver)]:[3,10];case 7:return a=c.sent(),[3,10];case 8:return[4,(0,l.default)(o,f.default)];case 9:a=c.sent(),c.label=10;case 10:if(s.validate&&(u=(0,d.default)(a))instanceof d.OpenRPCDocumentValidationError)throw u;return[2,a]}}))}))}}}}},{package:"@open-rpc/schema-utils-js",file:"node_modules/@open-rpc/schema-utils-js/build/parse-open-rpc-document.js"}],[3007,{"@json-schema-tools/meta-schema":3010,"@open-rpc/meta-schema":3004,ajv:3827},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.OpenRPCDocumentValidationError=void 0;var o=i(e("@open-rpc/meta-schema")),s=i(e("ajv")),a=i(e("@json-schema-tools/meta-schema")),c=function(e){this.name="OpenRPCDocumentDereferencingError",this.message=["Error validating OpenRPC Document against @open-rpc/meta-schema.","The errors found are as follows:",JSON.stringify(e,undefined,"  ")].join("\n")};n.OpenRPCDocumentValidationError=c,n.default=function(e){var t=new s.default;t.addSchema(a.default,"https://meta.json-schema.tools");var n=r({},o.default);delete n.definitions.JSONSchema.$id,delete n.definitions.JSONSchema.$schema,delete n.$schema,delete n.$id;try{t.validate(n,e)}catch(e){throw new Error(["schema-utils-js: Internal Error","-----",e,"-----","If you see this report it: https://github.com/open-rpc/schema-utils-js/issues"].join("\n"))}return!t.errors||new c(t.errors)}}}},{package:"@open-rpc/schema-utils-js",file:"node_modules/@open-rpc/schema-utils-js/build/validate-open-rpc-document.js"}],[3008,{"@json-schema-tools/reference-resolver":606,"@json-schema-tools/traverse":609,"fast-safe-stringify":4435},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.NonStringRefError=void 0;var a=s(e("@json-schema-tools/traverse")),c=s(e("@json-schema-tools/reference-resolver")),u=s(e("fast-safe-stringify")),l=function(e){this.name="NonStringRefError",this.message=["NonStringRefError","Found an improperly formatted $ref in schema. $ref must be a string","schema in question: ".concat((0,u.default)(e))].join("\n")};n.NonStringRefError=l;var d=function(e,t){if(e.$ref!==undefined&&Object.keys(e).length>1&&!0!==t&&!1!==t){var n=r(r({},t),e);return delete n.$ref,n}return t},f=function(){function e(e,t){var n;if(void 0===t&&(t={}),this.options=t,this.refCache={},n=!0===this.options.mutate||!0===e||!1===e?e:r({},e),this.options.recursive===undefined&&(this.options.recursive=!0),this.options.rootSchema===undefined&&(this.options.rootSchema=n),!0!==e&&!1!==e&&e.$id&&(this.options.rootSchema=n),this.options.refCache&&(this.refCache=this.options.refCache),this.options.protocolHandlerMap)for(var i=0,o=Object.keys(this.options.protocolHandlerMap);i<o.length;i++){var s=o[i];c.default.protocolHandlerMap[s]=this.options.protocolHandlerMap[s]}this.schema=n,this.refs=this.collectRefs()}return e.prototype.resolve=function(){return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this._resolve()];case 1:return e.sent(),delete this.schema.definitions,delete this.schema.components,[2,this.schema]}}))}))},e.prototype._resolve=function(){return i(this,void 0,void 0,(function(){var t,n,i,s,u,l,f,h,p,m,g,y=this;return o(this,(function(o){switch(o.label){case 0:if(!0===this.schema||!1===this.schema)return[2,Promise.resolve(this.schema)];if(0===this.refs.length)return[2,Promise.resolve(this.schema)];t=this.refs.filter((function(e){return y.refCache[e]===undefined})),n=[],i=0,s=t,o.label=1;case 1:return i<s.length?(u=s[i],l=void 0,this.refCache[u]===undefined?[3,2]:(l=this.refCache[u],[3,5])):[3,11];case 2:if("#"!==u)return[3,3];if(this.options.rootSchema===undefined)throw new Error("options.rootSchema was not provided, but one of the schemas references '#'");return l=this.options.rootSchema,[3,5];case 3:return f=c.default.resolve(u,this.options.rootSchema),n.push(f),[4,f];case 4:l=o.sent(),o.label=5;case 5:return!0!==this.options.recursive||!0===l||!1===l||"#"===u?[3,9]:(h=r(r({},this.options),{refCache:this.refCache}),0===(p=new e(l,h)).refs.length?[3,7]:(m=p._resolve(),n.push(m),[4,m]));case 6:return g=o.sent(),this.refCache[u]=d(l,g),[3,8];case 7:this.refCache[u]=l,o.label=8;case 8:return[3,10];case 9:this.refCache[u]=l,o.label=10;case 10:return i++,[3,1];case 11:return this.schema.$ref!==undefined?this.schema=d(this.schema,this.refCache[this.schema.$ref]):(0,a.default)(this.schema,(function(e){if(!0===e||!1===e)return e;if(e.$ref!==undefined){var t=y.refCache[e.$ref];return d(e,t)}return e}),{mutable:!0}),[4,Promise.all(n)];case 12:return o.sent(),[2,this.schema]}}))}))},e.prototype.collectRefs=function(){var e=[];return(0,a.default)(this.schema,(function(t){if(!0===t||!1===t)return t;if(t.$ref&&-1===e.indexOf(t.$ref)){if("string"!=typeof t.$ref)throw new l(t);e.push(t.$ref)}return t})),e},e}();n.default=f}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/dereferencer",file:"node_modules/@open-rpc/schema-utils-js/node_modules/@json-schema-tools/dereferencer/build/dereferencer.js"}],[3009,{"./dereferencer":3008},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.NonStringRefError=void 0;var i=r(e("./dereferencer")),o=e("./dereferencer");Object.defineProperty(n,"NonStringRefError",{enumerable:!0,get:function(){return o.NonStringRefError}}),n.default=i.default}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/dereferencer",file:"node_modules/@open-rpc/schema-utils-js/node_modules/@json-schema-tools/dereferencer/build/index.js"}],[3010,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.jsonSchema=void 0,n.jsonSchema={$schema:"https://meta.json-schema.tools/",$id:"https://meta.json-schema.tools/",title:"JSONSchema",default:{},oneOf:[{$ref:"#/definitions/JSONSchemaObject"},{$ref:"#/definitions/JSONSchemaBoolean"}],definitions:{JSONSchemaBoolean:{title:"JSONSchemaBoolean",description:"Always valid if true. Never valid if false. Is constant.",type:"boolean"},JSONSchemaObject:{title:"JSONSchemaObject",type:"object",properties:{$id:{title:"$id",type:"string",format:"uri-reference"},$schema:{title:"$schema",type:"string",format:"uri"},$ref:{title:"$ref",type:"string",format:"uri-reference"},$comment:{title:"$comment",type:"string"},title:{title:"title",type:"string"},description:{title:"description",type:"string"},default:!0,readOnly:{title:"readOnly",type:"boolean",default:!1},examples:{title:"examples",type:"array",items:!0},multipleOf:{title:"multipleOf",type:"number",exclusiveMinimum:0},maximum:{title:"maximum",type:"number"},exclusiveMaximum:{title:"exclusiveMaximum",type:"number"},minimum:{title:"minimum",type:"number"},exclusiveMinimum:{title:"exclusiveMinimum",type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{title:"pattern",type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{title:"items",anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{title:"uniqueItems",type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{title:"definitions",type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{title:"properties",type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{title:"patternProperties",type:"object",additionalProperties:{$ref:"#"},propertyNames:{title:"propertyNames",format:"regex"},default:{}},dependencies:{title:"dependencies",type:"object",additionalProperties:{title:"dependenciesSet",anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{title:"enum",type:"array",items:!0,minItems:1,uniqueItems:!0},type:{title:"type",anyOf:[{$ref:"#/definitions/simpleTypes"},{title:"arrayOfSimpleTypes",type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{title:"format",type:"string"},contentMediaType:{title:"contentMediaType",type:"string"},contentEncoding:{title:"contentEncoding",type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}}},schemaArray:{title:"schemaArray",type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{title:"nonNegativeInteger",type:"integer",minimum:0},nonNegativeIntegerDefault0:{title:"nonNegativeIntegerDefaultZero",type:"integer",minimum:0,default:0},simpleTypes:{title:"simpleTypes",type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{title:"stringArray",type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}},n.default=n.jsonSchema}}},{package:"@open-rpc/schema-utils-js>@json-schema-tools/meta-schema",file:"node_modules/@open-rpc/schema-utils-js/node_modules/@json-schema-tools/meta-schema/index.js"}],[3011,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function i(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){var t=i(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function s(e){return e instanceof i(e).Element||e instanceof Element}function a(e){return e instanceof i(e).HTMLElement||e instanceof HTMLElement}function c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof i(e).ShadowRoot||e instanceof ShadowRoot)}function u(e){return e?(e.nodeName||"").toLowerCase():null}function l(e){return((s(e)?e.ownerDocument:e.document)||window.document).documentElement}function d(e){return r(l(e)).left+o(e).scrollLeft}function f(e){return i(e).getComputedStyle(e)}function h(e){var t=f(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function p(e,t,n){void 0===n&&(n=!1);var s,c,f=l(t),p=r(e),m=a(t),g={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(m||!m&&!n)&&(("body"!==u(t)||h(f))&&(g=(s=t)!==i(s)&&a(s)?{scrollLeft:(c=s).scrollLeft,scrollTop:c.scrollTop}:o(s)),a(t)?((y=r(t)).x+=t.clientLeft,y.y+=t.clientTop):f&&(y.x=d(f))),{x:p.left+g.scrollLeft-y.x,y:p.top+g.scrollTop-y.y,width:p.width,height:p.height}}function m(e){var t=r(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function g(e){return"html"===u(e)?e:e.assignedSlot||e.parentNode||(c(e)?e.host:null)||l(e)}function y(e){return["html","body","#document"].indexOf(u(e))>=0?e.ownerDocument.body:a(e)&&h(e)?e:y(g(e))}function w(e,t){var n;void 0===t&&(t=[]);var r=y(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),s=i(r),a=o?[s].concat(s.visualViewport||[],h(r)?r:[]):r,c=t.concat(a);return o?c:c.concat(w(g(a)))}function b(e){return["table","td","th"].indexOf(u(e))>=0}function v(e){return a(e)&&"fixed"!==f(e).position?e.offsetParent:null}function E(e){for(var t=i(e),n=v(e);n&&b(n)&&"static"===f(n).position;)n=v(n);return n&&("html"===u(n)||"body"===u(n)&&"static"===f(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&a(e)&&"fixed"===f(e).position)return null;for(var n=g(e);a(n)&&["html","body"].indexOf(u(n))<0;){var r=f(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}Object.defineProperty(n,"__esModule",{value:!0});var A="top",T="bottom",x="right",S="left",k="auto",I=[A,T,x,S],C="start",j="end",P="clippingParents",_="viewport",O="popper",B="reference",R=I.reduce((function(e,t){return e.concat([t+"-"+C,t+"-"+j])}),[]),N=[].concat(I,[k]).reduce((function(e,t){return e.concat([t,t+"-"+C,t+"-"+j])}),[]),L=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function F(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function M(e){return e.split("-")[0]}var D=Math.max,U=Math.min,G=Math.round;function z(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&c(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function $(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function H(e,t){return t===_?$(function(e){var t=i(e),n=l(e),r=t.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,c=0;return r&&(o=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,c=r.offsetTop)),{width:o,height:s,x:a+d(e),y:c}}(e)):a(t)?function(e){var t=r(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):$(function(e){var t,n=l(e),r=o(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=D(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=D(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+d(e),u=-r.scrollTop;return"rtl"===f(i||n).direction&&(c+=D(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:c,y:u}}(l(e)))}function W(e,t,n){var r="clippingParents"===t?function(e){var t=w(g(e)),n=["absolute","fixed"].indexOf(f(e).position)>=0&&a(e)?E(e):e;return s(n)?t.filter((function(e){return s(e)&&z(e,n)&&"body"!==u(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],c=i.reduce((function(t,n){var r=H(e,n);return t.top=D(r.top,t.top),t.right=U(r.right,t.right),t.bottom=U(r.bottom,t.bottom),t.left=D(r.left,t.left),t}),H(e,o));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function q(e){return e.split("-")[1]}function V(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function K(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?M(i):null,s=i?q(i):null,a=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(o){case A:t={x:a,y:n.y-r.height};break;case T:t={x:a,y:n.y+n.height};break;case x:t={x:n.x+n.width,y:c};break;case S:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var u=o?V(o):null;if(null!=u){var l="y"===u?"height":"width";switch(s){case C:t[u]=t[u]-(n[l]/2-r[l]/2);break;case j:t[u]=t[u]+(n[l]/2-r[l]/2)}}return t}function Z(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function J(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Y(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=void 0===i?e.placement:i,a=n.boundary,c=void 0===a?P:a,u=n.rootBoundary,d=void 0===u?_:u,f=n.elementContext,h=void 0===f?O:f,p=n.altBoundary,m=void 0!==p&&p,g=n.padding,y=void 0===g?0:g,w=Z("number"!=typeof y?y:J(y,I)),b=h===O?B:O,v=e.elements.reference,E=e.rects.popper,S=e.elements[m?b:h],k=W(s(S)?S:S.contextElement||l(e.elements.popper),c,d),C=r(v),j=K({reference:C,element:E,strategy:"absolute",placement:o}),R=$(Object.assign({},E,j)),N=h===O?R:C,L={top:k.top-N.top+w.top,bottom:N.bottom-k.bottom+w.bottom,left:k.left-N.left+w.left,right:N.right-k.right+w.right},F=e.modifiersData.offset;if(h===O&&F){var M=F[o];Object.keys(L).forEach((function(e){var t=[x,T].indexOf(e)>=0?1:-1,n=[A,T].indexOf(e)>=0?"y":"x";L[e]+=M[n]*t}))}return L}var X={placement:"bottom",modifiers:[],strategy:"absolute"};function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ee(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?X:i;return function(e,t,n){void 0===n&&(n=o);var i,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},X,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],l=!1,d={state:c,setOptions:function(n){f(),c.options=Object.assign({},o,c.options,n),c.scrollParents={reference:s(e)?w(e):e.contextElement?w(e.contextElement):[],popper:w(t)};var i=function(e){var t=F(e);return L.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,c.options.modifiers)));return c.orderedModifiers=i.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:c,name:t,instance:d,options:r}),s=function(){};u.push(o||s)}})),d.update()},forceUpdate:function(){if(!l){var e=c.elements,t=e.reference,n=e.popper;if(Q(t,n)){c.rects={reference:p(t,E(n),"fixed"===c.options.strategy),popper:m(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var i=c.orderedModifiers[r],o=i.fn,s=i.options,a=void 0===s?{}:s,u=i.name;"function"==typeof o&&(c=o({state:c,options:a,name:u,instance:d})||c)}else c.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){d.forceUpdate(),e(c)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=undefined,e(i())}))}))),a}),destroy:function(){f(),l=!0}};if(!Q(e,t))return d;function f(){u.forEach((function(e){return e()})),u=[]}return d.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var te={passive:!0};var ne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,s=void 0===o||o,a=r.resize,c=void 0===a||a,u=i(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&l.forEach((function(e){e.addEventListener("scroll",n.update,te)})),c&&u.addEventListener("resize",n.update,te),function(){s&&l.forEach((function(e){e.removeEventListener("scroll",n.update,te)})),c&&u.removeEventListener("resize",n.update,te)}},data:{}};var re={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=K({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ie={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oe(e){var t,n=e.popper,r=e.popperRect,o=e.placement,s=e.offsets,a=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,h=!0===d?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:G(G(t*r)/r)||0,y:G(G(n*r)/r)||0}}(s):"function"==typeof d?d(s):s,p=h.x,m=void 0===p?0:p,g=h.y,y=void 0===g?0:g,w=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),v=S,k=A,I=window;if(u){var C=E(n),j="clientHeight",P="clientWidth";C===i(n)&&"static"!==f(C=l(n)).position&&(j="scrollHeight",P="scrollWidth"),o===A&&(k=T,y-=C[j]-r.height,y*=c?1:-1),o===S&&(v=x,m-=C[P]-r.width,m*=c?1:-1)}var _,O=Object.assign({position:a},u&&ie);return c?Object.assign({},O,((_={})[k]=b?"0":"",_[v]=w?"0":"",_.transform=(I.devicePixelRatio||1)<2?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",_)):Object.assign({},O,((t={})[k]=b?y+"px":"",t[v]=w?m+"px":"",t.transform="",t))}var se={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,c=void 0===a||a,u={placement:M(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,oe(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,oe(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ae={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];a(i)&&u(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});a(r)&&u(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var ce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=N.reduce((function(e,n){return e[n]=function(e,t,n){var r=M(e),i=[S,A].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[S,x].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],c=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}},ue={left:"right",right:"left",bottom:"top",top:"bottom"};function le(e){return e.replace(/left|right|bottom|top/g,(function(e){return ue[e]}))}var de={start:"end",end:"start"};function fe(e){return e.replace(/start|end/g,(function(e){return de[e]}))}function he(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?N:c,l=q(r),d=l?a?R:R.filter((function(e){return q(e)===l})):I,f=d.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=d);var h=f.reduce((function(t,n){return t[n]=Y(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[M(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}var pe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,u=n.padding,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,y=M(g),w=c||(y===g||!p?[le(g)]:function(e){if(M(e)===k)return[];var t=le(e);return[fe(e),t,fe(t)]}(g)),b=[g].concat(w).reduce((function(e,n){return e.concat(M(n)===k?he(t,{placement:n,boundary:l,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),v=t.rects.reference,E=t.rects.popper,I=new Map,j=!0,P=b[0],_=0;_<b.length;_++){var O=b[_],B=M(O),R=q(O)===C,N=[A,T].indexOf(B)>=0,L=N?"width":"height",F=Y(t,{placement:O,boundary:l,rootBoundary:d,altBoundary:f,padding:u}),D=N?R?x:S:R?T:A;v[L]>E[L]&&(D=le(D));var U=le(D),G=[];if(o&&G.push(F[B]<=0),a&&G.push(F[D]<=0,F[U]<=0),G.every((function(e){return e}))){P=O,j=!1;break}I.set(O,G)}if(j)for(var z=function(e){var t=b.find((function(t){var n=I.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return P=t,"break"},$=p?3:1;$>0;$--){if("break"===z($))break}t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function me(e,t,n){return D(e,U(t,n))}var ge={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,p=n.tetherOffset,g=void 0===p?0:p,y=Y(t,{boundary:c,rootBoundary:u,padding:d,altBoundary:l}),w=M(t.placement),b=q(t.placement),v=!b,k=V(w),I="x"===k?"y":"x",j=t.modifiersData.popperOffsets,P=t.rects.reference,_=t.rects.popper,O="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,B={x:0,y:0};if(j){if(o||a){var R="y"===k?A:S,N="y"===k?T:x,L="y"===k?"height":"width",F=j[k],G=j[k]+y[R],z=j[k]-y[N],$=h?-_[L]/2:0,H=b===C?P[L]:_[L],W=b===C?-_[L]:-P[L],K=t.elements.arrow,Z=h&&K?m(K):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X=J[R],Q=J[N],ee=me(0,P[L],Z[L]),te=v?P[L]/2-$-ee-X-O:H-ee-X-O,ne=v?-P[L]/2+$+ee+Q+O:W+ee+Q+O,re=t.elements.arrow&&E(t.elements.arrow),ie=re?"y"===k?re.clientTop||0:re.clientLeft||0:0,oe=t.modifiersData.offset?t.modifiersData.offset[t.placement][k]:0,se=j[k]+te-oe-ie,ae=j[k]+ne-oe;if(o){var ce=me(h?U(G,se):G,F,h?D(z,ae):z);j[k]=ce,B[k]=ce-F}if(a){var ue="x"===k?A:S,le="x"===k?T:x,de=j[I],fe=de+y[ue],he=de-y[le],pe=me(h?U(fe,se):fe,de,h?D(he,ae):he);j[I]=pe,B[I]=pe-de}}t.modifiersData[r]=B}},requiresIfExists:["offset"]};var ye={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=M(n.placement),c=V(a),u=[S,x].indexOf(a)>=0?"height":"width";if(o&&s){var l=function(e,t){return Z("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:J(e,I))}(i.padding,n),d=m(o),f="y"===c?A:S,h="y"===c?T:x,p=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],g=s[c]-n.rects.reference[c],y=E(o),w=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,b=p/2-g/2,v=l[f],k=w-d[u]-l[h],C=w/2-d[u]/2+b,j=me(v,C,k),P=c;n.modifiersData[r]=((t={})[P]=j,t.centerOffset=j-C,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&z(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function we(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function be(e){return[A,x,T,S].some((function(t){return e[t]>=0}))}var ve={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Y(t,{elementContext:"reference"}),a=Y(t,{altBoundary:!0}),c=we(s,r),u=we(a,i,o),l=be(c),d=be(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}},Ee=ee({defaultModifiers:[ne,re,se,ae]}),Ae=[ne,re,se,ae,ce,pe,ge,ye,ve],Te=ee({defaultModifiers:Ae});n.applyStyles=ae,n.arrow=ye,n.computeStyles=se,n.createPopper=Te,n.createPopperLite=Ee,n.defaultModifiers=Ae,n.detectOverflow=Y,n.eventListeners=ne,n.flip=pe,n.hide=ve,n.offset=ce,n.popperGenerator=ee,n.popperOffsets=re,n.preventOverflow=ge}}},{package:"@popperjs/core",file:"node_modules/@popperjs/core/dist/cjs/popper.js"}],[3012,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,s){n[r]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,s(e))}}))}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/aspromise",file:"node_modules/@protobufjs/aspromise/index.js"}],[3013,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),o=new Array(123),s=0;s<64;)o[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(e,t,n){for(var r,o=null,s=[],a=0,c=0;t<n;){var u=e[t++];switch(c){case 0:s[a++]=i[u>>2],r=(3&u)<<4,c=1;break;case 1:s[a++]=i[r|u>>4],r=(15&u)<<2,c=2;break;case 2:s[a++]=i[r|u>>6],s[a++]=i[63&u],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=i[r],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var a="invalid encoding";r.decode=function(e,t,n){for(var r,i=n,s=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&s>1)break;if((u=o[u])===undefined)throw Error(a);switch(s){case 0:r=u,s=1;break;case 1:t[n++]=r<<2|(48&u)>>4,r=u,s=2;break;case 2:t[n++]=(15&r)<<4|(60&u)>>2,r=u,s=3;break;case 3:t[n++]=(3&r)<<6|u,s=0}}if(1===s)throw Error(a);return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/base64",file:"node_modules/@protobufjs/base64/index.js"}],[3014,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t){"string"==typeof e&&(t=e,e=undefined);var n=[];function i(e){if("string"!=typeof e){var t=o();if(r.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var s=Object.keys(e),a=new Array(s.length+1),c=new Array(s.length),u=0;u<s.length;)a[u]=s[u],c[u]=e[s[u++]];return a[u]=t,Function.apply(null,a).apply(null,c)}return Function(t)()}for(var l=new Array(arguments.length-1),d=0;d<l.length;)l[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=l[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),d!==l.length)throw Error("parameter count mismatch");return n.push(e),i}function o(r){return"function "+(r||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=o,i}t.exports=r,r.verbose=!1}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/codegen",file:"node_modules/@protobufjs/codegen/index.js"}],[3015,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(){this._listeners={}}t.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/eventemitter",file:"node_modules/@protobufjs/eventemitter/index.js"}],[3016,{"@protobufjs/aspromise":3012,"@protobufjs/inquire":3018},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=o;var r=e("@protobufjs/aspromise"),i=e("@protobufjs/inquire")("fs");function o(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,(function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))})):o.xhr(e,t,n):r(o,this,e,t)}o.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4!==r.readyState)return undefined;if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/fetch",file:"node_modules/@protobufjs/fetch/index.js"}],[3017,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?s:a,e.readFloatBE=r?a:s}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,s=8388607&r;return 255===o?s?NaN:i*Infinity:0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,s),e.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?s:a,e.readDoubleBE=r?a:s}():function(){function t(e,t,n,r,i,o){var s=r<0?1:0;if(s&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,i,o+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),s=e(r,i+n),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===c?u?NaN:a*Infinity:0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,s,0,4),e.readDoubleBE=n.bind(null,a,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=r(r)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/float",file:"node_modules/@protobufjs/float/index.js"}],[3018,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){try{var t=(0,eval)("quire".replace(/^/,"re"))(e);if(t&&(t.length||Object.keys(t).length))return t}catch(e){}return null}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/inquire",file:"node_modules/@protobufjs/inquire/index.js"}],[3019,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n,i=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=i(e),r="";n&&(r=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):n?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return r+t.join("/")};r.resolve=function(e,t,n){return n||(t=o(t)),i(t)?t:(n||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/path",file:"node_modules/@protobufjs/path/index.js"}],[3020,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,s=r;return function(n){if(n<1||n>i)return e(n);s+n>r&&(o=e(r),s=0);var a=t.call(o,s,s+=n);return 7&s&&(s=1+(7|s)),a}}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/pool",file:"node_modules/@protobufjs/pool/index.js"}],[3021,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=n;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],s=0;t<n;)(r=e[t++])<128?o[s++]=r:r>191&&r<224?o[s++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(r>>10),o[s++]=56320+(1023&r)):o[s++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,n){for(var r,i,o=n,s=0;s<e.length;++s)(r=e.charCodeAt(s))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&i),++s,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/protobuf>protobufjs>@protobufjs/utf8",file:"node_modules/@protobufjs/utf8/index.js"}],[3022,{"./redux-toolkit.cjs.development.js":3023},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./redux-toolkit.cjs.development.js")}}},{package:"@reduxjs/toolkit",file:"node_modules/@reduxjs/toolkit/dist/index.js"}],[3023,{_process:5008,immer:4649,redux:5277,"redux-thunk":5276,reselect:3025},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){var r,i=this&&this.__define||function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]},o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){i(this,constructor,e)}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},c=Object.create,u=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,m=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,w=function(e,t,n){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},b=function(e,t){for(var n in t||(t={}))g.call(t,n)&&w(e,n,t[n]);if(p)for(var r=0,i=p(t);r<i.length;r++){n=i[r];y.call(t,n)&&w(e,n,t[n])}return e},v=function(e,t){return l(e,f(t))},E=function(e){return u(e,"__esModule",{value:!0})},A=function(e,t,n){if(t&&"object"==typeof t||"function"==typeof t)for(var r=function(r){g.call(e,r)||"default"===r||u(e,r,{get:function(){return t[r]},enumerable:!(n=d(t,r))||n.enumerable})},i=0,o=h(t);i<o.length;i++){r(o[i])}return e},T=function(e){return A(E(u(null!=e?c(m(e)):{},"default",e&&e.__esModule&&"default"in e?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)},x=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{a(n.next(e))}catch(e){i(e)}},s=function(e){try{a(n.throw(e))}catch(e){i(e)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())}))};E(n),function(e,t){for(var n in t)u(e,n,{get:t[n],enumerable:!0})}(n,{EnhancerArray:function(){return V},MiddlewareArray:function(){return q},SHOULD_AUTOBATCH:function(){return Et},TaskAbortError:function(){return et},addListener:function(){return mt},autoBatchEnhancer:function(){return kt},clearAllListeners:function(){return gt},configureStore:function(){return de},createAction:function(){return F},createActionCreatorInvariantMiddleware:function(){return $},createAsyncThunk:function(){return Pe},createDraftSafeSelector:function(){return P},createEntityAdapter:function(){return xe},createImmutableStateInvariantMiddleware:function(){return re},createListenerMiddleware:function(){return bt},createNextState:function(){return k.default},createReducer:function(){return me},createSelector:function(){return I.createSelector},createSerializableStateInvariantMiddleware:function(){return ae},createSlice:function(){return ye},current:function(){return k.current},findNonSerializableValue:function(){return oe},freeze:function(){return k.freeze},getDefaultMiddleware:function(){return ue},getType:function(){return z},isAction:function(){return M},isActionCreator:function(){return D},isAllOf:function(){return Re},isAnyOf:function(){return Be},isAsyncThunkAction:function(){return Ge},isDraft:function(){return k.isDraft},isFluxStandardAction:function(){return U},isFulfilled:function(){return Ue},isImmutableDefault:function(){return Q},isPending:function(){return Fe},isPlain:function(){return ie},isPlainObject:function(){return R},isRejected:function(){return Me},isRejectedWithValue:function(){return De},miniSerializeError:function(){return je},nanoid:function(){return Se},original:function(){return k.original},prepareAutoBatched:function(){return At},removeListener:function(){return yt},unwrapResult:function(){return _e}});var S=T(e("immer"));A(n,T(e("redux")));var k=T(e("immer")),I=T(e("reselect")),C=T(e("immer")),j=T(e("reselect")),P=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=j.createSelector.apply(void 0,e);return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.apply(void 0,a([(0,C.isDraft)(e)?(0,C.current)(e):e],t))}},_=T(e("redux")),O=T(e("redux")),B="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?O.compose:O.compose.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function R(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var N=T(e("redux-thunk")),L=function(e){return e&&"function"==typeof e.match};function F(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return b(b({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function M(e){return R(e)&&"type"in e}function D(e){return"function"==typeof e&&"type"in e&&L(e)}function U(e){return M(e)&&"string"==typeof e.type&&Object.keys(e).every(G)}function G(e){return["type","payload","error","meta"].indexOf(e)>-1}function z(e){return""+e}function $(e){void 0===e&&(e={});var t=e.isActionCreator,n=void 0===t?D:t;return function(){return function(e){return function(t){var r,i,o;return n(t)&&console.warn((r=t.type,i=r?(""+r).split("/"):[],o=i[i.length-1]||"actionCreator",'Detected an action creator with type "'+(r||"unknown")+"\" being dispatched. \nMake sure you're calling the action creator before dispatching, i.e. `dispatch("+o+"())` instead of `dispatch("+o+")`. This is necessary even if the action has no payload.")),e(t)}}}}var H=T(e("immer"));function W(e,t){var n=0;return{measureTime:function(e){var t=Date.now();try{return e()}finally{var r=Date.now();n+=r-t}},warnIfExceeded:function(){n>e&&console.warn(t+" took "+n+"ms, which is more than the warning threshold of "+e+"ms. \nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\nIt is disabled in production builds, so you don't need to worry about that.")}}}var q=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return o(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),i(t.prototype,"concat",(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)})),i(t.prototype,"prepend",(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,a([void 0],e[0].concat(this)))):new(t.bind.apply(t,a([void 0],e.concat(this))))})),t}(Array),V=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return o(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),i(t.prototype,"concat",(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)})),i(t.prototype,"prepend",(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,a([void 0],e[0].concat(this)))):new(t.bind.apply(t,a([void 0],e.concat(this))))})),t}(Array);function K(e){return(0,H.isDraftable)(e)?(0,H.default)(e,(function(){})):e}var Z=!1,J="Invariant failed";function Y(e,t){if(!e){if(Z)throw new Error(J);throw new Error(J+": "+(t||""))}}function X(e,t,n,r){return JSON.stringify(e,function(e,t){var n=[],r=[];t||(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"});return function(i,o){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this),~s?r.splice(s,Infinity,i):r.push(i),~n.indexOf(o)&&(o=t.call(this,i,o))}else n.push(o);return null==e?o:e.call(this,i,o)}}(t,r),n)}function Q(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function ee(e,t,n){var r=te(e,t,n);return{detectMutations:function(){return ne(e,t,r,n)}}}function te(e,t,n,r,i){void 0===t&&(t=[]),void 0===r&&(r=""),void 0===i&&(i=new Set);var o={value:n};if(!e(n)&&!i.has(n))for(var s in i.add(n),o.children={},n){var a=r?r+"."+s:s;t.length&&-1!==t.indexOf(a)||(o.children[s]=te(e,t,n[s],a))}return o}function ne(e,t,n,r,i,o){void 0===t&&(t=[]),void 0===i&&(i=!1),void 0===o&&(o="");var s=n?n.value:void 0,a=s===r;if(i&&!a&&!Number.isNaN(r))return{wasMutated:!0,path:o};if(e(s)||e(r))return{wasMutated:!1};var c={};for(var u in n.children)c[u]=!0;for(var u in r)c[u]=!0;var l=t.length>0,d=function(i){var s=o?o+"."+i:i;if(l&&t.some((function(e){return e instanceof RegExp?e.test(s):s===e})))return"continue";var c=ne(e,t,n.children[i],r[i],a,s);if(c.wasMutated)return{value:c}};for(var u in c){var f=d(u);if("object"==typeof f)return f.value}return{wasMutated:!1}}function re(e){void 0===e&&(e={});var t=e.isImmutable,n=void 0===t?Q:t,r=e.ignoredPaths,i=e.warnAfter,o=void 0===i?32:i,s=e.ignore;r=r||s;var a=ee.bind(null,n,r);return function(e){var t,n=e.getState,r=n(),i=a(r);return function(e){return function(s){var c=W(o,"ImmutableStateInvariantMiddleware");c.measureTime((function(){r=n(),t=i.detectMutations(),i=a(r),Y(!t.wasMutated,"A state mutation was detected between dispatches, in the path '"+(t.path||"")+"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")}));var u=e(s);return c.measureTime((function(){r=n(),t=i.detectMutations(),i=a(r),t.wasMutated&&Y(!t.wasMutated,"A state mutation was detected inside a dispatch, in the path: "+(t.path||"")+". Take a look at the reducer(s) handling the action "+X(s)+". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")})),c.warnIfExceeded(),u}}}}function ie(e){var t=typeof e;return null==e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||R(e)}function oe(e,t,n,r,i,o){var s;if(void 0===t&&(t=""),void 0===n&&(n=ie),void 0===i&&(i=[]),!n(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e)return!1;if(null==o?void 0:o.has(e))return!1;for(var a=null!=r?r(e):Object.entries(e),c=i.length>0,u=function(e,a){var u=t?t+"."+e:e;if(c&&i.some((function(e){return e instanceof RegExp?e.test(u):u===e})))return"continue";return n(a)?"object"==typeof a&&(s=oe(a,u,n,r,i,o))?{value:s}:void 0:{value:{keyPath:u,value:a}}},l=0,d=a;l<d.length;l++){var f=d[l],h=u(f[0],f[1]);if("object"==typeof h)return h.value}return o&&se(e)&&o.add(e),!1}function se(e){if(!Object.isFrozen(e))return!1;for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if("object"==typeof r&&null!==r&&!se(r))return!1}return!0}function ae(e){void 0===e&&(e={});var t=e.isSerializable,n=void 0===t?ie:t,r=e.getEntries,i=e.ignoredActions,o=void 0===i?[]:i,s=e.ignoredActionPaths,a=void 0===s?["meta.arg","meta.baseQueryMeta"]:s,c=e.ignoredPaths,u=void 0===c?[]:c,l=e.warnAfter,d=void 0===l?32:l,f=e.ignoreState,h=void 0!==f&&f,p=e.ignoreActions,m=void 0!==p&&p,g=e.disableCache,y=!(void 0!==g&&g)&&WeakSet?new WeakSet:void 0;return function(e){return function(t){return function(i){var s=t(i),c=W(d,"SerializableStateInvariantMiddleware");return m||o.length&&-1!==o.indexOf(i.type)||c.measureTime((function(){var e=oe(i,"",n,r,a,y);if(e){var t=e.keyPath,o=e.value;console.error("A non-serializable value was detected in an action, in the path: `"+t+"`. Value:",o,"\nTake a look at the logic that dispatched this action: ",i,"\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)","\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)")}})),h||(c.measureTime((function(){var t=oe(e.getState(),"",n,r,u,y);if(t){var o=t.keyPath,s=t.value;console.error("A non-serializable value was detected in the state, in the path: `"+o+"`. Value:",s,"\nTake a look at the reducer(s) handling this action type: "+i.type+".\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)")}})),c.warnIfExceeded()),s}}}}function ce(e){return"boolean"==typeof e}function ue(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=e.immutableCheck,i=void 0===r||r,o=e.serializableCheck,s=void 0===o||o,a=e.actionCreatorCheck,c=void 0===a||a,u=new q;if(n&&(ce(n)?u.push(N.default):u.push(N.default.withExtraArgument(n.extraArgument))),i){var l={};ce(i)||(l=i),u.unshift(re(l))}if(s){var d={};ce(s)||(d=s),u.push(ae(d))}if(c){var f={};ce(c)||(f=c),u.unshift($(f))}return u}var le=!1;function de(e){var t,n=function(e){return ue(e)},r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,c=void 0===s?n():s,u=r.devTools,l=void 0===u||u,d=r.preloadedState,f=void 0===d?void 0:d,h=r.enhancers,p=void 0===h?void 0:h;if("function"==typeof o)t=o;else{if(!R(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=(0,_.combineReducers)(o)}var m=c;if("function"==typeof m&&(m=m(n),!le&&!Array.isArray(m)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!le&&m.some((function(e){return"function"!=typeof e})))throw new Error("each middleware provided to configureStore must be a function");var g=_.applyMiddleware.apply(void 0,m),y=_.compose;l&&(y=B(b({trace:!le},"object"==typeof l&&l)));var w=new V(g),v=w;Array.isArray(p)?v=a([g],p):"function"==typeof p&&(v=p(w));var E=y.apply(void 0,v);return(0,_.createStore)(t,f,E)}var fe=T(e("immer"));function he(e){var t,n={},r=[],i={addCase:function(e,o){if(r.length>0)throw new Error("`builder.addCase` should only be called before calling `builder.addMatcher`");if(t)throw new Error("`builder.addCase` should only be called before calling `builder.addDefaultCase`");var s="string"==typeof e?e:e.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[s]=o,i},addMatcher:function(e,n){if(t)throw new Error("`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");return r.push({matcher:e,reducer:n}),i},addDefaultCase:function(e){if(t)throw new Error("`builder.addDefaultCase` can only be called once");return t=e,i}};return e(i),[n,r,t]}var pe=!1;function me(e,t,n,r){void 0===n&&(n=[]),"object"==typeof t&&(pe||(pe=!0,console.warn("The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer")));var i,o="function"==typeof t?he(t):[t,n,r],s=o[0],c=o[1],u=o[2];if("function"==typeof e)i=function(){return K(e())};else{var l=K(e);i=function(){return l}}function d(e,t){void 0===e&&(e=i());var n=a([s[t.type]],c.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if((0,fe.isDraft)(e))return void 0===(r=n(e,t))?e:r;if((0,fe.isDraftable)(e))return(0,fe.default)(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return d.getInitialState=i,d}var ge=!1;function ye(e){var n=e.name;if(!n)throw new Error("`name` is a required option for createSlice");void 0!==t&&void 0===e.initialState&&console.error("You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`");var r,i="function"==typeof e.initialState?e.initialState:K(e.initialState),o=e.reducers||{},s=Object.keys(o),a={},c={},u={};function l(){"object"==typeof e.extraReducers&&(ge||(ge=!0,console.warn("The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice")));var t="function"==typeof e.extraReducers?he(e.extraReducers):[e.extraReducers],n=t[0],r=void 0===n?{}:n,o=t[1],s=void 0===o?[]:o,a=t[2],u=void 0===a?void 0:a,l=b(b({},r),c);return me(i,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=s;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}u&&e.addDefaultCase(u)}))}return s.forEach((function(e){var t,r,i=o[e],s=n+"/"+e;"reducer"in i?(t=i.reducer,r=i.prepare):t=i,a[e]=t,c[s]=t,u[e]=r?F(s,r):F(s)})),{name:n,reducer:function(e,t){return r||(r=l()),r(e,t)},actions:u,caseReducers:a,getInitialState:function(){return r||(r=l()),r.getInitialState()}}}var we=T(e("immer"));function be(e){return function(t,n){var r=function(t){U(n)?e(n.payload,t):e(n,t)};return(0,we.isDraft)(t)?(r(t),t):(0,we.default)(t,r)}}function ve(e,t){var n=t(e);return void 0===n&&console.warn("The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",t.toString()),n}function Ee(e){return Array.isArray(e)||(e=Object.values(e)),e}function Ae(e,t,n){for(var r=[],i=[],o=0,s=e=Ee(e);o<s.length;o++){var a=s[o],c=ve(a,t);c in n.entities?i.push({id:c,changes:a}):r.push(a)}return[r,i]}function Te(e){function t(t,n){var r=ve(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){for(var r=0,i=e=Ee(e);r<i.length;r++){t(i[r],n)}}function r(t,n){var r=ve(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function i(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function o(t,n){var r={},i={};if(t.forEach((function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:b(b({},i[e.id]?i[e.id].changes:null),e.changes)})})),(t=Object.values(i)).length>0){var o=t.filter((function(t){return function(t,n,r){var i=r.entities[n.id],o=Object.assign({},i,n.changes),s=ve(o,e),a=s!==n.id;return a&&(t[n.id]=s,delete r.entities[n.id]),r.entities[s]=o,a}(r,t,n)})).length>0;o&&(n.ids=Object.keys(n.entities))}}function s(t,r){var i=Ae(t,e,r),s=i[0];o(i[1],r),n(s,r)}return{removeAll:(a=function(e){Object.assign(e,{ids:[],entities:{}})},c=be((function(e,t){return a(t)})),function(e){return c(e,void 0)}),addOne:be(t),addMany:be(n),setOne:be(r),setMany:be((function(e,t){for(var n=0,i=e=Ee(e);n<i.length;n++){r(i[n],t)}})),setAll:be((function(e,t){e=Ee(e),t.ids=[],t.entities={},n(e,t)})),updateOne:be((function(e,t){return o([e],t)})),updateMany:be(o),upsertOne:be((function(e,t){return s([e],t)})),upsertMany:be(s),removeOne:be((function(e,t){return i([e],t)})),removeMany:be(i)};var a,c}function xe(e){void 0===e&&(e={});var t=b({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer,i={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},o={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=P(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),i=function(e,t){return t},o=function(e,t){return e[t]},s=P(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:s,selectById:P(n,i,o)};var a=P(e,n);return{selectIds:P(e,t),selectEntities:a,selectAll:P(e,r),selectTotal:P(e,s),selectById:P(a,i,o)}}},s=r?function(e,t){var n=Te(e);function r(t,n){var r=(t=Ee(t)).filter((function(t){return!(ve(t,e)in n.entities)}));0!==r.length&&a(r,n)}function i(e,t){0!==(e=Ee(e)).length&&a(e,t)}function o(t,n){for(var r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=n.entities[s.id];if(a){r=!0,Object.assign(a,s.changes);var u=e(a);s.id!==u&&(delete n.entities[s.id],n.entities[u]=a)}}r&&c(n)}function s(t,n){var i=Ae(t,e,n),s=i[0];o(i[1],n),r(s,n)}function a(t,n){t.forEach((function(t){n.entities[e(t)]=t})),c(n)}function c(n){var r=Object.values(n.entities);r.sort(t);var i=r.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(n.ids,i)||(n.ids=i)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:be((function(e,t){return r([e],t)})),updateOne:be((function(e,t){return o([e],t)})),upsertOne:be((function(e,t){return s([e],t)})),setOne:be((function(e,t){return i([e],t)})),setMany:be(i),setAll:be((function(e,t){e=Ee(e),t.entities={},t.ids=[],r(e,t)})),addMany:be(r),updateMany:be(o),upsertMany:be(s)}}(n,r):Te(n);return b(b(b({selectId:n,sortComparer:r},i),o),s)}var Se=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ke=["name","message","stack","code"],Ie=function(e,t){this.payload=e,this.meta=t},Ce=function(e,t){this.payload=e,this.meta=t},je=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,r=ke;n<r.length;n++){var i=r[n];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},Pe=function(){function e(e,t,n){var r=F(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:v(b({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=F(e+"/pending",(function(e,t,n){return{payload:void 0,meta:v(b({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=F(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||je)(e||"Rejected"),meta:v(b({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a=!1,c="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){a||(a=!0,console.info("This platform does not implement AbortController. \nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'."))},e}();return Object.assign((function(e){return function(a,u,l){var d,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Se(),h=new c;function p(e){d=e,h.abort()}var m=function(){return x(this,null,(function(){var c,m,g,y,w,b;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),y=null==(c=null==n?void 0:n.condition)?void 0:c.call(n,e,{getState:u,extra:l}),null===(v=y)||"object"!=typeof v||"function"!=typeof v.then?[3,2]:[4,y];case 1:y=s.sent(),s.label=2;case 2:if(!1===y||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,w=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:d||"Aborted"})}))})),a(i(f,e,null==(m=null==n?void 0:n.getPendingMeta)?void 0:m.call(n,{requestId:f,arg:e},{getState:u,extra:l}))),[4,Promise.race([w,Promise.resolve(t(e,{dispatch:a,getState:u,extra:l,requestId:f,signal:h.signal,abort:p,rejectWithValue:function(e,t){return new Ie(e,t)},fulfillWithValue:function(e,t){return new Ce(e,t)}})).then((function(t){if(t instanceof Ie)throw t;return t instanceof Ce?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return g=s.sent(),[3,5];case 4:return b=s.sent(),g=b instanceof Ie?o(null,f,e,b.payload,b.meta):o(b,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||a(g),[2,g]}var v}))}))}();return Object.assign(m,{abort:p,requestId:f,arg:e,unwrap:function(){return m.then(_e)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function _e(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Oe=function(e,t){return L(e)?e.match(t):e(t)};function Be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return Oe(e,t)}))}}function Re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return Oe(e,t)}))}}function Ne(e,t){if(!e||!e.meta)return!1;var n="string"==typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function Le(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Ne(e,["pending"])}:Le(e)?function(t){var n=e.map((function(e){return e.pending}));return Be.apply(void 0,n)(t)}:Fe()(e[0])}function Me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Ne(e,["rejected"])}:Le(e)?function(t){var n=e.map((function(e){return e.rejected}));return Be.apply(void 0,n)(t)}:Me()(e[0])}function De(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||Le(e)?function(t){return Re(Me.apply(void 0,e),n)(t)}:De()(e[0])}function Ue(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Ne(e,["fulfilled"])}:Le(e)?function(t){var n=e.map((function(e){return e.fulfilled}));return Be.apply(void 0,n)(t)}:Ue()(e[0])}function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return Ne(e,["pending","fulfilled","rejected"])}:Le(e)?function(t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];n.push(o.pending,o.rejected,o.fulfilled)}return Be.apply(void 0,n)(t)}:Ge()(e[0])}var ze=function(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function")},$e=function(){},He=function(e,t){return void 0===t&&(t=$e),e.catch(t),e},We=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},qe=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ve="listener",Ke="completed",Ze="cancelled",Je="task-"+Ze,Ye="task-"+Ke,Xe=Ve+"-"+Ze,Qe=Ve+"-"+Ke,et=function(e){this.code=e,this.name="TaskAbortError",this.message="task "+Ze+" (reason: "+e+")"},tt=function(e){if(e.aborted)throw new et(e.reason)};function nt(e,t){var n=$e;return new Promise((function(r,i){var o=function(){return i(new et(e.reason))};e.aborted?o():(n=We(e,o),t.finally((function(){return n()})).then(r,i))})).finally((function(){n=$e}))}var rt=function(e){return function(t){return He(nt(e,t).then((function(t){return tt(e),t})))}},it=function(e){var t=rt(e);return function(e){return t(new Promise((function(t){return setTimeout(t,e)})))}},ot=Object.assign,st={},at="listenerMiddleware",ct=function(e,t){return function(n,r){ze(n,"taskExecutor");var i,o=new AbortController;i=o,We(e,(function(){return qe(i,e.reason)}));var a,c,u=(a=function(){return x(void 0,null,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return tt(e),tt(o.signal),[4,n({pause:rt(o.signal),delay:it(o.signal),signal:o.signal})];case 1:return t=r.sent(),tt(o.signal),[2,t]}}))}))},c=function(){return qe(o,Ye)},x(void 0,null,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return t.sent(),[4,a()];case 2:return[2,{status:"ok",value:t.sent()}];case 3:return[2,{status:(e=t.sent())instanceof et?"cancelled":"rejected",error:e}];case 4:return null==c||c(),[7];case 5:return[2]}}))})));return(null==r?void 0:r.autoJoin)&&t.push(u),{result:rt(e)(u),cancel:function(){qe(o,Je)}}}},ut=function(e,t){return function(n,r){return He(function(n,r){return x(void 0,null,(function(){var i,o,a,c;return s(this,(function(s){switch(s.label){case 0:tt(t),i=function(){},o=new Promise((function(t,r){var o=e({predicate:n,effect:function(e,n){n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=function(){o(),r()}})),a=[o],null!=r&&a.push(new Promise((function(e){return setTimeout(e,r,null)}))),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,nt(t,Promise.race(a))];case 2:return c=s.sent(),tt(t),[2,c];case 3:return i(),[7];case 4:return[2]}}))}))}(n,r))}},lt=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,o=e.effect;if(t)i=F(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return ze(o,"options.listener"),{predicate:i,type:t,effect:o}},dt=function(e){var t=lt(e),n=t.type,r=t.predicate,i=t.effect;return{id:Se(),effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}},ft=function(e){e.pending.forEach((function(e){qe(e,Xe)}))},ht=function(e){return function(){e.forEach(ft),e.clear()}},pt=function(e,t,n){try{e(t,n)}catch(e){setTimeout((function(){throw e}),0)}},mt=F(at+"/add"),gt=F(at+"/removeAll"),yt=F(at+"/remove"),wt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,a([at+"/error"],e))};function bt(e){var t=this;void 0===e&&(e={});var n=new Map,r=e.extra,i=e.onError,o=void 0===i?wt:i;ze(o,"onError");var a=function(e){for(var t=0,r=Array.from(n.values());t<r.length;t++){var i=r[t];if(e(i))return i}},c=function(e){var t=a((function(t){return t.effect===e.effect}));return t||(t=dt(e)),function(e){return e.unsubscribe=function(){return n.delete(e.id)},n.set(e.id,e),function(t){e.unsubscribe(),(null==t?void 0:t.cancelActive)&&ft(e)}}(t)},u=function(e){var t=lt(e),n=t.type,r=t.effect,i=t.predicate,o=a((function(e){return("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r}));return o&&(o.unsubscribe(),e.cancelActive&&ft(o)),!!o},l=function(e,i,a,u){return x(t,null,(function(){var t,l,d,f;return s(this,(function(s){switch(s.label){case 0:t=new AbortController,l=ut(c,t.signal),d=[],s.label=1;case 1:return s.trys.push([1,3,4,6]),e.pending.add(t),[4,Promise.resolve(e.effect(i,ot({},a,{getOriginalState:u,condition:function(e,t){return l(e,t).then(Boolean)},take:l,delay:it(t.signal),pause:rt(t.signal),extra:r,signal:t.signal,fork:ct(t.signal,d),unsubscribe:e.unsubscribe,subscribe:function(){n.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach((function(e,n,r){e!==t&&(qe(e,Xe),r.delete(e))}))}})))];case 2:return s.sent(),[3,6];case 3:return(f=s.sent())instanceof et||pt(o,f,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(d)];case 5:return s.sent(),qe(t,Qe),e.pending.delete(t),[7];case 6:return[2]}}))}))},d=ht(n);return{middleware:function(e){return function(t){return function(r){if(!M(r))return t(r);if(mt.match(r))return c(r.payload);if(!gt.match(r)){if(yt.match(r))return u(r.payload);var i,s=e.getState(),a=function(){if(s===st)throw new Error(at+": getOriginalState can only be called synchronously");return s};try{if(i=t(r),n.size>0)for(var f=e.getState(),h=Array.from(n.values()),p=0,m=h;p<m.length;p++){var g=m[p],y=!1;try{y=g.predicate(r,f,s)}catch(e){y=!1,pt(o,e,{raisedBy:"predicate"})}y&&l(g,r,e,a)}}finally{s=st}return i}d()}}},startListening:c,stopListening:u,clearListeners:d}}var vt,Et="RTK_autoBatch",At=function(){return function(e){var t;return{payload:e,meta:(t={},t[Et]=!0,t)}}},Tt="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:"undefined"!=typeof global?global:globalThis):function(e){return(vt||(vt=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))},xt=function(e){return function(t){setTimeout(t,e)}},St="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:xt(10),kt=function(e){return void 0===e&&(e={type:"raf"}),function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(void 0,n),o=!0,s=!1,a=!1,c=new Set,u="tick"===e.type?Tt:"raf"===e.type?St:"callback"===e.type?e.queueNotification:xt(e.timeout),l=function(){a=!1,s&&(s=!1,c.forEach((function(e){return e()})))};return Object.assign({},i,{subscribe:function(e){var t=i.subscribe((function(){return o&&e()}));return c.add(e),function(){t(),c.delete(e)}},dispatch:function(e){var t;try{return o=!(null==(t=null==e?void 0:e.meta)?void 0:t[Et]),(s=!o)&&(a||(a=!0,u(l))),i.dispatch(e)}finally{o=!0}}})}}};(0,S.enableES5)()}).call(this)}).call(this,e("_process"))}}},{package:"@reduxjs/toolkit",file:"node_modules/@reduxjs/toolkit/dist/redux-toolkit.cjs.development.js"}],[3024,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createCacheKeyComparator=o,n.defaultEqualityCheck=void 0,n.defaultMemoize=function(e,t){var n="object"==typeof t?t:{equalityCheck:t},s=n.equalityCheck,a=void 0===s?i:s,c=n.maxSize,u=void 0===c?1:c,l=n.resultEqualityCheck,d=o(a),f=1===u?(h=d,{get:function(e){return p&&h(p.key,e)?p.value:r},put:function(e,t){p={key:e,value:t}},getEntries:function(){return p?[p]:[]},clear:function(){p=undefined}}):function(e,t){var n=[];function i(e){var i=n.findIndex((function(n){return t(e,n.key)}));if(i>-1){var o=n[i];return i>0&&(n.splice(i,1),n.unshift(o)),o.value}return r}function o(t,o){i(t)===r&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())}function s(){return n}function a(){n=[]}return{get:i,put:o,getEntries:s,clear:a}}(u,d);var h,p;function m(){var t=f.get(arguments);if(t===r){if(t=e.apply(null,arguments),l){var n=f.getEntries().find((function(e){return l(e.value,t)}));n&&(t=n.value)}f.put(arguments,t)}return t}return m.clearCache=function(){return f.clear()},m};var r="NOT_FOUND";var i=function(e,t){return e===t};function o(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}n.defaultEqualityCheck=i}}},{package:"@reduxjs/toolkit>reselect",file:"node_modules/@reduxjs/toolkit/node_modules/reselect/lib/defaultMemoize.js"}],[3025,{"./defaultMemoize":3024},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createSelector=void 0,n.createSelectorCreator=i,n.createStructuredSelector=void 0,Object.defineProperty(n,"defaultEqualityCheck",{enumerable:!0,get:function(){return r.defaultEqualityCheck}}),Object.defineProperty(n,"defaultMemoize",{enumerable:!0,get:function(){return r.defaultMemoize}});var r=e("./defaultMemoize");function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,s=0,a={memoizeOptions:undefined},c=r.pop();if("object"==typeof c&&(a=c,c=r.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=a.memoizeOptions,l=void 0===u?n:u,d=Array.isArray(l)?l:[l],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),h=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(d)),p=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return o=h.apply(null,e)}));return Object.assign(p,{resultFunc:c,memoizedResultFunc:h,dependencies:f,lastResult:function(){return o},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),p}}var o=i(r.defaultMemoize);n.createSelector=o;n.createStructuredSelector=function(e,t){if(void 0===t&&(t=o),"object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r}}}},{package:"@reduxjs/toolkit>reselect",file:"node_modules/@reduxjs/toolkit/node_modules/reselect/lib/index.js"}],[3027,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(...e){const t=e=>e,n=(e,t)=>n=>e(t(n));return{encode:e.map((e=>e.encode)).reduceRight(n,t),decode:e.map((e=>e.decode)).reduce(n,t)}}function s(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(r(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function a(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function c(e,t="="){if(r(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function u(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function l(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const o=[],s=Array.from(e);for(s.forEach((e=>{if(r(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,r=!0;for(let o=i;o<s.length;o++){const a=s[o],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const u=Math.floor(c/n);if(s[o]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error("convertRadix: carry overflow");r&&(u?r=!1:i=o)}if(o.push(e),r)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(n,"__esModule",{value:!0}),n.bytes=n.stringToBytes=n.str=n.bytesToString=n.hex=n.utf8=n.bech32m=n.bech32=n.base58check=n.createBase58check=n.base58xmr=n.base58xrp=n.base58flickr=n.base58=n.base64urlnopad=n.base64url=n.base64nopad=n.base64=n.base32crockford=n.base32hexnopad=n.base32hex=n.base32nopad=n.base32=n.base16=n.utils=void 0,n.assertNumber=r;const d=(e,t)=>t?d(t,e%t):e,f=(e,t)=>e+(t-d(e,t));function h(e,t,n,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(f(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${f(t,n)}`);let o=0,s=0;const a=2**n-1,c=[];for(const i of e){if(r(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(o=o<<t|i,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)c.push((o>>s-n&a)>>>0);o&=2**s-1}if(o=o<<n-s&a,!i&&s>=t)throw new Error("Excess padding");if(!i&&o)throw new Error(`Non-zero padding: ${o}`);return i&&s>0&&c.push(o>>>0),c}function p(e){return r(e),{encode:t=>{if(!i(t))throw new Error("radix.encode input should be Uint8Array");return l(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(l(t,e,256))}}}function m(e,t=!1){if(r(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(f(8,e)>32||f(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!i(n))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(h(n,e,8,t))}}}function g(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function y(e,t){if(r(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!i(n))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),o=new Uint8Array(n.length+e);return o.set(n),o.set(r,n.length),o},decode(n){if(!i(n))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),o=t(r).slice(0,e),s=n.slice(-e);for(let t=0;t<e;t++)if(o[t]!==s[t])throw new Error("Invalid checksum");return r}}}n.utils={alphabet:s,chain:o,checksum:y,convertRadix:l,convertRadix2:h,radix:p,radix2:m,join:a,padding:c},n.base16=o(m(4),s("0123456789ABCDEF"),a("")),n.base32=o(m(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),c(5),a("")),n.base32nopad=o(m(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a("")),n.base32hex=o(m(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),c(5),a("")),n.base32hexnopad=o(m(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a("")),n.base32crockford=o(m(5),s("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),a(""),u((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),n.base64=o(m(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c(6),a("")),n.base64nopad=o(m(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a("")),n.base64url=o(m(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),c(6),a("")),n.base64urlnopad=o(m(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(""));const w=e=>o(p(58),s(e),a(""));n.base58=w("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),n.base58flickr=w("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),n.base58xrp=w("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const b=[0,2,3,5,6,7,9,10,11];n.base58xmr={encode(e){let t="";for(let r=0;r<e.length;r+=8){const i=e.subarray(r,r+8);t+=n.base58.encode(i).padStart(b[i.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){const i=e.slice(r,r+11),o=b.indexOf(i.length),s=n.base58.decode(i);for(let e=0;e<s.length-o;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(t)}};n.createBase58check=e=>o(y(4,(t=>e(e(t)))),n.base58),n.base58check=n.createBase58check;const v=o(s("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),a("")),E=[996825010,642813549,513874426,1027748829,705979059];function A(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<E.length;e++)1==(t>>e&1)&&(n^=E[e]);return n}function T(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=A(i)^n>>5}i=A(i);for(let t=0;t<r;t++)i=A(i)^31&e.charCodeAt(t);for(let e of t)i=A(i)^e;for(let e=0;e<6;e++)i=A(i);return i^=n,v.encode(h([i%2**30],30,5,!1))}function x(e){const t="bech32"===e?1:734539939,n=m(5),r=n.decode,i=n.encode,o=g(r);function s(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(n instanceof Uint8Array&&(n=Array.from(n)),!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);if(0===e.length)throw new TypeError(`Invalid prefix length ${e.length}`);const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError(`Length ${i} exceeds limit ${r}`);const o=e.toLowerCase(),s=T(o,n,t);return`${o}1${v.encode(n)}${s}`}function a(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=r.lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=r.slice(0,i),s=r.slice(i+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=v.decode(s).slice(0,-6),c=T(o,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:a}}return{encode:s,decode:a,encodeFromBytes:function(e,t){return s(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:n}=a(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:g(a),fromWords:r,fromWordsUnsafe:o,toWords:i}}n.bech32=x("bech32"),n.bech32m=x("bech32m"),n.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},n.hex=o(m(4),s("0123456789abcdef"),a(""),u((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const S={utf8:n.utf8,hex:n.hex,base16:n.base16,base32:n.base32,base64:n.base64,base64url:n.base64url,base58:n.base58,base58xmr:n.base58xmr},k="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";n.bytesToString=(e,t)=>{if("string"!=typeof e||!S.hasOwnProperty(e))throw new TypeError(k);if(!i(t))throw new TypeError("bytesToString() expects Uint8Array");return S[e].encode(t)},n.str=n.bytesToString;n.stringToBytes=(e,t)=>{if(!S.hasOwnProperty(e))throw new TypeError(k);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return S[e].decode(t)},n.bytes=n.stringToBytes}}},{package:"@metamask/utils>@scure/base",file:"node_modules/@scure/base/lib/index.js"}],[3028,{"@noble/curves/abstract/modular":3032,"@noble/curves/secp256k1":3035,"@noble/hashes/_assert":3036,"@noble/hashes/hmac":3040,"@noble/hashes/ripemd160":3041,"@noble/hashes/sha256":3042,"@noble/hashes/sha512":3043,"@noble/hashes/utils":3044,"@scure/base":3027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HDKey=n.HARDENED_OFFSET=void 0;
/*! scure-bip32 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/hmac"),i=e("@noble/hashes/ripemd160"),o=e("@noble/hashes/sha256"),s=e("@noble/hashes/sha512"),a=e("@noble/hashes/_assert"),c=e("@noble/hashes/utils"),u=e("@noble/curves/secp256k1"),l=e("@noble/curves/abstract/modular"),d=e("@scure/base"),f=u.secp256k1.ProjectivePoint,h=(0,d.createBase58check)(o.sha256);function p(e){return BigInt(`0x${(0,c.bytesToHex)(e)}`)}const m=(0,c.utf8ToBytes)("Bitcoin seed"),g={private:76066276,public:76067358};n.HARDENED_OFFSET=2147483648;const y=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,c.createView)(t).setUint32(0,e,!1),t};class w{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,(0,c.createView)(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return h.encode(this.serialize(this.versions.private,(0,c.concatBytes)(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return h.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=g){if((0,a.bytes)(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,r.hmac)(s.sha512,m,e);return new w({versions:t,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e,t=g){const n=h.decode(e),r=(0,c.createView)(n),i=r.getUint32(0,!1),o={versions:t,depth:n[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:n.slice(13,45)},s=n.slice(45),a=0===s[0];if(i!==t[a?"private":"public"])throw new Error("Version mismatch");return new w(a?{...o,privateKey:s.slice(1)}:{...o,publicKey:s})}static fromJSON(e){return w.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||g,this.depth=e.depth||0,this.chainCode=e.chainCode||null,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!u.secp256k1.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:p(e.privateKey),this.privKeyBytes=(t=this.privKey,(0,c.hexToBytes)(t.toString(16).padStart(64,"0"))),this.pubKey=u.secp256k1.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=f.fromHex(e.publicKey).toRawBytes(!0)}var t,n;this.pubHash=(n=this.pubKey,(0,i.ripemd160)((0,o.sha256)(n)))}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let r=this;for(const e of t){const t=/^(\d+)('?)$/.exec(e),i=t&&t[1];if(!t||3!==t.length||"string"!=typeof i)throw new Error(`Invalid child index: ${e}`);let o=+i;if(!Number.isSafeInteger(o)||o>=n.HARDENED_OFFSET)throw new Error("Invalid index");"'"===t[2]&&(o+=n.HARDENED_OFFSET),r=r.deriveChild(o)}return r}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=y(e);if(e>=n.HARDENED_OFFSET){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=(0,c.concatBytes)(new Uint8Array([0]),e,t)}else t=(0,c.concatBytes)(this.pubKey,t);const i=(0,r.hmac)(s.sha512,this.chainCode,t),o=p(i.slice(0,32)),a=i.slice(32);if(!u.secp256k1.utils.isValidPrivateKey(o))throw new Error("Tweak bigger than curve order");const d={versions:this.versions,chainCode:a,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=(0,l.mod)(this.privKey+o,u.secp256k1.CURVE.n);if(!u.secp256k1.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");d.privateKey=e}else{const e=f.fromHex(this.pubKey).add(f.fromPrivateKey(o));if(e.equals(f.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");d.publicKey=e.toRawBytes(!0)}return new w(d)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return(0,a.bytes)(e,32),u.secp256k1.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if((0,a.bytes)(e,32),(0,a.bytes)(t,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=u.secp256k1.Signature.fromCompact(t)}catch(e){return!1}return u.secp256k1.verify(n,e,this.publicKey)}wipePrivateData(){return this.privKey=undefined,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=undefined),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return(0,a.bytes)(t,33),(0,c.concatBytes)(y(e),new Uint8Array([this.depth]),y(this.parentFingerprint),y(this.index),this.chainCode,t)}}n.HDKey=w}}},{package:"viem>@scure/bip32",file:"node_modules/@scure/bip32/lib/index.js"}],[3029,{"./abstract/weierstrass.js":3034,"@noble/hashes/hmac":3040,"@noble/hashes/utils":3044},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHash=s,n.createCurve=function(e,t){const n=t=>(0,o.weierstrass)({...e,...s(t)});return Object.freeze({...n(t),create:n})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/hmac"),i=e("@noble/hashes/utils"),o=e("./abstract/weierstrass.js");function s(e){return{hash:e,hmac:(t,...n)=>(0,r.hmac)(e,t,(0,i.concatBytes)(...n)),randomBytes:i.randomBytes}}}}},{package:"viem>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/_shortw_utils.js"}],[3030,{"./modular.js":3032,"./utils.js":3033},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wNAF=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>o;)n&s&&(r=r.add(i)),i=i.double(),n>>=s;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:c}=r(t);let u=e.ZERO,l=e.BASE;const d=BigInt(2**t-1),f=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*c;let r=Number(o&d);o>>=h,r>c&&(r-=f,o+=s);const a=t,p=t+Math.abs(r)-1,m=e%2!=0,g=r<0;0===r?l=l.add(n(m,i[a])):u=u.add(n(g,i[p]))}return{p:u,f:l}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}},n.validateBasic=function(e){return(0,r.validateField)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,r.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("./modular.js"),i=e("./utils.js"),o=BigInt(0),s=BigInt(1)}}},{package:"viem>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/curve.js"}],[3031,{"./modular.js":3032,"./utils.js":3033},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.expand_message_xmd=u,n.expand_message_xof=l,n.hash_to_field=d,n.isogenyMap=function(e,t){const n=t.map((e=>Array.from(e).reverse()));return(t,r)=>{const[i,o,s,a]=n.map((n=>n.reduce(((n,r)=>e.add(e.mul(n,t),r)))));return t=e.div(i,o),r=e.mul(r,e.div(s,a)),{x:t,y:r}}},n.createHasher=function(e,t,n){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const o=d(r,2,{...n,DST:n.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const o=d(r,1,{...n,DST:n.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(const e of n)if("bigint"!=typeof e)throw new Error(`mapToCurve: expected array of bigints, got ${e} in array`);const r=e.fromAffine(t(n)).clearCofactor();return r.assertValidity(),r}}};const r=e("./modular.js"),i=e("./utils.js"),o=i.bytesToNumberBE;function s(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function a(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e,t,n,r){(0,i.abytes)(e),(0,i.abytes)(t),c(n),t.length>255&&(t=r((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:o,blockLen:u}=r,l=Math.ceil(n/o);if(l>255)throw new Error("Invalid xmd length");const d=(0,i.concatBytes)(t,s(t.length,1)),f=s(0,u),h=s(n,2),p=new Array(l),m=r((0,i.concatBytes)(f,e,h,s(0,1),d));p[0]=r((0,i.concatBytes)(m,s(1,1),d));for(let e=1;e<=l;e++){const t=[a(m,p[e-1]),s(e+1,1),d];p[e]=r((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...p).slice(0,n)}function l(e,t,n,r,o){if((0,i.abytes)(e),(0,i.abytes)(t),c(n),t.length>255){const e=Math.ceil(2*r/8);t=o.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:n}).update(e).update(s(n,2)).update(t).update(s(t.length,1)).digest()}function d(e,t,n){(0,i.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:s,k:a,m:d,hash:f,expand:h,DST:p}=n;(0,i.abytes)(e),c(t);const m="string"==typeof p?(0,i.utf8ToBytes)(p):p,g=s.toString(2).length,y=Math.ceil((g+a)/8),w=t*d*y;let b;if("xmd"===h)b=u(e,m,w,f);else if("xof"===h)b=l(e,m,w,a,f);else{if("_internal_pass"!==h)throw new Error('expand must be "xmd" or "xof"');b=e}const v=new Array(t);for(let e=0;e<t;e++){const t=new Array(d);for(let n=0;n<d;n++){const i=y*(n+e*d),a=b.subarray(i,i+y);t[n]=(0,r.mod)(o(a),s)}v[e]=t}return v}}}},{package:"viem>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/hash-to-curve.js"}],[3032,{"./utils.js":3033},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNegativeLE=void 0,n.mod=d,n.pow=f,n.pow2=function(e,t,n){let r=e;for(;t-- >i;)r*=r,r%=n;return r},n.invert=h,n.tonelliShanks=p,n.FpSqrt=m,n.validateField=function(e){const t=g.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,r.validateObject)(e,t)},n.FpPow=y,n.FpInvertBatch=w,n.FpDiv=function(e,t,n){return e.mul(t,"bigint"==typeof n?h(n,e.ORDER):e.inv(n))},n.FpIsSquare=function(e){const t=(e.ORDER-o)/s;return n=>{const r=e.pow(n,t);return e.eql(r,e.ZERO)||e.eql(r,e.ONE)}},n.nLength=b,n.Field=function(e,t,n=!1,s={}){if(e<=i)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:c}=b(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=m(e),l=Object.freeze({ORDER:e,BITS:a,BYTES:c,MASK:(0,r.bitMask)(a),ZERO:i,ONE:o,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&o)===o,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,n)=>d(t+n,e),sub:(t,n)=>d(t-n,e),mul:(t,n)=>d(t*n,e),pow:(e,t)=>y(l,e,t),div:(t,n)=>d(t*h(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>h(t,e),sqrt:s.sqrt||(e=>u(l,e)),invertBatch:e=>w(l,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?(0,r.numberToBytesLE)(e,c):(0,r.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e)}});return Object.freeze(l)},n.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)},n.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n},n.hashToPrivateScalar=function(e,t,n=!1){const i=(e=(0,r.ensureBytes)("privateHash",e)).length,s=b(t).nByteLength+8;if(s<24||i<s||i>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${i}`);return d(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-o)+o},n.getFieldBytesLength=v,n.getMinHashLength=E,n.mapHashToField=function(e,t,n=!1){const i=e.length,s=v(t),a=E(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const c=d(n?(0,r.bytesToNumberBE)(e):(0,r.bytesToNumberLE)(e),t-o)+o;return n?(0,r.numberToBytesLE)(c,s):(0,r.numberToBytesBE)(c,s)};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("./utils.js"),i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),l=BigInt(8);BigInt(9),BigInt(16);function d(e,t){const n=e%t;return n>=i?n:t+n}function f(e,t,n){if(n<=i||t<i)throw new Error("Expected power/modulo > 0");if(n===o)return i;let r=o;for(;t>i;)t&o&&(r=r*e%n),e=e*e%n,t>>=o;return r}function h(e,t){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=d(e,t),r=t,s=i,a=o,c=o,u=i;for(;n!==i;){const e=r/n,t=r%n,i=s-c*e,o=a-u*e;r=n,n=t,s=c,a=u,c=i,u=o}if(r!==o)throw new Error("invert: does not exist");return d(s,t)}function p(e){const t=(e-o)/s;let n,r,a;for(n=e-o,r=0;n%s===i;n/=s,r++);for(a=s;a<e&&f(a,t,e)!==e-o;a++);if(1===r){const t=(e+o)/c;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const u=(n+o)/s;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=r,c=e.pow(e.mul(e.ONE,a),n),l=e.pow(i,u),d=e.pow(i,n);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(d);t<s&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,o<<BigInt(s-t-1));c=e.sqr(n),l=e.mul(l,n),d=e.mul(d,c),s=t}return l}}function m(e){if(e%c===a){const t=(e+o)/c;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%l===u){const t=(e-u)/l;return function(e,n){const r=e.mul(n,s),i=e.pow(r,t),o=e.mul(n,i),a=e.mul(e.mul(o,s),i),c=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(c),n))throw new Error("Cannot find square root");return c}}return p(e)}n.isNegativeLE=(e,t)=>(d(e,t)&o)===o;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function y(e,t,n){if(n<i)throw new Error("Expected power > 0");if(n===i)return e.ONE;if(n===o)return t;let r=e.ONE,s=t;for(;n>i;)n&o&&(r=e.mul(r,s)),s=e.sqr(s),n>>=o;return r}function w(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}function b(e,t){const n=t!==undefined?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function v(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function E(e){const t=v(e);return t+Math.ceil(t/2)}}}},{package:"viem>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/modular.js"}],[3033,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.bitMask=void 0,n.isBytes=s,n.abytes=a,n.bytesToHex=u,n.numberToHexUnpadded=l,n.hexToNumber=d,n.hexToBytes=p,n.bytesToNumberBE=function(e){return d(u(e))},n.bytesToNumberLE=function(e){return a(e),d(u(Uint8Array.from(e).reverse()))},n.numberToBytesBE=m,n.numberToBytesLE=function(e,t){return m(e,t).reverse()},n.numberToVarBytesBE=function(e){return p(l(e))},n.ensureBytes=function(e,t,n){let r;if("string"==typeof t)try{r=p(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!s(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r},n.concatBytes=g,n.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},n.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},n.bitLen=function(e){let t;for(t=0;e>r;e>>=i,t+=1);return t},n.bitGet=function(e,t){return e>>BigInt(t)&i},n.bitSet=function(e,t,n){return e|(n?i:r)<<BigInt(t)},n.createHmacDrbg=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=y(e),i=y(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...e)=>n(i,r,...e),c=(e=y())=>{i=a(w([0]),e),r=a(),0!==e.length&&(i=a(w([1]),e),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return g(...n)};return(e,t)=>{s(),c(e);let n=undefined;for(;!(n=t(u()));)c();return s(),n}},n.validateObject=function(e,t,n={}){const r=(t,n,r)=>{const i=b[n];if("function"!=typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=e[t];if(!(r&&o===undefined||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=BigInt(0),i=BigInt(1),o=BigInt(2);function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function a(e){if(!s(e))throw new Error("Uint8Array expected")}const c=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function u(e){a(e);let t="";for(let n=0;n<e.length;n++)t+=c[e[n]];return t}function l(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function d(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const f={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function h(e){return e>=f._0&&e<=f._9?e-f._0:e>=f._A&&e<=f._F?e-(f._A-10):e>=f._a&&e<=f._f?e-(f._a-10):void 0}function p(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,i=0;t<n;t++,i+=2){const n=h(e.charCodeAt(i)),o=h(e.charCodeAt(i+1));if(n===undefined||o===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[t]=16*n+o}return r}function m(e,t){return p(e.toString(16).padStart(2*t,"0"))}function g(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];a(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}n.bitMask=e=>(o<<BigInt(e-1))-i;const y=e=>new Uint8Array(e),w=e=>Uint8Array.from(e);const b={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||s(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)}}}},{package:"viem>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/utils.js"}],[3034,{"./curve.js":3030,"./modular.js":3032,"./utils.js":3033},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DER=void 0,n.weierstrassPoints=p,n.weierstrass=function(e){const t=function(e){const t=(0,r.validateBasic)(e);return o.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:a,n:c}=t,d=a.BYTES+1,f=2*a.BYTES+1;function h(e){return i.mod(e,c)}function m(e){return i.invert(e,c)}const{ProjectivePoint:g,normPrivateKeyToScalar:y,weierstrassEquation:w,isWithinCurveOrder:b}=p({...t,toBytes(e,t,n){const r=t.toAffine(),i=a.toBytes(r.x),s=o.concatBytes;return n?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,a.toBytes(r.y))},fromBytes(e){const t=e.length,n=e[0],r=e.subarray(1);if(t!==d||2!==n&&3!==n){if(t===f&&4===n){return{x:a.fromBytes(r.subarray(0,a.BYTES)),y:a.fromBytes(r.subarray(a.BYTES,2*a.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${d} compressed bytes or ${f} uncompressed bytes`)}{const e=o.bytesToNumberBE(r);if(!(u<(i=e)&&i<a.ORDER))throw new Error("Point is not on curve");const t=w(e);let s;try{s=a.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!==((s&l)===l)&&(s=a.neg(s)),{x:e,y:s}}var i}}),v=e=>o.bytesToHex(o.numberToBytesBE(e,t.nByteLength));function E(e){return e>c>>l}const A=(e,t,n)=>o.bytesToNumberBE(e.slice(t,n));class T{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=(0,s.ensureBytes)("compactSignature",e,2*n),new T(A(e,0,n),A(e,n,2*n))}static fromDER(e){const{r:t,s:r}=n.DER.toSig((0,s.ensureBytes)("DER",e));return new T(t,r)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new T(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:r,recovery:i}=this,o=I((0,s.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const c=2===i||3===i?n+t.n:n;if(c>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&i?"03":"02",l=g.fromHex(u+v(c)),d=m(c),f=h(-o*d),p=h(r*d),y=g.BASE.multiplyAndAddUnsafe(l,f,p);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new T(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return o.hexToBytes(this.toDERHex())}toDERHex(){return n.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return o.hexToBytes(this.toCompactHex())}toCompactHex(){return v(this.r)+v(this.s)}}const x={isValidPrivateKey(e){try{return y(e),!0}catch(e){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const e=i.getMinHashLength(t.n);return i.mapHashToField(t.randomBytes(e),t.n)},precompute:(e=8,t=g.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function S(e){const t=o.isBytes(e),n="string"==typeof e,r=(t||n)&&e.length;return t?r===d||r===f:n?r===2*d||r===2*f:e instanceof g}const k=t.bits2int||function(e){const n=o.bytesToNumberBE(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},I=t.bits2int_modN||function(e){return h(k(e))},C=o.bitMask(t.nBitLength);function j(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(u<=e&&e<C))throw new Error(`bigint expected < 2^${t.nBitLength}`);return o.numberToBytesBE(e,t.nByteLength)}function P(e,n,r=_){if(["recovered","canonical"].some((e=>e in r)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:c}=t;let{lowS:d,prehash:f,extraEntropy:p}=r;null==d&&(d=!0),e=(0,s.ensureBytes)("msgHash",e),f&&(e=(0,s.ensureBytes)("prehashed msgHash",i(e)));const w=I(e),v=y(n),A=[j(v),j(w)];if(null!=p&&!1!==p){const e=!0===p?c(a.BYTES):p;A.push((0,s.ensureBytes)("extraEntropy",e))}const x=o.concatBytes(...A),S=w;return{seed:x,k2sig:function(e){const t=k(e);if(!b(t))return;const n=m(t),r=g.BASE.multiply(t).toAffine(),i=h(r.x);if(i===u)return;const o=h(n*h(S+i*v));if(o===u)return;let s=(r.x===i?0:2)|Number(r.y&l),a=o;return d&&E(o)&&(a=function(e){return E(e)?h(-e):e}(o),s^=1),new T(i,a,s)}}}const _={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return g.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(S(e))throw new Error("first arg must be private key");if(!S(t))throw new Error("second arg must be public key");return g.fromHex(t).multiply(y(e)).toRawBytes(n)},sign:function(e,n,r=_){const{seed:i,k2sig:s}=P(e,n,r),a=t;return o.createHmacDrbg(a.hash.outputLen,a.nByteLength,a.hmac)(i,s)},verify:function(e,r,i,a=O){const c=e;if(r=(0,s.ensureBytes)("msgHash",r),i=(0,s.ensureBytes)("publicKey",i),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=a;let d,f=undefined;try{if("string"==typeof c||o.isBytes(c))try{f=T.fromDER(c)}catch(e){if(!(e instanceof n.DER.Err))throw e;f=T.fromCompact(c)}else{if("object"!=typeof c||"bigint"!=typeof c.r||"bigint"!=typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;f=new T(e,t)}}d=g.fromHex(i)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&f.hasHighS())return!1;l&&(r=t.hash(r));const{r:p,s:y}=f,w=I(r),b=m(y),v=h(w*b),E=h(p*b),A=g.BASE.multiplyAndAddUnsafe(d,v,E)?.toAffine();if(!A)return!1;return h(A.x)===p},ProjectivePoint:g,Signature:T,utils:x}},n.SWUFpSqrtRatio=m,n.mapToCurveSimpleSWU=function(e,t){if(i.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=m(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,o,s,a,c,u,l,d;i=e.sqr(r),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),u=e.sqr(a),c=e.mul(u,t.A),o=e.add(o,c),o=e.mul(o,s),u=e.mul(u,a),c=e.mul(u,t.B),o=e.add(o,c),l=e.mul(i,s);const{isValid:f,value:h}=n(o,u);d=e.mul(i,r),d=e.mul(d,h),l=e.cmov(l,s,f),d=e.cmov(d,h,f);const p=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),l=e.div(l,a),{x:l,y:d}}};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("./curve.js"),i=e("./modular.js"),o=e("./utils.js"),s=e("./utils.js");const{bytesToNumberBE:a,hexToBytes:c}=o;n.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=n.DER;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],i=e.subarray(2,r+2);if(!r||i.length!==r)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:a(i),l:e.subarray(r+2)}},toSig(e){const{Err:t}=n.DER,r="string"==typeof e?c(e):e;o.abytes(r);let i=r.length;if(i<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:s,l:a}=n.DER._parseInt(r.subarray(2)),{d:u,l:l}=n.DER._parseInt(a);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:u}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,s=i.length/2,a=n(o),c=n(s);return`30${n(s+o+4)}02${c}${i}02${a}${r}`}};const u=BigInt(0),l=BigInt(1),d=BigInt(2),f=BigInt(3),h=BigInt(4);function p(e){const t=function(e){const t=(0,r.validateBasic)(e);o.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:s}=t;if(n){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,a=t.toBytes||((e,t,r)=>{const i=t.toAffine();return o.concatBytes(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),c=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function d(e){const{a:r,b:i}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),d(t.Gx)))throw new Error("bad generator point: equation left != right");function h(e){return"bigint"==typeof e&&u<e&&e<t.n}function p(e){if(!h(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:a,n:c}=t;if(n&&"bigint"!=typeof e){if(o.isBytes(e)&&(e=o.bytesToHex(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let u;try{u="bigint"==typeof e?e:o.bytesToNumberBE((0,s.ensureBytes)("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return a&&(u=i.mod(u,c)),p(u),u}const g=new Map;function y(e){if(!(e instanceof w))throw new Error("ProjectivePoint expected")}class w{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof w)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?w.ZERO:new w(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(w.fromAffine)}static fromHex(e){const t=w.fromAffine(c((0,s.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return w.BASE.multiply(m(e))}_setWindowSize(e){this._WINDOW_SIZE=e,g.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),o=d(e);if(!n.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){y(e);const{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(o,i)),u=n.eql(n.mul(r,a),n.mul(s,i));return c&&u}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,f),{px:o,py:s,pz:a}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,d=n.mul(o,o),h=n.mul(s,s),p=n.mul(a,a),m=n.mul(o,s);return m=n.add(m,m),l=n.mul(o,a),l=n.add(l,l),c=n.mul(e,l),u=n.mul(i,p),u=n.add(c,u),c=n.sub(h,u),u=n.add(h,u),u=n.mul(c,u),c=n.mul(m,c),l=n.mul(i,l),p=n.mul(e,p),m=n.sub(d,p),m=n.mul(e,m),m=n.add(m,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,p),d=n.mul(d,m),u=n.add(u,d),p=n.mul(s,a),p=n.add(p,p),d=n.mul(p,m),c=n.sub(c,d),l=n.mul(p,h),l=n.add(l,l),l=n.add(l,l),new w(c,u,l)}add(e){y(e);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:c}=e;let u=n.ZERO,l=n.ZERO,d=n.ZERO;const h=t.a,p=n.mul(t.b,f);let m=n.mul(r,s),g=n.mul(i,a),b=n.mul(o,c),v=n.add(r,i),E=n.add(s,a);v=n.mul(v,E),E=n.add(m,g),v=n.sub(v,E),E=n.add(r,o);let A=n.add(s,c);return E=n.mul(E,A),A=n.add(m,b),E=n.sub(E,A),A=n.add(i,o),u=n.add(a,c),A=n.mul(A,u),u=n.add(g,b),A=n.sub(A,u),d=n.mul(h,E),u=n.mul(p,b),d=n.add(u,d),u=n.sub(g,d),d=n.add(g,d),l=n.mul(u,d),g=n.add(m,m),g=n.add(g,m),b=n.mul(h,b),E=n.mul(p,E),g=n.add(g,b),b=n.sub(m,b),b=n.mul(h,b),E=n.add(E,b),m=n.mul(g,E),l=n.add(l,m),m=n.mul(A,E),u=n.mul(v,u),u=n.sub(u,m),m=n.mul(v,g),d=n.mul(A,d),d=n.add(d,m),new w(u,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(w.ZERO)}wNAF(e){return v.wNAFCached(this,g,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(w.fromAffine)}))}multiplyUnsafe(e){const r=w.ZERO;if(e===u)return r;if(p(e),e===l)return this;const{endo:i}=t;if(!i)return v.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:a,k2:c}=i.splitScalar(e),d=r,f=r,h=this;for(;s>u||c>u;)s&l&&(d=d.add(h)),c&l&&(f=f.add(h)),h=h.double(),s>>=l,c>>=l;return o&&(d=d.negate()),a&&(f=f.negate()),f=new w(n.mul(f.px,i.beta),f.py,f.pz),d.add(f)}multiply(e){p(e);let r,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(o);let{p:u,f:l}=this.wNAF(t),{p:d,f:f}=this.wNAF(c);u=v.constTimeNegate(e,u),d=v.constTimeNegate(a,d),d=new w(n.mul(d.px,s.beta),d.py,d.pz),r=u.add(d),i=l.add(f)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return w.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=w.BASE,i=(e,t)=>t!==u&&t!==l&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?undefined:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const s=n.mul(t,e),a=n.mul(r,e),c=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===l)return!0;if(n)return n(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===l?this:n?n(w,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(w,this,e)}toHex(e=!0){return o.bytesToHex(this.toRawBytes(e))}}w.BASE=new w(t.Gx,t.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,v=(0,r.wNAF)(w,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:w,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:h}}function m(e,t){const n=e.ORDER;let r=u;for(let e=n-l;e%d===u;e/=d)r+=l;const i=r,o=d<<i-l-l,s=o*d,a=(n-l)/s,c=(a-l)/d,p=s-l,m=o,g=e.pow(t,a),y=e.pow(t,(a+l)/d);let w=(t,n)=>{let r=g,o=e.pow(n,p),s=e.sqr(o);s=e.mul(s,n);let a=e.mul(t,s);a=e.pow(a,c),a=e.mul(a,o),o=e.mul(a,n),s=e.mul(a,t);let u=e.mul(s,o);a=e.pow(u,m);let f=e.eql(a,e.ONE);o=e.mul(s,y),a=e.mul(u,r),s=e.cmov(o,s,f),u=e.cmov(a,u,f);for(let t=i;t>l;t--){let n=t-d;n=d<<n-l;let i=e.pow(u,n);const a=e.eql(i,e.ONE);o=e.mul(s,r),r=e.mul(r,r),i=e.mul(u,r),s=e.cmov(o,s,a),u=e.cmov(i,u,a)}return{isValid:f,value:s}};if(e.ORDER%h===f){const n=(e.ORDER-f)/h,r=e.sqrt(e.neg(t));w=(t,i)=>{let o=e.sqr(i);const s=e.mul(t,i);o=e.mul(o,s);let a=e.pow(o,n);a=e.mul(a,s);const c=e.mul(a,r),u=e.mul(e.sqr(a),i),l=e.eql(u,t);return{isValid:l,value:e.cmov(c,a,l)}}}return w}}}},{package:"viem>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/weierstrass.js"}],[3035,{"./_shortw_utils.js":3029,"./abstract/hash-to-curve.js":3031,"./abstract/modular.js":3032,"./abstract/utils.js":3033,"./abstract/weierstrass.js":3034,"@noble/hashes/sha256":3042,"@noble/hashes/utils":3044},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.encodeToCurve=n.hashToCurve=n.schnorr=n.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=e("@noble/hashes/sha256"),i=e("@noble/hashes/utils"),o=e("./_shortw_utils.js"),s=e("./abstract/hash-to-curve.js"),a=e("./abstract/modular.js"),c=e("./abstract/utils.js"),u=e("./abstract/weierstrass.js"),l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f=BigInt(1),h=BigInt(2),p=(e,t)=>(e+t/h)/t;function m(e){const t=l,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),c=BigInt(44),u=BigInt(88),d=e*e*e%t,f=d*d*e%t,p=(0,a.pow2)(f,n,t)*f%t,m=(0,a.pow2)(p,n,t)*f%t,y=(0,a.pow2)(m,h,t)*d%t,w=(0,a.pow2)(y,i,t)*y%t,b=(0,a.pow2)(w,o,t)*w%t,v=(0,a.pow2)(b,c,t)*b%t,E=(0,a.pow2)(v,u,t)*v%t,A=(0,a.pow2)(E,c,t)*b%t,T=(0,a.pow2)(A,n,t)*f%t,x=(0,a.pow2)(T,s,t)*w%t,S=(0,a.pow2)(x,r,t)*d%t,k=(0,a.pow2)(S,h,t);if(!g.eql(g.sqr(k),e))throw new Error("Cannot find square root");return k}const g=(0,a.Field)(l,undefined,undefined,{sqrt:m});n.secp256k1=(0,o.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),c=p(o*e,t),u=p(-r*e,t);let l=(0,a.mod)(e-c*n-u*i,t),h=(0,a.mod)(-c*r-u*o,t);const m=l>s,g=h>s;if(m&&(l=t-l),g&&(h=t-h),l>s||h>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:l,k2neg:g,k2:h}}}},r.sha256);const y=BigInt(0),w=e=>"bigint"==typeof e&&y<e&&e<l,b=e=>"bigint"==typeof e&&y<e&&e<d,v={};function E(e,...t){let n=v[e];if(n===undefined){const t=(0,r.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=(0,c.concatBytes)(t,t),v[e]=n}return(0,r.sha256)((0,c.concatBytes)(n,...t))}const A=e=>e.toRawBytes(!0).slice(1),T=e=>(0,c.numberToBytesBE)(e,32),x=e=>(0,a.mod)(e,l),S=e=>(0,a.mod)(e,d),k=n.secp256k1.ProjectivePoint,I=(e,t,n)=>k.BASE.multiplyAndAddUnsafe(e,t,n);function C(e){let t=n.secp256k1.utils.normPrivateKeyToScalar(e),r=k.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:S(-t),bytes:A(r)}}function j(e){if(!w(e))throw new Error("bad x: need 0 < x < p");const t=x(e*e);let n=m(x(t*e+BigInt(7)));n%h!==y&&(n=x(-n));const r=new k(e,n,f);return r.assertValidity(),r}function P(...e){return S((0,c.bytesToNumberBE)(E("BIP0340/challenge",...e)))}function _(e){return C(e).bytes}function O(e,t,n=(0,i.randomBytes)(32)){const r=(0,c.ensureBytes)("message",e),{bytes:o,scalar:s}=C(t),a=(0,c.ensureBytes)("auxRand",n,32),u=T(s^(0,c.bytesToNumberBE)(E("BIP0340/aux",a))),l=E("BIP0340/nonce",u,o,r),d=S((0,c.bytesToNumberBE)(l));if(d===y)throw new Error("sign failed: k is zero");const{bytes:f,scalar:h}=C(d),p=P(f,o,r),m=new Uint8Array(64);if(m.set(f,0),m.set(T(S(h+p*s)),32),!B(m,r,o))throw new Error("sign: Invalid signature produced");return m}function B(e,t,n){const r=(0,c.ensureBytes)("signature",e,64),i=(0,c.ensureBytes)("message",t),o=(0,c.ensureBytes)("publicKey",n,32);try{const e=j((0,c.bytesToNumberBE)(o)),t=(0,c.bytesToNumberBE)(r.subarray(0,32));if(!w(t))return!1;const n=(0,c.bytesToNumberBE)(r.subarray(32,64));if(!b(n))return!1;const s=P(T(t),A(e),i),a=I(e,n,S(-s));return!(!a||!a.hasEvenY()||a.toAffine().x!==t)}catch(e){return!1}}n.schnorr={getPublicKey:_,sign:O,verify:B,utils:{randomPrivateKey:n.secp256k1.utils.randomPrivateKey,lift_x:j,pointToBytes:A,numberToBytesBE:c.numberToBytesBE,bytesToNumberBE:c.bytesToNumberBE,taggedHash:E,mod:a.mod}};const R=(()=>(0,s.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),N=(()=>(0,u.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))(),L=(()=>(0,s.createHasher)(n.secp256k1.ProjectivePoint,(e=>{const{x:t,y:n}=N(g.create(e[0]));return R(t,n)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:r.sha256}))();n.hashToCurve=L.hashToCurve,n.encodeToCurve=L.encodeToCurve}}},{package:"viem>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/secp256k1.js"}],[3036,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function o(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function s(e,...t){if(!o(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){s(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(n,"__esModule",{value:!0}),n.output=n.exists=n.hash=n.bytes=n.bool=n.number=n.isBytes=void 0,n.number=r,n.bool=i,n.isBytes=o,n.bytes=s,n.hash=a,n.exists=c,n.output=u;const l={number:r,bool:i,bytes:s,hash:a,exists:c,output:u};n.default=l}}},{package:"viem>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/_assert.js"}],[3037,{"./_assert.js":3036,"./utils.js":3044},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HashMD=n.Maj=n.Chi=void 0;const r=e("./_assert.js"),i=e("./utils.js");n.Chi=(e,t,n)=>e&t^~e&n;n.Maj=(e,t,n)=>e&t^e&n^t&n;class o extends i.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,r.exists)(this);const{view:t,buffer:n,blockLen:o}=this,s=(e=(0,i.toBytes)(e)).length;for(let r=0;r<s;){const a=Math.min(o-this.pos,s-r);if(a!==o)n.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=s-r;r+=o)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.exists)(this),(0,r.output)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}(n,o-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}n.HashMD=o}}},{package:"viem>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/_md.js"}],[3038,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.add5L=n.add5H=n.add4H=n.add4L=n.add3H=n.add3L=n.add=n.rotlBL=n.rotlBH=n.rotlSL=n.rotlSH=n.rotr32L=n.rotr32H=n.rotrBL=n.rotrBH=n.rotrSL=n.rotrSH=n.shrSL=n.shrSH=n.toBig=n.split=n.fromBig=void 0;const r=BigInt(2**32-1),i=BigInt(32);function o(e,t=!1){return t?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function s(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=o(e[i],t);[n[i],r[i]]=[s,a]}return[n,r]}n.fromBig=o,n.split=s;const a=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);n.toBig=a;const c=(e,t,n)=>e>>>n;n.shrSH=c;const u=(e,t,n)=>e<<32-n|t>>>n;n.shrSL=u;const l=(e,t,n)=>e>>>n|t<<32-n;n.rotrSH=l;const d=(e,t,n)=>e<<32-n|t>>>n;n.rotrSL=d;const f=(e,t,n)=>e<<64-n|t>>>n-32;n.rotrBH=f;const h=(e,t,n)=>e>>>n-32|t<<64-n;n.rotrBL=h;const p=(e,t)=>t;n.rotr32H=p;const m=(e,t)=>e;n.rotr32L=m;const g=(e,t,n)=>e<<n|t>>>32-n;n.rotlSH=g;const y=(e,t,n)=>t<<n|e>>>32-n;n.rotlSL=y;const w=(e,t,n)=>t<<n-32|e>>>64-n;n.rotlBH=w;const b=(e,t,n)=>e<<n-32|t>>>64-n;function v(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}n.rotlBL=b,n.add=v;const E=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);n.add3L=E;const A=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;n.add3H=A;const T=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);n.add4L=T;const x=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;n.add4H=x;const S=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);n.add5L=S;const k=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0;n.add5H=k;const I={fromBig:o,split:s,toBig:a,shrSH:c,shrSL:u,rotrSH:l,rotrSL:d,rotrBH:f,rotrBL:h,rotr32H:p,rotr32L:m,rotlSH:g,rotlSL:y,rotlBH:w,rotlBL:b,add:v,add3L:E,add3H:A,add4L:T,add4H:x,add5H:k,add5L:S};n.default=I}}},{package:"viem>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/_u64.js"}],[3039,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.crypto=void 0,n.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"viem>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/crypto.js"}],[3040,{"./_assert.js":3036,"./utils.js":3044},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hmac=n.HMAC=void 0;const r=e("./_assert.js"),i=e("./utils.js");class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.hash)(e);const n=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,r.exists)(this),this.iHash.update(e),this}digestInto(e){(0,r.exists)(this),(0,r.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}n.HMAC=o;n.hmac=(e,t,n)=>new o(e,t).update(n).digest(),n.hmac.create=(e,t)=>new o(e,t)}}},{package:"viem>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/hmac.js"}]],[],{});