LavaPack.loadBundle([[1349,{"./helpers":1350},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("./helpers"),i=n.ValidatorResult,o=n.SchemaError,s={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},a=s.validators={};function c(e,t,r,n,i){var o=t.throwError;t.throwError=!1;var s=this.validateSchema(e,i,t,r);return t.throwError=o,!s.valid&&n instanceof Function&&n(s),s.valid}function u(e,t,r,n,i,o){if(this.types.object(e)&&(!t.properties||t.properties[i]===undefined))if(!1===t.additionalProperties)o.addError({name:"additionalProperties",argument:i,message:"additionalProperty "+JSON.stringify(i)+" exists in instance when not allowed"});else{var s=t.additionalProperties||{};"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,i,s,r,n);var a=this.validateSchema(e[i],s,r,n.makeChild(s,i));a.instance!==o.instance[i]&&(o.instance[i]=a.instance),o.importErrors(a)}}a.type=function(e,t,r,n){if(e===undefined)return null;var o=new i(e,t,r,n),s=Array.isArray(t.type)?t.type:[t.type];if(!s.some(this.testType.bind(this,e,t,r,n))){var a=s.map((function(e){return e.id&&"<"+e.id+">"||e+""}));o.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return o},a.anyOf=function(e,t,r,n){if(e===undefined)return null;var s=new i(e,t,r,n),a=new i(e,t,r,n);if(!Array.isArray(t.anyOf))throw new o("anyOf must be an array");if(!t.anyOf.some(c.bind(this,e,r,n,(function(e){a.importErrors(e)})))){var u=t.anyOf.map((function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));r.nestedErrors&&s.importErrors(a),s.addError({name:"anyOf",argument:u,message:"is not any of "+u.join(",")})}return s},a.allOf=function(e,t,r,n){if(e===undefined)return null;if(!Array.isArray(t.allOf))throw new o("allOf must be an array");var s=new i(e,t,r,n),a=this;return t.allOf.forEach((function(t,i){var o=a.validateSchema(e,t,r,n);if(!o.valid){var c=t.id&&"<"+t.id+">"||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+i+"]";s.addError({name:"allOf",argument:{id:c,length:o.errors.length,valid:o},message:"does not match allOf schema "+c+" with "+o.errors.length+" error[s]:"}),s.importErrors(o)}})),s},a.oneOf=function(e,t,r,n){if(e===undefined)return null;if(!Array.isArray(t.oneOf))throw new o("oneOf must be an array");var s=new i(e,t,r,n),a=new i(e,t,r,n),u=t.oneOf.filter(c.bind(this,e,r,n,(function(e){a.importErrors(e)}))).length,l=t.oneOf.map((function(e,t){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==u&&(r.nestedErrors&&s.importErrors(a),s.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),s},a.properties=function(e,t,r,n){if(this.types.object(e)){var o=new i(e,t,r,n),s=t.properties||{};for(var a in s){"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,a,s[a],r,n);var c=Object.hasOwnProperty.call(e,a)?e[a]:undefined,u=this.validateSchema(c,s[a],r,n.makeChild(s[a],a));u.instance!==o.instance[a]&&(o.instance[a]=u.instance),o.importErrors(u)}return o}},a.patternProperties=function(e,t,r,n){if(this.types.object(e)){var o=new i(e,t,r,n),s=t.patternProperties||{};for(var a in e){var c=!0;for(var l in s){if(new RegExp(l).test(a)){c=!1,"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,a,s[l],r,n);var d=this.validateSchema(e[a],s[l],r,n.makeChild(s[l],a));d.instance!==o.instance[a]&&(o.instance[a]=d.instance),o.importErrors(d)}}c&&u.call(this,e,t,r,n,a,o)}return o}},a.additionalProperties=function(e,t,r,n){if(this.types.object(e)){if(t.patternProperties)return null;var o=new i(e,t,r,n);for(var s in e)u.call(this,e,t,r,n,s,o);return o}},a.minProperties=function(e,t,r,n){if(this.types.object(e)){var o=new i(e,t,r,n);return Object.keys(e).length>=t.minProperties||o.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),o}},a.maxProperties=function(e,t,r,n){if(this.types.object(e)){var o=new i(e,t,r,n);return Object.keys(e).length<=t.maxProperties||o.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),o}},a.items=function(e,t,r,n){var o=this;if(this.types.array(e)&&t.items){var s=new i(e,t,r,n);return e.every((function(e,i){var a=Array.isArray(t.items)?t.items[i]||t.additionalItems:t.items;if(a===undefined)return!0;if(!1===a)return s.addError({name:"items",message:"additionalItems not permitted"}),!1;var c=o.validateSchema(e,a,r,n.makeChild(a,i));return c.instance!==s.instance[i]&&(s.instance[i]=c.instance),s.importErrors(c),!0})),s}},a.minimum=function(e,t,r,n){if(this.types.number(e)){var o=new i(e,t,r,n);return(t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum:e>=t.minimum)||o.addError({name:"minimum",argument:t.minimum,message:"must have a minimum value of "+t.minimum}),o}},a.maximum=function(e,t,r,n){if(this.types.number(e)){var o=new i(e,t,r,n);return(t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum:e<=t.maximum)||o.addError({name:"maximum",argument:t.maximum,message:"must have a maximum value of "+t.maximum}),o}};var l=function(e,t,r,s,a,c){if(this.types.number(e)){var u=t[a];if(0==u)throw new o(a+" cannot be zero");var l=new i(e,t,r,s),d=n.getDecimalPlaces(e),h=n.getDecimalPlaces(u),f=Math.max(d,h),p=Math.pow(10,f);return Math.round(e*p)%Math.round(u*p)!=0&&l.addError({name:a,argument:u,message:c+JSON.stringify(u)}),l}};function d(e,t,r){var i,o=r.length;for(i=t+1;i<o;i++)if(n.deepCompareStrict(e,r[i]))return!1;return!0}a.multipleOf=function(e,t,r,n){return l.call(this,e,t,r,n,"multipleOf","is not a multiple of (divisible by) ")},a.divisibleBy=function(e,t,r,n){return l.call(this,e,t,r,n,"divisibleBy","is not divisible by (multiple of) ")},a.required=function(e,t,r,n){var o=new i(e,t,r,n);return e===undefined&&!0===t.required?o.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){e[t]===undefined&&o.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),o},a.pattern=function(e,t,r,n){if(this.types.string(e)){var o=new i(e,t,r,n);return e.match(t.pattern)||o.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern)}),o}},a.format=function(e,t,r,o){if(e!==undefined){var s=new i(e,t,r,o);return s.disableFormat||n.isFormat(e,t.format,this)||s.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),s}},a.minLength=function(e,t,r,n){if(this.types.string(e)){var o=new i(e,t,r,n),s=e.match(/[\uDC00-\uDFFF]/g);return e.length-(s?s.length:0)>=t.minLength||o.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),o}},a.maxLength=function(e,t,r,n){if(this.types.string(e)){var o=new i(e,t,r,n),s=e.match(/[\uDC00-\uDFFF]/g);return e.length-(s?s.length:0)<=t.maxLength||o.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),o}},a.minItems=function(e,t,r,n){if(this.types.array(e)){var o=new i(e,t,r,n);return e.length>=t.minItems||o.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),o}},a.maxItems=function(e,t,r,n){if(this.types.array(e)){var o=new i(e,t,r,n);return e.length<=t.maxItems||o.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),o}},a.uniqueItems=function(e,t,r,o){if(this.types.array(e)){var s=new i(e,t,r,o);return e.every((function(e,t,r){for(var i=t+1;i<r.length;i++)if(n.deepCompareStrict(e,r[i]))return!1;return!0}))||s.addError({name:"uniqueItems",message:"contains duplicate item"}),s}},a.uniqueItems=function(e,t,r,n){if(this.types.array(e)){var o=new i(e,t,r,n);return e.every(d)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}},a.dependencies=function(e,t,r,n){if(this.types.object(e)){var o=new i(e,t,r,n);for(var s in t.dependencies)if(e[s]!==undefined){var a=t.dependencies[s],c=n.makeChild(a,s);if("string"==typeof a&&(a=[a]),Array.isArray(a))a.forEach((function(t){e[t]===undefined&&o.addError({name:"dependencies",argument:c.propertyPath,message:"property "+t+" not found, required by "+c.propertyPath})}));else{var u=this.validateSchema(e,a,r,c);o.instance!==u.instance&&(o.instance=u.instance),u&&u.errors.length&&(o.addError({name:"dependencies",argument:c.propertyPath,message:"does not meet dependency required by "+c.propertyPath}),o.importErrors(u))}}return o}},a.enum=function(e,t,r,s){if(e===undefined)return null;if(!Array.isArray(t.enum))throw new o("enum expects an array",t);var a=new i(e,t,r,s);return t.enum.some(n.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),a},a.const=function(e,t,r,o){if(e===undefined)return null;var s=new i(e,t,r,o);return n.deepCompareStrict(t.const,e)||s.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),s},a.not=a.disallow=function(e,t,r,n){var o=this;if(e===undefined)return null;var s=new i(e,t,r,n),a=t.not||t.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach((function(i){if(o.testType(e,t,r,n,i)){var a=i&&i.id&&"<"+i.id+">"||i;s.addError({name:"not",argument:a,message:"is of prohibited type "+a})}})),s):null},t.exports=s}}},{package:"@metamask/message-manager>jsonschema",file:"node_modules/@metamask/message-manager/node_modules/jsonschema/lib/attribute.js"}],[135,{"../../../shared/constants/transaction":4366,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/transaction");var o={version:53,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=53;const r=t.data;return t.data=function(e){var t,r;const n=null==e||null===(t=e.TransactionController)||void 0===t?void 0:t.transactions,o=null==e||null===(r=e.IncomingTransactionsController)||void 0===r?void 0:r.incomingTransactions;Array.isArray(n)&&n.forEach((e=>{e&&(e.type!==i.TransactionType.retry&&e.type!==i.TransactionType.cancel&&(e.type=e.transactionCategory),delete e.transactionCategory)}));if(o){Object.entries(o).forEach((([t,r])=>{r&&(delete r.transactionCategory,e.IncomingTransactionsController.incomingTransactions[t]={...r,type:i.TransactionType.incoming})}))}return e}(r),t}};r.default=o}}},{package:"$root$",file:"app/scripts/migrations/053.js"}],[1350,{url:4272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("url"),i=r.ValidationError=function(e,t,r,n,i,o){n&&(this.property=n),e&&(this.message=e),r&&(r.id?this.schema=r.id:this.schema=r),t&&(this.instance=t),this.name=i,this.argument=o,this.stack=this.toString()};i.prototype.toString=function(){return this.property+" "+this.message};var o=r.ValidatorResult=function(e,t,r,n){this.instance=e,this.schema=t,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.disableFormat=r&&!0===r.disableFormat};function s(e,t){return t+": "+e.toString()+"\n"}o.prototype.addError=function(e){var t;if("string"==typeof e)t=new i(e,this.instance,this.schema,this.propertyPath);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new i(e.message,this.instance,this.schema,this.propertyPath,e.name,e.argument)}if(this.throwError)throw t;return this.errors.push(t),t},o.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},o.prototype.toString=function(e){return this.errors.map(s).join("")},Object.defineProperty(o.prototype,"valid",{get:function(){return!this.errors.length}});var a=r.SchemaError=function e(t,r){this.message=t,this.schema=r,Error.call(this,t),Error.captureStackTrace(this,e)};a.prototype=Object.create(Error.prototype,{constructor:{value:a,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var c=r.SchemaContext=function(e,t,r,n,i){this.schema=e,this.options=t,this.propertyPath=r,this.base=n,this.schemas=i};c.prototype.resolve=function(e){return n.resolve(this.base,e)},c.prototype.makeChild=function(e,t){var r=t===undefined?this.propertyPath:this.propertyPath+l(t),i=n.resolve(this.base,e.id||""),o=new c(e,this.options,r,i,Object.create(this.schemas));return e.id&&!o.schemas[i]&&(o.schemas[i]=e),o};var u=r.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/g,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],r.isFormat=function(e,t,r){if("string"==typeof e&&u[t]!==undefined){if(u[t]instanceof RegExp)return u[t].test(e);if("function"==typeof u[t])return u[t](e)}else if(r&&r.customFormats&&"function"==typeof r.customFormats[t])return r.customFormats[t](e);return!0};var l=r.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function d(e,t,r,n){"object"==typeof r?t[n]=p(e[n],r):-1===e.indexOf(r)&&t.push(r)}function h(e,t,r){t[r]=e[r]}function f(e,t,r,n){"object"==typeof t[n]&&t[n]&&e[n]?r[n]=p(e[n],t[n]):r[n]=t[n]}function p(e,t){var r=Array.isArray(t),n=r&&[]||{};return r?(e=e||[],n=n.concat(e),t.forEach(d.bind(null,e,n))):(e&&"object"==typeof e&&Object.keys(e).forEach(h.bind(null,e,n)),Object.keys(t).forEach(f.bind(null,e,t,n))),n}function m(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}r.deepCompareStrict=function e(t,r){if(typeof t!=typeof r)return!1;if(t instanceof Array)return r instanceof Array&&(t.length===r.length&&t.every((function(n,i){return e(t[i],r[i])})));if("object"==typeof t){if(!t||!r)return t===r;var n=Object.keys(t),i=Object.keys(r);return n.length===i.length&&n.every((function(n){return e(t[n],r[n])}))}return t===r},t.exports.deepMerge=p,r.objectGetPath=function(e,t){for(var r,n=t.split("/").slice(1);"string"==typeof(r=n.shift());){var i=decodeURIComponent(r.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in e))return;e=e[i]}return e},r.encodePath=function(e){return e.map(m).join("")},r.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var r=e.toString().split("e");if(2===r.length){if("-"!==r[1][0])return t;t=Number(r[1].slice(1))}var n=r[0].split(".");return 2===n.length&&(t+=n[1].length),t}}}},{package:"@metamask/message-manager>jsonschema",file:"node_modules/@metamask/message-manager/node_modules/jsonschema/lib/helpers.js"}],[1351,{"./helpers":1350,"./scan":1352,"./validator":1353},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=t.exports.Validator=e("./validator");t.exports.ValidatorResult=e("./helpers").ValidatorResult,t.exports.ValidationError=e("./helpers").ValidationError,t.exports.SchemaError=e("./helpers").SchemaError,t.exports.SchemaScanResult=e("./scan").SchemaScanResult,t.exports.scan=e("./scan").scan,t.exports.validate=function(e,t,r){return(new n).validate(e,t,r)}}}},{package:"@metamask/message-manager>jsonschema",file:"node_modules/@metamask/message-manager/node_modules/jsonschema/lib/index.js"}],[1352,{"./helpers":1350,url:4272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("url"),i=e("./helpers");function o(e,t){this.id=e,this.ref=t}t.exports.SchemaScanResult=o,t.exports.scan=function(e,t){function r(e,t){if(t&&"object"==typeof t)if(t.$ref){var o=n.resolve(e,t.$ref);u[o]=u[o]?u[o]+1:0}else{var l=t.id?n.resolve(e,t.id):e;if(l){if(l.indexOf("#")<0&&(l+="#"),c[l]){if(!i.deepCompareStrict(c[l],t))throw new Error("Schema <"+t+"> already exists with different definition");return c[l]}c[l]=t,"#"==l[l.length-1]&&(c[l.substring(0,l.length-1)]=t)}s(l+"/items",t.items instanceof Array?t.items:[t.items]),s(l+"/extends",t.extends instanceof Array?t.extends:[t.extends]),r(l+"/additionalItems",t.additionalItems),a(l+"/properties",t.properties),r(l+"/additionalProperties",t.additionalProperties),a(l+"/definitions",t.definitions),a(l+"/patternProperties",t.patternProperties),a(l+"/dependencies",t.dependencies),s(l+"/disallow",t.disallow),s(l+"/allOf",t.allOf),s(l+"/anyOf",t.anyOf),s(l+"/oneOf",t.oneOf),r(l+"/not",t.not)}}function s(e,t){if(t instanceof Array)for(var n=0;n<t.length;n++)r(e+"/"+n,t[n])}function a(e,t){if(t&&"object"==typeof t)for(var n in t)r(e+"/"+n,t[n])}var c={},u={};return r(e,t),new o(c,u)}}}},{package:"@metamask/message-manager>jsonschema",file:"node_modules/@metamask/message-manager/node_modules/jsonschema/lib/scan.js"}],[1353,{"./attribute":1349,"./helpers":1350,"./scan":1352,url:4272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("url"),i=e("./attribute"),o=e("./helpers"),s=e("./scan").scan,a=o.ValidatorResult,c=o.SchemaError,u=o.SchemaContext,l=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(h),this.attributes=Object.create(i.validators)};function d(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}l.prototype.customFormats={},l.prototype.schemas=null,l.prototype.types=null,l.prototype.attributes=null,l.prototype.unresolvedRefs=null,l.prototype.addSchema=function(e,t){var r=this;if(!e)return null;var n=s(t||"/",e),i=t||e.id;for(var o in n.id)this.schemas[o]=n.id[o];for(var o in n.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===r.schemas[e]})),this.schemas[i]},l.prototype.addSubSchemaArray=function(e,t){if(t instanceof Array)for(var r=0;r<t.length;r++)this.addSubSchema(e,t[r])},l.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var r in t)this.addSubSchema(e,t[r])},l.prototype.setSchemas=function(e){this.schemas=e},l.prototype.getSchema=function(e){return this.schemas[e]},l.prototype.validate=function(e,t,r,i){r||(r={});var o=r.propertyName||"instance",a=n.resolve(r.base||"/",t.id||"");if(!i){(i=new u(t,r,o,a,Object.create(this.schemas))).schemas[a]||(i.schemas[a]=t);var l=s(a,t);for(var d in l.id){var h=l.id[d];i.schemas[d]=h}}if(t){var f=this.validateSchema(e,t,r,i);if(!f)throw new Error("Result undefined");return f}throw new c("no schema specified",t)},l.prototype.validateSchema=function(e,t,r,n){var s,l=new a(e,t,r,n);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(t.extends instanceof Array){var h={schema:t,ctx:n};t.extends.forEach(this.schemaTraverser.bind(this,h)),t=h.schema,h.schema=null,h.ctx=null,h=null}else t=o.deepMerge(t,this.superResolve(t.extends,n));if(s=d(t)){var f=this.resolve(t,s,n),p=new u(f.subschema,r,n.propertyPath,f.switchSchema,n.schemas);return this.validateSchema(e,f.subschema,r,p)}var m=r&&r.skipAttributes||[];for(var g in t)if(!i.ignoreProperties[g]&&m.indexOf(g)<0){var y=null,b=this.attributes[g];if(b)y=b.call(this,e,t,r,n);else if(!1===r.allowUnknownAttributes)throw new c("Unsupported attribute: "+g,t);y&&l.importErrors(y)}if("function"==typeof r.rewrite){var w=r.rewrite.call(this,e,t,r,n);l.instance=w}return l},l.prototype.schemaTraverser=function(e,t){e.schema=o.deepMerge(e.schema,this.superResolve(t,e.ctx))},l.prototype.superResolve=function(e,t){var r;return(r=d(e))?this.resolve(e,r,t).subschema:e},l.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var i=n.parse(t),s=i&&i.hash,a=s&&s.length&&t.substr(0,t.length-s.length);if(!a||!r.schemas[a])throw new c("no such schema <"+t+">",e);var u=o.objectGetPath(r.schemas[a],s.substr(1));if(u===undefined)throw new c("no such schema "+s+" located in <"+a+">",e);return{subschema:u,switchSchema:t}},l.prototype.testType=function(e,t,r,n,i){if("function"==typeof this.types[i])return this.types[i].call(this,e);if(i&&"object"==typeof i){var o=this.validateSchema(e,i,r,n);return o===undefined||!(o&&o.errors.length)}return!0};var h=l.prototype.types={};h.string=function(e){return"string"==typeof e},h.number=function(e){return"number"==typeof e&&isFinite(e)},h.integer=function(e){return"number"==typeof e&&e%1==0},h.boolean=function(e){return"boolean"==typeof e},h.array=function(e){return Array.isArray(e)},h.null=function(e){return null===e},h.date=function(e){return e instanceof Date},h.any=function(e){return!0},h.object=function(e){return e&&"object"==typeof e&&!(e instanceof Array)&&!(e instanceof Date)},t.exports=l}}},{package:"@metamask/message-manager>jsonschema",file:"node_modules/@metamask/message-manager/node_modules/jsonschema/lib/validator.js"}],[1358,{"./constants":1359,"./create-auto-managed-network-client":1360,"./logger":1363,"./types":1364,"@metamask/base-controller":1071,"@metamask/controller-utils":1076,"@metamask/eth-query":1203,"@metamask/swappable-obj-proxy":1705,"@metamask/utils":1373,assert:2537,"eth-rpc-errors":2857,uuid:4293},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,o,s,a,c,u,l,d,h,f,p,m,g,y,b,w,v,_,T=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},k=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},S=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},E=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.NetworkController=r.defaultState=r.knownKeysOf=void 0;const N=e("@metamask/base-controller"),O=e("@metamask/controller-utils"),C=E(e("@metamask/eth-query")),I=e("@metamask/swappable-obj-proxy"),P=e("@metamask/utils"),A=e("assert"),j=e("eth-rpc-errors"),R=e("uuid"),M=e("./constants"),x=e("./create-auto-managed-network-client"),z=e("./logger"),B=e("./types"),L=(0,z.createModuleLogger)(z.projectLogger,"NetworkController");function D(e){return Object.keys(e)}function U(e,t){const r=t.reduce(((t,r)=>Object.assign(Object.assign({},t),{[r]:e[r]})),{});var n,i,o;return n=r,i=()=>t.every((e=>e in r)),o="The reduce did not produce an object with all of the desired keys.",A.strict.ok(i(n),o),r}function F(e){return Object.keys(O.InfuraNetworkType).includes(e)}function V(e){return"string"==typeof e?e:e.type}function $(...e){if(1===e.length)return e[0];const[{id:t,rpcUrl:r},n]=e;if(t===undefined){const e=Object.values(n).find((e=>e.rpcUrl===r.toLowerCase()));return e?e.id:r.toLowerCase()}return t}function H(e){return F(e.type)}function G(e){return e.type===O.NetworkType.rpc}function q(e){if(e.chainId===undefined)throw new Error("chainId must be provided for custom RPC endpoints");if(e.rpcUrl===undefined)throw new Error("rpcUrl must be provided for custom RPC endpoints")}r.knownKeysOf=D;r.defaultState={selectedNetworkClientId:O.NetworkType.mainnet,networkId:null,providerConfig:{type:O.NetworkType.mainnet,chainId:O.ChainId.mainnet,ticker:O.NetworksTicker.mainnet},networksMetadata:{},networkConfigurations:{}};class W extends N.BaseControllerV2{constructor({messenger:e,state:t,infuraProjectId:h,trackMetaMetricsEvent:f}){if(super({name:"NetworkController",metadata:{selectedNetworkClientId:{persist:!0,anonymous:!1},networkId:{persist:!0,anonymous:!1},networksMetadata:{persist:!0,anonymous:!1},providerConfig:{persist:!0,anonymous:!1},networkConfigurations:{persist:!0,anonymous:!1}},messenger:e,state:Object.assign(Object.assign({},r.defaultState),t)}),n.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),!h||"string"!=typeof h)throw new Error("Invalid Infura project ID");k(this,o,h,"f"),k(this,s,f,"f"),this.messagingSystem.registerActionHandler(`${this.name}:getProviderConfig`,(()=>this.state.providerConfig)),this.messagingSystem.registerActionHandler(`${this.name}:getEthQuery`,(()=>S(this,i,"f"))),k(this,a,this.state.providerConfig,"f")}getProviderAndBlockTracker(){return{provider:S(this,c,"f"),blockTracker:S(this,l,"f")}}getNetworkClientRegistry(){const e=S(this,n,"m",g).call(this);return Object.assign({},e[B.NetworkClientType.Infura],e[B.NetworkClientType.Custom])}getNetworkClientById(e){if(!e)throw new Error("No network client ID was provided.");const t=S(this,n,"m",g).call(this);if(F(e)){const r=t[B.NetworkClientType.Infura][e];if(!r)throw new Error(`No Infura network client was found with the ID "${e}".`);return r}const r=t[B.NetworkClientType.Custom][e];if(!r)throw new Error(`No custom network client was found with the ID "${e}".`);return r}initializeProvider(){return T(this,void 0,void 0,(function*(){S(this,n,"m",g).call(this),S(this,n,"m",_).call(this),yield this.lookupNetwork()}))}lookupNetwork(){return T(this,void 0,void 0,(function*(){if(!S(this,i,"f"))return;const e=H(this.state.providerConfig);let t=!1;const r=()=>{t=!0,this.messagingSystem.unsubscribe("NetworkController:networkDidChange",r)};let o;this.messagingSystem.subscribe("NetworkController:networkDidChange",r);let s,a=null;try{const[e,t]=yield Promise.all([S(this,n,"m",f).call(this),S(this,n,"m",m).call(this)]);o=M.NetworkStatus.Available,a=e,s=t}catch(t){if(function(e){return"object"==typeof e&&null!==e&&"code"in e}(t)){let r;if(e&&(0,P.hasProperty)(t,"message")&&"string"==typeof t.message)try{r=JSON.parse(t.message)}catch(e){}o=(0,P.isPlainObject)(r)&&r.error===M.INFURA_BLOCKED_KEY?M.NetworkStatus.Blocked:t.code===j.errorCodes.rpc.internal?M.NetworkStatus.Unknown:M.NetworkStatus.Unavailable}else L("NetworkController - could not determine network status",t),o=M.NetworkStatus.Unknown}t||(this.messagingSystem.unsubscribe("NetworkController:networkDidChange",r),this.update((e=>{e.networkId=a;const t=e.networksMetadata[e.selectedNetworkClientId];t.status=o,s===undefined?delete t.EIPS[1559]:t.EIPS[1559]=s})),e?o===M.NetworkStatus.Available?this.messagingSystem.publish("NetworkController:infuraIsUnblocked"):o===M.NetworkStatus.Blocked&&this.messagingSystem.publish("NetworkController:infuraIsBlocked"):this.messagingSystem.publish("NetworkController:infuraIsUnblocked"))}))}setProviderType(e){return T(this,void 0,void 0,(function*(){A.strict.notStrictEqual(e,O.NetworkType.rpc,`NetworkController - cannot call "setProviderType" with type "${O.NetworkType.rpc}". Use "setActiveNetwork"`),A.strict.ok(F(e),`Unknown Infura provider type "${e}".`),k(this,a,this.state.providerConfig,"f");const t=e in O.NetworksTicker&&O.NetworksTicker[e].length>0?O.NetworksTicker[e]:"ETH";S(this,n,"m",g).call(this),this.update((r=>{r.providerConfig.type=e,r.providerConfig.ticker=t,r.providerConfig.chainId=O.ChainId[e],r.providerConfig.rpcPrefs=O.BUILT_IN_NETWORKS[e].rpcPrefs,r.providerConfig.rpcUrl=undefined,r.providerConfig.nickname=undefined,r.providerConfig.id=undefined})),yield S(this,n,"m",h).call(this)}))}setActiveNetwork(e){return T(this,void 0,void 0,(function*(){k(this,a,this.state.providerConfig,"f");const t=this.state.networkConfigurations[e];if(!t)throw new Error(`networkConfigurationId ${e} does not match a configured networkConfiguration`);S(this,n,"m",g).call(this),this.update((e=>{e.providerConfig.type=O.NetworkType.rpc,e.providerConfig.rpcUrl=t.rpcUrl,e.providerConfig.chainId=t.chainId,e.providerConfig.ticker=t.ticker,e.providerConfig.nickname=t.nickname,e.providerConfig.rpcPrefs=t.rpcPrefs,e.providerConfig.id=t.id})),yield S(this,n,"m",h).call(this)}))}getEIP1559Compatibility(){return T(this,void 0,void 0,(function*(){if(!S(this,i,"f"))return!1;const{EIPS:e}=this.state.networksMetadata[this.state.selectedNetworkClientId];if(e[1559]!==undefined)return e[1559];const t=yield S(this,n,"m",m).call(this);return this.update((e=>{t!==undefined&&(e.networksMetadata[e.selectedNetworkClientId].EIPS[1559]=t)})),t}))}resetConnection(){return T(this,void 0,void 0,(function*(){S(this,n,"m",g).call(this),yield S(this,n,"m",h).call(this)}))}upsertNetworkConfiguration(e,{referrer:t,source:r,setActive:i=!1}){return T(this,void 0,void 0,(function*(){const o=U(e,["rpcUrl","chainId","ticker","nickname","rpcPrefs"]),{rpcUrl:a,chainId:c,ticker:u}=o;if((0,P.assertIsStrictHexString)(c),!(0,O.isSafeChainId)(c))throw new Error(`Invalid chain ID "${c}": numerical value greater than max safe value.`);if(!a)throw new Error("An rpcUrl is required to add or update network configuration");if(!t||!r)throw new Error("referrer and source are required arguments for adding or updating a network configuration");try{new URL(a)}catch(e){if(e.message.includes("Invalid URL"))throw new Error("rpcUrl must be a valid URL")}if(!u)throw new Error("A ticker is required to add or update networkConfiguration");const l=S(this,n,"m",g).call(this),d=Object.values(this.state.networkConfigurations).find((e=>e.rpcUrl.toLowerCase()===a.toLowerCase())),h=d?d.id:(0,R.v4)(),f=$(h);this.update((e=>{e.networkConfigurations[h]=Object.assign({id:h},o)}));const p=l[B.NetworkClientType.Custom],m=p[f],y=m&&m.configuration.chainId!==c;return y&&m.destroy(),m&&!y||(p[f]=(0,x.createAutoManagedNetworkClient)({type:B.NetworkClientType.Custom,chainId:c,rpcUrl:a})),d||S(this,s,"f").call(this,{event:"Custom Network Added",category:"Network",referrer:{url:t},properties:{chain_id:c,symbol:u,source:r}}),i&&(yield this.setActiveNetwork(h)),h}))}removeNetworkConfiguration(e){if(!this.state.networkConfigurations[e])throw new Error(`networkConfigurationId ${e} does not match a configured networkConfiguration`);const t=S(this,n,"m",g).call(this),r=$(e);this.update((t=>{delete t.networkConfigurations[e]}));const i=t[B.NetworkClientType.Custom];i[r].destroy(),delete i[r]}rollbackToPreviousProvider(){return T(this,void 0,void 0,(function*(){S(this,n,"m",g).call(this),this.update((e=>{e.providerConfig=S(this,a,"f")})),yield S(this,n,"m",h).call(this)}))}destroy(){var e;return T(this,void 0,void 0,(function*(){yield null===(e=S(this,l,"f"))||void 0===e?void 0:e.destroy()}))}loadBackup({networkConfigurations:e}){this.update((t=>{t.networkConfigurations=Object.assign(Object.assign({},t.networkConfigurations),e)}))}findNetworkClientIdByChainId(e){const t=this.getNetworkClientRegistry(),r=Object.entries(t).find((([t,r])=>r.configuration.chainId===e));if(r===undefined)throw new Error("Couldn't find networkClientId for chainId");return r[0]}}r.NetworkController=W,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,n=new WeakSet,h=function(){return T(this,void 0,void 0,(function*(){this.messagingSystem.publish("NetworkController:networkWillChange"),this.update((e=>{e.networkId=null})),S(this,n,"m",_).call(this),this.messagingSystem.publish("NetworkController:networkDidChange"),yield this.lookupNetwork()}))},f=function(){return T(this,void 0,void 0,(function*(){return function(e){if("number"==typeof e&&!Number.isNaN(e))return`${e}`;if((0,P.isStrictHexString)(e))return`${(0,O.convertHexToDecimal)(e)}`;if("string"==typeof e&&/^\d+$/u.test(e))return e;throw new Error(`Cannot parse as a valid network ID: '${e}'`)}(yield new Promise(((e,t)=>{if(!S(this,i,"f"))throw new Error("Provider has not been initialized");S(this,i,"f").sendAsync({method:"net_version"},((r,n)=>{r?t(r):e(n)}))})))}))},p=function(){return new Promise(((e,t)=>{if(!S(this,i,"f"))throw new Error("Provider has not been initialized");S(this,i,"f").sendAsync({method:"eth_getBlockByNumber",params:["latest",!1]},((r,n)=>{r?t(r):e(n)}))}))},m=function(){return T(this,void 0,void 0,(function*(){const e=yield S(this,n,"m",p).call(this);return e?e.baseFeePerGas!==undefined:undefined}))},g=function(){var e;const t=null!==(e=S(this,d,"f"))&&void 0!==e?e:S(this,n,"m",y).call(this);return k(this,d,t,"f"),t},y=function(){return[...S(this,n,"m",b).call(this),...S(this,n,"m",w).call(this),...S(this,n,"m",v).call(this)].reduce(((e,[t,r,n])=>{const i=(0,x.createAutoManagedNetworkClient)(n);return r in e[t]?e:Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),{[r]:i})})}),{[B.NetworkClientType.Infura]:{},[B.NetworkClientType.Custom]:{}})},b=function(){return D(O.InfuraNetworkType).map((e=>{const t=V(e),r={type:B.NetworkClientType.Infura,network:e,infuraProjectId:S(this,o,"f"),chainId:O.BUILT_IN_NETWORKS[e].chainId};return[B.NetworkClientType.Infura,t,r]}))},w=function(){return Object.entries(this.state.networkConfigurations).map((([e,t])=>{if(t.chainId===undefined)throw new Error("chainId must be provided for custom RPC endpoints");if(t.rpcUrl===undefined)throw new Error("rpcUrl must be provided for custom RPC endpoints");const r=$(e),n={type:B.NetworkClientType.Custom,chainId:t.chainId,rpcUrl:t.rpcUrl};return[B.NetworkClientType.Custom,r,n]}))},v=function(){const{providerConfig:e}=this.state;if(G(e)){q(e);const t=$(e,this.state.networkConfigurations),r={chainId:e.chainId,rpcUrl:e.rpcUrl,type:B.NetworkClientType.Custom};return[[B.NetworkClientType.Custom,t,r]]}if(H(e))return[];throw new Error(`Unrecognized network type: '${e.type}'`)},_=function(){if(!S(this,d,"f"))throw new Error("initializeProvider must be called first in order to switch the network");const{providerConfig:e}=this.state;let t,r;if(H(e)){const n=B.NetworkClientType.Infura;r=V(e);if(t=S(this,d,"f")[n][r],!t)throw new Error(`Could not find custom network matching ${r}`)}else{if(!G(e))throw new Error("Could not determine type of provider config");{q(e);const n=B.NetworkClientType.Custom;r=$(e,this.state.networkConfigurations);if(t=S(this,d,"f")[n][r],!t)throw new Error(`Could not find built-in network matching ${r}`)}}this.update((e=>{e.selectedNetworkClientId=r,e.networksMetadata[r]===undefined&&(e.networksMetadata[r]={status:M.NetworkStatus.Unknown,EIPS:{}})}));const{provider:n,blockTracker:o}=t;S(this,c,"f")?S(this,c,"f").setTarget(n):k(this,c,(0,I.createEventEmitterProxy)(n),"f"),k(this,u,n,"f"),S(this,l,"f")?S(this,l,"f").setTarget(o):k(this,l,(0,I.createEventEmitterProxy)(o,{eventFilter:"skipInternal"}),"f"),k(this,i,new C.default(S(this,c,"f")),"f")}}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/NetworkController.js"}],[1359,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.INFURA_BLOCKED_KEY=r.NetworkStatus=void 0,function(e){e.Unknown="unknown",e.Available="available",e.Unavailable="unavailable",e.Blocked="blocked"}(r.NetworkStatus||(r.NetworkStatus={})),r.INFURA_BLOCKED_KEY="countryBlocked"}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/constants.js"}],[136,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");function i(e){return"number"==typeof e||"string"==typeof e&&e.match(/^(0x)?\d+$/u)}var o={version:54,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=54;const r=function(e){const t=e;if(!t.PreferencesController)return t;const r=t.PreferencesController.tokens||[],n=r.filter((({decimals:e})=>i(e)));for(const e of n)"string"==typeof e.decimals&&(e.decimals=parseInt(e.decimals));t.PreferencesController.tokens=n;const{accountTokens:o}=t.PreferencesController;if(o&&"object"==typeof o)for(const e of Object.keys(o)){const t=o[e];if(t&&"object"==typeof t)for(const e of Object.keys(t)){const r=(t[e]||[]).filter((({decimals:e})=>i(e)));for(const e of r)"string"==typeof e.decimals&&(e.decimals=parseInt(e.decimals));t[e]=r}}return t.PreferencesController.accountTokens=o,t}(t.data);return t.data=r,t}};r.default=o}}},{package:"$root$",file:"app/scripts/migrations/054.js"}],[1360,{"./create-network-client":1361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAutoManagedNetworkClient=void 0;const n=e("./create-network-client"),i="__target__",o={__UNINITIALIZED__:!0};r.createAutoManagedNetworkClient=function(e){let t;const r=new Proxy(o,{get(r,o,s){if(o===i)return null==t?void 0:t.provider;if(null!=t||(t=(0,n.createNetworkClient)(e)),t===undefined)throw new Error("It looks like `createNetworkClient` didn't return anything. Perhaps it's being mocked?");const{provider:a}=t;if(o in a){const e=a[o];return"function"==typeof e?function(...t){return e.apply(this===s?a:this,t)}:e}return undefined},has(r,o){if(o===i)return!0;null!=t||(t=(0,n.createNetworkClient)(e));const{provider:s}=t;return o in s}}),s=new Proxy(o,{get(r,o,s){if(o===i)return null==t?void 0:t.blockTracker;if(null!=t||(t=(0,n.createNetworkClient)(e)),t===undefined)throw new Error("It looks like createNetworkClient returned undefined. Perhaps it's mocked?");const{blockTracker:a}=t;if(o in a){const e=a[o];return"function"==typeof e?function(...t){return e.apply(this===s?a:this,t)}:e}return undefined},has(r,o){if(o===i)return!0;null!=t||(t=(0,n.createNetworkClient)(e));const{blockTracker:s}=t;return o in s}});return{configuration:e,provider:r,blockTracker:s,destroy:()=>{null==t||t.destroy()}}}}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/create-auto-managed-network-client.js"}],[1361,{"./types":1364,"@metamask/controller-utils":1076,"@metamask/eth-json-rpc-infura":1122,"@metamask/eth-json-rpc-middleware":1147,"@metamask/eth-json-rpc-provider":1172,"eth-block-tracker":2804,"json-rpc-engine":3473},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){this&&this.__awaiter;Object.defineProperty(r,"__esModule",{value:!0}),r.createNetworkClient=void 0;const n=e("@metamask/controller-utils"),i=e("@metamask/eth-json-rpc-infura"),o=e("@metamask/eth-json-rpc-middleware"),s=e("@metamask/eth-json-rpc-provider"),a=e("eth-block-tracker"),c=e("json-rpc-engine"),u=e("./types");function l({network:e}){return(0,c.createScaffoldMiddleware)({eth_chainId:n.ChainId[e],net_version:n.NetworkId[e]})}r.createNetworkClient=function(e){const t=e.type===u.NetworkClientType.Infura?(0,i.createInfuraMiddleware)({network:e.network,projectId:e.infuraProjectId,maxAttempts:5,source:"metamask"}):(0,o.createFetchMiddleware)({btoa:global.btoa,fetch:global.fetch,rpcUrl:e.rpcUrl}),r=(0,s.providerFromMiddleware)(t),n={},h=new a.PollingBlockTracker(Object.assign(Object.assign({},n),{provider:r})),f=e.type===u.NetworkClientType.Infura?function({blockTracker:e,network:t,rpcProvider:r,rpcApiMiddleware:n}){return(0,c.mergeMiddleware)([l({network:t}),(0,o.createBlockCacheMiddleware)({blockTracker:e}),(0,o.createInflightCacheMiddleware)(),(0,o.createBlockRefMiddleware)({blockTracker:e,provider:r}),(0,o.createRetryOnEmptyMiddleware)({blockTracker:e,provider:r}),(0,o.createBlockTrackerInspectorMiddleware)({blockTracker:e}),n])}({blockTracker:h,network:e.network,rpcProvider:r,rpcApiMiddleware:t}):function({blockTracker:e,chainId:t,rpcApiMiddleware:r}){const n=[];return(0,c.mergeMiddleware)([...n,d(t),(0,o.createBlockRefRewriteMiddleware)({blockTracker:e}),(0,o.createBlockCacheMiddleware)({blockTracker:e}),(0,o.createInflightCacheMiddleware)(),(0,o.createBlockTrackerInspectorMiddleware)({blockTracker:e}),r])}({blockTracker:h,chainId:e.chainId,rpcApiMiddleware:t}),p=new c.JsonRpcEngine;return p.push(f),{configuration:e,provider:(0,s.providerFromEngine)(p),blockTracker:h,destroy:()=>{h.destroy()}}};const d=e=>(t,r,n,i)=>"eth_chainId"===t.method?(r.result=e,i()):n()}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/create-network-client.js"}],[1362,{"./NetworkController":1358,"./constants":1359,"./types":1364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.NetworkClientType=void 0,i(e("./NetworkController"),r),i(e("./constants"),r);var o=e("./types");Object.defineProperty(r,"NetworkClientType",{enumerable:!0,get:function(){return o.NetworkClientType}})}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/index.js"}],[1363,{"@metamask/utils":1373},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("network-controller")}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/logger.js"}],[1364,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NetworkClientType=void 0,function(e){e.Custom="custom",e.Infura="infura"}(r.NetworkClientType||(r.NetworkClientType={}))}}},{package:"@metamask/network-controller",file:"node_modules/@metamask/network-controller/dist/types.js"}],[1365,{superstruct:4220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assertExhaustive=r.assertStruct=r.assert=r.AssertionError=void 0;const n=e("superstruct");function i(e,t){return r=e,Boolean("string"==typeof r?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var r}class o extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}r.AssertionError=o,r.assert=function(e,t="Assertion failed.",r=o){if(!e){if(t instanceof Error)throw t;throw i(r,t)}},r.assertStruct=function(e,t,r="Assertion failed",s=o){try{(0,n.assert)(e,t)}catch(e){throw i(s,`${r}: ${function(e){const t=function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}(e)}.`)}},r.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/assert.js"}],[1366,{"./assert":1365,superstruct:4220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.base64=void 0;const n=e("superstruct"),i=e("./assert");r.base64=(e,t={})=>{const r=t.paddingRequired??!1,o=t.characterSet??"base64";let s,a;return"base64"===o?s=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===o),s=String.raw`[-_A-Za-z0-9]`),a=r?new RegExp(`^(?:${s}{4})*(?:${s}{3}=|${s}{2}==)?$`,"u"):new RegExp(`^(?:${s}{4})*(?:${s}{2,3}|${s}{3}=|${s}{2}==)?$`,"u"),(0,n.pattern)(e,a)}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/base64.js"}],[1367,{"./assert":1365,"./hex":1372,buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.createDataView=r.concatBytes=r.valueToBytes=r.stringToBytes=r.numberToBytes=r.signedBigIntToBytes=r.bigIntToBytes=r.hexToBytes=r.bytesToString=r.bytesToNumber=r.bytesToSignedBigInt=r.bytesToBigInt=r.bytesToHex=r.assertIsBytes=r.isBytes=void 0;const n=e("./assert"),i=e("./hex"),o=48,s=58,a=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function u(e){return e instanceof Uint8Array}function l(e){(0,n.assert)(u(e),"Value must be a Uint8Array.")}function d(e){if(l(e),0===e.length)return"0x";const t=c(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,i.add0x)(r.join(""))}function h(e){l(e);const t=d(e);return BigInt(t)}function f(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,i.assertIsHexString)(e);const t=(0,i.remove0x)(e).toLowerCase(),r=t.length%2==0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=r.charCodeAt(2*e),i=r.charCodeAt(2*e+1),c=t-(t<s?o:a),u=i-(i<s?o:a);n[e]=16*c+u}return n}function p(e){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return f(e.toString(16))}function m(e){(0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return f(e.toString(16))}function g(e){return(0,n.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function y(e){if("bigint"==typeof e)return p(e);if("number"==typeof e)return m(e);if("string"==typeof e)return e.startsWith("0x")?f(e):g(e);if(u(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}r.isBytes=u,r.assertIsBytes=l,r.bytesToHex=d,r.bytesToBigInt=h,r.bytesToSignedBigInt=function(e){l(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},r.bytesToNumber=function(e){l(e);const t=h(e);return(0,n.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},r.bytesToString=function(e){return l(e),(new TextDecoder).decode(e)},r.hexToBytes=f,r.bigIntToBytes=p,r.signedBigIntToBytes=function(e,t){(0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)("number"==typeof t,"Byte length must be a number."),(0,n.assert)(t>0,"Byte length must be greater than 0."),(0,n.assert)(function(e,t){(0,n.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const i=new Uint8Array(t);for(let e=0;e<i.length;e++)i[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return i.reverse()},r.numberToBytes=m,r.stringToBytes=g,r.valueToBytes=y,r.concatBytes=function(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const i=y(e[n]);t[n]=i,r+=i.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},r.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/bytes.js"}],[1368,{"./base64":1366,superstruct:4220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChecksumStruct=void 0;const n=e("superstruct"),i=e("./base64");r.ChecksumStruct=(0,n.size)((0,i.base64)((0,n.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/checksum.js"}],[1369,{"./assert":1365,"./bytes":1367,"./hex":1372,superstruct:4220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHex=r.createBytes=r.createBigInt=r.createNumber=void 0;const n=e("superstruct"),i=e("./assert"),o=e("./bytes"),s=e("./hex"),a=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),s.StrictHexStruct]),c=(0,n.coerce)((0,n.number)(),a,Number),u=(0,n.coerce)((0,n.bigint)(),a,BigInt),l=((0,n.union)([s.StrictHexStruct,(0,n.instance)(Uint8Array)]),(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([s.StrictHexStruct]),o.hexToBytes)),d=(0,n.coerce)(s.StrictHexStruct,(0,n.instance)(Uint8Array),o.bytesToHex);r.createNumber=function(e){try{const t=(0,n.create)(e,c);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},r.createBigInt=function(e){try{return(0,n.create)(e,u)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},r.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},r.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,d)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/coercers.js"}],[137,{"../../../shared/constants/network":4354,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/network");var o={version:55,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=55;const r=t.data;return t.data=function(e){var t;null!=e&&null!==(t=e.IncomingTransactionsController)&&void 0!==t&&t.incomingTxLastFetchedBlocksByNetwork&&(e.IncomingTransactionsController.incomingTxLastFetchedBlockByChainId=(0,n.mapKeys)(e.IncomingTransactionsController.incomingTxLastFetchedBlocksByNetwork,((e,t)=>{var r;return(null===(r=i.BUILT_IN_NETWORKS[t])||void 0===r?void 0:r.chainId)??s})),delete e.IncomingTransactionsController.incomingTxLastFetchedBlockByChainId[s],delete e.IncomingTransactionsController.incomingTxLastFetchedBlocksByNetwork);return e}(r),t}};r.default=o;const s="UNKNOWN";i.BUILT_IN_NETWORKS.rinkeby={networkId:"4",chainId:"0x4",ticker:"ETH"},i.BUILT_IN_NETWORKS.ropsten={networkId:"3",chainId:"0x3",ticker:"ETH"},i.BUILT_IN_NETWORKS.kovan={networkId:"42",chainId:"0x2a",ticker:"ETH"}}}},{package:"$root$",file:"app/scripts/migrations/055.js"}],[1370,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,o=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.FrozenSet=r.FrozenMap=void 0;class a{constructor(e){n.set(this,void 0),o(this,n,new Map(e),"f"),Object.freeze(this)}get size(){return s(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return s(this,n,"f")[Symbol.iterator]()}entries(){return s(this,n,"f").entries()}forEach(e,t){return s(this,n,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}get(e){return s(this,n,"f").get(e)}has(e){return s(this,n,"f").has(e)}keys(){return s(this,n,"f").keys()}values(){return s(this,n,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}r.FrozenMap=a;class c{constructor(e){i.set(this,void 0),o(this,i,new Set(e),"f"),Object.freeze(this)}get size(){return s(this,i,"f").size}[(i=new WeakMap,Symbol.iterator)](){return s(this,i,"f")[Symbol.iterator]()}entries(){return s(this,i,"f").entries()}forEach(e,t){return s(this,i,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}has(e){return s(this,i,"f").has(e)}keys(){return s(this,i,"f").keys()}values(){return s(this,i,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}r.FrozenSet=c,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(c),Object.freeze(c.prototype)}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/collections.js"}],[1371,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/encryption-types.js"}],[1372,{"./assert":1365,"./bytes":1367,"@noble/hashes/sha3":1760,superstruct:4220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.remove0x=r.add0x=r.isValidChecksumAddress=r.getChecksumAddress=r.isValidHexAddress=r.assertIsStrictHexString=r.assertIsHexString=r.isStrictHexString=r.isHexString=r.HexChecksumAddressStruct=r.HexAddressStruct=r.StrictHexStruct=r.HexStruct=void 0;const n=e("@noble/hashes/sha3"),i=e("superstruct"),o=e("./assert"),s=e("./bytes");function a(e){return(0,i.is)(e,r.HexStruct)}function c(e){return(0,i.is)(e,r.StrictHexStruct)}function u(e){(0,o.assert)((0,i.is)(e,r.HexChecksumAddressStruct),"Invalid hex address.");const t=d(e.toLowerCase()),a=d((0,s.bytesToHex)((0,n.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const r=a[t];return(0,o.assert)((0,i.is)(r,(0,i.string)()),"Hash shorter than address."),parseInt(r,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,i.is)(e,r.HexChecksumAddressStruct)&&u(e)===e}function d(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}r.HexStruct=(0,i.pattern)((0,i.string)(),/^(?:0x)?[0-9a-f]+$/iu),r.StrictHexStruct=(0,i.pattern)((0,i.string)(),/^0x[0-9a-f]+$/iu),r.HexAddressStruct=(0,i.pattern)((0,i.string)(),/^0x[0-9a-f]{40}$/u),r.HexChecksumAddressStruct=(0,i.pattern)((0,i.string)(),/^0x[0-9a-fA-F]{40}$/u),r.isHexString=a,r.isStrictHexString=c,r.assertIsHexString=function(e){(0,o.assert)(a(e),"Value must be a hexadecimal string.")},r.assertIsStrictHexString=function(e){(0,o.assert)(c(e),'Value must be a hexadecimal string, starting with "0x".')},r.isValidHexAddress=function(e){return(0,i.is)(e,r.HexAddressStruct)||l(e)},r.getChecksumAddress=u,r.isValidChecksumAddress=l,r.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},r.remove0x=d}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/hex.js"}],[1373,{"./assert":1365,"./base64":1366,"./bytes":1367,"./checksum":1368,"./coercers":1369,"./collections":1370,"./encryption-types":1371,"./hex":1372,"./json":1374,"./keyring":1375,"./logging":1376,"./misc":1377,"./number":1378,"./opaque":1379,"./time":1380,"./transaction-types":1381,"./versions":1382},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./assert"),r),i(e("./base64"),r),i(e("./bytes"),r),i(e("./checksum"),r),i(e("./coercers"),r),i(e("./collections"),r),i(e("./encryption-types"),r),i(e("./hex"),r),i(e("./json"),r),i(e("./keyring"),r),i(e("./logging"),r),i(e("./misc"),r),i(e("./number"),r),i(e("./opaque"),r),i(e("./time"),r),i(e("./transaction-types"),r),i(e("./versions"),r)}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/index.js"}],[1374,{"./assert":1365,superstruct:4220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getJsonRpcIdValidator=r.assertIsJsonRpcError=r.isJsonRpcError=r.assertIsJsonRpcFailure=r.isJsonRpcFailure=r.assertIsJsonRpcSuccess=r.isJsonRpcSuccess=r.assertIsJsonRpcResponse=r.isJsonRpcResponse=r.assertIsPendingJsonRpcResponse=r.isPendingJsonRpcResponse=r.JsonRpcResponseStruct=r.JsonRpcFailureStruct=r.JsonRpcSuccessStruct=r.PendingJsonRpcResponseStruct=r.assertIsJsonRpcRequest=r.isJsonRpcRequest=r.assertIsJsonRpcNotification=r.isJsonRpcNotification=r.JsonRpcNotificationStruct=r.JsonRpcRequestStruct=r.JsonRpcParamsStruct=r.JsonRpcErrorStruct=r.JsonRpcIdStruct=r.JsonRpcVersionStruct=r.jsonrpc2=r.getJsonSize=r.getSafeJson=r.isValidJson=r.JsonStruct=r.UnsafeJsonStruct=void 0;const n=e("superstruct"),i=e("./assert");function o(e){return(0,n.create)(e,r.JsonStruct)}r.UnsafeJsonStruct=(0,n.union)([(0,n.literal)(null),(0,n.boolean)(),(0,n.define)("finite number",(e=>(0,n.is)(e,(0,n.number)())&&Number.isFinite(e))),(0,n.string)(),(0,n.array)((0,n.lazy)((()=>r.UnsafeJsonStruct))),(0,n.record)((0,n.string)(),(0,n.lazy)((()=>r.UnsafeJsonStruct)))]),r.JsonStruct=(0,n.coerce)(r.UnsafeJsonStruct,(0,n.any)(),(e=>((0,i.assertStruct)(e,r.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),r.isValidJson=function(e){try{return o(e),!0}catch{return!1}},r.getSafeJson=o,r.getJsonSize=function(e){(0,i.assertStruct)(e,r.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},r.jsonrpc2="2.0",r.JsonRpcVersionStruct=(0,n.literal)(r.jsonrpc2),r.JsonRpcIdStruct=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),r.JsonRpcErrorStruct=(0,n.object)({code:(0,n.integer)(),message:(0,n.string)(),data:(0,n.optional)(r.JsonStruct),stack:(0,n.optional)((0,n.string)())}),r.JsonRpcParamsStruct=(0,n.optional)((0,n.union)([(0,n.record)((0,n.string)(),r.JsonStruct),(0,n.array)(r.JsonStruct)])),r.JsonRpcRequestStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,method:(0,n.string)(),params:r.JsonRpcParamsStruct}),r.JsonRpcNotificationStruct=(0,n.omit)(r.JsonRpcRequestStruct,["id"]),r.isJsonRpcNotification=function(e){return(0,n.is)(e,r.JsonRpcNotificationStruct)},r.assertIsJsonRpcNotification=function(e,t){(0,i.assertStruct)(e,r.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},r.isJsonRpcRequest=function(e){return(0,n.is)(e,r.JsonRpcRequestStruct)},r.assertIsJsonRpcRequest=function(e,t){(0,i.assertStruct)(e,r.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},r.PendingJsonRpcResponseStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(r.JsonRpcErrorStruct)}),r.JsonRpcSuccessStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:r.JsonStruct}),r.JsonRpcFailureStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,error:r.JsonRpcErrorStruct}),r.JsonRpcResponseStruct=(0,n.union)([r.JsonRpcSuccessStruct,r.JsonRpcFailureStruct]),r.isPendingJsonRpcResponse=function(e){return(0,n.is)(e,r.PendingJsonRpcResponseStruct)},r.assertIsPendingJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,r.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},r.isJsonRpcResponse=function(e){return(0,n.is)(e,r.JsonRpcResponseStruct)},r.assertIsJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,r.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},r.isJsonRpcSuccess=function(e){return(0,n.is)(e,r.JsonRpcSuccessStruct)},r.assertIsJsonRpcSuccess=function(e,t){(0,i.assertStruct)(e,r.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},r.isJsonRpcFailure=function(e){return(0,n.is)(e,r.JsonRpcFailureStruct)},r.assertIsJsonRpcFailure=function(e,t){(0,i.assertStruct)(e,r.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},r.isJsonRpcError=function(e){return(0,n.is)(e,r.JsonRpcErrorStruct)},r.assertIsJsonRpcError=function(e,t){(0,i.assertStruct)(e,r.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},r.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/json.js"}],[1375,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/keyring.js"}],[1376,{debug:2763},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.createProjectLogger=void 0;const i=(0,n(e("debug")).default)("metamask");r.createProjectLogger=function(e){return i.extend(e)},r.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/logging.js"}],[1377,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateNumberSize=r.calculateStringSize=r.isASCII=r.isPlainObject=r.ESCAPE_CHARACTERS_REGEXP=r.JsonSize=r.hasProperty=r.isObject=r.isNullOrUndefined=r.isNonEmptyArray=void 0,r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isNullOrUndefined=function(e){return null===e||e===undefined},r.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function n(e){return e.charCodeAt(0)<=127}r.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(r.JsonSize||(r.JsonSize={})),r.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,r.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},r.isASCII=n,r.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>n(t)?e+1:e+2),0)+(e.match(r.ESCAPE_CHARACTERS_REGEXP)??[]).length},r.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/misc.js"}],[1378,{"./assert":1365,"./hex":1372},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hexToBigInt=r.hexToNumber=r.bigIntToHex=r.numberToHex=void 0;const n=e("./assert"),i=e("./hex");r.numberToHex=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16)));r.bigIntToHex=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16)));r.hexToNumber=e=>{(0,i.assertIsHexString)(e);const t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};r.hexToBigInt=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/number.js"}],[1379,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/opaque.js"}],[138,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:56,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=56;const{PreferencesController:r}=t.data;return Array.isArray(null==r?void 0:r.tokens)&&(r.tokens=r.tokens.filter((({address:e})=>e))),null!=r&&r.accountTokens&&"object"==typeof r.accountTokens&&Object.keys(r.accountTokens).forEach((e=>{Object.keys(r.accountTokens[e]).forEach((t=>{r.accountTokens[e][t]=r.accountTokens[e][t].filter((({address:e})=>e))}))})),null!=r&&r.assetImages&&"undefined"in r.assetImages&&delete r.assetImages.undefined,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/056.js"}],[1380,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeSince=r.inMilliseconds=r.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(r.Duration||(r.Duration={}));const n=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};r.inMilliseconds=function(e,t){return n(e,"count"),e*t},r.timeSince=function(e){return n(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/time.js"}],[1381,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/transaction-types.js"}],[1382,{"./assert":1365,semver:4165,superstruct:4220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.satisfiesVersionRange=r.gtRange=r.gtVersion=r.assertIsSemVerRange=r.assertIsSemVerVersion=r.isValidSemVerRange=r.isValidSemVerVersion=r.VersionRangeStruct=r.VersionStruct=void 0;const n=e("semver"),i=e("superstruct"),o=e("./assert");r.VersionStruct=(0,i.refine)((0,i.string)(),"Version",(e=>null!==(0,n.valid)(e)||`Expected SemVer version, got "${e}"`)),r.VersionRangeStruct=(0,i.refine)((0,i.string)(),"Version range",(e=>null!==(0,n.validRange)(e)||`Expected SemVer range, got "${e}"`)),r.isValidSemVerVersion=function(e){return(0,i.is)(e,r.VersionStruct)},r.isValidSemVerRange=function(e){return(0,i.is)(e,r.VersionRangeStruct)},r.assertIsSemVerVersion=function(e){(0,o.assertStruct)(e,r.VersionStruct)},r.assertIsSemVerRange=function(e){(0,o.assertStruct)(e,r.VersionRangeStruct)},r.gtVersion=function(e,t){return(0,n.gt)(e,t)},r.gtRange=function(e,t){return(0,n.gtr)(e,t)},r.satisfiesVersionRange=function(e,t){return(0,n.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/network-controller>@metamask/utils",file:"node_modules/@metamask/network-controller/node_modules/@metamask/utils/dist/versions.js"}],[1383,{"@metamask/base-controller":1071,"@metamask/utils":1715,nanoid:1385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NotificationController=void 0;const n=e("nanoid"),i=e("@metamask/utils"),o=e("@metamask/base-controller"),s="NotificationController",a={notifications:{persist:!0,anonymous:!1}},c={notifications:{}};class u extends o.BaseControllerV2{constructor({messenger:e,state:t}){super({name:s,metadata:a,messenger:e,state:Object.assign(Object.assign({},c),t)}),this.messagingSystem.registerActionHandler(`${s}:show`,((e,t)=>this.show(e,t))),this.messagingSystem.registerActionHandler(`${s}:dismiss`,(e=>this.dismiss(e))),this.messagingSystem.registerActionHandler(`${s}:markRead`,(e=>this.markRead(e))),this.messagingSystem.registerActionHandler(`${s}:clear`,(()=>this.clear()))}show(e,t){const r=(0,n.nanoid)(),i={id:r,origin:e,createdDate:Date.now(),readDate:null,message:t};this.update((e=>{e.notifications[r]=i}))}dismiss(e){this.update((t=>{for(const r of e)(0,i.hasProperty)(t.notifications,r)&&delete t.notifications[r]}))}markRead(e){this.update((t=>{for(const r of e)(0,i.hasProperty)(t.notifications,r)&&(t.notifications[r].readDate=Date.now())}))}clear(){this.update((()=>Object.assign({},c)))}}r.NotificationController=u}}},{package:"@metamask/notification-controller",file:"node_modules/@metamask/notification-controller/dist/NotificationController.js"}],[1384,{"./NotificationController":1383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./NotificationController"),r)}}},{package:"@metamask/notification-controller",file:"node_modules/@metamask/notification-controller/dist/index.js"}],[1385,{"./url-alphabet/index.cjs":1386},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let{urlAlphabet:n}=e("./url-alphabet/index.cjs"),i=e=>crypto.getRandomValues(new Uint8Array(e)),o=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return(o=t)=>{let s="";for(;;){let t=r(i),a=i;for(;a--;)if(s+=e[t[a]&n]||"",s.length===o)return s}}};t.exports={nanoid:(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""),customAlphabet:(e,t=21)=>o(e,t,i),customRandom:o,urlAlphabet:n,random:i}}}},{package:"@metamask/notification-controller>nanoid",file:"node_modules/@metamask/notification-controller/node_modules/nanoid/index.browser.cjs"}],[1386,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}}}},{package:"@metamask/notification-controller>nanoid",file:"node_modules/@metamask/notification-controller/node_modules/nanoid/url-alphabet/index.cjs"}],[139,{"../../../shared/modules/random-id":4389,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=e("lodash"),o=(n=e("../../../shared/modules/random-id"))&&n.__esModule?n:{default:n};var s={version:57,async migrate(e){const t=(0,i.cloneDeep)(e);t.meta.version=57;const r=t.data;return t.data=function(e){var t;null!=e&&null!==(t=e.TransactionController)&&void 0!==t&&t.transactions&&Array.isArray(e.TransactionController.transactions)&&!e.TransactionController.transactions.some((e=>"object"!=typeof e||void 0===e.txParams))&&(e.TransactionController.transactions=(0,i.keyBy)(e.TransactionController.transactions,(e=>(void 0!==e.id&&null!==e.id||(e.id=(0,o.default)()),e.id))));return e}(r),t}};r.default=s}}},{package:"$root$",file:"app/scripts/migrations/057.js"}],[1390,{"./ObservableStore":1392},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ComposedStore=void 0;const n=e("./ObservableStore");class i extends n.ObservableStore{constructor(e){super({}),this._children=e||{},Object.keys(this._children).forEach((e=>{const t=this._children[e];this._addChild(e,t)}))}_addChild(e,t){const r=t=>{const r=this.getState();r[e]=t,this.putState(r)};t.subscribe(r),r(t.getState())}}r.ComposedStore=i}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/ComposedStore.js"}],[1391,{"./ObservableStore":1392},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MergedStore=void 0;const n=e("./ObservableStore");class i extends n.ObservableStore{constructor(e=[]){super({}),this._children=e,e.forEach((e=>this._addChild(e))),this._updateWholeState()}_addChild(e){e.subscribe((()=>this._updateWholeState()))}_updateWholeState(){const e=this._children.map((e=>e.getState())),t=Object.assign({},...e);this.putState(t)}}r.MergedStore=i}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/MergedStore.js"}],[1392,{"@metamask/safe-event-emitter":1496},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.ObservableStore=void 0;const i=n(e("@metamask/safe-event-emitter"));class o extends i.default{constructor(e){super(),e===undefined?this._state={}:this._state=e}getState(){return this._getState()}putState(e){this._putState(e),this.emit("update",e)}updateState(e){if(e&&"object"==typeof e){const t=this.getState();this.putState(Object.assign(Object.assign({},t),e))}else this.putState(e)}subscribe(e){this.on("update",e)}unsubscribe(e){this.removeListener("update",e)}_getState(){return this._state}_putState(e){this._state=e}}r.ObservableStore=o}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/ObservableStore.js"}],[1393,{stream:2545},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.storeAsStream=void 0;const n=e("stream");class i extends n.Duplex{constructor(e){super({objectMode:!0}),this.resume(),this.handler=e=>this.push(e),this.obsStore=e,this.obsStore.subscribe(this.handler)}pipe(e,t){const r=super.pipe(e,t);return e.write(this.obsStore.getState()),r}_write(e,t,r){this.obsStore.putState(e),r()}_read(e){return undefined}_destroy(e,t){this.obsStore.unsubscribe(this.handler),super._destroy(e,t)}}r.storeAsStream=function(e){return new i(e)}}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/asStream.js"}],[1394,{"./ComposedStore":1390,"./MergedStore":1391,"./ObservableStore":1392,"./asStream":1393,"./transform":1395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./asStream"),r),i(e("./ComposedStore"),r),i(e("./MergedStore"),r),i(e("./ObservableStore"),r),i(e("./transform"),r)}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/index.js"}],[1395,{through2:1396},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.storeTransformStream=void 0;const n=e("through2");r.storeTransformStream=function(e){return n.obj(((t,r,n)=>{try{return n(null,e(t)),undefined}catch(e){return n(e),undefined}}))}}}},{package:"@metamask/obs-store",file:"node_modules/@metamask/obs-store/dist/transform.js"}],[1396,{_process:3818,"readable-stream":4089,util:2548,xtend:4334},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("readable-stream").Transform,i=e("util").inherits,o=e("xtend");function s(e){n.call(this,e),this._destroyed=!1}function a(e,t,r){r(null,e)}function c(e){return function(t,r,n){return"function"==typeof t&&(n=r,r=t,t={}),"function"!=typeof r&&(r=a),"function"!=typeof n&&(n=null),e(t,r,n)}}i(s,n),s.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;r.nextTick((function(){e&&t.emit("error",e),t.emit("close")}))}},t.exports=c((function(e,t,r){var n=new s(e);return n._transform=t,r&&(n._flush=r),n})),t.exports.ctor=c((function(e,t,r){function n(t){if(!(this instanceof n))return new n(t);this.options=o(e,t),s.call(this,this.options)}return i(n,s),n.prototype._transform=t,r&&(n.prototype._flush=r),n})),t.exports.obj=c((function(e,t,r){var n=new s(o({objectMode:!0,highWaterMark:16},e));return n._transform=t,r&&(n._flush=r),n}))}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/obs-store>through2",file:"node_modules/@metamask/obs-store/node_modules/through2/through2.js"}],[14,{"../../../../shared/constants/network":4354,"../../../../shared/modules/hexstring-utils":4384,"./ens":13,"@metamask/obs-store":1394,loglevel:3688,"punycode/punycode":3882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=u(e("punycode/punycode")),i=e("@metamask/obs-store"),o=u(e("loglevel")),s=e("../../../../shared/constants/network"),a=e("../../../../shared/modules/hexstring-utils"),c=u(e("./ens"));function u(e){return e&&e.__esModule?e:{default:e}}r.default=class{constructor({ens:e,provider:t,onNetworkDidChange:r,getCurrentChainId:n}={}){const o={ensResolutionsByAddress:{}};if(this._ens=e,!this._ens){const e=n(),r=s.CHAIN_ID_TO_NETWORK_ID_MAP[e];c.default.getNetworkEnsSupport(r)&&(this._ens=new c.default({network:r,provider:t}))}this.store=new i.ObservableStore(o),this.resetState=()=>{this.store.updateState(o)},r((()=>{this.store.putState(o);const e=n(),r=s.CHAIN_ID_TO_NETWORK_ID_MAP[e];c.default.getNetworkEnsSupport(r)?this._ens=new c.default({network:r,provider:t}):delete this._ens}))}reverseResolveAddress(e){return this._reverseResolveAddress((0,a.toChecksumHexAddress)(e))}async _reverseResolveAddress(e){if(!this._ens)return undefined;const t=this.store.getState();if(t.ensResolutionsByAddress[e])return t.ensResolutionsByAddress[e];let r,i;try{r=await this._ens.reverse(e)}catch(e){return o.default.debug(e),undefined}try{i=await this._ens.lookup(r)}catch(e){return o.default.debug(e),undefined}return"0x0000000000000000000000000000000000000000"===i||"0x"===i||(0,a.toChecksumHexAddress)(i)!==e?undefined:(this._updateResolutionsByAddress(e,n.default.toASCII(r)),r)}_updateResolutionsByAddress(e,t){const r=this.store.getState();this.store.putState({ensResolutionsByAddress:{...r.ensResolutionsByAddress,[e]:t}})}}}}},{package:"$root$",file:"app/scripts/controllers/ens/index.js"}],[140,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:58,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=58;const r=t.data;return t.data=function(e){var t;return null===(t=e.AppStateController)||void 0===t||delete t.swapsWelcomeMessageHasBeenShown,e}(r),t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/058.js"}],[141,{"../../../shared/constants/transaction":4366,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/transaction");var o={version:59,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=59;const r=t.data;return t.data=function(e){var t;const r=null==e||null===(t=e.TransactionController)||void 0===t?void 0:t.transactions;if((0,n.isPlainObject)(r)){const t=(0,n.groupBy)(Object.values(r),(e=>{var t;return`${null===(t=e.txParams)||void 0===t?void 0:t.nonce}-${e.chainId??e.metamaskNetworkId}`})),o=(0,n.pickBy)(t,(e=>e.some((e=>e.type!==i.TransactionType.cancel&&e.type!==i.TransactionType.retry))));e.TransactionController.transactions=(0,n.keyBy)((0,n.concat)(...Object.values(o)),(e=>e.id))}return e}(r),t}};r.default=o}}},{package:"$root$",file:"app/scripts/migrations/059.js"}],[1410,{"./utils":1412,"@metamask/base-controller":1071,"@metamask/controller-utils":1076,"eth-phishing-detect/src/detector":2852,"punycode/":3882},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,o,s,a,c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},u=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},d=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.PhishingController=r.phishingListKeyNameMap=r.ListNames=r.ListKeys=r.METAMASK_HOTLIST_DIFF_URL=r.METAMASK_STALELIST_URL=r.STALELIST_REFRESH_INTERVAL=r.HOTLIST_REFRESH_INTERVAL=r.METAMASK_HOTLIST_DIFF_FILE=r.METAMASK_STALELIST_FILE=r.PHISHING_CONFIG_BASE_URL=void 0;const f=e("@metamask/base-controller"),p=e("@metamask/controller-utils"),m=h(e("eth-phishing-detect/src/detector")),g=e("punycode/"),y=e("./utils");var b,w;r.PHISHING_CONFIG_BASE_URL="https://phishing-detection.metafi.codefi.network",r.METAMASK_STALELIST_FILE="/v1/stalelist",r.METAMASK_HOTLIST_DIFF_FILE="/v1/diffsSince",r.HOTLIST_REFRESH_INTERVAL=1800,r.STALELIST_REFRESH_INTERVAL=345600,r.METAMASK_STALELIST_URL=`${r.PHISHING_CONFIG_BASE_URL}${r.METAMASK_STALELIST_FILE}`,r.METAMASK_HOTLIST_DIFF_URL=`${r.PHISHING_CONFIG_BASE_URL}${r.METAMASK_HOTLIST_DIFF_FILE}`,function(e){e.PhishfortHotlist="phishfort_hotlist",e.EthPhishingDetectConfig="eth_phishing_detect_config"}(b=r.ListKeys||(r.ListKeys={})),function(e){e.MetaMask="MetaMask",e.Phishfort="Phishfort"}(w=r.ListNames||(r.ListNames={}));const v={[w.Phishfort]:b.PhishfortHotlist,[w.MetaMask]:b.EthPhishingDetectConfig};r.phishingListKeyNameMap={[b.EthPhishingDetectConfig]:w.MetaMask,[b.PhishfortHotlist]:w.Phishfort};class _ extends f.BaseController{constructor(e,t){super(e,t),n.add(this),i.set(this,void 0),o.set(this,void 0),this.name="PhishingController",this.defaultConfig={stalelistRefreshInterval:r.STALELIST_REFRESH_INTERVAL,hotlistRefreshInterval:r.HOTLIST_REFRESH_INTERVAL},this.defaultState={phishingLists:[],whitelist:[],hotlistLastFetched:0,stalelistLastFetched:0},this.initialize(),this.updatePhishingDetector()}updatePhishingDetector(){this.detector=new m.default(this.state.phishingLists)}setStalelistRefreshInterval(e){this.configure({stalelistRefreshInterval:e},!1,!1)}setHotlistRefreshInterval(e){this.configure({hotlistRefreshInterval:e},!1,!1)}isStalelistOutOfDate(){return(0,y.fetchTimeNow)()-this.state.stalelistLastFetched>=this.config.stalelistRefreshInterval}isHotlistOutOfDate(){return(0,y.fetchTimeNow)()-this.state.hotlistLastFetched>=this.config.hotlistRefreshInterval}maybeUpdateState(){return c(this,void 0,void 0,(function*(){if(this.isStalelistOutOfDate())return void(yield this.updateStalelist());this.isHotlistOutOfDate()&&(yield this.updateHotlist())}))}test(e){const t=(0,g.toASCII)(e);return this.state.whitelist.includes(t)?{result:!1,type:"all"}:this.detector.check(t)}bypass(e){const t=(0,g.toASCII)(e),{whitelist:r}=this.state;r.includes(t)||this.update({whitelist:[...r,t]})}updateHotlist(){return c(this,void 0,void 0,(function*(){if(u(this,i,"f"))yield u(this,i,"f");else try{l(this,i,u(this,n,"m",a).call(this),"f"),yield u(this,i,"f")}finally{l(this,i,undefined,"f")}}))}updateStalelist(){return c(this,void 0,void 0,(function*(){if(u(this,o,"f"))yield u(this,o,"f");else try{l(this,o,u(this,n,"m",s).call(this),"f"),yield u(this,o,"f")}finally{l(this,o,undefined,"f")}}))}queryConfig(e){return c(this,void 0,void 0,(function*(){const t=yield(0,p.safelyExecute)((()=>fetch(e,{cache:"no-cache"})),!0);return 200===(null==t?void 0:t.status)?yield t.json():null}))}}r.PhishingController=_,i=new WeakMap,o=new WeakMap,n=new WeakSet,s=function(){return c(this,void 0,void 0,(function*(){if(this.disabled)return;let e,t;try{e=yield this.queryConfig(r.METAMASK_STALELIST_URL).then((e=>e)),(null==e?void 0:e.data)&&e.data.lastUpdated>0&&(t=yield this.queryConfig(`${r.METAMASK_HOTLIST_DIFF_URL}/${e.data.lastUpdated}`))}finally{const e=(0,y.fetchTimeNow)();this.update({stalelistLastFetched:e,hotlistLastFetched:e})}if(!e||!t)return;const n=e.data,{phishfort_hotlist:i,eth_phishing_detect_config:o}=n,s=d(n,["phishfort_hotlist","eth_phishing_detect_config"]),a=Object.assign(Object.assign(Object.assign({},i),s),{fuzzylist:[],allowlist:[],name:r.phishingListKeyNameMap.phishfort_hotlist}),c=Object.assign(Object.assign(Object.assign({},o),s),{name:r.phishingListKeyNameMap.eth_phishing_detect_config}),u=(0,y.applyDiffs)(a,t.data,b.PhishfortHotlist),l=(0,y.applyDiffs)(c,t.data,b.EthPhishingDetectConfig);this.update({phishingLists:[l,u]}),this.updatePhishingDetector()}))},a=function(){return c(this,void 0,void 0,(function*(){if(this.disabled)return;const e=Math.max(...this.state.phishingLists.map((({lastUpdated:e})=>e)));let t;try{t=yield this.queryConfig(`${r.METAMASK_HOTLIST_DIFF_URL}/${e}`)}finally{this.update({hotlistLastFetched:(0,y.fetchTimeNow)()})}if(!(null==t?void 0:t.data))return;const n=t.data,i=this.state.phishingLists.map((e=>(0,y.applyDiffs)(e,n,v[e.name])));this.update({phishingLists:i}),this.updatePhishingDetector()}))},r.default=_}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/PhishingController.js"}],[1411,{"./PhishingController":1410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./PhishingController"),r)}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/index.js"}],[1412,{"./PhishingController":1410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.applyDiffs=r.fetchTimeNow=void 0;const n=e("./PhishingController");r.fetchTimeNow=()=>Math.round(Date.now()/1e3);const i=e=>{const t=e.indexOf(".");return[e.slice(0,t),e.slice(t+1)]};r.applyDiffs=(e,t,r)=>{const o=t.filter((({timestamp:t,targetList:n})=>t>e.lastUpdated&&i(n)[0]===r));let s=e.lastUpdated;const a={allowlist:new Set(e.allowlist),blocklist:new Set(e.blocklist),fuzzylist:new Set(e.fuzzylist)};for(const{isRemoval:e,targetList:t,url:r,timestamp:n}of o){const o=i(t)[1];n>s&&(s=n),e?a[o].delete(r):a[o].add(r)}return{allowlist:Array.from(a.allowlist),blocklist:Array.from(a.blocklist),fuzzylist:Array.from(a.fuzzylist),version:e.version,name:n.phishingListKeyNameMap[r],tolerance:e.tolerance,lastUpdated:s}}}}},{package:"@metamask/phishing-controller",file:"node_modules/@metamask/phishing-controller/dist/utils.js"}],[142,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");const i="2020-08-31";var o={version:60,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=60;const r=function(e){var t;const r=null==e||null===(t=e.NotificationController)||void 0===t?void 0:t.notifications;var o;(0,n.isPlainObject)(r)&&(null===(o=r[2])||void 0===o?void 0:o.date)===i&&delete e.NotificationController.notifications[2];return e}(t.data);return t.data=r,t}};r.default=o}}},{package:"$root$",file:"app/scripts/migrations/060.js"}],[143,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:61,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=61;const r=function(e){const t=(new Date).getTime();e.AppStateController?(e.AppStateController.recoveryPhraseReminderHasBeenShown=!1,e.AppStateController.recoveryPhraseReminderLastShown=t):e.AppStateController={recoveryPhraseReminderHasBeenShown:!1,recoveryPhraseReminderLastShown:t};return e}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/061.js"}],[1432,{"@metamask/base-controller":1071,"eth-rpc-errors":2857},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.RateLimitController=void 0;const i=e("eth-rpc-errors"),o=e("@metamask/base-controller"),s="RateLimitController",a={requests:{persist:!1,anonymous:!1}};class c extends o.BaseControllerV2{constructor({rateLimitTimeout:e=5e3,rateLimitCount:t=1,messenger:r,state:n,implementations:i}){const o={requests:Object.keys(i).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:{}})),{})};super({name:s,metadata:a,messenger:r,state:Object.assign(Object.assign({},o),n)}),this.implementations=i,this.rateLimitTimeout=e,this.rateLimitCount=t,this.messagingSystem.registerActionHandler(`${s}:call`,((e,t,...r)=>this.call(e,t,...r)))}call(e,t,...r){return n(this,void 0,void 0,(function*(){if(this.isRateLimited(t,e))throw i.ethErrors.rpc.limitExceeded({message:`"${t.toString()}" is currently rate-limited. Please try again later.`});this.recordRequest(t,e);const n=this.implementations[t].method;if(!n)throw new Error("Invalid api type");return n(...r)}))}isRateLimited(e,t){var r;const n=null!==(r=this.implementations[e].rateLimitCount)&&void 0!==r?r:this.rateLimitCount;return this.state.requests[e][t]>=n}recordRequest(e,t){var r;const n=null!==(r=this.implementations[e].rateLimitTimeout)&&void 0!==r?r:this.rateLimitTimeout;this.update((r=>{var i;const o=null!==(i=r.requests[e][t])&&void 0!==i?i:0;r.requests[e][t]=o+1,0===o&&setTimeout((()=>this.resetRequestCount(e,t)),n)}))}resetRequestCount(e,t){this.update((r=>{r.requests[e][t]=0}))}}r.RateLimitController=c}}},{package:"@metamask/rate-limit-controller",file:"node_modules/@metamask/rate-limit-controller/dist/RateLimitController.js"}],[1433,{"./RateLimitController":1432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./RateLimitController"),r)}}},{package:"@metamask/rate-limit-controller",file:"node_modules/@metamask/rate-limit-controller/dist/index.js"}],[144,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:62,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=62;const r=function(e){if(e.MetaMetricsController){const{metaMetricsSendCount:t}=e.MetaMetricsController;t!==undefined&&delete e.MetaMetricsController.metaMetricsSendCount}return e}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/062.js"}],[145,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:63,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=63;const r=function(e){var t,r,n,i,o,s,a,c;const u=null==e||null===(t=e.PreferencesController)||void 0===t?void 0:t.accountTokens,l=null==e||null===(r=e.PreferencesController)||void 0===r?void 0:r.accountHiddenTokens,d={};u&&Object.keys(u).forEach((e=>{Object.keys(u[e]).forEach((t=>{const r=u[e][t];d[t]===undefined?d[t]={[e]:r}:d[t]={...d[t],[e]:r}}))}));const h={};l&&Object.keys(l).forEach((e=>{Object.keys(l[e]).forEach((t=>{const r=l[e][t];h[t]===undefined?h[t]={[e]:r}:h[t]={...h[t],[e]:r}}))}));e.TokensController?(e.TokensController.allTokens=d,e.TokensController.allIgnoredTokens=h):e.TokensController={allTokens:d,allIgnoredTokens:h};return null==e||(null===(n=e.PreferencesController)||void 0===n||delete n.accountHiddenTokens),null==e||null===(i=e.PreferencesController)||void 0===i||delete i.accountTokens,null==e||null===(o=e.PreferencesController)||void 0===o||delete o.assetImages,null==e||null===(s=e.PreferencesController)||void 0===s||delete s.hiddenTokens,null==e||null===(a=e.PreferencesController)||void 0===a||delete a.tokens,null==e||null===(c=e.PreferencesController)||void 0===c||delete c.suggestedTokens,e}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/063.js"}],[146,{"../../../shared/constants/transaction":4366,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/transaction");const o="sentEther";var s={version:64,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=64;const r=function(e){var t;const r=null==e||null===(t=e.TransactionController)||void 0===t?void 0:t.transactions;if((0,n.isPlainObject)(r))for(const e of Object.values(r))e.type===o&&(e.type=i.TransactionType.simpleSend),e.history&&e.history.map((e=>(e.type&&e.type===o&&(e.type=i.TransactionType.simpleSend),e)));return e}(t.data);return t.data=r,t}};r.default=s}}},{package:"$root$",file:"app/scripts/migrations/064.js"}],[147,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:65,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=65;const r=function(e){if(e.PreferencesController){const{completedOnboarding:t,firstTimeFlowType:r}=e.PreferencesController;e.OnboardingController=e.OnboardingController??{},t!==undefined&&(e.OnboardingController.completedOnboarding=t,delete e.PreferencesController.completedOnboarding),r!==undefined&&(e.OnboardingController.firstTimeFlowType=r,delete e.PreferencesController.firstTimeFlowType)}return e}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/065.js"}],[148,{"../../../shared/constants/hardware-wallets":4350,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("../../../shared/constants/hardware-wallets");var o={version:66,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=66;const r=function(e){var t;const r=window.navigator.hid?i.LedgerTransportTypes.webhid:i.LedgerTransportTypes.u2f,n=Boolean(null===(t=e.PreferencesController)||void 0===t?void 0:t.useLedgerLive),o={...e,PreferencesController:{...null==e?void 0:e.PreferencesController,ledgerTransportType:n?i.LedgerTransportTypes.live:r}};return delete o.PreferencesController.useLedgerLive,o}(t.data);return t.data=r,t}};r.default=o}}},{package:"$root$",file:"app/scripts/migrations/066.js"}],[149,{"../../../shared/constants/network":4354,"bignumber.js":2428,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=e("lodash"),o=(n=e("bignumber.js"))&&n.__esModule?n:{default:n},s=e("../../../shared/constants/network");const a=e=>new o.default(e||"0x0",16).gt(0);var c={version:67,async migrate(e){const t=(0,i.cloneDeep)(e);t.meta.version=67;const r=function(e){var t,r,n;const i=(null==e?void 0:e.PreferencesController)||{},o=i.preferences||{};if(o.showTestNetworks)return e;const c=(null==e||null===(t=e.TransactionController)||void 0===t?void 0:t.transactions)||{},u=(null===(r=e.NetworkController)||void 0===r?void 0:r.provider)||{},l=(null===(n=e.CachedBalancesController)||void 0===n?void 0:n.cachedBalances)||{},d=s.TEST_CHAINS.includes(null==u?void 0:u.chainId),h=Object.values(c).some((({chainId:e})=>s.TEST_CHAINS.includes(e))),f=s.TEST_CHAINS.some((e=>Object.values(l[e]||{}).some(a))),p=d||h||f,m={...e,PreferencesController:{...i,preferences:{...o,showTestNetworks:p}}};return m}(t.data);return t.data=r,t}};r.default=c}}},{package:"$root$",file:"app/scripts/migrations/067.js"}],[15,{"../../../shared/constants/alarms":4344,"../../../shared/constants/app":4346,"../../../shared/constants/metametrics":4353,"../../../shared/constants/time":4364,"../../../shared/modules/mv3.utils":4386,"../lib/util":82,"@metamask/obs-store":1394,buffer:2541,"ethereumjs-util":2898,lodash:3676,uuid:4293},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=e("@metamask/obs-store"),o=e("ethereumjs-util"),s=e("uuid"),a=e("../../../shared/constants/app"),c=e("../../../shared/constants/metametrics"),u=e("../../../shared/constants/time"),l=e("../../../shared/modules/mv3.utils"),d=e("../../../shared/constants/alarms"),h=e("../lib/util");function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=e=>{setTimeout((()=>{throw e}))},m=e=>{const t=[];return e.uniqueIdentifier&&t.push(e.uniqueIdentifier),e.actionId&&t.push(e.actionId),t.length&&e.isDuplicateAnonymizedEvent&&t.push("0x000"),t.length?t.join("-"):(0,h.generateRandomId)()},g={'You must pass either an "anonymousId" or a "userId".':!0};r.default=class{constructor({segment:e,preferencesStore:t,onNetworkDidChange:r,getCurrentChainId:o,version:s,environment:a,initState:c,extension:m,captureException:y=p}){f(this,"_getAllNFTsFlattened",(0,n.memoize)(((e={})=>Object.values(e).reduce(((e,t)=>e.concat(...Object.values(t))),[])))),f(this,"_isValidTraitArray",(e=>Array.isArray(e)&&(e.every((e=>"string"==typeof e))||e.every((e=>"boolean"==typeof e))||e.every((e=>"number"==typeof e))))),f(this,"_isValidTraitDate",(e=>"[object Date]"===Object.prototype.toString.call(e))),this._captureException=e=>{g[e.message]||y(e)};const b=t.getState();this.chainId=o(),this.locale=b.currentLocale.replace("_","-"),this.version="production"===a?s:`${s}-${a}`,this.extension=m,this.environment=a;const w=(0,n.omitBy)(null==c?void 0:c.fragments,"persist"),v=(null==c?void 0:c.segmentApiCalls)||{};this.store=new i.ObservableStore({participateInMetaMetrics:null,metaMetricsId:null,eventsBeforeMetricsOptIn:[],traits:{},...c,fragments:{...null==c?void 0:c.fragments},segmentApiCalls:{...v}}),t.subscribe((({currentLocale:e})=>{this.locale=e.replace("_","-")})),r((()=>{this.chainId=o()})),this.segment=e,Object.values(w).forEach((e=>{this.finalizeEventFragment(e.id,{abandoned:!0})})),l.isManifestV3&&Object.values(v).forEach((({eventType:e,payload:t})=>{this._submitSegmentAPICall(e,t)})),l.isManifestV3?(this.extension.alarms.getAll((e=>{(0,h.checkAlarmExists)(e,d.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM)||this.extension.alarms.create(d.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM,{delayInMinutes:1,periodInMinutes:1})})),this.extension.alarms.onAlarm.addListener((e=>{e.name===d.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM&&this.finalizeAbandonedFragments()}))):setInterval((()=>{this.finalizeAbandonedFragments()}),30*u.SECOND)}finalizeAbandonedFragments(){Object.values(this.store.getState().fragments).forEach((e=>{e.timeout&&Date.now()-e.lastUpdated/1e3>e.timeout&&this.finalizeEventFragment(e.id,{abandoned:!0})}))}generateMetaMetricsId(){return(0,o.bufferToHex)((0,o.keccak)(t.from(String(Date.now())+String(Math.round(Math.random()*Number.MAX_SAFE_INTEGER)))))}createEventFragment(e){if(!e.successEvent||!e.category)throw new Error(`Must specify success event and category. Success event was: ${e.event}. Category was: ${e.category}. Payload keys were: ${Object.keys(e)}. ${"object"==typeof e.properties?`Payload property keys were: ${Object.keys(e.properties)}`:""}`);const{fragments:t}=this.store.getState(),r=e.uniqueIdentifier??(0,s.v4)(),n={id:r,...e,lastUpdated:Date.now()};return this.store.updateState({fragments:{...t,[r]:n}}),e.initialEvent&&this.trackEvent({event:n.initialEvent,category:n.category,properties:n.properties,sensitiveProperties:n.sensitiveProperties,page:n.page,referrer:n.referrer,revenue:n.revenue,value:n.value,currency:n.currency,environmentType:n.environmentType,actionId:e.actionId,uniqueIdentifier:e.uniqueIdentifier}),n}getEventFragmentById(e){const{fragments:t}=this.store.getState();return t[e]}updateEventFragment(e,t){const{fragments:r}=this.store.getState();if(!r[e])throw new Error(`Event fragment with id ${e} does not exist.`);this.store.updateState({fragments:{...r,[e]:(0,n.merge)(r[e],{...t,lastUpdated:Date.now()})}})}finalizeEventFragment(e,{abandoned:t=!1,page:r,referrer:n}={}){const i=this.store.getState().fragments[e];if(!i)throw new Error(`Funnel with id ${e} does not exist.`);const o=t?i.failureEvent:i.successEvent;this.trackEvent({event:o,category:i.category,properties:i.properties,sensitiveProperties:i.sensitiveProperties,page:r??i.page,referrer:i.referrer??n,revenue:i.revenue,value:i.value,currency:i.currency,environmentType:i.environmentType,actionId:i.actionId,uniqueIdentifier:i.uniqueIdentifier?`${i.uniqueIdentifier}-${t?"failure":"success"}`:undefined});const{fragments:s}=this.store.getState();delete s[e],this.store.updateState({fragments:s})}identify(e){const{metaMetricsId:t,participateInMetaMetrics:r}=this.state;if(!r||!t||!e)return;if("object"!=typeof e)return void console.warn("MetaMetricsController#identify: userTraits parameter must be an object. Received type: "+typeof e);const n=this._buildValidTraits(e);this._identify(n)}updateExtensionUninstallUrl(e,r){const n={};e&&(n.mmi=t.from(r).toString("base64"),n.env=this.environment,n.av=this.version);const i=new URLSearchParams(n);this.extension&&this.extension.runtime&&this.extension.runtime.setUninstallURL(`https://metamask.io/uninstalled?${i}`)}async setParticipateInMetaMetrics(e){let{metaMetricsId:t}=this.state;var r;if(e&&!t)await(null===(r=globalThis.sentry)||void 0===r?void 0:r.startSession()),t=this.generateMetaMetricsId();else if(!1===e){var n;await(null===(n=globalThis.sentry)||void 0===n?void 0:n.endSession()),t=null}return this.store.updateState({participateInMetaMetrics:e,metaMetricsId:t}),e&&(this.trackEventsAfterMetricsOptIn(),this.clearEventsAfterMetricsOptIn()),this.updateExtensionUninstallUrl(e,t),t}get state(){return this.store.getState()}trackPage({name:e,params:t,environmentType:r,page:n,referrer:i,actionId:o},s){try{if(!1===this.state.participateInMetaMetrics)return;if(null===this.state.participateInMetaMetrics&&(null==s||!s.isOptInPath))return;const{metaMetricsId:a}=this.state,u=a?"userId":"anonymousId",l=a??c.METAMETRICS_ANONYMOUS_ID;this._submitSegmentAPICall("page",{messageId:m({actionId:o}),[u]:l,name:e,properties:{params:t,locale:this.locale,chain_id:this.chainId,environment_type:r},context:this._buildContext(i,n)})}catch(e){this._captureException(e)}}trackEvent(e,t){this.validatePayload(e),this.submitEvent(e,t).catch((e=>this._captureException(e)))}async submitEvent(e,t){if(this.validatePayload(e),!(this.state.participateInMetaMetrics||null!=t&&t.isOptIn))return;const r=[];if(e.sensitiveProperties){if(!0===(null==t?void 0:t.excludeMetaMetricsId))throw new Error("sensitiveProperties was specified in an event payload that also set the excludeMetaMetricsId flag");const i=(0,n.merge)(e.sensitiveProperties,e.properties);r.push(this._track(this._buildEventPayload({...e,properties:i,isDuplicateAnonymizedEvent:!0}),{...t,excludeMetaMetricsId:!0}))}r.push(this._track(this._buildEventPayload(e),t)),await Promise.all(r)}validatePayload(e){if(!e.event||!e.category)throw new Error(`Must specify event and category. Event was: ${e.event}. Category was: ${e.category}. Payload keys were: ${Object.keys(e)}. ${"object"==typeof e.properties?`Payload property keys were: ${Object.keys(e.properties)}`:""}`)}handleMetaMaskStateUpdate(e){const t=this._buildUserTraitsObject(e);t&&this.identify(t)}trackEventsAfterMetricsOptIn(){const{eventsBeforeMetricsOptIn:e}=this.store.getState();e.forEach((e=>{this.trackEvent(e)}))}clearEventsAfterMetricsOptIn(){this.store.updateState({eventsBeforeMetricsOptIn:[]})}addEventBeforeMetricsOptIn(e){const t=this.store.getState().eventsBeforeMetricsOptIn;this.store.updateState({eventsBeforeMetricsOptIn:[...t,e]})}updateTraits(e){const{traits:t}=this.store.getState();this.store.updateState({traits:{...t,...e}})}_buildContext(e,t=c.METAMETRICS_BACKGROUND_PAGE_OBJECT){return{app:{name:"MetaMask Extension",version:this.version},userAgent:window.navigator.userAgent,page:t,referrer:e}}_buildEventPayload(e){const{event:t,properties:r,revenue:i,value:o,currency:s,category:c,page:u,referrer:l,environmentType:d=a.ENVIRONMENT_TYPE_BACKGROUND}=e;return{event:t,messageId:m(e),properties:{...(0,n.omit)(r,["revenue","locale","currency","value"]),revenue:i,value:o,currency:s,category:c,locale:this.locale,chain_id:(null==r?void 0:r.chain_id)??this.chainId,environment_type:d},context:this._buildContext(l,u)}}_buildUserTraitsObject(e){const{traits:t,previousUserTraits:r}=this.store.getState(),i={[c.MetaMetricsUserTrait.AddressBookEntries]:(0,n.sum)(Object.values(e.addressBook).map(n.size)),[c.MetaMetricsUserTrait.InstallDateExt]:t[c.MetaMetricsUserTrait.InstallDateExt]||"",[c.MetaMetricsUserTrait.LedgerConnectionType]:e.ledgerTransportType,[c.MetaMetricsUserTrait.NetworksAdded]:Object.values(e.networkConfigurations).map((e=>e.chainId)),[c.MetaMetricsUserTrait.NetworksWithoutTicker]:Object.values(e.networkConfigurations).filter((({ticker:e})=>!e)).map((({chainId:e})=>e)),[c.MetaMetricsUserTrait.NftAutodetectionEnabled]:e.useNftDetection,[c.MetaMetricsUserTrait.NumberOfAccounts]:Object.values(e.identities).length,[c.MetaMetricsUserTrait.NumberOfNftCollections]:this._getAllUniqueNFTAddressesLength(e.allNfts),[c.MetaMetricsUserTrait.NumberOfNfts]:this._getAllNFTsFlattened(e.allNfts).length,[c.MetaMetricsUserTrait.NumberOfTokens]:this._getNumberOfTokens(e),[c.MetaMetricsUserTrait.OpenseaApiEnabled]:e.openSeaEnabled,[c.MetaMetricsUserTrait.ThreeBoxEnabled]:!1,[c.MetaMetricsUserTrait.Theme]:e.theme||"default",[c.MetaMetricsUserTrait.TokenDetectionEnabled]:e.useTokenDetection,[c.MetaMetricsUserTrait.SecurityProviders]:e.transactionSecurityCheckEnabled?["opensea"]:[]};if(!r)return this.store.updateState({previousUserTraits:i}),i;if(r&&!(0,n.isEqual)(r,i)){const e=(0,n.pickBy)(i,((e,t)=>!(0,n.isEqual)(r[t],e)));return this.store.updateState({previousUserTraits:i}),e}return null}_buildValidTraits(e){return Object.entries(e).reduce(((e,[t,r])=>(this._isValidTraitDate(r)?e[t]=r.toISOString():this._isValidTrait(r)?e[t]=r:console.warn(`MetaMetricsController: "${t}" value is not a valid trait type`),e)),{})}_getAllUniqueNFTAddressesLength(e={}){const t=this._getAllNFTsFlattened(e).map((e=>e.address));return new Set(t).size}_getNumberOfTokens(e){return Object.values(e.allTokens).reduce(((e,t)=>e+(0,n.sum)(Object.values(t).map(n.size))),0)}_identify(e){const{metaMetricsId:t}=this.state;if(e&&0!==Object.keys(e).length)try{this._submitSegmentAPICall("identify",{userId:t,traits:e})}catch(e){this._captureException(e)}else console.warn("MetaMetricsController#_identify: No userTraits found")}_isValidTrait(e){const t=typeof e;return"string"===t||"boolean"===t||"number"===t||this._isValidTraitArray(e)||this._isValidTraitDate(e)}_track(e,t){const{isOptIn:r,metaMetricsId:n,matomoEvent:i,flushImmediately:o}=t||{};let s="userId",a=this.state.metaMetricsId,u=(null==t?void 0:t.excludeMetaMetricsId)??!1;return Boolean(e.event.match(/^send|^confirm/iu))&&(u=!0),u||r&&!n?(s="anonymousId",a=c.METAMETRICS_ANONYMOUS_ID):r&&n&&(a=n),e[s]=a,!0===i&&(e.properties.legacy_event=!0),new Promise(((t,r)=>{this._submitSegmentAPICall("track",e,(e=>{if(e){const t=new Error(e.message);return t.stack=e.stack,r(t)}return t()})),o&&this.segment.flush()}))}_submitSegmentAPICall(e,t,r){const{metaMetricsId:n,participateInMetaMetrics:i}=this.state;if(!i||!n)return;const o=t.messageId||(0,h.generateRandomId)();let s=new Date;if(t.timestamp){const e=new Date(t.timestamp);(0,h.isValidDate)(e)&&(s=e)}const a={...t,messageId:o,timestamp:s};this.store.updateState({segmentApiCalls:{...this.store.getState().segmentApiCalls,[o]:{eventType:e,payload:{...a,timestamp:a.timestamp.toString()}}}});this.segment[e](a,(e=>{const{segmentApiCalls:t}=this.store.getState();return delete t[o],this.store.updateState({segmentApiCalls:t}),null==r?void 0:r(e)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"app/scripts/controllers/metametrics.js"}],[150,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:68,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=68;const r=function(e){const{PermissionsController:t={},PermissionsMetadata:r={},...n}=e,{domainMetadata:i={},permissionsHistory:a={},permissionsLog:c=[]}=r;return{...n,PermissionController:o(t),PermissionLogController:{permissionActivityLog:c,permissionHistory:a},SubjectMetadataController:s(i)}}(t.data);return t.data=r,t}};function o(e){const{domains:t={}}=e;return{subjects:Object.entries(t).reduce(((e,[t,r])=>{const{permissions:[n]}=r,i=n.caveats.find((e=>"exposedAccounts"===e.name)),o={...n,caveats:[{type:"restrictReturnedAccounts",value:i.value}]};return delete o["@context"],e[t]={origin:t,permissions:{eth_accounts:o}},e}),{})}}function s(e){return{subjectMetadata:Object.entries(e).reduce(((e,[t,r])=>{const{name:n=null,icon:i=null,extensionId:o=null,...s}=r;return delete s.lastUpdated,delete s.host,t&&(e[t]={name:n,iconUrl:i,extensionId:o,...s,origin:t}),e}),{})}}r.default=i}}},{package:"$root$",file:"app/scripts/migrations/068.js"}],[1508,{"@metamask/base-controller":1071},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.SelectedNetworkController=r.SelectedNetworkControllerEventTypes=r.SelectedNetworkControllerActionTypes=void 0;const s=e("@metamask/base-controller"),a="SelectedNetworkController",c={domains:{persist:!0,anonymous:!1},perDomainNetwork:{persist:!0,anonymous:!1}},u="metamask";r.SelectedNetworkControllerActionTypes={getState:`${a}:getState`,getNetworkClientIdForDomain:`${a}:getNetworkClientIdForDomain`,setNetworkClientIdForDomain:`${a}:setNetworkClientIdForDomain`},r.SelectedNetworkControllerEventTypes={stateChange:`${a}:stateChange`};class l extends s.BaseControllerV2{constructor({messenger:e}){super({name:a,metadata:c,messenger:e,state:{domains:{},perDomainNetwork:!1}}),n.add(this),o(this,n,"m",i).call(this)}setNetworkClientIdForMetamask(e){this.setNetworkClientIdForDomain(u,e)}setNetworkClientIdForDomain(e,t){this.update((r=>{r.domains[e]=t}))}getNetworkClientIdForDomain(e){return this.state.perDomainNetwork?this.state.domains[e]:this.state.domains[u]}}r.SelectedNetworkController=l,n=new WeakSet,i=function(){this.messagingSystem.registerActionHandler(r.SelectedNetworkControllerActionTypes.getNetworkClientIdForDomain,this.getNetworkClientIdForDomain.bind(this)),this.messagingSystem.registerActionHandler(r.SelectedNetworkControllerActionTypes.setNetworkClientIdForDomain,this.setNetworkClientIdForDomain.bind(this)),this.messagingSystem.subscribe("NetworkController:stateChange",((e,t)=>{t.some((e=>"selectedNetworkClientId"===e.path[0]))&&this.setNetworkClientIdForMetamask(e.selectedNetworkClientId)}))}}}},{package:"@metamask/selected-network-controller",file:"node_modules/@metamask/selected-network-controller/dist/SelectedNetworkController.js"}],[1509,{"./SelectedNetworkController":1508},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSelectedNetworkMiddleware=void 0;const n=e("./SelectedNetworkController");r.createSelectedNetworkMiddleware=e=>{const t=t=>e.call(n.SelectedNetworkControllerActionTypes.getNetworkClientIdForDomain,t);return(r,i,o)=>{var s,a;return t(r.origin)===undefined&&(s=r.origin,a=e.call("NetworkController:getState").selectedNetworkClientId,e.call(n.SelectedNetworkControllerActionTypes.setNetworkClientIdForDomain,s,a)),r.networkClientId=t(r.origin),o()}}}}},{package:"@metamask/selected-network-controller",file:"node_modules/@metamask/selected-network-controller/dist/SelectedNetworkMiddleware.js"}],[151,{"@metamask/subject-metadata-controller":1698,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("@metamask/subject-metadata-controller"),i=e("lodash");var o={version:69,async migrate(e){const t=(0,i.cloneDeep)(e);t.meta.version=69;const r=function(e){var t;if("object"==typeof(null==e||null===(t=e.SubjectMetadataController)||void 0===t?void 0:t.subjectMetadata)){const{SubjectMetadataController:{subjectMetadata:t}}=e;Object.values(t).forEach((e=>{e&&"object"==typeof e&&!Array.isArray(e)&&(e.subjectType=e.extensionId?n.SubjectType.Extension:n.SubjectType.Website)}))}return e}(t.data);return t.data=r,t}};r.default=o}}},{package:"$root$",file:"app/scripts/migrations/069.js"}],[1510,{"./SelectedNetworkController":1508,"./SelectedNetworkMiddleware":1509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./SelectedNetworkController"),r),i(e("./SelectedNetworkMiddleware"),r)}}},{package:"@metamask/selected-network-controller",file:"node_modules/@metamask/selected-network-controller/dist/index.js"}],[1511,{"@metamask/base-controller":1071,"@metamask/controller-utils":1076,"@metamask/message-manager":1334,buffer:2541,"eth-rpc-errors":2857,"ethereumjs-util":2898,events:2542,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,i,o,s,a,c,u,l,d,h,f,p,m,g,y,b,w,v,_,T,k,S,E,N,O,C,I,P,A,j=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},R=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},M=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},x=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},z=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.SignatureController=void 0;const B=e("@metamask/base-controller"),L=e("@metamask/controller-utils"),D=e("@metamask/message-manager"),U=e("eth-rpc-errors"),F=e("ethereumjs-util"),V=z(e("events")),$=e("lodash"),H={unapprovedMsgs:{persist:!1,anonymous:!1},unapprovedPersonalMsgs:{persist:!1,anonymous:!1},unapprovedTypedMessages:{persist:!1,anonymous:!1},unapprovedMsgCount:{persist:!1,anonymous:!1},unapprovedPersonalMsgCount:{persist:!1,anonymous:!1},unapprovedTypedMessagesCount:{persist:!1,anonymous:!1}};class G extends B.BaseControllerV2{constructor({messenger:e,keyringController:t,isEthSignEnabled:r,getAllState:l,securityProviderRequest:d,getCurrentChainId:h}){super({name:"SignatureController",metadata:H,messenger:e,state:{unapprovedMsgs:{},unapprovedPersonalMsgs:{},unapprovedTypedMessages:{},unapprovedMsgCount:0,unapprovedPersonalMsgCount:0,unapprovedTypedMessagesCount:0}}),n.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),c.set(this,void 0),u.set(this,void 0),R(this,i,t,"f"),R(this,o,r,"f"),R(this,s,l,"f"),this.hub=new V.default,R(this,a,new D.MessageManager(undefined,undefined,d),"f"),R(this,c,new D.PersonalMessageManager(undefined,undefined,d),"f"),R(this,u,new D.TypedMessageManager(undefined,undefined,d,undefined,h),"f"),M(this,n,"m",S).call(this,M(this,a,"f"),"unapprovedMessage"),M(this,n,"m",S).call(this,M(this,c,"f"),"unapprovedPersonalMessage"),M(this,n,"m",S).call(this,M(this,u,"f"),"unapprovedTypedMessage"),M(this,n,"m",E).call(this,M(this,a,"f"),((e,t,r)=>{e.unapprovedMsgs=t,e.unapprovedMsgCount=r})),M(this,n,"m",E).call(this,M(this,c,"f"),((e,t,r)=>{e.unapprovedPersonalMsgs=t,e.unapprovedPersonalMsgCount=r})),M(this,n,"m",E).call(this,M(this,u,"f"),((e,t,r)=>{e.unapprovedTypedMessages=t,e.unapprovedTypedMessagesCount=r}))}get unapprovedMsgCount(){return M(this,a,"f").getUnapprovedMessagesCount()}get unapprovedPersonalMessagesCount(){return M(this,c,"f").getUnapprovedMessagesCount()}get unapprovedTypedMessagesCount(){return M(this,u,"f").getUnapprovedMessagesCount()}get messages(){return[...M(this,u,"f").getAllMessages(),...M(this,c,"f").getAllMessages(),...M(this,a,"f").getAllMessages()].reduce(((e,t)=>(e[t.id]=t,e)),{})}resetState(){this.update((()=>({unapprovedMsgs:{},unapprovedPersonalMsgs:{},unapprovedTypedMessages:{},unapprovedMsgCount:0,unapprovedPersonalMsgCount:0,unapprovedTypedMessagesCount:0})))}rejectUnapproved(e){M(this,n,"m",w).call(this,M(this,a,"f"),e),M(this,n,"m",w).call(this,M(this,c,"f"),e),M(this,n,"m",w).call(this,M(this,u,"f"),e)}clearUnapproved(){M(this,n,"m",v).call(this,M(this,a,"f")),M(this,n,"m",v).call(this,M(this,c,"f")),M(this,n,"m",v).call(this,M(this,u,"f"))}newUnsignedMessage(e,t){return j(this,void 0,void 0,(function*(){return M(this,n,"m",d).call(this,M(this,a,"f"),L.ApprovalType.EthSign,"Message",M(this,n,"m",h).bind(this),e,t,M(this,n,"m",l).bind(this))}))}newUnsignedPersonalMessage(e,t){return j(this,void 0,void 0,(function*(){return M(this,n,"m",d).call(this,M(this,c,"f"),L.ApprovalType.PersonalSign,"Personal Message",M(this,n,"m",f).bind(this),e,t)}))}newUnsignedTypedMessage(e,t,r,i){return j(this,void 0,void 0,(function*(){return M(this,n,"m",d).call(this,M(this,u,"f"),L.ApprovalType.EthSignTypedData,"Typed Message",M(this,n,"m",p).bind(this),e,t,undefined,r,i)}))}setDeferredSignSuccess(e,t){M(this,n,"m",m).call(this,M(this,n,"m",g),e,t)}setMessageMetadata(e,t){M(this,n,"m",m).call(this,M(this,n,"m",y),e,t)}setDeferredSignError(e){M(this,n,"m",m).call(this,M(this,n,"m",b),e)}setTypedMessageInProgress(e){M(this,u,"f").setMessageStatusInProgress(e)}setPersonalMessageInProgress(e){M(this,c,"f").setMessageStatusInProgress(e)}}r.SignatureController=G,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,n=new WeakSet,l=function(e){if(!M(this,o,"f").call(this))throw U.ethErrors.rpc.methodNotFound("eth_sign has been disabled. You must enable it in the advanced settings");const t=M(this,n,"m",C).call(this,e.data);if(66!==t.length&&67!==t.length)throw U.ethErrors.rpc.invalidParams("eth_sign requires 32 byte message hash")},d=function(e,t,r,i,o,s,a,c,u){return j(this,void 0,void 0,(function*(){let l;a&&a(o);try{const a=yield e.addUnapprovedMessage(o,s,c),d=Object.assign(Object.assign(Object.assign({},o),{metamaskId:a}),c&&{version:c}),h=e.waitForFinishStatus(d,r);try{l=(yield M(this,n,"m",P).call(this,d,t)).resultCallbacks}catch(t){throw h.catch((()=>{})),M(this,n,"m",k).call(this,e,a),U.ethErrors.provider.userRejectedRequest(`MetaMask ${r} Signature: User denied message signature.`)}yield i(d,u);const f=yield h;return null==l||l.success(f),f}catch(e){throw null==l||l.error(e),e}}))},h=function(e){return j(this,void 0,void 0,(function*(){return yield M(this,n,"m",_).call(this,M(this,a,"f"),L.ApprovalType.EthSign,e,(e=>j(this,void 0,void 0,(function*(){return yield M(this,i,"f").signMessage(e)}))))}))},f=function(e){return j(this,void 0,void 0,(function*(){return yield M(this,n,"m",_).call(this,M(this,c,"f"),L.ApprovalType.PersonalSign,e,(e=>j(this,void 0,void 0,(function*(){return yield M(this,i,"f").signPersonalMessage(e)}))))}))},p=function(e,t={parseJsonData:!0}){return j(this,void 0,void 0,(function*(){const{version:r}=e;return yield M(this,n,"m",_).call(this,M(this,u,"f"),L.ApprovalType.EthSignTypedData,e,(e=>j(this,void 0,void 0,(function*(){const o=t.parseJsonData?M(this,n,"m",A).call(this,e,r):e;return yield M(this,i,"f").signTypedMessage(o,{version:r})}))))}))},m=function(e,...t){const r=[M(this,a,"f"),M(this,c,"f"),M(this,u,"f")];for(const n of r)if(e(n,...t))return!0;throw new Error("Message not found")},g=function(e,t,r){try{return e.setMessageStatusSigned(t,r),!0}catch(e){return!1}},y=function(e,t,r){try{return e.setMetadata(t,r),!0}catch(e){return!1}},b=function(e,t){try{return e.rejectMessage(t),!0}catch(e){return!1}},w=function(e,t){Object.keys(e.getUnapprovedMessages()).forEach((r=>{M(this,n,"m",k).call(this,e,r,t)}))},v=function(e){e.update({unapprovedMessages:{},unapprovedMessagesCount:0})},_=function(e,t,r,i){return j(this,void 0,void 0,(function*(){console.info(`MetaMaskController - ${t}`);const o=r.metamaskId;try{const n=yield e.approveMessage(r);try{const r=yield i(n);return this.hub.emit(`${t}:signed`,{signature:r,messageId:o}),n.deferSetAsSigned||e.setMessageStatusSigned(o,r),r}catch(e){throw this.hub.emit(`${o}:signError`,{error:e}),e}}catch(r){throw console.info(`MetaMaskController - ${t} failed.`,r),M(this,n,"m",T).call(this,e,o,r.message),r}}))},T=function(e,t,r){e instanceof D.TypedMessageManager?e.setMessageStatusErrored(t,r):M(this,n,"m",k).call(this,e,t)},k=function(e,t,r){if(r){const e=M(this,n,"m",I).call(this,t);this.hub.emit("cancelWithReason",{message:e,reason:r})}e.rejectMessage(t)},S=function(e,t){e.hub.on("updateBadge",(()=>{this.hub.emit("updateBadge")})),e.hub.on("unapprovedMessage",(e=>{this.hub.emit(t,e)}))},E=function(e,t){e.subscribe((e=>{const r=M(this,n,"m",N).call(this,e.unapprovedMessages);this.update((()=>{const n=Object.assign({},this.state);return t(n,r,e.unapprovedMessagesCount),n}))}))},N=function(e){const t={};for(const r of Object.keys(e)){const i=e[r],o=M(this,n,"m",O).call(this,i);t[r]=o}return t},O=function(e){const{messageParams:t}=e,r=x(e,["messageParams"]);return Object.assign(Object.assign({},r),{msgParams:t})},C=function(e){return e.startsWith("0x")?e:(0,F.bufferToHex)(t.from(e,"utf8"))},I=function(e){return Object.assign(Object.assign(Object.assign({},this.state.unapprovedMsgs),this.state.unapprovedPersonalMsgs),this.state.unapprovedTypedMessages)[e]},P=function(e,t){return j(this,void 0,void 0,(function*(){const r=e.metamaskId,n=e.origin||L.ORIGIN_METAMASK,i=(0,$.cloneDeep)(e);return yield this.messagingSystem.call("ApprovalController:addRequest",{id:r,origin:n,type:t,requestData:i,expectsResult:!0},!0)}))},A=function(e,t){return"V1"===t||"string"!=typeof e.data?e:Object.assign(Object.assign({},e),{data:JSON.parse(e.data)})}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/SignatureController.js"}],[1512,{"./SignatureController":1511},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./SignatureController"),r)}}},{package:"@metamask/signature-controller",file:"node_modules/@metamask/signature-controller/dist/index.js"}],[1514,{"./constants":1515,"./types":1517,"./utils":1518,"@ethersproject/bignumber":445,"@ethersproject/bytes":447,"@ethersproject/providers":493,"@metamask/base-controller":1071,"@metamask/controller-utils":1076,"bignumber.js":1519,"lodash/cloneDeep":3649,"lodash/mapValues":3677},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_INTERVAL=void 0;const i=e("@metamask/base-controller"),o=e("@metamask/controller-utils"),s=e("bignumber.js"),a=e("@ethersproject/bignumber"),c=e("@ethersproject/providers"),u=e("@ethersproject/bytes"),l=n(e("lodash/mapValues")),d=n(e("lodash/cloneDeep")),h=e("./types"),f=e("./utils"),p=e("./constants");r.DEFAULT_INTERVAL=5e3;class m extends i.BaseController{constructor({onNetworkStateChange:e,getNonceLock:t,getNetwork:n,provider:i,confirmExternalTransaction:o,trackMetaMetricsEvent:s},a,u){super(a,u),this.defaultConfig={interval:r.DEFAULT_INTERVAL,chainId:p.CHAIN_IDS.ETHEREUM,clientId:"default",supportedChainIds:[p.CHAIN_IDS.ETHEREUM,p.CHAIN_IDS.RINKEBY]},this.defaultState={smartTransactionsState:{smartTransactions:{},userOptIn:undefined,fees:{approvalTxFees:undefined,tradeTxFees:undefined},liveness:!0}},this.getNonceLock=t,this.getNetwork=n,this.ethersProvider=new c.Web3Provider(i),this.confirmExternalTransaction=o,this.trackMetaMetricsEvent=s,this.initialize(),this.initializeSmartTransactionsForChainId(),e((({providerConfig:e})=>{const{chainId:t}=e;this.configure({chainId:t}),this.initializeSmartTransactionsForChainId(),this.checkPoll(this.state),this.ethersProvider=new c.Web3Provider(i)})),this.subscribe((e=>this.checkPoll(e)))}async fetch(e,t){const{clientId:r}=this.config,n=Object.assign(Object.assign({},t),{headers:Object.assign({"Content-Type":"application/json"},r&&{"X-Client-Id":r})});return(0,f.handleFetch)(e,n)}checkPoll(e){const{smartTransactions:t}=e.smartTransactionsState,r=t[this.config.chainId],n=null==r?void 0:r.filter(f.isSmartTransactionPending);!this.timeoutHandle&&(null==n?void 0:n.length)>0?this.poll():this.timeoutHandle&&0===(null==n?void 0:n.length)&&this.stop()}initializeSmartTransactionsForChainId(){var e;if(this.config.supportedChainIds.includes(this.config.chainId)){const{smartTransactionsState:t}=this.state;this.update({smartTransactionsState:Object.assign(Object.assign({},t),{smartTransactions:Object.assign(Object.assign({},t.smartTransactions),{[this.config.chainId]:null!==(e=t.smartTransactions[this.config.chainId])&&void 0!==e?e:[]})})})}}async poll(e){const{chainId:t,supportedChainIds:r}=this.config;e&&this.configure({interval:e},!1,!1),this.timeoutHandle&&clearInterval(this.timeoutHandle),r.includes(t)&&(await(0,o.safelyExecute)((()=>this.updateSmartTransactions())),this.timeoutHandle=setInterval((()=>{(0,o.safelyExecute)((()=>this.updateSmartTransactions()))}),this.config.interval))}async stop(){this.timeoutHandle&&clearInterval(this.timeoutHandle),this.timeoutHandle=undefined}setOptInState(e){this.update({smartTransactionsState:Object.assign(Object.assign({},this.state.smartTransactionsState),{userOptIn:e})})}trackStxStatusChange(e,t){if(!t)return;let r=(0,d.default)(e);if(r=Object.assign(Object.assign({},(0,d.default)(t)),r),!r.swapMetaData||r.status===t.status&&t.swapMetaData)return;const n={stx_status:r.status,token_from_symbol:r.sourceTokenSymbol,token_to_symbol:r.destinationTokenSymbol,processing_time:(0,f.getStxProcessingTime)(r.time),stx_enabled:!0,current_stx_enabled:!0,stx_user_opt_in:!0};this.trackMetaMetricsEvent({event:"STX Status Updated",category:"swaps",sensitiveProperties:n})}isNewSmartTransaction(e){const{chainId:t}=this.config,{smartTransactionsState:r}=this.state,{smartTransactions:n}=r,i=n[t],o=null==i?void 0:i.findIndex((t=>t.uuid===e));return-1===o||o===undefined}updateSmartTransaction(e){const{chainId:t}=this.config,{smartTransactionsState:r}=this.state,{smartTransactions:n}=r,i=n[t],o=null==i?void 0:i.findIndex((t=>t.uuid===e.uuid)),s=this.isNewSmartTransaction(e.uuid);if(this.trackStxStatusChange(e,s?undefined:i[o]),s){const n=i.findIndex((t=>{var r,n,i;return(null===(r=t.txParams)||void 0===r?void 0:r.nonce)===(null===(n=e.txParams)||void 0===n?void 0:n.nonce)&&(null===(i=t.status)||void 0===i?void 0:i.startsWith("cancelled"))})),o=[(0,d.default)(e)],s=Object.assign(Object.assign({},e),{history:o}),a=n>-1?i.slice(0,n).concat(i.slice(n+1)).concat(s):i.concat(s);this.update({smartTransactionsState:Object.assign(Object.assign({},r),{smartTransactions:Object.assign(Object.assign({},r.smartTransactions),{[t]:a})})})}else{if((e.status===h.SmartTransactionStatuses.SUCCESS||e.status===h.SmartTransactionStatuses.REVERTED)&&!e.confirmed){const t=i[o],r=Object.assign(Object.assign({},t),e);this.confirmSmartTransaction(r)}this.update({smartTransactionsState:Object.assign(Object.assign({},r),{smartTransactions:Object.assign(Object.assign({},r.smartTransactions),{[t]:r.smartTransactions[t].map(((t,r)=>r===o?Object.assign(Object.assign({},t),e):t))})})})}}async updateSmartTransactions(){const{smartTransactions:e}=this.state.smartTransactionsState,{chainId:t}=this.config,r=(null==e?void 0:e[t]).filter(f.isSmartTransactionPending).map((e=>e.uuid));r.length>0&&this.fetchSmartTransactionsStatus(r)}async confirmSmartTransaction(e){var t,r,n;const i=null===(t=e.statusMetadata)||void 0===t?void 0:t.minedHash;try{const t=await this.ethersProvider.getTransactionReceipt(i),o=await this.ethersProvider.getTransaction(i),s=null===(r=o.maxFeePerGas)||void 0===r?void 0:r.toHexString(),c=null===(n=o.maxPriorityFeePerGas)||void 0===n?void 0:n.toHexString();if(null==t?void 0:t.blockNumber){const r=await this.ethersProvider.getBlock(null==t?void 0:t.blockNumber,!1),n=null==r?void 0:r.baseFeePerGas.toHexString(),o=(0,l.default)(t,(e=>e instanceof a.BigNumber?e.toHexString():e)),u=Object.assign(Object.assign({},e.txParams),{maxFeePerGas:s,maxPriorityFeePerGas:c}),d=Object.assign(Object.assign({},e),{id:e.uuid,status:"confirmed",hash:i,txParams:u}),h=(0,f.snapshotFromTxMeta)(d),p=(0,f.replayHistory)(d.history),m=(0,f.generateHistoryEntry)(p,h,"txStateManager: setting status to confirmed"),g=m.length>0?Object.assign(Object.assign({},d),{history:d.history.concat(m)}):d;this.confirmExternalTransaction(g,o,n),this.trackMetaMetricsEvent({event:"STX Confirmed",category:"swaps"}),this.updateSmartTransaction(Object.assign(Object.assign({},e),{confirmed:!0}))}}catch(e){this.trackMetaMetricsEvent({event:"STX Confirmation Failed",category:"swaps"}),console.error("confirm error",e)}}async fetchSmartTransactionsStatus(e){const{chainId:t}=this.config,r=new URLSearchParams({uuids:e.join(",")}),n=`${(0,f.getAPIRequestURL)(h.APIType.BATCH_STATUS,t)}?${r.toString()}`,i=await this.fetch(n);return Object.entries(i).forEach((([e,t])=>{this.updateSmartTransaction({statusMetadata:t,status:(0,f.calculateStatus)(t),cancellable:(0,f.isSmartTransactionCancellable)(t),uuid:e})})),i}async addNonceToTransaction(e){const t=await this.getNonceLock(e.from),r=t.nextNonce;return t.releaseLock(),Object.assign(Object.assign({},e),{nonce:`0x${r.toString(16)}`})}clearFees(){const e={approvalTxFees:undefined,tradeTxFees:undefined};return this.update({smartTransactionsState:Object.assign(Object.assign({},this.state.smartTransactionsState),{fees:e})}),e}async getFees(e,t){const{chainId:r}=this.config,n=[];let i;if(t){const r=await this.addNonceToTransaction(t);n.push(r),i=Object.assign(Object.assign({},e),{nonce:(0,f.incrementNonceInHex)(r.nonce)})}else i=await this.addNonceToTransaction(e);n.push(i);const o=await this.fetch((0,f.getAPIRequestURL)(h.APIType.GET_FEES,r),{method:"POST",body:JSON.stringify({txs:n})});let s,a;return t?(s=null==o?void 0:o.txs[0],a=null==o?void 0:o.txs[1]):a=null==o?void 0:o.txs[0],this.update({smartTransactionsState:Object.assign(Object.assign({},this.state.smartTransactionsState),{fees:{approvalTxFees:s,tradeTxFees:a}})}),{approvalTxFees:s,tradeTxFees:a}}async submitSignedTransactions({txParams:e,signedTransactions:t,signedCanceledTransactions:r}){const{chainId:n}=this.config,i=await this.fetch((0,f.getAPIRequestURL)(h.APIType.SUBMIT_TRANSACTIONS,n),{method:"POST",body:JSON.stringify({rawTxs:t,rawCancelTxs:r})}),o=Date.now(),a=this.getNetwork();let c;try{const t=await this.ethersProvider.getBalance(null==e?void 0:e.from);c=new s.BigNumber(t.toHexString()).toString(16)}catch(e){console.error("ethers error",e)}const l=await this.getNonceLock(null==e?void 0:e.from);try{const t=(0,u.hexlify)(l.nextNonce);e&&!(null==e?void 0:e.nonce)&&(e.nonce=t);const{nonceDetails:r}=l;this.updateSmartTransaction({chainId:n,nonceDetails:r,metamaskNetworkId:a,preTxBalance:c,status:h.SmartTransactionStatuses.PENDING,time:o,txParams:e,uuid:i.uuid,cancellable:!0})}finally{l.releaseLock()}return i}async cancelSmartTransaction(e){const{chainId:t}=this.config;await this.fetch((0,f.getAPIRequestURL)(h.APIType.CANCEL,t),{method:"POST",body:JSON.stringify({uuid:e})})}async fetchLiveness(){const{chainId:e}=this.config;let t=!1;try{const r=await this.fetch((0,f.getAPIRequestURL)(h.APIType.LIVENESS,e));t=Boolean(r.lastBlock)}catch(e){console.log('"fetchLiveness" API call failed')}return this.update({smartTransactionsState:Object.assign(Object.assign({},this.state.smartTransactionsState),{liveness:t})}),t}async setStatusRefreshInterval(e){e!==this.config.interval&&this.configure({interval:e},!1,!1)}getTransactions({addressFrom:e,status:t}){const{smartTransactions:r}=this.state.smartTransactionsState,{chainId:n}=this.config,i=null==r?void 0:r[n];return i&&0!==i.length?i.filter((r=>{var n;return r.status===t&&(null===(n=r.txParams)||void 0===n?void 0:n.from)===e})):[]}}r.default=m}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/SmartTransactionsController.js"}],[1515,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CHAIN_IDS=r.API_BASE_URL=void 0,r.API_BASE_URL="https://transaction.metaswap.codefi.network",r.CHAIN_IDS={ETHEREUM:"0x1",RINKEBY:"0x4",BSC:"0x38"}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/constants.js"}],[1516,{"./SmartTransactionsController":1514},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=n(e("./SmartTransactionsController"));r.default=i.default}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/index.js"}],[1517,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i;Object.defineProperty(r,"__esModule",{value:!0}),r.cancellationReasonToStatusMap=r.SmartTransactionStatuses=r.SmartTransactionCancellationReason=r.SmartTransactionMinedTx=r.APIType=void 0,function(e){e[e.GET_FEES=0]="GET_FEES",e[e.ESTIMATE_GAS=1]="ESTIMATE_GAS",e[e.SUBMIT_TRANSACTIONS=2]="SUBMIT_TRANSACTIONS",e[e.CANCEL=3]="CANCEL",e[e.BATCH_STATUS=4]="BATCH_STATUS",e[e.LIVENESS=5]="LIVENESS"}(r.APIType||(r.APIType={})),function(e){e.NOT_MINED="not_mined",e.SUCCESS="success",e.CANCELLED="cancelled",e.REVERTED="reverted",e.UNKNOWN="unknown"}(r.SmartTransactionMinedTx||(r.SmartTransactionMinedTx={})),function(e){e.WOULD_REVERT="would_revert",e.TOO_CHEAP="too_cheap",e.DEADLINE_MISSED="deadline_missed",e.INVALID_NONCE="invalid_nonce",e.USER_CANCELLED="user_cancelled",e.NOT_CANCELLED="not_cancelled",e.PREVIOUS_TX_CANCELLED="previous_tx_cancelled"}(n=r.SmartTransactionCancellationReason||(r.SmartTransactionCancellationReason={})),function(e){e.PENDING="pending",e.SUCCESS="success",e.REVERTED="reverted",e.UNKNOWN="unknown",e.CANCELLED="cancelled",e.CANCELLED_WOULD_REVERT="cancelled_would_revert",e.CANCELLED_TOO_CHEAP="cancelled_too_cheap",e.CANCELLED_DEADLINE_MISSED="cancelled_deadline_missed",e.CANCELLED_INVALID_NONCE="cancelled_invalid_nonce",e.CANCELLED_USER_CANCELLED="cancelled_user_cancelled",e.CANCELLED_PREVIOUS_TX_CANCELLED="cancelled_previous_tx_cancelled",e.RESOLVED="resolved"}(i=r.SmartTransactionStatuses||(r.SmartTransactionStatuses={})),r.cancellationReasonToStatusMap={[n.WOULD_REVERT]:i.CANCELLED_WOULD_REVERT,[n.TOO_CHEAP]:i.CANCELLED_TOO_CHEAP,[n.DEADLINE_MISSED]:i.CANCELLED_DEADLINE_MISSED,[n.INVALID_NONCE]:i.CANCELLED_INVALID_NONCE,[n.USER_CANCELLED]:i.CANCELLED_USER_CANCELLED,[n.PREVIOUS_TX_CANCELLED]:i.CANCELLED_PREVIOUS_TX_CANCELLED}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/types.js"}],[1518,{"./constants":1515,"./types":1517,"@ethersproject/bytes":447,"bignumber.js":1519,"fast-json-patch":3148,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.incrementNonceInHex=r.isSmartTransactionCancellable=r.handleFetch=r.mapKeysToCamel=r.getStxProcessingTime=r.snapshotFromTxMeta=r.replayHistory=r.generateHistoryEntry=r.calculateStatus=r.getAPIRequestURL=r.isSmartTransactionStatusResolved=r.isSmartTransactionPending=void 0;const i=n(e("fast-json-patch")),o=n(e("lodash")),s=e("bignumber.js"),a=e("@ethersproject/bytes"),c=e("./types"),u=e("./constants");r.isSmartTransactionPending=function(e){return e.status===c.SmartTransactionStatuses.PENDING};r.isSmartTransactionStatusResolved=e=>"uuid_not_found"===e,r.getAPIRequestURL=function(e,t){const r=parseInt(t,16);switch(e){case c.APIType.GET_FEES:return`${u.API_BASE_URL}/networks/${r}/getFees`;case c.APIType.ESTIMATE_GAS:return`${u.API_BASE_URL}/networks/${r}/estimateGas`;case c.APIType.SUBMIT_TRANSACTIONS:return`${u.API_BASE_URL}/networks/${r}/submitTransactions`;case c.APIType.CANCEL:return`${u.API_BASE_URL}/networks/${r}/cancel`;case c.APIType.BATCH_STATUS:return`${u.API_BASE_URL}/networks/${r}/batchStatus`;case c.APIType.LIVENESS:return`${u.API_BASE_URL}/networks/${r}/health`;default:throw new Error("Invalid APIType")}};r.calculateStatus=e=>{if((0,r.isSmartTransactionStatusResolved)(e))return c.SmartTransactionStatuses.RESOLVED;const t=[c.SmartTransactionCancellationReason.WOULD_REVERT,c.SmartTransactionCancellationReason.TOO_CHEAP,c.SmartTransactionCancellationReason.DEADLINE_MISSED,c.SmartTransactionCancellationReason.INVALID_NONCE,c.SmartTransactionCancellationReason.USER_CANCELLED,c.SmartTransactionCancellationReason.PREVIOUS_TX_CANCELLED];if((null==e?void 0:e.minedTx)===c.SmartTransactionMinedTx.NOT_MINED){if(e.cancellationReason===c.SmartTransactionCancellationReason.NOT_CANCELLED)return c.SmartTransactionStatuses.PENDING;const r=t.findIndex((t=>t===e.cancellationReason))>-1;if(e.cancellationReason&&r)return e.isSettled?c.cancellationReasonToStatusMap[e.cancellationReason]:c.SmartTransactionStatuses.PENDING}else{if((null==e?void 0:e.minedTx)===c.SmartTransactionMinedTx.SUCCESS)return c.SmartTransactionStatuses.SUCCESS;if((null==e?void 0:e.minedTx)===c.SmartTransactionMinedTx.CANCELLED)return c.SmartTransactionStatuses.CANCELLED;if((null==e?void 0:e.minedTx)===c.SmartTransactionMinedTx.REVERTED)return c.SmartTransactionStatuses.REVERTED;if((null==e?void 0:e.minedTx)===c.SmartTransactionMinedTx.UNKNOWN)return c.SmartTransactionStatuses.UNKNOWN}return c.SmartTransactionStatuses.UNKNOWN},r.generateHistoryEntry=function(e,t,r){const n=i.default.compare(e,t);return n[0]&&(r&&(n[0].note=r),n[0].timestamp=Date.now()),n},r.replayHistory=function(e){return o.default.cloneDeep(e).reduce(((e,t)=>i.default.applyPatch(e,t).newDocument))},r.snapshotFromTxMeta=function(e){const t=Object.assign({},e);return delete t.history,o.default.cloneDeep(t)};r.getStxProcessingTime=e=>e?Math.round((Date.now()-e)/1e3):undefined;r.mapKeysToCamel=e=>{if(!o.default.isObject(e))return e;const t=o.default.mapValues(e,(e=>o.default.isArray(e)?e.map(r.mapKeysToCamel):o.default.isObject(e)?(0,r.mapKeysToCamel)(e):e));return o.default.mapKeys(t,((e,t)=>o.default.camelCase(t)))},r.handleFetch=async function(e,t){const n=await fetch(e,t),i=await n.json();if(!n.ok)throw console.log("response",n),new Error(`Fetch error:${JSON.stringify(Object.assign({status:n.status},(0,r.mapKeysToCamel)(i)))}`);return i};r.isSmartTransactionCancellable=e=>e.minedTx===c.SmartTransactionMinedTx.NOT_MINED&&(!e.cancellationReason||e.cancellationReason===c.SmartTransactionCancellationReason.NOT_CANCELLED);r.incrementNonceInHex=e=>{const t=new s.BigNumber(e,16).toString(10);return(0,a.hexlify)(Number(t)+1)}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/dist/utils.js"}],[1519,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){!function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,f=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(t=e[n++]+"",r=u-t.length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var r,n,i=e.c,o=t.c,s=e.s,a=t.s,c=e.e,u=t.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=c==u,!i||!o)return n?0:!i^r?1:-1;if(!n)return c>u^r?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return c==u?0:c>u^r?1:-1}function y(e,t,r,n){if(e<t||e>r||e!==o(e))throw Error(s+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function b(e){var t=e.c.length-1;return p(e.e/u)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function v(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}r=function e(t){var r,_,T,k,S,E,N,O,C,I,P=H.prototype={constructor:H,toString:null,valueOf:null},A=new H(1),j=20,R=4,M=-7,x=21,z=-1e7,B=1e7,L=!1,D=1,U=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},V="0123456789abcdefghijklmnopqrstuvwxyz",$=!0;function H(e,t){var r,i,s,c,d,h,f,p,m=this;if(!(m instanceof H))return new H(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>B?m.c=m.e=null:e.e<z?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>B?m.c=m.e=null:(m.e=c,m.c=[e]))}p=String(e)}else{if(!n.test(p=String(e)))return T(m,p,h);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(c=p.indexOf("."))>-1&&(p=p.replace(".","")),(d=p.search(/e/i))>0?(c<0&&(c=d),c+=+p.slice(d+1),p=p.substring(0,d)):c<0&&(c=p.length)}else{if(y(t,2,V.length,"Base"),10==t&&$)return J(m=new H(e),j+m.e+1,R);if(p=String(e),h="number"==typeof e){if(0*e!=0)return T(m,p,h,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,H.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=V.slice(0,t),c=d=0,f=p.length;d<f;d++)if(r.indexOf(i=p.charAt(d))<0){if("."==i){if(d>c){c=f;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,d=-1,c=0;continue}return T(m,String(e),h,t)}h=!1,(c=(p=_(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):c=p.length}for(d=0;48===p.charCodeAt(d);d++);for(f=p.length;48===p.charCodeAt(--f););if(p=p.slice(d,++f)){if(f-=d,h&&H.DEBUG&&f>15&&(e>l||e!==o(e)))throw Error(a+m.s*e);if((c=c-d-1)>B)m.c=m.e=null;else if(c<z)m.c=[m.e=0];else{if(m.e=c,m.c=[],d=(c+1)%u,c<0&&(d+=u),d<f){for(d&&m.c.push(+p.slice(0,d)),f-=u;d<f;)m.c.push(+p.slice(d,d+=u));d=u-(p=p.slice(d)).length}else d-=f;for(;d--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function G(e,t,r,n){var i,o,s,a,c;if(null==r?r=R:y(r,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=m(e.c),c=1==n||2==n&&(s<=M||s>=x)?w(c,s):v(c,s,"0");else if(o=(e=J(new H(e),t,r)).e,a=(c=m(e.c)).length,1==n||2==n&&(t<=o||o<=M)){for(;a<t;c+="0",a++);c=w(c,o)}else if(t-=s,c=v(c,o,"0"),o+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=o-a)>0)for(o+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function q(e,t){for(var r,n=1,i=new H(e[0]);n<e.length;n++){if(!(r=new H(e[n])).s){i=r;break}t.call(i,r)&&(i=r)}return i}function W(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*u-1)>B?e.c=e.e=null:r<z?e.c=[e.e=0]:(e.e=r,e.c=t),e}function J(e,t,r,n){var s,a,l,h,f,p,m,g=e.c,y=d;if(g){e:{for(s=1,h=g[0];h>=10;h/=10,s++);if((a=t-s)<0)a+=u,l=t,m=(f=g[p=0])/y[s-l-1]%10|0;else if((p=i((a+1)/u))>=g.length){if(!n)break e;for(;g.length<=p;g.push(0));f=m=0,s=1,l=(a%=u)-u+1}else{for(f=h=g[p],s=1;h>=10;h/=10,s++);m=(l=(a%=u)-u+s)<0?0:f/y[s-l-1]%10|0}if(n=n||t<0||null!=g[p+1]||(l<0?f:f%y[s-l-1]),n=r<4?(m||n)&&(0==r||r==(e.s<0?3:2)):m>5||5==m&&(4==r||n||6==r&&(a>0?l>0?f/y[s-l]:0:g[p-1])%10&1||r==(e.s<0?8:7)),t<1||!g[0])return g.length=0,n?(t-=e.e+1,g[0]=y[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,h=1,p--):(g.length=p+1,h=y[u-a],g[p]=l>0?o(f/y[s-l]%y[l])*h:0),n)for(;;){if(0==p){for(a=1,l=g[0];l>=10;l/=10,a++);for(l=g[0]+=h,h=1;l>=10;l/=10,h++);a!=h&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[p]+=h,g[p]!=c)break;g[p--]=0,h=1}for(a=g.length;0===g[--a];g.pop());}e.e>B?e.c=e.e=null:e.e<z&&(e.c=[e.e=0])}return e}function Q(e){var t,r=e.e;return null===r?e.toString():(t=m(e.c),t=r<=M||r>=x?w(t,r):v(t,r,"0"),e.s<0?"-"+t:t)}return H.clone=e,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(r=e[t],0,f,t),j=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(r=e[t],0,8,t),R=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(y(r[0],-f,0,t),y(r[1],0,f,t),M=r[0],x=r[1]):(y(r,-f,f,t),M=-(x=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)y(r[0],-f,-1,t),y(r[1],1,f,t),z=r[0],B=r[1];else{if(y(r,-f,f,t),!r)throw Error(s+t+" cannot be zero: "+r);z=-(B=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(s+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw L=!r,Error(s+"crypto unavailable");L=r}else L=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(r=e[t],0,9,t),D=r),e.hasOwnProperty(t="POW_PRECISION")&&(y(r=e[t],0,f,t),U=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(s+t+" not an object: "+r);F=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(s+t+" invalid: "+r);$="0123456789"==r.slice(0,10),V=r}}return{DECIMAL_PLACES:j,ROUNDING_MODE:R,EXPONENTIAL_AT:[M,x],RANGE:[z,B],CRYPTO:L,MODULO_MODE:D,POW_PRECISION:U,FORMAT:F,ALPHABET:V}},H.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!H.DEBUG)return!0;var t,r,n=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-f&&i<=f&&i===o(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%u)<1&&(t+=u),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=c||r!==o(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},H.maximum=H.max=function(){return q(arguments,P.lt)},H.minimum=H.min=function(){return q(arguments,P.gt)},H.random=(k=9007199254740992,S=Math.random()*k&2097151?function(){return o(Math.random()*k)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,a,c,l=0,h=[],p=new H(A);if(null==e?e=j:y(e,0,f),a=i(e/u),L)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(c=131072*t[l]+(t[l+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[l]=r[0],t[l+1]=r[1]):(h.push(c%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw L=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(c=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(h.push(c%1e14),l+=7);l=a/7}if(!L)for(;l<a;)(c=S())<9e15&&(h[l++]=c%1e14);for(a=h[--l],e%=u,a&&e&&(c=d[u-e],h[l]=o(a/c)*c);0===h[l];h.pop(),l--);if(l<0)h=[n=0];else{for(n=-1;0===h[0];h.splice(0,1),n-=u);for(l=1,c=h[0];c>=10;c/=10,l++);l<u&&(n-=u-l)}return p.e=n,p.c=h,p}),H.sum=function(){for(var e=1,t=arguments,r=new H(t[0]);e<t.length;)r=r.plus(t[e++]);return r},_=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,s=[0],a=0,c=e.length;a<c;){for(o=s.length;o--;s[o]*=t);for(s[0]+=n.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var c,u,l,d,h,f,p,g,y=n.indexOf("."),b=j,w=R;for(y>=0&&(d=U,U=0,n=n.replace(".",""),f=(g=new H(i)).pow(n.length-y),U=d,g.c=t(v(m(f.c),f.e,"0"),10,o,e),g.e=g.c.length),l=d=(p=t(n,i,o,a?(c=V,e):(c=e,V))).length;0==p[--d];p.pop());if(!p[0])return c.charAt(0);if(y<0?--l:(f.c=p,f.e=l,f.s=s,p=(f=r(f,g,b,w,o)).c,h=f.r,l=f.e),y=p[u=l+b+1],d=o/2,h=h||u<0||null!=p[u+1],h=w<4?(null!=y||h)&&(0==w||w==(f.s<0?3:2)):y>d||y==d&&(4==w||h||6==w&&1&p[u-1]||w==(f.s<0?8:7)),u<1||!p[0])n=h?v(c.charAt(1),-b,c.charAt(0)):c.charAt(0);else{if(p.length=u,h)for(--o;++p[--u]>o;)p[u]=0,u||(++l,p=[1].concat(p));for(d=p.length;!p[--d];);for(y=0,n="";y<=d;n+=c.charAt(p[y++]));n=v(n,l,c.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,o,s,a=0,c=e.length,u=t%h,l=t/h|0;for(e=e.slice();c--;)a=((i=u*(o=e[c]%h)+(n=l*o+(s=e[c]/h|0)*u)%h*h+a)/r|0)+(n/h|0)+l*s,e[c]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,s,a,l){var d,h,f,m,g,y,b,w,v,_,T,k,S,E,N,O,C,I=n.s==i.s?1:-1,P=n.c,A=i.c;if(!(P&&P[0]&&A&&A[0]))return new H(n.s&&i.s&&(P?!A||P[0]!=A[0]:A)?P&&0==P[0]||!A?0*I:I/0:NaN);for(v=(w=new H(I)).c=[],I=s+(h=n.e-i.e)+1,l||(l=c,h=p(n.e/u)-p(i.e/u),I=I/u|0),f=0;A[f]==(P[f]||0);f++);if(A[f]>(P[f]||0)&&h--,I<0)v.push(1),m=!0;else{for(E=P.length,O=A.length,f=0,I+=2,(g=o(l/(A[0]+1)))>1&&(A=e(A,g,l),P=e(P,g,l),O=A.length,E=P.length),S=O,T=(_=P.slice(0,O)).length;T<O;_[T++]=0);C=A.slice(),C=[0].concat(C),N=A[0],A[1]>=l/2&&N++;do{if(g=0,(d=t(A,_,O,T))<0){if(k=_[0],O!=T&&(k=k*l+(_[1]||0)),(g=o(k/N))>1)for(g>=l&&(g=l-1),b=(y=e(A,g,l)).length,T=_.length;1==t(y,_,b,T);)g--,r(y,O<b?C:A,b,l),b=y.length,d=1;else 0==g&&(d=g=1),b=(y=A.slice()).length;if(b<T&&(y=[0].concat(y)),r(_,y,T,l),T=_.length,-1==d)for(;t(A,_,O,T)<1;)g++,r(_,O<T?C:A,T,l),T=_.length}else 0===d&&(g++,_=[0]);v[f++]=g,_[0]?_[T++]=P[S]||0:(_=[P[S]],T=1)}while((S++<E||null!=_[0])&&I--);m=null!=_[0],v[0]||v.splice(0,1)}if(l==c){for(f=1,I=v[0];I>=10;I/=10,f++);J(w,s+(w.e=f+h*u-1)+1,a,m)}else w.e=h,w.r=+m;return w}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,N=/^([^.]+)\.$/,O=/^\.([^.]+)$/,C=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,T=function(e,t,r,n){var i,o=r?t:t.replace(I,"");if(C.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(E,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,o=o.replace(N,"$1").replace(O,"0.$1")),t!=o))return new H(o,i);if(H.DEBUG)throw Error(s+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},P.absoluteValue=P.abs=function(){var e=new H(this);return e.s<0&&(e.s=1),e},P.comparedTo=function(e,t){return g(this,new H(e,t))},P.decimalPlaces=P.dp=function(e,t){var r,n,i,o=this;if(null!=e)return y(e,0,f),null==t?t=R:y(t,0,8),J(new H(o),e+o.e+1,t);if(!(r=o.c))return null;if(n=((i=r.length-1)-p(this.e/u))*u,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},P.dividedBy=P.div=function(e,t){return r(this,new H(e,t),j,R)},P.dividedToIntegerBy=P.idiv=function(e,t){return r(this,new H(e,t),0,1)},P.exponentiatedBy=P.pow=function(e,t){var r,n,a,c,l,d,h,f,p=this;if((e=new H(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+Q(e));if(null!=t&&(t=new H(t)),l=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return f=new H(Math.pow(+Q(p),l?e.s*(2-b(e)):+Q(e))),t?f.mod(t):f;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new H(NaN);(n=!d&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return c=p.s<0&&b(e)?-0:0,p.e>-1&&(c=1/c),new H(d?1/c:c);U&&(c=i(U/u+2))}for(l?(r=new H(.5),d&&(e.s=1),h=b(e)):h=(a=Math.abs(+Q(e)))%2,f=new H(A);;){if(h){if(!(f=f.times(p)).c)break;c?f.c.length>c&&(f.c.length=c):n&&(f=f.mod(t))}if(a){if(0===(a=o(a/2)))break;h=a%2}else if(J(e=e.times(r),e.e+1,1),e.e>14)h=b(e);else{if(0===(a=+Q(e)))break;h=a%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):n&&(p=p.mod(t))}return n?f:(d&&(f=A.div(f)),t?f.mod(t):c?J(f,U,R,undefined):f)},P.integerValue=function(e){var t=new H(this);return null==e?e=R:y(e,0,8),J(t,t.e+1,e)},P.isEqualTo=P.eq=function(e,t){return 0===g(this,new H(e,t))},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(e,t){return g(this,new H(e,t))>0},P.isGreaterThanOrEqualTo=P.gte=function(e,t){return 1===(t=g(this,new H(e,t)))||0===t},P.isInteger=function(){return!!this.c&&p(this.e/u)>this.c.length-2},P.isLessThan=P.lt=function(e,t){return g(this,new H(e,t))<0},P.isLessThanOrEqualTo=P.lte=function(e,t){return-1===(t=g(this,new H(e,t)))||0===t},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.minus=function(e,t){var r,n,i,o,s=this,a=s.s;if(t=(e=new H(e,t)).s,!a||!t)return new H(NaN);if(a!=t)return e.s=-t,s.plus(e);var l=s.e/u,d=e.e/u,h=s.c,f=e.c;if(!l||!d){if(!h||!f)return h?(e.s=-t,e):new H(f?s:NaN);if(!h[0]||!f[0])return f[0]?(e.s=-t,e):new H(h[0]?s:3==R?-0:0)}if(l=p(l),d=p(d),h=h.slice(),a=l-d){for((o=a<0)?(a=-a,i=h):(d=l,i=f),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=h.length)<(t=f.length))?a:t,a=t=0;t<n;t++)if(h[t]!=f[t]){o=h[t]<f[t];break}if(o&&(i=h,h=f,f=i,e.s=-e.s),(t=(n=f.length)-(r=h.length))>0)for(;t--;h[r++]=0);for(t=c-1;n>a;){if(h[--n]<f[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r],h[n]+=c}h[n]-=f[n]}for(;0==h[0];h.splice(0,1),--d);return h[0]?W(e,h,d):(e.s=3==R?-1:1,e.c=[e.e=0],e)},P.modulo=P.mod=function(e,t){var n,i,o=this;return e=new H(e,t),!o.c||!e.s||e.c&&!e.c[0]?new H(NaN):!e.c||o.c&&!o.c[0]?new H(o):(9==D?(i=e.s,e.s=1,n=r(o,e,0,3),e.s=i,n.s*=i):n=r(o,e,0,D),(e=o.minus(n.times(e))).c[0]||1!=D||(e.s=o.s),e)},P.multipliedBy=P.times=function(e,t){var r,n,i,o,s,a,l,d,f,m,g,y,b,w,v,_=this,T=_.c,k=(e=new H(e,t)).c;if(!(T&&k&&T[0]&&k[0]))return!_.s||!e.s||T&&!T[0]&&!k||k&&!k[0]&&!T?e.c=e.e=e.s=null:(e.s*=_.s,T&&k?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=p(_.e/u)+p(e.e/u),e.s*=_.s,(l=T.length)<(m=k.length)&&(b=T,T=k,k=b,i=l,l=m,m=i),i=l+m,b=[];i--;b.push(0));for(w=c,v=h,i=m;--i>=0;){for(r=0,g=k[i]%v,y=k[i]/v|0,o=i+(s=l);o>i;)r=((d=g*(d=T[--s]%v)+(a=y*d+(f=T[s]/v|0)*g)%v*v+b[o]+r)/w|0)+(a/v|0)+y*f,b[o--]=d%w;b[o]=r}return r?++n:b.splice(0,1),W(e,b,n)},P.negated=function(){var e=new H(this);return e.s=-e.s||null,e},P.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new H(e,t)).s,!i||!t)return new H(NaN);if(i!=t)return e.s=-t,n.minus(e);var o=n.e/u,s=e.e/u,a=n.c,l=e.c;if(!o||!s){if(!a||!l)return new H(i/0);if(!a[0]||!l[0])return l[0]?e:new H(a[0]?n:0*i)}if(o=p(o),s=p(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=l):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=l.length)<0&&(r=l,l=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+l[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++s),W(e,a,s)},P.precision=P.sd=function(e,t){var r,n,i,o=this;if(null!=e&&e!==!!e)return y(e,1,f),null==t?t=R:y(t,0,8),J(new H(o),e,t);if(!(r=o.c))return null;if(n=(i=r.length-1)*u+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&o.e+1>n&&(n=o.e+1),n},P.shiftedBy=function(e){return y(e,-9007199254740991,l),this.times("1e"+e)},P.squareRoot=P.sqrt=function(){var e,t,n,i,o,s=this,a=s.c,c=s.s,u=s.e,l=j+4,d=new H("0.5");if(1!==c||!a||!a[0])return new H(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+Q(s)))||c==1/0?(((t=m(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=p((u+1)/2)-(u<0||u%2),n=new H(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new H(c+""),n.c[0])for((c=(u=n.e)+l)<3&&(c=0);;)if(o=n,n=d.times(o.plus(r(s,o,l,1))),m(o.c).slice(0,c)===(t=m(n.c)).slice(0,c)){if(n.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(J(n,n.e+j+2,1),e=!n.times(n).eq(s));break}if(!i&&(J(o,o.e+j+2,0),o.times(o).eq(s))){n=o;break}l+=4,c+=4,i=1}return J(n,n.e+j+1,R,e)},P.toExponential=function(e,t){return null!=e&&(y(e,0,f),e++),G(this,e,t,1)},P.toFixed=function(e,t){return null!=e&&(y(e,0,f),e=e+this.e+1),G(this,e,t)},P.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=F;else if("object"!=typeof r)throw Error(s+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var o,a=n.split("."),c=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",d=a[0],h=a[1],f=i.s<0,p=f?d.slice(1):d,m=p.length;if(u&&(o=c,c=u,u=o,m-=o),c>0&&m>0){for(o=m%c||c,d=p.substr(0,o);o<m;o+=c)d+=l+p.substr(o,c);u>0&&(d+=l+p.slice(o)),f&&(d="-"+d)}n=h?d+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):d}return(r.prefix||"")+n+(r.suffix||"")},P.toFraction=function(e){var t,n,i,o,a,c,l,h,f,p,g,y,b=this,w=b.c;if(null!=e&&(!(l=new H(e)).isInteger()&&(l.c||1!==l.s)||l.lt(A)))throw Error(s+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+Q(l));if(!w)return new H(b);for(t=new H(A),f=n=new H(A),i=h=new H(A),y=m(w),a=t.e=y.length-b.e-1,t.c[0]=d[(c=a%u)<0?u+c:c],e=!e||l.comparedTo(t)>0?a>0?t:f:l,c=B,B=1/0,l=new H(y),h.c[0]=0;p=r(l,t,0,1),1!=(o=n.plus(p.times(i))).comparedTo(e);)n=i,i=o,f=h.plus(p.times(o=f)),h=o,t=l.minus(p.times(o=t)),l=o;return o=r(e.minus(n),i,0,1),h=h.plus(o.times(f)),n=n.plus(o.times(i)),h.s=f.s=b.s,g=r(f,i,a*=2,R).minus(b).abs().comparedTo(r(h,n,a,R).minus(b).abs())<1?[f,i]:[h,n],B=c,g},P.toNumber=function(){return+Q(this)},P.toPrecision=function(e,t){return null!=e&&y(e,1,f),G(this,e,t,2)},P.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=M||i>=x?w(m(r.c),i):v(m(r.c),i,"0"):10===e&&$?t=v(m((r=J(new H(r),j+i+1,R)).c),r.e,"0"):(y(e,2,V.length,"Base"),t=_(v(m(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},P.valueOf=P.toJSON=function(){return Q(this)},P._isBigNumber=!0,null!=t&&H.set(t),H}(),r.default=r.BigNumber=r,"function"==typeof define&&define.amd?define((function(){return r})):void 0!==t&&t.exports?t.exports=r:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=r)}(this)}}},{package:"@metamask/smart-transactions-controller>bignumber.js",file:"node_modules/@metamask/smart-transactions-controller/node_modules/bignumber.js/bignumber.js"}],[152,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:70,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=70;const r=function(e){var t;if(Array.isArray(null==e||null===(t=e.PermissionLogController)||void 0===t?void 0:t.permissionActivityLog)){const{PermissionLogController:{permissionActivityLog:t}}=e;t.forEach((e=>{e&&"object"==typeof e&&!Array.isArray(e)&&(delete e.request,delete e.response)}))}return e}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/070.js"}],[153,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:71,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=71;const r=function(e){e.NotificationController&&(e.AnnouncementController={announcements:e.NotificationController.notifications},delete e.NotificationController);return e}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/071.js"}],[154,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:72,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=72;const r=function(e){const t=(null==e?void 0:e.PreferencesController)||{};return{...e,PreferencesController:{...t,knownMethodData:{}}}}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/072.js"}],[155,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:73,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=73;const r=function(e){const t=(null==e?void 0:e.PreferencesController)||{};return{...e,PreferencesController:{...t,knownMethodData:{}}}}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/073.js"}],[156,{"../../../shared/constants/network":4354,"bignumber.js":2428,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=e("lodash"),o=(n=e("bignumber.js"))&&n.__esModule?n:{default:n},s=e("../../../shared/constants/network");const a=e=>new o.default(e||"0x0",16).gt(0),c=["0x3","0x2a","0x4"],u={"0x3":{rpcUrl:(0,s.getRpcUrl)({network:"ropsten"}),nickname:"Ropsten",ticker:"RopstenETH"},"0x2a":{rpcUrl:(0,s.getRpcUrl)({network:"kovan"}),nickname:"Kovan",ticker:"KovanETH"},"0x4":{rpcUrl:(0,s.getRpcUrl)({network:"rinkeby"}),nickname:"Rinkeby",ticker:"RinkebyETH"}};var l={version:74,async migrate(e){const t=(0,i.cloneDeep)(e);t.meta.version=74;const r=function(e){var t,r;const n=(null==e?void 0:e.PreferencesController)||{},o=n.preferences||{},s=(null==e?void 0:e.NetworkController)||{},l=(null==s?void 0:s.provider)||{},d=c.filter((e=>e===(null==l?void 0:l.chainId)));if(!o.showTestNetworks&&0===d.length)return e;const h=(null==e||null===(t=e.TransactionController)||void 0===t?void 0:t.transactions)||{},f=(null===(r=e.CachedBalancesController)||void 0===r?void 0:r.cachedBalances)||{},p=Object.values(h).filter((({chainId:e})=>c.includes(e))).map((({chainId:e})=>e)),m=c.filter((e=>Object.values(f[e]||{}).some(a))),g=(0,i.uniq)([...m,...p,...d]),y=n.frequentRpcListDetail??[];g.forEach((e=>{y.find((t=>t.chainId===e))||y.unshift({rpcUrl:u[e].rpcUrl,chainId:e,ticker:u[e].ticker,nickname:u[e].nickname,rpcPrefs:{}})})),y.length&&(n.frequentRpcListDetail=y);if(d.length){const e=d[0];s.provider={...s.provider,type:"rpc",rpcUrl:u[e].rpcUrl,chainId:e,nickname:u[e].nickname,ticker:u[e].ticker}}return{...e,PreferencesController:{...n},NetworkController:{...s}}}(t.data);return t.data=r,t}};r.default=l}}},{package:"$root$",file:"app/scripts/migrations/074.js"}],[157,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:75,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=75;const r=function(e){return delete e.ThreeBoxController,e}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/075.js"}],[158,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:76,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=76;const r=function(e){var t;if(e.CollectiblesController){const{allCollectibleContracts:t,allCollectibles:r,ignoredCollectibles:n,...i}=e.CollectiblesController;e.NftController={...t?{allNftContracts:t}:{},...r?{allNfts:r}:{},...n?{ignoredNfts:n}:{},...i},delete e.CollectiblesController}null!==(t=e.PreferencesController)&&void 0!==t&&t.useCollectibleDetection&&(e.PreferencesController.useNftDetection=e.PreferencesController.useCollectibleDetection,delete e.PreferencesController.useCollectibleDetection);return e}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/076.js"}],[159,{"@metamask/utils":1715},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){(0,n.hasProperty)(e,"PreferencesController")&&(0,n.isObject)(e.PreferencesController)&&(0,n.hasProperty)(e.PreferencesController,"frequentRpcListDetail")&&(0,n.isObject)(e.NetworkController)&&(0,n.hasProperty)(e.NetworkController,"networkConfigurations")&&delete e.PreferencesController.frequentRpcListDetail;return{...e}};var n=e("@metamask/utils")}}},{package:"$root$",file:"app/scripts/migrations/077-supplements/077-supplement-for-082.ts"}],[16,{"@metamask/obs-store":1394,loglevel:3688},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=e("@metamask/obs-store"),o=(n=e("loglevel"))&&n.__esModule?n:{default:n};function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.default=class{constructor(e={}){s(this,"registerOnboarding",(async(e,t)=>{if(this.store.getState().completedOnboarding)return void o.default.debug("Ignoring registerOnboarding; user already onboarded");const r={...this.store.getState().onboardingTabs};r[e]&&r[e]===t||(o.default.debug(`Registering onboarding tab at location '${e}' with tabId '${t}'`),r[e]=t,this.store.updateState({onboardingTabs:r}))}));const t={seedPhraseBackedUp:null,firstTimeFlowType:null,completedOnboarding:!1,...e.initState,onboardingTabs:{}};this.store=new i.ObservableStore(t)}setSeedPhraseBackedUp(e){this.store.updateState({seedPhraseBackedUp:e})}async completeOnboarding(){return this.store.updateState({completedOnboarding:!0}),!0}setFirstTimeFlowType(e){this.store.updateState({firstTimeFlowType:e})}}}}},{package:"$root$",file:"app/scripts/controllers/onboarding.js"}],[160,{"@metamask/utils":1715},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){(0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,n.hasProperty)(e.NetworkController,"network")&&(0,n.hasProperty)(e.NetworkController,"networkId")&&delete e.NetworkController.network;return{...e}};var n=e("@metamask/utils")}}},{package:"$root$",file:"app/scripts/migrations/077-supplements/077-supplement-for-084.ts"}],[161,{"@metamask/utils":1715},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){(0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,n.hasProperty)(e.NetworkController,"provider")&&(0,n.hasProperty)(e.NetworkController,"providerConfig")&&delete e.NetworkController.provider;return{...e}};var n=e("@metamask/utils")}}},{package:"$root$",file:"app/scripts/migrations/077-supplements/077-supplement-for-086.ts"}],[162,{"@metamask/utils":1715},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if((0,n.hasProperty)(e,"NftController")&&(0,n.isObject)(e.NftController)){const t=e.NftController;if((0,n.hasProperty)(t,"allNftContracts")&&(0,n.isObject)(t.allNftContracts)){const{allNftContracts:e}=t;Object.keys(e).every((t=>(0,n.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const r=e[t];if((0,n.isObject)(r)&&i(r))for(const e of Object.keys(r))(0,n.isStrictHexString)(e)||delete r[e]}))}if((0,n.hasProperty)(t,"allNfts")&&(0,n.isObject)(t.allNfts)){const{allNfts:e}=t;Object.keys(e).every((t=>(0,n.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const r=e[t];if((0,n.isObject)(r)&&i(r))for(const e of Object.keys(r))(0,n.isStrictHexString)(e)||delete r[e]}))}e.NftController=t}if((0,n.hasProperty)(e,"TokenListController")&&(0,n.isObject)(e.TokenListController)){const t=e.TokenListController;if((0,n.hasProperty)(t,"tokensChainsCache")&&(0,n.isObject)(t.tokensChainsCache)&&i(t.tokensChainsCache))for(const e of Object.keys(t.tokensChainsCache))(0,n.isStrictHexString)(e)||delete t.tokensChainsCache[e]}if((0,n.hasProperty)(e,"TokensController")&&(0,n.isObject)(e.TokensController)){const t=e.TokensController;if((0,n.hasProperty)(t,"allTokens")&&(0,n.isObject)(t.allTokens)&&i(t.allTokens)){const{allTokens:e}=t;for(const r of Object.keys(e))(0,n.isStrictHexString)(r)||delete t.allTokens[r]}if((0,n.hasProperty)(t,"allIgnoredTokens")&&(0,n.isObject)(t.allIgnoredTokens)&&i(t.allIgnoredTokens)){const{allIgnoredTokens:e}=t;for(const r of Object.keys(e))(0,n.isStrictHexString)(r)||delete t.allIgnoredTokens[r]}if((0,n.hasProperty)(t,"allDetectedTokens")&&(0,n.isObject)(t.allDetectedTokens)&&i(t.allDetectedTokens)){const{allDetectedTokens:e}=t;for(const r of Object.keys(e))(0,n.isStrictHexString)(r)||delete t.allDetectedTokens[r]}e.TokensController=t}return e};var n=e("@metamask/utils");function i(e){return Object.keys(e).some((e=>(0,n.isStrictHexString)(e)))}}}},{package:"$root$",file:"app/scripts/migrations/077-supplements/077-supplement-for-088.ts"}],[163,{"./077-supplements/077-supplement-for-082":159,"./077-supplements/077-supplement-for-084":160,"./077-supplements/077-supplement-for-086":161,"./077-supplements/077-supplement-for-088":162,"@metamask/utils":1715,lodash:3676,loglevel:3688},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=l(e("loglevel")),o=e("@metamask/utils"),s=l(e("./077-supplements/077-supplement-for-082")),a=l(e("./077-supplements/077-supplement-for-084")),c=l(e("./077-supplements/077-supplement-for-086")),u=l(e("./077-supplements/077-supplement-for-088"));function l(e){return e&&e.__esModule?e:{default:e}}var d={version:77,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=77;let r=function(e){if(!(0,o.hasProperty)(e,"TokenListController"))return i.default.warn("Skipping migration, TokenListController state is missing"),e;var t,r;if(!(0,o.isObject)(e.TokenListController))return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.TokenListController is "+typeof e.TokenListController)),e;if(!(0,o.hasProperty)(e.TokenListController,"tokensChainsCache"))return i.default.warn("Skipping migration, TokenListController.tokensChainsCache state is missing"),e;const{TokenListController:n}=e,{tokensChainsCache:s}=n;let a,c;for(const e in s){var u,l,d;if(a=s[e].data||{},c={},Array.isArray(a))for(const e of a)c[e.address]=e;else if((null===(u=Object.keys(a)[0])||void 0===u?void 0:u.toLowerCase())!==(null===(l=a[Object.keys(a)[0]])||void 0===l||null===(d=l.address)||void 0===d?void 0:d.toLowerCase()))for(const e in a)c[a[e].address]=a[e];s[e].data=Object.keys(c).length>0?c:a}return n.tokensChainsCache=s,{...e,TokenListController:{...n}}}(t.data);return r=(0,s.default)(r),r=(0,a.default)(r),r=(0,c.default)(r),r=(0,u.default)(r),t.data=r,t}};r.default=d}}},{package:"$root$",file:"app/scripts/migrations/077.js"}],[164,{"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!(0,i.hasProperty)(e,"PhishingController")||!(0,i.isObject)(e.PhishingController))return e;const{PhishingController:t}=e;return delete t.phishing,delete t.lastFetched,e}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=78;r.version=o}}},{package:"$root$",file:"app/scripts/migrations/078.ts"}],[165,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:79,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=79;const r=function(e){var t,r;(null==e||null===(t=e.AppStateController)||void 0===t?void 0:t.collectiblesDetectionNoticeDismissed)!==undefined&&delete e.AppStateController.collectiblesDetectionNoticeDismissed;(null==e||null===(r=e.metamask)||void 0===r?void 0:r.collectiblesDropdownState)!==undefined&&delete e.metamask.collectiblesDropdownState;return e}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/079.js"}],[166,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");var i={version:80,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=80;const r=function(e){var t;(null==e||null===(t=e.metamask)||void 0===t?void 0:t.showPortfolioTooltip)!==undefined&&delete e.metamask.showPortfolioTooltip;return e}(t.data);return t.data=r,t}};r.default=i}}},{package:"$root$",file:"app/scripts/migrations/080.js"}],[167,{"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);t.meta.version=o;const r=function(e){if(!(0,i.hasProperty)(e,"SnapController")||!(0,i.hasProperty)(e,"PermissionController")||!(0,i.isObject)(e.PermissionController))return e;const{PermissionController:t}=e,{subjects:r}=t;if(!(0,i.isObject)(r))return e;const o="wallet_snap_";for(const[t,s]of Object.entries(r)){if(!(0,i.isObject)(s)||!(0,i.isObject)(s.permissions))return e;let r,a=1;const{permissions:c}=s,u={...c};for(const[s,l]of Object.entries(c))if(s.startsWith(o)){if(!(0,i.isObject)(l)||!(0,i.hasProperty)(l,"id")||!(0,i.hasProperty)(l,"date"))return e;if((0,i.hasProperty)(u,"wallet_snap")||(u.wallet_snap={caveats:[{type:"snapIds",value:{}}],invoker:t,parentCapability:"wallet_snap"}),!(0,i.isObject)(u.wallet_snap))return e;if(!(0,n.isArray)(u.wallet_snap.caveats))return e;const c=s.slice(o.length),d=u.wallet_snap.caveats[0];if(!(0,i.isObject)(d))return e;if(!(0,i.hasProperty)(d,"type")||"snapIds"!==d.type||!(0,i.hasProperty)(d,"value")||!(0,i.isObject)(d.value))return e;if(d.value[c]={},"number"!=typeof l.date||"string"!=typeof l.id)return e;l.date>a&&(a=l.date,r=l.id),delete u[s]}u.wallet_snap&&(u.wallet_snap.date=a,u.wallet_snap.id=r,s.permissions=u)}return e}(t.data);return t.data=r,t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=81;r.version=o}}},{package:"$root$",file:"app/scripts/migrations/081.ts"}],[168,{"@metamask/utils":1715,lodash:3676,loglevel:3688,uuid:4293},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=c,t.data=function(e){if(!(0,o.hasProperty)(e,"PreferencesController"))return a.default.warn("state.PreferencesController is undefined"),e;if(!(0,o.isObject)(e.PreferencesController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.PreferencesController is "+typeof e.PreferencesController)),e}if(!(0,o.hasProperty)(e,"NetworkController")||!(0,o.isObject)(e.NetworkController)){var n,i;return null===(n=global.sentry)||void 0===n||null===(i=n.captureException)||void 0===i||i.call(n,new Error("typeof state.NetworkController is "+typeof e.NetworkController)),e}if(!(0,o.hasProperty)(e.PreferencesController,"frequentRpcListDetail")||!Array.isArray(e.PreferencesController.frequentRpcListDetail)){var c,u;if(!(e.NetworkController.networkConfigurations&&e.PreferencesController.frequentRpcListDetail===undefined))null===(c=global.sentry)||void 0===c||null===(u=c.captureException)||void 0===u||u.call(c,new Error("typeof state.PreferencesController.frequentRpcListDetail is "+typeof e.PreferencesController.frequentRpcListDetail));return e}if(!e.PreferencesController.frequentRpcListDetail.every(o.isObject)){var l,d;const t=e.PreferencesController.frequentRpcListDetail.find((e=>!(0,o.isObject)(e)));return null===(l=global.sentry)||void 0===l||null===(d=l.captureException)||void 0===d||d.call(l,new Error("state.PreferencesController.frequentRpcListDetail contains an element of type "+typeof t)),e}const{PreferencesController:h,NetworkController:f}=e,{frequentRpcListDetail:p}=h;if(!Array.isArray(p))return e;const m=p.reduce(((e,{rpcUrl:t,chainId:r,ticker:n,nickname:i,rpcPrefs:o})=>({...e,[(0,s.v4)()]:{rpcUrl:t,chainId:r,ticker:n,rpcPrefs:o,nickname:i}})),{});return delete h.frequentRpcListDetail,{...e,NetworkController:{...f,networkConfigurations:m},PreferencesController:{...h}}}(t.data),t},r.version=void 0;var n,i=e("lodash"),o=e("@metamask/utils"),s=e("uuid"),a=(n=e("loglevel"))&&n.__esModule?n:{default:n};const c=82;r.version=c}}},{package:"$root$",file:"app/scripts/migrations/082.ts"}],[169,{"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!(0,i.isObject)(e.NetworkController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController)),e}const{NetworkController:n}=e;if(!(0,i.isObject)(n.networkConfigurations)){var o,s;return null===(o=global.sentry)||void 0===o||null===(s=o.captureException)||void 0===s||s.call(o,new Error("typeof NetworkController.networkConfigurations is "+typeof n.networkConfigurations)),e}const{networkConfigurations:a}=n,c={};for(const t of Object.keys(a)){const r=a[t];if(!(0,i.isObject)(r))return e;c[t]={...r,id:t}}return{...e,NetworkController:{...n,networkConfigurations:c}}}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=83;r.version=o}}},{package:"$root$",file:"app/scripts/migrations/083.ts"}],[17,{"../../../../shared/constants/permissions":4355,nanoid:3762},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPermissionBackgroundApiMethods=function(e){return{addPermittedAccount:(t,r)=>{const n=e.getCaveat(t,o.RestrictedMethods.eth_accounts,o.CaveatTypes.restrictReturnedAccounts);n.value.includes(r)||e.updateCaveat(t,o.RestrictedMethods.eth_accounts,o.CaveatTypes.restrictReturnedAccounts,[...n.value,r])},removePermittedAccount:(t,r)=>{const n=e.getCaveat(t,o.RestrictedMethods.eth_accounts,o.CaveatTypes.restrictReturnedAccounts);if(!n.value.includes(r))return;const i=n.value.filter((e=>e!==r));0===i.length?e.revokePermission(t,o.RestrictedMethods.eth_accounts):e.updateCaveat(t,o.RestrictedMethods.eth_accounts,o.CaveatTypes.restrictReturnedAccounts,i)},requestAccountsPermissionWithId:async t=>{const r=(0,i.default)();return e.requestPermissions({origin:t},{eth_accounts:{}},{id:r}),r}}};var n,i=(n=e("nanoid"))&&n.__esModule?n:{default:n},o=e("../../../../shared/constants/permissions")}}},{package:"$root$",file:"app/scripts/controllers/permissions/background-api.js"}],[170,{"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!(0,i.hasProperty)(e,"NetworkController")||!(0,i.isObject)(e.NetworkController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController)),e}if(!(0,i.hasProperty)(e.NetworkController,"network")){var n,o;if(e.NetworkController.networkId===undefined)null===(n=global.sentry)||void 0===n||null===(o=n.captureException)||void 0===o||o.call(n,new Error("typeof state.NetworkController.network is "+typeof e.NetworkController.network));return e}const s={...e.NetworkController};"loading"===s.network?(s.networkId=null,s.networkStatus="unknown"):(s.networkId=s.network,s.networkStatus="available");return delete s.network,{...e,NetworkController:s}}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=84;r.version=o}}},{package:"$root$",file:"app/scripts/migrations/084.ts"}],[1703,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEventEmitterProxy=void 0;const n=()=>!0,i=["newListener","removeListener"],o=e=>!i.includes(e);r.createEventEmitterProxy=function(e,{eventFilter:t=n}={}){const r="skipInternal"===t?o:t;if("function"!=typeof r)throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=e,s=e=>{const t=i;i=e,t.eventNames().filter(r).forEach((r=>{t.rawListeners(r).forEach((t=>{e.on(r,t)}))})),t.removeAllListeners()};return new Proxy(i,{get(e,t,r){if("setTarget"===t)return s;const n=i[t];return n instanceof Function?function(...e){return n.apply(this===r?i:this,e)}:n},set:(e,t,r)=>"setTarget"===t?(s=r,!0):(i[t]=r,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createEventEmitterProxy.js"}],[1704,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSwappableProxy=void 0,r.createSwappableProxy=function(e){let t=e,r=e=>{t=e};return new Proxy(t,{get(e,n,i){if("setTarget"===n)return r;const o=t[n];return o instanceof Function?function(...e){return o.apply(this===i?t:this,e)}:o},set:(e,n,i)=>"setTarget"===n?(r=i,!0):(t[n]=i,!0)})}}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/createSwappableProxy.js"}],[1705,{"./createEventEmitterProxy":1703,"./createSwappableProxy":1704,"./types":1706},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./createEventEmitterProxy"),r),i(e("./createSwappableProxy"),r),i(e("./types"),r)}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/index.js"}],[1706,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/network-controller>@metamask/swappable-obj-proxy",file:"node_modules/@metamask/swappable-obj-proxy/dist/types.js"}],[171,{"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!(0,i.isObject)(e.NetworkController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController)),e}return delete e.NetworkController.previousProviderStore,e}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=85;r.version=o}}},{package:"$root$",file:"app/scripts/migrations/085.ts"}],[172,{"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if((0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,n.hasProperty)(e.NetworkController,"provider")){const t=e.NetworkController;return t.providerConfig=t.provider,delete t.provider,{...e,NetworkController:t}}var t,r;if((0,n.isObject)(e.NetworkController)){if(!(0,n.hasProperty)(e.NetworkController,"provider")){var i,o;if(e.NetworkController.providerConfig===undefined)null===(i=global.sentry)||void 0===i||null===(o=i.captureException)||void 0===o||o.call(i,new Error("typeof state.NetworkController.provider is "+typeof e.NetworkController.provider))}}else null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=86;r.version=o}}},{package:"$root$",file:"app/scripts/migrations/086.ts"}],[1725,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var r=0;if(" "!==e[r]){for(var n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var d=0,h=o-1;(0!==l||d<i)&&-1!==h;h--,d++)l+=s*u[h]>>>0,u[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,r++}if(" "!==e[r]){for(var f=o-i;f!==o&&0===u[f];)f++;for(var p=new Uint8Array(n+(o-f)),m=n;f!==o;)p[m++]=u[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var d=t[i],h=0,f=c-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");n=h,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var m=a.repeat(r);p<c;++p)m+=e.charAt(l[p]);return m},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}}}},{package:"@ensdomains/content-hash>cids>multibase>@multiformats/base-x",file:"node_modules/@multiformats/base-x/src/index.js"}],[173,{"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!(0,n.isObject)(e.TokensController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.TokensController is "+typeof e.TokensController)),e}return delete e.TokensController.suggestedAssets,e}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=87;r.version=o}}},{package:"$root$",file:"app/scripts/migrations/087.ts"}],[174,{"@metamask/utils":1715,"ethereumjs-util":2898,lodash:3676,loglevel:3688},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=c,function(e){if((0,i.hasProperty)(e,"NftController")&&(0,i.isObject)(e.NftController)){const c=e.NftController;if((0,i.hasProperty)(c,"allNftContracts")&&(0,i.isObject)(c.allNftContracts)){const{allNftContracts:e}=c;Object.keys(e).every((t=>(0,i.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const r=e[t];if((0,i.isObject)(r)){for(const e of Object.keys(r))"undefined"!==e&&e!==undefined||delete r[e];e[t]=(0,s.mapKeys)(r,((e,t)=>u(t)))}}))}else if((0,i.hasProperty)(c,"allNftContracts")){var t,r;null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NftController.allNftContracts is "+typeof c.allNftContracts))}else a.default.warn("typeof state.NftController.allNftContracts is "+typeof c.allNftContracts);if((0,i.hasProperty)(c,"allNfts")&&(0,i.isObject)(c.allNfts)){const{allNfts:e}=c;Object.keys(e).every((t=>(0,i.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const r=e[t];if((0,i.isObject)(r)){for(const e of Object.keys(r))"undefined"!==e&&e!==undefined||delete r[e];e[t]=(0,s.mapKeys)(r,((e,t)=>u(t)))}}))}else if((0,i.hasProperty)(c,"allNfts")){var n,o;null===(n=global.sentry)||void 0===n||null===(o=n.captureException)||void 0===o||o.call(n,new Error("typeof state.NftController.allNfts is "+typeof c.allNfts))}else a.default.warn("typeof state.NftController.allNfts is "+typeof c.allNfts);e.NftController=c}else if((0,i.hasProperty)(e,"NftController")){var c,l;null===(c=global.sentry)||void 0===c||null===(l=c.captureException)||void 0===l||l.call(c,new Error("typeof state.NftController is "+typeof e.NftController))}else a.default.warn("typeof state.NftController is undefined");if((0,i.hasProperty)(e,"TokenListController")&&(0,i.isObject)(e.TokenListController)){const t=e.TokenListController;if((0,i.hasProperty)(t,"tokensChainsCache")&&(0,i.isObject)(t.tokensChainsCache)){for(const e of Object.keys(t.tokensChainsCache))"undefined"!==e&&e!==undefined||delete t.tokensChainsCache[e];t.tokensChainsCache=(0,s.mapKeys)(t.tokensChainsCache,((e,t)=>u(t)))}else if((0,i.hasProperty)(t,"tokensChainsCache")){var d,h;null===(d=global.sentry)||void 0===d||null===(h=d.captureException)||void 0===h||h.call(d,new Error("typeof state.TokenListController.tokensChainsCache is "+typeof e.TokenListController.tokensChainsCache))}else a.default.warn("typeof state.TokenListController.tokensChainsCache is undefined")}else a.default.warn("typeof state.TokenListController is "+typeof e.TokenListController);if((0,i.hasProperty)(e,"TokensController")&&(0,i.isObject)(e.TokensController)){const t=e.TokensController;if((0,i.hasProperty)(t,"allTokens")&&(0,i.isObject)(t.allTokens)){const{allTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined||delete e[t];t.allTokens=(0,s.mapKeys)(e,((e,t)=>u(t)))}else if((0,i.hasProperty)(t,"allTokens")){var f,p;null===(f=global.sentry)||void 0===f||null===(p=f.captureException)||void 0===p||p.call(f,new Error("typeof state.TokensController.allTokens is "+typeof t.allTokens))}else a.default.warn("typeof state.TokensController.allTokens is "+typeof t.allTokens);if((0,i.hasProperty)(t,"allIgnoredTokens")&&(0,i.isObject)(t.allIgnoredTokens)){const{allIgnoredTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined||delete e[t];t.allIgnoredTokens=(0,s.mapKeys)(e,((e,t)=>u(t)))}else if((0,i.hasProperty)(t,"allIgnoredTokens")){var m,g;null===(m=global.sentry)||void 0===m||null===(g=m.captureException)||void 0===g||g.call(m,new Error("typeof state.TokensController.allIgnoredTokens is "+typeof t.allIgnoredTokens))}else a.default.warn("typeof state.TokensController.allIgnoredTokens is "+typeof t.allIgnoredTokens);if((0,i.hasProperty)(t,"allDetectedTokens")&&(0,i.isObject)(t.allDetectedTokens)){const{allDetectedTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined||delete e[t];t.allDetectedTokens=(0,s.mapKeys)(e,((e,t)=>u(t)))}else if((0,i.hasProperty)(t,"allDetectedTokens")){var y,b;null===(y=global.sentry)||void 0===y||null===(b=y.captureException)||void 0===b||b.call(y,new Error("typeof state.TokensController.allDetectedTokens is "+typeof t.allDetectedTokens))}else a.default.warn("typeof state.TokensController.allDetectedTokens is "+typeof t.allDetectedTokens);e.TokensController=t}else{var w,v;null===(w=global.sentry)||void 0===w||null===(v=w.captureException)||void 0===v||v.call(w,new Error("typeof state.TokensController is "+typeof e.TokensController))}}(t.data),t},r.version=void 0;var n,i=e("@metamask/utils"),o=e("ethereumjs-util"),s=e("lodash"),a=(n=e("loglevel"))&&n.__esModule?n:{default:n};const c=88;function u(e){if("string"==typeof e&&(0,i.isStrictHexString)(e))return e;return`0x${o.BN.isBN(e)?e.toString(16):new o.BN(e.toString(),10).toString(16)}`}r.version=c}}},{package:"$root$",file:"app/scripts/migrations/088.ts"}],[175,{"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if((0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,n.hasProperty)(e.NetworkController,"providerConfig")&&(0,n.isObject)(e.NetworkController.providerConfig)){const{networkConfigurations:t,providerConfig:r}=e.NetworkController;if(!(0,n.isObject)(t))return e;if(r.id)return e;let i;for(const o of Object.keys(t)){const s=t[o];if(!(0,n.isObject)(s))return e;if(s.rpcUrl===r.rpcUrl){i=s.id;break}}return i?(e.NetworkController.providerConfig={...r,id:i},{...e,NetworkController:e.NetworkController}):e}var t,r;if((0,n.isObject)(e.NetworkController)){if(!(0,n.isObject)(e.NetworkController.providerConfig)){var i,o;null===(i=global.sentry)||void 0===i||null===(o=i.captureException)||void 0===o||o.call(i,new Error("typeof state.NetworkController.providerConfig is "+typeof e.NetworkController.providerConfig))}}else null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=89;r.version=o}}},{package:"$root$",file:"app/scripts/migrations/089.ts"}],[176,{"@metamask/utils":1715,lodash:3676,loglevel:3688},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=a,t.data=function(e){if(!(0,o.hasProperty)(e,"PhishingController"))return s.default.warn("typeof state.PhishingController is undefined"),e;if(!(0,o.isObject)(e.PhishingController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.PhishingController is "+typeof e.PhishingController)),e}if(!(0,o.hasProperty)(e.PhishingController,"listState"))return s.default.warn("typeof state.PhishingController.listState is "+typeof e.PhishingController),e;return delete e.PhishingController.listState,e}(t.data),t},r.version=void 0;var n,i=e("lodash"),o=e("@metamask/utils"),s=(n=e("loglevel"))&&n.__esModule?n:{default:n};const a=90;r.version=a}}},{package:"$root$",file:"app/scripts/migrations/090.ts"}],[1765,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=new Array(arguments.length-1),n=0,i=2,o=!0;for(;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,s){r[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,s(e))}}))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/aspromise",file:"node_modules/@protobufjs/aspromise/index.js"}],[1766,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=r;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),o=new Array(123),s=0;s<64;)o[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,r){for(var n,o=null,s=[],a=0,c=0;t<r;){var u=e[t++];switch(c){case 0:s[a++]=i[u>>2],n=(3&u)<<4,c=1;break;case 1:s[a++]=i[n|u>>4],n=(15&u)<<2,c=2;break;case 2:s[a++]=i[n|u>>6],s[a++]=i[63&u],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=i[n],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var a="invalid encoding";n.decode=function(e,t,r){for(var n,i=r,s=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&s>1)break;if((u=o[u])===undefined)throw Error(a);switch(s){case 0:n=u,s=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,s=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,s=3;break;case 3:t[r++]=(3&n)<<6|u,s=0}}if(1===s)throw Error(a);return r-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/base64",file:"node_modules/@protobufjs/base64/index.js"}],[1767,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){"string"==typeof e&&(t=e,e=undefined);var r=[];function i(e){if("string"!=typeof e){var t=o();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var s=Object.keys(e),a=new Array(s.length+1),c=new Array(s.length),u=0;u<s.length;)a[u]=s[u],c[u]=e[s[u++]];return a[u]=t,Function.apply(null,a).apply(null,c)}return Function(t)()}for(var l=new Array(arguments.length-1),d=0;d<l.length;)l[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=l[d++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),d!==l.length)throw Error("parameter count mismatch");return r.push(e),i}function o(n){return"function "+(n||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return i.toString=o,i}t.exports=n,n.verbose=!1}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/codegen",file:"node_modules/@protobufjs/codegen/index.js"}],[1768,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/eventemitter",file:"node_modules/@protobufjs/eventemitter/index.js"}],[1769,{"@protobufjs/aspromise":1765,"@protobufjs/inquire":1771},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=o;var n=e("@protobufjs/aspromise"),i=e("@protobufjs/inquire")("fs");function o(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&i&&i.readFile?i.readFile(e,(function(n,i){return n&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString("utf8"))})):o.xhr(e,t,r):n(o,this,e,t)}o.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4!==n.readyState)return undefined;if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/fetch",file:"node_modules/@protobufjs/fetch/index.js"}],[177,{"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if((0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,n.hasProperty)(e.NetworkController,"networkConfigurations")&&(0,n.isObject)(e.NetworkController.networkConfigurations)){const{networkConfigurations:t}=e.NetworkController;for(const[e,r]of Object.entries(t))(0,n.isObject)(r)&&(r.chainId||delete t[e]);return e.NetworkController={...e.NetworkController,networkConfigurations:t},{...e,NetworkController:e.NetworkController}}var t,r;if((0,n.isObject)(e.NetworkController)){if(!(0,n.isObject)(e.NetworkController.networkConfigurations)){var i,o;null===(i=global.sentry)||void 0===i||null===(o=i.captureException)||void 0===o||o.call(i,new Error("typeof state.NetworkController.networkConfigurations is "+typeof e.NetworkController.networkConfigurations))}}else null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=91;r.version=o}}},{package:"$root$",file:"app/scripts/migrations/091.ts"}],[1770,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:i*Infinity:0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=r.bind(null,s),e.readFloatBE=r.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=n*Math.pow(2,-c))>>>0,i,o+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}}function r(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===c?u?NaN:a*Infinity:0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=r.bind(null,s,0,4),e.readDoubleBE=r.bind(null,a,4,0)}(),e}function i(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function o(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/float",file:"node_modules/@protobufjs/float/index.js"}],[1771,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){try{var t=(0,eval)("quire".replace(/^/,"re"))(e);if(t&&(t.length||Object.keys(t).length))return t}catch(e){}return null}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/inquire",file:"node_modules/@protobufjs/inquire/index.js"}],[1772,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=r,i=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},o=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=i(e),n="";r&&(n=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):r?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return n+t.join("/")};n.resolve=function(e,t,r){return r||(t=o(t)),i(t)?t:(r||(e=o(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?o(e+"/"+t):t)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/path",file:"node_modules/@protobufjs/path/index.js"}],[1773,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=1+(7|s)),a}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/pool",file:"node_modules/@protobufjs/pool/index.js"}],[1774,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=r;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},n.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport>protobufjs>@protobufjs/utf8",file:"node_modules/@protobufjs/utf8/index.js"}],[178,{"@metamask/utils":1715,lodash:3676,loglevel:3688},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=a,t.data=function(e){if(!(0,o.hasProperty)(e,"TokenListController"))return s.default.warn("Skipping migration, TokenListController state is missing"),e;var t,r;if(!(0,o.isObject)(e.TokenListController))return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.TokenListController is "+typeof e.TokenListController)),e;if(!(0,o.hasProperty)(e.TokenListController,"tokensChainsCache"))return s.default.warn("Skipping migration, TokenListController.tokensChainsCache state is missing"),e;e.TokenListController.tokensChainsCache===undefined&&delete e.TokenListController.tokensChainsCache;return e}(t.data),t},r.version=void 0;var n,i=e("lodash"),o=e("@metamask/utils"),s=(n=e("loglevel"))&&n.__esModule?n:{default:n};const a=92.1;r.version=a}}},{package:"$root$",file:"app/scripts/migrations/092.1.ts"}],[1780,{assert:2537,buffer:2541,"component-type":2607,"join-component":3463},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("component-type"),i=e("join-component"),o=e("assert"),s=32768;t.exports=function(e,t){switch(c(e),t=t||e.type,o(t,"You must pass an event type."),t){case"track":return function(e){o(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".'),o(e.event,'You must pass an "event".')}(e);case"group":return function(e){o(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".'),o(e.groupId,'You must pass a "groupId".')}(e);case"identify":case"page":case"screen":return function(e){o(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".')}(e);case"alias":return function(e){o(e.userId,'You must pass a "userId".'),o(e.previousId,'You must pass a "previousId".')}(e);default:o(0,'Invalid event type: "'+t+'"')}};var a={anonymousId:["string","number"],category:"string",context:"object",event:"string",groupId:["string","number"],integrations:"object",name:"string",previousId:["string","number"],timestamp:"date",userId:["string","number"],type:"string"};function c(e){o("object"===n(e),"You must pass a message object.");var t=JSON.stringify(e);for(var c in o(r.byteLength(t,"utf8")<s,"Your message must be < 32kb."),a){var u=e[c];if(u){var l=a[c];"array"!==n(l)&&(l=[l]);var d="object"===l[0]?"an":"a";o(l.some((function(e){return n(u)===e})),'"'+c+'" must be '+d+" "+i(l,"or")+".")}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@segment/loosely-validate-event",file:"node_modules/@segment/loosely-validate-event/index.js"}],[179,{"@metamask/utils":1715,"@sentry/browser":1813,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,o.cloneDeep)(e);return t.meta.version=s,t.data=function(e){return function(e){const t=["networkId","networkStatus","providerConfig","networkDetails","networkConfigurations"];if(!(0,n.hasProperty)(e,"NetworkController")||!(0,o.isObject)(e.NetworkController))return(0,i.captureException)(`Migration ${s}: Invalid NetworkController state: ${typeof e.NetworkController}`),e;const r=e.NetworkController,a=(0,o.pick)(r,t);return{...e,NetworkController:a}}(e)}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("@sentry/browser"),o=e("lodash");const s=92.2;r.version=s}}},{package:"$root$",file:"app/scripts/migrations/092.2.ts"}],[18,{"../../../../shared/constants/permissions":4355,"@metamask/permission-controller":1402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CaveatMutatorFactories=void 0;var n=e("@metamask/permission-controller");const i={[e("../../../../shared/constants/permissions").CaveatTypes.restrictReturnedAccounts]:{removeAccount:function(e,t){const r=t.filter((t=>t!==e));if(r.length===t.length)return{operation:n.CaveatMutatorOperation.noop};if(r.length>0)return{operation:n.CaveatMutatorOperation.updateValue,value:r};return{operation:n.CaveatMutatorOperation.revokePermission}}}};r.CaveatMutatorFactories=i}}},{package:"$root$",file:"app/scripts/controllers/permissions/caveat-mutators.js"}],[180,{"@metamask/utils":1715,lodash:3676,loglevel:3688},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,o.cloneDeep)(e);return t.meta.version=a,function(e){!function(e){if((0,i.isNullOrUndefined)(e.PreferencesController))return void s.default.warn(`Migration #${a}: preferences controller null or undefined, skipping migration`);if((0,i.hasProperty)(e,"AppStateController")&&(0,i.isObject)(e.AppStateController)&&(0,i.hasProperty)(e,"PreferencesController")&&(0,i.isObject)(e.PreferencesController)){var t;const r=null===(t=e.PreferencesController)||void 0===t?void 0:t.advancedGasFee,n=(0,i.isObject)(r)&&c(r);e.AppStateController.hadAdvancedGasFeesSetPriorToMigration92_3=n,(null===e.PreferencesController.advancedGasFee||(0,i.isObject)(e.PreferencesController.advancedGasFee)&&c(e.PreferencesController.advancedGasFee))&&(e.PreferencesController.advancedGasFee={})}else if(!1===(0,i.isObject)(e.AppStateController)){var r,n;null===(r=global.sentry)||void 0===r||null===(n=r.captureException)||void 0===n||n.call(r,new Error("typeof state.AppStateController is "+typeof e.AppStateController))}else if(!1===(0,i.isObject)(e.PreferencesController)){var o,u;null===(o=global.sentry)||void 0===o||null===(u=o.captureException)||void 0===u||u.call(o,new Error("typeof state.PreferencesController is "+typeof e.PreferencesController))}}(e)}(t.data),t},r.version=void 0;var n,i=e("@metamask/utils"),o=e("lodash"),s=(n=e("loglevel"))&&n.__esModule?n:{default:n};const a=92.3;function c(e){const t=Object.keys(e);return!(!t.includes("maxBaseFee")&&!t.includes("priorityFee"))}r.version=a}}},{package:"$root$",file:"app/scripts/migrations/092.3.ts"}],[181,{"@metamask/utils":1715,lodash:3676,loglevel:3688},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=a,t.data=function(e){if((0,o.hasProperty)(e,"PhishingController")&&(0,o.isObject)(e.PhishingController))delete e.PhishingController.stalelistLastFetched,delete e.PhishingController.hotlistLastFetched;else if((0,o.hasProperty)(e,"PhishingController")){var t,r;null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.PhishingController is "+typeof e.PhishingController))}else s.default.warn("typeof state.PhishingController is undefined");return e}(t.data),t},r.version=void 0;var n,i=e("lodash"),o=e("@metamask/utils"),s=(n=e("loglevel"))&&n.__esModule?n:{default:n};const a=92;r.version=a}}},{package:"$root$",file:"app/scripts/migrations/092.ts"}],[182,{"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if((0,i.hasProperty)(e,"NetworkController")&&(0,i.isObject)(e.NetworkController)&&(0,i.hasProperty)(e.NetworkController,"providerConfig")&&(0,i.isObject)(e.NetworkController.providerConfig)){const{providerConfig:t}=e.NetworkController;return t.ticker?e:(e.NetworkController.providerConfig={ticker:"ETH",...t},{...e,NetworkController:e.NetworkController})}var t,r;if((0,i.isObject)(e.NetworkController)){if((0,i.isObject)(e.NetworkController)&&!(0,i.isObject)(e.NetworkController.providerConfig)){var n,o;null===(n=global.sentry)||void 0===n||null===(o=n.captureException)||void 0===o||o.call(n,new Error("typeof state.NetworkController.providerConfig is "+typeof e.NetworkController.providerConfig))}}else null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=93;r.version=o}}},{package:"$root$",file:"app/scripts/migrations/093.ts"}],[183,{"@metamask/controller-utils":1076,"@metamask/network-controller":1362,"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=a,t.data=function(e){if((0,i.hasProperty)(e,"NetworkController")&&(0,i.isObject)(e.NetworkController)&&(0,i.hasProperty)(e.NetworkController,"providerConfig")&&(0,i.isObject)(e.NetworkController.providerConfig)&&((0,i.hasProperty)(e.NetworkController.providerConfig,"id")||(0,i.hasProperty)(e.NetworkController.providerConfig,"type")&&e.NetworkController.providerConfig.type!==s.NetworkType.rpc)){const t=e.NetworkController.providerConfig.id||e.NetworkController.providerConfig.type;if(!t||"string"!=typeof t)return e;const r={[t]:{EIPS:{},status:o.NetworkStatus.Unknown}};if((0,i.hasProperty)(e.NetworkController,"networkDetails")&&(0,i.isObject)(e.NetworkController.networkDetails)){const{networkDetails:n}=e.NetworkController;n.EIPS&&(0,i.isObject)(n.EIPS)&&(r[t].EIPS={...n.EIPS}),delete e.NetworkController.networkDetails}return(0,i.hasProperty)(e.NetworkController,"networkStatus")&&"string"==typeof e.NetworkController.networkStatus&&(r[t].status=e.NetworkController.networkStatus,delete e.NetworkController.networkStatus),{...e,NetworkController:{...e.NetworkController,networksMetadata:r,selectedNetworkClientId:t}}}var t,r;if((0,i.isObject)(e.NetworkController)){if((0,i.isObject)(e.NetworkController)&&!(0,i.isObject)(e.NetworkController.providerConfig)){var n,a;null===(n=global.sentry)||void 0===n||null===(a=n.captureException)||void 0===a||a.call(n,new Error("typeof state.NetworkController.providerConfig is "+typeof e.NetworkController.providerConfig))}else if((0,i.isObject)(e.NetworkController)&&(0,i.isObject)(e.NetworkController.providerConfig)){var c,u;null===(c=global.sentry)||void 0===c||null===(u=c.captureException)||void 0===u||u.call(c,new Error(`typeof state.NetworkController.providerConfig.id is ${typeof e.NetworkController.providerConfig.id} and state.NetworkController.providerConfig.type is ${e.NetworkController.providerConfig.type}`))}}else null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils"),o=e("@metamask/network-controller"),s=e("@metamask/controller-utils");const a=94;r.version=a}}},{package:"$root$",file:"app/scripts/migrations/094.ts"}],[184,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=i,function(e){(function(e){var t,r;const n=(null===(t=e.IncomingTransactionsController)||void 0===t?void 0:t.incomingTransactions)||{};if(0===Object.keys(n).length)return;const i=(null===(r=e.TransactionController)||void 0===r?void 0:r.transactions)||{},o=Object.values(n).reduce(((e,t)=>(e[t.id]=t,e)),i);e.TransactionController={...e.TransactionController||{},transactions:o}})(e),function(e){var t;const r=(null===(t=e.IncomingTransactionsController)||void 0===t?void 0:t.incomingTransactions)||{};if(0===Object.keys(r).length)return;const n={};for(const e of Object.values(r)){if(!e.blockNumber||!e.chainId||!e.txParams.to)continue;const t=parseInt(e.blockNumber,10),r=`${e.chainId}#${e.txParams.to.toLowerCase()}`,i=n[r]||-1;n[r]=Math.max(i,t)}e.TransactionController={...e.TransactionController,lastFetchedBlockNumbers:n}}(e),function(e){delete e.IncomingTransactionsController}(e)}(t.data),t},r.version=void 0;var n=e("lodash");const i=95;r.version=i}}},{package:"$root$",file:"app/scripts/migrations/095.ts"}],[185,{"../../../shared/constants/network":4354,"@metamask/utils":1715,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=s,function(e){if(!((0,i.hasProperty)(e,"PreferencesController")&&(0,i.isObject)(e.PreferencesController)&&(0,i.isObject)(e.NetworkController)&&(0,i.hasProperty)(e.PreferencesController,"featureFlags")&&(0,i.hasProperty)(e.NetworkController,"networkConfigurations")))return e;const{PreferencesController:t,NetworkController:r}=e,{featureFlags:s}=t,{showIncomingTransactions:a}=s,{networkConfigurations:c}=r,u=Object.values(c).map((e=>e.chainId)),l=[o.CHAIN_IDS.MAINNET,o.CHAIN_IDS.LINEA_MAINNET],d=[o.CHAIN_IDS.GOERLI,o.CHAIN_IDS.SEPOLIA,o.CHAIN_IDS.LINEA_GOERLI],h=[...l,...u,...d],f=(0,n.fromPairs)((0,n.map)(h,(e=>[e,a])));(null==s?void 0:s.showIncomingTransactions)!==undefined&&delete s.showIncomingTransactions;e.PreferencesController.incomingTransactionsPreferences=f}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils"),o=e("../../../shared/constants/network");const s=96;r.version=s}}},{package:"$root$",file:"app/scripts/migrations/096.ts"}],[186,{lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=i,function(e){const t=(null==e?void 0:e.TransactionController)||{},r=(null==t?void 0:t.transactions)||{};if((0,n.isEmpty)(r))return;const i=Object.keys(r).reduce(((e,t)=>{const n=r[t];return null!=n&&n.nonceDetails&&delete n.nonceDetails,{...e,[t]:n}}),{});e.TransactionController={...t,transactions:i}}(t.data),t},r.version=void 0;var n=e("lodash");const i=97;r.version=i}}},{package:"$root$",file:"app/scripts/migrations/097.ts"}],[187,{"../../../shared/constants/transaction":4366,lodash:3676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){return function(o){const s=(0,n.cloneDeep)(o);s.meta.version=e;try{const e=function(e,t,r){const n=e,{TransactionController:o}=n;if(o&&o.transactions){const{transactions:e}=o;n.TransactionController.transactions=e.map((e=>t(e)?(e.status=i.TransactionStatus.failed,e.err={message:r,note:`Tx automatically failed by migration because ${r}`},e):e))}return n}(s.data,r,t);s.data=e}catch(t){console.warn(`MetaMask Migration #${e}${t.stack}`)}return Promise.resolve(s)}};var n=e("lodash"),i=e("../../../shared/constants/transaction")}}},{package:"$root$",file:"app/scripts/migrations/fail-tx.js"}],[188,{"./002":84,"./003":85,"./004":86,"./005":87,"./006":88,"./007":89,"./008":90,"./009":91,"./010":92,"./011":93,"./012":94,"./013":95,"./014":96,"./015":97,"./016":98,"./017":99,"./018":100,"./019":101,"./020":102,"./021":103,"./022":104,"./023":105,"./024":106,"./025":107,"./026":108,"./027":109,"./028":110,"./029":111,"./030":112,"./031":113,"./032":114,"./033":115,"./034":116,"./035":117,"./036":118,"./037":119,"./038":120,"./039":121,"./040":122,"./041":123,"./042":124,"./043":125,"./044":126,"./045":127,"./046":128,"./047":129,"./048":130,"./049":131,"./050":132,"./051":133,"./052":134,"./053":135,"./054":136,"./055":137,"./056":138,"./057":139,"./058":140,"./059":141,"./060":142,"./061":143,"./062":144,"./063":145,"./064":146,"./065":147,"./066":148,"./067":149,"./068":150,"./069":151,"./070":152,"./071":153,"./072":154,"./073":155,"./074":156,"./075":157,"./076":158,"./077":163,"./078":164,"./079":165,"./080":166,"./081":167,"./082":168,"./083":169,"./084":170,"./085":171,"./086":172,"./087":173,"./088":174,"./089":175,"./090":176,"./091":177,"./092":181,"./092.1":178,"./092.2":179,"./092.3":180,"./093":182,"./094":183,"./095":184,"./096":185,"./097":186},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=Ke(e("./002")),i=Ke(e("./003")),o=Ke(e("./004")),s=Ke(e("./005")),a=Ke(e("./006")),c=Ke(e("./007")),u=Ke(e("./008")),l=Ke(e("./009")),d=Ke(e("./010")),h=Ke(e("./011")),f=Ke(e("./012")),p=Ke(e("./013")),m=Ke(e("./014")),g=Ke(e("./015")),y=Ke(e("./016")),b=Ke(e("./017")),w=Ke(e("./018")),v=Ke(e("./019")),_=Ke(e("./020")),T=Ke(e("./021")),k=Ke(e("./022")),S=Ke(e("./023")),E=Ke(e("./024")),N=Ke(e("./025")),O=Ke(e("./026")),C=Ke(e("./027")),I=Ke(e("./028")),P=Ke(e("./029")),A=Ke(e("./030")),j=Ke(e("./031")),R=Ke(e("./032")),M=Ke(e("./033")),x=Ke(e("./034")),z=Ke(e("./035")),B=Ke(e("./036")),L=Ke(e("./037")),D=Ke(e("./038")),U=Ke(e("./039")),F=Ke(e("./040")),V=Ke(e("./041")),$=Ke(e("./042")),H=Ke(e("./043")),G=Ke(e("./044")),q=Ke(e("./045")),W=Ke(e("./046")),J=Ke(e("./047")),Q=Ke(e("./048")),K=Ke(e("./049")),Y=Ke(e("./050")),Z=Ke(e("./051")),X=Ke(e("./052")),ee=Ke(e("./053")),te=Ke(e("./054")),re=Ke(e("./055")),ne=Ke(e("./056")),ie=Ke(e("./057")),oe=Ke(e("./058")),se=Ke(e("./059")),ae=Ke(e("./060")),ce=Ke(e("./061")),ue=Ke(e("./062")),le=Ke(e("./063")),de=Ke(e("./064")),he=Ke(e("./065")),fe=Ke(e("./066")),pe=Ke(e("./067")),me=Ke(e("./068")),ge=Ke(e("./069")),ye=Ke(e("./070")),be=Ke(e("./071")),we=Ke(e("./072")),ve=Ke(e("./073")),_e=Ke(e("./074")),Te=Ke(e("./075")),ke=Ke(e("./076")),Se=Ke(e("./077")),Ee=Qe(e("./078")),Ne=Ke(e("./079")),Oe=Ke(e("./080")),Ce=Qe(e("./081")),Ie=Qe(e("./082")),Pe=Qe(e("./083")),Ae=Qe(e("./084")),je=Qe(e("./085")),Re=Qe(e("./086")),Me=Qe(e("./087")),xe=Qe(e("./088")),ze=Qe(e("./089")),Be=Qe(e("./090")),Le=Qe(e("./091")),De=Qe(e("./092")),Ue=Qe(e("./092.1")),Fe=Qe(e("./092.2")),Ve=Qe(e("./092.3")),$e=Qe(e("./093")),He=Qe(e("./094")),Ge=Qe(e("./095")),qe=Qe(e("./096")),We=Qe(e("./097"));function Je(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(Je=function(e){return e?r:t})(e)}function Qe(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=Je(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function Ke(e){return e&&e.__esModule?e:{default:e}}var Ye=[n.default,i.default,o.default,s.default,a.default,c.default,u.default,l.default,d.default,h.default,f.default,p.default,m.default,g.default,y.default,b.default,w.default,v.default,_.default,T.default,k.default,S.default,E.default,N.default,O.default,C.default,I.default,P.default,A.default,j.default,R.default,M.default,x.default,z.default,B.default,L.default,D.default,U.default,F.default,V.default,$.default,H.default,G.default,q.default,W.default,J.default,Q.default,K.default,Y.default,Z.default,X.default,ee.default,te.default,re.default,ne.default,ie.default,oe.default,se.default,ae.default,ce.default,ue.default,le.default,de.default,he.default,fe.default,pe.default,me.default,ge.default,ye.default,be.default,we.default,ve.default,_e.default,Te.default,ke.default,Se.default,Ee,Ne.default,Oe.default,Ce,Ie,Pe,Ae,je,Re,Me,xe,ze,Be,Le,De,Ue,Fe,Ve,$e,He,Ge,qe,We];r.default=Ye}}},{package:"$root$",file:"app/scripts/migrations/index.js"}],[19,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.WALLET_PREFIX=r.NOTIFICATION_NAMES=r.LOG_METHOD_TYPES=r.LOG_LIMIT=r.LOG_IGNORE_METHODS=void 0;r.WALLET_PREFIX="wallet_";r.NOTIFICATION_NAMES={accountsChanged:"metamask_accountsChanged",unlockStateChanged:"metamask_unlockStateChanged",chainChanged:"metamask_chainChanged"};r.LOG_IGNORE_METHODS=["wallet_registerOnboarding","wallet_watchAsset"];r.LOG_METHOD_TYPES={restricted:"restricted",internal:"internal"};r.LOG_LIMIT=100}}},{package:"$root$",file:"app/scripts/controllers/permissions/enums.js"}],[1925,{"@metamask/eth-sig-util":1206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.transformTypedData=void 0;const s=o(e("@metamask/eth-sig-util"));function a(e){switch(Object.prototype.toString.call(e)){case"[object Object]":{const t=Object.keys(e).map((t=>[t,a(e[t])]));return Object.fromEntries(t)}case"[object Array]":return e.map((e=>a(e)));case"[object BigInt]":return e.toString();default:return e}}r.transformTypedData=(e,t)=>{if(!t)throw new Error("Trezor: Only version 4 of typed data signing is supported");const r=s.SignTypedDataVersion.V4,{types:n,primaryType:i,domain:o,message:c}=s.TypedDataUtils.sanitizeData(e),u=s.TypedDataUtils.hashStruct("EIP712Domain",a(o),n,r).toString("hex");let l=null;return"EIP712Domain"!==i&&(l=s.TypedDataUtils.hashStruct(i,a(c),n,r).toString("hex")),Object.assign({domain_separator_hash:u,message_hash:l},e)},r.default=r.transformTypedData}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-plugin-ethereum",file:"node_modules/@trezor/connect-plugin-ethereum/lib/index.js"}],[1926,{"./inlineStyles":1927,"@trezor/connect/lib/index":1953,"@trezor/connect/lib/utils/urlUtils":1971,"@trezor/utils":2010,tslib:4249},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.clearTimeout=r.postMessage=r.init=r.dispose=r.messagePromises=r.error=r.timeout=r.initPromise=r.origin=r.instance=void 0;const n=e("tslib"),i=e("@trezor/utils"),o=e("@trezor/connect/lib/index"),s=e("@trezor/connect/lib/utils/urlUtils"),a=n.__importDefault(e("./inlineStyles"));r.initPromise=(0,i.createDeferred)(),r.timeout=0;let c=0;r.messagePromises={};r.dispose=()=>{if(r.instance&&r.instance.parentNode)try{r.instance.parentNode.removeChild(r.instance)}catch(e){}r.instance=null,r.timeout=0};r.init=async e=>{var t;r.initPromise=(0,i.createDeferred)();const n=document.getElementById("trezorconnect");let c;if(n?r.instance=n:(r.instance=document.createElement("iframe"),r.instance.frameBorder="0",r.instance.width="0px",r.instance.height="0px",r.instance.style.position="absolute",r.instance.style.display="none",r.instance.style.border="0px",r.instance.style.width="0px",r.instance.style.height="0px",r.instance.id="trezorconnect"),"web"===e.env){const t=e.manifest?JSON.stringify(e.manifest):"undefined",r=`version=${e.version}&manifest=${encodeURIComponent(btoa(JSON.stringify(t)))}`;c=`${e.iframeSrc}?${r}`}else c=e.iframeSrc;r.instance.setAttribute("src",c),e.webusb&&console.warn('webusb option is deprecated. use `transports: ["WebUsbTransport"] instead`'),(e.webusb||(null===(t=e.transports)||void 0===t?void 0:t.includes("WebUsbTransport")))&&r.instance.setAttribute("allow","usb"),r.origin=(0,s.getOrigin)(r.instance.src),r.timeout=window.setTimeout((()=>{r.initPromise.reject(o.ERRORS.TypedError("Init_IframeTimeout"))}),1e4);const u=()=>{var t,n;if(!r.instance)return void r.initPromise.reject(o.ERRORS.TypedError("Init_IframeBlocked"));try{const e=null===(t=r.instance.contentWindow)||void 0===t?void 0:t.location.origin;if(!e||"null"===e)return window.clearTimeout(r.timeout),r.error=o.ERRORS.TypedError("Init_IframeBlocked"),(0,r.dispose)(),void r.initPromise.reject(r.error)}catch(e){}let i;"undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect&&(chrome.runtime.onConnect.addListener((()=>{})),i=chrome.runtime.id),null===(n=r.instance.contentWindow)||void 0===n||n.postMessage({type:o.IFRAME.INIT,payload:{settings:e,extension:i}},r.origin),r.instance.onload=null};r.instance.attachEvent?r.instance.attachEvent("onload",u):r.instance.onload=u,document.body&&(document.body.appendChild(r.instance),(()=>{if(!r.instance)throw o.ERRORS.TypedError("Init_IframeBlocked");const e=r.instance.ownerDocument,t=e.head||e.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id","TrezorConnectStylesheet"),n.styleSheet?(n.styleSheet.cssText=a.default,t.appendChild(n)):(n.appendChild(document.createTextNode(a.default)),t.append(n))})());try{await r.initPromise.promise}catch(e){throw r.instance&&(r.instance.parentNode&&r.instance.parentNode.removeChild(r.instance),r.instance=null),e}finally{window.clearTimeout(r.timeout),r.timeout=0}};r.postMessage=(e,t=!0)=>{var n,s;if(!r.instance)throw o.ERRORS.TypedError("Init_IframeBlocked");if(t){c++,e.id=c,r.messagePromises[c]=(0,i.createDeferred)();const{promise:t}=r.messagePromises[c];return null===(n=r.instance.contentWindow)||void 0===n||n.postMessage(e,r.origin),t}return null===(s=r.instance.contentWindow)||void 0===s||s.postMessage(e,r.origin),null};r.clearTimeout=()=>{window.clearTimeout(r.timeout)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/index.js"}],[1927,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});r.default='.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */'}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/inlineStyles.js"}],[1928,{"./iframe":1926,"./popup":1929,"./webusb/button":1931,"@trezor/connect/lib/data/config":1937,"@trezor/connect/lib/exports":1951,"@trezor/connect/lib/factory":1952,"@trezor/connect/lib/utils/debug":1970,events:2542,tslib:4249},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("tslib"),i=n.__importDefault(e("events")),o=e("@trezor/connect/lib/exports"),s=e("@trezor/connect/lib/factory"),a=e("@trezor/connect/lib/utils/debug"),c=e("@trezor/connect/lib/data/config"),u=n.__importStar(e("./iframe")),l=n.__importStar(e("./popup")),d=n.__importDefault(e("./webusb/button")),h=new i.default,f=(0,a.initLog)("@trezor/connect");let p,m=(0,o.parseConnectSettings)();const g=()=>{const e=new l.PopupManager(m);return e.on(o.POPUP.CLOSED,(e=>{u.postMessage({type:o.POPUP.CLOSED,payload:e?{error:e}:null},!1)})),e},y=()=>(h.removeAllListeners(),u.dispose(),m=(0,o.parseConnectSettings)(),p&&p.close(),Promise.resolve(undefined)),b=e=>{if(e.origin!==u.origin)return;const t=(0,o.parseMessage)(e.data),r=t.id||0;switch(f.log("handleMessage",t),t.event){case o.RESPONSE_EVENT:u.messagePromises[r]?(u.messagePromises[r].resolve({id:r,success:t.success,payload:t.payload}),delete u.messagePromises[r]):f.warn(`Unknown message id ${r}`);break;case o.DEVICE_EVENT:case o.TRANSPORT_EVENT:case o.BLOCKCHAIN_EVENT:h.emit(t.event,t),h.emit(t.type,t.payload);break;case o.UI_EVENT:if(t.type===o.IFRAME.BOOTSTRAP){u.clearTimeout();break}t.type===o.IFRAME.LOADED&&u.initPromise.resolve(),t.type===o.IFRAME.ERROR&&u.initPromise.reject(t.payload.error),h.emit(t.event,t),h.emit(t.type,t.payload);break;default:f.log("Undefined message",t.event,e)}},w=async(e={})=>{var t;if(u.instance)throw o.ERRORS.TypedError("Init_AlreadyInitialized");if(m=(0,o.parseConnectSettings)(Object.assign(Object.assign({},m),e)),!m.manifest)throw o.ERRORS.TypedError("Init_ManifestMissing");(null===(t=m.transports)||void 0===t?void 0:t.length)||(m.transports=["BridgeTransport","WebUsbTransport"]),m.lazyLoad?m.lazyLoad=!1:(p||(p=g()),f.enabled=!!m.debug,window.addEventListener("message",b),window.addEventListener("unload",y),await u.init(m))},v=async e=>{if(!u.instance&&!u.timeout){if(m=(0,o.parseConnectSettings)(m),!m.manifest)return(0,o.createErrorMessage)(o.ERRORS.TypedError("Init_ManifestMissing"));p||(p=g()),p.request(!0);try{await w(m)}catch(e){return p&&(["Init_IframeBlocked","Init_IframeTimeout"].includes(e.code)?p.postMessage((0,o.createUiMessage)(o.UI.IFRAME_FAILURE)):p.close()),(0,o.createErrorMessage)(e)}}if(u.timeout)return(0,o.createErrorMessage)(o.ERRORS.TypedError("Init_ManifestMissing"));if(u.error)return(0,o.createErrorMessage)(u.error);m.popup&&p&&p.request();try{const t=await u.postMessage({type:o.IFRAME.CALL,payload:e});return t?(!t.success&&"Device_CallInProgress"!==t.payload.code&&p&&p.unlock(),t):(p&&p.unlock(),(0,o.createErrorMessage)(o.ERRORS.TypedError("Method_NoResponse")))}catch(e){return f.error("__call error",e),p&&p.close(),(0,o.createErrorMessage)(e)}},_=(0,s.factory)({eventEmitter:h,manifest:e=>{m=(0,o.parseConnectSettings)(Object.assign(Object.assign({},m),{manifest:e}))},init:w,call:v,requestLogin:async e=>{if("function"==typeof e.callback){const{callback:t}=e,r=async e=>{const{data:r}=e;if(r&&r.type===o.UI.LOGIN_CHALLENGE_REQUEST)try{const e=await t();u.postMessage({event:o.UI_EVENT,type:o.UI.LOGIN_CHALLENGE_RESPONSE,payload:e})}catch(e){u.postMessage({event:o.UI_EVENT,type:o.UI.LOGIN_CHALLENGE_RESPONSE,payload:e.message})}};window.addEventListener("message",r,!1);const n=await v(Object.assign(Object.assign({method:"requestLogin"},e),{asyncChallenge:!0,callback:null}));return window.removeEventListener("message",r),n}return v(Object.assign({method:"requestLogin"},e))},uiResponse:e=>{if(!u.instance)throw o.ERRORS.TypedError("Init_NotInitialized");const{type:t,payload:r}=e;u.postMessage({event:o.UI_EVENT,type:t,payload:r})},renderWebUSBButton:e=>{(0,d.default)(e,m.webusbSrc)},disableWebUSB:()=>{if(!u.instance)throw o.ERRORS.TypedError("Init_NotInitialized");u.postMessage({event:o.UI_EVENT,type:o.TRANSPORT.DISABLE_WEBUSB})},requestWebUSBDevice:async()=>{try{await window.navigator.usb.requestDevice({filters:c.config.webusb}),u.postMessage({event:o.UI_EVENT,type:o.TRANSPORT.REQUEST_DEVICE})}catch(e){}},cancel:e=>{p&&p.emit(o.POPUP.CLOSED,e)},dispose:y});r.default=_,n.__exportStar(e("@trezor/connect/lib/exports"),r)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/index.js"}],[1929,{"./showPopupRequest":1930,"@trezor/connect/lib/index":1953,"@trezor/connect/lib/utils/urlUtils":1971,"@trezor/utils":2010,events:2542,tslib:4249},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupManager=void 0;const n=e("tslib").__importDefault(e("events")),i=e("@trezor/utils"),o=e("@trezor/connect/lib/index"),s=e("@trezor/connect/lib/utils/urlUtils"),a=e("./showPopupRequest");class c extends n.default{constructor(e){super(),this.locked=!1,this.requestTimeout=0,this.closeInterval=0,this.extensionTabId=0,this.settings=e,this.origin=(0,s.getOrigin)(e.popupSrc),this.handleMessage=this.handleMessage.bind(this),this.iframeHandshake=(0,i.createDeferred)(o.IFRAME.LOADED),"webextension"===this.settings.env&&(this.handleExtensionConnect=this.handleExtensionConnect.bind(this),this.handleExtensionMessage=this.handleExtensionMessage.bind(this),chrome.runtime.onConnect.addListener(this.handleExtensionConnect)),window.addEventListener("message",this.handleMessage,!1)}request(e=!1){if(this.locked)return void(this._window&&("webextension"===this.settings.env?chrome.tabs.update(this._window.id,{active:!0}):this._window.focus()));const t=this.open.bind(this);if(this.locked=!0,this.settings.supportedBrowser){const r=e||"webextension"===this.settings.env?1:850;this.requestTimeout=window.setTimeout((()=>{this.requestTimeout=0,t(e)}),r)}else t()}cancel(){this.close()}unlock(){this.locked=!1}open(e){const t=this.settings.popupSrc;this.settings.supportedBrowser?(this.popupPromise=(0,i.createDeferred)(o.POPUP.LOADED),this.openWrapper(e?`${t}#loading`:t),this.closeInterval=window.setInterval((()=>{this._window&&("webextension"===this.settings.env?chrome.tabs.get(this._window.id,(e=>{e||(this.close(),this.emit(o.POPUP.CLOSED))})):this._window.closed&&(this.close(),this.emit(o.POPUP.CLOSED)))}),500),this.openTimeout=setTimeout((()=>{this.close(),(0,a.showPopupRequest)(this.open.bind(this),(()=>{this.emit(o.POPUP.CLOSED)}))}),3e3)):this.openWrapper(`${t}#unsupported`)}openWrapper(e){"webextension"===this.settings.env?chrome.windows.getCurrent((t=>{"normal"!==t.type?chrome.windows.create({url:e},(e=>{chrome.tabs.query({windowId:null==e?void 0:e.id,active:!0},(e=>{this._window=e[0]}))})):chrome.tabs.query({currentWindow:!0,active:!0},(t=>{this.extensionTabId=t[0].id,chrome.tabs.create({url:e,index:t[0].index+1},(e=>{this._window=e}))}))})):"electron"===this.settings.env?this._window=window.open(e,"modal"):(this._window=window.open("","_blank"),this._window&&(this._window.location.href=e))}handleExtensionConnect(e){var t,r;"trezor-connect"===e.name&&(!this._window||this._window&&this._window.id!==(null===(r=null===(t=e.sender)||void 0===t?void 0:t.tab)||void 0===r?void 0:r.id)?e.disconnect():(this.openTimeout&&clearTimeout(this.openTimeout),this.extensionPort=e,this.extensionPort.onMessage.addListener(this.handleExtensionMessage)))}handleExtensionMessage(e){if(!this.extensionPort)return;const t=this.extensionPort,{data:r}=e;if(r&&"object"==typeof r)if(r.type===o.POPUP.ERROR){const e=r.payload&&"string"==typeof r.payload.error?r.payload.error:null;this.emit(o.POPUP.CLOSED,e?`Popup error: ${e}`:null),this.close()}else r.type===o.POPUP.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then((e=>{t.postMessage({type:o.POPUP.INIT,payload:{settings:this.settings,useBroadcastChannel:e}})}))):r.type===o.POPUP.EXTENSION_USB_PERMISSIONS?chrome.tabs.query({currentWindow:!0,active:!0},(e=>{chrome.tabs.create({url:"trezor-usb-permissions.html",index:e[0].index+1},(e=>{}))})):r.type===o.POPUP.CLOSE_WINDOW&&(this.emit(o.POPUP.CLOSED),this.close())}handleMessage(e){const{data:t}=e;if((0,s.getOrigin)(e.origin)===this.origin&&t&&"object"==typeof t)if(t.type===o.IFRAME.LOADED){const e=!(!t.payload||"boolean"!=typeof t.payload.useBroadcastChannel)&&t.payload.useBroadcastChannel;this.iframeHandshake.resolve(e)}else if(t.type===o.POPUP.BOOTSTRAP)this.openTimeout&&clearTimeout(this.openTimeout);else if(t.type===o.POPUP.ERROR&&this._window){const e=t.payload&&"string"==typeof t.payload.error?t.payload.error:null;this.emit(o.POPUP.CLOSED,e?`Popup error: ${e}`:null),this.close()}else t.type===o.POPUP.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then((e=>{this._window.postMessage({type:o.POPUP.INIT,payload:{settings:this.settings,useBroadcastChannel:e}},this.origin)}))):t.type!==o.POPUP.CANCEL_POPUP_REQUEST&&t.type!==o.UI.CLOSE_UI_WINDOW||this.close()}close(){if(this.locked=!1,this.popupPromise=undefined,this.requestTimeout&&(window.clearTimeout(this.requestTimeout),this.requestTimeout=0),this.openTimeout&&(clearTimeout(this.openTimeout),this.openTimeout=undefined),this.closeInterval&&(window.clearInterval(this.closeInterval),this.closeInterval=0),this.extensionPort&&(this.extensionPort.disconnect(),this.extensionPort=undefined),this.extensionTabId&&(chrome.tabs.update(this.extensionTabId,{active:!0}),this.extensionTabId=0),this._window){if("webextension"===this.settings.env){let e=chrome.runtime.lastError;chrome.tabs.remove(this._window.id,(()=>{e=chrome.runtime.lastError}))}else this._window.close();this._window=null}}async postMessage(e){if(!this._window&&e.type!==o.UI.REQUEST_UI_WINDOW&&this.openTimeout)return this.close(),void(0,a.showPopupRequest)(this.open.bind(this),(()=>{this.emit(o.POPUP.CLOSED)}));this.popupPromise&&await this.popupPromise.promise,this._window&&this._window.postMessage(e,this.origin)}}r.PopupManager=c}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/popup/index.js"}],[1930,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.showPopupRequest=void 0;const n="TrezorConnectInteractionLayer",i=`\n    <div class="trezorconnect-container" id="${n}">\n        <div class="trezorconnect-window">\n            <div class="trezorconnect-head">\n                <svg class="trezorconnect-logo" x="0px" y="0px" viewBox="0 0 163.7 41.9" width="78px" height="20px" preserveAspectRatio="xMinYMin meet">\n                    <polygon points="101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1"/>\n                    <path d="M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z"/>\n                    <path d="M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z"/>\n                    <polygon points="82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 "/>\n                    <path d="M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z"/>\n                    <path d="M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z"/>\n                    <polygon points="40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 "/>\n                </svg>\n                <div class="trezorconnect-close">\n                    <svg x="0px" y="0px" viewBox="24 24 60 60" width="24px" height="24px" preserveAspectRatio="xMinYMin meet">\n                        <polygon class="st0" points="40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 "/>\n                    </svg>\n                </div>\n            </div>\n            <div class="trezorconnect-body">\n                <h3>Popup was blocked</h3>\n                <p>Please click to "Continue" to open popup manually</p>\n                <button class="trezorconnect-open">Continue</button>\n            </div>\n        </div>\n    </div>\n`;r.showPopupRequest=(e,t)=>{if(document.getElementById(n))return;const r=document.createElement("div");r.id=n,r.className="trezorconnect-container",r.innerHTML=i,document.body&&document.body.appendChild(r);r.getElementsByClassName("trezorconnect-open")[0].onclick=()=>{e(),document.body&&document.body.removeChild(r)};r.getElementsByClassName("trezorconnect-close")[0].onclick=()=>{t(),document.body&&document.body.removeChild(r)}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/popup/showPopupRequest.js"}],[1931,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});r.default=(e="",t)=>{const r=e||".trezor-webusb-button",n=document.querySelectorAll(r),i=`${t}?${Date.now()}`;n.forEach((e=>{if(e.getElementsByTagName("iframe").length<1){const t=e.getBoundingClientRect(),r=document.createElement("iframe");r.frameBorder="0",r.width=`${Math.round(t.width)}px`,r.height=`${Math.round(t.height)}px`,r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.zIndex="1",r.setAttribute("allow","usb"),r.setAttribute("scrolling","no"),r.src=i,e.append(r)}}))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/webusb/button.js"}],[1932,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NETWORK_IDS=r.PROTOCOL_MAGICS=void 0,function(e){e[e.mainnet=764824073]="mainnet",e[e.testnet_preprod=1]="testnet_preprod",e[e.testnet_preview=2]="testnet_preview",e[e.testnet_legacy=1097911063]="testnet_legacy"}(r.PROTOCOL_MAGICS||(r.PROTOCOL_MAGICS={})),function(e){e[e.mainnet=1]="mainnet",e[e.testnet=0]="testnet"}(r.NETWORK_IDS||(r.NETWORK_IDS={}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/cardano.js"}],[1933,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LIBUSB_ERROR_MESSAGE=r.WEBUSB_ERROR_MESSAGE=r.INVALID_PIN_ERROR_MESSAGE=r.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE=r.serializeError=r.TypedError=r.TrezorError=r.ERROR_CODES=void 0,r.ERROR_CODES={Init_NotInitialized:"TrezorConnect not initialized",Init_AlreadyInitialized:"TrezorConnect has been already initialized",Init_IframeBlocked:"Iframe blocked",Init_IframeTimeout:"Iframe timeout",Init_ManifestMissing:"Manifest not set. Read more at https://github.com/trezor/trezor-suite/blob/develop/docs/packages/connect/index.md",Popup_ConnectionMissing:"Unable to establish connection with iframe",Transport_Missing:"Transport is missing",Transport_InvalidProtobuf:"",Method_InvalidPackage:"This package is not suitable to work with browser. Use @trezor/connect-web package instead",Method_InvalidParameter:"",Method_NotAllowed:"Method not allowed for this configuration",Method_PermissionsNotGranted:"Permissions not granted",Method_Cancel:"Cancelled",Method_Interrupted:"Popup closed",Method_UnknownCoin:"Coin not found",Method_AddressNotMatch:"Addresses do not match",Method_FirmwareUpdate_DownloadFailed:"Failed to download firmware binary",Method_Discovery_BundleException:"",Method_Override:"override",Method_NoResponse:"Call resolved without response",Backend_NotSupported:"BlockchainLink settings not found in coins.json",Backend_WorkerMissing:"",Backend_Disconnected:"Backend disconnected",Backend_Invalid:"Invalid backend",Backend_Error:"",Runtime:"",Device_NotFound:"Device not found",Device_InitializeFailed:"",Device_FwException:"",Device_ModeException:"",Device_Disconnected:"Device disconnected",Device_UsedElsewhere:"Device is used in another window",Device_InvalidState:"Passphrase is incorrect",Device_CallInProgress:"Device call in progress"};class n extends Error{constructor(e,t){super(t),this.code=e,this.message=t}}r.TrezorError=n;r.TypedError=(e,t)=>new n(e,t||r.ERROR_CODES[e]);r.serializeError=e=>e&&e.error instanceof Error?{error:e.error.message,code:e.error.code}:e,r.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE="wrong previous session",r.INVALID_PIN_ERROR_MESSAGE="PIN invalid",r.WEBUSB_ERROR_MESSAGE="NetworkError: Unable to claim interface.",r.LIBUSB_ERROR_MESSAGE="LIBUSB_ERROR"}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/errors.js"}],[1934,{"./cardano":1932,"./errors":1933,"./nem":1935,"./network":1936,"@trezor/transport/lib/types/messages":1991,tslib:4249},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PROTO=r.NEM=r.CARDANO=r.NETWORK=r.ERRORS=void 0;const n=e("tslib");r.ERRORS=n.__importStar(e("./errors")),r.NETWORK=n.__importStar(e("./network")),r.CARDANO=n.__importStar(e("./cardano")),r.NEM=n.__importStar(e("./nem")),r.PROTO=n.__importStar(e("@trezor/transport/lib/types/messages"))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/index.js"}],[1935,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TxVersion=r.TxType=r.Networks=void 0,function(e){e[e.mainnet=104]="mainnet",e[e.testnet=152]="testnet",e[e.mijin=96]="mijin"}(r.Networks||(r.Networks={})),function(e){e[e.TRANSFER=257]="TRANSFER",e[e.COSIGNING=258]="COSIGNING",e[e.IMPORTANCE_TRANSFER=2049]="IMPORTANCE_TRANSFER",e[e.AGGREGATE_MODIFICATION=4097]="AGGREGATE_MODIFICATION",e[e.MULTISIG_SIGNATURE=4098]="MULTISIG_SIGNATURE",e[e.MULTISIG=4100]="MULTISIG",e[e.PROVISION_NAMESPACE=8193]="PROVISION_NAMESPACE",e[e.MOSAIC_CREATION=16385]="MOSAIC_CREATION",e[e.SUPPLY_CHANGE=16386]="SUPPLY_CHANGE"}(r.TxType||(r.TxType={})),function(e){e[e.mainnet=1744830464]="mainnet",e[e.testnet=-1744830464]="testnet",e[e.mijin=1610612736]="mijin"}(r.TxVersion||(r.TxVersion={}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/nem.js"}],[1936,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TYPES=void 0,r.TYPES={bitcoin:"Bitcoin",ethereum:"Ethereum",eos:"Eos",nem:"NEM",stellar:"Stellar",cardano:"Cardano",ripple:"Ripple",tezos:"Tezos",binance:"Binance"}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/network.js"}],[1937,{"@trezor/transport":1977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.config=void 0;const n=e("@trezor/transport");r.config={webusb:n.TREZOR_DESCS,whitelist:[{origin:"chrome-extension://imloifkgjagghnncjkhggdhalmcnfklk",priority:1},{origin:"chrome-extension://niebkpllfhmpfbffbfifagfgoamhpflf",priority:1},{origin:"file://",priority:2},{origin:"trezor.io",priority:0},{origin:"sldev.cz",priority:0},{origin:"localhost",priority:0},{origin:"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion",priority:0}],management:[{origin:"trezor.io"},{origin:"sldev.cz"},{origin:"localhost"}],knownHosts:[{origin:"imloifkgjagghnncjkhggdhalmcnfklk",label:"Trezor Password Manager (Develop)",icon:""},{origin:"niebkpllfhmpfbffbfifagfgoamhpflf",label:"Trezor Password Manager",icon:""},{origin:"trezor-connect@trezor.io",label:"Trezor Connect FF Extension",icon:""},{origin:"efbfhenfhihgdcmnfdkhaphjdnopihlf",label:"Trezor Connect Chrome Extension",icon:""},{origin:"mnpfhpndmjholfdlhpkjfmjkgppmodaf",label:"MetaMask",icon:""},{origin:"webextension@metamask.io",label:"MetaMask",icon:""},{origin:"file://",label:" ",icon:""}],onionDomains:{"trezor.io":"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion"},assets:[{name:"coins",url:"./data/coins.json"},{name:"bridge",url:"./data/bridge/releases.json"},{name:"firmware-t1",url:"./data/firmware/1/releases.json"},{name:"firmware-t2",url:"./data/firmware/2/releases.json"}],messages:"./data/messages/messages.json",supportedBrowsers:{chrome:{version:59,download:"https://www.google.com/chrome/",update:"https://support.google.com/chrome/answer/95414"},chromium:{version:59,download:"https://www.chromium.org/",update:"https://www.chromium.org/"},electron:{version:0,download:"https://www.electronjs.org/",update:"https://www.electronjs.org/"},firefox:{version:54,download:"https://www.mozilla.org/en-US/firefox/new/",update:"https://support.mozilla.org/en-US/kb/update-firefox-latest-version"}},supportedFirmware:[{coin:["xrp","txrp"],methods:["getAccountInfo"],min:["0","2.1.0"],max:undefined,comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{coin:["bnb"],min:["1.9.0","2.3.0"],comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{coin:["eth","trop","tgor"],min:["1.8.0","2.1.0"],comment:["There were protobuf backwards incompatible changes."]},{methods:["rippleGetAddress","rippleSignTransaction"],min:["0","2.1.0"],comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{methods:["cardanoGetAddress","cardanoGetPublicKey"],min:["0","2.3.2"],comment:["Shelley fork support since firmware 2.3.2"]},{methods:["cardanoSignTransaction"],min:["0","2.4.2"],comment:["Non-streamed signing no longer supported"]},{methods:["cardanoGetNativeScriptHash"],min:["0","2.4.3"],comment:["Cardano GetNativeScriptHash call added in 2.4.3"]},{methods:["tezosSignTransaction"],min:["0","2.1.8"],comment:["Since 2.1.8 there are new protobuf fields in tezos transaction (Babylon fork)"]},{methods:["stellarSignTransaction"],min:["1.9.0","2.3.0"],comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{capabilities:["replaceTransaction","amountUnit"],min:["1.9.4","2.3.5"],comment:["new sign tx process since 1.9.4/2.3.5"]},{capabilities:["decreaseOutput"],min:["1.10.0","2.4.0"],comment:["allow reduce output in RBF transaction since 1.10.0/2.4.0"]},{capabilities:["eip1559"],min:["1.10.4","2.4.2"],comment:["new eth transaction pricing mechanism (EIP1559) since 1.10.4/2.4.2"]},{capabilities:["taproot","signMessageNoScriptType"],min:["1.10.4","2.4.3"],comment:["new btc accounts taproot since 1.10.4/2.4.3 (BTC + TEST only)","SignMessage with no_script_type support"]},{coin:["dcr","tdcr"],methods:["signTransaction"],min:["1.10.1","2.4.0"],comment:[""]},{methods:["ethereumSignTypedData"],min:["1.10.5","2.4.3"],comment:["EIP-712 typed signing support added in 1.10.5/2.4.3"]},{capabilities:["eip712-domain-only"],min:["1.10.6","2.4.4"],comment:["EIP-712 domain-only signing, when primaryType=EIP712Domain"]},{capabilities:["coinjoin"],methods:["authorizeCoinjoin","getOwnershipId","getOwnershipProof"],min:["0","2.5.3"]}]}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/config.js"}],[1938,{"./version":1939},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseConnectSettings=r.corsValidator=r.getEnv=r.DEFAULT_PRIORITY=void 0;const n=e("./version");r.DEFAULT_PRIORITY=2;const i={configSrc:"./data/config.json",version:n.VERSION,debug:!1,priority:r.DEFAULT_PRIORITY,trustedHost:!1,connectSrc:n.DEFAULT_DOMAIN,iframeSrc:`${n.DEFAULT_DOMAIN}iframe.html`,popup:!0,popupSrc:`${n.DEFAULT_DOMAIN}popup.html`,webusbSrc:`${n.DEFAULT_DOMAIN}webusb.html`,transports:undefined,pendingTransportEvent:!0,supportedBrowser:"undefined"==typeof navigator||!/Trident|MSIE|Edge/.test(navigator.userAgent),env:"web",lazyLoad:!1,timestamp:(new Date).getTime(),interactionTimeout:600};r.getEnv=()=>{if("undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect)return"webextension";if("undefined"!=typeof navigator){if("string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"};r.corsValidator=e=>{if("string"==typeof e)return e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*trezor\.io\//)||e.match(/^https?:\/\/localhost:[58][0-9]{3}\//)||e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*sldev\.cz\//)||e.match(/^https?:\/\/([A-Za-z0-9\-_]+\.)*trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad\.onion\//)?e:void 0};r.parseConnectSettings=(e={})=>{const t={...i};let o;if(Object.prototype.hasOwnProperty.call(e,"debug")&&(Array.isArray(e),"boolean"==typeof e.debug?t.debug=e.debug:"string"==typeof e.debug&&(t.debug="true"===e.debug)),"string"==typeof e.connectSrc&&(t.connectSrc=e.connectSrc),"undefined"!=typeof window?o=window.__TREZOR_CONNECT_SRC:"undefined"!=typeof global&&(o=global.__TREZOR_CONNECT_SRC),"string"==typeof o&&(t.connectSrc=(0,r.corsValidator)(o),t.debug=!0),"undefined"!=typeof window&&window.location&&"string"==typeof window.location.search){const e=window.location.search.split("&").find((e=>e.indexOf("trezor-connect-src")>=0));if(e){const[,n]=e.split("=");t.connectSrc=(0,r.corsValidator)(decodeURIComponent(n)),t.debug=!0}}const s=t.connectSrc||n.DEFAULT_DOMAIN;return t.iframeSrc=`${s}iframe.html`,t.popupSrc=`${s}popup.html`,t.webusbSrc=`${s}webusb.html`,"boolean"==typeof e.transportReconnect&&(t.transportReconnect=e.transportReconnect),"boolean"==typeof e.webusb&&(t.webusb=e.webusb),Array.isArray(e.transports)&&(t.transports=e.transports),"boolean"==typeof e.popup&&(t.popup=e.popup),"boolean"==typeof e.lazyLoad&&(t.lazyLoad=e.lazyLoad),"boolean"==typeof e.pendingTransportEvent&&(t.pendingTransportEvent=e.pendingTransportEvent),"undefined"!=typeof window&&window.location&&"file:"===window.location.protocol&&(t.origin=`file://${window.location.pathname}`,t.webusb=!1),"string"==typeof e.extension&&(t.extension=e.extension),"string"==typeof e.env?t.env=e.env:t.env=(0,r.getEnv)(),"number"==typeof e.timestamp&&(t.timestamp=e.timestamp),"number"==typeof e.interactionTimeout&&(t.interactionTimeout=e.interactionTimeout),"object"==typeof e.manifest&&(t.manifest=(e=>{if(e&&"string"==typeof e.email&&"string"==typeof e.appUrl)return{email:e.email,appUrl:e.appUrl}})(e.manifest)),t}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/connectSettings.js"}],[1939,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_DOMAIN=r.VERSION=void 0,r.VERSION="9.0.7";const n=r.VERSION.split(".").map((e=>parseInt(e,10)));r.DEFAULT_DOMAIN=`https://connect.trezor.io/${n[0]}/`}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/version.js"}],[1940,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockchainMessage=r.BLOCKCHAIN=r.BLOCKCHAIN_EVENT=void 0,r.BLOCKCHAIN_EVENT="BLOCKCHAIN_EVENT",r.BLOCKCHAIN={CONNECT:"blockchain-connect",ERROR:"blockchain-error",BLOCK:"blockchain-block",NOTIFICATION:"blockchain-notification",FIAT_RATES_UPDATE:"fiat-rates-update"};r.createBlockchainMessage=(e,t)=>({event:r.BLOCKCHAIN_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/blockchain.js"}],[1941,{"../constants/errors":1933},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createResponseMessage=r.RESPONSE_EVENT=void 0;const n=e("../constants/errors");r.RESPONSE_EVENT="RESPONSE_EVENT";r.createResponseMessage=(e,t,i)=>({event:r.RESPONSE_EVENT,type:r.RESPONSE_EVENT,id:e,success:t,payload:t?i:(0,n.serializeError)(i)})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/call.js"}],[1942,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createErrorMessage=r.parseMessage=r.CORE_EVENT=void 0,r.CORE_EVENT="CORE_EVENT";r.parseMessage=e=>{const t={event:e.event,type:e.type,payload:e.payload};return"number"==typeof e.id&&(t.id=e.id),"boolean"==typeof e.success&&(t.success=e.success),t};r.createErrorMessage=e=>({success:!1,payload:{error:e.message,code:e.code}})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/core.js"}],[1943,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeviceMessage=r.DEVICE=r.DEVICE_EVENT=void 0,r.DEVICE_EVENT="DEVICE_EVENT",r.DEVICE={CONNECT:"device-connect",CONNECT_UNACQUIRED:"device-connect_unacquired",DISCONNECT:"device-disconnect",CHANGED:"device-changed",ACQUIRE:"device-acquire",RELEASE:"device-release",ACQUIRED:"device-acquired",RELEASED:"device-released",USED_ELSEWHERE:"device-used_elsewhere",LOADING:"device-loading",BUTTON:"button",PIN:"pin",PASSPHRASE:"passphrase",PASSPHRASE_ON_DEVICE:"passphrase_on_device",WORD:"word"};r.createDeviceMessage=(e,t)=>({event:r.DEVICE_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/device.js"}],[1944,{"./ui-request":1949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIFrameMessage=r.IFRAME=void 0;const n=e("./ui-request");r.IFRAME={BOOTSTRAP:"iframe-bootstrap",LOADED:"iframe-loaded",INIT:"iframe-init",ERROR:"iframe-error",CALL:"iframe-call"};r.createIFrameMessage=(e,t)=>({event:n.UI_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/iframe.js"}],[1945,{"./blockchain":1940,"./call":1941,"./core":1942,"./device":1943,"./iframe":1944,"./popup":1946,"./transport":1947,"./ui-promise":1948,"./ui-request":1949,"./ui-response":1950,tslib:4249},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.UI=void 0;const n=e("tslib"),i=e("./ui-request"),o=e("./ui-response");n.__exportStar(e("./blockchain"),r),n.__exportStar(e("./call"),r),n.__exportStar(e("./core"),r),n.__exportStar(e("./device"),r),n.__exportStar(e("./iframe"),r),n.__exportStar(e("./popup"),r),n.__exportStar(e("./transport"),r),n.__exportStar(e("./ui-promise"),r),n.__exportStar(e("./ui-request"),r),n.__exportStar(e("./ui-response"),r),r.UI={...i.UI_REQUEST,...o.UI_RESPONSE}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/index.js"}],[1946,{"./ui-request":1949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPopupMessage=r.POPUP=void 0;const n=e("./ui-request");r.POPUP={BOOTSTRAP:"popup-bootstrap",LOADED:"popup-loaded",INIT:"popup-init",ERROR:"popup-error",EXTENSION_USB_PERMISSIONS:"open-usb-permissions",HANDSHAKE:"popup-handshake",CLOSED:"popup-closed",CANCEL_POPUP_REQUEST:"ui-cancel-popup-request",CLOSE_WINDOW:"window.close"};r.createPopupMessage=(e,t)=>({event:n.UI_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/popup.js"}],[1947,{"../constants/errors":1933},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTransportMessage=r.TRANSPORT=r.TRANSPORT_EVENT=void 0;const n=e("../constants/errors");r.TRANSPORT_EVENT="TRANSPORT_EVENT",r.TRANSPORT={START:"transport-start",ERROR:"transport-error",UPDATE:"transport-update",STREAM:"transport-stream",REQUEST_DEVICE:"transport-request_device",DISABLE_WEBUSB:"transport-disable_webusb",START_PENDING:"transport-start_pending"};r.createTransportMessage=(e,t)=>({event:r.TRANSPORT_EVENT,type:e,payload:"error"in t?(0,n.serializeError)(t):t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/transport.js"}],[1948,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-promise.js"}],[1949,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUiMessage=r.UI_REQUEST=r.UI_EVENT=void 0,r.UI_EVENT="UI_EVENT",r.UI_REQUEST={TRANSPORT:"ui-no_transport",BOOTLOADER:"ui-device_bootloader_mode",NOT_IN_BOOTLOADER:"ui-device_not_in_bootloader_mode",REQUIRE_MODE:"ui-device_require_mode",INITIALIZE:"ui-device_not_initialized",SEEDLESS:"ui-device_seedless",FIRMWARE_OLD:"ui-device_firmware_old",FIRMWARE_OUTDATED:"ui-device_firmware_outdated",FIRMWARE_NOT_SUPPORTED:"ui-device_firmware_unsupported",FIRMWARE_NOT_COMPATIBLE:"ui-device_firmware_not_compatible",FIRMWARE_NOT_INSTALLED:"ui-device_firmware_not_installed",FIRMWARE_PROGRESS:"ui-firmware-progress",DEVICE_NEEDS_BACKUP:"ui-device_needs_backup",REQUEST_UI_WINDOW:"ui-request_window",CLOSE_UI_WINDOW:"ui-close_window",REQUEST_PERMISSION:"ui-request_permission",REQUEST_CONFIRMATION:"ui-request_confirmation",REQUEST_PIN:"ui-request_pin",INVALID_PIN:"ui-invalid_pin",REQUEST_PASSPHRASE:"ui-request_passphrase",REQUEST_PASSPHRASE_ON_DEVICE:"ui-request_passphrase_on_device",INVALID_PASSPHRASE:"ui-invalid_passphrase",CONNECT:"ui-connect",LOADING:"ui-loading",SET_OPERATION:"ui-set_operation",SELECT_DEVICE:"ui-select_device",SELECT_ACCOUNT:"ui-select_account",SELECT_FEE:"ui-select_fee",UPDATE_CUSTOM_FEE:"ui-update_custom_fee",INSUFFICIENT_FUNDS:"ui-insufficient_funds",REQUEST_BUTTON:"ui-button",REQUEST_WORD:"ui-request_word",LOGIN_CHALLENGE_REQUEST:"ui-login_challenge_request",BUNDLE_PROGRESS:"ui-bundle_progress",ADDRESS_VALIDATION:"ui-address_validation",IFRAME_FAILURE:"ui-iframe_failure"};r.createUiMessage=(e,t)=>({event:r.UI_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-request.js"}],[1950,{"./ui-request":1949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUiResponse=r.UI_RESPONSE=void 0;const n=e("./ui-request");r.UI_RESPONSE={RECEIVE_PERMISSION:"ui-receive_permission",RECEIVE_CONFIRMATION:"ui-receive_confirmation",RECEIVE_PIN:"ui-receive_pin",RECEIVE_PASSPHRASE:"ui-receive_passphrase",RECEIVE_DEVICE:"ui-receive_device",RECEIVE_ACCOUNT:"ui-receive_account",RECEIVE_FEE:"ui-receive_fee",RECEIVE_WORD:"ui-receive_word",INVALID_PASSPHRASE_ACTION:"ui-invalid_passphrase_action",CHANGE_SETTINGS:"ui-change_settings",LOGIN_CHALLENGE_RESPONSE:"ui-login_challenge_response"};r.createUiResponse=(e,t)=>({event:n.UI_EVENT,type:e,payload:t})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-response.js"}],[1951,{"./constants":1934,"./data/connectSettings":1938,"./events":1945,"./types":1967,tslib:4249},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseConnectSettings=void 0;const n=e("tslib");n.__exportStar(e("./constants"),r),n.__exportStar(e("./events"),r),n.__exportStar(e("./types"),r);var i=e("./data/connectSettings");Object.defineProperty(r,"parseConnectSettings",{enumerable:!0,get:function(){return i.parseConnectSettings}})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/exports.js"}],[1952,{"./events":1945},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.factory=void 0;const n=e("./events");r.factory=({eventEmitter:e,manifest:t,init:r,call:i,requestLogin:o,uiResponse:s,renderWebUSBButton:a,disableWebUSB:c,requestWebUSBDevice:u,cancel:l,dispose:d})=>({manifest:t,init:r,getSettings:()=>i({method:"getSettings"}),on:(t,r)=>{e.on(t,r)},off:(t,r)=>{e.removeListener(t,r)},removeAllListeners:t=>{"string"==typeof t?e.removeAllListeners(t):e.removeAllListeners()},uiResponse:s,blockchainGetAccountBalanceHistory:e=>i({...e,method:"blockchainGetAccountBalanceHistory"}),blockchainGetCurrentFiatRates:e=>i({...e,method:"blockchainGetCurrentFiatRates"}),blockchainGetFiatRatesForTimestamps:e=>i({...e,method:"blockchainGetFiatRatesForTimestamps"}),blockchainDisconnect:e=>i({...e,method:"blockchainDisconnect"}),blockchainEstimateFee:e=>i({...e,method:"blockchainEstimateFee"}),blockchainGetTransactions:e=>i({...e,method:"blockchainGetTransactions"}),blockchainSetCustomBackend:e=>i({...e,method:"blockchainSetCustomBackend"}),blockchainSubscribe:e=>i({...e,method:"blockchainSubscribe"}),blockchainSubscribeFiatRates:e=>i({...e,method:"blockchainSubscribeFiatRates"}),blockchainUnsubscribe:e=>i({...e,method:"blockchainUnsubscribe"}),blockchainUnsubscribeFiatRates:e=>i({...e,method:"blockchainUnsubscribeFiatRates"}),requestLogin:e=>o(e),cardanoGetAddress:t=>i({...t,method:"cardanoGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),cardanoGetNativeScriptHash:e=>i({...e,method:"cardanoGetNativeScriptHash"}),cardanoGetPublicKey:e=>i({...e,method:"cardanoGetPublicKey"}),cardanoSignTransaction:e=>i({...e,method:"cardanoSignTransaction"}),cipherKeyValue:e=>i({...e,method:"cipherKeyValue"}),composeTransaction:e=>i({...e,method:"composeTransaction"}),ethereumGetAddress:t=>i({...t,method:"ethereumGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),ethereumGetPublicKey:e=>i({...e,method:"ethereumGetPublicKey"}),ethereumSignMessage:e=>i({...e,method:"ethereumSignMessage"}),ethereumSignTransaction:e=>i({...e,method:"ethereumSignTransaction"}),ethereumSignTypedData:e=>i({...e,method:"ethereumSignTypedData"}),ethereumVerifyMessage:e=>i({...e,method:"ethereumVerifyMessage"}),getAccountInfo:e=>i({...e,method:"getAccountInfo"}),getAddress:t=>i({...t,method:"getAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),getDeviceState:e=>i({...e,method:"getDeviceState"}),getFeatures:e=>i({...e,method:"getFeatures"}),getFirmwareHash:e=>i({...e,method:"getFirmwareHash"}),getOwnershipId:e=>i({...e,method:"getOwnershipId"}),getOwnershipProof:e=>i({...e,method:"getOwnershipProof"}),getPublicKey:e=>i({...e,method:"getPublicKey"}),nemGetAddress:t=>i({...t,method:"nemGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),nemSignTransaction:e=>i({...e,method:"nemSignTransaction"}),pushTransaction:e=>i({...e,method:"pushTransaction"}),rippleGetAddress:t=>i({...t,method:"rippleGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),rippleSignTransaction:e=>i({...e,method:"rippleSignTransaction"}),signMessage:e=>i({...e,method:"signMessage"}),signTransaction:e=>i({...e,method:"signTransaction"}),stellarGetAddress:t=>i({...t,method:"stellarGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),stellarSignTransaction:e=>i({...e,method:"stellarSignTransaction"}),tezosGetAddress:t=>i({...t,method:"tezosGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),tezosGetPublicKey:e=>i({...e,method:"tezosGetPublicKey"}),tezosSignTransaction:e=>i({...e,method:"tezosSignTransaction"}),unlockPath:e=>i({...e,method:"unlockPath"}),eosGetPublicKey:e=>i({...e,method:"eosGetPublicKey"}),eosSignTransaction:e=>i({...e,method:"eosSignTransaction"}),binanceGetAddress:t=>i({...t,method:"binanceGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),binanceGetPublicKey:e=>i({...e,method:"binanceGetPublicKey"}),binanceSignTransaction:e=>i({...e,method:"binanceSignTransaction"}),verifyMessage:e=>i({...e,method:"verifyMessage"}),resetDevice:e=>i({...e,method:"resetDevice"}),wipeDevice:e=>i({...e,method:"wipeDevice"}),checkFirmwareAuthenticity:e=>i({...e,method:"checkFirmwareAuthenticity"}),applyFlags:e=>i({...e,method:"applyFlags"}),applySettings:e=>i({...e,method:"applySettings"}),authorizeCoinjoin:e=>i({...e,method:"authorizeCoinjoin"}),backupDevice:e=>i({...e,method:"backupDevice"}),changePin:e=>i({...e,method:"changePin"}),firmwareUpdate:e=>i({...e,method:"firmwareUpdate"}),recoveryDevice:e=>i({...e,method:"recoveryDevice"}),getCoinInfo:e=>i({...e,method:"getCoinInfo"}),rebootToBootloader:e=>i({...e,method:"rebootToBootloader"}),setBusy:e=>i({...e,method:"setBusy"}),setProxy:e=>i({...e,method:"setProxy"}),dispose:d,cancel:l,renderWebUSBButton:a,disableWebUSB:c,requestWebUSBDevice:u})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/factory.js"}],[1953,{"./constants/errors":1933,"./exports":1951,"./factory":1952,tslib:4249},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("tslib"),i=e("./constants/errors"),o=()=>{throw(0,i.TypedError)("Method_InvalidPackage")},s=(0,e("./factory").factory)({eventEmitter:{on:o,off:o,removeAllListeners:o,listenerCount:o},manifest:o,init:o,call:o,requestLogin:o,requestWebUSBDevice:o,uiResponse:o,renderWebUSBButton:o,disableWebUSB:o,cancel:o,dispose:o});r.default=s,n.__exportStar(e("./exports"),r)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/index-browser.js"}],[1954,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/account.js"}],[1955,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/binance/index.js"}],[1956,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/bitcoin/index.js"}],[1957,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/cardano/index.js"}],[1958,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/eos/index.js"}],[1959,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/ethereum/index.js"}],[1960,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/index.js"}],[1961,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/ripple/index.js"}],[1962,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/stellar/index.js"}],[1963,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/tezos/index.js"}],[1964,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/coinInfo.js"}],[1965,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/device.js"}],[1966,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/firmware.js"}],[1967,{"./account":1954,"./api":1960,"./api/binance":1955,"./api/bitcoin":1956,"./api/cardano":1957,"./api/eos":1958,"./api/ethereum":1959,"./api/ripple":1961,"./api/stellar":1962,"./api/tezos":1963,"./coinInfo":1964,"./device":1965,"./firmware":1966,"./params":1968,"./settings":1969,tslib:4249},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("tslib");n.__exportStar(e("./api"),r),n.__exportStar(e("./account"),r),n.__exportStar(e("./coinInfo"),r),n.__exportStar(e("./device"),r),n.__exportStar(e("./firmware"),r),n.__exportStar(e("./params"),r),n.__exportStar(e("./settings"),r),n.__exportStar(e("./api/cardano"),r),n.__exportStar(e("./api/binance"),r),n.__exportStar(e("./api/bitcoin"),r),n.__exportStar(e("./api/eos"),r),n.__exportStar(e("./api/ripple"),r),n.__exportStar(e("./api/ethereum"),r),n.__exportStar(e("./api/stellar"),r),n.__exportStar(e("./api/tezos"),r)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/index.js"}],[1968,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/params.js"}],[1969,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/settings.js"}],[1970,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getLog=r.enableLogByPrefix=r.enableLog=r.initLog=void 0;const n={"@trezor/connect":"color: #f4a742; background: #000;",IFrame:"color: #f4a742; background: #000;",Core:"color: #f4a742; background: #000;",DescriptorStream:"color: #77ab59; background: #000;",DeviceList:"color: #77ab59; background: #000;",Device:"color: #bada55; background: #000;",DeviceCommands:"color: #bada55; background: #000;"};class i{constructor(e,t){this.prefix=e,this.enabled=t,this.messages=[],this.css="undefined"!=typeof window&&n[e]?n[e]:""}addMessage(e,t,...r){this.messages.push({level:e,prefix:t,message:r,timestamp:(new Date).getTime()}),this.messages.length>100&&this.messages.shift()}log(...e){this.addMessage("log",this.prefix,...e),this.enabled&&console.log(this.prefix,...e)}error(...e){this.addMessage("error",this.prefix,...e),this.enabled&&console.error(this.prefix,...e)}warn(...e){this.addMessage("warn",this.prefix,...e),this.enabled&&console.warn(this.prefix,...e)}debug(...e){this.addMessage("debug",this.prefix,...e),this.enabled&&(this.css?console.log(`%c${this.prefix}`,this.css,...e):console.log(this.prefix,...e))}}const o={};r.initLog=(e,t)=>{const r=new i(e,!!t);return o[e]=r,r};r.enableLog=e=>{Object.keys(o).forEach((t=>{o[t].enabled=!!e}))};r.enableLogByPrefix=(e,t)=>{o[e]&&(o[e].enabled=t)};r.getLog=()=>{let e=[];return Object.keys(o).forEach((t=>{e=e.concat(o[t].messages)})),e.sort(((e,t)=>e.timestamp-t.timestamp)),e}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/utils/debug.js"}],[1971,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getOnionDomain=r.getOrigin=void 0;r.getOrigin=e=>{if("string"!=typeof e)return"unknown";if(0===e.indexOf("file://"))return"file://";const t=e.match(/^.+\:\/\/[^\/]+/);return Array.isArray(t)&&t.length>0?t[0]:"unknown"};r.getOnionDomain=(e,t)=>{var n;if(Array.isArray(e))return e.map((e=>(0,r.getOnionDomain)(e,t)));if("string"==typeof e){const[,r,i,o,s]=null!==(n=e.match(/^(http|ws)s?:\/\/([^:/]+\.)?([^/.]+\.[^/.]+)(\/.*)?$/i))&&void 0!==n?n:[];return o&&t[o]?`${r}://${i||""}${t[o]}${s||""}`:e}return e}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/utils/urlUtils.js"}],[1972,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.request=r.setFetch=void 0;let i="undefined"==typeof window?()=>Promise.reject():window.fetch,o=!1;function s(e){return"string"==typeof e?""===e?"text/plain":"application/octet-stream":"application/json"}function a(e){try{return JSON.parse(e)}catch(t){return e}}r.setFetch=function(e,t){i=e,o=!!t},r.request=function(e){return n(this,void 0,void 0,(function*(){const t={method:e.method,body:(r=e.body,"string"==typeof r?r:JSON.stringify(r)),credentials:"same-origin",headers:{}};var r;null!=e.skipContentTypeHeader&&!1!==e.skipContentTypeHeader||(t.headers=Object.assign(Object.assign({},t.headers),{"Content-Type":s(null==e.body?"":e.body)})),o&&(t.headers=Object.assign(Object.assign({},t.headers),{Origin:"https://node.trezor.io"}));const n=yield i(e.url,t),c=yield n.text();if(n.ok)return a(c);const u=a(c);throw"object"==typeof u&&null!=u&&null!=u.error?new Error(u.error):new Error(c)}))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/bridge/http.js"}],[1973,{"../config":1974,"../lowlevel/protobuf/messages":1981,"../lowlevel/receive":1985,"../lowlevel/send":1986,"../utils/highlevel-checks":1993,"./http":1972,"@trezor/utils":2010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=e("@trezor/utils"),o=e("./http"),s=e("../utils/highlevel-checks"),a=e("../lowlevel/send"),c=e("../lowlevel/protobuf/messages"),u=e("../lowlevel/receive"),l=e("../config");r.default=class{constructor(e,t){this.configured=!1,this.debug=!1,this.name="BridgeTransport",this.requestNeeded=!1,this.stopped=!1,this.version="",this.url=null==e?l.DEFAULT_URL:e,this.newestVersionUrl=null==t?l.DEFAULT_VERSION_URL:t}_post(e){return this.stopped?Promise.reject("Transport stopped."):(0,o.request)(Object.assign(Object.assign({},e),{method:"POST",url:this.url+e.url,skipContentTypeHeader:!0}))}init(e){return n(this,void 0,void 0,(function*(){this.debug=!!e,yield this._silentInit()}))}_silentInit(){return n(this,void 0,void 0,(function*(){const e=yield(0,o.request)({url:this.url,method:"POST"}),t=s.info(e);this.version=t.version;const r="string"==typeof this.bridgeVersion?this.bridgeVersion:s.version(yield(0,o.request)({url:`${this.newestVersionUrl}?${Date.now()}`,method:"GET"}));this.isOutdated=i.versionUtils.isNewer(r,this.version)}))}configure(e){const t=(0,c.parseConfigure)(e);this.configured=!0,this._messages=t}listen(e){return n(this,void 0,void 0,(function*(){if(null==e)throw new Error("Bridge v2 does not support listen without previous.");const t=yield this._post({url:"/listen",body:e});return s.devices(t)}))}enumerate(){return n(this,void 0,void 0,(function*(){const e=yield this._post({url:"/enumerate"});return s.devices(e)}))}_acquireMixed(e,t){const r=null==e.previous?"null":e.previous,n=`${t?"/debug":""}/acquire/${e.path}/${r}`;return this._post({url:n})}acquire(e,t){return n(this,void 0,void 0,(function*(){const r=yield this._acquireMixed(e,t);return s.acquire(r)}))}release(e,t,r){return n(this,void 0,void 0,(function*(){const n=this._post({url:`${r?"/debug":""}/release/${e}`});t||(yield n)}))}call(e,t,r,i){return n(this,void 0,void 0,(function*(){if(null==this._messages)throw new Error("Transport not configured.");const n=this._messages,o=(0,a.buildOne)(n,t,r).toString("hex"),c=yield this._post({url:`${i?"/debug":""}/call/${e}`,body:o});if("string"!=typeof c)throw new Error("Returning data is not string.");const l=(0,u.receiveOne)(n,c);return s.call(l)}))}post(e,t,r,i){return n(this,void 0,void 0,(function*(){if(null==this._messages)throw new Error("Transport not configured.");const n=this._messages,o=(0,a.buildOne)(n,t,r).toString("hex");yield this._post({url:`${i?"/debug":""}/post/${e}`,body:o})}))}read(e,t){return n(this,void 0,void 0,(function*(){if(null==this._messages)throw new Error("Transport not configured.");const r=this._messages,n=yield this._post({url:`${t?"/debug":""}/read/${e}`});if("string"!=typeof n)throw new Error("Returning data is not string.");const i=(0,u.receiveOne)(r,n);return s.call(i)}))}static setFetch(e,t){(0,o.setFetch)(e,t)}requestDevice(){return Promise.reject()}setBridgeLatestUrl(e){this.newestVersionUrl=e}setBridgeLatestVersion(e){this.bridgeVersion=e}stop(){this.stopped=!0}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/bridge/v2.js"}],[1974,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BUFFER_SIZE=r.HEADER_SIZE=r.MESSAGE_HEADER_BYTE=r.DEFAULT_VERSION_URL=r.DEFAULT_URL=void 0,r.DEFAULT_URL="http://127.0.0.1:21325",r.DEFAULT_VERSION_URL="https://data.trezor.io/bridge/latest.txt",r.MESSAGE_HEADER_BYTE=35,r.HEADER_SIZE=8,r.BUFFER_SIZE=63}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/config.js"}],[1975,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TREZOR_DESCS=void 0,r.TREZOR_DESCS=[{vendorId:21324,productId:1},{vendorId:4617,productId:21440},{vendorId:4617,productId:21441}]}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/constants.js"}],[1976,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});r.default=class{constructor(e){this._availableTransports=[],this.activeName="",this.configured=!1,this.debug=!1,this.isOutdated=!1,this.name="FallbackTransport",this.requestNeeded=!1,this.transports=[],this.version="",this.transports=e}_tryInitTransports(){return n(this,void 0,void 0,(function*(){const e=[];let t=null;for(const r of this.transports)try{yield r.init(this.debug),e.push(r)}catch(e){t=e}if(0===e.length)throw t||new Error("No transport could be initialized.");return e}))}_tryConfigureTransports(e){return n(this,void 0,void 0,(function*(){let t=null;for(const r of this._availableTransports)try{return yield r.configure(e),r}catch(e){t=e}throw t||new Error("No transport could be initialized.")}))}init(e){return n(this,void 0,void 0,(function*(){this.debug=!!e;const t=yield this._tryInitTransports();this._availableTransports=t,this.version=t[0].version,this.configured=!1}))}configure(e){return n(this,void 0,void 0,(function*(){const t=this._tryConfigureTransports(e);this.activeTransport=yield t,this.configured=this.activeTransport.configured,this.version=this.activeTransport.version,this.activeName=this.activeTransport.name,this.requestNeeded=this.activeTransport.requestNeeded,this.isOutdated=this.activeTransport.isOutdated}))}enumerate(){return this.activeTransport.enumerate()}listen(e){return this.activeTransport.listen(e)}acquire(e,t){return this.activeTransport.acquire(e,t)}release(e,t,r){return this.activeTransport.release(e,t,r)}call(e,t,r,n){return this.activeTransport.call(e,t,r,n)}post(e,t,r,n){return this.activeTransport.post(e,t,r,n)}read(e,t){return this.activeTransport.read(e,t)}requestDevice(){return this.activeTransport.requestDevice()}setBridgeLatestUrl(e){for(const t of this.transports)t.setBridgeLatestUrl(e)}setBridgeLatestVersion(e){for(const t of this.transports)t.setBridgeLatestVersion(e)}stop(){for(const e of this.transports)e.stop()}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/fallback.js"}],[1977,{"./bridge/v2":1973,"./constants":1975,"./fallback":1976,"./lowlevel/webusb":1988,"./lowlevel/withSharedConnections":1989,"./types":1990,long:3689,"protobufjs/light":3845},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Messages=r.TREZOR_DESCS=void 0;const n=e("./bridge/v2"),i=e("./lowlevel/withSharedConnections"),o=e("./fallback"),s=e("./lowlevel/webusb"),a=e("protobufjs/light"),c=e("long");a.util.Long=c,a.configure();var u=e("./constants");Object.defineProperty(r,"TREZOR_DESCS",{enumerable:!0,get:function(){return u.TREZOR_DESCS}});var l=e("./types");Object.defineProperty(r,"Messages",{enumerable:!0,get:function(){return l.Messages}}),r.default={BridgeV2:n.default,Fallback:o.default,Lowlevel:i.default,WebUsb:s.default}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/index.js"}],[1978,{"../../utils/protobuf":1994,bytebuffer:2556},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(r,"__esModule",{value:!0}),r.decode=void 0;const i=e("bytebuffer"),o=e("../../utils/protobuf"),s=(e,t)=>{if((0,o.isPrimitiveField)(e.type))return e.optional&&void 0===t?null:"bytes"===e.type?i.wrap(t).toString("hex"):e.long?Number.isSafeInteger(t.toNumber())?t.toNumber():t.toString():t;if("valuesById"in e.resolvedType)return e.resolvedType.valuesById[t];if(e.resolvedType.fields)return a(t,e.resolvedType.fields);throw new Error(`transport: decode: case not handled: ${e}`)};function a(e,t){const r=n(e,[]),i={};return Object.keys(t).forEach((e=>{const n=t[e],o=r[e];n.repeated?i[e]=o.map((e=>s(n,e))):i[e]=s(n,o)})),i}r.decode=(e,t)=>{const r=t.toBuffer(),n=new Uint8Array(r),i=e.decode(n);return a(i,i.$type.fields)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protobuf/decode.js"}],[1979,{"../../utils/protobuf":1994,buffer:2541,bytebuffer:2556},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.encode=r.patch=void 0;const n=e("bytebuffer"),i=e("../../utils/protobuf"),o=(e,r)=>{if("bytes"===e)return"string"!=typeof r||r?t.from(r,"hex"):r;if("number"==typeof r&&!Number.isSafeInteger(r))throw new RangeError("field value is not within safe integer range");return r};function s(e,t){const r={};return e.fields?(Object.keys(e.fields).forEach((n=>{const a=e.fields[n],c=t[n];if(void 0!==c)if((0,i.isPrimitiveField)(a.type))a.repeated?r[n]=c.map((e=>o(a.type,e))):r[n]=o(a.type,c);else if(a.repeated){const t=e.lookupTypeOrEnum(a.type);r[n]=c.map((e=>s(t,e)))}else if("object"==typeof c&&null!==c){const t=e.lookupType(a.type);r[n]=s(t,c)}else if("number"==typeof c){const t=e.lookupEnum(a.type);r[n]=t.values[c]}else r[n]=c})),r):r}r.patch=s;r.encode=(e,t)=>{const r=s(e,t),i=e.fromObject(r),o=e.encode(i).finish(),a=new n(o.byteLength);return a.append(o),a.reset(),a}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protobuf/encode.js"}],[1980,{"./decode":1978,"./encode":1979},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./decode"),r),i(e("./encode"),r)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protobuf/index.js"}],[1981,{"protobufjs/light":3845},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMessageFromType=r.createMessageFromName=r.parseConfigure=void 0;const n=e("protobufjs/light");r.parseConfigure=function(e){return"string"==typeof e?n.Root.fromJSON(JSON.parse(e)):n.Root.fromJSON(e)};r.createMessageFromName=(e,t)=>{const r=e.lookupType(t);let n=e.lookupEnum("MessageType").values[`MessageType_${t}`];return!n&&r.options&&(n=r.options["(wire_type)"]),{Message:r,messageType:n}};r.createMessageFromType=(e,t)=>{const r=e.lookupEnum("MessageType").valuesById[t].replace("MessageType_","");return{Message:e.lookupType(r),messageName:r}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protobuf/messages.js"}],[1982,{"../../config":1974,bytebuffer:2556},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeChunked=r.decode=void 0;const n=e("bytebuffer"),i=e("../../config");r.decode=e=>{const{typeId:t}={typeId:(r=e).readUint16(),length:r.readUint32()};var r;return{typeId:t,buffer:e}};r.decodeChunked=e=>{const t=n.wrap(e,undefined,undefined,!0),{sharp1:r,sharp2:o,typeId:s,length:a}={sharp1:(c=t).readByte(),sharp2:c.readByte(),typeId:c.readUint16(),length:c.readUint32()};var c;if(r!==i.MESSAGE_HEADER_BYTE||o!==i.MESSAGE_HEADER_BYTE)throw new Error("Didn't receive expected header signature.");return{length:a,typeId:s,restBuffer:t}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protocol/decode.js"}],[1983,{"../../config":1974,bytebuffer:2556},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encode=void 0;const n=e("bytebuffer"),i=e("../../config");r.encode=function(e,t){const{addTrezorHeaders:r,chunked:o,messageType:s}=t,a=(r?i.HEADER_SIZE:i.HEADER_SIZE-2)+e.limit,c=new n(a);if(r&&(c.writeByte(i.MESSAGE_HEADER_BYTE),c.writeByte(i.MESSAGE_HEADER_BYTE)),c.writeUint16(s),c.writeUint32(e.limit),c.append(e.buffer),c.reset(),!1===o)return c;const u=[],l=i.BUFFER_SIZE,d=Math.floor((c.limit-1)/l)+1||1;for(let e=0;e<d;e++){const t=e*l,r=Math.min((e+1)*l,c.limit),n=c.slice(t,r);n.compact(),u.push(n.buffer)}return u}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protocol/encode.js"}],[1984,{"./decode":1982,"./encode":1983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./decode"),r),i(e("./encode"),r)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/protocol/index.js"}],[1985,{"./protobuf/decode":1978,"./protobuf/messages":1981,"./protocol/decode":1982,bytebuffer:2556},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.receiveAndParse=r.receiveOne=void 0;const i=e("bytebuffer"),o=e("./protobuf/decode"),s=e("./protocol/decode"),a=e("./protobuf/messages");function c(e,t,r){return n(this,void 0,void 0,(function*(){if(e.offset>=r)return;const n=yield t();if(null==n)throw new Error("Received no data.");return e.append(n),c(e,t,r)}))}function u(e){return n(this,void 0,void 0,(function*(){const t=yield e(),{length:r,typeId:n,restBuffer:o}=s.decodeChunked(t),a=new i(r);return r&&a.append(o),yield c(a,e,r),{received:a,typeId:n}}))}r.receiveOne=function(e,t){const r=i.wrap(t,"hex"),{typeId:n,buffer:c}=s.decode(r),{Message:u,messageName:l}=(0,a.createMessageFromType)(e,n);return{message:o.decode(u,c),type:l}},r.receiveAndParse=function(e,t){return n(this,void 0,void 0,(function*(){const{received:r,typeId:n}=yield u(t),{Message:i,messageName:s}=(0,a.createMessageFromType)(e,n);r.reset();return{message:o.decode(i,r),type:s}}))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/receive.js"}],[1986,{"./protobuf":1980,"./protobuf/messages":1981,"./protocol":1984},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.buildAndSend=r.buildBuffers=r.buildOne=void 0;const i=e("./protobuf"),o=e("./protocol"),s=e("./protobuf/messages");r.buildOne=function(e,t,r){const{Message:n,messageType:a}=(0,s.createMessageFromName)(e,t),c=(0,i.encode)(n,r);return(0,o.encode)(c,{addTrezorHeaders:!1,chunked:!1,messageType:a})};r.buildBuffers=(e,t,r)=>{const{Message:n,messageType:a}=(0,s.createMessageFromName)(e,t),c=(0,i.encode)(n,r);return(0,o.encode)(c,{addTrezorHeaders:!0,chunked:!0,messageType:a})},r.buildAndSend=function(e,t,i,o){return function(e,t){return n(this,void 0,void 0,(function*(){for(const r of t)yield e(r)}))}(t,(0,r.buildBuffers)(e,i,o))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/send.js"}],[1987,{"../utils/defered":1992},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.postModuleMessage=void 0;const n=e("../utils/defered"),i={},o={};let s=null,a=Promise.resolve();function c(){const e=(0,n.create)();s=e,setTimeout((()=>e.reject(new Error("Timed out"))),1e4)}function u(e){null!=s&&s.resolve(e)}function l(){return null==s?Promise.reject(new Error("???")):s.promise}function d(e){const t=a.then((()=>e()));a=t.catch((()=>{}))}function h(e,t,r){r.postMessage({id:t,message:e})}function f(e){u({id:e})}function p(e,t,r){if(null!=r){const e={};r.forEach((t=>{e[t.path]=!0})),Object.keys(i).forEach((e=>{i[e]||delete i[e]})),Object.keys(o).forEach((e=>{o[e]||delete o[e]}))}return h({type:"sessions",debugSessions:o,normalSessions:i},e,t),Promise.resolve()}let m=0;function g({id:e,message:t},r){if("acquire-intent"===t.type){const{path:n}=t,{previous:s}=t,{debug:a}=t;d((()=>function(e,t,r,n,s){let a=!1;const u=s?o:i,d=s?i:o,f=u[e];return a=null==f?null!=n:n!==f,a?(h({type:"wrong-previous-session"},t,r),Promise.resolve()):(c(),h({type:"other-session",otherSession:d[e]},t,r),l().then((t=>{if(t.good){m++;let n=m.toString();s&&(n=`debug${n}`),u[e]=n,h({type:"session-number",number:n},t.id,r)}else h({type:"ok"},t.id,r)})))}(n,e,r,s,a)))}if("acquire-done"===t.type&&function(e){u({good:!0,id:e})}(e),"acquire-failed"===t.type&&function(e){u({good:!1,id:e})}(e),"get-sessions"===t.type&&d((()=>p(e,r))),"get-sessions-and-disconnect"===t.type){const{devices:n}=t;d((()=>p(e,r,n)))}if("release-onclose"===t.type){const{session:e}=t;d((()=>function(e){let t=null;if(Object.keys(i).forEach((r=>{i[r]===e&&(t=r)})),null==t)return Promise.resolve();const r=t;return delete i[r],delete o[r],Promise.resolve()}(e)))}if("release-intent"===t.type){const{session:n}=t,{debug:s}=t;d((()=>function(e,t,r,n){let s=null;const a=t?o:i,u=t?i:o;if(Object.keys(a).forEach((t=>{a[t]===e&&(s=t)})),null==s)return h({type:"double-release"},r,n),Promise.resolve();const d=s,f=u[d];return c(),h({type:"path",path:d,otherSession:f},r,n),l().then((e=>{delete a[d],h({type:"ok"},e.id,n)}))}(n,s,e,r)))}"release-done"===t.type&&f(e),"enumerate-intent"===t.type&&d((()=>function(e,t){return c(),h({type:"ok"},e,t),l().then((e=>{h({type:"ok"},e.id,t)}))}(e,r))),"enumerate-done"===t.type&&f(e)}"undefined"!=typeof onconnect&&(onconnect=function(e){const t=e.ports[0];t.onmessage=function(e){g(e.data,t)}}),r.postModuleMessage=function({id:e,message:t},r){g({id:e,message:t},{postMessage:r})}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/sharedConnectionWorker.js"}],[1988,{"../constants":1975,events:2542},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=e("events"),o=e("../constants");r.default=class{constructor(){this.allowsWriteAndEnumerate=!0,this.configurationId=1,this.debug=!1,this.debugEndpointId=2,this.debugInterfaceId=1,this.name="WebUsbPlugin",this.normalEndpointId=1,this.normalInterfaceId=0,this.requestNeeded=!0,this.unreadableHidDevice=!1,this.unreadableHidDeviceChange=new i.EventEmitter,this.version="",this._lastDevices=[]}init(e){this.debug=!!e;const{usb:t}=navigator;if(!t)throw new Error("WebUSB is not available on this browser.");this.usb=t}_deviceHasDebugLink(e){try{const t=e.configurations[0].interfaces[1].alternates[0];return 255===t.interfaceClass&&2===t.endpoints[0].endpointNumber}catch(e){return!1}}_deviceIsHid(e){return 21324===e.vendorId}_listDevices(){return n(this,void 0,void 0,(function*(){let e=0;const t=(yield this.usb.getDevices()).filter((e=>o.TREZOR_DESCS.some((t=>e.vendorId===t.vendorId&&e.productId===t.productId)))),r=t.filter((e=>this._deviceIsHid(e))),n=t.filter((e=>!this._deviceIsHid(e)));this._lastDevices=n.map((t=>{const{serialNumber:r}=t;let n=null==r||""===r?"bootloader":r;"bootloader"===n&&(e++,n+=e);return{path:n,device:t,debug:this._deviceHasDebugLink(t)}}));const i=this.unreadableHidDevice;return this.unreadableHidDevice=r.length>0,i!==this.unreadableHidDevice&&this.unreadableHidDeviceChange.emit("change"),this._lastDevices}))}enumerate(){return n(this,void 0,void 0,(function*(){return(yield this._listDevices()).map((e=>({path:e.path,debug:e.debug})))}))}_findDevice(e){const t=this._lastDevices.find((t=>t.path===e));if(null==t)throw new Error("Action was interrupted.");return t.device}send(e,t,r){return n(this,void 0,void 0,(function*(){const n=yield this._findDevice(e),i=new Uint8Array(64);i[0]=63,i.set(new Uint8Array(t),1),n.opened||(yield this.connect(e,r,!1));const o=r?this.debugEndpointId:this.normalEndpointId;return n.transferOut(o,i).then((()=>{}))}))}receive(e,t){return n(this,void 0,void 0,(function*(){const r=yield this._findDevice(e),n=t?this.debugEndpointId:this.normalEndpointId;try{r.opened||(yield this.connect(e,t,!1));const i=yield r.transferIn(n,64);if(!i.data)throw new Error("no data");return 0===i.data.byteLength?this.receive(e,t):i.data.buffer.slice(1)}catch(e){throw"Device unavailable."===e.message?new Error("Action was interrupted."):e}}))}connect(e,t,r){return n(this,void 0,void 0,(function*(){for(let n=0;n<5;n++){n>0&&(yield new Promise((e=>setTimeout((()=>e(undefined)),200*n))));try{return yield this._connectIn(e,t,r)}catch(e){if(4===n)throw e}}}))}_connectIn(e,t,r){return n(this,void 0,void 0,(function*(){const n=yield this._findDevice(e);if(yield n.open(),r){yield n.selectConfiguration(this.configurationId);try{yield n.reset()}catch(e){}}const i=t?this.debugInterfaceId:this.normalInterfaceId;yield n.claimInterface(i)}))}disconnect(e,t,r){return n(this,void 0,void 0,(function*(){const n=yield this._findDevice(e),i=t?this.debugInterfaceId:this.normalInterfaceId;yield n.releaseInterface(i),r&&(yield n.close())}))}requestDevice(){return n(this,void 0,void 0,(function*(){yield this.usb.requestDevice({filters:o.TREZOR_DESCS})}))}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/webusb.js"}],[1989,{"../utils/defered":1992,"./protobuf/messages":1981,"./receive":1985,"./send":1986,"./sharedConnectionWorker":1987,"json-stable-stringify":3479},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=e("../utils/defered"),o=e("./protobuf/messages"),s=e("./send"),a=e("./receive"),c=e("./sharedConnectionWorker"),u=e("json-stable-stringify");function l(e){if(null==e)return"null";const t=e.map((e=>{const{path:t}=e;return{path:t,session:null==e.session?null:e.session}}));return u(t)}function d(e,t){return Number.isNaN(parseInt(e.path,10))?e.path<t.path?-1:e.path>t.path?1:0:parseInt(e.path,10)-parseInt(t.path,10)}r.default=class{constructor(e,t){if(this.configured=!1,this.debug=!1,this.deferedDebugOnRelease={},this.deferedNormalOnRelease={},this.defereds={},this.isOutdated=!1,this.latestId=0,this.name="WebUsbTransport",this.requestNeeded=!1,this.sharedWorker=null,this.stopped=!1,this._lastStringified="",this.plugin=e,this.version=e.version,this._sharedWorkerFactory=t,!this.plugin.allowsWriteAndEnumerate)throw new Error("Plugin with shared connections cannot disallow write and enumerate")}enumerate(){return this._silentEnumerate()}_silentEnumerate(){return n(this,void 0,void 0,(function*(){yield this.sendToWorker({type:"enumerate-intent"});let e=[];try{e=yield this.plugin.enumerate()}finally{yield this.sendToWorker({type:"enumerate-done"})}const t=yield this.sendToWorker({type:"get-sessions-and-disconnect",devices:e});if("sessions"!==t.type)throw new Error("Wrong reply");const{debugSessions:r}=t,{normalSessions:n}=t,i=e.map((e=>{const t=n[e.path],i=r[e.path];return{path:e.path,session:t,debug:e.debug,debugSession:i}}));return this._releaseDisconnected(i),i.sort(d)}))}_releaseDisconnected(e){const t={};e.forEach((e=>{null!=e.session&&(t[e.session]=!0)})),Object.keys(this.deferedDebugOnRelease).forEach((e=>{null==t[e]&&this._releaseCleanup(e,!0)})),Object.keys(this.deferedNormalOnRelease).forEach((e=>{null==t[e]&&this._releaseCleanup(e,!1)}))}listen(e){const t=l(e),r=null==e?this._lastStringified:t;return this._runIter(0,r)}_runIter(e,t){return n(this,void 0,void 0,(function*(){const r=yield this._silentEnumerate(),n=l(r);return n!==t||60===e?(this._lastStringified=n,r):(yield(0,i.resolveTimeoutPromise)(500,null),this._runIter(e+1,n))}))}acquire(e,t){return n(this,void 0,void 0,(function*(){const r=yield this.sendToWorker({type:"acquire-intent",path:e.path,previous:e.previous,debug:t});if("wrong-previous-session"===r.type)throw new Error("wrong previous session");if("other-session"!==r.type)throw new Error("Strange reply");const n=null==r.otherSession;try{yield this.plugin.connect(e.path,t,n)}catch(e){throw yield this.sendToWorker({type:"acquire-failed"}),e}const o=yield this.sendToWorker({type:"acquire-done"});if("session-number"!==o.type)throw new Error("Strange reply.");const s=o.number;return t?this.deferedDebugOnRelease[s]=(0,i.create)():this.deferedNormalOnRelease[s]=(0,i.create)(),s}))}release(e,t,r){return n(this,void 0,void 0,(function*(){if(t&&!r)return void this.sendToWorker({type:"release-onclose",session:e});const n=yield this.sendToWorker({type:"release-intent",session:e,debug:r});if("double-release"===n.type)throw new Error("Trying to double release.");if("path"!==n.type)throw new Error("Strange reply.");const{path:i}=n,{otherSession:o}=n,s=null==o;this._releaseCleanup(e,r);try{yield this.plugin.disconnect(i,r,s)}catch(e){}yield this.sendToWorker({type:"release-done"})}))}_releaseCleanup(e,t){const r=t?this.deferedDebugOnRelease:this.deferedNormalOnRelease;null!=r[e]&&(r[e].reject(new Error("Device released or disconnected")),delete r[e])}configure(e){const t=(0,o.parseConfigure)(e);this._messages=t,this.configured=!0}_sendLowlevel(e,t){return r=>this.plugin.send(e,r,t)}_receiveLowlevel(e,t){return()=>this.plugin.receive(e,t)}messages(){if(null==this._messages)throw new Error("Transport not configured.");return this._messages}doWithSession(e,t,r){return n(this,void 0,void 0,(function*(){const n=yield this.sendToWorker({type:"get-sessions"});if("sessions"!==n.type)throw new Error("Wrong reply");const i=t?n.debugSessions:n.normalSessions;let o=null;if(Object.keys(i).forEach((t=>{i[t]===e&&(o=t)})),null==o)throw new Error("Session not available.");const s=o,a=yield r(s),c=t?this.deferedDebugOnRelease[e]:this.deferedNormalOnRelease[e];return Promise.race([c.rejectingPromise,a])}))}call(e,t,r,i){return this.doWithSession(e,i,(e=>n(this,void 0,void 0,(function*(){const n=this.messages();yield(0,s.buildAndSend)(n,this._sendLowlevel(e,i),t,r);return yield(0,a.receiveAndParse)(n,this._receiveLowlevel(e,i))}))))}post(e,t,r,i){return this.doWithSession(e,i,(e=>n(this,void 0,void 0,(function*(){const n=this.messages();yield(0,s.buildAndSend)(n,this._sendLowlevel(e,i),t,r)}))))}read(e,t){return this.doWithSession(e,t,(e=>n(this,void 0,void 0,(function*(){const r=this.messages();return yield(0,a.receiveAndParse)(r,this._receiveLowlevel(e,t))}))))}init(e){return n(this,void 0,void 0,(function*(){this.debug=!!e,this.requestNeeded=this.plugin.requestNeeded,yield this.plugin.init(e),null!=this._sharedWorkerFactory&&(this.sharedWorker=this._sharedWorkerFactory(),null!=this.sharedWorker&&(this.sharedWorker.port.onmessage=e=>{this.receiveFromWorker(e.data)}))}))}requestDevice(){return this.plugin.requestDevice()}sendToWorker(e){if(this.stopped)return Promise.reject("Transport stopped.");this.latestId++;const t=this.latestId;return this.defereds[t]=(0,i.create)(),null!=this.sharedWorker?this.sharedWorker.port.postMessage({id:t,message:e}):(0,c.postModuleMessage)({id:t,message:e},(e=>this.receiveFromWorker(e))),this.defereds[t].promise}receiveFromWorker(e){this.defereds[e.id].resolve(e.message),delete this.defereds[e.id]}stop(){this.stopped=!0,this.sharedWorker=null}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/lowlevel/withSharedConnections.js"}],[1990,{"./messages":1991},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Messages=void 0,r.Messages=e("./messages")}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/types/index.js"}],[1991,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TezosBallotType=r.TezosContractType=r.StellarSignerType=r.StellarMemoType=r.StellarAssetType=r.NEMImportanceTransferMode=r.NEMModificationType=r.NEMSupplyChangeType=r.NEMMosaicLevy=r.MoneroNetworkType=r.Enum_WordRequestType=r.RecoveryDeviceType=r.SdProtectOperationType=r.Enum_Capability=r.Enum_SafetyCheckLevel=r.Enum_BackupType=r.EthereumDataType=r.DebugButton=r.Enum_PinMatrixRequestType=r.Enum_ButtonRequestType=r.FailureType=r.CardanoTxWitnessType=r.CardanoTxSigningMode=r.CardanoGovernanceRegistrationFormat=r.CardanoTxAuxiliaryDataSupplementType=r.CardanoPoolRelayType=r.CardanoCertificateType=r.CardanoTxOutputSerializationFormat=r.CardanoNativeScriptHashDisplayFormat=r.CardanoNativeScriptType=r.CardanoAddressType=r.CardanoDerivationType=r.Enum_RequestType=r.AmountUnit=r.DecredStakingSpendType=r.Enum_OutputScriptType=r.Enum_InputScriptType=r.BinanceTimeInForce=r.BinanceOrderSide=r.BinanceOrderType=void 0,function(e){e[e.OT_UNKNOWN=0]="OT_UNKNOWN",e[e.MARKET=1]="MARKET",e[e.LIMIT=2]="LIMIT",e[e.OT_RESERVED=3]="OT_RESERVED"}(r.BinanceOrderType||(r.BinanceOrderType={})),function(e){e[e.SIDE_UNKNOWN=0]="SIDE_UNKNOWN",e[e.BUY=1]="BUY",e[e.SELL=2]="SELL"}(r.BinanceOrderSide||(r.BinanceOrderSide={})),function(e){e[e.TIF_UNKNOWN=0]="TIF_UNKNOWN",e[e.GTE=1]="GTE",e[e.TIF_RESERVED=2]="TIF_RESERVED",e[e.IOC=3]="IOC"}(r.BinanceTimeInForce||(r.BinanceTimeInForce={})),function(e){e[e.SPENDADDRESS=0]="SPENDADDRESS",e[e.SPENDMULTISIG=1]="SPENDMULTISIG",e[e.EXTERNAL=2]="EXTERNAL",e[e.SPENDWITNESS=3]="SPENDWITNESS",e[e.SPENDP2SHWITNESS=4]="SPENDP2SHWITNESS",e[e.SPENDTAPROOT=5]="SPENDTAPROOT"}(r.Enum_InputScriptType||(r.Enum_InputScriptType={})),function(e){e[e.PAYTOADDRESS=0]="PAYTOADDRESS",e[e.PAYTOSCRIPTHASH=1]="PAYTOSCRIPTHASH",e[e.PAYTOMULTISIG=2]="PAYTOMULTISIG",e[e.PAYTOOPRETURN=3]="PAYTOOPRETURN",e[e.PAYTOWITNESS=4]="PAYTOWITNESS",e[e.PAYTOP2SHWITNESS=5]="PAYTOP2SHWITNESS",e[e.PAYTOTAPROOT=6]="PAYTOTAPROOT"}(r.Enum_OutputScriptType||(r.Enum_OutputScriptType={})),function(e){e[e.SSGen=0]="SSGen",e[e.SSRTX=1]="SSRTX"}(r.DecredStakingSpendType||(r.DecredStakingSpendType={})),function(e){e[e.BITCOIN=0]="BITCOIN",e[e.MILLIBITCOIN=1]="MILLIBITCOIN",e[e.MICROBITCOIN=2]="MICROBITCOIN",e[e.SATOSHI=3]="SATOSHI"}(r.AmountUnit||(r.AmountUnit={})),function(e){e[e.TXINPUT=0]="TXINPUT",e[e.TXOUTPUT=1]="TXOUTPUT",e[e.TXMETA=2]="TXMETA",e[e.TXFINISHED=3]="TXFINISHED",e[e.TXEXTRADATA=4]="TXEXTRADATA",e[e.TXORIGINPUT=5]="TXORIGINPUT",e[e.TXORIGOUTPUT=6]="TXORIGOUTPUT",e[e.TXPAYMENTREQ=7]="TXPAYMENTREQ"}(r.Enum_RequestType||(r.Enum_RequestType={})),function(e){e[e.LEDGER=0]="LEDGER",e[e.ICARUS=1]="ICARUS",e[e.ICARUS_TREZOR=2]="ICARUS_TREZOR"}(r.CardanoDerivationType||(r.CardanoDerivationType={})),function(e){e[e.BASE=0]="BASE",e[e.BASE_SCRIPT_KEY=1]="BASE_SCRIPT_KEY",e[e.BASE_KEY_SCRIPT=2]="BASE_KEY_SCRIPT",e[e.BASE_SCRIPT_SCRIPT=3]="BASE_SCRIPT_SCRIPT",e[e.POINTER=4]="POINTER",e[e.POINTER_SCRIPT=5]="POINTER_SCRIPT",e[e.ENTERPRISE=6]="ENTERPRISE",e[e.ENTERPRISE_SCRIPT=7]="ENTERPRISE_SCRIPT",e[e.BYRON=8]="BYRON",e[e.REWARD=14]="REWARD",e[e.REWARD_SCRIPT=15]="REWARD_SCRIPT"}(r.CardanoAddressType||(r.CardanoAddressType={})),function(e){e[e.PUB_KEY=0]="PUB_KEY",e[e.ALL=1]="ALL",e[e.ANY=2]="ANY",e[e.N_OF_K=3]="N_OF_K",e[e.INVALID_BEFORE=4]="INVALID_BEFORE",e[e.INVALID_HEREAFTER=5]="INVALID_HEREAFTER"}(r.CardanoNativeScriptType||(r.CardanoNativeScriptType={})),function(e){e[e.HIDE=0]="HIDE",e[e.BECH32=1]="BECH32",e[e.POLICY_ID=2]="POLICY_ID"}(r.CardanoNativeScriptHashDisplayFormat||(r.CardanoNativeScriptHashDisplayFormat={})),function(e){e[e.ARRAY_LEGACY=0]="ARRAY_LEGACY",e[e.MAP_BABBAGE=1]="MAP_BABBAGE"}(r.CardanoTxOutputSerializationFormat||(r.CardanoTxOutputSerializationFormat={})),function(e){e[e.STAKE_REGISTRATION=0]="STAKE_REGISTRATION",e[e.STAKE_DEREGISTRATION=1]="STAKE_DEREGISTRATION",e[e.STAKE_DELEGATION=2]="STAKE_DELEGATION",e[e.STAKE_POOL_REGISTRATION=3]="STAKE_POOL_REGISTRATION"}(r.CardanoCertificateType||(r.CardanoCertificateType={})),function(e){e[e.SINGLE_HOST_IP=0]="SINGLE_HOST_IP",e[e.SINGLE_HOST_NAME=1]="SINGLE_HOST_NAME",e[e.MULTIPLE_HOST_NAME=2]="MULTIPLE_HOST_NAME"}(r.CardanoPoolRelayType||(r.CardanoPoolRelayType={})),function(e){e[e.NONE=0]="NONE",e[e.GOVERNANCE_REGISTRATION_SIGNATURE=1]="GOVERNANCE_REGISTRATION_SIGNATURE"}(r.CardanoTxAuxiliaryDataSupplementType||(r.CardanoTxAuxiliaryDataSupplementType={})),function(e){e[e.CIP15=0]="CIP15",e[e.CIP36=1]="CIP36"}(r.CardanoGovernanceRegistrationFormat||(r.CardanoGovernanceRegistrationFormat={})),function(e){e[e.ORDINARY_TRANSACTION=0]="ORDINARY_TRANSACTION",e[e.POOL_REGISTRATION_AS_OWNER=1]="POOL_REGISTRATION_AS_OWNER",e[e.MULTISIG_TRANSACTION=2]="MULTISIG_TRANSACTION",e[e.PLUTUS_TRANSACTION=3]="PLUTUS_TRANSACTION"}(r.CardanoTxSigningMode||(r.CardanoTxSigningMode={})),function(e){e[e.BYRON_WITNESS=0]="BYRON_WITNESS",e[e.SHELLEY_WITNESS=1]="SHELLEY_WITNESS"}(r.CardanoTxWitnessType||(r.CardanoTxWitnessType={})),function(e){e[e.Failure_UnexpectedMessage=1]="Failure_UnexpectedMessage",e[e.Failure_ButtonExpected=2]="Failure_ButtonExpected",e[e.Failure_DataError=3]="Failure_DataError",e[e.Failure_ActionCancelled=4]="Failure_ActionCancelled",e[e.Failure_PinExpected=5]="Failure_PinExpected",e[e.Failure_PinCancelled=6]="Failure_PinCancelled",e[e.Failure_PinInvalid=7]="Failure_PinInvalid",e[e.Failure_InvalidSignature=8]="Failure_InvalidSignature",e[e.Failure_ProcessError=9]="Failure_ProcessError",e[e.Failure_NotEnoughFunds=10]="Failure_NotEnoughFunds",e[e.Failure_NotInitialized=11]="Failure_NotInitialized",e[e.Failure_PinMismatch=12]="Failure_PinMismatch",e[e.Failure_WipeCodeMismatch=13]="Failure_WipeCodeMismatch",e[e.Failure_InvalidSession=14]="Failure_InvalidSession",e[e.Failure_FirmwareError=99]="Failure_FirmwareError"}(r.FailureType||(r.FailureType={})),function(e){e[e.ButtonRequest_Other=1]="ButtonRequest_Other",e[e.ButtonRequest_FeeOverThreshold=2]="ButtonRequest_FeeOverThreshold",e[e.ButtonRequest_ConfirmOutput=3]="ButtonRequest_ConfirmOutput",e[e.ButtonRequest_ResetDevice=4]="ButtonRequest_ResetDevice",e[e.ButtonRequest_ConfirmWord=5]="ButtonRequest_ConfirmWord",e[e.ButtonRequest_WipeDevice=6]="ButtonRequest_WipeDevice",e[e.ButtonRequest_ProtectCall=7]="ButtonRequest_ProtectCall",e[e.ButtonRequest_SignTx=8]="ButtonRequest_SignTx",e[e.ButtonRequest_FirmwareCheck=9]="ButtonRequest_FirmwareCheck",e[e.ButtonRequest_Address=10]="ButtonRequest_Address",e[e.ButtonRequest_PublicKey=11]="ButtonRequest_PublicKey",e[e.ButtonRequest_MnemonicWordCount=12]="ButtonRequest_MnemonicWordCount",e[e.ButtonRequest_MnemonicInput=13]="ButtonRequest_MnemonicInput",e[e._Deprecated_ButtonRequest_PassphraseType=14]="_Deprecated_ButtonRequest_PassphraseType",e[e.ButtonRequest_UnknownDerivationPath=15]="ButtonRequest_UnknownDerivationPath",e[e.ButtonRequest_RecoveryHomepage=16]="ButtonRequest_RecoveryHomepage",e[e.ButtonRequest_Success=17]="ButtonRequest_Success",e[e.ButtonRequest_Warning=18]="ButtonRequest_Warning",e[e.ButtonRequest_PassphraseEntry=19]="ButtonRequest_PassphraseEntry",e[e.ButtonRequest_PinEntry=20]="ButtonRequest_PinEntry"}(r.Enum_ButtonRequestType||(r.Enum_ButtonRequestType={})),function(e){e[e.PinMatrixRequestType_Current=1]="PinMatrixRequestType_Current",e[e.PinMatrixRequestType_NewFirst=2]="PinMatrixRequestType_NewFirst",e[e.PinMatrixRequestType_NewSecond=3]="PinMatrixRequestType_NewSecond",e[e.PinMatrixRequestType_WipeCodeFirst=4]="PinMatrixRequestType_WipeCodeFirst",e[e.PinMatrixRequestType_WipeCodeSecond=5]="PinMatrixRequestType_WipeCodeSecond"}(r.Enum_PinMatrixRequestType||(r.Enum_PinMatrixRequestType={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.INFO=2]="INFO"}(r.DebugButton||(r.DebugButton={})),function(e){e[e.UINT=1]="UINT",e[e.INT=2]="INT",e[e.BYTES=3]="BYTES",e[e.STRING=4]="STRING",e[e.BOOL=5]="BOOL",e[e.ADDRESS=6]="ADDRESS",e[e.ARRAY=7]="ARRAY",e[e.STRUCT=8]="STRUCT"}(r.EthereumDataType||(r.EthereumDataType={})),function(e){e[e.Bip39=0]="Bip39",e[e.Slip39_Basic=1]="Slip39_Basic",e[e.Slip39_Advanced=2]="Slip39_Advanced"}(r.Enum_BackupType||(r.Enum_BackupType={})),function(e){e[e.Strict=0]="Strict",e[e.PromptAlways=1]="PromptAlways",e[e.PromptTemporarily=2]="PromptTemporarily"}(r.Enum_SafetyCheckLevel||(r.Enum_SafetyCheckLevel={})),function(e){e[e.Capability_Bitcoin=1]="Capability_Bitcoin",e[e.Capability_Bitcoin_like=2]="Capability_Bitcoin_like",e[e.Capability_Binance=3]="Capability_Binance",e[e.Capability_Cardano=4]="Capability_Cardano",e[e.Capability_Crypto=5]="Capability_Crypto",e[e.Capability_EOS=6]="Capability_EOS",e[e.Capability_Ethereum=7]="Capability_Ethereum",e[e.Capability_Lisk=8]="Capability_Lisk",e[e.Capability_Monero=9]="Capability_Monero",e[e.Capability_NEM=10]="Capability_NEM",e[e.Capability_Ripple=11]="Capability_Ripple",e[e.Capability_Stellar=12]="Capability_Stellar",e[e.Capability_Tezos=13]="Capability_Tezos",e[e.Capability_U2F=14]="Capability_U2F",e[e.Capability_Shamir=15]="Capability_Shamir",e[e.Capability_ShamirGroups=16]="Capability_ShamirGroups",e[e.Capability_PassphraseEntry=17]="Capability_PassphraseEntry"}(r.Enum_Capability||(r.Enum_Capability={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.ENABLE=1]="ENABLE",e[e.REFRESH=2]="REFRESH"}(r.SdProtectOperationType||(r.SdProtectOperationType={})),function(e){e[e.RecoveryDeviceType_ScrambledWords=0]="RecoveryDeviceType_ScrambledWords",e[e.RecoveryDeviceType_Matrix=1]="RecoveryDeviceType_Matrix"}(r.RecoveryDeviceType||(r.RecoveryDeviceType={})),function(e){e[e.WordRequestType_Plain=0]="WordRequestType_Plain",e[e.WordRequestType_Matrix9=1]="WordRequestType_Matrix9",e[e.WordRequestType_Matrix6=2]="WordRequestType_Matrix6"}(r.Enum_WordRequestType||(r.Enum_WordRequestType={})),function(e){e[e.MAINNET=0]="MAINNET",e[e.TESTNET=1]="TESTNET",e[e.STAGENET=2]="STAGENET",e[e.FAKECHAIN=3]="FAKECHAIN"}(r.MoneroNetworkType||(r.MoneroNetworkType={})),function(e){e[e.MosaicLevy_Absolute=1]="MosaicLevy_Absolute",e[e.MosaicLevy_Percentile=2]="MosaicLevy_Percentile"}(r.NEMMosaicLevy||(r.NEMMosaicLevy={})),function(e){e[e.SupplyChange_Increase=1]="SupplyChange_Increase",e[e.SupplyChange_Decrease=2]="SupplyChange_Decrease"}(r.NEMSupplyChangeType||(r.NEMSupplyChangeType={})),function(e){e[e.CosignatoryModification_Add=1]="CosignatoryModification_Add",e[e.CosignatoryModification_Delete=2]="CosignatoryModification_Delete"}(r.NEMModificationType||(r.NEMModificationType={})),function(e){e[e.ImportanceTransfer_Activate=1]="ImportanceTransfer_Activate",e[e.ImportanceTransfer_Deactivate=2]="ImportanceTransfer_Deactivate"}(r.NEMImportanceTransferMode||(r.NEMImportanceTransferMode={})),function(e){e[e.NATIVE=0]="NATIVE",e[e.ALPHANUM4=1]="ALPHANUM4",e[e.ALPHANUM12=2]="ALPHANUM12"}(r.StellarAssetType||(r.StellarAssetType={})),function(e){e[e.NONE=0]="NONE",e[e.TEXT=1]="TEXT",e[e.ID=2]="ID",e[e.HASH=3]="HASH",e[e.RETURN=4]="RETURN"}(r.StellarMemoType||(r.StellarMemoType={})),function(e){e[e.ACCOUNT=0]="ACCOUNT",e[e.PRE_AUTH=1]="PRE_AUTH",e[e.HASH=2]="HASH"}(r.StellarSignerType||(r.StellarSignerType={})),function(e){e[e.Implicit=0]="Implicit",e[e.Originated=1]="Originated"}(r.TezosContractType||(r.TezosContractType={})),function(e){e[e.Yay=0]="Yay",e[e.Nay=1]="Nay",e[e.Pass=2]="Pass"}(r.TezosBallotType||(r.TezosBallotType={}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/types/messages.js"}],[1992,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveTimeoutPromise=r.create=void 0,r.create=function(){let e=()=>{},t=()=>{};const r=new Promise(((r,n)=>{e=r,t=n})),n=r.then((()=>{throw new Error("Promise is always rejecting")}));return n.catch((()=>{})),{resolve:e,reject:t,promise:r,rejectingPromise:n}},r.resolveTimeoutPromise=function(e,t){return new Promise((r=>{setTimeout((()=>{r(t)}),e)}))}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/utils/defered.js"}],[1993,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.call=r.acquire=r.devices=r.version=r.info=void 0;const n="Wrong result type.";function i(e){if(null==e)return null;if("string"!=typeof e)throw new Error(n);return e}r.info=function(e){if("object"!=typeof e||null==e)throw new Error("Wrong result type.");const{version:t}=e;if("string"!=typeof t)throw new Error(n);return{version:t,configured:!!e.configured}},r.version=function(e){if("string"!=typeof e)throw new Error(n);return e.trim()},r.devices=function(e){if("object"!=typeof e)throw new Error(n);if(!(e instanceof Array))throw new Error(n);return e.map((e=>{if("object"!=typeof e||null==e)throw new Error(n);const{path:t}=e;if("string"!=typeof t)throw new Error(n);return{path:t.toString(),session:i(e.session),debugSession:i(e.debugSession),product:e.product,vendor:e.vendor,debug:!!e.debug}}))},r.acquire=function(e){if("object"!=typeof e||null==e)throw new Error(n);const{session:t}=e;if("string"!=typeof t&&"number"!=typeof t)throw new Error(n);return t.toString()},r.call=function(e){if("object"!=typeof e||null==e)throw new Error(n);const{type:t}=e;if("string"!=typeof t)throw new Error(n);const{message:r}=e;if("object"!=typeof r||null==r)throw new Error(n);return{type:t,message:r}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/utils/highlevel-checks.js"}],[1994,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isPrimitiveField=void 0;const n=["bool","string","bytes","int32","int64","uint32","uint64","sint32","sint64","fixed32","fixed64","sfixed32","sfixed64","double","float"];r.isPrimitiveField=e=>n.includes(e)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/connect>@trezor/transport",file:"node_modules/@trezor/transport/lib/utils/protobuf.js"}],[1995,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AbortablePromise=r.AbortError=void 0;class n extends Error{constructor(e="Aborted"){super(e),this.name="AbortError"}}r.AbortError=n;class i extends Promise{get abortReason(){return this._abortReason}constructor(e,t){const r=t||new AbortController,i=r.signal;super(((t,r)=>{i.addEventListener("abort",(()=>{r(new n(this.abortReason))})),e(t,r,i)})),this.abort=e=>{this._abortReason=e||"Aborted",r.abort()}}}r.AbortablePromise=i,i.from=e=>e instanceof i?e:new i(((t,r)=>{e.then(t).catch(r)}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/abortablePromise.js"}],[1996,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.arrayDistinct=void 0;r.arrayDistinct=(e,t,r)=>r.indexOf(e)===t}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/arrayDistinct.js"}],[1997,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.arrayPartition=void 0;r.arrayPartition=(e,t)=>e.reduce((([e,r],n)=>t(n)?[[...e,n],r]:[e,[...r,n]]),[[],[]])}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/arrayPartition.js"}],[1998,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.arrayToDictionary=void 0;const n=e=>!!["string","number"].includes(typeof e);r.arrayToDictionary=(e,t,r)=>r?e.reduce(((e,r)=>{var i;const o=t(r);return n(o)?Object.assign(Object.assign({},e),{[o]:[...null!==(i=e[o])&&void 0!==i?i:[],r]}):e}),{}):e.reduce(((e,r)=>{const i=t(r);return n(i)?Object.assign(Object.assign({},e),{[i]:r}):e}),{})}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/arrayToDictionary.js"}],[1999,{buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.reverseBuffer=void 0;r.reverseBuffer=t=>{if(t.length<1)return t;const r=e.alloc(t.length);let n=r.length-1;for(let e=0;e<r.length/2;e++)r[e]=t[n],r[n]=t[e],n--;return r}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/bufferUtils.js"}],[20,{"./background-api":17,"./caveat-mutators":18,"./enums":19,"./permission-log":21,"./selectors":22,"./snaps/snap-permissions":23,"./specifications":24},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./caveat-mutators");Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))}));var i=e("./background-api");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===i[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=e("./enums");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=e("./permission-log");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===s[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}}))}));var a=e("./specifications");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===a[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}}))}));var c=e("./selectors");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===c[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=e("./snaps/snap-permissions");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===u[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return u[e]}}))}))}}},{package:"$root$",file:"app/scripts/controllers/permissions/index.js"}],[2e3,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bytesToHumanReadable=void 0;const n=["B","KB","MB","GB","TB"];r.bytesToHumanReadable=e=>{let t=Math.abs(e),r=0;for(;t>=1024||r>=n.length;)t/=1024,r++;return`${t.toFixed(1)} ${n[r]}`}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/bytesToHumanReadable.js"}],[2001,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.capitalizeFirstLetter=void 0;r.capitalizeFirstLetter=e=>e.charAt(0).toUpperCase()+e.slice(1)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/capitalizeFirstLetter.js"}],[2002,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.countBytesInString=void 0;r.countBytesInString=e=>encodeURI(e).split(/%..|./).length-1}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/countBytesInString.js"}],[2003,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeferred=void 0;r.createDeferred=e=>{let t=()=>{},r=()=>{};const n=new Promise(((e,n)=>{t=e,r=n}));return{id:e,resolve:t,reject:r,promise:n}}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/createDeferred.js"}],[2004,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTimeoutPromise=void 0;r.createTimeoutPromise=e=>new Promise((t=>setTimeout(t,e)))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/createTimeoutPromise.js"}],[2005,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getValueByKey=r.getKeyByValue=void 0,r.getKeyByValue=function(e,t){return e&&Object.keys(e).find((r=>e[r]===t))},r.getValueByKey=function(e,t){const r=e&&Object.keys(e).find((e=>e===t));return r&&e[r]}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/enumUtils.js"}],[2006,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getNumberFromPixelString=void 0;r.getNumberFromPixelString=e=>parseInt(e.replace("px",""),10)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getNumberFromPixelString.js"}],[2007,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getRandomNumberInRange=void 0;r.getRandomNumberInRange=(e,t)=>Math.floor(Math.random()*(t-e+1))+e}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getRandomNumberInRange.js"}],[2008,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getWeakRandomId=void 0;r.getWeakRandomId=e=>{let t="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<e;n++)t+=r.charAt(Math.floor(62*Math.random()));return t}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/getWeakRandomId.js"}],[2009,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hasUppercaseLetter=void 0;const n=new RegExp("^(.*[A-Z].*)$");r.hasUppercaseLetter=e=>n.test(e)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/hasUppercaseLetter.js"}],[2010,{"./abortablePromise":1995,"./arrayDistinct":1996,"./arrayPartition":1997,"./arrayToDictionary":1998,"./bufferUtils":1999,"./bytesToHumanReadable":2e3,"./capitalizeFirstLetter":2001,"./countBytesInString":2002,"./createDeferred":2003,"./createTimeoutPromise":2004,"./enumUtils":2005,"./getNumberFromPixelString":2006,"./getRandomNumberInRange":2007,"./getWeakRandomId":2008,"./hasUppercaseLetter":2009,"./isAscii":2011,"./isHex":2012,"./isNotUndefined":2013,"./isUrl":2014,"./mergeDeepObject":2015,"./objectPartition":2016,"./parseHostname":2017,"./promiseAllSequence":2018,"./redactUserPath":2019,"./resolveStaticPath":2020,"./scheduleAction":2021,"./throwError":2022,"./topologicalSort":2023,"./truncateMiddle":2024,"./versionUtils":2025,"./xssFilters":2026},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.xssFilters=r.versionUtils=r.enumUtils=r.bufferUtils=void 0,o(e("./abortablePromise"),r),o(e("./arrayDistinct"),r),o(e("./arrayPartition"),r),o(e("./arrayToDictionary"),r),r.bufferUtils=s(e("./bufferUtils")),o(e("./bytesToHumanReadable"),r),o(e("./capitalizeFirstLetter"),r),o(e("./countBytesInString"),r),o(e("./createDeferred"),r),o(e("./createTimeoutPromise"),r),r.enumUtils=s(e("./enumUtils")),o(e("./getNumberFromPixelString"),r),o(e("./getRandomNumberInRange"),r),o(e("./getWeakRandomId"),r),o(e("./hasUppercaseLetter"),r),o(e("./isAscii"),r),o(e("./isHex"),r),o(e("./isNotUndefined"),r),o(e("./isUrl"),r),o(e("./mergeDeepObject"),r),o(e("./objectPartition"),r),o(e("./parseHostname"),r),o(e("./promiseAllSequence"),r),o(e("./redactUserPath"),r),o(e("./resolveStaticPath"),r),o(e("./scheduleAction"),r),o(e("./throwError"),r),o(e("./truncateMiddle"),r),o(e("./topologicalSort"),r),r.versionUtils=s(e("./versionUtils")),r.xssFilters=s(e("./xssFilters"))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/index.js"}],[2011,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isAscii=void 0,r.isAscii=function(e){return!e||/^[\x00-\x7F]*$/.test(e)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isAscii.js"}],[2012,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isHex=void 0;r.isHex=e=>/^(0x|0X)?[0-9A-Fa-f]+$/g.test(e)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isHex.js"}],[2013,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNotUndefined=void 0;r.isNotUndefined=e=>void 0!==e}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isNotUndefined.js"}],[2014,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isUrl=void 0;const n=/^(http|ws)s?:\/\/[a-z0-9]([a-z0-9.-]+)?(:[0-9]{1,5})?((\/)?(([a-z0-9-_])+(\/)?)+)$/i;r.isUrl=e=>n.test(e)}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/isUrl.js"}],[2015,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mergeDeepObject=void 0;const n=e=>{if("object"==typeof e&&null!==e){if("function"==typeof Object.getPrototypeOf){const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}return!1};r.mergeDeepObject=(...e)=>e.reduce(((e,t)=>{if(Array.isArray(t))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(t).forEach((i=>{["__proto__","constructor","prototype"].includes(i)||(Array.isArray(e[i])&&Array.isArray(t[i])?e[i]=r.mergeDeepObject.options.mergeArrays?Array.from(new Set(e[i].concat(t[i]))):t[i]:n(e[i])&&n(t[i])?e[i]=(0,r.mergeDeepObject)(e[i],t[i]):e[i]=t[i])})),e}),{});const i={mergeArrays:!0};r.mergeDeepObject.options=i,r.mergeDeepObject.withOptions=(e,...t)=>{r.mergeDeepObject.options=Object.assign({mergeArrays:!0},e);const n=(0,r.mergeDeepObject)(...t);return r.mergeDeepObject.options=i,n}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/mergeDeepObject.js"}],[2016,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};Object.defineProperty(r,"__esModule",{value:!0}),r.objectPartition=void 0;r.objectPartition=(e,t)=>t.reduce((([e,t],r)=>{const i=t,o=r,s=i[o],a=n(i,["symbol"==typeof o?o:o+""]);return void 0!==s?[Object.assign(Object.assign({},e),{[r]:s}),a]:[e,t]}),[{},e])}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/objectPartition.js"}],[2017,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseHostname=void 0;const n=/^([a-z0-9.+-]+:\/\/)?([a-z0-9.-]+)([:/][^:/]+)*\/?$/i;r.parseHostname=e=>{var t,r;return null===(r=null===(t=e.match(n))||void 0===t?void 0:t[2])||void 0===r?void 0:r.toLowerCase()}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/parseHostname.js"}],[2018,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.promiseAllSequence=void 0;r.promiseAllSequence=e=>n(void 0,void 0,void 0,(function*(){const t=[];return yield e.reduce(((e,r)=>e.then(r).then((e=>(t.push(e),e)))),Promise.resolve()),t}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/promiseAllSequence.js"}],[2019,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.redactUserPathFromString=r.startOfUserPathRegex=void 0,r.startOfUserPathRegex=/([/\\][Uu]sers[/\\]{1,4})([^"^'^[^\]^/^\\]*)/g;r.redactUserPathFromString=e=>e.replace(r.startOfUserPathRegex,"$1[*]")}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/redactUserPath.js"}],[2020,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resolveStaticPath=void 0;r.resolveStaticPath=(e,t=null)=>`${t||""}/static/${e.replace(/^\/+/,"")}`}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/resolveStaticPath.js"}],[2021,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.scheduleAction=void 0;const i=e=>Array.isArray(e),o=()=>new Error("Aborted by signal"),s=()=>new Error("Aborted by deadline"),a=()=>new Error("Aborted by timeout"),c=(e,t)=>new Promise(((r,n)=>{if(t.aborted)return n();if(e===undefined)return r();const i=setTimeout(r,e),o=()=>{clearTimeout(i),t.removeEventListener("abort",o),n()};t.addEventListener("abort",o)})),u=(e,t,r)=>new Promise(((n,i)=>{if(r.aborted)return i();const o=e!==undefined?setTimeout((()=>i(t())),e):undefined,s=()=>{clearTimeout(o),r.removeEventListener("abort",s),i()};r.addEventListener("abort",s)})),l=(e,t)=>new Promise(((r,n)=>{if(t.aborted)return n();if(null==e?void 0:e.aborted)return n(o());const i=()=>n(o());null==e||e.addEventListener("abort",i);const s=()=>{null==e||e.removeEventListener("abort",i),t.removeEventListener("abort",s),n()};t.addEventListener("abort",s)})),d=(e,t)=>n(void 0,void 0,void 0,(function*(){const r=new AbortController,n=()=>r.abort();t.aborted&&n(),t.addEventListener("abort",n);try{return yield new Promise((t=>t(e(r.signal))))}finally{t.removeEventListener("abort",n)}}));r.scheduleAction=(e,t)=>n(void 0,void 0,void 0,(function*(){const{signal:r,delay:o,attempts:h,timeout:f,deadline:p,gap:m}=t,g=p&&p-Date.now(),y=i(h)?h.length:null!=h?h:p?Infinity:1,b=new AbortController,w=b.signal,v=i(h)?e=>h[e]:()=>({timeout:f,gap:m});try{return yield Promise.race([l(r,w),u(g,s,w),c(o,w).then((()=>((e,t,r,i)=>n(void 0,void 0,void 0,(function*(){for(let n=0;n<e-1&&!i.aborted;n++){const e=new AbortController,o=()=>e.abort();i.addEventListener("abort",o);try{return yield t(n,e.signal)}catch(e){o(),yield r(n)}finally{i.removeEventListener("abort",o)}}return i.aborted?Promise.reject():t(e-1,i)})))(y,((t,r)=>Promise.race([u(v(t).timeout,a,w),d(e,r)])),(e=>{var t;return c(null!==(t=v(e).gap)&&void 0!==t?t:0,w)}),w)))])}finally{b.abort()}}))}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/scheduleAction.js"}],[2022,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.throwError=void 0;r.throwError=e=>{throw new Error(e)}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/throwError.js"}],[2023,{"./arrayPartition":1997},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.topologicalSort=void 0;const n=e("./arrayPartition");r.topologicalSort=(e,t,r)=>{const i=[],o=e=>(0,n.arrayPartition)(e,(r=>!e.some((e=>t(e,r)))));let s=e;for(;s.length;){const[e,t]=o(s);if(!e.length)throw new Error("Cycle detected");i.push(...r?e.sort(r):e),s=t}return i}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/topologicalSort.js"}],[2024,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.truncateMiddle=void 0;r.truncateMiddle=(e,t,r)=>{if(e.length<=t+r)return e;return`${e.substring(0,t)}…${e.substring(e.length-r,e.length)}`}}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/truncateMiddle.js"}],[2025,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeVersion=r.isNewerOrEqual=r.isEqual=r.isNewer=r.isVersionArray=void 0;const n=e=>({major:e[0],minor:e[1],patch:e[2]}),i=e=>{const t=e.split(".");if(3!==t.length)throw new Error("version string is in wrong format");return t},o=e=>`${e[0]}.${e[1]}.${e[2]}`;r.isVersionArray=e=>3===e.length;r.isNewer=(e,t)=>{const r=n("string"==typeof e?i(e):e),o=n("string"==typeof t?i(t):t);return r.major-o.major!=0?r.major>o.major:r.minor-o.minor!=0?r.minor>o.minor:r.patch-o.patch!=0&&r.patch>o.patch};r.isEqual=(e,t)=>("string"==typeof e?e:o(e))===("string"==typeof t?t:o(t));r.isNewerOrEqual=(e,t)=>(0,r.isNewer)(e,t)||(0,r.isEqual)(e,t);r.normalizeVersion=e=>e.replace(/\b0+(\d)/g,"$1")}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/versionUtils.js"}],[2026,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.inDoubleQuotes=r.inSingleQuotes=r.inHTML=void 0;const n=/</g,i=/'/g,o=/"/g;r.inHTML=e=>e.replace(n,"&lt;");r.inSingleQuotes=e=>e.replace(i,"&#39;");r.inDoubleQuotes=e=>e.replace(o,"&quot;")}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-web>@trezor/utils",file:"node_modules/@trezor/utils/lib/xssFilters.js"}],[21,{"../../../../shared/constants/permissions":4355,"./enums":19,"@metamask/obs-store":1394},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PermissionLogController=void 0;var n=e("@metamask/obs-store"),i=e("../../../../shared/constants/permissions"),o=e("./enums");function s(e,t){return e.reduce(((e,r)=>({...e,[r]:t})),{})}r.PermissionLogController=class{constructor({restrictedMethods:e,initState:t}){this.restrictedMethods=e,this.store=new n.ObservableStore({permissionHistory:{},permissionActivityLog:[],...t})}getActivityLog(){return this.store.getState().permissionActivityLog}updateActivityLog(e){this.store.updateState({permissionActivityLog:e})}getHistory(){return this.store.getState().permissionHistory}updateHistory(e){this.store.updateState({permissionHistory:e})}updateAccountsHistory(e,t){if(0===t.length)return;const r=s(t,Date.now());this.commitNewHistory(e,{eth_accounts:{accounts:r}})}createMiddleware(){return(e,t,r,n)=>{let i,s;const{origin:a,method:c}=e,u=c.startsWith(o.WALLET_PREFIX);if(o.LOG_IGNORE_METHODS.includes(c)||!u&&!this.restrictedMethods.has(c)){if("eth_requestAccounts"!==c)return void r();i=this.logRequest(e,u),s=["eth_accounts"]}else i=this.logRequest(e,u),c===`${o.WALLET_PREFIX}requestPermissions`&&(s=this.getRequestedMethods(e));r((e=>{const r=Date.now();this.logResponse(i,t,r),s&&!t.error&&t.result&&this.logPermissionsHistory(s,a,t.result,r,"eth_requestAccounts"===c),e()}))}}logRequest(e,t){const r={id:e.id,method:e.method,methodType:t?o.LOG_METHOD_TYPES.internal:o.LOG_METHOD_TYPES.restricted,origin:e.origin,requestTime:Date.now(),responseTime:null,success:null};return this.commitNewActivity(r),r}logResponse(e,t,r){e&&t&&(e.success=Object.hasOwnProperty.call(t,"result"),e.responseTime=r)}commitNewActivity(e){const t=this.getActivityLog();t.push(e),t.length>o.LOG_LIMIT&&t.shift(),this.updateActivityLog(t)}logPermissionsHistory(e,t,r,n,i){let o,a;if(i){o=r;a={eth_accounts:{accounts:s(o,n),lastApproved:n}}}else a=r.map((e=>("eth_accounts"===e.parentCapability&&(o=this.getAccountsFromPermission(e)),e.parentCapability))).reduce(((t,r)=>{if(e.includes(r))if("eth_accounts"===r){const e=s(o,n);t[r]={lastApproved:n,accounts:e}}else t[r]={lastApproved:n};return t}),{});Object.keys(a).length>0&&this.commitNewHistory(t,a)}commitNewHistory(e,t){const r=this.getHistory(),n={...r[e],...t},i=r[e]&&r[e].eth_accounts,o=t.eth_accounts;if(i&&o){const e=o.lastApproved||i.lastApproved;n.eth_accounts={lastApproved:e,accounts:{...i.accounts,...o.accounts}}}r[e]=n,this.updateHistory(r)}getRequestedMethods(e){return e.params&&e.params[0]&&"object"==typeof e.params[0]&&!Array.isArray(e.params[0])?Object.keys(e.params[0]):null}getAccountsFromPermission(e){if("eth_accounts"!==e.parentCapability||!e.caveats)return[];const t=new Set;for(const r of e.caveats)if(r.type===i.CaveatTypes.restrictReturnedAccounts&&Array.isArray(r.value))for(const e of r.value)t.add(e);return[...t]}}}}},{package:"$root$",file:"app/scripts/controllers/permissions/permission-log.js"}],[22,{"../../../../shared/constants/permissions":4355,reselect:4118},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPermittedAccountsByOrigin=r.getChangedAccounts=void 0;var n=e("reselect"),i=e("../../../../shared/constants/permissions");const o=(0,n.createSelector)((e=>e.subjects),(e=>Object.values(e).reduce(((e,t)=>{var r,n;const o=null===(r=t.permissions)||void 0===r||null===(n=r.eth_accounts)||void 0===n?void 0:n.caveats.find((({type:e})=>e===i.CaveatTypes.restrictReturnedAccounts));return o&&e.set(t.origin,o.value),e}),new Map)));r.getPermittedAccountsByOrigin=o;r.getChangedAccounts=(e,t)=>{if(t===undefined)return e;const r=new Map;if(e===t)return r;const n=new Set([...e.keys()]);for(const i of t.keys()){const o=e.get(i)??[];t.get(i)!==o&&r.set(i,o),n.delete(i)}for(const t of n.keys())r.set(t,e.get(t));return r}}}},{package:"$root$",file:"app/scripts/controllers/permissions/selectors.js"}],[224,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){const r=BigInt(1)<<BigInt(e);if(t>=r)throw new Error(`index ${t} too large for depth ${e}`);return r|t}Object.defineProperty(r,"__esModule",{value:!0}),r.gindexChild=r.gindexParent=r.gindexSibling=r.concatGindices=r.getGindexBits=r.gindexIterator=r.getGindicesAtDepth=r.iterateAtDepth=r.countToDepth=r.convertGindexToBitstring=r.toGindexBitstring=r.toGindex=r.bitIndexBigInt=void 0,r.bitIndexBigInt=function(e){return e.toString(2).length-1},r.toGindex=n,r.toGindexBitstring=function(e,t){const r=t?Number(t).toString(2):"";if(r.length>e)throw new Error("index too large for depth");return"1"+r.padStart(e,"0")},r.convertGindexToBitstring=function(e){if("string"==typeof e){if(0===e.length)throw new Error(i);return e}if(e<1)throw new Error(i);return e.toString(2)},r.countToDepth=function(e){return e<=1?0:(e-BigInt(1)).toString(2).length},r.iterateAtDepth=function(e,t,r){if(t+r>BigInt(1)<<BigInt(e))throw new Error("Too large for depth");let i=n(e,t);const o=i+r;return{[Symbol.iterator]:()=>({next(){if(i<o){const e=i;return i++,{done:!1,value:e}}return{done:!0,value:undefined}}})}},r.getGindicesAtDepth=function(e,t,r){if(t+r>BigInt(1)<<BigInt(e))throw new Error("Too large for depth");let i=n(e,BigInt(t));const o=[];for(let e=0;e<r;e++)o.push(i++);return o};const i="Invalid gindex";r.gindexIterator=function(e){let t;if("string"==typeof e){if(!e.length)throw new Error(i);t=e}else{if(e<1)throw new Error(i);t=e.toString(2)}let r=1;const n=()=>{if(r===t.length)return{done:!0,value:undefined};const e=Number(t[r]);return r++,{done:!1,value:e}};return{[Symbol.iterator]:()=>({next:n}),remainingBitLength:()=>t.length-r}},r.getGindexBits=function(e){let t;if("string"==typeof e){if(!e.length)throw new Error(i);t=e}else{if(e<1)throw new Error(i);t=e.toString(2)}const r=[];for(let e=1;e<t.length;e++)r.push(Number(t[e]));return r},r.concatGindices=function(e){return BigInt(e.reduce(((e,t)=>e+t.toString(2).slice(1)),"0b1"))},r.gindexSibling=function(e){return e^BigInt(1)},r.gindexParent=function(e){return e/BigInt(2)},r.gindexChild=function(e,t){return e*BigInt(2)+BigInt(t)}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/gindex.js"}],[225,{"@chainsafe/as-sha256":2536},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isHashObject=r.uint8ArrayToHashObject=r.hashObjectToUint8Array=r.hashTwoObjects=r.hash=void 0;const n=e("@chainsafe/as-sha256"),i=new Uint8Array(64);r.hash=function(e,t){return i.set(e,0),i.set(t,32),n.digest64(i)},r.hashTwoObjects=function(e,t){return n.digest64HashObjects(e,t)},r.hashObjectToUint8Array=function(e){const t=new Uint8Array(32);return n.hashObjectToByteArray(e,t,0),t},r.uint8ArrayToHashObject=function(e){return n.byteArrayToHashObject(e)},r.isHashObject=function(e){return e.length===undefined}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/hash.js"}],[226,{"./gindex":224,"./hash":225,"./node":227,"./packedNode":228,"./proof":229,"./subtree":234,"./tree":235,"./zeroNode":236},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./gindex"),r),i(e("./hash"),r),i(e("./node"),r),i(e("./packedNode"),r),i(e("./proof"),r),i(e("./subtree"),r),i(e("./tree"),r),i(e("./zeroNode"),r)}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/index.js"}],[227,{"./hash":225},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitwiseOrNodeH=r.setNodeH=r.getNodeH=r.compose=r.identity=r.LeafNode=r.BranchNode=r.Node=void 0;const n=e("./hash"),i=2**32;class o{constructor(e,t,r,n,i,o,s,a){this.h0=e,this.h1=t,this.h2=r,this.h3=n,this.h4=i,this.h5=o,this.h6=s,this.h7=a}applyHash(e){this.h0=e.h0,this.h1=e.h1,this.h2=e.h2,this.h3=e.h3,this.h4=e.h4,this.h5=e.h5,this.h6=e.h6,this.h7=e.h7}}r.Node=o;r.BranchNode=class extends o{constructor(e,t){if(super(null,0,0,0,0,0,0,0),this._left=e,this._right=t,!e)throw new Error("Left node is undefined");if(!t)throw new Error("Right node is undefined")}get rootHashObject(){return null===this.h0&&super.applyHash(n.hashTwoObjects(this.left.rootHashObject,this.right.rootHashObject)),this}get root(){return n.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this._left}get right(){return this._right}};class s extends o{static fromRoot(e){return this.fromHashObject(n.uint8ArrayToHashObject(e))}static fromHashObject(e){return new s(e.h0,e.h1,e.h2,e.h3,e.h4,e.h5,e.h6,e.h7)}static fromZero(){return new s(0,0,0,0,0,0,0,0)}static fromUint32(e){return new s(e,0,0,0,0,0,0,0)}clone(){return s.fromHashObject(this)}get rootHashObject(){return this}get root(){return n.hashObjectToUint8Array(this)}isLeaf(){return!0}get left(){throw Error("LeafNode has no left node")}get right(){throw Error("LeafNode has no right node")}writeToBytes(e,t,r){e.set(this.root.slice(0,r),t)}getUint(e,t,r){const n=Math.floor(t/4);if(e<4){const r=t%4*8,i=a(this,n);return 1===e?255&i>>r:65535&i>>r}if(4===e)return a(this,n)>>>0;if(8===e){const e=a(this,n),t=a(this,n+1);return 0===t?e>>>0:-1===t&&-1===e&&r?Infinity:(e>>>0)+(t>>>0)*i}throw Error("uintBytes > 8")}getUintBigint(e,t){const r=Math.floor(t/4);if(e<4){const n=t%4*8,i=a(this,r);return 1===e?BigInt(255&i>>n):BigInt(65535&i>>n)}if(4===e)return BigInt(a(this,r)>>>0);{const t=Math.ceil(e/4);let n=BigInt(0);for(let e=0;e<t;e++)n+=BigInt(a(this,r+e)>>>0)<<BigInt(32*e);return n}}setUint(e,t,r,n){const o=Math.floor(t/4);if(e<4){const n=t%4*8;let i=a(this,o);1===e?(i&=~(255<<n),i|=r<<n):(i&=~(65535<<n),i|=r<<n),c(this,o,i)}else if(4===e)c(this,o,r);else{if(8!==e)throw Error("uintBytes > 8");r===Infinity&&n?(c(this,o,-1),c(this,o+1,-1)):(c(this,o,4294967295&r),c(this,o+1,r/i&4294967295))}}setUintBigint(e,t,r){const n=Math.floor(t/4);if(e<4){const i=Number(r),o=t%4*8;let s=a(this,n);1===e?(s&=~(255<<o),s|=i<<o):(s&=~(65535<<o),s|=i<<o),c(this,n,s)}else if(4===e)c(this,n,Number(r));else{const t=n+Math.ceil(e/4);for(let e=n;e<t;e++)c(this,e,Number(r&BigInt(4294967295))),r>>=BigInt(32)}}bitwiseOrUint(e,t,r){const n=Math.floor(t/4);if(e<4){u(this,n,r<<t%4*8)}else if(4===e)u(this,n,r);else{const t=n+Math.ceil(e/4);for(let e=n;e<t;e++)u(this,e,4294967295&r),r>>=32}}}function a(e,t){if(0===t)return e.h0;if(1===t)return e.h1;if(2===t)return e.h2;if(3===t)return e.h3;if(4===t)return e.h4;if(5===t)return e.h5;if(6===t)return e.h6;if(7===t)return e.h7;throw Error("hIndex > 7")}function c(e,t,r){if(0===t)e.h0=r;else if(1===t)e.h1=r;else if(2===t)e.h2=r;else if(3===t)e.h3=r;else if(4===t)e.h4=r;else if(5===t)e.h5=r;else if(6===t)e.h6=r;else{if(7!==t)throw Error("hIndex > 7");e.h7=r}}function u(e,t,r){if(0===t)e.h0|=r;else if(1===t)e.h1|=r;else if(2===t)e.h2|=r;else if(3===t)e.h3|=r;else if(4===t)e.h4|=r;else if(5===t)e.h5|=r;else if(6===t)e.h6|=r;else{if(7!==t)throw Error("hIndex > 7");e.h7|=r}}r.LeafNode=s,r.identity=function(e){return e},r.compose=function(e,t){return function(r){return t(e(r))}},r.getNodeH=a,r.setNodeH=c,r.bitwiseOrNodeH=u}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/node.js"}],[228,{"./node":227,"./subtree":234},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.packedNodeRootsToBytes=r.packedRootsBytesToLeafNodes=r.packedRootsBytesToNode=void 0;const n=e("./subtree"),i=e("./node");function o(e,t,r){const n=r-t,o=Math.floor(n/32),s=new Array(Math.ceil(n/32));for(let r=0;r<o;r++){const n=t+32*r;s[r]=new i.LeafNode(e.getInt32(n+0,!0),e.getInt32(n+4,!0),e.getInt32(n+8,!0),e.getInt32(n+12,!0),e.getInt32(n+16,!0),e.getInt32(n+20,!0),e.getInt32(n+24,!0),e.getInt32(n+28,!0))}const a=n%32;if(a>0){const r=new i.LeafNode(0,0,0,0,0,0,0,0);s[o]=r;const c=Math.floor(a/4);for(let n=0;n<c;n++)i.setNodeH(r,n,e.getInt32(t+32*o+4*n,!0));const u=n%4;if(u>0){let o=0;for(let r=0;r<u;r++)o|=e.getUint8(t+n-u+r)<<8*r;i.setNodeH(r,c,o)}}return s}r.packedRootsBytesToNode=function(e,t,r,i){const s=o(t,r,i);return n.subtreeFillToContents(s,e)},r.packedRootsBytesToLeafNodes=o,r.packedNodeRootsToBytes=function(e,t,r,n){const o=r%32,s=Math.floor(r/32);for(let r=0;r<s;r++){const i=n[r],o=t+32*r;e.setInt32(o+0,i.h0,!0),e.setInt32(o+4,i.h1,!0),e.setInt32(o+8,i.h2,!0),e.setInt32(o+12,i.h3,!0),e.setInt32(o+16,i.h4,!0),e.setInt32(o+20,i.h5,!0),e.setInt32(o+24,i.h6,!0),e.setInt32(o+28,i.h7,!0)}if(o>0){const a=n[s],c=Math.floor(o/4);for(let r=0;r<c;r++)e.setInt32(t+32*s+4*r,i.getNodeH(a,r),!0);const u=r%4;if(u>0){const n=i.getNodeH(a,c);for(let i=0;i<u;i++)e.setUint8(t+r-u+i,n>>8*i&255)}}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/packedNode.js"}],[229,{"./multi":230,"./single":231,"./treeOffset":232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeProof=r.serializeProof=r.createNodeFromProof=r.createProof=r.ProofTypeSerialized=r.ProofType=void 0;const n=e("./multi"),i=e("./single"),o=e("./treeOffset");var s;!function(e){e.single="single",e.treeOffset="treeOffset",e.multi="multi"}(s=r.ProofType||(r.ProofType={})),r.ProofTypeSerialized=[s.single,s.treeOffset,s.multi],r.createProof=function(e,t){switch(t.type){case s.single:{const[r,n]=i.createSingleProof(e,t.gindex);return{type:s.single,gindex:t.gindex,leaf:r,witnesses:n}}case s.treeOffset:{const[r,n]=o.createTreeOffsetProof(e,t.gindices);return{type:s.treeOffset,offsets:r,leaves:n}}case s.multi:{const[r,i,o]=n.createMultiProof(e,t.gindices);return{type:s.multi,leaves:r,witnesses:i,gindices:o}}default:throw new Error("Invalid proof type")}},r.createNodeFromProof=function(e){switch(e.type){case s.single:return i.createNodeFromSingleProof(e.gindex,e.leaf,e.witnesses);case s.treeOffset:return o.createNodeFromTreeOffsetProof(e.offsets,e.leaves);case s.multi:return n.createNodeFromMultiProof(e.leaves,e.witnesses,e.gindices);default:throw new Error("Invalid proof type")}},r.serializeProof=function(e){switch(e.type){case s.single:case s.multi:throw new Error("Not implemented");case s.treeOffset:{const t=new Uint8Array(1+o.computeTreeOffsetProofSerializedLength(e.offsets,e.leaves));return t[0]=r.ProofTypeSerialized.indexOf(s.treeOffset),o.serializeTreeOffsetProof(t,1,e.offsets,e.leaves),t}default:throw new Error("Invalid proof type")}},r.deserializeProof=function(e){const t=r.ProofTypeSerialized[e[0]];if(!t)throw new Error("Invalid proof type");switch(t){case s.single:case s.multi:throw new Error("Not implemented");case s.treeOffset:{const[t,r]=o.deserializeTreeOffsetProof(e,1);return{type:s.treeOffset,offsets:t,leaves:r}}default:throw new Error("Invalid proof type")}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/proof/index.js"}],[23,{"../../../../../shared/constants/permissions":4355,"@metamask/rpc-methods":1439,"@metamask/snaps-controllers":1523},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.buildSnapRestrictedMethodSpecifications=r.buildSnapEndowmentSpecifications=void 0;var n=e("@metamask/rpc-methods"),i=e("@metamask/snaps-controllers"),o=e("../../../../../shared/constants/permissions");r.buildSnapEndowmentSpecifications=()=>Object.values(i.endowmentPermissionBuilders).reduce(((e,{targetName:t,specificationBuilder:r})=>(Object.keys(o.ExcludedSnapEndowments).includes(t)||(e[t]=r()),e)),{});r.buildSnapRestrictedMethodSpecifications=e=>Object.values(n.restrictedMethodPermissionBuilders).reduce(((t,{targetName:r,specificationBuilder:i,methodHooks:s})=>(Object.keys(o.ExcludedSnapPermissions).includes(r)||(t[r]=i({methodHooks:(0,n.selectHooks)(e,s)})),t)),{})}}},{package:"$root$",file:"app/scripts/controllers/permissions/snaps/snap-permissions.js"}],[230,{"../node":227,"../tree":235,"./util":233},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNodeFromMultiProof=r.createMultiProof=void 0;const n=e("../node"),i=e("../tree"),o=e("./util");r.createMultiProof=function(e,t){const r=new i.Tree(e),n=o.computeMultiProofBitstrings(t.map((e=>e.toString(2))),!1,o.SortOrder.Decreasing),s=t.slice().sort(((e,t)=>e<t?1:-1));return[s.map((e=>r.getRoot(e))),n.map((e=>r.getRoot(e))),s]},r.createNodeFromMultiProof=function(e,t,r){if(e.length!==r.length)throw new Error("Leaves length should equal gindices length");const i=r.map((e=>e.toString(2))),s=o.computeMultiProofBitstrings(i,!1,o.SortOrder.Decreasing);if(s.length!==t.length)throw new Error("Witnesses length should equal witnesses gindices length");const a=Math.max(i[0]?.length??0,s[0]?.length??0),c=Object.fromEntries(Array.from({length:a},((e,t)=>[t+1,{}])));for(let t=0;t<i.length;t++){const r=i[t],o=e[t];c[r.length][r]=n.LeafNode.fromRoot(o)}for(let e=0;e<s.length;e++){const r=s[e],i=t[e];c[r.length][r]=n.LeafNode.fromRoot(i)}for(let e=a;e>1;e--){const t=c[e],r=c[e-1];for(const e of Object.keys(t)){const i=t[e];if(!i)continue;const o="0"===e[e.length-1],s=e.substring(0,e.length-1),a=s+(o?"1":"0"),c=t[a];if(!c)throw new Error(`Sibling not found: ${a}`);const u=o?new n.BranchNode(i,c):new n.BranchNode(c,i);r[s]=u,delete t[e],delete t[a]}}const u=c[1][1];if(!u)throw new Error("Internal consistency error: no root found");return u}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/proof/multi.js"}],[231,{"../gindex":224,"../node":227},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNodeFromSingleProof=r.createSingleProof=r.ERR_INVALID_NAV=void 0;const n=e("../node"),i=e("../gindex");r.ERR_INVALID_NAV="Invalid tree navigation",r.createSingleProof=function(e,t){const n=[];let o=e;for(const e of i.gindexIterator(t))if(e){if(o.isLeaf())throw new Error(r.ERR_INVALID_NAV);n.push(o.left.root),o=o.right}else{if(o.isLeaf())throw new Error(r.ERR_INVALID_NAV);n.push(o.right.root),o=o.left}return[o.root,n.reverse()]},r.createNodeFromSingleProof=function(e,t,r){let i=n.LeafNode.fromRoot(t);const o=r.slice().reverse();for(;e>1;){const t=n.LeafNode.fromRoot(o.pop());i=e%BigInt(2)===BigInt(0)?new n.BranchNode(i,t):new n.BranchNode(t,i),e/=BigInt(2)}return i}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/proof/single.js"}],[232,{"../node":227,"./util":233},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deserializeTreeOffsetProof=r.serializeTreeOffsetProof=r.computeTreeOffsetProofSerializedLength=r.createNodeFromTreeOffsetProof=r.createTreeOffsetProof=r.treeOffsetProofToNode=r.nodeToTreeOffsetProof=void 0;const n=e("../node"),i=e("./util");function o(e,t,r){if(r.length&&r[0].startsWith(t)){if(t===r[0])return r.shift(),[[],[e.root]];{const[n,i]=o(e.left,t+"0",r),[s,a]=o(e.right,t+"1",r);return[[i.length].concat(n,s),i.concat(a)]}}return[[],[]]}function s(e,t){if(t.length){if(1===t.length)return n.LeafNode.fromRoot(t[0]);{const r=e[0];return new n.BranchNode(s(e.slice(1,r),t.slice(0,r)),s(e.slice(r),t.slice(r)))}}throw new Error("Proof must contain gt 0 leaves")}r.nodeToTreeOffsetProof=o,r.treeOffsetProofToNode=s,r.createTreeOffsetProof=function(e,t){return o(e,"1",i.computeMultiProofBitstrings(t.map((e=>e.toString(2)))))},r.createNodeFromTreeOffsetProof=function(e,t){return s(e,t)},r.computeTreeOffsetProofSerializedLength=function(e,t){return 2*(e.length+1)+32*t.length},r.serializeTreeOffsetProof=function(e,t,r,n){const i=new DataView(e.buffer,e.byteOffset,e.byteLength);i.setUint16(t,n.length,!0);const o=t+2;for(let e=0;e<r.length;e++)i.setUint16(2*e+o,r[e],!0);const s=o+2*r.length;for(let t=0;t<n.length;t++)e.set(n[t],32*t+s)},r.deserializeTreeOffsetProof=function(e,t){const r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=r.getUint16(t,!0);if(e.length<2*(n-1)+32*n)throw new Error("Unable to deserialize tree offset proof: not enough bytes");const i=t+2,o=Array.from({length:n-1},((e,t)=>r.getUint16(2*t+i,!0))),s=i+2*o.length;return[o,Array.from({length:n},((t,r)=>e.subarray(32*r+s,32*(r+1)+s)))]}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/proof/treeOffset.js"}],[233,{"../gindex":224},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.computeMultiProofBitstrings=r.SortOrder=r.filterParentBitstrings=r.sortDecreasingBitstrings=r.sortInOrderBitstrings=r.computeProofBitstrings=r.computeProofGindices=void 0;const n=e("../gindex");function i(e){const t=new Set,r=new Set;let n=e;for(;n.length>1;){t.add(n);const e=n[n.length-1],i=n.substring(0,n.length-1);r.add(i+(1^Number(e))),n=i}return{path:t,branch:r}}function o(e,t){return e.length?e.map((e=>e.padEnd(t))).sort().map((e=>e.trim())):[]}function s(e){return e.length?e.sort(((e,t)=>{if(e.length<t.length)return 1;if(t.length<e.length)return-1;let r=e.indexOf("0"),n=t.indexOf("0");for(;;){if(-1===r)return-1;if(-1===n)return 1;if(r<n)return 1;if(n<r)return-1;r=e.indexOf("0",r+1),n=t.indexOf("0",n+1)}})):[]}function a(e){const t=e.slice().sort(((e,t)=>e.length-t.length)),r=[];e:for(let e=0;e<t.length;e++){const n=t[e];for(let r=e+1;r<t.length;r++){if(t[r].startsWith(n))continue e}r.push(n)}return r}var c;r.computeProofGindices=function(e){const t=new Set,r=new Set;let i=e;for(;i>1;)t.add(i),r.add(n.gindexSibling(i)),i=n.gindexParent(i);return{path:t,branch:r}},r.computeProofBitstrings=i,r.sortInOrderBitstrings=o,r.sortDecreasingBitstrings=s,r.filterParentBitstrings=a,function(e){e[e.InOrder=0]="InOrder",e[e.Decreasing=1]="Decreasing",e[e.Unsorted=2]="Unsorted"}(c=r.SortOrder||(r.SortOrder={})),r.computeMultiProofBitstrings=function(e,t=!0,r=c.InOrder){const n=a(e),u=new Set(t?n:[]),l=new Set,d=new Set;let h=1;for(const e of n){e.length>h&&(h=e.length);const{path:t,branch:r}=i(e);t.forEach((e=>l.add(e))),r.forEach((e=>d.add(e)))}switch(l.forEach((e=>d.delete(e))),d.forEach((e=>u.add(e))),r){case c.InOrder:return o(Array.from(u),h);case c.Decreasing:return s(Array.from(u));case c.Unsorted:return Array.from(u)}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/proof/util.js"}],[234,{"./node":227,"./zeroNode":236},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subtreeFillToContents=r.subtreeFillToLength=r.subtreeFillToDepth=void 0;const n=e("./node"),i=e("./zeroNode");function o(e,t){let r=e;for(;t>0;)r=new n.BranchNode(r,r),t--;return r}r.subtreeFillToDepth=o,r.subtreeFillToLength=function e(t,r,s){const a=1<<r;if(s>a)throw new Error("ERR_TOO_MANY_NODES");if(s===a)return o(t,r);if(0===r){if(1===s)return t;throw new Error("ERR_NAVIGATION")}if(1===r)return new n.BranchNode(t,s>1?t:i.zeroNode(0));const c=a>>1;return s<=c?new n.BranchNode(e(t,r-1,s),i.zeroNode(r-1)):new n.BranchNode(o(t,r-1),e(t,r-1,s-c))},r.subtreeFillToContents=function(e,t){const r=2**t;if(e.length>r)throw new Error(`nodes.length ${e.length} over maxIndex at depth ${t}`);if(0===e.length)return i.zeroNode(t);if(0===t)return e[0];if(1===t)return e.length>1?new n.BranchNode(e[0],e[1]):new n.BranchNode(e[0],i.zeroNode(0));let o=e.length;for(let r=t;r>0;r--){const s=o%2,a=o-s;for(let t=0;t<a;t+=2)e[t/2]=new n.BranchNode(e[t],e[t+1]);s>0&&(e[a/2]=new n.BranchNode(e[a],i.zeroNode(t-r))),o=a/2+s}return e[0]}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/subtree.js"}],[235,{"./gindex":224,"./node":227,"./proof":229,"./proof/single":231,"./zeroNode":236},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.treeZeroAfterIndex=r.iterateNodesAtDepth=r.getNodesAtDepth=r.setNodesAtDepth=r.setNodeAtDepth=r.getNodeAtDepth=r.setNodeWithFn=r.setNode=r.getNode=r.Tree=void 0;const n=e("./zeroNode"),i=e("./gindex"),o=e("./node"),s=e("./proof"),a=e("./proof/single");class c{constructor(e,t){this._rootNode=e,t&&("undefined"==typeof WeakRef?this.hook=t:this.hook=new WeakRef(t))}static createFromProof(e){return new c(s.createNodeFromProof(e))}get rootNode(){return this._rootNode}set rootNode(e){if(this._rootNode=e,this.hook)if("undefined"==typeof WeakRef)this.hook(e);else{const t=this.hook.deref();t?t(e):this.hook=undefined}}get root(){return this.rootNode.root}clone(){return new c(this.rootNode)}getSubtree(e){return new c(this.getNode(e),(t=>this.setNode(e,t)))}getNode(e){return u(this.rootNode,e)}getNodeAtDepth(e,t){return p(this.rootNode,e,t)}getRoot(e){return this.getNode(e).root}setNode(e,t){this.rootNode=l(this.rootNode,e,t)}setNodeWithFn(e,t){this.rootNode=d(this.rootNode,e,t)}setNodeAtDepth(e,t,r){this.rootNode=m(this.rootNode,e,t,r)}setRoot(e,t){this.setNode(e,o.LeafNode.fromRoot(t))}getNodesAtDepth(e,t,r){return y(this.rootNode,e,t,r)}iterateNodesAtDepth(e,t,r){return b(this.rootNode,e,t,r)}getSingleProof(e){return a.createSingleProof(this.rootNode,e)[1]}getProof(e){return s.createProof(this.rootNode,e)}}function u(e,t){const r=i.convertGindexToBitstring(t);let n=e;for(let e=1;e<r.length;e++){if(n.isLeaf())throw new Error(`Invalid tree - found leaf at depth ${e}`);n="1"===r[e]?n.right:n.left}return n}function l(e,t,r){const n=i.convertGindexToBitstring(t);return f(n,h(e,n),r)}function d(e,t,r){const n=i.convertGindexToBitstring(t),o=h(e,n),s=o[o.length-1];return f(n,o,r("1"===n[n.length-1]?s.right:s.left))}function h(e,t){let r=e;const n=[e];for(let e=1;e<t.length-1;e++)r="1"===t[e]?r.right:r.left,n.push(r);return n}function f(e,t,r){let n=r;for(let r=e.length-1;r>=1;r--)n="1"===e[r]?new o.BranchNode(t[r-1].left,n):new o.BranchNode(n,t[r-1].right);return n}function p(e,t,r){if(0===t)return e;if(1===t)return 0===r?e.left:e.right;let n=e;for(let e=t-1;e>=0;e--)n=w(e,r)?n.left:n.right;return n}function m(e,t,r,n){return g(e,t,[r],[n])}function g(e,t,r,n){if(0===t)return n.length>0?n[0]:e;const i=new Array(t),s=new Array(t),a=t-1;let c=a,u=e;i[a]=e;for(let e=0;e<r.length;e++){const t=r[e];for(let e=c;e>0;e--)u=w(e,t)?u.left:u.right,i[e-1]=u;c=0;1!=(1&t)?t+1===r[e+1]?(u=new o.BranchNode(n[e],n[e+1]),e++):u=new o.BranchNode(n[e],u.right):u=new o.BranchNode(u.left,n[e]);const h=e>=r.length-1,f=h?a:(l=t,d=r[e+1],Math.ceil(Math.log2(-~(l^d)))-1);for(let e=1;e<=f;e++)if(w(e,t))h||e!==f?u=new o.BranchNode(u,i[e].right):(s[e]=u,u=i[e]);else{const t=s[e];t!==undefined?(u=new o.BranchNode(t,u),s[e]=undefined):u=new o.BranchNode(i[e].left,u)}c=f}var l,d;return u}function y(e,t,r,n){if(0===t)return 0===r&&n>0?[e]:[];if(1===t)return 0===n?[]:1===n?0===r?[e.left]:[e.right]:[e.left,e.right];const i=t-1;let o=i,s=e;const a=new Array(t),c=new Array(t),u=new Array(n);a[i]=e;for(let e=0;e<n;e++){for(let t=o;t>=0;t--){t!==o&&(a[t]=s);const n=w(t,r+e);c[t]=n,s=n?s.left:s.right}u[e]=s;for(let e=0;e<=i;e++)if(!0===c[e]){o=e;break}s=a[o]}return u}function*b(e,t,r,n){const i=r+n,o=t-1;let s=o,a=e;const c=new Array(t),u=new Array(t);c[o]=e;for(let e=r;e<i;e++){for(let t=s;t>=0;t--){t!==s&&(c[t]=a);const r=w(t,e);u[t]=r,a=r?a.left:a.right}yield a;for(let e=0;e<=o;e++)if(!0===u[e]){s=e;break}a=c[s]}}function w(e,t){if(e>31){const r=1<<e-32;return(t/2**32>>>0&r)!==r}const r=1<<e;return(t&r)!==r}r.Tree=c,r.getNode=u,r.setNode=l,r.setNodeWithFn=d,r.getNodeAtDepth=p,r.setNodeAtDepth=m,r.setNodesAtDepth=g,r.getNodesAtDepth=y,r.iterateNodesAtDepth=b,r.treeZeroAfterIndex=function(e,t,r){if(r<0)return n.zeroNode(t);const i=new Array(t),s=t-1;let a=s,c=e;i[s]=e;for(let e=a;e>=0;e--)c=w(e,r)?c.left:c.right,i[e-1]=c;a=0;for(let e=0;e<=s;e++)c=w(e,r)?new o.BranchNode(c,n.zeroNode(e)):new o.BranchNode(i[e].left,c);return c}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/tree.js"}],[236,{"./node":227},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.zeroNode=void 0;const n=e("./node"),i=[n.LeafNode.fromZero()];r.zeroNode=function(e){if(e>=i.length)for(let t=i.length;t<=e;t++)i[t]=new n.BranchNode(i[t-1],i[t-1]);return i[e]}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz>@chainsafe/persistent-merkle-tree",file:"node_modules/@chainsafe/persistent-merkle-tree/lib/zeroNode.js"}],[237,{"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BranchNodeStruct=void 0;const n=e("@chainsafe/persistent-merkle-tree");class i extends n.Node{constructor(e,t){super(null,0,0,0,0,0,0,0),this.valueToNode=e,this.value=t}get rootHashObject(){if(null===this.h0){const e=this.valueToNode(this.value);super.applyHash(e.rootHashObject)}return this}get root(){return n.hashObjectToUint8Array(this.rootHashObject)}isLeaf(){return!1}get left(){return this.valueToNode(this.value).left}get right(){return this.valueToNode(this.value).right}}r.BranchNodeStruct=i}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/branchNodeStruct.js"}],[2372,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */
!function(e){function n(e){return parseInt(e)===e}function i(e){if(!n(e.length))return!1;for(var t=0;t<e.length;t++)if(!n(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){if(e.buffer&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!i(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(n(e.length)&&i(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function s(e){return new Uint8Array(e)}function a(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var c,u={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return o(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},l=(c="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(c[(240&n)>>4]+c[15&n])}return t.join("")}}),d={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],b=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],w=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],_=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],T=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],k=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],E=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],N=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function O(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var C=function(e){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(e,!0)}),this._prepare()};C.prototype._prepare=function(){var e=d[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,o=O(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=o[t],this._Kd[e-r][t%4]=o[t];for(var s,a=0,c=i;c<n;){if(s=o[i-1],o[0]^=f[s>>16&255]<<24^f[s>>8&255]<<16^f[255&s]<<8^f[s>>24&255]^h[a]<<24,a+=1,8!=i)for(t=1;t<i;t++)o[t]^=o[t-1];else{for(t=1;t<i/2;t++)o[t]^=o[t-1];s=o[i/2-1],o[i/2]^=f[255&s]^f[s>>8&255]<<8^f[s>>16&255]<<16^f[s>>24&255]<<24;for(t=i/2+1;t<i;t++)o[t]^=o[t-1]}for(t=0;t<i&&c<n;)u=c>>2,l=c%4,this._Ke[u][l]=o[t],this._Kd[e-u][l]=o[t++],c++}for(var u=1;u<e;u++)for(var l=0;l<4;l++)s=this._Kd[u][l],this._Kd[u][l]=k[s>>24&255]^S[s>>16&255]^E[s>>8&255]^N[255&s]},C.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=O(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=m[n[i]>>24&255]^g[n[(i+1)%4]>>16&255]^y[n[(i+2)%4]>>8&255]^b[255&n[(i+3)%4]]^this._Ke[o][i];n=r.slice()}var a,c=s(16);for(i=0;i<4;i++)a=this._Ke[t][i],c[4*i]=255&(f[n[i]>>24&255]^a>>24),c[4*i+1]=255&(f[n[(i+1)%4]>>16&255]^a>>16),c[4*i+2]=255&(f[n[(i+2)%4]>>8&255]^a>>8),c[4*i+3]=255&(f[255&n[(i+3)%4]]^a);return c},C.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=O(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=w[n[i]>>24&255]^v[n[(i+3)%4]>>16&255]^_[n[(i+2)%4]>>8&255]^T[255&n[(i+1)%4]]^this._Kd[o][i];n=r.slice()}var a,c=s(16);for(i=0;i<4;i++)a=this._Kd[t][i],c[4*i]=255&(p[n[i]>>24&255]^a>>24),c[4*i+1]=255&(p[n[(i+3)%4]>>16&255]^a>>16),c[4*i+2]=255&(p[n[(i+2)%4]>>8&255]^a>>8),c[4*i+3]=255&(p[255&n[(i+1)%4]]^a);return c};var I=function(e){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new C(e)};I.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16)a(e,r,0,n,n+16),a(r=this._aes.encrypt(r),t,n);return t},I.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16)a(e,r,0,n,n+16),a(r=this._aes.decrypt(r),t,n);return t};var P=function(e,t){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastCipherblock=o(t,!0),this._aes=new C(e)};P.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){a(e,r,0,n,n+16);for(var i=0;i<16;i++)r[i]^=this._lastCipherblock[i];this._lastCipherblock=this._aes.encrypt(r),a(this._lastCipherblock,t,n)}return t},P.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){a(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var i=0;i<16;i++)t[n+i]=r[i]^this._lastCipherblock[i];a(e,this._lastCipherblock,0,n,n+16)}return t};var A=function(e,t,r){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=s(16);r||(r=1),this.segmentSize=r,this._shiftRegister=o(t,!0),this._aes=new C(e)};A.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=o(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},A.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=o(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var j=function(e,t){if(!(this instanceof j))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastPrecipher=o(t,!0),this._lastPrecipherIndex=16,this._aes=new C(e)};j.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},j.prototype.decrypt=j.prototype.encrypt;var R=function(e){if(!(this instanceof R))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=s(16),this.setValue(e)):this.setBytes(e)};R.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;t>=0;--t)this._counter[t]=e%256,e=parseInt(e/256)},R.prototype.setBytes=function(e){if(16!=(e=o(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},R.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var M=function(e,t){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof R||(t=new R(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new C(e)};M.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},M.prototype.decrypt=M.prototype.encrypt;var x={AES:C,Counter:R,ModeOfOperation:{ecb:I,cbc:P,cfb:A,ofb:j,ctr:M},utils:{hex:l,utf8:u},padding:{pkcs7:{pad:function(e){var t=16-(e=o(e,!0)).length%16,r=s(e.length+t);a(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=o(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var i=s(r);return a(e,i,0,0,r),i}}},_arrayTest:{coerceArray:o,createArray:s,copyArray:a}};void 0!==r?t.exports=x:"function"==typeof define&&define.amd?define([],(function(){return x})):(e.aesjs&&(x._aesjs=e.aesjs),e.aesjs=x)}(this)}}},{package:"eth-lattice-keyring>gridplus-sdk>aes-js",file:"node_modules/aes-js/index.js"}],[238,{"./type/abstract":239,"./type/array":240,"./type/basic":243,"./type/bitArray":244,"./type/bitList":245,"./type/bitVector":246,"./type/boolean":247,"./type/byteArray":248,"./type/byteList":249,"./type/byteVector":250,"./type/composite":251,"./type/container":252,"./type/containerNodeStruct":253,"./type/listBasic":254,"./type/listComposite":255,"./type/none":256,"./type/uint":257,"./type/union":258,"./type/vectorBasic":259,"./type/vectorComposite":260,"./util/byteArray":261,"./util/merkleize":262,"./value/bitArray":266,"./view/abstract":267,"./viewDU/abstract":275},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hash64=r.byteArrayEquals=r.toHexString=r.fromHexString=r.getUint8ByteToBitBooleanArray=r.BitArray=r.TreeViewDU=r.TreeView=r.isCompositeType=r.CompositeType=r.isBasicType=r.BasicType=r.Type=r.ByteArrayType=r.BitArrayType=r.ArrayType=r.VectorCompositeType=r.VectorBasicType=r.UnionType=r.UintNumberType=r.UintBigintType=r.NoneType=r.ListCompositeType=r.ListBasicType=r.ContainerNodeStructType=r.ContainerType=r.ByteVectorType=r.ByteListType=r.BooleanType=r.BitVectorType=r.BitListType=void 0;var n=e("./type/bitList");Object.defineProperty(r,"BitListType",{enumerable:!0,get:function(){return n.BitListType}});var i=e("./type/bitVector");Object.defineProperty(r,"BitVectorType",{enumerable:!0,get:function(){return i.BitVectorType}});var o=e("./type/boolean");Object.defineProperty(r,"BooleanType",{enumerable:!0,get:function(){return o.BooleanType}});var s=e("./type/byteList");Object.defineProperty(r,"ByteListType",{enumerable:!0,get:function(){return s.ByteListType}});var a=e("./type/byteVector");Object.defineProperty(r,"ByteVectorType",{enumerable:!0,get:function(){return a.ByteVectorType}});var c=e("./type/container");Object.defineProperty(r,"ContainerType",{enumerable:!0,get:function(){return c.ContainerType}});var u=e("./type/containerNodeStruct");Object.defineProperty(r,"ContainerNodeStructType",{enumerable:!0,get:function(){return u.ContainerNodeStructType}});var l=e("./type/listBasic");Object.defineProperty(r,"ListBasicType",{enumerable:!0,get:function(){return l.ListBasicType}});var d=e("./type/listComposite");Object.defineProperty(r,"ListCompositeType",{enumerable:!0,get:function(){return d.ListCompositeType}});var h=e("./type/none");Object.defineProperty(r,"NoneType",{enumerable:!0,get:function(){return h.NoneType}});var f=e("./type/uint");Object.defineProperty(r,"UintBigintType",{enumerable:!0,get:function(){return f.UintBigintType}}),Object.defineProperty(r,"UintNumberType",{enumerable:!0,get:function(){return f.UintNumberType}});var p=e("./type/union");Object.defineProperty(r,"UnionType",{enumerable:!0,get:function(){return p.UnionType}});var m=e("./type/vectorBasic");Object.defineProperty(r,"VectorBasicType",{enumerable:!0,get:function(){return m.VectorBasicType}});var g=e("./type/vectorComposite");Object.defineProperty(r,"VectorCompositeType",{enumerable:!0,get:function(){return g.VectorCompositeType}});var y=e("./type/array");Object.defineProperty(r,"ArrayType",{enumerable:!0,get:function(){return y.ArrayType}});var b=e("./type/bitArray");Object.defineProperty(r,"BitArrayType",{enumerable:!0,get:function(){return b.BitArrayType}});var w=e("./type/byteArray");Object.defineProperty(r,"ByteArrayType",{enumerable:!0,get:function(){return w.ByteArrayType}});var v=e("./type/abstract");Object.defineProperty(r,"Type",{enumerable:!0,get:function(){return v.Type}});var _=e("./type/basic");Object.defineProperty(r,"BasicType",{enumerable:!0,get:function(){return _.BasicType}}),Object.defineProperty(r,"isBasicType",{enumerable:!0,get:function(){return _.isBasicType}});var T=e("./type/composite");Object.defineProperty(r,"CompositeType",{enumerable:!0,get:function(){return T.CompositeType}}),Object.defineProperty(r,"isCompositeType",{enumerable:!0,get:function(){return T.isCompositeType}});var k=e("./view/abstract");Object.defineProperty(r,"TreeView",{enumerable:!0,get:function(){return k.TreeView}});var S=e("./viewDU/abstract");Object.defineProperty(r,"TreeViewDU",{enumerable:!0,get:function(){return S.TreeViewDU}});var E=e("./value/bitArray");Object.defineProperty(r,"BitArray",{enumerable:!0,get:function(){return E.BitArray}}),Object.defineProperty(r,"getUint8ByteToBitBooleanArray",{enumerable:!0,get:function(){return E.getUint8ByteToBitBooleanArray}});var N=e("./util/byteArray");Object.defineProperty(r,"fromHexString",{enumerable:!0,get:function(){return N.fromHexString}}),Object.defineProperty(r,"toHexString",{enumerable:!0,get:function(){return N.toHexString}}),Object.defineProperty(r,"byteArrayEquals",{enumerable:!0,get:function(){return N.byteArrayEquals}});var O=e("./util/merkleize");Object.defineProperty(r,"hash64",{enumerable:!0,get:function(){return O.hash64}})}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/index.js"}],[239,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Type=void 0;r.Type=class{value_toTree(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),this.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}tree_toValue(e){const t=new Uint8Array(this.tree_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.tree_serializeToBytes({uint8Array:t,dataView:r},0,e),this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}serialize(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),t}deserialize(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);return this.value_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length)}}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/abstract.js"}],[24,{"../../../../shared/constants/permissions":4355,"@metamask/permission-controller":1402,"@metamask/rpc-methods":1439,"@metamask/snaps-controllers":1523},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unrestrictedMethods=r.getPermissionSpecifications=r.getCaveatSpecifications=void 0;var n=e("@metamask/permission-controller"),i=e("@metamask/snaps-controllers"),o=e("@metamask/rpc-methods"),s=e("../../../../shared/constants/permissions");const a=Object.freeze({...s.RestrictedMethods}),c=Object.freeze({[s.CaveatTypes.restrictReturnedAccounts]:e=>({type:s.CaveatTypes.restrictReturnedAccounts,value:e})});r.getCaveatSpecifications=({getIdentities:e})=>({[s.CaveatTypes.restrictReturnedAccounts]:{type:s.CaveatTypes.restrictReturnedAccounts,decorator:(e,t)=>async r=>(await e(r)).filter((e=>t.value.includes(e))),validator:(t,r,n)=>function(e,t){if(!Array.isArray(e)||0===e.length)throw new Error(`${a.eth_accounts} error: Expected non-empty array of Ethereum addresses.`);const r=t();e.forEach((e=>{if(!e||"string"!=typeof e)throw new Error(`${a.eth_accounts} error: Expected an array of Ethereum addresses. Received: "${e}".`);if(!r[e])throw new Error(`${a.eth_accounts} error: Received unrecognized address: "${e}".`)}))}(t.value,e)},...o.caveatSpecifications,...i.endowmentCaveatSpecifications});r.getPermissionSpecifications=({getAllAccounts:e,getIdentities:t,captureKeyringTypesWithMissingIdentities:r})=>({[a.eth_accounts]:{permissionType:n.PermissionType.RestrictedMethod,targetName:a.eth_accounts,allowedCaveats:[s.CaveatTypes.restrictReturnedAccounts],factory:(e,t)=>{if(Array.isArray(e.caveats))throw new Error(`${a.eth_accounts} error: Received unexpected caveats. Any permitted caveats will be added automatically.`);if(!t.approvedAccounts)throw new Error(`${a.eth_accounts} error: No approved accounts specified.`);return(0,n.constructPermission)({...e,caveats:[c[s.CaveatTypes.restrictReturnedAccounts](t.approvedAccounts)]})},methodImplementation:async n=>{const i=await e(),o=t();return i.sort(((e,t)=>{if(!o[e])throw r(o,i),new Error(`Missing identity for address: "${e}".`);if(!o[t])throw r(o,i),new Error(`Missing identity for address: "${t}".`);return o[e].lastSelected===o[t].lastSelected?0:o[e].lastSelected===undefined?1:o[t].lastSelected===undefined?-1:o[t].lastSelected-o[e].lastSelected}))},validator:(e,t,r)=>{const{caveats:n}=e;if(!n||1!==n.length||n[0].type!==s.CaveatTypes.restrictReturnedAccounts)throw new Error(`${a.eth_accounts} error: Invalid caveats. There must be a single caveat of type "${s.CaveatTypes.restrictReturnedAccounts}".`)}}});const u=Object.freeze(["eth_blockNumber","eth_call","eth_chainId","eth_coinbase","eth_decrypt","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getEncryptionPublicKey","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getWork","eth_hashrate","eth_mining","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_protocolVersion","eth_sendRawTransaction","eth_sendTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_submitHashrate","eth_submitWork","eth_syncing","eth_uninstallFilter","metamask_getProviderState","metamask_watchAsset","net_listening","net_peerCount","net_version","personal_ecRecover","personal_sign","wallet_watchAsset","web3_clientVersion","web3_sha3"]);r.unrestrictedMethods=u}}},{package:"$root$",file:"app/scripts/controllers/permissions/specifications.js"}],[240,{"./arrayBasic":241,"./composite":251,"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ArrayType=void 0;const n=e("@chainsafe/persistent-merkle-tree"),i=e("./composite"),o=e("./arrayBasic");class s extends i.CompositeType{constructor(e){super(),this.elementType=e}defaultValue(){return o.value_defaultValueArray(this.elementType,this.defaultLen)}getPropertyType(){return this.elementType}getPropertyGindex(e){if("number"!=typeof e)throw Error(`Invalid array index: ${e}`);const t=Math.floor(e/this.itemsPerChunk);return n.toGindex(this.depth,BigInt(t))}getIndexProperty(e){return e}tree_getLeafGindices(e,t){let r;if(this.isList){if(!t)throw new Error("List type requires tree argument to get leaves");r=this.tree_getLength(t)}else r=this.tree_getLength(null);const o=[];if(i.isCompositeType(this.elementType)){const i=n.toGindex(this.depth,BigInt(0)),s=i+BigInt(r),a=n.concatGindices([e,i]);if(null===this.elementType.fixedSize){if(!t)throw new Error("Array of variable size requires tree argument to get leaves");for(let e=i,r=a;e<s;e++,r++)o.push(...this.elementType.tree_getLeafGindices(r,n.getNode(t,e)))}else for(let e=0,t=a;e<r;e++,t++)o.push(...this.elementType.tree_getLeafGindices(t))}else{const t=Math.ceil(r/this.itemsPerChunk),i=n.concatGindices([e,n.toGindex(this.depth,BigInt(0))]),s=i+BigInt(t);for(let e=i;e<s;e++)o.push(e)}return this.isList&&o.push(n.concatGindices([e,i.LENGTH_GINDEX])),o}fromJson(e){return o.value_fromJsonArray(this.elementType,e,this)}toJson(e){return o.value_toJsonArray(this.elementType,e,this)}clone(e){return o.value_cloneArray(this.elementType,e)}equals(e,t){return o.value_equals(this.elementType,e,t)}}r.ArrayType=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/array.js"}],[241,{"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assertValidArrayLength=r.value_defaultValueArray=r.value_equals=r.value_cloneArray=r.value_toJsonArray=r.value_fromJsonArray=r.tree_deserializeFromBytesArrayBasic=r.tree_serializeToBytesArrayBasic=r.value_deserializeFromBytesArrayBasic=r.value_serializeToBytesArrayBasic=r.setChunksNode=r.addLengthNode=r.getChunksNodeFromRootNode=r.getLengthFromRootNode=void 0;const n=e("@chainsafe/persistent-merkle-tree");function i(e,t){return new n.BranchNode(e,n.LeafNode.fromUint32(t))}function o(e,t,r){if(r&&e%1!=0)throw Error("size not multiple of element fixedSize");if(t.isList){if(e>t.limit)throw new Error(`Invalid list length ${e} over limit ${t.limit}`)}else if(e!==t.length)throw new Error(`Incorrect vector length ${e} expected ${t.length}`)}r.getLengthFromRootNode=function(e){return e.right.getUint(4,0)},r.getChunksNodeFromRootNode=function(e){return e.left},r.addLengthNode=i,r.setChunksNode=function(e,t,r){const i=r!==undefined?n.LeafNode.fromUint32(r):e.right;return new n.BranchNode(t,i)},r.value_serializeToBytesArrayBasic=function(e,t,r,n,i){const o=e.byteLength;for(let s=0;s<t;s++)e.value_serializeToBytes(r,n+s*o,i[s]);return n+t*o},r.value_deserializeFromBytesArrayBasic=function(e,t,r,n,i){const s=e.byteLength,a=(n-r)/s;o(a,i,!0);const c=new Array(a);for(let n=0;n<a;n++)c[n]=e.value_deserializeFromBytes(t,r+n*s,r+(n+1)*s);return c},r.tree_serializeToBytesArrayBasic=function(e,t,r,i,o,s){const a=e.byteLength*t,c=Math.ceil(a/32),u=n.getNodesAtDepth(s,r,0,c);return n.packedNodeRootsToBytes(i.dataView,o,a,u),o+a},r.tree_deserializeFromBytesArrayBasic=function(e,t,r,s,a,c){const u=(a-s)/e.byteLength;o(u,c,!0);const l=n.packedRootsBytesToNode(t,r.dataView,s,a);return c.isList?i(l,u):l},r.value_fromJsonArray=function(e,t,r){if(!Array.isArray(t))throw Error("JSON is not an array");o(t.length,r);const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=e.fromJson(t[r]);return n},r.value_toJsonArray=function(e,t,r){const n=r.isList?t.length:r.length,i=new Array(n);for(let r=0;r<n;r++)i[r]=e.toJson(t[r]);return i},r.value_cloneArray=function(e,t){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e.clone(t[n]);return r},r.value_equals=function(e,t,r){if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(!e.equals(t[n],r[n]))return!1;return!0},r.value_defaultValueArray=function(e,t){const r=new Array(t);for(let n=0;n<t;n++)r[n]=e.defaultValue();return r},r.assertValidArrayLength=o}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/arrayBasic.js"}],[2415,{_process:3818,timers:4242},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e,t){(function(){class n{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(e===undefined)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise(((r,n)=>{this.tasks.push((()=>{var e=!1;r((()=>{e||(e=!0,this.count++,this.sched())}))})),e&&e.nextTick?e.nextTick(this.sched.bind(this)):t(this.sched.bind(this))}))}use(e){return this.acquire().then((t=>e().then((e=>(t(),e))).catch((e=>{throw t(),e}))))}}r.Semaphore=n;r.Mutex=class extends n{constructor(){super(1)}}}).call(this)}).call(this,e("_process"),e("timers").setImmediate)}}},{package:"await-semaphore",file:"node_modules/await-semaphore/index.js"}],[242,{"./arrayBasic":241,"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.value_getRootsArrayComposite=r.tree_deserializeFromBytesArrayComposite=r.tree_serializeToBytesArrayComposite=r.tree_serializedSizeArrayComposite=r.value_deserializeFromBytesArrayComposite=r.value_serializeToBytesArrayComposite=r.value_serializedSizeArrayComposite=r.maxSizeArrayComposite=r.minSizeArrayComposite=void 0;const n=e("@chainsafe/persistent-merkle-tree"),i=e("./arrayBasic");function o(e,t,r,n,o){const s=n-r;let a;if(null===e)a=function(e,t,r){if(0===r)return new Uint32Array(0);const n=e.getUint32(t,!0),i=n;if(0===n)throw Error("First offset must be > 0");if(i%4!=0)throw Error("Offset data length not multiple of 4");const o=i/4,s=new Uint32Array(o);s[0]=n;for(let n=1;n<o;n++){const i=e.getUint32(t+4*n,!0);if(s[n]=i,i>r)throw new Error(`Offset out of bounds ${i} > ${r}`);if(i<s[n-1])throw new Error(`Offsets must be increasing ${i} < ${s[n-1]}`)}return s}(t,r,s);else{if(0===e)throw Error("element fixed length is 0");if(s%e!=0)throw Error(`size ${s} is not multiple of element fixedSize ${e}`);const t=s/e;a=new Uint32Array(t);for(let r=0;r<t;r++)a[r]=r*e}return i.assertValidArrayLength(a.length,o),a}r.minSizeArrayComposite=function(e,t){return null===e.fixedSize?t*(4+e.minSize):t*e.minSize},r.maxSizeArrayComposite=function(e,t){return null===e.fixedSize?t*(4+e.maxSize):t*e.maxSize},r.value_serializedSizeArrayComposite=function(e,t,r){if(null===e.fixedSize){let n=0;for(let i=0;i<t;i++)n+=4+e.value_serializedSize(r[i]);return n}return t*e.fixedSize},r.value_serializeToBytesArrayComposite=function(e,t,r,n,i){if(null===e.fixedSize){let o=n+4*t;for(let s=0;s<t;s++)r.dataView.setUint32(n+4*s,o-n,!0),o=e.value_serializeToBytes(r,o,i[s]);return o}for(let o=0;o<t;o++)e.value_serializeToBytes(r,n+o*e.fixedSize,i[o]);return n+t*e.fixedSize},r.value_deserializeFromBytesArrayComposite=function(e,t,r,n,i){const s=o(e.fixedSize,t.dataView,r,n,i),a=s.length,c=new Array(a);for(let i=0;i<a;i++){const o=r+s[i],u=i===a-1?n:r+s[i+1];c[i]=e.value_deserializeFromBytes(t,o,u)}return c},r.tree_serializedSizeArrayComposite=function(e,t,r,i){if(null===e.fixedSize){const o=n.getNodesAtDepth(i,r,0,t);let s=0;for(let t=0;t<o.length;t++)s+=4+e.tree_serializedSize(o[t]);return s}return t*e.fixedSize},r.tree_serializeToBytesArrayComposite=function(e,t,r,i,o,s){const a=n.getNodesAtDepth(i,r,0,t);if(null===e.fixedSize){let r=s+4*t;const{dataView:n}=o;for(let t=0;t<a.length;t++)n.setUint32(s+4*t,r-s,!0),r=e.tree_serializeToBytes(o,r,a[t]);return r}for(let t=0;t<a.length;t++)s=e.tree_serializeToBytes(o,s,a[t]);return s},r.tree_deserializeFromBytesArrayComposite=function(e,t,r,s,a,c){const u=o(e.fixedSize,r.dataView,s,a,c),l=u.length,d=new Array(l);for(let t=0;t<l;t++){const n=s+u[t],i=t===l-1?a:s+u[t+1];d[t]=e.tree_deserializeFromBytes(r,n,i)}const h=n.subtreeFillToContents(d,t);return c.isList?i.addLengthNode(h,l):h},r.value_getRootsArrayComposite=function(e,t,r){const n=new Array(t);for(let i=0;i<t;i++)n[i]=e.hashTreeRoot(r[i]);return n}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/arrayComposite.js"}],[2424,{"to-data-view":4246},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("to-data-view");t.exports=function(e,t,r){var i,o;switch(r=r||{},t){case"RFC3548":case"RFC4648":i="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",o=!0;break;case"RFC4648-HEX":i="0123456789ABCDEFGHIJKLMNOPQRSTUV",o=!0;break;case"Crockford":i="0123456789ABCDEFGHJKMNPQRSTVWXYZ",o=!1;break;default:throw new Error("Unknown base32 variant: "+t)}for(var s=r.padding!==undefined?r.padding:o,a=n(e),c=0,u=0,l="",d=0;d<a.byteLength;d++)for(u=u<<8|a.getUint8(d),c+=8;c>=5;)l+=i[u>>>c-5&31],c-=5;if(c>0&&(l+=i[u<<5-c&31]),s)for(;l.length%8!=0;)l+="=";return l}}}},{package:"base32-encode",file:"node_modules/base32-encode/index.js"}],[2429,{"safe-buffer":4125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer;t.exports={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return 0!==r&&(6+t+r===e.length&&(!(128&e[4])&&(!(t>1&&0===e[4]&&!(128&e[5]))&&(!(128&e[t+6])&&!(r>1&&0===e[t+6]&&!(128&e[t+7]))))))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var r=e.length,i=t.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}}}}},{package:"@metamask/eth-trezor-keyring>hdkey>secp256k1>bip66",file:"node_modules/bip66/index.js"}],[243,{"./abstract":239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isBasicType=r.BasicType=void 0;const n=e("./abstract");class i extends n.Type{constructor(){super(...arguments),this.isBasic=!0,this.depth=0,this.maxChunkCount=1}value_serializedSize(){return this.byteLength}tree_serializedSize(){return this.byteLength}assertValidSize(e){if(e!==this.byteLength)throw Error(`BasicType invalid size ${e} expected ${this.byteLength}`)}hashTreeRoot(e){const t=new Uint8Array(32),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),t}clone(e){return e}equals(e,t){return e===t}}r.BasicType=i,r.isBasicType=function(e){return e.isBasic}}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/basic.js"}],[2430,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=e[n]&t[n];return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/and.js"}],[2431,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=[];if(t>e.length)throw new Error("shift amount can’t be larger than bits array length");for(var n=0;n<e.length;n++)r[(e.length+n-t)%e.length]=e[n];return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/circular-shift-left.js"}],[2432,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){var r=[];if(t>e.length)throw new Error("shift amount can’t be larger than bits array length");for(var n=0;n<e.length;n++)r[(n+t)%e.length]=e[n];return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/circular-shift-right.js"}],[2433,{"./and":2430,"./circular-shift-left":2431,"./circular-shift-right":2432,"./nand":2434,"./nor":2435,"./not":2436,"./or":2437,"./reduce-and":2438,"./reduce-nand":2439,"./reduce-nor":2440,"./reduce-or":2441,"./reduce-xnor":2442,"./reduce-xor":2443,"./to-boolean":2444,"./to-string":2445,"./xnor":2446,"./xor":2447},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xor=r.xnor=r.toString=r.toBoolean=r.reduceXor=r.reduceXnor=r.reduceOr=r.reduceNor=r.reduceNand=r.reduceAnd=r.or=r.not=r.nor=r.nand=r.circularShiftRight=r.circularShiftLeft=r.and=void 0;var n=e("./and");r.and=n.default;var i=e("./circular-shift-left");r.circularShiftLeft=i.default;var o=e("./circular-shift-right");r.circularShiftRight=o.default;var s=e("./nand");r.nand=s.default;var a=e("./nor");r.nor=a.default;var c=e("./not");r.not=c.default;var u=e("./or");r.or=u.default;var l=e("./reduce-and");r.reduceAnd=l.default;var d=e("./reduce-nand");r.reduceNand=d.default;var h=e("./reduce-nor");r.reduceNor=h.default;var f=e("./reduce-or");r.reduceOr=f.default;var p=e("./reduce-xnor");r.reduceXnor=p.default;var m=e("./reduce-xor");r.reduceXor=m.default;var g=e("./to-boolean");r.toBoolean=g.default;var y=e("./to-string");r.toString=y.default;var b=e("./xnor");r.xnor=b.default;var w=e("./xor");r.xor=w.default,r.default={and:n.default,circularShiftLeft:i.default,circularShiftRight:o.default,nand:s.default,nor:a.default,not:c.default,or:u.default,reduceAnd:l.default,reduceNand:d.default,reduceNor:h.default,reduceOr:f.default,reduceXnor:p.default,reduceXor:m.default,toBoolean:g.default,toString:y.default,xnor:b.default,xor:w.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/index.js"}],[2434,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=e[n]&t[n]^1;return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/nand.js"}],[2435,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=1^(e[n]|t[n]);return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/nor.js"}],[2436,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=1^e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/not.js"}],[2437,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=e[n]|t[n];return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/or.js"}],[2438,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t&=e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-and.js"}],[2439,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t=t&e[r]^1;return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-nand.js"}],[244,{"../util/byteArray":261,"../util/merkleize":262,"../view/bitArray":270,"../viewDU/bitArray":278,"./composite":251,"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BitArrayType=void 0;const n=e("@chainsafe/persistent-merkle-tree"),i=e("../util/byteArray"),o=e("../util/merkleize"),s=e("./composite"),a=e("../view/bitArray"),c=e("../viewDU/bitArray");class u extends s.CompositeType{constructor(){super(...arguments),this.isViewMutable=!0}getView(e){return new a.BitArrayTreeView(this,e)}getViewDU(e){return new c.BitArrayTreeViewDU(this,e)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}getRoots(e){return o.splitIntoRootChunks(e.uint8Array)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request BitArray complete data")}getIndexProperty(){throw Error("Must only request BitArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,t){const r=this.tree_getByteLen(t),i=Math.ceil(r/32),o=n.concatGindices([e,n.toGindex(this.depth,BigInt(0))]),a=new Array(i);for(let e=0,t=o;e<i;e++,t++)a[e]=t;return this.isList&&a.push(n.concatGindices([e,s.LENGTH_GINDEX])),a}fromJson(e){const t=i.fromHexString(e),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}toJson(e){return i.toHexString(this.serialize(e))}clone(e){return e.clone()}equals(e,t){return e.bitLen===t.bitLen&&i.byteArrayEquals(e.uint8Array,t.uint8Array)}}r.BitArrayType=u}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/bitArray.js"}],[2440,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t=1^(t|e[r]);return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-nor.js"}],[2441,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t|=e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-or.js"}],[2442,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t^=1^e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-xnor.js"}],[2443,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.length<2)throw new RangeError("Not enough bits.");for(var t=e[0],r=1;r<e.length;r++)t^=e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/reduce-xor.js"}],[2444,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=1===e[r];return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/to-boolean.js"}],[2445,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){if(void 0===t&&(t=0),void 0===r&&(r=" "),!t)return e.join("");for(var n="",i=0;i<e.length;i++)n+=""+e[i],i%t==t-1&&i!==e.length-1&&(n+=r);return n}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/to-string.js"}],[2446,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=e[n]^t[n]^1;return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/xnor.js"}],[2447,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/bits/xor.js"}],[2448,{buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,n){void 0===n&&(n=!1);for(var i=n?r.length:t.length,o=e.alloc(i),s=0;s<i;s++){var a=n?s%t.length:s;o[s]=t[a]&r[s]}return o}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/and.js"}],[2449,{"../byte/write":2463,buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n=e("../byte/write");r.default=function(e){for(var r=[0,0,0,0,0,0,0,0],i=t.alloc(Math.ceil(e.length/8)),o=0;o<i.length;o++){for(var s=0;s<8;s++)e[8*o+s]?r[s]=e[8*o+s]:r[s]=0;i[o]=n.default(r)}return i}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/create.js"}],[245,{"../util/merkleize":262,"../util/named":263,"../value/bitArray":266,"./arrayBasic":241,"./bitArray":244,"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BitListType=void 0;const n=e("@chainsafe/persistent-merkle-tree"),i=e("../util/merkleize"),o=e("../util/named"),s=e("./arrayBasic"),a=e("../value/bitArray"),c=e("./bitArray");class u extends c.BitArrayType{constructor(e,t){if(super(),this.limitBits=e,this.fixedSize=null,this.minSize=1,this.isList=!0,0===e)throw Error("List limit must be > 0");this.typeName=t?.typeName??`BitList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBits/8/32),this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.maxSize=Math.ceil(e/8)+1}static named(e,t){return new(o.namedClass(u,t.typeName))(e,t)}defaultValue(){return a.BitArray.fromBitLen(0)}value_serializedSize(e){return l(e.bitLen)}value_serializeToBytes(e,t,r){return e.uint8Array.set(r.uint8Array,t),d(e.uint8Array,t,r.bitLen)}value_deserializeFromBytes(e,t,r){const{uint8Array:n,bitLen:i}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,t,r);return new a.BitArray(n,i)}tree_serializedSize(e){return l(s.getLengthFromRootNode(e))}tree_serializeToBytes(e,t,r){const i=s.getChunksNodeFromRootNode(r),o=s.getLengthFromRootNode(r),a=Math.ceil(o/8),c=Math.ceil(a/32),u=n.getNodesAtDepth(i,this.chunkDepth,0,c);return n.packedNodeRootsToBytes(e.dataView,t,a,u),d(e.uint8Array,t,o)}tree_deserializeFromBytes(e,t,r){const{uint8Array:i,bitLen:o}=this.deserializeUint8ArrayBitListFromBytes(e.uint8Array,t,r),a=new DataView(i.buffer,i.byteOffset,i.byteLength),c=n.packedRootsBytesToNode(this.chunkDepth,a,0,i.length);return s.addLengthNode(c,o)}tree_getByteLen(e){if(!e)throw new Error("BitListType requires a node to get leaves");return Math.ceil(s.getLengthFromRootNode(e)/8)}hashTreeRoot(e){return i.mixInLength(super.hashTreeRoot(e),e.bitLen)}deserializeUint8ArrayBitListFromBytes(e,t,r){const{uint8Array:n,bitLen:i}=function(e,t,r){if(r>e.length)throw Error(`BitList attempting to read byte ${r} of data length ${e.length}`);const n=e[r-1],i=r-t;if(0===n)throw new Error("Invalid deserialized bitlist, padding bit required");if(1===n){return{uint8Array:Uint8Array.prototype.slice.call(e,t,r-1),bitLen:8*(i-1)}}const o=Uint8Array.prototype.slice.call(e,t,r),s=n.toString(2).length-1,a=8*(i-1)+s,c=255>>8-s;return o[i-1]&=c,{uint8Array:o,bitLen:a}}(e,t,r);if(i>this.limitBits)throw Error(`bitLen over limit ${i} > ${this.limitBits}`);return{uint8Array:n,bitLen:i}}}function l(e){const t=Math.ceil(e/8);return e%8==0?t+1:t}function d(e,t,r){const n=t+Math.ceil(r/8);return r%8==0?(e[n]=1,n+1):(e[n-1]|=1<<r%8,n)}r.BitListType=u}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/bitList.js"}],[2450,{"./and":2448,"./create":2449,"./modify":2451,"./nand":2452,"./nor":2453,"./not":2454,"./or":2455,"./read":2458,"./read-int":2456,"./read-u-int":2457,"./xnor":2459,"./xor":2460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xor=r.xnor=r.readUInt=r.readInt=r.read=r.or=r.not=r.nor=r.nand=r.modify=r.create=r.and=void 0;var n=e("./and");r.and=n.default;var i=e("./create");r.create=i.default;var o=e("./modify");r.modify=o.default;var s=e("./nand");r.nand=s.default;var a=e("./nor");r.nor=a.default;var c=e("./not");r.not=c.default;var u=e("./or");r.or=u.default;var l=e("./read");r.read=l.default;var d=e("./read-int");r.readInt=d.default;var h=e("./read-u-int");r.readUInt=h.default;var f=e("./xnor");r.xnor=f.default;var p=e("./xor");r.xor=p.default,r.default={and:n.default,create:i.default,modify:o.default,nand:s.default,nor:a.default,not:c.default,or:u.default,read:l.default,readInt:d.default,readUInt:h.default,xnor:f.default,xor:p.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/index.js"}],[2451,{"../byte/write":2463,"./read":2458},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("../byte/write"),i=e("./read");r.default=function(e,t,r){void 0===r&&(r=0);for(var o=Math.floor(r/8),s=Math.ceil((r+t.length)/8),a=e.slice(o,s),c=i.default(a),u=r%8,l=0;l<t.length;l++)c[u++]=t[l];for(var d=s-o,h=0;h<d;h++)a[h]=n.default(c.slice(8*h,8*(h+1)))}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/modify.js"}],[2452,{buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,n){void 0===n&&(n=!1);for(var i=n?r.length:t.length,o=e.alloc(i),s=0;s<i;s++){var a=n?s%t.length:s;o[s]=~(t[a]&r[s])}return o}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/nand.js"}],[2453,{buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,n){void 0===n&&(n=!1);for(var i=n?r.length:t.length,o=e.alloc(i),s=0;s<i;s++){var a=n?s%t.length:s;o[s]=~(t[a]|r[s])}return o}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/nor.js"}],[2454,{buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){for(var r=e.alloc(t.length),n=0;n<t.length;n++)r[n]=~t[n];return r}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/not.js"}],[2455,{buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,n){void 0===n&&(n=!1);for(var i=n?r.length:t.length,o=e.alloc(i),s=0;s<i;s++){var a=n?s%t.length:s;o[s]=t[a]|r[s]}return o}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/or.js"}],[2456,{"../bits/not":2436,"../utilities":2474,"./read":2458},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("../utilities"),i=e("../bits/not"),o=e("./read");r.default=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=8);var s=o.default(e,t,r);if(0===s[0]){for(var a=0,c=0;c<r;c++)s[c]&&(a+=n.p2[r-c-1]);return a}a=-1;var u=i.default(s);for(c=0;c<r;c++)u[c]&&(a-=n.p2[r-c-1]);return a}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/read-int.js"}],[2457,{"../utilities":2474,"./read":2458},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("../utilities"),i=e("./read");r.default=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=8);for(var o=i.default(e,t,r),s=0,a=0;a<r;a++)s+=o[a]*n.p2[r-a-1];return s}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/read-u-int.js"}],[2458,{"../byte/read":2462},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("../byte/read");r.default=function(e,t,r){void 0===t&&(t=0),r||(r=8*e.length-t);var i=Math.floor(t/8),o=Math.floor(r/8)+2,s=[];s.length=8*o;for(var a=0;a<o;a++){if(e[i+a]!==undefined){var c=n.default(e[i+a]);s[8*a]=c[0],s[8*a+1]=c[1],s[8*a+2]=c[2],s[8*a+3]=c[3],s[8*a+4]=c[4],s[8*a+5]=c[5],s[8*a+6]=c[6],s[8*a+7]=c[7]}}var u=t%8;return s.slice(u,u+r)}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/read.js"}],[2459,{buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,n){void 0===n&&(n=!1);for(var i=n?r.length:t.length,o=e.alloc(i),s=0;s<i;s++){var a=n?s%t.length:s;o[s]=~(t[a]^r[s])}return o}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/xnor.js"}],[246,{"../util/merkleize":262,"../util/named":263,"../value/bitArray":266,"./bitArray":244,"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BitVectorType=void 0;const n=e("@chainsafe/persistent-merkle-tree"),i=e("../util/merkleize"),o=e("../util/named"),s=e("../value/bitArray"),a=e("./bitArray");class c extends a.BitArrayType{constructor(e,t){if(super(),this.lengthBits=e,this.isList=!1,0===e)throw Error("Vector length must be > 0");this.typeName=t?.typeName??`BitVector[${e}]`,this.chunkCount=Math.ceil(this.lengthBits/8/32),this.maxChunkCount=this.chunkCount,this.depth=i.maxChunksToDepth(this.chunkCount),this.fixedSize=Math.ceil(this.lengthBits/8),this.minSize=this.fixedSize,this.maxSize=this.fixedSize,this.zeroBitsMask=e%8==0?0:255&255<<e%8}static named(e,t){return new(o.namedClass(c,t.typeName))(e,t)}defaultValue(){return s.BitArray.fromBitLen(this.lengthBits)}value_serializedSize(){return this.fixedSize}value_serializeToBytes(e,t,r){return e.uint8Array.set(r.uint8Array,t),t+this.fixedSize}value_deserializeFromBytes(e,t,r){return this.assertValidLength(e.uint8Array,t,r),new s.BitArray(Uint8Array.prototype.slice.call(e.uint8Array,t,r),this.lengthBits)}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){const i=n.getNodesAtDepth(r,this.depth,0,this.chunkCount);return n.packedNodeRootsToBytes(e.dataView,t,this.fixedSize,i),t+this.fixedSize}tree_deserializeFromBytes(e,t,r){return this.assertValidLength(e.uint8Array,t,r),n.packedRootsBytesToNode(this.depth,e.dataView,t,r)}tree_getByteLen(){return this.fixedSize}assertValidLength(e,t,r){const n=r-t;if(r-t!==this.fixedSize)throw Error(`Invalid BitVector size ${n} != ${this.fixedSize}`);if(this.zeroBitsMask>0&&(e[r-1]&this.zeroBitsMask)>0)throw Error("BitVector: nonzero bits past length")}}r.BitVectorType=c}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/bitVector.js"}],[2460,{buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r,n){void 0===n&&(n=!1);for(var i=n?r.length:t.length,o=e.alloc(i),s=0;s<i;s++){var a=n?s%t.length:s;o[s]=t[a]^r[s]}return o}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/buffer/xor.js"}],[2461,{"./read":2462,"./write":2463},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.write=r.read=void 0;var n=e("./read");r.read=n.default;var i=e("./write");r.write=i.default,r.default={read:n.default,write:i.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/byte/index.js"}],[2462,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e>255||e<0||~~e!==e)throw new RangeError("invalid byte");for(var t=[0,0,0,0,0,0,0,0],r=0;r<8;r++)t[7-r]=e>>r&1;return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/byte/read.js"}],[2463,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(!Array.isArray(e)||8!==e.length)throw new RangeError("invalid array length");for(var t=0,r=0;r<8;r++)e[7-r]&&(t|=1<<r);return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/byte/write.js"}],[2464,{"./bits":2433,"./buffer":2450,"./byte":2461,"./integer":2466,"./nibble":2469,"./string":2472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.string=r.nibble=r.integer=r.byte=r.buffer=r.bits=void 0;var n=e("./bits");r.bits=n.default;var i=e("./buffer");r.buffer=i.default;var o=e("./byte");r.byte=o.default;var s=e("./integer");r.integer=s.default;var a=e("./nibble");r.nibble=a.default;var c=e("./string");r.string=c.default;var u={bits:n.default,buffer:i.default,byte:o.default,integer:s.default,nibble:a.default,string:c.default};r.default=u}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/index.js"}],[2465,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){return e>>t&1}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/integer/get-bit.js"}],[2466,{"./get-bit":2465,"./set-bit":2467,"./toggle-bit":2468},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toggleBit=r.setBit=r.getBit=void 0;var n=e("./get-bit");r.getBit=n.default;var i=e("./set-bit");r.setBit=i.default;var o=e("./toggle-bit");r.toggleBit=o.default,r.default={getBit:n.default,setBit:i.default,toggleBit:o.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/integer/index.js"}],[2467,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){return 1===r?e|1<<t:e&~(1<<t)}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/integer/set-bit.js"}],[2468,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){return e^1<<t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/integer/toggle-bit.js"}],[2469,{"./read":2470,"./write":2471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.write=r.read=void 0;var n=e("./read");r.read=n.default;var i=e("./write");r.write=i.default,r.default={read:n.default,write:i.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/nibble/index.js"}],[247,{"../util/named":263,"./basic":243,"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BooleanType=void 0;const n=e("@chainsafe/persistent-merkle-tree"),i=e("../util/named"),o=e("./basic");class s extends o.BasicType{constructor(e){super(),this.byteLength=1,this.itemsPerChunk=32,this.fixedSize=1,this.minSize=1,this.maxSize=1,this.typeName=e?.typeName??"boolean"}static named(e){return new(i.namedClass(s,e.typeName))(e)}defaultValue(){return!1}value_serializeToBytes(e,t,r){return e.uint8Array[t]=r?1:0,t+1}value_deserializeFromBytes(e,t,r){switch(this.assertValidSize(r-t),e.uint8Array[t]){case 1:return!0;case 0:return!1;default:throw new Error(`Boolean: invalid value: ${e.uint8Array[t]}`)}}tree_serializeToBytes(e,t,r){return e.uint8Array[t]=r.getUint(4,0),t+1}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);const i=e.uint8Array[t];if(i>1)throw Error(`Boolean: invalid value ${i}`);return n.LeafNode.fromUint32(i)}tree_getFromNode(e){return 1===e.getUint(4,0)}tree_setToNode(e,t){e.setUint(4,0,t?1:0)}tree_getFromPackedNode(e,t){const r=t%this.itemsPerChunk;return 0!==e.getUint(1,r)}tree_setToPackedNode(e,t,r){const n=t%this.itemsPerChunk;e.setUint(1,n,r?1:0)}fromJson(e){if("boolean"!=typeof e)throw Error(`JSON invalid type ${typeof e} expected boolean`);return e}toJson(e){return e}}r.BooleanType=s}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/boolean.js"}],[2470,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e<16&&e>=0&&Math.floor(e)===e){for(var t=[0,0,0,0],r=0;r<4;r++)t[3-r]=e>>r&1;return t}throw new RangeError("invalid array length")}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/nibble/read.js"}],[2471,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(!Array.isArray(e)||4!==e.length)throw new RangeError("invalid array length");for(var t=0,r=0;r<4;r++)e[3-r]&&(t|=1<<r);return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/nibble/write.js"}],[2472,{"./to-bits":2473},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toBits=void 0;var n=e("./to-bits");r.toBits=n.default,r.default={toBits:n.default}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/string/index.js"}],[2473,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){for(var t=[],r=0;r<e.length;r++)"1"===e[r]?t.push(1):"0"===e[r]&&t.push(0);return t}}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/string/to-bits.js"}],[2474,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.p2=void 0,r.p2=[];for(var n=0;n<32;n++)r.p2[n]=Math.pow(2,n)}}},{package:"eth-lattice-keyring>gridplus-sdk>bitwise",file:"node_modules/bitwise/utilities.js"}],[248,{"../util/byteArray":261,"../util/merkleize":262,"./composite":251,"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ByteArrayType=void 0;const n=e("@chainsafe/persistent-merkle-tree"),i=e("../util/byteArray"),o=e("../util/merkleize"),s=e("./composite");class a extends s.CompositeType{constructor(){super(...arguments),this.isViewMutable=!1}defaultValue(){return new Uint8Array(this.minSize)}getView(e){return this.getViewDU(e.rootNode)}getViewDU(e){return this.tree_toValue(e)}commitView(e){return this.commitViewDU(e)}commitViewDU(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),this.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}cacheOfViewDU(){}toView(e){return e}toViewDU(e){return e}value_serializeToBytes(e,t,r){return e.uint8Array.set(r,t),t+r.length}value_deserializeFromBytes(e,t,r){return this.assertValidSize(r-t),Uint8Array.prototype.slice.call(e.uint8Array,t,r)}getRoots(e){return o.splitIntoRootChunks(e)}getPropertyGindex(){return null}getPropertyType(){throw Error("Must only request ByteArray complete data")}getIndexProperty(){throw Error("Must only request ByteArray complete data")}tree_fromProofNode(e){return{node:e,done:!0}}tree_getLeafGindices(e,t){const r=this.tree_getByteLen(t),i=Math.ceil(r/32),o=n.concatGindices([e,n.toGindex(this.depth,BigInt(0))]),a=new Array(i);for(let e=0,t=o;e<i;e++,t++)a[e]=t;return this.isList&&a.push(n.concatGindices([e,s.LENGTH_GINDEX])),a}fromJson(e){const t=i.fromHexString(e);return this.assertValidSize(t.length),t}toJson(e){return i.toHexString(e)}clone(e){return e}equals(e,t){return i.byteArrayEquals(e,t)}}r.ByteArrayType=a}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/byteArray.js"}],[249,{"../util/merkleize":262,"../util/named":263,"./arrayBasic":241,"./byteArray":248,"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ByteListType=void 0;const n=e("@chainsafe/persistent-merkle-tree"),i=e("../util/merkleize"),o=e("../util/named"),s=e("./arrayBasic"),a=e("./byteArray");class c extends a.ByteArrayType{constructor(e,t){if(super(),this.limitBytes=e,this.fixedSize=null,this.isList=!0,0===e)throw Error("List limit must be > 0");this.typeName=t?.typeName??`ByteList[${e}]`,this.maxChunkCount=Math.ceil(this.limitBytes/32),this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=1+this.chunkDepth,this.minSize=0,this.maxSize=this.limitBytes}static named(e,t){return new(o.namedClass(c,t.typeName))(e,t)}value_serializedSize(e){return e.length}tree_serializedSize(e){return s.getLengthFromRootNode(e)}tree_serializeToBytes(e,t,r){const i=s.getChunksNodeFromRootNode(r),o=s.getLengthFromRootNode(r),a=Math.ceil(o/32),c=n.getNodesAtDepth(i,this.chunkDepth,0,a);return n.packedNodeRootsToBytes(e.dataView,t,o,c),t+o}tree_deserializeFromBytes(e,t,r){this.assertValidSize(r-t);const i=n.packedRootsBytesToNode(this.chunkDepth,e.dataView,t,r);return s.addLengthNode(i,r-t)}tree_getByteLen(e){if(!e)throw new Error("ByteListType requires a node to get leaves");return s.getLengthFromRootNode(e)}hashTreeRoot(e){return i.mixInLength(super.hashTreeRoot(e),e.length)}assertValidSize(e){if(e>this.limitBytes)throw Error(`ByteList invalid size ${e} limit ${this.limitBytes}`)}}r.ByteListType=c}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/byteList.js"}],[2493,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){!function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,f=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(t=e[n++]+"",r=u-t.length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var r,n,i=e.c,o=t.c,s=e.s,a=t.s,c=e.e,u=t.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=c==u,!i||!o)return n?0:!i^r?1:-1;if(!n)return c>u^r?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return c==u?0:c>u^r?1:-1}function y(e,t,r,n){if(e<t||e>r||e!==o(e))throw Error(s+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function b(e){var t=e.c.length-1;return p(e.e/u)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function v(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}r=function e(t){var r,_,T,k,S,E,N,O,C,I,P=H.prototype={constructor:H,toString:null,valueOf:null},A=new H(1),j=20,R=4,M=-7,x=21,z=-1e7,B=1e7,L=!1,D=1,U=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},V="0123456789abcdefghijklmnopqrstuvwxyz",$=!0;function H(e,t){var r,i,s,c,d,h,f,p,m=this;if(!(m instanceof H))return new H(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>B?m.c=m.e=null:e.e<z?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,d=e;d>=10;d/=10,c++);return void(c>B?m.c=m.e=null:(m.e=c,m.c=[e]))}p=String(e)}else{if(!n.test(p=String(e)))return T(m,p,h);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(c=p.indexOf("."))>-1&&(p=p.replace(".","")),(d=p.search(/e/i))>0?(c<0&&(c=d),c+=+p.slice(d+1),p=p.substring(0,d)):c<0&&(c=p.length)}else{if(y(t,2,V.length,"Base"),10==t&&$)return J(m=new H(e),j+m.e+1,R);if(p=String(e),h="number"==typeof e){if(0*e!=0)return T(m,p,h,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,H.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=V.slice(0,t),c=d=0,f=p.length;d<f;d++)if(r.indexOf(i=p.charAt(d))<0){if("."==i){if(d>c){c=f;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,d=-1,c=0;continue}return T(m,String(e),h,t)}h=!1,(c=(p=_(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):c=p.length}for(d=0;48===p.charCodeAt(d);d++);for(f=p.length;48===p.charCodeAt(--f););if(p=p.slice(d,++f)){if(f-=d,h&&H.DEBUG&&f>15&&(e>l||e!==o(e)))throw Error(a+m.s*e);if((c=c-d-1)>B)m.c=m.e=null;else if(c<z)m.c=[m.e=0];else{if(m.e=c,m.c=[],d=(c+1)%u,c<0&&(d+=u),d<f){for(d&&m.c.push(+p.slice(0,d)),f-=u;d<f;)m.c.push(+p.slice(d,d+=u));d=u-(p=p.slice(d)).length}else d-=f;for(;d--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function G(e,t,r,n){var i,o,s,a,c;if(null==r?r=R:y(r,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=m(e.c),c=1==n||2==n&&(s<=M||s>=x)?w(c,s):v(c,s,"0");else if(o=(e=J(new H(e),t,r)).e,a=(c=m(e.c)).length,1==n||2==n&&(t<=o||o<=M)){for(;a<t;c+="0",a++);c=w(c,o)}else if(t-=s,c=v(c,o,"0"),o+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=o-a)>0)for(o+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function q(e,t){for(var r,n=1,i=new H(e[0]);n<e.length;n++){if(!(r=new H(e[n])).s){i=r;break}t.call(i,r)&&(i=r)}return i}function W(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*u-1)>B?e.c=e.e=null:r<z?e.c=[e.e=0]:(e.e=r,e.c=t),e}function J(e,t,r,n){var s,a,l,h,f,p,m,g=e.c,y=d;if(g){e:{for(s=1,h=g[0];h>=10;h/=10,s++);if((a=t-s)<0)a+=u,l=t,m=(f=g[p=0])/y[s-l-1]%10|0;else if((p=i((a+1)/u))>=g.length){if(!n)break e;for(;g.length<=p;g.push(0));f=m=0,s=1,l=(a%=u)-u+1}else{for(f=h=g[p],s=1;h>=10;h/=10,s++);m=(l=(a%=u)-u+s)<0?0:f/y[s-l-1]%10|0}if(n=n||t<0||null!=g[p+1]||(l<0?f:f%y[s-l-1]),n=r<4?(m||n)&&(0==r||r==(e.s<0?3:2)):m>5||5==m&&(4==r||n||6==r&&(a>0?l>0?f/y[s-l]:0:g[p-1])%10&1||r==(e.s<0?8:7)),t<1||!g[0])return g.length=0,n?(t-=e.e+1,g[0]=y[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,h=1,p--):(g.length=p+1,h=y[u-a],g[p]=l>0?o(f/y[s-l]%y[l])*h:0),n)for(;;){if(0==p){for(a=1,l=g[0];l>=10;l/=10,a++);for(l=g[0]+=h,h=1;l>=10;l/=10,h++);a!=h&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[p]+=h,g[p]!=c)break;g[p--]=0,h=1}for(a=g.length;0===g[--a];g.pop());}e.e>B?e.c=e.e=null:e.e<z&&(e.c=[e.e=0])}return e}function Q(e){var t,r=e.e;return null===r?e.toString():(t=m(e.c),t=r<=M||r>=x?w(t,r):v(t,r,"0"),e.s<0?"-"+t:t)}return H.clone=e,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(r=e[t],0,f,t),j=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(r=e[t],0,8,t),R=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(y(r[0],-f,0,t),y(r[1],0,f,t),M=r[0],x=r[1]):(y(r,-f,f,t),M=-(x=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)y(r[0],-f,-1,t),y(r[1],1,f,t),z=r[0],B=r[1];else{if(y(r,-f,f,t),!r)throw Error(s+t+" cannot be zero: "+r);z=-(B=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(s+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw L=!r,Error(s+"crypto unavailable");L=r}else L=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(r=e[t],0,9,t),D=r),e.hasOwnProperty(t="POW_PRECISION")&&(y(r=e[t],0,f,t),U=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(s+t+" not an object: "+r);F=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(s+t+" invalid: "+r);$="0123456789"==r.slice(0,10),V=r}}return{DECIMAL_PLACES:j,ROUNDING_MODE:R,EXPONENTIAL_AT:[M,x],RANGE:[z,B],CRYPTO:L,MODULO_MODE:D,POW_PRECISION:U,FORMAT:F,ALPHABET:V}},H.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!H.DEBUG)return!0;var t,r,n=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-f&&i<=f&&i===o(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%u)<1&&(t+=u),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=c||r!==o(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},H.maximum=H.max=function(){return q(arguments,P.lt)},H.minimum=H.min=function(){return q(arguments,P.gt)},H.random=(k=9007199254740992,S=Math.random()*k&2097151?function(){return o(Math.random()*k)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,a,c,l=0,h=[],p=new H(A);if(null==e?e=j:y(e,0,f),a=i(e/u),L)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(c=131072*t[l]+(t[l+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[l]=r[0],t[l+1]=r[1]):(h.push(c%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw L=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(c=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(h.push(c%1e14),l+=7);l=a/7}if(!L)for(;l<a;)(c=S())<9e15&&(h[l++]=c%1e14);for(a=h[--l],e%=u,a&&e&&(c=d[u-e],h[l]=o(a/c)*c);0===h[l];h.pop(),l--);if(l<0)h=[n=0];else{for(n=-1;0===h[0];h.splice(0,1),n-=u);for(l=1,c=h[0];c>=10;c/=10,l++);l<u&&(n-=u-l)}return p.e=n,p.c=h,p}),H.sum=function(){for(var e=1,t=arguments,r=new H(t[0]);e<t.length;)r=r.plus(t[e++]);return r},_=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,s=[0],a=0,c=e.length;a<c;){for(o=s.length;o--;s[o]*=t);for(s[0]+=n.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var c,u,l,d,h,f,p,g,y=n.indexOf("."),b=j,w=R;for(y>=0&&(d=U,U=0,n=n.replace(".",""),f=(g=new H(i)).pow(n.length-y),U=d,g.c=t(v(m(f.c),f.e,"0"),10,o,e),g.e=g.c.length),l=d=(p=t(n,i,o,a?(c=V,e):(c=e,V))).length;0==p[--d];p.pop());if(!p[0])return c.charAt(0);if(y<0?--l:(f.c=p,f.e=l,f.s=s,p=(f=r(f,g,b,w,o)).c,h=f.r,l=f.e),y=p[u=l+b+1],d=o/2,h=h||u<0||null!=p[u+1],h=w<4?(null!=y||h)&&(0==w||w==(f.s<0?3:2)):y>d||y==d&&(4==w||h||6==w&&1&p[u-1]||w==(f.s<0?8:7)),u<1||!p[0])n=h?v(c.charAt(1),-b,c.charAt(0)):c.charAt(0);else{if(p.length=u,h)for(--o;++p[--u]>o;)p[u]=0,u||(++l,p=[1].concat(p));for(d=p.length;!p[--d];);for(y=0,n="";y<=d;n+=c.charAt(p[y++]));n=v(n,l,c.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,o,s,a=0,c=e.length,u=t%h,l=t/h|0;for(e=e.slice();c--;)a=((i=u*(o=e[c]%h)+(n=l*o+(s=e[c]/h|0)*u)%h*h+a)/r|0)+(n/h|0)+l*s,e[c]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,s,a,l){var d,h,f,m,g,y,b,w,v,_,T,k,S,E,N,O,C,I=n.s==i.s?1:-1,P=n.c,A=i.c;if(!(P&&P[0]&&A&&A[0]))return new H(n.s&&i.s&&(P?!A||P[0]!=A[0]:A)?P&&0==P[0]||!A?0*I:I/0:NaN);for(v=(w=new H(I)).c=[],I=s+(h=n.e-i.e)+1,l||(l=c,h=p(n.e/u)-p(i.e/u),I=I/u|0),f=0;A[f]==(P[f]||0);f++);if(A[f]>(P[f]||0)&&h--,I<0)v.push(1),m=!0;else{for(E=P.length,O=A.length,f=0,I+=2,(g=o(l/(A[0]+1)))>1&&(A=e(A,g,l),P=e(P,g,l),O=A.length,E=P.length),S=O,T=(_=P.slice(0,O)).length;T<O;_[T++]=0);C=A.slice(),C=[0].concat(C),N=A[0],A[1]>=l/2&&N++;do{if(g=0,(d=t(A,_,O,T))<0){if(k=_[0],O!=T&&(k=k*l+(_[1]||0)),(g=o(k/N))>1)for(g>=l&&(g=l-1),b=(y=e(A,g,l)).length,T=_.length;1==t(y,_,b,T);)g--,r(y,O<b?C:A,b,l),b=y.length,d=1;else 0==g&&(d=g=1),b=(y=A.slice()).length;if(b<T&&(y=[0].concat(y)),r(_,y,T,l),T=_.length,-1==d)for(;t(A,_,O,T)<1;)g++,r(_,O<T?C:A,T,l),T=_.length}else 0===d&&(g++,_=[0]);v[f++]=g,_[0]?_[T++]=P[S]||0:(_=[P[S]],T=1)}while((S++<E||null!=_[0])&&I--);m=null!=_[0],v[0]||v.splice(0,1)}if(l==c){for(f=1,I=v[0];I>=10;I/=10,f++);J(w,s+(w.e=f+h*u-1)+1,a,m)}else w.e=h,w.r=+m;return w}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,N=/^([^.]+)\.$/,O=/^\.([^.]+)$/,C=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g,T=function(e,t,r,n){var i,o=r?t:t.replace(I,"");if(C.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(E,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,o=o.replace(N,"$1").replace(O,"0.$1")),t!=o))return new H(o,i);if(H.DEBUG)throw Error(s+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},P.absoluteValue=P.abs=function(){var e=new H(this);return e.s<0&&(e.s=1),e},P.comparedTo=function(e,t){return g(this,new H(e,t))},P.decimalPlaces=P.dp=function(e,t){var r,n,i,o=this;if(null!=e)return y(e,0,f),null==t?t=R:y(t,0,8),J(new H(o),e+o.e+1,t);if(!(r=o.c))return null;if(n=((i=r.length-1)-p(this.e/u))*u,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},P.dividedBy=P.div=function(e,t){return r(this,new H(e,t),j,R)},P.dividedToIntegerBy=P.idiv=function(e,t){return r(this,new H(e,t),0,1)},P.exponentiatedBy=P.pow=function(e,t){var r,n,a,c,l,d,h,f,p=this;if((e=new H(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+Q(e));if(null!=t&&(t=new H(t)),l=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return f=new H(Math.pow(+Q(p),l?e.s*(2-b(e)):+Q(e))),t?f.mod(t):f;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new H(NaN);(n=!d&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return c=p.s<0&&b(e)?-0:0,p.e>-1&&(c=1/c),new H(d?1/c:c);U&&(c=i(U/u+2))}for(l?(r=new H(.5),d&&(e.s=1),h=b(e)):h=(a=Math.abs(+Q(e)))%2,f=new H(A);;){if(h){if(!(f=f.times(p)).c)break;c?f.c.length>c&&(f.c.length=c):n&&(f=f.mod(t))}if(a){if(0===(a=o(a/2)))break;h=a%2}else if(J(e=e.times(r),e.e+1,1),e.e>14)h=b(e);else{if(0===(a=+Q(e)))break;h=a%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):n&&(p=p.mod(t))}return n?f:(d&&(f=A.div(f)),t?f.mod(t):c?J(f,U,R,undefined):f)},P.integerValue=function(e){var t=new H(this);return null==e?e=R:y(e,0,8),J(t,t.e+1,e)},P.isEqualTo=P.eq=function(e,t){return 0===g(this,new H(e,t))},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(e,t){return g(this,new H(e,t))>0},P.isGreaterThanOrEqualTo=P.gte=function(e,t){return 1===(t=g(this,new H(e,t)))||0===t},P.isInteger=function(){return!!this.c&&p(this.e/u)>this.c.length-2},P.isLessThan=P.lt=function(e,t){return g(this,new H(e,t))<0},P.isLessThanOrEqualTo=P.lte=function(e,t){return-1===(t=g(this,new H(e,t)))||0===t},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.minus=function(e,t){var r,n,i,o,s=this,a=s.s;if(t=(e=new H(e,t)).s,!a||!t)return new H(NaN);if(a!=t)return e.s=-t,s.plus(e);var l=s.e/u,d=e.e/u,h=s.c,f=e.c;if(!l||!d){if(!h||!f)return h?(e.s=-t,e):new H(f?s:NaN);if(!h[0]||!f[0])return f[0]?(e.s=-t,e):new H(h[0]?s:3==R?-0:0)}if(l=p(l),d=p(d),h=h.slice(),a=l-d){for((o=a<0)?(a=-a,i=h):(d=l,i=f),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=h.length)<(t=f.length))?a:t,a=t=0;t<n;t++)if(h[t]!=f[t]){o=h[t]<f[t];break}if(o&&(i=h,h=f,f=i,e.s=-e.s),(t=(n=f.length)-(r=h.length))>0)for(;t--;h[r++]=0);for(t=c-1;n>a;){if(h[--n]<f[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r],h[n]+=c}h[n]-=f[n]}for(;0==h[0];h.splice(0,1),--d);return h[0]?W(e,h,d):(e.s=3==R?-1:1,e.c=[e.e=0],e)},P.modulo=P.mod=function(e,t){var n,i,o=this;return e=new H(e,t),!o.c||!e.s||e.c&&!e.c[0]?new H(NaN):!e.c||o.c&&!o.c[0]?new H(o):(9==D?(i=e.s,e.s=1,n=r(o,e,0,3),e.s=i,n.s*=i):n=r(o,e,0,D),(e=o.minus(n.times(e))).c[0]||1!=D||(e.s=o.s),e)},P.multipliedBy=P.times=function(e,t){var r,n,i,o,s,a,l,d,f,m,g,y,b,w,v,_=this,T=_.c,k=(e=new H(e,t)).c;if(!(T&&k&&T[0]&&k[0]))return!_.s||!e.s||T&&!T[0]&&!k||k&&!k[0]&&!T?e.c=e.e=e.s=null:(e.s*=_.s,T&&k?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=p(_.e/u)+p(e.e/u),e.s*=_.s,(l=T.length)<(m=k.length)&&(b=T,T=k,k=b,i=l,l=m,m=i),i=l+m,b=[];i--;b.push(0));for(w=c,v=h,i=m;--i>=0;){for(r=0,g=k[i]%v,y=k[i]/v|0,o=i+(s=l);o>i;)r=((d=g*(d=T[--s]%v)+(a=y*d+(f=T[s]/v|0)*g)%v*v+b[o]+r)/w|0)+(a/v|0)+y*f,b[o--]=d%w;b[o]=r}return r?++n:b.splice(0,1),W(e,b,n)},P.negated=function(){var e=new H(this);return e.s=-e.s||null,e},P.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new H(e,t)).s,!i||!t)return new H(NaN);if(i!=t)return e.s=-t,n.minus(e);var o=n.e/u,s=e.e/u,a=n.c,l=e.c;if(!o||!s){if(!a||!l)return new H(i/0);if(!a[0]||!l[0])return l[0]?e:new H(a[0]?n:0*i)}if(o=p(o),s=p(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=l):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=l.length)<0&&(r=l,l=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+l[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++s),W(e,a,s)},P.precision=P.sd=function(e,t){var r,n,i,o=this;if(null!=e&&e!==!!e)return y(e,1,f),null==t?t=R:y(t,0,8),J(new H(o),e,t);if(!(r=o.c))return null;if(n=(i=r.length-1)*u+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&o.e+1>n&&(n=o.e+1),n},P.shiftedBy=function(e){return y(e,-9007199254740991,l),this.times("1e"+e)},P.squareRoot=P.sqrt=function(){var e,t,n,i,o,s=this,a=s.c,c=s.s,u=s.e,l=j+4,d=new H("0.5");if(1!==c||!a||!a[0])return new H(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+Q(s)))||c==1/0?(((t=m(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=p((u+1)/2)-(u<0||u%2),n=new H(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new H(c+""),n.c[0])for((c=(u=n.e)+l)<3&&(c=0);;)if(o=n,n=d.times(o.plus(r(s,o,l,1))),m(o.c).slice(0,c)===(t=m(n.c)).slice(0,c)){if(n.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(J(n,n.e+j+2,1),e=!n.times(n).eq(s));break}if(!i&&(J(o,o.e+j+2,0),o.times(o).eq(s))){n=o;break}l+=4,c+=4,i=1}return J(n,n.e+j+1,R,e)},P.toExponential=function(e,t){return null!=e&&(y(e,0,f),e++),G(this,e,t,1)},P.toFixed=function(e,t){return null!=e&&(y(e,0,f),e=e+this.e+1),G(this,e,t)},P.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=F;else if("object"!=typeof r)throw Error(s+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var o,a=n.split("."),c=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",d=a[0],h=a[1],f=i.s<0,p=f?d.slice(1):d,m=p.length;if(u&&(o=c,c=u,u=o,m-=o),c>0&&m>0){for(o=m%c||c,d=p.substr(0,o);o<m;o+=c)d+=l+p.substr(o,c);u>0&&(d+=l+p.slice(o)),f&&(d="-"+d)}n=h?d+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):d}return(r.prefix||"")+n+(r.suffix||"")},P.toFraction=function(e){var t,n,i,o,a,c,l,h,f,p,g,y,b=this,w=b.c;if(null!=e&&(!(l=new H(e)).isInteger()&&(l.c||1!==l.s)||l.lt(A)))throw Error(s+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+Q(l));if(!w)return new H(b);for(t=new H(A),f=n=new H(A),i=h=new H(A),y=m(w),a=t.e=y.length-b.e-1,t.c[0]=d[(c=a%u)<0?u+c:c],e=!e||l.comparedTo(t)>0?a>0?t:f:l,c=B,B=1/0,l=new H(y),h.c[0]=0;p=r(l,t,0,1),1!=(o=n.plus(p.times(i))).comparedTo(e);)n=i,i=o,f=h.plus(p.times(o=f)),h=o,t=l.minus(p.times(o=t)),l=o;return o=r(e.minus(n),i,0,1),h=h.plus(o.times(f)),n=n.plus(o.times(i)),h.s=f.s=b.s,g=r(f,i,a*=2,R).minus(b).abs().comparedTo(r(h,n,a,R).minus(b).abs())<1?[f,i]:[h,n],B=c,g},P.toNumber=function(){return+Q(this)},P.toPrecision=function(e,t){return null!=e&&y(e,1,f),G(this,e,t,2)},P.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=M||i>=x?w(m(r.c),i):v(m(r.c),i,"0"):10===e&&$?t=v(m((r=J(new H(r),j+i+1,R)).c),r.e,"0"):(y(e,2,V.length,"Base"),t=_(v(m(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},P.valueOf=P.toJSON=function(){return Q(this)},P._isBigNumber=!0,null!=t&&H.set(t),H}(),r.default=r.BigNumber=r,"function"==typeof define&&define.amd?define((function(){return r})):void 0!==t&&t.exports?t.exports=r:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=r)}(this)}}},{package:"eth-lattice-keyring>gridplus-sdk>borc>bignumber.js",file:"node_modules/borc/node_modules/bignumber.js/bignumber.js"}],[2494,{"bignumber.js":2493},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("bignumber.js").BigNumber;r.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},r.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},r.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},r.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},r.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},r.SHIFT32=Math.pow(2,32),r.SHIFT16=Math.pow(2,16),r.MAX_SAFE_HIGH=2097151,r.NEG_ONE=new n(-1),r.TEN=new n(10),r.TWO=new n(2),r.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/constants.js"}],[2495,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){var n=new e.Uint8Array(r),i=t.pushInt,o=t.pushInt32,s=t.pushInt32Neg,a=t.pushInt64,c=t.pushInt64Neg,u=t.pushFloat,l=t.pushFloatSingle,d=t.pushFloatDouble,h=t.pushTrue,f=t.pushFalse,p=t.pushUndefined,m=t.pushNull,g=t.pushInfinity,y=t.pushInfinityNeg,b=t.pushNaN,w=t.pushNaNNeg,v=t.pushArrayStart,_=t.pushArrayStartFixed,T=t.pushArrayStartFixed32,k=t.pushArrayStartFixed64,S=t.pushObjectStart,E=t.pushObjectStartFixed,N=t.pushObjectStartFixed32,O=t.pushObjectStartFixed64,C=t.pushByteString,I=t.pushByteStringStart,P=t.pushUtf8String,A=t.pushUtf8StringStart,j=t.pushSimpleUnassigned,R=t.pushTagStart,M=t.pushTagStart4,x=t.pushTagStart8,z=(t.pushTagUnassigned,t.pushBreak),B=e.Math.pow,L=0,D=0,U=0;function F(e){return((0|L)+(0|(e|=0))|0)<(0|D)?0:1}function V(e){return n[0|(e|=0)]<<8|n[e+1|0]|0}function $(e){return n[0|(e|=0)]<<24|n[e+1|0]<<16|n[e+2|0]<<8|n[e+3|0]|0}function H(e){return i(0|(e|=0)),L=L+1|0,0}function G(e){return i(-1-((e|=0)-32|0)|0),L=L+1|0,0}function q(e){var t,r;return 0|F(0|(r=(e|=0)-64|0))?1:(C(0|(L+1|0),0|(t=(L+1|0)+(0|r)|0)),L=0|t,0)}function W(e){var t,r;return 0|F(0|(r=(e|=0)-96|0))?1:(P(0|(L+1|0),0|(t=(L+1|0)+(0|r)|0)),L=0|t,0)}function J(e){return _((e|=0)-128|0),L=L+1|0,0}function Q(e){var t;return 0|F(0|(t=(e|=0)-160|0))?1:(E(0|t),L=L+1|0,0)}function K(e){return R(0|(e|=0)-192),L=L+1|0,0}function Y(e){return R(0|(e|=0)-192),L=L+1|0,0}function Z(e){return j((0|(e|=0))-224|0),L=L+1|0,0}function X(e){return 0,1}var ee=[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,function(e){return 0,0|F(1)?1:(i(0|n[L+1|0]),L=L+2|0,0)},function(e){return 0,0|F(2)?1:(i(0|V(L+1|0)),L=L+3|0,0)},function(e){return 0,0|F(4)?1:(o(0|V(L+1|0),0|V(L+3|0)),L=L+5|0,0)},function(e){return 0,0|F(8)?1:(a(0|V(L+1|0),0|V(L+3|0),0|V(L+5|0),0|V(L+7|0)),L=L+9|0,0)},X,X,X,X,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,function(e){return 0,0|F(1)?1:(i(-1-(0|n[L+1|0])|0),L=L+2|0,0)},function(e){var t;return 0|F(2)?1:(t=0|V(L+1|0),i(-1-(0|t)|0),L=L+3|0,0)},function(e){return 0,0|F(4)?1:(s(0|V(L+1|0),0|V(L+3|0)),L=L+5|0,0)},function(e){return 0,0|F(8)?1:(c(0|V(L+1|0),0|V(L+3|0),0|V(L+5|0),0|V(L+7|0)),L=L+9|0,0)},X,X,X,X,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,function(e){var t,r,i;return 0|F(1)?1:(i=0|n[L+1|0],t=L+2|0,r=(L+2|0)+(0|i)|0,0|F(i+1|0)?1:(C(0|t,0|r),L=0|r,0))},function(e){var t,r,n;return 0|F(2)?1:(n=0|V(L+1|0),t=L+3|0,r=(L+3|0)+(0|n)|0,0|F(n+2|0)?1:(C(0|t,0|r),L=0|r,0))},function(e){var t,r,n;return 0|F(4)?1:(n=0|$(L+1|0),t=L+5|0,r=(L+5|0)+(0|n)|0,0|F(n+4|0)?1:(C(0|t,0|r),L=0|r,0))},function(e){return 0,1},X,X,X,function(e){return 0,I(),L=L+1|0,0},W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,W,function(e){var t,r,i;return 0|F(1)?1:(i=0|n[L+1|0],t=L+2|0,r=(L+2|0)+(0|i)|0,0|F(i+1|0)?1:(P(0|t,0|r),L=0|r,0))},function(e){var t,r,n;return 0|F(2)?1:(n=0|V(L+1|0),t=L+3|0,r=(L+3|0)+(0|n)|0,0|F(n+2|0)?1:(P(0|t,0|r),L=0|r,0))},function(e){var t,r,n;return 0|F(4)?1:(n=0|$(L+1|0),t=L+5|0,r=(L+5|0)+(0|n)|0,0|F(n+4|0)?1:(P(0|t,0|r),L=0|r,0))},function(e){return 0,1},X,X,X,function(e){return 0,A(),L=L+1|0,0},J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,function(e){return 0,0|F(1)?1:(_(0|n[L+1|0]),L=L+2|0,0)},function(e){return 0,0|F(2)?1:(_(0|V(L+1|0)),L=L+3|0,0)},function(e){return 0,0|F(4)?1:(T(0|V(L+1|0),0|V(L+3|0)),L=L+5|0,0)},function(e){return 0,0|F(8)?1:(k(0|V(L+1|0),0|V(L+3|0),0|V(L+5|0),0|V(L+7|0)),L=L+9|0,0)},X,X,X,function(e){return 0,v(),L=L+1|0,0},Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,function(e){return 0,0|F(1)?1:(E(0|n[L+1|0]),L=L+2|0,0)},function(e){return 0,0|F(2)?1:(E(0|V(L+1|0)),L=L+3|0,0)},function(e){return 0,0|F(4)?1:(N(0|V(L+1|0),0|V(L+3|0)),L=L+5|0,0)},function(e){return 0,0|F(8)?1:(O(0|V(L+1|0),0|V(L+3|0),0|V(L+5|0),0|V(L+7|0)),L=L+9|0,0)},X,X,X,function(e){return 0,S(),L=L+1|0,0},K,K,K,K,K,K,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,function(e){return 0,0|F(1)?1:(R(0|n[L+1|0]),L=L+2|0,0)},function(e){return 0,0|F(2)?1:(R(0|V(L+1|0)),L=L+3|0,0)},function(e){return 0,0|F(4)?1:(M(0|V(L+1|0),0|V(L+3|0)),L=L+5|0,0)},function(e){return 0,0|F(8)?1:(x(0|V(L+1|0),0|V(L+3|0),0|V(L+5|0),0|V(L+7|0)),L=L+9|0,0)},X,X,X,X,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,function(e){return 0,f(),L=L+1|0,0},function(e){return 0,h(),L=L+1|0,0},function(e){return 0,m(),L=L+1|0,0},function(e){return 0,p(),L=L+1|0,0},function(e){return 0,0|F(1)?1:(j(0|n[L+1|0]),L=L+2|0,0)},function(e){var t,r,i,o=1;return 0|F(2)?1:(128&(0|(t=0|n[L+1|0]))&&(o=-1),i=+((3&(0|t))<<8|(0|n[L+2|0])),0==+(r=+((124&(0|t))>>2))?u(5.960464477539063e-8*+o*+i):31==+r?1==+o?+i>0?b():g():+i>0?w():y():u(+ +o*B(2,+(+r-25))*+(1024+i)),L=L+3|0,0)},function(e){return 0,0|F(4)?1:(l(0|n[L+1|0],0|n[L+2|0],0|n[L+3|0],0|n[L+4|0]),L=L+5|0,0)},function(e){return 0,0|F(8)?1:(d(0|n[L+1|0],0|n[L+2|0],0|n[L+3|0],0|n[L+4|0],0|n[L+5|0],0|n[L+6|0],0|n[L+7|0],0|n[L+8|0]),L=L+9|0,0)},X,X,X,function(e){return 0,z(),L=L+1|0,0}];return{parse:function(e){for(L=0,D=e|=0;(0|L)<(0|D)&&!((0|(U=0|ee[255&n[L]](0|n[L])))>0););return 0|U}}}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/decoder.asm.js"}],[2496,{"./constants":2494,"./decoder.asm":2495,"./simple":2500,"./tagged":2501,"./utils":2502,"bignumber.js":2493,buffer:2541,ieee754:3440,"iso-url":3460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),i=e("ieee754"),o=e("bignumber.js").BigNumber,s=e("./decoder.asm"),a=e("./utils"),c=e("./constants"),u=e("./simple"),l=e("./tagged"),{URL:d}=e("iso-url");class h{constructor(e){!(e=e||{}).size||e.size<65536?e.size=65536:e.size=a.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=n.from(this._heap),this._reset(),this._knownTags=Object.assign({0:e=>new Date(e),1:e=>new Date(1e3*e),2:e=>a.arrayBufferToBignumber(e),3:e=>c.NEG_ONE.minus(a.arrayBufferToBignumber(e)),4:e=>c.TEN.pow(e[0]).times(e[1]),5:e=>c.TWO.pow(e[0]).times(e[1]),32:e=>new d(e),35:e=>new RegExp(e)},e.tags),this.parser=s(global,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case c.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case c.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case c.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case c.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case c.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case c.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length))}this._currentParent&&this._currentParent.type===c.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,0===e.length&&this._closeParent())}_push(e,t){const r=this._currentParent;switch(r.values++,r.type){case c.PARENT.ARRAY:case c.PARENT.BYTE_STRING:case c.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case c.PARENT.OBJECT:null!=r.tmpKey?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,"string"!=typeof r.tmpKey&&(r.type=c.PARENT.MAP,r.ref=a.buildMap(r.ref)));break;case c.PARENT.MAP:null!=r.tmpKey?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case c.PARENT.TAG:this._ref.push(e),t||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,t,r){this._parents[this._depth]={type:t,length:r,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:c.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,t){const r=this._knownTags[e];return r?r(t):new l(e,t)}createMap(e,t){return e}createObject(e,t){return e}createArray(e,t){return e}createByteString(e,t){return n.concat(e)}createByteStringFromHeap(e,t){return e===t?n.alloc(0):n.from(this._heap.slice(e,t))}createInt(e){return e}createInt32(e,t){return a.buildInt32(e,t)}createInt64(e,t,r,n){return a.buildInt64(e,t,r,n)}createFloat(e){return e}createFloatSingle(e,t,r,n){return i.read([e,t,r,n],0,!1,23,4)}createFloatDouble(e,t,r,n,o,s,a,c){return i.read([e,t,r,n,o,s,a,c],0,!1,52,8)}createInt32Neg(e,t){return-1-a.buildInt32(e,t)}createInt64Neg(e,t,r,n){const i=a.buildInt32(e,t),s=a.buildInt32(r,n);return i>c.MAX_SAFE_HIGH?c.NEG_ONE.minus(new o(i).times(c.SHIFT32).plus(s)):-1-(i*c.SHIFT32+s)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){return undefined}createInfinity(){return Infinity}createInfinityNeg(){return-Infinity}createNaN(){return NaN}createNaNNeg(){return-NaN}createUtf8String(e,t){return e.join("")}createUtf8StringFromHeap(e,t){return e===t?"":this._buffer.toString("utf8",e,t)}createSimpleUnassigned(e){return new u(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,t){this._push(this.createInt32(e,t))}pushInt64(e,t,r,n){this._push(this.createInt64(e,t,r,n))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,t,r,n){this._push(this.createFloatSingle(e,t,r,n))}pushFloatDouble(e,t,r,n,i,o,s,a){this._push(this.createFloatDouble(e,t,r,n,i,o,s,a))}pushInt32Neg(e,t){this._push(this.createInt32Neg(e,t))}pushInt64Neg(e,t,r,n){this._push(this.createInt64Neg(e,t,r,n))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],c.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,t){const r=a.buildInt32(e,t);this._createArrayStartFixed(r)}pushArrayStartFixed64(e,t,r,n){const i=a.buildInt64(e,t,r,n);this._createArrayStartFixed(i)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,t){const r=a.buildInt32(e,t);this._createObjectStartFixed(r)}pushObjectStartFixed64(e,t,r,n){const i=a.buildInt64(e,t,r,n);this._createObjectStartFixed(i)}pushByteStringStart(){this._parents[this._depth]={type:c.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,t){this._push(this.createByteStringFromHeap(e,t))}pushUtf8StringStart(){this._parents[this._depth]={type:c.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,t){this._push(this.createUtf8StringFromHeap(e,t))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:c.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,t){this.pushTagStart(a.buildInt32(e,t))}pushTagStart8(e,t,r,n){this.pushTagStart(a.buildInt64(e,t,r,n))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){0!==e?this._createParent({},c.PARENT.OBJECT,e):this._push(this.createObject({}))}_createArrayStartFixed(e){0!==e?this._createParent(new Array(e),c.PARENT.ARRAY,e):this._push(this.createArray([]))}_decode(e){if(0===e.byteLength)throw new Error("Input too short");this._reset(),this._heap8.set(e);const t=this.parser.parse(e.byteLength);if(this._depth>1){for(;0===this._currentParent.length;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(t>0)throw new Error("Failed to parse");if(0===this._res.length)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,t){"string"==typeof e&&(e=n.from(e,t||"hex"));return new h({size:e.length}).decodeFirst(e)}static decodeAll(e,t){"string"==typeof e&&(e=n.from(e,t||"hex"));return new h({size:e.length}).decodeAll(e)}}h.decodeFirst=h.decode,t.exports=h}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/decoder.js"}],[2497,{"./decoder":2496,"./utils":2502,buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),i=e("./decoder"),o=e("./utils");class s extends i{createTag(e,t){return`${e}(${t})`}createInt(e){return super.createInt(e).toString()}createInt32(e,t){return super.createInt32(e,t).toString()}createInt64(e,t,r,n){return super.createInt64(e,t,r,n).toString()}createInt32Neg(e,t){return super.createInt32Neg(e,t).toString()}createInt64Neg(e,t,r,n){return super.createInt64Neg(e,t,r,n).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const t=super.createFloat(e);return o.isNegativeZero(e)?"-0_1":`${t}_1`}createFloatSingle(e,t,r,n){return`${super.createFloatSingle(e,t,r,n)}_2`}createFloatDouble(e,t,r,n,i,o,s,a){return`${super.createFloatDouble(e,t,r,n,i,o,s,a)}_3`}createByteString(e,t){const r=e.join(", ");return-1===t?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(e,t){return`h'${n.from(super.createByteStringFromHeap(e,t)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,t){const r=super.createArray(e,t);return-1===t?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(e,t){const r=super.createMap(e),n=Array.from(r.keys()).reduce(a(r),"");return-1===t?`{_ ${n}}`:`{${n}}`}createObject(e,t){const r=super.createObject(e),n=Object.keys(r).reduce(a(r),"");return-1===t?`{_ ${n}}`:`{${n}}`}createUtf8String(e,t){const r=e.join(", ");return-1===t?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(e,t){return`"${n.from(super.createUtf8StringFromHeap(e,t)).toString("utf8")}"`}static diagnose(e,t){"string"==typeof e&&(e=n.from(e,t||"hex"));return(new s).decodeFirst(e)}}function a(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}t.exports=s}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/diagnose.js"}],[2498,{"./constants":2494,"./utils":2502,"bignumber.js":2493,buffer:2541,"iso-url":3460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),{URL:i}=e("iso-url"),o=e("bignumber.js").BigNumber,s=e("./utils"),a=e("./constants"),c=a.MT,u=a.NUMBYTES,l=a.SHIFT32,d=a.SYMS,h=a.TAG,f=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.TWO,p=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.FOUR,m=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.EIGHT,g=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.TRUE,y=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.FALSE,b=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.UNDEFINED,w=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.NULL,v=new o("0x20000000000000"),_=n.from("f97e00","hex"),T=n.from("f9fc00","hex"),k=n.from("f97c00","hex");class S{constructor(e){e=e||{},this.streaming="function"==typeof e.stream,this.onData=e.stream,this.semanticTypes=[[i,this._pushUrl],[o,this._pushBigNumber]];const t=e.genTypes||[],r=t.length;for(let e=0;e<r;e++)this.addSemanticType(t[e][0],t[e][1]);this._reset()}addSemanticType(e,t){const r=this.semanticTypes.length;for(let n=0;n<r;n++){if(this.semanticTypes[n][0]===e){const e=this.semanticTypes[n][1];return this.semanticTypes[n][1]=t,e}}return this.semanticTypes.push([e,t]),null}push(e){return!e||(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize()),!0)}pushWrite(e,t,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=t,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(_)}_pushInfinity(e){const t=e<0?T:k;return this.push(t)}_pushFloat(e){const t=n.allocUnsafe(2);if(s.writeHalf(t,e)&&s.parseHalf(t)===e)return this._pushUInt8(f)&&this.push(t);const r=n.allocUnsafe(4);return r.writeFloatBE(e,0),r.readFloatBE(0)===e?this._pushUInt8(p)&&this.push(r):this._pushUInt8(m)&&this._pushDoubleBE(e)}_pushInt(e,t,r){const n=t<<5;return e<24?this._pushUInt8(n|e):e<=255?this._pushUInt8(n|u.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(n|u.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(n|u.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(n|u.EIGHT)&&this._pushUInt32BE(Math.floor(e/l))&&this._pushUInt32BE(e%l):t===c.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,c.NEG_INT,e):this._pushInt(e,c.POS_INT)}_pushNumber(e){switch(!1){case e==e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const t=n.byteLength(e,"utf8");return this._pushInt(t,c.UTF8_STRING)&&this.pushWrite(e,5,t)}_pushBoolean(e){return this._pushUInt8(e?g:y)}_pushUndefined(e){return this._pushUInt8(b)}_pushArray(e,t){const r=t.length;if(!e._pushInt(r,c.ARRAY))return!1;for(let n=0;n<r;n++)if(!e.pushAny(t[n]))return!1;return!0}_pushTag(e){return this._pushInt(e,c.TAG)}_pushDate(e,t){return e._pushTag(h.DATE_EPOCH)&&e.pushAny(Math.round(t/1e3))}_pushBuffer(e,t){return e._pushInt(t.length,c.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(h.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,c.ARRAY))return!1;for(const r of t)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,t){return e._pushTag(h.URI)&&e.pushAny(t.format())}_pushBigint(e){let t=h.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),t=h.NEG_BIGINT);let r=e.toString(16);r.length%2&&(r="0"+r);const i=n.from(r,"hex");return this._pushTag(t)&&this._pushBuffer(this,i)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-Infinity:Infinity);if(t.isInteger())return e._pushBigint(t);if(!e._pushTag(h.DECIMAL_FRAC)||!e._pushInt(2,c.ARRAY))return!1;const r=t.decimalPlaces(),n=t.multipliedBy(new o(10).pow(r));return!!e._pushIntNum(-r)&&(n.abs().isLessThan(v)?e._pushIntNum(n.toNumber()):e._pushBigint(n))}_pushMap(e,t){return!!e._pushInt(t.size,c.MAP)&&this._pushRawMap(t.size,Array.from(t))}_pushObject(e){if(!e)return this._pushUInt8(w);for(var t=this.semanticTypes.length,r=0;r<t;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);var n=e.encodeCBOR;if("function"==typeof n)return n.call(e,this);var i=Object.keys(e),o=i.length;return!!this._pushInt(o,c.MAP)&&this._pushRawMap(o,i.map((t=>[t,e[t]])))}_pushRawMap(e,t){t=t.map((function(e){return e[0]=S.encode(e[0]),e})).sort(s.keySorter);for(var r=0;r<e;r++){if(!this.push(t[r][0]))return!1;if(!this.pushAny(t[r][1]))return!1}return!0}write(e){return this.pushAny(e)}pushAny(e){var t=function(e){return{}.toString.call(e).slice(8,-1)}(e);switch(t){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,n.isBuffer(e)?e:n.from(e));case"Null":return this._pushUInt8(w);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case d.NULL:return this._pushObject(null);case d.UNDEFINED:return this._pushUndefined(undefined);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(0===this.offset)return null;for(var e=this.result,t=this.resultLength,r=this.resultMethod,i=this.offset,o=0,s=0;s<i;s++)o+=t[s];var a=n.allocUnsafe(o),c=0,u=0;for(s=0;s<i;s++){switch(u=t[s],r[s]){case 0:e[s].copy(a,c);break;case 1:a.writeUInt8(e[s],c,!0);break;case 2:a.writeUInt16BE(e[s],c,!0);break;case 3:a.writeUInt32BE(e[s],c,!0);break;case 4:a.writeDoubleBE(e[s],c,!0);break;case 5:a.write(e[s],c,u,"utf8");break;default:throw new Error("unkown method")}c+=u}var l=a;return this._reset(),l}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const t=new S;if(!t.pushAny(e))throw new Error("Failed to encode input");return t.finalize()}}t.exports=S}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/encoder.js"}],[2499,{"./decoder":2496,"./diagnose":2497,"./encoder":2498,"./simple":2500,"./tagged":2501},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){r.Diagnose=e("./diagnose"),r.Decoder=e("./decoder"),r.Encoder=e("./encoder"),r.Simple=e("./simple"),r.Tagged=e("./tagged"),r.decodeAll=r.Decoder.decodeAll,r.decodeFirst=r.Decoder.decodeFirst,r.diagnose=r.Diagnose.diagnose,r.encode=r.Encoder.encode,r.decode=r.Decoder.decode,r.leveldb={decode:r.Decoder.decodeAll,encode:r.Encoder.encode,buffer:!0,name:"cbor"}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/index.js"}],[25,{"../../../shared/constants/hardware-wallets":4350,"../../../shared/constants/network":4354,"../../../shared/constants/preferences":4356,"../../../shared/modules/network.utils":4387,"@metamask/obs-store":1394,"eth-sig-util":2859},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("@metamask/obs-store"),i=e("eth-sig-util"),o=e("../../../shared/constants/network"),s=e("../../../shared/constants/hardware-wallets"),a=e("../../../shared/constants/preferences"),c=e("../../../shared/modules/network.utils");const u={[o.CHAIN_IDS.MAINNET]:!0,[o.CHAIN_IDS.LINEA_MAINNET]:!0},l={[o.CHAIN_IDS.GOERLI]:!0,[o.CHAIN_IDS.SEPOLIA]:!0,[o.CHAIN_IDS.LINEA_GOERLI]:!0};r.default=class{constructor(e={}){const t=Object.values(e.networkConfigurations).reduce(((e,t)=>(e[t.chainId]=!0,e)),{}),r={useBlockie:!1,useNonceField:!1,usePhishDetect:!0,dismissSeedBackUpReminder:!1,disabledRpcMethodPreferences:{eth_sign:!1},useMultiAccountBalanceChecker:!0,useTokenDetection:!1,useNftDetection:!1,use4ByteResolution:!0,useCurrencyRateCheck:!0,openSeaEnabled:!1,advancedGasFee:{},featureFlags:{},incomingTransactionsPreferences:{...u,...t,...l},knownMethodData:{},currentLocale:e.initLangCode,identities:{},lostIdentities:{},forgottenPassword:!1,preferences:{autoLockTimeLimit:undefined,showFiatInTestnets:!1,showTestNetworks:!1,useNativeCurrencyAsPrimaryCurrency:!0,hideZeroBalanceTokens:!1},ipfsGateway:o.IPFS_DEFAULT_GATEWAY_URL,useAddressBarEnsResolution:!0,infuraBlocked:null,ledgerTransportType:window.navigator.hid?s.LedgerTransportTypes.webhid:s.LedgerTransportTypes.u2f,snapRegistryList:{},transactionSecurityCheckEnabled:!1,theme:a.ThemeType.os,isLineaMainnetReleased:!1,...e.initState};this.network=e.network,this._onInfuraIsBlocked=e.onInfuraIsBlocked,this._onInfuraIsUnblocked=e.onInfuraIsUnblocked,this.store=new n.ObservableStore(r),this.store.setMaxListeners(13),this.tokenListController=e.tokenListController,this._subscribeToInfuraAvailability(),e.onAccountRemoved((e=>this.removeAddress(e))),global.setPreference=(e,t)=>this.setFeatureFlag(e,t),this._showShouldLineaMainnetNetwork()}setPasswordForgotten(e){this.store.updateState({forgottenPassword:e})}setUseBlockie(e){this.store.updateState({useBlockie:e})}setUseNonceField(e){this.store.updateState({useNonceField:e})}setUsePhishDetect(e){this.store.updateState({usePhishDetect:e})}setUseMultiAccountBalanceChecker(e){this.store.updateState({useMultiAccountBalanceChecker:e})}setUseTokenDetection(e){this.store.updateState({useTokenDetection:e}),this.tokenListController.updatePreventPollingOnNetworkRestart(!e),e?this.tokenListController.start():(this.tokenListController.clearingTokenListData(),this.tokenListController.stop())}setUseNftDetection(e){this.store.updateState({useNftDetection:e})}setUse4ByteResolution(e){this.store.updateState({use4ByteResolution:e})}setUseCurrencyRateCheck(e){this.store.updateState({useCurrencyRateCheck:e})}setOpenSeaEnabled(e){this.store.updateState({openSeaEnabled:e})}setAdvancedGasFee({chainId:e,gasFeePreferences:t}){const{advancedGasFee:r}=this.store.getState();this.store.updateState({advancedGasFee:{...r,[e]:t}})}setTheme(e){this.store.updateState({theme:e})}setTransactionSecurityCheckEnabled(e){this.store.updateState({transactionSecurityCheckEnabled:e})}addKnownMethodData(e,t){const{knownMethodData:r}=this.store.getState();r[e]=t,this.store.updateState({knownMethodData:r})}setCurrentLocale(e){const t=["ar","dv","fa","he","ku"].includes(e)?"rtl":"auto";return this.store.updateState({currentLocale:e,textDirection:t}),t}setAddresses(e){const t=this.store.getState().identities,r=e.reduce(((e,r,n)=>{const i=t[r]||{};return e[r]={name:`Account ${n+1}`,address:r,...i},e}),{});this.store.updateState({identities:r})}removeAddress(e){const{identities:t}=this.store.getState();if(!t[e])throw new Error(`${e} can't be deleted cause it was not found`);if(delete t[e],this.store.updateState({identities:t}),e===this.getSelectedAddress()){const[e]=Object.keys(t);this.setSelectedAddress(e)}return e}addAddresses(e){const{identities:t}=this.store.getState();e.forEach((e=>{if(t[e])return;const r=Object.keys(t).length;t[e]={name:`Account ${r+1}`,address:e}})),this.store.updateState({identities:t})}syncAddresses(e){if(!Array.isArray(e)||0===e.length)throw new Error("Expected non-empty array of addresses. Error #11201");const{identities:t,lostIdentities:r}=this.store.getState(),n={};Object.keys(t).forEach((r=>{e.includes(r)||(n[r]=t[r],delete t[r])})),Object.keys(n).length>0&&Object.keys(n).forEach((e=>{r[e]=n[e]})),this.store.updateState({identities:t,lostIdentities:r}),this.addAddresses(e);let i=this.getSelectedAddress();return e.includes(i)||([i]=e,this.setSelectedAddress(i)),i}setSelectedAddress(e){const t=(0,i.normalize)(e),{identities:r}=this.store.getState(),n=r[t];if(!n)throw new Error(`Identity for '${t} not found`);n.lastSelected=Date.now(),this.store.updateState({identities:r,selectedAddress:t})}getSelectedAddress(){return this.store.getState().selectedAddress}async setAccountLabel(e,t){if(!e)throw new Error(`setAccountLabel requires a valid address, got ${String(e)}`);const r=(0,i.normalize)(e),{identities:n}=this.store.getState();return n[r]=n[r]||{},n[r].name=t,this.store.updateState({identities:n}),t}async setFeatureFlag(e,t){const r={...this.store.getState().featureFlags,[e]:t};return this.store.updateState({featureFlags:r}),r}async setPreference(e,t){const r={...this.getPreferences(),[e]:t};return this.store.updateState({preferences:r}),r}getPreferences(){return this.store.getState().preferences}getIpfsGateway(){return this.store.getState().ipfsGateway}async setIpfsGateway(e){return this.store.updateState({ipfsGateway:e}),e}async setUseAddressBarEnsResolution(e){this.store.updateState({useAddressBarEnsResolution:e})}setLedgerTransportPreference(e){return this.store.updateState({ledgerTransportType:e}),e}getLedgerTransportPreference(){return this.store.getState().ledgerTransportType}async setDismissSeedBackUpReminder(e){await this.store.updateState({dismissSeedBackUpReminder:e})}async setDisabledRpcMethodPreference(e,t){const r={...this.store.getState().disabledRpcMethodPreferences,[e]:t};this.store.updateState({disabledRpcMethodPreferences:r})}setIncomingTransactionsPreferences(e,t){const r={...this.store.getState().incomingTransactionsPreferences,[e]:t};this.store.updateState({incomingTransactionsPreferences:r})}getRpcMethodPreferences(){return this.store.getState().disabledRpcMethodPreferences}_subscribeToInfuraAvailability(){this._onInfuraIsBlocked((()=>{this._setInfuraBlocked(!0)})),this._onInfuraIsUnblocked((()=>{this._setInfuraBlocked(!1)}))}_setInfuraBlocked(e){const{infuraBlocked:t}=this.store.getState();t!==e&&this.store.updateState({infuraBlocked:e})}_showShouldLineaMainnetNetwork(){const e=(0,c.shouldShowLineaMainnet)();this.store.updateState({isLineaMainnetReleased:e})}}}}},{package:"$root$",file:"app/scripts/controllers/preferences.js"}],[250,{"../util/merkleize":262,"../util/named":263,"./byteArray":248,"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ByteVectorType=void 0;const n=e("@chainsafe/persistent-merkle-tree"),i=e("../util/merkleize"),o=e("../util/named"),s=e("./byteArray");class a extends s.ByteArrayType{constructor(e,t){if(super(),this.lengthBytes=e,this.isList=!1,0===e)throw Error("Vector length must be > 0");this.typeName=t?.typeName??`ByteVector[${e}]`,this.maxChunkCount=Math.ceil(this.lengthBytes/32),this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth,this.fixedSize=this.lengthBytes,this.minSize=this.fixedSize,this.maxSize=this.fixedSize}static named(e,t){return new(o.namedClass(a,t.typeName))(e,t)}value_serializedSize(){return this.fixedSize}tree_serializedSize(){return this.fixedSize}tree_serializeToBytes(e,t,r){const i=n.getNodesAtDepth(r,this.chunkDepth,0,this.maxChunkCount);return n.packedNodeRootsToBytes(e.dataView,t,this.fixedSize,i),t+this.fixedSize}tree_deserializeFromBytes(e,t,r){return this.assertValidSize(r-t),n.packedRootsBytesToNode(this.chunkDepth,e.dataView,t,r)}tree_getByteLen(){return this.lengthBytes}assertValidSize(e){if(e!==this.lengthBytes)throw Error(`ByteVector invalid size ${e} expected ${this.lengthBytes}`)}}r.ByteVectorType=a}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/byteVector.js"}],[2500,{"./constants":2494},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("./constants"),i=n.MT,o=n.SIMPLE,s=n.SYMS;class a{constructor(e){if("number"!=typeof e)throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(0|e)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,i.SIMPLE_FLOAT)}static isSimple(e){return e instanceof a}static decode(e,t){switch(null==t&&(t=!0),e){case o.FALSE:return!1;case o.TRUE:return!0;case o.NULL:return t?null:s.NULL;case o.UNDEFINED:return t?undefined:s.UNDEFINED;case-1:if(!t)throw new Error("Invalid BREAK");return s.BREAK;default:return new a(e)}}}t.exports=a}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/simple.js"}],[2501,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){class n{constructor(e,t,r){if(this.tag=e,this.value=t,this.err=r,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var t,r;if("function"!=typeof(r=null!=e?e[this.tag]:undefined)&&"function"!=typeof(r=n["_tag"+this.tag]))return this;try{return r.call(n,this.value)}catch(e){return t=e,this.err=t,this}}}t.exports=n}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/tagged.js"}],[2502,{"./constants":2494,"bignumber.js":2493,buffer:2541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),i=e("bignumber.js").BigNumber,o=e("./constants"),s=o.SHIFT32,a=o.SHIFT16;r.parseHalf=function(e){var t,r,n;return n=128&e[0]?-1:1,t=(124&e[0])>>2,r=(3&e[0])<<8|e[1],t?31===t?n*(r?0/0:Infinity):n*Math.pow(2,t-25)*(1024+r):5.960464477539063e-8*n*r},r.arrayBufferToBignumber=function(e){const t=e.byteLength;let r="";for(let i=0;i<t;i++)r+=(n=e[i])<16?"0"+n.toString(16):n.toString(16);var n;return new i(r,16)},r.buildMap=e=>{const t=new Map,r=Object.keys(e),n=r.length;for(let i=0;i<n;i++)t.set(r[i],e[r[i]]);return t},r.buildInt32=(e,t)=>e*a+t,r.buildInt64=(e,t,n,o)=>{const a=r.buildInt32(e,t),c=r.buildInt32(n,o);return a>2097151?new i(a).times(s).plus(c):a*s+c},r.writeHalf=function(e,t){const r=n.allocUnsafe(4);r.writeFloatBE(t,0);const i=r.readUInt32BE(0);if(0!=(8191&i))return!1;var o=i>>16&32768;const s=i>>23&255,a=8388607&i;if(s>=113&&s<=142)o+=(s-112<<10)+(a>>13);else{if(!(s>=103&&s<113))return!1;if(a&(1<<126-s)-1)return!1;o+=a+8388608>>126-s}return e.writeUInt16BE(o,0),!0},r.keySorter=function(e,t){var r=e[0].byteLength,n=t[0].byteLength;return r>n?1:n>r?-1:e[0].compare(t[0])},r.isNegativeZero=e=>0===e&&1/e<0,r.nextPowerOf2=e=>{let t=0;if(e&&!(e&e-1))return e;for(;0!==e;)e>>=1,t+=1;return 1<<t}}}},{package:"eth-lattice-keyring>gridplus-sdk>borc",file:"node_modules/borc/src/utils.js"}],[251,{"../util/byteArray":261,"../util/merkleize":262,"../util/proof/treePostProcessFromProofNode":264,"./abstract":239,"@chainsafe/persistent-merkle-tree":226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isCompositeType=r.CompositeType=r.LENGTH_GINDEX=void 0;const n=e("@chainsafe/persistent-merkle-tree"),i=e("../util/byteArray"),o=e("../util/merkleize"),s=e("../util/proof/treePostProcessFromProofNode"),a=e("./abstract");r.LENGTH_GINDEX=BigInt(3);const c=Symbol("ssz_cached_permanent_root");class u extends a.Type{constructor(e){super(),this.cachePermanentRootStruct=e,this.isBasic=!1}defaultView(){return this.toView(this.defaultValue())}defaultViewDU(){return this.toViewDU(this.defaultValue())}deserializeToView(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=this.tree_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length);return this.getView(new n.Tree(r))}deserializeToViewDU(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=this.tree_deserializeFromBytes({uint8Array:e,dataView:t},0,e.length);return this.getViewDU(r)}toView(e){const t=this.value_toTree(e);return this.getView(new n.Tree(t))}toViewDU(e){const t=this.value_toTree(e);return this.getViewDU(t)}toValueFromView(e){const t=this.commitView(e);return this.tree_toValue(t)}toValueFromViewDU(e){const t=this.commitViewDU(e);return this.tree_toValue(t)}toViewFromViewDU(e){const t=this.commitViewDU(e);return this.getView(new n.Tree(t))}toViewDUFromView(e){const t=this.commitView(e);return this.getViewDU(t)}hashTreeRoot(e){if(this.cachePermanentRootStruct){const t=e[c];if(t)return t}const t=o.merkleize(this.getRoots(e),this.maxChunkCount);return this.cachePermanentRootStruct&&(e[c]=t),t}getCachedPermanentRoot(e){return e[c]}createFromProof(e,t){const r=n.Tree.createFromProof(e).rootNode,o=s.treePostProcessFromProofNode(r,this);if(t!==undefined&&!i.byteArrayEquals(o.root,t))throw new Error("Proof does not match trusted root");return this.getView(new n.Tree(o))}tree_createProof(e,t){const r=this.tree_createProofGindexes(e,t);return n.createProof(e,{type:n.ProofType.treeOffset,gindices:r})}tree_createProofGindexes(e,t){const r=[];for(const i of t){const{type:t,gindex:o}=this.getPathInfo(i);if(l(t)){const i=t.tree_getLeafGindices(o,null===t.fixedSize?n.getNode(e,o):undefined);for(const e of i)r.push(e)}else r.push(o)}return r}getPathInfo(e){const t=[];let r=this;for(const n of e){if(r.isBasic)throw new Error("Invalid path: cannot navigate beyond a basic type");const e=r.getPropertyGindex(n);null!==e&&(t.push(e),r=r.getPropertyType(n))}return{type:r,gindex:n.concatGindices(t)}}tree_fromProofNode(e){return{node:e,done:!1}}}function l(e){return!e.isBasic}r.CompositeType=u,r.isCompositeType=l}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/composite.js"}],[252,{"../util/merkleize":262,"../util/named":263,"../view/container":271,"../viewDU/container":279,"./composite":251,"@chainsafe/persistent-merkle-tree":226,case:2561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.renderContainerTypeName=r.precomputeJsonKey=r.ContainerType=void 0;const i=e("@chainsafe/persistent-merkle-tree"),o=n(e("case")),s=e("../util/merkleize"),a=e("../util/named"),c=e("./composite"),u=e("../view/container"),l=e("../viewDU/container");class d extends c.CompositeType{constructor(e,t){super(t?.cachePermanentRootStruct),this.fields=e,this.opts=t,this.isList=!1,this.isViewMutable=!0,this.typeName=t?.typeName??f(e),this.maxChunkCount=Object.keys(e).length,this.depth=s.maxChunksToDepth(this.maxChunkCount),this.fieldsEntries=[];for(const r of Object.keys(e))this.fieldsEntries.push({fieldName:r,fieldType:this.fields[r],jsonKey:h(r,t?.casingMap,t?.jsonCase),gindex:i.toGindex(this.depth,BigInt(this.fieldsEntries.length))});if(0===this.fieldsEntries.length)throw Error("Container must have > 0 fields");this.fieldsGindex={};for(let e=0;e<this.fieldsEntries.length;e++)this.fieldsGindex[this.fieldsEntries[e].fieldName]=i.toGindex(this.depth,BigInt(e));this.jsonKeyToFieldName={};for(const{fieldName:e,jsonKey:t}of this.fieldsEntries)this.jsonKeyToFieldName[t]=e;const{minLen:r,maxLen:n,fixedSize:o}=function(e){let t=0,r=0,n=0;for(const i of Object.values(e))t+=i.minSize,r+=i.maxSize,null===i.fixedSize?(t+=4,r+=4,n=null):null!==n&&(n+=i.fixedSize);return{minLen:t,maxLen:r,fixedSize:n}}(e);this.minSize=r,this.maxSize=n,this.fixedSize=o;const{isFixedLen:a,fieldRangesFixedLen:c,variableOffsetsPosition:d,fixedEnd:p}=function(e){const t=[],r=[],n=[];let i=0;for(const o of Object.values(e))t.push(null!==o.fixedSize),null===o.fixedSize?(n.push(i),i+=4):(r.push({start:i,end:i+o.fixedSize}),i+=o.fixedSize);return{isFixedLen:t,fieldRangesFixedLen:r,variableOffsetsPosition:n,fixedEnd:i}}(e);this.isFixedLen=a,this.fieldRangesFixedLen=c,this.variableOffsetsPosition=d,this.fixedEnd=p,this.TreeView=t?.getContainerTreeViewClass?.(this)??u.getContainerTreeViewClass(this),this.TreeViewDU=t?.getContainerTreeViewDUClass?.(this)??l.getContainerTreeViewDUClass(this)}static named(e,t){return new(a.namedClass(d,t.typeName))(e,t)}defaultValue(){const e={};for(const{fieldName:t,fieldType:r}of this.fieldsEntries)e[t]=r.defaultValue();return e}getView(e){return new this.TreeView(this,e)}getViewDU(e,t){return new this.TreeViewDU(this,e,t)}cacheOfViewDU(e){return e.cache}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}value_serializedSize(e){let t=0;for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:n,fieldType:i}=this.fieldsEntries[r];t+=null===i.fixedSize?4+i.value_serializedSize(e[n]):i.fixedSize}return t}value_serializeToBytes(e,t,r){let n=t,i=t+this.fixedEnd;for(let o=0;o<this.fieldsEntries.length;o++){const{fieldName:s,fieldType:a}=this.fieldsEntries[o];null===a.fixedSize?(e.dataView.setUint32(n,i-t,!0),n+=4,i=a.value_serializeToBytes(e,i,r[s])):n=a.value_serializeToBytes(e,n,r[s])}return i}value_deserializeFromBytes(e,t,r){const n=this.getFieldRanges(e.dataView,t,r),i={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:o,fieldType:s}=this.fieldsEntries[r],a=n[r];i[o]=s.value_deserializeFromBytes(e,t+a.start,t+a.end)}return i}tree_serializedSize(e){let t=0;const r=i.getNodesAtDepth(e,this.depth,0,this.fieldsEntries.length);for(let e=0;e<this.fieldsEntries.length;e++){const{fieldType:n}=this.fieldsEntries[e],i=r[e];t+=null===n.fixedSize?4+n.tree_serializedSize(i):n.fixedSize}return t}tree_serializeToBytes(e,t,r){let n=t,o=t+this.fixedEnd;const s=i.getNodesAtDepth(r,this.depth,0,this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldType:i}=this.fieldsEntries[r],a=s[r];null===i.fixedSize?(e.dataView.setUint32(n,o-t,!0),n+=4,o=i.tree_serializeToBytes(e,o,a)):n=i.tree_serializeToBytes(e,n,a)}return o}tree_deserializeFromBytes(e,t,r){const n=this.getFieldRanges(e.dataView,t,r),o=new Array(this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldType:i}=this.fieldsEntries[r],s=n[r];o[r]=i.tree_deserializeFromBytes(e,t+s.start,t+s.end)}return i.subtreeFillToContents(o,this.depth)}getRoots(e){const t=new Array(this.fieldsEntries.length);for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:n,fieldType:i}=this.fieldsEntries[r];t[r]=i.hashTreeRoot(e[n])}return t}getPropertyGindex(e){const t=this.fieldsGindex[e]??this.fieldsGindex[this.jsonKeyToFieldName[e]];if(t===undefined)throw Error(`Unknown container property ${e}`);return t}getPropertyType(e){const t=this.fields[e]??this.fields[this.jsonKeyToFieldName[e]];if(t===undefined)throw Error(`Unknown container property ${e}`);return t}getIndexProperty(e){return e>=this.fieldsEntries.length?null:this.fieldsEntries[e].fieldName}tree_getLeafGindices(e,t){const r=[];for(let n=0;n<this.fieldsEntries.length;n++){const{fieldName:o,fieldType:s}=this.fieldsEntries[n],a=this.fieldsGindex[o],c=i.concatGindices([e,a]);if(s.isBasic)r.push(c);else{const e=s;if(null===s.fixedSize){if(!t)throw new Error("variable type requires tree argument to get leaves");r.push(...e.tree_getLeafGindices(c,i.getNode(t,a)))}else r.push(...e.tree_getLeafGindices(c))}}return r}fromJson(e){if("object"!=typeof e)throw Error("JSON must be of type object");if(null===e)throw Error("JSON must not be null");const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:n,fieldType:i,jsonKey:o}=this.fieldsEntries[r],s=e[o];if(s===undefined)throw Error(`JSON expected key ${o} is undefined`);t[n]=i.fromJson(s)}return t}toJson(e){const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:n,fieldType:i,jsonKey:o}=this.fieldsEntries[r];t[o]=i.toJson(e[n])}return t}clone(e){const t={};for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:n,fieldType:i}=this.fieldsEntries[r];t[n]=i.clone(e[n])}return t}equals(e,t){for(let r=0;r<this.fieldsEntries.length;r++){const{fieldName:n,fieldType:i}=this.fieldsEntries[r];if(!i.equals(e[n],t[n]))return!1}return!0}getFieldRanges(e,t,r){if(0===this.variableOffsetsPosition.length){const e=r-t;if(e!==this.fixedEnd)throw Error(`${this.typeName} size ${e} not equal fixed size ${this.fixedEnd}`);return this.fieldRangesFixedLen}const n=function(e,t,r,n,i){const o=r-t,s=new Array(i.length);for(let r=0;r<i.length;r++){const a=e.getUint32(t+i[r],!0);if(a>o)throw new Error(`Offset out of bounds ${a} > ${o}`);if(0===r){if(a!==n)throw new Error(`First offset must equal to fixedEnd ${a} != ${n}`)}else if(a<s[r-1])throw new Error(`Offsets must be increasing ${a} < ${s[r-1]}`);s[r]=a}return s}(e,t,r,this.fixedEnd,this.variableOffsetsPosition);n.push(r-t);let i=0,o=0;const s=new Array(this.isFixedLen.length);for(let e=0;e<this.isFixedLen.length;e++)this.isFixedLen[e]?s[e]=this.fieldRangesFixedLen[o++]:(s[e]={start:n[i],end:n[i+1]},i++);return s}}function h(e,t,r){if(t){const r=t[e];if(r===undefined)throw Error(`casingMap[${e}] not defined`);return r}if(r){if("eth2"===r){return o.default.snake(e).replace(/(\d)$/,"_$1")}return o.default[r](e)}return e}function f(e,t="Container"){return`${t}({${Object.keys(e).map((t=>`${t}: ${e[t].typeName}`)).join(", ")}})`}r.ContainerType=d,r.precomputeJsonKey=h,r.renderContainerTypeName=f}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/container.js"}],[253,{"../branchNodeStruct":237,"../util/named":263,"../view/containerNodeStruct":272,"../viewDU/containerNodeStruct":280,"./composite":251,"./container":252},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ContainerNodeStructType=void 0;const n=e("./composite"),i=e("./container"),o=e("../util/named"),s=e("../view/containerNodeStruct"),a=e("../viewDU/containerNodeStruct"),c=e("../branchNodeStruct");class u extends i.ContainerType{constructor(e,t){super(e,{typeName:t?.typeName??i.renderContainerTypeName(e,"ContainerNodeStruct"),...t,getContainerTreeViewClass:s.getContainerTreeViewClass,getContainerTreeViewDUClass:a.getContainerTreeViewDUClass}),this.fields=e;for(const{fieldName:e,fieldType:t}of this.fieldsEntries)if(n.isCompositeType(t)&&t.isViewMutable)throw Error(`ContainerNodeStructType field '${e}' ${t.typeName} view is mutable`)}static named(e,t){return new(o.namedClass(i.ContainerType,t.typeName))(e,t)}tree_serializedSize(e){return this.value_serializedSize(e.value)}tree_serializeToBytes(e,t,r){const{value:n}=r;return this.value_serializeToBytes(e,t,n)}tree_deserializeFromBytes(e,t,r){const n=this.value_deserializeFromBytes(e,t,r);return new c.BranchNodeStruct(this.valueToTree.bind(this),n)}getPropertyGindex(){return null}tree_fromProofNode(e){const t=new Uint8Array(super.tree_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);super.tree_serializeToBytes({uint8Array:t,dataView:r},0,e);const n=this.value_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length);return{node:new c.BranchNodeStruct(this.valueToTree.bind(this),n),done:!0}}tree_toValue(e){return e.value}value_toTree(e){return new c.BranchNodeStruct(this.valueToTree.bind(this),e)}valueToTree(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return this.value_serializeToBytes({uint8Array:t,dataView:r},0,e),super.tree_deserializeFromBytes({uint8Array:t,dataView:r},0,t.length)}}r.ContainerNodeStructType=u}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/containerNodeStruct.js"}],[254,{"../util/merkleize":262,"../util/named":263,"../view/listBasic":273,"../viewDU/listBasic":281,"./array":240,"./arrayBasic":241},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ListBasicType=void 0;const n=e("./arrayBasic"),i=e("../util/merkleize"),o=e("../util/named"),s=e("../view/listBasic"),a=e("../viewDU/listBasic"),c=e("./array");class u extends c.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.limit=t,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,!e.isBasic)throw Error("elementType must be basic");if(0===t)throw Error("List limit must be > 0");this.typeName=r?.typeName??`List[${e.typeName}, ${t}]`,this.itemsPerChunk=32/e.byteLength,this.maxChunkCount=Math.ceil(this.limit*e.byteLength/32),this.chunkDepth=i.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=this.limit*e.maxSize}static named(e,t,r){return new(o.namedClass(u,r.typeName))(e,t,r)}getView(e){return new s.ListBasicTreeView(this,e)}getViewDU(e,t){return new a.ListBasicTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return e.length*this.elementType.byteLength}value_serializeToBytes(e,t,r){return n.value_serializeToBytesArrayBasic(this.elementType,r.length,e,t,r)}value_deserializeFromBytes(e,t,r){return n.value_deserializeFromBytesArrayBasic(this.elementType,e,t,r,this)}tree_serializedSize(e){return this.tree_getLength(e)*this.elementType.byteLength}tree_serializeToBytes(e,t,r){const i=this.tree_getChunksNode(r),o=this.tree_getLength(r);return n.tree_serializeToBytesArrayBasic(this.elementType,o,this.chunkDepth,e,t,i)}tree_deserializeFromBytes(e,t,r){return n.tree_deserializeFromBytesArrayBasic(this.elementType,this.chunkDepth,e,t,r,this)}tree_getLength(e){return e.right.getUint(4,0)}tree_setLength(e,t){e.rootNode=n.addLengthNode(e.rootNode.left,t)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,t,r){return n.setChunksNode(e,t,r)}hashTreeRoot(e){return i.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){const t=new Uint8Array(this.value_serializedSize(e)),r=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.value_serializeToBytesArrayBasic(this.elementType,e.length,{uint8Array:t,dataView:r},0,e),i.splitIntoRootChunks(t)}}r.ListBasicType=u}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/listBasic.js"}],[255,{"../util/merkleize":262,"../util/named":263,"../view/listComposite":274,"../viewDU/listComposite":282,"./array":240,"./arrayBasic":241,"./arrayComposite":242},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ListCompositeType=void 0;const n=e("../util/merkleize"),i=e("../util/named"),o=e("./arrayBasic"),s=e("./arrayComposite"),a=e("../view/listComposite"),c=e("../viewDU/listComposite"),u=e("./array");class l extends u.ArrayType{constructor(e,t,r){if(super(e),this.elementType=e,this.limit=t,this.itemsPerChunk=1,this.fixedSize=null,this.isList=!0,this.isViewMutable=!0,this.defaultLen=0,e.isBasic)throw Error("elementType must not be basic");if(0===t)throw Error("List limit must be > 0");this.typeName=r?.typeName??`List[${e.typeName}, ${t}]`,this.maxChunkCount=this.limit,this.chunkDepth=n.maxChunksToDepth(this.maxChunkCount),this.depth=this.chunkDepth+1,this.minSize=0,this.maxSize=s.maxSizeArrayComposite(e,this.limit)}static named(e,t,r){return new(i.namedClass(l,r.typeName))(e,t,r)}getView(e){return new a.ListCompositeTreeView(this,e)}getViewDU(e,t){return new c.ListCompositeTreeViewDU(this,e,t)}commitView(e){return e.node}commitViewDU(e){return e.commit(),e.node}cacheOfViewDU(e){return e.cache}value_serializedSize(e){return s.value_serializedSizeArrayComposite(this.elementType,e.length,e)}value_serializeToBytes(e,t,r){return s.value_serializeToBytesArrayComposite(this.elementType,r.length,e,t,r)}value_deserializeFromBytes(e,t,r){return s.value_deserializeFromBytesArrayComposite(this.elementType,e,t,r,this)}tree_serializedSize(e){const t=this.tree_getChunksNode(e),r=this.tree_getLength(e);return s.tree_serializedSizeArrayComposite(this.elementType,r,this.chunkDepth,t)}tree_serializeToBytes(e,t,r){const n=this.tree_getChunksNode(r),i=this.tree_getLength(r);return s.tree_serializeToBytesArrayComposite(this.elementType,i,this.chunkDepth,n,e,t)}tree_deserializeFromBytes(e,t,r){return s.tree_deserializeFromBytesArrayComposite(this.elementType,this.chunkDepth,e,t,r,this)}tree_getLength(e){return o.getLengthFromRootNode(e)}tree_setLength(e,t){e.rootNode=o.addLengthNode(e.rootNode.left,t)}tree_getChunksNode(e){return e.left}tree_setChunksNode(e,t,r){return o.setChunksNode(e,t,r)}hashTreeRoot(e){return n.mixInLength(super.hashTreeRoot(e),e.length)}getRoots(e){return s.value_getRootsArrayComposite(this.elementType,e.length,e)}}r.ListCompositeType=l}}},{package:"eth-lattice-keyring>@ethereumjs/tx>@chainsafe/ssz",file:"node_modules/@chainsafe/ssz/lib/type/listComposite.js"}]],[],{});