LavaPack.loadBundle([[4237,{"./attribute":4233,"./helpers":4234,"./scan":4236,url:4937},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("url"),s=e("./attribute"),i=e("./helpers"),a=e("./scan").scan,o=i.ValidatorResult,c=i.SchemaError,u=i.SchemaContext,l=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(d),this.attributes=Object.create(s.validators)};function h(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}l.prototype.customFormats={},l.prototype.schemas=null,l.prototype.types=null,l.prototype.attributes=null,l.prototype.unresolvedRefs=null,l.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var r=a(t||"/",e),s=t||e.id;for(var i in r.id)this.schemas[i]=r.id[i];for(var i in r.ref)this.unresolvedRefs.push(i);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===n.schemas[e]})),this.schemas[s]},l.prototype.addSubSchemaArray=function(e,t){if(t instanceof Array)for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},l.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},l.prototype.setSchemas=function(e){this.schemas=e},l.prototype.getSchema=function(e){return this.schemas[e]},l.prototype.validate=function(e,t,n,s){n||(n={});var i=n.propertyName||"instance",o=r.resolve(n.base||"/",t.id||"");if(!s){(s=new u(t,n,i,o,Object.create(this.schemas))).schemas[o]||(s.schemas[o]=t);var l=a(o,t);for(var h in l.id){var d=l.id[h];s.schemas[h]=d}}if(t){var f=this.validateSchema(e,t,n,s);if(!f)throw new Error("Result undefined");return f}throw new c("no schema specified",t)},l.prototype.validateSchema=function(e,t,n,r){var a,l=new o(e,t,n,r);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(t.extends instanceof Array){var d={schema:t,ctx:r};t.extends.forEach(this.schemaTraverser.bind(this,d)),t=d.schema,d.schema=null,d.ctx=null,d=null}else t=i.deepMerge(t,this.superResolve(t.extends,r));if(a=h(t)){var f=this.resolve(t,a,r),p=new u(f.subschema,n,r.propertyPath,f.switchSchema,r.schemas);return this.validateSchema(e,f.subschema,n,p)}var g=n&&n.skipAttributes||[];for(var m in t)if(!s.ignoreProperties[m]&&g.indexOf(m)<0){var b=null,y=this.attributes[m];if(y)b=y.call(this,e,t,n,r);else if(!1===n.allowUnknownAttributes)throw new c("Unsupported attribute: "+m,t);b&&l.importErrors(b)}if("function"==typeof n.rewrite){var w=n.rewrite.call(this,e,t,n,r);l.instance=w}return l},l.prototype.schemaTraverser=function(e,t){e.schema=i.deepMerge(e.schema,this.superResolve(t,e.ctx))},l.prototype.superResolve=function(e,t){var n;return(n=h(e))?this.resolve(e,n,t).subschema:e},l.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var s=r.parse(t),a=s&&s.hash,o=a&&a.length&&t.substr(0,t.length-a.length);if(!o||!n.schemas[o])throw new c("no such schema <"+t+">",e);var u=i.objectGetPath(n.schemas[o],a.substr(1));if(u===undefined)throw new c("no such schema "+a+" located in <"+o+">",e);return{subschema:u,switchSchema:t}},l.prototype.testType=function(e,t,n,r,s){if("function"==typeof this.types[s])return this.types[s].call(this,e);if(s&&"object"==typeof s){var i=this.validateSchema(e,s,n,r);return i===undefined||!(i&&i.errors.length)}return!0};var d=l.prototype.types={};d.string=function(e){return"string"==typeof e},d.number=function(e){return"number"==typeof e&&isFinite(e)},d.integer=function(e){return"number"==typeof e&&e%1==0},d.boolean=function(e){return"boolean"==typeof e},d.array=function(e){return Array.isArray(e)},d.null=function(e){return null===e},d.date=function(e){return e instanceof Date},d.any=function(e){return!0},d.object=function(e){return e&&"object"==typeof e&&!(e instanceof Array)&&!(e instanceof Date)},t.exports=l}}},{package:"@metamask/message-manager>jsonschema",file:"node_modules/jsonschema/lib/validator.js"}],[4268,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}}},{package:"lodash",file:"node_modules/lodash/_arrayEach.js"}],[4273,{"./_baseAssignValue":4277,"./eq":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_baseAssignValue"),s=e("./eq"),i=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var a=e[t];i.call(e,t)&&s(a,n)&&(n!==undefined||t in e)||r(e,t,n)}}}},{package:"lodash",file:"node_modules/lodash/_assignValue.js"}],[4275,{"./_copyObject":4303,"./keys":4380},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_copyObject"),s=e("./keys");t.exports=function(e,t){return e&&r(t,s(t),e)}}}},{package:"lodash",file:"node_modules/lodash/_baseAssign.js"}],[4276,{"./_copyObject":4303,"./keysIn":4381},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_copyObject"),s=e("./keysIn");t.exports=function(e,t){return e&&r(t,s(t),e)}}}},{package:"lodash",file:"node_modules/lodash/_baseAssignIn.js"}],[4277,{"./_defineProperty":4307},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_defineProperty");t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}}}},{package:"lodash",file:"node_modules/lodash/_baseAssignValue.js"}],[4278,{"./_Stack":4264,"./_arrayEach":4268,"./_assignValue":4273,"./_baseAssign":4275,"./_baseAssignIn":4276,"./_cloneBuffer":4297,"./_copyArray":4302,"./_copySymbols":4304,"./_copySymbolsIn":4305,"./_getAllKeys":4312,"./_getAllKeysIn":4313,"./_getTag":4320,"./_initCloneArray":4327,"./_initCloneByTag":4328,"./_initCloneObject":4329,"./isArray":4366,"./isBuffer":4368,"./isMap":4374,"./isObject":4375,"./isSet":4377,"./keys":4380,"./keysIn":4381},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_Stack"),s=e("./_arrayEach"),i=e("./_assignValue"),a=e("./_baseAssign"),o=e("./_baseAssignIn"),c=e("./_cloneBuffer"),u=e("./_copyArray"),l=e("./_copySymbols"),h=e("./_copySymbolsIn"),d=e("./_getAllKeys"),f=e("./_getAllKeysIn"),p=e("./_getTag"),g=e("./_initCloneArray"),m=e("./_initCloneByTag"),b=e("./_initCloneObject"),y=e("./isArray"),w=e("./isBuffer"),_=e("./isMap"),v=e("./isObject"),k=e("./isSet"),S=e("./keys"),T=e("./keysIn"),E="[object Arguments]",A="[object Function]",I="[object Object]",x={};x[E]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x[I]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x[A]=x["[object WeakMap]"]=!1,t.exports=function e(t,n,j,C,O,P){var M,D=1&n,N=2&n,L=4&n;if(j&&(M=O?j(t,C,O,P):j(t)),M!==undefined)return M;if(!v(t))return t;var R=y(t);if(R){if(M=g(t),!D)return u(t,M)}else{var B=p(t),F=B==A||"[object GeneratorFunction]"==B;if(w(t))return c(t,D);if(B==I||B==E||F&&!O){if(M=N||F?{}:b(t),!D)return N?h(t,o(M,t)):l(t,a(M,t))}else{if(!x[B])return O?t:{};M=m(t,B,D)}}P||(P=new r);var K=P.get(t);if(K)return K;P.set(t,M),k(t)?t.forEach((function(r){M.add(e(r,n,j,r,t,P))})):_(t)&&t.forEach((function(r,s){M.set(s,e(r,n,j,s,t,P))}));var U=R?undefined:(L?N?f:d:N?T:S)(t);return s(U||t,(function(r,s){U&&(r=t[s=r]),i(M,s,e(r,n,j,s,t,P))})),M}}}},{package:"lodash",file:"node_modules/lodash/_baseClone.js"}],[4279,{"./isObject":4375},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./isObject"),s=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(s)return s(t);e.prototype=t;var n=new e;return e.prototype=undefined,n}}();t.exports=i}}},{package:"lodash",file:"node_modules/lodash/_baseCreate.js"}],[4282,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Math.max,s=Math.min;t.exports=function(e,t,n){return e>=s(t,n)&&e<r(t,n)}}}},{package:"lodash",file:"node_modules/lodash/_baseInRange.js"}],[4286,{"./_getTag":4320,"./isObjectLike":4376},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_getTag"),s=e("./isObjectLike");t.exports=function(e){return s(e)&&"[object Map]"==r(e)}}}},{package:"lodash",file:"node_modules/lodash/_baseIsMap.js"}],[4288,{"./_getTag":4320,"./isObjectLike":4376},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_getTag"),s=e("./isObjectLike");t.exports=function(e){return s(e)&&"[object Set]"==r(e)}}}},{package:"lodash",file:"node_modules/lodash/_baseIsSet.js"}],[4291,{"./_isPrototype":4333,"./_nativeKeysIn":4347,"./isObject":4375},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./isObject"),s=e("./_isPrototype"),i=e("./_nativeKeysIn"),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return i(e);var t=s(e),n=[];for(var o in e)("constructor"!=o||!t&&a.call(e,o))&&n.push(o);return n}}}},{package:"lodash",file:"node_modules/lodash/_baseKeysIn.js"}],[4293,{"./_trimmedEndIndex":4361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_trimmedEndIndex"),s=/^\s+/;t.exports=function(e){return e?e.slice(0,r(e)+1).replace(s,""):e}}}},{package:"lodash",file:"node_modules/lodash/_baseTrim.js"}],[4296,{"./_Uint8Array":4266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_Uint8Array");t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}}}},{package:"lodash",file:"node_modules/lodash/_cloneArrayBuffer.js"}],[4297,{"./_root":4351},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_root"),s="object"==typeof n&&n&&!n.nodeType&&n,i=s&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===s?r.Buffer:undefined,o=a?a.allocUnsafe:undefined;t.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}}}},{package:"lodash",file:"node_modules/lodash/_cloneBuffer.js"}],[4298,{"./_cloneArrayBuffer":4296},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_cloneArrayBuffer");t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}}}},{package:"lodash",file:"node_modules/lodash/_cloneDataView.js"}],[4299,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=/\w*$/;t.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}}}},{package:"lodash",file:"node_modules/lodash/_cloneRegExp.js"}],[43,{"../../../../shared/constants/common":5033,"../../../../shared/constants/gas":5038,"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/network":5047,"../../../../shared/constants/smartTransactions":5055,"../../../../shared/constants/swaps":5057,"../../../../shared/constants/time":5059,"../../../../shared/lib/fetch-with-cache":5065,"../../../../shared/lib/swaps-utils":5070,"../../../../shared/lib/transactions-controller-utils":5074,"../../../../shared/modules/Numeric":5076,"../../../../shared/modules/conversion.utils":5081,"../../../../shared/modules/string-utils":5103,"../../../../shared/modules/swaps.utils":5104,"./swaps.constants":44,"./swaps.utils":45,"@ethersproject/contracts":504,"@ethersproject/providers":542,"@metamask/base-controller":1241,"@sentry/browser":2901,"bignumber.js":3481,"human-standard-token-abi":4177,lodash:4382},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@ethersproject/contracts"),s=e("@ethersproject/providers"),i=e("@metamask/base-controller"),a=e("@sentry/browser"),o=e("bignumber.js"),c=A(e("human-standard-token-abi")),u=e("lodash"),l=e("../../../../shared/constants/common"),h=e("../../../../shared/constants/gas"),d=e("../../../../shared/constants/metametrics"),f=e("../../../../shared/constants/network"),p=e("../../../../shared/constants/smartTransactions"),g=e("../../../../shared/constants/swaps"),m=e("../../../../shared/constants/time"),b=A(e("../../../../shared/lib/fetch-with-cache")),y=e("../../../../shared/lib/swaps-utils"),w=e("../../../../shared/lib/transactions-controller-utils"),_=e("../../../../shared/modules/conversion.utils"),v=e("../../../../shared/modules/Numeric"),k=e("../../../../shared/modules/string-utils"),S=e("../../../../shared/modules/swaps.utils"),T=e("./swaps.constants"),E=e("./swaps.utils");function A(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,O(e,t,"get"))}function C(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,O(e,t,"set"),n),n}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}const P={swapsState:{persist:!1,anonymous:!1}};var M=new WeakMap,D=new WeakMap,N=new WeakMap,L=new WeakMap,R=new WeakMap,B=new WeakMap,F=new WeakMap,K=new WeakMap;class U extends i.BaseController{constructor(e,t){var n;super({name:T.controllerName,metadata:P,messenger:e.messenger,state:{swapsState:{...(0,T.getDefaultSwapsControllerState)().swapsState,swapsFeatureFlags:(null==t||null===(n=t.swapsState)||void 0===n?void 0:n.swapsFeatureFlags)||{}}}}),x(this,"getBufferedGasLimit",void 0),x(this,"resetState",void 0),x(this,"trackMetaMetricsEvent",void 0),I(this,M,{writable:!0,value:void 0}),I(this,D,{writable:!0,value:void 0}),I(this,N,{writable:!0,value:void 0}),I(this,L,{writable:!0,value:void 0}),I(this,R,{writable:!0,value:null}),I(this,B,{writable:!0,value:void 0}),I(this,F,{writable:!0,value:void 0}),I(this,K,{writable:!0,value:void 0}),x(this,"_fetchTradesInfo",y.fetchTradesInfo),x(this,"__test__updateState",(e=>{this.update((t=>({swapsState:{...t.swapsState,...e.swapsState}})))})),this.messagingSystem.registerActionHandler("SwapsController:fetchAndSetQuotes",this.fetchAndSetQuotes.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setSelectedQuoteAggId",this.setSelectedQuoteAggId.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:resetSwapsState",this.resetSwapsState.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setSwapsTokens",this.setSwapsTokens.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:clearSwapsQuotes",this.clearSwapsQuotes.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setApproveTxId",this.setApproveTxId.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setTradeTxId",this.setTradeTxId.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setSwapsTxGasPrice",this.setSwapsTxGasPrice.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setSwapsTxGasLimit",this.setSwapsTxGasLimit.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setSwapsTxMaxFeePerGas",this.setSwapsTxMaxFeePerGas.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setSwapsTxMaxFeePriorityPerGas",this.setSwapsTxMaxFeePriorityPerGas.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:safeRefetchQuotes",this.safeRefetchQuotes.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:stopPollingForQuotes",this.stopPollingForQuotes.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setBackgroundSwapRouteState",this.setBackgroundSwapRouteState.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:resetPostFetchState",this.resetPostFetchState.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setSwapsErrorKey",this.setSwapsErrorKey.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setInitialGasEstimate",this.setInitialGasEstimate.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setCustomApproveTxData",this.setCustomApproveTxData.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setSwapsLiveness",this.setSwapsLiveness.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setSwapsFeatureFlags",this.setSwapsFeatureFlags.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setSwapsUserFeeLevel",this.setSwapsUserFeeLevel.bind(this)),this.messagingSystem.registerActionHandler("SwapsController:setSwapsQuotesPollingLimitEnabled",this.setSwapsQuotesPollingLimitEnabled.bind(this)),this.getBufferedGasLimit=e.getBufferedGasLimit,this.trackMetaMetricsEvent=e.trackMetaMetricsEvent,this.resetState=()=>{this.update((e=>{e.swapsState={...(0,T.getDefaultSwapsControllerState)().swapsState,swapsFeatureFlags:null==e?void 0:e.swapsState.swapsFeatureFlags}}))},C(this,F,e.getEIP1559GasFeeEstimates),C(this,K,e.getLayer1GasFee),C(this,M,new s.Web3Provider(e.provider)),C(this,D,this._getCurrentChainId()),C(this,N,0),C(this,L,0),C(this,B,e.provider),this._fetchTradesInfo=e.fetchTradesInfo||y.fetchTradesInfo}clearSwapsQuotes(){this.update((e=>{e.swapsState.quotes={},e.swapsState.selectedAggId=null,e.swapsState.topAggId=null}))}async fetchAndSetQuotes(e,t,n=!1){if(!e)return null;const{chainId:r}=t;r!==j(this,D)&&(C(this,M,new s.Web3Provider(j(this,B))),C(this,D,r));const{quotesPollingLimitEnabled:i,saveFetchedQuotes:a}=this.state.swapsState;n||C(this,L,0),j(this,R)&&clearTimeout(j(this,R)),n||this.setSwapsErrorKey("");const o=j(this,N)+1;C(this,N,o),a||this._setSaveFetchedQuotes(!0);let[c]=await Promise.all([this._fetchTradesInfo(e,{...t}),this._setSwapsNetworkConfig()]);const{saveFetchedQuotes:l}=this.state.swapsState;if(!l)return[{},null];c=(0,u.mapValues)(c,(e=>({...e,sourceTokenInfo:null==t?void 0:t.sourceTokenInfo,destinationTokenInfo:null==t?void 0:t.destinationTokenInfo})));const h=r===f.CHAIN_IDS.OPTIMISM.toString(),d=r===f.CHAIN_IDS.BASE.toString();(h||d)&&Object.values(c).length>0&&await Promise.all(Object.values(c).map((async e=>{if(e.trade){const t=await j(this,K).call(this,{transactionParams:e.trade,chainId:r});e.multiLayerL1TradeFeeTotal=t}return e})));const p=Date.now();let m=!1;if(!(0,S.isSwapsDefaultTokenAddress)(e.sourceToken,r)&&Object.values(c).length){const t=await this._getERC20Allowance(e.sourceToken,e.fromAddress,r),[s]=Object.values(c);if(m=s.approvalNeeded&&t.eq(0)&&"wrappedNative"!==s.aggregator,m){if(!n&&s.approvalNeeded){const{gasLimit:e}=await this._timedoutGasReturn(s.approvalNeeded,s.aggregator);c=(0,u.mapValues)(c,(t=>t.approvalNeeded?{...t,approvalNeeded:{...t.approvalNeeded,gas:e||g.DEFAULT_ERC20_APPROVE_GAS}}:t))}}else c=(0,u.mapValues)(c,(e=>({...e,approvalNeeded:null})))}let b=null;if(m||null!=e&&e.balanceError||(c=await this._getAllQuotesWithGasEstimates(c)),0===Object.values(c).length)this.setSwapsErrorKey(g.QUOTES_NOT_AVAILABLE_ERROR);else{const e=await this.getTopQuoteWithCalculatedSavings(c);Array.isArray(e)&&(b=e[0],c=e[1])}if(j(this,N)!==o)throw new Error(g.SWAPS_FETCH_ORDER_CONFLICT);let{selectedAggId:y}=this.state.swapsState;return y&&c[y]||(y=null),this.update((n=>{n.swapsState.quotes=c,n.swapsState.fetchParams={...e,metaData:t},n.swapsState.quotesLastFetched=p,n.swapsState.selectedAggId=y,n.swapsState.topAggId=b})),i&&C(this,L,j(this,L)+1),!i||j(this,L)<T.POLL_COUNT_LIMIT+1?(this._pollForNewQuotes(),[c,b]):(this.resetPostFetchState(),this.setSwapsErrorKey(g.QUOTES_EXPIRED_ERROR),null)}async getTopQuoteWithCalculatedSavings(e={}){var t;const{marketData:n}=this._getTokenRatesState(),r=this._getCurrentChainId(),s=(null==n?void 0:n[r])??{},{customGasPrice:i,customMaxPriorityFeePerGas:a}=this.state.swapsState;if(0===Object.keys(e).length)return{};const c=(0,u.cloneDeep)(e),{gasFeeEstimates:d,gasEstimateType:f}=await j(this,F).call(this);let p="0x0";if(f===h.GasEstimateTypes.feeMarket){const{high:{suggestedMaxPriorityFeePerGas:e},estimatedBaseFee:t}=d,n=(0,_.decGWEIToHexWEI)(Number(e)),r=new v.Numeric(t,10,l.EtherDenomination.GWEI).toDenomination(l.EtherDenomination.WEI);p=new v.Numeric(a||n,16).add(r).round(6).toString()}else f===h.GasEstimateTypes.legacy?p=i||(0,_.decGWEIToHexWEI)(Number(d.high)):f===h.GasEstimateTypes.ethGasPrice&&(p=i||(0,_.decGWEIToHexWEI)(Number(d.gasPrice)));let g,m="";Object.values(c).forEach((e=>{const{aggregator:t,approvalNeeded:n,averageGas:i,destinationAmount:a,destinationToken:c,destinationTokenInfo:u,gasEstimateWithRefund:h,sourceAmount:d,sourceToken:f,trade:b,fee:y,multiLayerL1TradeFeeTotal:E}=e;if(!b||!c)return;const A=(h?new o.BigNumber(h,16):new o.BigNumber(i||T.MAX_GAS_LIMIT,10)).plus((null==n?void 0:n.gas)||"0x0",16).toString(16);let I=(0,w.calcGasTotal)(A,p);null!==E&&(I=(0,_.sumHexes)(I||"0x0",E||"0x0"));const x=new v.Numeric(I,16,l.EtherDenomination.WEI).add(new v.Numeric(b.value,16,l.EtherDenomination.WEI)),j=x.toDenomination(l.EtherDenomination.ETH).round(6).value,C=(0,S.isSwapsDefaultTokenAddress)(f,r)?x.minus(new v.Numeric(d,10)).toDenomination(l.EtherDenomination.ETH).round(6).value:j,O=(0,w.calcTokenAmount)(a??"0",u.decimals),P=new o.BigNumber(100,10).minus(y,10).div(100),M=O.div(P).minus(O),D=Object.keys(s).find((e=>(0,k.isEqualCaseInsensitive)(e,c))),N=D?s[D]:null,L=(null==N?void 0:N.price)||1,R=O.times(L.toString(10),10),B=(0,S.isSwapsDefaultTokenAddress)(c,r)?1:null==N?void 0:N.price,F=B?R.minus(C,10):R;e.ethFee=C.toString(10),B&&(e.ethValueOfTokens=R.toString(10),e.overallValueOfQuote=F.toString(10),e.metaMaskFeeInEth=M.times(B.toString(10)).toString(10)),g&&!F.gt(g||0)||(m=t,g=F)}));const b=Object.keys(s).find((e=>{var t;return(0,k.isEqualCaseInsensitive)(e,null===(t=c[m])||void 0===t?void 0:t.destinationToken)})),y=b?s[b]:null;if((0,S.isSwapsDefaultTokenAddress)(null===(t=c[m])||void 0===t?void 0:t.destinationToken,r)||Boolean(null==y?void 0:y.price)){const e=c[m],{ethFee:t,metaMaskFeeInEth:n,ethValueOfTokens:r}=(0,E.getMedianEthValueQuote)(Object.values(c)),s=new o.BigNumber(e.ethValueOfTokens,10).minus(r,10).toString(10),i=new o.BigNumber(t).minus(e.ethFee,10).toString(10),a=e.metaMaskFeeInEth,u={performance:s,fee:i,total:new o.BigNumber(s).plus(i).minus(a).toString(10),metaMaskFee:a,medianMetaMaskFee:n};c[m].isBestQuote=!0,c[m].savings=u}return[m,c]}resetPostFetchState(){this.update((e=>{e.swapsState={...(0,T.getDefaultSwapsControllerState)().swapsState,tokens:e.swapsState.tokens,fetchParams:e.swapsState.fetchParams,swapsFeatureIsLive:e.swapsState.swapsFeatureIsLive,swapsQuoteRefreshTime:e.swapsState.swapsQuoteRefreshTime,swapsQuotePrefetchingRefreshTime:e.swapsState.swapsQuotePrefetchingRefreshTime,swapsFeatureFlags:e.swapsState.swapsFeatureFlags}})),j(this,R)&&clearTimeout(j(this,R))}resetSwapsState(){this.update((e=>{e.swapsState={...(0,T.getDefaultSwapsControllerState)().swapsState,swapsQuoteRefreshTime:e.swapsState.swapsQuoteRefreshTime,swapsQuotePrefetchingRefreshTime:e.swapsState.swapsQuotePrefetchingRefreshTime,swapsFeatureFlags:e.swapsState.swapsFeatureFlags}})),j(this,R)&&clearTimeout(j(this,R))}safeRefetchQuotes(){!j(this,R)&&this.state.swapsState.fetchParams&&this.fetchAndSetQuotes(this.state.swapsState.fetchParams,{...this.state.swapsState.fetchParams.metaData})}setApproveTxId(e){this.update((t=>{t.swapsState.approveTxId=e}))}setBackgroundSwapRouteState(e){this.update((t=>{t.swapsState.routeState=e}))}setCustomApproveTxData(e){this.update((t=>{t.swapsState.customApproveTxData=e}))}async setInitialGasEstimate(e){const t={...this.state.swapsState.quotes[e]},{gasLimit:n,simulationFails:r}=t.trade?await this._timedoutGasReturn(t.trade,t.aggregator):{gasLimit:null,simulationFails:!0};if(n&&!r){const e=(0,E.calculateGasEstimateWithRefund)(t.maxGas,t.estimatedRefund,n);t.gasEstimate=n,t.gasEstimateWithRefund=e}this.update((n=>{n.swapsState.quotes={...n.swapsState.quotes,[e]:t}}))}setSelectedQuoteAggId(e){this.update((t=>{t.swapsState.selectedAggId=e}))}setSwapsFeatureFlags(e){this.update((t=>{t.swapsState.swapsFeatureFlags=e}))}setSwapsErrorKey(e){this.update((t=>{t.swapsState.errorKey=e}))}setSwapsLiveness(e){const{swapsFeatureIsLive:t}=e;this.update((e=>{e.swapsState.swapsFeatureIsLive=t}))}setSwapsQuotesPollingLimitEnabled(e){this.update((t=>{t.swapsState.quotesPollingLimitEnabled=e}))}setSwapsTokens(e){this.update((t=>{t.swapsState.tokens=e}))}setSwapsTxGasLimit(e){this.update((t=>{t.swapsState.customMaxGas=e}))}setSwapsTxGasPrice(e){this.update((t=>{t.swapsState.customGasPrice=e}))}setSwapsTxMaxFeePerGas(e){this.update((t=>{t.swapsState.customMaxFeePerGas=e}))}setSwapsTxMaxFeePriorityPerGas(e){this.update((t=>{t.swapsState.customMaxPriorityFeePerGas=e}))}setSwapsUserFeeLevel(e){this.update((t=>{t.swapsState.swapsUserFeeLevel=e}))}setTradeTxId(e){this.update((t=>{t.swapsState.tradeTxId=e}))}stopPollingForQuotes(){j(this,R)&&clearTimeout(j(this,R))}async _fetchSwapsNetworkConfig(e){const t=await(0,b.default)({url:(0,y.getBaseApi)("network",e),fetchOptions:{method:"GET"},cacheOptions:{cacheRefreshTime:6e5},functionName:"_fetchSwapsNetworkConfig"}),{refreshRates:n,parameters:r={}}=t||{};if(!n||"number"!=typeof n.quotes||"number"!=typeof n.quotesPrefetching)throw new Error(`MetaMask - invalid response for refreshRates: ${t}`);return{quotes:1e3*n.quotes,quotesPrefetching:1e3*n.quotesPrefetching,stxGetTransactions:1e3*n.stxGetTransactions,stxBatchStatus:1e3*n.stxBatchStatus,stxStatusDeadline:n.stxStatusDeadline,stxMaxFeeMultiplier:r.stxMaxFeeMultiplier,swapsStxStatusDeadline:r.stxStatusDeadline}}async _getAllQuotesWithGasEstimates(e){const t=await Promise.all(Object.values(e).map((async e=>{if(!e.trade)return{gasLimit:null,simulationFails:!0,aggId:e.aggregator};const{gasLimit:t,simulationFails:n}=await this._timedoutGasReturn(e.trade,e.aggregator);return{gasLimit:t,simulationFails:n,aggId:e.aggregator}}))),n={};return t.forEach((({gasLimit:t,simulationFails:r,aggId:s})=>{if(t&&!r){const r=(0,E.calculateGasEstimateWithRefund)(e[s].maxGas,e[s].estimatedRefund,t);n[s]={...e[s],gasEstimate:t,gasEstimateWithRefund:r}}else e[s].approvalNeeded&&(n[s]=e[s])})),n}_getCurrentChainId(){const{selectedNetworkClientId:e}=this.messagingSystem.call("NetworkController:getState"),{configuration:{chainId:t}}=this.messagingSystem.call("NetworkController:getNetworkClientById",e);return t}async _getERC20Allowance(e,t,n){const s=new r.Contract(e,c.default,j(this,M));return await s.allowance(t,g.SWAPS_CHAINID_CONTRACT_ADDRESS_MAP[n])}_getTokenRatesState(){const{marketData:e}=this.messagingSystem.call("TokenRatesController:getState");return{marketData:e}}_pollForNewQuotes(){const{swapsQuoteRefreshTime:e,swapsQuotePrefetchingRefreshTime:t,quotesPollingLimitEnabled:n}=this.state.swapsState;C(this,R,setTimeout((()=>{var e;this.fetchAndSetQuotes(this.state.swapsState.fetchParams,null===(e=this.state.swapsState.fetchParams)||void 0===e?void 0:e.metaData,!0)}),n?e:t))}_setSaveFetchedQuotes(e){this.update((t=>{t.swapsState.saveFetchedQuotes=e}))}async _setSwapsNetworkConfig(){const e=this._getCurrentChainId();let t=null;try{t=await this._fetchSwapsNetworkConfig(e)}catch(e){console.error("Request for Swaps network config failed: ",e)}this.update((e=>{var n,r,s,i,a,o;e.swapsState.swapsQuoteRefreshTime=(null===(n=t)||void 0===n?void 0:n.quotes)||T.FALLBACK_QUOTE_REFRESH_TIME,e.swapsState.swapsQuotePrefetchingRefreshTime=(null===(r=t)||void 0===r?void 0:r.quotesPrefetching)||T.FALLBACK_QUOTE_REFRESH_TIME,e.swapsState.swapsStxGetTransactionsRefreshTime=(null===(s=t)||void 0===s?void 0:s.stxGetTransactions)||p.FALLBACK_SMART_TRANSACTIONS_REFRESH_TIME,e.swapsState.swapsStxBatchStatusRefreshTime=(null===(i=t)||void 0===i?void 0:i.stxBatchStatus)||p.FALLBACK_SMART_TRANSACTIONS_REFRESH_TIME,e.swapsState.swapsStxMaxFeeMultiplier=(null===(a=t)||void 0===a?void 0:a.stxMaxFeeMultiplier)||p.FALLBACK_SMART_TRANSACTIONS_MAX_FEE_MULTIPLIER,e.swapsState.swapsStxStatusDeadline=(null===(o=t)||void 0===o?void 0:o.swapsStxStatusDeadline)||p.FALLBACK_SMART_TRANSACTIONS_DEADLINE}))}_timedoutGasReturn(e,t=""){return new Promise((n=>{let r=!1;const s=setTimeout((()=>{r=!0,this.trackMetaMetricsEvent({event:d.MetaMetricsEventName.QuoteError,category:d.MetaMetricsEventCategory.Swaps,properties:{error_type:d.MetaMetricsEventErrorType.GasTimeout,aggregator:t}}),n({gasLimit:null,simulationFails:!0})}),5*m.SECOND),i={data:e.data,from:e.from,to:e.to,value:e.value};this.getBufferedGasLimit({txParams:i},1).then((({gasLimit:e,simulationFails:t})=>{r||(clearTimeout(s),n({gasLimit:e,simulationFails:t}))})).catch((e=>{(0,a.captureException)(e,{extra:{aggregator:t}}),r||(clearTimeout(s),n({gasLimit:null,simulationFails:!0}))}))}))}}n.default=U}}},{package:"$root$",file:"app/scripts/controllers/swaps/index.ts"}],[4300,{"./_Symbol":4265},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_Symbol"),s=r?r.prototype:undefined,i=s?s.valueOf:undefined;t.exports=function(e){return i?Object(i.call(e)):{}}}}},{package:"lodash",file:"node_modules/lodash/_cloneSymbol.js"}],[4301,{"./_cloneArrayBuffer":4296},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_cloneArrayBuffer");t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}}}},{package:"lodash",file:"node_modules/lodash/_cloneTypedArray.js"}],[4302,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}}}},{package:"lodash",file:"node_modules/lodash/_copyArray.js"}],[4303,{"./_assignValue":4273,"./_baseAssignValue":4277},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_assignValue"),s=e("./_baseAssignValue");t.exports=function(e,t,n,i){var a=!n;n||(n={});for(var o=-1,c=t.length;++o<c;){var u=t[o],l=i?i(n[u],e[u],u,n,e):undefined;l===undefined&&(l=e[u]),a?s(n,u,l):r(n,u,l)}return n}}}},{package:"lodash",file:"node_modules/lodash/_copyObject.js"}],[4304,{"./_copyObject":4303,"./_getSymbols":4318},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_copyObject"),s=e("./_getSymbols");t.exports=function(e,t){return r(e,s(e),t)}}}},{package:"lodash",file:"node_modules/lodash/_copySymbols.js"}],[4305,{"./_copyObject":4303,"./_getSymbolsIn":4319},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_copyObject"),s=e("./_getSymbolsIn");t.exports=function(e,t){return r(e,s(e),t)}}}},{package:"lodash",file:"node_modules/lodash/_copySymbolsIn.js"}],[4307,{"./_getNative":4315},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_getNative"),s=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.exports=s}}},{package:"lodash",file:"node_modules/lodash/_defineProperty.js"}],[4313,{"./_baseGetAllKeys":4280,"./_getSymbolsIn":4319,"./keysIn":4381},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_baseGetAllKeys"),s=e("./_getSymbolsIn"),i=e("./keysIn");t.exports=function(e){return r(e,i,s)}}}},{package:"lodash",file:"node_modules/lodash/_getAllKeysIn.js"}],[4316,{"./_overArg":4350},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=r}}},{package:"lodash",file:"node_modules/lodash/_getPrototype.js"}],[4319,{"./_arrayPush":4271,"./_getPrototype":4316,"./_getSymbols":4318,"./stubArray":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_arrayPush"),s=e("./_getPrototype"),i=e("./_getSymbols"),a=e("./stubArray"),o=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=s(e);return t}:a;t.exports=o}}},{package:"lodash",file:"node_modules/lodash/_getSymbolsIn.js"}],[4327,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Object.prototype.hasOwnProperty;t.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}}}},{package:"lodash",file:"node_modules/lodash/_initCloneArray.js"}],[4328,{"./_cloneArrayBuffer":4296,"./_cloneDataView":4298,"./_cloneRegExp":4299,"./_cloneSymbol":4300,"./_cloneTypedArray":4301},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_cloneArrayBuffer"),s=e("./_cloneDataView"),i=e("./_cloneRegExp"),a=e("./_cloneSymbol"),o=e("./_cloneTypedArray");t.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return s(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}}}},{package:"lodash",file:"node_modules/lodash/_initCloneByTag.js"}],[4329,{"./_baseCreate":4279,"./_getPrototype":4316,"./_isPrototype":4333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_baseCreate"),s=e("./_getPrototype"),i=e("./_isPrototype");t.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(s(e))}}}},{package:"lodash",file:"node_modules/lodash/_initCloneObject.js"}],[4347,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}}}},{package:"lodash",file:"node_modules/lodash/_nativeKeysIn.js"}],[4361,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=/\s/;t.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}}}},{package:"lodash",file:"node_modules/lodash/_trimmedEndIndex.js"}],[4362,{"./_baseClone":4278},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_baseClone");t.exports=function(e){return r(e,5)}}}},{package:"lodash",file:"node_modules/lodash/cloneDeep.js"}],[4364,{"./_baseInRange":4282,"./toFinite":4385,"./toNumber":4387},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_baseInRange"),s=e("./toFinite"),i=e("./toNumber");t.exports=function(e,t,n){return t=s(t),n===undefined?(n=t,t=0):n=s(n),e=i(e),r(e,t,n)}}}},{package:"lodash",file:"node_modules/lodash/inRange.js"}],[4369,{"./_baseKeys":4290,"./_getTag":4320,"./_isPrototype":4333,"./isArguments":4365,"./isArray":4366,"./isArrayLike":4367,"./isBuffer":4368,"./isTypedArray":4379},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_baseKeys"),s=e("./_getTag"),i=e("./isArguments"),a=e("./isArray"),o=e("./isArrayLike"),c=e("./isBuffer"),u=e("./_isPrototype"),l=e("./isTypedArray"),h=Object.prototype.hasOwnProperty;t.exports=function(e){if(null==e)return!0;if(o(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||i(e)))return!e.length;var t=s(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}}}},{package:"lodash",file:"node_modules/lodash/isEmpty.js"}],[4372,{"./toInteger":4386},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./toInteger");t.exports=function(e){return"number"==typeof e&&e==r(e)}}}},{package:"lodash",file:"node_modules/lodash/isInteger.js"}],[4374,{"./_baseIsMap":4286,"./_baseUnary":4294,"./_nodeUtil":4348},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_baseIsMap"),s=e("./_baseUnary"),i=e("./_nodeUtil"),a=i&&i.isMap,o=a?s(a):r;t.exports=o}}},{package:"lodash",file:"node_modules/lodash/isMap.js"}],[4377,{"./_baseIsSet":4288,"./_baseUnary":4294,"./_nodeUtil":4348},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_baseIsSet"),s=e("./_baseUnary"),i=e("./_nodeUtil"),a=i&&i.isSet,o=a?s(a):r;t.exports=o}}},{package:"lodash",file:"node_modules/lodash/isSet.js"}],[4378,{"./_baseGetTag":4281,"./isObjectLike":4376},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_baseGetTag"),s=e("./isObjectLike");t.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==r(e)}}}},{package:"lodash",file:"node_modules/lodash/isSymbol.js"}],[4381,{"./_arrayLikeKeys":4270,"./_baseKeysIn":4291,"./isArrayLike":4367},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_arrayLikeKeys"),s=e("./_baseKeysIn"),i=e("./isArrayLike");t.exports=function(e){return i(e)?r(e,!0):s(e)}}}},{package:"lodash",file:"node_modules/lodash/keysIn.js"}],[4385,{"./toNumber":4387},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./toNumber"),s=1/0;t.exports=function(e){return e?(e=r(e))===s||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}}}},{package:"lodash",file:"node_modules/lodash/toFinite.js"}],[4386,{"./toFinite":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./toFinite");t.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}}}},{package:"lodash",file:"node_modules/lodash/toInteger.js"}],[4387,{"./_baseTrim":4293,"./isObject":4375,"./isSymbol":4378},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("./_baseTrim"),s=e("./isObject"),i=e("./isSymbol"),a=0/0,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(i(e))return a;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):o.test(e)?a:+e}}}},{package:"lodash",file:"node_modules/lodash/toNumber.js"}],[44,{"../../../../shared/constants/smartTransactions":5055,"../../../../shared/constants/time":5059},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.controllerName=n.POLL_COUNT_LIMIT=n.MAX_GAS_LIMIT=n.FALLBACK_QUOTE_REFRESH_TIME=void 0,n.getDefaultSwapsControllerState=function(){return{swapsState:{quotes:{},quotesPollingLimitEnabled:!1,fetchParams:null,tokens:null,tradeTxId:null,approveTxId:null,quotesLastFetched:null,customMaxGas:"",customGasPrice:null,customMaxFeePerGas:null,customMaxPriorityFeePerGas:null,swapsUserFeeLevel:"",selectedAggId:null,customApproveTxData:"",errorKey:"",topAggId:null,routeState:"",swapsFeatureIsLive:!0,saveFetchedQuotes:!1,swapsQuoteRefreshTime:i,swapsQuotePrefetchingRefreshTime:i,swapsStxBatchStatusRefreshTime:r.FALLBACK_SMART_TRANSACTIONS_REFRESH_TIME,swapsStxStatusDeadline:r.FALLBACK_SMART_TRANSACTIONS_DEADLINE,swapsStxGetTransactionsRefreshTime:r.FALLBACK_SMART_TRANSACTIONS_REFRESH_TIME,swapsStxMaxFeeMultiplier:r.FALLBACK_SMART_TRANSACTIONS_MAX_FEE_MULTIPLIER,swapsFeatureFlags:{}}}};var r=e("../../../../shared/constants/smartTransactions"),s=e("../../../../shared/constants/time");n.controllerName="SwapsController",n.MAX_GAS_LIMIT=25e5,n.POLL_COUNT_LIMIT=3;const i=n.FALLBACK_QUOTE_REFRESH_TIME=s.MINUTE}}},{package:"$root$",file:"app/scripts/controllers/swaps/swaps.constants.ts"}],[4430,{"./util":4434},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{encodeText:r}=e("./util");t.exports=class{constructor(e,t,n,s){this.name=e,this.code=t,this.codeBuf=r(this.code),this.alphabet=s,this.codec=n(s)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}}}}},{package:"@ensdomains/content-hash>cids>multibase",file:"node_modules/multibase/src/base.js"}],[4431,{"./base.js":4430,"./rfc4648":4433,"./util":4434,"@multiformats/base-x":2788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("@multiformats/base-x"),s=e("./base.js"),{rfc4648:i}=e("./rfc4648"),{decodeText:a,encodeText:o}=e("./util"),c=[["identity","\0",()=>({encode:a,decode:o}),""],["base2","0",i(1),"01"],["base8","7",i(3),"01234567"],["base10","9",r,"0123456789"],["base16","f",i(4),"0123456789abcdef"],["base16upper","F",i(4),"0123456789ABCDEF"],["base32hex","v",i(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",i(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",i(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",i(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",i(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",i(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",i(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",r,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",r,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",r,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",r,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",i(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce(((e,t)=>(e[t[0]]=new s(t[0],t[1],t[2],t[3]),e)),{}),l=c.reduce(((e,t)=>(e[t[1]]=u[t[0]],e)),{});t.exports={names:u,codes:l}}}},{package:"@ensdomains/content-hash>cids>multibase",file:"node_modules/multibase/src/constants.js"}],[4432,{"./constants":4431,"./util":4434},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("./constants"),{encodeText:s,decodeText:i,concat:a}=e("./util");function o(e){if(Object.prototype.hasOwnProperty.call(r.names,e))return r.names[e];if(Object.prototype.hasOwnProperty.call(r.codes,e))return r.codes[e];throw new Error(`Unsupported encoding: ${e}`)}(n=t.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");const{name:n,codeBuf:r}=o(e);return function(e,t){const n=o(e);n.decode(i(t))}(n,t),a([r,t],r.length+t.length)}).encode=function(e,t){const n=o(e),r=s(n.encode(t));return a([n.codeBuf,r],n.codeBuf.length+r.length)},n.decode=function(e){e instanceof Uint8Array&&(e=i(e));const t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),o(e[0]).decode(e.substring(1))},n.isEncoded=function(e){if(e instanceof Uint8Array&&(e=i(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return o(e[0]).name}catch(e){return!1}},n.encoding=o,n.encodingFromData=function(e){return e instanceof Uint8Array&&(e=i(e)),o(e[0])};const c=Object.freeze(r.names),u=Object.freeze(r.codes);n.names=c,n.codes=u}}},{package:"@ensdomains/content-hash>cids>multibase",file:"node_modules/multibase/src/index.js"}],[4433,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={rfc4648:e=>t=>({encode:n=>((e,t,n)=>{const r="="===t[t.length-1],s=(1<<n)-1;let i="",a=0,o=0;for(let r=0;r<e.length;++r)for(o=o<<8|e[r],a+=8;a>n;)a-=n,i+=t[s&o>>a];if(a&&(i+=t[s&o<<n-a]),r)for(;i.length*n&7;)i+="=";return i})(n,t,e),decode:n=>((e,t,n)=>{const r={};for(let e=0;e<t.length;++e)r[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const i=new Uint8Array(s*n/8|0);let a=0,o=0,c=0;for(let t=0;t<s;++t){const s=r[e[t]];if(s===undefined)throw new SyntaxError("Invalid character "+e[t]);o=o<<n|s,a+=n,a>=8&&(a-=8,i[c++]=255&o>>a)}if(a>=n||255&o<<8-a)throw new SyntaxError("Unexpected end of data");return i})(n,t,e)})}}}},{package:"@ensdomains/content-hash>cids>multibase",file:"node_modules/multibase/src/rfc4648.js"}],[4434,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=new TextDecoder,s=new TextEncoder;t.exports={decodeText:e=>r.decode(e),encodeText:e=>s.encode(e),concat:function(e,t){const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}}}}},{package:"@ensdomains/content-hash>cids>multibase",file:"node_modules/multibase/src/util.js"}],[4435,{"./util/as-uint8array.js":4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./util/as-uint8array.js");n.alloc=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.alloc?r.asUint8Array(globalThis.Buffer.alloc(e)):new Uint8Array(e)},n.allocUnsafe=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?r.asUint8Array(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}}}},{package:"@ensdomains/content-hash>multicodec>uint8arrays",file:"node_modules/multicodec/node_modules/uint8arrays/cjs/src/alloc.js"}],[4436,{"./alloc.js":4435,"./util/as-uint8array.js":4439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./alloc.js"),s=e("./util/as-uint8array.js");n.concat=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=r.allocUnsafe(t);let i=0;for(const t of e)n.set(t,i),i+=t.length;return s.asUint8Array(n)}}}},{package:"@ensdomains/content-hash>multicodec>uint8arrays",file:"node_modules/multicodec/node_modules/uint8arrays/cjs/src/concat.js"}],[4437,{"./util/as-uint8array.js":4439,"./util/bases.js":4440},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./util/bases.js"),s=e("./util/as-uint8array.js");n.fromString=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):s.asUint8Array(globalThis.Buffer.from(e,"utf-8"))}}}},{package:"@ensdomains/content-hash>multicodec>uint8arrays",file:"node_modules/multicodec/node_modules/uint8arrays/cjs/src/from-string.js"}],[4438,{"./util/bases.js":4440},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./util/bases.js");n.toString=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}}}},{package:"@ensdomains/content-hash>multicodec>uint8arrays",file:"node_modules/multicodec/node_modules/uint8arrays/cjs/src/to-string.js"}],[4439,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.asUint8Array=function(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}}}},{package:"@ensdomains/content-hash>multicodec>uint8arrays",file:"node_modules/multicodec/node_modules/uint8arrays/cjs/src/util/as-uint8array.js"}],[4440,{"../alloc.js":4435,"multiformats/basics":4456},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=e("multiformats/basics"),s=e("../alloc.js");function i(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const a=i("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),o=i("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{e=e.substring(1);const t=s.allocUnsafe(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),c={utf8:a,"utf-8":a,hex:r.bases.base16,latin1:o,ascii:o,binary:o,...r.bases};t.exports=c}}},{package:"@ensdomains/content-hash>multicodec>uint8arrays",file:"node_modules/multicodec/node_modules/uint8arrays/cjs/src/util/bases.js"}],[4441,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"eth-receipt-log-trie":153,"eth-reciept-log":154,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"caip-50":202,streamid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,noise:454,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,"swhid-1-snp":496,json:512,messagepack:513,"libp2p-peer-record":769,"libp2p-relay-rsvp":770,"car-index-sorted":1024,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,"secp256k1-priv":4865,"x25519-priv":4866,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056,"arweave-ns":11704592});t.exports={baseTable:r}}}},{package:"@ensdomains/content-hash>multicodec",file:"node_modules/multicodec/src/generated-table.js"}],[4442,{"./maps":4443,"./util":4444,"uint8arrays/concat":4436,varint:4983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("varint"),{concat:s}=e("uint8arrays/concat"),i=e("./util"),{nameToVarint:a,constantToCode:o,nameToCode:c,codeToName:u}=e("./maps");function l(e){const t=r.decode(e),n=u[t];if(n===undefined)throw new Error(`Code "${t}" not found`);return n}function h(e){return u[e]}function d(e){const t=c[e];if(t===undefined)throw new Error(`Codec "${e}" not found`);return t}function f(e){return r.decode(e)}function p(e){const t=a[e];if(t===undefined)throw new Error(`Codec "${e}" not found`);return t}function g(e){return i.varintEncode(e)}t.exports={addPrefix:function(e,t){let n;if(e instanceof Uint8Array)n=i.varintUint8ArrayEncode(e);else{if(!a[e])throw new Error("multicodec not recognized");n=a[e]}return s([n,t],n.length+t.length)},rmPrefix:function(e){return r.decode(e),e.slice(r.decode.bytes)},getNameFromData:l,getNameFromCode:h,getCodeFromName:d,getCodeFromData:f,getVarintFromName:p,getVarintFromCode:g,getCodec:function(e){return l(e)},getName:function(e){return h(e)},getNumber:function(e){return d(e)},getCode:function(e){return f(e)},getCodeVarint:function(e){return p(e)},getVarint:function(e){return Array.from(g(e))},...o,nameToVarint:a,nameToCode:c,codeToName:u}}}},{package:"@ensdomains/content-hash>multicodec",file:"node_modules/multicodec/src/index.js"}],[4443,{"./generated-table":4441,"./util":4444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{baseTable:r}=e("./generated-table"),s=e("./util").varintEncode,i={},a={},o={};for(const e in r){const t=e,n=r[t];i[t]=s(n);a[t.toUpperCase().replace(/-/g,"_")]=n,o[n]||(o[n]=t)}Object.freeze(i),Object.freeze(a),Object.freeze(o);const c=Object.freeze(r);t.exports={nameToVarint:i,constantToCode:a,nameToCode:c,codeToName:o}}}},{package:"@ensdomains/content-hash>multicodec",file:"node_modules/multicodec/src/maps.js"}],[4444,{"uint8arrays/from-string":4437,"uint8arrays/to-string":4438,varint:4983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("varint"),{toString:s}=e("uint8arrays/to-string"),{fromString:i}=e("uint8arrays/from-string");function a(e){return parseInt(s(e,"base16"),16)}t.exports={numberToUint8Array:function(e){let t=e.toString(16);t.length%2==1&&(t="0"+t);return i(t,"base16")},uint8ArrayToNumber:a,varintUint8ArrayEncode:function(e){return Uint8Array.from(r.encode(a(e)))},varintEncode:function(e){return Uint8Array.from(r.encode(e))}}}}},{package:"@ensdomains/content-hash>multicodec",file:"node_modules/multicodec/src/util.js"}],[4446,{"./base.js":4445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./base.js").baseX({prefix:"9",name:"base10",alphabet:"0123456789"});n.base10=r}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/bases/base10.js"}],[4447,{"./base.js":4445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./base.js");const s=r.rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),i=r.rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});n.base16=s,n.base16upper=i}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/bases/base16.js"}],[4448,{"./base.js":4445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./base.js").rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});n.base2=r}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/bases/base2.js"}],[4449,{"./base.js":4445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./base.js");const s=Array.from(""),i=s.reduce(((e,t,n)=>(e[n]=t,e)),[]),a=s.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]);const o=r.from({prefix:"",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=i[t]),"")},decode:function(e){const t=[];for(const n of e){const e=a[n.codePointAt(0)];if(e===undefined)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});n.base256emoji=o}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/bases/base256emoji.js"}],[4451,{"./base.js":4445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./base.js");const s=r.baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),i=r.baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});n.base36=s,n.base36upper=i}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/bases/base36.js"}],[4453,{"./base.js":4445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./base.js");const s=r.rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),i=r.rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),a=r.rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),o=r.rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});n.base64=s,n.base64pad=i,n.base64url=a,n.base64urlpad=o}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/bases/base64.js"}],[4454,{"./base.js":4445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./base.js").rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});n.base8=r}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/bases/base8.js"}],[4455,{"../bytes.js":4457,"./base.js":4445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./base.js"),s=e("../bytes.js");const i=r.from({prefix:"\0",name:"identity",encode:e=>s.toString(e),decode:e=>s.fromString(e)});n.identity=i}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/bases/identity.js"}],[4456,{"./bases/base10.js":4446,"./bases/base16.js":4447,"./bases/base2.js":4448,"./bases/base256emoji.js":4449,"./bases/base32.js":4450,"./bases/base36.js":4451,"./bases/base58.js":4452,"./bases/base64.js":4453,"./bases/base8.js":4454,"./bases/identity.js":4455,"./bytes.js":4457,"./cid.js":4458,"./codecs/json.js":4459,"./codecs/raw.js":4460,"./hashes/digest.js":4461,"./hashes/hasher.js":4462,"./hashes/identity.js":4463,"./hashes/sha2.js":4464,"./index.js":4465,"./varint.js":4466},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./bases/identity.js"),s=e("./bases/base2.js"),i=e("./bases/base8.js"),a=e("./bases/base10.js"),o=e("./bases/base16.js"),c=e("./bases/base32.js"),u=e("./bases/base36.js"),l=e("./bases/base58.js"),h=e("./bases/base64.js"),d=e("./bases/base256emoji.js"),f=e("./hashes/sha2.js"),p=e("./hashes/identity.js"),g=e("./codecs/raw.js"),m=e("./codecs/json.js");e("./index.js");var b=e("./cid.js"),y=e("./hashes/hasher.js"),w=e("./hashes/digest.js"),_=e("./varint.js"),v=e("./bytes.js");const k={...r,...s,...i,...a,...o,...c,...u,...l,...h,...d},S={...f,...p},T={raw:g,json:m};n.CID=b.CID,n.hasher=y,n.digest=w,n.varint=_,n.bytes=v,n.bases=k,n.codecs=T,n.hashes=S}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/basics.js"}],[4459,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=new TextEncoder,s=new TextDecoder;n.code=512,n.decode=e=>JSON.parse(s.decode(e)),n.encode=e=>r.encode(JSON.stringify(e)),n.name="json"}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/codecs/json.js"}],[4460,{"../bytes.js":4457},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("../bytes.js");n.code=85,n.decode=e=>r.coerce(e),n.encode=e=>r.coerce(e),n.name="raw"}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/codecs/raw.js"}],[4462,{"./digest.js":4461},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./digest.js");class s{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?r.create(this.code,t):t.then((e=>r.create(this.code,e)))}throw Error("Unknown type, must be binary type")}}n.Hasher=s,n.from=({name:e,code:t,encode:n})=>new s(e,t,n)}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/hashes/hasher.js"}],[4463,{"../bytes.js":4457,"./digest.js":4461},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("../bytes.js"),s=e("./digest.js");const i=r.coerce,a={code:0,name:"identity",encode:i,digest:e=>s.create(0,i(e))};n.identity=a}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/hashes/identity.js"}],[4464,{"./hasher.js":4462},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./hasher.js");const s=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),i=r.from({name:"sha2-256",code:18,encode:s("SHA-256")}),a=r.from({name:"sha2-512",code:19,encode:s("SHA-512")});n.sha256=i,n.sha512=a}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/hashes/sha2-browser.js"}],[4465,{"./bytes.js":4457,"./cid.js":4458,"./hashes/digest.js":4461,"./hashes/hasher.js":4462,"./varint.js":4466},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./cid.js"),s=e("./varint.js"),i=e("./bytes.js"),a=e("./hashes/hasher.js"),o=e("./hashes/digest.js");n.CID=r.CID,n.varint=s,n.bytes=i,n.hasher=a,n.digest=o}}},{package:"@metamask/assets-controllers>multiformats",file:"node_modules/multiformats/cjs/src/index.js"}],[4469,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function e(t,n){var i,a=0,o=0,c=n=n||0,u=t.length;do{if(c>=u)throw e.bytes=0,new RangeError("Could not decode varint");i=t[c++],a+=o<28?(i&s)<<o:(i&s)*Math.pow(2,o),o+=7}while(i>=r);return e.bytes=c-n,a};var r=128,s=127}}},{package:"@ensdomains/content-hash>cids>multihashes>varint",file:"node_modules/multihashes/node_modules/varint/decode.js"}],[4470,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function e(t,n,a){n=n||[];var o=a=a||0;for(;t>=i;)n[a++]=255&t|r,t/=128;for(;t&s;)n[a++]=255&t|r,t>>>=7;return n[a]=0|t,e.bytes=a-o+1,n};var r=128,s=-128,i=Math.pow(2,31)}}},{package:"@ensdomains/content-hash>cids>multihashes>varint",file:"node_modules/multihashes/node_modules/varint/encode.js"}],[4471,{"./decode.js":4469,"./encode.js":4470,"./length.js":4472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={encode:e("./encode.js"),decode:e("./decode.js"),encodingLength:e("./length.js")}}}},{package:"@ensdomains/content-hash>cids>multihashes>varint",file:"node_modules/multihashes/node_modules/varint/index.js"}],[4472,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Math.pow(2,7),s=Math.pow(2,14),i=Math.pow(2,21),a=Math.pow(2,28),o=Math.pow(2,35),c=Math.pow(2,42),u=Math.pow(2,49),l=Math.pow(2,56),h=Math.pow(2,63);t.exports=function(e){return e<r?1:e<s?2:e<i?3:e<a?4:e<o?5:e<c?6:e<u?7:e<l?8:e<h?9:10}}}},{package:"@ensdomains/content-hash>cids>multihashes>varint",file:"node_modules/multihashes/node_modules/varint/length.js"}],[4473,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});t.exports={names:r}}}},{package:"@ensdomains/content-hash>cids>multihashes",file:"node_modules/multihashes/src/constants.js"}],[4474,{"./constants":4473,multibase:4432,"uint8arrays/concat":4920,"uint8arrays/from-string":4922,"uint8arrays/to-string":4923,varint:4471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("multibase"),s=e("varint"),{names:i}=e("./constants"),a=e("uint8arrays/to-string"),o=e("uint8arrays/from-string"),c=e("uint8arrays/concat"),u={};for(const e in i){const t=e;u[i[t]]=t}function l(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const t=s.decode(e);if(!f(t))throw new Error(`multihash unknown function code: 0x${t.toString(16)}`);e=e.slice(s.decode.bytes);const n=s.decode(e);if(n<0)throw new Error(`multihash invalid length: ${n}`);if((e=e.slice(s.decode.bytes)).length!==n)throw new Error(`multihash length inconsistent: 0x${a(e,"base16")}`);return{code:t,name:u[t],length:n,digest:e}}function h(e){let t=e;if("string"==typeof e){if(i[e]===undefined)throw new Error(`Unrecognized hash function named: ${e}`);t=i[e]}if("number"!=typeof t)throw new Error(`Hash function code should be a number. Got: ${t}`);if(u[t]===undefined&&!d(t))throw new Error(`Unrecognized function code: ${t}`);return t}function d(e){return e>0&&e<16}function f(e){return!!d(e)||!!u[e]}function p(e){l(e)}Object.freeze(u),t.exports={names:i,codes:u,toHexString:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return a(e,"base16")},fromHexString:function(e){return o(e,"base16")},toB58String:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return a(r.encode("base58btc",e)).slice(1)},fromB58String:function(e){const t=e instanceof Uint8Array?a(e):e;return r.decode("z"+t)},decode:l,encode:function(e,t,n){if(!e||t===undefined)throw new Error("multihash encode requires at least two args: digest, code");const r=h(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==n&&(n=e.length),n&&e.length!==n)throw new Error("digest length should be equal to specified length.");const i=s.encode(r),a=s.encode(n);return c([i,a,e],i.length+a.length+e.length)},coerceCode:h,isAppCode:d,validate:p,prefix:function(e){return p(e),e.subarray(0,2)},isValidCode:f}}}},{package:"@ensdomains/content-hash>cids>multihashes",file:"node_modules/multihashes/src/index.js"}],[45,{"./swaps.constants":44,"bignumber.js":3481},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateGasEstimateWithRefund=function(e=s.MAX_GAS_LIMIT,t="0",n="0"){const i=new r.BigNumber(e,10).minus(t,10),a=i.lt(0);return!a&&i.lt(n,16)?`0x${i.toString(16)}`:n},n.getMedianEthValueQuote=function(e){if(!Array.isArray(e)||0===e.length)throw new Error("Expected non-empty array param.");const t=[...e];if(t.sort(((e,t)=>{const n=new r.BigNumber(e.overallValueOfQuote,10),s=new r.BigNumber(t.overallValueOfQuote,10);return n.equals(s)?0:n.lessThan(s)?-1:1})),t.length%2==1){const e=t[(t.length-1)/2].overallValueOfQuote;return i(t.filter((t=>e===t.overallValueOfQuote)))}const n=t.length/2,s=n-1,a=t[n].overallValueOfQuote,o=t[s].overallValueOfQuote,c=t.filter((e=>a===e.overallValueOfQuote)),u=t.filter((e=>o===e.overallValueOfQuote)),l=i(c),h=i(u);return{ethFee:new r.BigNumber(l.ethFee,10).plus(h.ethFee,10).dividedBy(2).toString(10),metaMaskFeeInEth:new r.BigNumber(l.metaMaskFeeInEth,10).plus(h.metaMaskFeeInEth,10).dividedBy(2).toString(10),ethValueOfTokens:new r.BigNumber(l.ethValueOfTokens,10).plus(h.ethValueOfTokens,10).dividedBy(2).toString(10)}},n.meansOfQuotesFeesAndValue=i;var r=e("bignumber.js"),s=e("./swaps.constants");function i(e){const t=e.reduce(((e,t)=>({ethFee:e.ethFee.plus(t.ethFee,10),metaMaskFeeInEth:e.metaMaskFeeInEth.plus(t.metaMaskFeeInEth,10),ethValueOfTokens:e.ethValueOfTokens.plus(t.ethValueOfTokens,10)})),{ethFee:new r.BigNumber(0,10),metaMaskFeeInEth:new r.BigNumber(0,10),ethValueOfTokens:new r.BigNumber(0,10)});return{ethFee:t.ethFee.div(e.length,10).toString(10),metaMaskFeeInEth:t.metaMaskFeeInEth.div(e.length,10).toString(10),ethValueOfTokens:t.ethValueOfTokens.div(e.length,10).toString(10)}}}}},{package:"$root$",file:"app/scripts/controllers/swaps/swaps.utils.ts"}],[4523,{_process:4524},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,s){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,a,o=arguments.length;switch(o){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,s)}));default:for(i=new Array(o-1),a=0;a<i.length;)i[a++]=arguments[a];return e.nextTick((function(){t.apply(null,i)}))}}}:t.exports=e}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream-2>process-nextick-args",file:"node_modules/process-nextick-args/index.js"}],[4595,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e)}}},{package:"@metamask/snaps-controllers>tar-stream>streamx>queue-tick",file:"node_modules/queue-tick/queue-microtask.js"}],[46,{"../../shared/constants/app":5031,"./lib/util":128,"webextension-polyfill":5010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.onMessageReceived=n.checkForMultipleVersionsRunning=void 0;var r,s=(r=e("webextension-polyfill"))&&r.__esModule?r:{default:r},i=e("../../shared/constants/app"),a=e("./lib/util");const o="isRunning";n.onMessageReceived=e=>{e===o&&console.warn("Warning! You have multiple instances of MetaMask running!")};n.checkForMultipleVersionsRunning=async()=>{if((0,a.getPlatform)()!==i.PLATFORM_CHROME&&(0,a.getPlatform)()!==i.PLATFORM_FIREFOX)return;const e=(0,a.getPlatform)()===i.PLATFORM_CHROME?i.CHROME_BUILD_IDS:i.FIREFOX_BUILD_IDS,t=s.default.runtime.id;for(const n of e)if(n!==t)try{await s.default.runtime.sendMessage(n,o)}catch(e){}}}}},{package:"$root$",file:"app/scripts/detect-multiple-instances.js"}],[47,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={config:{}}}}},{package:"$root$",file:"app/scripts/first-time-state.js"}],[4795,{"readable-stream":4794},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ReadableWebToNodeStream=void 0;const r=e("readable-stream");class s extends r.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released)return void this.push(null);this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}n.ReadableWebToNodeStream=s}}},{package:"@metamask/snaps-controllers>readable-web-to-node-stream",file:"node_modules/readable-web-to-node-stream/lib/index.js"}],[48,{"@metamask/name-controller":1754},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChangeType=n.AbstractPetnamesBridge=void 0;var r=e("@metamask/name-controller");function s(e,t){o(e,t),t.add(e)}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){o(e,t),t.set(e,n)}function o(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function u(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,h(e,t,"get"))}function l(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,h(e,t,"set"),n),n}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}let d=n.ChangeType=function(e){return e.ADDED="ADDED",e.UPDATED="UPDATED",e.DELETED="DELETED",e}({});var f=function(e){return e.SOURCE_TO_PETNAMES="Source->Petnames",e.PETNAMES_TO_SOURCE="Petnames->Source",e}(f||{});function p({type:e,variation:t,value:n}){return`${e}/${t}/${e===r.NameType.ETHEREUM_ADDRESS?n.toLowerCase():n}`}var g=new WeakMap,m=new WeakMap,b=new WeakMap,y=new WeakSet,w=new WeakSet,_=new WeakSet,v=new WeakSet,k=new WeakSet;function S(e){if(u(this,b)===e)throw new Error(`Attempted to synchronize recursively in same direction: ${e}`);if(null!==u(this,b))return;l(this,b,e);const[t,n]="Source->Petnames"===e?[this.getSourceEntries(),c(this,w,T).call(this)]:[c(this,w,T).call(this),this.getSourceEntries()],r=c(this,v,A).call(this,n,t);c(this,k,I).call(this,r),l(this,b,null)}function T(){const{names:e}=u(this,m).state,t=[];for(const n of Object.values(r.NameType))for(const r of Object.keys(e[n]))for(const s of Object.keys(e[n][r])){const{name:i,sourceId:a,origin:o}=e[n][r][s];if(!i)continue;const c={value:r,type:n,name:i,variation:s,sourceId:a??undefined,origin:o??undefined};this.shouldSyncPetname(c)&&t.push(c)}return t}function E(e,t){e===d.DELETED?(delete t.sourceId,delete t.origin,u(this,m).setName({...t,name:null})):u(this,m).setName(t)}function A(e,t){const n=[],r=[],s=[],i=new Map(e.map((e=>[p(e),e]))),a=new Map(t.map((e=>[p(e),e])));return a.forEach(((e,t)=>{const s=i.get(t);s?e.name!==s.name&&r.push(e):n.push(e)})),i.forEach(((e,t)=>{a.has(t)||s.push(e)})),{[d.ADDED]:n,[d.UPDATED]:r,[d.DELETED]:s}}function I(e){const t=u(this,b)===f.SOURCE_TO_PETNAMES?c(this,_,E).bind(this):this.updateSourceEntry.bind(this);for(const n of Object.values(d))for(const r of e[n])t(n,r)}n.AbstractPetnamesBridge=class{constructor({isTwoWay:e,nameController:t,messenger:n}){s(this,k),s(this,v),s(this,_),s(this,w),s(this,y),a(this,g,{writable:!0,value:void 0}),a(this,m,{writable:!0,value:void 0}),a(this,b,{writable:!0,value:null}),i(this,"messenger",void 0),l(this,g,e),l(this,m,t),this.messenger=n}init(){u(this,g)&&this.messenger.subscribe("NameController:stateChange",(()=>c(this,y,S).call(this,f.PETNAMES_TO_SOURCE))),this.onSourceChange((()=>c(this,y,S).call(this,f.SOURCE_TO_PETNAMES)))}updateSourceEntry(e,t){throw new Error("updateSourceEntry must be overridden for two-way bridges")}shouldSyncPetname(e){return!0}}}}},{package:"$root$",file:"app/scripts/lib/AbstractPetnamesBridge.ts"}],[4803,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(n=t.exports=function(e){return String(e).replace(n.expr,"")}).expr=/\/+$/}}},{package:"remove-trailing-slash",file:"node_modules/remove-trailing-slash/index.js"}],[4876,{"./ethersCompat":4877,"./types":4879,"./utils":4880,"@spruceid/siwe-parser":4882,"valid-url":4976},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.SiweMessage=void 0;const o=e("@spruceid/siwe-parser"),c=i(e("valid-url")),u=e("./ethersCompat"),l=e("./types"),h=e("./utils");n.SiweMessage=class{constructor(e){if("string"==typeof e){const t=new o.ParsedMessage(e);this.scheme=t.scheme,this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else this.scheme=null==e?void 0:e.scheme,this.domain=e.domain,this.address=e.address,this.statement=null==e?void 0:e.statement,this.uri=e.uri,this.version=e.version,this.chainId=e.chainId,this.nonce=e.nonce,this.issuedAt=null==e?void 0:e.issuedAt,this.expirationTime=null==e?void 0:e.expirationTime,this.notBefore=null==e?void 0:e.notBefore,this.requestId=null==e?void 0:e.requestId,this.resources=null==e?void 0:e.resources,"string"==typeof this.chainId&&(this.chainId=(0,o.parseIntegerNumber)(this.chainId));this.nonce=this.nonce||(0,h.generateNonce)(),this.validateMessage()}toMessage(){this.validateMessage();const e=`${this.scheme?`${this.scheme}://${this.domain}`:this.domain} wants you to sign in with your Ethereum account:`,t=`URI: ${this.uri}`;let n=[e,this.address].join("\n");const r=`Version: ${this.version}`;this.nonce||(this.nonce=(0,h.generateNonce)());const s=[t,r,"Chain ID: "+this.chainId||"1",`Nonce: ${this.nonce}`];if(this.issuedAt=this.issuedAt||(new Date).toISOString(),s.push(`Issued At: ${this.issuedAt}`),this.expirationTime){const e=`Expiration Time: ${this.expirationTime}`;s.push(e)}this.notBefore&&s.push(`Not Before: ${this.notBefore}`),this.requestId&&s.push(`Request ID: ${this.requestId}`),this.resources&&s.push(["Resources:",...this.resources.map((e=>`- ${e}`))].join("\n"));const i=s.join("\n");return n=[n,this.statement].join("\n\n"),this.statement&&(n+="\n"),[n,i].join("\n")}prepareMessage(){let e;return this.version,e=this.toMessage(),e}validate(e,t){return a(this,void 0,void 0,(function*(){return console.warn("validate() has been deprecated, please update your code to use verify(). validate() may be removed in future versions."),this.verify({signature:e},{provider:t,suppressExceptions:!1}).then((({data:e})=>e)).catch((({error:e})=>{throw e}))}))}verify(e,t={suppressExceptions:!1}){return a(this,void 0,void 0,(function*(){return new Promise(((n,r)=>{var s,i,a;const o=e=>t.suppressExceptions?n(e):r(e),c=(0,h.checkInvalidKeys)(e,l.VerifyParamsKeys);c.length>0&&o({success:!1,data:this,error:new Error(`${c.join(", ")} is/are not valid key(s) for VerifyParams.`)});const d=(0,h.checkInvalidKeys)(t,l.VerifyOptsKeys);c.length>0&&o({success:!1,data:this,error:new Error(`${d.join(", ")} is/are not valid key(s) for VerifyOpts.`)});const{signature:f,scheme:p,domain:g,nonce:m,time:b}=e;p&&p!==this.scheme&&o({success:!1,data:this,error:new l.SiweError(l.SiweErrorType.SCHEME_MISMATCH,p,this.scheme)}),g&&g!==this.domain&&o({success:!1,data:this,error:new l.SiweError(l.SiweErrorType.DOMAIN_MISMATCH,g,this.domain)}),m&&m!==this.nonce&&o({success:!1,data:this,error:new l.SiweError(l.SiweErrorType.NONCE_MISMATCH,m,this.nonce)});const y=new Date(b||new Date);if(this.expirationTime){const e=new Date(this.expirationTime);y.getTime()>=e.getTime()&&o({success:!1,data:this,error:new l.SiweError(l.SiweErrorType.EXPIRED_MESSAGE,`${y.toISOString()} < ${e.toISOString()}`,`${y.toISOString()} >= ${e.toISOString()}`)})}if(this.notBefore){const e=new Date(this.notBefore);y.getTime()<e.getTime()&&o({success:!1,data:this,error:new l.SiweError(l.SiweErrorType.NOT_YET_VALID_MESSAGE,`${y.toISOString()} >= ${e.toISOString()}`,`${y.toISOString()} < ${e.toISOString()}`)})}let w,_;try{w=this.prepareMessage()}catch(e){o({success:!1,data:this,error:e})}try{_=(0,u.verifyMessage)(w,f)}catch(e){console.error(e)}if(_===this.address)return n({success:!0,data:this});{const r=(0,h.checkContractWalletSignature)(this,f,t.provider).then((e=>e?{success:!0,data:this}:{success:!1,data:this,error:new l.SiweError(l.SiweErrorType.INVALID_SIGNATURE,_,`Resolved address to be ${this.address}`)})).catch((e=>({success:!1,data:this,error:e})));Promise.all([r,null===(a=null===(i=null===(s=null==t?void 0:t.verificationFallback)||void 0===s?void 0:s.call(t,e,t,this,r))||void 0===i?void 0:i.then((e=>e)))||void 0===a?void 0:a.catch((e=>e))]).then((([e,t])=>{if(t){if(t.success)return n(t);o(t)}else{if(e.success)return n(e);o(e)}}))}}))}))}validateMessage(...e){var t;if(e.length>0)throw new l.SiweError(l.SiweErrorType.UNABLE_TO_PARSE,"Unexpected argument in the validateMessage function.");if(!this.domain||0===this.domain.length||!/[^#?]*/.test(this.domain))throw new l.SiweError(l.SiweErrorType.INVALID_DOMAIN,`${this.domain} to be a valid domain.`);if(!(0,o.isEIP55Address)(this.address))throw new l.SiweError(l.SiweErrorType.INVALID_ADDRESS,(0,u.getAddress)(this.address),this.address);if(!c.isUri(this.uri))throw new l.SiweError(l.SiweErrorType.INVALID_URI,`${this.uri} to be a valid uri.`);if("1"!==this.version)throw new l.SiweError(l.SiweErrorType.INVALID_MESSAGE_VERSION,"1",this.version);const n=null===(t=null==this?void 0:this.nonce)||void 0===t?void 0:t.match(/[a-zA-Z0-9]{8,}/);if(!n||this.nonce.length<8||n[0]!==this.nonce)throw new l.SiweError(l.SiweErrorType.INVALID_NONCE,`Length > 8 (${n.length}). Alphanumeric.`,this.nonce);if(this.issuedAt&&!(0,h.isValidISO8601Date)(this.issuedAt))throw new Error(l.SiweErrorType.INVALID_TIME_FORMAT);if(this.expirationTime&&!(0,h.isValidISO8601Date)(this.expirationTime))throw new Error(l.SiweErrorType.INVALID_TIME_FORMAT);if(this.notBefore&&!(0,h.isValidISO8601Date)(this.notBefore))throw new Error(l.SiweErrorType.INVALID_TIME_FORMAT)}}}}},{package:"@metamask/profile-sync-controller>siwe",file:"node_modules/siwe/dist/client.js"}],[4877,{ethers:3869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAddress=n.hashMessage=n.verifyMessage=void 0;const r=e("ethers");let s=null,i=null,a=null;try{s=r.ethers.utils.verifyMessage,i=r.ethers.utils.hashMessage,a=r.ethers.utils.getAddress}catch(e){s=r.ethers.verifyMessage,i=r.ethers.hashMessage,a=r.ethers.getAddress}n.verifyMessage=s,n.hashMessage=i,n.getAddress=a}}},{package:"@metamask/profile-sync-controller>siwe",file:"node_modules/siwe/dist/ethersCompat.js"}],[4878,{"./client":4876,"./types":4879,"./utils":4880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),s(e("./client"),n),s(e("./types"),n),s(e("./utils"),n)}}},{package:"@metamask/profile-sync-controller>siwe",file:"node_modules/siwe/dist/siwe.js"}],[4879,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SiweErrorType=n.SiweError=n.VerifyOptsKeys=n.VerifyParamsKeys=void 0,n.VerifyParamsKeys=["signature","scheme","domain","nonce","time"],n.VerifyOptsKeys=["provider","suppressExceptions","verificationFallback"];n.SiweError=class{constructor(e,t,n){this.type=e,this.expected=t,this.received=n}},function(e){e.EXPIRED_MESSAGE="Expired message.",e.INVALID_DOMAIN="Invalid domain.",e.SCHEME_MISMATCH="Scheme does not match provided scheme for verification.",e.DOMAIN_MISMATCH="Domain does not match provided domain for verification.",e.NONCE_MISMATCH="Nonce does not match provided nonce for verification.",e.INVALID_ADDRESS="Invalid address.",e.INVALID_URI="URI does not conform to RFC 3986.",e.INVALID_NONCE="Nonce size smaller then 8 characters or is not alphanumeric.",e.NOT_YET_VALID_MESSAGE="Message is not valid yet.",e.INVALID_SIGNATURE="Signature does not match address of the message.",e.INVALID_TIME_FORMAT="Invalid time format.",e.INVALID_MESSAGE_VERSION="Invalid message version.",e.UNABLE_TO_PARSE="Unable to parse the message."}(n.SiweErrorType||(n.SiweErrorType={}))}}},{package:"@metamask/profile-sync-controller>siwe",file:"node_modules/siwe/dist/types.js"}],[4880,{"./ethersCompat":4877,"@stablelib/random":3062,ethers:3869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.checkInvalidKeys=n.isValidISO8601Date=n.generateNonce=n.checkContractWalletSignature=void 0;const s=e("@stablelib/random"),i=e("ethers"),a=e("./ethersCompat"),o=["function isValidSignature(bytes32 _message, bytes _signature) public view returns (bytes4)"],c=/^(?<date>[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/;n.checkContractWalletSignature=(e,t,n)=>r(void 0,void 0,void 0,(function*(){if(!n)return!1;const r=new i.Contract(e.address,o,n),s=(0,a.hashMessage)(e.prepareMessage());return"0x1626ba7e"===(yield r.isValidSignature(s,t))}));n.generateNonce=()=>{const e=(0,s.randomStringForEntropy)(96);if(!e||e.length<8)throw new Error("Error during nonce creation.");return e};n.isValidISO8601Date=e=>{const t=c.exec(e);if(!e)return!1;const n=new Date(t.groups.date).toISOString(),r=c.exec(n);return t.groups.date===r.groups.date};n.checkInvalidKeys=(e,t)=>{const n=[];return Object.keys(e).forEach((e=>{t.includes(e)||n.push(e)})),n}}}},{package:"@metamask/profile-sync-controller>siwe",file:"node_modules/siwe/dist/utils.js"}],[4881,{"./utils":4883,"apg-js/src/apg-api/api":3424,"apg-js/src/apg-lib/node-exports":3442},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParsedMessage=void 0;const i=s(e("apg-js/src/apg-api/api")),a=s(e("apg-js/src/apg-lib/node-exports")),o=e("./utils");class c{static generateApi(){const e=new i.default('\nsign-in-with-ethereum =\n    [ scheme "://" ] domain %s" wants you to sign in with your Ethereum account:" LF\n    address LF\n    LF\n    [ statement LF ]\n    LF\n    %s"URI: " URI LF\n    %s"Version: " version LF\n    %s"Chain ID: " chain-id LF\n    %s"Nonce: " nonce LF\n    %s"Issued At: " issued-at\n    [ LF %s"Expiration Time: " expiration-time ]\n    [ LF %s"Not Before: " not-before ]\n    [ LF %s"Request ID: " request-id ]\n    [ LF %s"Resources:"\n    resources ]\n\ndomain = authority\n\naddress = "0x" 40*40HEXDIG\n    ; Must also conform to captilization\n    ; checksum encoding specified in EIP-55\n    ; where applicable (EOAs).\n\nstatement = 1*( reserved / unreserved / " " )\n    ; The purpose is to exclude LF (line breaks).\n\nversion = "1"\n\nnonce = 8*( ALPHA / DIGIT )\n\nissued-at = date-time\nexpiration-time = date-time\nnot-before = date-time\n\nrequest-id = *pchar\n\nchain-id = 1*DIGIT\n    ; See EIP-155 for valid CHAIN_IDs.\n\nresources = *( LF resource )\n\nresource = "- " URI\n\n; ------------------------------------------------------------------------------\n; RFC 3986\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n                 / %x31-39 DIGIT         ; 10-99\n                 / "1" 2DIGIT            ; 100-199\n                 / "2" %x30-34 DIGIT     ; 200-249\n                 / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n\n; ------------------------------------------------------------------------------\n; RFC 3339\n\ndate-fullyear   = 4DIGIT\ndate-month      = 2DIGIT  ; 01-12\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\ntime-hour       = 2DIGIT  ; 00-23\ntime-minute     = 2DIGIT  ; 00-59\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\ntime-secfrac    = "." 1*DIGIT\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\nfull-date       = date-fullyear "-" date-month "-" date-mday\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n\n; ------------------------------------------------------------------------------\n; RFC 5234\n\nALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z\nLF             =  %x0A\n                  ; linefeed\nDIGIT          =  %x30-39\n                  ; 0-9\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n');if(e.generate(),e.errors.length)throw console.error(e.errorsToAscii()),console.error(e.linesToAscii()),console.log(e.displayAttributeErrors()),new Error("ABNF grammar has errors");return e.toObject()}}r=c,c.grammarObj=r.generateApi();n.ParsedMessage=class{constructor(e){const t=new a.default.parser;t.ast=new a.default.ast;const n=a.default.ids;t.ast.callbacks.scheme=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&0===r&&(i.scheme=a.default.utils.charsToString(t,r,s)),o};t.ast.callbacks.domain=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&(i.domain=a.default.utils.charsToString(t,r,s)),o};t.ast.callbacks.address=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&(i.address=a.default.utils.charsToString(t,r,s)),o};t.ast.callbacks.statement=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&(i.statement=a.default.utils.charsToString(t,r,s)),o};t.ast.callbacks.uri=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&(i.uri||(i.uri=a.default.utils.charsToString(t,r,s))),o};t.ast.callbacks.version=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&(i.version=a.default.utils.charsToString(t,r,s)),o};t.ast.callbacks["chain-id"]=function(e,t,r,s,i){const c=n.SEM_OK;return e===n.SEM_PRE&&(i.chainId=(0,o.parseIntegerNumber)(a.default.utils.charsToString(t,r,s))),c};t.ast.callbacks.nonce=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&(i.nonce=a.default.utils.charsToString(t,r,s)),o};t.ast.callbacks["issued-at"]=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&(i.issuedAt=a.default.utils.charsToString(t,r,s)),o};t.ast.callbacks["expiration-time"]=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&(i.expirationTime=a.default.utils.charsToString(t,r,s)),o};t.ast.callbacks["not-before"]=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&(i.notBefore=a.default.utils.charsToString(t,r,s)),o};t.ast.callbacks["request-id"]=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&(i.requestId=a.default.utils.charsToString(t,r,s)),o};t.ast.callbacks.resources=function(e,t,r,s,i){const o=n.SEM_OK;return e===n.SEM_PRE&&(i.resources=a.default.utils.charsToString(t,r,s).slice(3).split("\n- ")),o};const r=t.parse(c.grammarObj,"sign-in-with-ethereum",e);if(!r.success)throw new Error(`Invalid message: ${JSON.stringify(r)}`);const s={};t.ast.translate(s);for(const[e,t]of Object.entries(s))this[e]=t;if(0===this.domain.length)throw new Error("Domain cannot be empty.");if(!(0,o.isEIP55Address)(this.address))throw new Error("Address not conformant to EIP-55.")}}}}},{package:"@metamask/profile-sync-controller>siwe>@spruceid/siwe-parser",file:"node_modules/siwe/node_modules/@spruceid/siwe-parser/dist/abnf.js"}],[4882,{"./abnf":4881,"./utils":4883},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){r===undefined&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===undefined&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.ParsedMessage=void 0;const i=e("./abnf");Object.defineProperty(n,"ParsedMessage",{enumerable:!0,get:function(){return i.ParsedMessage}}),s(e("./utils"),n)}}},{package:"@metamask/profile-sync-controller>siwe>@spruceid/siwe-parser",file:"node_modules/siwe/node_modules/@spruceid/siwe-parser/dist/parsers.js"}],[4883,{"@noble/hashes/sha3":2827,"@noble/hashes/utils":2829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseIntegerNumber=n.isEIP55Address=void 0;const r=e("@noble/hashes/sha3"),s=e("@noble/hashes/utils");n.isEIP55Address=e=>{if(42!=e.length)return!1;const t=`${e}`.toLowerCase().replace("0x",""),n=(0,s.bytesToHex)((0,r.keccak_256)(t));let i="0x";for(let e=0;e<t.length;e++)parseInt(n[e],16)>=8?i+=t[e].toUpperCase():i+=t[e];return e===i};n.parseIntegerNumber=e=>{const t=parseInt(e);if(isNaN(t))throw new Error("Invalid number.");if(t===Infinity)throw new Error("Invalid number.");return t}}}},{package:"@metamask/profile-sync-controller>siwe>@spruceid/siwe-parser",file:"node_modules/siwe/node_modules/@spruceid/siwe-parser/dist/utils.js"}],[4891,{events:3874,"fast-fifo":3904,"queue-tick":4595},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{EventEmitter:r}=e("events"),s=new Error("Stream was destroyed"),i=new Error("Premature close"),a=e("queue-tick"),o=e("fast-fifo"),c=268435455,u=1^c,l=2^c,h=64,d=128,f=256,p=1024,g=2048,m=4096,b=8192,y=16384,w=32768,_=131072,v=131328,k=16^c,S=768^c,T=268402687,E=32^c,A=268304383,I=2<<18,x=4<<18,j=8<<18,C=16<<18,O=32<<18,P=64<<18,M=128<<18,D=256<<18,N=512<<18,L=201064447,R=267386879,B=234881023,F=262160,K=268173295,U=8404992,H=14,$=15,q=8405006,z=33587200,W=33587215,V=2359296,G=2359311,Q=Symbol.asyncIterator||Symbol("asyncIterator");class J{constructor(e,{highWaterMark:t=16384,map:n=null,mapWritable:r,byteLength:s,byteLengthWritable:i}={}){this.stream=e,this.queue=new o,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=i||s||we,this.map=r||n,this.afterWrite=re.bind(this),this.afterUpdateNextTick=ae.bind(this)}get ended(){return!!(this.stream._duplexState&O)}push(e){return null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=j,!0):(this.stream._duplexState|=6291456,!1)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=266338303),e}end(e){"function"==typeof e?this.stream.once("finish",e):e!==undefined&&null!==e&&this.push(e),this.stream._duplexState=(this.stream._duplexState|N)&R}autoBatch(e,t){const n=[],r=this.stream;for(n.push(e);(r._duplexState&G)===V;)n.push(r._writableState.shift());if(r._duplexState&$)return t(null);r._writev(n,t)}update(){const e=this.stream;e._duplexState|=I;do{for(;(e._duplexState&G)===j;){const t=this.shift();e._duplexState|=67371008,e._write(t,this.afterWrite)}1310720&e._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=267911167}updateNonPrimary(){const e=this.stream;if((144965647&e._duplexState)===N)return e._duplexState=134217727&e._duplexState|262144,void e._final(te.bind(this));4!=(e._duplexState&H)?1==(e._duplexState&W)&&(e._duplexState=(e._duplexState|F)&u,e._open(oe.bind(this))):e._duplexState&z||(e._duplexState|=F,e._destroy(ne.bind(this)))}continueUpdate(){return!!(this.stream._duplexState&M)&&(this.stream._duplexState&=B,!0)}updateCallback(){(35127311&this.stream._duplexState)===x?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&M||(this.stream._duplexState|=M,this.stream._duplexState&I||a(this.afterUpdateNextTick))}}class Y{constructor(e,{highWaterMark:t=16384,map:n=null,mapReadable:r,byteLength:s,byteLengthReadable:i}={}){this.stream=e,this.queue=new o,this.highWaterMark=0===t?1:t,this.buffered=0,this.readAhead=t>0,this.error=null,this.pipeline=null,this.byteLength=i||s||we,this.map=r||n,this.pipeTo=null,this.afterRead=se.bind(this),this.afterUpdateNextTick=ie.bind(this)}get ended(){return!!(this.stream._duplexState&y)}pipe(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof t&&(t=null),this.stream._duplexState|=512,this.pipeTo=e,this.pipeline=new Z(this.stream,e,t),t&&this.stream.on("error",_e),ye(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",_e),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const t=this.pipeline.done.bind(this.pipeline,e),n=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",t),e.on("close",n),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",ee.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=268369855&t._duplexState|1024,!1):(null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=268369919&t._duplexState|128,this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=268427135),e}unshift(e){const t=[null!==this.map?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let e=0;e<t.length-1;e++){const n=t[e];this.buffered+=this.byteLength(n),this.queue.push(n)}this.push(t[t.length-1])}read(){const e=this.stream;if((16527&e._duplexState)===d){const t=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=S),e._duplexState&g&&e.emit("data",t),t}return!1===this.readAhead&&(e._duplexState|=_,this.updateNextTick()),null}drain(){const e=this.stream;for(;(16527&e._duplexState)===d&&768&e._duplexState;){const t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=S),e._duplexState&g&&e.emit("data",t)}}update(){const e=this.stream;e._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&(214047&e._duplexState)===_;)e._duplexState|=65552,e._read(this.afterRead),this.drain();4224==(12431&e._duplexState)&&(e._duplexState|=b,e.emit("readable")),80&e._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=E}updateNonPrimary(){const e=this.stream;(1167&e._duplexState)===p&&(e._duplexState=268434431&e._duplexState|16384,e.emit("end"),(e._duplexState&q)===U&&(e._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(e._duplexState&H)?1==(e._duplexState&W)&&(e._duplexState=(e._duplexState|F)&u,e._open(oe.bind(this))):e._duplexState&z||(e._duplexState|=F,e._destroy(ne.bind(this)))}continueUpdate(){return!!(this.stream._duplexState&w)&&(this.stream._duplexState&=T,!0)}updateCallback(){(32879&this.stream._duplexState)===h?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&w||(this.stream._duplexState|=w,32&this.stream._duplexState||a(this.afterUpdateNextTick))}}class X{constructor(e){this.data=null,this.afterTransform=ce.bind(e),this.afterFinal=null}}class Z{constructor(e,t,n){this.from=e,this.to=t,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){t&&(this.error=t),e!==this.to||(this.to=null,null===this.from)?e!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):e._duplexState&y||this.to.destroy(this.error||new Error("Readable stream closed before ending")):this.from._duplexState&y&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function ee(){this.stream._duplexState|=512,this.updateCallback()}function te(e){const t=this.stream;e&&t.destroy(e),t._duplexState&H||(t._duplexState|=O,t.emit("finish")),(t._duplexState&q)===U&&(t._duplexState|=4),t._duplexState&=L,t._duplexState&I?this.updateNextTick():this.update()}function ne(e){const t=this.stream;e||this.error===s||(e=this.error),e&&t.emit("error",e),t._duplexState|=8,t.emit("close");const n=t._readableState,r=t._writableState;if(null!==n&&null!==n.pipeline&&n.pipeline.done(t,e),null!==r){for(;null!==r.drains&&r.drains.length>0;)r.drains.shift().resolve(!1);null!==r.pipeline&&r.pipeline.done(t,e)}}function re(e){const t=this.stream;e&&t.destroy(e),t._duplexState&=L,null!==this.drains&&function(e){for(let t=0;t<e.length;t++)0==--e[t].writes&&(e.shift().resolve(!0),t--)}(this.drains),(6553615&t._duplexState)===C&&(t._duplexState&=264241151,(t._duplexState&P)===P&&t.emit("drain")),this.updateCallback()}function se(e){e&&this.stream.destroy(e),this.stream._duplexState&=k,!1!==this.readAhead||this.stream._duplexState&f||(this.stream._duplexState&=A),this.updateCallback()}function ie(){32&this.stream._duplexState||(this.stream._duplexState&=T,this.update())}function ae(){this.stream._duplexState&I||(this.stream._duplexState&=B,this.update())}function oe(e){const t=this.stream;e&&t.destroy(e),4&t._duplexState||(17423&t._duplexState||(t._duplexState|=h),142606351&t._duplexState||(t._duplexState|=x),t.emit("open")),t._duplexState&=K,null!==t._writableState&&t._writableState.updateCallback(),null!==t._readableState&&t._readableState.updateCallback()}function ce(e,t){t!==undefined&&null!==t&&this.push(t),this._writableState.afterWrite(e)}function ue(e){null!==this._readableState&&("data"===e&&(this._duplexState|=133376,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=m,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=P,this._writableState.updateNextTick())}class le extends r{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",ve.bind(this))),this.on("newListener",ue)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return null!==this._readableState||undefined}get writable(){return null!==this._writableState||undefined}get destroyed(){return!!(8&this._duplexState)}get destroying(){return!!(this._duplexState&H)}destroy(e){this._duplexState&H||(e||(e=s),this._duplexState=267386815&this._duplexState|4,null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=e),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=2,this._predestroy(),this._duplexState&=l,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}class he extends le{constructor(e){super(e),this._duplexState|=8519681,this._readableState=new Y(this,e),e&&(!1===this._readableState.readAhead&&(this._duplexState&=A),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=v,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=!1===this._readableState.readAhead?268304127:268435199,this}static _fromAsyncIterator(e,t){let n;const r=new he({...t,read(t){e.next().then(s).then(t.bind(null,null)).catch(t)},predestroy(){n=e.return()},destroy(e){if(!n)return e(null);n.then(e.bind(null,null)).catch(e)}});return r;function s(e){e.done?r.push(null):r.push(e.value)}}static from(e,t){if(ye(n=e)&&n.readable)return e;var n;if(e[Q])return this._fromAsyncIterator(e[Q](),t);Array.isArray(e)||(e=e===undefined?[]:[e]);let r=0;return new he({...t,read(t){this.push(r===e.length?null:e[r++]),t(null)}})}static isBackpressured(e){return!!(17422&e._duplexState)||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return!(e._duplexState&f)}[Q](){const e=this;let t=null,n=null,r=null;return this.on("error",(e=>{t=e})),this.on("readable",(function(){null!==n&&i(e.read())})),this.on("close",(function(){null!==n&&i(null)})),{[Q](){return this},next:()=>new Promise((function(t,s){n=t,r=s;const a=e.read();null!==a?i(a):8&e._duplexState&&i(null)})),return:()=>a(null),throw:e=>a(e)};function i(i){null!==r&&(t?r(t):null!==i||e._duplexState&y?n({value:i,done:null===i}):r(s),r=n=null)}function a(t){return e.destroy(t),new Promise(((n,r)=>{if(8&e._duplexState)return n({value:undefined,done:!0});e.once("close",(function(){t?r(t):n({value:undefined,done:!0})}))}))}}}class de extends le{constructor(e){super(e),this._duplexState|=16385,this._writableState=new J(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return!!(146800654&e._duplexState)}static drained(e){if(e.destroyed)return Promise.resolve(!1);const t=e._writableState;var n;const r=((n=e)._writev!==de.prototype._writev&&n._writev!==fe.prototype._writev?Math.min(1,t.queue.length):t.queue.length)+(e._duplexState&D?1:0);return 0===r?Promise.resolve(!0):(null===t.drains&&(t.drains=[]),new Promise((e=>{t.drains.push({writes:r,resolve:e})})))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class fe extends he{constructor(e){super(e),this._duplexState=1|this._duplexState&_,this._writableState=new J(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class pe extends fe{constructor(e){super(e),this._transformState=new X(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(null!==this._transformState.data){const t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(ge.bind(this))}}function ge(e,t){const n=this._transformState.afterFinal;if(e)return n(e);null!==t&&t!==undefined&&this.push(t),this.push(null),n(null)}function me(e,...t){const n=Array.isArray(e)?[...e,...t]:[e,...t],r=n.length&&"function"==typeof n[n.length-1]?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let s=n[0],a=null,o=null;for(let e=1;e<n.length;e++)a=n[e],ye(s)?s.pipe(a,u):(c(s,!0,e>1,u),s.pipe(a)),s=a;if(r){let e=!1;const t=ye(a)||!(!a._writableState||!a._writableState.autoDestroy);a.on("error",(e=>{null===o&&(o=e)})),a.on("finish",(()=>{e=!0,t||r(o)})),t&&a.on("close",(()=>r(o||(e?null:i))))}return a;function c(e,t,n,r){e.on("error",r),e.on("close",(function(){if(t&&e._readableState&&!e._readableState.ended)return r(i);if(n&&e._writableState&&!e._writableState.ended)return r(i)}))}function u(e){if(e&&!o){o=e;for(const t of n)t.destroy(e)}}}function be(e){return!!e._readableState||!!e._writableState}function ye(e){return"number"==typeof e._duplexState&&be(e)}function we(e){return function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.byteLength}(e)?e.byteLength:1024}function _e(){}function ve(){this.destroy(new Error("Stream aborted."))}t.exports={pipeline:me,pipelinePromise:function(...e){return new Promise(((t,n)=>me(...e,(e=>{if(e)return n(e);t()}))))},isStream:be,isStreamx:ye,getStreamError:function(e){const t=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return t===s?null:t},Stream:le,Writable:de,Readable:he,Duplex:fe,Transform:pe,PassThrough:class extends pe{}}}}},{package:"@metamask/snaps-controllers>tar-stream>streamx",file:"node_modules/streamx/index.js"}],[4897,{fs:3541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{t.exports=e("fs").constants||r}catch{t.exports=r}}}},{package:"@metamask/snaps-controllers>tar-stream",file:"node_modules/tar-stream/constants.js"}],[4898,{"./headers":4899,b4a:3471,"fast-fifo":3904,streamx:4891},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Writable:r,Readable:s,getStreamError:i}=e("streamx"),a=e("fast-fifo"),o=e("b4a"),c=e("./headers"),u=o.alloc(0);class l{constructor(){this.buffered=0,this.shifted=0,this.queue=new a,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return 0===this._buffered?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(0===e)return u;let t=this._next(e);if(e===t.byteLength)return t;const n=[t];for(;(e-=t.byteLength)>0;)t=this._next(e),n.push(t);return o.concat(n)}_next(e){const t=this.queue.peek(),n=t.byteLength-this._offset;if(e>=n){const e=this._offset?t.subarray(this._offset,t.byteLength):t;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,e}return this.buffered-=e,this.shifted+=e,t.subarray(this._offset,this._offset+=e)}}class h extends s{constructor(e,t,n){super(),this.header=t,this.offset=n,this._parent=e}_read(e){0===this.header.size&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(i(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=p(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}}class d extends r{constructor(e){super(e),e||(e={}),this._buffer=new l,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=f,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e)return this.destroy(e),void this._continueWrite(e);this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=c.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),0===this._header.size||"directory"===this._header.type?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=c.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=c.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=c.decodePax(e);break;case"pax-header":this._pax=null===this._paxGlobal?c.decodePax(e):Object.assign({},this._paxGlobal,c.decodePax(e))}}_consumeLongHeader(){this._longHeader=!1,this._missing=p(this._header.size);const e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(e){return this._continueWrite(e),!1}return!0}_consumeStream(){const e=this._buffer.shiftFirst(this._missing);if(null===e)return!1;this._missing-=e.byteLength;const t=this._stream.push(e);return 0===this._missing?(this._stream.push(null),t&&this._stream._detach(),t&&!1===this._locked):t}_createStream(){return new h(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;)if(this._missing>0){if(null!==this._stream){if(!1===this._consumeStream())return;continue}if(!0===this._longHeader){if(this._missing>this._buffer.buffered)break;if(!1===this._consumeLongHeader())return!1;continue}const e=this._buffer.shiftFirst(this._missing);null!==e&&(this._missing-=e.byteLength)}else{if(this._buffer.buffered<512)break;if(null!==this._stream||!1===this._consumeHeader())return}this._continueWrite(null)}_continueWrite(e){const t=this._callback;this._callback=f,t(e)}_write(e,t){this._callback=t,this._buffer.push(e),this._update()}_final(e){this._finished=0===this._missing&&0===this._buffer.buffered,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(i(this)),e(null)}[Symbol.asyncIterator](){let e=null,t=null,n=null,r=null,s=null;const i=this;return this.on("entry",(function(e,i,a){s=a,i.on("error",f),t?(t({value:i,done:!1}),t=n=null):r=i})),this.on("error",(t=>{e=t})),this.on("close",(function(){if(a(e),!t)return;e?n(e):t({value:undefined,done:!0});t=n=null})),{[Symbol.asyncIterator](){return this},next:()=>new Promise(o),return:()=>c(null),throw:e=>c(e)};function a(e){if(!s)return;const t=s;s=null,t(e)}function o(s,o){return e?o(e):r?(s({value:r,done:!1}),void(r=null)):(t=s,n=o,a(null),void(i._finished&&t&&(t({value:undefined,done:!0}),t=n=null)))}function c(e){return i.destroy(e),a(e),new Promise(((t,n)=>{if(i.destroyed)return t({value:undefined,done:!0});i.once("close",(function(){e?n(e):t({value:undefined,done:!0})}))}))}}}function f(){}function p(e){return(e&=511)&&512-e}t.exports=function(e){return new d(e)}}}},{package:"@metamask/snaps-controllers>tar-stream",file:"node_modules/tar-stream/extract.js"}],[4899,{b4a:3471},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const r=e("b4a"),s="0000000000000000000",i="7777777777777777777",a="0".charCodeAt(0),o=r.from([117,115,116,97,114,0]),c=r.from([a,a]),u=r.from([117,115,116,97,114,32]),l=r.from([32,0]),h=257,d=263;function f(e,t,n,r){for(;n<r;n++)if(e[n]===t)return n;return r}function p(e){let t=256;for(let n=0;n<148;n++)t+=e[n];for(let n=156;n<512;n++)t+=e[n];return t}function g(e,t){return(e=e.toString(8)).length>t?i.slice(0,t)+" ":s.slice(0,t-e.length)+e+" "}function m(e,t,n){if(128&(e=e.subarray(t,t+n))[t=0])return function(e){let t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}const n=[];let r;for(r=e.length-1;r>0;r--){const s=e[r];t?n.push(s):n.push(255-s)}let s=0;const i=n.length;for(r=0;r<i;r++)s+=n[r]*Math.pow(256,r);return t?s:-1*s}(e);{for(;t<e.length&&32===e[t];)t++;const n=(s=f(e,32,t,e.length),i=e.length,a=e.length,"number"!=typeof s?a:(s=~~s)>=i?i:s>=0||(s+=i)>=0?s:0);for(;t<n&&0===e[t];)t++;return n===t?0:parseInt(r.toString(e.subarray(t,n)),8)}var s,i,a}function b(e,t,n,s){return r.toString(e.subarray(t,f(e,0,t,t+n)),s)}function y(e){const t=r.byteLength(e);let n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e}n.decodeLongPath=function(e,t){return b(e,0,e.length,t)},n.encodePax=function(e){let t="";e.name&&(t+=y(" path="+e.name+"\n")),e.linkname&&(t+=y(" linkpath="+e.linkname+"\n"));const n=e.pax;if(n)for(const e in n)t+=y(" "+e+"="+n[e]+"\n");return r.from(t)},n.decodePax=function(e){const t={};for(;e.length;){let n=0;for(;n<e.length&&32!==e[n];)n++;const s=parseInt(r.toString(e.subarray(0,n)),10);if(!s)return t;const i=r.toString(e.subarray(n+1,s-1)),a=i.indexOf("=");if(-1===a)return t;t[i.slice(0,a)]=i.slice(a+1),e=e.subarray(s)}return t},n.encode=function(e){const t=r.alloc(512);let n=e.name,s="";if(5===e.typeflag&&"/"!==n[n.length-1]&&(n+="/"),r.byteLength(n)!==n.length)return null;for(;r.byteLength(n)>100;){const e=n.indexOf("/");if(-1===e)return null;s+=s?"/"+n.slice(0,e):n.slice(0,e),n=n.slice(e+1)}return r.byteLength(n)>100||r.byteLength(s)>155||e.linkname&&r.byteLength(e.linkname)>100?null:(r.write(t,n),r.write(t,g(4095&e.mode,6),100),r.write(t,g(e.uid,6),108),r.write(t,g(e.gid,6),116),function(e,t,n){e.toString(8).length>11?function(e,t,n){t[n]=128;for(let r=11;r>0;r--)t[n+r]=255&e,e=Math.floor(e/256)}(e,t,n):r.write(t,g(e,11),n)}(e.size,t,124),r.write(t,g(e.mtime.getTime()/1e3|0,11),136),t[156]=a+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&r.write(t,e.linkname,157),r.copy(o,t,h),r.copy(c,t,263),e.uname&&r.write(t,e.uname,265),e.gname&&r.write(t,e.gname,297),r.write(t,g(e.devmajor||0,6),329),r.write(t,g(e.devminor||0,6),337),s&&r.write(t,s,345),r.write(t,g(p(t),6),148),t)},n.decode=function(e,t,n){let s=0===e[156]?0:e[156]-a,i=b(e,0,100,t);const c=m(e,100,8),f=m(e,108,8),g=m(e,116,8),y=m(e,124,12),w=m(e,136,12),_=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(s),v=0===e[157]?null:b(e,157,100,t),k=b(e,265,32),S=b(e,297,32),T=m(e,329,8),E=m(e,337,8),A=p(e);if(256===A)return null;if(A!==m(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(function(e){return r.equals(o,e.subarray(h,263))}(e))e[345]&&(i=b(e,345,155,t)+"/"+i);else if(function(e){return r.equals(u,e.subarray(h,263))&&r.equals(l,e.subarray(d,265))}(e));else if(!n)throw new Error("Invalid tar header: unknown format.");return 0===s&&i&&"/"===i[i.length-1]&&(s=5),{name:i,mode:c,uid:f,gid:g,size:y,mtime:new Date(1e3*w),type:_,linkname:v,uname:k,gname:S,devmajor:T,devminor:E,pax:null}}}}},{package:"@metamask/snaps-controllers>tar-stream",file:"node_modules/tar-stream/headers.js"}],[49,{"./AbstractPetnamesBridge":48,"@metamask/name-controller":1754},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountIdentitiesPetnamesBridge=void 0;var r=e("@metamask/name-controller"),s=e("./AbstractPetnamesBridge");class i extends s.AbstractPetnamesBridge{constructor({nameController:e,messenger:t}){super({isTwoWay:!1,nameController:e,messenger:t})}getSourceEntries(){return this.messenger.call("AccountsController:listAccounts").map((e=>({value:e.address,type:r.NameType.ETHEREUM_ADDRESS,name:e.metadata.name,sourceId:undefined,variation:r.FALLBACK_VARIATION,origin:r.NameOrigin.ACCOUNT_IDENTITY})))}onSourceChange(e){this.messenger.subscribe("AccountsController:stateChange",e)}shouldSyncPetname(e){return e.origin===r.NameOrigin.ACCOUNT_IDENTITY}}n.AccountIdentitiesPetnamesBridge=i}}},{package:"$root$",file:"app/scripts/lib/AccountIdentitiesPetnamesBridge.ts"}],[4900,{"./extract":4898,"./pack":4901},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){n.extract=e("./extract"),n.pack=e("./pack")}}},{package:"@metamask/snaps-controllers>tar-stream",file:"node_modules/tar-stream/index.js"}],[4901,{"./constants":4897,"./headers":4899,b4a:3471,streamx:4891},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{Readable:r,Writable:s,getStreamError:i}=e("streamx"),a=e("b4a"),o=e("./constants"),c=e("./headers"),u=a.alloc(1024);class l extends s{constructor(e,t,n){super({mapWritable:p,eagerOpen:!0}),this.written=0,this.header=t,this._callback=n,this._linkname=null,this._isLinkname="symlink"===t.type&&!t.linkname,this._isVoid="file"!==t.type&&"contiguous-file"!==t.type,this._finished=!1,this._pack=e,this._openCallback=null,null===this._pack._stream?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(null===this._callback)return;const t=this._callback;this._callback=null,t(e)}_continueOpen(){null===this._pack._stream&&(this._pack._stream=this);const e=this._openCallback;if(this._openCallback=null,null!==e){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,t){return this._isLinkname?(this._linkname=this._linkname?a.concat([this._linkname,e]):e,t(null)):this._isVoid?e.byteLength>0?t(new Error("No body allowed for this entry")):t():(this.written+=e.byteLength,this._pack.push(e)?t():void(this._pack._drain=t))}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?a.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),f(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return i(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}}class h extends r{constructor(e){super(e),this._drain=d,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,t,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");"function"==typeof t&&(n=t,t=null),n||(n=d),e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&o.S_IFMT){case o.S_IFBLK:return"block-device";case o.S_IFCHR:return"character-device";case o.S_IFDIR:return"directory";case o.S_IFIFO:return"fifo";case o.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?493:420),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=a.from(t));const r=new l(this,e,n);return a.isBuffer(t)?(e.size=t.byteLength,r.write(t),r.end(),r):(r._isVoid,r)}finalize(){this._stream||this._pending.length>0?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(u),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){const t=c.encode(e);if(t)return void this.push(t)}this._encodePax(e)}_encodePax(e){const t=c.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(c.encode(n)),this.push(t),f(this,t.byteLength),n.size=e.size,n.type=e.type,this.push(c.encode(n))}_doDrain(){const e=this._drain;this._drain=d,e()}_predestroy(){const e=i(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){const t=this._pending.shift();t.destroy(e),t._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}}function d(){}function f(e,t){(t&=511)&&e.push(u.subarray(0,512-t))}function p(e){return a.isBuffer(e)?e:a.from(e)}t.exports=function(e){return new h(e)}}}},{package:"@metamask/snaps-controllers>tar-stream",file:"node_modules/tar-stream/pack.js"}],[4902,{_process:4524,stream:4886},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){var r=e("stream");function s(e,t,s){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var i=!1,a=!1,o=[],c=!1,u=new r;function l(){for(;o.length&&!u.paused;){var e=o.shift();if(null===e)return u.emit("end");u.emit("data",e)}}return u.readable=u.writable=!0,u.paused=!1,u.autoDestroy=!(s&&!1===s.autoDestroy),u.write=function(t){return e.call(this,t),!u.paused},u.queue=u.push=function(e){return c||(null===e&&(c=!0),o.push(e),l()),u},u.on("end",(function(){u.readable=!1,!u.writable&&u.autoDestroy&&n.nextTick((function(){u.destroy()}))})),u.end=function(e){if(!i)return i=!0,arguments.length&&u.write(e),u.writable=!1,t.call(u),!u.readable&&u.autoDestroy&&u.destroy(),u},u.destroy=function(){if(!a)return a=!0,i=!0,o.length=0,u.writable=u.readable=!1,u.emit("close"),u},u.pause=function(){if(!u.paused)return u.paused=!0,u},u.resume=function(){return u.paused&&(u.paused=!1,u.emit("resume")),l(),u.paused||u.emit("drain"),u},u}t.exports=s,s.through=s}).call(this)}).call(this,e("_process"))}}},{package:"debounce-stream>through",file:"node_modules/through/index.js"}],[4906,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e){if(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new DataView(e.buffer,e.byteOffset,e.byteLength);if(e instanceof ArrayBuffer)return new DataView(e);throw new TypeError("Expected `data` to be an ArrayBuffer, Buffer, Int8Array, Uint8Array or Uint8ClampedArray")}}}},{package:"base32-encode>to-data-view",file:"node_modules/to-data-view/index.js"}],[4918,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s,i,a=void 0,o=(r=Object.prototype.toString,s=Object.prototype.hasOwnProperty,{Class:function(e){return r.call(e).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,t){return s.call(e,t)},IsCallable:function(e){return"function"==typeof e},ToInt32:function(e){return 0|e},ToUint32:function(e){return e>>>0}}),c=Math.LN2,u=Math.abs,l=Math.floor,h=Math.log,d=Math.min,f=Math.pow,p=Math.round;function g(e){if(m&&i){var t,n=m(e);for(t=0;t<n.length;t+=1)i(e,n[t],{value:e[n[t]],writable:!1,enumerable:!1,configurable:!1})}}i=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,n){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return o.HasProperty(n,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,n.get),o.HasProperty(n,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,n.set),o.HasProperty(n,"value")&&(e[t]=n.value),e};var m=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,n=[];for(t in e)o.HasOwnProperty(e,t)&&n.push(t);return n};function b(e,t){var n=32-t;return e<<n>>n}function y(e,t){var n=32-t;return e<<n>>>n}function w(e){return[255&e]}function _(e){return b(e[0],8)}function v(e){return[255&e]}function k(e){return y(e[0],8)}function S(e){return[(e=p(Number(e)))<0?0:e>255?255:255&e]}function T(e){return[e>>8&255,255&e]}function E(e){return b(e[0]<<8|e[1],16)}function A(e){return[e>>8&255,255&e]}function I(e){return y(e[0]<<8|e[1],16)}function x(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function j(e){return b(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function C(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function O(e){return y(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function P(e,t,n){var r,s,i,a,o,p,g,m=(1<<t-1)-1;function b(e){var t=l(e),n=e-t;return n<.5?t:n>.5||t%2?t+1:t}for(e!=e?(s=(1<<t)-1,i=f(2,n-1),r=0):e===Infinity||e===-Infinity?(s=(1<<t)-1,i=0,r=e<0?1:0):0===e?(s=0,i=0,r=1/e==-Infinity?1:0):(r=e<0,(e=u(e))>=f(2,1-m)?(s=d(l(h(e)/c),1023),(i=b(e/f(2,s)*f(2,n)))/f(2,n)>=2&&(s+=1,i=1),s>m?(s=(1<<t)-1,i=0):(s+=m,i-=f(2,n))):(s=0,i=b(e/f(2,1-m-n)))),o=[],a=n;a;a-=1)o.push(i%2?1:0),i=l(i/2);for(a=t;a;a-=1)o.push(s%2?1:0),s=l(s/2);for(o.push(r?1:0),o.reverse(),p=o.join(""),g=[];p.length;)g.push(parseInt(p.substring(0,8),2)),p=p.substring(8);return g}function M(e,t,n){var r,s,i,a,o,c,u,l,h=[];for(r=e.length;r;r-=1)for(i=e[r-1],s=8;s;s-=1)h.push(i%2?1:0),i>>=1;return h.reverse(),a=h.join(""),o=(1<<t-1)-1,c=parseInt(a.substring(0,1),2)?-1:1,u=parseInt(a.substring(1,1+t),2),l=parseInt(a.substring(1+t),2),u===(1<<t)-1?0!==l?NaN:c*Infinity:u>0?c*f(2,u-o)*(1+l/f(2,n)):0!==l?c*f(2,-(o-1))*(l/f(2,n)):c<0?-0:0}function D(e){return M(e,11,52)}function N(e){return P(e,11,52)}function L(e){return M(e,8,23)}function R(e){return P(e,8,23)}!function(){var e=function(e){if((e=o.ToInt32(e))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var t;for(this.byteLength=e,this._bytes=[],this._bytes.length=e,t=0;t<this.byteLength;t+=1)this._bytes[t]=0;g(this)};n.ArrayBuffer=n.ArrayBuffer||e;var t=function(){};function r(n,r,s){var c;return c=function(t,n,r){var s,a,u,l;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===c)for(s=arguments[0],this.length=s.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,u=0;u<this.length;u+=1)this._setter(u,s._getter(u));else if("object"!=typeof arguments[0]||(arguments[0]instanceof e||"ArrayBuffer"===o.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof e||"ArrayBuffer"===o.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=t,this.byteOffset=o.ToUint32(n),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=o.ToUint32(r),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(a=arguments[0],this.length=o.ToUint32(a.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0,u=0;u<this.length;u+=1)l=a[u],this._setter(u,Number(l));else{if(this.length=o.ToInt32(arguments[0]),r<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new e(this.byteLength),this.byteOffset=0}this.constructor=c,g(this),function(e){if(i){if(e.length>1e5)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)n(t)}function n(t){i(e,t,{get:function(){return e._getter(t)},set:function(n){e._setter(t,n)},enumerable:!0,configurable:!1})}}(this)},c.prototype=new t,c.prototype.BYTES_PER_ELEMENT=n,c.prototype._pack=r,c.prototype._unpack=s,c.BYTES_PER_ELEMENT=n,c.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if((e=o.ToUint32(e))>=this.length)return a;var t,n,r=[];for(t=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,n+=1)r.push(this.buffer._bytes[n]);return this._unpack(r)},c.prototype.get=c.prototype._getter,c.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if((e=o.ToUint32(e))>=this.length)return a;var n,r,s=this._pack(t);for(n=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=s[n]},c.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var n,r,s,i,a,c,u,l,h,d;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(n=arguments[0],(s=o.ToUint32(arguments[1]))+n.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(l=this.byteOffset+s*this.BYTES_PER_ELEMENT,h=n.length*this.BYTES_PER_ELEMENT,n.buffer===this.buffer){for(d=[],a=0,c=n.byteOffset;a<h;a+=1,c+=1)d[a]=n.buffer._bytes[c];for(a=0,u=l;a<h;a+=1,u+=1)this.buffer._bytes[u]=d[a]}else for(a=0,c=n.byteOffset,u=l;a<h;a+=1,c+=1,u+=1)this.buffer._bytes[u]=n.buffer._bytes[c]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(r=arguments[0],i=o.ToUint32(r.length),(s=o.ToUint32(arguments[1]))+i>this.length)throw new RangeError("Offset plus length of array is out of range");for(a=0;a<i;a+=1)c=r[a],this._setter(s+a,Number(c))}},c.prototype.subarray=function(e,t){function n(e,t,n){return e<t?t:e>n?n:e}e=o.ToInt32(e),t=o.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=n(e,0,this.length);var r=(t=n(t,0,this.length))-e;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,r)},c}var s=r(1,w,_),c=r(1,v,k),u=r(1,S,k),l=r(2,T,E),h=r(2,A,I),d=r(4,x,j),f=r(4,C,O),p=r(4,R,L),m=r(8,N,D);n.Int8Array=n.Int8Array||s,n.Uint8Array=n.Uint8Array||c,n.Uint8ClampedArray=n.Uint8ClampedArray||u,n.Int16Array=n.Int16Array||l,n.Uint16Array=n.Uint16Array||h,n.Int32Array=n.Int32Array||d,n.Uint32Array=n.Uint32Array||f,n.Float32Array=n.Float32Array||p,n.Float64Array=n.Float64Array||m}(),function(){function e(e,t){return o.IsCallable(e.get)?e.get(t):e[t]}var t,r=(t=new n.Uint16Array([4660]),18===e(new n.Uint8Array(t.buffer),0)),s=function(e,t,r){if(0===arguments.length)e=new n.ArrayBuffer(0);else if(!(e instanceof n.ArrayBuffer||"ArrayBuffer"===o.Class(e)))throw new TypeError("TypeError");if(this.buffer=e||new n.ArrayBuffer(0),this.byteOffset=o.ToUint32(t),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteLength=arguments.length<3?this.buffer.byteLength-this.byteOffset:o.ToUint32(r),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");g(this)};function i(t){return function(s,i){if((s=o.ToUint32(s))+t.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");s+=this.byteOffset;var a,c=new n.Uint8Array(this.buffer,s,t.BYTES_PER_ELEMENT),u=[];for(a=0;a<t.BYTES_PER_ELEMENT;a+=1)u.push(e(c,a));return Boolean(i)===Boolean(r)&&u.reverse(),e(new t(new n.Uint8Array(u).buffer),0)}}function a(t){return function(s,i,a){if((s=o.ToUint32(s))+t.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var c,u=new t([i]),l=new n.Uint8Array(u.buffer),h=[];for(c=0;c<t.BYTES_PER_ELEMENT;c+=1)h.push(e(l,c));Boolean(a)===Boolean(r)&&h.reverse(),new n.Uint8Array(this.buffer,s,t.BYTES_PER_ELEMENT).set(h)}}s.prototype.getUint8=i(n.Uint8Array),s.prototype.getInt8=i(n.Int8Array),s.prototype.getUint16=i(n.Uint16Array),s.prototype.getInt16=i(n.Int16Array),s.prototype.getUint32=i(n.Uint32Array),s.prototype.getInt32=i(n.Int32Array),s.prototype.getFloat32=i(n.Float32Array),s.prototype.getFloat64=i(n.Float64Array),s.prototype.setUint8=a(n.Uint8Array),s.prototype.setInt8=a(n.Int8Array),s.prototype.setUint16=a(n.Uint16Array),s.prototype.setInt16=a(n.Int16Array),s.prototype.setUint32=a(n.Uint32Array),s.prototype.setInt32=a(n.Int32Array),s.prototype.setFloat32=a(n.Float32Array),s.prototype.setFloat64=a(n.Float64Array),n.DataView=n.DataView||s}()}}},{package:"browserify>concat-stream>typedarray",file:"node_modules/typedarray/index.js"}],[4920,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}}}},{package:"@ensdomains/content-hash>cids>uint8arrays",file:"node_modules/uint8arrays/concat.js"}],[4921,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}}}},{package:"@ensdomains/content-hash>cids>uint8arrays",file:"node_modules/uint8arrays/equals.js"}],[4922,{multibase:4432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{encoding:r}=e("multibase"),s=new TextEncoder;t.exports=function(e,t="utf8"){return"utf8"===t||"utf-8"===t?s.encode(e):"ascii"===t?function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e):r(t).decode(e)}}}},{package:"@ensdomains/content-hash>cids>uint8arrays",file:"node_modules/uint8arrays/from-string.js"}],[4923,{multibase:4432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{encoding:r}=e("multibase"),s=new TextDecoder("utf8");t.exports=function(e,t="utf8"){return"utf8"===t||"utf-8"===t?s.decode(e):"ascii"===t?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):r(t).encode(e)}}}},{package:"@ensdomains/content-hash>cids>uint8arrays",file:"node_modules/uint8arrays/to-string.js"}],[4976,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){e.exports.is_uri=n,e.exports.is_http_uri=r,e.exports.is_https_uri=s,e.exports.is_web_uri=i,e.exports.isUri=n,e.exports.isHttpUri=r,e.exports.isHttpsUri=s,e.exports.isWebUri=i;var t=function(e){return e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function n(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var n,r,s,i,a,o="",c="";if(o=(n=t(e))[1],r=n[2],s=n[3],i=n[4],a=n[5],o&&o.length&&s.length>=0){if(r&&r.length){if(0!==s.length&&!/^\//.test(s))return}else if(/^\/\//.test(s))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(o.toLowerCase()))return c+=o+":",r&&r.length&&(c+="//"+r),c+=s,i&&i.length&&(c+="?"+i),a&&a.length&&(c+="#"+a),c}}}function r(e,r){if(n(e)){var s,i,a,o,c="",u="",l="",h="";if(c=(s=t(e))[1],u=s[2],i=s[3],a=s[4],o=s[5],c){if(r){if("https"!=c.toLowerCase())return}else if("http"!=c.toLowerCase())return;if(u)return/:(\d+)$/.test(u)&&(l=u.match(/:(\d+)$/)[0],u=u.replace(/:\d+$/,"")),h+=c+":",h+="//"+u,l&&(h+=l),h+=i,a&&a.length&&(h+="?"+a),o&&o.length&&(h+="#"+o),h}}}function s(e){return r(e,!0)}function i(e){return r(e)||s(e)}}(t)}}},{package:"@metamask/controller-utils>@spruceid/siwe-parser>valid-url",file:"node_modules/valid-url/index.js"}],[4981,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function e(t,n){var i,a=0,o=0,c=n=n||0,u=t.length;do{if(c>=u||o>49)throw e.bytes=0,new RangeError("Could not decode varint");i=t[c++],a+=o<28?(i&s)<<o:(i&s)*Math.pow(2,o),o+=7}while(i>=r);return e.bytes=c-n,a};var r=128,s=127}}},{package:"sass-embedded>varint",file:"node_modules/varint/decode.js"}],[4982,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=function e(t,n,a){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");n=n||[];var o=a=a||0;for(;t>=i;)n[a++]=255&t|r,t/=128;for(;t&s;)n[a++]=255&t|r,t>>>=7;return n[a]=0|t,e.bytes=a-o+1,n};var r=128,s=-128,i=Math.pow(2,31)}}},{package:"sass-embedded>varint",file:"node_modules/varint/encode.js"}],[4983,{"./decode.js":4981,"./encode.js":4982,"./length.js":4984},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports={encode:e("./encode.js"),decode:e("./decode.js"),encodingLength:e("./length.js")}}}},{package:"sass-embedded>varint",file:"node_modules/varint/index.js"}],[4984,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=Math.pow(2,7),s=Math.pow(2,14),i=Math.pow(2,21),a=Math.pow(2,28),o=Math.pow(2,35),c=Math.pow(2,42),u=Math.pow(2,49),l=Math.pow(2,56),h=Math.pow(2,63);t.exports=function(e){return e<r?1:e<s?2:e<i?3:e<a?4:e<o?5:e<c?6:e<u?7:e<l?8:e<h?9:10}}}},{package:"sass-embedded>varint",file:"node_modules/varint/length.js"}],[4992,{util:4960},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){n.TextEncoder="undefined"!=typeof TextEncoder?TextEncoder:e("util").TextEncoder,n.TextDecoder="undefined"!=typeof TextDecoder?TextDecoder:e("util").TextDecoder}}},{package:"@ensdomains/content-hash>multihashes>web-encoding",file:"node_modules/web-encoding/src/lib.js"}],[5,{"../../../shared/constants/network":5047},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SINGLE_CALL_BALANCES_ADDRESSES=void 0;var r=e("../../../shared/constants/network");n.SINGLE_CALL_BALANCES_ADDRESSES={[r.CHAIN_IDS.MAINNET]:"0xb1f8e55c7f64d203c1400b9d8555d050f94adf39",[r.CHAIN_IDS.GOERLI]:"0x9788C4E93f9002a7ad8e72633b11E8d1ecd51f9b",[r.CHAIN_IDS.SEPOLIA]:"",[r.CHAIN_IDS.BSC]:"0x2352c63A83f9Fd126af8676146721Fa00924d7e4",[r.CHAIN_IDS.OPTIMISM]:"0xB1c568e9C3E6bdaf755A60c7418C269eb11524FC",[r.CHAIN_IDS.POLYGON]:"0x2352c63A83f9Fd126af8676146721Fa00924d7e4",[r.CHAIN_IDS.AVALANCHE]:"0xD023D153a0DFa485130ECFdE2FAA7e612EF94818",[r.CHAIN_IDS.FANTOM]:"0x07f697424ABe762bB808c109860c04eA488ff92B",[r.CHAIN_IDS.ARBITRUM]:"0x151E24A486D7258dd7C33Fb67E4bB01919B7B32c",[r.CHAIN_IDS.BLAST]:"0xfd5730e96f9dffae40d99b77015bd42816280998",[r.CHAIN_IDS.LINEA_GOERLI]:"0x10dAd7Ca3921471f616db788D9300DC97Db01783",[r.CHAIN_IDS.LINEA_MAINNET]:"0xF62e6a41561b3650a69Bb03199C735e3E3328c0D",[r.CHAIN_IDS.AURORA]:"0x1286415D333855237f89Df27D388127181448538",[r.CHAIN_IDS.BASE]:"0x6AA75276052D96696134252587894ef5FFA520af",[r.CHAIN_IDS.ZKSYNC_ERA]:"0x458fEd3144680a5b8bcfaa0F9594aa19B4Ea2D34"}}}},{package:"$root$",file:"app/scripts/constants/contracts.ts"}],[50,{"./AbstractPetnamesBridge":48,"@metamask/name-controller":1754},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddressBookPetnamesBridge=void 0;var r=e("@metamask/name-controller"),s=e("./AbstractPetnamesBridge");function i(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function a(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,c(e,t,"get"))}function o(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,c(e,t,"set"),n),n}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var u=new WeakMap;class l extends s.AbstractPetnamesBridge{constructor({addressBookController:e,nameController:t,messenger:n}){super({isTwoWay:!0,nameController:t,messenger:n}),i(this,u,{writable:!0,value:void 0}),o(this,u,e)}getSourceEntries(){const e=[],{state:t}=a(this,u);for(const n of Object.keys(t.addressBook)){const s=t.addressBook[n];for(const i of Object.keys(s)){const s=t.addressBook[n][i],a=n.toLowerCase(),{name:o,isEns:c}=s;null!=o&&o.length&&null!=i&&i.length&&e.push({value:i,name:o,variation:a,type:r.NameType.ETHEREUM_ADDRESS,sourceId:c?"ens":undefined,origin:r.NameOrigin.ADDRESS_BOOK})}}return e}updateSourceEntry(e,t){e===s.ChangeType.DELETED?a(this,u).delete(t.variation,t.value):a(this,u).set(t.value,t.name,t.variation)}onSourceChange(e){a(this,u).subscribe(e)}}n.AddressBookPetnamesBridge=l}}},{package:"$root$",file:"app/scripts/lib/AddressBookPetnamesBridge.ts"}],[5029,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM=n.AUTO_LOCK_TIMEOUT_ALARM=void 0;n.AUTO_LOCK_TIMEOUT_ALARM="AUTO_LOCK_TIMEOUT_ALARM",n.METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM="METAMETRICS_FINALIZE_EVENT_FRAGMENT_ALARM"}}},{package:"$root$",file:"shared/constants/alarms.js"}],[5036,{"@metamask/keyring-api":1622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ETH_EOA_METHODS=n.ETH_4337_METHODS=void 0;var r=e("@metamask/keyring-api");n.ETH_EOA_METHODS=[r.EthMethod.PersonalSign,r.EthMethod.SignTransaction,r.EthMethod.SignTypedDataV1,r.EthMethod.SignTypedDataV3,r.EthMethod.SignTypedDataV4],n.ETH_4337_METHODS=[r.EthMethod.PrepareUserOperation,r.EthMethod.PatchUserOperation,r.EthMethod.SignUserOperation]}}},{package:"$root$",file:"shared/constants/eth-methods.ts"}],[5042,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LOG_EVENT=void 0;n.LOG_EVENT={VERSION_UPDATE:"Extension version update"}}}},{package:"$root$",file:"shared/constants/logs.ts"}],[5044,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.methodsRequiringNetworkSwitch=void 0;n.methodsRequiringNetworkSwitch=["eth_sendTransaction","eth_sendRawTransaction","wallet_switchEthereumChain","wallet_watchAsset","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign"]}}},{package:"$root$",file:"shared/constants/methods-tags.ts"}],[5063,{"./first-party-contracts":5037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getExperience=n.TX_SIG_LEN=n.TRUSTED_SIGNERS=n.EXPERIENCES_TO_VERIFY=void 0;var r=e("./first-party-contracts");n.TX_SIG_LEN=130,n.EXPERIENCES_TO_VERIFY=[r.EXPERIENCES_TYPE.METAMASK_BRIDGE],n.TRUSTED_SIGNERS={[r.EXPERIENCES_TYPE.METAMASK_BRIDGE]:"0x533FbF047Ed13C20e263e2576e41c747206d1348"};n.getExperience=(e,t)=>{var n;return null===(n=Object.entries(r.FIRST_PARTY_CONTRACT_NAMES).find((([,n])=>{var r;return(null===(r=n[t])||void 0===r?void 0:r.toLowerCase())===e.toLowerCase()})))||void 0===n?void 0:n[0]}}}},{package:"$root$",file:"shared/constants/verification.ts"}],[5079,{"@metamask/utils":2787,"readable-stream":4794},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.createCaipStream=n.CaipStream=void 0;var r=e("@metamask/utils"),s=e("readable-stream");function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends s.Duplex{constructor(e){super({objectMode:!0}),i(this,"parent",void 0),this.parent=e}_read(){return undefined}_write(e,t,n){this.parent.push({type:"caip-x",data:e}),n()}}class o extends s.Duplex{constructor(){super({objectMode:!0}),i(this,"substream",void 0),this.substream=new a(this)}_read(){return undefined}_write(e,t,n){(0,r.isObject)(e)&&"caip-x"===e.type&&this.substream.push(e.data),n()}}n.CaipStream=o;n.createCaipStream=e=>{const t=new o;return(0,s.pipeline)(e,t,e,(e=>console.log("MetaMask CAIP stream",e))),t.substream}}}},{package:"$root$",file:"shared/modules/caip-stream.ts"}],[5091,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSmartTransactionMetricsProperties=void 0;n.getSmartTransactionMetricsProperties=(e,t)=>{const n=e.getIsSmartTransaction(),r={is_smart_transaction:n};if(!n)return r;const s=e.getSmartTransactionByMinedTxHash(t.hash),i=null==s?void 0:s.statusMetadata;return i?(r.smart_transaction_duplicated=i.duplicated,r.smart_transaction_timed_out=i.timedOut,r.smart_transaction_proxied=i.proxied,r):r}}}},{package:"$root$",file:"shared/modules/metametrics.ts"}],[51,{"@metamask/base-controller":1241,"@metamask/obs-store":1871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/obs-store"),s=e("@metamask/base-controller");function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends r.ObservableStore{constructor({config:e,controllerMessenger:t,state:n,persist:r}){super(n),i(this,"config",{}),this.persist=r,this.controllerMessenger=t,e&&this.updateStructure(e)}updateStructure(e){this.config=e,this.removeAllListeners();const t={};for(const r of Object.keys(e)){var n;if(!e[r])throw new Error(`Undefined '${r}'`);const i=e[r];i.subscribe?e[r].subscribe((e=>{this.updateState({[r]:e})})):this.controllerMessenger.subscribe(`${i.name}:stateChange`,(t=>{let n=t;this.persist&&(n=(0,s.getPersistentState)(t,e[r].metadata)),this.updateState({[r]:n})}));const a=i.state??(null===(n=i.getState)||void 0===n?void 0:n.call(i));t[r]=this.persist&&e[r].metadata?(0,s.getPersistentState)(a,e[r].metadata):a}this.updateState(t)}getFlatState(){if(!this.config)return{};let e={};for(const t of Object.keys(this.config)){const n=this.config[t],r=n.getState?n.getState():n.state;e={...e,...r}}return e}}n.default=a}}},{package:"$root$",file:"app/scripts/lib/ComposableObservableStore.js"}],[5109,{"../../../shared/modules/mv3.utils":5092,loglevel:4388},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSocketBackgroundToMocha=function(){return s};var r;(r=e("loglevel"))&&r.__esModule,e("../../../shared/modules/mv3.utils");let s}}},{package:"$root$",file:"test/e2e/background-socket/socket-background-to-mocha.ts"}],[5110,{"../../shared/constants/network":5047,"../../shared/constants/onboarding":5050,"@metamask/network-controller":1795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){const{NetworkStatus:r}=e("@metamask/network-controller"),{CHAIN_IDS:s}=e("../../shared/constants/network"),{FirstTimeFlowType:i}=e("../../shared/constants/onboarding");t.exports={defaultFixture:function(e=s.LOCALHOST){return{data:{AuthenticationController:{isSignedIn:!0},UserStorageController:{isProfileSyncingEnabled:!0},MetamaskNotificationsController:{subscriptionAccountsSeen:[],isFeatureAnnouncementsEnabled:!1,isMetamaskNotificationsEnabled:!1,isMetamaskNotificationsFeatureSeen:!1,metamaskNotificationsList:[],metamaskNotificationsReadList:[]},AccountsController:{internalAccounts:{selectedAccount:"d5e45e4a-3b04-4a09-a5e1-39762e5c6be4",accounts:{"d5e45e4a-3b04-4a09-a5e1-39762e5c6be4":{id:"d5e45e4a-3b04-4a09-a5e1-39762e5c6be4",address:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",metadata:{name:"Account 1",lastSelected:16655076e5,keyring:{type:"HD Key Tree"}},options:{},methods:["personal_sign","eth_signTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"],type:"eip155:eoa"}}}},AlertController:{alertEnabledness:{unconnectedAccount:!0,web3ShimUsage:!0},unconnectedAccountAlertShownOrigins:{},web3ShimUsageOrigins:{}},AnnouncementController:{announcements:{8:{date:"2021-11-01",id:8,isShown:!1}}},NetworkOrderController:{orderedNetworkList:[{networkId:"0x1",networkRpcUrl:"https://mainnet.infura.io/v3/00000000000000000000000000000000"},{networkId:"0xe708",networkRpcUrl:"https://linea-mainnet.infura.io/v3/00000000000000000000000000000000"},{networkId:"0x539",networkRpcUrl:"http://localhost:8545"}]},AccountOrderController:{pinnedAccountList:[],hiddenAccountList:[]},AppStateController:{browserEnvironment:{},nftsDropdownState:{},connectedStatusPopoverHasBeenShown:!0,termsOfUseLastAgreed:"__FIXTURE_SUBSTITUTION__currentDateInMilliseconds",defaultHomeActiveTabName:null,fullScreenGasPollTokens:[],notificationGasPollTokens:[],popupGasPollTokens:[],qrHardware:{},recoveryPhraseReminderHasBeenShown:!0,recoveryPhraseReminderLastShown:"__FIXTURE_SUBSTITUTION__currentDateInMilliseconds",showTestnetMessageInDropdown:!0,trezorModel:null,newPrivacyPolicyToastClickedOrClosed:!0,newPrivacyPolicyToastShownDate:Date.now(),usedNetworks:{[s.MAINNET]:!0,[s.LINEA_MAINNET]:!0,[s.GOERLI]:!0,[s.LOCALHOST]:!0},snapsInstallPrivacyWarningShown:!0},BridgeController:{bridgeState:{bridgeFeatureFlags:{extensionSupport:!1}}},CurrencyController:{currentCurrency:"usd",currencyRates:{ETH:{conversionDate:1665507600,conversionRate:1700,usdConversionRate:1700}}},GasFeeController:{estimatedGasFeeTimeBounds:{},gasEstimateType:"none",gasFeeEstimates:{}},KeyringController:{vault:'{"data":"WHaP1FrrtV4zUonudIppDifsLHF39g6oPkVksAIdWAHBRzax1uy1asfAJprR7u72t4/HuYz5yPIFQrnNnv+hwQu9GRuty88VKMnvMy+sq8MNtoXI+C54bZpWa8r4iUQfa0Mj/cfJbpFpzOdF1ZYXahTfTcU5WsrHwvJew842CiJR4B2jmCHHXfm/DxLK3WazsVQwXJGx/U71UelGoOOrT8NI28EKrAwgPn+7Xmv0j92gmhau30N7Bo2fr6Zv","iv":"LfD8/tY1EjXzxuemSmDVdA==","keyMetadata":{"algorithm":"PBKDF2","params":{"iterations":600000}},"salt":"nk4xdpmMR+1s5BYe4Vnk++XAQwrISI2bCtbMg7V1wUA="}'},MetaMetricsController:{eventsBeforeMetricsOptIn:[],fragments:{},metaMetricsId:null,participateInMetaMetrics:!1,dataCollectionForMarketing:!1,traits:{}},NetworkController:{selectedNetworkClientId:"networkConfigurationId",networksMetadata:{networkConfigurationId:{EIPS:{},status:r.Available}},providerConfig:{chainId:e,nickname:"Localhost 8545",rpcPrefs:{},rpcUrl:"http://localhost:8545",ticker:"ETH",type:"rpc",id:"networkConfigurationId"},networkConfigurations:{networkConfigurationId:{chainId:e,nickname:"Localhost 8545",rpcPrefs:{},rpcUrl:"http://localhost:8545",ticker:"ETH",networkConfigurationId:"networkConfigurationId"}}},OnboardingController:{completedOnboarding:!0,firstTimeFlowType:i.import,onboardingTabs:{},seedPhraseBackedUp:!0},PermissionController:{subjects:{}},PreferencesController:{advancedGasFee:null,currentLocale:"en",useExternalServices:!0,dismissSeedBackUpReminder:!0,featureFlags:{},forgottenPassword:!1,identities:{"0x5cfe73b6021e818b776b421b1c4db2474086a7e1":{address:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",lastSelected:16655076e5,name:"Account 1"}},ipfsGateway:"dweb.link",knownMethodData:{},ledgerTransportType:"webhid",lostIdentities:{},openSeaEnabled:!1,preferences:{hideZeroBalanceTokens:!1,showExtensionInFullSizeView:!1,showFiatInTestnets:!1,showTestNetworks:!1,smartTransactionsOptInStatus:!1,useNativeCurrencyAsPrimaryCurrency:!0,petnamesEnabled:!0,isRedesignedConfirmationsDeveloperEnabled:!1,showConfirmationAdvancedDetails:!1},selectedAddress:"0x5cfe73b6021e818b776b421b1c4db2474086a7e1",theme:"light",useBlockie:!1,useNftDetection:!1,useNonceField:!1,usePhishDetect:!0,useTokenDetection:!1,useCurrencyRateCheck:!0,useMultiAccountBalanceChecker:!0,useRequestQueue:!0},QueuedRequestController:{queuedRequestCount:0},SelectedNetworkController:{domains:{}},SmartTransactionsController:{smartTransactionsState:{fees:{},liveness:!0,smartTransactions:{[s.MAINNET]:[]}}},SubjectMetadataController:{subjectMetadata:{"https://metamask.github.io":{extensionId:null,iconUrl:null,name:"MetaMask < = > Ledger Bridge",origin:"https://metamask.github.io",subjectType:"website"}}},TokensController:{allDetectedTokens:{},allIgnoredTokens:{},allTokens:{},detectedTokens:[],ignoredTokens:[],tokens:[]},TransactionController:{transactions:{}},config:{},firstTimeInfo:{date:16655076e5,version:"10.21.0"}}}},FIXTURE_STATE_METADATA_VERSION:74,E2E_SRP:"spread raise short crane omit tent fringe mandate neglect detail suspect cradle"}}}},{package:"$root$",file:"test/e2e/default-fixture.js"}],[5111,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function s(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,i(e,t,"set"),n),n}function i(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.KNOWN_PUBLIC_KEY_ADDRESSES=n.KNOWN_PUBLIC_KEY=n.FakeTrezorBridge=n.FakeLedgerBridge=n.FakeKeyringBridge=void 0;const a=n.KNOWN_PUBLIC_KEY="02065bc80d3d12b3688e4ad5ab1e9eda6adf24aec2518bfc21b87c99d4c5077ab0";n.KNOWN_PUBLIC_KEY_ADDRESSES=[{address:"0x0e122670701207DB7c6d7ba9aE07868a4572dB3f",balance:null,index:0},{address:"0x2ae19DAd8b2569F7Bb4606D951Cc9495631e818E",balance:null,index:1},{address:"0x0051140bAaDC3E9AC92A4a90D18Bb6760c87e7ac",balance:null,index:2},{address:"0x9DBCF67CC721dBd8Df28D7A0CbA0fa9b0aFc6472",balance:null,index:3},{address:"0x828B2c51c5C1bB0c57fCD2C108857212c95903DE",balance:null,index:4}];var o=new WeakMap;class c{constructor({publicKeyPayload:e}){r(this,o,{writable:!0,value:void 0}),s(this,o,e)}async init(){return Promise.resolve()}async getPublicKey(){return function(e,t){return t.get?t.get.call(e):t.value}(e=this,i(e,o,"get"));var e}}n.FakeKeyringBridge=c;n.FakeTrezorBridge=class extends c{constructor(){super({publicKeyPayload:{success:!0,payload:{publicKey:a,chainCode:"0x1"}}})}async dispose(){return Promise.resolve()}};n.FakeLedgerBridge=class extends c{constructor(){super({publicKeyPayload:{publicKey:a,chainCode:"0x1"}})}async destroy(){return Promise.resolve()}updateTransportMethod(){return!0}}}}},{package:"$root$",file:"test/stub/keyring-bridge.js"}],[516,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.version=void 0,n.version="json-wallets/5.7.0"}}},{package:"@ethersproject/wallet>@ethersproject/json-wallets",file:"node_modules/@ethersproject/json-wallets/lib/_version.js"}],[517,{"./_version":516,"./utils":521,"@ethersproject/address":488,"@ethersproject/bytes":497,"@ethersproject/keccak256":523,"@ethersproject/logger":525,"@ethersproject/pbkdf2":529,"@ethersproject/properties":531,"@ethersproject/strings":570,"aes-js":522},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.decrypt=n.CrowdsaleAccount=void 0;var a=i(e("aes-js")),o=e("@ethersproject/address"),c=e("@ethersproject/bytes"),u=e("@ethersproject/keccak256"),l=e("@ethersproject/pbkdf2"),h=e("@ethersproject/strings"),d=e("@ethersproject/properties"),f=e("@ethersproject/logger"),p=e("./_version"),g=new f.Logger(p.version),m=e("./utils"),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.isCrowdsaleAccount=function(e){return!(!e||!e._isCrowdsaleAccount)},t}(d.Description);n.CrowdsaleAccount=b,n.decrypt=function(e,t){var n=JSON.parse(e);t=(0,m.getPassword)(t);var r=(0,o.getAddress)((0,m.searchPath)(n,"ethaddr")),s=(0,m.looseArrayify)((0,m.searchPath)(n,"encseed"));s&&s.length%16==0||g.throwArgumentError("invalid encseed","json",e);for(var i=(0,c.arrayify)((0,l.pbkdf2)(t,t,2e3,32,"sha256")).slice(0,16),d=s.slice(0,16),f=s.slice(16),p=new a.default.ModeOfOperation.cbc(i,d),y=a.default.padding.pkcs7.strip((0,c.arrayify)(p.decrypt(f))),w="",_=0;_<y.length;_++)w+=String.fromCharCode(y[_]);var v=(0,h.toUtf8Bytes)(w),k=(0,u.keccak256)(v);return new b({_isCrowdsaleAccount:!0,address:r,privateKey:k})}}}},{package:"@ethersproject/wallet>@ethersproject/json-wallets",file:"node_modules/@ethersproject/json-wallets/lib/crowdsale.js"}],[518,{"./crowdsale":517,"./inspect":519,"./keystore":520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decryptJsonWalletSync=n.decryptJsonWallet=n.getJsonWalletAddress=n.isKeystoreWallet=n.isCrowdsaleWallet=n.encryptKeystore=n.decryptKeystoreSync=n.decryptKeystore=n.decryptCrowdsale=void 0;var r=e("./crowdsale");Object.defineProperty(n,"decryptCrowdsale",{enumerable:!0,get:function(){return r.decrypt}});var s=e("./inspect");Object.defineProperty(n,"getJsonWalletAddress",{enumerable:!0,get:function(){return s.getJsonWalletAddress}}),Object.defineProperty(n,"isCrowdsaleWallet",{enumerable:!0,get:function(){return s.isCrowdsaleWallet}}),Object.defineProperty(n,"isKeystoreWallet",{enumerable:!0,get:function(){return s.isKeystoreWallet}});var i=e("./keystore");Object.defineProperty(n,"decryptKeystore",{enumerable:!0,get:function(){return i.decrypt}}),Object.defineProperty(n,"decryptKeystoreSync",{enumerable:!0,get:function(){return i.decryptSync}}),Object.defineProperty(n,"encryptKeystore",{enumerable:!0,get:function(){return i.encrypt}}),n.decryptJsonWallet=function(e,t,n){if((0,s.isCrowdsaleWallet)(e)){n&&n(0);var a=(0,r.decrypt)(e,t);return n&&n(1),Promise.resolve(a)}return(0,s.isKeystoreWallet)(e)?(0,i.decrypt)(e,t,n):Promise.reject(new Error("invalid JSON wallet"))},n.decryptJsonWalletSync=function(e,t){if((0,s.isCrowdsaleWallet)(e))return(0,r.decrypt)(e,t);if((0,s.isKeystoreWallet)(e))return(0,i.decryptSync)(e,t);throw new Error("invalid JSON wallet")}}}},{package:"@ethersproject/wallet>@ethersproject/json-wallets",file:"node_modules/@ethersproject/json-wallets/lib/index.js"}],[519,{"@ethersproject/address":488},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonWalletAddress=n.isKeystoreWallet=n.isCrowdsaleWallet=void 0;var r=e("@ethersproject/address");function s(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function i(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}n.isCrowdsaleWallet=s,n.isKeystoreWallet=i,n.getJsonWalletAddress=function(e){if(s(e))try{return(0,r.getAddress)(JSON.parse(e).ethaddr)}catch(e){return null}if(i(e))try{return(0,r.getAddress)(JSON.parse(e).address)}catch(e){return null}return null}}}},{package:"@ethersproject/wallet>@ethersproject/json-wallets",file:"node_modules/@ethersproject/json-wallets/lib/inspect.js"}],[52,{"@metamask/name-controller":1754,"@metamask/snaps-utils":2592,loglevel:4388},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapsNameProvider=void 0;var r,s=e("@metamask/name-controller"),i=e("@metamask/snaps-utils"),a=(r=e("loglevel"))&&r.__esModule?r:{default:r};function o(e,t){c(e,t),t.add(e)}function c(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,d(e,t,"get"))}function l(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function h(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,d(e,t,"set"),n),n}function d(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var f=new WeakMap,p=new WeakSet,g=new WeakSet;function m(){const e=u(this,f).call("PermissionController:getState").subjects;return u(this,f).call("SnapController:getAll").filter((({id:t})=>{var n;return null===(n=e[t])||void 0===n?void 0:n.permissions["endowment:name-lookup"]}))}async function b(e,t){const{variation:n,value:r}=t,s=e.id,o={chainId:`eip155:${parseInt(n,16)}`,address:r};let c,l;try{const t=await u(this,f).call("SnapController:handleRequest",{snapId:e.id,origin:"",handler:i.HandlerType.OnNameLookup,request:{jsonrpc:"2.0",method:" ",params:o}}),n=null==t?void 0:t.resolvedDomains;c=n?[...new Set(n.map((e=>e.resolvedDomain)))]:[]}catch(t){a.default.error("Snap name provider request failed",{snapId:e.id,request:o,error:t}),l=t}return{sourceId:s,result:{proposedNames:c,error:l}}}n.SnapsNameProvider=class{constructor({messenger:e}){o(this,g),o(this,p),function(e,t,n){c(e,t),t.set(e,n)}(this,f,{writable:!0,value:void 0}),h(this,f,e)}getMetadata(){const e=l(this,p,m).call(this);return{sourceIds:{[s.NameType.ETHEREUM_ADDRESS]:e.map((e=>e.id))},sourceLabels:e.reduce(((e,t)=>{const n=u(this,f).call("SnapController:get",t.id),r=null==n?void 0:n.manifest.proposedName;return{...e,[t.id]:r||t.id}}),{})}}async getProposedNames(e){const t=l(this,p,m).call(this);return{results:(await Promise.all(t.map((t=>l(this,g,b).call(this,t,e))))).reduce(((e,t)=>{const{sourceId:n,result:r}=t;return{...e,[n]:r}}),{})}}}}}},{package:"$root$",file:"app/scripts/lib/SnapsNameProvider.ts"}],[520,{"./_version":516,"./utils":521,"@ethersproject/address":488,"@ethersproject/bytes":497,"@ethersproject/hdnode":515,"@ethersproject/keccak256":523,"@ethersproject/logger":525,"@ethersproject/pbkdf2":529,"@ethersproject/properties":531,"@ethersproject/random":554,"@ethersproject/transactions":573,"aes-js":522,"scrypt-js":4814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.encrypt=n.decrypt=n.decryptSync=n.KeystoreAccount=void 0;var c=o(e("aes-js")),u=o(e("scrypt-js")),l=e("@ethersproject/address"),h=e("@ethersproject/bytes"),d=e("@ethersproject/hdnode"),f=e("@ethersproject/keccak256"),p=e("@ethersproject/pbkdf2"),g=e("@ethersproject/random"),m=e("@ethersproject/properties"),b=e("@ethersproject/transactions"),y=e("./utils"),w=e("@ethersproject/logger"),_=e("./_version"),v=new w.Logger(_.version);function k(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.isKeystoreAccount=function(e){return!(!e||!e._isKeystoreAccount)},t}(m.Description);function T(e,t){var n=(0,y.looseArrayify)((0,y.searchPath)(e,"crypto/ciphertext"));if((0,h.hexlify)((0,f.keccak256)((0,h.concat)([t.slice(16,32),n]))).substring(2)!==(0,y.searchPath)(e,"crypto/mac").toLowerCase())throw new Error("invalid password");var r=function(e,t,n){if("aes-128-ctr"===(0,y.searchPath)(e,"crypto/cipher")){var r=(0,y.looseArrayify)((0,y.searchPath)(e,"crypto/cipherparams/iv")),s=new c.default.Counter(r),i=new c.default.ModeOfOperation.ctr(t,s);return(0,h.arrayify)(i.decrypt(n))}return null}(e,t.slice(0,16),n);r||v.throwError("unsupported cipher",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});var s=t.slice(32,64),i=(0,b.computeAddress)(r);if(e.address){var a=e.address.toLowerCase();if("0x"!==a.substring(0,2)&&(a="0x"+a),(0,l.getAddress)(a)!==i)throw new Error("address mismatch")}var o={_isKeystoreAccount:!0,address:i,privateKey:(0,h.hexlify)(r)};if("0.1"===(0,y.searchPath)(e,"x-ethers/version")){var u=(0,y.looseArrayify)((0,y.searchPath)(e,"x-ethers/mnemonicCiphertext")),p=(0,y.looseArrayify)((0,y.searchPath)(e,"x-ethers/mnemonicCounter")),g=new c.default.Counter(p),m=new c.default.ModeOfOperation.ctr(s,g),_=(0,y.searchPath)(e,"x-ethers/path")||d.defaultPath,k=(0,y.searchPath)(e,"x-ethers/locale")||"en",T=(0,h.arrayify)(m.decrypt(u));try{var E=(0,d.entropyToMnemonic)(T,k),A=d.HDNode.fromMnemonic(E,null,k).derivePath(_);if(A.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=A.mnemonic}catch(e){if(e.code!==w.Logger.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new S(o)}function E(e,t,n,r,s){return(0,h.arrayify)((0,p.pbkdf2)(e,t,n,r,s))}function A(e,t,n,r,s){return Promise.resolve(E(e,t,n,r,s))}function I(e,t,n,r,s){var i=(0,y.getPassword)(t),a=(0,y.searchPath)(e,"crypto/kdf");if(a&&"string"==typeof a){var o=function(e,t){return v.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===a.toLowerCase()){var c=(0,y.looseArrayify)((0,y.searchPath)(e,"crypto/kdfparams/salt")),u=parseInt((0,y.searchPath)(e,"crypto/kdfparams/n")),l=parseInt((0,y.searchPath)(e,"crypto/kdfparams/r")),h=parseInt((0,y.searchPath)(e,"crypto/kdfparams/p"));return u&&l&&h||o("kdf",a),u&u-1&&o("N",u),32!==(p=parseInt((0,y.searchPath)(e,"crypto/kdfparams/dklen")))&&o("dklen",p),r(i,c,u,l,h,64,s)}if("pbkdf2"===a.toLowerCase()){c=(0,y.looseArrayify)((0,y.searchPath)(e,"crypto/kdfparams/salt"));var d=null,f=(0,y.searchPath)(e,"crypto/kdfparams/prf");"hmac-sha256"===f?d="sha256":"hmac-sha512"===f?d="sha512":o("prf",f);var p,g=parseInt((0,y.searchPath)(e,"crypto/kdfparams/c"));return 32!==(p=parseInt((0,y.searchPath)(e,"crypto/kdfparams/dklen")))&&o("dklen",p),n(i,c,g,p,d)}}return v.throwArgumentError("unsupported key-derivation function","kdf",a)}n.KeystoreAccount=S,n.decryptSync=function(e,t){var n=JSON.parse(e);return T(n,I(n,t,E,u.default.syncScrypt))},n.decrypt=function(e,t,n){return i(this,void 0,void 0,(function(){var r,s;return a(this,(function(i){switch(i.label){case 0:return[4,I(r=JSON.parse(e),t,A,u.default.scrypt,n)];case 1:return s=i.sent(),[2,T(r,s)]}}))}))},n.encrypt=function(e,t,n,r){try{if((0,l.getAddress)(e.address)!==(0,b.computeAddress)(e.privateKey))throw new Error("address/privateKey mismatch");if(k(e)){var s=e.mnemonic;if(d.HDNode.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path||d.defaultPath).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof n||r||(r=n,n={}),n||(n={});var i=(0,h.arrayify)(e.privateKey),a=(0,y.getPassword)(t),o=null,p=null,m=null;if(k(e)){var w=e.mnemonic;o=(0,h.arrayify)((0,d.mnemonicToEntropy)(w.phrase,w.locale||"en")),p=w.path||d.defaultPath,m=w.locale||"en"}var _=n.client;_||(_="ethers.js");var v=null;v=n.salt?(0,h.arrayify)(n.salt):(0,g.randomBytes)(32);var S=null;if(n.iv){if(16!==(S=(0,h.arrayify)(n.iv)).length)throw new Error("invalid iv")}else S=(0,g.randomBytes)(16);var T=null;if(n.uuid){if(16!==(T=(0,h.arrayify)(n.uuid)).length)throw new Error("invalid uuid")}else T=(0,g.randomBytes)(16);var E=1<<17,A=8,I=1;return n.scrypt&&(n.scrypt.N&&(E=n.scrypt.N),n.scrypt.r&&(A=n.scrypt.r),n.scrypt.p&&(I=n.scrypt.p)),u.default.scrypt(a,v,E,A,I,64,r).then((function(t){var n=(t=(0,h.arrayify)(t)).slice(0,16),r=t.slice(16,32),s=t.slice(32,64),a=new c.default.Counter(S),u=new c.default.ModeOfOperation.ctr(n,a),l=(0,h.arrayify)(u.encrypt(i)),d=(0,f.keccak256)((0,h.concat)([r,l])),b={address:e.address.substring(2).toLowerCase(),id:(0,y.uuidV4)(T),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,h.hexlify)(S).substring(2)},ciphertext:(0,h.hexlify)(l).substring(2),kdf:"scrypt",kdfparams:{salt:(0,h.hexlify)(v).substring(2),n:E,dklen:32,p:I,r:A},mac:d.substring(2)}};if(o){var w=(0,g.randomBytes)(16),k=new c.default.Counter(w),x=new c.default.ModeOfOperation.ctr(s,k),j=(0,h.arrayify)(x.encrypt(o)),C=new Date,O=C.getUTCFullYear()+"-"+(0,y.zpad)(C.getUTCMonth()+1,2)+"-"+(0,y.zpad)(C.getUTCDate(),2)+"T"+(0,y.zpad)(C.getUTCHours(),2)+"-"+(0,y.zpad)(C.getUTCMinutes(),2)+"-"+(0,y.zpad)(C.getUTCSeconds(),2)+".0Z";b["x-ethers"]={client:_,gethFilename:"UTC--"+O+"--"+b.address,mnemonicCounter:(0,h.hexlify)(w).substring(2),mnemonicCiphertext:(0,h.hexlify)(j).substring(2),path:p,locale:m,version:"0.1"}}return JSON.stringify(b)}))}}}},{package:"@ethersproject/wallet>@ethersproject/json-wallets",file:"node_modules/@ethersproject/json-wallets/lib/keystore.js"}],[521,{"@ethersproject/bytes":497,"@ethersproject/strings":570},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.uuidV4=n.searchPath=n.getPassword=n.zpad=n.looseArrayify=void 0;var r=e("@ethersproject/bytes"),s=e("@ethersproject/strings");n.looseArrayify=function(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),(0,r.arrayify)(e)},n.zpad=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e},n.getPassword=function(e){return"string"==typeof e?(0,s.toUtf8Bytes)(e,s.UnicodeNormalizationForm.NFKC):(0,r.arrayify)(e)},n.searchPath=function(e,t){for(var n=e,r=t.toLowerCase().split("/"),s=0;s<r.length;s++){var i=null;for(var a in n)if(a.toLowerCase()===r[s]){i=n[a];break}if(null===i)return null;n=i}return n},n.uuidV4=function(e){var t=(0,r.arrayify)(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;var n=(0,r.hexlify)(t);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}}}},{package:"@ethersproject/wallet>@ethersproject/json-wallets",file:"node_modules/@ethersproject/json-wallets/lib/utils.js"}],[522,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){!function(e){function r(e){return parseInt(e)===e}function s(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!s(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&s(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function a(e){return new Uint8Array(e)}function o(e,t,n,r,s){null==r&&null==s||(e=e.slice?e.slice(r,s):Array.prototype.slice.call(e,r,s)),t.set(e,n)}var c,u={toBytes:function(e){var t=[],n=0;for(e=encodeURI(e);n<e.length;){var r=e.charCodeAt(n++);37===r?(t.push(parseInt(e.substr(n,2),16)),n+=2):t.push(r)}return i(t)},fromBytes:function(e){for(var t=[],n=0;n<e.length;){var r=e[n];r<128?(t.push(String.fromCharCode(r)),n++):r>191&&r<224?(t.push(String.fromCharCode((31&r)<<6|63&e[n+1])),n+=2):(t.push(String.fromCharCode((15&r)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3)}return t.join("")}},l=(c="0123456789abcdef",{toBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},fromBytes:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(c[(240&r)>>4]+c[15&r])}return t.join("")}}),h={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],g=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],b=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],w=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],_=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],v=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],k=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],S=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],T=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],E=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],A=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function I(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}var x=function(e){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};x.prototype._prepare=function(){var e=h[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,r=4*(e+1),s=this.key.length/4,i=I(this.key);for(t=0;t<s;t++)n=t>>2,this._Ke[n][t%4]=i[t],this._Kd[e-n][t%4]=i[t];for(var a,o=0,c=s;c<r;){if(a=i[s-1],i[0]^=f[a>>16&255]<<24^f[a>>8&255]<<16^f[255&a]<<8^f[a>>24&255]^d[o]<<24,o+=1,8!=s)for(t=1;t<s;t++)i[t]^=i[t-1];else{for(t=1;t<s/2;t++)i[t]^=i[t-1];a=i[s/2-1],i[s/2]^=f[255&a]^f[a>>8&255]<<8^f[a>>16&255]<<16^f[a>>24&255]<<24;for(t=s/2+1;t<s;t++)i[t]^=i[t-1]}for(t=0;t<s&&c<r;)u=c>>2,l=c%4,this._Ke[u][l]=i[t],this._Kd[e-u][l]=i[t++],c++}for(var u=1;u<e;u++)for(var l=0;l<4;l++)a=this._Kd[u][l],this._Kd[u][l]=S[a>>24&255]^T[a>>16&255]^E[a>>8&255]^A[255&a]},x.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,n=[0,0,0,0],r=I(e),s=0;s<4;s++)r[s]^=this._Ke[0][s];for(var i=1;i<t;i++){for(s=0;s<4;s++)n[s]=g[r[s]>>24&255]^m[r[(s+1)%4]>>16&255]^b[r[(s+2)%4]>>8&255]^y[255&r[(s+3)%4]]^this._Ke[i][s];r=n.slice()}var o,c=a(16);for(s=0;s<4;s++)o=this._Ke[t][s],c[4*s]=255&(f[r[s]>>24&255]^o>>24),c[4*s+1]=255&(f[r[(s+1)%4]>>16&255]^o>>16),c[4*s+2]=255&(f[r[(s+2)%4]>>8&255]^o>>8),c[4*s+3]=255&(f[255&r[(s+3)%4]]^o);return c},x.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,n=[0,0,0,0],r=I(e),s=0;s<4;s++)r[s]^=this._Kd[0][s];for(var i=1;i<t;i++){for(s=0;s<4;s++)n[s]=w[r[s]>>24&255]^_[r[(s+3)%4]>>16&255]^v[r[(s+2)%4]>>8&255]^k[255&r[(s+1)%4]]^this._Kd[i][s];r=n.slice()}var o,c=a(16);for(s=0;s<4;s++)o=this._Kd[t][s],c[4*s]=255&(p[r[s]>>24&255]^o>>24),c[4*s+1]=255&(p[r[(s+3)%4]>>16&255]^o>>16),c[4*s+2]=255&(p[r[(s+2)%4]>>8&255]^o>>8),c[4*s+3]=255&(p[255&r[(s+1)%4]]^o);return c};var j=function(e){if(!(this instanceof j))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new x(e)};j.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16)o(e,n,0,r,r+16),o(n=this._aes.encrypt(n),t,r);return t},j.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16)o(e,n,0,r,r+16),o(n=this._aes.decrypt(n),t,r);return t};var C=function(e,t){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastCipherblock=i(t,!0),this._aes=new x(e)};C.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16){o(e,n,0,r,r+16);for(var s=0;s<16;s++)n[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(n),o(this._lastCipherblock,t,r)}return t},C.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),n=a(16),r=0;r<e.length;r+=16){o(e,n,0,r,r+16),n=this._aes.decrypt(n);for(var s=0;s<16;s++)t[r+s]=n[s]^this._lastCipherblock[s];o(e,this._lastCipherblock,0,r,r+16)}return t};var O=function(e,t,n){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=a(16);n||(n=1),this.segmentSize=n,this._shiftRegister=i(t,!0),this._aes=new x(e)};O.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)n[r+s]^=t[s];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(n,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n},O.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)n[r+s]^=t[s];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(e,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n};var P=function(e,t){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new x(e)};P.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},P.prototype.decrypt=P.prototype.encrypt;var M=function(e){if(!(this instanceof M))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=a(16),this.setValue(e)):this.setBytes(e)};M.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},M.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},M.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var D=function(e,t){if(!(this instanceof D))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof M||(t=new M(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new x(e)};D.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[n]^=this._remainingCounter[this._remainingCounterIndex++];return t},D.prototype.decrypt=D.prototype.encrypt;var N={AES:x,Counter:M,ModeOfOperation:{ecb:j,cbc:C,cfb:O,ofb:P,ctr:D},utils:{hex:l,utf8:u},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,n=a(e.length+t);o(e,n);for(var r=e.length;r<n.length;r++)n[r]=t;return n},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var n=e.length-t,r=0;r<t;r++)if(e[n+r]!==t)throw new Error("PKCS#7 invalid padding byte");var s=a(n);return o(e,s,0,0,n),s}}},_arrayTest:{coerceArray:i,createArray:a,copyArray:o}};void 0!==n?t.exports=N:"function"==typeof define&&define.amd?define(N):(e.aesjs&&(N._aesjs=e.aesjs),e.aesjs=N)}(this)}}},{package:"@ethersproject/wallet>@ethersproject/json-wallets>aes-js",file:"node_modules/@ethersproject/json-wallets/node_modules/aes-js/index.js"}],[53,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.WeakRefObjectMap=void 0;class s{constructor(){r(this,"map",void 0),this.map=new Map}set(e,t){const n={};for(const e in t){if(!Object.prototype.hasOwnProperty.call(t,e))continue;const r=t[e];if("object"!=typeof r||null===r)throw new Error(`Property ${String(e)} is not an object and cannot be weakly referenced.`);n[e]=new WeakRef(r)}return this.map.set(e,n),this}get(e){const t=this.map.get(e);if(!t)return undefined;const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const s=t[r].deref();if(s===undefined)return this.map.delete(e),undefined;n[r]=s}return n}has(e){return this.get(e)!==undefined}delete(e){return this.get(e)!==undefined&&this.map.delete(e)}clear(){this.map.clear()}get size(){return this.map.size}entries(){const e=[];return this.map.forEach(((t,n)=>{const r=this.get(n);r!==undefined&&e.push([n,r])})),e.values()}keys(){return this.map.keys()}values(){const e=[];return this.map.forEach(((t,n)=>{const r=this.get(n);r!==undefined&&e.push(r)})),e.values()}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return"WeakRefObjectMap"}forEach(e,t){this.map.forEach(((n,r)=>{const s=this.get(r);s!==undefined&&(t?e.call(t,s,r,this):e(s,r,this))}))}}n.WeakRefObjectMap=s}}},{package:"$root$",file:"app/scripts/lib/WeakRefObjectMap.ts"}],[54,{"../../../shared/constants/network":5047,"../constants/contracts":5,"./util":128,"@ethersproject/contracts":504,"@ethersproject/providers":542,"@metamask/eth-query":1395,"@metamask/obs-store":1871,lodash:4382,loglevel:4388,pify:4518,"single-call-balance-checker-abi":4875,uuid:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=g(e("@metamask/eth-query")),s=e("uuid"),i=e("@metamask/obs-store"),a=g(e("loglevel")),o=g(e("pify")),c=e("@ethersproject/providers"),u=e("@ethersproject/contracts"),l=g(e("single-call-balance-checker-abi")),h=e("lodash"),d=e("../../../shared/constants/network"),f=e("../constants/contracts"),p=e("./util");function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){y(e,t),t.add(e)}function b(e,t,n){y(e,t),t.set(e,n)}function y(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function _(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,k(e,t,"get"))}function v(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,k(e,t,"set"),n),n}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var S=new WeakMap,T=new WeakMap,E=new WeakMap,A=new WeakMap,I=new WeakMap,x=new WeakSet,j=new WeakSet,C=new WeakSet,O=new WeakSet,P=new WeakMap,M=new WeakSet,D=new WeakSet,N=new WeakSet;function L(e){if(e){const t=this.getNetworkClientById(e);return{chainId:t.configuration.chainId,provider:t.provider,blockTracker:t.blockTracker,identifier:this.getNetworkIdentifier(t.configuration)}}return{chainId:this.getCurrentChainId(),provider:_(this,E),blockTracker:_(this,A),identifier:this.getNetworkIdentifier()}}function R(e){if(_(this,T)[e])return;const{blockTracker:t}=w(this,x,L).call(this,e),n=w(this,M,K).bind(this,e);t.addListener("latest",n),_(this,T)[e]=n,this.updateAccounts(e)}function B(e){if(!_(this,T)[e])return;const{blockTracker:t}=w(this,x,L).call(this,e);t.removeListener("latest",_(this,T)[e]),delete _(this,T)[e]}function F(e){const{accounts:t,accountsByChainId:n}=this.store.getState();if(n[e])return(0,h.cloneDeep)(n[e]);const r={};return Object.keys(t).forEach((e=>{r[e]={}})),r}async function K(e,t){const{chainId:n,provider:s}=w(this,x,L).call(this,e);_(this,I)[n]=t;const i=await(0,o.default)(new r.default(s)).getBlockByNumber(t,!1);if(!i)return;const c=i.gasLimit,{currentBlockGasLimitByChainId:u}=this.store.getState();this.store.updateState({...n===this.getCurrentChainId()&&{currentBlockGasLimit:c},currentBlockGasLimitByChainId:{...u,[n]:c}});try{await this.updateAccounts(e)}catch(e){a.default.error(e)}}async function U(e,t,n){const{useMultiAccountBalanceChecker:s}=this.preferencesController.store.getState();let i="0x0";try{i=await(0,o.default)(new r.default(t)).getBalance(e)}catch(e){var a;if("eth_getBalance"!==(null===(a=e.data)||void 0===a||null===(a=a.request)||void 0===a?void 0:a.method))throw e}const c={address:e,balance:i},u=w(this,O,F).call(this,n);if(!u[e])return;let l=u;s||(l={},Object.keys(u).forEach((t=>{e!==t&&(l[t]={address:t,balance:null})}))),l[e]=c;const{accountsByChainId:h}=this.store.getState();this.store.updateState({...n===this.getCurrentChainId()&&{accounts:l},accountsByChainId:{...h,[n]:l}})}async function H(e,t,n,r){const s=await new u.Contract(t,l.default,new c.Web3Provider(n)),i=["0x0000000000000000000000000000000000000000"];try{const t=await s.balances(e,i),n=w(this,O,F).call(this,r),a={};Object.keys(n).forEach((t=>{e.includes(t)||(a[t]={address:t,balance:null})})),e.forEach(((e,n)=>{const r=t[n]?t[n].toHexString():"0x0";a[e]={address:e,balance:r}}));const{accountsByChainId:o}=this.store.getState();this.store.updateState({...r===this.getCurrentChainId()&&{accounts:a},accountsByChainId:{...o,[r]:a}})}catch(t){a.default.warn("MetaMask - Account Tracker single call balance fetch failed",t),Promise.allSettled(e.map((e=>w(this,D,U).call(this,e,n,r))))}}n.default=class{constructor(e={}){m(this,N),m(this,D),m(this,M),m(this,O),m(this,C),m(this,j),m(this,x),b(this,S,{writable:!0,value:new Map}),b(this,T,{writable:!0,value:{}}),b(this,E,{writable:!0,value:null}),b(this,A,{writable:!0,value:null}),b(this,I,{writable:!0,value:{}}),b(this,P,{writable:!0,value:async e=>{await w(this,M,K).call(this,null,e)}});const t={accounts:{},currentBlockGasLimit:"",accountsByChainId:{},currentBlockGasLimitByChainId:{}};this.store=new i.ObservableStore({...t,...e.initState}),this.resetState=()=>{this.store.updateState(t)},v(this,E,e.provider),v(this,A,e.blockTracker),this.getCurrentChainId=e.getCurrentChainId,this.getNetworkClientById=e.getNetworkClientById,this.getNetworkIdentifier=e.getNetworkIdentifier,this.preferencesController=e.preferencesController,this.onboardingController=e.onboardingController,this.controllerMessenger=e.controllerMessenger,e.onAccountRemoved((e=>this.removeAccounts([e]))),this.onboardingController.store.subscribe((0,p.previousValueComparator)((async(e,t)=>{const{completedOnboarding:n}=e,{completedOnboarding:r}=t;!n&&r&&this.updateAccountsAllActiveNetworks()}),this.onboardingController.store.getState())),this.selectedAccount=this.controllerMessenger.call("AccountsController:getSelectedAccount"),this.controllerMessenger.subscribe("AccountsController:selectedEvmAccountChange",(e=>{const{useMultiAccountBalanceChecker:t}=this.preferencesController.store.getState();this.selectedAccount.id===e.id||t||(this.selectedAccount=e,this.updateAccountsAllActiveNetworks())}))}start(){v(this,I,{[this.getCurrentChainId()]:_(this,A).getCurrentBlock()}),_(this,A).once("latest",(e=>{_(this,I)[this.getCurrentChainId()]=e})),_(this,A).removeListener("latest",_(this,P)),_(this,A).addListener("latest",_(this,P)),this.updateAccounts()}stop(){_(this,A).removeListener("latest",_(this,P))}startPollingByNetworkClientId(e){const t=(0,s.v4)(),n=_(this,S).get(e);if(n)n.add(t);else{const n=new Set;n.add(t),_(this,S).set(e,n),w(this,j,R).call(this,e)}return t}stopAllPolling(){this.stop(),_(this,S).forEach(((e,t)=>{e.forEach((e=>{this.stopPollingByPollingToken(e)}))}))}stopPollingByPollingToken(e){if(!e)throw new Error("pollingToken required");let t=!1;if(_(this,S).forEach(((n,r)=>{n.has(e)&&(t=!0,n.delete(e),0===n.size&&(_(this,S).delete(r),w(this,C,B).call(this,r)))})),!t)throw new Error("pollingToken not found")}syncWithAddresses(e){const{accounts:t}=this.store.getState(),n=Object.keys(t),r=[];e.forEach((e=>{n.includes(e)||r.push(e)}));const s=[];n.forEach((t=>{e.includes(t)||s.push(t)})),this.addAccounts(r),this.removeAccounts(s)}addAccounts(e){const{accounts:t,accountsByChainId:n}=this.store.getState(),r=(0,h.cloneDeep)(t),s=(0,h.cloneDeep)(n);e.forEach((e=>{r[e]={}})),Object.keys(s).forEach((t=>{e.forEach((e=>{s[t][e]={}}))})),this.store.updateState({accounts:r,accountsByChainId:s}),_(this,I)[this.getCurrentChainId()]&&this.updateAccounts(),_(this,S).forEach(((e,t)=>{const{chainId:n}=w(this,x,L).call(this,t);_(this,I)[n]&&this.updateAccounts(t)}))}removeAccounts(e){const{accounts:t,accountsByChainId:n}=this.store.getState(),r=(0,h.cloneDeep)(t),s=(0,h.cloneDeep)(n);e.forEach((e=>{delete r[e]})),Object.keys(s).forEach((t=>{e.forEach((e=>{delete s[t][e]}))})),this.store.updateState({accounts:r,accountsByChainId:s})}clearAccounts(){this.store.updateState({accounts:{},accountsByChainId:{[this.getCurrentChainId()]:{}}})}async updateAccountsAllActiveNetworks(){await this.updateAccounts(),await Promise.all(Array.from(_(this,S)).map((([e])=>this.updateAccounts(e))))}async updateAccounts(e){const{completedOnboarding:t}=this.onboardingController.store.getState();if(!t)return;const{chainId:n,provider:r,identifier:s}=w(this,x,L).call(this,e),{useMultiAccountBalanceChecker:i}=this.preferencesController.store.getState();let a=[];if(i){const{accounts:e}=this.store.getState();a=Object.keys(e)}else{a=[this.controllerMessenger.call("AccountsController:getSelectedAccount").address]}const o=f.SINGLE_CALL_BALANCES_ADDRESSES[n];s!==d.LOCALHOST_RPC_URL&&"http://127.0.0.1:8545"!==s&&o?await w(this,N,H).call(this,a,o,r,n):await Promise.all(a.map((e=>w(this,D,U).call(this,e,r,n))))}}}}},{package:"$root$",file:"app/scripts/lib/account-tracker.js"}],[55,{"../../../../shared/lib/multichain":5068,"./BalancesTracker":56,"@metamask/base-controller":1241,"@metamask/keyring-api":1622,"@metamask/snaps-utils":2592},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultState=n.BalancesController=n.BALANCES_UPDATE_TIME=void 0;var r=e("@metamask/base-controller"),s=e("@metamask/keyring-api"),i=e("@metamask/snaps-utils"),a=e("../../../../shared/lib/multichain"),o=e("./BalancesTracker");function c(e,t){u(e,t),t.add(e)}function u(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,f(e,t,"get"))}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function d(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,f(e,t,"set"),n),n}function f(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}const p=n.defaultState={balances:{}},g={balances:{persist:!0,anonymous:!1}},m=["bip122:000000000933ea01ad0ee984209779ba/slip44:0"],b=["bip122:000000000019d6689c085ae165831e93/slip44:0"],y=6e5,w=n.BALANCES_UPDATE_TIME=3e5;var _=new WeakMap,v=new WeakSet,k=new WeakSet,S=new WeakSet,T=new WeakSet,E=new WeakSet,A=new WeakSet,I=new WeakSet,x=new WeakSet,j=new WeakSet;class C extends r.BaseController{constructor({messenger:e,state:t}){var n,r,s;super({messenger:e,name:"BalancesController",metadata:g,state:{...p,...t}}),c(this,j),c(this,x),c(this,I),c(this,A),c(this,E),c(this,T),c(this,S),c(this,k),c(this,v),s={writable:!0,value:void 0},u(n=this,r=_),r.set(n,s),d(this,_,new o.BalancesTracker((async e=>await h(this,T,D).call(this,e))));for(const e of h(this,k,P).call(this))h(this,E,N).call(this,e)&&l(this,_).track(e.id,w);this.messagingSystem.subscribe("AccountsController:accountAdded",(e=>h(this,A,L).call(this,e))),this.messagingSystem.subscribe("AccountsController:accountRemoved",(e=>h(this,I,R).call(this,e)))}async start(){l(this,_).start()}async stop(){l(this,_).stop()}async updateBalance(e){await l(this,_).updateBalance(e)}async updateBalances(){await l(this,_).updateBalances()}}function O(){return this.messagingSystem.call("AccountsController:listMultichainAccounts")}function P(){return h(this,v,O).call(this).filter((e=>e.type===s.BtcAccountType.P2wpkh))}function M(e){const t=h(this,v,O).call(this).find((t=>t.id===e));if(!t)throw new Error(`Unknown account: ${e}`);if(!h(this,E,N).call(this,t))throw new Error(`Account is not a non-EVM account: ${e}`);return t}async function D(e){const t=h(this,S,M).call(this,e),n={balances:{}};t.metadata.snap&&(n.balances[t.id]=await h(this,x,B).call(this,t.id,t.metadata.snap.id,(0,a.isBtcMainnetAddress)(t.address)?b:m)),this.update((e=>({...e,balances:{...e.balances,...n.balances}})))}function N(e){return!(0,s.isEvmAccountType)(e.type)&&e.metadata.snap!==undefined}async function L(e){h(this,E,N).call(this,e)&&l(this,_).track(e.id,y)}async function R(e){l(this,_).isTracked(e)&&l(this,_).untrack(e),e in this.state.balances&&this.update((t=>(delete t.balances[e],t)))}async function B(e,t,n){return await h(this,j,F).call(this,t).getAccountBalances(e,n)}function F(e){return new s.KeyringClient({send:async t=>await this.messagingSystem.call("SnapController:handleRequest",{snapId:e,origin:"metamask",handler:i.HandlerType.OnKeyringRequest,request:t})})}n.BalancesController=C}}},{package:"$root$",file:"app/scripts/lib/accounts/BalancesController.ts"}],[56,{"./Poller":57},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BalancesTracker=void 0;var r=e("./Poller");function s(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function i(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,o(e,t,"get"))}function a(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,o(e,t,"set"),n),n}function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var c=new WeakMap,u=new WeakMap,l=new WeakMap;n.BalancesTracker=class{constructor(e){s(this,c,{writable:!0,value:void 0}),s(this,u,{writable:!0,value:void 0}),s(this,l,{writable:!0,value:{}}),a(this,u,e),a(this,c,new r.Poller((()=>{this.updateBalances()}),3e4))}async start(){i(this,c).start()}async stop(){i(this,c).stop()}isTracked(e){return e in i(this,l)}assertBeingTracked(e){if(!this.isTracked(e))throw new Error(`Account is not being tracked: ${e}`)}track(e,t){this.isTracked(e)||(i(this,l)[e]={lastUpdated:0,blockTime:t})}untrack(e){this.assertBeingTracked(e),delete i(this,l)[e]}async updateBalance(e){this.assertBeingTracked(e);const t=i(this,l)[e];Date.now()-t.lastUpdated>=t.blockTime&&(await i(this,u).call(this,e),i(this,l)[e].lastUpdated=Date.now())}async updateBalances(){await Promise.allSettled(Object.keys(i(this,l)).map((async e=>{await this.updateBalance(e)})))}}}}},{package:"$root$",file:"app/scripts/lib/accounts/BalancesTracker.ts"}],[565,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.version=void 0,n.version="solidity/5.7.0"}}},{package:"@metamask/test-bundler>ethers>@ethersproject/solidity",file:"node_modules/@ethersproject/solidity/lib/_version.js"}],[566,{"./_version":565,"@ethersproject/bignumber":495,"@ethersproject/bytes":497,"@ethersproject/keccak256":523,"@ethersproject/logger":525,"@ethersproject/sha2":560,"@ethersproject/strings":570},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sha256=n.keccak256=n.pack=void 0;var r=e("@ethersproject/bignumber"),s=e("@ethersproject/bytes"),i=e("@ethersproject/keccak256"),a=e("@ethersproject/sha2"),o=e("@ethersproject/strings"),c=new RegExp("^bytes([0-9]+)$"),u=new RegExp("^(u?int)([0-9]*)$"),l=new RegExp("^(.*)\\[([0-9]*)\\]$"),h="0000000000000000000000000000000000000000000000000000000000000000",d=e("@ethersproject/logger"),f=e("./_version"),p=new d.Logger(f.version);function g(e,t,n){switch(e){case"address":return n?(0,s.zeroPad)(t,32):(0,s.arrayify)(t);case"string":return(0,o.toUtf8Bytes)(t);case"bytes":return(0,s.arrayify)(t);case"bool":return t=t?"0x01":"0x00",n?(0,s.zeroPad)(t,32):(0,s.arrayify)(t)}var i=e.match(u);if(i){var a=parseInt(i[2]||"256");return(i[2]&&String(a)!==i[2]||a%8!=0||0===a||a>256)&&p.throwArgumentError("invalid number type","type",e),n&&(a=256),t=r.BigNumber.from(t).toTwos(a),(0,s.zeroPad)(t,a/8)}if(i=e.match(c)){a=parseInt(i[1]);return(String(a)!==i[1]||0===a||a>32)&&p.throwArgumentError("invalid bytes type","type",e),(0,s.arrayify)(t).byteLength!==a&&p.throwArgumentError("invalid value for "+e,"value",t),n?(0,s.arrayify)((t+h).substring(0,66)):t}if((i=e.match(l))&&Array.isArray(t)){var d=i[1];parseInt(i[2]||String(t.length))!=t.length&&p.throwArgumentError("invalid array length for "+e,"value",t);var f=[];return t.forEach((function(e){f.push(g(d,e,!0))})),(0,s.concat)(f)}return p.throwArgumentError("invalid type","type",e)}function m(e,t){e.length!=t.length&&p.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);var n=[];return e.forEach((function(e,r){n.push(g(e,t[r]))})),(0,s.hexlify)((0,s.concat)(n))}n.pack=m,n.keccak256=function(e,t){return(0,i.keccak256)(m(e,t))},n.sha256=function(e,t){return(0,a.sha256)(m(e,t))}}}},{package:"@metamask/test-bundler>ethers>@ethersproject/solidity",file:"node_modules/@ethersproject/solidity/lib/index.js"}],[57,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function s(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,a(e,t,"get"))}function i(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,a(e,t,"set"),n),n}function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Poller=void 0;var o=new WeakMap,c=new WeakMap,u=new WeakMap;n.Poller=class{constructor(e,t){r(this,o,{writable:!0,value:void 0}),r(this,c,{writable:!0,value:void 0}),r(this,u,{writable:!0,value:undefined}),i(this,o,t),i(this,c,e)}start(){s(this,u)||i(this,u,setInterval(s(this,c),s(this,o)))}stop(){s(this,u)&&(clearInterval(s(this,u)),i(this,u,undefined))}}}}},{package:"$root$",file:"app/scripts/lib/accounts/Poller.ts"}],[574,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.version=void 0,n.version="units/5.7.0"}}},{package:"@metamask/test-bundler>ethers>@ethersproject/units",file:"node_modules/@ethersproject/units/lib/_version.js"}],[575,{"./_version":574,"@ethersproject/bignumber":495,"@ethersproject/logger":525},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseEther=n.formatEther=n.parseUnits=n.formatUnits=n.commify=void 0;var r=e("@ethersproject/bignumber"),s=e("@ethersproject/logger"),i=e("./_version"),a=new s.Logger(i.version),o=["wei","kwei","mwei","gwei","szabo","finney","ether"];function c(e,t){if("string"==typeof t){var n=o.indexOf(t);-1!==n&&(t=3*n)}return(0,r.formatFixed)(e,null!=t?t:18)}function u(e,t){if("string"!=typeof e&&a.throwArgumentError("value must be a string","value",e),"string"==typeof t){var n=o.indexOf(t);-1!==n&&(t=3*n)}return(0,r.parseFixed)(e,null!=t?t:18)}n.commify=function(e){var t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&a.throwArgumentError("invalid value","value",e);var n=t[0],r="";for("-"===n.substring(0,1)&&(r="-",n=n.substring(1));"0"===n.substring(0,1);)n=n.substring(1);""===n&&(n="0");var s="";for(2===t.length&&(s="."+(t[1]||"0"));s.length>2&&"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(var i=[];n.length;){if(n.length<=3){i.unshift(n);break}var o=n.length-3;i.unshift(n.substring(o)),n=n.substring(0,o)}return r+i.join(",")+s},n.formatUnits=c,n.parseUnits=u,n.formatEther=function(e){return c(e,18)},n.parseEther=function(e){return u(e,18)}}}},{package:"@metamask/test-bundler>ethers>@ethersproject/units",file:"node_modules/@ethersproject/units/lib/index.js"}],[576,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.version=void 0,n.version="wallet/5.7.0"}}},{package:"@ethersproject/wallet",file:"node_modules/@ethersproject/wallet/lib/_version.js"}],[577,{"./_version":576,"@ethersproject/abstract-provider":484,"@ethersproject/abstract-signer":486,"@ethersproject/address":488,"@ethersproject/bytes":497,"@ethersproject/hash":510,"@ethersproject/hdnode":515,"@ethersproject/json-wallets":518,"@ethersproject/keccak256":523,"@ethersproject/logger":525,"@ethersproject/properties":531,"@ethersproject/random":554,"@ethersproject/signing-key":564,"@ethersproject/transactions":573},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,s=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.verifyTypedData=n.verifyMessage=n.Wallet=void 0;var o=e("@ethersproject/address"),c=e("@ethersproject/abstract-provider"),u=e("@ethersproject/abstract-signer"),l=e("@ethersproject/bytes"),h=e("@ethersproject/hash"),d=e("@ethersproject/hdnode"),f=e("@ethersproject/keccak256"),p=e("@ethersproject/properties"),g=e("@ethersproject/random"),m=e("@ethersproject/signing-key"),b=e("@ethersproject/json-wallets"),y=e("@ethersproject/transactions"),w=e("@ethersproject/logger"),_=e("./_version"),v=new w.Logger(_.version);var k=function(e){function t(t,n){var r,s=e.call(this)||this;if(null!=(r=t)&&(0,l.isHexString)(r.privateKey,32)&&null!=r.address){var i=new m.SigningKey(t.privateKey);if((0,p.defineReadOnly)(s,"_signingKey",(function(){return i})),(0,p.defineReadOnly)(s,"address",(0,y.computeAddress)(s.publicKey)),s.address!==(0,o.getAddress)(t.address)&&v.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){var t=e.mnemonic;return t&&t.phrase}(t)){var a=t.mnemonic;(0,p.defineReadOnly)(s,"_mnemonic",(function(){return{phrase:a.phrase,path:a.path||d.defaultPath,locale:a.locale||"en"}}));var u=s.mnemonic,h=d.HDNode.fromMnemonic(u.phrase,null,u.locale).derivePath(u.path);(0,y.computeAddress)(h.privateKey)!==s.address&&v.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,p.defineReadOnly)(s,"_mnemonic",(function(){return null}))}else{if(m.SigningKey.isSigningKey(t))"secp256k1"!==t.curve&&v.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,p.defineReadOnly)(s,"_signingKey",(function(){return t}));else{"string"==typeof t&&t.match(/^[0-9a-f]*$/i)&&64===t.length&&(t="0x"+t);var f=new m.SigningKey(t);(0,p.defineReadOnly)(s,"_signingKey",(function(){return f}))}(0,p.defineReadOnly)(s,"_mnemonic",(function(){return null})),(0,p.defineReadOnly)(s,"address",(0,y.computeAddress)(s.publicKey))}return n&&!c.Provider.isProvider(n)&&v.throwArgumentError("invalid provider","provider",n),(0,p.defineReadOnly)(s,"provider",n||null),s}return s(t,e),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"privateKey",{get:function(){return this._signingKey().privateKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"publicKey",{get:function(){return this._signingKey().publicKey},enumerable:!1,configurable:!0}),t.prototype.getAddress=function(){return Promise.resolve(this.address)},t.prototype.connect=function(e){return new t(this,e)},t.prototype.signTransaction=function(e){var t=this;return(0,p.resolveProperties)(e).then((function(n){null!=n.from&&((0,o.getAddress)(n.from)!==t.address&&v.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete n.from);var r=t._signingKey().signDigest((0,f.keccak256)((0,y.serialize)(n)));return(0,y.serialize)(n,r)}))},t.prototype.signMessage=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,(0,l.joinSignature)(this._signingKey().signDigest((0,h.hashMessage)(e)))]}))}))},t.prototype._signTypedData=function(e,t,n){return i(this,void 0,void 0,(function(){var r,s=this;return a(this,(function(i){switch(i.label){case 0:return[4,h._TypedDataEncoder.resolveNames(e,t,n,(function(e){return null==s.provider&&v.throwError("cannot resolve ENS names without a provider",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),s.provider.resolveName(e)}))];case 1:return r=i.sent(),[2,(0,l.joinSignature)(this._signingKey().signDigest(h._TypedDataEncoder.hash(r.domain,t,r.value)))]}}))}))},t.prototype.encrypt=function(e,t,n){if("function"!=typeof t||n||(n=t,t={}),n&&"function"!=typeof n)throw new Error("invalid callback");return t||(t={}),(0,b.encryptKeystore)(this,e,t,n)},t.createRandom=function(e){var n=(0,g.randomBytes)(16);e||(e={}),e.extraEntropy&&(n=(0,l.arrayify)((0,l.hexDataSlice)((0,f.keccak256)((0,l.concat)([n,e.extraEntropy])),0,16)));var r=(0,d.entropyToMnemonic)(n,e.locale);return t.fromMnemonic(r,e.path,e.locale)},t.fromEncryptedJson=function(e,n,r){return(0,b.decryptJsonWallet)(e,n,r).then((function(e){return new t(e)}))},t.fromEncryptedJsonSync=function(e,n){return new t((0,b.decryptJsonWalletSync)(e,n))},t.fromMnemonic=function(e,n,r){return n||(n=d.defaultPath),new t(d.HDNode.fromMnemonic(e,null,r).derivePath(n))},t}(u.Signer);n.Wallet=k,n.verifyMessage=function(e,t){return(0,y.recoverAddress)((0,h.hashMessage)(e),t)},n.verifyTypedData=function(e,t,n,r){return(0,y.recoverAddress)(h._TypedDataEncoder.hash(e,t,n),r)}}}},{package:"@ethersproject/wallet",file:"node_modules/@ethersproject/wallet/lib/index.js"}],[58,{"../../../shared/modules/string-utils":5103},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../shared/modules/string-utils");n.default=class{constructor(e={}){const{preferencesController:t,addressBookController:n,accountsController:r,networkController:s,trackMetaMetricsEvent:i}=e;this.preferencesController=t,this.accountsController=r,this.addressBookController=n,this.networkController=s,this._trackMetaMetricsEvent=i}async restoreUserData(e){const t=this.preferencesController.store.getState(),{preferences:n,addressBook:r,network:s,internalAccounts:i}=JSON.parse(e);n&&(n.identities=t.identities,n.lostIdentities=t.lostIdentities,n.selectedAddress=t.selectedAddress,this.preferencesController.store.updateState(n)),r&&this.addressBookController.update(r,!0),s&&this.networkController.loadBackup(s),i&&this.accountsController.loadBackup(i),(n||r||s||i)&&this._trackMetaMetricsEvent({event:"User Data Imported",category:"Backup"})}async backupUserData(){const e={preferences:{...this.preferencesController.store.getState()},internalAccounts:{internalAccounts:this.accountsController.state.internalAccounts},addressBook:{...this.addressBookController.state},network:{networkConfigurations:this.networkController.state.networkConfigurations}};delete e.preferences.identities,delete e.preferences.lostIdentities,delete e.preferences.selectedAddress;const t=JSON.stringify(e),n=new Date,s=e=>(0,r.prependZero)(e,2);return{fileName:`MetaMaskUserData.${n.getFullYear()}_${s(n.getMonth()+1)}_${s(n.getDay())}_${s(n.getHours())}_${s(n.getMinutes())}_${s(n.getDay())}.json`,data:t}}}}}},{package:"$root$",file:"app/scripts/lib/backup.js"}],[59,{"../../../shared/constants/time":5059,loglevel:4388,"readable-stream":4794},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.THREE_MINUTES=void 0,n.default=function(){const e=c();return new s.Transform({transform(t,n,r){const s=t.id===undefined,a=e.add(t.id);s||a?r(null,t):(i.default.debug(`RPC request with id "${t.id}" already seen.`),r())},objectMode:!0})};var r,s=e("readable-stream"),i=(r=e("loglevel"))&&r.__esModule?r:{default:r},a=e("../../../shared/constants/time");const o=n.THREE_MINUTES=3*a.MINUTE,c=()=>{const e=new Map;return setInterval((()=>{const t=Date.now()-o;for(const[n,r]of e.entries()){if(!(r<=t))break;e.delete(n)}}),o),{add:t=>!e.has(t)&&(e.set(t,Date.now()),!0)}}}}},{package:"$root$",file:"app/scripts/lib/createDupeReqFilterStream.ts"}],[593,{"@firebase/component":594,"@firebase/logger":596,"@firebase/util":599,idb:4179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FirebaseError",{enumerable:!0,get:function(){return i.FirebaseError}}),n._DEFAULT_ENTRY_NAME=n.SDK_VERSION=void 0,n._addComponent=m,n._addOrOverwriteComponent=function(e,t){e.container.addOrOverwriteComponent(t)},n._apps=void 0,n._clearComponents=function(){g.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n._components=void 0,n._getProvider=y,n._isFirebaseApp=w,n._isFirebaseServerApp=function(e){return e.settings!==undefined},n._registerComponent=b,n._removeServiceInstance=function(e,t,n=h){y(e,t).clearInstance(n)},n._serverApps=void 0,n.deleteApp=E,n.getApp=function(e=h){const t=f.get(e);if(!t&&e===h&&(0,i.getDefaultAppConfig)())return T();if(!t)throw v.create("no-app",{appName:e});return t},n.getApps=function(){return Array.from(f.values())},n.initializeApp=T,n.initializeServerApp=function(e,t){if((0,i.isBrowser)())throw v.create("invalid-server-app-environment");t.automaticDataCollectionEnabled===undefined&&(t.automaticDataCollectionEnabled=!1);let n;n=w(e)?e.options:e;const s=Object.assign(Object.assign({},t),n);s.releaseOnDeref!==undefined&&delete s.releaseOnDeref;if(t.releaseOnDeref!==undefined&&"undefined"==typeof FinalizationRegistry)throw v.create("finalization-registry-not-supported",{});const a=""+(c=JSON.stringify(s),[...c].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0)),o=p.get(a);var c;if(o)return o.incRefCount(t.releaseOnDeref),o;const u=new r.ComponentContainer(a);for(const e of g.values())u.addComponent(e);const l=new S(n,t,a,u);return p.set(a,l),l},n.onLog=function(e,t){if(null!==e&&"function"!=typeof e)throw v.create("invalid-log-argument");(0,s.setUserLogHandler)(e,t)},n.registerVersion=A,n.setLogLevel=function(e){(0,s.setLogLevel)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */;var r=e("@firebase/component"),s=e("@firebase/logger"),i=e("@firebase/util"),a=e("idb");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const c="@firebase/app",u="0.10.1",l=new s.Logger("@firebase/app"),h=n._DEFAULT_ENTRY_NAME="[DEFAULT]",d={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=n._apps=new Map,p=n._serverApps=new Map,g=n._components=new Map;function m(e,t){try{e.container.addComponent(t)}catch(n){l.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function b(e){const t=e.name;if(g.has(t))return l.debug(`There were multiple attempts to register component ${t}.`),!1;g.set(t,e);for(const t of f.values())m(t,e);for(const t of p.values())m(t,e);return!0}function y(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function w(e){return e.options!==undefined}const _={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},v=new i.ErrorFactory("app","Firebase",_);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class k{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.Component("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw v.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S extends k{constructor(e,t,n,r){const s=t.automaticDataCollectionEnabled!==undefined&&t.automaticDataCollectionEnabled,i={name:n,automaticDataCollectionEnabled:s};if(e.apiKey!==undefined)super(e,i,r);else{super(e.options,i,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=undefined,t.releaseOnDeref=undefined,A(c,u,"serverapp")}toJSON(){return undefined}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==undefined&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){E(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw v.create("server-app-deleted")}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.SDK_VERSION="10.11.0";function T(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const s=Object.assign({name:h,automaticDataCollectionEnabled:!1},t),a=s.name;if("string"!=typeof a||!a)throw v.create("bad-app-name",{appName:String(a)});if(n||(n=(0,i.getDefaultAppConfig)()),!n)throw v.create("no-options");const o=f.get(a);if(o){if((0,i.deepEqual)(n,o.options)&&(0,i.deepEqual)(s,o.config))return o;throw v.create("duplicate-app",{appName:a})}const c=new r.ComponentContainer(a);for(const e of g.values())c.addComponent(e);const u=new k(n,s,c);return f.set(a,u),u}async function E(e){let t=!1;const n=e.name;if(f.has(n))t=!0,f.delete(n);else if(p.has(n)){e.decRefCount()<=0&&(p.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function A(e,t,n){var s;let i=null!==(s=d[e])&&void 0!==s?s:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void l.warn(e.join(" "))}b(new r.Component(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const I="firebase-heartbeat-database",x=1,j="firebase-heartbeat-store";let C=null;function O(){return C||(C=(0,a.openDB)(I,x,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(j)}catch(e){console.warn(e)}}}).catch((e=>{throw v.create("idb-open",{originalErrorMessage:e.message})}))),C}async function P(e,t){try{const n=(await O()).transaction(j,"readwrite"),r=n.objectStore(j);await r.put(t,M(e)),await n.done}catch(e){if(e instanceof i.FirebaseError)l.warn(e.message);else{const t=v.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});l.warn(t.message)}}}function M(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new L(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=N();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=N(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),R(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),R(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=(0,i.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function N(){return(new Date).toISOString().substring(0,10)}class L{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.isIndexedDBAvailable)()&&(0,i.validateIndexedDBOpenable)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await O()).transaction(j),n=await t.objectStore(j).get(M(e));return await t.done,n}catch(e){if(e instanceof i.FirebaseError)l.warn(e.message);else{const t=v.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});l.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return P(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return P(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function R(e){return(0,i.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B;B="",b(new r.Component("platform-logger",(e=>new o(e)),"PRIVATE")),b(new r.Component("heartbeat",(e=>new D(e)),"PRIVATE")),A(c,u,B),A(c,u,"esm2017"),A("fire-js","")}}},{package:"firebase>@firebase/app",file:"node_modules/@firebase/app/dist/esm/index.esm2017.js"}],[594,{"@firebase/util":599},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Provider=n.ComponentContainer=n.Component=void 0;var r=e("@firebase/util");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n.Component=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};const s="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=s){return this.instances.has(e)}getOptions(e=s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===s?undefined:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=s){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}n.Provider=i;n.ComponentContainer=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new i(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}}}},{package:"firebase>@firebase/app>@firebase/component",file:"node_modules/@firebase/component/dist/esm/index.esm2017.js"}],[595,{"@firebase/app":593,"@firebase/component":594,"@firebase/util":599,idb:4179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deleteInstallations=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e){const{appConfig:t}=e,n=await U(t,(e=>e&&0===e.registrationStatus?undefined:e));if(n){if(1===n.registrationStatus)throw g.create("delete-pending-registration");if(2===n.registrationStatus){if(!navigator.onLine)throw g.create("app-offline");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
await async function(e,t){const n=function(e,{fid:t}){return`${b(e)}/${t}`}(e,t),r=v(e,t),s={method:"DELETE",headers:r},i=await k((()=>fetch(n,s)));if(!i.ok)throw await w("Delete Installation",i)}(t,n),await K(t)}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.getId=J,n.getInstallations=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e=(0,r.getApp)()){return(0,r._getProvider)(e,"installations").getImmediate()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.getToken=Y,n.onIdChange=function(e,t){const{appConfig:n}=e;return function(e,t){P();const n=I(e);let r=x.get(n);r||(r=new Set,x.set(n,r));r.add(t)}(n,t),()=>{!function(e,t){const n=I(e),r=x.get(n);if(!r)return;r.delete(t),0===r.size&&x.delete(n);M()}(n,t)}};var r=e("@firebase/app"),s=e("@firebase/component"),i=e("@firebase/util"),a=e("idb");const o="@firebase/installations",c="0.6.6",u=1e4,l=`w:${c}`,h="FIS_v2",d="https://firebaseinstallations.googleapis.com/v1",f=36e5,p={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},g=new i.ErrorFactory("installations","Installations",p);function m(e){return e instanceof i.FirebaseError&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b({projectId:e}){return`${d}/projects/${e}/installations`}function y(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function w(e,t){const n=(await t.json()).error;return g.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function _({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function v(e,{refreshToken:t}){const n=_(e);return n.append("Authorization",function(e){return`${h} ${e}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),n}async function k(e){const t=await e();return t.status>=500&&t.status<600?e():t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function S(e){return new Promise((t=>{setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const T=/^[cdef][\w-]{21}$/,E="";function A(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return T.test(t)?t:E}catch(e){return E}}function I(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x=new Map;function j(e,t){const n=I(e);C(n,t),function(e,t){const n=P();n&&n.postMessage({key:e,fid:t});M()}(n,t)}function C(e,t){const n=x.get(e);if(n)for(const e of n)e(t)}let O=null;function P(){return!O&&"BroadcastChannel"in self&&(O=new BroadcastChannel("[Firebase] FID Change"),O.onmessage=e=>{C(e.data.key,e.data.fid)}),O}function M(){0===x.size&&O&&(O.close(),O=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D="firebase-installations-database",N=1,L="firebase-installations-store";let R=null;function B(){return R||(R=(0,a.openDB)(D,N,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(L)}})),R}async function F(e,t){const n=I(e),r=(await B()).transaction(L,"readwrite"),s=r.objectStore(L),i=await s.get(n);return await s.put(t,n),await r.done,i&&i.fid===t.fid||j(e,t.fid),t}async function K(e){const t=I(e),n=(await B()).transaction(L,"readwrite");await n.objectStore(L).delete(t),await n.done}async function U(e,t){const n=I(e),r=(await B()).transaction(L,"readwrite"),s=r.objectStore(L),i=await s.get(n),a=t(i);return a===undefined?await s.delete(n):await s.put(a,n),await r.done,!a||i&&i.fid===a.fid||j(e,a.fid),a}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H(e){let t;const n=await U(e.appConfig,(n=>{const r=function(e){const t=e||{fid:A(),registrationStatus:0};return z(t)}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(g.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=b(e),s=_(e),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={fid:n,authVersion:h,appId:e.appId,sdkVersion:l},o={method:"POST",headers:s,body:JSON.stringify(a)},c=await k((()=>fetch(r,o)));if(c.ok){const e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:y(e.authToken)}}throw await w("Create Installation",c)}(e,t);return F(e.appConfig,n)}catch(n){throw m(n)&&409===n.customData.serverCode?await K(e.appConfig):await F(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:$(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry}));return n.fid===E?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function $(e){let t=await q(e.appConfig);for(;1===t.registrationStatus;)await S(100),t=await q(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await H(e);return n||t}return t}function q(e){return U(e,(e=>{if(!e)throw g.create("installation-not-found");return z(e)}))}function z(e){return 1===(t=e).registrationStatus&&t.registrationTime+u<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}async function W({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${b(e)}/${t}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,n),s=v(e,n),i=t.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:l,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},c=await k((()=>fetch(r,o)));if(c.ok){return y(await c.json())}throw await w("Generate Auth Token",c)}async function V(e,t=!1){let n;const r=await U(e.appConfig,(r=>{if(!Q(r))throw g.create("not-registered");const s=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+f}(e)}(s))return r;if(1===s.requestStatus)return n=async function(e,t){let n=await G(e.appConfig);for(;1===n.authToken.requestStatus;)await S(100),n=await G(e.appConfig);const r=n.authToken;return 0===r.requestStatus?V(e,t):r}(e,t),r;{if(!navigator.onLine)throw g.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await W(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await F(e.appConfig,r),n}catch(n){if(!m(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await F(e.appConfig,n)}else await K(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function G(e){return U(e,(e=>{if(!Q(e))throw g.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+u<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}function Q(e){return e!==undefined&&2===e.registrationStatus}async function J(e){const t=e,{installationEntry:n,registrationPromise:r}=await H(t);return r?r.catch(console.error):V(t).catch(console.error),n.fid}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await H(e);t&&await t}(n);return(await V(n,t)).token}function X(e){return g.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z="installations",ee=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw X("App Configuration");if(!e.name)throw X("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw X(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,r._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},te=e=>{const t=e.getProvider("app").getImmediate(),n=(0,r._getProvider)(t,Z).getImmediate();return{getId:()=>J(n),getToken:e=>Y(n,e)}};(0,r._registerComponent)(new s.Component(Z,ee,"PUBLIC")),(0,r._registerComponent)(new s.Component("installations-internal",te,"PRIVATE")),(0,r.registerVersion)(o,c),(0,r.registerVersion)(o,c,"esm2017")}}},{package:"firebase>@firebase/installations",file:"node_modules/@firebase/installations/dist/esm/index.esm2017.js"}],[596,{tslib:4916},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,s,i=e("tslib"),a=[];
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.LogLevel=void 0,(s=n.LogLevel||(n.LogLevel={}))[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT";var o={debug:n.LogLevel.DEBUG,verbose:n.LogLevel.VERBOSE,info:n.LogLevel.INFO,warn:n.LogLevel.WARN,error:n.LogLevel.ERROR,silent:n.LogLevel.SILENT},c=n.LogLevel.INFO,u=((r={})[n.LogLevel.DEBUG]="log",r[n.LogLevel.VERBOSE]="log",r[n.LogLevel.INFO]="info",r[n.LogLevel.WARN]="warn",r[n.LogLevel.ERROR]="error",r),l=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var s=(new Date).toISOString(),a=u[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));console[a].apply(console,i.__spreadArray(["[".concat(s,"]  ").concat(e.name,":")],n,!1))}},h=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in n.LogLevel))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?o[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,n.LogLevel.DEBUG],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,n.LogLevel.DEBUG],e,!1))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,n.LogLevel.VERBOSE],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,n.LogLevel.VERBOSE],e,!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,n.LogLevel.INFO],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,n.LogLevel.INFO],e,!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,n.LogLevel.WARN],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,n.LogLevel.WARN],e,!1))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,i.__spreadArray([this,n.LogLevel.ERROR],e,!1)),this._logHandler.apply(this,i.__spreadArray([this,n.LogLevel.ERROR],e,!1))},e}();n.Logger=h,n.setLogLevel=function(e){a.forEach((function(t){t.setLogLevel(e)}))},n.setUserLogHandler=function(e,t){for(var r=function(r){var s=null;t&&t.level&&(s=o[t.level]),r.userLogHandler=null===e?null:function(t,r){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var o=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");r>=(null!=s?s:t.logLevel)&&e({level:n.LogLevel[r].toLowerCase(),message:o,args:i,type:t.name})}},s=0,i=a;s<i.length;s++){r(i[s])}}}}},{package:"firebase>@firebase/app>@firebase/logger",file:"node_modules/@firebase/logger/dist/index.cjs.js"}],[597,{"@firebase/app":593,"@firebase/component":594,"@firebase/installations":595,"@firebase/util":599,idb:4179},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deleteToken=function(e){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e){if(!navigator)throw C.create("only-available-in-window");e.swRegistration||await H(e);return async function(e){const t=await A(e.firebaseDependencies);t&&(await O(e.firebaseDependencies,t.token),await async function(e){const t=x(e),n=(await E()).transaction(S,"readwrite");await n.objectStore(S).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();if(n)return n.unsubscribe();return!0}(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=(0,i.getModularInstance)(e))},n.getMessaging=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e=(0,a.getApp)()){return J().then((e=>{if(!e)throw C.create("unsupported-browser")}),(e=>{throw C.create("indexed-db-unsupported")})),(0,a._getProvider)((0,i.getModularInstance)(e),"messaging").getImmediate()},n.getToken=async function(e,t){return $(e=(0,i.getModularInstance)(e),t)},n.isSupported=J,n.onMessage=function(e,t){return function(e,t){if(!navigator)throw C.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=(0,i.getModularInstance)(e),t)},e("@firebase/installations");var r=e("@firebase/component"),s=e("idb"),i=e("@firebase/util"),a=e("@firebase/app");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o="/firebase-messaging-sw.js",c="/firebase-cloud-messaging-push-scope",u="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",l="https://fcmregistrations.googleapis.com/v1",h="google.c.a.c_id",d="google.c.a.c_l",f="google.c.a.ts";var p,g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function m(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function b(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(p||(p={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(g||(g={}));const y="fcm_token_details_db",w=5,_="fcm_token_object_Store";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const v="firebase-messaging-database",k=1,S="firebase-messaging-store";let T=null;function E(){return T||(T=(0,s.openDB)(v,k,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(S)}})),T}async function A(e){const t=x(e),n=await E(),r=await n.transaction(S).objectStore(S).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(y))return null}let t=null;return(await(0,s.openDB)(y,w,{upgrade:async(n,r,s,i)=>{var a;if(r<2)return;if(!n.objectStoreNames.contains(_))return;const o=i.objectStore(_),c=await o.index("fcmSenderId").get(e);if(await o.clear(),c)if(2===r){const e=c;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(a=e.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:m(e.vapidKey)}}}else if(3===r){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:m(e.auth),p256dh:m(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:m(e.vapidKey)}}}else if(4===r){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:m(e.auth),p256dh:m(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:m(e.vapidKey)}}}}})).close(),await(0,s.deleteDB)(y),await(0,s.deleteDB)("fcm_vapid_details_db"),await(0,s.deleteDB)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await I(e,t),t}}async function I(e,t){const n=x(e),r=(await E()).transaction(S,"readwrite");return await r.objectStore(S).put(t,n),await r.done,t}function x({appConfig:e}){return e.appId}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},C=new i.ErrorFactory("messaging","Messaging",j);async function O(e,t){const n={method:"DELETE",headers:await M(e)};try{const r=await fetch(`${P(e.appConfig)}/${t}`,n),s=await r.json();if(s.error){const e=s.error.message;throw C.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw C.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function P({projectId:e}){return`${l}/projects/${e}/registrations`}async function M({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function D({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:t,p256dh:e}};return r!==u&&(s.web.applicationPubKey=r),s}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=6048e5;async function L(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:b(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:m(t.getKey("auth")),p256dh:m(t.getKey("p256dh"))},r=await A(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,s=t.auth===e.auth,i=t.p256dh===e.p256dh;return n&&r&&s&&i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r.subscriptionOptions,n))return Date.now()>=r.createTime+N?async function(e,t){try{const n=await async function(e,t){const n=await M(e),r=D(t.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{const n=await fetch(`${P(e.appConfig)}/${t.token}`,s);i=await n.json()}catch(e){throw C.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(i.error){const e=i.error.message;throw C.create("token-update-failed",{errorInfo:e})}if(!i.token)throw C.create("token-update-no-token");return i.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await I(e.firebaseDependencies,r),n}catch(e){throw e}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await O(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return R(e.firebaseDependencies,n)}return R(e.firebaseDependencies,n)}async function R(e,t){const n=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */await async function(e,t){const n=await M(e),r=D(t),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{const t=await fetch(P(e.appConfig),s);i=await t.json()}catch(e){throw C.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(i.error){const e=i.error.message;throw C.create("token-subscribe-failed",{errorInfo:e})}if(!i.token)throw C.create("token-subscribe-no-token");return i.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await I(e,r),r.token}function B(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const s=t.notification.image;s&&(e.notification.image=s);const i=t.notification.icon;i&&(e.notification.icon=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,s,i,a;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const o=null!==(s=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==s?s:null===(i=t.notification)||void 0===i?void 0:i.click_action;o&&(e.fcmOptions.link=o);const c=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),t}function F(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e){return C.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
F("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),F("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class U{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw K("App Configuration Object");if(!e.name)throw K("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw K(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H(e){try{e.swRegistration=await navigator.serviceWorker.register(o,{scope:c}),e.swRegistration.update().catch((()=>{}))}catch(e){throw C.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function $(e,t){if(!navigator)throw C.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw C.create("permission-blocked");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=u)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await H(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw C.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),L(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q(e,t,n){const r=function(e){switch(e){case g.NOTIFICATION_CLICKED:return"notification_open";case g.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[h],message_name:n[d],message_time:n[f],message_device_time:Math.floor(Date.now()/1e3)})}async function z(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===g.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(B(n)):e.onMessageHandler.next(B(n)));const r=n.data;var s;"object"==typeof(s=r)&&s&&h in s&&"1"===r["google.c.a.e"]&&await q(e,n.messageType,r)}const W="@firebase/messaging",V="0.12.8",G=e=>{const t=new U(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>z(t,e))),t},Q=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>$(t,e)}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function J(){try{await(0,i.validateIndexedDBOpenable)()}catch(e){return!1}return"undefined"!=typeof window&&(0,i.isIndexedDBAvailable)()&&(0,i.areCookiesEnabled)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}(0,a._registerComponent)(new r.Component("messaging",G,"PUBLIC")),(0,a._registerComponent)(new r.Component("messaging-internal",Q,"PRIVATE")),(0,a.registerVersion)(W,V),(0,a.registerVersion)(W,V,"esm2017")}}},{package:"firebase>@firebase/messaging",file:"node_modules/@firebase/messaging/dist/esm/index.esm2017.js"}],[598,{"@firebase/app":593,"@firebase/component":594,"@firebase/installations":595,"@firebase/util":599,idb:4179,tslib:4916},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),e("@firebase/installations");var r,s,i=e("@firebase/component"),a=e("tslib"),o=e("idb"),c=e("@firebase/util"),u=e("@firebase/app"),l="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",h="https://fcmregistrations.googleapis.com/v1",d="FCM_MSG",f="google.c.a.c_id",p=3,g=1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function m(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,a.__spreadArray([],a.__read(t),!1))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function b(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(r||(r={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(s||(s={}));var y="fcm_token_details_db",w=5,_="fcm_token_object_Store";function v(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,s=this;return a.__generator(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),n=t.map((function(e){return e.name})),!n.includes(y))return[2,null];i.label=2;case 2:return r=null,[4,o.openDB(y,w,{upgrade:function(t,n,i,o){return a.__awaiter(s,void 0,void 0,(function(){var s,i,c,u;return a.__generator(this,(function(a){switch(a.label){case 0:return n<2?[2]:t.objectStoreNames.contains(_)?[4,(s=o.objectStore(_)).index("fcmSenderId").get(e)]:[2];case 1:return i=a.sent(),[4,s.clear()];case 2:if(a.sent(),!i)return[2];if(2===n){if(!(c=i).auth||!c.p256dh||!c.endpoint)return[2];r={token:c.fcmToken,createTime:null!==(u=c.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:"string"==typeof c.vapidKey?c.vapidKey:m(c.vapidKey)}}}else(3===n||4===n)&&(r={token:(c=i).fcmToken,createTime:c.createTime,subscriptionOptions:{auth:m(c.auth),p256dh:m(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:m(c.vapidKey)}});return[2]}}))}))}})];case 3:return i.sent().close(),[4,o.deleteDB(y)];case 4:return i.sent(),[4,o.deleteDB("fcm_vapid_details_db")];case 5:return i.sent(),[4,o.deleteDB("undefined")];case 6:return i.sent(),[2,k(r)?r:null]}}))}))}function k(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S,T="firebase-messaging-database",E=1,A="firebase-messaging-store",I=null;function x(){return I||(I=o.openDB(T,E,{upgrade:function(e,t){if(0===t)e.createObjectStore(A)}})),I}function j(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r;return a.__generator(this,(function(s){switch(s.label){case 0:return t=P(e),[4,x()];case 1:return[4,s.sent().transaction(A).objectStore(A).get(t)];case 2:return(n=s.sent())?[2,n]:[3,3];case 3:return[4,v(e.appConfig.senderId)];case 4:return(r=s.sent())?[4,C(e,r)]:[3,6];case 5:return s.sent(),[2,r];case 6:return[2]}}))}))}function C(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,s;return a.__generator(this,(function(i){switch(i.label){case 0:return n=P(e),[4,x()];case 1:return r=i.sent(),[4,(s=r.transaction(A,"readwrite")).objectStore(A).put(t,n)];case 2:return i.sent(),[4,s.done];case 3:return i.sent(),[2,t]}}))}))}function O(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r;return a.__generator(this,(function(s){switch(s.label){case 0:return t=P(e),[4,x()];case 1:return n=s.sent(),[4,(r=n.transaction(A,"readwrite")).objectStore(A).delete(t)];case 2:return s.sent(),[4,r.done];case 3:return s.sent(),[2]}}))}))}function P(e){return e.appConfig.appId}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M=((S={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',S["only-available-in-window"]="This method is available in a Window context.",S["only-available-in-sw"]="This method is available in a service worker context.",S["permission-default"]="The notification permission was not granted and dismissed instead.",S["permission-blocked"]="The notification permission was not granted and blocked instead.",S["unsupported-browser"]="This browser doesn't support the API's required to use the Firebase SDK.",S["indexed-db-unsupported"]="This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",S["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",S["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",S["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",S["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",S["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",S["token-update-no-token"]="FCM returned no token when updating the user to push.",S["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",S["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",S["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",S["invalid-vapid-key"]="The public VAPID key must be a string.",S["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",S),D=new c.ErrorFactory("messaging","Messaging",M);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function N(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,s,i,o,c;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,F(e)];case 1:n=a.sent(),r=K(t),s={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(B(e.appConfig),s)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),D.create("token-subscribe-failed",{errorInfo:null==o?void 0:o.toString()});case 6:if(i.error)throw c=i.error.message,D.create("token-subscribe-failed",{errorInfo:c});if(!i.token)throw D.create("token-subscribe-no-token");return[2,i.token]}}))}))}function L(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,s,i,o,c;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,F(e)];case 1:n=a.sent(),r=K(t.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch("".concat(B(e.appConfig),"/").concat(t.token),s)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),D.create("token-update-failed",{errorInfo:null==o?void 0:o.toString()});case 6:if(i.error)throw c=i.error.message,D.create("token-update-failed",{errorInfo:c});if(!i.token)throw D.create("token-update-no-token");return[2,i.token]}}))}))}function R(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,s,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,F(e)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch("".concat(B(e.appConfig),"/").concat(t),r)];case 3:return[4,a.sent().json()];case 4:if((s=a.sent()).error)throw i=s.error.message,D.create("token-unsubscribe-failed",{errorInfo:i});return[3,6];case 5:throw o=a.sent(),D.create("token-unsubscribe-failed",{errorInfo:null==o?void 0:o.toString()});case 6:return[2]}}))}))}function B(e){var t=e.projectId;return"".concat(h,"/projects/").concat(t,"/registrations")}function F(e){var t=e.appConfig,n=e.installations;return a.__awaiter(this,void 0,void 0,(function(){var e;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(e)})]}}))}))}function K(e){var t=e.p256dh,n=e.auth,r=e.endpoint,s=e.vapidKey,i={web:{endpoint:r,auth:n,p256dh:t}};return s!==l&&(i.web.applicationPubKey=s),i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U=6048e5;function H(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,s;return a.__generator(this,(function(i){switch(i.label){case 0:return[4,W(e.swRegistration,e.vapidKey)];case 1:return t=i.sent(),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:m(t.getKey("auth")),p256dh:m(t.getKey("p256dh"))},[4,j(e.firebaseDependencies)];case 2:return(r=i.sent())?[3,3]:[2,z(e.firebaseDependencies,n)];case 3:if(a=r.subscriptionOptions,c=(o=n).vapidKey===a.vapidKey,u=o.endpoint===a.endpoint,l=o.auth===a.auth,h=o.p256dh===a.p256dh,c&&u&&l&&h)return[3,8];i.label=4;case 4:return i.trys.push([4,6,,7]),[4,R(e.firebaseDependencies,r.token)];case 5:return i.sent(),[3,7];case 6:return s=i.sent(),console.warn(s),[3,7];case 7:return[2,z(e.firebaseDependencies,n)];case 8:return Date.now()>=r.createTime+U?[2,q(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n})]:[2,r.token];case 9:return[2]}var a,o,c,u,l,h;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function $(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,j(e.firebaseDependencies)];case 1:return(t=r.sent())?[4,R(e.firebaseDependencies,t.token)]:[3,4];case 2:return r.sent(),[4,O(e.firebaseDependencies)];case 3:r.sent(),r.label=4;case 4:return[4,e.swRegistration.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))}function q(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r;return a.__generator(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,L(e.firebaseDependencies,t)];case 1:return n=s.sent(),r=a.__assign(a.__assign({},t),{token:n,createTime:Date.now()}),[4,C(e.firebaseDependencies,r)];case 2:return s.sent(),[2,n];case 3:throw s.sent();case 4:return[2]}}))}))}function z(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r;return a.__generator(this,(function(s){switch(s.label){case 0:return[4,N(e,t)];case 1:return n=s.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,C(e,r)];case 2:return s.sent(),[2,r.token]}}))}))}function W(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:b(t)})]}}))}))}function V(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,s;return a.__generator(this,(function(i){switch(i.label){case 0:return r=G,s=[t],[4,e.firebaseDependencies.installations.getId()];case 1:return n=r.apply(void 0,s.concat([i.sent()])),function(e,t,n){var r={};r.event_time_ms=Math.floor(Date.now()).toString(),r.source_extension_json_proto3=JSON.stringify(t),!n||(r.compliance_data=function(e){var t={privacy_context:{prequest:{origin_associated_product_id:e}}};return t}(n));e.logEvents.push(r)}(e,n,t.productId),[2]}}))}))}function G(e,t){var n,s,i={};return e.from&&(i.project_number=e.from),e.fcmMessageId&&(i.message_id=e.fcmMessageId),i.instance_id=t,e.notification?i.message_type=r.DISPLAY_NOTIFICATION.toString():i.message_type=r.DATA_MESSAGE.toString(),i.sdk_platform=p.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(i.collapse_key=e.collapse_key),i.event=g.toString(),(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)&&(i.analytics_label=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label),i}function Q(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e){var t,n;return a.__awaiter(this,void 0,void 0,(function(){var r,i,o,c,u;return a.__generator(this,(function(a){switch(a.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[d])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,s=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(s)return s;return i=e.data,"object"==typeof i&&i&&f in i?self.location.origin:null;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var i;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r),i?(o=new URL(i,self.location.href),c=new URL(self.location.origin),o.host!==c.host?[2]:[4,X(o)]):[2]):[2];case 1:return(u=a.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return u=a.sent(),[4,(l=3e3,new Promise((function(e){setTimeout(e,l)})))];case 3:return a.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=a.sent(),a.label=6;case 6:return u?(r.messageType=s.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,u.postMessage(r)]):[2]}var l;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function Y(e){var t,n=a.__assign({},e.notification);return n.data=((t={})[d]=e,t),n}function X(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,s,i,o,c;return a.__generator(this,(function(u){switch(u.label){case 0:return[4,ee()];case 1:t=u.sent();try{for(n=a.__values(t),r=n.next();!r.done;r=n.next())if(s=r.value,i=new URL(s.url,self.location.href),e.host===i.host)return[2,s]}catch(e){o={error:e}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(o)throw o.error}}return[2,null]}}))}))}function Z(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=s.PUSH_RECEIVED;try{for(var i=a.__values(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ee(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function te(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports ".concat(r," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function ne(e){return D.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Q("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Q("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var re=function(){function e(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var r=function(e){var t,n;if(!e||!e.options)throw ne("App Configuration Object");if(!e.name)throw ne("App Name");var r=e.options;try{for(var s=a.__values(["projectId","apiKey","appId","messagingSenderId"]),i=s.next();!i.done;i=s.next()){var o=i.value;if(!r[o])throw ne(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}return e.prototype._delete=function(){return Promise.resolve()},e}(),se=function(e){var t=new re(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(function(e){e.waitUntil(function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,s;return a.__generator(this,(function(i){switch(i.label){case 0:return n=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e),n?t.deliveryMetricsExportedToBigQueryEnabled?[4,V(t,n)]:[3,2]:[2];case 1:i.sent(),i.label=2;case 2:return[4,ee()];case 3:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(r=i.sent())?[2,Z(r,n)]:n.notification?[4,te(Y(n))]:[3,5];case 4:i.sent(),i.label=5;case 5:return t?t.onBackgroundMessageHandler?(s=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var s=t.notification.image;s&&(e.notification.image=s);var i=t.notification.icon;i&&(e.notification.icon=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){var n,r,s,i,a;if(t.fcmOptions||(null===(n=t.notification)||void 0===n?void 0:n.click_action)){e.fcmOptions={};var o=null!==(s=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==s?s:null===(i=t.notification)||void 0===i?void 0:i.click_action;o&&(e.fcmOptions.link=o);var c=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}}(t,e),t}(n),"function"!=typeof t.onBackgroundMessageHandler?[3,7]:[4,t.onBackgroundMessageHandler(s)]):[3,8]:[2];case 6:return i.sent(),[3,8];case 7:t.onBackgroundMessageHandler.next(s),i.label=8;case 8:return[2]}}))}))}(e,t))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(function(e,t){var n,r;return a.__awaiter(this,void 0,void 0,(function(){var s;return a.__generator(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,$(t)];case 1:case 5:return i.sent(),[2];case 2:return[4,j(t.firebaseDependencies)];case 3:return s=i.sent(),[4,$(t)];case 4:return i.sent(),t.vapidKey=null!==(r=null===(n=null==s?void 0:s.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==r?r:l,[4,H(t)]}}))}))}(e,t))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(J(e))})),t};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ie(){return a.__awaiter(this,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:return(e=c.isIndexedDBAvailable())?[4,c.validateIndexedDBOpenable()]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return[2,e&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")]}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */u._registerComponent(new i.Component("messaging-sw",se,"PUBLIC")),n.experimentalSetDeliveryMetricsExportedToBigQueryEnabled=function(e,t){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e,t){e.deliveryMetricsExportedToBigQueryEnabled=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=c.getModularInstance(e),t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.getMessaging=function(e){return void 0===e&&(e=u.getApp()),ie().then((function(e){if(!e)throw D.create("unsupported-browser")}),(function(e){throw D.create("indexed-db-unsupported")})),u._getProvider(c.getModularInstance(e),"messaging-sw").getImmediate()},n.isSupported=ie,n.onBackgroundMessage=function(e,t){return function(e,t){if(self.document!==undefined)throw D.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,function(){e.onBackgroundMessageHandler=null}}(e=c.getModularInstance(e),t)}}}},{package:"firebase>@firebase/messaging",file:"node_modules/@firebase/messaging/dist/index.sw.cjs"}],[599,{_process:4524},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.Sha1=n.RANDOM_FACTOR=n.MAX_VALUE_MILLIS=n.FirebaseError=n.ErrorFactory=n.Deferred=n.DecodeBase64StringError=n.CONSTANTS=void 0,n.areCookiesEnabled=function(){if("undefined"==typeof navigator||!navigator.cookieEnabled)return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.assertionError=n.assert=void 0,n.async=function(e,t){return(...n)=>{Promise.resolve(!0).then((()=>{e(...n)})).catch((e=>{t&&t(e)}))}},n.base64urlEncodeWithoutPadding=n.base64Encode=n.base64Decode=n.base64=void 0,n.calculateBackoffMillis=function(e,t=I,n=x){const r=t*Math.pow(n,e),s=Math.round(C*r*(Math.random()-.5)*2);return Math.min(j,r+s)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.createMockUserToken=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(i)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.createSubscribe=function(e,t){const n=new T(e,t);return n.subscribe.bind(n)},n.decode=void 0,n.deepCopy=function(e){return h(undefined,e)},n.deepEqual=function e(t,n){if(t===n)return!0;const r=Object.keys(t),s=Object.keys(n);for(const i of r){if(!s.includes(i))return!1;const r=t[i],a=n[i];if(S(r)&&S(a)){if(!e(r,a))return!1}else if(r!==a)return!1}for(const e of s)if(!r.includes(e))return!1;return!0},n.deepExtend=h,n.errorPrefix=A,n.extractQuerystring=function(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:undefined)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.getExperimentalSetting=n.getDefaults=n.getDefaultEmulatorHostnameAndPort=n.getDefaultEmulatorHost=n.getDefaultAppConfig=void 0,n.getGlobal=d,n.getModularInstance=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return e&&e._delegate?e._delegate:e},n.getUA=m,n.isAdmin=void 0,n.isBrowser=function(){return"object"==typeof self&&self.self===self},n.isBrowserExtension=function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:undefined;return"object"==typeof e&&e.id!==undefined},n.isElectron=function(){return m().indexOf("Electron/")>=0},n.isEmpty=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},n.isIE=function(){const e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},n.isIndexedDBAvailable=function(){try{return"object"==typeof indexedDB}catch(e){return!1}},n.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())},n.isNode=b,n.isNodeSdk=function(){return!0===t.NODE_CLIENT||!0===t.NODE_ADMIN},n.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},n.isSafari=function(){return!b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},n.isUWP=function(){return m().indexOf("MSAppHost/")>=0},n.issuedAtTime=n.isValidTimestamp=n.isValidFormat=void 0,n.jsonEval=v,n.map=function(e,t,n){const r={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=t.call(n,e[s],s,e));return r},n.ordinal=function(e){if(!Number.isFinite(e))return`${e}`;return e+function(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20)return"th";const n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e)},n.promiseWithTimeout=
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t=2e3){const n=new g;return setTimeout((()=>n.reject("timeout!")),t),e.then(n.resolve,n.reject),n.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.querystring=function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""},n.querystringDecode=function(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t},n.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:undefined},n.stringToByteArray=n.stringLength=void 0,n.stringify=function(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.validateArgCount=n.uuidv4=void 0,n.validateCallback=function(e,t,n,r){if(r&&!n)return;if("function"!=typeof n)throw new Error(A(e,t)+"must be a valid function.")},n.validateContextObject=function(e,t,n,r){if(r&&!n)return;if("object"!=typeof n||null===n)throw new Error(A(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.validateIndexedDBOpenable=function(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))},n.validateNamespace=function(e,t,n){if(n&&!t)return;if("string"!=typeof t)throw new Error(A(e,"namespace")+"must be a valid firebase namespace.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const t=n.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(e,t){if(!e)throw s(t)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.assert=r;const s=function(e){return new Error("Firebase Database ("+t.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.assertionError=s;const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},a=n.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const s=e[t],i=t+1<e.length,a=i?e[t+1]:0,o=t+2<e.length,c=o?e[t+2]:0,u=s>>2,l=(3&s)<<4|a>>4;let h=(15&a)<<2|c>>6,d=63&c;o||(d=64,i||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const s=n[e.charAt(t++)],i=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const c=t<e.length?n[e.charAt(t)]:64;if(++t,null==s||null==i||null==a||null==c)throw new o;const u=s<<2|i>>4;if(r.push(u),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==c){const e=a<<6&192|c;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}n.DecodeBase64StringError=o;const c=function(e){const t=i(e);return a.encodeByteArray(t,!0)};n.base64Encode=c;const u=function(e){return c(e).replace(/\./g,"")};n.base64urlEncodeWithoutPadding=u;const l=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:e===undefined&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.base64Decode=l;const f=()=>{try{return d().__FIREBASE_DEFAULTS__||(()=>{if(void 0===e||void 0===e.env)return})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}};n.getDefaults=f;const p=e=>{var t,n;return null===(n=null===(t=f())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]};n.getDefaultEmulatorHost=p;n.getDefaultEmulatorHostnameAndPort=e=>{const t=p(e);if(!t)return undefined;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]};n.getDefaultAppConfig=()=>{var e;return null===(e=f())||void 0===e?void 0:e.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n.getExperimentalSetting=e=>{var t;return null===(t=f())||void 0===t?void 0:t[`_${e}`]};class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function b(){var e;const t=null===(e=f())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}n.Deferred=g;class y extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w.prototype.create)}}n.FirebaseError=y;class w{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],i=s?function(e,t){return e.replace(_,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(s,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new y(r,a,n)}}n.ErrorFactory=w;const _=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(e){return JSON.parse(e)}const k=function(e){let t={},n={},r={},s="";try{const i=e.split(".");t=v(l(i[0])||""),n=v(l(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:s}};n.decode=k;n.isValidTimestamp=function(e){const t=k(e).claims,n=Math.floor((new Date).getTime()/1e3);let r=0,s=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),s=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!s&&n>=r&&n<=s};n.issuedAtTime=function(e){const t=k(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null};n.isValidFormat=function(e){const t=k(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")};function S(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n.isAdmin=function(e){const t=k(e).claims;return"object"==typeof t&&!0===t.admin};n.Sha1=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,s,i=this.chain_[0],a=this.chain_[1],o=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=c^a&(o^c),s=1518500249):(r=a^o^c,s=1859775393):e<60?(r=a&o|c&(a|o),s=2400959708):(r=a^o^c,s=3395469782);const t=(i<<5|i>>>27)+r+u+s+n[e]&4294967295;u=c,c=o,o=4294967295&(a<<30|a>>>2),a=i,i=t}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;t===undefined&&(t=e.length);const n=t-this.blockSize;let r=0;const s=this.buf_;let i=this.inbuf_;for(;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(s[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(s),i=0;break}}else for(;r<t;)if(s[i]=e[r],++i,++r,i===this.blockSize){this.compress_(s),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}};class T{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(e===undefined&&t===undefined&&n===undefined)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},r.next===undefined&&(r.next=E),r.error===undefined&&(r.error=E),r.complete===undefined&&(r.complete=E);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),s}unsubscribeOne(e){this.observers!==undefined&&this.observers[e]!==undefined&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&this.onNoObservers!==undefined&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(this.observers!==undefined&&this.observers[e]!==undefined)try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,e!==undefined&&(this.finalError=e),this.task.then((()=>{this.observers=undefined,this.onNoObservers=undefined})))}}function E(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(e,t){return`${e} failed: ${t} argument `}n.validateArgCount=function(e,t,n,r){let s;if(r<t?s="at least "+t:r>n&&(s=0===n?"none":"no more than "+n),s){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+s+".")}};n.stringToByteArray=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let i=e.charCodeAt(s);if(i>=55296&&i<=56319){const t=i-55296;s++,r(s<e.length,"Surrogate pair missing trail surrogate.");i=65536+(t<<10)+(e.charCodeAt(s)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n.stringLength=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))};const I=1e3,x=2,j=n.MAX_VALUE_MILLIS=144e5,C=n.RANDOM_FACTOR=.5}).call(this)}).call(this,e("_process"))}}},{package:"firebase>@firebase/util",file:"node_modules/@firebase/util/dist/index.esm2017.js"}],[6,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.COOKIE_ID_MARKETING_WHITELIST_ORIGINS=n.COOKIE_ID_MARKETING_WHITELIST=void 0;const r=n.COOKIE_ID_MARKETING_WHITELIST=["https://metamask.io","https://learn.metamask.io","https://mmi-support.zendesk.com","https://community.metamask.io","https://support.metamask.io"];n.COOKIE_ID_MARKETING_WHITELIST_ORIGINS=r.map((e=>new URL(e).origin))}}},{package:"$root$",file:"app/scripts/constants/marketing-site-whitelist.ts"}],[60,{"../../../shared/constants/permissions":5051,"../controllers/permissions":33,"@metamask/keyring-api":1622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({messenger:e}){return function(t,n,s,i){const o=e.call("AccountsController:getSelectedAccount");if((0,r.isEvmAccountType)(o.type))return s();if(a.includes(t.method))return i(new Error(`Non-EVM account cannot request this method: ${t.method}`));if("wallet_requestPermissions"===t.method&&null!=t&&t.params&&Array.isArray(t.params)){const e=Object.keys(t.params[0]);if(a.some((t=>e.includes(t))))return i(new Error(`Non-EVM account cannot request this method: ${e.toString()}`))}return s()}};var r=e("@metamask/keyring-api"),s=e("../../../shared/constants/permissions"),i=e("../controllers/permissions");const a=[...Object.values(s.RestrictedEthMethods),...i.unrestrictedEthSigningMethods]}}},{package:"$root$",file:"app/scripts/lib/createEvmMethodsToNonEvmAccountReqFilterMiddleware.ts"}],[601,{"@ethereumjs/tx":447,"@ethereumjs/util":459,"@keystonehq/bc-ur-registry-eth":607,buffer:3576,hdkey:4172,rlp:604,uuid:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0});var s=r(e("hdkey")),i=e("@ethereumjs/util"),a=r(e("rlp")),o=e("@ethereumjs/tx"),c=e("@keystonehq/bc-ur-registry-eth"),u=e("uuid");const l="QR Hardware Wallet Device",h="m",d="0/*";var f,p;!function(e){e.hd="hd",e.pubkey="pubkey"}(f||(f={})),function(e){e.standard="account.standard",e.ledger_live="account.ledger_live",e.ledger_legacy="account.ledger_legacy"}(p||(p={}));class g{constructor(e){this.version=1,this.getInteraction=()=>{throw new Error("KeystoneError#invalid_extends: method getInteraction not implemented, please extend BaseKeyring by overwriting this method.")},this.type=l,this.requestSignature=async(e,t,n,r)=>{const s=await this.getInteraction().requestSignature(t,n,r),i=s.getRequestId(),a=s.getSignature();if(i){if(u.stringify(i)!==e)throw new Error("KeystoneError#invalid_data: read signature error: mismatched requestId")}return{r:a.slice(0,32),s:a.slice(32,64),v:a.slice(64)}},this.__readCryptoHDKey=e=>{var t,n;const r=`m/${e.getOrigin().getPath()}`,s=null==(t=e.getOrigin().getSourceFingerprint())?void 0:t.toString("hex"),i=(null==(n=e.getChildren())?void 0:n.getPath())||d,a=e.getName();if(e.getNote()===p.standard?this.keyringAccount=p.standard:e.getNote()===p.ledger_legacy&&(this.keyringAccount=p.ledger_legacy),!s)throw new Error("KeystoneError#invalid_data: invalid crypto-hdkey, cannot get source fingerprint");const o=e.getBip32Key();this.xfp=s,this.xpub=o,this.hdPath=r,this.childrenPath=i,a!==undefined&&""!==a&&(this.name=a),this.initialized=!0},this.__readCryptoAccount=e=>{var t,n;const r=null==(t=e.getMasterFingerprint())?void 0:t.toString("hex");if(!r)throw new Error("KeystoneError#invalid_data: invalid crypto-account, cannot get master fingerprint");this.xfp=r,this.initialized=!0;let s=!1;const a=e.getOutputDescriptors();if(!a||0===a.length)throw new Error("KeystoneError#invalid_data: invalid crypto-account, no crypto output found");if(a.length%5!=0)throw new Error("KeystoneError#invalid_data: only support 5x pubkey accounts for now");return null==(n=e.getOutputDescriptors())||n.forEach((e=>{try{const t=e.getHDKey();if(t){const e=t.getKey(),n=`M/${t.getOrigin().getPath()}`,r="0x"+i.publicToAddress(e,!0).toString("hex");this.name=t.getName(),t.getNote()===p.ledger_live&&(this.keyringAccount=p.ledger_live),this.paths[i.toChecksumAddress(r)]===undefined&&(s=!0),this.paths[i.toChecksumAddress(r)]=n}}catch(e){throw new Error(`KeystoneError#invalid_data: ${e}`)}})),s},this.getName=()=>this.name,this.setAccountToUnlock=e=>{this.unlockedAccount=parseInt(e,10)},this.__getNormalPage=async e=>{this.page+=e,this.page<=0&&(this.page=1);const t=(this.page-1)*this.perPage,n=t+this.perPage,r=[];for(let e=t;e<n;e++){const t=await this.__addressFromIndex(h,e);r.push({address:t,balance:null,index:e}),this.indexes[i.toChecksumAddress(t)]=e}return r},this.__getLedgerLivePage=async e=>{const t=(this.page+e-1)*this.perPage,n=t+this.perPage,r=[];for(let e=t;e<n;e++){const t=await this.__addressFromIndex(h,e);r.push({address:t,balance:null,index:e})}return this.page+=e,r},this.__addressFromIndex=async(e,t)=>{if(this.keyringMode===f.hd){this.checkKeyring(),this.hdk||(this.hdk=s.fromExtendedKey(this.xpub));const n=this.childrenPath.replace("*",String(t)).replace(/\*/g,"0"),r=this.hdk.derive(`${e}/${n}`),a="0x"+i.publicToAddress(r.publicKey,!0).toString("hex");return i.toChecksumAddress(a)}{const e=Object.keys(this.paths)[t];if(e)return i.toChecksumAddress(e);throw new Error("KeystoneError#pubkey_account.no_expected_account")}},this.page=0,this.perPage=5,this.accounts=[],this.currentAccount=0,this.unlockedAccount=0,this.name="QR Hardware",this.keyringMode=f.hd,this.keyringAccount=p.standard,this.initialized=!1,this.xfp="",this.xpub="",this.hdPath="",this.childrenPath=d,this.indexes={},this.paths={},this.deserialize(e)}async readKeyring(){const e=await this.getInteraction().readCryptoHDKeyOrCryptoAccount();this.syncKeyring(e)}syncKeyring(e){e.getRegistryType().getType()===c.extend.RegistryTypes.CRYPTO_HDKEY.getType()?(this.keyringMode=f.hd,this.__readCryptoHDKey(e)):(this.keyringMode=f.pubkey,this.__readCryptoAccount(e))}checkKeyring(){if(!this.xfp||!this.xpub||!this.hdPath)throw new Error("KeystoneError#invalid_keyring: keyring not fulfilled, please call function `readKeyring` firstly")}serialize(){return Promise.resolve({initialized:this.initialized,accounts:this.accounts,currentAccount:this.currentAccount,page:this.page,perPage:this.perPage,keyringAccount:this.keyringAccount,keyringMode:this.keyringMode,name:this.name,version:this.version,xfp:this.xfp,xpub:this.xpub,hdPath:this.hdPath,childrenPath:this.childrenPath,indexes:this.indexes,paths:this.paths})}deserialize(e){e&&(this.accounts=e.accounts,this.currentAccount=e.currentAccount,this.page=e.page,this.perPage=e.perPage,this.name=e.name,this.initialized=e.initialized,this.keyringMode=e.keyringMode||f.hd,this.keyringAccount=e.keyringAccount||p.standard,this.xfp=e.xfp,this.xpub=e.xpub,this.hdPath=e.hdPath,this.indexes=e.indexes,this.paths=e.paths,this.childrenPath=e.childrenPath||d)}setCurrentAccount(e){this.currentAccount=e}getCurrentAccount(){return this.currentAccount}getCurrentAddress(){return this.accounts[this.currentAccount]}async addAccounts(e=1){const t=this.unlockedAccount,n=t+e,r=[];for(let e=t;e<n;e++){const t=await this.__addressFromIndex(h,e);r.push(t),this.page=0,this.unlockedAccount++}return this.accounts=this.accounts.concat(r),this.accounts}getFirstPage(){return this.page=0,this.__getPage(1)}getNextPage(){return this.__getPage(1)}getPreviousPage(){return this.__getPage(-1)}async __getPage(e){return this.initialized||await this.readKeyring(),this.keyringMode===f.hd?this.__getNormalPage(e):this.__getLedgerLivePage(e)}getAccounts(){return Promise.resolve(this.accounts)}removeAccount(e){if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((t=>t.toLowerCase()!==e.toLowerCase()))}async signTransaction(e,n){const r=0===n.type?c.DataType.transaction:c.DataType.typedTransaction;let s;s=0===n.type?t.from(a.encode(n.getMessageToSign(!1))):n.getMessageToSign(!1);const i=await this._pathFromAddress(e),l=Number(n.common.chainId()),h=u.v4(),d=c.EthSignRequest.constructETHRequest(s,r,i,this.xfp,h,l),{r:f,s:p,v:g}=await this.requestSignature(h,d,"Scan with your Keystone",'After your Keystone has signed the transaction, click on "Scan Keystone" to receive the signature');return o.TransactionFactory.fromTxData({...n.toJSON(),type:n.type,r:f,s:p,v:g},{common:n.common})}signMessage(e,t){return this.signPersonalMessage(e,t)}async signPersonalMessage(e,n){const r=i.stripHexPrefix(n),s=await this._pathFromAddress(e),a=u.v4(),o=c.EthSignRequest.constructETHRequest(t.from(r,"hex"),c.DataType.personalMessage,s,this.xfp,a,undefined,e),{r:l,s:h,v:d}=await this.requestSignature(a,o,"Scan with your Keystone",'After your Keystone has signed this message, click on "Scan Keystone" to receive the signature');return"0x"+t.concat([l,h,d]).toString("hex")}async signTypedData(e,n){const r=await this._pathFromAddress(e),s=u.v4(),i=c.EthSignRequest.constructETHRequest(t.from(JSON.stringify(n),"utf-8"),c.DataType.typedData,r,this.xfp,s,undefined,e),{r:a,s:o,v:l}=await this.requestSignature(s,i,"Scan with your Keystone",'After your Keystone has signed this data, click on "Scan Keystone" to receive the signature');return"0x"+t.concat([a,o,l]).toString("hex")}async _pathFromAddress(e){if(this.keyringMode===f.hd){const t=i.toChecksumAddress(e);let n=this.indexes[t];if(void 0===n)for(let e=0;e<1e3;e++)if(t===await this.__addressFromIndex(h,e)){n=e;break}if(void 0===n)throw new Error("Unknown address");return`${this.hdPath}/${this.childrenPath.replace("*",n.toString()).replace(/\*/g,"0")}`}{const t=i.toChecksumAddress(e),n=this.paths[t];if(void 0===n)throw new Error("Unknown address");return n}}}g.type=l,n.BaseKeyring=g}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring",file:"node_modules/@keystonehq/base-eth-keyring/dist/base-eth-keyring.cjs.development.js"}],[602,{"@ethereumjs/tx":447,"@ethereumjs/util":459,"@keystonehq/bc-ur-registry-eth":607,buffer:3576,hdkey:4172,rlp:604,uuid:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0});var s,i,a=r(e("hdkey")),o=e("@ethereumjs/util"),c=r(e("rlp")),u=e("@ethereumjs/tx"),l=e("@keystonehq/bc-ur-registry-eth"),h=e("uuid");!function(e){e.hd="hd",e.pubkey="pubkey"}(s||(s={})),function(e){e.standard="account.standard",e.ledger_live="account.ledger_live",e.ledger_legacy="account.ledger_legacy"}(i||(i={}));class d{constructor(e){this.version=1,this.getInteraction=()=>{throw new Error("KeystoneError#invalid_extends: method getInteraction not implemented, please extend BaseKeyring by overwriting this method.")},this.type="QR Hardware Wallet Device",this.requestSignature=async(e,t,n,r)=>{const s=await this.getInteraction().requestSignature(t,n,r),i=s.getRequestId(),a=s.getSignature();if(i&&h.stringify(i)!==e)throw new Error("KeystoneError#invalid_data: read signature error: mismatched requestId");return{r:a.slice(0,32),s:a.slice(32,64),v:a.slice(64)}},this.__readCryptoHDKey=e=>{var t,n;const r="m/"+e.getOrigin().getPath(),s=null==(t=e.getOrigin().getSourceFingerprint())?void 0:t.toString("hex"),a=(null==(n=e.getChildren())?void 0:n.getPath())||"0/*",o=e.getName();if(e.getNote()===i.standard?this.keyringAccount=i.standard:e.getNote()===i.ledger_legacy&&(this.keyringAccount=i.ledger_legacy),!s)throw new Error("KeystoneError#invalid_data: invalid crypto-hdkey, cannot get source fingerprint");const c=e.getBip32Key();this.xfp=s,this.xpub=c,this.hdPath=r,this.childrenPath=a,void 0!==o&&""!==o&&(this.name=o),this.initialized=!0},this.__readCryptoAccount=e=>{var t,n;const r=null==(t=e.getMasterFingerprint())?void 0:t.toString("hex");if(!r)throw new Error("KeystoneError#invalid_data: invalid crypto-account, cannot get master fingerprint");this.xfp=r,this.initialized=!0;let s=!1;const a=e.getOutputDescriptors();if(!a||0===a.length)throw new Error("KeystoneError#invalid_data: invalid crypto-account, no crypto output found");if(a.length%5!=0)throw new Error("KeystoneError#invalid_data: only support 5x pubkey accounts for now");return null==(n=e.getOutputDescriptors())||n.forEach((e=>{try{const t=e.getHDKey();if(t){const e=t.getKey(),n="M/"+t.getOrigin().getPath(),r="0x"+o.publicToAddress(e,!0).toString("hex");this.name=t.getName(),t.getNote()===i.ledger_live&&(this.keyringAccount=i.ledger_live),void 0===this.paths[o.toChecksumAddress(r)]&&(s=!0),this.paths[o.toChecksumAddress(r)]=n}}catch(e){throw new Error("KeystoneError#invalid_data: "+e)}})),s},this.getName=()=>this.name,this.setAccountToUnlock=e=>{this.unlockedAccount=parseInt(e,10)},this.__getNormalPage=async e=>{this.page+=e,this.page<=0&&(this.page=1);const t=(this.page-1)*this.perPage,n=t+this.perPage,r=[];for(let e=t;e<n;e++){const t=await this.__addressFromIndex("m",e);r.push({address:t,balance:null,index:e}),this.indexes[o.toChecksumAddress(t)]=e}return r},this.__getLedgerLivePage=async e=>{const t=(this.page+e-1)*this.perPage,n=t+this.perPage,r=[];for(let e=t;e<n;e++){const t=await this.__addressFromIndex("m",e);r.push({address:t,balance:null,index:e})}return this.page+=e,r},this.__addressFromIndex=async(e,t)=>{if(this.keyringMode===s.hd){this.checkKeyring(),this.hdk||(this.hdk=a.fromExtendedKey(this.xpub));const n=this.childrenPath.replace("*",String(t)).replace(/\*/g,"0"),r=this.hdk.derive(`${e}/${n}`),s="0x"+o.publicToAddress(r.publicKey,!0).toString("hex");return o.toChecksumAddress(s)}{const e=Object.keys(this.paths)[t];if(e)return o.toChecksumAddress(e);throw new Error("KeystoneError#pubkey_account.no_expected_account")}},this.page=0,this.perPage=5,this.accounts=[],this.currentAccount=0,this.unlockedAccount=0,this.name="QR Hardware",this.keyringMode=s.hd,this.keyringAccount=i.standard,this.initialized=!1,this.xfp="",this.xpub="",this.hdPath="",this.childrenPath="0/*",this.indexes={},this.paths={},this.deserialize(e)}async readKeyring(){const e=await this.getInteraction().readCryptoHDKeyOrCryptoAccount();this.syncKeyring(e)}syncKeyring(e){e.getRegistryType().getType()===l.extend.RegistryTypes.CRYPTO_HDKEY.getType()?(this.keyringMode=s.hd,this.__readCryptoHDKey(e)):(this.keyringMode=s.pubkey,this.__readCryptoAccount(e))}checkKeyring(){if(!this.xfp||!this.xpub||!this.hdPath)throw new Error("KeystoneError#invalid_keyring: keyring not fulfilled, please call function `readKeyring` firstly")}serialize(){return Promise.resolve({initialized:this.initialized,accounts:this.accounts,currentAccount:this.currentAccount,page:this.page,perPage:this.perPage,keyringAccount:this.keyringAccount,keyringMode:this.keyringMode,name:this.name,version:this.version,xfp:this.xfp,xpub:this.xpub,hdPath:this.hdPath,childrenPath:this.childrenPath,indexes:this.indexes,paths:this.paths})}deserialize(e){e&&(this.accounts=e.accounts,this.currentAccount=e.currentAccount,this.page=e.page,this.perPage=e.perPage,this.name=e.name,this.initialized=e.initialized,this.keyringMode=e.keyringMode||s.hd,this.keyringAccount=e.keyringAccount||i.standard,this.xfp=e.xfp,this.xpub=e.xpub,this.hdPath=e.hdPath,this.indexes=e.indexes,this.paths=e.paths,this.childrenPath=e.childrenPath||"0/*")}setCurrentAccount(e){this.currentAccount=e}getCurrentAccount(){return this.currentAccount}getCurrentAddress(){return this.accounts[this.currentAccount]}async addAccounts(e=1){const t=this.unlockedAccount,n=t+e,r=[];for(let e=t;e<n;e++){const t=await this.__addressFromIndex("m",e);r.push(t),this.page=0,this.unlockedAccount++}return this.accounts=this.accounts.concat(r),this.accounts}getFirstPage(){return this.page=0,this.__getPage(1)}getNextPage(){return this.__getPage(1)}getPreviousPage(){return this.__getPage(-1)}async __getPage(e){return this.initialized||await this.readKeyring(),this.keyringMode===s.hd?this.__getNormalPage(e):this.__getLedgerLivePage(e)}getAccounts(){return Promise.resolve(this.accounts)}removeAccount(e){if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((t=>t.toLowerCase()!==e.toLowerCase()))}async signTransaction(e,n){const r=0===n.type?l.DataType.transaction:l.DataType.typedTransaction;let s;s=0===n.type?t.from(c.encode(n.getMessageToSign(!1))):n.getMessageToSign(!1);const i=await this._pathFromAddress(e),a=Number(n.common.chainId()),o=h.v4(),d=l.EthSignRequest.constructETHRequest(s,r,i,this.xfp,o,a),{r:f,s:p,v:g}=await this.requestSignature(o,d,"Scan with your Keystone",'After your Keystone has signed the transaction, click on "Scan Keystone" to receive the signature');return u.TransactionFactory.fromTxData({...n.toJSON(),type:n.type,r:f,s:p,v:g},{common:n.common})}signMessage(e,t){return this.signPersonalMessage(e,t)}async signPersonalMessage(e,n){const r=o.stripHexPrefix(n),s=await this._pathFromAddress(e),i=h.v4(),a=l.EthSignRequest.constructETHRequest(t.from(r,"hex"),l.DataType.personalMessage,s,this.xfp,i,void 0,e),{r:c,s:u,v:d}=await this.requestSignature(i,a,"Scan with your Keystone",'After your Keystone has signed this message, click on "Scan Keystone" to receive the signature');return"0x"+t.concat([c,u,d]).toString("hex")}async signTypedData(e,n){const r=await this._pathFromAddress(e),s=h.v4(),i=l.EthSignRequest.constructETHRequest(t.from(JSON.stringify(n),"utf-8"),l.DataType.typedData,r,this.xfp,s,void 0,e),{r:a,s:o,v:c}=await this.requestSignature(s,i,"Scan with your Keystone",'After your Keystone has signed this data, click on "Scan Keystone" to receive the signature');return"0x"+t.concat([a,o,c]).toString("hex")}async _pathFromAddress(e){if(this.keyringMode===s.hd){const t=o.toChecksumAddress(e);let n=this.indexes[t];if(void 0===n)for(let e=0;e<1e3;e++)if(t===await this.__addressFromIndex("m",e)){n=e;break}if(void 0===n)throw new Error("Unknown address");return`${this.hdPath}/${this.childrenPath.replace("*",n.toString()).replace(/\*/g,"0")}`}{const t=o.toChecksumAddress(e),n=this.paths[t];if(void 0===n)throw new Error("Unknown address");return n}}}d.type="QR Hardware Wallet Device",n.BaseKeyring=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring",file:"node_modules/@keystonehq/base-eth-keyring/dist/base-eth-keyring.cjs.production.min.js"}],[603,{"./base-eth-keyring.cjs.development.js":601,"./base-eth-keyring.cjs.production.min.js":602},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./base-eth-keyring.cjs.production.min.js")}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring",file:"node_modules/@keystonehq/base-eth-keyring/dist/index.js"}],[604,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++)t.push(r(e[n]));const n=f(...t);return f(a(n.length,192),n)}const t=b(e);return 1===t.length&&t[0]<128?t:f(a(t.length,128),t)}function s(e,t,n){if(n>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,n)}function i(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return h(l(e))}function a(e,t){if(e<56)return Uint8Array.from([e+t]);const n=g(e),r=g(t+55+n.length/2);return Uint8Array.from(d(r+n))}function o(e,t=!1){if(!e||0===e.length)return Uint8Array.from([]);const n=c(b(e));if(t)return n;if(0!==n.remainder.length)throw new Error("invalid RLP: remainder must be zero");return n.data}function c(e){let t,n,r,a,o;const u=[],l=e[0];if(l<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(l<=183){if(t=l-127,r=128===l?Uint8Array.from([]):s(e,1,t),2===t&&r[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:e.slice(t)}}if(l<=191){if(n=l-182,e.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(t=i(s(e,1,n)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return r=s(e,n,t+n),{data:r,remainder:e.slice(t+n)}}if(l<=247){for(t=l-191,a=s(e,1,t);a.length;)o=c(a),u.push(o.data),a=o.remainder;return{data:u,remainder:e.slice(t)}}{if(n=l-246,t=i(s(e,1,n)),t<56)throw new Error("invalid RLP: encoded list too short");const r=n+t;if(r>e.length)throw new Error("invalid RLP: total length is larger than the data");for(a=s(e,n,r);a.length;)o=c(a),u.push(o.data),a=o.remainder;return{data:u,remainder:e.slice(r)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.utils=n.decode=n.encode=void 0,n.encode=r,n.decode=o;const u=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function l(e){let t="";for(let n=0;n<e.length;n++)t+=u[e[n]];return t}function h(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function d(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n;t[n]=h(e.slice(r,r+2))}return t}function f(...e){if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n}function p(e){return(new TextEncoder).encode(e)}function g(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function m(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function b(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return m(e)?d((t="string"!=typeof(n=e)?n:m(n)?n.slice(2):n).length%2?`0${t}`:t):p(e);var t,n;if("number"==typeof e||"bigint"==typeof e)return e?d(g(e)):Uint8Array.from([]);if(null===e||e===undefined)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}n.utils={bytesToHex:l,concatBytes:f,hexToBytes:d,utf8ToBytes:p};const y={encode:r,decode:o};n.default=y}}},{package:"@keystonehq/metamask-airgapped-keyring>@keystonehq/base-eth-keyring>rlp",file:"node_modules/@keystonehq/base-eth-keyring/node_modules/rlp/dist/index.js"}],[6072,{"../../../app/scripts/controllers/bridge/types":15,"../../../shared/constants/bridge":5032,"../../../shared/constants/time":5059,"../../../shared/lib/fetch-with-cache":5065,"../../../shared/lib/swaps-utils":5070},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchBridgeFeatureFlags=async function(){const e=`${i.BRIDGE_API_BASE_URL}/getAllFeatureFlags`,t=await(0,o.default)({url:e,fetchOptions:{method:"GET",headers:u},cacheOptions:{cacheRefreshTime:l},functionName:"fetchBridgeFeatureFlags"});if(d([{property:h.EXTENSION_SUPPORT,type:"boolean",validator:e=>"boolean"==typeof e}],t,e))return{[s.BridgeFeatureFlagsKey.EXTENSION_SUPPORT]:t[h.EXTENSION_SUPPORT]};return{[s.BridgeFeatureFlagsKey.EXTENSION_SUPPORT]:!1}};var r,s=e("../../../app/scripts/controllers/bridge/types"),i=e("../../../shared/constants/bridge"),a=e("../../../shared/constants/time"),o=(r=e("../../../shared/lib/fetch-with-cache"))&&r.__esModule?r:{default:r},c=e("../../../shared/lib/swaps-utils");const u={"X-Client-Id":i.BRIDGE_CLIENT_ID},l=10*a.MINUTE;var h=function(e){return e.EXTENSION_SUPPORT="extension-support",e}(h||{});const d=(e,t,n)=>(0,c.validateData)(e,t,n)}}},{package:"$root$",file:"ui/pages/bridge/bridge.util.ts"}],[61,{loglevel:4388},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(t,n,r){r((r=>{n.error&&s.default.debug("Error in RPC response:\n",n),t.isMetamaskInternal||(s.default.info(`RPC (${e.origin}): ${t.method} -> ${n.error?"error":"success"}`),r())}))}};var r,s=(r=e("loglevel"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"app/scripts/lib/createLoggerMiddleware.js"}],[62,{"./stream-utils":117,"eth-rpc-errors":3801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("eth-rpc-errors"),s=e("./stream-utils");n.default=(e,t)=>async n=>{if(!(0,s.isStreamWritable)(t))return;if(!e[n.method])return void t.write({jsonrpc:"2.0",error:r.ethErrors.rpc.methodNotFound({message:`${n.method} not found`}),id:n.id});let i,a;try{i=await e[n.method](...n.params)}catch(e){a=e}(0,s.isStreamWritable)(t)?a?t.write({jsonrpc:"2.0",error:(0,r.serializeError)(a,{shouldIncludeStack:!0}),id:n.id}):t.write({jsonrpc:"2.0",result:i,id:n.id}):a&&console.error(a)}}}},{package:"$root$",file:"app/scripts/lib/createMetaRPCHandler.js"}],[63,{"./middleware/pending":80,"@metamask/eth-json-rpc-middleware":1356,"json-rpc-engine":4226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({version:e,getAccounts:t,processTransaction:n,processTypedMessage:a,processTypedMessageV3:o,processTypedMessageV4:c,processPersonalMessage:u,processDecryptMessage:l,processEncryptionPublicKey:h,getPendingNonce:d,getPendingTransactionByHash:f}){return(0,r.mergeMiddleware)([(0,r.createScaffoldMiddleware)({eth_syncing:!1,web3_clientVersion:`MetaMask/v${e}`}),(0,s.createWalletMiddleware)({getAccounts:t,processTransaction:n,processTypedMessage:a,processTypedMessageV3:o,processTypedMessageV4:c,processPersonalMessage:u,processDecryptMessage:l,processEncryptionPublicKey:h}),(0,i.createPendingNonceMiddleware)({getPendingNonce:d}),(0,i.createPendingTxMiddleware)({getPendingTransactionByHash:f})])};var r=e("json-rpc-engine"),s=e("@metamask/eth-json-rpc-middleware"),i=e("./middleware/pending")}}},{package:"$root$",file:"app/scripts/lib/createMetamaskMiddleware.js"}],[634,{"./metamask-airgapped-keyring.cjs.development.js":635,"./metamask-airgapped-keyring.cjs.production.min.js":636},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./metamask-airgapped-keyring.cjs.production.min.js")}}},{package:"@keystonehq/metamask-airgapped-keyring",file:"node_modules/@keystonehq/metamask-airgapped-keyring/dist/index.js"}],[635,{"@ethereumjs/tx":447,"@keystonehq/base-eth-keyring":603,"@keystonehq/bc-ur-registry-eth":607,"@metamask/obs-store":641,buffer:3576,events:3874,rlp:4811,uuid:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var r,s=e("@keystonehq/base-eth-keyring"),i=e("events"),a=e("@metamask/obs-store"),o=e("@keystonehq/bc-ur-registry-eth"),c=e("uuid"),u=e("@ethereumjs/tx"),l=(r=e("rlp"))&&"object"==typeof r&&"default"in r?r.default:r;class h extends i.EventEmitter{constructor(){if(super(),this.cleanSyncListeners=()=>{this.removeAllListeners("keystone-sync_success-hdkey"),this.removeAllListeners("keystone-sync_success-account"),this.removeAllListeners("keystone-sync_cancel")},this.cleanSignListeners=e=>{this.removeAllListeners(`${e}-signed`),this.removeAllListeners(`${e}-canceled`)},this.readCryptoHDKeyOrCryptoAccount=()=>new Promise(((e,n)=>{this.memStore.updateState({sync:{reading:!0}}),this.on("keystone-sync_success-hdkey",(n=>{const r=o.CryptoHDKey.fromCBOR(t.from(n,"hex"));this.resetState(),e(r)})),this.on("keystone-sync_success-account",(n=>{const r=o.CryptoAccount.fromCBOR(t.from(n,"hex"));this.resetState(),e(r)})),this.on("keystone-sync_cancel",(()=>{this.resetState(),n(new Error("KeystoneError#sync_cancel. Sync process canceled, please retry"))}))})),this.submitCryptoHDKey=e=>{this.emit("keystone-sync_success-hdkey",e)},this.submitCryptoAccount=e=>{this.emit("keystone-sync_success-account",e)},this.cancelSync=()=>{this.emit("keystone-sync_cancel")},this.requestSignature=(e,n,r)=>new Promise(((s,i)=>{const a=e.toUR(),u=e.getRequestId(),l=c.stringify(u),h={requestId:l,payload:{type:a.type,cbor:a.cbor.toString("hex")},title:n,description:r};this.memStore.updateState({sign:{request:h}}),this.once(`${l}-signed`,(e=>{const n=o.ETHSignature.fromCBOR(t.from(e,"hex"));this.resetState(),s(n)})),this.once(`${l}-canceled`,(()=>{this.resetState(),i(new Error("KeystoneError#Tx_canceled. Signing canceled, please retry"))}))})),this.submitSignature=(e,t)=>{this.emit(`${e}-signed`,t)},this.cancelRequestSignature=()=>{const e=this.memStore.getState().sign.request;if(e){const{requestId:t}=e;this.memStore.updateState({sign:{}}),this.emit(`${t}-canceled`)}},this.reset=()=>{this.cleanSyncListeners();const e=this.memStore.getState().sign.request;if(e){const{requestId:t}=e;this.cleanSignListeners(t)}this.resetState()},this.resetState=()=>{this.memStore.updateState({sync:{reading:!1},sign:{}})},h.instance)return h.instance;this.memStore=new a.ObservableStore({sync:{reading:!1},sign:{},_version:1}),h.instance=this}}class d extends s.BaseKeyring{constructor(e){if(super(e),this.getInteraction=()=>new h,this.resetStore=()=>{this.getInteraction().reset()},this.getMemStore=()=>this.getInteraction().memStore,this.removeAccount=e=>{if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((t=>t.toLowerCase()!==e.toLowerCase()))},this.forgetDevice=()=>{this.page=0,this.perPage=5,this.accounts=[],this.currentAccount=0,this.name="QR Hardware",this.initialized=!1,this.xfp="",this.xpub="",this.hdPath="",this.indexes={},this.hdk=undefined,this.paths={}},this.submitCryptoHDKey=this.getInteraction().submitCryptoHDKey,this.submitCryptoAccount=this.getInteraction().submitCryptoAccount,this.submitSignature=this.getInteraction().submitSignature,this.cancelSync=this.getInteraction().cancelSync,this.cancelSignRequest=this.getInteraction().cancelRequestSignature,d.instance)return d.instance.deserialize(e),d.instance;d.instance=this}async signTransaction(e,t){const n=0===t.type?o.DataType.transaction:o.DataType.typedTransaction;let r;r=0===t.type?l.encode(t.getMessageToSign(!1)):t.getMessageToSign(!1);const s=await this._pathFromAddress(e),i=t.common.chainId(),a=c.v4(),h=o.EthSignRequest.constructETHRequest(r,n,s,this.xfp,a,i,e),{r:d,s:f,v:p}=await this.requestSignature(a,h,"Scan with your Keystone",'After your Keystone has signed the transaction, click on "Scan Keystone" to receive the signature'),g=t.toJSON();g.v=p,g.s=f,g.r=d,g.type=t.type;return u.TransactionFactory.fromTxData(g,{common:t.common})}}d.type=s.BaseKeyring.type,n.MetaMaskKeyring=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring",file:"node_modules/@keystonehq/metamask-airgapped-keyring/dist/metamask-airgapped-keyring.cjs.development.js"}],[636,{"@ethereumjs/tx":447,"@keystonehq/base-eth-keyring":603,"@keystonehq/bc-ur-registry-eth":607,"@metamask/obs-store":641,buffer:3576,events:3874,rlp:4811,uuid:4961},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var r,s=e("@keystonehq/base-eth-keyring"),i=e("events"),a=e("@metamask/obs-store"),o=e("@keystonehq/bc-ur-registry-eth"),c=e("uuid"),u=e("@ethereumjs/tx"),l=(r=e("rlp"))&&"object"==typeof r&&"default"in r?r.default:r;class h extends i.EventEmitter{constructor(){if(super(),this.cleanSyncListeners=()=>{this.removeAllListeners("keystone-sync_success-hdkey"),this.removeAllListeners("keystone-sync_success-account"),this.removeAllListeners("keystone-sync_cancel")},this.cleanSignListeners=e=>{this.removeAllListeners(e+"-signed"),this.removeAllListeners(e+"-canceled")},this.readCryptoHDKeyOrCryptoAccount=()=>new Promise(((e,n)=>{this.memStore.updateState({sync:{reading:!0}}),this.on("keystone-sync_success-hdkey",(n=>{const r=o.CryptoHDKey.fromCBOR(t.from(n,"hex"));this.resetState(),e(r)})),this.on("keystone-sync_success-account",(n=>{const r=o.CryptoAccount.fromCBOR(t.from(n,"hex"));this.resetState(),e(r)})),this.on("keystone-sync_cancel",(()=>{this.resetState(),n(new Error("KeystoneError#sync_cancel. Sync process canceled, please retry"))}))})),this.submitCryptoHDKey=e=>{this.emit("keystone-sync_success-hdkey",e)},this.submitCryptoAccount=e=>{this.emit("keystone-sync_success-account",e)},this.cancelSync=()=>{this.emit("keystone-sync_cancel")},this.requestSignature=(e,n,r)=>new Promise(((s,i)=>{const a=e.toUR(),u=e.getRequestId(),l=c.stringify(u),h={requestId:l,payload:{type:a.type,cbor:a.cbor.toString("hex")},title:n,description:r};this.memStore.updateState({sign:{request:h}}),this.once(l+"-signed",(e=>{const n=o.ETHSignature.fromCBOR(t.from(e,"hex"));this.resetState(),s(n)})),this.once(l+"-canceled",(()=>{this.resetState(),i(new Error("KeystoneError#Tx_canceled. Signing canceled, please retry"))}))})),this.submitSignature=(e,t)=>{this.emit(e+"-signed",t)},this.cancelRequestSignature=()=>{const e=this.memStore.getState().sign.request;if(e){const{requestId:t}=e;this.memStore.updateState({sign:{}}),this.emit(t+"-canceled")}},this.reset=()=>{this.cleanSyncListeners();const e=this.memStore.getState().sign.request;if(e){const{requestId:t}=e;this.cleanSignListeners(t)}this.resetState()},this.resetState=()=>{this.memStore.updateState({sync:{reading:!1},sign:{}})},h.instance)return h.instance;this.memStore=new a.ObservableStore({sync:{reading:!1},sign:{},_version:1}),h.instance=this}}class d extends s.BaseKeyring{constructor(e){if(super(e),this.getInteraction=()=>new h,this.resetStore=()=>{this.getInteraction().reset()},this.getMemStore=()=>this.getInteraction().memStore,this.removeAccount=e=>{if(!this.accounts.map((e=>e.toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);this.accounts=this.accounts.filter((t=>t.toLowerCase()!==e.toLowerCase()))},this.forgetDevice=()=>{this.page=0,this.perPage=5,this.accounts=[],this.currentAccount=0,this.name="QR Hardware",this.initialized=!1,this.xfp="",this.xpub="",this.hdPath="",this.indexes={},this.hdk=void 0,this.paths={}},this.submitCryptoHDKey=this.getInteraction().submitCryptoHDKey,this.submitCryptoAccount=this.getInteraction().submitCryptoAccount,this.submitSignature=this.getInteraction().submitSignature,this.cancelSync=this.getInteraction().cancelSync,this.cancelSignRequest=this.getInteraction().cancelRequestSignature,d.instance)return d.instance.deserialize(e),d.instance;d.instance=this}async signTransaction(e,t){const n=0===t.type?o.DataType.transaction:o.DataType.typedTransaction;let r;r=0===t.type?l.encode(t.getMessageToSign(!1)):t.getMessageToSign(!1);const s=await this._pathFromAddress(e),i=t.common.chainId(),a=c.v4(),h=o.EthSignRequest.constructETHRequest(r,n,s,this.xfp,a,i,e),{r:d,s:f,v:p}=await this.requestSignature(a,h,"Scan with your Keystone",'After your Keystone has signed the transaction, click on "Scan Keystone" to receive the signature'),g=t.toJSON();return g.v=p,g.s=f,g.r=d,g.type=t.type,u.TransactionFactory.fromTxData(g,{common:t.common})}}d.type=s.BaseKeyring.type,n.MetaMaskKeyring=d}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/metamask-airgapped-keyring",file:"node_modules/@keystonehq/metamask-airgapped-keyring/dist/metamask-airgapped-keyring.cjs.production.min.js"}],[637,{"./ObservableStore":639},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ComposedStore=void 0;const r=e("./ObservableStore");class s extends r.ObservableStore{constructor(e){super({}),this._children=e||{},Object.keys(this._children).forEach((e=>{const t=this._children[e];this._addChild(e,t)}))}_addChild(e,t){const n=t=>{const n=this.getState();n[e]=t,this.putState(n)};t.subscribe(n),n(t.getState())}}n.ComposedStore=s}}},{package:"@keystonehq/metamask-airgapped-keyring>@metamask/obs-store",file:"node_modules/@keystonehq/metamask-airgapped-keyring/node_modules/@metamask/obs-store/dist/ComposedStore.js"}],[638,{"./ObservableStore":639},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MergedStore=void 0;const r=e("./ObservableStore");class s extends r.ObservableStore{constructor(e=[]){super({}),this._children=e,e.forEach((e=>this._addChild(e))),this._updateWholeState()}_addChild(e){e.subscribe((()=>this._updateWholeState()))}_updateWholeState(){const e=this._children.map((e=>e.getState())),t=Object.assign({},...e);this.putState(t)}}n.MergedStore=s}}},{package:"@keystonehq/metamask-airgapped-keyring>@metamask/obs-store",file:"node_modules/@keystonehq/metamask-airgapped-keyring/node_modules/@metamask/obs-store/dist/MergedStore.js"}],[639,{"@metamask/safe-event-emitter":643},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ObservableStore=void 0;const s=r(e("@metamask/safe-event-emitter"));class i extends s.default{constructor(e){super(),this._state=e||{}}getState(){return this._getState()}putState(e){this._putState(e),this.emit("update",e)}updateState(e){if(e&&"object"==typeof e){const t=this.getState();this.putState(Object.assign(Object.assign({},t),e))}else this.putState(e)}subscribe(e){this.on("update",e)}unsubscribe(e){this.removeListener("update",e)}_getState(){return this._state}_putState(e){this._state=e}}n.ObservableStore=i}}},{package:"@keystonehq/metamask-airgapped-keyring>@metamask/obs-store",file:"node_modules/@keystonehq/metamask-airgapped-keyring/node_modules/@metamask/obs-store/dist/ObservableStore.js"}]],[],{});