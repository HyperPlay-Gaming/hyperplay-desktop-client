LavaPack.loadBundle([[6752,{"../../../../../shared/lib/translate":5072,"../../../../components/component-library":5645,"../../../../components/multichain":5841,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":5909,"../../../../helpers/constants/design-system":6156,"../../../../helpers/utils/notification.util":6197,"../node-guard":6754,"../types/notifications/notifications":6759,"@metamask/notification-services-controller":1796,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/notification-services-controller"),i=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../components/multichain"),c=e("../../../../../shared/lib/translate"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:f}=r.NotificationServicesController.Constants,g=(0,i.isOfTypeNodeGuard)([f.LIDO_STAKE_READY_TO_BE_WITHDRAWN]),h=e=>{const t=(0,u.formatAmount)(parseFloat(e.data.staked_eth.amount),{shouldEllipse:!0}),n=(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawnMessage",[`${t} ${e.data.staked_eth.symbol}`])||"";return(0,u.createTextItems)([n],d.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>o.default.createElement(l.NotificationListItem,{id:e.trigger_id,isRead:e.isRead,icon:{type:p.NotificationListItemIconType.Token,value:e.data.staked_eth.image,badge:{icon:m.IconName.Stake,position:m.BadgeWrapperPosition.bottomRight}},title:(0,u.createTextItems)([(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawn")||""],d.TextVariant.bodySm),description:h(e),createdAt:new Date(e.createdAt),onClick:t}),details:{title:({notification:e})=>o.default.createElement(l.NotificationDetailTitle,{title:(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawn")||"",date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(l.NotificationDetailAddress,{side:(0,c.t)("account")||"",address:e.address}):null,Status:()=>o.default.createElement(l.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:d.TextColor.successDefault,backgroundColor:d.BackgroundColor.successMuted},label:(0,c.t)("notificationItemStatus")||"",detail:(0,c.t)("notificationItemConfirmed")||""}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.staked_eth.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,c.t)("notificationItemLidoStakeReadyToBeWithdrawn")||"",detail:e.data.staked_eth.symbol,fiatValue:`$${(0,u.formatAmount)(parseFloat(e.data.staked_eth.usd),{shouldEllipse:!0})}`,value:`${(0,u.formatAmount)(parseFloat(e.data.staked_eth.amount),{shouldEllipse:!0})} ${e.data.staked_eth.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(l.NotificationDetailAsset,{icon:{src:e.data.staked_eth.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,c.t)("notificationItemStakingProvider")||"",detail:e.data.staked_eth.symbol})}}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(l.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/lido-stake-ready-to-be-withdrawn/lido-stake-ready-to-be-withdrawn.tsx"}],[6753,{"../../../../../shared/lib/translate":5072,"../../../../components/component-library":5645,"../../../../components/multichain":5841,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":5909,"../../../../helpers/constants/design-system":6156,"../../../../helpers/utils/notification.util":6197,"../node-guard":6754,"../types/notifications/notifications":6759,"@metamask/notification-services-controller":1796,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/notification-services-controller"),i=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),c=e("../../../../components/multichain"),u=e("../../../../helpers/utils/notification.util"),d=e("../../../../../shared/lib/translate"),p=e("../../../../helpers/constants/design-system"),m=e("../../../../components/component-library");const{TRIGGER_TYPES:f}=r.NotificationServicesController.Constants,g=(0,i.isOfTypeNodeGuard)([f.LIDO_WITHDRAWAL_REQUESTED]),h=e=>{const t=(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0}),n=(0,d.t)("notificationItemLidoWithdrawalRequestedMessage",[`${t} ${e.data.stake_in.symbol}`])||"";return(0,u.createTextItems)([n],p.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>o.default.createElement(c.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:l.NotificationListItemIconType.Token,value:e.data.stake_in.image,badge:{icon:m.IconName.Stake,position:m.BadgeWrapperPosition.bottomRight}},title:(0,u.createTextItems)([(0,d.t)("notificationItemUnStakingRequested")||""],p.TextVariant.bodySm),description:h(e),createdAt:new Date(e.createdAt),amount:`${(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`,onClick:t}),details:{title:({notification:e})=>o.default.createElement(c.NotificationDetailTitle,{title:(0,d.t)("notificationItemUnStakingRequested")||"",date:(0,u.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(c.NotificationDetailAddress,{side:(0,d.t)("account")||"",address:e.address}):null,Status:({notification:e})=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:m.IconName.Check,color:p.TextColor.successDefault,backgroundColor:p.BackgroundColor.successMuted},label:(0,d.t)("notificationItemStatus")||"",detail:(0,d.t)("notificationItemConfirmed")||"",action:o.default.createElement(c.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,d.t)("notificationItemTransactionId")||""})}),Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,d.t)("notificationItemUnStakingRequested")||"",detail:e.data.stake_in.symbol,fiatValue:`$${(0,u.getUsdAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,e.data.stake_in.usd)}`,value:`${(0,u.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,u.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:t,position:m.BadgeWrapperPosition.topRight}},label:(0,d.t)("notificationItemStakingProvider")||"",detail:"Lido-staked ETH"})}}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/lido-withdrawal-requested/lido-withdrawal-requested.tsx"}],[6754,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isOfTypeNodeGuard=void 0;n.isOfTypeNodeGuard=e=>t=>e.includes(t.type)}}},{package:"$root$",file:"ui/pages/notifications/notification-components/node-guard.ts"}],[6755,{"../../../../../shared/constants/metametrics":4986,"../../../../components/app/snaps/snap-link-warning":5413,"../../../../components/component-library":5645,"../../../../components/multichain":5841,"../../../../contexts/metametrics":6119,"../../../../hooks/snaps/useSnapNavigation":6257,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapFooterButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("../../../../hooks/snaps/useSnapNavigation")),r=u(e("../../../../components/app/snaps/snap-link-warning")),i=e("../../../../components/multichain"),s=e("../../../../components/component-library"),l=e("../../../../contexts/metametrics"),c=e("../../../../../shared/constants/metametrics");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.SnapFooterButton=e=>{var t;const n=(0,a.useContext)(l.MetaMetricsContext),{navigate:u}=(0,o.default)(),[d,p]=(0,a.useState)(!1),m=e.notification.data,f=null==m||null===(t=m.detailedView)||void 0===t?void 0:t.footerLink,g=(0,a.useCallback)(()=>{p(!1)},[]),h=(0,a.useCallback)((t,a)=>{n({category:c.MetaMetricsEventCategory.NotificationInteraction,event:c.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.notification.id,notification_type:e.notification.type,clicked_item:a?"external_link":"internal_link"}}),a?p(!0):u(t)},[u,e.notification.id,e.notification.type,n]);if(!f)return null;const{href:y,text:b}=f,_=!y.startsWith("metamask:");return a.default.createElement(a.default.Fragment,null,a.default.createElement(r.default,{isOpen:d,onClose:g,url:y}),a.default.createElement(i.NotificationDetailButton,{variant:s.ButtonVariant.Secondary,isExternal:_,text:b,onClick:()=>h(y,_)}))}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/snap/snap-footer-button.tsx"}],[6756,{"../../../../components/app/snaps/snap-icon":5409,"../../../../components/app/snaps/snap-ui-markdown":5466,"../../../../components/app/snaps/snap-ui-renderer":5505,"../../../../components/component-library":5645,"../../../../components/multichain":5841,"../../../../helpers/constants/design-system":6156,"../../../../helpers/utils/notification.util":6197,"../../../../helpers/utils/util":6209,"../../../../hooks/metamask-notifications/useNotifications":6249,"../../../../selectors":6959,"../node-guard":6754,"../types/notifications/notifications":6759,"./snap-footer-button":6755,"@metamask/notification-services-controller/notification-services":1768,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),i=e("react-router-dom"),s=e("@metamask/notification-services-controller/notification-services"),l=e("../../../../components/multichain"),c=e("../../../../selectors"),u=e("../../../../helpers/utils/util"),d=e("../types/notifications/notifications"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../components/app/snaps/snap-ui-renderer"),f=e("../../../../helpers/constants/design-system"),g=e("../../../../components/component-library"),h=e("../node-guard"),y=e("../../../../components/app/snaps/snap-icon"),b=e("../../../../hooks/metamask-notifications/useNotifications"),_=e("../../../../components/app/snaps/snap-ui-markdown"),E=e("./snap-footer-button");n.components={guardFn:(0,h.isOfTypeNodeGuard)([s.TRIGGER_TYPES.SNAP]),item:({notification:e,onClick:t})=>{const n=(0,i.useHistory)(),a=(0,r.useSelector)(c.getSnapsMetadata),s=(0,u.getSnapName)(a),{markNotificationAsRead:d}=(0,b.useMarkNotificationAsRead)();return o.default.createElement(l.NotificationListItemSnap,{id:e.id,snapId:e.data.origin,isRead:e.isRead,createdAt:new Date(e.createdAt),title:{items:[{text:s(e.data.origin)}]},snapMessage:e.data.message,handleSnapClick:t,handleSnapButton:()=>{e.isRead||d([{id:e.id,type:e.type,isRead:e.isRead}]),n.push((0,u.getSnapRoute)(e.data.origin))}})},details:{title:({notification:e})=>o.default.createElement(l.NotificationDetailTitle,{title:e.data.detailedView.title,date:(0,p.formatIsoDateString)(e.createdAt)}),body:{type:d.NotificationComponentType.SnapBody,Content:({notification:e})=>{const t=(0,r.useSelector)(c.getSnapsMetadata),n=(0,u.getSnapName)(t),a=e.data.origin;return o.default.createElement(o.default.Fragment,null,o.default.createElement(g.Box,{display:f.Display.Flex,style:{borderBottom:"1px solid var(--color-border-muted)"},flexDirection:f.FlexDirection.Column,padding:[4,2,4,4]},o.default.createElement(g.Box,{display:f.Display.Flex,alignItems:f.AlignItems.center,paddingBottom:2},o.default.createElement(y.SnapIcon,{snapId:a,avatarSize:g.IconSize.Xl}),o.default.createElement(g.Text,{paddingLeft:4,fontWeight:f.FontWeight.Medium},n(a))),o.default.createElement(_.SnapUIMarkdown,{markdown:!0},e.data.message)),o.default.createElement(g.Box,{paddingLeft:1,paddingRight:1},o.default.createElement(m.SnapUIRenderer,{snapId:e.data.origin,interfaceId:e.data.detailedView.interfaceId,contentBackgroundColor:f.BackgroundColor.backgroundDefault})))}}},footer:{type:d.NotificationComponentType.SnapFooter,Link:E.SnapFooterButton}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/snap/snap.tsx"}],[6757,{"../../../../../shared/lib/translate":5072,"../../../../components/component-library":5645,"../../../../components/multichain":5841,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":5909,"../../../../helpers/constants/design-system":6156,"../../../../helpers/utils/notification.util":6197,"../node-guard":6754,"../types/notifications/notifications":6759,"@metamask/notification-services-controller":1796,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/notification-services-controller"),i=e("../../../../../shared/lib/translate"),s=e("../node-guard"),l=e("../types/notifications/notifications"),c=e("../../../../components/multichain"),u=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),d=e("../../../../components/component-library"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../helpers/constants/design-system");const{TRIGGER_TYPES:f}=r.NotificationServicesController.Constants,g=(0,s.isOfTypeNodeGuard)([f.ROCKETPOOL_STAKE_COMPLETED,f.ROCKETPOOL_UNSTAKE_COMPLETED,f.LIDO_STAKE_COMPLETED,f.LIDO_WITHDRAWAL_COMPLETED]),h={[f.LIDO_STAKE_COMPLETED]:(0,i.t)("notificationItemStaked"),[f.LIDO_WITHDRAWAL_COMPLETED]:(0,i.t)("notificationItemUnStakeCompleted"),[f.ROCKETPOOL_STAKE_COMPLETED]:(0,i.t)("notificationItemStakeCompleted"),[f.ROCKETPOOL_UNSTAKE_COMPLETED]:(0,i.t)("notificationItemUnStakeCompleted")},y={[f.ROCKETPOOL_STAKE_COMPLETED]:"staked",[f.ROCKETPOOL_UNSTAKE_COMPLETED]:"unstaked",[f.LIDO_STAKE_COMPLETED]:"staked",[f.LIDO_WITHDRAWAL_COMPLETED]:"unstaked"},b={[f.LIDO_STAKE_COMPLETED]:"Lido-staked ETH",[f.LIDO_WITHDRAWAL_COMPLETED]:"Lido-staked ETH",[f.ROCKETPOOL_STAKE_COMPLETED]:"Rocket Pool-staked ETH",[f.ROCKETPOOL_UNSTAKE_COMPLETED]:"Rocket Pool-staked ETH"},_=e=>{const t=y[e.type];return(0,p.createTextItems)(["staked"===t?e.data.stake_out.symbol:e.data.stake_in.symbol],m.TextVariant.bodyMd)};n.components={guardFn:g,item:({notification:e,onClick:t})=>{const n=y[e.type],a="staked"===n?e.data.stake_in:e.data.stake_out,r=(0,p.getAmount)(a.amount,a.decimals,{shouldEllipse:!0});return o.default.createElement(c.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:u.NotificationListItemIconType.Token,value:e.data.stake_out.image,badge:{icon:d.IconName.Stake,position:d.BadgeWrapperPosition.bottomRight}},title:(i=e,(0,p.createTextItems)([h[i.type]||""],m.TextVariant.bodySm)),description:_(e),createdAt:new Date(e.createdAt),amount:`${r} ${"staked"===n?e.data.stake_in.symbol:e.data.stake_out.symbol}`,onClick:t});var i},details:{title:({notification:e})=>{const t="staked"===y[e.type]?`${(0,i.t)("notificationItemStaked")} ${e.data.stake_in.symbol}`:`${(0,i.t)("notificationItemUnStaked")} ${e.data.stake_in.symbol}`;return o.default.createElement(c.NotificationDetailTitle,{title:t,date:(0,p.formatIsoDateString)(e.createdAt)})},body:{type:l.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(c.NotificationDetailAddress,{side:(0,i.t)("account")||"",address:e.address}):null,Asset:({notification:e})=>{const t=y[e.type],{nativeCurrencyLogo:n}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_in.image,badge:{src:n,position:d.BadgeWrapperPosition.topRight}},label:"staked"===t?(0,i.t)("notificationItemStaked")||"":(0,i.t)("notificationItemUnStaked")||"",detail:e.data.stake_in.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,e.data.stake_in.usd)}`,value:`${(0,p.getAmount)(e.data.stake_in.amount,e.data.stake_in.decimals,{shouldEllipse:!0})} ${e.data.stake_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_out.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,i.t)("notificationItemReceived")||"",detail:e.data.stake_out.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.stake_out.amount,e.data.stake_out.decimals,e.data.stake_out.usd)}`,value:`${(0,p.getAmount)(e.data.stake_out.amount,e.data.stake_out.decimals,{shouldEllipse:!0})} ${e.data.stake_out.symbol}`})},Status:({notification:e})=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:d.IconName.Check,color:m.TextColor.successDefault,backgroundColor:m.BackgroundColor.successMuted},label:(0,i.t)("notificationItemStatus")||"",detail:(0,i.t)("notificationItemConfirmed")||"",action:o.default.createElement(c.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,i.t)("notificationItemTransactionId")||""})}),Provider:({notification:e})=>{const t=y[e.type],n=b[e.type];return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.stake_out.image,badge:{src:"staked"===t?e.data.stake_out.image:e.data.stake_in.image}},label:(0,i.t)("notificationItemStakingProvider")||"",detail:n})},NetworkFee:({notification:e})=>o.default.createElement(c.NotificationDetailNetworkFee,{notification:e})}},footer:{type:l.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/stake/stake.tsx"}],[6758,{"../../../../../shared/lib/translate":5072,"../../../../components/component-library":5645,"../../../../components/multichain":5841,"../../../../components/multichain/notification-list-item-icon/notification-list-item-icon":5909,"../../../../helpers/constants/design-system":6156,"../../../../helpers/utils/notification.util":6197,"../node-guard":6754,"../types/notifications/notifications":6759,"@metamask/notification-services-controller":1796,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.components=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/notification-services-controller"),i=e("../node-guard"),s=e("../types/notifications/notifications"),l=e("../../../../../shared/lib/translate"),c=e("../../../../components/multichain"),u=e("../../../../components/multichain/notification-list-item-icon/notification-list-item-icon"),d=e("../../../../components/component-library"),p=e("../../../../helpers/utils/notification.util"),m=e("../../../../helpers/constants/design-system");const{TRIGGER_TYPES:f}=r.NotificationServicesController.Constants,g=(0,i.isOfTypeNodeGuard)([f.METAMASK_SWAP_COMPLETED]),h=e=>(0,p.createTextItems)([e.data.token_out.symbol],m.TextVariant.bodyMd);n.components={guardFn:g,item:({notification:e,onClick:t})=>{return o.default.createElement(c.NotificationListItem,{id:e.id,isRead:e.isRead,icon:{type:u.NotificationListItemIconType.Token,value:e.data.token_out.image,badge:{icon:d.IconName.SwapHorizontal,position:d.BadgeWrapperPosition.bottomRight}},title:(n=e,(0,p.createTextItems)([(0,l.t)("notificationItemSwapped")||"",n.data.token_in.symbol,(0,l.t)("notificationItemSwappedFor")||""],m.TextVariant.bodySm)),description:h(e),createdAt:new Date(e.createdAt),amount:`${(0,p.getAmount)(e.data.token_out.amount,e.data.token_out.decimals,{shouldEllipse:!0})} ${e.data.token_out.symbol}`,onClick:t});var n},details:{title:({notification:e})=>o.default.createElement(c.NotificationDetailTitle,{title:`${(0,l.t)("notificationItemSwapped")||""} ${e.data.token_out.symbol}`,date:(0,p.formatIsoDateString)(e.createdAt)}),body:{type:s.NotificationComponentType.OnChainBody,Account:({notification:e})=>e.address?o.default.createElement(c.NotificationDetailAddress,{side:(0,l.t)("account")||"",address:e.address}):null,Asset:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.token_in.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemSwapped")||"",detail:e.data.token_in.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.token_in.amount,e.data.token_in.decimals,e.data.token_in.usd)}`,value:`${(0,p.getAmount)(e.data.token_in.amount,e.data.token_in.decimals,{shouldEllipse:!0})} ${e.data.token_in.symbol}`})},AssetReceived:({notification:e})=>{const{nativeCurrencyLogo:t}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:e.data.token_out.image,badge:{src:t,position:d.BadgeWrapperPosition.topRight}},label:(0,l.t)("notificationItemTo")||"",detail:e.data.token_out.symbol,fiatValue:`$${(0,p.getUsdAmount)(e.data.token_out.amount,e.data.token_out.decimals,e.data.token_out.usd)}`,value:`${(0,p.getAmount)(e.data.token_out.amount,e.data.token_out.decimals,{shouldEllipse:!0})} ${e.data.token_out.symbol}`})},Status:({notification:e})=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:d.IconName.Check,color:m.TextColor.successDefault,backgroundColor:m.BackgroundColor.successMuted},label:(0,l.t)("notificationItemStatus")||"",detail:(0,l.t)("notificationItemConfirmed")||"",action:o.default.createElement(c.NotificationDetailCopyButton,{notification:e,text:e.tx_hash,displayText:(0,l.t)("notificationItemTransactionId")||""})}),Network:({notification:e})=>{const{nativeCurrencyName:t,nativeCurrencyLogo:n}=(0,p.getNetworkDetailsByChainId)(e.chain_id);return o.default.createElement(c.NotificationDetailAsset,{icon:{src:n},label:(0,l.t)("notificationItemNetwork")||"",detail:t})},Rate:({notification:e})=>o.default.createElement(c.NotificationDetailInfo,{icon:{iconName:d.IconName.SwapHorizontal,color:m.TextColor.infoDefault,backgroundColor:m.BackgroundColor.infoMuted},label:(0,l.t)("notificationItemRate")||"",detail:`1 ${e.data.token_out.symbol} ≈ ${(1/parseFloat(e.data.rate)).toFixed(5)} ${e.data.token_in.symbol}`}),NetworkFee:({notification:e})=>o.default.createElement(c.NotificationDetailNetworkFee,{notification:e})}},footer:{type:s.NotificationComponentType.OnChainFooter,ScanLink:({notification:e})=>o.default.createElement(c.NotificationDetailBlockExplorerButton,{notification:e,chainId:e.chain_id,txHash:e.tx_hash})}}}}},{package:"$root$",file:"ui/pages/notifications/notification-components/swap-completed/swap-completed.tsx"}],[6759,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationComponentType=void 0;n.NotificationComponentType=function(e){return e.AnnouncementBody="body_feature_announcement",e.AnnouncementFooter="footer_feature_announcement",e.OnChainBody="body_onchain_notification",e.OnChainFooter="footer_onchain_notification",e.SnapBody="body_snap_notification",e.SnapFooter="footer_snap_notification",e}({})}}},{package:"$root$",file:"ui/pages/notifications/notification-components/types/notifications/notifications.ts"}],[6760,{"../../../shared/constants/metametrics":4986,"../../components/component-library":5645,"../../contexts/metametrics":6119,"../../helpers/constants/design-system":6156,"../../helpers/constants/routes":6161,"../../hooks/metamask-notifications/useNotifications":6249,"../../hooks/useNotificationTimeouts":6296,"./notification-components":6751,"@metamask/utils":2359,react:4437,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListItem=function({notification:e}){const t=(0,o.useHistory)(),n=(0,a.useContext)(i.MetaMetricsContext),{setNotificationTimeout:f}=(0,p.useSnapNotificationTimeouts)(),{markNotificationAsRead:g}=(0,d.useMarkNotificationAsRead)(),h=(0,a.useCallback)(()=>{n({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.NotificationClicked,properties:{notification_id:e.id,notification_type:e.type,..."chain_id"in e&&{chain_id:e.chain_id},previously_read:e.isRead}}),g([{id:e.id,type:e.type,isRead:e.isRead}]),e.type!==m.TRIGGER_TYPES.SNAP||(0,r.hasProperty)(e.data,"detailedView")?t.push(`${u.NOTIFICATIONS_ROUTE}/${e.id}`):f(e.id)},[e,g,t]);if(!(0,m.hasNotificationComponents)(e.type))return null;const y=m.NotificationComponents[e.type];return a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,width:c.BlockSize.Full,"data-testid":`notification-list-item-${e.id}`},a.default.createElement(y.item,{notification:e,onClick:h}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("@metamask/utils"),i=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),l=e("../../components/component-library"),c=e("../../helpers/constants/design-system"),u=e("../../helpers/constants/routes"),d=e("../../hooks/metamask-notifications/useNotifications"),p=e("../../hooks/useNotificationTimeouts"),m=e("./notification-components");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-item.tsx"}],[6761,{"../../components/component-library":5645,"../../helpers/constants/design-system":6156,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsPlaceholder=function({title:e,text:t}){return o.default.createElement(r.Box,{height:i.BlockSize.Full,width:i.BlockSize.Full,display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,gap:2,"data-testid":"notifications-list-placeholder"},o.default.createElement(r.Icon,{name:r.IconName.Notification,size:r.IconSize.Xl}),o.default.createElement(r.Text,{variant:i.TextVariant.headingSm},e),o.default.createElement(r.Text,{variant:i.TextVariant.bodyMd,textAlign:i.TextAlign.Center},t))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../components/component-library"),i=e("../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-placeholder.tsx"}],[6762,{"../../../shared/constants/metametrics":4986,"../../components/component-library":5645,"../../contexts/metametrics":6119,"../../helpers/constants/design-system":6156,"../../hooks/metamask-notifications/useNotifications":6249,"../../hooks/useI18nContext":6282,"../../hooks/useNotificationTimeouts":6296,"@metamask/notification-services-controller/notification-services":1768,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListReadAllButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/notification-services-controller/notification-services"),r=e("../../contexts/metametrics"),i=e("../../../shared/constants/metametrics"),s=e("../../hooks/useI18nContext"),l=e("../../hooks/metamask-notifications/useNotifications"),c=e("../../components/component-library"),u=e("../../helpers/constants/design-system"),d=e("../../hooks/useNotificationTimeouts");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.NotificationsListReadAllButton=({notifications:e})=>{const t=(0,s.useI18nContext)(),{markNotificationAsRead:n}=(0,l.useMarkNotificationAsRead)(),p=(0,a.useContext)(r.MetaMetricsContext),{setNotificationTimeout:m}=(0,d.useSnapNotificationTimeouts)();return a.default.createElement(c.Box,{paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,className:"notifications__list__read__all__button"},a.default.createElement(c.Button,{onClick:()=>{let t=[];e&&e.length>0&&(t=e.filter(e=>(null==e?void 0:e.id)!==undefined&&!e.isRead).map(e=>({id:e.id,type:e.type,isRead:e.isRead})),t.filter(e=>e.type===o.TRIGGER_TYPES.SNAP).forEach(e=>m(e.id))),p({category:i.MetaMetricsEventCategory.NotificationInteraction,event:i.MetaMetricsEventName.MarkAllNotificationsRead}),n(t)},variant:c.ButtonVariant.Primary,width:u.BlockSize.Full,"data-testid":"notifications-list-read-all-button"},t("notificationsMarkAllAsRead")))}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-read-all-button.tsx"}],[6763,{"../../../shared/constants/metametrics":4986,"../../components/component-library":5645,"../../contexts/metamask-notifications/metamask-notifications":6117,"../../contexts/metametrics":6119,"../../helpers/constants/design-system":6156,"../../hooks/metamask-notifications/useNotifications":6249,"../../hooks/useI18nContext":6282,"../../selectors/metamask-notifications/metamask-notifications":6960,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsListTurnOnNotifications=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../hooks/useI18nContext"),i=e("../../contexts/metametrics"),s=e("../../../shared/constants/metametrics"),l=e("../../hooks/metamask-notifications/useNotifications"),c=e("../../selectors/metamask-notifications/metamask-notifications"),u=e("../../contexts/metamask-notifications/metamask-notifications"),d=e("../../components/component-library"),p=e("../../helpers/constants/design-system");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.NotificationsListTurnOnNotifications=()=>{const e=(0,r.useI18nContext)(),t=(0,a.useContext)(i.MetaMetricsContext),{listNotifications:n}=(0,u.useMetamaskNotificationsContext)(),{enableNotifications:m,error:f}=(0,l.useEnableNotifications)(),g=f,h=(0,o.useSelector)(c.getIsUpdatingMetamaskNotifications),[y,b]=(0,a.useState)(h||!1);(0,a.useEffect)(()=>{b(h)},[h]);const _=a.default.createElement(d.Text,{as:"a",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:p.TextColor.infoDefault},e("turnOnMetamaskNotificationsMessagePrivacyLink")),E=a.default.createElement(d.Text,{as:"span",fontWeight:p.FontWeight.Bold,key:"strong-text"},e("turnOnMetamaskNotificationsMessagePrivacyBold"));return a.default.createElement(d.Container,{maxWidth:d.ContainerMaxWidth.Sm,height:p.BlockSize.Full,margin:"auto",display:p.Display.Flex,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,flexDirection:p.FlexDirection.Column,gap:4,"data-testid":"notifications-list-turn-on-notifications",textAlign:p.TextAlign.Center,paddingLeft:4,paddingRight:4,paddingTop:4},a.default.createElement(d.Text,{variant:p.TextVariant.headingSm},e("metamaskNotificationsAreOff")),a.default.createElement(d.Box,{as:"img",src:"./images/turn-on-metamask-notifications.png",width:p.BlockSize.Full,borderRadius:p.BorderRadius.MD}),a.default.createElement(d.Text,{as:"p"},e("turnOnMetamaskNotificationsMessageSecond",[_])),a.default.createElement(d.Text,{as:"p"},e("turnOnMetamaskNotificationsMessageThird",[E])),a.default.createElement(d.Box,null,a.default.createElement(d.Button,{onClick:()=>(async()=>{await m(),t({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.EnablingNotifications}),g||h||n()})(),size:d.ButtonSize.Md,disabled:y,loading:y},e("turnOnMetamaskNotificationsButton")),g&&a.default.createElement(d.Text,{as:"p",color:p.TextColor.errorDefault},e("turnOnMetamaskNotificationsError"))))}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list-turn-on-notifications.tsx"}],[6764,{"../../components/component-library":5645,"../../components/ui/icon/preloader/preloader-icon.component":6034,"../../helpers/constants/design-system":6156,"../../hooks/useI18nContext":6282,"../../selectors/metamask-notifications/metamask-notifications":6960,"./notifications-list-item":6760,"./notifications-list-placeholder":6761,"./notifications-list-read-all-button":6762,"./notifications-list-turn-on-notifications":6763,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsList=function(e){return a.default.createElement(r.Box,{"data-testid":"notifications-list",height:i.BlockSize.Full,width:i.BlockSize.Full,className:"notifications__list"},a.default.createElement(E,e),e.notifications.length>0&&e.notificationsCount>0?a.default.createElement(m.NotificationsListReadAllButton,{notifications:e.notifications}):null)},n.TAB_KEYS=void 0;var a=f(e("react")),o=e("react-redux"),r=e("../../components/component-library"),i=e("../../helpers/constants/design-system"),s=f(e("../../components/ui/icon/preloader/preloader-icon.component")),l=e("../../selectors/metamask-notifications/metamask-notifications"),c=e("../../hooks/useI18nContext"),u=e("./notifications-list-placeholder"),d=e("./notifications-list-turn-on-notifications"),p=e("./notifications-list-item"),m=e("./notifications-list-read-all-button");function f(e){return e&&e.__esModule?e:{default:e}}let g=n.TAB_KEYS=function(e){return e.ALL="notifications-all-tab",e.WALLET="notifications-wallet-tab",e.WEB3="notifications-other-tab",e}({});function h(){return a.default.createElement(r.Box,{height:i.BlockSize.Full,width:i.BlockSize.Full,display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,"data-testid":"notifications-list-loading"},a.default.createElement(s.default,{size:36}))}function y(){const e=(0,c.useI18nContext)();return a.default.createElement(u.NotificationsPlaceholder,{title:e("notificationsPageEmptyTitle"),text:e("notificationsPageNoNotificationsContent")})}function b(){const e=(0,c.useI18nContext)();return a.default.createElement(u.NotificationsPlaceholder,{title:e("notificationsPageErrorTitle"),text:e("notificationsPageErrorContent")})}function _(e){const{notification:t}=e;return a.default.createElement(p.NotificationsListItem,{notification:t})}function E({activeTab:e,notifications:t,isLoading:n,isError:r}){const i=(0,o.useSelector)(l.selectIsMetamaskNotificationsEnabled);return e!==g.WALLET||i?n?a.default.createElement(h,null):r?a.default.createElement(b,null):0===t.length?a.default.createElement(y,null):a.default.createElement(a.default.Fragment,null,t.map(e=>a.default.createElement(_,{key:e.id,notification:e}))):a.default.createElement(d.NotificationsListTurnOnNotifications,null)}}}},{package:"$root$",file:"ui/pages/notifications/notifications-list.tsx"}],[6765,{"../../components/component-library":5645,"../../components/multichain":5841,"../../components/multichain/pages/page":5935,"../../components/ui/tabs":6088,"../../contexts/metamask-notifications/metamask-notifications":6117,"../../helpers/constants/design-system":6156,"../../helpers/constants/routes":6161,"../../hooks/metamask-notifications/useCounter":6248,"../../hooks/useI18nContext":6282,"../../selectors":6959,"../../selectors/metamask-notifications/metamask-notifications":6960,"../../store/actions":6981,"./NewFeatureTag":6743,"./notifications-list":6764,"@metamask/notification-services-controller":1796,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useHistory)(),t=(0,s.useI18nContext)(),n=(0,o.useDispatch)(),{isLoading:i,error:h}=(0,m.useMetamaskNotificationsContext)(),[v,k]=(0,a.useState)(_.TAB_KEYS.ALL),T=x(),{notificationsUnreadCount:w}=(0,f.useUnreadNotificationsCounter)(),S=(0,a.useMemo)(()=>C(v,T),[v,T]);let O=!1;return O=(0,o.useSelector)(g.getNotifySnaps).length>0,(0,a.useEffect)(()=>{n((0,b.deleteExpiredNotifications)())},[n]),a.default.createElement(d.NotificationsPage,null,a.default.createElement(p.Header,{startAccessory:a.default.createElement(l.ButtonIcon,{ariaLabel:"Back",iconName:l.IconName.ArrowLeft,size:l.ButtonIconSize.Sm,onClick:()=>{e.push(u.DEFAULT_ROUTE)},"data-testid":"back-button"}),endAccessory:a.default.createElement(l.ButtonIcon,{ariaLabel:"Notifications Settings",iconName:l.IconName.Setting,size:l.ButtonIconSize.Sm,onClick:()=>{e.push(u.NOTIFICATIONS_SETTINGS_ROUTE)},"data-testid":"notifications-settings-button"}),marginBottom:0},t("notifications")),a.default.createElement(p.Content,{padding:0},O&&a.default.createElement(c.Tabs,{defaultActiveTabKey:v,onTabClick:e=>k(e),tabsClassName:"notifications__tabs"},a.default.createElement(c.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":_.TAB_KEYS.ALL,name:t("all"),tabKey:_.TAB_KEYS.ALL}),a.default.createElement(c.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":_.TAB_KEYS.WALLET,name:a.default.createElement(l.Box,{display:y.Display.Flex,justifyContent:y.JustifyContent.center,alignItems:y.AlignItems.center,gap:2},t("wallet"),a.default.createElement(E.NewFeatureTag,null)),tabKey:_.TAB_KEYS.WALLET}),a.default.createElement(c.Tab,{activeClassName:"notifications__tab--active",className:"notifications__tab","data-testid":_.TAB_KEYS.WEB3,name:t("web3"),tabKey:_.TAB_KEYS.WEB3})),a.default.createElement(_.NotificationsList,{activeTab:v,notifications:S,isLoading:i,isError:Boolean(h),notificationsCount:w})))},n.filterNotifications=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("@metamask/notification-services-controller"),s=e("../../hooks/useI18nContext"),l=e("../../components/component-library"),c=e("../../components/ui/tabs"),u=e("../../helpers/constants/routes"),d=e("../../components/multichain"),p=e("../../components/multichain/pages/page"),m=e("../../contexts/metamask-notifications/metamask-notifications"),f=e("../../hooks/metamask-notifications/useCounter"),g=e("../../selectors"),h=e("../../selectors/metamask-notifications/metamask-notifications"),y=e("../../helpers/constants/design-system"),b=e("../../store/actions"),_=e("./notifications-list"),E=e("./NewFeatureTag");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const{TRIGGER_TYPES:k,TRIGGER_TYPES_WALLET_SET:T}=i.NotificationServicesController.Constants,x=()=>{const{featureAnnouncementNotifications:e,walletNotifications:t,snapNotifications:n}=(()=>{const e=(0,o.useSelector)(h.selectIsFeatureAnnouncementsEnabled),t=(0,o.useSelector)(h.selectIsMetamaskNotificationsEnabled),n=(0,o.useSelector)(h.getMetamaskNotifications);return{featureAnnouncementNotifications:(0,a.useMemo)(()=>e?(n??[]).filter(e=>e.type===k.FEATURES_ANNOUNCEMENT):[],[e,n]),walletNotifications:(0,a.useMemo)(()=>t?(n??[]).filter(e=>e.type!==k.FEATURES_ANNOUNCEMENT&&e.type!==k.SNAP):[],[t,n]),snapNotifications:(0,a.useMemo)(()=>(n??[]).filter(e=>e.type===k.SNAP),[n])}})();return(0,a.useMemo)(()=>[...n,...e,...t].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),[n,e,t])},C=(e,t)=>e===_.TAB_KEYS.ALL?t:e===_.TAB_KEYS.WALLET?t.filter(e=>T.has(e.type)||e.type===k.FEATURES_ANNOUNCEMENT):e===_.TAB_KEYS.WEB3?t.filter(e=>e.type===k.SNAP):t;n.filterNotifications=C}}},{package:"$root$",file:"ui/pages/notifications/notifications.tsx"}],[6766,{"../../../../shared/constants/metametrics":4986,"../../../../shared/constants/onboarding":4992,"../../../../shared/lib/trace":5067,"../../../components/component-library":5645,"../../../components/component-library/button":5626,"../../../contexts/metametrics":6119,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,"../../../store/actions":6981,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useHistory)(),t=(0,r.useDispatch)(),n=(0,c.useI18nContext)(),y=(0,r.useSelector)(d.getFirstTimeFlowType),b=(0,r.useSelector)(d.getSocialLoginEmail),_=(0,r.useSelector)(d.getSocialLoginType),E=(0,a.useContext)(f.MetaMetricsContext),{bufferedTrace:v,bufferedEndTrace:k,onboardingParentContext:T}=E;return(0,a.useEffect)(()=>(y!==p.FirstTimeFlowType.socialCreate&&e.replace(u.ONBOARDING_WELCOME_ROUTE),y===p.FirstTimeFlowType.socialCreate&&(null==v||v({name:h.TraceName.OnboardingNewSocialAccountExists,op:h.TraceOperation.OnboardingUserJourney,parentContext:null==T?void 0:T.current})),()=>{y===p.FirstTimeFlowType.socialCreate&&(null==k||k({name:h.TraceName.OnboardingNewSocialAccountExists}))}),[y,e,T,v,k]),a.default.createElement(l.Box,{className:"account-exist","data-testid":"account-exist",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,height:s.BlockSize.Full,gap:6},a.default.createElement(l.Box,null,a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart},a.default.createElement(l.Text,{variant:s.TextVariant.headingLg,as:"h2",justifyContent:s.JustifyContent.center,style:{alignSelf:s.AlignItems.flexStart},marginBottom:4},n("accountAlreadyExistsTitle")),a.default.createElement(l.Box,{width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,marginBottom:6},a.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:n("accountAlreadyExistsTitle"),style:{alignSelf:"center"}})),a.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,marginBottom:6},n("accountAlreadyExistsLoginDescription",[b])))),a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4},a.default.createElement(i.Button,{"data-testid":"onboarding-complete-done",variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async()=>{E({category:g.MetaMetricsEventCategory.Onboarding,event:g.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${g.MetaMetricsEventAccountType.Imported}_${_}`}}),null==v||v({name:h.TraceName.OnboardingExistingSocialLogin,op:h.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==T?void 0:T.current}),await t((0,m.setFirstTimeFlowType)(p.FirstTimeFlowType.socialImport)),e.replace(u.ONBOARDING_UNLOCK_ROUTE)}},n("accountAlreadyExistsLogin")),a.default.createElement(i.Button,{"data-testid":"account-exist-login-with-different-method",variant:i.ButtonVariant.Secondary,size:i.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async n=>{n.preventDefault(),await t((0,m.resetOnboarding)()),await(0,m.forceUpdateMetamaskState)(t),e.replace(u.ONBOARDING_WELCOME_ROUTE)}},n("useDifferentLoginMethod"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("../../../components/component-library/button"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding"),m=e("../../../store/actions"),f=e("../../../contexts/metametrics"),g=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/lib/trace");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-exist/account-exist.tsx"}],[6767,{"../../../../shared/constants/metametrics":4986,"../../../../shared/constants/onboarding":4992,"../../../../shared/lib/trace":5067,"../../../components/component-library":5645,"../../../components/component-library/button":5626,"../../../contexts/metametrics":6119,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,"../../../store/actions":6981,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useHistory)(),t=(0,r.useDispatch)(),n=(0,c.useI18nContext)(),y=(0,r.useSelector)(d.getFirstTimeFlowType),b=(0,r.useSelector)(d.getSocialLoginEmail),_=(0,r.useSelector)(d.getSocialLoginType),E=(0,a.useContext)(h.MetaMetricsContext),{bufferedTrace:v,bufferedEndTrace:k,onboardingParentContext:T}=E;return(0,a.useEffect)(()=>(y!==p.FirstTimeFlowType.socialImport&&e.replace(u.ONBOARDING_WELCOME_ROUTE),y===p.FirstTimeFlowType.socialImport&&(null==v||v({name:g.TraceName.OnboardingExistingSocialAccountNotFound,op:g.TraceOperation.OnboardingUserJourney,parentContext:null==T?void 0:T.current})),()=>{y===p.FirstTimeFlowType.socialImport&&(null==k||k({name:g.TraceName.OnboardingExistingSocialAccountNotFound}))}),[y,e,T,v,k]),a.default.createElement(l.Box,{className:"account-not-found","data-testid":"account-not-found",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,gap:6,height:s.BlockSize.Full},a.default.createElement(l.Box,null,a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart},a.default.createElement(l.Text,{variant:s.TextVariant.headingLg,as:"h2",justifyContent:s.JustifyContent.center,style:{alignSelf:s.AlignItems.flexStart},marginBottom:4},n("accountNotFoundTitle")),a.default.createElement(l.Box,{width:s.BlockSize.Full,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,marginBottom:6},a.default.createElement("img",{src:"images/account-status.png",width:276,height:276,alt:n("accountNotFoundTitle"),style:{alignSelf:"center"}})),a.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,marginBottom:6},n("accountNotFoundDescription",[b])))),a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4},a.default.createElement(i.Button,{"data-testid":"onboarding-complete-done",variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,width:s.BlockSize.Full,onClick:()=>{E({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${f.MetaMetricsEventAccountType.Default}_${_}`}}),null==v||v({name:g.TraceName.OnboardingNewSocialCreateWallet,op:g.TraceOperation.OnboardingUserJourney,tags:{source:"account_status_redirect"},parentContext:null==T?void 0:T.current}),t((0,m.setFirstTimeFlowType)(p.FirstTimeFlowType.socialCreate)),e.replace(u.ONBOARDING_CREATE_PASSWORD_ROUTE)}},n("accountNotFoundCreateOne")),a.default.createElement(i.Button,{"data-testid":"account-exist-login-with-different-method",variant:i.ButtonVariant.Secondary,size:i.ButtonSize.Lg,width:s.BlockSize.Full,onClick:async()=>{await t((0,m.resetOnboarding)()),await(0,m.forceUpdateMetamaskState)(t),e.replace(u.ONBOARDING_WELCOME_ROUTE)}},n("useDifferentLoginMethod"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("../../../components/component-library/button"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/routes"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding"),m=e("../../../store/actions"),f=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/lib/trace"),h=e("../../../contexts/metametrics");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/account-not-found/account-not-found.tsx"}],[6768,{"../../../../shared/constants/app":4973,"../../../../shared/constants/metametrics":4986,"../../../../shared/constants/onboarding":4992,"../../../../shared/lib/trace":5067,"../../../../shared/modules/browser-runtime.utils":5076,"../../../../shared/modules/environment":5080,"../../../components/app/password-form/password-form":5357,"../../../components/component-library":5645,"../../../contexts/metametrics":6119,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../helpers/constants/zendesk-url":6168,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,"../../../store/actions":6981,buffer:3316,"prop-types":4255,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=C;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=k(e("prop-types")),r=e("react-router-dom"),i=e("react-redux"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),u=k(e("../../../helpers/constants/zendesk-url")),d=e("../../../selectors"),p=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),f=e("../../../components/component-library"),g=e("../../../../shared/constants/onboarding"),h=k(e("../../../components/app/password-form/password-form")),y=e("../../../../shared/constants/app"),b=e("../../../../shared/modules/browser-runtime.utils"),_=e("../../../store/actions"),E=e("../../../../shared/modules/environment"),v=e("../../../../shared/lib/trace");function k(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const x=(0,b.getBrowserName)()===y.PLATFORM_FIREFOX;function C({createNewAccount:e,importWithRecoveryPhrase:n,secretRecoveryPhrase:o}){const y=(0,s.useI18nContext)(),[b,k]=(0,a.useState)(""),[T,C]=(0,a.useState)(!1),[w,S]=(0,a.useState)(!1),O=(0,r.useHistory)(),I=(0,i.useDispatch)(),N=(0,i.useSelector)(d.getFirstTimeFlowType),M=(0,a.useContext)(p.MetaMetricsContext),{bufferedTrace:R,bufferedEndTrace:A,onboardingParentContext:B}=M,P=(0,i.useSelector)(d.getCurrentKeyring),D=(0,E.getIsSeedlessOnboardingFeatureEnabled)(),F=(0,i.useSelector)(d.getIsSocialLoginFlow),L=(0,i.useSelector)(d.getSocialLoginType),j=(0,i.useSelector)(d.getParticipateInMetaMetrics),W=(0,i.useSelector)(d.getMetaMetricsId),U=t.from(W??"").toString("base64"),z=Boolean(j&&U),$=`https://start.metamask.io/?${new URLSearchParams({mmi:U,env:"production"})}`;(0,a.useEffect)(()=>{P&&!w?N===g.FirstTimeFlowType.import||N===g.FirstTimeFlowType.socialImport?O.replace(c.ONBOARDING_METAMETRICS):N===g.FirstTimeFlowType.socialCreate?x?O.replace(c.ONBOARDING_COMPLETION_ROUTE):O.replace(c.ONBOARDING_METAMETRICS):O.replace(c.ONBOARDING_SECURE_YOUR_WALLET_ROUTE):N!==g.FirstTimeFlowType.import||o||O.replace(c.ONBOARDING_IMPORT_WITH_SRP_ROUTE)},[P,O,N,w,o]);const V=(e,t=!1)=>{if(t&&L){return`${e}_${String(L).toLowerCase()}`}return e};(0,a.useEffect)(()=>(null==R||R({name:v.TraceName.OnboardingPasswordSetupAttempt,op:v.TraceOperation.OnboardingUserJourney,parentContext:null==B?void 0:B.current}),()=>{null==A||A({name:v.TraceName.OnboardingPasswordSetupAttempt})}),[B,R,A]);const q=a.default.createElement("a",{onClick:e=>{e.stopPropagation(),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.ExternalLinkClicked,properties:{text:"Learn More",location:"create_password",url:u.default.PASSWORD_ARTICLE}})},key:"create-password__link-text",href:u.default.PASSWORD_ARTICLE,target:"_blank",rel:"noopener noreferrer"},a.default.createElement("span",{className:"create-password__link-text"},y("learnMoreUpperCaseWithDot")));return a.default.createElement(f.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:4,as:"form",className:"create-password","data-testid":"create-password",onSubmit:async t=>{if(null==t||t.preventDefault(),b)try{o&&N===g.FirstTimeFlowType.import?await(async()=>{M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImportAttempted}),await n(b,o),null==A||A({name:v.TraceName.OnboardingExistingSrpImport}),null==A||A({name:v.TraceName.OnboardingJourneyOverall}),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletImported,properties:{biometrics_enabled:!1}}),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"import",new_wallet:!1,account_type:V(m.MetaMetricsEventAccountType.Imported,F)}}),x?O.replace(c.ONBOARDING_COMPLETION_ROUTE):O.replace(c.ONBOARDING_METAMETRICS)})():await(async()=>{M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletCreationAttempted,properties:{account_type:V(m.MetaMetricsEventAccountType.Default,F)}}),e&&(S(!0),await e(b)),F&&(null==A||A({name:v.TraceName.OnboardingNewSocialCreateWallet}),null==A||A({name:v.TraceName.OnboardingJourneyOverall})),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletCreated,properties:{biometrics_enabled:!1,account_type:V(m.MetaMetricsEventAccountType.Default,F)}}),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupCompleted,properties:{wallet_setup_type:"new",new_wallet:!0,account_type:V(m.MetaMetricsEventAccountType.Default,F)}}),D&&F?x?O.replace(c.ONBOARDING_COMPLETION_ROUTE):O.replace(c.ONBOARDING_METAMETRICS):O.replace(c.ONBOARDING_SECURE_YOUR_WALLET_ROUTE)})()}catch(e){(e=>{const t=e instanceof Error?e.message:"Unknown error";null==R||R({name:v.TraceName.OnboardingPasswordSetupError,op:v.TraceOperation.OnboardingUserJourney,parentContext:B.current,tags:{errorMessage:t}}),null==A||A({name:v.TraceName.OnboardingPasswordSetupError}),console.error(e)})(e),M({category:m.MetaMetricsEventCategory.Onboarding,event:m.MetaMetricsEventName.WalletSetupFailure})}}},a.default.createElement(f.Box,null,a.default.createElement(f.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},a.default.createElement(f.ButtonIcon,{iconName:f.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:f.ButtonIconSize.Md,"data-testid":"create-password-back-button",type:"button",onClick:async e=>{e.preventDefault(),await I((0,_.resetOnboarding)()),await(0,_.forceUpdateMetamaskState)(I),N===g.FirstTimeFlowType.import?O.replace(c.ONBOARDING_IMPORT_WITH_SRP_ROUTE):O.replace(c.ONBOARDING_WELCOME_ROUTE)},ariaLabel:y("back")})),a.default.createElement(f.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},!F&&a.default.createElement(f.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},y("stepOf",[N===g.FirstTimeFlowType.import?2:1,N===g.FirstTimeFlowType.import?2:3])),a.default.createElement(f.Text,{variant:l.TextVariant.headingLg,as:"h2"},y("createPassword")),a.default.createElement(f.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,as:"h2"},y(F?"createPasswordDetailsSocial":"createPasswordDetails"))),a.default.createElement(h.default,{onChange:e=>k(e)}),a.default.createElement(f.Box,{className:"create-password__terms-container",alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween,marginTop:6},a.default.createElement(f.Checkbox,{inputProps:{"data-testid":"create-password-terms"},alignItems:l.AlignItems.flexStart,isChecked:T,onChange:()=>{C(!T)},label:a.default.createElement(a.default.Fragment,null,y(F?"passwordTermsWarningSocial":"passwordTermsWarning")," ",q)}))),a.default.createElement(f.Box,null,a.default.createElement(f.Button,{"data-testid":"create-password-submit",variant:f.ButtonVariant.Primary,width:l.BlockSize.Full,size:f.ButtonSize.Lg,className:"create-password__form--submit-button",disabled:!b||!T},y("createPasswordCreate"))),z?a.default.createElement("iframe",{src:$,className:"create-password__analytics-iframe","data-testid":"create-password-iframe"}):null)}C.propTypes={createNewAccount:o.default.func,importWithRecoveryPhrase:o.default.func,secretRecoveryPhrase:o.default.string}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/pages/onboarding-flow/create-password/create-password.js"}],[6769,{"../../../components/component-library":5645,"../../../components/component-library/button":5626,"../../../components/component-library/lottie-animation":5651,"../../../ducks/metamask/metamask":6143,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,lodash:4086,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useHistory)(),t=(0,u.useI18nContext)(),{search:n}=(0,o.useLocation)(),g=(0,r.useSelector)(m.getIsPrimarySeedPhraseBackedUp),h=(0,r.useSelector)(p.getSocialLoginType),y=new URLSearchParams(n),b=y.get("isFromReminder"),_=y.get("isFromSettingsSecurity"),E=(0,a.useMemo)(()=>t(g?b?"yourWalletIsReadyFromReminder":"yourWalletIsReady":"yourWalletIsReadyRemind"),[b,g,t]),v=(0,a.useMemo)(()=>h?t("walletReadySocialDetails1",[(0,i.capitalize)(h)]):t(g?b?"walletReadyLoseSrpFromReminder":"walletReadyLoseSrp":"walletReadyLoseSrpRemind"),[h,g,t,b]),k=(0,a.useMemo)(()=>h?t("walletReadySocialDetails2"):g||b?t("walletReadyLearn",[a.default.createElement(c.ButtonLink,{key:"walletReadyLearn",size:c.ButtonLinkSize.Inherit,textProps:{variant:l.TextVariant.bodyMd,alignItems:l.AlignItems.flexStart},as:"a",href:"https://support.metamask.io/stay-safe/safety-in-web3/basic-safety-and-security-tips-for-metamask/",target:"_blank",rel:"noopener noreferrer"},t("learnHow"))]):t("walletReadyLearnRemind"),[h,g,b,t]),T=(0,a.useMemo)(()=>a.default.createElement(f.LottieAnimation,{path:"images/animations/fox/celebrating.lottie.json",loop:!0,autoplay:!0}),[g,b]),x=(0,a.useCallback)(()=>{b?e.push(_?d.SECURITY_ROUTE:d.DEFAULT_ROUTE):e.push(d.ONBOARDING_PIN_EXTENSION_ROUTE)},[e,b,_]);return a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:6,className:"creation-successful","data-testid":"wallet-ready"},a.default.createElement(c.Box,null,a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.flexStart},a.default.createElement(c.Text,{variant:l.TextVariant.headingLg,as:"h2",justifyContent:l.JustifyContent.center,style:{alignSelf:l.AlignItems.flexStart},marginBottom:4},E),a.default.createElement(c.Box,{width:l.BlockSize.Full,display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,marginBottom:6},a.default.createElement(c.Box,{display:l.Display.Flex,style:{width:"144px",height:"144px"}},T)),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:6},v),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative,marginBottom:6},k)),!b&&a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexStart,className:"creation-successful__settings-actions",gap:4},a.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,"data-testid":"manage-default-settings",borderRadius:l.BorderRadius.LG,width:l.BlockSize.Full,onClick:()=>e.push(d.ONBOARDING_PRIVACY_SETTINGS_ROUTE)},a.default.createElement(c.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},a.default.createElement(c.Icon,{name:c.IconName.Setting,size:c.IconSize.Md,marginInlineEnd:3}),a.default.createElement(c.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},t("manageDefaultSettings"))),a.default.createElement(c.Icon,{name:c.IconName.ArrowRight,color:l.IconColor.iconAlternative,size:c.IconSize.Sm})))),a.default.createElement(c.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center},a.default.createElement(s.Button,{"data-testid":"onboarding-complete-done",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:l.BlockSize.Full,onClick:x},t("done"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("lodash"),s=e("../../../components/component-library/button"),l=e("../../../helpers/constants/design-system"),c=e("../../../components/component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/routes"),p=e("../../../selectors"),m=e("../../../ducks/metamask/metamask"),f=e("../../../components/component-library/lottie-animation");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/creation-successful/creation-successful.js"}],[6770,{"../../../../shared/constants/metametrics":4986,"../../../components/app/srp-details-modal":5517,"../../../components/app/srp-input-import":5519,"../../../components/component-library":5645,"../../../contexts/metametrics":6119,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,"../../../selectors/selectors":6973,"@ethersproject/hdnode":590,"prop-types":4255,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=b(e("prop-types")),s=e("@ethersproject/hdnode"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/routes"),u=e("../../../hooks/useI18nContext"),d=b(e("../../../components/app/srp-input-import")),p=e("../../../selectors"),m=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),g=e("../../../selectors/selectors"),h=e("../../../components/component-library"),y=b(e("../../../components/app/srp-details-modal"));function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const E=e=>e!==e.toLowerCase();function v({submitSecretRecoveryPhrase:e}){const[t,n]=(0,a.useState)(""),[i,b]=(0,a.useState)(!1),[_,v]=(0,a.useState)(""),k=(0,o.useHistory)(),T=(0,r.useSelector)(g.getHDEntropyIndex),x=(0,u.useI18nContext)(),C=(0,r.useSelector)(p.getCurrentKeyring);(0,a.useEffect)(()=>{C&&k.replace(c.ONBOARDING_CREATE_PASSWORD_ROUTE)},[C,k]);const w=(0,a.useContext)(m.MetaMetricsContext),S=(0,a.useCallback)(()=>{w({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"import_srp"}}),b(!0)},[w]),O=(0,a.useCallback)(()=>{let n="";!E(t)&&(0,s.isValidMnemonic)(t)||(n=x("invalidSeedPhraseNotFound")),v(n),n||(e(t),w({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:T}}),k.push(c.ONBOARDING_CREATE_PASSWORD_ROUTE))},[t,x,T,w,k,e]);return(0,a.useEffect)(()=>{v("")},[t]),a.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:4,className:"import-srp","data-testid":"import-srp"},i&&a.default.createElement(y.default,{onClose:()=>b(!1)}),a.default.createElement(h.Box,null,a.default.createElement(h.Box,{marginBottom:4},a.default.createElement(h.ButtonIcon,{iconName:h.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:h.ButtonIconSize.Md,"data-testid":"import-srp-back-button",onClick:()=>{k.replace(c.ONBOARDING_WELCOME_ROUTE)},ariaLabel:x("back")})),a.default.createElement(h.Box,{textAlign:l.TextAlign.Left},a.default.createElement(h.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},x("stepOf",[1,2]))),a.default.createElement(h.Box,{textAlign:l.TextAlign.Left,marginBottom:2},a.default.createElement(h.Text,{variant:l.TextVariant.headingLg},x("importAWallet"))),a.default.createElement(h.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,marginBottom:4},a.default.createElement(h.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},x("typeYourSRP")),a.default.createElement(h.ButtonIcon,{iconName:h.IconName.Info,size:h.ButtonIconSize.Sm,color:l.IconColor.iconAlternative,onClick:S,ariaLabel:"info"})),a.default.createElement(h.Box,{width:l.BlockSize.Full},a.default.createElement("form",{onSubmit:e=>e.preventDefault()},a.default.createElement(d.default,{onChange:n}),_&&a.default.createElement(h.Box,{marginTop:2},a.default.createElement(h.Text,{"data-testid":"import-srp-error",variant:l.TextVariant.bodySm,color:l.TextColor.errorDefault},_))))),a.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,width:l.BlockSize.Full,textAlign:l.TextAlign.Left},a.default.createElement(h.Button,{width:l.BlockSize.Full,size:h.ButtonSize.Lg,type:"primary","data-testid":"import-srp-confirm",onClick:O,disabled:!t.trim()||Boolean(_)},x("continue"))))}v.propTypes={submitSecretRecoveryPhrase:i.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/import-srp/import-srp.js"}],[6771,{"../../../../shared/constants/app":4973,"../../../../shared/constants/metametrics":4986,"../../../../shared/constants/onboarding":4992,"../../../../shared/modules/browser-runtime.utils":5076,"../../../components/component-library":5645,"../../../contexts/metametrics":6119,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,"../../../store/actions":6981,loglevel:4094,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,c.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,i.useHistory)(),a=(0,r.useSelector)(d.getFirstTimeFlowType),m=(0,r.useSelector)(d.getDataCollectionForMarketing),b=(0,r.useSelector)(d.getCurrentKeyring),E=(0,o.useContext)(g.MetaMetricsContext);let v=(0,r.useSelector)(d.getFirstTimeFlowTypeRouteAfterMetaMetricsOptIn);_&&a!==y.FirstTimeFlowType.restore&&(v=b&&a===y.FirstTimeFlowType.socialCreate?f.ONBOARDING_COMPLETION_ROUTE:f.ONBOARDING_WELCOME_ROUTE);return o.default.createElement("div",{className:"onboarding-metametrics","data-testid":"onboarding-metametrics"},o.default.createElement(h.Text,{variant:l.TextVariant.headingLg,textAlign:l.TextAlign.Left,fontWeight:l.FontWeight.Bold,marginBottom:4},e("onboardingMetametricsTitle")),o.default.createElement(h.Text,{className:"onboarding-metametrics__desc",textAlign:l.TextAlign.Left},e("onboardingMetametricsDescription")),o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,paddingBottom:4},o.default.createElement(h.Icon,{marginInlineEnd:2,name:h.IconName.Check,size:h.IconSize.Sm,color:l.IconColor.successDefault}),o.default.createElement(h.Text,{color:l.TextColor.textAlternative},e("onboardingMetametricsNeverCollect",[o.default.createElement(h.Text,{variant:l.TextVariant.inherit,key:"never",fontWeight:l.FontWeight.Bold,color:l.TextColor.textDefault,marginTop:0},e("onboardingMetametricsNeverCollectEmphasis"))])))),o.default.createElement("li",null,o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,paddingBottom:4},o.default.createElement(h.Icon,{marginInlineEnd:2,name:h.IconName.Check,size:h.IconSize.Sm,color:l.IconColor.successDefault}),o.default.createElement(h.Text,{color:l.TextColor.textAlternative},e("onboardingMetametricsNeverCollectIP",[o.default.createElement(h.Text,{variant:l.TextVariant.inherit,key:"never-collect",fontWeight:l.FontWeight.Bold,color:l.TextColor.textDefault},e("onboardingMetametricsNeverCollectIPEmphasis"))])))),o.default.createElement("li",null,o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,paddingBottom:4},o.default.createElement(h.Icon,{marginInlineEnd:2,name:h.IconName.Check,size:h.IconSize.Sm,color:l.IconColor.successDefault}),o.default.createElement(h.Text,{color:l.TextColor.textAlternative},e("onboardingMetametricsNeverSellData",[o.default.createElement(h.Text,{variant:l.TextVariant.inherit,key:"never-sell",fontWeight:l.FontWeight.Bold,color:l.TextColor.textDefault},e("onboardingMetametricsNeverSellDataEmphasis"))]))))),o.default.createElement(h.Checkbox,{id:"metametrics-opt-in","data-testid":"metametrics-data-collection-checkbox",isChecked:m,onClick:()=>t((0,u.setDataCollectionForMarketing)(!m)),label:o.default.createElement(h.Text,{fontWeight:l.FontWeight.Medium},e("onboardingMetametricsUseDataCheckbox")),paddingBottom:3,alignItems:l.AlignItems.flexStart}),o.default.createElement(h.Text,{color:l.TextColor.textAlternative,textAlign:l.TextAlign.Left,variant:l.TextVariant.bodySm,paddingTop:4,className:"onboarding-metametrics__terms"},e("onboardingMetametricsInfuraTerms",[o.default.createElement("a",{href:_?"https://addons.mozilla.org/en-CA/firefox/addon/ether-metamask/privacy/":"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",key:"privacy-link"},e("onboardingMetametricsInfuraTermsPolicy"))])),o.default.createElement(h.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,width:l.BlockSize.Full,className:"onboarding-metametrics__buttons",marginTop:6,gap:4},o.default.createElement(h.Button,{"data-testid":"metametrics-no-thanks",variant:h.ButtonVariant.Secondary,size:h.ButtonSize.Lg,width:l.BlockSize.Full,onClick:async e=>{e.preventDefault(),await t((0,u.setParticipateInMetaMetrics)(!1)),await t((0,u.setDataCollectionForMarketing)(!1)),n.push(v)}},e("noThanks")),o.default.createElement(h.Button,{"data-testid":"metametrics-i-agree",size:h.ButtonSize.Lg,width:l.BlockSize.Full,onClick:async e=>{e.preventDefault(),null===m&&await t((0,u.setDataCollectionForMarketing)(!1)),await t((0,u.setParticipateInMetaMetrics)(!0));try{await E({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AppInstalled}),await E({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.AnalyticsPreferenceSelected,properties:{is_metrics_opted_in:!0,has_marketing_consent:Boolean(m),location:"onboarding_metametrics"}})}catch(e){s.default.error("onConfirm::error",e)}finally{n.push(v)}}},e("onboardingMetametricsAgree"))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../selectors"),p=e("../../../../shared/constants/metametrics"),m=e("../../../../shared/constants/app"),f=e("../../../helpers/constants/routes"),g=e("../../../contexts/metametrics"),h=e("../../../components/component-library"),y=e("../../../../shared/constants/onboarding");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const _=(0,e("../../../../shared/modules/browser-runtime.utils").getBrowserName)()===m.PLATFORM_FIREFOX}}},{package:"$root$",file:"ui/pages/onboarding-flow/metametrics/metametrics.js"}],[6772,{"../../../../app/_locales/index.json":2,"../../../../shared/constants/preferences":4994,"../../../components/component-library":5645,"../../../components/ui/dropdown":6014,"../../../components/ui/metafox-logo":6059,"../../../ducks/locale/locale":6142,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../store/actions":6981,"../welcome/types":6787,classnames:3349,"prop-types":4255,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=b(e("react")),o=b(e("prop-types")),r=e("react-redux"),i=e("react-router-dom"),s=b(e("classnames")),l=b(e("../../../components/ui/metafox-logo")),c=b(e("../../../components/ui/dropdown")),u=e("../../../ducks/locale/locale"),d=e("../../../store/actions"),p=b(e("../../../../app/_locales/index.json")),m=e("../../../helpers/constants/routes"),f=e("../../../components/component-library"),g=e("../../../helpers/constants/design-system"),h=e("../welcome/types"),y=e("../../../../shared/constants/preferences");function b(e){return e&&e.__esModule?e:{default:e}}function _({pageState:e}){const t=(0,r.useDispatch)(),{pathname:n}=(0,i.useLocation)(),o=(0,r.useSelector)(u.getCurrentLocale),b=p.default.map(e=>({name:e.name,value:e.code}));return a.default.createElement(f.Box,{display:g.Display.Flex,alignItems:g.AlignItems.center,backgroundColor:g.BackgroundColor.backgroundDefault,width:g.BlockSize.Full,padding:4,className:(0,s.default)("onboarding-app-header",{"onboarding-app-header--welcome":n===m.ONBOARDING_WELCOME_ROUTE})},a.default.createElement(f.Box,{display:g.Display.Flex,width:g.BlockSize.Full,justifyContent:g.JustifyContent.spaceBetween,className:"onboarding-app-header__contents"},a.default.createElement(l.default,{theme:n===m.ONBOARDING_WELCOME_ROUTE?y.ThemeType.light:undefined,unsetIconHeight:!0,isOnboarding:!0}),a.default.createElement(c.default,{"data-testid":"select-locale",className:(0,s.default)("onboarding-app-header__dropdown",{"onboarding-app-header__dropdown--welcome--banner":e===h.WelcomePageState.Banner,"onboarding-app-header__dropdown--welcome--login":e===h.WelcomePageState.Login}),options:b,selectedOption:o,onChange:async e=>t((0,d.updateCurrentLocale)(e))})))}_.propTypes={pageState:o.default.oneOf(Object.values(h.WelcomePageState))}}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-app-header/onboarding-app-header.js"}],[6773,{"../../../../shared/constants/app":4973,"../../../../shared/constants/onboarding":4992,"../../../../shared/modules/browser-runtime.utils":5076,"../../../ducks/metamask/metamask":6143,"../../../helpers/constants/routes":6161,"../../../selectors":6959,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useSelector)(l.getCompletedOnboarding),t=(0,r.useSelector)(l.getIsInitialized),n=(0,r.useSelector)(d.getIsSocialLoginFlowInitialized),a=(0,r.useSelector)(l.getSeedPhraseBackedUp),m=(0,r.useSelector)(d.getFirstTimeFlowType),f=(0,r.useSelector)(d.getIsSocialLoginFlow),g=(0,r.useSelector)(l.getIsUnlocked),h=(0,r.useSelector)(d.getIsParticipateInMetaMetricsSet);if(e)return o.default.createElement(i.Redirect,{to:{pathname:s.DEFAULT_ROUTE}});if(null!==a||g&&f)return o.default.createElement(i.Redirect,{to:{pathname:h?s.ONBOARDING_COMPLETION_ROUTE:s.ONBOARDING_METAMETRICS}});if(g)return o.default.createElement(i.Redirect,{to:{pathname:s.LOCK_ROUTE}});if(!t&&!n){let e;return e=(0,u.getBrowserName)()===c.PLATFORM_FIREFOX?o.default.createElement(i.Redirect,{to:{pathname:s.ONBOARDING_METAMETRICS}}):o.default.createElement(i.Redirect,{to:{pathname:s.ONBOARDING_WELCOME_ROUTE}}),e}if(!t&&n&&m===p.FirstTimeFlowType.socialCreate)return o.default.createElement(i.Redirect,{to:{pathname:s.ONBOARDING_CREATE_PASSWORD_ROUTE}});return o.default.createElement(i.Redirect,{to:{pathname:s.ONBOARDING_UNLOCK_ROUTE}})};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),i=e("react-router-dom"),s=e("../../../helpers/constants/routes"),l=e("../../../ducks/metamask/metamask"),c=e("../../../../shared/constants/app"),u=e("../../../../shared/modules/browser-runtime.utils"),d=e("../../../selectors"),p=e("../../../../shared/constants/onboarding")}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow-switch/onboarding-flow-switch.js"}],[6774,{"../../../app/scripts/lib/util":225,"../../../shared/constants/app":4973,"../../../shared/constants/onboarding":4992,"../../../shared/lib/trace":5067,"../../../shared/modules/environment":5080,"../../components/app/toast-master/utils":5537,"../../components/component-library":5645,"../../components/ui/loading-screen":6047,"../../contexts/metametrics":6119,"../../ducks/metamask/metamask":6143,"../../helpers/constants/design-system":6156,"../../helpers/constants/routes":6161,"../../selectors":6959,"../../store/actions":6981,"../unlock-page":6944,"./account-exist/account-exist":6766,"./account-not-found/account-not-found":6767,"./create-password/create-password":6768,"./creation-successful/creation-successful":6769,"./import-srp/import-srp":6770,"./metametrics/metametrics":6771,"./onboarding-app-header/onboarding-app-header":6772,"./onboarding-flow-switch/onboarding-flow-switch":6773,"./pin-extension/pin-extension":6775,"./privacy-settings/privacy-settings":6776,"./recovery-phrase/confirm-recovery-phrase":6778,"./recovery-phrase/reveal-recovery-phrase":6781,"./recovery-phrase/review-recovery-phrase":6782,"./secure-your-wallet/secure-your-wallet":6783,"./welcome/types":6787,"./welcome/welcome":6790,classnames:3349,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const[e,t]=(0,a.useState)(""),[n,L]=(0,a.useState)(!1),j=(0,r.useDispatch)(),{pathname:U,search:z}=(0,o.useLocation)(),$=(0,o.useHistory)(),V=(0,r.useSelector)(c.getCompletedOnboarding),q=(0,r.useSelector)(d.getFirstTimeFlowTypeRouteAfterUnlock),G=new URLSearchParams(z).get("isFromReminder"),J=new URLSearchParams(z).get("isFromSettingsSecurity"),K=(0,a.useContext)(p.MetaMetricsContext),{bufferedTrace:H,onboardingParentContext:Y}=K,X=(0,r.useSelector)(c.getIsUnlocked),Q=(0,r.useSelector)(d.getShowTermsOfUse),Z=(0,r.useSelector)(d.getFirstTimeFlowType),ee=(0,_.getIsSeedlessOnboardingFeatureEnabled)(),te=(0,r.useSelector)(c.getIsPrimarySeedPhraseBackedUp),ne=(0,h.getEnvironmentType)()===y.ENVIRONMENT_TYPE_POPUP,[ae,oe]=(0,a.useState)(B.WelcomePageState.Banner);(0,a.useEffect)(()=>{(0,m.submitRequestToBackgroundAndCatch)("setOnboardingDate")},[]),(0,a.useEffect)(()=>{V&&!G&&$.push(l.DEFAULT_ROUTE)},[$,V,G]),(0,a.useEffect)(()=>{const t=[l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE,l.ONBOARDING_REVIEW_SRP_ROUTE,l.ONBOARDING_CONFIRM_SRP_ROUTE].some(e=>null==U?void 0:U.startsWith(e));!X||V||e||t&&$.push(l.ONBOARDING_UNLOCK_ROUTE),te&&t&&V&&$.replace(J?l.SECURITY_ROUTE:l.DEFAULT_ROUTE),U===l.ONBOARDING_WELCOME_ROUTE?oe(Q?B.WelcomePageState.Banner:B.WelcomePageState.Login):oe(null)},[X,V,e,U,$,Q,te,J]),(0,a.useEffect)(()=>{const e=null==H?void 0:H({name:E.TraceName.OnboardingJourneyOverall,op:E.TraceOperation.OnboardingUserJourney});Y&&(Y.current=e)},[Y,H]);const re=async e=>{try{let n;L(!0),ee&&Z===b.FirstTimeFlowType.socialCreate?n=await j((0,u.createNewVaultAndSyncWithSocial)(e)):Z===b.FirstTimeFlowType.create&&(n=await j((0,u.createNewVaultAndGetSeedPhrase)(e))),t(n)}finally{L(!1)}},ie=async e=>{try{let n;L(!0),n=ee&&Z===b.FirstTimeFlowType.socialImport?await j((0,u.restoreSocialBackupAndGetSeedPhrase)(e)):await j((0,u.unlockAndGetSeedPhrase)(e)),t(n),$.replace(q)}finally{L(!1)}},se=async(e,t)=>await j((0,u.createNewVaultAndRestore)(e,t));let le=U===l.ONBOARDING_WELCOME_ROUTE||U===l.ONBOARDING_UNLOCK_ROUTE;return a.default.createElement(f.Box,{backgroundColor:g.BackgroundColor.backgroundDefault,width:g.BlockSize.Full,height:g.BlockSize.Full,display:g.Display.Flex,flexDirection:g.FlexDirection.Column,alignItems:U===l.ONBOARDING_WELCOME_ROUTE?g.AlignItems.flexStart:g.AlignItems.center,justifyContent:g.JustifyContent.flexStart,className:(0,i.default)("onboarding-flow",{"onboarding-flow--welcome-banner":ae===B.WelcomePageState.Banner,"onboarding-flow--welcome-login":ae===B.WelcomePageState.Login})},!ne&&a.default.createElement(A.default,{pageState:ae}),a.default.createElement(f.Box,{className:(0,i.default)("onboarding-flow__container",{"onboarding-flow__container--full":le,"onboarding-flow__container--popup":ne}),width:g.BlockSize.Full,borderStyle:le||ne?g.BorderStyle.none:g.BorderStyle.solid,borderRadius:g.BorderRadius.LG,marginTop:U===l.ONBOARDING_WELCOME_ROUTE||ne?0:3,marginInline:"auto",borderColor:g.BorderColor.borderMuted},a.default.createElement(o.Switch,null,a.default.createElement(o.Route,{path:l.ONBOARDING_ACCOUNT_EXIST,component:P.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_ACCOUNT_NOT_FOUND,component:D.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_CREATE_PASSWORD_ROUTE,render:t=>a.default.createElement(T.default,W({},t,{createNewAccount:re,importWithRecoveryPhrase:se,secretRecoveryPhrase:e}))}),a.default.createElement(o.Route,{path:l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE,component:C.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_REVEAL_SRP_ROUTE,render:()=>a.default.createElement(F.default,{setSecretRecoveryPhrase:t})}),a.default.createElement(o.Route,{path:l.ONBOARDING_REVIEW_SRP_ROUTE,render:()=>a.default.createElement(x.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:l.ONBOARDING_CONFIRM_SRP_ROUTE,render:()=>a.default.createElement(w.default,{secretRecoveryPhrase:e})}),a.default.createElement(o.Route,{path:l.ONBOARDING_IMPORT_WITH_SRP_ROUTE,render:e=>a.default.createElement(N.default,W({},e,{submitSecretRecoveryPhrase:t}))}),a.default.createElement(o.Route,{path:l.ONBOARDING_UNLOCK_ROUTE,render:e=>a.default.createElement(s.default,W({},e,{onSubmit:ie}))}),a.default.createElement(o.Route,{path:l.ONBOARDING_PRIVACY_SETTINGS_ROUTE,component:S.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_COMPLETION_ROUTE,component:O.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_WELCOME_ROUTE,render:e=>a.default.createElement(I.default,W({},e,{pageState:ae,setPageState:oe}))}),a.default.createElement(o.Route,{path:l.ONBOARDING_PIN_EXTENSION_ROUTE,component:M.default}),a.default.createElement(o.Route,{path:l.ONBOARDING_METAMETRICS,component:R.default}),a.default.createElement(o.Route,{exact:!0,path:"*",component:k.default}))),n&&a.default.createElement(v.default,null))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=L(e("classnames")),s=L(e("../unlock-page")),l=e("../../helpers/constants/routes"),c=e("../../ducks/metamask/metamask"),u=e("../../store/actions"),d=e("../../selectors"),p=e("../../contexts/metametrics"),m=e("../../components/app/toast-master/utils"),f=e("../../components/component-library"),g=e("../../helpers/constants/design-system"),h=e("../../../app/scripts/lib/util"),y=e("../../../shared/constants/app"),b=e("../../../shared/constants/onboarding"),_=e("../../../shared/modules/environment"),E=e("../../../shared/lib/trace"),v=L(e("../../components/ui/loading-screen")),k=L(e("./onboarding-flow-switch/onboarding-flow-switch")),T=L(e("./create-password/create-password")),x=L(e("./recovery-phrase/review-recovery-phrase")),C=L(e("./secure-your-wallet/secure-your-wallet")),w=L(e("./recovery-phrase/confirm-recovery-phrase")),S=L(e("./privacy-settings/privacy-settings")),O=L(e("./creation-successful/creation-successful")),I=L(e("./welcome/welcome")),N=L(e("./import-srp/import-srp")),M=L(e("./pin-extension/pin-extension")),R=L(e("./metametrics/metametrics")),A=L(e("./onboarding-app-header/onboarding-app-header")),B=e("./welcome/types"),P=L(e("./account-exist/account-exist")),D=L(e("./account-not-found/account-not-found")),F=L(e("./recovery-phrase/reveal-recovery-phrase"));function L(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W.apply(null,arguments)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/onboarding-flow.js"}],[6775,{"../../../../shared/constants/metametrics":4986,"../../../../shared/constants/onboarding":4992,"../../../../shared/modules/browser-runtime.utils":5076,"../../../components/component-library":5645,"../../../contexts/metametrics":6119,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,"../../../store/actions":6981,classnames:3349,react:4437,"react-redux":4383,"react-responsive-carousel":4399,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,u.useI18nContext)(),t=(0,r.useHistory)(),[n,a]=(0,o.useState)(0),_=(0,i.useDispatch)(),E=(0,o.useContext)(f.MetaMetricsContext),v=(0,i.useSelector)(g.getFirstTimeFlowType),k=(0,i.useSelector)(g.getCurrentKeyring),T=(0,i.useSelector)(g.getExternalServicesOnboardingToggleState);return(0,o.useEffect)(()=>{k||t.replace(p.ONBOARDING_WELCOME_ROUTE)},[k,t]),o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.spaceBetween,height:d.BlockSize.Full,gap:6,className:"onboarding-pin-extension","data-testid":"onboarding-pin-extension"},o.default.createElement(m.Box,null,o.default.createElement(s.Carousel,{selectedItem:n,showThumbs:!1,showStatus:!1,dynamicHeight:!0,renderArrowPrev:(t,n,a)=>o.default.createElement(m.ButtonIcon,{iconName:m.IconName.Arrow2Left,size:m.ButtonIconSize.Lg,borderRadius:d.BorderRadius.full,borderWidth:2,borderColor:d.IconColor.iconDefault,className:(0,l.default)("onboarding-pin-extension__arrow",{"onboarding-pin-extension__arrow--disabled":!n}),disabled:!n,title:a,onClick:t,ariaLabel:e("prev")}),renderArrowNext:(t,n,a)=>o.default.createElement(m.ButtonIcon,{iconName:m.IconName.Arrow2Right,size:m.ButtonIconSize.Lg,borderRadius:d.BorderRadius.full,borderWidth:2,borderColor:d.IconColor.iconDefault,className:(0,l.default)("onboarding-pin-extension__arrow","onboarding-pin-extension__arrow--next",{"onboarding-pin-extension__arrow--disabled":!n}),disabled:!n,title:a,onClick:t,ariaLabel:e("next"),"data-testid":"pin-extension-next"}),onChange:e=>a(e)},o.default.createElement(m.Box,{display:d.Display.Flex,alignItems:d.AlignItems.flexStart,justifyContent:d.JustifyContent.center,className:"onboarding-pin-extension__image-container"},o.default.createElement("img",{src:"/images/onboarding-extension-pin.svg",alt:e("onboardingPinExtensionAltPin")})),o.default.createElement(m.Box,{display:d.Display.Flex,alignItems:d.AlignItems.flexStart,justifyContent:d.JustifyContent.center,className:"onboarding-pin-extension__image-container"},o.default.createElement("img",{src:"/images/onboarding-extension-launch.svg",alt:e("onboardingPinExtensionAltLaunch")}))),o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.flexStart,width:d.BlockSize.Full,marginTop:4,gap:4},o.default.createElement(m.Text,{variant:d.TextVariant.headingLg,fontWeight:d.FontWeight.Medium,as:"h2"},e("onboardingPinExtensionTitle")),0===n?o.default.createElement(m.Box,null,o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription"))):o.default.createElement(m.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,gap:4},o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription2")),o.default.createElement(m.Text,{variant:d.TextVariant.bodyMd},e("onboardingPinExtensionDescription3",[(0,b.getBrowserName)()]))))),o.default.createElement(m.Box,null,o.default.createElement(m.Button,{variant:m.ButtonVariant.Primary,size:m.ButtonSize.Lg,block:!0,"data-testid":"pin-extension-done",onClick:async()=>{await _((0,c.toggleExternalServices)(T)),await _((0,c.setCompletedOnboarding)()),E({category:h.MetaMetricsEventCategory.Onboarding,event:h.MetaMetricsEventName.ExtensionPinned,properties:{wallet_setup_type:v===y.FirstTimeFlowType.import?"import":"new",new_wallet:v===y.FirstTimeFlowType.create}}),t.push(p.DEFAULT_ROUTE)}},e("done"))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("react-redux"),s=e("react-responsive-carousel"),l=(a=e("classnames"))&&a.__esModule?a:{default:a},c=e("../../../store/actions"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/constants/routes"),m=e("../../../components/component-library"),f=e("../../../contexts/metametrics"),g=e("../../../selectors"),h=e("../../../../shared/constants/metametrics"),y=e("../../../../shared/constants/onboarding"),b=e("../../../../shared/modules/browser-runtime.utils");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/pin-extension/pin-extension.js"}],[6776,{"../../../../app/scripts/lib/util":225,"../../../../shared/constants/metametrics":4986,"../../../../shared/constants/network":4989,"../../../../shared/lib/ui-utils":5073,"../../../../shared/modules/selectors/networks":5096,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":5265,"../../../components/component-library":5645,"../../../components/ui/button":5990,"../../../contexts/metametrics":6119,"../../../ducks/app/app":6128,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../helpers/constants/zendesk-url":6168,"../../../hooks/identity/useBackupAndSync":6244,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,"../../../selectors/identity/backup-and-sync":6958,"../../../store/actions":6981,"./setting":6777,"@metamask/profile-sync-controller/user-storage":1872,"@metamask/snaps-sdk":2128,classnames:3349,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,_.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,r.useHistory)(),[O,I]=(0,a.useState)(!1),[M,R]=(0,a.useState)(null),[A,B]=(0,a.useState)(!0),P=(0,o.useSelector)(e=>e.metamask),{use4ByteResolution:D,useTokenDetection:F,useCurrencyRateCheck:L,useMultiAccountBalanceChecker:j,ipfsGateway:W,useAddressBarEnsResolution:U,useTransactionSimulations:z}=P,$=(0,o.useSelector)(E.getUseExternalNameSources),[V,q]=(0,a.useState)(D),[G,J]=(0,a.useState)(F),[K,H]=(0,a.useState)(L),[Y,X]=(0,a.useState)(j),[Q,Z]=(0,a.useState)(z),[ee,te]=(0,a.useState)(W),[ne,ae]=(0,a.useState)(null),[oe,re]=(0,a.useState)(U),[ie,se]=(0,a.useState)($),le=(0,a.useContext)(h.MetaMetricsContext),ce=(0,o.useSelector)(v.getNetworkConfigurationsByChainId),ue=(0,o.useSelector)(E.getExternalServicesOnboardingToggleState),de=(0,o.useSelector)(C.selectIsBackupAndSyncEnabled),{setIsBackupAndSyncFeatureEnabled:pe,error:me}=(0,u.useBackupAndSync)();(0,a.useEffect)(()=>{pe(l.BACKUPANDSYNC_FEATURES.main,!!ue)},[ue,pe]);const fe=e=>{R(e),I(!0),setTimeout(()=>{B(!1)},N)},ge=[{id:1,title:e("general"),subtitle:e("generalDescription")},{id:2,title:e("assets"),subtitle:e("assetsDescription")},{id:3,title:e("security"),subtitle:e("securityDescription")}];return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"privacy-settings","data-testid":"privacy-settings"},a.default.createElement("div",{className:(0,i.default)("container",{"show-detail":O,"show-list":!O})},a.default.createElement("div",{className:"list-view"},a.default.createElement(g.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:6,display:y.Display.Flex,flexDirection:y.FlexDirection.Column,justifyContent:y.JustifyContent.flexStart},a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.center,flexDirection:y.FlexDirection.Row,justifyContent:y.JustifyContent.flexStart},a.default.createElement(f.default,{type:"inline",icon:a.default.createElement(g.Icon,{name:g.IconName.ArrowLeft,size:g.IconSize.Lg,color:y.IconColor.iconDefault}),"data-testid":"privacy-settings-back-button",onClick:()=>{if(t((0,k.setUse4ByteResolution)(V)),t((0,k.setUseTokenDetection)(G)),t((0,k.setUseMultiAccountBalanceChecker)(Y)),t((0,k.setUseCurrencyRateCheck)(K)),t((0,k.setUseAddressBarEnsResolution)(oe)),(0,k.setUseTransactionSimulations)(Q),(0,k.setUseExternalNameSources)(ie),ue||pe(l.BACKUPANDSYNC_FEATURES.main,!1),ee&&!ne){const{host:e}=new URL((0,c.addUrlProtocolPrefix)(ee));t((0,k.setIpfsGateway)(e))}le({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{settings_group:"onboarding_advanced_configuration",is_profile_syncing_enabled:de,is_basic_functionality_enabled:ue,turnon_token_detection:G}}),n.push(b.ONBOARDING_COMPLETION_ROUTE)}}),a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.center,justifyContent:y.JustifyContent.center,width:y.BlockSize.Full},a.default.createElement(g.Text,{variant:y.TextVariant.headingLg,as:"h2"},e("defaultSettingsTitle")))),a.default.createElement(g.Text,{variant:y.TextVariant.bodyLgMedium,marginTop:5},e("defaultSettingsSubTitle")),a.default.createElement("a",{href:"https://support.metamask.io/privacy-and-security/privacy-best-practices",target:"_blank",rel:"noreferrer",key:"learnMoreAboutPrivacy",style:{fontSize:"var(--font-size-5)"}},e("learnMoreAboutPrivacy"))),a.default.createElement(g.Box,null,a.default.createElement(g.Box,{as:"ul",marginTop:4,marginBottom:4,style:{listStyleType:"none"},className:"privacy-settings__categories-list"},ge.map(e=>a.default.createElement(g.Box,{marginTop:5,marginBottom:5,key:e.id,className:"categories-item",onClick:()=>fe(e)},a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.flexStart,justifyContent:y.JustifyContent.spaceBetween,"data-testid":`category-item-${e.title}`},a.default.createElement(g.Text,{variant:y.TextVariant.bodyLgMedium},e.title),a.default.createElement(f.default,{type:"inline",icon:a.default.createElement(g.Icon,{name:g.IconName.ArrowRight,color:y.IconColor.iconDefault}),onClick:()=>fe(e)})),a.default.createElement(g.Text,{className:"description",variant:y.TextVariant.bodyMd,color:y.TextColor.textAlternative},e.subtitle)))))),a.default.createElement("div",{className:(0,i.default)("detail-view",{hidden:!O&&A})},a.default.createElement(g.Box,{className:"privacy-settings__header",marginTop:6,marginBottom:5,display:y.Display.Flex,flexDirection:y.FlexDirection.Row,justifyContent:y.JustifyContent.flexStart},a.default.createElement(f.default,{"data-testid":"category-back-button",type:"inline",icon:a.default.createElement(g.Icon,{name:g.IconName.ArrowLeft,size:g.IconSize.Lg,color:y.IconColor.iconDefault}),onClick:()=>{I(!1),setTimeout(()=>{B(!0)},N)}}),a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.center,justifyContent:y.JustifyContent.center,width:y.BlockSize.Full},a.default.createElement(g.Text,{variant:y.TextVariant.headingLg,as:"h2"},null==M?void 0:M.title))),a.default.createElement("div",{className:"privacy-settings__settings","data-testid":"privacy-settings-settings"},1===(null==M?void 0:M.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(S.Setting,{dataTestId:"basic-functionality-toggle",value:ue,setValue:e=>{e?(t((0,T.onboardingToggleBasicFunctionalityOn)()),le({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",settings_type:"basic_functionality",old_value:!1,new_value:!0,was_profile_syncing_on:!1}})):t((0,T.openBasicFunctionalityModal)())},title:e("basicConfigurationLabel"),description:e("basicConfigurationDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy",key:"link",target:"_blank",rel:"noreferrer noopener"},e("privacyMsg"))])}),a.default.createElement(w.BackupAndSyncToggle,null),me&&a.default.createElement(g.Box,{paddingBottom:4},a.default.createElement(g.Text,{as:"p",color:y.TextColor.errorDefault,variant:y.TextVariant.bodySm},e("notificationsSettingsBoxError"))),a.default.createElement(S.Setting,{title:e("onboardingAdvancedPrivacyNetworkTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyNetworkDescription",[a.default.createElement("a",{href:"https://consensys.io/privacy-policy/",key:"link",target:"_blank",rel:"noopener noreferrer"},e("privacyMsg")),a.default.createElement("a",{href:m.default.ADD_SOLANA_ACCOUNTS,key:"link",target:"_blank",rel:"noopener noreferrer"},e("onboardingAdvancedPrivacyNetworkDescriptionCallToAction"))]),a.default.createElement(g.Box,{paddingTop:4},a.default.createElement(g.Box,{display:y.Display.Flex,flexDirection:y.FlexDirection.Column,gap:5},Object.values(ce).filter(({chainId:e})=>!x.TEST_CHAINS.includes(e)).map(e=>{var n,o;return a.default.createElement(g.Box,{key:e.chainId,className:"privacy-settings__customizable-network",onClick:()=>{t((0,k.setEditedNetwork)({chainId:e.chainId})),t((0,k.toggleNetworkMenu)())},display:y.Display.Flex,alignItems:y.AlignItems.center,justifyContent:y.JustifyContent.spaceBetween},a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.center},a.default.createElement(g.AvatarNetwork,{src:x.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId]}),a.default.createElement(g.Box,{textAlign:y.TextAlign.Left,marginLeft:3},a.default.createElement(g.Text,{variant:y.TextVariant.bodySmMedium},e.name),a.default.createElement(g.Text,{variant:y.TextVariant.bodyXs,color:y.TextColor.textAlternative},null===(n=new URL(null==e||null===(o=e.rpcEndpoints[null==e?void 0:e.defaultRpcEndpointIndex])||void 0===o?void 0:o.url))||void 0===n?void 0:n.origin))),a.default.createElement(g.ButtonIcon,{iconName:g.IconName.ArrowRight,size:g.IconSize.Md}))}),a.default.createElement(g.ButtonLink,{onClick:()=>{t((0,k.toggleNetworkMenu)({isAddingNewNetwork:!0}))},justifyContent:y.JustifyContent.Left,variant:s.ButtonVariant.link},a.default.createElement(g.Box,{display:y.Display.Flex,alignItems:y.AlignItems.center},a.default.createElement(g.Icon,{name:g.IconName.Add,marginRight:3}),a.default.createElement(g.Text,{color:y.TextColor.primaryDefault},e("addANetwork")))))))})):null,2===(null==M?void 0:M.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(S.Setting,{value:G,setValue:J,title:e("turnOnTokenDetection"),description:e("useTokenDetectionPrivacyDesc")}),a.default.createElement(S.Setting,{value:Q,setValue:Z,title:e("simulationsSettingSubHeader"),description:e("simulationsSettingDescription",[a.default.createElement("a",{key:"learn_more_link",href:p.TRANSACTION_SIMULATIONS_LEARN_MORE_LINK,rel:"noreferrer",target:"_blank"},e("learnMoreUpperCase"))])}),a.default.createElement(S.Setting,{title:e("onboardingAdvancedPrivacyIPFSTitle"),showToggle:!1,description:a.default.createElement(a.default.Fragment,null,e("onboardingAdvancedPrivacyIPFSDescription"),a.default.createElement(g.Box,{paddingTop:2},a.default.createElement(g.TextField,{value:ee,style:{width:"100%"},inputProps:{"data-testid":"ipfs-input"},onChange:t=>{(t=>{te(t);try{const{host:e}=new URL((0,c.addUrlProtocolPrefix)(t));if(!e||"gateway.ipfs.io"===e)throw new Error;ae(null)}catch(t){ae(e("onboardingAdvancedPrivacyIPFSInvalid"))}})(t.target.value)}}),ee?a.default.createElement(g.Text,{variant:y.TextVariant.bodySm,color:ne?y.TextColor.errorDefault:y.TextColor.successDefault},ne||e("onboardingAdvancedPrivacyIPFSValid")):null))}),a.default.createElement(S.Setting,{value:K,setValue:H,title:e("currencyRateCheckToggle"),dataTestId:"currency-rate-check-toggle",description:e("currencyRateCheckToggleDescription",[a.default.createElement("a",{key:"coingecko_link",href:p.COINGECKO_LINK,rel:"noreferrer",target:"_blank"},e("coingecko")),a.default.createElement("a",{key:"cryptocompare_link",href:p.CRYPTOCOMPARE_LINK,rel:"noreferrer",target:"_blank"},e("cryptoCompare")),a.default.createElement("a",{key:"privacy_policy_link",href:p.PRIVACY_POLICY_LINK,rel:"noreferrer",target:"_blank"},e("privacyMsg"))])}),a.default.createElement(S.Setting,{value:oe,setValue:re,title:e("ensDomainsSettingTitle"),description:a.default.createElement(a.default.Fragment,null,a.default.createElement(g.Text,{variant:y.TextVariant.inherit},e("ensDomainsSettingDescriptionIntroduction")),a.default.createElement(g.Box,{as:"ul",marginTop:4,marginBottom:4,paddingInlineStart:4,style:{listStyleType:"circle"}},a.default.createElement(g.Text,{variant:y.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart1")),a.default.createElement(g.Text,{variant:y.TextVariant.inherit,as:"li"},e("ensDomainsSettingDescriptionPart2"))),a.default.createElement(g.Text,{variant:y.TextVariant.inherit},e("ensDomainsSettingDescriptionOutroduction")))}),a.default.createElement(S.Setting,{value:Y,setValue:X,title:e("useMultiAccountBalanceChecker"),description:e("useMultiAccountBalanceCheckerSettingDescription")})):null,3===(null==M?void 0:M.id)?a.default.createElement(a.default.Fragment,null,a.default.createElement(S.Setting,{value:V,setValue:q,title:e("use4ByteResolution"),description:e("toggleDecodeDescription")}),a.default.createElement(S.Setting,{value:ie,setValue:se,title:e("externalNameSourcesSetting"),description:e("externalNameSourcesSettingDescription")})):null)))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=O(e("classnames")),s=e("@metamask/snaps-sdk"),l=e("@metamask/profile-sync-controller/user-storage"),c=e("../../../../app/scripts/lib/util"),u=e("../../../hooks/identity/useBackupAndSync"),d=e("../../../../shared/constants/metametrics"),p=e("../../../../shared/lib/ui-utils"),m=O(e("../../../helpers/constants/zendesk-url")),f=O(e("../../../components/ui/button")),g=e("../../../components/component-library"),h=e("../../../contexts/metametrics"),y=e("../../../helpers/constants/design-system"),b=e("../../../helpers/constants/routes"),_=e("../../../hooks/useI18nContext"),E=e("../../../selectors"),v=e("../../../../shared/modules/selectors/networks"),k=e("../../../store/actions"),T=e("../../../ducks/app/app"),x=e("../../../../shared/constants/network"),C=e("../../../selectors/identity/backup-and-sync"),w=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle"),S=e("./setting");function O(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}const N=500}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/privacy-settings.js"}],[6777,{"../../../components/component-library":5645,"../../../components/ui/toggle-button":6096,"../../../helpers/constants/design-system":6156,"../../../hooks/useI18nContext":6282,"prop-types":4255,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Setting=void 0;var a=c(e("react")),o=c(e("prop-types")),r=e("../../../components/component-library"),i=c(e("../../../components/ui/toggle-button")),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}const u=({value:e,setValue:t,title:n,description:o,showToggle:c=!0,dataTestId:u,disabled:d=!1})=>{const p=(0,l.useI18nContext)();return a.default.createElement(r.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.flexStart,marginTop:3,marginBottom:3,className:"privacy-settings__setting__wrapper","data-testid":u},a.default.createElement("div",{className:"privacy-settings__setting"},a.default.createElement(r.Text,{variant:s.TextVariant.bodyMdMedium},n),a.default.createElement(r.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative,as:"div"},o)),c?a.default.createElement("div",{className:"privacy-settings__setting__toggle"},a.default.createElement(i.default,{value:e,onToggle:e=>t(!e),offLabel:p("off"),onLabel:p("on"),disabled:d})):null)};n.Setting=u,u.propTypes={value:o.default.bool,setValue:o.default.func,title:o.default.string,description:o.default.oneOfType([o.default.object,o.default.string]),showToggle:o.default.bool,dataTestId:o.default.string,disabled:o.default.bool}}}},{package:"$root$",file:"ui/pages/onboarding-flow/privacy-settings/setting.js"}],[6778,{"../../../../shared/constants/app":4973,"../../../../shared/constants/metametrics":4986,"../../../../shared/lib/trace":5067,"../../../../shared/modules/browser-runtime.utils":5076,"../../../components/component-library":5645,"../../../contexts/metametrics":6119,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../hooks/useI18nContext":6282,"../../../selectors/selectors":6973,"../../../store/actions":6981,"./confirm-srp-modal":6779,"./recovery-phrase-chips":6780,"prop-types":4255,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=E(e("prop-types")),s=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../selectors/selectors"),f=e("../../../helpers/constants/routes"),g=e("../../../../shared/constants/app"),h=e("../../../../shared/lib/trace"),y=e("../../../../shared/modules/browser-runtime.utils"),b=E(e("./confirm-srp-modal")),_=E(e("./recovery-phrase-chips"));function E(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const k=e=>{const t=new Set,n=e.length;if(0===n)return[];for(;t.size<3;){const e=Math.floor(Math.random()*n);t.add(e)}return Array.from(t).map(t=>({index:t,word:e[t]}))};function T({secretRecoveryPhrase:e=""}){const t=(0,o.useHistory)(),n=(0,c.useI18nContext)(),i=(0,r.useDispatch)(),E=(0,a.useContext)(d.MetaMetricsContext),{bufferedEndTrace:v}=E,{search:T}=(0,o.useLocation)(),x=(0,r.useSelector)(m.getHDEntropyIndex),C=(0,a.useMemo)(()=>e?e.split(" "):[],[e]),w=new URLSearchParams(T),S=w.get("isFromReminder"),O=w.get("isFromSettingsSecurity"),I=new URLSearchParams;S&&I.set("isFromReminder",S),O&&I.set("isFromSettingsSecurity",O);const N=I.toString(),[M,R]=(0,a.useState)(!1),[A,B]=(0,a.useState)(!1),[P,D]=(0,a.useState)(k(C)),[F,L]=(0,a.useState)("");(0,a.useEffect)(()=>{e||t.replace(`${f.ONBOARDING_REVEAL_SRP_ROUTE}/${N?`?${N}`:""}`)},[t,e,N]);const j=(0,a.useCallback)(()=>{const e=k(C);D(e)},[C]),W=(0,a.useCallback)(e=>{if(e.some(e=>!e.word))L("");else{const t=[...C];e.forEach(e=>{t[e.index]=e.word}),L(t.join(" "))}},[C]),U=(0,a.useCallback)(()=>{B(F===e),R(!0)},[F,e]),z=(0,a.useCallback)(()=>{i((0,u.setSeedPhraseBackedUp)(!0)),E({category:p.MetaMetricsEventCategory.Onboarding,event:p.MetaMetricsEventName.OnboardingWalletSecurityPhraseConfirmed,properties:{hd_entropy_index:x}}),null==v||v({name:h.TraceName.OnboardingNewSrpCreateWallet}),null==v||v({name:h.TraceName.OnboardingJourneyOverall});const e=(0,y.getBrowserName)()===g.PLATFORM_FIREFOX||S?f.ONBOARDING_COMPLETION_ROUTE:f.ONBOARDING_METAMETRICS;t.replace(`${e}${N?`?${N}`:""}`)},[i,x,t,E,S,N,v]);return a.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,height:l.BlockSize.Full,gap:6,className:"recovery-phrase recovery-phrase__confirm","data-testid":"confirm-recovery-phrase"},a.default.createElement(s.Box,null,M&&a.default.createElement(b.default,{isError:!A,onContinue:z,onClose:()=>{j(),R(!1)}}),a.default.createElement(s.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},a.default.createElement(s.ButtonIcon,{iconName:s.IconName.ArrowLeft,color:l.IconColor.iconDefault,size:s.ButtonIconSize.Md,"data-testid":"confirm-recovery-phrase-back-button",onClick:()=>t.goBack(),ariaLabel:n("back")})),a.default.createElement(s.Box,{justifyContent:l.JustifyContent.flexStart,marginBottom:4,width:l.BlockSize.Full},!S&&a.default.createElement(s.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},n("stepOf",[3,3])),a.default.createElement(s.Text,{variant:l.TextVariant.headingLg,as:"h2"},n("confirmRecoveryPhraseTitle"))),a.default.createElement(s.Box,{marginBottom:6},a.default.createElement(s.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},n("confirmRecoveryPhraseDetails"))),C.length>0&&a.default.createElement(_.default,{secretRecoveryPhrase:C,quizWords:P,confirmPhase:!0,setInputValue:W})),a.default.createElement(s.Box,{width:l.BlockSize.Full},a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,width:l.BlockSize.Full,"data-testid":"recovery-phrase-confirm",size:s.ButtonSize.Lg,className:"recovery-phrase__footer__confirm--button",onClick:()=>U(),disabled:""===F.trim()},n("continue"))))}T.propTypes={secretRecoveryPhrase:i.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-recovery-phrase.js"}],[6779,{"../../../components/component-library":5645,"../../../helpers/constants/design-system":6156,"../../../hooks/useI18nContext":6282,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onContinue:e,onClose:t,isError:n}){const a=(0,i.useI18nContext)();return o.default.createElement(s.Modal,{isOpen:!0,onClose:()=>null,className:"confirm-srp-modal","data-testid":"confirm-srp-modal"},o.default.createElement(s.ModalOverlay,null),o.default.createElement(s.ModalContent,{alignItems:r.AlignItems.center},o.default.createElement(s.ModalHeader,null,o.default.createElement(s.Box,{textAlign:r.TextAlign.Center},o.default.createElement(s.Icon,{name:n?s.IconName.CircleX:s.IconName.Confirmation,size:s.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:n?r.IconColor.errorDefault:r.IconColor.successDefault}),o.default.createElement(s.Text,{variant:r.TextVariant.headingMd,textAlign:r.TextAlign.Center,marginTop:2,as:"h2"},a(n?"confirmSrpErrorTitle":"confirmSrpSuccessTitle")))),o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(s.Text,{variant:r.TextVariant.bodyMd},a(n?"confirmSrpErrorDescription":"confirmSrpSuccessDescription")),o.default.createElement(s.Box,{marginTop:6},o.default.createElement(s.Button,{"data-testid":"confirm-srp-modal-button",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,onClick:()=>{n?t():e()},block:!0},a(n?"tryAgain":"gotIt"))))))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../helpers/constants/design-system"),i=e("../../../hooks/useI18nContext"),s=e("../../../components/component-library")}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/confirm-srp-modal.tsx"}],[6780,{"../../../components/component-library":5645,"../../../helpers/constants/design-system":6156,"../../../hooks/useI18nContext":6282,classnames:3349,"prop-types":4255,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=c(e("classnames")),r=c(e("prop-types")),i=e("../../../components/component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({secretRecoveryPhrase:e,phraseRevealed:t=!0,revealPhrase:n,confirmPhase:r,quizWords:c=[],setInputValue:u}){const d=(0,s.useI18nContext)(),p=e,m=(0,a.useMemo)(()=>c.map(e=>e.index),[c]),[f,g]=(0,a.useState)(m.map(e=>({index:e,word:"",actualIndexInSrp:-1}))),h=e=>{const t=e.reduce((e,t)=>(""===t.word&&e.push(t.index),e),[]);return t.length?Math.min(...t):-1},[y,b]=(0,a.useState)(h(f)),_=(0,a.useCallback)((e,t)=>{const n=[...f],a=n.findIndex(e=>e.index===y);n[a]={index:y,word:e,actualIndexInSrp:t},g(n),b(h(n))},[f,y]),E=(0,a.useCallback)(e=>{const t=[...f],n=t.findIndex(t=>t.word===e);t[n]={...t[n],word:"",actualIndexInSrp:-1},g(t),b(t[n].index)},[f]);return(0,a.useEffect)(()=>{null==u||u(f)},[f,u]),(0,a.useEffect)(()=>{if(c.length){const e=c.map(e=>({index:e.index,word:"",actualIndexInSrp:-1}));g(e),b(h(e))}},[c]),a.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},a.default.createElement(i.Box,{padding:4,borderRadius:l.BorderRadius.LG,display:l.Display.Grid,width:l.BlockSize.Full,backgroundColor:l.BackgroundColor.backgroundSection,className:"recovery-phrase__secret"},a.default.createElement(i.Box,{display:l.Display.Grid,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center,gap:2,"data-testid":"recovery-phrase-chips","data-recovery-phrase":e.join(":"),"data-quiz-words":JSON.stringify(c),className:(0,o.default)("recovery-phrase__chips",{"recovery-phrase__chips--hidden":!t})},p.map((e,t)=>{var n;const o=m.includes(t),s=o?(null===(n=f.find(e=>e.index===t))||void 0===n?void 0:n.word)||"":e,c=t===y;return o||!r?a.default.createElement(i.Box,{as:o?"button":"div","data-testid":`recovery-phrase-chip-${t}`,className:"recovery-phrase__text",display:l.Display.Flex,alignItems:l.AlignItems.center,backgroundColor:l.BackgroundColor.backgroundDefault,borderColor:c?l.BorderColor.primaryDefault:l.BorderColor.borderMuted,borderWidth:c?2:1,borderRadius:l.BorderRadius.LG,paddingInline:2,paddingTop:1,paddingBottom:1,gap:1,onClick:()=>{o&&(""===s?b(t):E(s))}},a.default.createElement(i.Text,{color:l.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),a.default.createElement(i.Text,null,o?s:e)):a.default.createElement(i.TextField,{testId:`recovery-phrase-chip-${t}`,key:t,value:s,startAccessory:a.default.createElement(i.Text,{color:l.TextColor.textAlternative,className:"recovery-phrase__word-index"},t+1,"."),type:"password",disabled:!0,readOnly:!0})})),!t&&a.default.createElement(i.Box,{width:l.BlockSize.Full,height:l.BlockSize.Full,className:"recovery-phrase__secret-blocker-container"},a.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,borderRadius:l.BorderRadius.SM,width:l.BlockSize.Full,height:l.BlockSize.Full,paddingTop:2,paddingBottom:9,paddingInline:0,className:"recovery-phrase__secret-blocker"}),a.default.createElement(i.Box,{as:"button",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,backgroundColor:l.BackgroundColor.transparent,height:l.BlockSize.Full,width:l.BlockSize.Full,gap:2,className:"recovery-phrase__secret-blocker-text",onClick:()=>{null==n||n()},"data-testid":"recovery-phrase-reveal"},a.default.createElement(i.Icon,{name:i.IconName.EyeSlash,color:l.IconColor.iconDefault,size:i.IconSize.Md}),a.default.createElement(i.Text,{variant:l.TextVariant.bodyMd,color:l.TextColor.textDefault,fontWeight:l.FontWeight.Medium},d("tapToReveal")),a.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textDefault},d("tapToRevealNote"))))),3===c.length&&a.default.createElement(i.Box,{display:l.Display.Flex,gap:2,width:l.BlockSize.Full},c.map(t=>{const n=t.index;return f.some(e=>e.actualIndexInSrp===n)?a.default.createElement(i.ButtonBase,{"data-testid":`recovery-phrase-quiz-answered-${n}`,key:t.index,color:l.TextColor.textAlternative,borderRadius:l.BorderRadius.LG,block:!0,onClick:()=>{E(t.word)}},e[n]):a.default.createElement(i.Button,{"data-testid":`recovery-phrase-quiz-unanswered-${n}`,key:t.index,variant:i.ButtonVariant.Secondary,borderRadius:l.BorderRadius.LG,block:!0,onClick:()=>{_(t.word,n)}},e[n])})))}d.propTypes={secretRecoveryPhrase:r.default.array,phraseRevealed:r.default.bool,revealPhrase:r.default.func,confirmPhase:r.default.bool,quizWords:r.default.array,setInputValue:r.default.func}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/recovery-phrase-chips.js"}],[6781,{"../../../components/component-library":5645,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../hooks/useI18nContext":6282,"../../../store/actions":6981,react:4437,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({setSecretRecoveryPhrase:e}){const t=(0,o.useHistory)(),n=(0,r.useI18nContext)(),{search:u}=(0,o.useLocation)(),d=new URLSearchParams(u),p=d.get("isFromReminder"),m=d.get("isFromSettingsSecurity"),f=new URLSearchParams;p&&f.set("isFromReminder",p);m&&f.set("isFromSettingsSecurity",m);const g=f.toString(),[h,y]=(0,a.useState)(""),[b,_]=(0,a.useState)(!1),E=(0,a.useCallback)(async n=>{try{const a=await(0,l.getSeedPhrase)(n);e(a),t.replace(`${c.ONBOARDING_REVIEW_SRP_ROUTE}/${g?`?${g}`:""}`)}catch(e){_(!0)}},[e,t,g]),v=(0,a.useCallback)(()=>{m?t.replace(c.REVEAL_SRP_LIST_ROUTE):t.replace(c.DEFAULT_ROUTE)},[t,m]);return a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,alignItems:s.AlignItems.center,height:s.BlockSize.Full,gap:6,className:"reveal-recovery-phrase","data-testid":"reveal-recovery-phrase"},a.default.createElement(i.Box,{width:s.BlockSize.Full},a.default.createElement(i.Box,{className:"recovery-phrase__header",display:s.Display.Grid,alignItems:s.AlignItems.center,gap:3,marginBottom:4,width:s.BlockSize.Full},a.default.createElement(i.ButtonIcon,{iconName:i.IconName.ArrowLeft,color:s.IconColor.iconDefault,size:i.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-back-button",onClick:v,ariaLabel:n("back")}),a.default.createElement(i.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center},n("revealSecretRecoveryPhrase")),a.default.createElement(i.ButtonIcon,{iconName:i.IconName.Close,color:s.IconColor.iconDefault,size:i.ButtonIconSize.Md,"data-testid":"reveal-recovery-phrase-close-button",onClick:v,ariaLabel:n("close")})),a.default.createElement(i.Box,{width:s.BlockSize.Full,as:"form",onSubmit:e=>{e.preventDefault(),E(h)}},a.default.createElement(i.FormTextField,{size:i.FormTextFieldSize.Lg,id:"account-details-authenticate",label:n("enterYourPasswordContinue"),onChange:e=>{y(e.target.value),_(!1)},value:h,error:b,helpText:b?n("unlockPageIncorrectPassword"):null,type:i.TextFieldType.Password,labelProps:{fontWeight:s.FontWeight.Medium},autoFocus:!0}))),a.default.createElement(i.Box,{width:s.BlockSize.Full},a.default.createElement(i.Button,{width:s.BlockSize.Full,variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,"data-testid":"reveal-recovery-phrase-continue",className:"reveal-recovery-phrase__footer--button",onClick:()=>E(h)},n("continue"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("../../../hooks/useI18nContext"),i=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../store/actions"),c=e("../../../helpers/constants/routes");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/reveal-recovery-phrase.tsx"}],[6782,{"../../../../shared/constants/metametrics":4986,"../../../components/app/srp-details-modal":5517,"../../../components/component-library":5645,"../../../contexts/metametrics":6119,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../hooks/useI18nContext":6282,"../../../selectors/selectors":6973,"./recovery-phrase-chips":6780,"prop-types":4255,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=h(e("prop-types")),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/metametrics"),p=e("../../../contexts/metametrics"),m=e("../../../selectors/selectors"),f=h(e("../../../components/app/srp-details-modal")),g=h(e("./recovery-phrase-chips"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b({secretRecoveryPhrase:e}){const t=(0,o.useHistory)(),n=(0,s.useI18nContext)(),{search:i}=(0,o.useLocation)(),h=(0,r.useSelector)(m.getHDEntropyIndex),[y,b]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1),v=new URLSearchParams(i),k=v.get("isFromReminder"),T=v.get("isFromSettingsSecurity"),x=new URLSearchParams;k&&x.set("isFromReminder",k),T&&x.set("isFromSettingsSecurity",T);const C=x.toString();(0,a.useEffect)(()=>{e||t.replace(`${l.ONBOARDING_REVEAL_SRP_ROUTE}/${C?`?${C}`:""}`)},[t,e,C]);const w=(0,a.useContext)(p.MetaMetricsContext),S=(0,a.useCallback)(()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletSecurityPhraseWrittenDown,properties:{hd_entropy_index:h}}),t.push(`${l.ONBOARDING_CONFIRM_SRP_ROUTE}${C?`?${C}`:""}`)},[h,t,w,C]),O=(0,a.useCallback)(()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"review_recovery_phrase"}}),E(!0)},[w]);return a.default.createElement(c.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.Center,height:u.BlockSize.Full,gap:6,className:"recovery-phrase","data-testid":"recovery-phrase"},a.default.createElement(c.Box,null,_&&a.default.createElement(f.default,{onClose:()=>E(!1)}),a.default.createElement(c.Box,{justifyContent:u.JustifyContent.flexStart,marginBottom:4,width:u.BlockSize.Full},a.default.createElement(c.ButtonIcon,{iconName:c.IconName.ArrowLeft,color:u.IconColor.iconDefault,size:c.ButtonIconSize.Md,"data-testid":"review-srp-back-button",onClick:()=>t.goBack(),ariaLabel:n("back")})),a.default.createElement(c.Box,{justifyContent:u.JustifyContent.flexStart,marginBottom:4,width:u.BlockSize.Full},!k&&a.default.createElement(c.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textAlternative},n("stepOf",[2,3])),a.default.createElement(c.Text,{variant:u.TextVariant.headingLg,as:"h2"},n("seedPhraseReviewTitle"))),a.default.createElement(c.Box,{marginBottom:6},a.default.createElement(c.Text,{variant:u.TextVariant.bodyMd,color:u.TextColor.textAlternative,marginBottom:6},n("seedPhraseReviewDetails",[a.default.createElement(c.ButtonLink,{key:"seedPhraseReviewDetails",size:c.ButtonLinkSize.Inherit,onClick:O},n("secretRecoveryPhrase")),a.default.createElement(c.Text,{key:"seedPhraseReviewDetails2",fontWeight:u.FontWeight.Medium,color:u.TextColor.textAlternative},n("seedPhraseReviewDetails2"))]))),a.default.createElement(g.default,{secretRecoveryPhrase:e.split(" "),phraseRevealed:y,revealPhrase:()=>{w({category:d.MetaMetricsEventCategory.Onboarding,event:d.MetaMetricsEventName.OnboardingWalletSecurityPhraseRevealed,properties:{hd_entropy_index:h}}),b(!0)}})),a.default.createElement(c.Box,{width:u.BlockSize.Full},a.default.createElement(c.Button,{width:u.BlockSize.Full,variant:c.ButtonVariant.Primary,size:c.ButtonSize.Lg,"data-testid":"recovery-phrase-continue",className:"recovery-phrase__footer--button",disabled:!y,onClick:S},n("continue"))))}b.propTypes={secretRecoveryPhrase:i.default.string}}}},{package:"$root$",file:"ui/pages/onboarding-flow/recovery-phrase/review-recovery-phrase.js"}],[6783,{"../../../../shared/constants/metametrics":4986,"../../../components/app/srp-details-modal":5517,"../../../components/component-library":5645,"../../../contexts/metametrics":6119,"../../../ducks/metamask/metamask":6143,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,"./skip-srp-backup-popover":6784,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useHistory)(),t=(0,s.useI18nContext)(),{search:n}=(0,o.useLocation)(),h=(0,r.useSelector)(p.getHDEntropyIndex),[y,b]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1),v=new URLSearchParams(n).get("isFromReminder")?"/?isFromReminder=true":"",k=(0,r.useSelector)(p.getIsSocialLoginFlow),T=(0,r.useSelector)(f.getCompletedOnboarding),x=(0,a.useContext)(l.MetaMetricsContext),C=(0,a.useCallback)(()=>{x({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.SrpDefinitionClicked,properties:{location:"secure_your_wallet"}}),E(!0)},[x]),w=()=>{x({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecurityStarted,properties:{hd_entropy_index:h??0}}),e.push(`${c.ONBOARDING_REVIEW_SRP_ROUTE}/${v}`)};return(0,a.useEffect)(()=>{!T&&k&&e.replace(c.ONBOARDING_WELCOME_ROUTE)},[T,e,k]),a.default.createElement(d.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.flexStart,flexDirection:i.FlexDirection.Column,gap:4,height:i.BlockSize.Full,className:"secure-your-wallet","data-testid":"secure-your-wallet"},a.default.createElement(d.Box,null,y&&a.default.createElement(g.default,{onClose:()=>b(!1),secureYourWallet:w}),_&&a.default.createElement(m.default,{onClose:()=>E(!1)}),a.default.createElement(d.Box,{justifyContent:i.JustifyContent.flexStart,marginBottom:4,width:i.BlockSize.Full},a.default.createElement(d.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textAlternative},t("stepOf",[2,3])),a.default.createElement(d.Text,{variant:i.TextVariant.headingLg,as:"h2"},t("seedPhraseIntroTitle"))),a.default.createElement(d.Box,{className:"secure-your-wallet__srp-design-container",marginBottom:6,width:i.BlockSize.Full,textAlign:i.TextAlign.Center},a.default.createElement("img",{className:"secure-your-wallet__srp-design-image",src:"./images/srp-lock-design.png",alt:t("srpDesignImageAlt")})),a.default.createElement(d.Box,null,a.default.createElement(d.Text,{color:i.TextColor.textAlternative,marginBottom:6,as:"div"},t("secureWalletWalletSaveSrp",[[a.default.createElement(d.ButtonLink,{key:"secureWalletWalletSaveSrp",size:d.ButtonLinkSize.Inherit,onClick:C},t("secretRecoveryPhrase"))]])),a.default.createElement(d.Text,{color:i.TextColor.textAlternative},t("secureWalletWalletRecover")))),a.default.createElement(d.Box,{width:i.BlockSize.Full,display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4},a.default.createElement(d.Button,{"data-testid":"secure-wallet-recommended",size:d.ButtonSize.Lg,block:!0,onClick:w},t("secureWalletGetStartedButton")),a.default.createElement(d.Button,{"data-testid":"secure-wallet-later",variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,block:!0,onClick:()=>{x({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipInitiated,properties:{hd_entropy_index:h??0}}),b(!0)}},t("secureWalletRemindLaterButton"))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../contexts/metametrics"),c=e("../../../helpers/constants/routes"),u=e("../../../../shared/constants/metametrics"),d=e("../../../components/component-library"),p=e("../../../selectors"),m=h(e("../../../components/app/srp-details-modal")),f=e("../../../ducks/metamask/metamask"),g=h(e("./skip-srp-backup-popover"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/secure-your-wallet/secure-your-wallet.js"}],[6784,{"../../../../shared/constants/app":4973,"../../../../shared/constants/metametrics":4986,"../../../../shared/constants/onboarding":4992,"../../../../shared/lib/trace":5067,"../../../../shared/modules/browser-runtime.utils":5076,"../../../components/component-library":5645,"../../../contexts/metametrics":6119,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,"../../../selectors/selectors":6973,"../../../store/actions":6981,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,secureYourWallet:t}){const[n,_]=(0,r.useState)(!1),E=(0,i.useI18nContext)(),v=(0,o.useDispatch)(),k=(0,o.useSelector)(d.getHDEntropyIndex),T=(0,o.useSelector)(g.getFirstTimeFlowType),x=(0,r.useContext)(c.MetaMetricsContext),{bufferedEndTrace:C}=x,w=(0,a.useHistory)(),S=(0,r.useCallback)(async()=>{await v((0,p.setSeedPhraseBackedUp)(!1)),x({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipConfirmed,properties:{hd_entropy_index:k}}),null==C||C({name:b.TraceName.OnboardingNewSrpCreateWallet}),null==C||C({name:b.TraceName.OnboardingJourneyOverall}),(0,y.getBrowserName)()===f.PLATFORM_FIREFOX||T===h.FirstTimeFlowType.restore?w.push(m.ONBOARDING_COMPLETION_ROUTE):w.push(m.ONBOARDING_METAMETRICS)},[v,T,k,w,x,C]);return r.default.createElement(l.Modal,{isOpen:!0,onClose:e,className:"skip-srp-backup-modal","data-testid":"skip-srp-backup-modal"},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,{alignItems:s.AlignItems.center},r.default.createElement(l.ModalHeader,{onClose:e},r.default.createElement(l.Box,{textAlign:s.TextAlign.Center},r.default.createElement(l.Icon,{name:l.IconName.Danger,size:l.IconSize.Xl,className:"skip-srp-backup-popover__icon",color:s.IconColor.errorDefault}),r.default.createElement(l.Text,{variant:s.TextVariant.headingMd,textAlign:s.TextAlign.Center,marginTop:4,as:"h3"},E("skipAccountSecurity")))),r.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},r.default.createElement(l.Checkbox,{id:"skip-srp-backup__checkbox",className:"skip-srp-backup__checkbox","data-testid":"skip-srp-backup-checkbox",isChecked:n,alignItems:s.AlignItems.flexStart,onChange:()=>{_(!n)},label:E("skipAccountSecurityDetails")}),r.default.createElement(l.Box,{display:s.Display.Flex,marginTop:6,gap:4},r.default.createElement(l.Button,{variant:l.ButtonVariant.Secondary,size:l.ButtonSize.Lg,onClick:()=>{x({category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.OnboardingWalletSecuritySkipCanceled,properties:{hd_entropy_index:k}}),t()},block:!0},E("skipAccountSecuritySecureNow")),r.default.createElement(l.Button,{"data-testid":"skip-srp-backup-button",size:l.ButtonSize.Lg,disabled:!n,onClick:S,block:!0,danger:!0},E("skipAccountSecuritySkip"))))))};var a=e("react-router-dom"),o=e("react-redux"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),d=e("../../../selectors/selectors"),p=e("../../../store/actions"),m=e("../../../helpers/constants/routes"),f=e("../../../../shared/constants/app"),g=e("../../../selectors"),h=e("../../../../shared/constants/onboarding"),y=e("../../../../shared/modules/browser-runtime.utils"),b=e("../../../../shared/lib/trace");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/secure-your-wallet/skip-srp-backup-popover.tsx"}],[6785,{"../../../../shared/constants/metametrics":4986,"../../../components/component-library":5645,"../../../contexts/metametrics":6119,"../../../helpers/constants/common":6154,"../../../helpers/constants/design-system":6156,"../../../hooks/useI18nContext":6282,"./types":6787,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,loginError:t}){const n=(0,r.useI18nContext)(),d=(0,a.useContext)(c.MetaMetricsContext);return a.default.createElement(i.Modal,{isOpen:!0,onClose:e,"data-testid":"login-error-modal"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,{alignItems:o.AlignItems.center},a.default.createElement(i.ModalHeader,{onClose:e},a.default.createElement(i.Box,{textAlign:o.TextAlign.Center},a.default.createElement(i.Icon,{name:i.IconName.Danger,size:i.IconSize.Xl,color:o.IconColor.warningDefault}),a.default.createElement(i.Text,{variant:o.TextVariant.headingMd,textAlign:o.TextAlign.Center,marginTop:4},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectTitle"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredTitle"):n("loginErrorGenericTitle")))),a.default.createElement(i.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(i.Text,{variant:o.TextVariant.bodyMd},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectDescription"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredDescription"):n("loginErrorGenericDescription",[a.default.createElement(i.ButtonLink,{key:"loginErrorGenericDescription",size:i.ButtonLinkSize.Inherit,externalLink:!0,href:l.SUPPORT_LINK,onClick:()=>{d({category:s.MetaMetricsEventCategory.Onboarding,event:s.MetaMetricsEventName.SupportLinkClicked,properties:{url:l.SUPPORT_LINK,location:"Welcome page"}},{contextPropsIntoEventProperties:[s.MetaMetricsContextProp.PageTitle]})}},n("loginErrorGenericSupport"))])),a.default.createElement(i.Box,{marginTop:6},a.default.createElement(i.Button,{"data-testid":"login-error-modal-button",variant:i.ButtonVariant.Primary,size:i.ButtonSize.Lg,onClick:e,block:!0},t===u.LOGIN_ERROR.UNABLE_TO_CONNECT?n("loginErrorConnectButton"):t===u.LOGIN_ERROR.SESSION_EXPIRED?n("loginErrorSessionExpiredButton"):n("loginErrorGenericButton"))))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../helpers/constants/design-system"),r=e("../../../hooks/useI18nContext"),i=e("../../../components/component-library"),s=e("../../../../shared/constants/metametrics"),l=e("../../../helpers/constants/common"),c=e("../../../contexts/metametrics"),u=e("./types");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-error-modal.tsx"}],[6786,{"../../../components/component-library":5645,"../../../helpers/constants/design-system":6156,"../../../hooks/useI18nContext":6282,"./types":6787,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SocialButton=void 0,n.default=function({onClose:e,loginOption:t,handleLogin:n}){const a=(0,s.useI18nContext)();return o.default.createElement(r.Modal,{isOpen:!0,onClose:e,className:"options-modal",isClosedOnOutsideClick:!1},o.default.createElement(r.ModalOverlay,null),o.default.createElement(r.ModalContent,{size:r.ModalContentSize.Sm,alignItems:i.AlignItems.center},o.default.createElement(r.ModalHeader,{onClose:e},a("onboardingOptionTitle")),o.default.createElement(r.Box,{paddingInline:4},o.default.createElement(u,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-google-button":"onboarding-create-with-google-button",icon:o.default.createElement("img",{src:"images/icons/google.svg",className:"options-modal__social-icon",alt:a("onboardingOptionIcon",["Google"])}),label:t===l.LOGIN_OPTION.EXISTING?a("onboardingSignInWith",["Google"]):a("onboardingContinueWith",["Google"]),marginBottom:4,onClick:()=>n(l.LOGIN_TYPE.GOOGLE)}),o.default.createElement(u,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-apple-button":"onboarding-create-with-apple-button",icon:o.default.createElement(r.Icon,{name:r.IconName.Apple,color:i.IconColor.iconDefault,size:r.IconSize.Lg}),label:t===l.LOGIN_OPTION.EXISTING?a("onboardingSignInWith",["Apple"]):a("onboardingContinueWith",["Apple"]),marginBottom:2,onClick:()=>n(l.LOGIN_TYPE.APPLE)}),o.default.createElement(r.Box,{alignItems:i.AlignItems.center,marginBottom:4,className:"options-modal__or"},o.default.createElement(r.Text,{width:i.BlockSize.Min,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium,color:i.TextColor.textMuted,backgroundColor:i.BackgroundColor.backgroundDefault,paddingInline:2,marginInline:"auto",textTransform:i.TextTransform.Uppercase,as:"div",style:{position:"relative",zIndex:1}},a("or"))),o.default.createElement(r.Button,{"data-testid":t===l.LOGIN_OPTION.EXISTING?"onboarding-import-with-srp-button":"onboarding-create-with-srp-button",variant:r.ButtonVariant.Secondary,width:i.BlockSize.Full,size:r.ButtonSize.Lg,onClick:()=>n(l.LOGIN_TYPE.SRP)},t===l.LOGIN_OPTION.EXISTING?a("onboardingSrpImport"):a("onboardingSrpCreate")))))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("./types");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(null,arguments)}const u=n.SocialButton=o.default.forwardRef(({icon:e,label:t,...n},a)=>o.default.createElement(r.Text,c({ref:a,as:"button",className:"options-modal__plain-button",display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,width:i.BlockSize.Full,borderRadius:i.BorderRadius.XL,borderColor:i.BorderColor.borderMuted,backgroundColor:i.BackgroundColor.transparent,gap:2},n),e,o.default.createElement(r.Text,{variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Medium},t)))}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/login-options.tsx"}],[6787,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WelcomePageState=n.LOGIN_TYPE=n.LOGIN_OPTION=n.LOGIN_ERROR=void 0;n.LOGIN_TYPE={GOOGLE:"google",APPLE:"apple",SRP:"srp"},n.LOGIN_OPTION={NEW:"new",EXISTING:"existing"},n.WelcomePageState={Banner:"Banner",Login:"Login"},n.LOGIN_ERROR={UNABLE_TO_CONNECT:"unable_to_connect",GENERIC:"generic",SESSION_EXPIRED:"session_expired"}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/types.ts"}],[6788,{"../../../components/app/terms-of-use-popup":5533,"../../../components/component-library":5645,"../../../helpers/constants/design-system":6156,"../../../hooks/useI18nContext":6282,"../../../store/actions":6981,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onAccept:e}){const t=(0,c.useI18nContext)(),n=(0,r.useDispatch)(),[a,d]=(0,o.useState)(!1),p=(0,o.useCallback)(()=>{d(!1),n((0,u.setTermsOfUseLastAgreed)((new Date).getTime())),e()},[n,e]);return o.default.createElement(i.Box,{className:"welcome-banner",paddingInline:6},o.default.createElement(i.Box,{className:"welcome-banner__wrapper",width:s.BlockSize.Full},o.default.createElement(i.Text,{"data-testid":"onboarding-welcome-banner-title",className:"welcome-banner__title",as:"h2",textTransform:s.TextTransform.Uppercase,marginBottom:8},t("welcomeTitle")),o.default.createElement(i.Text,{variant:s.TextVariant.bodyLgMedium,className:"welcome-banner__description",marginBottom:6},t("welcomeDescription")),o.default.createElement(i.Button,{"data-testid":"onboarding-get-started-button",className:"welcome-banner__button",size:i.ButtonSize.Lg,onClick:()=>d(!0),endIconName:i.IconName.Arrow2Right,textTransform:s.TextTransform.Uppercase,borderRadius:s.BorderRadius.pill},t("welcomeGetStarted"))),a&&o.default.createElement(l.default,{onAccept:p,onClose:()=>d(!1)}))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),l=(a=e("../../../components/app/terms-of-use-popup"))&&a.__esModule?a:{default:a},c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-banner.tsx"}],[6789,{"../../../../shared/constants/preferences":4994,"../../../../shared/modules/environment":5080,"../../../components/component-library":5645,"../../../components/ui/mascot":6053,"../../../helpers/constants/design-system":6156,"../../../helpers/utils/build-types":6180,"../../../hooks/useI18nContext":6282,"./login-options":6786,"./types":6787,classnames:3349,events:3628,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onLogin:e}){const t=(0,c.useI18nContext)(),n=(0,o.useRef)(new a.default),[g,h]=(0,o.useState)(!1),[y,b]=(0,o.useState)(null),_=(0,d.getIsSeedlessOnboardingFeatureEnabled)(),E=(0,o.useCallback)(async t=>{y&&(h(!1),await e(t,y))},[y,e]);return o.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.spaceBetween,gap:4,marginInline:"auto",marginTop:2,padding:6,className:"welcome-login","data-testid":"get-started"},o.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,className:"welcome-login__content"},o.default.createElement(s.Box,{className:(0,r.default)("welcome-login__mascot",{"welcome-login__mascot--image":(0,u.isFlask)()||(0,u.isBeta)()})},(0,u.isFlask)()||(0,u.isBeta)()?o.default.createElement("img",{src:"./images/logo/metamask-fox.svg",width:"178",height:"178"}):o.default.createElement(i.default,{animationEventEmitter:n.current,width:"268",height:"268"})),o.default.createElement(s.Text,{marginInline:5,textAlign:l.TextAlign.Center,as:"h2",className:"welcome-login__title","data-testid":"onboarding-welcome"},t("welcomeToMetaMask"),"!")),o.default.createElement(s.Box,{"data-theme":p.ThemeType.light,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},o.default.createElement(s.Button,{"data-testid":"onboarding-create-wallet",variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,block:!0,onClick:async()=>{h(!0),b(f.LOGIN_OPTION.NEW),_||await e(f.LOGIN_TYPE.SRP,f.LOGIN_OPTION.NEW)}},t("onboardingCreateWallet")),o.default.createElement(s.Button,{"data-testid":"onboarding-import-wallet",variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,block:!0,onClick:async()=>{h(!0),b(f.LOGIN_OPTION.EXISTING),_||await e(f.LOGIN_TYPE.SRP,f.LOGIN_OPTION.EXISTING)}},t(_?"onboardingImportWallet":"onboardingSrpImport"))),_&&g&&y&&o.default.createElement(m.default,{loginOption:y,onClose:()=>{b(null)},handleLogin:E}))};var a=h(e("events")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=h(e("classnames")),i=h(e("../../../components/ui/mascot")),s=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/utils/build-types"),d=e("../../../../shared/modules/environment"),p=e("../../../../shared/constants/preferences"),m=h(e("./login-options")),f=e("./types");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome-login.tsx"}],[6790,{"../../../../shared/constants/app":4973,"../../../../shared/constants/metametrics":4986,"../../../../shared/constants/onboarding":4992,"../../../../shared/lib/trace":5067,"../../../../shared/modules/browser-runtime.utils":5076,"../../../../shared/modules/environment":5080,"../../../../shared/modules/error":5081,"../../../components/ui/loading-screen":6047,"../../../contexts/metametrics":6119,"../../../helpers/constants/routes":6161,"../../../selectors":6959,"../../../store/actions":6981,"./login-error-modal":6785,"./types":6787,"./welcome-banner":6788,"./welcome-login":6789,loglevel:4094,"prop-types":4255,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=w;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=x(e("prop-types")),r=e("react-redux"),i=e("react-router-dom"),s=x(e("loglevel")),l=e("../../../helpers/constants/routes"),c=e("../../../selectors"),u=e("../../../../shared/constants/onboarding"),d=e("../../../contexts/metametrics"),p=e("../../../store/actions"),m=x(e("../../../components/ui/loading-screen")),f=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/modules/environment"),h=e("../../../../shared/modules/browser-runtime.utils"),y=e("../../../../shared/constants/app"),b=e("../../../../shared/modules/error"),_=e("../../../../shared/lib/trace"),E=x(e("./welcome-login")),v=x(e("./welcome-banner")),k=e("./types"),T=x(e("./login-error-modal"));function x(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function w({pageState:e=k.WelcomePageState.Banner,setPageState:t}){const n=(0,r.useDispatch)(),o=(0,i.useHistory)(),x=(0,r.useSelector)(c.getCurrentKeyring),C=(0,g.getIsSeedlessOnboardingFeatureEnabled)(),w=(0,r.useSelector)(c.getFirstTimeFlowType),S=(0,r.useSelector)(c.getIsSocialLoginFlowInitialized),O=(0,r.useSelector)(c.getIsParticipateInMetaMetricsSet),[I,N]=(0,a.useState)(!1),[M,R]=(0,a.useState)(!1),[A,B]=(0,a.useState)(null);(0,a.useEffect)(()=>{x&&!I?w===u.FirstTimeFlowType.import||w===u.FirstTimeFlowType.socialImport||w===u.FirstTimeFlowType.restore?o.replace(O?l.ONBOARDING_COMPLETION_ROUTE:l.ONBOARDING_METAMETRICS):w===u.FirstTimeFlowType.socialCreate?(0,h.getBrowserName)()===y.PLATFORM_FIREFOX?o.replace(l.ONBOARDING_COMPLETION_ROUTE):o.replace(l.ONBOARDING_METAMETRICS):o.replace(l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE):S&&(w===u.FirstTimeFlowType.socialCreate?o.replace(l.ONBOARDING_CREATE_PASSWORD_ROUTE):o.replace(l.ONBOARDING_UNLOCK_ROUTE))},[x,o,w,I,O,S]);const P=(0,a.useContext)(d.MetaMetricsContext),{bufferedTrace:D,bufferedEndTrace:F,onboardingParentContext:L}=P,j=(0,a.useCallback)(async()=>{R(!0),N(!0),await n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.create)),P({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:f.MetaMetricsEventAccountType.Default}}),null==D||D({name:_.TraceName.OnboardingNewSrpCreateWallet,op:_.TraceOperation.OnboardingUserJourney,parentContext:null==L?void 0:L.current}),o.push(l.ONBOARDING_CREATE_PASSWORD_ROUTE)},[n,o,P,L,D]),W=(0,a.useCallback)(async()=>{R(!0),await n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.import)),P({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletImportStarted,properties:{account_type:f.MetaMetricsEventAccountType.Imported}}),null==D||D({name:_.TraceName.OnboardingExistingSrpImport,op:_.TraceOperation.OnboardingUserJourney,parentContext:null==L?void 0:L.current}),o.push(l.ONBOARDING_IMPORT_WITH_SRP_ROUTE)},[n,o,P,L,D]),U=(0,a.useCallback)(async e=>{if(C){null==D||D({name:_.TraceName.OnboardingSocialLoginAttempt,op:_.TraceOperation.OnboardingUserJourney,tags:{provider:e},parentContext:null==L?void 0:L.current});const t=await n((0,p.startOAuthLogin)(e,D,F));return null==F||F({name:_.TraceName.OnboardingSocialLoginAttempt}),t}return!0},[n,C,L,D,F]),z=(0,a.useCallback)((e,t)=>{const n=e instanceof Error?e.message:"Unknown error";null==D||D({name:_.TraceName.OnboardingSocialLoginError,op:_.TraceOperation.OnboardingError,tags:{provider:t,errorMessage:n},parentContext:L.current}),null==F||F({name:_.TraceName.OnboardingSocialLoginError}),null==F||F({name:_.TraceName.OnboardingSocialLoginAttempt,data:{success:!1}})},[L,D,F]),$=(0,a.useCallback)(async e=>{R(!0),N(!0),await n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.socialCreate)),P({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletSetupStarted,properties:{account_type:`${f.MetaMetricsEventAccountType.Default}_${e}`}});try{const t=await U(e);P({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${f.MetaMetricsEventAccountType.Default}_${e}`}}),t?(null==D||D({name:_.TraceName.OnboardingNewSocialCreateWallet,op:_.TraceOperation.OnboardingUserJourney,parentContext:L.current}),o.replace(l.ONBOARDING_CREATE_PASSWORD_ROUTE)):o.replace(l.ONBOARDING_ACCOUNT_EXIST)}catch(t){z(t,e)}finally{R(!1)}},[n,U,P,o,L,z,D]),V=(0,a.useCallback)(async e=>{R(!0),n((0,p.setFirstTimeFlowType)(u.FirstTimeFlowType.socialImport)),P({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.WalletImportStarted,properties:{account_type:`${f.MetaMetricsEventAccountType.Imported}_${e}`}});try{const t=await U(e);P({category:f.MetaMetricsEventCategory.Onboarding,event:f.MetaMetricsEventName.SocialLoginCompleted,properties:{account_type:`${f.MetaMetricsEventAccountType.Imported}_${e}`}}),t?o.push(l.ONBOARDING_ACCOUNT_NOT_FOUND):(null==D||D({name:_.TraceName.OnboardingExistingSocialLogin,op:_.TraceOperation.OnboardingUserJourney,parentContext:L.current}),o.push(l.ONBOARDING_UNLOCK_ROUTE))}catch(t){z(t,e)}finally{R(!1)}},[n,U,P,o,L,z,D]),q=(0,a.useCallback)(e=>{s.default.error("handleLoginError::error",e);e.message===b.OAuthErrorMessages.USER_CANCELLED_LOGIN_ERROR?B(null):B(k.LOGIN_ERROR.GENERIC)},[]),G=(0,a.useCallback)(async(e,t)=>{try{t===k.LOGIN_OPTION.NEW&&e===k.LOGIN_TYPE.SRP?await j():t===k.LOGIN_OPTION.EXISTING&&e===k.LOGIN_TYPE.SRP?await W():C&&(t===k.LOGIN_OPTION.NEW?await $(e):t===k.LOGIN_OPTION.EXISTING&&await V(e))}catch(e){q(e)}},[j,W,$,V,C,q]);return a.default.createElement(a.default.Fragment,null,e===k.WelcomePageState.Banner&&a.default.createElement(v.default,{onAccept:()=>t(k.WelcomePageState.Login)}),e===k.WelcomePageState.Login&&a.default.createElement(E.default,{onLogin:G}),M&&a.default.createElement(m.default,null),null!==A&&a.default.createElement(T.default,{onClose:()=>B(null),loginError:A}))}w.propTypes={pageState:o.default.oneOf(Object.values(k.WelcomePageState)),setPageState:o.default.func.isRequired}}}},{package:"$root$",file:"ui/pages/onboarding-flow/welcome/welcome.js"}],[6791,{"../../../components/app/permissions-connect-footer":5372,"../../../components/component-library":5645,"../../../components/ui/account-list":5979,"../../../components/ui/page-container":6065,"../../../helpers/constants/design-system":6156,"../../../hooks/useI18nContext":6282,"@metamask/keyring-api":1560,"@metamask/permission-controller":1816,"prop-types":4255,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/permission-controller"),i=e("@metamask/keyring-api"),s=e("../../../hooks/useI18nContext"),l=f(e("../../../components/app/permissions-connect-footer")),c=f(e("../../../components/ui/account-list")),u=e("../../../components/ui/page-container"),d=e("../../../helpers/constants/design-system"),p=e("../../../components/component-library");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}const g=({selectedAccountAddresses:e,addressLastConnectedMap:t={},accounts:n,selectAccounts:a,selectNewAccountViaModal:m,cancelPermissionsRequest:f,permissionsRequestId:g,targetSubjectMetadata:h,nativeCurrency:y})=>{const[b,_]=(0,o.useState)(e),E=n.filter(e=>(0,i.isEvmAccountType)(e.type)),v=(0,s.useI18nContext)(),k=Object.keys(e).length>E.length,T=0===n.length?v("connectAccountOrCreate"):(null==h?void 0:h.subjectType)===r.SubjectType.Snap?v("selectAccountsForSnap"):v("selectAccounts");return o.default.createElement(o.default.Fragment,null,o.default.createElement(p.Box,{className:"permissions-connect-choose-account__content",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,backgroundColor:d.BackgroundColor.backgroundAlternative,width:d.BlockSize.Full,height:d.BlockSize.Full,paddingLeft:6,paddingRight:6},o.default.createElement(p.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.center,alignItems:d.AlignItems.center,paddingTop:4,paddingBottom:4},o.default.createElement(p.Text,{variant:d.TextVariant.headingMd},v("connectWithMetaMask")),o.default.createElement(p.Text,{variant:d.TextVariant.bodyMd},T)),o.default.createElement(c.default,{accounts:n,selectNewAccountViaModal:m,addressLastConnectedMap:t,nativeCurrency:y,selectedAccounts:b,allAreSelected:()=>E.length===b.size,deselectAll:()=>{_(new Set)},selectAll:()=>{const e=new Set(E.map(e=>e.address));_(e)},handleAccountClick:e=>{const t=new Set(b);t.has(e)?t.delete(e):t.add(e),_(t)}})),o.default.createElement(p.Box,{backgroundColor:d.BackgroundColor.backgroundAlternative,className:"permissions-connect-choose-account__footer",paddingTop:4},(null==h?void 0:h.subjectType)!==r.SubjectType.Snap&&o.default.createElement(l.default,null),o.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>f(g),cancelText:v("cancel"),onSubmit:()=>a(b),submitText:v("next"),disabled:k||0===b.size})))};g.propTypes={accounts:a.default.arrayOf(a.default.shape({address:a.default.string,addressLabel:a.default.string,lastConnectedDate:a.default.string,balance:a.default.string})).isRequired,selectAccounts:a.default.func.isRequired,selectNewAccountViaModal:a.default.func.isRequired,nativeCurrency:a.default.string.isRequired,addressLastConnectedMap:a.default.object,cancelPermissionsRequest:a.default.func.isRequired,permissionsRequestId:a.default.string.isRequired,selectedAccountAddresses:a.default.object.isRequired,targetSubjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,subjectType:a.default.string})};n.default=g}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/choose-account.js"}],[6792,{"./choose-account":6791},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./choose-account"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/choose-account/index.js"}],[6793,{"../../../../shared/constants/metametrics":4986,"../../../../shared/constants/network":4989,"../../../../shared/lib/caip25-caveat-merger":5018,"../../../../shared/modules/selectors/networks":5096,"../../../components/component-library":5645,"../../../components/multichain":5841,"../../../components/multichain/create-solana-account-modal/create-solana-account-modal":5815,"../../../components/multichain/pages/page":5935,"../../../components/multichain/pages/review-permissions-page/site-cell/site-cell":5942,"../../../components/ui/tabs":6088,"../../../contexts/metametrics":6119,"../../../helpers/constants/design-system":6156,"../../../helpers/utils/util":6209,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,"../../../selectors/multichain":6966,"./utils":6794,"@metamask/chain-agnostic-permission":1296,"@metamask/utils":2359,lodash:4086,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectPage=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/chain-agnostic-permission"),i=e("@metamask/utils"),s=e("lodash"),l=e("../../../hooks/useI18nContext"),c=e("../../../selectors"),u=e("../../../../shared/modules/selectors/networks"),d=e("../../../components/component-library"),p=e("../../../components/multichain/pages/page"),m=e("../../../components/multichain/pages/review-permissions-page/site-cell/site-cell"),f=e("../../../helpers/constants/design-system"),g=e("../../../../shared/constants/network"),h=e("../../../selectors/multichain"),y=e("../../../components/ui/tabs"),b=e("../../../components/multichain"),_=e("../../../helpers/utils/util"),E=e("../../../../shared/constants/metametrics"),v=e("../../../contexts/metametrics"),k=e("../../../components/multichain/create-solana-account-modal/create-solana-account-modal"),T=e("../../../../shared/lib/caip25-caveat-merger"),x=e("./utils");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}n.ConnectPage=({request:e,permissionsRequestId:t,rejectPermissionsRequest:n,approveConnection:C,targetSubjectMetadata:w})=>{const S=(0,l.useI18nContext)(),O=(0,a.useContext)(v.MetaMetricsContext),I=(0,o.useSelector)(t=>{var n;return(0,c.getPermissions)(t,null===(n=e.metadata)||void 0===n?void 0:n.origin)}),N=(0,a.useMemo)(()=>I?(0,x.getCaip25CaveatValueFromPermissions)(I):null,[I]),M=(0,x.getCaip25CaveatValueFromPermissions)(e.permissions),R=N?(0,T.mergeCaip25CaveatValues)(M,N):M,A=(0,r.getCaipAccountIdsFromCaip25CaveatValue)(R),B=(0,r.getAllScopesFromCaip25CaveatValue)(R),{promptToCreateSolanaAccount:P,isEip1193Request:D}=e.metadata??{},F=(0,o.useSelector)(u.getAllNetworkConfigurationsByCaipChainId),[L,j]=(0,a.useMemo)(()=>Object.entries(F).reduce(([e,t],[n,a])=>{const o=n;return(g.CAIP_FORMATTED_EVM_TEST_CHAINS.includes(o)?t:e).push({...a,caipChainId:o}),[e,t]},[[],[]]),[F]),W=(0,a.useMemo)(()=>[...L,...j].map(({caipChainId:e})=>e),[L,j]),[U,z]=(0,a.useState)(!1),[$,V]=(0,a.useState)(!1),[q,G]=(0,a.useState)(!1),J=(0,o.useSelector)(h.getMultichainNetwork).chainId,K=j.find(e=>e.caipChainId===J);let H=K?[...L,K].map(({caipChainId:e})=>e):L.map(({caipChainId:e})=>e),Y=B.filter(e=>W.includes(e));if(D){H=H.filter(e=>{const{namespace:t}=(0,i.parseCaipChainId)(e);return t===i.KnownCaipNamespace.Eip155});!Y.some(e=>{const{namespace:t}=(0,i.parseCaipChainId)(e);return t===i.KnownCaipNamespace.Eip155})&&N&&(Y=Array.from(new Set([...H,...Y])))}const X=Y.length>0?Y:H,[Q,Z]=(0,a.useState)(X),ee=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&z(!0),Z(e)},[z,Z]),te=(0,o.useSelector)(c.getUpdatedAndSortedAccountsWithCaipAccountId),ne=(0,r.getAllNamespacesFromCaip25CaveatValue)(R).filter(e=>e!==i.KnownCaipNamespace.Wallet),ae=te.filter(e=>{const{chain:{namespace:t}}=(0,i.parseCaipAccountId)(e.caipAccountId);return ne.includes(t)}),oe=ae.filter(e=>(0,r.isCaipAccountIdInPermittedAccountIds)(e.caipAccountId,A)),re=(0,x.getDefaultAccounts)(ne,oe,ae).map(({caipAccountId:e})=>e),[ie,se]=(0,a.useState)(re),le=(0,a.useCallback)((e,{isUserModified:t=!0}={})=>{t&&z(!0);let n=[...Q];e.forEach(e=>{const{chain:{namespace:t}}=(0,i.parseCaipAccountId)(e);if(!n.some(e=>{try{const{namespace:n}=(0,i.parseCaipChainId)(e);return t===n}catch(e){return!1}})){const e=W.filter(e=>{try{const{namespace:n}=(0,i.parseCaipChainId)(e);return t===n}catch(e){return!1}});n=Array.from(new Set([...n,...e]))}}),ee(n,{isUserModified:t}),se(e)},[z,se,Q,ee,W]);(0,a.useEffect)(()=>{U||(0,s.isEqual)(re,ie)||le(re,{isUserModified:!1})},[U,le,ie,JSON.stringify(re)]);const ce=te.filter(({caipAccountId:e})=>ie.some(t=>t===e)),ue=(0,a.useMemo)(()=>te.some(({caipAccountId:e})=>{const{chain:t}=(0,i.parseCaipAccountId)(e);return t.namespace===i.KnownCaipNamespace.Solana}),[te]),de=(0,a.useCallback)(()=>{V(!0),O({category:E.MetaMetricsEventCategory.Navigation,event:E.MetaMetricsEventName.ViewPermissionedAccounts,properties:{location:"Connect view (accounts tab), Permissions toast, Permissions (dapp)"}})},[O]),pe=(0,a.useCallback)(()=>{G(!0)},[]),me=(0,a.useCallback)(()=>{G(!1)},[]),fe=(0,a.useCallback)(()=>{V(!1)},[]),ge=(0,a.useCallback)(()=>{n(t)},[t,n]),he=(0,a.useCallback)(()=>{const t={...e,permissions:{...e.permissions,...(0,r.generateCaip25Caveat)(R,ie,Q)}};C(t)},[e,R,ie,Q,C]),ye=(0,_.transformOriginToTitle)(w.origin);return a.default.createElement(p.Page,{"data-testid":"connect-page",className:"main-container connect-page",backgroundColor:f.BackgroundColor.backgroundDefault},a.default.createElement(p.Header,{paddingTop:8,paddingBottom:0},a.default.createElement(d.Box,{display:f.Display.Flex,justifyContent:f.JustifyContent.center,marginBottom:8},w.iconUrl?a.default.createElement(a.default.Fragment,null,a.default.createElement(d.Box,{style:{filter:"blur(16px) brightness(1.1)",position:"absolute"}},a.default.createElement(d.AvatarFavicon,{backgroundColor:f.BackgroundColor.backgroundMuted,size:d.AvatarFaviconSize.Xl,src:w.iconUrl,name:ye})),a.default.createElement(d.AvatarFavicon,{backgroundColor:f.BackgroundColor.backgroundMuted,size:d.AvatarFaviconSize.Lg,src:w.iconUrl,name:ye,style:{zIndex:1,background:"transparent"}})):a.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Lg,display:f.Display.Flex,alignItems:f.AlignItems.center,justifyContent:f.JustifyContent.center,color:f.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:f.BackgroundColor.backgroundMuted},(0,_.isIpAddress)(ye)?"?":(0,_.getAvatarFallbackLetter)(ye))),a.default.createElement(d.Text,{variant:f.TextVariant.headingLg,marginBottom:1},ye),a.default.createElement(d.Box,{display:f.Display.Flex,justifyContent:f.JustifyContent.center},a.default.createElement(d.Text,{color:f.TextColor.textAlternative},S("connectionDescription")))),a.default.createElement(p.Content,{paddingLeft:4,paddingRight:4,backgroundColor:f.BackgroundColor.transparent},a.default.createElement(y.Tabs,{onTabClick:()=>null,backgroundColor:f.BackgroundColor.transparent,justifyContent:f.JustifyContent.center,defaultActiveTabKey:"accounts",tabListProps:{backgroundColor:f.BackgroundColor.transparent}},a.default.createElement(y.Tab,{name:S("accounts"),tabKey:"accounts",width:f.BlockSize.Full,"data-testid":"accounts-tab"},a.default.createElement(d.Box,{marginTop:4},a.default.createElement(d.Box,{backgroundColor:f.BackgroundColor.backgroundDefault,borderRadius:f.BorderRadius.XL,style:{overflow:"auto",maxHeight:"268px",scrollbarColor:"var(--color-icon-muted) transparent"}},ce.map(e=>a.default.createElement(b.AccountListItem,{showConnectedStatus:!1,account:e,key:e.caipAccountId,selected:!1})),0===ce.length&&!P&&a.default.createElement(d.Box,{className:"connect-page__accounts-empty",display:f.Display.Flex,justifyContent:f.JustifyContent.center,alignItems:f.AlignItems.center,borderRadius:f.BorderRadius.XL},a.default.createElement(d.ButtonLink,{onClick:de,"data-testid":"edit"},S("selectAccountToConnect")))),ce.length>0&&a.default.createElement(d.Box,{marginTop:4,display:f.Display.Flex,justifyContent:f.JustifyContent.center},a.default.createElement(d.ButtonLink,{onClick:de,"data-testid":"edit"},S("editAccounts"))),P&&!ue&&a.default.createElement(d.Box,{display:f.Display.Flex,flexDirection:f.FlexDirection.Column,justifyContent:f.JustifyContent.center,alignItems:f.AlignItems.center,marginTop:4,gap:2},a.default.createElement(d.Text,{variant:f.TextVariant.bodyMd,color:f.TextColor.textAlternative,textAlign:f.TextAlign.Center},0===ce.length?S("solanaAccountRequired"):S("solanaAccountRequested")),a.default.createElement(d.Button,{variant:d.ButtonVariant.Secondary,width:f.BlockSize.Full,size:d.ButtonSize.Lg,onClick:pe,"data-testid":"create-solana-account"},S("createSolanaAccount"))),q&&a.default.createElement(k.CreateSolanaAccountModal,{onClose:me}),$&&a.default.createElement(b.EditAccountsModal,{accounts:te,defaultSelectedAccountAddresses:ie,onClose:fe,onSubmit:le}))),a.default.createElement(y.Tab,{name:S("permissions"),tabKey:"permissions",width:f.BlockSize.Full,"data-testid":"permissions-tab",disabled:P&&!ue&&0===ce.length},a.default.createElement(d.Box,{marginTop:4},a.default.createElement(m.SiteCell,{nonTestNetworks:L,testNetworks:j,accounts:te,onSelectAccountAddresses:le,onSelectChainIds:ee,selectedAccountAddresses:ie,selectedChainIds:Q,isConnectFlow:!0}))))),a.default.createElement(p.Footer,null,a.default.createElement(d.Box,{display:f.Display.Flex,flexDirection:f.FlexDirection.Column,gap:4,width:f.BlockSize.Full},a.default.createElement(d.Box,{display:f.Display.Flex,gap:4,width:f.BlockSize.Full},a.default.createElement(d.Button,{block:!0,variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"cancel-btn",onClick:ge},S("cancel")),a.default.createElement(d.Button,{block:!0,"data-testid":"confirm-btn",size:d.ButtonSize.Lg,onClick:he,disabled:0===ie.length||0===Q.length},S("connect"))))))}}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/connect-page.tsx"}],[6794,{"../../../helpers/utils/util":6209,"@metamask/chain-agnostic-permission":1296,"@metamask/utils":2359},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaip25CaveatValueFromPermissions=function(e){var t;return(null==e||null===(t=e[o.Caip25EndowmentPermissionName])||void 0===t||null===(t=t.caveats)||void 0===t||null===(t=t.find(e=>e.type===o.Caip25CaveatType))||void 0===t?void 0:t.value)??{optionalScopes:{},requiredScopes:{},sessionProperties:{},isMultichainOrigin:!1}},n.getCaip25PermissionsResponse=function(e,t,n){const a=(0,o.setPermittedEthChainIds)(e,n),r=(0,o.setEthAccounts)(a,t);return{[o.Caip25EndowmentPermissionName]:{caveats:[{type:o.Caip25CaveatType,value:r}]}}},n.getDefaultAccounts=function(e,t,n){const o=[],i=new Set;t.forEach(t=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(t.caipAccountId);e.includes(n)&&(o.push(t),i.add(n))});const s=e.filter(e=>!i.has(e));if(s.length>0){const e=(0,r.sortSelectedInternalAccounts)(n);for(const t of s){const n=e.find(e=>{const{chain:{namespace:n}}=(0,a.parseCaipAccountId)(e.caipAccountId);return n===t});n&&o.push(n)}}return o};var a=e("@metamask/utils"),o=e("@metamask/chain-agnostic-permission"),r=e("../../../helpers/utils/util")}}},{package:"$root$",file:"ui/pages/permissions-connect/connect-page/utils.ts"}],[6795,{"./permissions-connect.container":6797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-connect.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/index.js"}],[6796,{"../../../app/scripts/lib/multichain/address":154,"../../../shared/constants/time":5004,"../../components/app/permission-page-container":5366,"../../components/app/snaps/snap-authorship-header/snap-authorship-header":5399,"../../components/component-library":5645,"../../helpers/constants/routes":6161,"./choose-account":6792,"./connect-page/connect-page":6793,"./connect-page/utils":6794,"./redirect":6798,"./snaps/snap-install":6800,"./snaps/snap-result":6802,"./snaps/snap-update":6804,"./snaps/snaps-connect":6806,"@metamask/chain-agnostic-permission":1296,"@metamask/permission-controller":1816,"@metamask/rpc-errors":1955,"@metamask/snaps-utils":2242,"prop-types":4255,react:4437,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=C(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-router-dom"),i=e("@metamask/rpc-errors"),s=e("@metamask/permission-controller"),l=e("@metamask/snaps-utils"),c=e("@metamask/chain-agnostic-permission"),u=e("../../../app/scripts/lib/multichain/address"),d=e("../../../shared/constants/time"),p=e("../../helpers/constants/routes"),m=C(e("../../components/app/permission-page-container")),f=e("../../components/component-library"),g=C(e("../../components/app/snaps/snap-authorship-header/snap-authorship-header")),h=C(e("./choose-account")),y=C(e("./redirect")),b=C(e("./snaps/snaps-connect")),_=C(e("./snaps/snap-install")),E=C(e("./snaps/snap-update")),v=C(e("./snaps/snap-result")),k=e("./connect-page/connect-page"),T=e("./connect-page/utils");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function C(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=1200*d.MILLISECOND;function O(e,t){const n=(0,T.getCaip25CaveatValueFromPermissions)(t),a=(0,c.getEthAccounts)(n);return a.length>0?new Set(a.map(e=>e.toLowerCase()).filter(u.isEthAddress)):new Set((0,u.isEthAddress)(e)?[e]:[])}function I(e){const t=(0,T.getCaip25CaveatValueFromPermissions)(e);return(0,c.getPermittedEthChainIds)(t)}class N extends o.Component{constructor(...e){var t;super(...e),w(this,"state",{redirecting:!1,selectedAccountAddresses:O(this.props.currentAddress,null===(t=this.props.permissionsRequest)||void 0===t?void 0:t.permissions),permissionsApproved:null,origin:this.props.origin,targetSubjectMetadata:this.props.targetSubjectMetadata||{},snapsInstallPrivacyWarningShown:this.props.snapsInstallPrivacyWarningShown}),w(this,"selectAccounts",e=>{const{confirmPermissionPath:t,requestType:n,snapsConnectPath:a,snapInstallPath:o,snapUpdatePath:r,snapResultPath:i}=this.props;this.setState({selectedAccountAddresses:e},()=>{switch(n){case"wallet_installSnap":this.props.history.push(o);break;case"wallet_updateSnap":this.props.history.push(r);break;case"wallet_installSnapResult":this.props.history.push(i);break;case"wallet_connectSnaps":this.props.history.replace(a);break;default:this.props.history.push(t)}})}),w(this,"cancelPermissionsRequest",async e=>{const{rejectPermissionsRequest:t}=this.props;e&&(await t(e),this.redirect(!1))}),w(this,"approveConnection",(...e)=>{const{approvePermissionsRequest:t}=this.props;t(...e),this.redirect(!0)})}componentDidMount(){const{connectPath:e,confirmPermissionPath:t,snapsConnectPath:n,snapInstallPath:a,snapUpdatePath:o,snapResultPath:r,requestType:i,getRequestAccountTabIds:s,permissionsRequest:l,history:c,isRequestingAccounts:u}=this.props;if(s(),l){if(c.location.pathname===e&&!u)switch(i){case"wallet_installSnap":c.replace(a);break;case"wallet_updateSnap":c.replace(o);break;case"wallet_installSnapResult":c.replace(r);break;case"wallet_connectSnaps":c.replace(n);break;default:c.replace(t)}}else c.replace(p.DEFAULT_ROUTE)}componentDidUpdate(e){var t;const{permissionsRequest:n,lastConnectedInfo:a,targetSubjectMetadata:o}=this.props,{redirecting:r,origin:i}=this.state;if(null!=o&&o.origin&&(null===(t=e.targetSubjectMetadata)||void 0===t?void 0:t.origin)!==(null==o?void 0:o.origin)&&this.setState({targetSubjectMetadata:o}),!n&&e.permissionsRequest&&!r){var s,l;const t=((null===(s=a[i])||void 0===s?void 0:s.lastApproved)||0)>((null===(l=e.lastConnectedInfo[i])||void 0===l?void 0:l.lastApproved)||0);this.redirect(t)}}redirect(e){const{history:t,permissionsRequest:n}=this.props;let a=!0;a=!((null==n?void 0:n.permissions)&&Object.keys(n.permissions).includes("wallet_snap")),this.setState({redirecting:a,permissionsApproved:e}),a&&e?setTimeout(()=>t.push(p.DEFAULT_ROUTE),S):t.push(p.DEFAULT_ROUTE)}goBack(){const{history:e,connectPath:t}=this.props;e.push(t)}renderTopBar(e){const{targetSubjectMetadata:t}=this.state;return o.default.createElement(f.Box,{style:{boxShadow:t.subjectType===s.SubjectType.Snap&&"var(--shadow-size-lg) var(--color-shadow-default)"}},t.subjectType===s.SubjectType.Snap&&o.default.createElement(g.default,{snapId:t.origin,boxShadow:"none",onCancel:()=>{this.cancelPermissionsRequest(e)}}))}render(){var e;const{accounts:t,showNewAccountModal:n,newAccountNumber:a,nativeCurrency:s,permissionsRequest:c,addressLastConnectedMap:u,permissionsRequestId:d,connectPath:p,confirmPermissionPath:f,hideTopBar:g,targetSubjectMetadata:T,snapsConnectPath:x,snapInstallPath:C,snapUpdatePath:w,snapResultPath:S,requestState:O,approvePendingApproval:N,rejectPendingApproval:M,setSnapsInstallPrivacyWarningShownStatus:R,approvePermissionsRequest:A,history:B}=this.props,{selectedAccountAddresses:P,permissionsApproved:D,redirecting:F,snapsInstallPrivacyWarningShown:L}=this.state,j=(0,l.isSnapId)(null==c||null===(e=c.metadata)||void 0===e?void 0:e.origin);return o.default.createElement("div",{className:"permissions-connect"},!g&&this.renderTopBar(d),F&&D?o.default.createElement(y.default,{subjectMetadata:T}):o.default.createElement(r.Switch,null,o.default.createElement(r.Route,{path:p,exact:!0,render:()=>j?o.default.createElement(h.default,{accounts:t,nativeCurrency:s,selectAccounts:e=>this.selectAccounts(e),selectNewAccountViaModal:e=>{n({onCreateNewAccount:t=>e(t),newAccountNumber:a})},addressLastConnectedMap:u,cancelPermissionsRequest:e=>this.cancelPermissionsRequest(e),permissionsRequestId:d,selectedAccountAddresses:P,targetSubjectMetadata:T}):o.default.createElement(k.ConnectPage,{rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),activeTabOrigin:this.state.origin,request:c||{},permissionsRequestId:d,approveConnection:this.approveConnection,targetSubjectMetadata:T})}),o.default.createElement(r.Route,{path:f,exact:!0,render:()=>o.default.createElement(m.default,{request:c||{},approvePermissionsRequest:(...e)=>{A(...e),this.redirect(!0)},rejectPermissionsRequest:e=>this.cancelPermissionsRequest(e),selectedAccounts:t.filter(e=>P.has(e.address)),requestedChainIds:I(null==c?void 0:c.permissions),targetSubjectMetadata:T,history:B,connectPath:p,snapsInstallPrivacyWarningShown:L,setSnapsInstallPrivacyWarningShownStatus:R})}),o.default.createElement(r.Route,{path:x,exact:!0,render:()=>o.default.createElement(b.default,{request:c||{},approveConnection:this.approveConnection,rejectConnection:e=>this.cancelPermissionsRequest(e),targetSubjectMetadata:T,snapsInstallPrivacyWarningShown:L,setSnapsInstallPrivacyWarningShownStatus:R})}),o.default.createElement(r.Route,{path:C,exact:!0,render:()=>o.default.createElement(_.default,{request:c||{},requestState:O||{},approveSnapInstall:e=>{N(e,{...c,permissions:O.permissions,approvedAccounts:[...P]}),this.setState({permissionsApproved:!0})},rejectSnapInstall:e=>{M(e,(0,i.serializeError)(i.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!0})},targetSubjectMetadata:T})}),o.default.createElement(r.Route,{path:w,exact:!0,render:()=>o.default.createElement(E.default,{request:c||{},requestState:O||{},approveSnapUpdate:e=>{N(e,{...c,permissions:O.permissions,approvedAccounts:[...P]}),this.setState({permissionsApproved:!0})},rejectSnapUpdate:e=>{M(e,(0,i.serializeError)(i.providerErrors.userRejectedRequest())),this.setState({permissionsApproved:!1})},targetSubjectMetadata:T})}),o.default.createElement(r.Route,{path:S,exact:!0,render:()=>o.default.createElement(v.default,{request:c||{},requestState:O||{},approveSnapResult:e=>{N(e),this.setState({permissionsApproved:!0})},targetSubjectMetadata:T})})))}}n.default=N,w(N,"propTypes",{approvePermissionsRequest:a.default.func.isRequired,rejectPermissionsRequest:a.default.func.isRequired,getRequestAccountTabIds:a.default.func.isRequired,accounts:a.default.arrayOf(a.default.shape({id:a.default.string.isRequired,address:a.default.string.isRequired,metadata:a.default.shape({name:a.default.string.isRequired,snap:a.default.shape({id:a.default.string.isRequired,name:a.default.string,enabled:a.default.bool}),keyring:a.default.shape({type:a.default.string.isRequired}).isRequired}).isRequired,addressLabel:a.default.string.isRequired,label:a.default.string.isRequired,balance:a.default.string.isRequired})).isRequired,currentAddress:a.default.string.isRequired,origin:a.default.string,showNewAccountModal:a.default.func.isRequired,newAccountNumber:a.default.number.isRequired,nativeCurrency:a.default.string,permissionsRequest:a.default.object,addressLastConnectedMap:a.default.object.isRequired,lastConnectedInfo:a.default.object.isRequired,permissionsRequestId:a.default.string,history:a.default.object.isRequired,connectPath:a.default.string.isRequired,confirmPermissionPath:a.default.string.isRequired,requestType:a.default.string.isRequired,snapsConnectPath:a.default.string.isRequired,snapInstallPath:a.default.string.isRequired,snapUpdatePath:a.default.string.isRequired,snapResultPath:a.default.string.isRequired,requestState:a.default.object.isRequired,approvePendingApproval:a.default.func.isRequired,rejectPendingApproval:a.default.func.isRequired,setSnapsInstallPrivacyWarningShownStatus:a.default.func.isRequired,snapsInstallPrivacyWarningShown:a.default.bool.isRequired,hideTopBar:a.default.bool,targetSubjectMetadata:a.default.shape({extensionId:a.default.string,iconUrl:a.default.string,name:a.default.string,origin:a.default.string,subjectType:a.default.string}),isRequestingAccounts:a.default.bool.isRequired}),w(N,"defaultProps",{origin:"",nativeCurrency:"",permissionsRequest:undefined,permissionsRequestId:""}),w(N,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.component.js"}],[6797,{"../../ducks/metamask/metamask":6143,"../../helpers/constants/routes":6161,"../../helpers/utils/util":6209,"../../selectors":6959,"../../store/actions":6981,"./permissions-connect.component":6796,"@metamask/chain-agnostic-permission":1296,"@metamask/keyring-api":1560,"@metamask/permission-controller":1816,"@metamask/snaps-rpc-methods":2072,"prop-types":4255,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/permission-controller"),o=e("@metamask/snaps-rpc-methods"),r=e("react-redux"),i=g(e("prop-types")),s=e("@metamask/keyring-api"),l=e("@metamask/chain-agnostic-permission"),c=e("../../selectors"),u=e("../../ducks/metamask/metamask"),d=e("../../helpers/utils/util"),p=e("../../store/actions"),m=e("../../helpers/constants/routes"),f=g(e("./permissions-connect.component"));function g(e){return e&&e.__esModule?e:{default:e}}const h=(0,r.connect)((e,t)=>{var n,r,i;const{match:{params:{id:p}},location:{pathname:f}}=t;let g=(0,c.getPermissionsRequests)(e);g=[...g,...(0,c.getSnapInstallOrUpdateRequests)(e)];const{address:h}=(0,c.getSelectedInternalAccount)(e),y=g.find(e=>e.metadata.id===p),{metadata:b={},diff:_={}}=y||{},{origin:E}=b,v=(0,u.getNativeCurrency)(e),k=Boolean(null==_?void 0:_.permissionDiffMap),T=Boolean((null==y||null===(n=y.permissions)||void 0===n?void 0:n[l.Caip25EndowmentPermissionName])&&!k),x=(0,c.getTargetSubjectMetadata)(e,E)??{name:(0,d.getURLHostName)(E)||E,origin:E,iconUrl:null,extensionId:null,subjectType:a.SubjectType.Unknown};let C=(0,c.getRequestType)(e,p);y&&1===Object.keys(y.permissions||{}).length&&null!==(r=y.permissions)&&void 0!==r&&r[o.WALLET_SNAP_PERMISSION_KEY]&&(C="wallet_connectSnaps");const w=(0,c.getRequestState)(e,p)||{},S=(0,c.getAccountsWithLabels)(e).filter(e=>(0,s.isEvmAccountType)(e.type)),O=(0,c.getLastConnectedInfo)(e)||{},I=(null===(i=O[E])||void 0===i?void 0:i.accounts)||{};Object.keys(I).forEach(e=>{I[e]=(0,d.formatDate)(I[e],"yyyy-MM-dd")});const N=`${m.CONNECT_ROUTE}/${p}`,M=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_CONFIRM_PERMISSIONS_ROUTE}`,R=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAPS_CONNECT_ROUTE}`,A=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_INSTALL_ROUTE}`,B=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_UPDATE_ROUTE}`,P=`${m.CONNECT_ROUTE}/${p}${m.CONNECT_SNAP_RESULT_ROUTE}`,D=f===A||f===B||f===P;let F=1+T;F+=D,F=F.toString();let L="";if(f===N)L="1";else if(f===M)L=T?"2":"1";else if(D)L=T?"3":"2";else{if(f!==R)throw new Error("Incorrect path for permissions-connect component");L=1}return{isRequestingAccounts:T,requestType:C,snapsConnectPath:R,snapInstallPath:A,snapUpdatePath:B,snapResultPath:P,requestState:w,hideTopBar:D,snapsInstallPrivacyWarningShown:(0,c.getSnapsInstallPrivacyWarningShown)(e),permissionsRequest:y,permissionsRequestId:p,accounts:S,currentAddress:h,origin:E,newAccountNumber:S.length+1,nativeCurrency:v,addressLastConnectedMap:I,lastConnectedInfo:O,connectPath:N,confirmPermissionPath:M,totalPages:F,page:L,targetSubjectMetadata:x}},e=>({approvePermissionsRequest:t=>e((0,p.approvePermissionsRequest)(t)),rejectPermissionsRequest:t=>e((0,p.rejectPermissionsRequest)(t)),approvePendingApproval:(t,n)=>e((0,p.resolvePendingApproval)(t,n)),rejectPendingApproval:(t,n)=>e((0,p.rejectPendingApproval)(t,n)),setSnapsInstallPrivacyWarningShownStatus:t=>{e((0,p.setSnapsInstallPrivacyWarningShownStatus)(t))},showNewAccountModal:({onCreateNewAccount:t,newAccountNumber:n})=>e((0,p.showModal)({name:"NEW_ACCOUNT",onCreateNewAccount:t,newAccountNumber:n})),getRequestAccountTabIds:()=>e((0,p.getRequestAccountTabIds)())}))(f.default);h.propTypes={history:i.default.object.isRequired,match:i.default.shape({params:i.default.shape({id:i.default.string}).isRequired}).isRequired};n.default=h}}},{package:"$root$",file:"ui/pages/permissions-connect/permissions-connect.container.js"}],[6798,{"./permissions-redirect.component":6799},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-redirect.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/index.js"}],[6799,{"../../../components/app/permissions-connect-footer":5372,"../../../components/component-library":5645,"../../../contexts/i18n":6114,"../../../helpers/constants/design-system":6156,"prop-types":4255,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=c(e("prop-types")),r=e("../../../helpers/constants/design-system"),i=e("../../../contexts/i18n"),s=e("../../../components/component-library"),l=c(e("../../../components/app/permissions-connect-footer"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({subjectMetadata:e}){const t=(0,a.useContext)(i.I18nContext),[n,o]=(0,a.useState)(e);return(0,a.useEffect)(()=>{e&&e.origin&&o(e)},[e]),a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,width:r.BlockSize.Full,height:r.BlockSize.Full,justifyContent:r.JustifyContent.spaceBetween},a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,width:r.BlockSize.Full,height:r.BlockSize.Full,backgroundColor:r.BackgroundColor.backgroundDefault,borderRadius:r.BorderRadius.XS,border:`1px solid ${r.BorderColor.borderMuted}`,boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"},a.default.createElement(s.Box,{display:r.Display.Flex,marginBottom:4},a.default.createElement(s.Text,{variant:r.TextVariant.headingMd},t("connecting"))),a.default.createElement(s.Box,{display:r.Display.Flex,backgroundColor:r.BackgroundColor.infoMuted,borderRadius:r.BorderRadius.pill,padding:2},a.default.createElement(s.AvatarToken,{src:n.iconUrl,name:n.name,size:s.AvatarTokenSize.Lg}),a.default.createElement(s.Box,{display:r.Display.Flex,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,paddingLeft:4,paddingRight:4},a.default.createElement(s.Icon,{name:s.IconName.Confirmation,size:s.IconSize.Xl,color:r.IconColor.infoDefault})),a.default.createElement(s.AvatarToken,{src:"/images/logo/metamask-fox.svg",size:s.AvatarTokenSize.Lg,name:"metamask-fox"}))),a.default.createElement(s.Box,{backgroundColor:r.BackgroundColor.backgroundDefault,padding:4},a.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column},a.default.createElement(l.default,null),a.default.createElement(s.Box,{display:r.Display.Flex,paddingTop:4,width:r.BlockSize.Full,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center},a.default.createElement(s.Button,{variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,width:r.BlockSize.Full,marginRight:2,disabled:!0},t("back")),a.default.createElement(s.Button,{variant:s.ButtonVariant.Primary,size:s.ButtonSize.Lg,width:r.BlockSize.Full,marginLeft:2,disabled:!0,loading:!0},a.default.createElement(s.Icon,{name:s.IconName.Loading,size:s.IconSize.Lg,color:r.IconColor.infoDefault}))))))}d.propTypes={subjectMetadata:o.default.shape({extensionId:o.default.string,iconUrl:o.default.string,subjectType:o.default.string,name:o.default.string.isRequired,origin:o.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/permissions-connect/redirect/permissions-redirect.component.js"}],[6800,{"./snap-install":6801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-install"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/index.js"}],[6801,{"../../../../components/app/permission-connect-header":5364,"../../../../components/app/snaps/install-error/install-error":5390,"../../../../components/app/snaps/snap-authorship-header":5398,"../../../../components/app/snaps/snap-install-warning":5411,"../../../../components/app/snaps/snap-permissions-list":5423,"../../../../components/component-library":5645,"../../../../components/ui/page-container":6065,"../../../../components/ui/pulse-loader/pulse-loader":6074,"../../../../helpers/constants/design-system":6156,"../../../../helpers/utils/util":6209,"../../../../hooks/useI18nContext":6282,"../../../../hooks/useOriginMetadata":6297,"../../../../hooks/useScrollRequired":6301,"../../../../selectors":6959,"../util":6808,"@metamask/snaps-utils":2242,"prop-types":4255,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=T(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("@metamask/snaps-utils"),s=e("../../../../components/ui/page-container"),l=e("../../../../hooks/useI18nContext"),c=T(e("../../../../components/app/snaps/snap-install-warning")),u=e("../../../../helpers/constants/design-system"),d=e("../util"),p=T(e("../../../../components/ui/pulse-loader/pulse-loader")),m=T(e("../../../../components/app/snaps/snap-authorship-header")),f=e("../../../../components/component-library"),g=T(e("../../../../components/app/snaps/snap-permissions-list")),h=e("../../../../hooks/useScrollRequired"),y=T(e("../../../../components/app/snaps/install-error/install-error")),b=e("../../../../hooks/useOriginMetadata"),_=e("../../../../selectors"),E=e("../../../../helpers/utils/util"),v=T(e("../../../../components/app/permission-connect-header"));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function T(e){return e&&e.__esModule?e:{default:e}}function x({request:e,requestState:t,approveSnapInstall:n,rejectSnapInstall:a,targetSubjectMetadata:k}){var T,x,C;const w=(0,l.useI18nContext)(),S=(0,b.useOriginMetadata)(null==e||null===(T=e.metadata)||void 0===T?void 0:T.dappOrigin)||{},{origin:O,iconUrl:I}=S,[N,M]=(0,o.useState)(!1),R=(0,r.useSelector)(_.getSnapsMetadata),[A,B]=(0,o.useState)(!1),{isScrollable:P,hasScrolledToBottom:D,scrollToBottom:F,ref:L,onScroll:j}=(0,h.useScrollRequired)([t]),W=(0,o.useCallback)(()=>a(e.metadata.id),[e,a]),U=(0,o.useCallback)(()=>n(e.metadata.id),[e,n]),{name:z}=(0,r.useSelector)(e=>(0,_.getSnapMetadata)(e,k.origin)),$=!t.loading&&t.error,V=t.loading,q=(0,i.isSnapId)(null==e||null===(x=e.metadata)||void 0===x?void 0:x.dappOrigin),G=(0,d.getSnapInstallWarnings)((null==t?void 0:t.permissions)??{},w,z,(0,E.getSnapName)(R)),J=G.length>0;return o.default.createElement(f.Box,{className:"snap-install",display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,height:u.BlockSize.Full,borderStyle:u.BorderStyle.none,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},!V&&!$||q?o.default.createElement(m.default,{snapId:V&&q?null==e||null===(C=e.metadata)||void 0===C?void 0:C.dappOrigin:k.origin,onCancel:W}):o.default.createElement(v.default,{origin:O,iconUrl:I}),o.default.createElement(f.Box,{ref:V||$?undefined:L,onScroll:j,className:"snap-install__content",style:{overflowY:"auto",flex:!V&&!$&&"1"},paddingLeft:4,paddingRight:4},V&&o.default.createElement(f.Box,{display:u.Display.Flex,className:"snap-install__content__loader-container",flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center},o.default.createElement(p.default,null)),$&&o.default.createElement(y.default,{iconName:f.IconName.Warning,title:w("connectionFailed"),description:w("connectionFailedDescription",[o.default.createElement(f.Text,{as:"span",key:"1",fontWeight:u.FontWeight.Medium},z)]),error:t.error}),!$&&!V&&o.default.createElement(o.default.Fragment,null,o.default.createElement(f.Text,{variant:u.TextVariant.headingMd,paddingTop:4,paddingBottom:2,textAlign:"center"},w("installRequest")),o.default.createElement(f.Text,{className:"snap-install__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:u.TextAlign.Center},w("snapInstallRequest",[o.default.createElement(f.Text,{as:"span",key:"2",variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},z)])),o.default.createElement(f.Box,{display:u.Display.Flex,backgroundColor:u.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:u.BorderRadius.XL},o.default.createElement(g.default,{snapId:k.origin,snapName:z,permissions:t.permissions||{},connections:t.connections||{},onShowAllPermissions:()=>{B(!0)}})),o.default.createElement(f.Box,{className:"snap-install__scroll-button-area"},!P||D||A?null:o.default.createElement(f.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-install-scroll",iconName:f.IconName.Arrow2Down,backgroundColor:u.BackgroundColor.infoDefault,color:u.IconColor.primaryInverse,onClick:F,style:{cursor:"pointer"}})))),o.default.createElement(f.Box,{className:"snap-install__footer",display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,backgroundColor:u.BackgroundColor.backgroundAlternative},o.default.createElement(s.PageContainerFooter,{cancelButtonType:"default",hideCancel:$,disabled:V||!$&&P&&!D,onCancel:W,cancelText:w("cancel"),onSubmit:()=>{!$&&J?M(!0):$?W():U()},submitText:w($?"ok":V?"connect":"confirm")})),N&&o.default.createElement(c.default,{onCancel:()=>M(!1),onSubmit:U,warnings:G,snapName:z}))}x.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapInstall:a.default.func.isRequired,rejectSnapInstall:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-install/snap-install.js"}],[6802,{"./snap-result":6803},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-result"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/index.js"}],[6803,{"../../../../components/app/snaps/install-error/install-error":5390,"../../../../components/app/snaps/snap-authorship-header":5398,"../../../../components/component-library":5645,"../../../../components/ui/box/box":5985,"../../../../components/ui/page-container":6065,"../../../../components/ui/pulse-loader/pulse-loader":6074,"../../../../helpers/constants/design-system":6156,"../../../../hooks/useI18nContext":6282,"../../../../selectors":6959,"prop-types":4255,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=h(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../../components/ui/page-container"),s=e("../../../../hooks/useI18nContext"),l=h(e("../../../../components/ui/box/box")),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/component-library"),d=h(e("../../../../components/ui/pulse-loader/pulse-loader")),p=h(e("../../../../components/app/snaps/install-error/install-error")),m=h(e("../../../../components/app/snaps/snap-authorship-header")),f=e("../../../../selectors");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function y({request:e,requestState:t,approveSnapResult:n,targetSubjectMetadata:a}){const g=(0,s.useI18nContext)(),h=(0,o.useCallback)(()=>n(e.metadata.id),[e,n]),y=!t.loading&&t.error,b=t.loading,{name:_}=(0,r.useSelector)(e=>(0,f.getSnapMetadata)(e,a.origin));return o.default.createElement(l.default,{className:"page-container snap-result",justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,borderStyle:c.BorderStyle.none,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(m.default,{snapId:a.origin,onCancel:h}),o.default.createElement(l.default,{className:"snap-result__content",paddingLeft:4,paddingRight:4,alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative,height:c.BlockSize.Full,justifyContent:c.JustifyContent.center},b&&o.default.createElement(l.default,{className:"snap-result__content__loader-container",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,height:c.BlockSize.Full},o.default.createElement(d.default,null)),!b&&!y&&function(e,t){let n;switch(e){case"wallet_installSnap":n=g("snapInstallSuccess");break;case"wallet_updateSnap":n=g("snapUpdateSuccess");break;default:n=g("snapResultSuccess")}return o.default.createElement(l.default,{flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,height:c.BlockSize.Full,paddingTop:2,paddingBottom:2,backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(u.AvatarIcon,{className:"snap-result__header__icon",iconName:u.IconName.Confirmation,size:u.AvatarIconSize.Xl,color:c.IconColor.successDefault,backgroundColor:c.BackgroundColor.successMuted}),o.default.createElement(u.Text,{fontWeight:c.FontWeight.Bold,textAlign:c.TextAlign.Center,variant:c.TextVariant.headingLg,paddingBottom:2,marginTop:4},n),o.default.createElement(u.Text,{textAlign:c.TextAlign.Center},g("snapResultSuccessDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},t)])))}(t.type,_),y&&function(e,n){let a,r;switch(e){case"wallet_installSnap":a=g("snapInstallationErrorTitle"),r=g("snapInstallationErrorDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},n)]);break;case"wallet_updateSnap":a=g("snapUpdateErrorTitle"),r=g("snapUpdateErrorDescription",[o.default.createElement(u.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},n)]);break;default:a=g("snapResultError")}return o.default.createElement(p.default,{error:t.error,title:a,description:r,iconName:u.IconName.Warning})}(t.type,_)),o.default.createElement(l.default,{className:"snap-result__footer",alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(i.PageContainerFooter,{hideCancel:!0,disabled:b,onSubmit:h,submitText:g("ok").toUpperCase()})))}y.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapResult:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-result/snap-result.js"}],[6804,{"./snap-update":6805},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snap-update"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/index.js"}],[6805,{"../../../../components/app/snaps/install-error/install-error":5390,"../../../../components/app/snaps/snap-authorship-header":5398,"../../../../components/app/snaps/snap-install-warning":5411,"../../../../components/app/snaps/update-snap-permission-list":5515,"../../../../components/component-library":5645,"../../../../components/ui/page-container":6065,"../../../../components/ui/pulse-loader/pulse-loader":6074,"../../../../helpers/constants/design-system":6156,"../../../../helpers/utils/util":6209,"../../../../hooks/useI18nContext":6282,"../../../../hooks/useScrollRequired":6301,"../../../../selectors":6959,"../util":6808,"prop-types":4255,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=E(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../../components/ui/page-container"),s=e("../../../../hooks/useI18nContext"),l=E(e("../../../../components/app/snaps/snap-install-warning")),c=e("../../../../helpers/constants/design-system"),u=E(e("../../../../components/app/snaps/update-snap-permission-list")),d=e("../util"),p=E(e("../../../../components/ui/pulse-loader/pulse-loader")),m=E(e("../../../../components/app/snaps/install-error/install-error")),f=E(e("../../../../components/app/snaps/snap-authorship-header")),g=e("../../../../components/component-library"),h=e("../../../../hooks/useScrollRequired"),y=e("../../../../selectors"),b=e("../../../../helpers/utils/util");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function E(e){return e&&e.__esModule?e:{default:e}}function v({request:e,requestState:t,approveSnapUpdate:n,rejectSnapUpdate:a,targetSubjectMetadata:_}){const E=(0,s.useI18nContext)(),[v,k]=(0,o.useState)(!1),[T,x]=(0,o.useState)(!1),{isScrollable:C,hasScrolledToBottom:w,scrollToBottom:S,ref:O,onScroll:I}=(0,h.useScrollRequired)([t]),N=(0,r.useSelector)(y.getSnapsMetadata),M=(0,o.useCallback)(()=>a(e.metadata.id),[e,a]),R=(0,o.useCallback)(()=>n(e.metadata.id),[e,n]),{name:A}=(0,r.useSelector)(e=>(0,y.getSnapMetadata)(e,_.origin)),B=t.approvedPermissions??{},P=t.unusedPermissions??{},D=t.newPermissions??{},F=t.approvedConnections??{},L=t.unusedConnections??{},j=t.newConnections??{},{newVersion:W}=t,U=t.loading,z=!U&&t.error,$=(0,d.getSnapInstallWarnings)(D,E,A,(0,b.getSnapName)(N)),V=$.length>0;return o.default.createElement(g.Box,{className:"snap-update",display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,height:c.BlockSize.Full,borderStyle:c.BorderStyle.none,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(f.default,{snapId:_.origin,onCancel:M}),o.default.createElement(g.Box,{ref:O,onScroll:I,className:"snap-update__content",style:{overflowY:"auto",flex:!U&&"1"},paddingLeft:4,paddingRight:4},!U&&!z&&o.default.createElement(g.Text,{paddingTop:4,paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:"center"},E("updateRequest")),U&&o.default.createElement(g.Box,{className:"snap-update__content__loader-container",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center},o.default.createElement(p.default,null)),z&&o.default.createElement(m.default,{iconName:g.IconName.Warning,error:t.error,title:E("snapUpdateErrorTitle"),description:E("snapUpdateErrorDescription",[o.default.createElement(g.Text,{as:"span",key:"1",fontWeight:c.FontWeight.Medium},A)])}),!z&&!U&&o.default.createElement(o.default.Fragment,null,o.default.createElement(g.Text,{className:"snap-update__content__permission-description",paddingBottom:4,paddingLeft:4,paddingRight:4,textAlign:c.TextAlign.Center},E("snapUpdateRequest",[o.default.createElement(g.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},A),o.default.createElement(g.Text,{as:"span",key:"3",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},W)])),o.default.createElement(g.Box,{display:c.Display.Flex,backgroundColor:c.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:c.BorderRadius.XL},o.default.createElement(u.default,{approvedPermissions:B,revokedPermissions:P,newPermissions:D,approvedConnections:F,revokedConnections:L,newConnections:j,targetSubjectMetadata:_,showAllPermissions:()=>{x(!0)}})),o.default.createElement(g.Box,{className:"snap-update__scroll-button-area"},!C||w||T?null:o.default.createElement(g.AvatarIcon,{className:"snap-install__scroll-button","data-testid":"snap-update-scroll",iconName:g.IconName.Arrow2Down,backgroundColor:c.BackgroundColor.infoDefault,color:c.IconColor.primaryInverse,onClick:S,style:{cursor:"pointer"}})))),o.default.createElement(g.Box,{className:"snap-update__footer",display:c.Display.Flex,alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column,backgroundColor:c.BackgroundColor.backgroundAlternative},o.default.createElement(i.PageContainerFooter,{cancelButtonType:"default",hideCancel:z,disabled:U||!z&&C&&!w,onCancel:M,cancelText:E("cancel"),onSubmit:()=>{!z&&V?k(!0):z?M():R()},submitText:E(z?"ok":"confirm")})),v&&o.default.createElement(l.default,{onCancel:()=>k(!1),onSubmit:R,snapName:A,warnings:$}))}v.propTypes={request:a.default.object.isRequired,requestState:a.default.object.isRequired,approveSnapUpdate:a.default.func.isRequired,rejectSnapUpdate:a.default.func.isRequired,targetSubjectMetadata:a.default.shape({iconUrl:a.default.string,name:a.default.string,origin:a.default.string.isRequired,sourceCode:a.default.string,version:a.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snap-update/snap-update.js"}],[6806,{"./snaps-connect":6807},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./snaps-connect"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/index.js"}],[6807,{"../../../../components/app/snaps/snap-connect-cell/snap-connect-cell":5402,"../../../../components/app/snaps/snap-icon":5409,"../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning":5426,"../../../../components/component-library":5645,"../../../../components/ui/page-container":6065,"../../../../components/ui/pulse-loader/pulse-loader":6074,"../../../../helpers/constants/design-system":6156,"../../../../helpers/utils/util":6209,"../../../../hooks/useI18nContext":6282,"../../../../hooks/useOriginMetadata":6297,"../../../../selectors":6959,"@metamask/snaps-utils":2242,"prop-types":4255,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=b(e("prop-types")),i=e("@metamask/snaps-utils"),s=e("../../../../hooks/useI18nContext"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/ui/page-container"),d=b(e("../../../../components/app/snaps/snap-connect-cell/snap-connect-cell")),p=e("../../../../helpers/utils/util"),m=b(e("../../../../components/ui/pulse-loader/pulse-loader")),f=b(e("../../../../components/app/snaps/snap-privacy-warning/snap-privacy-warning")),g=e("../../../../selectors"),h=e("../../../../hooks/useOriginMetadata"),y=e("../../../../components/app/snaps/snap-icon");function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function E({request:e,approveConnection:t,rejectConnection:n,targetSubjectMetadata:r,snapsInstallPrivacyWarningShown:b,setSnapsInstallPrivacyWarningShownStatus:_}){const E=(0,s.useI18nContext)(),{origin:v}=r,[k,T]=(0,a.useState)(!1),x=(0,o.useSelector)(t=>{var n;return(0,g.getPermissions)(t,null==e||null===(n=e.metadata)||void 0===n?void 0:n.origin)}),C=(0,o.useSelector)(g.getPreinstalledSnaps),w=(0,p.getDedupedSnaps)(e,x),S=w[0],{name:O}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,S)),I=Object.keys(C).includes(S),[N,M]=(0,a.useState)(!I&&!b),R=(0,a.useCallback)(()=>{n(e.metadata.id)},[e,n]),A=(0,a.useCallback)(()=>{try{T(!0),t(e)}finally{T(!1)}},[e,t]),B=()=>{var e;let t=null===(e=(0,h.useOriginMetadata)(v)||{})||void 0===e?void 0:e.hostname;const{name:n}=(0,o.useSelector)(e=>(0,g.getSnapMetadata)(e,(0,i.isSnapId)(v)?v:`npm:${v}`));return(0,i.isSnapId)(v)&&(t=n),k?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,width:c.BlockSize.Full,height:c.BlockSize.Full},a.default.createElement(m.default,null)):(null==w?void 0:w.length)>1?a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,paddingTop:4,width:c.BlockSize.Full,style:{overflowY:"hidden"},backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:c.TextAlign.Center},E("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center},E("multipleSnapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},null==w?void 0:w.length)])),a.default.createElement(l.Box,{flexDirection:c.FlexDirection.Column,display:c.Display.Flex,marginTop:4,width:c.BlockSize.Full,style:{overflowY:"auto",flex:1}},w.map(e=>a.default.createElement(d.default,{key:`snaps-connect-${e}`,snapId:e,origin:t})))):1===(null==w?void 0:w.length)?a.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,justifyContent:c.JustifyContent.center,alignItems:c.AlignItems.center,width:c.BlockSize.Full,height:c.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:c.BackgroundColor.backgroundAlternative},a.default.createElement(l.Box,{paddingBottom:2},a.default.createElement(y.SnapIcon,{snapId:w[0],avatarSize:l.IconSize.Xl})),a.default.createElement(l.Text,{paddingBottom:2,variant:c.TextVariant.headingMd,textAlign:"center"},E("connectionRequest")),a.default.createElement(l.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center,padding:[0,4],overflowWrap:c.OverflowWrap.Anywhere},E("snapConnectionWarning",[a.default.createElement(l.Text,{as:"span",key:"1",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},t),a.default.createElement(l.Text,{as:"span",key:"2",variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Medium},O)]))):null};return a.default.createElement(l.Box,{className:"snaps-connect",display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,height:c.BlockSize.Full,width:c.BlockSize.Full,backgroundColor:c.BackgroundColor.backgroundAlternative},N&&a.default.createElement(f.default,{onAccepted:()=>{M(!1),_(!0)},onCanceled:R}),a.default.createElement(l.Box,{display:c.Display.Flex,height:c.BlockSize.Full,width:c.BlockSize.Full,paddingLeft:4,paddingRight:4},a.default.createElement(B,null)),a.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",hideCancel:!1,disabled:k,onCancel:R,cancelText:E("cancel"),onSubmit:A,submitText:E("connect")}))}E.propTypes={request:r.default.object.isRequired,approveConnection:r.default.func.isRequired,rejectConnection:r.default.func.isRequired,targetSubjectMetadata:r.default.shape({extensionId:r.default.string,iconUrl:r.default.string,name:r.default.string,origin:r.default.string,subjectType:r.default.string}),snapsInstallPrivacyWarningShown:r.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:r.default.func}}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/snaps-connect/snaps-connect.js"}],[6808,{"../../../helpers/utils/permission":6198},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSnapInstallWarnings=function(e,t,n,o){return Object.entries(e).reduce((e,[r,i])=>{const s=(0,a.getPermissionDescription)({t:t,permissionName:r,permissionValue:i,subjectName:n,getSubjectName:o});return e.concat(s.filter(e=>e.weight<=2))},[])};var a=e("../../../helpers/utils/permission")}}},{package:"$root$",file:"ui/pages/permissions-connect/snaps/util.js"}],[6809,{"./remove-snap-account":6810,"./snap-account-card":6811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a={RemoveSnapAccount:!0};Object.defineProperty(n,"RemoveSnapAccount",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./remove-snap-account"))&&o.__esModule?o:{default:o},i=e("./snap-account-card");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))})}}},{package:"$root$",file:"ui/pages/remove-snap-account/index.ts"}],[6810,{"../../components/app/snaps/snap-authorship-header":5398,"../../components/component-library":5645,"../../helpers/constants/design-system":6156,"../../hooks/useI18nContext":6282,"./snap-account-card":6811,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),o=e("../../components/component-library"),r=e("../../helpers/constants/design-system"),i=e("../../hooks/useI18nContext"),s=c(e("../../components/app/snaps/snap-authorship-header")),l=e("./snap-account-card");function c(e){return e&&e.__esModule?e:{default:e}}n.default=({snapId:e,publicAddress:t,onCancel:n})=>{const c=(0,i.useI18nContext)();return a.default.createElement(o.Box,{className:"remove-snap-account-page",height:r.BlockSize.Full,width:r.BlockSize.Full,display:r.Display.Flex,borderStyle:r.BorderStyle.none,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,marginBottom:0},a.default.createElement(s.default,{snapId:e,onCancel:n}),a.default.createElement(o.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,padding:4,width:r.BlockSize.Full,style:{flexGrow:1}},a.default.createElement(o.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,width:r.BlockSize.Full},a.default.createElement(o.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,width:r.BlockSize.Full},a.default.createElement(o.Box,{paddingBottom:2},a.default.createElement(o.AvatarIcon,{iconName:o.IconName.UserCircleRemove,color:r.IconColor.errorDefault,backgroundColor:r.BackgroundColor.errorMuted,size:o.AvatarIconSize.Xl})),a.default.createElement(o.Text,{textAlign:r.TextAlign.Center,variant:r.TextVariant.headingLg,paddingBottom:2},c("removeSnapAccountTitle")),a.default.createElement(l.SnapAccountCard,{address:t,remove:!0}),a.default.createElement(o.Text,{variant:r.TextVariant.bodyMd,textAlign:r.TextAlign.Center,overflowWrap:r.OverflowWrap.Anywhere},c("removeSnapAccountDescription"))))))}}}},{package:"$root$",file:"ui/pages/remove-snap-account/remove-snap-account.tsx"}],[6811,{"../../components/component-library":5645,"../../components/multichain/account-list-item":5738,"../../helpers/constants/design-system":6156,"../../selectors":6959,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapAccountCard=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),i=e("../../selectors"),s=e("../../helpers/constants/design-system"),l=e("../../components/component-library"),c=e("../../components/multichain/account-list-item");n.SnapAccountCard=({address:e,remove:t})=>{const n=(0,r.useSelector)(i.getMetaMaskAccountsOrdered).find(t=>t.address===e);return o.default.createElement(l.Box,{className:t?"snap-account-card-remove":"snap-account-card",borderRadius:s.BorderRadius.LG,marginTop:4,marginBottom:4,width:s.BlockSize.Full,style:{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}},o.default.createElement(c.AccountListItem,{account:n,selected:t||!1}))}}}},{package:"$root$",file:"ui/pages/remove-snap-account/snap-account-card.tsx"}],[6812,{"./routes.container":6814},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./routes.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/routes/index.js"}],[6813,{"../../../app/scripts/lib/util":225,"../../../shared/constants/app":4973,"../../../shared/lib/confirmation.utils":5019,"../../components/app/alerts":5135,"../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal":5167,"../../components/app/assets/nfts/nft-details/nft-full-image":5172,"../../components/app/basic-configuration-modal":5200,"../../components/app/loading-network-screen":5277,"../../components/app/modals":5314,"../../components/app/modals/keyring-snap-removal-modal":5315,"../../components/app/qr-hardware-popover":5378,"../../components/app/toast-master/toast-master":5536,"../../components/component-library":5645,"../../components/multichain":5841,"../../components/multichain-accounts/multichain-account-list-menu":5719,"../../components/multichain/app-header/multichain-meta-fox-logo":5766,"../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover":5863,"../../components/multichain/pages/connections":5928,"../../components/multichain/pages/permissions-page/permissions-page":5938,"../../components/multichain/pages/review-permissions-page/review-permissions-page":5939,"../../components/multichain/pages/send":5959,"../../components/ui/alert":5984,"../../components/ui/deprecated-networks/deprecated-networks":6009,"../../components/ui/loading-screen":6047,"../../helpers/constants/routes":6161,"../../helpers/higher-order-components/authenticated":6171,"../../helpers/higher-order-components/initialized":6173,"../../helpers/utils/mm-lazy":6194,"../asset":6338,"../bridge":6347,"../bridge/transaction-details/transaction-details":6373,"../confirm-add-suggested-nft":6379,"../confirm-add-suggested-token":6381,"../confirmations/components/confirm/smart-account-update":6513,"../confirmations/confirm-transaction":6580,"../confirmations/confirmation":6592,"../create-account/create-account.component":6699,"../deep-link/deep-link":6702,"../defi":6705,"../home":6709,"../keychains/restore-vault":6711,"../keychains/reveal-seed":6712,"../lock":6713,"../multi-srp/import-srp":6717,"../multichain-accounts/account-details":6722,"../multichain-accounts/address-qr-code":6728,"../multichain-accounts/wallet-details":6730,"../notification-details":6732,"../notifications":6744,"../notifications-settings":6738,"../onboarding-flow/onboarding-flow":6774,"../permissions-connect":6795,"../settings":6844,"../settings/deprecated-network-modal/DeprecatedNetworkModal":6835,"../snaps/snap-view":6882,"../snaps/snaps-list":6885,"../swaps":6905,"../unlock-page":6944,"./utils":6815,classnames:3349,"prop-types":4255,react:4437,"react-idle-timer":4354,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=L(e("classnames")),o=L(e("prop-types")),r=U(e("react")),i=e("react-router-dom"),s=L(e("react-idle-timer")),l=L(e("../../helpers/higher-order-components/authenticated")),c=L(e("../../helpers/higher-order-components/initialized")),u=L(e("../permissions-connect")),d=L(e("../../components/ui/loading-screen")),p=L(e("../../components/app/loading-network-screen")),m=e("../../components/app/modals"),f=L(e("../../components/ui/alert")),g=e("../../components/multichain"),h=L(e("../../components/app/alerts")),y=e("../../helpers/constants/routes"),b=e("../../../shared/constants/app"),_=e("../../../app/scripts/lib/util"),E=L(e("../../components/app/qr-hardware-popover")),v=L(e("../../components/ui/deprecated-networks/deprecated-networks")),k=e("../../components/component-library"),T=e("../../components/app/assets/nfts/nft-default-image/toggle-ipfs-modal"),x=e("../../components/app/basic-configuration-modal"),C=L(e("../../components/app/modals/keyring-snap-removal-modal")),w=e("../settings/deprecated-network-modal/DeprecatedNetworkModal"),S=e("../../components/multichain/app-header/multichain-meta-fox-logo"),O=L(e("../../components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover")),I=e("../../components/app/toast-master/toast-master"),N=e("../../helpers/utils/mm-lazy"),M=L(e("../bridge/transaction-details/transaction-details")),R=e("../../../shared/lib/confirmation.utils"),A=e("../../components/multichain-accounts/multichain-account-list-menu"),B=e("../confirmations/components/confirm/smart-account-update"),P=e("../multichain-accounts/account-details"),D=e("../multichain-accounts/address-qr-code"),F=e("./utils");function L(e){return e&&e.__esModule?e:{default:e}}function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function U(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const z=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../onboarding-flow/onboarding-flow")))),$=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../lock")))),V=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../unlock-page")))),q=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../keychains/restore-vault")))),G=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../multi-srp/import-srp")))),J=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../keychains/reveal-seed")))),K=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../settings")))),H=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../notifications-settings")))),Y=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../notification-details")))),X=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../notifications")))),Q=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../snaps/snaps-list")))),Z=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../snaps/snap-view")))),ee=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../confirmations/confirm-transaction")))),te=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../../components/multichain/pages/send")))),ne=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../swaps")))),ae=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../bridge")))),oe=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../confirm-add-suggested-token")))),re=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../confirm-add-suggested-nft")))),ie=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../confirmations/confirmation")))),se=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../create-account/create-account.component")))),le=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../../components/app/assets/nfts/nft-details/nft-full-image")))),ce=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../asset")))),ue=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../defi")))),de=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../../components/multichain/pages/permissions-page/permissions-page")))),pe=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../../components/multichain/pages/connections")))),me=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../../components/multichain/pages/review-permissions-page/review-permissions-page")))),fe=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../home")))),ge=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../deep-link/deep-link")))),he=(0,N.mmLazy)(()=>Promise.resolve().then(()=>U(e("../multichain-accounts/wallet-details"))));class ye extends r.Component{componentDidUpdate(e){const{theme:t,networkToAutomaticallySwitchTo:n,totalUnapprovedConfirmationCount:a,isUnlocked:o,currentExtensionPopupId:r}=this.props;t!==e.theme&&(0,F.setTheme)(t),n&&0===a&&(e.totalUnapprovedConfirmationCount>0||!1===e.isUnlocked&&o)&&this.props.automaticallySwitchNetwork(n),r!==undefined&&global.metamask.id!==undefined&&r!==global.metamask.id&&window.close()}UNSAFE_componentWillMount(){const{currentCurrency:e,pageChanged:t,setCurrentCurrencyToUSD:n,history:a,showExtensionInFullSizeView:o}=this.props,r=(0,_.getEnvironmentType)();o&&r===b.ENVIRONMENT_TYPE_POPUP&&global.platform.openExtensionInBrowser(),e||n(),a.listen((e,n)=>{"PUSH"===n&&t(e.pathname)}),(0,F.setTheme)(this.props.theme)}renderRoutes(){const{autoLockTimeLimit:e,setLastActiveTime:t,forgottenPassword:n}=this.props,a=n?i.Route:c.default,o=r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(i.Switch,null,r.default.createElement(i.Route,{path:y.ONBOARDING_ROUTE,component:z}),r.default.createElement(i.Route,{path:y.LOCK_ROUTE,component:$,exact:!0}),r.default.createElement(c.default,{path:y.UNLOCK_ROUTE,component:V,exact:!0}),r.default.createElement(i.Route,{path:y.DEEP_LINK_ROUTE,component:ge}),r.default.createElement(a,{path:y.RESTORE_VAULT_ROUTE,component:q,exact:!0}),r.default.createElement(l.default,{path:y.SMART_ACCOUNT_UPDATE,component:B.SmartAccountUpdate}),r.default.createElement(l.default,{path:`${y.REVEAL_SEED_ROUTE}/:keyringId?`,component:J}),r.default.createElement(l.default,{path:y.IMPORT_SRP_ROUTE,component:G}),r.default.createElement(l.default,{path:y.SETTINGS_ROUTE,component:K}),r.default.createElement(l.default,{path:y.NOTIFICATIONS_SETTINGS_ROUTE,component:H}),r.default.createElement(l.default,{path:`${y.NOTIFICATIONS_ROUTE}/:uuid`,component:Y}),r.default.createElement(l.default,{path:y.NOTIFICATIONS_ROUTE,component:X}),r.default.createElement(l.default,{exact:!0,path:y.SNAPS_ROUTE,component:Q}),r.default.createElement(l.default,{path:y.SNAPS_VIEW_ROUTE,component:Z}),r.default.createElement(l.default,{path:`${y.CONFIRM_TRANSACTION_ROUTE}/:id?`,component:ee}),r.default.createElement(l.default,{path:y.SEND_ROUTE,component:te,exact:!0}),r.default.createElement(l.default,{path:y.SWAPS_ROUTE,component:ne}),r.default.createElement(l.default,{path:`${y.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/:srcTxMetaId`,component:M.default,exact:!0}),r.default.createElement(l.default,{path:y.CROSS_CHAIN_SWAP_ROUTE,component:ae}),r.default.createElement(l.default,{path:y.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE,component:oe,exact:!0}),r.default.createElement(l.default,{path:y.CONFIRM_ADD_SUGGESTED_NFT_ROUTE,component:re,exact:!0}),r.default.createElement(l.default,{path:`${y.CONFIRMATION_V_NEXT_ROUTE}/:id?`,component:ie}),r.default.createElement(l.default,{path:y.NEW_ACCOUNT_ROUTE,component:se}),r.default.createElement(l.default,{path:`${y.CONNECT_ROUTE}/:id`,component:u.default}),r.default.createElement(l.default,{path:`${y.ASSET_ROUTE}/image/:asset/:id`,component:le}),r.default.createElement(l.default,{path:`${y.ASSET_ROUTE}/:chainId/:asset/:id`,component:ce}),r.default.createElement(l.default,{path:`${y.ASSET_ROUTE}/:chainId/:asset/`,component:ce}),r.default.createElement(l.default,{path:`${y.ASSET_ROUTE}/:chainId`,component:ce}),r.default.createElement(l.default,{path:`${y.DEFI_ROUTE}/:chainId/:protocolId`,component:ue}),r.default.createElement(l.default,{path:`${y.CONNECTIONS}/:origin`,component:pe}),r.default.createElement(l.default,{path:y.PERMISSIONS,component:de,exact:!0}),r.default.createElement(l.default,{path:`${y.REVIEW_PERMISSIONS}/:origin`,component:me,exact:!0}),r.default.createElement(l.default,{path:y.WALLET_DETAILS_ROUTE,component:he,exact:!0}),r.default.createElement(l.default,{path:`${y.ACCOUNT_DETAILS_ROUTE}/:address`,component:P.MultichainAccountDetails,exact:!0}),r.default.createElement(l.default,{path:`${y.ACCOUNT_DETAILS_QR_CODE_ROUTE}/:address`,component:D.AddressQRCode,exact:!0}),r.default.createElement(l.default,{path:y.DEFAULT_ROUTE,component:fe})));return e>0?r.default.createElement(s.default,{onAction:t,throttle:1e3},o):o}renderAccountDetails(){const{accountDetailsAddress:e,isMultichainAccountsState1Enabled:t}=this.props;return!e||t?null:r.default.createElement(g.AccountDetails,{address:e})}render(){var e;const{isLoading:t,isUnlocked:n,alertMessage:o,textDirection:i,loadingMessage:s,isNetworkLoading:l,browserEnvironmentOs:c,browserEnvironmentBrowser:u,shouldShowSeedPhraseReminder:N,completedOnboarding:M,isAccountMenuOpen:B,toggleAccountMenu:P,isNetworkMenuOpen:D,isImportTokensModalOpen:L,isDeprecatedNetworkModalOpen:j,location:W,isImportNftsModalOpen:U,hideImportNftsModal:z,isIpfsModalOpen:$,isBasicConfigurationModalOpen:V,hideIpfsModal:q,hideImportTokensModal:G,hideDeprecatedNetworkModal:J,networkMenuClose:K,privacyMode:H,oldestPendingApproval:Y,pendingApprovals:X,transactionsMetadata:Q,isShowKeyringSnapRemovalResultModal:Z,hideShowKeyringSnapRemovalResultModal:ee,pendingConfirmations:te}=this.props,ne=s||l?(0,F.getConnectingLabel)(s,this.props,this.context):null,ae=(0,_.getEnvironmentType)()!==b.ENVIRONMENT_TYPE_NOTIFICATION&&n&&!N,oe=W.pathname.split("/confirm-transaction/")[1]??(null==Y?void 0:Y.id),re=X.find(e=>e.id===oe),ie=(0,R.isCorrectSignatureApprovalType)(null==re?void 0:re.type),se=(0,R.isCorrectDeveloperTransactionType)(null===(e=Q[oe])||void 0===e?void 0:e.type),le=W.pathname===y.DEEP_LINK_ROUTE;let ce=t&&M&&!ie&&!se&&!le;ce=t&&M&&!te.some(e=>e.type===b.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect)&&!ie&&!se&&!le;const ue=this.props.isMultichainAccountsState1Enabled?r.default.createElement(A.MultichainAccountListMenu,{onClose:P,privacyMode:H}):r.default.createElement(g.AccountListMenu,{onClose:P,privacyMode:H});return r.default.createElement("div",{className:(0,a.default)("app",{[`os-${c}`]:c,[`browser-${u}`]:u}),dir:i},ae?r.default.createElement(v.default,null):null,r.default.createElement(E.default,null),r.default.createElement(m.Modal,null),r.default.createElement(f.default,{visible:this.props.alertOpen,msg:o}),(0,F.showAppHeader)(this.props)&&r.default.createElement(g.AppHeader,{location:W}),(0,F.isConfirmTransactionRoute)(this.pathname)&&r.default.createElement(S.MultichainMetaFoxLogo,null),B?ue:null,D?r.default.createElement(g.NetworkListMenu,{onClose:K}):null,r.default.createElement(O.default,null),this.renderAccountDetails(),U?r.default.createElement(g.ImportNftsModal,{onClose:z}):null,$?r.default.createElement(T.ToggleIpfsModal,{onClose:q}):null,V?r.default.createElement(x.BasicConfigurationModal,null):null,L?r.default.createElement(g.ImportTokensModal,{onClose:G}):null,j?r.default.createElement(w.DeprecatedNetworkModal,{onClose:J}):null,Z&&r.default.createElement(C.default,{isOpen:Z,onClose:ee}),r.default.createElement(k.Box,{className:"main-container-wrapper"},ce?r.default.createElement(d.default,{loadingMessage:ne}):null,!t&&n&&l&&M&&!le?r.default.createElement(p.default,null):null,this.renderRoutes()),n?r.default.createElement(h.default,{history:this.props.history}):null,r.default.createElement(I.ToastMaster,null))}}n.default=ye,j(ye,"propTypes",{currentCurrency:o.default.string,setCurrentCurrencyToUSD:o.default.func,isLoading:o.default.bool,loadingMessage:o.default.string,alertMessage:o.default.string,textDirection:o.default.string,isNetworkLoading:o.default.bool,alertOpen:o.default.bool,isUnlocked:o.default.bool,setLastActiveTime:o.default.func,history:o.default.object,location:o.default.object,autoLockTimeLimit:o.default.number,privacyMode:o.default.bool,pageChanged:o.default.func.isRequired,browserEnvironmentOs:o.default.string,browserEnvironmentBrowser:o.default.string,theme:o.default.string,showExtensionInFullSizeView:o.default.bool,shouldShowSeedPhraseReminder:o.default.bool,forgottenPassword:o.default.bool,completedOnboarding:o.default.bool,isAccountMenuOpen:o.default.bool,toggleAccountMenu:o.default.func,isNetworkMenuOpen:o.default.bool,networkMenuClose:o.default.func,accountDetailsAddress:o.default.string,isImportNftsModalOpen:o.default.bool.isRequired,hideImportNftsModal:o.default.func.isRequired,isIpfsModalOpen:o.default.bool.isRequired,isBasicConfigurationModalOpen:o.default.bool.isRequired,hideIpfsModal:o.default.func.isRequired,isImportTokensModalOpen:o.default.bool.isRequired,hideImportTokensModal:o.default.func.isRequired,isDeprecatedNetworkModalOpen:o.default.bool.isRequired,hideDeprecatedNetworkModal:o.default.func.isRequired,networkToAutomaticallySwitchTo:o.default.object,automaticallySwitchNetwork:o.default.func.isRequired,totalUnapprovedConfirmationCount:o.default.number.isRequired,currentExtensionPopupId:o.default.number,oldestPendingApproval:o.default.object,pendingApprovals:o.default.arrayOf(o.default.object).isRequired,transactionsMetadata:o.default.object.isRequired,isMultichainAccountsState1Enabled:o.default.bool.isRequired,isShowKeyringSnapRemovalResultModal:o.default.bool.isRequired,hideShowKeyringSnapRemovalResultModal:o.default.func.isRequired,pendingConfirmations:o.default.array.isRequired}),j(ye,"contextTypes",{t:o.default.func,metricsEvent:o.default.func})}}},{package:"$root$",file:"ui/pages/routes/routes.component.js"}],[6814,{"../../../shared/constants/preferences":4994,"../../../shared/modules/selectors/networks":5096,"../../ducks/history/history":6140,"../../ducks/metamask/metamask":6143,"../../ducks/send":6148,"../../ducks/swaps/swaps":6152,"../../selectors":6959,"../../selectors/multi-srp/multi-srp":6962,"../../store/actions":6981,"./routes.component":6813,"react-redux":4383,"react-router-dom":4407,redux:4455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("react-router-dom"),i=e("redux"),s=e("../../../shared/modules/selectors/networks"),l=e("../../selectors"),c=e("../../store/actions"),u=e("../../ducks/history/history"),d=e("../../ducks/swaps/swaps"),p=e("../../ducks/send"),m=e("../../ducks/metamask/metamask"),f=e("../../../shared/constants/preferences"),g=e("../../selectors/multi-srp/multi-srp"),h=(a=e("./routes.component"))&&a.__esModule?a:{default:a};n.default=(0,i.compose)(r.withRouter,(0,o.connect)(function(e){var t,n;const{activeTab:a,appState:o}=e,{alertOpen:r,alertMessage:i,isLoading:c,loadingMessage:u}=o,{autoLockTimeLimit:d=f.DEFAULT_AUTO_LOCK_TIME_LIMIT,privacyMode:h}=(0,l.getPreferences)(e),{completedOnboarding:y}=e.metamask,b=(0,l.getSelectedInternalAccount)(e),_=null==a?void 0:a.origin,E=(0,l.getCurrentNetwork)(e),v=(0,l.getNetworkToAutomaticallySwitchTo)(e),k=(0,l.oldestPendingConfirmationSelector)(e),T=(0,l.getPendingApprovals)(e),x=(0,l.getUnapprovedTransactions)(e),C=b&&(0,g.getShouldShowSeedPhraseReminder)(e,b);return{alertOpen:r,alertMessage:i,account:b,activeTabOrigin:_,textDirection:e.metamask.textDirection,isLoading:c,loadingMessage:u,isUnlocked:(0,m.getIsUnlocked)(e),isNetworkLoading:(0,s.isNetworkLoading)(e),currentCurrency:e.metamask.currentCurrency,autoLockTimeLimit:d,privacyMode:h,browserEnvironmentOs:null===(t=e.metamask.browserEnvironment)||void 0===t?void 0:t.os,browserEnvironmentContainter:null===(n=e.metamask.browserEnvironment)||void 0===n?void 0:n.browser,providerId:(0,l.getNetworkIdentifier)(e),providerType:(0,s.getProviderConfig)(e).type,theme:(0,l.getTheme)(e),sendStage:(0,p.getSendStage)(e),allAccountsOnNetworkAreEmpty:(0,l.getAllAccountsOnNetworkAreEmpty)(e),isTestNet:(0,l.getIsTestnet)(e),showExtensionInFullSizeView:(0,l.getShowExtensionInFullSizeView)(e),currentChainId:(0,s.getCurrentChainId)(e),shouldShowSeedPhraseReminder:C,forgottenPassword:e.metamask.forgottenPassword,isCurrentProviderCustom:(0,l.isCurrentProviderCustom)(e),completedOnboarding:y,isAccountMenuOpen:e.appState.isAccountMenuOpen,isNetworkMenuOpen:e.appState.isNetworkMenuOpen,isImportTokensModalOpen:e.appState.importTokensModalOpen,isBasicConfigurationModalOpen:e.appState.showBasicFunctionalityModal,isDeprecatedNetworkModalOpen:e.appState.deprecatedNetworkModalOpen,accountDetailsAddress:e.appState.accountDetailsAddress,isImportNftsModalOpen:e.appState.importNftsModal.open,isIpfsModalOpen:e.appState.showIpfsModalOpen,networkToAutomaticallySwitchTo:v,currentNetwork:E,totalUnapprovedConfirmationCount:(0,l.getNumberOfAllUnapprovedTransactionsAndMessages)(e),currentExtensionPopupId:e.metamask.currentExtensionPopupId,oldestPendingApproval:k,pendingApprovals:T,transactionsMetadata:x,isMultichainAccountsState1Enabled:(0,l.getIsMultichainAccountsState1Enabled)(e),isShowKeyringSnapRemovalResultModal:e.appState.showKeyringRemovalSnapModal,pendingConfirmations:(0,l.getUnapprovedConfirmations)(e)}},function(e){return{lockMetaMask:()=>e((0,c.lockMetamask)(!1)),setCurrentCurrencyToUSD:()=>e((0,c.setCurrentCurrency)("usd")),setLastActiveTime:()=>e((0,c.setLastActiveTime)()),pageChanged:t=>e((0,u.pageChanged)(t)),prepareToLeaveSwaps:()=>e((0,d.prepareToLeaveSwaps)()),toggleAccountMenu:()=>e((0,c.toggleAccountMenu)()),toggleNetworkMenu:()=>e((0,c.toggleNetworkMenu)()),hideImportNftsModal:()=>e((0,c.hideImportNftsModal)()),hideIpfsModal:()=>e((0,c.hideIpfsModal)()),hideImportTokensModal:()=>e((0,c.hideImportTokensModal)()),hideDeprecatedNetworkModal:()=>e((0,c.hideDeprecatedNetworkModal)()),addPermittedAccount:(t,n)=>e((0,c.addPermittedAccount)(t,n)),automaticallySwitchNetwork:t=>e((0,c.automaticallySwitchNetwork)(t)),networkMenuClose:()=>{e((0,c.toggleNetworkMenu)()),e((0,c.setEditedNetwork)())},hideShowKeyringSnapRemovalResultModal:()=>e((0,c.hideKeyringRemovalResultModal)())}}))(h.default)}}},{package:"$root$",file:"ui/pages/routes/routes.container.js"}],[6815,{"../../../app/scripts/lib/util":225,"../../../shared/constants/app":4973,"../../../shared/constants/network":4989,"../../../shared/constants/preferences":4994,"../../helpers/constants/routes":6161,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getConnectingLabel=function(e,t,n){if(e)return e;const{providerType:a,providerId:o}=t,{t:r}=n;switch(a){case i.NETWORK_TYPES.MAINNET:return r("connectingToMainnet");case i.NETWORK_TYPES.GOERLI:return r("connectingToGoerli");case i.NETWORK_TYPES.SEPOLIA:return r("connectingToSepolia");case i.NETWORK_TYPES.LINEA_GOERLI:return r("connectingToLineaGoerli");case i.NETWORK_TYPES.LINEA_SEPOLIA:return r("connectingToLineaSepolia");case i.NETWORK_TYPES.LINEA_MAINNET:return r("connectingToLineaMainnet");default:return r("connectingTo",[o])}},n.hideAppHeader=function(e){const{location:t}=e;if(Boolean((0,a.matchPath)(t.pathname,{path:`${l.NOTIFICATIONS_ROUTE}`,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.DEEP_LINK_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.ONBOARDING_ROUTE,exact:!1})))return!0;const n=(0,o.getEnvironmentType)();if(n===r.ENVIRONMENT_TYPE_NOTIFICATION)return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.PERMISSIONS,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.CONNECTIONS,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.REVIEW_PERMISSIONS,exact:!1})))return!0;if(n===r.ENVIRONMENT_TYPE_POPUP&&function(e){const{location:t}=e;return Boolean((0,a.matchPath)(t.pathname,{path:l.CONFIRM_TRANSACTION_ROUTE,exact:!1}))}(e))return!0;const i=Boolean((0,a.matchPath)(t.pathname,{path:l.CONNECT_ROUTE,exact:!1}));if(Boolean((0,a.matchPath)(t.pathname,{path:l.SEND_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.WALLET_DETAILS_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.SNAPS_VIEW_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:`${l.CROSS_CHAIN_SWAP_ROUTE}`,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.ASSET_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.ACCOUNT_DETAILS_ROUTE,exact:!1})))return!0;if(Boolean((0,a.matchPath)(t.pathname,{path:l.ACCOUNT_DETAILS_QR_CODE_ROUTE,exact:!1})))return!0;const s=Boolean((0,a.matchPath)(t.pathname,{path:l.CONFIRMATION_V_NEXT_ROUTE,exact:!1})),u=Boolean((0,a.matchPath)(t.pathname,{path:l.IMPORT_SRP_ROUTE,exact:!1}));return i||s||c(t.pathname)||u},n.isConfirmTransactionRoute=c,n.setTheme=function(e){document.documentElement.setAttribute("data-theme",function(e){if(e===s.ThemeType.os){var t;return null!==(t=window)&&void 0!==t&&null!==(t=t.matchMedia("(prefers-color-scheme: dark)"))&&void 0!==t&&t.matches?s.ThemeType.dark:s.ThemeType.light}return e}(e))},n.showAppHeader=function(e){const{location:t}=e;return Boolean((0,a.matchPath)(t.pathname,{path:l.DEFAULT_ROUTE,exact:!0}))};var a=e("react-router-dom"),o=e("../../../app/scripts/lib/util"),r=e("../../../shared/constants/app"),i=e("../../../shared/constants/network"),s=e("../../../shared/constants/preferences"),l=e("../../helpers/constants/routes");function c(e){return Boolean((0,a.matchPath)(e,{path:l.CONFIRM_TRANSACTION_ROUTE,exact:!1}))}}}},{package:"$root$",file:"ui/pages/routes/utils.js"}],[6816,{"../../../../shared/constants/metametrics":4986,"../../../../shared/constants/preferences":4994,"../../../../shared/constants/smartTransactions":4998,"../../../components/component-library":5645,"../../../components/ui/button":5990,"../../../components/ui/text-field":6092,"../../../components/ui/toggle-button":6096,"../../../helpers/constants/design-system":6156,"../../../helpers/utils/export-utils":6185,"../../../helpers/utils/settings-search":6201,"prop-types":4255,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=h(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../shared/constants/metametrics"),i=e("../../../../shared/constants/preferences"),s=e("../../../../shared/constants/smartTransactions"),l=e("../../../components/component-library"),c=h(e("../../../components/ui/button")),u=h(e("../../../components/ui/text-field")),d=h(e("../../../components/ui/toggle-button")),p=e("../../../helpers/constants/design-system"),m=e("../../../helpers/utils/export-utils"),f=e("../../../helpers/utils/settings-search");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends o.PureComponent{constructor(...e){super(...e),y(this,"state",{autoLockTimeLimit:this.props.autoLockTimeLimit,autoLockTimeLimitBeforeNormalization:this.props.autoLockTimeLimit,lockTimeError:""}),y(this,"settingsRefs",Array((0,f.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("advanced"))).fill(undefined).map(()=>o.default.createRef())),y(this,"backupUserData",async()=>{const{fileName:e,data:t}=await this.props.backupUserData();(0,m.exportAsFile)(e,t,m.ExportableContentType.JSON),this.context.trackEvent({event:"User Data Exported",category:"Backup",properties:{}})})}componentDidUpdate(){const{t:e}=this.context;(0,f.handleSettingsRefs)(e,e("advanced"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context,{hideErrorInSettings:t}=this.props;(0,f.handleSettingsRefs)(e,e("advanced"),this.settingsRefs),t()}async getTextFromFile(e){return new Promise((t,n)=>{const a=new window.FileReader;a.onload=e=>{const n=e.target.result;t(n)},a.onerror=e=>{n(e)},a.readAsText(e)})}renderStateLogs(){const{t:e}=this.context,{displayErrorInSettings:t}=this.props;return o.default.createElement(l.Box,{className:"settings-page__content-row",display:p.Display.Flex,flexDirection:p.FlexDirection.Column,ref:this.settingsRefs[0],"data-testid":"advanced-setting-state-logs"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("stateLogs")),o.default.createElement("span",{className:"settings-page__content-description"},e("stateLogsDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.default,{type:"secondary",large:!0,"data-testid":"advanced-setting-state-logs-button",onClick:()=>{window.logStateString(async(n,a)=>{if(n)t(e("stateLogError"));else try{await(0,m.exportAsFile)(`${e("stateLogFileName")}.json`,a,m.ExportableContentType.JSON)}catch(e){t(e.message)}})}},e("downloadStateLogs")))))}renderResetAccount(){const{t:e}=this.context,{showResetAccountConfirmationModal:t}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[1],className:"settings-page__content-row",display:p.Display.Flex,flexDirection:p.FlexDirection.Column,"data-testid":"advanced-setting-reset-account"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("clearActivity")),o.default.createElement("span",{className:"settings-page__content-description"},e("clearActivityDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.default,{type:"danger",large:!0,className:"settings-tab__button--red",onClick:e=>{e.preventDefault(),this.context.trackEvent({category:r.MetaMetricsEventCategory.Settings,event:r.MetaMetricsEventName.AccountReset,properties:{}}),t()}},e("clearActivityButton")))))}renderToggleSmartAccountOptIn(){const{t:e}=this.context,{smartAccountOptIn:t,setSmartAccountOptIn:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:p.TextVariant.bodyMd,alignItems:p.AlignItems.flexStart},as:"a",href:s.SMART_ACCOUNT_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[2],className:"settings-page__content-row","data-testid":"advanced-setting-smart-account-optin",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("useSmartAccountTitle")),o.default.createElement("div",{className:"settings-page__content-description"},`${e("useSmartAccountDescription")} `,a)),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-smart-account-optin"})))}renderToggleDismissSmartAccountSuggestion(){const{t:e}=this.context,{dismissSmartAccountSuggestionEnabled:t,setDismissSmartAccountSuggestionEnabled:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-smart-account-suggestion-enabled",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null," ",e("dismissSmartAccountSuggestionEnabledTitle")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissSmartAccountSuggestionEnabledDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-dismiss-smart-account-suggestion-enabled-toggle"})))}renderToggleStxOptIn(){const{t:e}=this.context,{smartTransactionsEnabled:t,setSmartTransactionsEnabled:n}=this.props,a=o.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,textProps:{variant:p.TextVariant.bodyMd,alignItems:p.AlignItems.flexStart},as:"a",href:s.SMART_TRANSACTIONS_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCase"));return o.default.createElement(l.Box,{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-enable-smart-transactions",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("smartTransactions")),o.default.createElement("div",{className:"settings-page__content-description"},e("stxOptInSupportedNetworksDescription",[a]))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>{n(!e)},offLabel:e("off"),onLabel:e("on"),dataTestId:"settings-page-stx-opt-in-toggle"})))}renderHexDataOptIn(){const{t:e}=this.context,{sendHexData:t,setHexDataFeatureFlag:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-hex-data"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showHexData")),o.default.createElement("div",{className:"settings-page__content-description"},e("showHexDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"hex-data-toggle"})))}renderShowConversionInTestnets(){const{t:e}=this.context,{showFiatInTestnets:t,setShowFiatConversionOnTestnetsPreference:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[6],className:"settings-page__content-row",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4],"data-testid":"advanced-setting-show-testnet-conversion"},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showFiatConversionInTestnets")),o.default.createElement("div",{className:"settings-page__content-description"},e("showFiatConversionInTestnetsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on"),className:"show-fiat-on-testnets-toggle"})))}renderToggleTestNetworks(){const{t:e}=this.context,{showTestNetworks:t,setShowTestNetworks:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showTestnetNetworks")),o.default.createElement("div",{className:"settings-page__content-description"},e("showTestnetNetworksDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderToggleExtensionInFullSizeView(){const{t:e}=this.context,{showExtensionInFullSizeView:t,setShowExtensionInFullSizeView:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testid":"advanced-setting-show-extension-in-full-size-view",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("showExtensionInFullSizeView")),o.default.createElement("div",{className:"settings-page__content-description"},e("showExtensionInFullSizeViewDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}renderAutoLockTimeLimit(){const{t:e}=this.context,{lockTimeError:t}=this.state,{setAutoLockTimeLimit:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"advanced-setting-auto-lock",display:p.Display.Flex,flexDirection:p.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("autoLockTimeLimit")),o.default.createElement("div",{className:"settings-page__content-description"},e("autoLockTimeLimitDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(u.default,{id:"autoTimeout","data-testid":"auto-lockout-time",placeholder:"0",value:this.state.autoLockTimeLimitBeforeNormalization,onChange:e=>this.handleLockChange(e.target.value),error:t,fullWidth:!0,margin:"dense",min:0}),o.default.createElement(c.default,{type:"primary","data-testid":"auto-lockout-button",className:"settings-tab__rpc-save-button",disabled:""!==t,onClick:()=>{n(this.state.autoLockTimeLimit)}},e("save")))))}renderDismissSeedBackupReminderControl(){const{t:e}=this.context,{dismissSeedBackUpReminder:t,setDismissSeedBackUpReminder:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("dismissReminderField")),o.default.createElement("div",{className:"settings-page__content-description"},e("dismissReminderDescriptionField"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}handleLockChange(e){const{t:t}=this.context;if(""===e)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:i.DEFAULT_AUTO_LOCK_TIME_LIMIT,lockTimeError:""});const n=Number(e);if(Number.isNaN(n)||n<0||n>10080)return void this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:null,lockTimeError:t("lockTimeInvalid")});const a=n;this.setState({autoLockTimeLimitBeforeNormalization:e,autoLockTimeLimit:a,lockTimeError:""})}renderUserDataBackup(){const{t:e}=this.context;return o.default.createElement(l.Box,{ref:this.settingsRefs[10],className:"settings-page__content-row","data-testid":"advanced-setting-data-backup",display:p.Display.Flex,flexDirection:p.FlexDirection.Column},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("exportYourData")),o.default.createElement("span",{className:"settings-page__content-description"},e("exportYourDataDescription"))),o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(c.default,{"data-testid":"export-data-button",type:"secondary",large:!0,onClick:this.backupUserData},e("exportYourDataButton")))))}renderManageInstitutionalWallets(){const{t:e}=this.context,{manageInstitutionalWallets:t,setManageInstitutionalWallets:n}=this.props;return o.default.createElement(l.Box,{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:[null,4]},o.default.createElement("div",{className:"settings-page__content-item"},o.default.createElement("span",null,e("manageInstitutionalWallets")),o.default.createElement("div",{className:"settings-page__content-description"},e("manageInstitutionalWalletsDescription"))),o.default.createElement("div",{className:"settings-page__content-item-col"},o.default.createElement(d.default,{value:t,onToggle:e=>n(!e),offLabel:e("off"),onLabel:e("on")})))}render(){const{errorInSettings:e}=this.props;return o.default.createElement("div",{className:"settings-page__body"},e?o.default.createElement("div",{className:"settings-tab__error"},e):null,this.renderStateLogs(),this.renderResetAccount(),this.renderToggleSmartAccountOptIn(),this.renderToggleDismissSmartAccountSuggestion(),this.renderToggleStxOptIn(),this.renderHexDataOptIn(),this.renderShowConversionInTestnets(),this.renderToggleTestNetworks(),this.renderManageInstitutionalWallets(),this.renderToggleExtensionInFullSizeView(),this.renderAutoLockTimeLimit(),this.renderUserDataBackup(),this.renderDismissSeedBackupReminderControl())}}n.default=b,y(b,"contextTypes",{t:a.default.func,trackEvent:a.default.func}),y(b,"propTypes",{setHexDataFeatureFlag:a.default.func,displayErrorInSettings:a.default.func,hideErrorInSettings:a.default.func,showResetAccountConfirmationModal:a.default.func,errorInSettings:a.default.string,sendHexData:a.default.bool,showFiatInTestnets:a.default.bool,showTestNetworks:a.default.bool,smartTransactionsEnabled:a.default.bool,autoLockTimeLimit:a.default.number,setAutoLockTimeLimit:a.default.func.isRequired,setShowFiatConversionOnTestnetsPreference:a.default.func.isRequired,setShowTestNetworks:a.default.func.isRequired,setSmartTransactionsEnabled:a.default.func.isRequired,setDismissSeedBackUpReminder:a.default.func.isRequired,dismissSeedBackUpReminder:a.default.bool.isRequired,backupUserData:a.default.func.isRequired,showExtensionInFullSizeView:a.default.bool,setShowExtensionInFullSizeView:a.default.func.isRequired,manageInstitutionalWallets:a.default.bool,setManageInstitutionalWallets:a.default.func.isRequired,dismissSmartAccountSuggestionEnabled:a.default.bool.isRequired,setDismissSmartAccountSuggestionEnabled:a.default.func.isRequired,smartAccountOptIn:a.default.bool.isRequired,setSmartAccountOptIn:a.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.component.js"}],[6817,{"../../../../shared/constants/preferences":4994,"../../../../shared/modules/selectors":5095,"../../../ducks/app/app":6128,"../../../selectors":6959,"../../../store/actions":6981,"./advanced-tab.component":6816,"react-redux":4383,"react-router-dom":4407,redux:4455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapStateToProps=n.mapDispatchToProps=n.default=void 0;var a,o=e("react-redux"),r=e("react-router-dom"),i=e("redux"),s=e("../../../../shared/constants/preferences"),l=e("../../../selectors"),c=e("../../../store/actions"),u=e("../../../../shared/modules/selectors"),d=e("../../../ducks/app/app"),p=(a=e("./advanced-tab.component"))&&a.__esModule?a:{default:a};const m=e=>{const{appState:{errorInSettings:t},metamask:n}=e,{featureFlags:{sendHexData:a}={},dismissSeedBackUpReminder:o,manageInstitutionalWallets:r}=n,{showFiatInTestnets:i,showTestNetworks:c,showExtensionInFullSizeView:d,autoLockTimeLimit:p=s.DEFAULT_AUTO_LOCK_TIME_LIMIT,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}=(0,l.getPreferences)(e);return{errorInSettings:t,sendHexData:a,showFiatInTestnets:i,showTestNetworks:c,showExtensionInFullSizeView:d,smartTransactionsEnabled:(0,u.getSmartTransactionsPreferenceEnabled)(e),autoLockTimeLimit:p,dismissSeedBackUpReminder:o,manageInstitutionalWallets:r,dismissSmartAccountSuggestionEnabled:m,smartAccountOptIn:f}};n.mapStateToProps=m;const f=e=>({backupUserData:()=>(0,c.backupUserData)(),setHexDataFeatureFlag:t=>e((0,c.setFeatureFlag)("sendHexData",t)),displayErrorInSettings:t=>e((0,d.displayErrorInSettings)(t)),hideErrorInSettings:()=>e((0,d.hideErrorInSettings)()),showResetAccountConfirmationModal:()=>e((0,c.showModal)({name:"CONFIRM_RESET_ACCOUNT"})),setShowFiatConversionOnTestnetsPreference:t=>e((0,c.setShowFiatConversionOnTestnetsPreference)(t)),setShowTestNetworks:t=>e((0,c.setShowTestNetworks)(t)),setShowExtensionInFullSizeView:t=>e((0,c.setShowExtensionInFullSizeView)(t)),setSmartTransactionsEnabled:t=>e((0,c.setSmartTransactionsPreferenceEnabled)(t)),setAutoLockTimeLimit:t=>e((0,c.setAutoLockTimeLimit)(t)),setDismissSeedBackUpReminder:t=>e((0,c.setDismissSeedBackUpReminder)(t)),setManageInstitutionalWallets:t=>e((0,c.setManageInstitutionalWallets)(t)),setDismissSmartAccountSuggestionEnabled:t=>e((0,c.setDismissSmartAccountSuggestionEnabled)(t)),setSmartAccountOptIn:t=>e((0,c.setSmartAccountOptIn)(t))});n.mapDispatchToProps=f;n.default=(0,i.compose)(r.withRouter,(0,o.connect)(m,f))(p.default)}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/advanced-tab.container.js"}],[6818,{"./advanced-tab.container":6817},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./advanced-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/advanced-tab/index.js"}],[6819,{"../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles":5264,"../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle":5265,"../../../components/component-library":5645,"../../../helpers/constants/design-system":6156,"../../../helpers/utils/settings-search":6201,"prop-types":4255,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../helpers/utils/settings-search"),s=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),c=e("../../../components/app/identity/backup-and-sync-features-toggles/backup-and-sync-features-toggles"),u=e("../../../components/app/identity/backup-and-sync-toggle/backup-and-sync-toggle");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,i.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("backupAndSync"))).fill(undefined).map(()=>o.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("backupAndSync"),this.settingsRefs)}render(){return o.default.createElement("div",{className:"settings-page__body"},o.default.createElement(u.BackupAndSyncToggle,null),o.default.createElement(l.Box,{borderColor:s.BorderColor.borderMuted,width:s.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),o.default.createElement(c.BackupAndSyncFeaturesToggles,null))}}n.default=m,p(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.component.tsx"}],[6820,{"./backup-and-sync-tab.component":6819,"react-redux":4383,"react-router-dom":4407,redux:4455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=(a=e("./backup-and-sync-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)(e=>({}),e=>({})))(s.default)}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/backup-and-sync-tab.container.ts"}],[6821,{"./backup-and-sync-tab.container":6820},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./backup-and-sync-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/backup-and-sync-tab/index.ts"}],[6822,{"../../../../../shared/modules/hexstring-utils":5085,"../../../../../shared/modules/selectors/networks":5096,"../../../../components/app/contact-list/utils":5243,"../../../../components/component-library":5645,"../../../../components/multichain/pages/send/components":5947,"../../../../components/ui/page-container/page-container-footer":6066,"../../../../components/ui/text-field":6092,"../../../../contexts/i18n":6114,"../../../../helpers/constants/design-system":6156,"../../../../helpers/constants/routes":6161,"../../../../helpers/utils/util":6209,"../../../../selectors/multichain":6966,"../../../confirmations/send/send-content/add-recipient/domain-input":6684,"../../../confirmations/send/send.constants":6685,"../contact-networks":6827,lodash:4086,"prop-types":4255,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=k(e("prop-types")),r=e("lodash"),i=e("react-redux"),s=k(e("../../../../components/ui/text-field")),l=e("../../../../helpers/constants/routes"),c=e("../../../../helpers/utils/util"),u=k(e("../../../confirmations/send/send-content/add-recipient/domain-input")),d=k(e("../../../../components/ui/page-container/page-container-footer")),p=e("../../../../../shared/modules/hexstring-utils"),m=e("../../../confirmations/send/send.constants"),f=e("../../../../components/multichain/pages/send/components"),g=e("../../../../components/app/contact-list/utils"),h=e("../../../../contexts/i18n"),y=e("../../../../components/component-library"),b=e("../../../../helpers/constants/design-system"),_=e("../../../../selectors/multichain"),E=e("../../../../../shared/modules/selectors/networks"),v=e("../contact-networks");function k(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const x=({addressBook:e,internalAccounts:t,addToAddressBook:n,history:o,scanQrCode:k,qrCodeData:T,qrCodeDetected:x,domainResolutions:C,domainError:w,resetDomainResolution:S})=>{var O,I;const N=(0,a.useContext)(h.I18nContext),[M,R]=(0,a.useState)(""),[A,B]=(0,a.useState)(""),[P,D]=(0,a.useState)(""),[F,L]=(0,a.useState)(""),[j,W]=(0,a.useState)(""),U=(0,i.useSelector)(E.getCurrentChainId),[z,$]=(0,a.useState)(U),[V,q]=(0,a.useState)(!1),G=(0,i.useSelector)(E.getNetworkConfigurationsByChainId),J=(0,a.useCallback)(e=>{const t=!(0,p.isBurnAddress)(e)&&(0,p.isValidHexAddress)(e,{mixedCaseUseChecksum:!0}),n=(0,c.isValidDomainName)(e);D(n||t?null:m.INVALID_RECIPIENT_ADDRESS_ERROR)},[]),K=(0,a.useMemo)(()=>(0,r.debounce)(J,500),[J]),H=n=>{const a=!(0,g.isDuplicateContact)(e,t,n);L(a?null:N("nameAlreadyInUse")),R(n)},Y=e=>{W(e),K(e)};(0,a.useEffect)(()=>{if("address"===(null==T?void 0:T.type)){const e=T.values.address.toLowerCase();[...C.map(({resolvedAddress:e})=>e),A].filter(Boolean).map(e=>e.toLowerCase()).includes(e)||(W(e),J(e),x(null))}},[T,C,A,J,x]);const X=w||P,Q=A||j,Z=!(0,p.isBurnAddress)(Q)&&(0,p.isValidHexAddress)(Q,{mixedCaseUseChecksum:!0});return a.default.createElement("div",{className:"settings-page__content-row address-book__add-contact"},a.default.createElement("div",{className:"address-book__add-contact__content"},a.default.createElement("div",{className:"address-book__view-contact__group address-book__add-contact__content__username"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},N("userName")),a.default.createElement(s.default,{type:"text",id:"nickname",placeholder:N("addAlias"),value:M,onChange:e=>H(e.target.value),fullWidth:!0,margin:"dense",error:F})),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},N("ethereumPublicAddress")),a.default.createElement(u.default,{scanQrCode:()=>k(),onChange:Y,onPaste:e=>{W(e),J(e)},onReset:()=>{S(),W(""),B("")},userInput:A||j}),a.default.createElement("div",{className:`address-book__view-contact__group__${1===(null==C?void 0:C.length)?"single-":""}resolution-list`},null==C?void 0:C.map(e=>{const{resolvedAddress:t,resolvingSnap:n,addressBookEntryName:o,protocol:r,domainName:i}=e;return a.default.createElement(f.DomainInputResolutionCell,{key:`${t}${n}${r}`,address:t,domainName:o??i,onClick:()=>{H(i),W(t),S()},protocol:r,resolvingSnap:n})})),X&&a.default.createElement("div",{className:"address-book__add-contact__error"},N(X))),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},N("network")),a.default.createElement(y.Box,{as:"button",padding:3,display:b.Display.Flex,alignItems:b.AlignItems.center,backgroundColor:b.BackgroundColor.transparent,borderColor:b.BorderColor.borderDefault,justifyContent:b.JustifyContent.spaceBetween,borderRadius:b.BorderRadius.XL,onClick:()=>q(!0),className:"network-selector","data-testid":"network-selector"},a.default.createElement(y.Box,{display:b.Display.Flex,gap:2},a.default.createElement(y.AvatarNetwork,{size:y.AvatarNetworkSize.Sm,src:(0,_.getImageForChainId)(z)||undefined,name:null==G||null===(O=G[z])||void 0===O?void 0:O.name}),a.default.createElement(y.Text,null,null==G||null===(I=G[z])||void 0===I?void 0:I.name)),a.default.createElement(y.Icon,{name:y.IconName.ArrowDown,color:b.IconColor.iconDefault,size:y.IconSize.Sm})),V&&a.default.createElement(v.ContactNetworks,{isOpen:!0,onClose:()=>q(!1),selectedChainId:z,onSelect:e=>$(e)}))),a.default.createElement(d.default,{cancelText:N("cancel"),disabled:Boolean(P||F||!Z||!M.trim()),onSubmit:async()=>{await n(Q,M,"",z),o.push(l.CONTACT_LIST_ROUTE)},onCancel:()=>{o.push(l.CONTACT_LIST_ROUTE)},submitText:N("save")}))};x.propTypes={addressBook:o.default.array,internalAccounts:o.default.array,addToAddressBook:o.default.func,history:o.default.object,scanQrCode:o.default.func,qrCodeData:o.default.object,qrCodeDetected:o.default.func,domainResolutions:o.default.arrayOf(o.default.object),domainError:o.default.string,resetDomainResolution:o.default.func};n.default=x}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.component.js"}],[6823,{"../../../../ducks/app/app":6128,"../../../../ducks/domains":6137,"../../../../selectors":6959,"../../../../store/actions":6981,"./add-contact.component":6822,"react-redux":4383,"react-router-dom":4407,redux:4455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../../store/actions"),l=e("../../../../ducks/app/app"),c=e("../../../../ducks/domains"),u=e("../../../../selectors"),d=(a=e("./add-contact.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)(e=>({addressBook:(0,u.getAddressBook)(e),internalAccounts:(0,u.getInternalAccounts)(e),qrCodeData:(0,l.getQrCodeData)(e),domainError:(0,c.getDomainError)(e),domainResolutions:(0,c.getDomainResolutions)(e)}),e=>({addToAddressBook:(t,n,a,o)=>e((0,s.addToAddressBook)(t,n,a,o)),scanQrCode:()=>e((0,s.showQrScanner)()),qrCodeDetected:t=>e((0,s.qrCodeDetected)(t)),resetDomainResolution:()=>e((0,c.resetDomainResolution)())})))(d.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/add-contact.container.js"}],[6824,{"./add-contact.container":6823},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./add-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/add-contact/index.js"}],[6825,{"../../../components/app/contact-list":5241,"../../../components/component-library":5645,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../helpers/utils/settings-search":6201,"./add-contact":6824,"./edit-contact":6830,"./view-contact":6832,classnames:3349,"prop-types":4255,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=f(e("prop-types")),r=f(e("classnames")),i=f(e("../../../components/app/contact-list")),s=e("../../../helpers/constants/routes"),l=e("../../../helpers/utils/settings-search"),c=e("../../../components/component-library"),u=e("../../../helpers/constants/design-system"),d=f(e("./edit-contact")),p=f(e("./add-contact")),m=f(e("./view-contact"));function f(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{constructor(...e){super(...e),h(this,"settingsRefs",Array((0,l.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("contacts"))).fill(undefined).map(()=>a.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,l.handleSettingsRefs)(e,e("contacts"),this.settingsRefs)}renderAddresses(){const{completeAddressBook:e,internalAccounts:t,history:n,selectedAddress:o}=this.props,r=Object.entries(e).map(([e,t])=>t),l=r.filter(({name:e})=>Boolean(e)),d=r.filter(({name:e})=>!e),{t:p}=this.context;return r.length?a.default.createElement("div",null,a.default.createElement(i.default,{addressBook:r,internalAccounts:t,searchForContacts:()=>l,searchForRecents:()=>d,selectRecipient:e=>{n.push(`${s.CONTACT_VIEW_ROUTE}/${e}`)},selectedAddress:o})):a.default.createElement("div",{className:"address-book__container"},a.default.createElement("div",null,a.default.createElement(c.Icon,{name:c.IconName.Book,color:u.IconColor.iconMuted,className:"address-book__icon",size:c.IconSize.Xl}),a.default.createElement("h4",{className:"address-book__title"},p("buildContactList")),a.default.createElement("p",{className:"address-book__sub-title"},p("addFriendsAndAddresses")),a.default.createElement("button",{className:"address-book__link",onClick:()=>{n.push(s.CONTACT_ADD_ROUTE)}},"+ ",p("addContact"))))}renderAddButton(){const{history:e,viewingContact:t,editingContact:n}=this.props;return a.default.createElement(c.ButtonPrimary,{className:(0,r.default)("address-book-add-button__button",{"address-book-add-button__button--hidden":t||n}),onClick:()=>{e.push(s.CONTACT_ADD_ROUTE)},margin:4,size:u.Size.LG},this.context.t("addContact"))}renderContactContent(){const{viewingContact:e,editingContact:t,addingContact:n}=this.props;let o=null;return e?o=m.default:t?o=d.default:n&&(o=p.default),o&&a.default.createElement("div",{className:"address-book-contact-content"},a.default.createElement(o,null))}renderAddressBookContent(){const{hideAddressBook:e}=this.props;return e?null:a.default.createElement("div",{ref:this.settingsRefs[0],className:"address-book"},this.renderAddresses())}render(){const{addingContact:e,currentPath:t,completeAddressBook:n}=this.props,o=n;return a.default.createElement("div",{className:"address-book-wrapper"},this.renderAddressBookContent(),this.renderContactContent(),t===s.CONTACT_LIST_ROUTE&&!e&&o.length>0?this.renderAddButton():null)}}n.default=y,h(y,"contextTypes",{t:o.default.func}),h(y,"propTypes",{completeAddressBook:o.default.array,internalAccounts:o.default.array,history:o.default.object,selectedAddress:o.default.string,viewingContact:o.default.bool,editingContact:o.default.bool,addingContact:o.default.bool,hideAddressBook:o.default.bool,currentPath:o.default.string})}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.component.js"}],[6826,{"../../../helpers/constants/routes":6161,"../../../selectors":6959,"./contact-list-tab.component":6825,"react-redux":4383,"react-router-dom":4407,redux:4455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../selectors"),l=e("../../../helpers/constants/routes"),c=(a=e("./contact-list-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)((e,t)=>{const{location:n}=t,{pathname:a}=n,o=a.match(/[^/]+$/u)[0],r=o.includes("0x"),i=Boolean(a.match(l.CONTACT_VIEW_ROUTE)),c=Boolean(a.match(l.CONTACT_EDIT_ROUTE)),u=Boolean(a.match(l.CONTACT_ADD_ROUTE)),d=i||c||u;return{viewingContact:i,editingContact:c,addingContact:u,addressBook:(0,s.getAddressBook)(e),completeAddressBook:(0,s.getCompleteAddressBook)(e),internalAccounts:(0,s.getInternalAccounts)(e),selectedAddress:r?o:"",hideAddressBook:d,currentPath:a}}))(c.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-list-tab.container.js"}],[6827,{"../../../../shared/constants/bridge":4974,"../../../../shared/constants/network":4989,"../../../../shared/modules/selectors/networks":5096,"../../../components/component-library":5645,"../../../components/multichain":5841,"../../../helpers/constants/design-system":6156,"../../../hooks/useI18nContext":6282,"../../../selectors/multichain":6966,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ContactNetworks=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../helpers/constants/design-system"),i=e("../../../components/component-library"),s=e("../../../../shared/modules/selectors/networks"),l=e("../../../../shared/constants/network"),c=e("../../../hooks/useI18nContext"),u=e("../../../../shared/constants/bridge"),d=e("../../../components/multichain"),p=e("../../../selectors/multichain");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.ContactNetworks=({isOpen:e,onClose:t,selectedChainId:n,onSelect:m})=>{const f=(0,c.useI18nContext)(),g=(0,o.useSelector)(s.getNetworkConfigurationsByChainId),[h,y]=(0,a.useMemo)(()=>Object.entries(g).reduce(([e,t],[n,a])=>((l.TEST_CHAINS.includes(n)?t:e).push(a),[e,t]),[[],[]]),[g]),b=e=>e.map(({name:e,chainId:o})=>a.default.createElement(d.NetworkListItem,{key:o,name:u.NETWORK_TO_SHORT_NETWORK_NAME_MAP[o]??e,selected:n===o,onClick:()=>{null==m||m(o),t()},iconSrc:(0,p.getImageForChainId)(o),iconSize:i.AvatarNetworkSize.Sm,focus:!1,variant:r.TextVariant.bodyMdMedium}));return a.default.createElement(i.Modal,{isOpen:e,onClose:t,className:"multichain-asset-picker__network-modal"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,{modalDialogProps:{padding:0}},a.default.createElement(i.ModalHeader,{onBack:t,onClose:t},f("bridgeSelectNetwork")),a.default.createElement(i.Box,{className:"multichain-asset-picker__network-list",display:r.Display.Flex},a.default.createElement(i.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,width:r.BlockSize.Full},b(h),a.default.createElement(i.Box,{padding:4},a.default.createElement(i.Text,{variant:r.TextVariant.bodyMdMedium},f("testnets")),b(y))))))}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/contact-networks.tsx"}],[6828,{"../../../../../shared/modules/hexstring-utils":5085,"../../../../components/app/contact-list/utils":5243,"../../../../components/component-library":5645,"../../../../components/ui/page-container/page-container-footer":6066,"../../../../components/ui/text-field":6092,"../../../../contexts/i18n":6114,"../../../../helpers/constants/design-system":6156,"../../../../selectors/multichain":6966,"../contact-networks":6827,"prop-types":4255,react:4437,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=g(e("prop-types")),r=e("react-router-dom"),i=g(e("../../../../components/ui/text-field")),s=g(e("../../../../components/ui/page-container/page-container-footer")),l=e("../../../../../shared/modules/hexstring-utils"),c=e("../../../../components/component-library"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../components/app/contact-list/utils"),p=e("../../../../selectors/multichain"),m=e("../../../../contexts/i18n"),f=e("../contact-networks");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=({addressBook:e,internalAccounts:t,networkConfigurations:n,addToAddressBook:o,removeFromAddressBook:g,name:h="",address:y,contactChainId:b,memo:_="",viewRoute:E,listRoute:v})=>{var k,T;const x=(0,a.useContext)(m.I18nContext),C=(0,r.useHistory)(),[w,S]=(0,a.useState)(h),[O,I]=(0,a.useState)(y),[N,M]=(0,a.useState)(_),[R,A]=(0,a.useState)(""),[B,P]=(0,a.useState)(""),[D,F]=(0,a.useState)(!1),[L,j]=(0,a.useState)(b),W=n;console.log(n,W);return y?a.default.createElement("div",{className:"settings-page__content-row address-book__edit-contact","data-testid":"edit-contact"},a.default.createElement(c.Box,{className:"settings-page__header address-book__header--edit",paddingLeft:6,paddingRight:6,width:u.BlockSize.Full,alignItems:u.AlignItems.center},a.default.createElement(c.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,style:{overflow:"hidden"},paddingRight:2},a.default.createElement(c.AvatarAccount,{size:c.AvatarAccountSize.Lg,address:y}),a.default.createElement(c.Text,{className:"address-book__header__name",variant:u.TextVariant.bodyLgMedium,marginInlineStart:4,style:{overflow:"hidden"},ellipsis:!0},h||y)),a.default.createElement(c.Box,{className:"settings-page__address-book-button"},a.default.createElement(c.Button,{variant:c.ButtonVariant.Link,danger:!0,style:{display:"contents"},onClick:async()=>{await g(b,y),C.push(v)},"data-testid":"delete-contact-button"},x("deleteContact")))),a.default.createElement("div",{className:"address-book__edit-contact__content"},a.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-alias"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},x("userName")),a.default.createElement(i.default,{id:"nickname",placeholder:x("addAlias"),value:w,onChange:n=>{const a=n.target.value;A((n=>n===h||!(0,d.isDuplicateContact)(e,t,n))(a)?"":x("nameAlreadyInUse")),S(a)},error:R,fullWidth:!0,className:"text-field-root",margin:"dense"})),a.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-address"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},x("ethereumPublicAddress")),a.default.createElement(i.default,{id:"address",value:O,onChange:e=>I(e.target.value),error:B,fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"})),a.default.createElement("div",{className:"address-book__view-contact__group","data-testid":"edit-contact-memo"},a.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},x("memo")),a.default.createElement(i.default,{id:"memo",placeholder:_,value:N,onChange:e=>M(e.target.value),fullWidth:!0,multiline:!0,className:"text-field-root",margin:"dense"})),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},x("network")),a.default.createElement(c.Box,{as:"button",padding:3,display:u.Display.Flex,alignItems:u.AlignItems.center,backgroundColor:u.BackgroundColor.transparent,borderColor:u.BorderColor.borderDefault,justifyContent:u.JustifyContent.spaceBetween,borderRadius:u.BorderRadius.XL,onClick:()=>F(!0),className:"network-selector","data-testid":"network-selector",marginTop:2},a.default.createElement(c.Box,{display:u.Display.Flex,gap:2},a.default.createElement(c.AvatarNetwork,{size:c.AvatarNetworkSize.Sm,src:(0,p.getImageForChainId)(L)||undefined,name:null==W||null===(k=W[L])||void 0===k?void 0:k.name}),a.default.createElement(c.Text,null,null==W||null===(T=W[L])||void 0===T?void 0:T.name)),a.default.createElement(c.Icon,{name:c.IconName.ArrowDown,color:u.IconColor.iconDefault,size:c.IconSize.Sm})))),a.default.createElement(s.default,{cancelText:x("cancel"),onSubmit:async()=>{const e=L!==b;O&&O!==y?!(0,l.isBurnAddress)(O)&&(0,l.isValidHexAddress)(O,{mixedCaseUseChecksum:!0})?(await g(b,y),await o(O,w||h,N||_,L),C.push(v)):P(x("invalidAddress")):e?(await g(b,y),await o(y,w||h,N||_,L),C.push(v)):(await o(y,w||h,N||_,L),C.push(v))},onCancel:()=>C.push(`${E}/${y}`),submitText:x("save"),disabled:Boolean(w===h&&O===y&&L===b&&N===_||!w.trim()||R)}),D&&a.default.createElement(f.ContactNetworks,{isOpen:!0,onClose:()=>F(!1),selectedChainId:L,onSelect:e=>j(e)})):a.default.createElement(r.Redirect,{to:{pathname:v}})};y.propTypes={addressBook:o.default.array,internalAccounts:o.default.array,networkConfigurations:o.default.array,addToAddressBook:o.default.func.isRequired,removeFromAddressBook:o.default.func.isRequired,name:o.default.string,address:o.default.string.isRequired,contactChainId:o.default.string,memo:o.default.string,viewRoute:o.default.string.isRequired,listRoute:o.default.string.isRequired};n.default=y}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.component.js"}],[6829,{"../../../../../shared/modules/selectors/networks":5096,"../../../../helpers/constants/routes":6161,"../../../../selectors":6959,"../../../../store/actions":6981,"./edit-contact.component":6828,"react-redux":4383,"react-router-dom":4407,redux:4455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../../selectors"),l=e("../../../../../shared/modules/selectors/networks"),c=e("../../../../helpers/constants/routes"),u=e("../../../../store/actions"),d=(a=e("./edit-contact.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)((e,t)=>{var n;const{location:a}=t,{pathname:o}=a,r=o.match(/[^/]+$/u)[0],i=r.includes("0x")?r.toLowerCase():t.match.params.id,u=(0,s.getAddressBookEntry)(e,i),d=(0,l.getNetworkConfigurationsByChainId)(e),{memo:p}=u||{},m=(null==u?void 0:u.name)||(null===(n=(0,s.getInternalAccountByAddress)(e,i))||void 0===n?void 0:n.metadata.name),{chainId:f}=(0,l.getProviderConfig)(e),g=(null==u?void 0:u.chainId)||f;return{address:u?i:null,addressBook:(0,s.getAddressBook)(e),internalAccounts:(0,s.getInternalAccounts)(e),contactChainId:g,name:m,memo:p,networkConfigurations:d,viewRoute:c.CONTACT_VIEW_ROUTE,listRoute:c.CONTACT_LIST_ROUTE}},e=>({addToAddressBook:(t,n,a,o)=>e((0,u.addToAddressBook)(t,n,a,o)),removeFromAddressBook:(t,n)=>e((0,u.removeFromAddressBook)(t,n)),toggleNetworkMenu:()=>e((0,u.toggleNetworkMenu)())})))(d.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/edit-contact.container.js"}],[6830,{"./edit-contact.container":6829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./edit-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/edit-contact/index.js"}],[6831,{"./contact-list-tab.container":6826},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./contact-list-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/index.js"}],[6832,{"./view-contact.container":6834},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./view-contact.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/index.js"}],[6833,{"../../../../components/component-library":5645,"../../../../components/ui/tooltip":6100,"../../../../helpers/constants/design-system":6156,"../../../../hooks/useCopyToClipboard":6270,"../../../../hooks/useI18nContext":6282,"prop-types":4255,react:4437,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),o=d(e("prop-types")),r=e("react-router-dom"),i=e("../../../../components/component-library"),s=d(e("../../../../components/ui/tooltip")),l=e("../../../../hooks/useI18nContext"),c=e("../../../../hooks/useCopyToClipboard"),u=e("../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p({history:e,name:t,address:n,checkSummedAddress:o,memo:d,editRoute:p,listRoute:m}){const f=(0,l.useI18nContext)(),[g,h]=(0,c.useCopyToClipboard)();return n?a.default.createElement("div",{className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement(i.Box,{className:"settings-page__header address-book__header",paddingLeft:6,paddingRight:6},a.default.createElement(i.AvatarAccount,{size:i.AvatarAccountSize.Lg,address:n}),a.default.createElement(i.Text,{className:"address-book__header__name",variant:u.TextVariant.bodyLgMedium,marginInlineStart:4,style:{overflow:"hidden"},ellipsis:!0},t||n)),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement(i.Button,{variant:i.ButtonVariant.Secondary,onClick:()=>{e.push(`${p}/${n}`)}},f("edit"))),a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label"},f("ethereumPublicAddress")),a.default.createElement("div",{className:"address-book__view-contact__group__value"},a.default.createElement("div",{className:"address-book__view-contact__group__static-address"},function(e){return`0x${e.slice(2).match(/.{1,4}/gu).join("")}`}(o)),a.default.createElement(s.default,{position:"bottom",title:f(g?"copiedExclamation":"copyToClipboard")},a.default.createElement(i.ButtonIcon,{ariaLabel:"copy",className:"address-book__view-contact__group__static-address--copy-icon",onClick:()=>{h(o)},iconName:g?i.IconName.CopySuccess:i.IconName.Copy,size:i.ButtonIconSize.Lg,color:u.IconColor.primaryDefault})))),d.length>0?a.default.createElement("div",{className:"address-book__view-contact__group"},a.default.createElement("div",{className:"address-book__view-contact__group__label--capitalized"},f("memo")),a.default.createElement("div",{className:"address-book__view-contact__group__static-address"},d)):null)):a.default.createElement(r.Redirect,{to:{pathname:m}})}p.propTypes={name:o.default.string,address:o.default.string,history:o.default.object,checkSummedAddress:o.default.string,memo:o.default.string,editRoute:o.default.string,listRoute:o.default.string.isRequired};n.default=a.default.memo(p)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.component.js"}],[6834,{"../../../../../shared/modules/hexstring-utils":5085,"../../../../helpers/constants/routes":6161,"../../../../selectors":6959,"./view-contact.component":6833,"react-redux":4383,"react-router-dom":4407,redux:4455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../../selectors"),l=e("../../../../helpers/constants/routes"),c=e("../../../../../shared/modules/hexstring-utils"),u=(a=e("./view-contact.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)((e,t)=>{const{location:n}=t,{pathname:a}=n,o=a.match(/[^/]+$/u)[0],r=o.includes("0x")?o.toLowerCase():t.match.params.id,i=(0,s.getInternalAccountByAddress)(e,r),u=(0,s.getAddressBookEntry)(e,r),{memo:d}=u||{};return{name:(null==u?void 0:u.name)||i.metadata.name,address:u?r:null,checkSummedAddress:(0,c.toChecksumHexAddress)(r),memo:d,editRoute:l.CONTACT_EDIT_ROUTE,listRoute:l.CONTACT_LIST_ROUTE}}))(u.default)}}},{package:"$root$",file:"ui/pages/settings/contact-list-tab/view-contact/view-contact.container.js"}],[6835,{"../../../components/component-library":5645,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/zendesk-url":6168,"../../../hooks/useI18nContext":6282,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DeprecatedNetworkModal=void 0;var a=l(e("react")),o=e("../../../hooks/useI18nContext"),r=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),s=l(e("../../../helpers/constants/zendesk-url"));function l(e){return e&&e.__esModule?e:{default:e}}n.DeprecatedNetworkModal=({onClose:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(r.Modal,{isOpen:!0,isClosedOnOutsideClick:!1,onClose:e},a.default.createElement(r.ModalOverlay,null),a.default.createElement(r.ModalContent,null,a.default.createElement(r.ModalHeader,{paddingTop:2,paddingBottom:2},t("deprecatedNetwork")),a.default.createElement(r.ModalBody,null,a.default.createElement(r.Box,{paddingBottom:2},a.default.createElement(r.Text,{textAlign:i.TextAlign.Center,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Normal},t("deprecatedNetworkDescription",[a.default.createElement(r.ButtonLink,{key:"import-token-fake-token-warning",rel:"noopener noreferrer",target:"_blank",href:s.default.NETWORK_DEPRECATED,variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Normal},t("learnMoreUpperCase"))])))),a.default.createElement(r.Box,{display:i.Display.Flex,paddingLeft:4,paddingRight:4,paddingBottom:2},a.default.createElement(r.ButtonPrimary,{block:!0,size:r.ButtonPrimarySize.Lg,onClick:e,textProps:{variant:i.TextVariant.bodyMdMedium},style:{fontSize:"14px"}},t("deprecatedNetworkButtonMsg")))))}}}},{package:"$root$",file:"ui/pages/settings/deprecated-network-modal/DeprecatedNetworkModal.tsx"}],[6836,{"../../../components/component-library":5645,"../../../helpers/constants/design-system":6156,"../../../hooks/identity/useAccountSyncing":6237,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDeleteAccountSyncDataProps=n.BackupAndSyncDevSettings=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),i=e("../../../hooks/identity/useAccountSyncing");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const l=({onDelete:e,deleteSuccessful:t,title:n,description:i})=>a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(o.Box,{className:"settings-page__content-row",display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,n),a.default.createElement("div",{className:"settings-page__content-description"},i)),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(o.Button,{variant:o.ButtonVariant.Primary,onClick:e},"Reset")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(o.Box,{display:r.Display.Flex,alignItems:r.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(o.Icon,{className:"settings-page-developer-options__icon-check",name:o.IconName.Check,color:r.IconColor.successDefault,size:o.IconSize.Lg,hidden:!t}))))),c=()=>{const[e,t]=(0,a.useState)(!1),{dispatchDeleteAccountSyncingData:n}=(0,i.useDeleteAccountSyncingDataFromUserStorage)();return{deleteSuccessful:e,onDelete:(0,a.useCallback)(async()=>{await n(),t(!0)},[n,t]),title:"Account syncing",description:"Deletes all user storage entries for the current SRP. This can help if you tested Account Syncing early on and have corrupted data. This will not remove internal accounts already created and renamed. If you want to start from scratch with only the first account and restart syncing from this point on, you will need to reinstall the extension after this action."}};n.useDeleteAccountSyncDataProps=c;n.BackupAndSyncDevSettings=()=>a.default.createElement(a.default.Fragment,null,a.default.createElement(o.Text,{className:"settings-page__security-tab-sub-header__bold"},"Backup and sync"),a.default.createElement(l,c()))}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/backup-and-sync.tsx"}],[6837,{"../../../../app/scripts/lib/util":225,"../../../../shared/constants/app":4973,"../../../components/component-library":5645,"../../../helpers/constants/design-system":6156,"../../../helpers/constants/routes":6161,"../../../helpers/utils/settings-search":6201,"../../../hooks/useI18nContext":6282,"../../../selectors":6959,"../../../store/actions":6981,"./backup-and-sync":6836,"./developer-options-toggle-row-component":6838,"./sentry-test":6840,react:4437,"react-redux":4383,"react-router-dom":4407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/routes"),c=e("../../../helpers/utils/settings-search"),u=e("../../../hooks/useI18nContext"),d=e("../../../store/actions"),p=e("../../../../app/scripts/lib/util"),m=e("../../../../shared/constants/app"),f=e("../../../selectors"),g=b(e("./developer-options-toggle-row-component")),h=b(e("./sentry-test")),y=e("./backup-and-sync");function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,u.useI18nContext)(),t=(0,o.useDispatch)(),n=(0,r.useHistory)(),[b,_]=(0,a.useState)(!1),[E,v]=(0,a.useState)(!1),[k,T]=(0,a.useState)(!0),x=Array((0,c.getNumberOfSettingRoutesInTab)(e,e("developerOptions"))).fill(undefined).map(()=>a.default.createRef());(0,a.useEffect)(()=>{(0,c.handleSettingsRefs)(e,e("developerOptions"),x)},[e,x]);const C=(0,a.useCallback)(()=>{(0,d.resetViewedNotifications)(),_(!0)},[]),w=(0,a.useCallback)(async()=>{await t((0,d.resetOnboarding)()),v(!0);const e=`${l.ONBOARDING_SECURE_YOUR_WALLET_ROUTE}/?isFromReminder=true`;if((0,p.getEnvironmentType)()===m.ENVIRONMENT_TYPE_POPUP){const{platform:t}=global;null!=t&&t.openExtensionInBrowser&&(null==t||t.openExtensionInBrowser(e,null,!0))}else n.push(e)},[t,n]),S=(0,o.useSelector)(f.getRemoteFeatureFlags);return a.default.createElement("div",{className:"settings-page__body"},a.default.createElement(i.Text,{className:"settings-page__security-tab-sub-header__bold"},"States"),a.default.createElement(i.Text,{className:"settings-page__security-tab-sub-header",color:s.TextColor.textAlternative,paddingTop:6,ref:x[0]},"Current States"),a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(i.Box,{className:"settings-page__content-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,"Remote feature flags"),a.default.createElement("div",{className:"settings-page__content-description"},"Remote feature flag values come from LaunchDarkly by default. If you need to update feature flag values locally for development purposes, you can change feature flag values in .manifest-overrides.json, which will override values coming from LaunchDarkly.")),a.default.createElement("div",{className:"settings-page__content-description","data-testid":"developer-options-remote-feature-flags"},JSON.stringify(S)))),a.default.createElement(i.Text,{className:"settings-page__security-tab-sub-header",color:s.TextColor.textAlternative,paddingTop:6,ref:x[0]},"Reset States"),a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(i.Box,{ref:x[1],className:"settings-page__content-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,"Announcements"),a.default.createElement("div",{className:"settings-page__content-description"},"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,onClick:C},"Reset")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(i.Icon,{className:"settings-page-developer-options__icon-check",name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Lg,hidden:!b})))),a.default.createElement(i.Box,{ref:x[2],className:"settings-page__content-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item",style:{flex:"1 1 auto"}},a.default.createElement("span",null,"Onboarding"),a.default.createElement("div",{className:"settings-page__content-description"},'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.')),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.Button,{variant:i.ButtonVariant.Primary,onClick:w},"Reset")),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(i.Icon,{className:"settings-page-developer-options__icon-check",name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Lg,hidden:!E})))),a.default.createElement(g.default,{title:"Service Worker Keep Alive",description:"Results in a timestamp being continuously saved to session.storage",isEnabled:k,onToggle:e=>(async e=>{await t((0,d.setServiceWorkerKeepAlivePreference)(e)),T(e)})(!e),dataTestId:"developer-options-service-worker-alive-toggle",settingsRef:x[3]})),a.default.createElement(y.BackupAndSyncDevSettings,null),a.default.createElement(h.default,null))}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-tab.tsx"}],[6838,{"../../../components/component-library":5645,"../../../components/ui/toggle-button":6096,"../../../helpers/constants/design-system":6156,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),o=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),i=s(e("../../../components/ui/toggle-button"));function s(e){return e&&e.__esModule?e:{default:e}}n.default=({title:e,description:t,isEnabled:n,onToggle:s,dataTestId:l,settingsRef:c})=>a.default.createElement(o.Box,{ref:c,className:"settings-page__content-row",display:r.Display.Flex,flexDirection:r.FlexDirection.Row,justifyContent:r.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-description"},a.default.createElement("span",null,e),a.default.createElement("div",{className:"settings-page__content-description"},t))),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(i.default,{value:n,onToggle:s,offLabel:"Off",onLabel:"On",dataTestId:l})))}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/developer-options-toggle-row-component.tsx"}],[6839,{"./developer-options-tab":6837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./developer-options-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/index.tsx"}],[6840,{"../../../../shared/lib/trace":5067,"../../../../shared/modules/i18n":5086,"../../../components/component-library":5645,"../../../components/component-library/button/button.types":5625,"../../../ducks/locale/locale":6142,"../../../helpers/constants/design-system":6156,"../../../store/actions":6981,react:4437,"react-redux":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),s=e("../../../../shared/lib/trace"),l=e("../../../components/component-library/button/button.types"),c=e("../../../store/actions"),u=e("../../../../shared/modules/i18n"),d=e("../../../ducks/locale/locale");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e){return new Promise(t=>setTimeout(t,e))}function f(){const e=(0,a.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).throwTestError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return a.default.createElement(E,{name:"Generate UI Error",description:a.default.createElement("span",null,"Generate an unhandled ",a.default.createElement("b",null,"TestError")," in this window."),onClick:e,expectError:!0})}function g(){const e=(0,a.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).throwTestBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return a.default.createElement(E,{name:"Generate Background Error",description:a.default.createElement("span",null,"Generate an unhandled ",a.default.createElement("b",null,"TestError")," in the service worker."),onClick:e,expectError:!0})}function h(){const e=(0,a.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).captureTestError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return a.default.createElement(E,{name:"Capture UI Error",description:a.default.createElement("span",null,"Capture a ",a.default.createElement("b",null,"TestError")," in this window."),onClick:e})}function y(){const e=(0,a.useCallback)(async()=>{var e,t;await(null===(e=(t=window.stateHooks).captureBackgroundError)||void 0===e?void 0:e.call(t,"Developer Options"))},[]);return a.default.createElement(E,{name:"Capture Background Error",description:a.default.createElement("span",null,"Capture a ",a.default.createElement("b",null,"TestError")," in the service worker."),onClick:e})}function b(){const e=(0,a.useCallback)(async()=>{await(0,s.trace)({name:s.TraceName.DeveloperTest,data:{"test.data.number":123},tags:{"test.tag.number":123}},async e=>{await(0,s.trace)({name:s.TraceName.NestedTest1,data:{"test.data.boolean":!0},tags:{"test.tag.boolean":!0},parentContext:e},()=>m(1e3)),await(0,s.trace)({name:s.TraceName.NestedTest2,data:{"test.data.string":"test"},tags:{"test.tag.string":"test"},parentContext:e},()=>m(500))})},[]);return a.default.createElement(E,{name:"Generate Trace",description:a.default.createElement("span",null,"Generate a ",a.default.createElement("b",null,"Developer Test")," Sentry trace."),onClick:e})}function _({currentLocale:e}){const t=(0,o.useDispatch)();return a.default.createElement(E,{name:"Generate A Page Crash",description:a.default.createElement("span",null,'Trigger the crash on extension to send user feedback to sentry. You can click "Try again" to reload extension'),onClick:async()=>{const n=await(0,u.fetchLocale)(e);await t((0,c.setCurrentLocale)(e,{...n,developerOptions:undefined})),await(0,c.forceUpdateMetamaskState)(t)},expectError:!0,testId:"developer-options-generate-page-crash-button"})}function E({name:e,description:t,onClick:n,expectError:o,testId:s}){const[c,u]=(0,a.useState)(!1),d=(0,a.useCallback)(async()=>{let e=!1;try{await n()}catch(t){throw e=!0,t}finally{!o&&e||u(!0)}},[n]);return a.default.createElement(r.Box,{className:"settings-page__content-row",display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,gap:4},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("div",{className:"settings-page__content-description"},t)),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(r.Button,{variant:r.ButtonVariant.Primary,onClick:d,size:l.ButtonSize.Lg,"data-testid":s},e)),a.default.createElement("div",{className:"settings-page__content-item-col"},a.default.createElement(r.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,paddingLeft:2,paddingRight:2,style:{height:"40px",width:"40px"}},a.default.createElement(r.Icon,{className:"settings-page-developer-options__icon-check",name:r.IconName.Check,color:i.IconColor.successDefault,size:r.IconSize.Lg,hidden:!c}))))}n.default=()=>{const e=(0,o.useSelector)(d.getCurrentLocale)||u.FALLBACK_LOCALE;return a.default.createElement(a.default.Fragment,null,a.default.createElement(r.Text,{className:"settings-page__security-tab-sub-header__bold"},"Sentry"),a.default.createElement("div",{className:"settings-page__content-padded"},a.default.createElement(f,null),a.default.createElement(g,null),a.default.createElement(h,null),a.default.createElement(y,null),a.default.createElement(b,null),a.default.createElement(_,{currentLocale:e})))}}}},{package:"$root$",file:"ui/pages/settings/developer-options-tab/sentry-test.tsx"}],[6841,{"../../../../shared/constants/metametrics":4986,"../../../components/component-library":5645,"../../../components/ui/toggle-button":6096,"../../../helpers/constants/design-system":6156,"../../../helpers/utils/settings-search":6201,"prop-types":4255,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("prop-types")),r=u(e("../../../components/ui/toggle-button")),i=e("../../../helpers/utils/settings-search"),s=e("../../../../shared/constants/metametrics"),l=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.PureComponent{constructor(...e){super(...e),p(this,"settingsRefs",Array((0,i.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("experimental"))).fill(undefined).map(()=>a.default.createRef()))}componentDidUpdate(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,i.handleSettingsRefs)(e,e("experimental"),this.settingsRefs)}renderToggleSection({title:e,description:t,toggleValue:n,toggleCallback:o,toggleDataTestId:i,toggleContainerDataTestId:s,toggleOffLabel:c,toggleOnLabel:u}){return a.default.createElement(l.Box,{ref:this.settingsRefs[0],className:"settings-page__content-row settings-page__content-row-experimental"},a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e),a.default.createElement("div",{className:"settings-page__content-description"},t)),a.default.createElement("div",{className:"settings-page__content-item-col","data-testid":s},a.default.createElement(r.default,{value:n,onToggle:o,offLabel:c,onLabel:u,dataTestId:i})))}renderKeyringSnapsToggle(){const{t:e,trackEvent:t}=this.context,{addSnapAccountEnabled:n,setAddSnapAccountEnabled:o}=this.props;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Text,{variant:c.TextVariant.headingSm,as:"h4",color:c.TextColor.textAlternative,marginBottom:2,fontWeight:c.FontWeight.Bold},e("snaps")),a.default.createElement("div",{className:"settings-page__content-item"},a.default.createElement("span",null,e("snapAccounts")),a.default.createElement("div",{className:"settings-page__content-description"},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,as:"h6",color:c.TextColor.textAlternative},e("snapAccountsDescription")))),this.renderToggleSection({title:e("addSnapAccountToggle"),description:e("addSnapAccountsDescription"),toggleValue:n,toggleCallback:e=>{t({event:s.MetaMetricsEventName.AddSnapAccountEnabled,category:s.MetaMetricsEventCategory.Settings,properties:{enabled:!e}}),o(!e)},toggleContainerDataTestId:"add-account-snap-toggle-div",toggleDataTestId:"add-account-snap-toggle-button",toggleOffLabel:e("off"),toggleOnLabel:e("on")}))}renderNotificationsToggle(){const{t:e}=this.context,{featureNotificationsEnabled:t,setFeatureNotificationsEnabled:n}=this.props;return this.renderToggleSection({title:e("notificationsFeatureToggle"),description:e("notificationsFeatureToggleDescription"),toggleValue:t,toggleCallback:e=>n(!e),toggleDataTestId:"toggle-notifications",toggleOffLabel:e("off"),toggleOnLabel:e("on")})}render(){return a.default.createElement("div",{className:"settings-page__body"},null,this.renderKeyringSnapsToggle())}}n.default=m,p(m,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.component.tsx"}],[6842,{"../../../selectors":6959,"../../../store/actions":6981,"./experimental-tab.component":6841,"react-redux":4383,"react-router-dom":4407,redux:4455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("redux"),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../store/actions"),l=e("../../../selectors"),c=(a=e("./experimental-tab.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(i.withRouter,(0,r.connect)(e=>{const t=(0,l.getFeatureNotificationsEnabled)(e);return{watchAccountEnabled:(0,l.getIsWatchEthereumAccountEnabled)(e),addSnapAccountEnabled:(0,l.getIsAddSnapAccountEnabled)(e),featureNotificationsEnabled:t}},e=>({setWatchAccountEnabled:e=>(0,s.setWatchEthereumAccountEnabled)(e),setAddSnapAccountEnabled:e=>(0,s.setAddSnapAccountEnabled)(e),setFeatureNotificationsEnabled:t=>e((0,s.setFeatureNotificationsEnabled)(t))})))(c.default)}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/experimental-tab.container.ts"}],[6843,{"./experimental-tab.container":6842},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./experimental-tab.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/experimental-tab/index.js"}],[6844,{"./settings.container":6871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./settings.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/index.js"}],[6845,{"./info-tab.component":6846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./info-tab.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/info-tab/index.js"}],[6846,{"../../../../shared/constants/metametrics":4986,"../../../components/app/modals/visit-support-data-consent-modal":5336,"../../../components/component-library":5645,"../../../components/ui/button":5990,"../../../helpers/constants/common":6154,"../../../helpers/utils/build-types":6180,"../../../helpers/utils/settings-search":6201,"prop-types":4255,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=p(e("prop-types")),r=p(e("../../../components/ui/button")),i=e("../../../components/component-library"),s=e("../../../helpers/constants/common"),l=e("../../../helpers/utils/build-types"),c=e("../../../helpers/utils/settings-search"),u=e("../../../../shared/constants/metametrics"),d=p(e("../../../components/app/modals/visit-support-data-consent-modal"));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.PureComponent{constructor(...e){super(...e),f(this,"state",{version:"13.1.1",isVisitSupportDataConsentModalOpen:!1}),f(this,"settingsRefs",Array((0,c.getNumberOfSettingRoutesInTab)(this.context.t,this.context.t("about"))).fill(undefined).map(()=>a.default.createRef())),f(this,"toggleVisitSupportDataConsentModal",()=>{this.setState(e=>({isVisitSupportDataConsentModalOpen:!e.isVisitSupportDataConsentModalOpen}))})}componentDidUpdate(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}componentDidMount(){const{t:e}=this.context;(0,c.handleSettingsRefs)(e,e("about"),this.settingsRefs)}renderInfoLinks(){const{t:e}=this.context;return a.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},a.default.createElement("div",{ref:this.settingsRefs[1],className:"info-tab__link-header"},e("links")),a.default.createElement("div",{ref:this.settingsRefs[2],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("privacyMsg"))),a.default.createElement("div",{ref:this.settingsRefs[3],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("terms"))),(0,l.isBeta)()?a.default.createElement("div",{ref:this.settingsRefs[8],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/beta-terms.html",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("betaTerms"),a.default.createElement(i.Tag,{label:e("new"),className:"info-tab__tag"}))):null,a.default.createElement("div",{ref:this.settingsRefs[4],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:`https://raw.githubusercontent.com/MetaMask/metamask-extension/v${this.state.version}/attribution.txt`,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("attributions"))),a.default.createElement("hr",{className:"info-tab__separator"}),a.default.createElement("div",{ref:this.settingsRefs[5],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:this.toggleVisitSupportDataConsentModal},e("supportCenter"))),a.default.createElement("div",{ref:this.settingsRefs[6],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text"},e("visitWebSite"))),a.default.createElement("div",{ref:this.settingsRefs[7],className:"info-tab__link-item"},a.default.createElement(r.default,{type:"link",href:s.SUPPORT_REQUEST_LINK,target:"_blank",rel:"noopener noreferrer",className:"info-tab__link-text",onClick:()=>{this.context.trackEvent({category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.SupportLinkClicked,properties:{url:s.SUPPORT_REQUEST_LINK}},{contextPropsIntoEventProperties:[u.MetaMetricsContextProp.PageTitle]})}},e("contactUs"))))}render(){const{t:e}=this.context;return a.default.createElement("div",{className:"settings-page__body"},a.default.createElement("div",{className:"settings-page__content-row"},a.default.createElement("div",{className:"settings-page__content-item settings-page__content-item--without-height"},a.default.createElement("div",{className:"info-tab__item"},a.default.createElement("div",{ref:this.settingsRefs[0],className:"info-tab__version-header"},(0,l.isBeta)()?e("betaMetamaskVersion"):e("metamaskVersion")),a.default.createElement("div",{className:"info-tab__version-number"},this.state.version)),a.default.createElement("div",{className:"info-tab__item"},a.default.createElement("div",{className:"info-tab__about"},e("builtAroundTheWorld")))),this.renderInfoLinks()),a.default.createElement("div",{className:"info-tab__logo-wrapper"},a.default.createElement("img",{src:"./images/logo/metamask-fox.svg",className:"info-tab__logo",alt:"MetaMask Logo"})),this.state.isVisitSupportDataConsentModalOpen&&a.default.createElement(d.default,{isOpen:this.state.isVisitSupportDataConsentModalOpen,onClose:this.toggleVisitSupportDataConsentModal}))}}n.default=g,f(g,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/pages/settings/info-tab/info-tab.component.js"}],[6847,{"./networks-form":6849},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./networks-form"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/index.js"}],[6848,{"../../../../../shared/modules/conversion.utils":5079,react:4437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNetworkFormState=void 0;var a=e("react"),o=e("../../../../../shared/modules/conversion.utils");n.useNetworkFormState=e=>{const[t,n]=(0,a.useState)(""),[r,i]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[c,u]=(0,a.useState)({rpcEndpoints:[],defaultRpcEndpointIndex:undefined}),[d,p]=(0,a.useState)({blockExplorerUrls:[],defaultBlockExplorerUrlIndex:undefined});return(0,a.useEffect)(()=>{n((null==e?void 0:e.name)??""),i(e?(0,o.hexToDecimal)(e.chainId):""),l((null==e?void 0:e.nativeCurrency)??""),u({rpcEndpoints:(null==e?void 0:e.rpcEndpoints)??[],defaultRpcEndpointIndex:null==e?void 0:e.defaultRpcEndpointIndex}),p({blockExplorerUrls:(null==e?void 0:e.blockExplorerUrls)??[],defaultBlockExplorerUrlIndex:null==e?void 0:e.defaultBlockExplorerUrlIndex})},[null==e?void 0:e.chainId]),{name:t,setName:n,chainId:r,setChainId:i,ticker:s,setTicker:l,rpcUrls:c,setRpcUrls:u,blockExplorers:d,setBlockExplorers:p,clear:()=>{n(""),i(""),l(""),u({rpcEndpoints:[],defaultRpcEndpointIndex:undefined}),p({blockExplorerUrls:[],defaultBlockExplorerUrlIndex:undefined})}}}}}},{package:"$root$",file:"ui/pages/settings/networks-tab/networks-form/networks-form-state.ts"}]],[],{});