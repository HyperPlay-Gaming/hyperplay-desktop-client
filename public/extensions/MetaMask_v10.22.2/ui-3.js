LavaPack.loadBundle([[5260,{"../../../../../helpers/constants/design-system":6123,"../../../../../hooks/snaps/useIsOverflowing":6184,"../../../../../hooks/useI18nContext":6202,"../../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=(o=e("../../../../../hooks/snaps/useIsOverflowing"))&&o.__esModule?o:{default:o},i=e("../../../../component-library"),s=e("../../../../../hooks/useI18nContext"),l=e("../../../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}n.default=({value:e})=>{const t=(0,s.useI18nContext)(),{contentRef:n,isOverflowing:o}=(0,a.default)(),[c,u]=(0,r.useState)(!1),d=!c&&o,p=e=>{e.stopPropagation(),u(!c)};return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.Box,{marginTop:2,className:"nft-details__show-more",style:{position:"relative",overflow:"hidden",maxHeight:c?"none":undefined},ref:n},r.default.createElement(i.Text,{variant:l.TextVariant.bodySm,fontWeight:l.FontWeight.Medium,color:l.TextColor.textAlternative,"data-testid":"nft-details__description"},e),d&&r.default.createElement(i.Box,{className:"buttonDescriptionContainer"},r.default.createElement(i.Button,{className:"nft-details__show-more__button",padding:0,paddingLeft:9,variant:i.ButtonVariant.Link,onClick:p},r.default.createElement(i.Text,{color:l.TextColor.infoDefault},t("showMore"))))),c&&r.default.createElement(i.Box,null,r.default.createElement(i.Button,{padding:0,variant:i.ButtonVariant.Link,onClick:p},r.default.createElement(i.Text,{color:l.TextColor.infoDefault},t("showLess")))))}}}},{package:"$root$",file:"ui/components/app/assets/nfts/nft-details/nft-detail-description.tsx"}],[5261,{"../../../../../helpers/constants/design-system":6123,"../../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("react"))&&o.__esModule?o:{default:o},a=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(this,arguments)}n.default=({title:e,value:t,buttonAddressValue:n,frameClassname:o,frameTextTitleProps:l,frameTextTitleStyle:c,frameTextValueStyle:u,frameTextValueProps:d,icon:p})=>r.default.createElement(a.Box,{className:`${o}`},r.default.createElement(a.Text,s({style:c},l),e),p?r.default.createElement(a.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center}," ",n?{...n}:r.default.createElement(a.Text,s({style:u},d),t),p):r.default.createElement(a.Text,s({style:u},d),t))}}},{package:"$root$",file:"ui/components/app/assets/nfts/nft-details/nft-detail-information-frame.tsx"}],[5262,{"../../../../../helpers/constants/design-system":6123,"../../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("../../../../component-library"),a=e("../../../../../helpers/constants/design-system");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}n.default=({title:e,valueColor:t,value:n,icon:i,buttonAddressValue:s,withPopover:l,fullValue:c})=>{const[u,d]=(0,o.useState)(!1),[p,f]=(0,o.useState)();return n||s?o.default.createElement(r.Box,{display:a.Display.Flex,justifyContent:a.JustifyContent.spaceBetween,marginTop:2},o.default.createElement(r.Text,{color:a.TextColor.textAlternative,variant:a.TextVariant.bodyMdMedium},e),i?o.default.createElement(r.Box,{display:a.Display.Flex},s?{...s}:o.default.createElement(r.Text,{color:t||a.TextColor.textAlternative,variant:a.TextVariant.bodyMdMedium},n),i):o.default.createElement(r.Text,{color:t||a.TextColor.textAlternative,variant:a.TextVariant.bodyMdMedium},l&&c?o.default.createElement(o.default.Fragment,null,o.default.createElement(r.Box,{onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},ref:e=>{f(e)}},n),o.default.createElement(r.Popover,{referenceElement:p,isOpen:u,position:r.PopoverPosition.BottomStart,hasArrow:!0,flip:!0,backgroundColor:a.BackgroundColor.overlayAlternative,className:"tokenId-popover",paddingLeft:4,paddingRight:4},o.default.createElement(r.Text,{variant:a.TextVariant.bodySm,color:a.TextColor.overlayInverse},c))):n)):null}}}},{package:"$root$",file:"ui/components/app/assets/nfts/nft-details/nft-detail-information-row.tsx"}],[5263,{"../../../../../../app/scripts/lib/util":130,"../../../../../../shared/constants/metametrics":5150,"../../../../../../shared/constants/network":5154,"../../../../../../shared/constants/swaps":5164,"../../../../../../shared/constants/transaction":5168,"../../../../../../shared/modules/Numeric":5183,"../../../../../contexts/metametrics":6090,"../../../../../ducks/metamask/metamask":6111,"../../../../../ducks/send":6116,"../../../../../helpers/constants/design-system":6123,"../../../../../helpers/constants/routes":6129,"../../../../../helpers/utils/confirm-tx.util":6150,"../../../../../helpers/utils/nfts":6160,"../../../../../helpers/utils/util":6171,"../../../../../hooks/useCopyToClipboard":6191,"../../../../../hooks/useGetAssetImageUrl":6201,"../../../../../hooks/useI18nContext":6202,"../../../../../hooks/usePrevious":6214,"../../../../../pages/asset/util":6244,"../../../../../selectors":6820,"../../../../../store/actions":6833,"../../../../component-library":5680,"../../../../multichain/nft-item":5854,"../../../../multichain/pages/page":5906,"../../../../ui/info-tooltip":6009,"../nft-options/nft-options":5265,"./nft-detail-description":5260,"./nft-detail-information-frame":5261,"./nft-detail-information-row":5262,"@metamask/etherscan-link":1550,lodash:4483,"prop-types":4631,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=L;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=$(e("prop-types")),a=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=e("@metamask/etherscan-link"),c=e("../../../../../helpers/constants/design-system"),u=e("../../../../../hooks/useI18nContext"),d=e("../../../../../helpers/utils/util"),p=e("../../../../../helpers/utils/nfts"),f=e("../../../../../selectors"),m=e("../../../../../helpers/constants/routes"),h=e("../../../../../store/actions"),g=e("../../../../../../shared/constants/network"),y=$(e("../nft-options/nft-options")),v=e("../../../../../ducks/send"),b=$(e("../../../../ui/info-tooltip")),_=e("../../../../../hooks/usePrevious"),k=e("../../../../../hooks/useCopyToClipboard"),w=e("../../../../../../shared/constants/transaction"),x=e("../../../../component-library"),T=e("../../../../multichain/nft-item"),C=e("../../../../../../shared/constants/metametrics"),E=e("../../../../../contexts/metametrics"),M=e("../../../../multichain/pages/page"),O=e("../../../../../helpers/utils/confirm-tx.util"),S=e("../../../../../pages/asset/util"),j=e("../../../../../../shared/constants/swaps"),P=e("../../../../../ducks/metamask/metamask"),I=e("../../../../../../shared/modules/Numeric"),N=e("../../../../../../app/scripts/lib/util"),D=$(e("../../../../../hooks/useGetAssetImageUrl")),A=$(e("./nft-detail-information-row")),R=$(e("./nft-detail-information-frame")),B=$(e("./nft-detail-description"));function $(e){return e&&e.__esModule?e:{default:e}}function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}const F=15;function L({nft:e}){var t,n,r,$,W,L,q,U,z,V,H,K,G,J;const{image:Q,imageOriginal:Y,name:X,description:Z,address:ee,tokenId:te,standard:ne,isCurrentlyOwned:oe,lastSale:re,collection:ae,rarityRank:ie,topBid:se,attributes:le}=e,ce=(0,u.useI18nContext)(),ue=(0,i.useHistory)(),de=(0,a.useDispatch)(),pe=(0,a.useSelector)(f.getIpfsGateway),fe=(0,a.useSelector)(f.getCurrentChainId),me=(0,a.useSelector)(f.getCurrentNetwork),he=(0,o.useContext)(E.MetaMetricsContext),ge=(0,a.useSelector)(f.getCurrentCurrency),ye=(0,a.useSelector)(P.getConversionRate),[ve,be]=(0,k.useCopyToClipboard)(),_e=(0,p.getNftImageAlt)(e),ke=Y??Q,we=null==ke?void 0:ke.startsWith("ipfs:"),xe=(null==Q?void 0:Q.startsWith("https:"))||(null==Q?void 0:Q.startsWith("http:")),Te=(0,D.default)(Y??Q,pe),Ce=Boolean((null==ae||null===(t=ae.floorAsk)||void 0===t||null===(t=t.price)||void 0===t||null===(t=t.amount)||void 0===t?void 0:t.usd)&&(null==ae||null===(n=ae.floorAsk)||void 0===n||null===(n=n.price)||void 0===n||null===(n=n.amount)||void 0===n?void 0:n.native)),Ee=Boolean((null==re||null===(r=re.price)||void 0===r||null===(r=r.amount)||void 0===r?void 0:r.usd)&&(null==re||null===($=re.price)||void 0===$||null===($=$.amount)||void 0===$?void 0:$.native)),Me=!Ee&&!Ce&&!ie,Oe=()=>{var e,t,n,o;if(null!=se&&null!==(e=se.price)&&void 0!==e&&null!==(e=e.amount)&&void 0!==e&&e.native&&null!=ae&&null!==(t=ae.topBid)&&void 0!==t&&null!==(t=t.price)&&void 0!==t&&null!==(t=t.amount)&&void 0!==t&&t.native){var r,a;return`${Math.max(null==se||null===(r=se.price)||void 0===r||null===(r=r.amount)||void 0===r?void 0:r.native,null==ae||null===(a=ae.topBid)||void 0===a||null===(a=a.price)||void 0===a||null===(a=a.amount)||void 0===a?void 0:a.native)}${me.ticker}`}const i=(null==se||null===(n=se.price)||void 0===n||null===(n=n.amount)||void 0===n?void 0:n.native)||(null==ae||null===(o=ae.topBid)||void 0===o||null===(o=o.price)||void 0===o||null===(o=o.amount)||void 0===o?void 0:o.native);if(!i)return undefined;return`${i}${me.ticker}`},Se=()=>{var e,t,n;return(null==se||null===(e=se.source)||void 0===e?void 0:e.url)||(null!=ae&&null!==(t=ae.topBid)&&void 0!==t&&t.sourceDomain?`https://${null===(n=ae.topBid)||void 0===n?void 0:n.sourceDomain}`:undefined)},{chainId:je}=me;(0,o.useEffect)((()=>{he({event:C.MetaMetricsEventName.NftDetailsOpened,category:C.MetaMetricsEventCategory.Tokens,properties:{chain_id:je}})}),[he,je]);const Pe=(0,_.usePrevious)(e);(0,o.useEffect)((()=>{(0,s.isEqual)(Pe,e)||(0,h.checkAndUpdateSingleNftOwnershipStatus)(e)}),[e,Pe]);const Ie=()=>{const e=null==re?void 0:re.orderSource;return e?(0,N.addUrlProtocolPrefix)(e):null},Ne=(()=>{switch(fe){case g.CHAIN_IDS.MAINNET:return`https://opensea.io/assets/ethereum/${ee}/${te}`;case g.CHAIN_IDS.POLYGON:return`https://opensea.io/assets/matic/${ee}/${te}`;case g.CHAIN_IDS.GOERLI:return`https://testnets.opensea.io/assets/goerli/${ee}/${te}`;case g.CHAIN_IDS.SEPOLIA:return`https://testnets.opensea.io/assets/sepolia/${ee}/${te}`;default:return null}})(),De=ne!==w.TokenStandard.ERC721&&ne!==w.TokenStandard.ERC1155,Ae=e=>{const t=new Date(1e3*e).getTime();return(0,S.getShortDateFormatterV2)().format(t)},Re=Oe()||(null==re?void 0:re.timestamp),Be=(null==ae?void 0:ae.name)||(null==ae?void 0:ae.tokenCount)||(null==ae?void 0:ae.creator),$e=le&&0!==(null==le?void 0:le.length),We=e=>(0,l.getTokenTrackerLink)(e,je,null,null,{blockExplorerUrl:j.SWAPS_CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[je]??null}),Fe=(e,t)=>{const n=new I.Numeric(e,16);if(!ye||"usd"===ge){return(0,O.formatCurrency)(t.toString(),"usd")}const o=n.applyConversionRate(ye).toNumber();return(0,O.formatCurrency)(new I.Numeric(o,10).toString(),ge)};return o.default.createElement(M.Page,null,o.default.createElement(M.Content,{className:"nft-details__content"},o.default.createElement(x.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween},o.default.createElement(x.ButtonIcon,{color:c.IconColor.iconAlternative,size:x.ButtonIconSize.Sm,ariaLabel:ce("back"),iconName:x.IconName.ArrowLeft,onClick:()=>ue.push(m.DEFAULT_ROUTE),"data-testid":"nft__back"}),o.default.createElement(y.default,{onViewOnOpensea:Ne?()=>global.platform.openTab({url:Ne}):null,onRemove:async()=>{let e=!1;try{await de((0,h.removeAndIgnoreNft)(ee,te)),de((0,h.setNewNftAddedMessage)("")),de((0,h.setRemoveNftMessage)("success")),e=!0}catch(e){de((0,h.setNewNftAddedMessage)("")),de((0,h.setRemoveNftMessage)("error"))}finally{he({event:C.MetaMetricsEventName.NFTRemoved,category:"Wallet",properties:{token_contract_address:ee,tokenId:te.toString(),asset_type:w.AssetType.NFT,token_standard:ne,chain_id:fe,isSuccessful:e}}),ue.push(m.DEFAULT_ROUTE)}}})),o.default.createElement(x.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.center,marginBottom:8,marginTop:1},o.default.createElement(x.Box,{className:"nft-details__nft-item"},o.default.createElement(T.NftItem,{src:xe?Q:Te,alt:Q?_e:"",name:X,tokenId:te,networkName:me.nickname??"",networkSrc:null===(W=me.rpcPrefs)||void 0===W?void 0:W.imageUrl,isIpfsURL:we,onClick:()=>ue.push(`${m.ASSET_ROUTE}/image/${ee}/${te}`),clickable:!0}))),o.default.createElement(x.Box,null,X||null!=ae&&ae.name?o.default.createElement(x.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center},o.default.createElement(x.Text,{variant:c.TextVariant.headingMd,fontWeight:c.FontWeight.Bold,color:c.TextColor.textDefault,fontStyle:c.FontStyle.Normal,style:{fontSize:"24px"},"data-testid":"nft-details__name"},X||(null==ae?void 0:ae.name)),"verified"===(null==ae?void 0:ae.openseaVerificationStatus)?o.default.createElement(x.Icon,{marginLeft:1,name:x.IconName.SecurityTick,color:c.IconColor.primaryDefault}):null):null,o.default.createElement(B.default,{value:Z}),o.default.createElement(x.Box,{marginTop:4,marginBottom:4,display:c.Display.Flex,gap:4,flexWrap:c.FlexWrap.Wrap},Ee||Ce?o.default.createElement(o.default.Fragment,null,o.default.createElement(R.default,{frameClassname:"nft-details__nft-frame",title:ce("boughtFor"),frameTextTitleProps:{textAlign:c.TextAlign.Center,color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},frameTextTitleStyle:{fontSize:"10px",lineHeight:"16px"},value:null!=re&&null!==(L=re.price)&&void 0!==L&&null!==(L=L.amount)&&void 0!==L&&L.usd&&null!=re&&null!==(q=re.price)&&void 0!==q&&null!==(q=q.amount)&&void 0!==q&&q.native?Fe(null==re||null===(U=re.price)||void 0===U||null===(U=U.amount)||void 0===U?void 0:U.native,null==re||null===(z=re.price)||void 0===z||null===(z=z.amount)||void 0===z?void 0:z.usd):ce("dataUnavailable"),frameTextValueProps:{color:Ee?c.TextColor.textDefault:c.TextColor.textAlternative,variant:Ee?c.TextVariant.headingSm:c.TextVariant.bodyMdMedium,textAlign:Ee&&null!=re&&re.orderSource?undefined:c.TextAlign.Center},frameTextValueStyle:{fontSize:Ee?"16px":"10px",lineHeight:Ee?"24px":"16px"},icon:null!=re&&re.orderSource?o.default.createElement(x.ButtonIcon,{size:x.ButtonIconSize.Sm,padding:2,color:c.IconColor.iconMuted,onClick:()=>{global.platform.openTab({url:Ie()})},iconName:x.IconName.Export,ariaLabel:"redirect"}):undefined}),o.default.createElement(R.default,{frameClassname:"nft-details__nft-frame",title:ce("highestFloorPrice"),frameTextTitleProps:{textAlign:c.TextAlign.Center,color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},frameTextTitleStyle:{fontSize:"10px",lineHeight:"16px"},value:null!=ae&&null!==(V=ae.floorAsk)&&void 0!==V&&null!==(V=V.price)&&void 0!==V&&null!==(V=V.amount)&&void 0!==V&&V.usd&&null!=ae&&null!==(H=ae.floorAsk)&&void 0!==H&&null!==(H=H.price)&&void 0!==H&&null!==(H=H.amount)&&void 0!==H&&H.native?Fe(null==ae||null===(K=ae.floorAsk)||void 0===K||null===(K=K.price)||void 0===K||null===(K=K.amount)||void 0===K?void 0:K.native,null==ae||null===(G=ae.floorAsk)||void 0===G||null===(G=G.price)||void 0===G||null===(G=G.amount)||void 0===G?void 0:G.usd):ce("priceUnavailable"),frameTextValueProps:{color:Ce?c.TextColor.textDefault:c.TextColor.textAlternative,variant:Ce?c.TextVariant.headingSm:c.TextVariant.bodyMdMedium,textAlign:Ce&&(Ce&&Boolean(null==ae||null===(Ue=ae.floorAsk)||void 0===Ue||null===(Ue=Ue.source)||void 0===Ue?void 0:Ue.url)?null==ae||null===(ze=ae.floorAsk)||void 0===ze||null===(ze=ze.source)||void 0===ze?void 0:ze.url:undefined)?undefined:c.TextAlign.Center},frameTextValueStyle:{fontSize:Ce?"16px":"10px",lineHeight:Ce?"24px":"16px"},icon:null!=ae&&null!==(J=ae.floorAsk)&&void 0!==J&&null!==(J=J.source)&&void 0!==J&&J.url?o.default.createElement(x.ButtonIcon,{size:x.ButtonIconSize.Sm,padding:2,color:c.IconColor.iconMuted,onClick:()=>{var e;global.platform.openTab({url:null==ae||null===(e=ae.floorAsk)||void 0===e||null===(e=e.source)||void 0===e?void 0:e.url})},iconName:x.IconName.Export,ariaLabel:"redirect"}):undefined})):null,ie?o.default.createElement(R.default,{frameClassname:"nft-details__nft-frame",title:ce("rank"),frameTextTitleProps:{textAlign:c.TextAlign.Center,color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},frameTextTitleStyle:{fontSize:"10px",lineHeight:"16px"},value:`#${ie}`,frameTextValueProps:{color:c.TextColor.textDefault,variant:c.TextVariant.headingSm,textAlign:c.TextAlign.Center},frameTextValueStyle:{fontSize:"16px",lineHeight:"24px"}}):null,Ee||Ce||ie?o.default.createElement(R.default,{frameClassname:"nft-details__nft-frame",title:ce("contractAddress"),frameTextTitleProps:{textAlign:c.TextAlign.Center,color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},frameTextTitleStyle:{fontSize:"10px",lineHeight:"16px"},buttonAddressValue:o.default.createElement("button",{className:"nft-details__addressButton",onClick:()=>{global.platform.openTab({url:We(ee)})}},o.default.createElement(x.Text,{color:c.TextColor.primaryDefault,fontStyle:c.FontStyle.Normal,variant:c.TextVariant.bodySmMedium},(0,d.shortenAddress)(ee))),icon:o.default.createElement(x.ButtonIcon,{ariaLabel:"copy",size:x.ButtonIconSize.Sm,color:c.IconColor.primaryDefault,padding:1,"data-testid":"nft-address-copy",onClick:()=>{null==be||be(ee||"")},iconName:ve?x.IconName.CopySuccess:x.IconName.Copy})}):null),Me?o.default.createElement(A.default,{title:ce("contractAddress"),buttonAddressValue:ee?o.default.createElement("button",{className:"nft-details__addressButton",onClick:()=>{global.platform.openTab({url:We(ee)})}},o.default.createElement(x.Text,{color:c.TextColor.primaryDefault,fontStyle:c.FontStyle.Normal,variant:c.TextVariant.bodySmMedium},(0,d.shortenAddress)(ee))):null,valueColor:c.TextColor.primaryDefault,icon:o.default.createElement(x.ButtonIcon,{ariaLabel:"copy",size:x.ButtonIconSize.Sm,color:c.IconColor.primaryDefault,"data-testid":"nft-address-copy",onClick:()=>{null==be||be(ee||"")},iconName:ve?x.IconName.CopySuccess:x.IconName.Copy,justifyContent:c.JustifyContent.flexEnd})}):null,o.default.createElement(A.default,{title:ce("tokenId"),value:(Le=te,qe=5,Le.length<=F?Le:`${Le.slice(0,qe)}...${Le.slice(-qe)}`),fullValue:te,withPopover:te.length>F}),o.default.createElement(A.default,{title:ce("tokenSymbol"),value:null==ae?void 0:ae.symbol}),o.default.createElement(A.default,{title:ce("numberOfTokens"),value:null==ae?void 0:ae.tokenCount}),o.default.createElement(A.default,{title:ce("tokenStandard"),value:ne}),o.default.createElement(A.default,{title:ce("dateCreated"),value:null!=ae&&ae.contractDeployedAt?Ae((e=>{const t=new Date(e);return Math.floor(t.getTime()/1e3)})(null==ae?void 0:ae.contractDeployedAt)):undefined}),Re?o.default.createElement(x.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,marginTop:6},o.default.createElement(x.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.headingMd},ce("price"))):null,o.default.createElement(A.default,{title:ce("lastSold"),value:null!=re&&re.timestamp?Ae(null==re?void 0:re.timestamp):undefined,icon:null!=re&&re.orderSource?o.default.createElement(x.ButtonIcon,{size:x.ButtonIconSize.Sm,color:c.IconColor.iconMuted,onClick:()=>{global.platform.openTab({url:Ie()})},iconName:x.IconName.Export,justifyContent:c.JustifyContent.flexEnd,ariaLabel:"export"}):undefined}),o.default.createElement(A.default,{title:ce("highestCurrentBid"),value:Oe(),icon:Se()?o.default.createElement(x.ButtonIcon,{size:x.ButtonIconSize.Sm,color:c.IconColor.iconMuted,onClick:()=>{global.platform.openTab({url:Se()})},iconName:x.IconName.Export,justifyContent:c.JustifyContent.flexEnd,ariaLabel:"redirect"}):undefined}),Be?o.default.createElement(x.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,marginTop:6},o.default.createElement(x.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.headingMd},ce("notificationItemCollection"))):null,o.default.createElement(A.default,{title:ce("collectionName"),value:null==ae?void 0:ae.name}),o.default.createElement(A.default,{title:ce("tokensInCollection"),value:null==ae?void 0:ae.tokenCount}),o.default.createElement(A.default,{title:ce("creatorAddress"),buttonAddressValue:null!=ae&&ae.creator?o.default.createElement("button",{className:"nft-details__addressButton",onClick:()=>{global.platform.openTab({url:(0,l.getAccountLink)(null==ae?void 0:ae.creator,je)})}},o.default.createElement(x.Text,{color:c.TextColor.primaryDefault,fontStyle:c.FontStyle.Normal,variant:c.TextVariant.bodySmMedium},(0,d.shortenAddress)(null==ae?void 0:ae.creator))):null,valueColor:c.TextColor.primaryDefault,icon:o.default.createElement(x.ButtonIcon,{ariaLabel:"copy",size:x.ButtonIconSize.Sm,color:c.IconColor.primaryDefault,"data-testid":"nft-address-copy",onClick:()=>{null==be||be((null==ae?void 0:ae.creator)||"")},iconName:ve?x.IconName.CopySuccess:x.IconName.Copy,justifyContent:c.JustifyContent.flexEnd})}),$e?o.default.createElement(x.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween,marginTop:6},o.default.createElement(x.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.headingMd},ce("attributes"))):null,o.default.createElement(x.Box,{marginTop:4,display:c.Display.Flex,gap:2,flexWrap:c.FlexWrap.Wrap}," ",null==le?void 0:le.map(((e,t)=>{const{key:n,value:r}=e;return o.default.createElement(R.default,{key:`${n}-${r}-${t}`,frameClassname:"nft-details__nft-attribute-frame",title:n,frameTextTitleProps:{color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},frameTextTitleStyle:{fontSize:"14px",lineHeight:"22px"},value:r,frameTextValueProps:{color:c.TextColor.textDefault,variant:c.TextVariant.bodyMd},frameTextValueStyle:{fontSize:"14px"}})}))),o.default.createElement(x.Box,{marginTop:4},o.default.createElement(x.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6"},ce("nftDisclaimer"))))),!0===oe?o.default.createElement(M.Footer,{className:"nft-details__content"},o.default.createElement(x.ButtonPrimary,{onClick:async()=>{await de((0,v.startNewDraftTransaction)({type:w.AssetType.NFT,details:{...e,tokenId:Number(e.tokenId),image:e.image??undefined}})),ue.push(m.SEND_ROUTE)},disabled:De,size:x.ButtonPrimarySize.Lg,block:!0,"data-testid":"nft-send-button"},ce("send")),De?o.default.createElement(b.default,{position:"top",contentText:ce("sendingDisabled")}):null):null);var Le,qe,Ue,ze}L.propTypes={nft:r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,isCurrentlyOwned:r.default.bool,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,imageOriginal:r.default.string,rarityRank:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string}),attributes:r.default.arrayOf(r.default.shape({key:r.default.string,value:r.default.string})),lastSale:r.default.shape({timestamp:r.default.string,orderSource:r.default.string,price:r.default.shape({amount:r.default.shape({native:r.default.string,decimal:r.default.string,usd:r.default.string}),currency:r.default.shape({symbol:r.default.string})})}),topBid:r.default.shape({source:r.default.shape({id:r.default.string,domain:r.default.string,name:r.default.string,icon:r.default.string,url:r.default.string}),price:r.default.shape({amount:r.default.shape({native:r.default.string,decimal:r.default.string,usd:r.default.string}),currency:r.default.shape({symbol:r.default.string})})}),collection:r.default.shape({openseaVerificationStatus:r.default.string,tokenCount:r.default.string,name:r.default.string,ownerCount:r.default.string,creator:r.default.string,symbol:r.default.string,contractDeployedAt:r.default.string,floorAsk:r.default.shape({sourceDomain:r.default.string,source:r.default.shape({id:r.default.string,domain:r.default.string,name:r.default.string,icon:r.default.string,url:r.default.string}),price:r.default.shape({amount:r.default.shape({native:r.default.string,decimal:r.default.string,usd:r.default.string}),currency:r.default.shape({symbol:r.default.string})})}),topBid:r.default.shape({sourceDomain:r.default.string,price:r.default.shape({amount:r.default.shape({native:r.default.string,decimal:r.default.string,usd:r.default.string}),currency:r.default.shape({symbol:r.default.string})})})})})}}}},{package:"$root$",file:"ui/components/app/assets/nfts/nft-details/nft-details.tsx"}],[5264,{"../../../../../../shared/modules/string-utils":5208,"../../../../../ducks/metamask/metamask":6111,"../../../../../helpers/constants/design-system":6123,"../../../../../helpers/constants/routes":6129,"../../../../../helpers/utils/nfts":6160,"../../../../../hooks/useGetAssetImageUrl":6201,"../../../../../hooks/useI18nContext":6202,"../../../../../selectors":6820,"../../../../component-library":5680,"../../../../multichain/nft-item":5854,"../../../../multichain/pages/page":5906,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,h.useI18nContext)(),{asset:n,id:o}=(0,i.useParams)(),v=(0,a.useSelector)(p.getNfts).find((({address:e,tokenId:t})=>(0,f.isEqualCaseInsensitive)(e,n)&&o===t.toString())),{image:b,imageOriginal:_,name:k,tokenId:w}=v,x=(0,a.useSelector)(l.getIpfsGateway),T=(0,a.useSelector)(l.getCurrentNetwork),C=(0,y.default)(_??b,x),E=(0,s.getNftImageAlt)(v),M=_??b,O=null==M?void 0:M.startsWith("ipfs:"),S=null==b?void 0:b.startsWith("https:"),j=(0,i.useHistory)(),[P,I]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{I(!0)}),[]),r.default.createElement(c.Box,{className:"main-container asset__container"},r.default.createElement(d.Page,null,r.default.createElement(d.Header,{endAccessory:r.default.createElement(c.ButtonIcon,{color:m.IconColor.iconAlternative,size:c.ButtonIconSize.Sm,ariaLabel:t("back"),iconName:c.IconName.Close,onClick:()=>j.push(`${g.ASSET_ROUTE}/${n}/${o}`),"data-testid":"nft-details__close",paddingLeft:0})}),r.default.createElement(d.Content,{className:"fade-in "+(P?"visible":""),justifyContent:m.JustifyContent.center},r.default.createElement(c.Box,{display:m.Display.Flex,justifyContent:m.JustifyContent.center,paddingTop:4},r.default.createElement(c.Box,null,r.default.createElement(u.NftItem,{src:S?b:C,alt:b?E:"",name:k,tokenId:w,networkName:T.nickname??"",networkSrc:null===(e=T.rpcPrefs)||void 0===e?void 0:e.imageUrl,isIpfsURL:O,badgeWrapperClassname:"badge-wrapper"}))))))};var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=e("react-router-dom"),s=e("../../../../../helpers/utils/nfts"),l=e("../../../../../selectors"),c=e("../../../../component-library"),u=e("../../../../multichain/nft-item"),d=e("../../../../multichain/pages/page"),p=e("../../../../../ducks/metamask/metamask"),f=e("../../../../../../shared/modules/string-utils"),m=e("../../../../../helpers/constants/design-system"),h=e("../../../../../hooks/useI18nContext"),g=e("../../../../../helpers/constants/routes"),y=(o=e("../../../../../hooks/useGetAssetImageUrl"))&&o.__esModule?o:{default:o};function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/assets/nfts/nft-details/nft-full-image.tsx"}],[5265,{"../../../../../contexts/i18n":6087,"../../../../../helpers/constants/design-system":6123,"../../../../component-library":5680,"../../../../ui/menu":6025,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=e("../../../../../contexts/i18n"),s=e("../../../../ui/menu"),l=e("../../../../component-library"),c=e("../../../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=({onRemove:e,onViewOnOpensea:t})=>{const n=(0,r.useContext)(i.I18nContext),[o,a]=(0,r.useState)(!1),u=(0,r.useRef)(!1);return r.default.createElement("div",{ref:u},r.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,"data-testid":"nft-options__button",onClick:()=>a(!0),color:c.Color.textDefault,size:l.ButtonIconSize.Sm,ariaLabel:n("nftOptions")}),o?r.default.createElement(s.Menu,{"data-testid":"close-nft-options-menu",anchorElement:u.current,onHide:()=>a(!1)},t?r.default.createElement(s.MenuItem,{iconName:l.IconName.Export,"data-testid":"nft-options__view-on-opensea",onClick:()=>{a(!1),t()}},n("viewOnOpensea")):null,r.default.createElement(s.MenuItem,{iconName:l.IconName.Trash,"data-testid":"nft-item-remove",onClick:()=>{a(!1),e()}},n("removeNFT"))):null)};d.propTypes={onRemove:a.default.func.isRequired,onViewOnOpensea:a.default.func};n.default=d}}},{package:"$root$",file:"ui/components/app/assets/nfts/nft-options/nft-options.js"}],[5266,{"../../../../../helpers/constants/routes":6129,"../../../../../hooks/useI18nContext":6202,"../../../../component-library":5680,"prop-types":4631,react:4884,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var o=c(e("react")),r=c(e("prop-types")),a=e("react-router-dom"),i=e("../../../../component-library"),s=e("../../../../../hooks/useI18nContext"),l=e("../../../../../helpers/constants/routes");function c(e){return e&&e.__esModule?e:{default:e}}function u({onActionButtonClick:e}){const t=(0,s.useI18nContext)(),n=(0,a.useHistory)();return o.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",actionButtonLabel:t("selectEnableDisplayMediaPrivacyPreference"),actionButtonOnClick:t=>{t.preventDefault(),n.push(`${l.SECURITY_ROUTE}#display-nft-media`),null==e||e()}},t("newNFTDetectedInImportNFTsMsg",[o.default.createElement("b",{key:"new-nft-detected-in-import-nfts-message-strong-text"},t("newNFTDetectedInImportNFTsMessageStrongText"))]))}u.propTypes={onActionButtonClick:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/assets/nfts/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts.js"}],[5267,{"../../../../../hooks/useI18nContext":6202,"../../../../../selectors":6820,"../../../../../store/actions":6833,"../../../../component-library":5680,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useI18nContext)(),t=(0,a.useDispatch)(),n=(0,a.useSelector)(c.getOpenSeaEnabled);return r.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",title:e("newNFTsAutodetected"),actionButtonLabel:e("selectNFTPrivacyPreference"),actionButtonOnClick:()=>{n||t((0,l.setOpenSeaEnabled)(!0)),t((0,l.setUseNftDetection)(!0)),t((0,l.setShowNftDetectionEnablementToast)(!0)),t((0,l.detectNfts)())}},e("newNFTDetectedInNFTsTabMessage"))};var o,r=(o=e("react"))&&o.__esModule?o:{default:o},a=e("react-redux"),i=e("../../../../component-library"),s=e("../../../../../hooks/useI18nContext"),l=e("../../../../../store/actions"),c=e("../../../../../selectors")}}},{package:"$root$",file:"ui/components/app/assets/nfts/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab.js"}],[5268,{"../../../../../hooks/useGetAssetImageUrl":6201,"../../../../../selectors":6820,"../../../../component-library":5680,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CollectionImageComponent=void 0;var o=l(e("react")),r=e("react-redux"),a=e("../../../../../selectors"),i=l(e("../../../../../hooks/useGetAssetImageUrl")),s=e("../../../../component-library");function l(e){return e&&e.__esModule?e:{default:e}}n.CollectionImageComponent=({collectionImage:e,collectionName:t})=>{const n=(0,r.useSelector)(a.getIpfsGateway),l=(0,r.useSelector)(a.getOpenSeaEnabled),c=(0,i.default)(e,n);return o.default.createElement(s.Box,null,null!=e&&e.startsWith("ipfs")&&!n?o.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(d=t[0])||void 0===d?void 0:d.toUpperCase())??null):l||null!=e&&e.startsWith("ipfs")?e?o.default.createElement("img",{alt:t,src:c,className:"nfts-items__collection-image"}):o.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(u=t[0])||void 0===u?void 0:u.toUpperCase())??null):o.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(p=t[0])||void 0===p?void 0:p.toUpperCase())??null));var u,d,p}}}},{package:"$root$",file:"ui/components/app/assets/nfts/nfts-items/collection-image.component.tsx"}],[5269,{"./nfts-items":5270},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./nfts-items"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/assets/nfts/nfts-items/index.js"}],[5270,{"../../../../../../app/scripts/lib/util":130,"../../../../../../shared/constants/app":5138,"../../../../../../shared/constants/metametrics":5150,"../../../../../../shared/constants/transaction":5168,"../../../../../../shared/modules/string-utils":5208,"../../../../../contexts/metametrics":6090,"../../../../../ducks/metamask/metamask":6111,"../../../../../ducks/send":6116,"../../../../../helpers/constants/design-system":6123,"../../../../../helpers/constants/routes":6129,"../../../../../helpers/utils/nfts":6160,"../../../../../helpers/utils/util":6171,"../../../../../hooks/useI18nContext":6202,"../../../../../hooks/usePrevious":6214,"../../../../../selectors":6820,"../../../../../store/actions":6833,"../../../../component-library":5680,"../../../../multichain/nft-item":5854,"../../../../ui/box":5954,"../../../../ui/typography/typography":6078,"./collection-image.component":5268,lodash:4483,"prop-types":4631,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=N;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=S(e("prop-types")),a=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=S(e("../../../../ui/box")),c=S(e("../../../../ui/typography/typography")),u=e("../../../../../helpers/constants/design-system"),d=e("../../../../../../shared/constants/app"),p=e("../../../../../../app/scripts/lib/util"),f=e("../../../../../selectors"),m=e("../../../../../helpers/constants/routes"),h=e("../../../../../helpers/utils/util"),g=e("../../../../../helpers/utils/nfts"),y=e("../../../../../store/actions"),v=e("../../../../../hooks/usePrevious"),b=e("../../../../../ducks/metamask/metamask"),_=e("../../../../../hooks/useI18nContext"),k=e("../../../../component-library"),w=e("../../../../multichain/nft-item"),x=e("../../../../../ducks/send"),T=e("../../../../../../shared/constants/transaction"),C=e("../../../../../contexts/metametrics"),E=e("../../../../../../shared/constants/metametrics"),M=e("../../../../../../shared/modules/string-utils"),O=e("./collection-image.component");function S(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}const P=e=>{const t=(0,p.getEnvironmentType)()===d.ENVIRONMENT_TYPE_POPUP;return e||t===d.ENVIRONMENT_TYPE_POPUP?u.BLOCK_SIZES.ONE_THIRD:u.BLOCK_SIZES.ONE_SIXTH},I="previouslyOwned";function N({collections:e={},previouslyOwnedCollection:t={},isModal:n=!1,onCloseModal:r={},showTokenId:d=!1,displayPreviouslyOwnedCollection:p=!0}){var S;const j=(0,a.useDispatch)(),N=Object.keys(e),D=(0,a.useSelector)(b.getNftsDropdownState),A=(0,v.usePrevious)(N),{address:R}=(0,a.useSelector)(f.getSelectedInternalAccount),B=(0,a.useSelector)(f.getCurrentChainId),$=(0,a.useSelector)(f.getCurrentNetwork),W=(0,_.useI18nContext)(),F=(0,a.useSelector)(f.getIpfsGateway),[L,q]=(0,o.useState)([]),U=(0,o.useContext)(C.MetaMetricsContext),z=(0,a.useSelector)(x.getSendAnalyticProperties);(0,o.useEffect)((()=>{var e,t;if(B!==undefined&&R!==undefined&&!(0,s.isEqual)(A,N)&&((null==D||null===(e=D[R])||void 0===e?void 0:e[B])===undefined||0===Object.keys(null==D||null===(t=D[R])||void 0===t?void 0:t[B]).length)){const e={};N.forEach((t=>{e[t]=!0}));const t={...D,[R]:{...null==D?void 0:D[R],[B]:e}};j((0,y.updateNftDropDownState)(t))}}),[N,A,D,R,B,j]);const V=async(e,t)=>({...t,ipfsImageUpdated:await(0,h.getAssetImageURL)(e,F)});(0,o.useEffect)((()=>{const t=[];(async()=>{for(const n of N){const{nfts:o}=e[n];for(const e of o){const{image:n,imageOriginal:o}=e;(null==n?void 0:n.startsWith("https:"))||(null==n?void 0:n.startsWith("http:"))||t.push(V(o??n,e))}}const n=await Promise.all(t);q(n)})()}),[]);const H=(0,i.useHistory)(),K=({nfts:e,collectionName:t,collectionImage:a,key:i})=>{var s;if(!e.length)return null;const p=null===(s=D[R])||void 0===s||null===(s=s[B])||void 0===s?void 0:s[i];return o.default.createElement("div",{className:"nfts-items__collection",key:`collection-${i}`},o.default.createElement("button",{className:"nfts-items__collection-wrapper","data-testid":"collection-expander-button",onClick:()=>{((e,t)=>{var n;const o={...null==D||null===(n=D[R])||void 0===n?void 0:n[B],[e]:!t},r={...D,[R]:{[B]:o}};j((0,y.updateNftDropDownState)(r))})(i,p)}},o.default.createElement(l.default,{marginBottom:2,display:u.DISPLAY.FLEX,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.spaceBetween,className:"nfts-items__collection-accordion-title"},o.default.createElement(l.default,{alignItems:u.AlignItems.center,className:"nfts-items__collection-header"},o.default.createElement(O.CollectionImageComponent,{collectionImage:a,collectionName:t}),o.default.createElement(c.default,{color:u.Color.textDefault,variant:u.TypographyVariant.H5,margin:2},`${t??W("unknownCollection")} (${e.length})`)),o.default.createElement(l.default,{alignItems:u.AlignItems.flexEnd},o.default.createElement(k.Icon,{name:p?k.IconName.ArrowDown:k.IconName.ArrowRight,color:u.Color.iconDefault})))),p?o.default.createElement(l.default,{display:u.DISPLAY.FLEX,flexWrap:u.FLEX_WRAP.WRAP,gap:4},e.map(((e,t)=>{var a,i;const{image:s,address:c,tokenId:u,name:p,imageOriginal:f,tokenURI:h}=e,y=(0,g.getNftImageAlt)(e),v=((e,t)=>{if(!e){const e=L.find((e=>e.tokenId===t.tokenId&&(0,M.isEqualCaseInsensitive)(e.address,t.address)));if(e)return e.ipfsImageUpdated}return t.image})((null==s?void 0:s.startsWith("https:"))||(null==s?void 0:s.startsWith("http:")),e),b=null===(a=f??s??h)||void 0===a?void 0:a.startsWith("ipfs:");return o.default.createElement(l.default,{"data-testid":"nft-wrapper",width:P(n),key:`nft-${t}`,className:"nfts-items__item-wrapper"},o.default.createElement(w.NftItem,{alt:y,src:v,name:p,tokenId:u,networkName:$.nickname,networkSrc:null===(i=$.rpcPrefs)||void 0===i?void 0:i.imageUrl,onClick:()=>n?(async e=>{U({event:E.MetaMetricsEventName.sendAssetSelected,category:E.MetaMetricsEventCategory.Send,properties:{is_destination_asset_picker_modal:!1,is_nft:!0},sensitiveProperties:{...z,new_asset_symbol:e.name,new_asset_address:e.address}},{excludeMetaMetricsId:!1}),await j((0,x.updateSendAsset)({type:T.AssetType.NFT,details:e,skipComputeEstimatedGasLimit:!1})),H.push(m.SEND_ROUTE),r()})(e):H.push(`${m.ASSET_ROUTE}/${c}/${u}`),isIpfsURL:b,clickable:!0}),d?o.default.createElement(k.Text,null,`${W("id")}: ${u}`):null)}))):null)};return o.default.createElement("div",{className:"nfts-items"},o.default.createElement(l.default,{paddingTop:6,paddingBottom:6,paddingLeft:4,paddingRight:4,flexDirection:u.FLEX_DIRECTION.COLUMN},o.default.createElement(o.default.Fragment,null,N.map((t=>{const{nfts:n,collectionName:o,collectionImage:r}=e[t];return K({nfts:n,collectionName:o,collectionImage:r,key:t,isPreviouslyOwnedCollection:!1})})),p?K({nfts:t.nfts,collectionName:t.collectionName,collectionImage:null===(S=t.nfts[0])||void 0===S?void 0:S.image,isPreviouslyOwnedCollection:!0,key:I}):null)))}N.propTypes={previouslyOwnedCollection:r.default.shape({nfts:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string})})),collectionName:r.default.string,collectionImage:r.default.string}),collections:r.default.shape({nfts:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,tokenId:r.default.string.isRequired,name:r.default.string,description:r.default.string,image:r.default.string,standard:r.default.string,imageThumbnail:r.default.string,imagePreview:r.default.string,creator:r.default.shape({address:r.default.string,config:r.default.string,profile_img_url:r.default.string})})),collectionImage:r.default.string,collectionName:r.default.string}),isModal:r.default.bool,onCloseModal:r.default.func,showTokenId:r.default.bool,displayPreviouslyOwnedCollection:r.default.bool}}}},{package:"$root$",file:"ui/components/app/assets/nfts/nfts-items/nfts-items.js"}],[5271,{"./nfts-tab":5272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./nfts-tab"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/assets/nfts/nfts-tab/index.js"}],[5272,{"../../../../../../shared/constants/app":5138,"../../../../../../shared/constants/metametrics":5150,"../../../../../contexts/metametrics":6090,"../../../../../ducks/locale/locale":6110,"../../../../../ducks/ramps":6113,"../../../../../helpers/constants/design-system":6123,"../../../../../helpers/constants/routes":6129,"../../../../../helpers/constants/zendesk-url":6136,"../../../../../hooks/useAccountTotalFiatBalance":6187,"../../../../../hooks/useI18nContext":6202,"../../../../../hooks/useNftsCollections":6210,"../../../../../selectors":6820,"../../../../../store/actions":6833,"../../../../component-library":5680,"../../../../multichain/ramps-card/ramps-card":5938,"../../../../ui/spinner":6055,"../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab":5267,"../nfts-items":5269,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useSelector)(u.getUseNftDetection),t=(0,r.useSelector)(u.getIsMainnet),n=(0,a.useHistory)(),T=(0,l.useI18nContext)(),C=(0,r.useDispatch)(),E=(0,o.useContext)(g.MetaMetricsContext),M=(0,r.useSelector)(u.getNftIsStillFetchingIndication),O=(0,r.useSelector)(u.getSelectedAccount),S=(0,r.useSelector)(u.getShouldHideZeroBalanceTokens),{totalFiatBalance:j}=(0,k.useAccountTotalFiatBalance)(O,S),P=0===Number(j),I=(0,r.useSelector)(w.getIsNativeTokenBuyable)&&P,{nftsLoading:N,collections:D,previouslyOwnedCollection:A}=(0,c.useNftsCollections)(),R=Object.keys(D).length>0,B=!1===R,{chainId:$,nickname:W}=(0,r.useSelector)(u.getCurrentNetwork),F=(0,r.useSelector)(b.getCurrentLocale);if((0,o.useEffect)((()=>{!N&&B&&E({event:v.MetaMetricsEventName.EmptyNftsBannerDisplayed,category:v.MetaMetricsEventCategory.Navigation,properties:{chain_id:$,locale:F,network:W,referrer:y.ORIGIN_METAMASK}})}),[N,B,E,$,W,F]),!R&&M)return o.default.createElement(p.Box,{className:"nfts-tab__loading"},o.default.createElement(x.default,{color:"var(--color-warning-default)",className:"loading-overlay__spinner"}));return o.default.createElement(o.default.Fragment,null,I?o.default.createElement(_.RampsCard,{variant:_.RAMPS_CARD_VARIANT_TYPES.NFT}):null,o.default.createElement(p.Box,{className:"nfts-tab"},t&&!e?o.default.createElement(p.Box,{paddingTop:4,paddingInlineStart:4,paddingInlineEnd:4},o.default.createElement(f.default,null)):null,R>0||A.nfts.length>0?o.default.createElement(p.Box,null,o.default.createElement(m.default,{collections:D,previouslyOwnedCollection:A}),M?o.default.createElement(p.Box,{className:"nfts-tab__fetching"},o.default.createElement(x.default,{color:"var(--color-warning-default)",className:"loading-overlay__spinner"})):null):o.default.createElement(o.default.Fragment,null,o.default.createElement(p.Box,{padding:12,display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},o.default.createElement(p.Box,{justifyContent:i.JustifyContent.center},o.default.createElement("img",{src:"./images/no-nfts.svg"})),o.default.createElement(p.Box,{marginTop:4,marginBottom:12,display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,className:"nfts-tab__link"},o.default.createElement(p.Text,{color:i.TextColor.textMuted,variant:i.TextVariant.headingSm,align:i.TextAlign.Center,as:"h4"},T("noNFTs")),o.default.createElement(p.ButtonLink,{size:i.Size.MD,href:h.default.NFT_TOKENS,externalLink:!0},T("learnMoreUpperCase"))))),o.default.createElement(p.Box,{className:"nfts-tab__buttons",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,margin:4,gap:2,marginBottom:2},o.default.createElement(p.ButtonLink,{size:i.Size.MD,"data-testid":"import-nft-button",startIconName:p.IconName.Add,onClick:()=>{C((0,d.showImportNftsModal)())}},T("importNFT")),!t&&Object.keys(D).length<1?null:o.default.createElement(o.default.Fragment,null,o.default.createElement(p.Box,{className:"nfts-tab__link",justifyContent:i.JustifyContent.flexEnd},t&&!e?o.default.createElement(p.ButtonLink,{size:i.Size.MD,startIconName:p.IconName.Setting,"data-testid":"refresh-list-button",onClick:()=>{n.push(s.SECURITY_ROUTE)}},T("enableAutoDetect")):o.default.createElement(p.ButtonLink,{size:i.Size.MD,startIconName:p.IconName.Refresh,"data-testid":"refresh-list-button",onClick:()=>{t&&C((0,d.detectNfts)()),(0,d.checkAndUpdateAllNftsOwnershipStatus)()}},T("refreshList")))))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),a=e("react-router-dom"),i=e("../../../../../helpers/constants/design-system"),s=e("../../../../../helpers/constants/routes"),l=e("../../../../../hooks/useI18nContext"),c=e("../../../../../hooks/useNftsCollections"),u=e("../../../../../selectors"),d=e("../../../../../store/actions"),p=e("../../../../component-library"),f=T(e("../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab")),m=T(e("../nfts-items")),h=T(e("../../../../../helpers/constants/zendesk-url")),g=e("../../../../../contexts/metametrics"),y=e("../../../../../../shared/constants/app"),v=e("../../../../../../shared/constants/metametrics"),b=e("../../../../../ducks/locale/locale"),_=e("../../../../multichain/ramps-card/ramps-card"),k=e("../../../../../hooks/useAccountTotalFiatBalance"),w=e("../../../../../ducks/ramps"),x=T(e("../../../../ui/spinner"));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/assets/nfts/nfts-tab/nfts-tab.js"}],[5273,{"./token-cell":5274},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./token-cell"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/assets/token-cell/index.ts"}],[5274,{"../../../../../shared/modules/string-utils":5208,"../../../../ducks/locale/locale":6110,"../../../../hooks/useIsOriginalTokenSymbol":6204,"../../../../hooks/useTokenFiatAmount":6224,"../../../../selectors":6820,"../../../multichain":5837,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({address:e,image:t,symbol:n,string:o,onClick:p}){const f=(0,a.useSelector)(i.getTokenList),m=Object.values(f).find((t=>(0,c.isEqualCaseInsensitive)(t.symbol,n)&&(0,c.isEqualCaseInsensitive)(t.address,e))),h=(null==m?void 0:m.name)||n,g=(null==m?void 0:m.iconUrl)||t,y=(0,s.useTokenFiatAmount)(e,o,n,{},!1),v=(0,a.useSelector)(d.getIntlLocale),b=new Intl.NumberFormat(v,{minimumSignificantDigits:1}).format(o.toString()),_=(0,u.useIsOriginalTokenSymbol)(e,n);return r.default.createElement(l.TokenListItem,{onClick:p?()=>p(e):undefined,tokenSymbol:n,tokenImage:g,primary:`${b||0}`,secondary:_?y:null,title:h,isOriginalTokenSymbol:_,address:e,showPercentage:!0})};var o,r=(o=e("react"))&&o.__esModule?o:{default:o},a=e("react-redux"),i=e("../../../../selectors"),s=e("../../../../hooks/useTokenFiatAmount"),l=e("../../../multichain"),c=e("../../../../../shared/modules/string-utils"),u=e("../../../../hooks/useIsOriginalTokenSymbol"),d=e("../../../../ducks/locale/locale")}}},{package:"$root$",file:"ui/components/app/assets/token-cell/token-cell.tsx"}],[5275,{"./token-list":5276},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./token-list"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/assets/token-list/index.ts"}],[5276,{"../../../../ducks/metamask/metamask":6111,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useAccountTotalFiatBalance":6187,"../../../../hooks/useI18nContext":6202,"../../../../selectors":6820,"../../../component-library":5680,"../asset-list/native-token/use-native-token-balance":5255,"../token-cell":5273,"../util/sort":5277,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onTokenClick:e,nativeToken:t}){const n=(0,s.useI18nContext)(),{tokenSortConfig:o}=(0,a.useSelector)(d.getPreferences),h=(0,a.useSelector)(d.getSelectedAccount),y=(0,a.useSelector)(f.getConversionRate),v=(0,m.useNativeTokenBalance)(),b=(0,a.useSelector)(d.getShouldHideZeroBalanceTokens),_=(0,a.useSelector)(d.getTokenExchangeRates,a.shallowEqual),{tokensWithBalances:k,loading:w}=(0,p.useAccountTotalFiatBalance)(h,b),x=(0,r.useMemo)((()=>(0,u.sortAssets)([v,...k],o)),[k,o,y,_]);return w?r.default.createElement(l.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,padding:7,"data-testid":"token-list-loading-message"},n("loadingTokens")):r.default.createElement("div",null,x.map((n=>null!=n&&n.isNative?r.default.cloneElement(t,{key:`${n.symbol}-${n.address}`}):r.default.createElement(i.default,g({key:`${n.symbol}-${n.address}`},n,{onClick:e})))))};var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=(o=e("../token-cell"))&&o.__esModule?o:{default:o},s=e("../../../../hooks/useI18nContext"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../util/sort"),d=e("../../../../selectors"),p=e("../../../../hooks/useAccountTotalFiatBalance"),f=e("../../../../ducks/metamask/metamask"),m=e("../asset-list/native-token/use-native-token-balance");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},g.apply(this,arguments)}}}},{package:"$root$",file:"ui/components/app/assets/token-list/token-list.tsx"}],[5277,{lodash:4483},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sortAssets=function(e,t){const{key:n,order:o="asc",sortCallback:i}=t;return[...e].sort(((e,t)=>{const s=a(e,n),l=a(t,n);if(s===undefined)return 1;if(l===undefined)return-1;let c;switch(i){case"stringNumeric":case"alphaNumeric":c=r[i](s,l);break;case"numeric":c=r.numeric(s,l);break;case"date":c=r.date(s,l);break;default:c=s<l?-1:s>l?1:0}return"asc"===o?c:-c}))};var o=e("lodash");const r={numeric:(e,t)=>e-t,stringNumeric:(e,t)=>parseFloat(parseFloat(e).toFixed(5))-parseFloat(parseFloat(t).toFixed(5)),alphaNumeric:(e,t)=>e.localeCompare(t),date:(e,t)=>e.getTime()-t.getTime()};function a(e,t){return(0,o.get)(e,t)}}}},{package:"$root$",file:"ui/components/app/assets/util/sort.ts"}],[5278,{"../../../../shared/constants/metametrics":5150,"../../../contexts/metametrics":6090,"../../../ducks/app/app":6099,"../../../helpers/constants/design-system":6123,"../../../helpers/constants/routes":6129,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../../selectors/metamask-notifications/metamask-notifications":6822,"../../../selectors/metamask-notifications/profile-syncing":6823,"../../../store/actions":6833,"../../component-library":5680,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BasicConfigurationModal=function(){const e=(0,s.useI18nContext)(),[t,n]=(0,o.useState)(!1),y=(0,a.useDispatch)(),v=(0,o.useContext)(d.MetaMetricsContext),b=(0,a.useSelector)(p.getUseExternalServices),_=(0,a.useSelector)(m.selectIsProfileSyncingEnabled),k=(0,a.useSelector)(f.selectIsMetamaskNotificationsEnabled),{pathname:w}=(0,r.useLocation)(),x=(0,o.useMemo)((()=>w===g.ONBOARDING_PRIVACY_SETTINGS_ROUTE),[w]);function T(){y((0,h.hideBasicFunctionalityModal)())}return o.default.createElement(c.Modal,{onClose:T,"data-testid":"dapp-permission-modal",isOpen:!0},o.default.createElement(c.ModalOverlay,null),o.default.createElement(c.ModalContent,{modalDialogProps:{display:i.Display.Flex,flexDirection:i.FlexDirection.Column}},o.default.createElement(c.ModalHeader,{paddingBottom:4,paddingRight:4,paddingLeft:4,onClose:T},o.default.createElement(c.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,gap:4},o.default.createElement(c.Icon,{size:c.IconSize.Xl,name:c.IconName.Danger,color:i.IconColor.errorDefault}),o.default.createElement(c.Text,{variant:i.TextVariant.headingSm},e(b?"basicConfigurationModalHeadingOff":"basicConfigurationModalHeadingOn")))),o.default.createElement(c.Box,{marginLeft:4,marginRight:4,marginBottom:4,display:i.Display.Flex,gap:4,flexDirection:i.FlexDirection.Column},o.default.createElement(c.Text,{variant:i.TextVariant.bodySm},e(b?"basicConfigurationModalDisclaimerOff":"basicConfigurationModalDisclaimerOn")),b&&o.default.createElement(c.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,gap:2},o.default.createElement(c.Checkbox,{id:"basic-configuration-checkbox",isChecked:t,onClick:()=>n((e=>!e))}),o.default.createElement(c.Label,{htmlFor:"basic-configuration-checkbox",fontWeight:i.FontWeight.Normal,variant:i.TextVariant.bodySm},e("basicConfigurationModalCheckbox")))),o.default.createElement(c.ModalFooter,null,o.default.createElement(c.Box,{display:i.Display.Flex,gap:4},o.default.createElement(c.Button,{size:c.ButtonSize.Lg,width:i.BlockSize.Half,variant:c.ButtonVariant.Secondary,onClick:T},e("cancel")),o.default.createElement(c.Button,{size:c.ButtonSize.Lg,disabled:!t&&b,width:i.BlockSize.Half,variant:c.ButtonVariant.Primary,onClick:()=>{const e=x?{category:u.MetaMetricsEventCategory.Onboarding,event:u.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"onboarding_advanced_configuration",settings_type:"basic_functionality",old_value:!0,new_value:!1,was_profile_syncing_on:_}}:{category:u.MetaMetricsEventCategory.Settings,event:u.MetaMetricsEventName.SettingsUpdated,properties:{settings_group:"security_privacy",settings_type:"basic_functionality",old_value:b,new_value:!b,was_notifications_on:k,was_profile_syncing_on:_}};v(e),x?(y((0,h.hideBasicFunctionalityModal)()),y((0,h.onboardingToggleBasicFunctionalityOff)())):(T(),y((0,l.toggleExternalServices)(!b)))},danger:b},e(b?"turnOff":"turnOn"))))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-router-dom"),a=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),c=e("../../component-library"),u=e("../../../../shared/constants/metametrics"),d=e("../../../contexts/metametrics"),p=e("../../../selectors"),f=e("../../../selectors/metamask-notifications/metamask-notifications"),m=e("../../../selectors/metamask-notifications/profile-syncing"),h=e("../../../ducks/app/app"),g=e("../../../helpers/constants/routes");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/basic-configuration-modal/basic-configuration-modal.tsx"}],[5279,{"./basic-configuration-modal":5278},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BasicConfigurationModal",{enumerable:!0,get:function(){return o.BasicConfigurationModal}});var o=e("./basic-configuration-modal")}}},{package:"$root$",file:"ui/components/app/basic-configuration-modal/index.ts"}],[5280,{"../../../../shared/modules/gas.utils":5193,"../../../ducks/metamask/metamask":6111,"../../../hooks/useI18nContext":6202,"../../../pages/confirmations/hooks/useIncrementedGasFees":6564,"../../../pages/confirmations/send/send.utils":6586,"../../../selectors":6820,"../../ui/button":5958,"@material-ui/core":966,"@metamask/transaction-controller":2741,classnames:3684,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var o=e("@material-ui/core"),r=g(e("react")),a=g(e("prop-types")),i=e("react-redux"),s=g(e("classnames")),l=e("@metamask/transaction-controller"),c=g(e("../../ui/button")),u=e("../../../../shared/modules/gas.utils"),d=e("../../../ducks/metamask/metamask"),p=e("../../../hooks/useI18nContext"),f=e("../../../pages/confirmations/hooks/useIncrementedGasFees"),m=e("../../../pages/confirmations/send/send.utils"),h=e("../../../selectors");function g(e){return e&&e.__esModule?e:{default:e}}function y({cancelTransaction:e,transaction:t,detailsModal:n}){const a=(0,p.useI18nContext)(),{status:g}=t,y=(0,f.useIncrementedGasFees)(t),v=(0,i.useSelector)(h.getSelectedAccount),b=(0,i.useSelector)(d.getConversionRate),_=g!==l.TransactionStatus.approved&&!(0,m.isBalanceSufficient)({amount:"0x0",gasTotal:(0,u.getMaximumGasTotalInHexWei)(y),balance:v.balance,conversionRate:b}),k=r.default.createElement(c.default,{onClick:e,type:"secondary",className:(0,s.default)({"transaction-list-item__header-button":!n,"transaction-list-item-details__header-button-rounded-button":n}),disabled:_,"data-testid":"cancel-button"},a("cancel"));return _?r.default.createElement(o.Tooltip,{title:a("notEnoughGas"),"data-testid":"not-enough-gas__tooltip",position:"bottom"},r.default.createElement("div",null,k)):k}y.propTypes={transaction:a.default.object,cancelTransaction:a.default.func,detailsModal:a.default.bool}}}},{package:"$root$",file:"ui/components/app/cancel-button/cancel-button.js"}],[5281,{"./cancel-button":5280},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./cancel-button"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/cancel-button/index.js"}],[5282,{"../../../../shared/constants/gas":5145,"../../../contexts/gasFee":6086,"../../../contexts/transaction-modal":6094,"../../../helpers/constants/design-system":6123,"../../../helpers/utils/gas":6153,"../../../hooks/useI18nContext":6202,"../../../pages/confirmations/components/gas-details-item":6414,"../../../selectors":6820,"../../component-library":5680,"../../component-library/modal-content/deprecated":5690,"../../component-library/modal-header/deprecated":5699,"../../ui/box":5954,"../../ui/info-tooltip":6009,"../app-loading-spinner":5246,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../../shared/constants/gas"),i=e("../../../helpers/constants/design-system"),s=e("../../../selectors"),l=e("../../../helpers/utils/gas"),c=e("../../../contexts/gasFee"),u=e("../../../hooks/useI18nContext"),d=e("../../../contexts/transaction-modal"),p=b(e("../../../pages/confirmations/components/gas-details-item")),f=b(e("../../ui/box")),m=b(e("../../ui/info-tooltip")),h=b(e("../app-loading-spinner")),g=e("../../component-library"),y=e("../../component-library/modal-content/deprecated"),v=e("../../component-library/modal-header/deprecated");function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=()=>{const{cancelTransaction:e,editGasMode:t,gasFeeEstimates:n,speedUpTransaction:b,transaction:_,updateTransaction:k,updateTransactionToTenPercentIncreasedGasFee:w,updateTransactionUsingEstimate:x}=(0,c.useGasFeeContext)(),T=(0,u.useI18nContext)(),{closeModal:C,currentModal:E}=(0,d.useTransactionModalContext)(),M=(0,o.useSelector)(s.getAppIsLoading);if((0,r.useEffect)((()=>{if(_.previousGas||M||"cancelSpeedUpTransaction"!==E)return;n&&(0,l.gasEstimateGreaterThanGasUsedPlusTenPercent)(_.txParams,n,a.PriorityLevels.medium)?x(a.PriorityLevels.medium):w(!0)}),[M,E,t,n,_,k,w,x]),"cancelSpeedUpTransaction"!==E)return null;return r.default.createElement(g.Modal,{isOpen:!0,onClose:()=>C(["cancelSpeedUpTransaction"]),className:"cancel-speedup-popover"},r.default.createElement(g.ModalOverlay,null),r.default.createElement(y.ModalContent,null,r.default.createElement(v.ModalHeader,{onClose:()=>C(["cancelSpeedUpTransaction"]),marginBottom:4},t===a.EditGasModes.cancel?`❌${T("cancel")}`:`🚀${T("speedUp")}`),r.default.createElement(h.default,{className:"cancel-speedup-popover__spinner"}),r.default.createElement("div",{className:"cancel-speedup-popover__wrapper"},r.default.createElement(g.Text,{alignItems:i.AlignItems.center,display:i.Display.Flex,variant:i.TextVariant.bodySm,marginBottom:2,paddingBottom:2,className:"cancel-speedup-popover__description"},T("cancelSpeedUpLabel",[r.default.createElement("strong",{key:"cancelSpeedupReplace"},T("replace"))]),r.default.createElement(m.default,{position:"top",contentText:r.default.createElement(r.default.Fragment,null,r.default.createElement(g.Text,{variant:i.TextVariant.bodySm},T("cancelSpeedUpTransactionTooltip",[t===a.EditGasModes.cancel?T("cancel"):T("speedUp")])),r.default.createElement(g.ButtonLink,{variant:i.TextVariant.bodySm,href:"https://community.metamask.io/t/how-to-speed-up-or-cancel-transactions-on-metamask/3296",target:"_blank"},T("learnMoreUpperCase")))})),r.default.createElement(f.default,{display:i.Display.Flex,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,marginTop:2},r.default.createElement("div",{className:"cancel-speedup-popover__gas-details"},r.default.createElement(p.default,null))),r.default.createElement(g.Button,{onClick:()=>{t===a.EditGasModes.cancel?e():b(),C(["cancelSpeedUpTransaction"])}},T("submit")))))}}}},{package:"$root$",file:"ui/components/app/cancel-speedup-popover/cancel-speedup-popover.js"}],[5283,{"./cancel-speedup-popover":5282},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./cancel-speedup-popover"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/cancel-speedup-popover/index.js"}],[5284,{"../../../../shared/constants/metametrics":5150,"../../../contexts/metametrics":6090,"../../../ducks/app/app":6099,"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../store/actions":6833,"../../component-library":5680,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,i.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,o.useContext)(u.MetaMetricsContext),p=()=>{t((0,a.hideDeleteMetaMetricsDataModal)())};return o.default.createElement(s.Modal,{isOpen:!0,onClose:p},o.default.createElement(s.ModalOverlay,null),o.default.createElement(s.ModalContent,{modalDialogProps:{display:l.Display.Flex,flexDirection:l.FlexDirection.Column}},o.default.createElement(s.ModalHeader,{onClose:p},o.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center},o.default.createElement(s.Text,{variant:l.TextVariant.headingSm},e("deleteMetaMetricsDataModalTitle")))),o.default.createElement(s.Box,{marginLeft:4,marginRight:4,marginBottom:3,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4},o.default.createElement(s.Text,{variant:l.TextVariant.bodySmMedium},e("deleteMetaMetricsDataModalDesc"))),o.default.createElement(s.ModalFooter,null,o.default.createElement(s.Box,{display:l.Display.Flex,gap:4},o.default.createElement(s.Button,{size:s.ButtonSize.Lg,width:l.BlockSize.Half,variant:s.ButtonVariant.Secondary,onClick:p},e("cancel")),o.default.createElement(s.Button,{"data-testid":"clear-metametrics-data",size:s.ButtonSize.Lg,width:l.BlockSize.Half,variant:s.ButtonVariant.Primary,onClick:async()=>{try{await(0,c.createMetaMetricsDataDeletionTask)(),n({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.MetricsDataDeletionRequest},{excludeMetaMetricsId:!0})}catch(e){t((0,a.openDataDeletionErrorModal)()),n({category:d.MetaMetricsEventCategory.Settings,event:d.MetaMetricsEventName.ErrorOccured},{excludeMetaMetricsId:!0})}finally{t((0,a.hideDeleteMetaMetricsDataModal)())}},danger:!0},e("clear"))))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),a=e("../../../ducks/app/app"),i=e("../../../hooks/useI18nContext"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../store/actions"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/clear-metametrics-data/clear-metametrics-data.tsx"}],[5285,{"./clear-metametrics-data":5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./clear-metametrics-data"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/clear-metametrics-data/index.ts"}],[5286,{"../../../../../helpers/constants/design-system":6123,"../../../../../helpers/utils/util":6171,"../../../../../selectors":6820,"../../../../component-library":5680,"../../../modals/nickname-popovers":5389,"../../../name/name":5411,"./hook":5294,"@metamask/name-controller":1708,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowAddress=void 0;var o=e("@metamask/name-controller"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),i=e("../../../../../helpers/constants/design-system"),s=e("../../../../../selectors"),l=e("../../../../component-library"),c=f(e("../../../modals/nickname-popovers")),u=f(e("../../../name/name")),d=e("../../../../../helpers/utils/util"),p=e("./hook");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.ConfirmInfoRowAddress=(0,r.memo)((({address:e,isSnapUsingThis:t})=>{const n=(0,a.useSelector)(s.getPetnamesEnabled),{displayName:f,hexAddress:m}=(0,p.useFallbackDisplayName)(e),[h,g]=(0,r.useState)(!1);return r.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center},n&&!t?r.default.createElement(u.default,{value:m,type:o.NameType.ETHEREUM_ADDRESS,preferContractSymbol:!0}):r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,onClick:t?()=>null:()=>g(!0)},r.default.createElement(l.AvatarAccount,{address:e,size:l.AvatarAccountSize.Xs,borderColor:i.BorderColor.transparent}),r.default.createElement(l.Text,{marginLeft:2,color:i.TextColor.inherit,"data-testid":"confirm-info-row-display-name"},t?(0,d.shortenAddress)(e):f)),h?r.default.createElement(c.default,{onClose:()=>g(!1),address:m}):null))}))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/address.tsx"}],[5287,{"../../../../../../helpers/constants/design-system":6123,"../../../../../../hooks/useAlerts":6189,"../../../../../component-library":5680,"../../../../alert-system/contexts/alertMetricsContext":5235,"../../../../alert-system/inline-alert/inline-alert":5237,"../../../../alert-system/multiple-alert-modal":5238,"../row":5296,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoAlertRow=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("../../../../../../helpers/constants/design-system"),a=d(e("../../../../alert-system/inline-alert/inline-alert")),i=d(e("../../../../../../hooks/useAlerts")),s=e("../row"),l=e("../../../../../component-library"),c=e("../../../../alert-system/multiple-alert-modal"),u=e("../../../../alert-system/contexts/alertMetricsContext");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f.apply(this,arguments)}function m(e){switch(e){case s.ConfirmInfoRowVariant.Critical:case r.Severity.Danger:return r.TextColor.errorDefault;case s.ConfirmInfoRowVariant.Warning:case r.Severity.Warning:return r.TextColor.warningDefault;case s.ConfirmInfoRowVariant.Default:case r.Severity.Info:return r.TextColor.infoDefault;default:return r.TextColor.textDefault}}n.ConfirmInfoAlertRow=({alertKey:e,ownerId:t,variant:n,...r})=>{var d,p;const{trackInlineAlertClicked:h}=(0,u.useAlertMetrics)(),{getFieldAlerts:g}=(0,i.default)(t),y=g(e),v=y.length>0,b=null===(d=y[0])||void 0===d?void 0:d.severity,_=null===(p=y[0])||void 0===p?void 0:p.key,[k,w]=(0,o.useState)(!1),x=()=>{w(!1)},T={...r,style:{background:"transparent",...r.style},color:m(n??b),variant:n},C=v?o.default.createElement(l.Box,{marginLeft:1},o.default.createElement(a.default,{onClick:()=>{w(!0),h(_)},severity:b})):null;return o.default.createElement(o.default.Fragment,null,k&&o.default.createElement(c.MultipleAlertModal,{alertKey:_,ownerId:t,onFinalAcknowledgeClick:x,onClose:x,showCloseIcon:!1,skipAlertNavigation:!0}),o.default.createElement(s.ConfirmInfoRow,f({},T,{labelChildren:C})))}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/alert-row/alert-row.tsx"}],[5288,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TEST_ADDRESS=n.RowAlertKey=n.AlertActionKey=void 0;n.TEST_ADDRESS="0x5CfE73b6021E818B776b421B1c4Db2474086a7e1";n.RowAlertKey=function(e){return e.EstimatedFee="estimatedFee",e.SigningInWith="signingInWith",e.RequestFrom="requestFrom",e.Resimulation="resimulation",e.Speed="speed",e}({}),n.AlertActionKey=function(e){return e.Buy="buy",e.ShowAdvancedGasFeeModal="showAdvancedGasModal",e.ShowGasFeeModal="showGasFeeModal",e}({})}}},{package:"$root$",file:"ui/components/app/confirm/info/row/constants.ts"}],[5289,{"../../../../../helpers/constants/design-system":6123,"../../../../../hooks/useCopyToClipboard":6191,"../../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CopyIcon=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("../../../../../hooks/useCopyToClipboard"),a=e("../../../../../helpers/constants/design-system"),i=e("../../../../component-library");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}n.CopyIcon=({copyText:e})=>{const[t,n]=(0,r.useCopyToClipboard)(),s=(0,o.useCallback)((async()=>{n(e)}),[e]);return o.default.createElement(i.Icon,{color:a.IconColor.iconAlternative,name:t?i.IconName.CopySuccess:i.IconName.Copy,size:i.IconSize.Sm,style:{cursor:"pointer",position:"absolute",right:0,top:2},onClick:s})}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/copy-icon.tsx"}],[5290,{"../../../../../helpers/constants/design-system":6123,"../../../../component-library":5680,"../../../../ui/currency-display/currency-display.component":5968,"../../../user-preferenced-currency-display/user-preferenced-currency-display.component":5603,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowCurrency=void 0;var o=l(e("react")),r=e("../../../../../helpers/constants/design-system"),a=e("../../../../component-library"),i=l(e("../../../user-preferenced-currency-display/user-preferenced-currency-display.component")),s=l(e("../../../../ui/currency-display/currency-display.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.ConfirmInfoRowCurrency=({value:e,currency:t,"data-testid":n})=>o.default.createElement(a.Box,{display:r.Display.Flex,alignItems:r.AlignItems.center,flexWrap:r.FlexWrap.Wrap,style:{columnGap:"8px",fontSize:"var(--font-size-3)"},"data-testid":n},t?o.default.createElement(s.default,{currency:t,value:`${e}`}):o.default.createElement(i.default,{showNative:!0,value:`${e}`}))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/currency.tsx"}],[5291,{"../../../../../helpers/constants/design-system":6123,"../../../../../helpers/utils/util":6171,"../../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowDate=void 0;var o,r=(o=e("react"))&&o.__esModule?o:{default:o},a=e("../../../../../helpers/constants/design-system"),i=e("../../../../../helpers/utils/util"),s=e("../../../../component-library");n.ConfirmInfoRowDate=({unixTimestamp:e})=>r.default.createElement(s.Box,{display:a.Display.Flex,alignItems:a.AlignItems.center,flexWrap:a.FlexWrap.Wrap,gap:2},r.default.createElement(s.Text,{color:a.TextColor.inherit,style:{whiteSpace:"pre-wrap"}},(0,i.formatUTCDateFromUnixTimestamp)(e)))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/date.tsx"}],[5292,{react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowDivider=void 0;var o,r=(o=e("react"))&&o.__esModule?o:{default:o};n.ConfirmInfoRowDivider=()=>r.default.createElement("div",{style:{height:"1px",backgroundColor:"var(--color-border-muted)",marginLeft:"-8px",marginRight:"-8px"}})}}},{package:"$root$",file:"ui/components/app/confirm/info/row/divider.tsx"}],[5293,{"../../../../../helpers/constants/design-system":6123,"../../../../component-library":5680,"./row":5296,classnames:3684,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoExpandableRow=void 0;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=(o=e("classnames"))&&o.__esModule?o:{default:o},i=e("../../../../component-library"),s=e("../../../../../helpers/constants/design-system"),l=e("./row");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}n.ConfirmInfoExpandableRow=e=>{var t;const{content:n,children:o,startExpanded:c,...u}=e,d=(0,r.useRef)(),[p,f]=(0,r.useState)(Boolean(c)),[,m]=(0,r.useState)(!1),h=(0,r.useCallback)((()=>{f(!p)}),[p]);return(0,r.useEffect)((()=>{m(!0)}),[]),r.default.createElement(r.default.Fragment,null,r.default.createElement(l.ConfirmInfoRow,u,r.default.createElement(i.Box,{display:s.Display.Flex},o,r.default.createElement(i.ButtonIcon,{marginLeft:1,className:(0,a.default)({expandIcon:!0,expanded:p}),iconName:i.IconName.ArrowLeft,color:s.IconColor.primaryDefault,size:i.ButtonIconSize.Sm,onClick:h,ariaLabel:"expand"}))),r.default.createElement(i.Box,{ref:d,className:"expandable",style:{height:p?null===(t=d.current)||void 0===t?void 0:t.scrollHeight:"0px"}},r.default.createElement(i.Box,{style:{marginTop:"-8px"}},n)))}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/expandable-row.tsx"}],[5294,{"../../../../../../shared/modules/hexstring-utils":5194,"../../../../../helpers/utils/util":6171,"../../../../../selectors":6820,"./row":5296,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRowContext=n.useFallbackDisplayName=void 0;var o=e("react"),r=e("react-redux"),a=e("../../../../../../shared/modules/hexstring-utils"),i=e("../../../../../helpers/utils/util"),s=e("../../../../../selectors"),l=e("./row");n.useRowContext=()=>(0,o.useContext)(l.ConfirmInfoRowContext);n.useFallbackDisplayName=function(e){const t=(0,a.toChecksumHexAddress)(e),n=(0,r.useSelector)(s.getInternalAccounts),o=(0,s.getAccountName)(n,t),l=(0,r.useSelector)((e=>(0,s.getAddressBookEntry)(e,t))),c=null==l?void 0:l.name,u=(0,r.useSelector)((e=>(0,s.getMetadataContractName)(e,t))),d=(0,r.useSelector)((t=>(0,s.getEnsResolutionByAddress)(t,e)));return{displayName:o||c||u||d||(0,i.shortenAddress)(t),hexAddress:t}}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/hook.ts"}],[5295,{"./address":5286,"./date":5291,"./divider":5292,"./row":5296,"./text":5299,"./text-token-units":5298,"./url":5300,"./value-double":5301},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o=e("./address");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}));var r=e("./date");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=e("./divider");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=e("./row");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))}));var s=e("./text");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=e("./text-token-units");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===l[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return l[e]}}))}));var c=e("./url");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===c[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=e("./value-double");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===u[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return u[e]}}))}))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/index.ts"}],[5296,{"../../../../../helpers/constants/design-system":6123,"../../../../component-library":5680,"../../../../ui/tooltip/tooltip":6074,"./copy-icon":5289,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowVariant=n.ConfirmInfoRowContext=n.ConfirmInfoRow=void 0;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=(o=e("../../../../ui/tooltip/tooltip"))&&o.__esModule?o:{default:o},i=e("../../../../component-library"),s=e("../../../../../helpers/constants/design-system"),l=e("./copy-icon");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(this,arguments)}let d=n.ConfirmInfoRowVariant=function(e){return e.Default="default",e.Critical="critical",e.Warning="warning",e}({});const p={[d.Default]:undefined,[d.Critical]:s.BackgroundColor.errorMuted,[d.Warning]:s.BackgroundColor.warningMuted},f={[d.Default]:s.TextColor.textDefault,[d.Critical]:s.Color.errorAlternative,[d.Warning]:s.Color.warningDefault},m={[d.Default]:i.IconName.Question,[d.Critical]:i.IconName.Warning,[d.Warning]:i.IconName.Warning},h={[d.Default]:s.Color.iconMuted,[d.Critical]:s.Color.errorAlternative,[d.Warning]:s.Color.warningDefault},g=n.ConfirmInfoRowContext=(0,r.createContext)({variant:d.Default});n.ConfirmInfoRow=({label:e,children:t,variant:n=d.Default,tooltip:o,style:c,labelChildren:y,color:v,copyEnabled:b=!1,copyText:_=undefined,"data-testid":k})=>r.default.createElement(g.Provider,{value:{variant:n}},r.default.createElement(i.Box,{"data-testid":k,className:"confirm-info-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,flexWrap:s.FlexWrap.Wrap,alignItems:s.AlignItems.center,backgroundColor:p[n],borderRadius:s.BorderRadius.LG,marginTop:2,marginBottom:2,paddingLeft:2,paddingRight:b?5:2,color:f[n],style:{overflowWrap:s.OverflowWrap.Anywhere,minHeight:"24px",position:"relative",...c}},b&&r.default.createElement(l.CopyIcon,{copyText:_??""}),r.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart,color:v},r.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center},r.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium,color:s.TextColor.inherit},e),y,!y&&(null==o?void 0:o.length)&&r.default.createElement(a.default,{position:"bottom",title:o,style:{display:"flex"}},r.default.createElement(i.Icon,u({name:m[n],marginLeft:1,color:h[n],size:i.IconSize.Sm},k?{"data-testid":`${k}-tooltip`}:{}))))),"string"==typeof t?r.default.createElement(i.Text,{marginRight:b?3:0,color:s.TextColor.inherit},t):t))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/row.tsx"}],[5297,{"../../../../../helpers/constants/design-system":6123,"../../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoSection=void 0;var o,r=(o=e("react"))&&o.__esModule?o:{default:o},a=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system");n.ConfirmInfoSection=({children:e,noPadding:t,"data-testid":n})=>r.default.createElement(a.Box,{"data-testid":n,backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.MD,padding:t?0:2,marginBottom:4},e)}}},{package:"$root$",file:"ui/components/app/confirm/info/row/section.tsx"}],[5298,{"../../../../../../shared/lib/transactions-controller-utils":5181,"../../../../../helpers/utils/util":6171,"../../../../../pages/confirmations/components/simulation-details/formatAmount":6454,"./text":5299,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowTextTokenUnits=void 0;var o,r=(o=e("react"))&&o.__esModule?o:{default:o},a=e("../../../../../../shared/lib/transactions-controller-utils"),i=e("../../../../../pages/confirmations/components/simulation-details/formatAmount"),s=e("../../../../../helpers/utils/util"),l=e("./text");n.ConfirmInfoRowTextTokenUnits=({value:e,decimals:t})=>{const n=(0,a.calcTokenAmount)(e,t),o=(0,i.formatAmount)("en-US",n),c=(0,i.formatAmountMaxPrecision)("en-US",n);return r.default.createElement(l.ConfirmInfoRowText,{text:(0,s.shortenString)(o,{truncatedCharLimit:15,truncatedStartChars:15,truncatedEndChars:0,skipCharacterInEnd:!0}),tooltip:c})}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/text-token-units.tsx"}],[5299,{"../../../../../contexts/i18n":6087,"../../../../../helpers/constants/design-system":6123,"../../../../component-library":5680,"../../../../ui/tooltip":6073,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowText=void 0;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../../../contexts/i18n"),i=e("../../../../../helpers/constants/design-system"),s=e("../../../../component-library"),l=(o=e("../../../../ui/tooltip"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=({text:e})=>r.default.createElement(s.Text,{color:i.TextColor.inherit,style:{whiteSpace:"pre-wrap"}},e);n.ConfirmInfoRowText=({text:e,onEditClick:t,editIconClassName:n,tooltip:o,"data-testid":c,editIconDataTestId:d})=>{const p=(0,r.useContext)(a.I18nContext),f=Boolean(t);return r.default.createElement(s.Box,{"data-testid":c,display:i.Display.Flex,alignItems:i.AlignItems.center,flexWrap:i.FlexWrap.Wrap,gap:2,minWidth:i.BlockSize.Zero},o?r.default.createElement(l.default,{position:"bottom",title:o,wrapperStyle:{minWidth:0},interactive:!0},r.default.createElement(u,{text:e})):r.default.createElement(u,{text:e}),f?r.default.createElement(s.ButtonIcon,{className:n||undefined,color:i.IconColor.primaryDefault,ariaLabel:p("edit"),iconName:s.IconName.Edit,onClick:t,size:s.ButtonIconSize.Sm,style:{marginLeft:"-4px"},"data-testid":d}):null)}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/text.tsx"}],[5300,{"../../../../../helpers/constants/design-system":6123,"../../../../../helpers/utils/snaps":6166,"../../../../component-library":5680,"../../../snaps/snap-authorship-pill":5461,"../../../snaps/snap-metadata-modal":5481,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowUrl=void 0;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system"),s=(o=e("../../../snaps/snap-authorship-pill"))&&o.__esModule?o:{default:o},l=e("../../../snaps/snap-metadata-modal"),c=e("../../../../../helpers/utils/snaps");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}n.ConfirmInfoRowUrl=({url:e})=>{var t;let n;const[o,u]=(0,r.useState)(!1),d=(0,r.useCallback)((()=>u(!0)),[u]),p=(0,r.useCallback)((()=>u(!1)),[u]);if((0,c.isSnapId)(e))return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,{snapId:e,onClick:d}),r.default.createElement(l.SnapMetadataModal,{snapId:e,isOpen:o,onClose:p}));try{n=new URL(e)}catch(t){console.log(`ConfirmInfoRowUrl: new URL(url) cannot parse ${e}`)}const f="http:"===(null===(t=n)||void 0===t?void 0:t.protocol),m=null==e?void 0:e.replace(/https?:\/\//u,"");return r.default.createElement(a.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,flexWrap:i.FlexWrap.Wrap,gap:2},f&&r.default.createElement(a.Text,{variant:i.TextVariant.bodySm,display:i.Display.Flex,alignItems:i.AlignItems.center,borderRadius:i.BorderRadius.SM,backgroundColor:i.BackgroundColor.warningMuted,paddingLeft:1,paddingRight:1,color:i.TextColor.warningDefault},r.default.createElement(a.Icon,{name:a.IconName.Danger,color:i.IconColor.warningDefault,size:a.IconSize.Sm,marginInlineEnd:1}),"HTTP"),r.default.createElement(a.Text,{color:i.TextColor.inherit},m))}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/url.tsx"}],[5301,{"../../../../../helpers/constants/design-system":6123,"../../../../component-library":5680,"./hook":5294,"./row":5296,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowValueDouble=void 0;var o,r=(o=e("react"))&&o.__esModule?o:{default:o},a=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system"),s=e("./hook"),l=e("./row");const c={[l.ConfirmInfoRowVariant.Default]:i.TextColor.textMuted,[l.ConfirmInfoRowVariant.Critical]:i.Color.errorAlternative,[l.ConfirmInfoRowVariant.Warning]:i.Color.warningDefault};n.ConfirmInfoRowValueDouble=({left:e,right:t})=>{const{variant:n}=(0,s.useRowContext)();return r.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,flexWrap:i.FlexWrap.Wrap,gap:1},r.default.createElement(a.Text,{color:c[n]},e),r.default.createElement(a.Text,{color:i.TextColor.inherit},t))}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/value-double.tsx"}],[5302,{"../../../../helpers/constants/design-system":6123,"../../../../helpers/utils/util":6171,"../../../../selectors":6820,"../../../component-library":5680,classnames:3684,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var o=d(e("react")),r=d(e("classnames")),a=d(e("prop-types")),i=e("react-redux"),s=e("../../../../helpers/utils/util"),l=e("../../../component-library"),c=e("../../../../selectors"),u=e("../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p({address:e,className:t=null,name:n,status:a,action:d=null,options:p=null,backgroundColor:f}){const m=(0,i.useSelector)(c.getUseBlockie),h=f??u.BackgroundColor.backgroundDefault;return o.default.createElement(l.Box,{className:(0,r.default)("connected-accounts-list__row",t),padding:4,backgroundColor:h,display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.center},o.default.createElement(l.Box,{className:"connected-accounts-list__row-content",gap:4},o.default.createElement(l.AvatarAccount,{variant:m?l.AvatarAccountVariant.Blockies:l.AvatarAccountVariant.Jazzicon,address:e,size:l.AvatarAccountSize.Md}),o.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column},o.default.createElement(l.Box,null,o.default.createElement(l.Text,{variant:u.TextVariant.bodyLgMedium,className:"connected-accounts-list__account-name"},n),o.default.createElement(l.Text,{variant:u.TextVariant.bodyMd},(0,s.shortenAddress)(e)),a?o.default.createElement(l.Text,{variant:u.TextVariant.bodyMd,className:"connected-accounts-list__account-status",color:u.TextColor.successDefault},a):null),o.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column},d))),p)}p.propTypes={address:a.default.string.isRequired,className:a.default.string,name:a.default.node.isRequired,status:a.default.string,action:a.default.node,options:a.default.node,backgroundColor:a.default.string}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-item/connected-accounts-list-item.component.js"}],[5303,{"./connected-accounts-list-item.component":5302},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./connected-accounts-list-item.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-item/index.js"}],[5304,{"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,"../../../ui/menu":6025,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("prop-types"))&&o.__esModule?o:{default:o},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("../../../ui/menu"),s=e("../../../component-library"),l=e("../../../../hooks/useI18nContext");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=({children:e,onShowOptions:t,onHideOptions:n,show:o})=>{const r=(0,a.useRef)(!1),c=(0,l.useI18nContext)();return a.default.createElement("div",{ref:r},a.default.createElement(s.ButtonIcon,{iconName:s.IconName.MoreVertical,className:"connected-accounts-options__button",onClick:t,ariaLabel:c("options")}),o?a.default.createElement(i.Menu,{anchorElement:r.current,onHide:n,popperOptions:{modifiers:[{name:"preventOverflow",options:{altBoundary:!0}}]}},e):null)};u.propTypes={children:r.default.node.isRequired,onHideOptions:r.default.func.isRequired,onShowOptions:r.default.func.isRequired,show:r.default.bool.isRequired};n.default=u}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-options/connected-accounts-list-options.component.js"}],[5305,{"./connected-accounts-list-options.component":5304},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./connected-accounts-list-options.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-options/index.js"}],[5306,{"../../../helpers/constants/design-system":6123,"../../component-library":5680,"../../ui/menu":6025,"./connected-accounts-list-item":5303,"./connected-accounts-list-options":5305,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=d(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../helpers/constants/design-system"),i=e("../../component-library"),s=e("../../ui/menu"),l=d(e("./connected-accounts-list-item")),c=d(e("./connected-accounts-list-options"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends r.PureComponent{constructor(...e){super(...e),p(this,"state",{accountWithOptionsShown:null}),p(this,"disconnectAccount",(()=>{this.hideAccountOptions(),this.props.removePermittedAccount(this.state.accountWithOptionsShown)})),p(this,"switchAccount",(e=>{this.hideAccountOptions(),this.props.setSelectedAddress(e)})),p(this,"hideAccountOptions",(()=>{this.setState({accountWithOptionsShown:null})})),p(this,"showAccountOptions",(e=>{this.setState({accountWithOptionsShown:e})}))}renderUnconnectedAccount(){const{accountToConnect:e,connectAccount:t}=this.props,{t:n}=this.context;if(!e)return null;const{address:o,metadata:{name:s}}=e;return r.default.createElement(l.default,{className:"connected-accounts-list__row--highlight",backgroundColor:a.BackgroundColor.warningMuted,address:o,name:s,status:n("statusNotConnected"),action:r.default.createElement(i.Text,{variant:a.TextVariant.bodyMd},r.default.createElement(i.ButtonLink,{className:"connected-accounts-list__account-status-link",onClick:()=>t(o),size:i.ButtonLinkSize.Inherit},n("connect")))})}renderListItemOptions(e){const{accountWithOptionsShown:t}=this.state,{t:n}=this.context;return r.default.createElement(c.default,{onHideOptions:this.hideAccountOptions,onShowOptions:this.showAccountOptions.bind(null,e),show:t===e},r.default.createElement(s.MenuItem,{iconName:i.IconName.Logout,onClick:this.disconnectAccount},n("disconnectThisAccount")))}renderListItemAction(e){const{t:t}=this.context;return r.default.createElement(i.Text,{variant:a.TextVariant.bodyMd},r.default.createElement(i.ButtonLink,{className:"connected-accounts-list__account-status-link",onClick:()=>this.switchAccount(e),size:i.ButtonLinkSize.Inherit},t("switchToThisAccount")))}render(){const{connectedAccounts:e,selectedAddress:t,shouldRenderListOptions:n}=this.props,{t:o}=this.context;return r.default.createElement(r.default.Fragment,null,r.default.createElement("main",{className:"connected-accounts-list"},this.renderUnconnectedAccount(),e.map((({address:e,name:a},i)=>r.default.createElement(l.default,{key:e,address:e,name:a,status:0===i?o("active"):null,options:n?this.renderListItemOptions(e):null,action:e===t?null:this.renderListItemAction(e)})))))}}n.default=f,p(f,"contextTypes",{t:o.default.func.isRequired}),p(f,"defaultProps",{accountToConnect:null}),p(f,"propTypes",{accountToConnect:o.default.shape({id:o.default.string.isRequired,address:o.default.string.isRequired,metadata:o.default.shape({name:o.default.string.isRequired,keyring:o.default.shape({type:o.default.string.isRequired}).isRequired}).isRequired,options:o.default.object.isRequired,methods:o.default.arrayOf(o.default.string).isRequired,type:o.default.string.isRequired}),connectedAccounts:o.default.arrayOf(o.default.shape({address:o.default.string.isRequired,name:o.default.string.isRequired,lastActive:o.default.number})).isRequired,connectAccount:o.default.func.isRequired,selectedAddress:o.default.string.isRequired,removePermittedAccount:o.default.func,setSelectedAddress:o.default.func.isRequired,shouldRenderListOptions:(e,t,n)=>"boolean"!=typeof e[t]?new Error(`Warning: Failed prop type: '${t}' of component '${n}' must be a boolean. Received: ${typeof e[t]}`):e[t]&&!e.removePermittedAccount?new Error(`Warning: Failed prop type: '${t}' of component '${n}' requires prop 'removePermittedAccount'.`):undefined})}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list.component.js"}],[5307,{"./connected-accounts-list.component":5306},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./connected-accounts-list.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/index.js"}],[5308,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/permission":6162,"../../../helpers/utils/util":6171,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../component-library":5680,classnames:3684,lodash:4483,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=h(e("classnames")),r=h(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("lodash"),s=e("react-redux"),l=e("../../component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/utils/permission"),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/utils/util"),f=e("../../../selectors");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}const g=({permissions:e})=>{const t=(0,c.useI18nContext)(),[n,r]=(0,a.useState)(!1),m=(0,s.useSelector)(f.getSnapsMetadata),h=()=>{r((e=>!e))};if(!e.length)return null;const g=(0,i.flatten)(e.map((({key:e,value:n})=>(0,u.getPermissionDescription)({t:t,permissionName:e,permissionValue:n,getSubjectName:(0,p.getSnapName)(m)}))));return a.default.createElement(l.Box,{className:"connected-accounts-permissions",width:d.BlockSize.Full},a.default.createElement(l.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Row,as:"button",onClick:h,width:d.BlockSize.Full,justifyContent:d.JustifyContent.spaceBetween,className:"connected-accounts-permissions__header",padding:0,backgroundColor:d.BackgroundColor.backgroundDefault},a.default.createElement(l.Text,{onClick:h,as:"h6",variant:d.TextVariant.bodyMdMedium},t("permissions")),a.default.createElement(l.ButtonIcon,{size:l.ButtonIconSize.Sm,iconName:n?l.IconName.ArrowUp:l.IconName.ArrowDown,ariaLabel:t("showPermissions")})),n?a.default.createElement(l.Box,{className:(0,o.default)("connected-accounts-permissions__list-container-expanded"),marginTop:4},a.default.createElement(l.Text,{as:"h6",variant:d.TextVariant.bodySm},t("authorizedPermissions"),":"),a.default.createElement("ul",{className:"connected-accounts-permissions__list"},g.map((({label:e},t)=>a.default.createElement("li",{key:`connected-permission-${t}`,className:"connected-accounts-permissions__list-item"},a.default.createElement(l.Checkbox,{isChecked:!0,isDisabled:!0,id:`connected-permission-${t}`,label:e})))))):null)};g.propTypes={permissions:r.default.arrayOf(r.default.shape({key:r.default.string.isRequired}))},g.defaultProps={permissions:[]},g.displayName="ConnectedAccountsPermissions";n.default=a.default.memo(g)}}},{package:"$root$",file:"ui/components/app/connected-accounts-permissions/connected-accounts-permissions.js"}],[5309,{"./connected-accounts-permissions":5308},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./connected-accounts-permissions"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/connected-accounts-permissions/index.js"}],[5310,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/snaps":6166,"../../../helpers/utils/util":6171,"../../component-library":5680,"../../ui/button":5958,"../../ui/site-origin":6053,"../snaps/snap-icon":5470,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=p(e("prop-types")),a=p(e("../../ui/button")),i=e("../../component-library"),s=e("../../../helpers/utils/util"),l=p(e("../../ui/site-origin")),c=e("../../../helpers/constants/design-system"),u=e("../../../helpers/utils/snaps"),d=e("../snaps/snap-icon");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.Component{constructor(...e){super(...e),m(this,"getConnectedSitesListContent",(()=>{const{connectedSubjects:e,onDisconnect:t,getSnapName:n}=this.props,{t:r}=this.context;return e.map((e=>{if((0,u.isSnapId)(e.origin)){const s=n(e.origin);return o.default.createElement("div",{key:e.origin,className:"connected-sites-list__content-row"},o.default.createElement("div",{className:"connected-sites-list__subject-info"},o.default.createElement(d.SnapIcon,{avatarSize:i.IconSize.Md,snapId:e.origin}),o.default.createElement(l.default,{className:"connected-sites-list__subject-name",title:s,siteOrigin:s})),o.default.createElement(a.default,{className:"connected-sites-list__content-row-link-button",onClick:()=>t(e.origin),type:"link"},r("disconnect")))}return o.default.createElement("div",{key:e.origin,className:"connected-sites-list__content-row"},o.default.createElement("div",{className:"connected-sites-list__subject-info"},o.default.createElement(i.AvatarFavicon,{className:"connected-sites-list__subject-icon",name:e.name,size:c.Size.MD,src:e.iconUrl}),o.default.createElement(l.default,{className:"connected-sites-list__subject-name",title:e.extensionId||e.origin,siteOrigin:this.getSubjectDisplayName(e)})),o.default.createElement(a.default,{className:"connected-sites-list__content-row-link-button",onClick:()=>t(e.origin),type:"link"},r("disconnect")))}))}))}render(){return o.default.createElement("main",{className:"connected-sites-list__content-rows"},this.getConnectedSitesListContent())}getSubjectDisplayName(e){return e.extensionId?this.context.t("externalExtension"):(0,s.stripHttpsSchemeWithoutPort)(e.origin)}}n.default=h,m(h,"contextTypes",{t:r.default.func}),m(h,"propTypes",{connectedSubjects:r.default.arrayOf(r.default.shape({name:r.default.string,iconUrl:r.default.string,origin:r.default.string})).isRequired,onDisconnect:r.default.func.isRequired,getSnapName:r.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/connected-sites-list/connected-sites-list.component.js"}],[5311,{"../../../selectors":6820,"./connected-sites-list.component":5310,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=e("react-redux"),a=e("../../../selectors"),i=(o=e("./connected-sites-list.component"))&&o.__esModule?o:{default:o};n.default=(0,r.connect)((function(e){return{getSnapName:t=>(0,a.getSnapMetadata)(e,t).name}}),null)(i.default)}}},{package:"$root$",file:"ui/components/app/connected-sites-list/connected-sites-list.container.js"}],[5312,{"./connected-sites-list.container":5311},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./connected-sites-list.container"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/connected-sites-list/connected-sites-list.js"}],[5313,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/util":6171,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../../store/actions":6833,"../../component-library":5680,"../../ui/menu":6025,"../connected-accounts-list/connected-accounts-list-options":5305,"../snaps/snap-icon":5470,"prop-types":4631,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=g(e("prop-types")),a=e("react-router-dom"),i=e("react-redux"),s=e("../../component-library"),l=e("../../../hooks/useI18nContext"),c=e("../../ui/menu"),u=e("../../../helpers/constants/design-system"),d=g(e("../connected-accounts-list/connected-accounts-list-options")),p=e("../../../selectors"),f=e("../../../store/actions"),m=e("../../../helpers/utils/util"),h=e("../snaps/snap-icon");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({connectedSubjects:e}){const[t,n]=(0,o.useState)(),r=(0,l.useI18nContext)(),g=(0,a.useHistory)(),y=(0,i.useDispatch)(),v=(0,i.useSelector)(p.getOriginOfCurrentTab),b=e=>o.default.createElement(d.default,{onHideOptions:()=>n(),onShowOptions:()=>n(e),show:t===e},o.default.createElement(c.MenuItem,{iconName:s.IconName.Logout,onClick:t=>{t.preventDefault(),(e=>{y((0,f.disconnectOriginFromSnap)(v,e))})(e)}},r("disconnect")),o.default.createElement(c.MenuItem,{iconName:s.IconName.Setting,onClick:()=>g.push((0,m.getSnapRoute)(e))},r("snapsSettings")));return o.default.createElement(s.Box,{className:"connected-snaps-list__content-rows",width:u.BlockSize.Full},e.map((e=>o.default.createElement(s.Box,{key:e.origin,className:"connected-snaps-list__content-row",width:u.BlockSize.Full,display:u.Display.Flex,flexDirection:u.FlexDirection.Row,padding:4,justifyContent:u.JustifyContent.spaceBetween},o.default.createElement(s.Box,{className:"connected-snaps-list__subject-info",gap:4,display:u.Display.Flex,alignItems:u.AlignItems.center},o.default.createElement(h.SnapIcon,{snapId:e.origin,avatarSize:s.IconSize.Md}),o.default.createElement(s.Text,{variant:u.TextVariant.bodyLgMedium,className:"connected-accounts-list__account-name"},e.name)),b(e.origin)))))}v.propTypes={connectedSubjects:r.default.arrayOf(r.default.shape({name:r.default.string,origin:r.default.string})).isRequired}}}},{package:"$root$",file:"ui/components/app/connected-sites-list/connected-snaps.js"}],[5314,{"./connected-sites-list":5312},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./connected-sites-list"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/connected-sites-list/index.js"}],[5315,{"../../../helpers/constants/connected-sites":6122,"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../multichain":5837,"@metamask/snaps-utils":2659,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var o=p(e("react")),r=p(e("prop-types")),a=e("react-redux"),i=e("@metamask/snaps-utils"),s=e("../../../helpers/constants/connected-sites"),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),d=e("../../multichain");function p(e){return e&&e.__esModule?e:{default:e}}function f({onClick:e,disabled:t}){const n=(0,c.useI18nContext)(),{address:r}=(0,a.useSelector)(u.getSelectedInternalAccount),p=(0,a.useSelector)(u.getPermissionsForActiveTab).map((e=>e.key)).includes(i.WALLET_SNAP_PERMISSION_KEY),f=(0,a.useSelector)(u.getPermittedAccountsForCurrentTab);let m;m=f.find((e=>e===r))?s.STATUS_CONNECTED:f.length>0?s.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT:p?s.STATUS_CONNECTED_TO_SNAP:s.STATUS_NOT_CONNECTED;let h=l.Color.iconAlternative;m===s.STATUS_CONNECTED?h=l.Color.successDefault:m!==s.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT&&m!==s.STATUS_CONNECTED_TO_SNAP||(h=l.BackgroundColor.backgroundDefault);const g=m===s.STATUS_CONNECTED?n("tooltipSatusConnected"):n("tooltipSatusNotConnected");return o.default.createElement(d.ConnectedSiteMenu,{status:m,globalMenuColor:h,text:g,as:"button",onClick:e,disabled:t})}f.propTypes={onClick:r.default.func,disabled:r.default.bool}}}},{package:"$root$",file:"ui/components/app/connected-status-indicator/connected-status-indicator.js"}],[5316,{"./connected-status-indicator":5315},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./connected-status-indicator"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/connected-status-indicator/index.js"}],[5317,{"../../ui/button":5958,"./recipient-group/recipient-group.component":5319,lodash:4483,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=l(e("prop-types")),a=e("lodash"),i=l(e("../../ui/button")),s=l(e("./recipient-group/recipient-group.component"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends o.PureComponent{constructor(...e){super(...e),u(this,"state",{isShowingAllRecent:!1})}renderRecents(){const{t:e}=this.context,{isShowingAllRecent:t}=this.state,n=this.props.searchForRecents(),r=!t&&n.length>2;return o.default.createElement("div",{className:"send__select-recipient-wrapper__recent-group-wrapper"},r&&o.default.createElement(i.default,{type:"link",className:"send__select-recipient-wrapper__recent-group-wrapper__load-more",onClick:()=>this.setState({isShowingAllRecent:!0})},e("loadMore")))}renderAddressBook(){const e=this.props.searchForContacts().reduce(((e,t)=>{const n=t.name[0].toUpperCase();return{...e,[n]:[...e[n]||[],t]}}),{});return Object.keys(e).sort().map((t=>[t,(0,a.sortBy)(e[t],(e=>e.name.toLowerCase()))])).map((([e,t])=>o.default.createElement(s.default,{key:`${e}-contact-group`,label:e,items:t,onSelect:this.props.selectRecipient,selectedAddress:this.props.selectedAddress})))}renderMyAccounts(){const e=this.props.searchForMyAccounts();return o.default.createElement(s.default,{items:e,onSelect:this.props.selectRecipient,selectedAddress:this.props.selectedAddress})}render(){const{children:e,searchForRecents:t,searchForContacts:n,searchForMyAccounts:r}=this.props;return o.default.createElement("div",{className:"send__select-recipient-wrapper__list"},e||null,t?this.renderRecents():null,n?this.renderAddressBook():null,r?this.renderMyAccounts():null)}}n.default=d,u(d,"propTypes",{searchForContacts:r.default.func,searchForRecents:r.default.func,searchForMyAccounts:r.default.func,selectRecipient:r.default.func,children:r.default.node,selectedAddress:r.default.string}),u(d,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/contact-list/contact-list.component.js"}],[5318,{"./contact-list.component":5317},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./contact-list.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/contact-list/index.js"}],[5319,{"../../../multichain":5837,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var o=i(e("react")),r=i(e("prop-types")),a=e("../../../multichain");function i(e){return e&&e.__esModule?e:{default:e}}function s({items:e,onSelect:t}){return e&&e.length?e.map((({address:e,name:n})=>o.default.createElement(a.AddressListItem,{address:e,label:n,onClick:()=>t(e,n),key:e}))):null}s.propTypes={items:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,name:r.default.string})),onSelect:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/contact-list/recipient-group/recipient-group.component.js"}],[5320,{"../../../helpers/constants/common":6121,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../ui/text-field":6065,"../srp-input":5565,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=u(e("prop-types")),a=e("../../../hooks/useI18nContext"),i=u(e("../../ui/text-field")),s=e("../../component-library"),l=u(e("../srp-input")),c=e("../../../helpers/constants/common");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({disabled:e=!1,includeTerms:t=!1,onSubmit:n,submitText:r}){const[u,d]=(0,o.useState)(""),[p,f]=(0,o.useState)(""),[m,h]=(0,o.useState)(""),[g,y]=(0,o.useState)(""),[v,b]=(0,o.useState)(""),[_,k]=(0,o.useState)(!1),w=(0,a.useI18nContext)(),x=(0,o.useCallback)((e=>{let t="",n="";e&&e.length<c.PASSWORD_MIN_LENGTH&&(n=w("passwordNotLongEnough")),u&&e!==u&&(t=w("passwordsDontMatch")),h(e),y(n),f(t)}),[u,w]),T=(0,o.useCallback)((e=>{let t="";m!==e&&(t=w("passwordsDontMatch")),d(e),f(t)}),[m,w]),C=!e&&m&&u&&m===u&&v&&(!t||_)&&!g&&!p,E=(0,o.useCallback)((async e=>{e.preventDefault(),C&&await n(m,v)}),[C,n,m,v]),M=(0,o.useCallback)((()=>{k((e=>!e))}),[]),O=w("acceptTermsOfUse",[o.default.createElement("a",{className:"create-new-vault__terms-link",key:"create-new-vault__link-text",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer"},w("terms"))]);return o.default.createElement("form",{className:"create-new-vault__form",onSubmit:E},o.default.createElement(l.default,{onChange:b,srpText:w("secretRecoveryPhrase")}),o.default.createElement("div",{className:"create-new-vault__create-password"},o.default.createElement(i.default,{"data-testid":"create-vault-password",id:"password",label:w("newPassword"),type:"password",value:m,onChange:e=>x(e.target.value),error:g,autoComplete:"new-password",margin:"normal",largeLabel:!0}),o.default.createElement(i.default,{"data-testid":"create-vault-confirm-password",id:"confirm-password",label:w("confirmPassword"),type:"password",value:u,onChange:e=>T(e.target.value),error:p,autoComplete:"new-password",margin:"normal",largeLabel:!0})),t?o.default.createElement("div",{className:"create-new-vault__terms"},o.default.createElement(s.Checkbox,{id:"create-new-vault-terms-checkbox","data-testid":"create-new-vault-terms-checkbox",isChecked:_,onChange:M,label:O})):null,o.default.createElement(s.Button,{"data-testid":"create-new-vault-submit-button",className:"create-new-vault__submit-button",variant:s.ButtonVariant.Primary,disabled:!C,type:"submit"},r))}p.propTypes={disabled:r.default.bool,includeTerms:r.default.bool,onSubmit:r.default.func.isRequired,submitText:r.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/create-new-vault/create-new-vault.js"}],[5321,{"./create-new-vault":5320},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./create-new-vault"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/create-new-vault/index.js"}],[5322,{"../../../../shared/constants/common":5140,"../../../../shared/modules/Numeric":5183,"../../../ducks/metamask/metamask":6111,"../../../helpers/constants/design-system":6123,"../../../helpers/utils/confirm-tx.util":6150,"../../../hooks/useIsOriginalNativeTokenSymbol":6203,"../../../selectors":6820,"../../component-library":5680,"../../ui/currency-display":5969,"../../ui/unit-input":6079,"./hooks/useProcessNewDecimalValue":5323,"./hooks/useStateWithFirstTouch":5324,"./hooks/useTokenExchangeRate":5325,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=b(e("prop-types")),a=e("react-redux"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=b(e("../../ui/unit-input")),c=b(e("../../ui/currency-display")),u=e("../../../ducks/metamask/metamask"),d=e("../../../selectors"),p=e("../../../../shared/constants/common"),f=e("../../../../shared/modules/Numeric"),m=e("../../../hooks/useIsOriginalNativeTokenSymbol"),h=e("../../../helpers/utils/confirm-tx.util"),g=b(e("./hooks/useTokenExchangeRate")),y=b(e("./hooks/useProcessNewDecimalValue")),v=b(e("./hooks/useStateWithFirstTouch"));function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const k=18,w=7;function x({hexValue:e,isFiatPreferred:t,onChange:n,onPreferenceToggle:r,swapIcon:b,className:_="",asset:x,isSkeleton:T,isMatchingUpstream:C}){const E=isNaN(Number(null==x?void 0:x.decimals))?k:Number(null==x?void 0:x.decimals),M=(0,a.useSelector)(u.getNativeCurrency),O=(0,a.useSelector)(d.getCurrentCurrency),S=(null==x?void 0:x.symbol)||M||p.EtherDenomination.ETH,j=O.toUpperCase(),P=((null==S?void 0:S.length)||0)>w,I=(0,a.useSelector)(d.getShouldShowFiat),N=!(I&&t),[D,A,R]=(0,v.default)("0"),[B,$]=(0,o.useState)("0"),W=(0,a.useSelector)(d.getCurrentChainId),{ticker:F,type:L,rpcUrl:q}=(0,a.useSelector)(u.getProviderConfig),U=(0,m.useIsOriginalNativeTokenSymbol)(W,F,L,q),z=(0,o.useRef)(),V=(0,g.default)(null==x?void 0:x.address),H=Boolean(null==V?void 0:V.toNumber()),K=(0,y.default)(E,N,V),G=n===undefined,J=async()=>{await r()};(0,o.useEffect)((()=>{N||H||r()}),[H,N,r]);const Q=(0,o.useRef)(null);(0,o.useEffect)((()=>{const t=new f.Numeric(e,16).toBase(10).shiftedBy(E).toString();if(Number(t)===Number(D))return;const n=G||R||C,{newTokenDecimalValue:o,newFiatDecimalValue:r}=K(t,!!n||undefined);A(o),$(r),Q.current&&clearTimeout(Q.current),Q.current=setTimeout((()=>{var e,t;return null===(e=z.current)||void 0===e||null===(t=e.updateIsOverflowing)||void 0===t?void 0:t.call(e)}),500)}),[e,null==x?void 0:x.address,K,N,E,G]);return T?o.default.createElement(i.Box,{paddingRight:4,className:"currency-input__skeleton-container"},o.default.createElement(i.Box,{width:s.BlockSize.Half,className:"currency-input__pulsing-bar"}),o.default.createElement(i.Box,{width:s.BlockSize.OneThird,className:"currency-input__pulsing-bar"})):o.default.createElement(l.default,{ref:z,isDisabled:G,isFocusOnInput:!G,hideSuffix:N&&P,dataTestId:"currency-input",suffix:N?S:j,onChange:e=>{const{newTokenDecimalValue:t,newFiatDecimalValue:o}=K(e);A(t),$(o),n(new f.Numeric(t,10).times(Math.pow(10,E),10).toPrefixedHexString(),t)},value:N?D:B,className:_,actionComponent:I&&V?b?b(J):U?o.default.createElement("button",{className:"currency-input__swap-component","data-testid":"currency-swap",onClick:J},o.default.createElement("i",{className:"fa fa-retweet fa-lg"})):null:undefined},(()=>{let e,t;return I&&V&&U?(N?t=(0,h.formatCurrency)(new f.Numeric(B,10).toString(),O):(e=S,t=new f.Numeric(D,10).toString()),o.default.createElement(c.default,{hideLabel:N||P,suffix:e,className:"currency-input__conversion-component",displayValue:t})):null})())}x.propTypes={hexValue:r.default.string,isFiatPreferred:r.default.bool,onChange:r.default.func,onPreferenceToggle:r.default.func,swapIcon:r.default.func,className:r.default.string,asset:r.default.shape({address:r.default.string,symbol:r.default.string,decimals:r.default.oneOfType([r.default.string,r.default.number]),isERC721:r.default.bool}),isSkeleton:r.default.bool,isMatchingUpstream:r.default.bool}}}},{package:"$root$",file:"ui/components/app/currency-input/currency-input.js"}],[5323,{"../../../../../shared/modules/Numeric":5183,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return(0,o.useCallback)(((o,i)=>{let s,l;const c=(t,n=e)=>{const o=t.toString().split(".")[1]||"",r=Math.min(n,e),a=Math.min(o.length,r);return t.toFixed(a)},u=new r.Numeric(o,10);return i??t?(s=n?u.times(n).toFixed(2):undefined,l=c(u)):(s=u.toFixed(2),l=n?c(u.divide(n),a):undefined),{newFiatDecimalValue:s,newTokenDecimalValue:l}}),[null==n?void 0:n.toString(),t,e])};var o=e("react"),r=e("../../../../../shared/modules/Numeric");const a=6}}},{package:"$root$",file:"ui/components/app/currency-input/hooks/useProcessNewDecimalValue.tsx"}],[5324,{react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const[t,n]=(0,o.useState)(r);return[t===r?e:t,n,t===r]};var o=e("react");const r=Symbol("INITIAL_VALUE")}}},{package:"$root$",file:"ui/components/app/currency-input/hooks/useStateWithFirstTouch.tsx"}],[5325,{"../../../../../shared/modules/Numeric":5183,"../../../../ducks/metamask/metamask":6111,"../../../../helpers/utils/util":6171,"../../../../selectors":6820,"ethereumjs-util":3898,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=e?(0,r.toChecksumAddress)(e):undefined,n=(0,a.useSelector)(l.getNativeCurrency),p=(0,a.useSelector)(i.getCurrentChainId),f=(0,a.useSelector)(l.getConversionRate),m=(0,a.useSelector)(i.getTokenExchangeRates,a.shallowEqual),[h,g]=(0,o.useState)({});return(0,o.useMemo)((()=>{if(!f)return undefined;const e=new s.Numeric(f,10);if(!t)return e;if(!!t&&[u,d].includes(h[t]))return undefined;const o=m[t]||h[t];return o?new s.Numeric(o,10).times(e):(g((e=>({...e,[t]:u}))),(0,c.fetchTokenExchangeRates)(n,[t],p).then((e=>{g((n=>({...n,[t]:e[t]||d})))})).catch((()=>{g((e=>({...e,[t]:d})))})),undefined)}),[h,p,n,t,f,m])};var o=e("react"),r=e("ethereumjs-util"),a=e("react-redux"),i=e("../../../../selectors"),s=e("../../../../../shared/modules/Numeric"),l=e("../../../../ducks/metamask/metamask"),c=e("../../../../helpers/utils/util");const u="loading",d="failed"}}},{package:"$root$",file:"ui/components/app/currency-input/hooks/useTokenExchangeRate.tsx"}],[5326,{"./currency-input":5322},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./currency-input"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/currency-input/index.js"}],[5327,{"../../../ducks/app/app":6099,"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../component-library":5680,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useI18nContext)(),t=(0,a.useDispatch)();function n(){t((0,c.hideDataDeletionErrorModal)())}return r.default.createElement(l.Modal,{onClose:n,isOpen:!0},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,{modalDialogProps:{display:i.Display.Flex,flexDirection:i.FlexDirection.Column}},r.default.createElement(l.ModalHeader,{paddingBottom:4,paddingRight:6,paddingLeft:6,onClose:n},r.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,gap:4},r.default.createElement(l.Icon,{size:l.IconSize.Xl,name:l.IconName.Danger,color:i.IconColor.warningDefault}),r.default.createElement(l.Text,{variant:i.TextVariant.headingSm,textAlign:i.TextAlign.Center},e("deleteMetaMetricsDataErrorTitle")))),r.default.createElement(l.Box,{paddingLeft:6,paddingRight:6,display:i.Display.Flex,gap:4,flexDirection:i.FlexDirection.Column},r.default.createElement(l.Text,{variant:i.TextVariant.bodySm,textAlign:i.TextAlign.Justify},e("deleteMetaMetricsDataErrorDesc"))),r.default.createElement(l.ModalFooter,null,r.default.createElement(l.Box,{display:i.Display.Flex,gap:4},r.default.createElement(l.Button,{size:l.ButtonSize.Lg,width:i.BlockSize.Full,variant:l.ButtonVariant.Primary,onClick:n},e("ok"))))))};var o,r=(o=e("react"))&&o.__esModule?o:{default:o},a=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),c=e("../../../ducks/app/app")}}},{package:"$root$",file:"ui/components/app/data-deletion-error-modal/data-deletion-error-modal.tsx"}],[5328,{"./data-deletion-error-modal":5327},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./data-deletion-error-modal"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/data-deletion-error-modal/index.ts"}],[5329,{"../../../../helpers/constants/design-system":6123,"../../../../helpers/utils/util":6171,"../../../../hooks/useCopyToClipboard":6191,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,"../../../ui/tooltip":6073,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=d(e("react")),r=d(e("prop-types")),a=e("../../../../hooks/useI18nContext"),i=e("../../../../hooks/useCopyToClipboard"),s=d(e("../../../ui/tooltip")),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/util"),u=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}const p=({tokenAddress:e})=>{const t=(0,a.useI18nContext)(),[n,r]=(0,i.useCopyToClipboard)();return o.default.createElement(u.Box,{display:l.Display.InlineFlex,className:"detected-token-address"},o.default.createElement(u.Text,{color:l.TextColor.textDefault},`${t("tokenAddress")}:`),o.default.createElement(s.default,{position:"bottom",title:t(n?"copiedExclamation":"copyToClipboard")},o.default.createElement(u.ButtonLink,{className:"detected-token-address__copy-link",onClick:()=>{r(e)},endIconName:u.IconName.Copy,marginLeft:2,marginRight:2},(0,c.shortenAddress)(e))))};p.propTypes={tokenAddress:r.default.string};n.default=p}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-address/detected-token-address.js"}],[5330,{"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=e("../../../../hooks/useI18nContext"),s=e("../../../../helpers/constants/design-system"),l=e("../../../component-library");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=({aggregators:e})=>{const t=(0,i.useI18nContext)(),n=parseInt(e.length,10)-2,[o,a]=(0,r.useState)(!1);return r.default.createElement(l.Box,{display:s.Display.InlineFlex,className:"detected-token-aggregators"},r.default.createElement(l.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Normal},t("fromTokenLists",[n>0&&!o?r.default.createElement(l.Text,{as:"h6",fontWeight:s.FontWeight.Normal,key:"detected-token-aggrgators-with-more"},`${e.slice(0,2).join(", ")}`,r.default.createElement(l.ButtonLink,{className:"detected-token-aggregators__link",onClick:()=>a(!0),key:"detected-token-aggrgators-link"},t("plusXMore",[n]))):r.default.createElement(l.Text,{as:"h6",fontWeight:s.FontWeight.Normal,key:"detected-token-aggrgators-without-more"},`${e.join(", ")}.`)])))};u.propTypes={aggregators:a.default.array.isRequired};n.default=u}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-aggregators/detected-token-aggregators.js"}],[5331,{"../../../../helpers/constants/design-system":6123,"../../../../selectors":6820,"../../../component-library":5680,"../../../ui/identicon":6008,"../detected-token-address/detected-token-address":5329,"../detected-token-aggregators/detected-token-aggregators":5330,"../detected-token-values/detected-token-values":5334,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=f(e("react")),r=f(e("prop-types")),a=e("react-redux"),i=e("../../../component-library"),s=f(e("../../../ui/identicon")),l=f(e("../detected-token-values/detected-token-values")),c=f(e("../detected-token-address/detected-token-address")),u=f(e("../detected-token-aggregators/detected-token-aggregators")),d=e("../../../../helpers/constants/design-system"),p=e("../../../../selectors");function f(e){return e&&e.__esModule?e:{default:e}}const m=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var r;const f=(0,a.useSelector)(p.getTokenList)[null===(r=e.address)||void 0===r?void 0:r.toLowerCase()];return o.default.createElement(i.Box,{display:d.Display.Flex,className:"detected-token-details",marginBottom:4},o.default.createElement(s.default,{className:"detected-token-details__identicon",address:e.address,diameter:40}),o.default.createElement(i.Box,{display:d.Display.Grid,marginLeft:2,className:"detected-token-details__data"},o.default.createElement(l.default,{token:e,handleTokenSelection:t,tokensListDetected:n}),o.default.createElement(c.default,{tokenAddress:e.address}),(null==f?void 0:f.aggregators.length)>0&&o.default.createElement(u.default,{aggregators:null==f?void 0:f.aggregators})))};m.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string,iconUrl:r.default.string,aggregators:r.default.array}),handleTokenSelection:r.default.func.isRequired,tokensListDetected:r.default.object};n.default=m}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-details/detected-token-details.js"}],[5332,{"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,"../../../component-library/modal-content/deprecated":5690,"../../../component-library/modal-header/deprecated":5699,classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=d(e("react")),r=d(e("prop-types")),a=d(e("classnames")),i=e("../../../../hooks/useI18nContext"),s=e("../../../../helpers/constants/design-system"),l=e("../../../component-library"),c=e("../../../component-library/modal-content/deprecated"),u=e("../../../component-library/modal-header/deprecated");function d(e){return e&&e.__esModule?e:{default:e}}const p=({partiallyIgnoreDetectedTokens:e,onCancelIgnore:t,handleClearTokensSelection:n,isOpen:r})=>{const d=(0,i.useI18nContext)();return o.default.createElement(l.Modal,{isOpen:r,className:(0,a.default)("detected-token-ignored-popover",{"detected-token-ignored-popover--import":e,"detected-token-ignored-popover--ignore":!e}),onClose:t,autoFocus:!1},o.default.createElement(l.ModalOverlay,null),o.default.createElement(c.ModalContent,null,o.default.createElement(u.ModalHeader,{marginBottom:4},d(e?"importSelectedTokens":"areYouSure")),o.default.createElement(l.Text,{marginBottom:4},d(e?"importSelectedTokensDescription":"ignoreTokenWarning")),o.default.createElement(l.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.center,gap:4},o.default.createElement(l.Button,{className:"detected-token-ignored-popover__ignore-button",block:!0,variant:l.BUTTON_VARIANT.SECONDARY,onClick:t,size:l.BUTTON_SIZES.LG},d("cancel")),o.default.createElement(l.Button,{className:"detected-token-ignored-popover__import-button",block:!0,variant:l.BUTTON_VARIANT.PRIMARY,onClick:n,size:l.BUTTON_SIZES.LG},d("confirm")))))};p.propTypes={partiallyIgnoreDetectedTokens:r.default.bool.isRequired,onCancelIgnore:r.default.func.isRequired,handleClearTokensSelection:r.default.func.isRequired,isOpen:r.default.bool.isRequired};n.default=p}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-ignored-popover/detected-token-ignored-popover.js"}],[5333,{"../../../../../shared/constants/metametrics":5150,"../../../../contexts/metametrics":6090,"../../../../hooks/useI18nContext":6202,"../../../../selectors":6820,"../../../ui/box":5954,"../../../ui/button":5958,"../../../ui/popover":6042,"../detected-token-details/detected-token-details":5331,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=m(e("prop-types")),a=e("react-redux"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../contexts/metametrics"),l=e("../../../../../shared/constants/metametrics"),c=e("../../../../selectors"),u=m(e("../../../ui/popover")),d=m(e("../../../ui/box")),p=m(e("../../../ui/button")),f=m(e("../detected-token-details/detected-token-details"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({tokensListDetected:e,handleTokenSelection:t,onImport:n,onIgnoreAll:r,setShowDetectedTokens:m,sortingBasedOnTokenSelection:h})=>{const g=(0,i.useI18nContext)(),y=(0,o.useContext)(s.MetaMetricsContext),v=(0,a.useSelector)(c.getCurrentChainId),b=(0,a.useSelector)(c.getDetectedTokensInCurrentNetwork),{selected:_=[]}=h(e),k=o.default.createElement(o.default.Fragment,null,o.default.createElement(p.default,{className:"detected-token-selection-popover__ignore-button",type:"secondary",onClick:()=>r()},g("ignoreAll")),o.default.createElement(p.default,{className:"detected-token-selection-popover__import-button",type:"primary",onClick:n,disabled:0===_.length},g("importWithCount",[`(${_.length})`])));return o.default.createElement(u.default,{className:"detected-token-selection-popover",title:1===b.length?g("tokenFoundTitle"):g("tokensFoundTitle",[b.length]),onClose:()=>{m(!1);const e=b.map((({address:e,symbol:t})=>`${t} - ${e}`));y({event:l.MetaMetricsEventName.TokenImportCanceled,category:l.MetaMetricsEventCategory.Wallet,properties:{source_connection_method:l.MetaMetricsTokenEventSource.Detected,chain_id:v,tokens:e}})},footer:k},o.default.createElement(d.default,{margin:3},b.map(((n,r)=>o.default.createElement(f.default,{key:r,token:n,handleTokenSelection:t,tokensListDetected:e})))))};g.propTypes={tokensListDetected:r.default.object,handleTokenSelection:r.default.func.isRequired,onIgnoreAll:r.default.func.isRequired,onImport:r.default.func.isRequired,setShowDetectedTokens:r.default.func.isRequired,sortingBasedOnTokenSelection:r.default.func.isRequired};n.default=g}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-selection-popover/detected-token-selection-popover.js"}],[5334,{"../../../../helpers/constants/design-system":6123,"../../../../hooks/useTokenFiatAmount":6224,"../../../../hooks/useTokenTracker":6225,"../../../../selectors":6820,"../../../component-library":5680,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useTokenTracker"),c=e("../../../../hooks/useTokenFiatAmount"),u=e("../../../../selectors"),d=e("../../../component-library");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var o;const[a,p]=(0,r.useState)((()=>{var t;return null===(t=n[e.address])||void 0===t?void 0:t.selected})),{tokensWithBalances:f}=(0,l.useTokenTracker)({tokens:[e]}),m=null===(o=f[0])||void 0===o?void 0:o.string,h=(0,c.useTokenFiatAmount)(e.address,m,e.symbol),g=(0,i.useSelector)(u.getUseCurrencyRateCheck);(0,r.useEffect)((()=>{var t;p(null===(t=n[e.address])||void 0===t?void 0:t.selected)}),[n,e.address,a,p]);return r.default.createElement(d.Box,{display:s.Display.InlineFlex,className:"detected-token-values"},r.default.createElement(d.Box,{marginBottom:1},r.default.createElement(d.Text,{variant:s.TextVariant.bodyLgMedium,as:"h4"},`${m||"0"} ${e.symbol}`),r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},g?h||"$0":h)),r.default.createElement(d.Box,{className:"detected-token-values__checkbox"},r.default.createElement(d.Checkbox,{isChecked:a,onClick:()=>{p(!a),t(e)}})))};f.propTypes={token:a.default.shape({address:a.default.string.isRequired,decimals:a.default.number,symbol:a.default.string,iconUrl:a.default.string,aggregators:a.default.array}),handleTokenSelection:a.default.func.isRequired,tokensListDetected:a.default.object};n.default=f}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-values/detected-token-values.js"}],[5335,{"../../../../shared/constants/metametrics":5150,"../../../../shared/constants/transaction":5168,"../../../contexts/metametrics":6090,"../../../selectors":6820,"../../../store/actions":6833,"./detected-token-ignored-popover/detected-token-ignored-popover":5332,"./detected-token-selection-popover/detected-token-selection-popover":5333,lodash:4483,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=m(e("prop-types")),a=e("react-redux"),i=e("lodash"),s=e("../../../store/actions"),l=e("../../../selectors"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/transaction"),d=e("../../../../shared/constants/metametrics"),p=m(e("./detected-token-selection-popover/detected-token-selection-popover")),f=m(e("./detected-token-ignored-popover/detected-token-ignored-popover"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=e=>(0,i.chain)(e).values().groupBy((e=>e.selected?"selected":"deselected")).mapValues((e=>e.map((({token:e})=>{const{address:t,symbol:n,decimals:o,aggregators:r}=e;return{address:t,symbol:n,decimals:o,aggregators:r}})))).value(),y=({setShowDetectedTokens:e})=>{const t=(0,a.useDispatch)(),n=(0,o.useContext)(c.MetaMetricsContext),r=(0,a.useSelector)(l.getCurrentChainId),i=(0,a.useSelector)(l.getDetectedTokensInCurrentNetwork),m=(0,a.useSelector)(l.getSelectedNetworkClientId),[h,y]=(0,o.useState)((()=>i.reduce(((e,t)=>(e[t.address]={token:t,selected:!0},e)),{}))),[v,b]=(0,o.useState)(!1),[_,k]=(0,o.useState)(!1),w=async e=>{e.forEach((e=>{n({event:d.MetaMetricsEventName.TokenAdded,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,source:d.MetaMetricsTokenEventSource.Detected,token_standard:u.TokenStandard.ERC20,asset_type:u.AssetType.token,token_added_type:"detected",chain_id:r}})})),await t((0,s.addImportedTokens)(e,m));const o=e.map((({symbol:e})=>e));t((0,s.setNewTokensImported)(o.join(", ")))};return o.default.createElement(o.default.Fragment,null,v&&o.default.createElement(f.default,{isOpen:!0,onCancelIgnore:()=>{b(!1),k(!1)},handleClearTokensSelection:async()=>{const{selected:o=[],deselected:r=[]}=g(h);r.length<i.length&&await w(o);const a=r.map((({symbol:e,address:t})=>`${e} - ${t}`));n({event:d.MetaMetricsEventName.TokenHidden,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{tokens:a,location:d.MetaMetricsEventLocation.TokenDetection,token_standard:u.TokenStandard.ERC20,asset_type:u.AssetType.token}});const l=r.map((({address:e})=>e));await t((0,s.ignoreTokens)({tokensToIgnore:l,dontShowLoadingIndicator:!0})),e(!1),k(!1)},partiallyIgnoreDetectedTokens:_}),i.length>0&&o.default.createElement(p.default,{detectedTokens:i,tokensListDetected:h,handleTokenSelection:e=>{y((t=>({...t,[e.address]:{...t[e.address],selected:!t[e.address].selected}})))},onImport:async()=>{const{selected:t=[]}=g(h);t.length<i.length?(b(!0),k(!0)):(await w(t),e(!1))},onIgnoreAll:()=>{const e={...h};for(const t of Object.keys(h))e[t].selected=!1;y(e),b(!0)},setShowDetectedTokens:e,sortingBasedOnTokenSelection:g}))};y.propTypes={setShowDetectedTokens:r.default.func.isRequired};n.default=y}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token.js"}],[5336,{"../../../../shared/constants/metametrics":5150,"../../../contexts/i18n":6087,"../../../contexts/metametrics":6090,"../../../helpers/constants/design-system":6123,"../../component-library":5680,classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var o=p(e("classnames")),r=p(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("../../../../shared/constants/metametrics"),s=e("../../../contexts/i18n"),l=e("../../../contexts/metametrics"),c=e("../../../helpers/constants/design-system"),u=e("../../component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const f=14,m=f-1;function h({buttonText:e,onLongPressed:t}){const n=(0,a.useContext)(s.I18nContext),r=(0,a.useRef)(!1),[d,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),y=(0,a.useContext)(l.MetaMetricsContext),v=e=>{e.stopPropagation()},b=()=>{r.current&&p(!0)},_=(0,a.useCallback)((e=>{y({category:i.MetaMetricsEventCategory.Keys,event:i.MetaMetricsEventName.SrpHoldToRevealCompleted,properties:{key_type:i.MetaMetricsEventKeyType.Srp}}),y({category:i.MetaMetricsEventCategory.Keys,event:i.MetaMetricsEventName.SrpRevealViewed,properties:{key_type:i.MetaMetricsEventKeyType.Srp}}),t(),g(!0),v(e)}),[t,y]),k=()=>{p(!1),g(!1)},w=(0,a.useCallback)((()=>a.default.createElement(u.Box,{className:(0,o.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__absolute-fill":d,"hold-to-reveal-button__main-icon-show":h})},a.default.createElement(u.Box,{className:"hold-to-reveal-button__absolute-fill"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-background",cx:f,cy:f,r:m}))),a.default.createElement(u.Box,{className:"hold-to-reveal-button__absolute-fill"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{"aria-label":n("holdToRevealLockedLabel"),onTransitionEnd:b,className:"hold-to-reveal-button__circle-foreground",cx:f,cy:f,r:m}))),a.default.createElement(u.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,className:"hold-to-reveal-button__lock-icon-container"},a.default.createElement("img",{src:"images/lock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__lock-icon"})))),[d,h,n]),x=(0,a.useCallback)((()=>d?a.default.createElement("div",{className:(0,o.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__unlock-icon-hide":h}),onAnimationEnd:k},a.default.createElement("div",{onAnimationEnd:v,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-outer-container"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-outer",cx:14,cy:14,r:14}))),a.default.createElement("div",{onAnimationEnd:v,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-inner-container"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-inner",cx:14,cy:14,r:12}))),a.default.createElement("div",{"aria-label":n("holdToRevealUnlockedLabel"),className:"hold-to-reveal-button__unlock-icon-container",onAnimationEnd:_},a.default.createElement("img",{src:"images/unlock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__unlock-icon"}))):null),[d,h,_,n]);return a.default.createElement(u.Button,{width:c.BlockSize.Full,onPointerDown:()=>{r.current=!0,y({category:i.MetaMetricsEventCategory.Keys,event:i.MetaMetricsEventName.SrpHoldToRevealClickStarted,properties:{key_type:i.MetaMetricsEventKeyType.Srp}})},onPointerUp:()=>{r.current=!1},className:"hold-to-reveal-button__button-hold",textProps:{display:c.Display.Flex,alignItems:c.AlignItems.center}},a.default.createElement(u.Box,{className:"hold-to-reveal-button__icon-container",marginRight:2},w(),x()),e)}h.propTypes={buttonText:r.default.string.isRequired,onLongPressed:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js"}],[5337,{"../../../helpers/constants/design-system":6123,"../../component-library":5680,"../../ui/button":5958,"../../ui/check-box":5962,"../../ui/tooltip":6073,classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=d(e("classnames")),a=d(e("prop-types")),i=d(e("../../ui/button")),s=d(e("../../ui/check-box")),l=d(e("../../ui/tooltip")),c=e("../../component-library"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({acceptText:e,checkboxText:t,checkboxTooltipText:n,classNames:a=[],descriptionText:d,ignoreText:p,infoText:f,onAccept:m,onIgnore:h})=>{const[g,y]=(0,o.useState)(!1),v=t&&o.default.createElement(s.default,{id:"homeNotification_checkbox",checked:g,className:"home-notification__checkbox",onClick:()=>y((e=>!e))});return o.default.createElement("div",{className:(0,r.default)("home-notification",...a)},o.default.createElement("div",{className:"home-notification__content"},o.default.createElement("div",{className:"home-notification__content-container"},o.default.createElement("div",{className:"home-notification__text"},d)),f?o.default.createElement(l.default,{position:"top",title:f,wrapperClassName:"home-notification__tooltip-wrapper"},o.default.createElement(c.Icon,{name:c.IconName.Info,color:u.IconColor.iconDefault})):null),o.default.createElement("div",{className:"home-notification__buttons"},m&&e?o.default.createElement(i.default,{type:"primary",className:"home-notification__accept-button",onClick:m},e):null,h&&p?o.default.createElement(i.default,{type:"secondary",className:"home-notification__ignore-button",onClick:()=>h(g)},p):null,t?o.default.createElement("div",{className:"home-notification__checkbox-wrapper"},n?o.default.createElement(l.default,{position:"top",title:n,wrapperClassName:"home-notification__checkbox-label-tooltip"},v):v,o.default.createElement("label",{className:"home-notification__checkbox-label",htmlFor:"homeNotification_checkbox"},t)):null))};f.propTypes={acceptText:a.default.node,checkboxText:a.default.node,checkboxTooltipText:a.default.node,classNames:a.default.array,descriptionText:a.default.node.isRequired,ignoreText:a.default.node,infoText:a.default.node,onAccept:a.default.func,onIgnore:a.default.func};n.default=f}}},{package:"$root$",file:"ui/components/app/home-notification/home-notification.component.js"}],[5338,{"./home-notification.component":5337},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./home-notification.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/home-notification/index.js"}],[5339,{"./token-list.container":5343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./token-list.container"))&&o.__esModule?o:{default:o};n.default=r.default}}},{package:"$root$",file:"ui/components/app/import-token/token-list/index.js"}],[5340,{"./token-list-placeholder.component":5341},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./token-list-placeholder.component"))&&o.__esModule?o:{default:o};n.default=r.default}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list-placeholder/index.js"}],[5341,{"../../../../../helpers/constants/design-system":6123,"../../../../../helpers/constants/zendesk-url":6136,"../../../../component-library":5680,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r,a,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),s=d(e("prop-types")),l=d(e("../../../../../helpers/constants/zendesk-url")),c=e("../../../../component-library"),u=e("../../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}class f extends i.Component{render(){return i.default.createElement(c.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,textAlign:u.TextAlign.Center},i.default.createElement(c.Text,{color:u.TextColor.textAlternative},this.context.t("addAcquiredTokens")),i.default.createElement(c.ButtonLink,{href:l.default.ADD_CUSTOM_TOKENS,externalLink:!0},this.context.t("learnMoreUpperCase")))}}n.default=f,o=f,r="contextTypes",a={t:s.default.func},(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list-placeholder/token-list-placeholder.component.js"}],[5342,{"../../../../helpers/constants/design-system":6123,"../../../../helpers/utils/util":6171,"../../../component-library":5680,"./token-list-placeholder":5340,classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=u(e("prop-types")),a=u(e("classnames")),i=e("../../../../helpers/utils/util"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=u(e("./token-list-placeholder"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.Component{render(){const{results:e=[],selectedTokens:t={},onToggleToken:n,tokens:r=[],currentNetwork:u,testNetworkBackgroundColor:d}=this.props;return o.default.createElement(s.Box,{className:"token-list"},0===e.length?o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,className:"token-list__empty-list"},o.default.createElement(c.default,null)):o.default.createElement(s.Box,{className:"token-list__tokens-container",display:l.Display.Flex,flexDirection:l.FlexDirection.Column},Array(12).fill(undefined).map(((c,p)=>{var f,m,h;const{symbol:g,name:y,address:v}=e[p]||{},b=(0,i.checkExistingAddresses)(v,r),_=()=>!b&&n(e[p]);return Boolean((null===(f=e[p])||void 0===f?void 0:f.iconUrl)||g||y)&&o.default.createElement(s.Box,{key:v,display:l.Display.Flex,alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Row,flexWrap:l.FlexWrap.NoWrap,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,backgroundColor:t[v]?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,className:(0,a.default)("token-list__token_component",{"token-list__token_component--disabled":b}),onClick:_},o.default.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},o.default.createElement(s.Checkbox,{isChecked:t[v]||b,marginRight:2,onClick:_}),o.default.createElement(s.Box,null,o.default.createElement(s.BadgeWrapper,{badge:o.default.createElement(s.AvatarNetwork,{size:s.AvatarNetworkSize.Xs,name:null==u?void 0:u.nickname,src:null==u||null===(m=u.rpcPrefs)||void 0===m?void 0:m.imageUrl,backgroundColor:d,className:"token-list__token_component__network-badge"}),marginRight:4,marginTop:1},o.default.createElement(s.AvatarToken,{name:g,src:null===(h=e[p])||void 0===h?void 0:h.iconUrl}))),o.default.createElement(s.Box,null,o.default.createElement(s.Text,{fontWeight:l.FontWeight.Medium,variant:l.TextVariant.bodyMd},y),o.default.createElement(s.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},g))))}))))}}n.default=f,p(f,"contextTypes",{t:r.default.func}),p(f,"propTypes",{tokens:r.default.array,results:r.default.array,selectedTokens:r.default.object,onToggleToken:r.default.func,currentNetwork:r.default.object,testNetworkBackgroundColor:r.default.object})}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list.component.js"}],[5343,{"./token-list.component":5342,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=e("react-redux"),a=(o=e("./token-list.component"))&&o.__esModule?o:{default:o};n.default=(0,r.connect)((e=>{const{tokens:t}=e.metamask;return{tokens:t}}))(a.default)}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list.container.js"}],[5344,{"./token-search.component":5345},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./token-search.component"))&&o.__esModule?o:{default:o};n.default=r.default}}},{package:"$root$",file:"ui/components/app/import-token/token-search/index.js"}],[5345,{"../../../../../shared/modules/string-utils":5208,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../component-library/text-field-search/deprecated":5727,"fuse.js":4047,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=u(e("prop-types")),a=u(e("fuse.js")),i=e("../../../../../shared/modules/string-utils"),s=e("../../../component-library/text-field-search/deprecated"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=e=>Object.values(e),f=e=>new a.default(p(e),{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"name",weight:.5},{name:"symbol",weight:.5}]});function m({onSearch:e,error:t,tokenList:n,searchClassName:r}){const a=(0,c.useI18nContext)(),[u,d]=(0,o.useState)(""),[m,h]=(0,o.useState)(f(n));(0,o.useEffect)((()=>{h(f(n))}),[n]);return o.default.createElement(s.TextFieldSearch,{className:r,placeholder:a("searchTokens"),value:u,onChange:t=>(t=>{d(t);const o=m.search(t),r=[...p(n).filter((e=>e.address&&t&&(0,i.isEqualCaseInsensitive)(e.address,t))),...o];e({newSearchQuery:t,results:r})})(t.target.value),error:t,autoFocus:!0,autoComplete:!1,width:l.BlockSize.Full,clearButtonOnClick:()=>{d("")},clearButtonProps:{size:l.Size.SM}})}m.propTypes={onSearch:r.default.func.isRequired,error:r.default.object,tokenList:r.default.object.isRequired,searchClassName:r.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/import-token/token-search/token-search.component.js"}],[5346,{"../../../../shared/constants/network":5154,"../../../contexts/i18n":6087,"../../../helpers/constants/design-system":6123,"../../component-library":5680,"./network-toggle":5347,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=u(e("prop-types")),a=e("../../../contexts/i18n"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../../shared/constants/network"),c=u(e("./network-toggle"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({wrapperRef:e,incomingTransactionsPreferences:t,networkConfigurations:n,setIncomingTransactionsPreferences:r})=>{const l=(0,o.useContext)(a.I18nContext),[u,d]=(0,o.useState)(f(t,n));(0,o.useEffect)((()=>{d(f(t,n))}),[t,n]);const p=(e,t)=>{r(e,t)};return o.default.createElement(i.Box,{ref:e,className:"mm-incoming-transaction-toggle"},o.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium},l("showIncomingTransactions")),o.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},l("showIncomingTransactionsExplainer")),Object.keys(u).map(((e,t)=>o.default.createElement(c.default,{key:t,chainId:e,networkPreferences:u[e],toggleSingleNetwork:p}))))};n.default=p;function f(e,t){const n={};return Object.values(t).forEach((t=>{n[t.chainId]={isShowIncomingTransactions:e[t.chainId],isATestNetwork:l.TEST_CHAINS.includes(t.chainId),label:t.name,imageUrl:l.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[t.chainId]}})),n}p.propTypes={wrapperRef:r.default.object,incomingTransactionsPreferences:r.default.object.isRequired,networkConfigurations:r.default.object.isRequired,setIncomingTransactionsPreferences:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/incoming-trasaction-toggle/incoming-transaction-toggle.tsx"}],[5347,{"../../../../shared/constants/network":5154,"../../../contexts/i18n":6087,"../../../helpers/constants/design-system":6123,"../../component-library":5680,"../../ui/toggle-button":6069,"../../ui/tooltip":6073,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=p(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../../shared/constants/network"),i=e("../../../contexts/i18n"),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),c=p(e("../../ui/toggle-button")),u=p(e("../../ui/tooltip"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const f=({networkPreferences:e,toggleSingleNetwork:t,chainId:n})=>{var o;const d=(0,r.useContext)(i.I18nContext),{isShowIncomingTransactions:p}=e,f=e.label,m=null===a.ETHERSCAN_SUPPORTED_NETWORKS||void 0===a.ETHERSCAN_SUPPORTED_NETWORKS?void 0:a.ETHERSCAN_SUPPORTED_NETWORKS[n],h=null==m?void 0:m.domain,g=(null==h||null===(o=h.charAt(0))||void 0===o?void 0:o.toUpperCase())+(null==h?void 0:h.slice(1));return r.default.createElement(l.Box,{marginTop:6,marginBottom:6,display:s.Display.Flex,flexDirection:s.FlexDirection.Row,gap:4,justifyContent:s.JustifyContent.spaceBetween,"data-testid":`network-toggle-${n}`,className:"network-toggle-wrapper"},r.default.createElement(l.Box,{backgroundColor:s.BackgroundColor.transparent,display:s.Display.Flex,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4,className:"network-toggle-wrapper__overflow-container"},r.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Sm,src:e.imageUrl,name:f}),r.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,className:"network-toggle-wrapper__overflow-container"},f.length>20?r.default.createElement(u.default,{position:"bottom"},r.default.createElement(l.Text,{color:s.TextColor.textDefault,backgroundColor:s.BackgroundColor.transparent,variant:s.TextVariant.bodyMd,ellipsis:!0},f)):r.default.createElement(l.Text,{color:s.TextColor.textDefault,backgroundColor:s.BackgroundColor.transparent,variant:s.TextVariant.bodyMd,ellipsis:!0},f),r.default.createElement(l.Text,{color:s.TextColor.primaryDefault,backgroundColor:s.BackgroundColor.transparent,variant:s.TextVariant.bodySm,ellipsis:!0},h&&r.default.createElement("a",{key:`network_${h}_link`,href:`https://${h}`,rel:"noreferrer",target:"_blank"},g)))),r.default.createElement(l.Box,{marginLeft:"auto"},r.default.createElement(c.default,{value:p,onToggle:e=>t(n,!e),offLabel:d("off"),onLabel:d("on")})))};n.default=f;f.propTypes={chainId:o.default.string.isRequired,networkPreferences:o.default.object.isRequired,toggleSingleNetwork:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/incoming-trasaction-toggle/network-toggle.tsx"}],[5348,{"./loading-network-screen.container":5350},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./loading-network-screen.container"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/loading-network-screen/index.js"}],[5349,{"../../../../shared/constants/network":5154,"../../../../shared/constants/time":5166,"../../../helpers/constants/design-system":6123,"../../component-library":5680,"../../ui/box/box":5953,"../../ui/loading-screen":6017,"../../ui/popover/popover.component":6043,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=p(e("prop-types")),a=p(e("../../ui/loading-screen")),i=e("../../../../shared/constants/time"),s=e("../../../../shared/constants/network"),l=p(e("../../ui/popover/popover.component")),c=e("../../component-library"),u=e("../../../helpers/constants/design-system"),d=p(e("../../ui/box/box"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.PureComponent{constructor(...e){super(...e),m(this,"state",{showErrorScreen:!1}),m(this,"componentDidMount",(()=>{this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)})),m(this,"getConnectingLabel",(function(e){if(e)return e;const{providerConfig:t,providerId:n}=this.props,o=t.type,{t:r}=this.context;if(s.DEPRECATED_NETWORKS.includes(t.chainId)){return r("connectingToDeprecatedNetwork",[t.nickname||t.type])}switch(o){case s.NETWORK_TYPES.MAINNET:return r("connectingToMainnet");case s.NETWORK_TYPES.GOERLI:return r("connectingToGoerli");case s.NETWORK_TYPES.SEPOLIA:return r("connectingToSepolia");case s.NETWORK_TYPES.LINEA_GOERLI:return r("connectingToLineaGoerli");case s.NETWORK_TYPES.LINEA_SEPOLIA:return r("connectingToLineaSepolia");case s.NETWORK_TYPES.LINEA_MAINNET:return r("connectingToLineaMainnet");default:return r("connectingTo",[n])}})),m(this,"renderConnectionFailureNotification",((e,t=!1)=>{const{showNetworkDropdown:n,setProviderArgs:r,setActiveNetwork:a}=this.props;return o.default.createElement(l.default,{onClose:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1})},centerTitle:!0,title:o.default.createElement(c.Icon,{name:c.IconName.Danger,size:c.IconSize.Xl,color:u.IconColor.warningDefault})},o.default.createElement(c.Text,{variant:u.TextVariant.bodyLgMedium,textAlign:u.TextAlign.Center,margin:[0,4,4,4]},e),o.default.createElement(d.default,{display:u.DISPLAY.FLEX,padding:4,gap:2},o.default.createElement(c.ButtonSecondary,{onClick:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),n()},variant:u.TextVariant.bodySm,block:!0},this.context.t("switchNetworks")),t?o.default.createElement(c.ButtonPrimary,{onClick:()=>{this.setState({showErrorScreen:!1}),a(...r),window.clearTimeout(this.cancelCallTimeout),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)},variant:u.TextVariant.bodySm,block:!0},this.context.t("tryAgain")):null))})),m(this,"renderDeprecatedRpcUrlWarning",(()=>this.renderConnectionFailureNotification(this.context.t("currentRpcUrlDeprecated"),!1))),m(this,"renderErrorScreenContent",(()=>{const{providerConfig:e}=this.props;return this.renderConnectionFailureNotification(this.context.t("networkSwitchConnectionError",[e.nickname]),!0)})),m(this,"cancelCall",(()=>{const{isNetworkLoading:e}=this.props;e&&this.setState({showErrorScreen:!0})})),m(this,"componentDidUpdate",(e=>{const{providerConfig:t}=this.props,{providerConfig:n}=e;t.type!==n.type&&(window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND))})),m(this,"componentWillUnmount",(()=>{window.clearTimeout(this.cancelCallTimeout)}))}render(){const{rollbackToPreviousProvider:e,showDeprecatedRpcUrlWarning:t}=this.props;let n;return n=this.state.showErrorScreen?this.renderErrorScreenContent():t?this.renderDeprecatedRpcUrlWarning():this.getConnectingLabel(this.props.loadingMessage),o.default.createElement(a.default,{header:o.default.createElement("div",{className:"page-container__header-close",onClick:e}),showLoadingSpinner:!this.state.showErrorScreen,loadingMessage:n})}}n.default=h,m(h,"contextTypes",{t:r.default.func}),m(h,"propTypes",{loadingMessage:r.default.string,cancelTime:r.default.number,providerConfig:r.default.object,providerId:r.default.oneOfType([r.default.string,r.default.number]),showNetworkDropdown:r.default.func,setProviderArgs:r.default.array,setActiveNetwork:r.default.func,rollbackToPreviousProvider:r.default.func,isNetworkLoading:r.default.bool,showDeprecatedRpcUrlWarning:r.default.bool})}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.component.js"}],[5350,{"../../../../shared/constants/network":5154,"../../../ducks/metamask/metamask":6111,"../../../selectors":6820,"../../../store/actions":6833,"./loading-network-screen.component":5349,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=e("react-redux"),a=e("../../../../shared/constants/network"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("../../../store/actions")),s=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),c=(o=e("./loading-network-screen.component"))&&o.__esModule?o:{default:o};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=["0x3","0x2a","0x4"];n.default=(0,r.connect)((e=>{const{loadingMessage:t}=e.appState,n=(0,l.getProviderConfig)(e),{rpcUrl:o,chainId:r,ticker:i,nickname:c,type:u}=n,p=u===a.NETWORK_TYPES.RPC?[o,r,i,c]:[u],f=r,m=d.includes(f),h=o&&new URL(o).host.endsWith(".infura.io"),g=m&&h;let y=c;if(y===undefined){const t=(0,s.getAllEnabledNetworks)(e)[r];t&&(y=t.name)}return{isNetworkLoading:(0,s.isNetworkLoading)(e),loadingMessage:t,setProviderArgs:p,providerConfig:{...n,nickname:y},providerId:(0,s.getNetworkIdentifier)(e),showDeprecatedRpcUrlWarning:g}}),(e=>({setActiveNetwork:t=>{e(i.setActiveNetwork(t))},rollbackToPreviousProvider:()=>e(i.rollbackToPreviousProvider()),showNetworkDropdown:()=>e(i.toggleNetworkMenu())})))(c.default)}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.container.js"}],[5351,{"./metamask-template-renderer":5352,"./section-shape":5354},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SectionShape",{enumerable:!0,get:function(){return a.SectionShape}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./metamask-template-renderer"))&&o.__esModule?o:{default:o},a=e("./section-shape")}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/index.js"}],[5352,{"./safe-component-list":5353,"./section-shape":5354,lodash:4483,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("lodash"),a=e("./safe-component-list"),i=e("./section-shape");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}function c(e){const{element:t}=e,n=a.safeComponentList[t];if(!n)throw new Error(`${t} is not in the safe component list for MetaMask template renderer`);return n}function u(e){const t=c(e),n=e.propComponents?d(e.propComponents):{};return o.default.createElement(t,l({},e.props,n),"object"==typeof e.children?o.default.createElement(p,{sections:e.children}):null==e?void 0:e.children)}function d(e){return Object.entries(e).reduce(((e,[t,n])=>(n&&(e[t]=Array.isArray(n)?n.map(u):u(n)),e)),{})}const p=({sections:e})=>e?"string"==typeof e?e:e&&"object"==typeof e&&!Array.isArray(e)?u(e):o.default.createElement(o.default.Fragment,null,e.reduce(((e,t)=>{if(t===undefined||!0===(null==t?void 0:t.hide))return e;if("string"==typeof t)e.push(t);else{if(!t.key)throw new Error("When using array syntax in MetaMask Template Language, you must specify a key for each child of the array");if("object"==typeof(null==t?void 0:t.children))e.push(o.default.createElement(p,{sections:t,key:t.key}));else{const n=c(t),r=t.propComponents?d(t.propComponents):{};e.push(o.default.createElement(n,l({key:t.key},t.props,r),null==t?void 0:t.children))}}return e}),[])):null;p.propTypes={sections:i.ValidChildren};n.default=(0,o.memo)(p,((e,t)=>(0,r.isEqual)(e.sections,t.sections)))}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/metamask-template-renderer.js"}],[5353,{"../../../pages/confirmations/components/snap-account-error-message":6465,"../../../pages/confirmations/components/snap-account-success-message":6467,"../../../pages/confirmations/confirmation/components/confirmation-network-switch":6508,"../../../pages/create-snap-account":6602,"../../../pages/remove-snap-account":6681,"../../../pages/smart-transactions/smart-transaction-status-page":6737,"../../../pages/snap-account-redirect":6745,"../../component-library":5680,"../../multichain":5837,"../../multichain/create-named-snap-account":5812,"../../ui/actionable-message/actionable-message":5950,"../../ui/box":5954,"../../ui/button":5958,"../../ui/chip":5965,"../../ui/definition-list":5971,"../../ui/popover":6042,"../../ui/spinner":6055,"../../ui/text-field":6065,"../../ui/textarea/textarea":6068,"../../ui/tooltip/tooltip":6074,"../../ui/truncated-definition-list":6075,"../../ui/typography":6077,"../../ui/url-icon":6082,"../confirm/info/row":5295,"../metamask-translation":5355,"../network-display":5414,"../snaps/copyable":5448,"../snaps/snap-authorship-header":5459,"../snaps/snap-delineator":5464,"../snaps/snap-ui-address":5493,"../snaps/snap-ui-avatar":5495,"../snaps/snap-ui-button":5497,"../snaps/snap-ui-card":5499,"../snaps/snap-ui-checkbox":5501,"../snaps/snap-ui-dropdown":5503,"../snaps/snap-ui-file-input":5505,"../snaps/snap-ui-footer-button":5507,"../snaps/snap-ui-form":5509,"../snaps/snap-ui-icon":5511,"../snaps/snap-ui-image":5513,"../snaps/snap-ui-input":5515,"../snaps/snap-ui-link":5517,"../snaps/snap-ui-markdown":5519,"../snaps/snap-ui-radio-group":5521,"../snaps/snap-ui-selector":5556,"../snaps/snap-ui-tooltip":5558},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.safeComponentList=void 0;var o=J(e("../../ui/button")),r=J(e("../../ui/chip")),a=J(e("../../ui/definition-list")),i=J(e("../../ui/truncated-definition-list")),s=J(e("../../ui/popover")),l=J(e("../../ui/typography")),c=J(e("../../ui/box")),u=J(e("../metamask-translation")),d=J(e("../network-display")),p=J(e("../../ui/textarea/textarea")),f=J(e("../../ui/text-field")),m=J(e("../../../pages/confirmations/confirmation/components/confirmation-network-switch")),h=J(e("../../ui/url-icon")),g=J(e("../../ui/tooltip/tooltip")),y=e("../../component-library"),v=J(e("../../ui/actionable-message/actionable-message")),b=e("../../multichain"),_=e("../confirm/info/row"),k=e("../snaps/snap-delineator"),w=e("../snaps/copyable"),x=J(e("../../ui/spinner")),T=e("../snaps/snap-ui-markdown"),C=e("../snaps/snap-ui-link"),E=e("../../../pages/smart-transactions/smart-transaction-status-page"),M=e("../snaps/snap-ui-icon"),O=e("../snaps/snap-ui-image"),S=e("../snaps/snap-ui-file-input"),j=e("../snaps/snap-ui-input"),P=e("../snaps/snap-ui-form"),I=e("../snaps/snap-ui-button"),N=e("../snaps/snap-ui-dropdown"),D=e("../snaps/snap-ui-radio-group"),A=e("../snaps/snap-ui-checkbox"),R=e("../snaps/snap-ui-tooltip"),B=e("../snaps/snap-ui-card"),$=e("../snaps/snap-ui-address"),W=e("../snaps/snap-ui-avatar"),F=e("../snaps/snap-ui-selector"),L=e("../snaps/snap-ui-footer-button"),q=e("../../../pages/confirmations/components/snap-account-success-message"),U=e("../../../pages/confirmations/components/snap-account-error-message"),z=e("../../../pages/create-snap-account"),V=e("../../multichain/create-named-snap-account"),H=e("../../../pages/remove-snap-account"),K=e("../../../pages/snap-account-redirect"),G=J(e("../snaps/snap-authorship-header"));function J(e){return e&&e.__esModule?e:{default:e}}n.safeComponentList={a:"a",ActionableMessage:v.default,AccountListItem:b.AccountListItem,AvatarIcon:y.AvatarIcon,b:"b",Box:c.default,Button:o.default,Chip:r.default,ConfirmationNetworkSwitch:m.default,DefinitionList:a.default,div:"div",i:"i",MetaMaskTranslation:u.default,NetworkDisplay:d.default,p:"p",Popover:s.default,span:"span",Text:y.Text,TextArea:p.default,TextField:f.default,Tooltip:g.default,TruncatedDefinitionList:i.default,Typography:l.default,SmartTransactionStatusPage:E.SmartTransactionStatusPage,UrlIcon:h.default,Copyable:w.Copyable,SnapDelineator:k.SnapDelineator,SnapUIMarkdown:T.SnapUIMarkdown,SnapUILink:C.SnapUILink,SnapUIIcon:M.SnapUIIcon,SnapUIImage:O.SnapUIImage,BannerAlert:y.BannerAlert,Spinner:x.default,ConfirmInfoRow:_.ConfirmInfoRow,ConfirmInfoRowAddress:_.ConfirmInfoRowAddress,ConfirmInfoRowValueDouble:_.ConfirmInfoRowValueDouble,SnapUIFileInput:S.SnapUIFileInput,SnapUIInput:j.SnapUIInput,SnapUIButton:I.SnapUIButton,SnapUIForm:P.SnapUIForm,SnapUIDropdown:N.SnapUIDropdown,SnapUIRadioGroup:D.SnapUIRadioGroup,SnapUICheckbox:A.SnapUICheckbox,SnapUITooltip:R.SnapUITooltip,SnapUICard:B.SnapUICard,SnapUISelector:F.SnapUISelector,SnapUIAddress:$.SnapUIAddress,SnapUIAvatar:W.SnapUIAvatar,SnapUIFooterButton:L.SnapUIFooterButton,FormTextField:y.FormTextField,CreateSnapAccount:z.CreateSnapAccount,RemoveSnapAccount:H.RemoveSnapAccount,CreateNamedSnapAccount:V.CreateNamedSnapAccount,SnapAccountSuccessMessage:q.SnapAccountSuccessMessage,SnapAccountErrorMessage:U.SnapAccountErrorMessage,SnapAuthorshipHeader:G.default,SnapAccountRedirect:K.SnapAccountRedirect,SnapAccountCard:H.SnapAccountCard}}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/safe-component-list.js"}],[5354,{"prop-types":4631},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValidChildren=n.SectionShape=void 0;var o,r=(o=e("prop-types"))&&o.__esModule?o:{default:o};const a=n.SectionShape={props:r.default.object,propComponents:r.default.object,element:r.default.string,key:r.default.string},i=n.ValidChildren=r.default.oneOfType([r.default.string,r.default.shape(a),r.default.arrayOf(r.default.oneOfType([r.default.shape(a),r.default.string]))]);a.children=i}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/section-shape.js"}],[5355,{"./metamask-translation":5356},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./metamask-translation"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/metamask-translation/index.js"}],[5356,{"../../../hooks/useI18nContext":6202,"../metamask-template-renderer":5351,"../metamask-template-renderer/section-shape":5354,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var o=l(e("react")),r=l(e("prop-types")),a=e("../../../hooks/useI18nContext"),i=l(e("../metamask-template-renderer")),s=e("../metamask-template-renderer/section-shape");function l(e){return e&&e.__esModule?e:{default:e}}function c({translationKey:e,variables:t}){return(0,a.useI18nContext)()(e,null==t?void 0:t.map((t=>{if("object"==typeof t&&!Array.isArray(t)&&t.element){var n,r;if(!t.key)throw new Error(`When using MetaMask Template Language in a MetaMaskTranslation variable, you must provide a key for the section regardless of syntax.\n            Section with element '${t.element}' for translationKey: '${e}' has no key property`);if(t.children&&Array.isArray(t.children)&&t.children.length>2)throw new Error("MetaMaskTranslation only renders templates with a single section and maximum two children");if((null===(n=t.children)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.children)!==undefined&&"string"!=typeof t.children[0].children||(null===(r=t.children)||void 0===r||null===(r=r[1])||void 0===r?void 0:r.children)!==undefined&&"string"!=typeof t.children[1].children)throw new Error("MetaMaskTranslation does not allow for component trees of non trivial depth");return o.default.createElement(i.default,{key:`${e}-${t.key}`,sections:t})}return t})))}c.propTypes={translationKey:r.default.string.isRequired,variables:r.default.arrayOf(r.default.oneOfType([r.default.string,r.default.number,r.default.shape(s.SectionShape)]))}}}},{package:"$root$",file:"ui/components/app/metamask-translation/metamask-translation.js"}],[5357,{"./modal-content":5358,"./modal.component":5360},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=a(e("./modal.component")),r=a(e("./modal-content"));function a(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modal/index.js"}],[5358,{"./modal-content.component":5359},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./modal-content.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modal/modal-content/index.js"}],[5359,{"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=(o=e("prop-types"))&&o.__esModule?o:{default:o};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}class s extends r.PureComponent{render(){const{title:e,description:t}=this.props;return r.default.createElement("div",{className:"modal-content"},e?r.default.createElement("div",{className:"modal-content__title"},e):null,t&&r.default.createElement("div",{className:"modal-content__description"},t))}}n.default=s,function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(s,"propTypes",{title:a.default.string,description:a.default.string})}}},{package:"$root$",file:"ui/components/app/modal/modal-content/modal-content.component.js"}],[5360,{"../../ui/button":5958,classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=s(e("prop-types")),a=s(e("classnames")),i=s(e("../../ui/button"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.PureComponent{render(){const{children:e,headerText:t,onClose:n,onSubmit:r,submitType:s,submitText:l,submitDisabled:c,onCancel:u,cancelType:d,cancelText:p,contentClass:f,containerClass:m,hideFooter:h,testId:g}=this.props;return o.default.createElement("div",{className:(0,a.default)("modal-container",m),"data-testid":g},t&&o.default.createElement("div",{className:"modal-container__header"},o.default.createElement("div",{className:"modal-container__header-text"},t),o.default.createElement("div",{className:"modal-container__header-close","data-testid":"modal-header-close",onClick:n})),o.default.createElement("div",{className:(0,a.default)("modal-container__content",f)},e),h?null:o.default.createElement("div",{className:"modal-container__footer"},u&&o.default.createElement(i.default,{type:d,onClick:u,className:"modal-container__footer-button"},p),o.default.createElement(i.default,{type:s,onClick:r,disabled:c,className:"modal-container__footer-button"},l)))}}n.default=u,c(u,"propTypes",{children:r.default.node,contentClass:r.default.string,containerClass:r.default.string,testId:r.default.string,headerText:r.default.string,onClose:r.default.func,onSubmit:r.default.func,submitType:r.default.string,submitText:r.default.string,submitDisabled:r.default.bool,hideFooter:r.default.bool,onCancel:r.default.func,cancelType:r.default.string,cancelText:r.default.string}),c(u,"defaultProps",{submitType:"primary",cancelType:"secondary"})}}},{package:"$root$",file:"ui/components/app/modal/modal.component.js"}],[5361,{"../../modal":5357,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=l(e("react")),a=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{constructor(...e){super(...e),c(this,"handleDelete",(async()=>{await this.props.removeNetwork(this.props.chainId),this.props.onConfirm(),this.props.hideModal()}))}render(){const{t:e}=this.context,{networkNickname:t}=this.props;return r.default.createElement(i.default,{onSubmit:this.handleDelete,onCancel:()=>this.props.hideModal(),submitText:e("delete"),cancelText:e("cancel"),submitType:"danger-primary",testId:"confirm-delete-network-modal"},r.default.createElement(i.ModalContent,{title:e("deleteNetworkTitle",[t]),description:e("deleteNetworkIntro")}))}}n.default=u,c(u,"propTypes",{hideModal:a.default.func.isRequired,removeNetwork:a.default.func.isRequired,onConfirm:a.default.func.isRequired,networkNickname:a.default.string.isRequired,chainId:a.default.string.isRequired}),c(u,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.component.js"}],[5362,{"../../../../helpers/higher-order-components/with-modal-props":6144,"../../../../selectors":6820,"../../../../store/actions":6833,"./confirm-delete-network.component":5361,"react-redux":4837,redux:4902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),r=e("redux"),a=c(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=e("../../../../selectors"),l=c(e("./confirm-delete-network.component"));function c(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.compose)(a.default,(0,o.connect)(((e,t)=>{const n=(0,s.getNetworkConfigurationsByChainId)(e),{chainId:o,name:r}=n[t.target];return{chainId:o,networkNickname:r}}),(e=>({removeNetwork:t=>{e((0,i.removeNetwork)(t))}}))))(l.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.container.js"}],[5363,{"./confirm-delete-network.container":5362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./confirm-delete-network.container"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/index.js"}],[5364,{"../../../../../shared/constants/metametrics":5150,"../../../../helpers/constants/zendesk-url":6136,"../../../../helpers/utils/multichain/blockExplorer":6159,"../../../../helpers/utils/util":6171,"../../../../selectors/multichain":6825,"../../../ui/identicon":6008,"../../modal":5357,"@metamask/keyring-api":1642,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=f(e("prop-types")),a=e("@metamask/keyring-api"),i=e("../../../../helpers/utils/multichain/blockExplorer"),s=f(e("../../modal")),l=e("../../../../helpers/utils/util"),c=f(e("../../../ui/identicon")),u=e("../../../../../shared/constants/metametrics"),d=f(e("../../../../helpers/constants/zendesk-url")),p=e("../../../../selectors/multichain");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends o.Component{constructor(...e){super(...e),h(this,"handleRemove",(()=>{this.props.removeAccount(this.props.account.address).then((()=>this.props.hideModal()))})),h(this,"handleCancel",(()=>{this.props.hideModal()}))}renderSelectedAccount(){const{t:e}=this.context,{account:t,network:n}=this.props;return o.default.createElement("div",{className:"confirm-remove-account__account"},o.default.createElement("div",{className:"confirm-remove-account__account__identicon"},o.default.createElement(c.default,{address:t.address,diameter:32})),o.default.createElement("div",{className:"confirm-remove-account__account__name"},o.default.createElement("span",{className:"confirm-remove-account__account__label"},e("name")),o.default.createElement("span",{className:"account_value"},t.metadata.name)),o.default.createElement("div",{className:"confirm-remove-account__account__address"},o.default.createElement("span",{className:"confirm-remove-account__account__label"},e("publicAddress")),o.default.createElement("span",{className:"account_value"},(0,l.addressSummary)(t.address,4,4,(0,a.isEvmAccountType)(t.type)))),o.default.createElement("div",{className:"confirm-remove-account__account__link"},o.default.createElement("a",{onClick:()=>{const e=(0,i.getMultichainAccountUrl)(t.address,n);this.context.trackEvent({category:u.MetaMetricsEventCategory.Accounts,event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Remove Account",block_explorer_domain:(0,l.getURLHostName)(e)}}),global.platform.openTab({url:e})},target:"_blank",rel:"noopener noreferrer",title:e("etherscanView"),"data-testid":"explorer-link"},o.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-muted)"},title:e("etherscanView")}))))}render(){const{t:e}=this.context;return o.default.createElement(s.default,{headerText:`${e("removeAccount")}?`,onClose:this.handleCancel,onSubmit:this.handleRemove,onCancel:this.handleCancel,submitText:e("remove"),cancelText:e("nevermind")},o.default.createElement("div",null,this.renderSelectedAccount(),o.default.createElement("div",{className:"confirm-remove-account__description"},e("removeAccountDescription"),o.default.createElement("a",{className:"confirm-remove-account__link",rel:"noopener noreferrer",target:"_blank",href:d.default.IMPORTED_ACCOUNTS},e("learnMore")))))}}n.default=g,h(g,"propTypes",{hideModal:r.default.func.isRequired,removeAccount:r.default.func.isRequired,account:p.InternalAccountPropType.isRequired,network:p.MultichainNetworkPropType.isRequired}),h(g,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.component.js"}],[5365,{"../../../../helpers/higher-order-components/with-modal-props":6144,"../../../../selectors/multichain":6825,"../../../../store/actions":6833,"./confirm-remove-account.component":5364,"react-redux":4837,redux:4902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),r=e("redux"),a=c(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=e("../../../../selectors/multichain"),l=c(e("./confirm-remove-account.component"));function c(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.compose)(a.default,(0,o.connect)(((e,t)=>({network:(0,s.getMultichainNetwork)(e,t.account)})),(e=>({removeAccount:t=>e((0,i.removeAccount)(t))}))))(l.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.container.js"}],[5366,{"./confirm-remove-account.container":5365},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./confirm-remove-account.container"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/index.js"}],[5367,{"../../modal":5357,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=l(e("react")),a=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{constructor(...e){super(...e),c(this,"handleReset",(()=>{this.props.resetAccount().then((()=>this.props.hideModal()))}))}render(){const{t:e}=this.context;return r.default.createElement(i.default,{onSubmit:this.handleReset,onCancel:()=>this.props.hideModal(),submitText:e("clear"),cancelText:e("nevermind"),submitType:"danger-primary"},r.default.createElement(i.ModalContent,{title:`${e("clearActivity")}?`,description:e("clearActivityDescription")}))}}n.default=u,c(u,"propTypes",{hideModal:a.default.func.isRequired,resetAccount:a.default.func.isRequired}),c(u,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.component.js"}],[5368,{"../../../../helpers/higher-order-components/with-modal-props":6144,"../../../../store/actions":6833,"./confirm-reset-account.component":5367,"react-redux":4837,redux:4902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),r=e("redux"),a=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-reset-account.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.compose)(a.default,(0,o.connect)(null,(e=>({resetAccount:()=>e((0,i.resetAccount)())}))))(s.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.container.js"}],[5369,{"./confirm-reset-account.container":5368},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./confirm-reset-account.container"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/index.js"}],[5370,{"../../../../contexts/i18n":6087,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useModalProps":6205,"../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{props:e,hideModal:t}=(0,r.useModalProps)(),{turnOffProfileSyncing:n}=e,l=(0,o.useContext)(s.I18nContext),c=()=>{t()};return o.default.createElement(a.Modal,{isOpen:!0,onClose:c,"data-testid":"turn-off-sync-modal"},o.default.createElement(a.ModalOverlay,{"data-testid":"modal-overlay"}),o.default.createElement(a.ModalContent,{size:a.ModalContentSize.Md,"data-testid":"modal-content"},o.default.createElement(a.ModalHeader,{onClose:c,"data-testid":"modal-header"},l("areYouSure")),o.default.createElement(a.ModalBody,{"data-testid":"modal-body"},o.default.createElement(a.Text,{textAlign:i.TextAlign.Center,as:"p","data-testid":"confirmation-text"},l("profileSyncConfirmation"))),o.default.createElement(a.ModalFooter,{paddingTop:4,onSubmit:c,onCancel:async()=>{n(),t()},containerProps:{flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.stretch},submitButtonProps:{children:l("cancel"),size:a.ButtonSize.Lg,"data-testid":"cancel-button"},cancelButtonProps:{children:l("turnOff"),size:a.ButtonSize.Lg,"data-testid":"submit-button"},"data-testid":"modal-footer"})))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("../../../../hooks/useModalProps"),a=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../contexts/i18n");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/modals/confirm-turn-off-profile-syncing/confirm-turn-off-profile-syncing.tsx"}],[5371,{"./confirm-turn-off-profile-syncing":5370},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./confirm-turn-off-profile-syncing"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/confirm-turn-off-profile-syncing/index.ts"}],[5372,{"../../../../../shared/modules/string-utils":5208,"../../../../ducks/metamask/metamask":6111,"../../../../helpers/constants/routes":6129,"../../../../helpers/higher-order-components/with-modal-props":6144,"../../../../hooks/useI18nContext":6202,"../../../../store/actions":6833,"../../../component-library/text":5735,"../../modal":5357,"prop-types":4631,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=h(e("react")),r=h(e("prop-types")),a=e("react-router-dom"),i=e("react-redux"),s=h(e("../../modal")),l=e("../../../component-library/text"),c=h(e("../../../../helpers/higher-order-components/with-modal-props")),u=e("../../../../hooks/useI18nContext"),d=e("../../../../helpers/constants/routes"),p=e("../../../../ducks/metamask/metamask"),f=e("../../../../store/actions"),m=e("../../../../../shared/modules/string-utils");function h(e){return e&&e.__esModule?e:{default:e}}const g=({hideModal:e,tokenAddress:t})=>{const n=(0,a.useHistory)(),r=(0,u.useI18nContext)(),c=(0,i.useDispatch)(),h=(0,i.useSelector)(p.getNfts).find((({address:e})=>(0,m.isEqualCaseInsensitive)(e,t)));return o.default.createElement(s.default,{onSubmit:async()=>{if(h){await c((0,f.ignoreTokens)({tokensToIgnore:t,dontShowLoadingIndicator:!0}));const{tokenId:e}=h;n.push({pathname:`${d.ASSET_ROUTE}/${t}/${e}`})}else c((0,f.showImportNftsModal)({tokenAddress:t,ignoreErc20Token:!0}));e()},submitText:r("yes"),onCancel:()=>e(),cancelText:r("cancel")},o.default.createElement("div",{className:"convert-token-to-nft-modal"},o.default.createElement(l.Text,{marginTop:2},r(h?"convertTokenToNFTExistDescription":"convertTokenToNFTDescription"))))};g.propTypes={hideModal:r.default.func.isRequired,tokenAddress:r.default.string};n.default=(0,c.default)(g)}}},{package:"$root$",file:"ui/components/app/modals/convert-token-to-nft-modal/convert-token-to-nft-modal.js"}],[5373,{"../../../../helpers/constants/design-system":6123,"../../../../helpers/constants/zendesk-url":6136,"../../../../helpers/higher-order-components/with-modal-props":6144,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,"../../../ui/text-field":6065,"../../modal":5357,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=p(e("prop-types")),a=p(e("../../modal")),i=p(e("../../../ui/text-field")),s=e("../../../../helpers/constants/design-system"),l=p(e("../../../../helpers/higher-order-components/with-modal-props")),c=e("../../../../hooks/useI18nContext"),u=p(e("../../../../helpers/constants/zendesk-url")),d=e("../../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=({hideModal:e,customNonceValue:t,nextNonce:n,updateCustomNonce:r,getNextNonce:l})=>{const[p,f]=(0,o.useState)(""),m=(0,c.useI18nContext)();return o.default.createElement(a.default,{onSubmit:()=>{r(""===p?t:p),l(),e()},submitText:m("save"),onCancel:()=>e(),cancelText:m("cancel"),contentClass:"customize-nonce-modal-content",containerClass:"customize-nonce-modal-container"},o.default.createElement("div",{className:"customize-nonce-modal"},o.default.createElement("div",{className:"customize-nonce-modal__main-header"},o.default.createElement(d.Text,{className:"customize-nonce-modal__main-title",variant:s.TextVariant.headingSm,as:"h4"},m("editNonceField")),o.default.createElement(d.ButtonIcon,{iconName:d.IconName.Close,className:"customize-nonce-modal__close",size:d.ButtonIconSize.Sm,ariaLabel:m("close"),onClick:e})),o.default.createElement(d.Box,{marginTop:2,display:s.Display.InlineFlex,alignItems:s.AlignItems.center},o.default.createElement(d.Text,{variant:s.TextVariant.bodyMd,as:"h6"},m("editNonceMessage"),o.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__link",rel:"noopener noreferrer",target:"_blank",href:u.default.CUSTOMIZE_NONCE},m("learnMoreUpperCase")))),o.default.createElement(d.Box,{marginTop:4},o.default.createElement(d.Box,{alignItems:s.AlignItems.center,display:s.Display.Flex},o.default.createElement(d.Text,{variant:s.TextVariant.bodyMdBold,as:"h6",width:s.BlockSize.FiveSixths},m("editNonceField")),o.default.createElement(d.Box,{width:s.BlockSize.OneSixth},o.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__reset","data-testid":"customize-nonce-reset",onClick:()=>{f(n)}},m("reset")))),o.default.createElement("div",{className:"customize-nonce-modal__input"},o.default.createElement(i.default,{type:"number","data-testid":"custom-nonce-input",min:"0",placeholder:t||"number"==typeof n&&n.toString(),onChange:e=>{f(e.target.value)},fullWidth:!0,margin:"dense",value:p,id:"custom-nonce-id"})))))};m.propTypes={hideModal:r.default.func.isRequired,customNonceValue:r.default.string,nextNonce:r.default.number,updateCustomNonce:r.default.func,getNextNonce:r.default.func};n.default=(0,l.default)(m)}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/customize-nonce.component.js"}],[5374,{"./customize-nonce.component":5373},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./customize-nonce.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/index.js"}],[5375,{"../../../../../shared/lib/transactions-controller-utils":5181,"../../../component-library":5680,"../../../ui/identicon":6008,"../../../ui/text-field":6065,"../../modal":5357,"bignumber.js":3565,classnames:3684,loglevel:4489,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=f(e("prop-types")),a=f(e("loglevel")),i=f(e("classnames")),s=f(e("bignumber.js")),l=f(e("../../modal")),c=f(e("../../../ui/identicon")),u=f(e("../../../ui/text-field")),d=e("../../../../../shared/lib/transactions-controller-utils"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=new s.default(2).pow(256).minus(1).toString(10);class y extends o.PureComponent{constructor(...e){super(...e),h(this,"state",{customSpendLimit:this.props.customTokenAmount||"",selectedOptionIsUnlimited:!this.props.customTokenAmount})}renderModalContent(e){const{t:t}=this.context,{hideModal:n,selectedAccount:r,tokenAmount:a,tokenSymbol:l,tokenBalance:f,customTokenAmount:m,origin:h}=this.props,{name:y,address:v}=r||{},{selectedOptionIsUnlimited:b}=this.state;return o.default.createElement("div",{className:"edit-approval-permission"},o.default.createElement("div",{className:"edit-approval-permission__header"},o.default.createElement("div",{className:"edit-approval-permission__title"},t("editPermission")),o.default.createElement(p.ButtonIcon,{iconName:p.IconName.Close,size:p.ButtonIconSize.Lg,className:"edit-approval-permission__header__close",onClick:n})),o.default.createElement("div",{className:"edit-approval-permission__account-info"},o.default.createElement("div",{className:"edit-approval-permission__account-info__account"},o.default.createElement(c.default,{address:v,diameter:32}),o.default.createElement("div",{className:"edit-approval-permission__name-and-balance-container"},o.default.createElement("div",{className:"edit-approval-permission__account-info__name"},y),o.default.createElement("div",null,t("balance")))),o.default.createElement("div",{className:"edit-approval-permission__account-info__balance"},`${(0,d.toPrecisionWithoutTrailingZeros)(f,9)} ${l}`)),o.default.createElement("div",{className:"edit-approval-permission__edit-section"},o.default.createElement("div",{className:"edit-approval-permission__edit-section__title"},t("spendLimitPermission")),o.default.createElement("div",{className:"edit-approval-permission__edit-section__description"},t("allowWithdrawAndSpend",[h])),o.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},o.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!0})},o.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":!b,"edit-approval-permission__edit-section__radio-button-outline--selected":b})}),o.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),b&&o.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),o.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},o.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":!b,"edit-approval-permission__edit-section__option-label--selected":b})},new s.default(a).equals(new s.default(g))?t("unlimited"):t("proposedApprovalLimit")),o.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("spendLimitRequestedBy",[h])),o.default.createElement("div",{className:"edit-approval-permission__edit-section__option-value"},`${Number(a)} ${l}`))),o.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},o.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!1})},o.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":b,"edit-approval-permission__edit-section__radio-button-outline--selected":!b})}),o.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),!b&&o.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),o.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},o.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":b,"edit-approval-permission__edit-section__option-label--selected":!b})},t("customSpendLimit")),o.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("enterMaxSpendLimit")),o.default.createElement("div",{className:"edit-approval-permission__edit-section__option-input"},o.default.createElement(u.default,{type:"number",placeholder:`${Number(m||a)} ${l}`,onChange:e=>{this.setState({customSpendLimit:e.target.value}),b&&this.setState({selectedOptionIsUnlimited:!1})},fullWidth:!0,margin:"dense",value:this.state.customSpendLimit,error:e}))))))}validateSpendLimit(){const{t:e}=this.context,{decimals:t,requiredMinimum:n}=this.props,{selectedOptionIsUnlimited:o,customSpendLimit:r}=this.state;if(o||!r)return undefined;let i;try{i=new s.default(r)}catch(t){return a.default.debug(`Error converting '${r}' to BigNumber:`,t),e("spendLimitInvalid")}if(i.isNegative())return e("spendLimitInvalid");const l=(0,d.calcTokenAmount)(g,t);return i.greaterThan(l)?e("spendLimitTooLarge"):n!==undefined&&i.lessThan(n)?e("spendLimitInsufficient"):undefined}render(){const{t:e}=this.context,{setCustomAmount:t,hideModal:n,customTokenAmount:r}=this.props,{selectedOptionIsUnlimited:a,customSpendLimit:i}=this.state,s=this.validateSpendLimit(),c=Boolean(i===r&&!a||s);return o.default.createElement(l.default,{onSubmit:()=>{t(a?"":i),n()},submitText:e("save"),contentClass:"edit-approval-permission-modal-content",containerClass:"edit-approval-permission-modal-container",submitDisabled:c},this.renderModalContent(s))}}n.default=y,h(y,"propTypes",{decimals:r.default.number,hideModal:r.default.func.isRequired,selectedAccount:r.default.object,tokenAmount:r.default.string,customTokenAmount:r.default.string,tokenSymbol:r.default.string,tokenBalance:r.default.string,setCustomAmount:r.default.func,origin:r.default.string.isRequired,requiredMinimum:r.default.instanceOf(s.default)}),h(y,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.component.js"}],[5376,{"../../../../helpers/higher-order-components/with-modal-props":6144,"../../../../selectors":6820,"./edit-approval-permission.component":5375,"react-redux":4837,redux:4902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),r=e("redux"),a=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=l(e("./edit-approval-permission.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.compose)(a.default,(0,o.connect)((e=>{const t=e.appState.modal.modalState.props||{};return{selectedAccount:(0,i.getSelectedInternalAccount)(e),...t}})))(s.default)}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.container.js"}],[5377,{"./edit-approval-permission.container":5376},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./edit-approval-permission.container"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/index.js"}],[5378,{"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=(o=e("prop-types"))&&o.__esModule?o:{default:o};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l,c=0;const u=e=>{const t=`anim_${++c}${Number(new Date)}`;let n=`@keyframes ${t} {`;return Object.keys(e).forEach((t=>{n+=`${t} {`,Object.keys(e[t]).forEach((o=>{const r=`:${e[t][o]};`;n+=o+r})),n+="}"})),n+="}",(e=>{l||(l=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(l),l=l.sheet||l.styleSheet),l.insertRule(e,(l.cssRules||l.rules).length)})(n),t},d={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:u({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:u({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:u({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:u({"0%":{opacity:.9},"100%":{opacity:0}})},p=["transitionend","animationend"];class f extends r.Component{constructor(...e){super(...e),s(this,"content",null),s(this,"state",{willHide:!0,hidden:!0}),s(this,"addTransitionListener",((e,t)=>{if(e){const n=function(o){o&&o.target!==e||(((e,t)=>{0!==p.length&&p.forEach((function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)}))})(e,n),t())};((e,t)=>{0!==p.length?p.forEach((function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)})):window.setTimeout(t,0)})(e,n)}})),s(this,"handleBackdropClick",(()=>{this.props.closeOnClick&&this.hide()})),s(this,"hasHidden",(()=>this.state.hidden)),s(this,"leave",(()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)})),s(this,"enter",(()=>{this.props.onShow()})),s(this,"show",(()=>{this.state.hidden&&(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))})),s(this,"hide",(()=>{this.hasHidden()||this.setState({willHide:!0})})),s(this,"listenKeyboard",(e=>{"function"==typeof this.props.keyboard?this.props.keyboard(e):this.closeOnEsc(e)})),s(this,"closeOnEsc",(e=>{!this.props.keyboard||"Escape"!==e.key&&27!==e.keyCode||this.hide()})),s(this,"UNSAFE_componentDidMount",(()=>{window.addEventListener("keydown",this.listenKeyboard,!0)})),s(this,"UNSAFE_componentWillUnmount",(()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)}))}render(){if(this.state.hidden)return null;const{willHide:e}=this.state,{modalStyle:t,testId:n}=this.props,o={animationName:e?d.hideBackdropAnimation:d.showBackdropAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.backdropStyle},a={animationDuration:(e?d.hide:d.show).animationDuration,animationName:e?d.hideContentAnimation:d.showContentAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.contentStyle},i=this.props.backdrop?r.default.createElement("div",{className:"modal__backdrop",style:o,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):undefined;return e&&this.addTransitionListener(this.content,this.leave),r.default.createElement("span",null,r.default.createElement("div",{className:"modal",style:t,"data-testid":n},r.default.createElement("div",{className:"modal__content",ref:e=>this.content=e,tabIndex:"-1",style:a},this.props.children)),i)}}s(f,"propTypes",{backdrop:a.default.bool,backdropStyle:a.default.object,closeOnClick:a.default.bool,contentStyle:a.default.object,keyboard:a.default.bool,modalStyle:a.default.object,onShow:a.default.func,onHide:a.default.func,children:a.default.node,testId:a.default.string}),s(f,"defaultProps",{testId:"",onShow:()=>undefined,onHide:()=>undefined,keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});n.default=f}}},{package:"$root$",file:"ui/components/app/modals/fade-modal.js"}],[5379,{"../../../../../shared/constants/metametrics":5150,"../../../../helpers/constants/routes":6129,"../../../../selectors":6820,"../../../../store/actions":6833,"../../../ui/button":5958,"../../../ui/identicon":6008,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=m(e("prop-types")),r=f(e("react")),a=e("react-redux"),i=f(e("../../../../store/actions")),s=m(e("../../../ui/identicon")),l=m(e("../../../ui/button")),c=e("../../../../helpers/constants/routes"),u=e("../../../../../shared/constants/metametrics"),d=e("../../../../selectors");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{constructor(...e){super(...e),h(this,"state",{})}render(){const{chainId:e,token:t,hideToken:n,hideModal:o,history:a}=this.props,{symbol:i,address:d,image:p}=t;return r.default.createElement("div",{className:"hide-token-confirmation__container"},r.default.createElement("div",{className:"hide-token-confirmation__title"},this.context.t("hideTokenPrompt")),r.default.createElement(s.default,{className:"hide-token-confirmation__identicon",diameter:45,address:d,image:p}),r.default.createElement("div",{className:"hide-token-confirmation__symbol"},i),r.default.createElement("div",{className:"hide-token-confirmation__copy"},this.context.t("readdToken")),r.default.createElement("div",{className:"hide-token-confirmation__buttons"},r.default.createElement(l.default,{type:"secondary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__cancel",onClick:()=>o()},this.context.t("cancel")),r.default.createElement(l.default,{type:"primary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__hide",onClick:()=>{this.context.trackEvent({event:u.MetaMetricsEventName.TokenRemoved,category:u.MetaMetricsEventCategory.Tokens,sensitiveProperties:{chain_id:e,token_contract_address:d,token_symbol:i}}),n(d),a.push(c.DEFAULT_ROUTE)}},this.context.t("hide"))))}}h(g,"contextTypes",{t:o.default.func,trackEvent:o.default.func}),h(g,"propTypes",{hideToken:o.default.func.isRequired,hideModal:o.default.func.isRequired,chainId:o.default.string.isRequired,token:o.default.shape({symbol:o.default.string,address:o.default.string,image:o.default.string}),history:o.default.object});n.default=(0,a.connect)((function(e){return{chainId:(0,d.getCurrentChainId)(e),token:e.appState.modal.modalState.props.token,history:e.appState.modal.modalState.props.history}}),(function(e){return{hideModal:()=>e(i.hideModal()),hideToken:t=>{e(i.ignoreTokens({tokensToIgnore:t})).then((()=>{e(i.hideModal())}))}}}))(g)}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/hide-token-confirmation-modal.js"}],[5380,{"./hide-token-confirmation-modal":5379},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./hide-token-confirmation-modal"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/index.js"}],[5381,{"../../../../helpers/constants/design-system":6123,"../../../../helpers/constants/zendesk-url":6136,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,"../../hold-to-reveal-button/hold-to-reveal-button":5336,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({isOpen:e,onClose:t,onLongPressed:n,holdToRevealType:c}){const u=(0,i.useI18nContext)(),d="SRP"===c?"holdToRevealSRPTitle":"holdToRevealPrivateKeyTitle",p="SRP"===c?"holdToRevealSRP":"holdToRevealPrivateKey",f="SRP"===c?"holdToRevealContent":"holdToRevealContentPrivateKey",m=`${f}1`,h=`${f}2`;u("holdToRevealContentPrivateKey1"),u("holdToRevealContentPrivateKey2"),u("holdToRevealContent1"),u("holdToRevealContent2");const g=()=>o.default.createElement(s.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,gap:4,marginTop:4,marginBottom:6},o.default.createElement(s.Text,{variant:r.TextVariant.bodyMd},u(m,[o.default.createElement(s.Text,{key:"hold-to-reveal-2",variant:r.TextVariant.bodyMdBold,as:"span"},u(h))])),o.default.createElement(s.Text,{variant:r.TextVariant.bodyMdBold},u("holdToRevealContent3",[o.default.createElement(s.Text,{key:"hold-to-reveal-4",variant:r.TextVariant.bodyMd,as:"span",display:r.Display.Inline},u("holdToRevealContent4")),o.default.createElement(s.Button,{key:"hold-to-reveal-5",variant:s.ButtonVariant.Link,size:s.ButtonSize.Inherit,href:a.default.NON_CUSTODIAL_WALLET,externalLink:!0},u("holdToRevealContent5"))])));return o.default.createElement(s.Modal,{isOpen:e,onClose:t},o.default.createElement(s.ModalOverlay,null),o.default.createElement(s.ModalContent,null,o.default.createElement(s.ModalHeader,{onClose:t},u(d)),o.default.createElement(s.Container,{paddingLeft:4,paddingRight:4},o.default.createElement(g,null),o.default.createElement(l.default,{buttonText:u(p),onLongPressed:n}))))};var o=c(e("react")),r=e("../../../../helpers/constants/design-system"),a=c(e("../../../../helpers/constants/zendesk-url")),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),l=c(e("../../hold-to-reveal-button/hold-to-reveal-button"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.tsx"}],[5382,{"./modal":5385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./modal"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/index.js"}],[5383,{"./keyring-snap-removal-result-modal":5384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./keyring-snap-removal-result-modal"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/keyring-snap-removal-modal/index.ts"}],[5384,{"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../../selectors":6820,"../../../component-library":5680,"../../../component-library/modal-content/deprecated":5690,"../../../component-library/modal-header/deprecated":5699,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("react"))&&o.__esModule?o:{default:o},a=e("react-redux"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../component-library/modal-content/deprecated"),c=e("../../../component-library/modal-header/deprecated"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../selectors");n.default=({isOpen:e,onClose:t})=>{const n=(0,u.useI18nContext)(),o=(0,a.useSelector)(d.getKeyringSnapRemovalResult);return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Modal,{isOpen:e,onClose:()=>t()},r.default.createElement(s.ModalOverlay,null),r.default.createElement(l.ModalContent,{modalDialogProps:{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4}},r.default.createElement(c.ModalHeader,{onClose:t},""),r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},r.default.createElement(s.Icon,{name:"success"===o.result?s.IconName.Confirmation:s.IconName.Danger,color:"success"===o.result?i.IconColor.successDefault:i.IconColor.errorDefault,size:s.IconSize.Xl,marginBottom:4}),r.default.createElement(s.Text,{variant:i.TextVariant.bodyMdBold,textAlign:i.TextAlign.Center},n("keyringSnapRemovalResult1",[o.snapName,"failed"===o.result?n("keyringSnapRemovalResultNotSuccessful"):""]))))))}}}},{package:"$root$",file:"ui/components/app/modals/keyring-snap-removal-modal/keyring-snap-removal-result-modal.tsx"}],[5385,{"../../../../app/scripts/lib/util":130,"../../../../shared/constants/app":5138,"../../../helpers/utils/is-mobile-view":6157,"../../../store/actions":6833,"./confirm-delete-network":5363,"./confirm-remove-account":5366,"./confirm-reset-account":5369,"./confirm-turn-off-profile-syncing":5371,"./convert-token-to-nft-modal/convert-token-to-nft-modal":5372,"./customize-nonce":5374,"./edit-approval-permission":5377,"./fade-modal":5378,"./hide-token-confirmation-modal":5380,"./new-account-modal":5386,"./qr-scanner":5391,"./reject-transactions":5395,"./transaction-already-confirmed":5398,"./transaction-confirmed":5400,"./turn-on-metamask-notifications/turn-on-metamask-notifications":5403,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=M(e("prop-types")),r=E(e("react")),a=e("react-redux"),i=e("../../../../app/scripts/lib/util"),s=e("../../../../shared/constants/app"),l=M(e("../../../helpers/utils/is-mobile-view")),c=E(e("../../../store/actions")),u=M(e("./hide-token-confirmation-modal")),d=M(e("./qr-scanner")),p=M(e("./confirm-remove-account")),f=M(e("./confirm-reset-account")),m=M(e("./transaction-confirmed")),h=M(e("./confirm-delete-network")),g=M(e("./convert-token-to-nft-modal/convert-token-to-nft-modal")),y=M(e("./customize-nonce")),v=M(e("./edit-approval-permission")),b=M(e("./fade-modal")),_=M(e("./new-account-modal")),k=M(e("./reject-transactions")),w=M(e("./transaction-already-confirmed")),x=M(e("./confirm-turn-off-profile-syncing")),T=M(e("./turn-on-metamask-notifications/turn-on-metamask-notifications"));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function M(e){return e&&e.__esModule?e:{default:e}}const O={transform:"translate3d(-50%, 0, 0px)",border:"1px solid var(--color-border-default)",borderRadius:"8px",backgroundColor:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"},S={...O,width:"344px",top:"15%"},j={...O,width:"309px",top:"12.5%"},P={NEW_ACCOUNT:{contents:r.default.createElement(_.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},HIDE_TOKEN_CONFIRMATION:{contents:r.default.createElement(u.default,null),testId:"hide-token-confirmation-modal",mobileModalStyle:{width:"95%",top:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"52vh":"36.5vh"},laptopModalStyle:{width:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"357px":"449px",top:"calc(33% + 45px)",paddingLeft:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null,paddingRight:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null}},CONFIRM_RESET_ACCOUNT:{contents:r.default.createElement(f.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},CONFIRM_REMOVE_ACCOUNT:{contents:r.default.createElement(p.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},CONVERT_TOKEN_TO_NFT:{contents:r.default.createElement(g.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_NETWORK:{contents:r.default.createElement(h.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},EDIT_APPROVAL_PERMISSION:{contents:r.default.createElement(v.default,null),mobileModalStyle:{width:"95vw",height:"100vh",top:"50px",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},TRANSACTION_CONFIRMED:{disableBackdropClick:!0,contents:r.default.createElement(m.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},TRANSACTION_ALREADY_CONFIRMED:{disableBackdropClick:!0,contents:r.default.createElement(w.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S}},QR_SCANNER:{contents:r.default.createElement(d.default,null),testId:"qr-scanner-modal",mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},REJECT_TRANSACTIONS:{contents:r.default.createElement(k.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},CUSTOMIZE_NONCE:{contents:r.default.createElement(y.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},CONFIRM_TURN_OFF_PROFILE_SYNCING:{contents:r.default.createElement(x.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},TURN_ON_METAMASK_NOTIFICATIONS:{contents:r.default.createElement(T.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},I={backgroundColor:"var(--color-overlay-default)"};class N extends r.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(e,t){e.active?this.show():this.props.active&&this.hide()}render(){const e=P[this.props.modalState.name||"DEFAULT"],{contents:t,disableBackdropClick:n=!1,testId:o}=e,a=e[(0,l.default)()?"mobileModalStyle":"laptopModalStyle"],i=e.contentStyle||{};return r.default.createElement(b.default,{keyboard:!1,onHide:()=>{e.onHide&&e.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(e.customOnHideOpts)},ref:e=>{this.modalRef=e},modalStyle:a,contentStyle:i,backdropStyle:I,closeOnClick:!n,testId:o},t)}}var D,A,R;D=N,A="propTypes",R={active:o.default.bool.isRequired,hideModal:o.default.func.isRequired,hideWarning:o.default.func.isRequired,modalState:o.default.object.isRequired},(A=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(A))in D?Object.defineProperty(D,A,{value:R,enumerable:!0,configurable:!0,writable:!0}):D[A]=R;n.default=(0,a.connect)((function(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}}),(function(e){return{hideModal:t=>{e(c.hideModal()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(c.hideWarning())}}}))(N)}}},{package:"$root$",file:"ui/components/app/modals/modal.js"}],[5386,{"./new-account-modal.container":5388},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./new-account-modal.container"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/index.js"}],[5387,{"../../../component-library":5680,"../../../ui/button/button.component":5957,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=s(e("prop-types")),a=s(e("../../../ui/button/button.component")),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.Component{constructor(...e){super(...e),c(this,"state",{alias:this.context.t("newAccountNumberName",[this.props.newAccountNumber])}),c(this,"onChange",(e=>{this.setState({alias:e.target.value})})),c(this,"onSubmit",(async()=>{await this.props.onSave(this.state.alias).then(this.props.hideModal)})),c(this,"onKeyPress",(e=>{"Enter"===e.key&&this.state.alias&&this.onSubmit()}))}render(){const{t:e}=this.context;return o.default.createElement("div",{className:"new-account-modal"},o.default.createElement("div",{className:"new-account-modal__content"},o.default.createElement("div",{className:"new-account-modal__content__header"},e("newAccount"),o.default.createElement(i.ButtonIcon,{className:"new-account-modal__content__header-close",ariaLabel:e("close"),onClick:this.props.hideModal,iconName:i.IconName.Close})),o.default.createElement("div",{className:"new-account-modal__input-label"},e("accountName")),o.default.createElement("input",{type:"text",className:"new-account-modal__input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:this.state.alias,autoFocus:!0})),o.default.createElement("div",{className:"new-account-modal__footer"},o.default.createElement(a.default,{type:"secondary",onClick:this.props.hideModal},e("cancel")),o.default.createElement(a.default,{type:"primary",onClick:this.onSubmit,disabled:!this.state.alias},e("save"))))}}n.default=u,c(u,"contextTypes",{t:r.default.func}),c(u,"propTypes",{hideModal:r.default.func.isRequired,newAccountNumber:r.default.number.isRequired,onSave:r.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.component.js"}],[5388,{"../../../../store/actions":6833,"./new-account-modal.component":5387,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=e("react-redux"),a=e("../../../../store/actions"),i=(o=e("./new-account-modal.component"))&&o.__esModule?o:{default:o};n.default=(0,r.connect)((function(e){return{...e.appState.modal.modalState.props||{}}}),(function(e){return{hideModal:()=>e((0,a.hideModal)()),createAccount:async t=>{const n=await e((0,a.addNewAccount)());return t&&e((0,a.setAccountLabel)(n,t)),await(0,a.forceUpdateMetamaskState)(e),n}}}),(function(e,t){const{onCreateNewAccount:n}=e,{createAccount:o}=t;return{...e,...t,onSave:e=>o(e).then((e=>{n(e)}))}}))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.container.js"}],[5389,{"./nickname-popovers.component":5390},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./nickname-popovers.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/index.js"}],[5390,{"../../../../helpers/utils/multichain/blockExplorer":6159,"../../../../hooks/useMultichainSelector":6207,"../../../../selectors":6820,"../../../../selectors/multichain":6825,"../../../../store/actions":6833,"../../../ui/nickname-popover":6033,"../../../ui/update-nickname-popover/update-nickname-popover":6081,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),a=f(e("prop-types")),i=e("../../../../helpers/utils/multichain/blockExplorer"),s=e("../../../../store/actions"),l=e("../../../../selectors"),c=f(e("../../../ui/nickname-popover")),u=f(e("../../../ui/update-nickname-popover/update-nickname-popover")),d=e("../../../../selectors/multichain"),p=e("../../../../hooks/useMultichainSelector");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h="SHOW_NICKNAME_POPOVER",g="ADD_NICKNAME_POPOVER",y=({address:e,onClose:t})=>{const n=(0,r.useDispatch)(),[a,f]=(0,o.useState)(h),m=(0,r.useSelector)(l.getAddressBook).find((t=>t.address===e)),y=null==m?void 0:m.name,v=(0,r.useSelector)((t=>(0,l.getInternalAccountByAddress)(t,e))),b=(0,p.useMultichainSelector)(d.getMultichainNetwork,v),_=(0,i.getMultichainAccountUrl)(e,b);return a===g?o.default.createElement(u.default,{address:e,nickname:y||null,memo:(null==m?void 0:m.memo)||null,onClose:()=>f(h),onAdd:(e,t,o)=>n((0,s.addToAddressBook)(e,t,o))}):o.default.createElement(c.default,{address:e,nickname:y||null,onClose:t,onAdd:()=>f(g),explorerLink:_})};y.propTypes={address:a.default.string,onClose:a.default.func};n.default=y}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/nickname-popovers.component.js"}],[5391,{"./qr-scanner.container":5393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./qr-scanner.container"))&&o.__esModule?o:{default:o};n.default=r.default}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/index.js"}],[5392,{"../../../../../app/scripts/lib/util":130,"../../../../../shared/constants/app":5138,"../../../../../shared/constants/time":5166,"../../../../helpers/utils/util":6171,"../../../../helpers/utils/webcam-utils":6172,"../../../../hooks/useI18nContext":6202,"../../../../hooks/usePrevious":6214,"../../../ui/page-container/page-container-footer/page-container-footer.component":6038,"../../../ui/spinner":6055,"./scan-util":5394,"@zxing/browser":3281,loglevel:4489,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=y(e("prop-types")),a=y(e("loglevel")),i=e("@zxing/browser"),s=e("../../../../hooks/usePrevious"),l=e("../../../../hooks/useI18nContext"),c=e("../../../../../app/scripts/lib/util"),u=e("../../../../helpers/utils/util"),d=y(e("../../../../helpers/utils/webcam-utils")),p=y(e("../../../ui/page-container/page-container-footer/page-container-footer.component")),f=y(e("../../../ui/spinner")),m=e("../../../../../shared/constants/app"),h=e("../../../../../shared/constants/time"),g=e("./scan-util");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const b={ACCESSING_CAMERA:"ACCESSING_CAMERA",NEED_TO_ALLOW_ACCESS:"NEED_TO_ALLOW_ACCESS",READY:"READY"},_=e=>{let t="unknown",n={};return e.split("ethereum:").length>1?(t="address",n={address:(0,g.parseScanContent)(e)}):"0x"===e.substring(0,2).toLowerCase()&&(t="address",n={address:e}),{type:t,values:n}};function k({hideModal:e,qrCodeDetected:t}){const n=(0,l.useI18nContext)(),[r,g]=(0,o.useState)(b.ACCESSING_CAMERA),y=(0,s.usePrevious)(r),[v,k]=(0,o.useState)(null),[w,x]=(0,o.useState)(!1),[T,C]=(0,o.useState)(null),[E,M]=(0,o.useState)(null),O=(0,o.useCallback)((async()=>{try{const{permissions:e}=await d.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*h.SECOND))),!w)return;g(b.READY)}else w&&M(setTimeout(this.checkPermissions,h.SECOND))}catch(e){w&&k({error:e})}}),[w]),S=(0,o.useCallback)((()=>{T&&(T.constructor.cleanVideoSource(),T.constructor.releaseAllStreams(),C(null))}),[T]),j=(0,o.useCallback)((()=>{T&&S(e),e()}),[T,e,S]),P=(0,o.useCallback)((async()=>{T||C(new i.BrowserQRCodeReader)}),[T]);(0,o.useEffect)((()=>{(async()=>{if(T)try{await O(),await T.constructor.listVideoInputDevices();const e=await T.decodeOnceFromVideoDevice(undefined,"video"),o=_(e.text);w&&("unknown"===o.type?k(new Error(n("unknownQrCode"))):(t(o),j()))}catch(e){if(w)return;"NotAllowedError"===e.name?(a.default.info(`Permission denied: '${e}'`),g(b.NEED_TO_ALLOW_ACCESS)):k(e)}})()}),[O,T,w,t,j,n]);const I=async()=>{try{const{environmentReady:e}=await d.default.checkStatus();if(!e&&(0,c.getEnvironmentType)()!==m.ENVIRONMENT_TYPE_FULLSCREEN){const e=(0,u.getURL)(window.location.href),t=null==e?void 0:e.hash,n=t?t.substring(1):null;global.platform.openExtensionInBrowser(n)}}catch(e){w&&k({error:e})}await P()};(0,o.useEffect)((()=>{x(!0),(async()=>{await I()})()}),[]),(0,o.useEffect)((()=>{(async()=>{y!==r&&(r===b.READY?await P():r===b.NEED_TO_ALLOW_ACCESS&&await O())})()}),[y,r,P,O]);const N=async()=>{clearTimeout(E),T&&S(),g(b.ACCESSING_CAMERA),k(null),await I()};return o.default.createElement("div",{className:"qr-scanner"},o.default.createElement("div",{className:"qr-scanner__close",onClick:j}),v?(()=>{let e,t;return"NO_WEBCAM_FOUND"===v.type?(e=n("noWebcamFoundTitle"),t=n("noWebcamFound")):v.message===n("unknownQrCode")?t=n("unknownQrCode"):(e=n("generalCameraErrorTitle"),t=n("generalCameraError")),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"qr-scanner__image"},o.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),e&&o.default.createElement("div",{className:"qr-scanner__title"},e),o.default.createElement("div",{className:"qr-scanner__error"},t),o.default.createElement(p.default,{onCancel:j,onSubmit:N,cancelText:n("cancel"),submitText:n("tryAgain")}))})():o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"qr-scanner__title"},`${n("scanQrCode")}`),o.default.createElement("div",{className:"qr-scanner__content"},o.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},o.default.createElement("video",{id:"video",style:{display:r===b.READY?"block":"none"}}),r!==b.READY&&o.default.createElement(f.default,null))),o.default.createElement("div",{className:"qr-scanner__status"},(e=>{let t;switch(e){case b.ACCESSING_CAMERA:t=n("accessingYourCamera");break;case b.READY:t=n("scanInstructions");break;case b.NEED_TO_ALLOW_ACCESS:t=n("youNeedToAllowCameraAccess");break;default:t=n("accessingYourCamera")}return t})(r))))}k.propTypes={hideModal:r.default.func.isRequired,qrCodeDetected:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.component.js"}],[5393,{"../../../../store/actions":6833,"./qr-scanner.component":5392,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=e("react-redux"),a=e("../../../../store/actions"),i=(o=e("./qr-scanner.component"))&&o.__esModule?o:{default:o};n.default=(0,r.connect)(null,(e=>({hideModal:()=>e((0,a.hideModal)()),qrCodeDetected:t=>e((0,a.qrCodeDetected)(t))})))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.container.js"}],[5394,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseScanContent=function(e){const t=e.match(/^[a-zA-Z]+:(0x[0-9a-fA-F]{40})(?:@.*)?/u);if(!t)return null;return t[1]}}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/scan-util.ts"}],[5395,{"./reject-transactions.container":5397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./reject-transactions.container"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/index.js"}],[5396,{"../../modal":5357,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=s(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=s(e("../../modal"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{constructor(...e){super(...e),l(this,"onSubmit",(async()=>{const{onSubmit:e,hideModal:t}=this.props;await e(),t()}))}render(){const{t:e}=this.context,{hideModal:t,unapprovedTxCount:n,isRequestType:o}=this.props;return r.default.createElement(a.default,{headerText:e(o?"rejectRequestsN":"rejectTxsN",[n]),onClose:t,onSubmit:this.onSubmit,onCancel:t,submitText:e("rejectAll"),cancelText:e("cancel")},r.default.createElement("div",null,r.default.createElement("div",{className:"reject-transactions__description"},e(o?"rejectRequestsDescription":"rejectTxsDescription",[n]))))}}n.default=c,l(c,"contextTypes",{t:o.default.func.isRequired}),l(c,"propTypes",{onSubmit:o.default.func.isRequired,hideModal:o.default.func.isRequired,unapprovedTxCount:o.default.number.isRequired,isRequestType:o.default.bool})}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.component.js"}],[5397,{"../../../../helpers/higher-order-components/with-modal-props":6144,"./reject-transactions.component":5396,"react-redux":4837,redux:4902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("react-redux"),r=e("redux"),a=s(e("../../../../helpers/higher-order-components/with-modal-props")),i=s(e("./reject-transactions.component"));function s(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.compose)(a.default,(0,o.connect)(((e,t)=>{const{unapprovedTxCount:n}=t;return{unapprovedTxCount:n}})))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.container.js"}],[5398,{"./transaction-already-confirmed":5399},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./transaction-already-confirmed"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/transaction-already-confirmed/index.ts"}],[5399,{"../../../../contexts/i18n":6087,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useModalProps":6205,"../../../../selectors":6820,"../../../component-library":5680,"@metamask/etherscan-link":1550,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{hideModal:e,props:{originalTransactionId:t}}=(0,s.useModalProps)(),n=(0,o.useContext)(u.I18nContext),d=(0,r.useDispatch)(),p=(0,r.useSelector)((e=>(0,i.getTransaction)(e,t))),f=(0,r.useSelector)(i.getRpcPrefsForCurrentProvider);return o.default.createElement(l.Modal,{isOpen:!0,onClose:e},o.default.createElement(l.ModalOverlay,null),o.default.createElement(l.ModalContent,null,o.default.createElement(l.ModalHeader,{onClose:e},n("yourTransactionConfirmed")),o.default.createElement(l.ModalBody,null,o.default.createElement(l.Text,null,n("yourTransactionJustConfirmed"))),o.default.createElement(l.ModalFooter,{onSubmit:e,onCancel:()=>{const t=(0,a.getBlockExplorerLink)(p,f);global.platform.openTab({url:t}),d(e())},submitButtonProps:{children:n("gotIt")},cancelButtonProps:{children:n("viewOnBlockExplorer")},containerProps:{flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.stretch}})))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),a=e("@metamask/etherscan-link"),i=e("../../../../selectors"),s=e("../../../../hooks/useModalProps"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../contexts/i18n");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/modals/transaction-already-confirmed/transaction-already-confirmed.tsx"}],[5400,{"./transaction-confirmed.container":5402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./transaction-confirmed.container"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/index.js"}],[5401,{"../../../../helpers/constants/design-system":6123,"../../../component-library":5680,"../../modal":5357,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=l(e("prop-types")),a=l(e("../../modal")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends o.PureComponent{constructor(...e){super(...e),u(this,"handleSubmit",(()=>{const{hideModal:e,onSubmit:t}=this.props;e(),t&&"function"==typeof t&&t()}))}render(){const{t:e}=this.context;return o.default.createElement(a.default,{onSubmit:this.handleSubmit,submitText:e("ok")},o.default.createElement("div",{className:"transaction-confirmed__content"},o.default.createElement(i.Icon,{name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Xl}),o.default.createElement(i.Text,{variant:s.TextVariant.headingMd,fontWeight:s.FontWeight.Medium,textAlign:s.TextAlign.Center},`${e("confirmed")}!`),o.default.createElement(i.Text,{textAlign:s.TextAlign.Center},e("initialTransactionConfirmed"))))}}n.default=d,u(d,"contextTypes",{t:r.default.func}),u(d,"propTypes",{onSubmit:r.default.func,hideModal:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.component.js"}],[5402,{"../../../../helpers/higher-order-components/with-modal-props":6144,"./transaction-confirmed.component":5401},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(e("../../../../helpers/higher-order-components/with-modal-props")),r=a(e("./transaction-confirmed.component"));function a(e){return e&&e.__esModule?e:{default:e}}n.default=(0,o.default)(r.default)}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.container.js"}],[5403,{"../../../../../shared/constants/metametrics":5150,"../../../../contexts/i18n":6087,"../../../../contexts/metamask-notifications/metamask-notifications":6089,"../../../../contexts/metametrics":6090,"../../../../helpers/constants/design-system":6123,"../../../../helpers/constants/routes":6129,"../../../../hooks/metamask-notifications/useNotifications":6179,"../../../../hooks/useModalProps":6205,"../../../../selectors/metamask-notifications/metamask-notifications":6822,"../../../../selectors/metamask-notifications/profile-syncing":6823,"../../../component-library":5680,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{hideModal:e}=(0,s.useModalProps)(),t=(0,a.useHistory)(),n=(0,o.useContext)(i.I18nContext),y=(0,o.useContext)(c.MetaMetricsContext),{listNotifications:v}=(0,l.useMetamaskNotificationsContext)(),b=(0,r.useSelector)(d.selectIsMetamaskNotificationsEnabled),_=(0,r.useSelector)(d.getIsUpdatingMetamaskNotifications),k=(0,r.useSelector)(p.selectIsProfileSyncingEnabled),[w,x]=(0,o.useState)(_),{createNotifications:T,error:C}=(0,f.useCreateNotifications)(),E=()=>{e(),x((e=>(e||y({category:u.MetaMetricsEventCategory.NotificationsActivationFlow,event:u.MetaMetricsEventName.NotificationsActivated,properties:{is_profile_syncing_enabled:k,action_type:"dismissed"}}),e)))};(0,o.useEffect)((()=>{b&&!C&&(t.push(m.NOTIFICATIONS_ROUTE),e(),v())}),[b,C]);const M=o.default.createElement(h.Text,{as:"a",href:"https://support.metamask.io/privacy-and-security/profile-privacy",target:"_blank",rel:"noopener noreferrer",key:"privacy-link",color:g.TextColor.infoDefault},n("turnOnMetamaskNotificationsMessagePrivacyLink")),O=o.default.createElement(h.Text,{as:"span",fontWeight:g.FontWeight.Bold,key:"strong-text"},n("turnOnMetamaskNotificationsMessagePrivacyBold"));return o.default.createElement(h.Modal,{isOpen:!0,onClose:()=>E()},o.default.createElement(h.ModalOverlay,null),o.default.createElement(h.ModalContent,null,o.default.createElement(h.ModalHeader,{onClose:()=>E()},n("turnOnMetamaskNotifications")),o.default.createElement(h.ModalBody,null,o.default.createElement(h.Box,{as:"img",src:"./images/turn-on-metamask-notifications.png",width:g.BlockSize.Full,borderRadius:g.BorderRadius.MD,marginBottom:4}),o.default.createElement(h.Text,{as:"p"},n("turnOnMetamaskNotificationsMessageFirst")),o.default.createElement(h.Text,{as:"p",paddingTop:4},n("turnOnMetamaskNotificationsMessageSecond",[M])),o.default.createElement(h.Text,{as:"p",paddingTop:4},n("turnOnMetamaskNotificationsMessageThird",[O]))),o.default.createElement(h.ModalFooter,{paddingTop:4,onSubmit:()=>(async()=>{x(!0),y({category:u.MetaMetricsEventCategory.NotificationsActivationFlow,event:u.MetaMetricsEventName.NotificationsActivated,properties:{is_profile_syncing_enabled:!0,action_type:"activated"}}),await T()})(),containerProps:{flexDirection:g.FlexDirection.Column,alignItems:g.AlignItems.stretch},submitButtonProps:{children:n("turnOnMetamaskNotificationsButton"),loading:w,disabled:w,"data-testid":"turn-on-notifications-button"}}),C&&o.default.createElement(h.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(h.Text,{as:"p",color:g.TextColor.errorDefault,paddingTop:4},n("turnOnMetamaskNotificationsError")))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),a=e("react-router-dom"),i=e("../../../../contexts/i18n"),s=e("../../../../hooks/useModalProps"),l=e("../../../../contexts/metamask-notifications/metamask-notifications"),c=e("../../../../contexts/metametrics"),u=e("../../../../../shared/constants/metametrics"),d=e("../../../../selectors/metamask-notifications/metamask-notifications"),p=e("../../../../selectors/metamask-notifications/profile-syncing"),f=e("../../../../hooks/metamask-notifications/useNotifications"),m=e("../../../../helpers/constants/routes"),h=e("../../../component-library"),g=e("../../../../helpers/constants/design-system");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/modals/turn-on-metamask-notifications/turn-on-metamask-notifications.tsx"}],[5404,{"../../../../app/scripts/lib/util":130,"../../../../shared/constants/app":5138,"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../../store/actions":6833,"../../component-library":5680,"./network-list-item/network-list-item":5405,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=f(e("react")),r=e("react-redux"),a=e("../../component-library"),i=e("../../../hooks/useI18nContext"),s=e("../../../helpers/constants/design-system"),l=e("../../../store/actions"),c=e("../../../../app/scripts/lib/util"),u=e("../../../selectors"),d=e("../../../../shared/constants/app"),p=f(e("./network-list-item/network-list-item"));function f(e){return e&&e.__esModule?e:{default:e}}n.default=function(){const e=(0,i.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,c.getEnvironmentType)()===d.ENVIRONMENT_TYPE_POPUP,f=(0,r.useSelector)(u.getNetworkConfigurationsByChainId);return o.default.createElement(a.Modal,{isOpen:!0,onClose:()=>t((0,l.setShowMultiRpcModal)(!1)),isClosedOnOutsideClick:!1,isClosedOnEscapeKey:!1,"data-testid":"multi-rpc-edit-modal",autoFocus:!1},o.default.createElement(a.ModalOverlay,null),o.default.createElement(a.ModalContent,null,o.default.createElement(a.ModalBody,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},o.default.createElement(a.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,borderRadius:s.BorderRadius.SM},o.default.createElement("img",{src:"/images/networks1.png"})),o.default.createElement(a.Text,{variant:s.TextVariant.bodyMdBold,textAlign:s.TextAlign.Center},e("updatedRpcForNetworks")),o.default.createElement(a.Text,{variant:s.TextVariant.bodyMd,textAlign:s.TextAlign.Center,paddingTop:2},e("supportMultiRpcInformation")),o.default.createElement(a.Box,{paddingBottom:6},o.default.createElement(a.Box,{marginTop:n?0:4,marginBottom:1},Object.values(f).map((e=>e.rpcEndpoints.length>1?o.default.createElement(p.default,{networkConfiguration:e,key:e.chainId}):null))))),o.default.createElement(a.ModalFooter,{onSubmit:()=>{t((0,l.setShowMultiRpcModal)(!1))},submitButtonProps:{children:e("accept"),block:!0}})))}}}},{package:"$root$",file:"ui/components/app/multi-rpc-edit-modal/multi-rpc-edit-modal.tsx"}],[5405,{"../../../../../shared/constants/network":5154,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../../store/actions":6833,"../../../component-library":5680,"@metamask/network-controller":1743,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),a=e("@metamask/network-controller"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),c=e("../../../../store/actions"),u=e("../../../../../shared/constants/network");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.default=({networkConfiguration:e})=>{const t=e.rpcEndpoints[e.defaultRpcEndpointIndex],n=(0,l.useI18nContext)(),[d,p]=(0,o.useState)(!1),f=(0,r.useDispatch)(),[m,h]=(0,o.useState)();return o.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,paddingBottom:4,paddingTop:4},o.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,width:s.BlockSize.EightTwelfths},o.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Md,src:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name}),o.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,width:s.BlockSize.ElevenTwelfths},o.default.createElement(i.Box,{marginLeft:4},o.default.createElement(i.Text,{color:s.TextColor.textDefault,backgroundColor:s.BackgroundColor.transparent,ellipsis:!0},e.name)),o.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,marginLeft:4},o.default.createElement(i.Text,{padding:0,backgroundColor:s.BackgroundColor.transparent,as:"button",variant:s.TextVariant.bodySmMedium,color:s.TextColor.textAlternative,ref:e=>{h(e)},style:{width:220},textAlign:s.TextAlign.Left,onMouseLeave:()=>{p(!1)},onMouseOver:()=>{p(!0)},ellipsis:!0},t.name??new URL(t.url).host),o.default.createElement(i.Popover,{referenceElement:m,position:i.PopoverPosition.Bottom,isOpen:d,hasArrow:!0,backgroundColor:s.BackgroundColor.backgroundAlternative,paddingTop:2,paddingBottom:2},o.default.createElement(i.Text,{variant:s.TextVariant.bodyXsMedium,ellipsis:!0},t.type===a.RpcEndpointType.Infura?t.url.replace("/v3/{infuraProjectId}",""):t.url))))),o.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,marginLeft:1},o.default.createElement(i.Button,{type:"button",variant:i.ButtonVariant.Link,onClick:()=>{f((0,c.toggleNetworkMenu)({isAddingNewNetwork:!1,isMultiRpcOnboarding:!0})),f((0,c.setEditedNetwork)({chainId:e.chainId,nickname:e.name}))}},n("edit"))))}}}},{package:"$root$",file:"ui/components/app/multi-rpc-edit-modal/network-list-item/network-list-item.tsx"}],[5406,{"./multiple-notifications.component":5407},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./multiple-notifications.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/multiple-notifications/index.js"}],[5407,{classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=i(e("classnames")),a=i(e("prop-types"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.PureComponent{constructor(...e){super(...e),l(this,"state",{showAll:!1})}render(){const{showAll:e}=this.state,{children:t,classNames:n}=this.props,a=t.filter(Boolean);return 0===a.length?null:o.default.createElement("div",{className:(0,r.default)(...n,"home-notification-wrapper--multichain",{"home-notification-wrapper--show-all":e,"home-notification-wrapper--show-first":!e})},a,o.default.createElement("div",{className:"home-notification-wrapper__i-container",onClick:()=>this.setState({showAll:!e})},a.length>1?o.default.createElement("i",{className:(0,r.default)("fa fa-sm fa-sort-amount",{flipped:!e})}):null))}}n.default=c,l(c,"defaultProps",{children:[],classNames:[]}),l(c,"propTypes",{children:a.default.array,classNames:a.default.array})}}},{package:"$root$",file:"ui/components/app/multiple-notifications/multiple-notifications.component.js"}],[5408,{"./name":5411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./name"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/name/index.ts"}],[5409,{"../../../../../shared/constants/metametrics":5150,"../../../../contexts/metametrics":6090,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePetnamesMetrics=function({initialSources:e,name:t,proposedNameOptions:n,savedName:i,savedSourceId:s,selectedSourceId:l,type:c}){const u=(0,o.useContext)(r.MetaMetricsContext),d=(0,o.useCallback)(((e,t={})=>{const o=[...new Set(n.map((e=>e.sourceId)))],r={petname_category:c,suggested_names_sources:o,...t};u({event:e,category:a.MetaMetricsEventCategory.Petnames,properties:r})}),[u,c,n]),p=(0,o.useCallback)((()=>{const e=l??null,n=(null==i?void 0:i.length)&&!(null!=t&&t.length),o=(null==i?void 0:i.length)&&(null==t?void 0:t.length)&&t!==i,r=!(null!=i&&i.length)&&(null==t?void 0:t.length);let c=null,u={};n&&(c=a.MetaMetricsEventName.PetnameDeleted,u={petname_previous_source:s}),o&&(c=a.MetaMetricsEventName.PetnameUpdated,u={petname_previous_source:s,petname_source:e}),r&&(c=a.MetaMetricsEventName.PetnameCreated,u={petname_source:e}),c&&d(c,u)}),[d,t,l,i,s]);return{trackPetnamesOpenEvent:(0,o.useCallback)((()=>{d(a.MetaMetricsEventName.PetnameModalOpened,{has_petname:Boolean(null==i?void 0:i.length),suggested_names_sources:e})}),[d,i,e]),trackPetnamesSaveEvent:p}};var o=e("react"),r=e("../../../../contexts/metametrics"),a=e("../../../../../shared/constants/metametrics")}}},{package:"$root$",file:"ui/components/app/name/name-details/metrics.ts"}],[5410,{"../../../../helpers/constants/design-system":6123,"../../../../hooks/useCopyToClipboard":6191,"../../../../hooks/useDisplayName":6195,"../../../../hooks/useI18nContext":6202,"../../../../hooks/useName":6208,"../../../../selectors":6820,"../../../../store/actions":6833,"../../../component-library":5680,"../../../ui/form-combo-field/form-combo-field":5988,"../name":5411,"./metrics":5409,"@metamask/name-controller":1708,"ethereumjs-util":3898,lodash:4483,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,type:t,value:n}){const b=(0,a.useSelector)(p.getCurrentChainId),{name:_,sourceId:w}=(0,h.useName)(n,t),{name:T,hasPetname:C}=(0,g.useDisplayName)(n,t),E=(0,a.useSelector)(p.getNameSources,i.isEqual),[M,O]=(0,o.useState)(""),[S,j]=(0,o.useState)(!1),[P,I]=(0,o.useState)(),[N,D]=(0,o.useState)(),A=(0,a.useDispatch)(),R=(0,y.useI18nContext)(),B=!C&&Boolean(T),$=function(e,t){if(!e.length)return e;if(t===r.NameType.ETHEREUM_ADDRESS)return(0,s.toChecksumAddress)(e);return e}(n,t),{proposedNames:W,initialSources:F}=function(e,t,n){const r=(0,a.useDispatch)(),{proposedNames:i}=(0,h.useName)(e,t),s=(0,o.useRef)(),[l,c]=(0,o.useState)();return(0,o.useEffect)((()=>{const o=()=>{s.current&&clearInterval(s.current)},a=async()=>{const o=await r((0,f.updateProposedNames)({value:e,type:t,onlyUpdateAfterDelay:!0,variation:n}));l||c(function(e,t){const n=Object.keys(e).filter((t=>{var n;return null===(n=e[t].proposedNames)||void 0===n?void 0:n.length})),o=Object.keys(t).filter((n=>{var o,r;return!(null!==(o=e[n])&&void 0!==o&&o.proposedNames)&&(null===(r=t[n].proposedNames)||void 0===r?void 0:r.length)}));return[...n,...o].sort()}((null==o?void 0:o.results)??{},i))};return o(),a(),s.current=setInterval(a,k),o}),[e,t,n,r,l,c]),{proposedNames:i,initialSources:l}}(n,t,b),[L,q]=(0,m.useCopyToClipboard)();(0,o.useEffect)((()=>{O(_??""),I(w??undefined),D(w?_??undefined:undefined)}),[_,w,O,I]);const U=(0,o.useMemo)((()=>function(e,t,n){const o=Object.keys(e),r=o.filter((t=>{var n;return null===(n=e[t])||void 0===n||null===(n=n.proposedNames)||void 0===n?void 0:n.length})).map((o=>{var r;return((null===(r=e[o])||void 0===r?void 0:r.proposedNames)??[]).map((e=>({value:e,primaryLabel:t("nameModalMaybeProposedName",[e]),secondaryLabel:t("nameProviderProposedBy",[x(o,t,n)]),sourceId:o})))})).flat();return r.sort(((e,t)=>e.secondaryLabel.toLowerCase().localeCompare(t.secondaryLabel.toLowerCase())))}(W,R,E)),[W,E]),{trackPetnamesOpenEvent:z,trackPetnamesSaveEvent:V}=(0,v.usePetnamesMetrics)({initialSources:F,name:M,proposedNameOptions:U,savedName:_,savedSourceId:w,selectedSourceId:P,type:t});(0,o.useEffect)((()=>{F&&!S&&(z(),j(!0))}),[F,S,z]);const H=(0,o.useCallback)((async()=>{V(),await A((0,f.setName)({value:n,type:t,name:null!=M&&M.length?M:null,sourceId:P,variation:b})),e()}),[M,P,e,V,b]),K=(0,o.useCallback)((()=>{e()}),[e]),G=(0,o.useCallback)((e=>{O(e),e!==N&&(I(undefined),D(undefined))}),[O,P,I,D]),J=(0,o.useCallback)((e=>{I(e.sourceId),D(e.value)}),[I,D]),Q=(0,o.useCallback)((()=>{q($)}),[q,$]),[Y,X]=C?[R("nameModalTitleSaved"),R("nameInstructionsSaved")]:B?[R("nameModalTitleRecognized"),R("nameInstructionsRecognized")]:[R("nameModalTitleNew"),R("nameInstructionsNew")];return o.default.createElement(l.Box,null,o.default.createElement(l.Modal,{isOpen:!0,onClose:K},o.default.createElement(l.ModalOverlay,null),o.default.createElement(l.ModalContent,null,o.default.createElement(l.ModalHeader,{onClose:K},Y),o.default.createElement(l.ModalBody,{className:"name-details__modal-body"},o.default.createElement("div",{style:{textAlign:"center",marginBottom:16,marginTop:8}},o.default.createElement(u.default,{value:n,type:r.NameType.ETHEREUM_ADDRESS,disableEdit:!0,internal:!0})),o.default.createElement(l.Text,{marginBottom:4,justifyContent:c.JustifyContent.spaceBetween},X),o.default.createElement(l.FormTextField,{id:"address",className:"name-details__address",label:R("nameAddressLabel"),value:$,marginBottom:4,disabled:!0,endAccessory:o.default.createElement(l.ButtonIcon,{display:c.Display.Flex,iconName:L?l.IconName.CopySuccess:l.IconName.Copy,size:l.ButtonIconSize.Sm,onClick:Q,color:c.IconColor.iconMuted,ariaLabel:R("copyAddress")})}),o.default.createElement(l.Label,{flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.flexStart,marginBottom:2,className:"name-details__display-name"},R("nameLabel"),o.default.createElement(d.default,{hideDropdownIfNoOptions:!0,value:M,options:U,placeholder:R("nameSetPlaceholder"),onChange:G,onOptionClick:J}))),o.default.createElement(l.ModalFooter,null,o.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,startIconName:l.IconName.Save,width:c.BlockSize.Full,onClick:H,size:l.ButtonSize.Lg},R("save"))))))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("@metamask/name-controller"),a=e("react-redux"),i=e("lodash"),s=e("ethereumjs-util"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=b(e("../name")),d=b(e("../../../ui/form-combo-field/form-combo-field")),p=e("../../../../selectors"),f=e("../../../../store/actions"),m=e("../../../../hooks/useCopyToClipboard"),h=e("../../../../hooks/useName"),g=e("../../../../hooks/useDisplayName"),y=e("../../../../hooks/useI18nContext"),v=e("./metrics");function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const k=2e3;const w=["ens","etherscan","lens","token"];function x(e,t,n){var o;if(w.includes(e)){return t(`nameProvider_${e}`)}return(null===(o=n[e])||void 0===o?void 0:o.label)??e}}}},{package:"$root$",file:"ui/components/app/name/name-details/name-details.tsx"}],[5411,{"../../../../shared/constants/metametrics":5150,"../../../contexts/metametrics":6090,"../../../helpers/constants/design-system":6123,"../../../helpers/utils/util":6171,"../../../hooks/useDisplayName":6195,"../../component-library":5680,"../../ui/identicon":6008,"./name-details/name-details":5410,"@metamask/name-controller":1708,classnames:3684,"ethereumjs-util":3898,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("@metamask/name-controller"),a=h(e("classnames")),i=e("ethereumjs-util"),s=e("../../component-library"),l=e("../../../helpers/utils/util"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/constants/design-system"),p=e("../../../hooks/useDisplayName"),f=h(e("../../ui/identicon")),m=h(e("./name-details/name-details"));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const y=(0,o.memo)((({value:e,type:t,disableEdit:n,internal:h,preferContractSymbol:g=!1})=>{const[y,v]=(0,o.useState)(!1),b=(0,o.useContext)(c.MetaMetricsContext),{name:_,hasPetname:k,image:w}=(0,p.useDisplayName)(e,t,g);(0,o.useEffect)((()=>{h||b({event:u.MetaMetricsEventName.PetnameDisplayed,category:u.MetaMetricsEventCategory.Petnames,properties:{petname_category:t,has_petname:Boolean(null==_?void 0:_.length)}})}),[]);const x=(0,o.useCallback)((()=>{v(!0)}),[v]),T=(0,o.useCallback)((()=>{v(!1)}),[v]),C=function(e,t){return e.length&&t===r.NameType.ETHEREUM_ADDRESS?(0,l.shortenAddress)((0,i.toChecksumAddress)(e)):e}(e,t),E=Boolean(_);return o.default.createElement(s.Box,{display:d.Display.Flex},!n&&y&&o.default.createElement(m.default,{value:e,type:t,onClose:T}),o.default.createElement("div",{className:(0,a.default)({name:!0,name__saved:k,name__recognized_unsaved:!k&&E,name__missing:!E}),onClick:x},E?o.default.createElement(f.default,{address:e,diameter:16,image:w}):o.default.createElement(s.Icon,{name:s.IconName.Question,className:"name__icon",size:s.IconSize.Md}),E?o.default.createElement(s.Text,{className:"name__name",variant:d.TextVariant.bodyMd},_):o.default.createElement(s.Text,{className:"name__value",variant:d.TextVariant.bodyMd},C)))}));n.default=y}}},{package:"$root$",file:"ui/components/app/name/name.tsx"}],[5412,{"./network-account-balance-header":5413},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./network-account-balance-header"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/index.js"}],[5413,{"../../../../shared/constants/network":5154,"../../../contexts/i18n":6087,"../../../helpers/constants/design-system":6123,"../../component-library":5680,"../../ui/box/box":5953,"../../ui/icon-with-fallback":5996,"../../ui/identicon":6008,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=p(e("prop-types")),a=p(e("../../ui/icon-with-fallback")),i=p(e("../../ui/identicon")),s=e("../../../helpers/constants/design-system"),l=p(e("../../ui/box/box")),c=e("../../../contexts/i18n"),u=e("../../../../shared/constants/network"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({networkName:e,accountName:t,accountBalance:n,tokenName:r,accountAddress:p,chainId:f}){const m=(0,o.useContext)(c.I18nContext),h=u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[f],g=h?"network-account-balance-header__network-account__ident-icon-ethereum":"network-account-balance-header__network-account__ident-icon-ethereum--gray";return o.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,padding:4,className:"network-account-balance-header",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},o.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,gap:2},o.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center},o.default.createElement(i.default,{address:p,diameter:32}),o.default.createElement(a.default,{name:e,size:16,icon:h,wrapperClassName:g})),o.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexStart,flexDirection:s.FlexDirection.Column},o.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,"data-testid":"signature-request-network-display"},e),o.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold},t))),o.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexEnd,flexDirection:s.FlexDirection.Column},o.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},m("balance")),o.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold,align:s.TextAlign.End},n," ",r)))}m.propTypes={networkName:r.default.string,accountName:r.default.string,accountBalance:r.default.string,tokenName:r.default.string,accountAddress:r.default.string,chainId:r.default.string}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/network-account-balance-header.js"}],[5414,{"./network-display":5415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./network-display"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/network-display/index.js"}],[5415,{"../../../helpers/constants/design-system":6123,"../../../selectors":6820,"../../component-library":5680,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,a.useSelector)(s.getCurrentNetwork);return r.default.createElement(l.PickerNetwork,{className:"network-display",label:null==t?void 0:t.nickname,labelProps:{"data-testid":"network-display"},src:null==t||null===(e=t.rpcPrefs)||void 0===e?void 0:e.imageUrl,iconProps:{display:"none"},avatarNetworkProps:{size:l.AvatarNetworkSize.Xs},as:"div",backgroundColor:i.BackgroundColor.transparent,borderWidth:0,borderColor:i.BorderColor.borderMuted})};var o,r=(o=e("react"))&&o.__esModule?o:{default:o},a=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../selectors"),l=e("../../component-library")}}},{package:"$root$",file:"ui/components/app/network-display/network-display.js"}],[5416,{"./permission-cell":5419},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./permission-cell"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/permission-cell/index.js"}],[5417,{"../../../../shared/constants/snaps/permissions":5163,"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../store/actions":6833,"../../component-library":5680,"../../ui/box":5954,"../../ui/menu":6025,"../../ui/popover/popover.component":6043,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellOptions=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=m(e("prop-types")),a=e("react-redux"),i=m(e("../../ui/box")),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),c=e("../../ui/menu"),u=e("../../../helpers/constants/design-system"),d=m(e("../../ui/popover/popover.component")),p=e("../../../../shared/constants/snaps/permissions"),f=e("../../../store/actions");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({snapId:e,permissionName:t,description:n})=>{const r=(0,s.useI18nContext)(),m=(0,a.useDispatch)(),h=(0,o.useRef)(!1),[g,y]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),_=p.DynamicSnapPermissions.includes(t);return o.default.createElement(i.default,{ref:h},o.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,ariaLabel:r("options"),onClick:()=>{y(!0)},"data-testid":t}),g&&o.default.createElement(c.Menu,{anchorElement:h.current,onHide:()=>{y(!1)}},o.default.createElement(c.MenuItem,{onClick:()=>{y(!1),b(!0)}},o.default.createElement(l.Text,{variant:u.TextVariant.bodySm,style:{whiteSpace:"nowrap"}},r("details"))),_&&o.default.createElement(c.MenuItem,{onClick:()=>{y(!1),m((0,f.revokeDynamicSnapPermissions)(e,[t]))}},o.default.createElement(l.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.errorDefault,style:{whiteSpace:"nowrap"}},r("revokePermission")))),v&&o.default.createElement(d.default,{title:r("details"),onClose:()=>{y(!1),b(!1)}},o.default.createElement(i.default,{marginLeft:4,marginRight:4,marginBottom:4},o.default.createElement(l.Text,null,n))))};n.PermissionCellOptions=g,g.propTypes={snapId:r.default.string.isRequired,permissionName:r.default.string.isRequired,description:r.default.oneOfType([r.default.string,r.default.object])}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-options.js"}],[5418,{"../../../../shared/constants/network":5154,"../../../helpers/constants/design-system":6123,"../../../helpers/utils/util":6171,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../multichain":5837,"../../multichain/avatar-group/avatar-group.types":5795,"../../ui/tooltip":6073,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellStatus=void 0;var o=f(e("react")),r=f(e("prop-types")),a=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=f(e("../../ui/tooltip")),l=e("../../multichain"),c=e("../../multichain/avatar-group/avatar-group.types"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/util"),p=e("../../../../shared/constants/network");function f(e){return e&&e.__esModule?e:{default:e}}const m=({revoked:e,approved:t,dateApproved:n,accounts:r,networks:f})=>{const m=(0,u.useI18nContext)(),h=()=>o.default.createElement(o.default.Fragment,null,f.length>0?o.default.createElement(a.Box,{as:"span",className:"permission-cell__status__accounts-group-box",display:i.Display.InlineFlex},o.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},null==f?void 0:f.map(((e,t)=>o.default.createElement(a.Box,{key:`${e.name}_${t}`,display:i.Display.Flex,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,marginTop:2},o.default.createElement(a.AvatarNetwork,{size:a.AvatarNetworkSize.Xs,src:p.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name}),o.default.createElement(a.Text,{variant:i.TextVariant.bodyMdMedium,marginLeft:2},e.name)))))):o.default.createElement(a.Box,{as:"span",className:"permission-cell__status__accounts-group-box",display:i.Display.InlineFlex},o.default.createElement(s.default,{position:"bottom",html:o.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},o.default.createElement(a.Text,{variant:i.TextVariant.headingSm,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},m("accounts")),o.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},r.map(((e,t)=>o.default.createElement(a.Box,{key:`${e.avatarValue}_${t}`,display:i.Display.Flex,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,marginTop:2},o.default.createElement(a.AvatarAccount,{address:e.avatarValue,size:a.AvatarAccountSize.Xs,borderColor:i.BorderColor.backgroundDefault}),o.default.createElement(a.Text,{variant:i.TextVariant.bodyMdMedium,marginLeft:2},e.avatarName))))))},o.default.createElement(l.AvatarGroup,{limit:3,members:r,avatarType:c.AvatarType.ACCOUNT,size:a.AvatarTokenSize.Xs,width:i.BlockSize.Min,borderColor:i.BorderColor.backgroundDefault,marginLeft:4,paddingLeft:4}))));return o.default.createElement(a.Text,{as:"div",className:"permission-cell__status",variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative,display:i.Display.Flex},e?r&&r.length?m("permissionRevokedForAccounts",[h()]):m("permissionRevoked"):n?r&&r.length?m("approvedOnForAccounts",[(0,d.formatDate)(n,"yyyy-MM-dd"),h()]):m("approvedOn",[(0,d.formatDate)(n,"yyyy-MM-dd")]):t?m("approved"):r&&r.length?m("permissionRequestedForAccounts",[h()]):m("permissionRequested"))};n.PermissionCellStatus=m,m.propTypes={revoked:r.default.bool,approved:r.default.bool,dateApproved:r.default.number,accounts:r.default.array,networks:r.default.array}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-status.js"}],[5419,{"../../../helpers/constants/design-system":6123,"../../../selectors":6820,"../../component-library":5680,"../../ui/tooltip":6073,"./permission-cell-options":5417,"./permission-cell-status":5418,classnames:3684,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=f(e("react")),r=f(e("prop-types")),a=f(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),c=f(e("../../ui/tooltip")),u=e("../../../selectors"),d=e("./permission-cell-options"),p=e("./permission-cell-status");function f(e){return e&&e.__esModule?e:{default:e}}const m=({snapId:e,permissionName:t,title:n,description:r,weight:f,avatarIcon:m,dateApproved:h,revoked:g,approved:y,showOptions:v,hideStatus:b,accounts:_,permissionValue:k})=>{var w;const x=l.IconName.Info;let T=s.IconColor.iconMuted,C=s.IconColor.primaryDefault,E=s.Color.primaryMuted;!g&&f<=2&&(C=s.IconColor.warningDefault,E=s.Color.warningMuted,T=s.IconColor.warningDefault),(h||y)&&(C=s.IconColor.iconMuted,E=s.Color.backgroundAlternative),g&&(C=s.IconColor.iconMuted,E=s.Color.backgroundAlternative);let M=m;"string"!=typeof m&&null!=m&&null!==(w=m.props)&&void 0!==w&&w.iconName&&(M=m.props.iconName);const O=(0,i.useSelector)((e=>(0,u.getRequestingNetworkInfo)(e,k)));return o.default.createElement(l.Box,{className:"permission-cell",display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart,paddingTop:2,paddingBottom:2},o.default.createElement(l.Box,{display:s.Display.Flex},"string"==typeof M?o.default.createElement(l.AvatarIcon,{iconName:M,size:l.AvatarIconSize.Md,iconProps:{size:l.IconSize.Sm},color:C,backgroundColor:E}):M),o.default.createElement(l.Box,{display:s.Display.Flex,flexWrap:s.FlexWrap.Wrap,flexDirection:s.FlexDirection.Column,width:s.BlockSize.Full,marginLeft:4,marginRight:4},o.default.createElement(l.Text,{size:s.Size.MD,variant:s.TextVariant.bodyMd,className:(0,a.default)("permission-cell__title",{"permission-cell__title-revoked":g})},n),!b&&o.default.createElement(p.PermissionCellStatus,{revoked:g,approved:y,dateApproved:h,accounts:_,networks:O||null})),o.default.createElement(l.Box,{display:s.Display.Flex},v&&e?o.default.createElement(d.PermissionCellOptions,{snapId:e,permissionName:t,description:r}):r&&o.default.createElement(c.default,{html:o.default.createElement(l.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},r),position:"bottom"},o.default.createElement(l.Icon,{color:T,name:x,size:l.IconSize.Sm}))))};m.propTypes={snapId:r.default.string,permissionName:r.default.oneOfType([r.default.string,r.default.element]).isRequired,title:r.default.oneOfType([r.default.string.isRequired,r.default.object.isRequired]),description:r.default.oneOfType([r.default.string,r.default.object]),weight:r.default.number,avatarIcon:r.default.any.isRequired,dateApproved:r.default.number,revoked:r.default.bool,approved:r.default.bool,showOptions:r.default.bool,hideStatus:r.default.bool,accounts:r.default.array,permissionValue:r.default.array};n.default=m}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell.js"}],[5420,{"./permission-connect-header":5421},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./permission-connect-header"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/permission-connect-header/index.js"}],[5421,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/util":6171,"../../component-library":5680,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=l(e("react")),r=l(e("prop-types")),a=e("../../../helpers/constants/design-system"),i=e("../../component-library"),s=e("../../../helpers/utils/util");function l(e){return e&&e.__esModule?e:{default:e}}const c=({origin:e,iconUrl:t})=>{const n=(e=>{try{const t=new URL(e);return t.hostname.split(".").slice(-2).join(".")}catch(e){return"Unknown Origin"}})(e);return o.default.createElement(i.Box,{backgroundColor:a.BackgroundColor.backgroundDefault,width:a.BlockSize.Full,alignItems:a.AlignItems.center,display:a.Display.Flex,padding:4,style:{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}},o.default.createElement(i.Box,null,t?o.default.createElement(i.AvatarFavicon,{backgroundColor:a.BackgroundColor.backgroundAlternative,size:i.IconSize.Lg,src:t,name:n}):o.default.createElement(i.AvatarBase,{size:i.IconSize.Lg,display:a.Display.Flex,alignItems:a.AlignItems.center,justifyContent:a.JustifyContent.center,color:a.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:a.BackgroundColor.backgroundAlternative},(0,s.getAvatarFallbackLetter)(n))),o.default.createElement(i.Box,{marginLeft:4,marginRight:4,display:a.Display.Flex,flexDirection:a.FlexDirection.Column,style:{overflow:"hidden"}},o.default.createElement(i.Text,{ellipsis:!0,fontWeight:a.FontWeight.Medium},n),o.default.createElement(i.Text,{ellipsis:!0,variant:a.TextVariant.bodySm,color:a.TextColor.textAlternative},e)))};c.propTypes={origin:r.default.string,iconUrl:r.default.string};n.default=c}}},{package:"$root$",file:"ui/components/app/permission-connect-header/permission-connect-header.js"}],[5422,{"./permission-page-container-content":5423,"./permission-page-container.container":5426},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionPageContainerContent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var o=a(e("./permission-page-container.container")),r=a(e("./permission-page-container-content"));function a(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/permission-page-container/index.js"}],[5423,{"./permission-page-container-content.component":5424},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./permission-page-container-content.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/index.js"}],[5424,{"../../../../helpers/constants/design-system":6123,"../../../../helpers/utils/util":6171,"../../../component-library":5680,"../../permissions-connect-permission-list":5431,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=u(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=u(e("../../permissions-connect-permission-list")),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../../helpers/utils/util");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.PureComponent{render(){const{t:e}=this.context,{selectedPermissions:t,selectedAccounts:n,subjectMetadata:o}=this.props,c=n.reduce(((e,t)=>(e.push({avatarValue:t.address,avatarName:t.label}),e)),[]);return r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,height:i.BlockSize.Full,paddingLeft:4,paddingRight:4,backgroundColor:i.BackgroundColor.backgroundAlternative},r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,paddingTop:4,paddingBottom:4},r.default.createElement(s.Text,{variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center},e("reviewPermissions")),r.default.createElement(s.Text,{variant:i.TextVariant.bodyMd,textAlign:i.TextAlign.Center},e("nativeNetworkPermissionRequestDescription",[r.default.createElement(s.Text,{as:"span",key:`description_key_${o.origin}`,fontWeight:i.FontWeight.Medium},(0,l.getURLHost)(o.origin))]))),r.default.createElement(s.Box,{display:i.Display.Flex,backgroundColor:i.BackgroundColor.backgroundDefault,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,borderRadius:i.BorderRadius.XL},r.default.createElement(a.default,{permissions:t,subjectName:o.origin,accounts:c})))}}n.default=p,d(p,"propTypes",{subjectMetadata:o.default.shape({name:o.default.string.isRequired,origin:o.default.string.isRequired,subjectType:o.default.string.isRequired,extensionId:o.default.string,iconUrl:o.default.string}),selectedPermissions:o.default.object.isRequired,selectedAccounts:o.default.array}),d(p,"defaultProps",{selectedAccounts:[]}),d(p,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/permission-page-container-content.component.js"}],[5425,{".":5422,"../../../../app/scripts/controllers/permissions":26,"../../../../shared/constants/metametrics":5150,"../../../../shared/constants/permissions":5158,"../../../helpers/constants/design-system":6123,"../../../helpers/utils/permissions":6163,"../../../helpers/utils/util":6171,"../../component-library":5680,"../../ui/page-container":6036,"../permissions-connect-footer":5427,"../snaps/snap-privacy-warning":5489,"@metamask/permission-controller":1899,"@metamask/snaps-rpc-methods":2456,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=b(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("@metamask/snaps-rpc-methods"),i=e("@metamask/permission-controller"),s=e("../../../../shared/constants/metametrics"),l=e("../../ui/page-container"),c=b(e("../permissions-connect-footer")),u=e("../../../../shared/constants/permissions"),d=b(e("../snaps/snap-privacy-warning")),p=e("../../../helpers/utils/util"),f=e("../../../helpers/utils/permissions"),m=e("../../../helpers/constants/design-system"),h=e("../../component-library"),g=e("../../../../app/scripts/controllers/permissions"),y=e(".");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends r.Component{constructor(...e){super(...e),_(this,"state",{}),_(this,"onCancel",(()=>{const{request:e,rejectPermissionsRequest:t}=this.props;t(e.metadata.id)})),_(this,"onSubmit",(()=>{var e,t,n,o;const{request:r,approvePermissionsRequest:a,rejectPermissionsRequest:i,selectedAccounts:s}=this.props,l=s.map((e=>e.address)),c=null===(e=r.permissions)||void 0===e?void 0:e[g.PermissionNames.permittedChains],d=null==c||null===(t=c.caveats.find((e=>e.type===u.CaveatTypes.restrictNetworkSwitching)))||void 0===t?void 0:t.value,p={...r,permissions:{...r.permissions},...(null===(n=r.permissions)||void 0===n?void 0:n.eth_accounts)&&{approvedAccounts:l},...(null===(o=r.permissions)||void 0===o?void 0:o[g.PermissionNames.permittedChains])&&{approvedChainIds:d}};Object.keys(p.permissions).length>0?a(p):i(p.metadata.id)})),_(this,"onLeftFooterClick",(()=>{this.getRequestedPermissions()[g.PermissionNames.permittedChains]===undefined?this.goBack():this.onCancel()}))}getRequestedPermissions(){var e;const{request:t}=this.props,n=(null==t||null===(e=t.diff)||void 0===e?void 0:e.permissionDiffMap)??t.permissions??{};return Object.entries(n).reduce(((e,[t,n])=>t===u.RestrictedMethods.wallet_snap?(e[t]=this.getDedupedSnapPermissions(),e):(e[t]=n,e)),{})}getDedupedSnapPermissions(){var e;const{request:t,currentPermissions:n}=this.props,o=(0,p.getDedupedSnaps)(t,n);return{...(null==t||null===(e=t.permissions)||void 0===e?void 0:e[a.WALLET_SNAP_PERMISSION_KEY])||{},caveats:[{type:a.SnapCaveatType.SnapIds,value:o.reduce(((e,t)=>(e[t]={},e)),{})}]}}showSnapsPrivacyWarning(){this.setState({isShowingSnapsPrivacyWarning:!0})}componentDidMount(){this.context.trackEvent({category:s.MetaMetricsEventCategory.Auth,event:"Tab Opened",properties:{action:"Connect",legacy_event:!0}}),this.props.request.permissions[a.WALLET_SNAP_PERMISSION_KEY]&&!1===this.props.snapsInstallPrivacyWarningShown&&this.showSnapsPrivacyWarning()}goBack(){const{history:e,connectPath:t}=this.props;e.push(t)}render(){const{requestMetadata:e,targetSubjectMetadata:t,selectedAccounts:n,allAccountsSelected:o}=this.props,a=this.getRequestedPermissions(),s=e=>{this.setState({isShowingSnapsPrivacyWarning:e})},u=()=>{s(!1),this.props.setSnapsInstallPrivacyWarningShownStatus(!0)},p=a[g.PermissionNames.permittedChains]?this.context.t("cancel"):this.context.t("back");return r.default.createElement(r.default.Fragment,null,this.state.isShowingSnapsPrivacyWarning&&r.default.createElement(d.default,{onAccepted:()=>u(),onCanceled:()=>this.onCancel()}),r.default.createElement(y.PermissionPageContainerContent,{requestMetadata:e,subjectMetadata:t,selectedPermissions:a,selectedAccounts:n,allAccountsSelected:o}),r.default.createElement(h.Box,{display:m.Display.Flex,backgroundColor:m.BackgroundColor.backgroundAlternative,flexDirection:m.FlexDirection.Column},(null==t?void 0:t.subjectType)!==i.SubjectType.Snap&&r.default.createElement(c.default,null),r.default.createElement(l.PageContainerFooter,{footerClassName:"permission-page-container-footer",cancelButtonType:"default",onCancel:()=>this.onLeftFooterClick(),cancelText:p,onSubmit:()=>this.onSubmit(),submitText:this.context.t("confirm"),buttonSizeLarge:!1,disabled:(0,f.containsEthPermissionsAndNonEvmAccount)(n,a)})))}}n.default=k,_(k,"propTypes",{approvePermissionsRequest:o.default.func.isRequired,rejectPermissionsRequest:o.default.func.isRequired,selectedAccounts:o.default.array,allAccountsSelected:o.default.bool,currentPermissions:o.default.object,snapsInstallPrivacyWarningShown:o.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:o.default.func,request:o.default.object,requestMetadata:o.default.object,targetSubjectMetadata:o.default.shape({name:o.default.string,origin:o.default.string.isRequired,subjectType:o.default.string.isRequired,extensionId:o.default.string,iconUrl:o.default.string}),history:o.default.object.isRequired,connectPath:o.default.string.isRequired}),_(k,"defaultProps",{request:{},requestMetadata:{},selectedAccounts:[],allAccountsSelected:!1,currentPermissions:{}}),_(k,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.component.js"}],[5426,{"../../../selectors":6820,"./permission-page-container.component":5425,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=e("react-redux"),a=e("../../../selectors"),i=(o=e("./permission-page-container.component"))&&o.__esModule?o:{default:o};n.default=(0,r.connect)(((e,t)=>{var n;const{selectedAccounts:o}=t,r=(0,a.getPermissions)(e,null===(n=t.request.metadata)||void 0===n?void 0:n.origin),i=(0,a.getInternalAccounts)(e);return{allInternalAccountsSelected:Object.keys(o).length===Object.keys(i).length&&o.length>1,currentPermissions:r}}))(i.default)}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.container.js"}],[5427,{"./permissions-connect-footer.component":5428},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./permissions-connect-footer.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/index.js"}],[5428,{"../../../helpers/constants/design-system":6123,"../../../helpers/constants/zendesk-url":6136,"../../component-library":5680,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r,a,i=p(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),l=p(e("../../../helpers/constants/zendesk-url")),c=e("../../../helpers/constants/design-system"),u=e("../../component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}class f extends s.Component{render(){const{t:e}=this.context;return s.default.createElement(u.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center},s.default.createElement(u.Text,{variant:c.TextVariant.bodyMd},e("onlyConnectTrust",[s.default.createElement(u.ButtonLink,{key:"permission-connect-footer-learn-more-link",size:u.ButtonLinkSize.Inherit,target:"_blank",onClick:()=>{global.platform.openTab({url:l.default.USER_GUIDE_DAPPS})}},e("learnMoreUpperCase"))])))}}n.default=f,o=f,r="contextTypes",a={t:i.default.func},(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/permissions-connect-footer.component.js"}],[5429,{"./permissions-connect-header.component":5430},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./permissions-connect-header.component"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/index.js"}],[5430,{"../../../helpers/constants/design-system":6123,"../../ui/box":5954,"../../ui/site-origin":6053,"@metamask/permission-controller":1899,classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=d(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=d(e("classnames")),i=e("@metamask/permission-controller"),s=d(e("../../ui/site-origin")),l=d(e("../../ui/box")),c=e("../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{renderHeaderIcon(){const{iconUrl:e,iconName:t,siteOrigin:n,leftIcon:o,rightIcon:a,subjectType:l}=this.props;return l===i.SubjectType.Snap?null:r.default.createElement("div",{className:"permissions-connect-header__icon"},r.default.createElement(s.default,{chip:!0,siteOrigin:n,title:n,iconSrc:e,name:t,leftIcon:o,rightIcon:a}))}render(){const{boxProps:e,className:t,headerTitle:n,headerText:o}=this.props;return r.default.createElement(l.default,p({className:(0,a.default)("permissions-connect-header",t),flexDirection:c.FLEX_DIRECTION.COLUMN,justifyContent:c.JustifyContent.center},e),this.renderHeaderIcon(),r.default.createElement("div",{className:"permissions-connect-header__title"},n),r.default.createElement("div",{className:"permissions-connect-header__subtitle"},o))}}n.default=m,f(m,"propTypes",{className:o.default.string,iconUrl:o.default.string,iconName:o.default.string.isRequired,siteOrigin:o.default.string.isRequired,headerTitle:o.default.node,boxProps:o.default.shape({...l.default.propTypes}),headerText:o.default.string,leftIcon:o.default.node,rightIcon:o.default.node,subjectType:o.default.string}),f(m,"defaultProps",{iconUrl:null,headerTitle:"",headerText:"",boxProps:{}})}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/permissions-connect-header.component.js"}],[5431,{"./permissions-connect-permission-list":5432},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./permissions-connect-permission-list"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/index.js"}],[5432,{"../../../helpers/utils/permission":6162,"../../../helpers/utils/util":6171,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../component-library":5680,"../permission-cell":5416,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var o=p(e("react")),r=p(e("prop-types")),a=e("react-redux"),i=e("../../../helpers/utils/permission"),s=e("../../../hooks/useI18nContext"),l=e("../../../selectors"),c=e("../../../helpers/utils/util"),u=p(e("../permission-cell")),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f({permissions:e,subjectName:t,accounts:n}){const r=(0,s.useI18nContext)(),p=(0,a.useSelector)(l.getSnapsMetadata);return o.default.createElement(d.Box,{as:"span"},(0,i.getWeightedPermissions)({t:r,permissions:e,getSubjectName:(0,c.getSnapName)(p),subjectName:t}).map(((e,t)=>function(e,t,n){return o.default.createElement(u.default,{permissionName:e.name,title:e.label,description:e.description,weight:e.weight,avatarIcon:e.leftIcon,key:`${e.permissionName}-${t}`,accounts:n,permissionValue:e.permissionValue.restrictNetworkSwitching})}(e,t,n))))}f.propTypes={permissions:r.default.object.isRequired,subjectName:r.default.string.isRequired,accounts:r.default.arrayOf(r.default.object)}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/permissions-connect-permission-list.js"}],[5433,{"../../../../app/scripts/lib/util":130,"../../../../shared/constants/app":5138,"../../../../shared/constants/time":5166,"../../../helpers/utils/webcam-utils":6172,"../../../hooks/useI18nContext":6202,"../../ui/page-container/page-container-footer/page-container-footer.component":6038,"./enhanced-reader":5434,"@ngraveio/bc-ur":2884,loglevel:4489,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=m(e("loglevel")),a=e("@ngraveio/bc-ur"),i=m(e("prop-types")),s=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),c=m(e("../../../helpers/utils/webcam-utils")),u=m(e("../../ui/page-container/page-container-footer/page-container-footer.component")),d=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/time"),f=m(e("./enhanced-reader"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g="ACCESSING_CAMERA",y="NEED_TO_ALLOW_ACCESS",v="READY",b=({isReadingWallet:e,handleCancel:t,handleSuccess:n,setErrorTitle:i})=>{const m=(0,d.useI18nContext)(),[h,b]=(0,o.useState)(g),[_,k]=(0,o.useState)(null),[w,x]=(0,o.useState)(new a.URDecoder),[T,C]=(0,o.useState)(0);let E=null;const M=(0,o.useRef)(!1),O=async()=>{try{const{environmentReady:e}=await c.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=new URL(window.location.href).hash,t=e?e.substring(1):null;global.platform.openExtensionInBrowser(t)}}catch(e){M.current&&k(e)}return P()},S=async()=>{try{const{permissions:e}=await c.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*p.SECOND))),!M.current)return;b(v)}else M.current&&(E=setTimeout(S,p.SECOND),b(y))}catch(e){M.current&&k(e)}},j=t=>{try{if(!t)return;if(w.receivePart(t),C(w.estimatedPercentComplete()),w.isComplete()){const e=w.resultUR();n(e).catch(k)}}catch(t){i(m(e?"QRHardwareUnknownQRCodeTitle":"QRHardwareInvalidTransactionTitle")),k(new Error(m("unknownQrCode")))}},P=()=>{try{S()}catch(e){if(!M.current)return;"NotAllowedError"===e.name?(r.default.info(`Permission denied: '${e}'`),b(y)):k(e)}};(0,o.useEffect)((()=>(M.current=!0,O(),()=>{M.current=!1,clearTimeout(E)})),[]),(0,o.useEffect)((()=>{h===v?P():h===y&&S()}),[h]);const I=()=>{clearTimeout(E),b(g),k(null),x(new a.URDecoder),C(0),O()};return o.default.createElement("div",{className:"qr-scanner"},_?(()=>{let n,r;return"NO_WEBCAM_FOUND"===_.type?(n=m("noWebcamFoundTitle"),r=m("noWebcamFound")):_.message===m("unknownQrCode")?r=m(e?"QRHardwareUnknownWalletQRCode":"unknownQrCode"):_.message===m("QRHardwareMismatchedSignId")?r=m("QRHardwareMismatchedSignId"):(n=m("generalCameraErrorTitle"),r=m("generalCameraError")),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"qr-scanner__image"},o.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?o.default.createElement("div",{className:"qr-scanner__title"},n):null,o.default.createElement("div",{className:"qr-scanner__error","data-testid":"qr-scanner__error"},r),o.default.createElement(u.default,{onCancel:()=>{i(""),t()},onSubmit:()=>{i(""),I()},cancelText:m("cancel"),submitText:m("tryAgain"),submitButtonType:"confirm"}))})():(()=>{let e;return h===g?e=m("accessingYourCamera"):h===v?e=m("QRHardwareScanInstructions"):h===y&&(e=m("youNeedToAllowCameraAccess")),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"qr-scanner__content"},o.default.createElement(f.default,{handleScan:j})),T>0&&o.default.createElement("div",{className:"qr-scanner__progress","data-testid":"qr-reader-progress-bar",style:{"--progress":`${Math.floor(100*T)}%`}}),e&&o.default.createElement("div",{className:"qr-scanner__status"},e))})())};b.propTypes={isReadingWallet:i.default.bool.isRequired,handleCancel:i.default.func.isRequired,handleSuccess:i.default.func.isRequired,setErrorTitle:i.default.func.isRequired};n.default=b}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/base-reader.js"}],[5434,{"../../../../shared/constants/time":5166,"../../ui/spinner":6055,"@zxing/browser":3281,"@zxing/library":3500,loglevel:4489,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("@zxing/library"),a=e("@zxing/browser"),i=u(e("loglevel")),s=u(e("prop-types")),l=e("../../../../shared/constants/time"),c=u(e("../../ui/spinner"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({handleScan:e})=>{const[t,n]=(0,o.useState)(!1),s=(0,o.useMemo)((()=>{const e=new Map;return e.set(r.DecodeHintType.POSSIBLE_FORMATS,[r.BarcodeFormat.QR_CODE]),new a.BrowserQRCodeReader(e,{delayBetweenScanAttempts:100*l.MILLISECOND,delayBetweenScanSuccess:100*l.MILLISECOND})}),[]);return(0,o.useEffect)((()=>{const t=document.getElementById("video"),o=()=>{n(!0)};t.addEventListener("canplay",o);const r=s.decodeFromVideoDevice(undefined,"video",(t=>{t&&e(t.getText())}));return()=>{t.removeEventListener("canplay",o),r.then((e=>{e&&e.stop()})).catch(i.default.info)}}),[]),o.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},o.default.createElement("video",{id:"video",style:{display:t?"block":"none",width:"100%",filter:"blur(4px)"}}),t?null:o.default.createElement(c.default,null))};p.propTypes={handleScan:s.default.func.isRequired};n.default=p}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/enhanced-reader.js"}],[5435,{"./qr-hardware-popover":5436},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./qr-hardware-popover"))&&o.__esModule?o:{default:o};n.default=r.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/index.js"}],[5436,{"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../../store/actions":6833,"../../ui/popover":6042,"./qr-hardware-sign-request":5437,"./qr-hardware-wallet-importer":5441,"@metamask/rpc-errors":2159,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),a=e("@metamask/rpc-errors"),i=e("../../../selectors"),s=p(e("../../ui/popover")),l=e("../../../hooks/useI18nContext"),c=e("../../../store/actions"),u=p(e("./qr-hardware-wallet-importer")),d=p(e("./qr-hardware-sign-request"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,l.useI18nContext)(),n=(0,r.useSelector)(i.getCurrentQRHardwareState),{sync:p,sign:f}=n,m=null==p?void 0:p.reading,h=null==f?void 0:f.request,g=m||h,[y,v]=(0,o.useState)(""),{txData:b}=(0,r.useSelector)((e=>e.confirmTransaction)),_=(0,o.useMemo)((()=>b),[null==f||null===(e=f.request)||void 0===e?void 0:e.requestId]),k=(0,r.useDispatch)(),w=(0,o.useCallback)((()=>k((0,c.cancelSyncQRHardware)())),[k]),x=(0,o.useCallback)((()=>{k((0,c.rejectPendingApproval)(_.id,(0,a.serializeError)(a.providerErrors.userRejectedRequest()))),k((0,c.cancelTx)(_)),k((0,c.cancelQRHardwareSignRequest)())}),[k,_]),T=(0,o.useMemo)((()=>{let e="";return h?e=t("QRHardwareSignRequestTitle"):m&&(e=t("QRHardwareWalletImporterTitle")),""!==y&&(e=y),e}),[h,m,t,y]);return g?o.default.createElement(s.default,{title:T,onClose:m?w:x},m&&o.default.createElement(u.default,{handleCancel:w,setErrorTitle:v}),h&&o.default.createElement(d.default,{setErrorTitle:v,handleCancel:x,request:f.request})):null}}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-popover.js"}],[5437,{"./qr-hardware-sign-request.component":5439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./qr-hardware-sign-request.component"))&&o.__esModule?o:{default:o};n.default=r.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/index.js"}],[5438,{"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,"../../../ui/page-container":6036,"@ngraveio/bc-ur":2884,buffer:3661,"prop-types":4631,"qrcode.react":4691,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=d(e("qrcode.react")),a=e("@ngraveio/bc-ur"),i=d(e("prop-types")),s=e("../../../../hooks/useI18nContext"),l=e("../../../../helpers/constants/design-system"),c=e("../../../ui/page-container"),u=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({type:e,cbor:n,cancelQRHardwareSignRequest:i,toRead:d})=>{const p=(0,s.useI18nContext)(),f=(0,o.useMemo)((()=>new a.UREncoder(new a.UR(t.from(n,"hex"),e),200)),[n,e]),[m,h]=(0,o.useState)(f.nextPart());return(0,o.useEffect)((()=>{const e=setInterval((()=>{h(f.nextPart())}),100);return()=>{clearInterval(e)}}),[f]),o.default.createElement(o.default.Fragment,null,o.default.createElement(u.Box,null,o.default.createElement(u.Text,{align:l.TextAlign.Center},p("QRHardwareSignRequestSubtitle"))),o.default.createElement(u.Box,{paddingTop:4,paddingBottom:4,display:l.Display.Flex,alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column},o.default.createElement("div",{style:{padding:20,backgroundColor:"var(--qr-code-white-background)"}},o.default.createElement(r.default,{value:m.toUpperCase(),size:250}))),o.default.createElement(u.Box,{paddingBottom:4,paddingLeft:4,paddingRight:4},o.default.createElement(u.Text,{align:l.TextAlign.Center},p("QRHardwareSignRequestDescription"))),o.default.createElement(c.PageContainerFooter,{onCancel:i,onSubmit:d,cancelText:p("QRHardwareSignRequestCancel"),submitText:p("QRHardwareSignRequestGetSignature"),submitButtonType:"confirm"}))};f.propTypes={type:i.default.string.isRequired,cbor:i.default.string.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,toRead:i.default.func.isRequired};n.default=f}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/player.js"}],[5439,{"../../../../store/actions":6833,"./player":5438,"./reader":5440,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=l(e("prop-types")),a=e("../../../../store/actions"),i=l(e("./player")),s=l(e("./reader"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=({request:e,handleCancel:t,setErrorTitle:n})=>{const[r,l]=(0,o.useState)("play"),c=(0,o.useCallback)((()=>l("read")),[]);return"play"===r?(()=>{const{payload:n}=e;return o.default.createElement(i.default,{type:n.type,cbor:n.cbor,cancelQRHardwareSignRequest:t,toRead:c})})():o.default.createElement(s.default,{cancelQRHardwareSignRequest:t,submitQRHardwareSignature:a.submitQRHardwareSignature,requestId:e.requestId,setErrorTitle:n})};u.propTypes={request:r.default.object.isRequired,handleCancel:r.default.func.isRequired,setErrorTitle:r.default.func.isRequired};n.default=u}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/qr-hardware-sign-request.component.js"}],[5440,{"../../../../hooks/useI18nContext":6202,"../base-reader":5433,"@keystonehq/bc-ur-registry-eth":632,"prop-types":4631,react:4884,uuid:5066},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=u(e("react")),r=e("@keystonehq/bc-ur-registry-eth"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("uuid")),i=u(e("prop-types")),s=u(e("../base-reader")),l=e("../../../../hooks/useI18nContext");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}const d=({submitQRHardwareSignature:e,cancelQRHardwareSignRequest:t,requestId:n,setErrorTitle:i})=>{const c=(0,l.useI18nContext)();return o.default.createElement(s.default,{isReadingWallet:!1,handleCancel:()=>{t()},handleSuccess:async t=>{if("eth-signature"===t.type){const o=r.ETHSignature.fromCBOR(t.cbor).getRequestId(),s=a.stringify(o);if(s===n)return await e(s,t.cbor.toString("hex"));throw i(c("QRHardwareInvalidTransactionTitle")),new Error(c("QRHardwareMismatchedSignId"))}throw i(c("QRHardwareInvalidTransactionTitle")),new Error(c("unknownQrCode"))},setErrorTitle:i})};d.propTypes={submitQRHardwareSignature:i.default.func.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,requestId:i.default.string.isRequired,setErrorTitle:i.default.func.isRequired};n.default=d}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/reader.js"}],[5441,{"./qr-hardware-wallet-importer.component":5442},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,r=(o=e("./qr-hardware-wallet-importer.component"))&&o.__esModule?o:{default:o};n.default=r.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/index.js"}],[5442,{"../../../../hooks/useI18nContext":6202,"../../../../store/actions":6833,"../base-reader":5433,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=l(e("react")),r=l(e("prop-types")),a=e("../../../../store/actions"),i=l(e("../base-reader")),s=e("../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const c=({handleCancel:e,setErrorTitle:t})=>{const n=(0,s.useI18nContext)();return o.default.createElement(i.default,{isReadingWallet:!0,handleCancel:e,handleSuccess:async e=>{if("crypto-hdkey"===e.type)return await(0,a.submitQRHardwareCryptoHDKey)(e.cbor.toString("hex"));if("crypto-account"===e.type)return await(0,a.submitQRHardwareCryptoAccount)(e.cbor.toString("hex"));throw t(n("QRHardwareUnknownQRCodeTitle")),new Error(n("unknownQrCode"))},setErrorTitle:t})};c.propTypes={handleCancel:r.default.func.isRequired,setErrorTitle:r.default.func.isRequired};n.default=c}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/qr-hardware-wallet-importer.component.js"}],[5443,{"./recovery-phrase-reminder":5444},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./recovery-phrase-reminder"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/index.js"}],[5444,{"../../../helpers/constants/design-system":6123,"../../../helpers/constants/routes":6129,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../ui/box":5954,"../../ui/button":5958,"../../ui/popover":6042,"prop-types":4631,react:4884,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var o=f(e("react")),r=f(e("prop-types")),a=e("react-router-dom"),i=e("../../../hooks/useI18nContext"),s=f(e("../../ui/box")),l=f(e("../../ui/button")),c=f(e("../../ui/popover")),u=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/routes"),p=e("../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onConfirm:e,hasBackedUp:t}){const n=(0,i.useI18nContext)(),r=(0,a.useHistory)();return o.default.createElement(c.default,{centerTitle:!0,title:n("recoveryPhraseReminderTitle")},o.default.createElement(s.default,{paddingRight:4,paddingBottom:6,paddingLeft:4,className:"recovery-phrase-reminder"},o.default.createElement(p.Text,{color:u.TextColor.textDefault,align:u.TextAlign.Center,variant:u.TextVariant.bodyMd,marginBottom:4},n("recoveryPhraseReminderSubText")),o.default.createElement(s.default,{marginTop:4,marginBottom:8},o.default.createElement("ul",{className:"recovery-phrase-reminder__list"},o.default.createElement(p.Text,{as:"li",color:u.TextColor.textDefault,fontWeight:u.FontWeight.Bold},n("recoveryPhraseReminderItemOne")),o.default.createElement(p.Text,{as:"li"},n("recoveryPhraseReminderItemTwo")),o.default.createElement(p.Text,{as:"li"},t?n("recoveryPhraseReminderHasBackedUp"):o.default.createElement(o.default.Fragment,null,n("recoveryPhraseReminderHasNotBackedUp"),o.default.createElement(s.default,{display:u.DISPLAY.INLINE_BLOCK,marginLeft:1},o.default.createElement(l.default,{type:"link",onClick:()=>{r.push(d.ONBOARDING_UNLOCK_ROUTE)},style:{fontSize:"inherit",padding:0}},n("recoveryPhraseReminderBackupStart"))))))),o.default.createElement(s.default,{justifyContent:u.JustifyContent.center},o.default.createElement(s.default,{width:u.BLOCK_SIZES.TWO_FIFTHS},o.default.createElement(l.default,{type:"primary",onClick:e},n("recoveryPhraseReminderConfirm"))))))}m.propTypes={hasBackedUp:r.default.bool.isRequired,onConfirm:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/recovery-phrase-reminder.js"}],[5445,{"./reveal-SRP-modal":5446},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./reveal-SRP-modal"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/reveal-SRP-modal/index.js"}],[5446,{"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../store/actions":6833,"../../component-library":5680,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var o,r=(o=e("prop-types"))&&o.__esModule?o:{default:o},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),c=e("../../component-library");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({setSecretRecoveryPhrase:e,onClose:t,isOpen:n}){const o=(0,s.useI18nContext)(),[r,u]=(0,a.useState)(""),d=(0,a.useCallback)((async t=>{const n=await(0,l.getSeedPhrase)(t);e(n)}),[e]);return a.default.createElement(c.Modal,{isOpen:n,onClose:t,"data-testid":"reveal-srp-modal"},a.default.createElement(c.ModalOverlay,null),a.default.createElement(c.ModalContent,null,a.default.createElement(c.ModalHeader,{onClose:t},o("revealSeedWords")),a.default.createElement(c.Box,{paddingLeft:4,paddingRight:4},a.default.createElement("form",{onSubmit:e=>{e.preventDefault(),d(r)}},a.default.createElement(c.FormTextField,{marginTop:6,id:"account-details-authenticate",label:o("enterYourPassword"),placeholder:o("password"),onChange:e=>u(e.target.value),value:r,variant:i.TextVariant.bodySm,type:"password",labelProps:{fontWeight:i.FontWeight.Medium},autoFocus:!0})),a.default.createElement(c.Box,{display:i.Display.Flex,marginTop:6,gap:2},a.default.createElement(c.ButtonSecondary,{onClick:t,block:!0},o("cancel")),a.default.createElement(c.ButtonPrimary,{onClick:()=>d(r),disabled:""===r,block:!0},o("confirm"))))))}d.propTypes={setSecretRecoveryPhrase:r.default.func.isRequired,onClose:r.default.func.isRequired,isOpen:r.default.bool.isRequired}}}},{package:"$root$",file:"ui/components/app/reveal-SRP-modal/reveal-SRP-modal.js"}],[5447,{"../../../../../shared/constants/time":5166,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useCopyToClipboard":6191,"../../../../hooks/useI18nContext":6202,"../../../../hooks/useTimeout":6221,"../../../component-library":5680,"../../../ui/tooltip":6073,"../show-more":5455,classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Copyable=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=m(e("prop-types")),a=m(e("classnames")),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useCopyToClipboard"),l=e("../../../component-library"),c=e("../../../../hooks/useI18nContext"),u=m(e("../../../ui/tooltip")),d=e("../show-more"),p=e("../../../../../shared/constants/time"),f=e("../../../../hooks/useTimeout");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({text:e,sensitive:t=!1,marginTop:n,marginBottom:r})=>{const m=(0,c.useI18nContext)(),[,h]=(0,s.useCopyToClipboard)(),[g,y]=(0,o.useState)(!t),[v,b]=(0,o.useState)(!1),_=(0,f.useTimeout)((()=>b(!1)),3*p.SECOND,!1),k=e=>{e.stopPropagation(),y((e=>!e))};return o.default.createElement(l.Box,{display:i.Display.Flex,onClick:t&&!g?k:t=>{t.stopPropagation(),h(e),b(!0),_()},className:(0,a.default)("copyable",{sensitive:t,clicked:v,visible:g}),backgroundColor:g&&t?i.BackgroundColor.errorMuted:i.BackgroundColor.primaryMuted,borderRadius:i.BorderRadius.LG,padding:2,marginTop:n,marginBottom:r},t&&o.default.createElement(l.Box,{marginRight:2,className:"copyable__icon"},o.default.createElement(u.default,{wrapperClassName:"copyable__tooltip",html:o.default.createElement(l.Text,null,m(g?"hideSentitiveInfo":"doNotShare")),position:"bottom"},o.default.createElement(l.Icon,{name:g?l.IconName.EyeSlash:l.IconName.Eye,onClick:k,color:g&&t?i.Color.errorAlternative:i.IconColor.iconAlternative,"data-testid":"reveal-icon"}))),t&&!g&&o.default.createElement(l.Text,{color:i.Color.textAlternative,marginRight:2,marginBottom:0,overflowWrap:i.OverflowWrap.Anywhere},m("revealSensitiveContent")),g&&o.default.createElement(d.ShowMore,{marginRight:2,buttonBackground:g&&t?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundAlternative},o.default.createElement(l.Text,{color:g&&t?i.Color.errorAlternative:i.TextColor.textAlternative,marginBottom:0,overflowWrap:i.OverflowWrap.Anywhere},e)),g&&o.default.createElement(l.Icon,{className:"copyable__icon",name:v?l.IconName.CopySuccess:l.IconName.Copy,color:g&&t?i.Color.errorAlternative:i.IconColor.iconAlternative,marginLeft:"auto","data-testid":"copy-icon"}))};n.Copyable=g,g.propTypes={text:r.default.string,sensitive:r.default.bool,marginTop:r.default.number,marginBottom:r.default.number}}}},{package:"$root$",file:"ui/components/app/snaps/copyable/copyable.js"}],[5448,{"./copyable":5447},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Copyable",{enumerable:!0,get:function(){return o.Copyable}});var o=e("./copyable")}}},{package:"$root$",file:"ui/components/app/snaps/copyable/index.js"}],[5449,{"./insight-warnings":5450},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./insight-warnings"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/snaps/insight-warnings/index.js"}],[5450,{"../../../../helpers/constants/design-system":6123,"../../../../helpers/constants/snaps":6132,"../../../../helpers/utils/util":6171,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,"../snap-ui-renderer":5553,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),c=e("../snap-ui-renderer"),u=e("../../../../helpers/constants/snaps"),d=e("../../../../helpers/utils/util");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({warnings:e,action:t="confirming",origin:n,onCancel:o,onSubmit:a}){const p=(0,l.useI18nContext)(),f=e.reduce(((e,t,n)=>(e[t.snapId]=0!==n,e)),{}),[m,h]=(0,r.useState)(f),[g,y]=(0,r.useState)(!1),v=()=>{const t=e.length-1;return r.default.createElement(i.Box,{className:"insights-warnings-modal__content"},e.map(((n,o)=>{const{snapId:a,interfaceId:i}=n;return r.default.createElement(c.SnapUIRenderer,{key:`${a}-${o}`,snapId:a,interfaceId:i,delineatorType:u.DelineatorType.Warning,onClick:()=>(t=>{let n={...m};const o=!m[t],r=o;n[t]=o,r||(n={...f},n[t]=!1,n[e[0].snapId]=t!==e[0].snapId),h(n)})(a),isCollapsable:!0,isCollapsed:m[a],boxProps:{marginBottom:o===t?0:4}})})))};return r.default.createElement(i.Modal,{isOpen:!0,isClosedOnEscapeKey:!1,isClosedOnOutsideClick:!1,className:"insights-warnings-modal"},r.default.createElement(i.ModalOverlay,null),r.default.createElement(i.ModalContent,null,r.default.createElement(i.ModalHeader,{justifyContent:s.JustifyContent.center,childrenWrapperProps:{alignItems:s.AlignItems.center,display:s.Display.Flex,flexDirection:s.FlexDirection.Column}},r.default.createElement(i.AvatarIcon,{iconName:i.IconName.Warning,size:i.AvatarIconSize.Lg,color:s.IconColor.errorDefault,backgroundColor:s.BackgroundColor.errorMuted}),r.default.createElement(i.Text,{variant:s.TextVariant.headingMd,paddingTop:4,paddingBottom:4},p("insightWarningHeader"))),r.default.createElement(i.ModalBody,null,r.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,paddingBottom:4},1===e.length?p("insightWarningContentSingular",[r.default.createElement(i.Text,{variant:s.TextVariant.inherit,key:e.id,fontWeight:s.FontWeight.Medium},`${e.length} ${p("insightWarning")}`),t,u.InsightWarningLanguage[t].noun]):p("insightWarningContentPlural",[r.default.createElement(i.Text,{variant:s.TextVariant.inherit,key:e.id,fontWeight:s.FontWeight.Medium},`${e.length} ${p("insightWarnings")}`),e.length,t,u.InsightWarningLanguage[t].noun])),r.default.createElement(v,null),r.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.flexStart,alignItems:s.AlignItems.center,marginTop:4,marginBottom:4,padding:4,borderRadius:s.BorderRadius.SM,style:{backgroundColor:g?"var(--color-info-muted)":"var(--color-background-default-hover)"}},r.default.createElement(i.Checkbox,{variant:s.TextVariant.bodyMd,isChecked:g,onChange:()=>y((e=>!e)),label:p("insightWarningCheckboxMessage",[p(u.InsightWarningLanguage[t].imperative),r.default.createElement(i.Text,{variant:s.TextVariant.inherit,key:t,fontWeight:s.FontWeight.Medium},(0,d.stripHttpSchemes)(n))])})),r.default.createElement(i.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween},r.default.createElement(i.Button,{size:i.ButtonSecondarySize.Lg,width:s.BlockSize.Half,variant:i.ButtonVariant.Secondary,onClick:o,marginRight:4},p("cancel")),r.default.createElement(i.Button,{size:i.ButtonPrimarySize.Lg,width:s.BlockSize.Half,"data-testid":"snapInsightsButtonConfirm",danger:!0,onClick:a,disabled:!g},p(u.InsightWarningLanguage[t].imperative))))))}f.propTypes={warnings:a.default.arrayOf(a.default.object),action:a.default.oneOf(Object.keys(u.InsightWarningLanguage)),origin:a.default.string.isRequired,onCancel:a.default.func.isRequired,onSubmit:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/insight-warnings/insight-warnings.js"}],[5451,{"../../../../helpers/constants/design-system":6123,"../../../component-library":5680,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=s(e("react")),r=s(e("prop-types")),a=e("../../../../helpers/constants/design-system"),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}const l=({title:e,error:t,description:n,iconName:r})=>o.default.createElement(i.Box,{display:a.Display.Flex,flexDirection:a.FlexDirection.Column,alignItems:a.AlignItems.center,justifyContent:a.JustifyContent.center,height:a.BlockSize.Full,padding:2},r&&o.default.createElement(i.AvatarIcon,{iconName:r,size:i.AvatarIconSize.Xl,color:a.IconColor.errorDefault,backgroundColor:a.BackgroundColor.errorMuted,marginBottom:4}),o.default.createElement(i.Text,{variant:a.TextVariant.headingLg},e),n&&o.default.createElement(i.Text,{textAlign:a.TextAlign.Center},n),t&&o.default.createElement(i.BannerAlert,{marginTop:4,startAccessory:null,severity:a.Severity.Danger},o.default.createElement(i.Text,{variant:a.TextVariant.bodySm},t)));l.propTypes={title:r.default.node.isRequired,error:r.default.string,description:r.default.string,iconName:r.default.string};n.default=l}}},{package:"$root$",file:"ui/components/app/snaps/install-error/install-error.js"}],[5452,{"./keyring-snap-removal-warning":5454},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var o,r=(o=e("./keyring-snap-removal-warning"))&&o.__esModule?o:{default:o}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/index.ts"}],[5453,{"../../../../../shared/modules/hexstring-utils":5194,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountListItem=void 0;var o,r=(o=e("react"))&&o.__esModule?o:{default:o},a=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../../shared/modules/hexstring-utils"),l=e("../../../../hooks/useI18nContext");n.KeyringAccountListItem=({account:e,snapUrl:t})=>{const n=(0,l.useI18nContext)();return r.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,borderRadius:i.BorderRadius.MD,borderColor:i.BorderColor.borderDefault,padding:3,width:i.BlockSize.Full,"data-testid":"keyring-account-list-item"},r.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.TenTwelfths},r.default.createElement(a.Box,{flexDirection:i.FlexDirection.Column,marginBottom:2},r.default.createElement(a.Text,{color:i.TextColor.textMuted},n("keyringAccountName")),r.default.createElement(a.Text,null,e.name)),r.default.createElement(a.Box,{flexDirection:i.FlexDirection.Column},r.default.createElement(a.Text,{color:i.TextColor.textMuted},n("keyringAccountPublicAddress")),r.default.createElement(a.Text,{overflowWrap:i.OverflowWrap.Anywhere},(0,s.toChecksumHexAddress)(e.address)))),r.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center},r.default.createElement(a.ButtonIcon,{ariaLabel:"snap-url-export","data-testid":"keyring-account-link",iconName:a.IconName.Export,color:i.IconColor.primaryDefault,onClick:()=>{global.platform.openTab({url:t})}})))}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/keyring-account-list-item.tsx"}]],[],{});