{"snapId":"npm:@metamask/solana-wallet-snap","manifest":{"version":"1.32.0","description":"Manage Solana using MetaMask","proposedName":"Solana","repository":{"type":"git","url":"https://github.com/MetaMask/snap-solana-wallet.git"},"source":{"shasum":"CFaSxaVJ86Yu8T8+W+NyoB67a6ALkWTEVYrVLyMLEg8=","location":{"npm":{"filePath":"dist/bundle.js","iconPath":"images/icon.svg","packageName":"@metamask/solana-wallet-snap","registry":"https://registry.npmjs.org/"}},"locales":["locales/en.json"]},"initialConnections":{"https://portfolio.metamask.io":{}},"initialPermissions":{"endowment:rpc":{"dapps":true,"snaps":false},"endowment:keyring":{"allowedOrigins":["https://portfolio.metamask.io"]},"snap_getBip32Entropy":[{"path":["m","44'","501'"],"curve":"ed25519"}],"endowment:network-access":{},"endowment:cronjob":{"jobs":[{"expression":"* * * * *","request":{"method":"refreshSend","params":{}}},{"expression":"* * * * *","request":{"method":"refreshConfirmationEstimation","params":{}}},{"expression":"*/2 * * * *","request":{"method":"scheduleRefreshAccounts","params":{}}}]},"endowment:protocol":{"scopes":{"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":{"methods":["getGenesisHash","getLatestBlockhash","getMinimumBalanceForRentExemption"]},"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":{"methods":["getGenesisHash","getLatestBlockhash","getMinimumBalanceForRentExemption"]}}},"endowment:assets":{"scopes":["solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"]},"snap_manageAccounts":{},"snap_manageState":{},"snap_dialog":{},"snap_getPreferences":{}},"platformVersion":"7.1.0","manifestVersion":"0.1"},"files":[{"path":"images/icon.svg","value":"<svg width=\"101\" height=\"101\" viewBox=\"0 0 101 101\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M100.48 69.3817L83.8068 86.8015C83.4444 87.1799 83.0058 87.4816 82.5185 87.6878C82.0312 87.894 81.5055 88.0003 80.9743 88H1.93563C1.55849 88 1.18957 87.8926 0.874202 87.6912C0.558829 87.4897 0.31074 87.2029 0.160416 86.8659C0.0100923 86.529 -0.0359181 86.1566 0.0280382 85.7945C0.0919944 85.4324 0.263131 85.0964 0.520422 84.8278L17.2061 67.408C17.5676 67.0306 18.0047 66.7295 18.4904 66.5234C18.9762 66.3172 19.5002 66.2104 20.0301 66.2095H99.0644C99.4415 66.2095 99.8104 66.3169 100.126 66.5183C100.441 66.7198 100.689 67.0067 100.84 67.3436C100.99 67.6806 101.036 68.0529 100.972 68.415C100.908 68.7771 100.737 69.1131 100.48 69.3817ZM83.8068 34.3032C83.4444 33.9248 83.0058 33.6231 82.5185 33.4169C82.0312 33.2108 81.5055 33.1045 80.9743 33.1048H1.93563C1.55849 33.1048 1.18957 33.2121 0.874202 33.4136C0.558829 33.6151 0.31074 33.9019 0.160416 34.2388C0.0100923 34.5758 -0.0359181 34.9482 0.0280382 35.3103C0.0919944 35.6723 0.263131 36.0083 0.520422 36.277L17.2061 53.6968C17.5676 54.0742 18.0047 54.3752 18.4904 54.5814C18.9762 54.7875 19.5002 54.8944 20.0301 54.8952H99.0644C99.4415 54.8952 99.8104 54.7879 100.126 54.5864C100.441 54.3849 100.689 54.0981 100.84 53.7612C100.99 53.4242 101.036 53.0518 100.972 52.6897C100.908 52.3277 100.737 51.9917 100.48 51.723L83.8068 34.3032ZM1.93563 21.7905H80.9743C81.5055 21.7907 82.0312 21.6845 82.5185 21.4783C83.0058 21.2721 83.4444 20.9704 83.8068 20.592L100.48 3.17219C100.737 2.90357 100.908 2.56758 100.972 2.2055C101.036 1.84342 100.99 1.47103 100.84 1.13408C100.689 0.79713 100.441 0.510296 100.126 0.308823C99.8104 0.107349 99.4415 1.24074e-05 99.0644 0L20.0301 0C19.5002 0.000878397 18.9762 0.107699 18.4904 0.313848C18.0047 0.519998 17.5676 0.821087 17.2061 1.19848L0.524723 18.6183C0.267681 18.8866 0.0966198 19.2223 0.0325185 19.5839C-0.0315829 19.9456 0.0140624 20.3177 0.163856 20.6545C0.31365 20.9913 0.561081 21.2781 0.875804 21.4799C1.19053 21.6817 1.55886 21.7896 1.93563 21.7905Z\" fill=\"url(#paint0_linear_174_4403)\"/>\n<defs>\n<linearGradient id=\"paint0_linear_174_4403\" x1=\"8.52558\" y1=\"90.0973\" x2=\"88.9933\" y2=\"-3.01622\" gradientUnits=\"userSpaceOnUse\">\n<stop offset=\"0.08\" stop-color=\"#9945FF\"/>\n<stop offset=\"0.3\" stop-color=\"#8752F3\"/>\n<stop offset=\"0.5\" stop-color=\"#5497D5\"/>\n<stop offset=\"0.6\" stop-color=\"#43B4CA\"/>\n<stop offset=\"0.72\" stop-color=\"#28E0B9\"/>\n<stop offset=\"0.97\" stop-color=\"#19FB9B\"/>\n</linearGradient>\n</defs>\n</svg>\n"},{"path":"dist/bundle.js","value":"(()=>{var e={33:(e,t,n)=>{var r=n(9968),o=n(9756),i=[[\"ary\",128],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",16],[\"flip\",512],[\"partial\",32],[\"partialRight\",64],[\"rearg\",256]];e.exports=function(e,t){return r(i,(function(n){var r=\"_.\"+n[0];t&n[1]&&!o(e,r)&&e.push(r)})),e.sort()}},88:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).get(e)}},125:(e,t,n)=>{var r=n(9032),o=n(5288);e.exports=function(e,t){return e&&r(t,o(t),e)}},155:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},195:(e,t,n)=>{var r=n(4882),o=n(8121),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}},282:e=>{e.exports=a,a.default=a,a.stable=l,a.stableStringify=l;var t=\"[...]\",n=\"[Circular]\",r=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,n,a){var s;void 0===a&&(a=i()),c(e,\"\",0,[],void 0,0,a);try{s=0===o.length?JSON.stringify(e,t,n):JSON.stringify(e,d(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function s(e,t,n,i){var a=Object.getOwnPropertyDescriptor(i,n);void 0!==a.get?a.configurable?(Object.defineProperty(i,n,{value:e}),r.push([i,n,t,a])):o.push([t,n,e]):(i[n]=e,r.push([i,n,t]))}function c(e,r,o,i,a,u,l){var f;if(u+=1,\"object\"==typeof e&&null!==e){for(f=0;f<i.length;f++)if(i[f]===e)return void s(n,e,r,a);if(void 0!==l.depthLimit&&u>l.depthLimit)return void s(t,e,r,a);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void s(t,e,r,a);if(i.push(e),Array.isArray(e))for(f=0;f<e.length;f++)c(e[f],f,f,i,e,u,l);else{var d=Object.keys(e);for(f=0;f<d.length;f++){var h=d[f];c(e[h],h,f,i,e,u,l)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function l(e,t,n,a){void 0===a&&(a=i());var s,c=f(e,\"\",0,[],void 0,0,a)||e;try{s=0===o.length?JSON.stringify(c,t,n):JSON.stringify(c,d(t),n)}catch(e){return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function f(e,o,i,a,c,l,d){var h;if(l+=1,\"object\"==typeof e&&null!==e){for(h=0;h<a.length;h++)if(a[h]===e)return void s(n,e,o,c);try{if(\"function\"==typeof e.toJSON)return}catch(e){return}if(void 0!==d.depthLimit&&l>d.depthLimit)return void s(t,e,o,c);if(void 0!==d.edgesLimit&&i+1>d.edgesLimit)return void s(t,e,o,c);if(a.push(e),Array.isArray(e))for(h=0;h<e.length;h++)f(e[h],h,h,a,e,l,d);else{var p={},g=Object.keys(e).sort(u);for(h=0;h<g.length;h++){var m=g[h];f(e[m],m,h,a,e,l,d),p[m]=e[m]}if(void 0===c)return p;r.push([c,o,e]),c[o]=p}a.pop()}}function d(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(o.length>0)for(var r=0;r<o.length;r++){var i=o[r];if(i[1]===t&&i[0]===n){n=i[2],o.splice(r,1);break}}return e.call(this,t,n)}}},313:(e,t,n)=>{var r=n(1129),o=n(714);e.exports=function e(t,n,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var l=t[c];n>0&&i(l)?n>1?e(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},353:(e,t,n)=>{var r=n(1340),o=n(3934),i=n(8861),a=n(1182),s=n(8486),c=n(3142),u=n(5853),l=n(8666),f=\"[object Arguments]\",d=\"[object Array]\",h=\"[object Object]\",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,v){var y=c(e),w=c(t),b=y?d:s(e),A=w?d:s(t),S=(b=b==f?h:b)==h,x=(A=A==f?h:A)==h,E=b==A;if(E&&u(e)){if(!u(t))return!1;y=!0,S=!1}if(E&&!S)return v||(v=new r),y||l(e)?o(e,t,n,g,m,v):i(e,t,b,n,g,m,v);if(!(1&n)){var _=S&&p.call(e,\"__wrapped__\"),k=x&&p.call(t,\"__wrapped__\");if(_||k){var I=_?e.value():e,T=k?t.value():t;return v||(v=new r),m(I,T,n,g,v)}}return!!E&&(v||(v=new r),a(e,t,n,g,m,v))}},358:(e,t,n)=>{var r=n(6137),o=n(3283),i=n(3142),a=n(5853),s=n(9632),c=n(8666),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&c(e),h=n||l||f||d,p=h?r(e.length,String):[],g=p.length;for(var m in e)!t&&!u.call(e,m)||h&&(\"length\"==m||f&&(\"offset\"==m||\"parent\"==m)||d&&(\"buffer\"==m||\"byteLength\"==m||\"byteOffset\"==m)||s(m,g))||p.push(m);return p}},393:(e,t,n)=>{var r=n(8244),o=n(7979),i=n(1211);e.exports=function(e){return r(e,i,o)}},424:(e,t,n)=>{var r=n(8898),o=n(2480),i=n(8340),a=n(8069),s=n(2264);e.exports=function(e,t,n){var c=e.constructor;switch(t){case\"[object ArrayBuffer]\":return r(e);case\"[object Boolean]\":case\"[object Date]\":return new c(+e);case\"[object DataView]\":return o(e,n);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return s(e,n);case\"[object Map]\":case\"[object Set]\":return new c;case\"[object Number]\":case\"[object String]\":return new c(e);case\"[object RegExp]\":return i(e);case\"[object Symbol]\":return a(e)}}},441:(e,t,n)=>{var r=n(7379),o=n(547),i=n(8360);e.exports=function(e){if(!o(e))return!1;var t=r(e);return\"[object Error]\"==t||\"[object DOMException]\"==t||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!i(e)}},528:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},547:e=>{e.exports=function(e){return null!=e&&\"object\"==typeof e}},674:(e,t,n)=>{var r=n(7379),o=n(5387),i=n(547),a={};a[\"[object Float32Array]\"]=a[\"[object Float64Array]\"]=a[\"[object Int8Array]\"]=a[\"[object Int16Array]\"]=a[\"[object Int32Array]\"]=a[\"[object Uint8Array]\"]=a[\"[object Uint8ClampedArray]\"]=a[\"[object Uint16Array]\"]=a[\"[object Uint32Array]\"]=!0,a[\"[object Arguments]\"]=a[\"[object Array]\"]=a[\"[object ArrayBuffer]\"]=a[\"[object Boolean]\"]=a[\"[object DataView]\"]=a[\"[object Date]\"]=a[\"[object Error]\"]=a[\"[object Function]\"]=a[\"[object Map]\"]=a[\"[object Number]\"]=a[\"[object Object]\"]=a[\"[object RegExp]\"]=a[\"[object Set]\"]=a[\"[object String]\"]=a[\"[object WeakMap]\"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},714:(e,t,n)=>{var r=n(5650),o=n(3283),i=n(3142),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},777:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object Map]\"==r(e)}},796:(e,t,n)=>{var r=n(7403),o=n(3316)(r);e.exports=o},864:(e,t,n)=>{var r=n(8638),o=n(1439),i=o((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=i},961:(e,t,n)=>{var r=n(3476),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+\"\",n=r[t],i=o.call(r,t)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==e)return a.name}return t}},1048:(e,t,n)=>{\"use strict\";const r=n(7991),o=n(9318),i=\"function\"==typeof Symbol&&\"function\"==typeof Symbol.for?Symbol.for(\"nodejs.util.inspect.custom\"):null;t.hp=c,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if(\"number\"==typeof e){if(\"string\"==typeof t)throw new TypeError('The \"string\" argument must be of type string. Received type number');return f(e)}return u(e,t,n)}function u(e,t,n){if(\"string\"==typeof e)return function(e,t){\"string\"==typeof t&&\"\"!==t||(t=\"utf8\");if(!c.isEncoding(t))throw new TypeError(\"Unknown encoding: \"+t);const n=0|g(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return h(e,t,n);if(\"undefined\"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return h(e,t,n);if(\"number\"==typeof e)throw new TypeError('The \"value\" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return\"number\"!=typeof e.length||Z(e.length)?s(0):d(e);if(\"Buffer\"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(o)return o;if(\"undefined\"!=typeof Symbol&&null!=Symbol.toPrimitive&&\"function\"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive](\"string\"),t,n);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+typeof e)}function l(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be of type number');if(e<0)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}function f(e){return l(e),s(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('\"offset\" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('\"length\" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=a)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+a.toString(16)+\" bytes\");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if(\"string\"!=typeof e)throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":return G(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return V(e).length;default:if(o)return r?-1:G(e).length;t=(\"\"+t).toLowerCase(),o=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return C(this,t,n);case\"utf8\":case\"utf-8\":return k(this,t,n);case\"ascii\":return T(this,t,n);case\"latin1\":case\"binary\":return O(this,t,n);case\"base64\":return _(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return B(this,t,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if(\"string\"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if(\"string\"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if(\"number\"==typeof t)return t&=255,\"function\"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError(\"val must be string, number or Buffer\")}function w(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&(\"ucs2\"===(r=String(r).toLowerCase())||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function b(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function A(e,t,n,r){return H(G(t,e.length-n),e,n,r)}function S(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return H(V(t),e,n,r)}function E(e,t,n,r){return H(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n=\"\",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),Object.defineProperty(c.prototype,\"parent\",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,\"offset\",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?\"string\"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return f(e)},c.allocUnsafeSlow=function(e){return f(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(J(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('\"list\" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?\"\":0===arguments.length?k(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e=\"\";const n=t.IS;return e=this.toString(\"hex\",0,n).replace(/(.{2})/g,\"$1 \").trim(),this.length>n&&(e+=\" ... \"),\"<Buffer \"+e+\">\"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError(\"out of range index\");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<s;++e)if(u[e]!==l[e]){i=u[e],a=l[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r=\"utf8\",n=this.length,t=0;else if(void 0===n&&\"string\"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");let i=!1;for(;;)switch(r){case\"hex\":return b(this,e,t,n);case\"utf8\":case\"utf-8\":return A(this,e,t,n);case\"ascii\":case\"latin1\":case\"binary\":return S(this,e,t,n);case\"base64\":return x(this,e,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return E(this,e,t,n);default:if(i)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function T(e,t,n){let r=\"\";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function O(e,t,n){let r=\"\";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function C(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o=\"\";for(let r=t;r<n;++r)o+=Y[e[r]];return o}function B(e,t,n){const r=e.slice(t,n);let o=\"\";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>n)throw new RangeError(\"Trying to access beyond buffer length\")}function j(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('\"value\" argument is out of bounds');if(n+r>e.length)throw new RangeError(\"Index out of range\")}function P(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function N(e,t,n,r,o){F(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function L(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function M(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){q(e>>>=0,\"offset\");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){j(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){j(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return P(this,e,t,BigInt(0),BigInt(\"0xffffffffffffffff\"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return N(this,e,t,BigInt(0),BigInt(\"0xffffffffffffffff\"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);j(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);j(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return P(this,e,t,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return N(this,e,t,-BigInt(\"0x8000000000000000\"),BigInt(\"0x7fffffffffffffff\"))})),c.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&\"function\"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if(\"string\"==typeof e){if(\"string\"==typeof t?(r=t,t=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!c.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r);if(1===e.length){const t=e.charCodeAt(0);(\"utf8\"===r&&t<128||\"latin1\"===r)&&(e=t)}}else\"number\"==typeof e?e&=255:\"boolean\"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError('The value \"'+e+'\" is invalid for argument \"value\"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const U={};function $(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,\"message\",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,\"code\",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function D(e){let t=\"\",n=e.length;const r=\"-\"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function F(e,t,n,r,o,i){if(e>n||e<t){const r=\"bigint\"==typeof t?\"n\":\"\";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE(\"value\",o,e)}!function(e,t,n){q(t,\"offset\"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,o,i)}function q(e,t){if(\"number\"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,\"number\",e)}function W(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new U.ERR_OUT_OF_RANGE(n||\"offset\",\"an integer\",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||\"offset\",`>= ${n?1:0} and <= ${t}`,e)}$(\"ERR_BUFFER_OUT_OF_BOUNDS\",(function(e){return e?`${e} is outside of buffer bounds`:\"Attempt to access memory outside buffer bounds\"}),RangeError),$(\"ERR_INVALID_ARG_TYPE\",(function(e,t){return`The \"${e}\" argument must be of type number. Received type ${typeof t}`}),TypeError),$(\"ERR_OUT_OF_RANGE\",(function(e,t,n){let r=`The value of \"${e}\" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=D(String(n)):\"bigint\"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=D(o)),o+=\"n\"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function V(e){return r.toByteArray(function(e){if((e=(e=e.split(\"=\")[0]).trim().replace(K,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function H(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const Y=function(){const e=\"0123456789abcdef\",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Q(e){return\"undefined\"==typeof BigInt?X:e}function X(){throw new Error(\"BigInt not supported\")}},1112:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1129:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},1182:(e,t,n)=>{var r=n(393),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var f=l;f--;){var d=u[f];if(!(c?d in t:o.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++f<l;){var v=e[d=u[f]],y=t[d];if(i)var w=c?i(y,v,d,t,e,s):i(v,y,d,e,t,s);if(!(void 0===w?v===y||a(v,y,n,i,s):w)){g=!1;break}m||(m=\"constructor\"==d)}if(g&&!m){var b=e.constructor,A=t.constructor;b==A||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof b&&b instanceof b&&\"function\"==typeof A&&A instanceof A||(g=!1)}return s.delete(e),s.delete(t),g}},1187:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return\"symbol\"==typeof e||o(e)&&\"[object Symbol]\"==r(e)}},1211:(e,t,n)=>{var r=n(358),o=n(195),i=n(6529);e.exports=function(e){return i(e)?r(e):o(e)}},1340:(e,t,n)=>{var r=n(1386),o=n(4103),i=n(1779),a=n(4162),s=n(7462),c=n(6638);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},1386:(e,t,n)=>{var r=n(2393),o=n(2049),i=n(7144),a=n(7452),s=n(3964);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},1439:(e,t,n)=>{var r=n(5857),o=n(5234),i=n(796);e.exports=function(e){return i(o(e,void 0,r),e+\"\")}},1580:e=>{e.exports=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}},1623:(e,t,n)=>{var r=n(8942).Uint8Array;e.exports=r},1779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1877:e=>{e.exports=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this}},1935:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object Set]\"==r(e)}},1942:(e,t,n)=>{var r=n(528),o=n(1439),i=n(5196),a=n(961),s=n(3142),c=n(6648);e.exports=function(e){return o((function(t){var n=t.length,o=n,u=r.prototype.thru;for(e&&t.reverse();o--;){var l=t[o];if(\"function\"!=typeof l)throw new TypeError(\"Expected a function\");if(u&&!f&&\"wrapper\"==a(l))var f=new r([],!0)}for(o=f?o:n;++o<n;){l=t[o];var d=a(l),h=\"wrapper\"==d?i(l):void 0;f=h&&c(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?f[a(h[0])].apply(f,h[3]):1==l.length&&c(l)?f[d]():f.thru(l)}return function(){var e=arguments,r=e[0];if(f&&1==e.length&&s(r))return f.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}},1950:(e,t,n)=>{var r=n(8942)[\"__core-js_shared__\"];e.exports=r},2049:(e,t,n)=>{var r=n(7034),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},2053:e=>{e.exports=function(e){return e}},2264:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},2291:(e,t,n)=>{var r=n(5650),o=n(5111),i=n(3142),a=n(1187),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if(\"string\"==typeof t)return t;if(i(t))return o(t,e)+\"\";if(a(t))return c?c.call(t):\"\";var n=t+\"\";return\"0\"==n&&1/t==-Infinity?\"-0\":n}},2306:(e,t,n)=>{e=n.nmd(e);var r=n(4967),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require(\"util\").types;return e||a&&a.binding&&a.binding(\"util\")}catch(e){}}();e.exports=s},2343:(e,t,n)=>{var r=n(4687),o=n(6123),i=n(7276),a=n(5187),s=n(7267),c=n(3904),u=n(6040);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},2393:e=>{e.exports=function(){this.__data__=[],this.size=0}},2443:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(3504),a=n(4216),s=n(6850),c=n(8813),u=n(8942);e.exports=function(e,t,n){var l=o(e);return function o(){for(var f=arguments.length,d=Array(f),h=f,p=s(o);h--;)d[h]=arguments[h];var g=f<3&&d[0]!==p&&d[f-1]!==p?[]:c(d,p);return(f-=g.length)<n?a(e,t,i,o.placeholder,void 0,d,g,void 0,void 0,n-f):r(this&&this!==u&&this instanceof o?l:e,this,d)}}},2478:(e,t,n)=>{var r=n(7250),o=n(9454),i=n(7706);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},2480:(e,t,n)=>{var r=n(8898);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},2532:(e,t,n)=>{var r=n(4715),o=function(){try{var e=r(Object,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}();e.exports=o},2590:(e,t,n)=>{var r=n(9334),o=n(3334);e.exports=function(e){return o(\"function\"==typeof e?e:r(e,1))}},2613:(e,t,n)=>{var r=n(5111),o=n(4354),i=n(3142),a=n(1187),s=n(6493),c=n(6040),u=n(5243);e.exports=function(e){return i(e)?r(e,c):a(e)?[e]:o(s(u(e)))}},2619:e=>{e.exports=function(e){return function(){return e}}},2673:(e,t,n)=>{var r=n(3579),o=n(8055);e.exports=function(e,t,n){return r(o,e,t,n)}},2762:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2784:(e,t,n)=>{var r=n(1580),o=n(4495),i=n(6131),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,u,l,f,d,h,p=0,g=!1,m=!1,v=!0;if(\"function\"!=typeof e)throw new TypeError(\"Expected a function\");function y(t){var n=c,r=u;return c=u=void 0,p=t,f=e.apply(r,n)}function w(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=l}function b(){var e=o();if(w(e))return A(e);d=setTimeout(b,function(e){var n=t-(e-h);return m?s(n,l-(e-p)):n}(e))}function A(e){return d=void 0,v&&c?y(e):(c=u=void 0,f)}function S(){var e=o(),n=w(e);if(c=arguments,u=this,h=e,n){if(void 0===d)return function(e){return p=e,d=setTimeout(b,t),g?y(e):f}(h);if(m)return clearTimeout(d),d=setTimeout(b,t),y(h)}return void 0===d&&(d=setTimeout(b,t)),f}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(m=\"maxWait\"in n)?a(i(n.maxWait)||0,t):l,v=\"trailing\"in n?!!n.trailing:v),S.cancel=function(){void 0!==d&&clearTimeout(d),p=0,c=h=u=d=void 0},S.flush=function(){return void 0===d?f:A(o())},S}},2846:(e,t,n)=>{var r=n(9334);e.exports=function(e){return r(e,4)}},2879:(e,t,n)=>{var r=n(1942)();e.exports=r},2945:e=>{var t=/\\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2991:e=>{e.exports={}},3092:(e,t,n)=>{var r=n(2673)(\"flow\",n(2879));r.placeholder=n(2991),e.exports=r},3103:(e,t,n)=>{var r=n(4715)(n(8942),\"DataView\");e.exports=r},3142:e=>{var t=Array.isArray;e.exports=t},3212:(e,t,n)=>{var r=n(8250),o=n(1877),i=n(8006);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},3282:(e,t,n)=>{var r=n(2762),o=n(8880),i=n(5187),a=n(6040);e.exports=function(e){return i(e)?r(a(e)):o(e)}},3283:(e,t,n)=>{var r=n(6027),o=n(547),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,\"callee\")&&!s.call(e,\"callee\")};e.exports=c},3301:(e,t,n)=>{var r=n(6131),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},3305:(e,t,n)=>{var r=n(4497);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3316:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},3321:(e,t,n)=>{var r=n(7553),o=n(528),i=n(5962),a=n(3142),s=n(547),c=n(3410),u=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(u.call(e,\"__wrapped__\"))return c(e)}return new o(e)}l.prototype=i.prototype,l.prototype.constructor=l,e.exports=l},3334:(e,t,n)=>{var r=n(6526),o=n(2343),i=n(2053),a=n(3142),s=n(3282);e.exports=function(e){return\"function\"==typeof e?e:null==e?i:\"object\"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},3410:(e,t,n)=>{var r=n(7553),o=n(528),i=n(4354);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},3422:(e,t,n)=>{var r=n(7073),o=n(6285),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},3476:e=>{e.exports={}},3504:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(3816),a=n(4364),s=n(4216),c=n(6850),u=n(6591),l=n(8813),f=n(8942);e.exports=function e(t,n,d,h,p,g,m,v,y,w){var b=128&n,A=1&n,S=2&n,x=24&n,E=512&n,_=S?void 0:a(t);return function k(){for(var I=arguments.length,T=Array(I),O=I;O--;)T[O]=arguments[O];if(x)var C=c(k),B=i(T,C);if(h&&(T=r(T,h,p,x)),g&&(T=o(T,g,m,x)),I-=B,x&&I<w){var R=l(T,C);return s(t,n,e,k.placeholder,d,T,R,v,y,w-I)}var j=A?d:this,P=S?j[t]:t;return I=T.length,v?T=u(T,v):E&&I>1&&T.reverse(),b&&y<I&&(T.length=y),this&&this!==f&&this instanceof k&&(P=_||a(P)),P.apply(j,T)}}},3526:(e,t,n)=>{var r=n(3142),o=n(5187),i=n(6493),a=n(5243);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},3546:(e,t,n)=>{var r=n(9032),o=n(7979);e.exports=function(e,t){return r(e,o(e),t)}},3565:(e,t)=>{t.aliasToReal={each:\"forEach\",eachRight:\"forEachRight\",entries:\"toPairs\",entriesIn:\"toPairsIn\",extend:\"assignIn\",extendAll:\"assignInAll\",extendAllWith:\"assignInAllWith\",extendWith:\"assignInWith\",first:\"head\",conforms:\"conformsTo\",matches:\"isMatch\",property:\"get\",__:\"placeholder\",F:\"stubFalse\",T:\"stubTrue\",all:\"every\",allPass:\"overEvery\",always:\"constant\",any:\"some\",anyPass:\"overSome\",apply:\"spread\",assoc:\"set\",assocPath:\"set\",complement:\"negate\",compose:\"flowRight\",contains:\"includes\",dissoc:\"unset\",dissocPath:\"unset\",dropLast:\"dropRight\",dropLastWhile:\"dropRightWhile\",equals:\"isEqual\",identical:\"eq\",indexBy:\"keyBy\",init:\"initial\",invertObj:\"invert\",juxt:\"over\",omitAll:\"omit\",nAry:\"ary\",path:\"get\",pathEq:\"matchesProperty\",pathOr:\"getOr\",paths:\"at\",pickAll:\"pick\",pipe:\"flow\",pluck:\"map\",prop:\"get\",propEq:\"matchesProperty\",propOr:\"getOr\",props:\"at\",symmetricDifference:\"xor\",symmetricDifferenceBy:\"xorBy\",symmetricDifferenceWith:\"xorWith\",takeLast:\"takeRight\",takeLastWhile:\"takeRightWhile\",unapply:\"rest\",unnest:\"flatten\",useWith:\"overArgs\",where:\"conformsTo\",whereEq:\"isMatch\",zipObj:\"zipObject\"},t.aryMethod={1:[\"assignAll\",\"assignInAll\",\"attempt\",\"castArray\",\"ceil\",\"create\",\"curry\",\"curryRight\",\"defaultsAll\",\"defaultsDeepAll\",\"floor\",\"flow\",\"flowRight\",\"fromPairs\",\"invert\",\"iteratee\",\"memoize\",\"method\",\"mergeAll\",\"methodOf\",\"mixin\",\"nthArg\",\"over\",\"overEvery\",\"overSome\",\"rest\",\"reverse\",\"round\",\"runInContext\",\"spread\",\"template\",\"trim\",\"trimEnd\",\"trimStart\",\"uniqueId\",\"words\",\"zipAll\"],2:[\"add\",\"after\",\"ary\",\"assign\",\"assignAllWith\",\"assignIn\",\"assignInAllWith\",\"at\",\"before\",\"bind\",\"bindAll\",\"bindKey\",\"chunk\",\"cloneDeepWith\",\"cloneWith\",\"concat\",\"conformsTo\",\"countBy\",\"curryN\",\"curryRightN\",\"debounce\",\"defaults\",\"defaultsDeep\",\"defaultTo\",\"delay\",\"difference\",\"divide\",\"drop\",\"dropRight\",\"dropRightWhile\",\"dropWhile\",\"endsWith\",\"eq\",\"every\",\"filter\",\"find\",\"findIndex\",\"findKey\",\"findLast\",\"findLastIndex\",\"findLastKey\",\"flatMap\",\"flatMapDeep\",\"flattenDepth\",\"forEach\",\"forEachRight\",\"forIn\",\"forInRight\",\"forOwn\",\"forOwnRight\",\"get\",\"groupBy\",\"gt\",\"gte\",\"has\",\"hasIn\",\"includes\",\"indexOf\",\"intersection\",\"invertBy\",\"invoke\",\"invokeMap\",\"isEqual\",\"isMatch\",\"join\",\"keyBy\",\"lastIndexOf\",\"lt\",\"lte\",\"map\",\"mapKeys\",\"mapValues\",\"matchesProperty\",\"maxBy\",\"meanBy\",\"merge\",\"mergeAllWith\",\"minBy\",\"multiply\",\"nth\",\"omit\",\"omitBy\",\"overArgs\",\"pad\",\"padEnd\",\"padStart\",\"parseInt\",\"partial\",\"partialRight\",\"partition\",\"pick\",\"pickBy\",\"propertyOf\",\"pull\",\"pullAll\",\"pullAt\",\"random\",\"range\",\"rangeRight\",\"rearg\",\"reject\",\"remove\",\"repeat\",\"restFrom\",\"result\",\"sampleSize\",\"some\",\"sortBy\",\"sortedIndex\",\"sortedIndexOf\",\"sortedLastIndex\",\"sortedLastIndexOf\",\"sortedUniqBy\",\"split\",\"spreadFrom\",\"startsWith\",\"subtract\",\"sumBy\",\"take\",\"takeRight\",\"takeRightWhile\",\"takeWhile\",\"tap\",\"throttle\",\"thru\",\"times\",\"trimChars\",\"trimCharsEnd\",\"trimCharsStart\",\"truncate\",\"union\",\"uniqBy\",\"uniqWith\",\"unset\",\"unzipWith\",\"without\",\"wrap\",\"xor\",\"zip\",\"zipObject\",\"zipObjectDeep\"],3:[\"assignInWith\",\"assignWith\",\"clamp\",\"differenceBy\",\"differenceWith\",\"findFrom\",\"findIndexFrom\",\"findLastFrom\",\"findLastIndexFrom\",\"getOr\",\"includesFrom\",\"indexOfFrom\",\"inRange\",\"intersectionBy\",\"intersectionWith\",\"invokeArgs\",\"invokeArgsMap\",\"isEqualWith\",\"isMatchWith\",\"flatMapDepth\",\"lastIndexOfFrom\",\"mergeWith\",\"orderBy\",\"padChars\",\"padCharsEnd\",\"padCharsStart\",\"pullAllBy\",\"pullAllWith\",\"rangeStep\",\"rangeStepRight\",\"reduce\",\"reduceRight\",\"replace\",\"set\",\"slice\",\"sortedIndexBy\",\"sortedLastIndexBy\",\"transform\",\"unionBy\",\"unionWith\",\"update\",\"xorBy\",\"xorWith\",\"zipWith\"],4:[\"fill\",\"setWith\",\"updateWith\"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var i=n[o];e.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),t.remap={assignAll:\"assign\",assignAllWith:\"assignWith\",assignInAll:\"assignIn\",assignInAllWith:\"assignInWith\",curryN:\"curry\",curryRightN:\"curryRight\",defaultsAll:\"defaults\",defaultsDeepAll:\"defaultsDeep\",findFrom:\"find\",findIndexFrom:\"findIndex\",findLastFrom:\"findLast\",findLastIndexFrom:\"findLastIndex\",getOr:\"get\",includesFrom:\"includes\",indexOfFrom:\"indexOf\",invokeArgs:\"invoke\",invokeArgsMap:\"invokeMap\",lastIndexOfFrom:\"lastIndexOf\",mergeAll:\"merge\",mergeAllWith:\"mergeWith\",padChars:\"pad\",padCharsEnd:\"padEnd\",padCharsStart:\"padStart\",propertyOf:\"get\",rangeStep:\"range\",rangeStepRight:\"rangeRight\",restFrom:\"rest\",spreadFrom:\"spread\",trimChars:\"trim\",trimCharsEnd:\"trimEnd\",trimCharsStart:\"trimStart\",zipAll:\"zip\"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},3579:(e,t,n)=>{var r=n(3565),o=n(2991),i=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}e.exports=function e(t,n,u,l){var f=\"function\"==typeof n,d=n===Object(n);if(d&&(l=u,u=n,n=void 0),null==u)throw new TypeError;l||(l={});var h={cap:!(\"cap\"in l)||l.cap,curry:!(\"curry\"in l)||l.curry,fixed:!(\"fixed\"in l)||l.fixed,immutable:!(\"immutable\"in l)||l.immutable,rearg:!(\"rearg\"in l)||l.rearg},p=f?u:o,g=\"curry\"in l&&l.curry,m=\"fixed\"in l&&l.fixed,v=\"rearg\"in l&&l.rearg,y=f?u.runInContext():void 0,w=f?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},b=w.ary,A=w.assign,S=w.clone,x=w.curry,E=w.forEach,_=w.isArray,k=w.isError,I=w.isFunction,T=w.isWeakMap,O=w.keys,C=w.rearg,B=w.toInteger,R=w.toPath,j=O(r.aryMethod),P={castArray:function(e){return function(){var t=arguments[0];return _(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],n=e(arguments[0],t),r=n.length;return h.cap&&\"number\"==typeof t?(t=t>2?t-2:1,r&&r<=t?n:a(n,t)):n}},mixin:function(e){return function(t){var n=this;if(!I(n))return e(n,Object(t));var r=[];return E(O(t),(function(e){I(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),E(r,(function(e){var t=e[1];I(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:B(t)+1;return x(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return x(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),l)}}};function N(e,t){if(h.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return $(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(C(a(e,n),t),n)}))}(t,n);var o=!f&&r.iterateeAry[e];if(o)return function(e,t){return $(e,(function(e){return\"function\"==typeof e?a(e,t):e}))}(t,o)}return t}function L(e,t,n){if(h.fixed&&(m||!r.skipFixed[e])){var o=r.methodSpread[e],a=o&&o.start;return void 0===a?b(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=r&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function M(e,t,n){return h.rearg&&n>1&&(v||!r.skipRearg[e])?C(t,r.methodRearg[e]||r.aryRearg[n]):t}function z(e,t){for(var n=-1,r=(t=R(t)).length,o=r-1,i=S(Object(e)),a=i;null!=a&&++n<r;){var s=t[n],c=a[s];null==c||I(c)||k(c)||T(c)||(a[s]=S(n==o?c:Object(c))),a=a[s]}return i}function U(t,n){var o=r.aliasToReal[t]||t,i=r.remap[o]||o,a=l;return function(t){var r=f?y:w,s=f?y[i]:n,c=A(A({},a),t);return e(r,o,s,c)}}function $(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=h.rearg?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function D(e,t,n){var o,i=r.aliasToReal[e]||e,a=t,u=P[i];return u?a=u(t):h.immutable&&(r.mutate.array[i]?a=c(t,s):r.mutate.object[i]?a=c(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(a=c(t,z))),E(j,(function(e){return E(r.aryMethod[e],(function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return o=s?L(i,M(i,a,e),e):M(i,L(i,a,e),e),o=function(e,t,n){return g||h.curry&&n>1?x(t,n):t}(0,o=N(i,o),e),!1}})),!o})),o||(o=a),o==t&&(o=g?x(o,1):function(){return t.apply(this,arguments)}),o.convert=U(i,t),o.placeholder=t.placeholder=n,o}if(!d)return D(n,u,p);var F=u,q=[];return E(j,(function(e){E(r.aryMethod[e],(function(e){var t=F[r.remap[e]||e];t&&q.push([e,D(e,t,F)])}))})),E(O(F),(function(e){var t=F[e];if(\"function\"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=U(e,t),q.push([e,t])}})),E(q,(function(e){F[e[0]]=e[1]})),F.convert=function(e){return F.runInContext.convert(e)(void 0)},F.placeholder=F,E(O(F),(function(e){E(r.realToAlias[e]||[],(function(t){F[t]=F[e]}))})),F}},3636:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},3650:(e,t,n)=>{var r=n(8244),o=n(5832),i=n(5288);e.exports=function(e){return r(e,i,o)}},3655:(e,t,n)=>{var r=n(7379),o=n(1580);e.exports=function(e){if(!o(e))return!1;var t=r(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}},3766:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3804:(e,t,n)=>{e.exports=n(3092)},3816:e=>{e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},3904:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},3934:(e,t,n)=>{var r=n(3212),o=n(6465),i=n(5568);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,f=t.length;if(l!=f&&!(u&&f>l))return!1;var d=c.get(e),h=c.get(t);if(d&&h)return d==t&&h==e;var p=-1,g=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var v=e[p],y=t[p];if(a)var w=u?a(y,v,p,t,e,c):a(v,y,p,e,t,c);if(void 0!==w){if(w)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(v===e||s(v,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},3943:(e,t,n)=>{var r=n(1935),o=n(9460),i=n(2306),a=i&&i.isSet,s=a?o(a):r;e.exports=s},3964:(e,t,n)=>{var r=n(7034);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4066:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}},4103:(e,t,n)=>{var r=n(1386);e.exports=function(){this.__data__=new r,this.size=0}},4162:e=>{e.exports=function(e){return this.__data__.get(e)}},4216:(e,t,n)=>{var r=n(6648),o=n(5512),i=n(5620);e.exports=function(e,t,n,a,s,c,u,l,f,d){var h=8&t;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var p=[e,t,s,h?c:void 0,h?u:void 0,h?void 0:c,h?void 0:u,l,f,d],g=n.apply(void 0,p);return r(e)&&o(g,p),g.placeholder=a,i(g,e,t)}},4255:(e,t,n)=>{var r=n(2673)(\"debounce\",n(2784));r.placeholder=n(2991),e.exports=r},4354:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},4364:(e,t,n)=>{var r=n(9747),o=n(1580);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return o(i)?i:n}}},4367:(e,t,n)=>{var r=n(7267),o=n(1211);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},4495:(e,t,n)=>{var r=n(8942);e.exports=function(){return r.Date.now()}},4497:(e,t,n)=>{var r=n(4715)(Object,\"create\");e.exports=r},4512:(e,t,n)=>{var r=n(4715)(n(8942),\"Set\");e.exports=r},4687:(e,t,n)=>{var r=n(353),o=n(547);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},4700:(e,t,n)=>{var r=n(9067);e.exports=function(e,t){var n=e.__data__;return r(t)?n[\"string\"==typeof t?\"string\":\"hash\"]:n.map}},4715:(e,t,n)=>{var r=n(9624),o=n(155);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},4732:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).has(e)}},4733:(e,t,n)=>{var r=n(9032),o=n(5832);e.exports=function(e,t){return r(e,o(e),t)}},4759:(e,t,n)=>{var r,o=n(1950),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+r:\"\";e.exports=function(e){return!!i&&i in e}},4772:e=>{e.exports=function(){return!1}},4784:(e,t,n)=>{var r=n(3766)(Object.getPrototypeOf,Object);e.exports=r},4882:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===(\"function\"==typeof n&&n.prototype||t)}},4943:(e,t,n)=>{var r=n(2053),o=n(6065),i=o?function(e,t){return o.set(e,t),e}:r;e.exports=i},4967:(e,t,n)=>{var r=\"object\"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4977:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=r.length,c=-1,u=n.length,l=t(a-s,0),f=Array(u+l),d=!o;++c<u;)f[c]=n[c];for(;++i<s;)(d||i<a)&&(f[r[i]]=e[i]);for(;l--;)f[c++]=e[i++];return f}},5071:(e,t,n)=>{var r=n(4497);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?\"__lodash_hash_undefined__\":t,this}},5098:(e,t,n)=>{var r=n(3305),o=n(9361),i=n(1112),a=n(5276),s=n(5071);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},5111:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},5187:(e,t,n)=>{var r=n(3142),o=n(1187),i=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},5196:(e,t,n)=>{var r=n(6065),o=n(9071),i=r?function(e){return r.get(e)}:o;e.exports=i},5234:(e,t,n)=>{var r=n(6912),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(c),r(e,this,u)}}},5243:(e,t,n)=>{var r=n(2291);e.exports=function(e){return null==e?\"\":r(e)}},5250:function(e,t,n){var r;e=n.nmd(e),function(){var o,i=\"Expected a function\",a=\"__lodash_hash_undefined__\",s=\"__lodash_placeholder__\",c=16,u=32,l=64,f=128,d=256,h=1/0,p=9007199254740991,g=NaN,m=4294967295,v=[[\"ary\",f],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",c],[\"flip\",512],[\"partial\",u],[\"partialRight\",l],[\"rearg\",d]],y=\"[object Arguments]\",w=\"[object Array]\",b=\"[object Boolean]\",A=\"[object Date]\",S=\"[object Error]\",x=\"[object Function]\",E=\"[object GeneratorFunction]\",_=\"[object Map]\",k=\"[object Number]\",I=\"[object Object]\",T=\"[object Promise]\",O=\"[object RegExp]\",C=\"[object Set]\",B=\"[object String]\",R=\"[object Symbol]\",j=\"[object WeakMap]\",P=\"[object ArrayBuffer]\",N=\"[object DataView]\",L=\"[object Float32Array]\",M=\"[object Float64Array]\",z=\"[object Int8Array]\",U=\"[object Int16Array]\",$=\"[object Int32Array]\",D=\"[object Uint8Array]\",F=\"[object Uint8ClampedArray]\",q=\"[object Uint16Array]\",W=\"[object Uint32Array]\",K=/\\b__p \\+= '';/g,G=/\\b(__p \\+=) '' \\+/g,V=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>\"']/g,Z=RegExp(H.source),Y=RegExp(J.source),Q=/<%-([\\s\\S]+?)%>/g,X=/<%([\\s\\S]+?)%>/g,ee=/<%=([\\s\\S]+?)%>/g,te=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,ne=/^\\w*$/,re=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,oe=/[\\\\^$.*+?()[\\]{}|]/g,ie=RegExp(oe.source),ae=/^\\s+/,se=/\\s/,ce=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,ue=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,le=/,? & /,fe=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,de=/[()=,{}\\[\\]\\/\\s]/,he=/\\\\(\\\\)?/g,pe=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,ge=/\\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\\[object .+?Constructor\\]$/,we=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\\d*)$/,Ae=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,Se=/($^)/,xe=/['\\n\\r\\u2028\\u2029\\\\]/g,Ee=\"\\\\ud800-\\\\udfff\",_e=\"\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\",ke=\"\\\\u2700-\\\\u27bf\",Ie=\"a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff\",Te=\"A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde\",Oe=\"\\\\ufe0e\\\\ufe0f\",Ce=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",Be=\"[']\",Re=\"[\"+Ee+\"]\",je=\"[\"+Ce+\"]\",Pe=\"[\"+_e+\"]\",Ne=\"\\\\d+\",Le=\"[\"+ke+\"]\",Me=\"[\"+Ie+\"]\",ze=\"[^\"+Ee+Ce+Ne+ke+Ie+Te+\"]\",Ue=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",$e=\"[^\"+Ee+\"]\",De=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",Fe=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",qe=\"[\"+Te+\"]\",We=\"\\\\u200d\",Ke=\"(?:\"+Me+\"|\"+ze+\")\",Ge=\"(?:\"+qe+\"|\"+ze+\")\",Ve=\"(?:['](?:d|ll|m|re|s|t|ve))?\",He=\"(?:['](?:D|LL|M|RE|S|T|VE))?\",Je=\"(?:\"+Pe+\"|\"+Ue+\")\"+\"?\",Ze=\"[\"+Oe+\"]?\",Ye=Ze+Je+(\"(?:\"+We+\"(?:\"+[$e,De,Fe].join(\"|\")+\")\"+Ze+Je+\")*\"),Qe=\"(?:\"+[Le,De,Fe].join(\"|\")+\")\"+Ye,Xe=\"(?:\"+[$e+Pe+\"?\",Pe,De,Fe,Re].join(\"|\")+\")\",et=RegExp(Be,\"g\"),tt=RegExp(Pe,\"g\"),nt=RegExp(Ue+\"(?=\"+Ue+\")|\"+Xe+Ye,\"g\"),rt=RegExp([qe+\"?\"+Me+\"+\"+Ve+\"(?=\"+[je,qe,\"$\"].join(\"|\")+\")\",Ge+\"+\"+He+\"(?=\"+[je,qe+Ke,\"$\"].join(\"|\")+\")\",qe+\"?\"+Ke+\"+\"+Ve,qe+\"+\"+He,\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",Ne,Qe].join(\"|\"),\"g\"),ot=RegExp(\"[\"+We+Ee+_e+Oe+\"]\"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],st=-1,ct={};ct[L]=ct[M]=ct[z]=ct[U]=ct[$]=ct[D]=ct[F]=ct[q]=ct[W]=!0,ct[y]=ct[w]=ct[P]=ct[b]=ct[N]=ct[A]=ct[S]=ct[x]=ct[_]=ct[k]=ct[I]=ct[O]=ct[C]=ct[B]=ct[j]=!1;var ut={};ut[y]=ut[w]=ut[P]=ut[N]=ut[b]=ut[A]=ut[L]=ut[M]=ut[z]=ut[U]=ut[$]=ut[_]=ut[k]=ut[I]=ut[O]=ut[C]=ut[B]=ut[R]=ut[D]=ut[F]=ut[q]=ut[W]=!0,ut[S]=ut[x]=ut[j]=!1;var lt={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},ft=parseFloat,dt=parseInt,ht=\"object\"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt=\"object\"==typeof self&&self&&self.Object===Object&&self,gt=ht||pt||Function(\"return this\")(),mt=t&&!t.nodeType&&t,vt=mt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===mt,wt=yt&&ht.process,bt=function(){try{var e=vt&&vt.require&&vt.require(\"util\").types;return e||wt&&wt.binding&&wt.binding(\"util\")}catch(e){}}(),At=bt&&bt.isArrayBuffer,St=bt&&bt.isDate,xt=bt&&bt.isMap,Et=bt&&bt.isRegExp,_t=bt&&bt.isSet,kt=bt&&bt.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function jt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Lt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Mt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function zt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var $t=Vt(\"length\");function Dt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Ft(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function qt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,Kt,n)}function Wt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Kt(e){return e!=e}function Gt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:g}function Vt(e){return function(t){return null==t?o:t[e]}}function Ht(e){return function(t){return null==e?o:e[t]}}function Jt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Zt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,mn(e)+1).replace(ae,\"\"):e}function Xt(e){return function(t){return e(t)}}function en(e,t){return Nt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var on=Ht({:\"A\",:\"A\",:\"A\",:\"A\",:\"A\",:\"A\",:\"a\",:\"a\",:\"a\",:\"a\",:\"a\",:\"a\",:\"C\",:\"c\",:\"D\",:\"d\",:\"E\",:\"E\",:\"E\",:\"E\",:\"e\",:\"e\",:\"e\",:\"e\",:\"I\",:\"I\",:\"I\",:\"I\",:\"i\",:\"i\",:\"i\",:\"i\",:\"N\",:\"n\",:\"O\",:\"O\",:\"O\",:\"O\",:\"O\",:\"O\",:\"o\",:\"o\",:\"o\",:\"o\",:\"o\",:\"o\",:\"U\",:\"U\",:\"U\",:\"U\",:\"u\",:\"u\",:\"u\",:\"u\",:\"Y\",:\"y\",:\"y\",:\"Ae\",:\"ae\",:\"Th\",:\"th\",:\"ss\",:\"A\",:\"A\",:\"A\",:\"a\",:\"a\",:\"a\",:\"C\",:\"C\",:\"C\",:\"C\",:\"c\",:\"c\",:\"c\",:\"c\",:\"D\",:\"D\",:\"d\",:\"d\",:\"E\",:\"E\",:\"E\",:\"E\",:\"E\",:\"e\",:\"e\",:\"e\",:\"e\",:\"e\",:\"G\",:\"G\",:\"G\",:\"G\",:\"g\",:\"g\",:\"g\",:\"g\",:\"H\",:\"H\",:\"h\",:\"h\",:\"I\",:\"I\",:\"I\",:\"I\",:\"I\",:\"i\",:\"i\",:\"i\",:\"i\",:\"i\",:\"J\",:\"j\",:\"K\",:\"k\",:\"k\",:\"L\",:\"L\",:\"L\",:\"L\",:\"L\",:\"l\",:\"l\",:\"l\",:\"l\",:\"l\",:\"N\",:\"N\",:\"N\",:\"N\",:\"n\",:\"n\",:\"n\",:\"n\",:\"O\",:\"O\",:\"O\",:\"o\",:\"o\",:\"o\",:\"R\",:\"R\",:\"R\",:\"r\",:\"r\",:\"r\",:\"S\",:\"S\",:\"S\",:\"S\",:\"s\",:\"s\",:\"s\",:\"s\",:\"T\",:\"T\",:\"T\",:\"t\",:\"t\",:\"t\",:\"U\",:\"U\",:\"U\",:\"U\",:\"U\",:\"U\",:\"u\",:\"u\",:\"u\",:\"u\",:\"u\",:\"u\",:\"W\",:\"w\",:\"Y\",:\"y\",:\"Y\",:\"Z\",:\"Z\",:\"Z\",:\"z\",:\"z\",:\"z\",:\"IJ\",:\"ij\",:\"Oe\",:\"oe\",:\"'n\",:\"s\"}),an=Ht({\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"});function sn(e){return\"\\\\\"+lt[e]}function cn(e){return ot.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return cn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):$t(e)}function gn(e){return cn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split(\"\")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vn=Ht({\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"});var yn=function e(t){var n,r=(t=null==t?gt:yn.defaults(gt.Object(),t,yn.pick(gt,at))).Array,se=t.Date,Ee=t.Error,_e=t.Function,ke=t.Math,Ie=t.Object,Te=t.RegExp,Oe=t.String,Ce=t.TypeError,Be=r.prototype,Re=_e.prototype,je=Ie.prototype,Pe=t[\"__core-js_shared__\"],Ne=Re.toString,Le=je.hasOwnProperty,Me=0,ze=(n=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+n:\"\",Ue=je.toString,$e=Ne.call(Ie),De=gt._,Fe=Te(\"^\"+Ne.call(Le).replace(oe,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),qe=yt?t.Buffer:o,We=t.Symbol,Ke=t.Uint8Array,Ge=qe?qe.allocUnsafe:o,Ve=ln(Ie.getPrototypeOf,Ie),He=Ie.create,Je=je.propertyIsEnumerable,Ze=Be.splice,Ye=We?We.isConcatSpreadable:o,Qe=We?We.iterator:o,Xe=We?We.toStringTag:o,nt=function(){try{var e=hi(Ie,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}(),ot=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,lt=se&&se.now!==gt.Date.now&&se.now,ht=t.setTimeout!==gt.setTimeout&&t.setTimeout,pt=ke.ceil,mt=ke.floor,vt=Ie.getOwnPropertySymbols,wt=qe?qe.isBuffer:o,bt=t.isFinite,$t=Be.join,Ht=ln(Ie.keys,Ie),wn=ke.max,bn=ke.min,An=se.now,Sn=t.parseInt,xn=ke.random,En=Be.reverse,_n=hi(t,\"DataView\"),kn=hi(t,\"Map\"),In=hi(t,\"Promise\"),Tn=hi(t,\"Set\"),On=hi(t,\"WeakMap\"),Cn=hi(Ie,\"create\"),Bn=On&&new On,Rn={},jn=Ui(_n),Pn=Ui(kn),Nn=Ui(In),Ln=Ui(Tn),Mn=Ui(On),zn=We?We.prototype:o,Un=zn?zn.valueOf:o,$n=zn?zn.toString:o;function Dn(e){if(ns(e)&&!Ka(e)&&!(e instanceof Kn)){if(e instanceof Wn)return e;if(Le.call(e,\"__wrapped__\"))return $i(e)}return new Wn(e)}var Fn=function(){function e(){}return function(t){if(!ts(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function qn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Kn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Zn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Yn(e,t){var n=Ka(e),r=!n&&Wa(e),o=!n&&!r&&Ja(e),i=!n&&!r&&!o&&ls(e),a=n||r||o||i,s=a?Yt(e.length,Oe):[],c=s.length;for(var u in e)!t&&!Le.call(e,u)||a&&(\"length\"==u||o&&(\"offset\"==u||\"parent\"==u)||i&&(\"buffer\"==u||\"byteLength\"==u||\"byteOffset\"==u)||bi(u,c))||s.push(u);return s}function Qn(e){var t=e.length;return t?e[Jr(0,t-1)]:o}function Xn(e,t){return Li(Bo(e),cr(t,0,e.length))}function er(e){return Li(Bo(e))}function tr(e,t,n){(n!==o&&!Da(e[t],n)||n===o&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&Da(r,n)&&(n!==o||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Da(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Ro(t,Rs(t),e)}function ar(e,t,n){\"__proto__\"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Is(e,t[n]);return a}function cr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ur(e,t,n,r,i,a){var s,c=1&t,u=2&t,l=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!ts(e))return e;var f=Ka(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&\"string\"==typeof e[0]&&Le.call(e,\"index\")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return Bo(e,s)}else{var d=mi(e),h=d==x||d==E;if(Ja(e))return _o(e,c);if(d==I||d==y||h&&!i){if(s=u||h?{}:yi(e),!c)return u?function(e,t){return Ro(e,gi(e),t)}(e,function(e,t){return e&&Ro(t,js(t),e)}(s,e)):function(e,t){return Ro(e,pi(e),t)}(e,ir(s,e))}else{if(!ut[d])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case P:return ko(e);case b:case A:return new r(+e);case N:return function(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case M:case z:case U:case $:case D:case F:case q:case W:return Io(e,n);case _:return new r;case k:case B:return new r(e);case O:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new r;case R:return o=e,Un?Ie(Un.call(o)):{}}var o}(e,d,c)}}a||(a=new Zn);var p=a.get(e);if(p)return p;a.set(e,s),ss(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,a))})):rs(e)&&e.forEach((function(r,o){s.set(o,ur(r,t,n,o,e,a))}));var g=f?o:(l?u?ai:ii:u?js:Rs)(e);return Ot(g||e,(function(r,o){g&&(r=e[o=r]),nr(s,o,ur(r,t,n,o,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ie(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function fr(e,t,n){if(\"function\"!=typeof e)throw new Ce(i);return Ri((function(){e.apply(o,n)}),t)}function dr(e,t,n,r){var o=-1,i=jt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=Nt(t,Xt(n))),r?(i=Pt,a=!1):t.length>=200&&(i=tn,a=!1,t=new Jn(t));e:for(;++o<s;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var d=u;d--;)if(t[d]===f)continue e;c.push(l)}else i(t,f,r)||c.push(l)}return c}Dn.templateSettings={escape:Q,evaluate:X,interpolate:ee,variable:\"\",imports:{_:Dn}},Dn.prototype=qn.prototype,Dn.prototype.constructor=Dn,Wn.prototype=Fn(qn.prototype),Wn.prototype.constructor=Wn,Kn.prototype=Fn(qn.prototype),Kn.prototype.constructor=Kn,Gn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Cn){var n=t[e];return n===a?o:n}return Le.call(t,e)?t[e]:o},Gn.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==o:Le.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cn&&t===o?a:t,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},Vn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?o:t[n][1]},Vn.prototype.has=function(e){return rr(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(kn||Vn),string:new Gn}},Hn.prototype.delete=function(e){var t=fi(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return fi(this,e).get(e)},Hn.prototype.has=function(e){return fi(this,e).has(e)},Hn.prototype.set=function(e,t){var n=fi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,a),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Zn.prototype.get=function(e){return this.__data__.get(e)},Zn.prototype.has=function(e){return this.__data__.has(e)},Zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var hr=No(Ar),pr=No(Sr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function mr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(c===o?s==s&&!us(s):n(s,c)))var c=s,u=a}return u}function vr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function yr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=wi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?yr(s,t-1,n,r,o):Lt(o,s):r||(o[o.length]=s)}return o}var wr=Lo(),br=Lo(!0);function Ar(e,t){return e&&wr(e,t,Rs)}function Sr(e,t){return e&&br(e,t,Rs)}function xr(e,t){return Rt(t,(function(t){return Qa(e[t])}))}function Er(e,t){for(var n=0,r=(t=Ao(t,e)).length;null!=e&&n<r;)e=e[zi(t[n++])];return n&&n==r?e:o}function _r(e,t,n){var r=t(e);return Ka(e)?r:Lt(r,n(e))}function kr(e){return null==e?e===o?\"[object Undefined]\":\"[object Null]\":Xe&&Xe in Ie(e)?function(e){var t=Le.call(e,Xe),n=e[Xe];try{e[Xe]=o;var r=!0}catch(e){}var i=Ue.call(e);r&&(t?e[Xe]=n:delete e[Xe]);return i}(e):function(e){return Ue.call(e)}(e)}function Ir(e,t){return e>t}function Tr(e,t){return null!=e&&Le.call(e,t)}function Or(e,t){return null!=e&&t in Ie(e)}function Cr(e,t,n){for(var i=n?Pt:jt,a=e[0].length,s=e.length,c=s,u=r(s),l=1/0,f=[];c--;){var d=e[c];c&&t&&(d=Nt(d,Xt(t))),l=bn(d.length,l),u[c]=!n&&(t||a>=120&&d.length>=120)?new Jn(c&&d):o}d=e[0];var h=-1,p=u[0];e:for(;++h<a&&f.length<l;){var g=d[h],m=t?t(g):g;if(g=n||0!==g?g:0,!(p?tn(p,m):i(f,m,n))){for(c=s;--c;){var v=u[c];if(!(v?tn(v,m):i(e[c],m,n)))continue e}p&&p.push(m),f.push(g)}}return f}function Br(e,t,n){var r=null==(e=Oi(e,t=Ao(t,e)))?e:e[zi(Yi(t))];return null==r?o:It(r,e,n)}function Rr(e){return ns(e)&&kr(e)==y}function jr(e,t,n,r,i){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Ka(e),c=Ka(t),u=s?w:mi(e),l=c?w:mi(t),f=(u=u==y?I:u)==I,d=(l=l==y?I:l)==I,h=u==l;if(h&&Ja(e)){if(!Ja(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Zn),s||ls(e)?ri(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!i(new Ke(e),new Ke(t)));case b:case A:case k:return Da(+e,+t);case S:return e.name==t.name&&e.message==t.message;case O:case B:return e==t+\"\";case _:var s=un;case C:var c=1&r;if(s||(s=dn),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=ri(s(e),s(t),r,o,i,a);return a.delete(e),l;case R:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,u,n,r,i,a);if(!(1&n)){var p=f&&Le.call(e,\"__wrapped__\"),g=d&&Le.call(t,\"__wrapped__\");if(p||g){var m=p?e.value():e,v=g?t.value():t;return a||(a=new Zn),i(m,v,n,r,a)}}if(!h)return!1;return a||(a=new Zn),function(e,t,n,r,i,a){var s=1&n,c=ii(e),u=c.length,l=ii(t),f=l.length;if(u!=f&&!s)return!1;var d=u;for(;d--;){var h=c[d];if(!(s?h in t:Le.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);var v=s;for(;++d<u;){var y=e[h=c[d]],w=t[h];if(r)var b=s?r(w,y,h,t,e,a):r(y,w,h,e,t,a);if(!(b===o?y===w||i(y,w,n,r,a):b)){m=!1;break}v||(v=\"constructor\"==h)}if(m&&!v){var A=e.constructor,S=t.constructor;A==S||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof A&&A instanceof A&&\"function\"==typeof S&&S instanceof S||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,i,a)}(e,t,n,r,jr,i))}function Pr(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=Ie(e);i--;){var c=n[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var u=(c=n[i])[0],l=e[u],f=c[1];if(s&&c[2]){if(l===o&&!(u in e))return!1}else{var d=new Zn;if(r)var h=r(l,f,u,e,t,d);if(!(h===o?jr(f,l,3,r,d):h))return!1}}return!0}function Nr(e){return!(!ts(e)||(t=e,ze&&ze in t))&&(Qa(e)?Fe:ye).test(Ui(e));var t}function Lr(e){return\"function\"==typeof e?e:null==e?oc:\"object\"==typeof e?Ka(e)?Fr(e[0],e[1]):Dr(e):hc(e)}function Mr(e){if(!_i(e))return Ht(e);var t=[];for(var n in Ie(e))Le.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}function zr(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Ie(e))t.push(n);return t}(e);var t=_i(e),n=[];for(var r in e)(\"constructor\"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function $r(e,t){var n=-1,o=Va(e)?r(e.length):[];return hr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Dr(e){var t=di(e);return 1==t.length&&t[0][2]?Ii(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function Fr(e,t){return Si(e)&&ki(t)?Ii(zi(e),t):function(n){var r=Is(n,e);return r===o&&r===t?Ts(n,e):jr(t,r,3)}}function qr(e,t,n,r,i){e!==t&&wr(t,(function(a,s){if(i||(i=new Zn),ts(a))!function(e,t,n,r,i,a,s){var c=Ci(e,n),u=Ci(t,n),l=s.get(u);if(l)return void tr(e,n,l);var f=a?a(c,u,n+\"\",e,t,s):o,d=f===o;if(d){var h=Ka(u),p=!h&&Ja(u),g=!h&&!p&&ls(u);f=u,h||p||g?Ka(c)?f=c:Ha(c)?f=Bo(c):p?(d=!1,f=_o(u,!0)):g?(d=!1,f=Io(u,!0)):f=[]:is(u)||Wa(u)?(f=c,Wa(c)?f=ys(c):ts(c)&&!Qa(c)||(f=yi(u))):d=!1}d&&(s.set(u,f),i(f,u,r,a,s),s.delete(u));tr(e,n,f)}(e,t,s,n,qr,r,i);else{var c=r?r(Ci(e,s),a,s+\"\",e,t,i):o;c===o&&(c=a),tr(e,s,c)}}),js)}function Wr(e,t){var n=e.length;if(n)return bi(t+=t<0?n:0,n)?e[t]:o}function Kr(e,t,n){t=t.length?Nt(t,(function(e){return Ka(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[oc];var r=-1;t=Nt(t,Xt(li()));var o=$r(e,(function(e,n,o){var i=Nt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var c=To(o[r],i[r]);if(c)return r>=s?c:c*(\"desc\"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Er(e,a);n(s,a)&&eo(i,Ao(a,e),s)}return i}function Vr(e,t,n,r){var o=r?Wt:qt,i=-1,a=t.length,s=e;for(e===t&&(t=Bo(t)),n&&(s=Nt(e,Xt(n)));++i<a;)for(var c=0,u=t[i],l=n?n(u):u;(c=o(s,l,c,r))>-1;)s!==e&&Ze.call(s,c,1),Ze.call(e,c,1);return e}function Hr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;bi(o)?Ze.call(e,o,1):ho(e,o)}}return e}function Jr(e,t){return e+mt(xn()*(t-e+1))}function Zr(e,t){var n=\"\";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return ji(Ti(e,t,oc),e+\"\")}function Qr(e){return Qn(Ds(e))}function Xr(e,t){var n=Ds(e);return Li(n,cr(t,0,n.length))}function eo(e,t,n,r){if(!ts(e))return e;for(var i=-1,a=(t=Ao(t,e)).length,s=a-1,c=e;null!=c&&++i<a;){var u=zi(t[i]),l=n;if(\"__proto__\"===u||\"constructor\"===u||\"prototype\"===u)return e;if(i!=s){var f=c[u];(l=r?r(f,u,c):o)===o&&(l=ts(f)?f:bi(t[i+1])?[]:{})}nr(c,u,l),c=c[u]}return e}var to=Bn?function(e,t){return Bn.set(e,t),e}:oc,no=nt?function(e,t){return nt(e,\"toString\",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:oc;function ro(e){return Li(Ds(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if(\"number\"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!us(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return so(e,t,oc,n)}function so(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,c=null===t,u=us(t),l=t===o;i<a;){var f=mt((i+a)/2),d=n(e[f]),h=d!==o,p=null===d,g=d==d,m=us(d);if(s)var v=r||g;else v=l?g&&(r||h):c?g&&h&&(r||!p):u?g&&h&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);v?i=f+1:a=f}return bn(a,4294967294)}function co(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Da(s,c)){var c=s;i[o++]=0===a?0:a}}return i}function uo(e){return\"number\"==typeof e?e:us(e)?g:+e}function lo(e){if(\"string\"==typeof e)return e;if(Ka(e))return Nt(e,lo)+\"\";if(us(e))return $n?$n.call(e):\"\";var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function fo(e,t,n){var r=-1,o=jt,i=e.length,a=!0,s=[],c=s;if(n)a=!1,o=Pt;else if(i>=200){var u=t?null:Yo(e);if(u)return dn(u);a=!1,o=tn,c=new Jn}else c=t?[]:s;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=c.length;d--;)if(c[d]===f)continue e;t&&c.push(f),s.push(l)}else o(c,f,n)||(c!==s&&c.push(f),s.push(l))}return s}function ho(e,t){return null==(e=Oi(e,t=Ao(t,e)))||delete e[zi(Yi(t))]}function po(e,t,n,r){return eo(e,t,n(Er(e,t)),r)}function go(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function mo(e,t){var n=e;return n instanceof Kn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),n)}function vo(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],c=-1;++c<o;)c!=i&&(a[i]=dr(a[i]||s,e[c],t,n));return fo(yr(a,1),t,n)}function yo(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var c=r<a?t[r]:o;n(s,e[r],c)}return s}function wo(e){return Ha(e)?e:[]}function bo(e){return\"function\"==typeof e?e:oc}function Ao(e,t){return Ka(e)?e:Si(e,t)?[e]:Mi(ws(e))}var So=Yr;function xo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:oo(e,t,n)}var Eo=ot||function(e){return gt.clearTimeout(e)};function _o(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function ko(e){var t=new e.constructor(e.byteLength);return new Ke(t).set(new Ke(e)),t}function Io(e,t){var n=t?ko(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function To(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=us(e),s=t!==o,c=null===t,u=t==t,l=us(t);if(!c&&!l&&!a&&e>t||a&&s&&u&&!c&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}function Oo(e,t,n,o){for(var i=-1,a=e.length,s=n.length,c=-1,u=t.length,l=wn(a-s,0),f=r(u+l),d=!o;++c<u;)f[c]=t[c];for(;++i<s;)(d||i<a)&&(f[n[i]]=e[i]);for(;l--;)f[c++]=e[i++];return f}function Co(e,t,n,o){for(var i=-1,a=e.length,s=-1,c=n.length,u=-1,l=t.length,f=wn(a-c,0),d=r(f+l),h=!o;++i<f;)d[i]=e[i];for(var p=i;++u<l;)d[p+u]=t[u];for(;++s<c;)(h||i<a)&&(d[p+n[s]]=e[i++]);return d}function Bo(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Ro(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],u=r?r(n[c],e[c],c,n,e):o;u===o&&(u=e[c]),i?ar(n,c,u):nr(n,c,u)}return n}function jo(e,t){return function(n,r){var o=Ka(n)?Tt:or,i=t?t():{};return o(n,e,li(r,2),i)}}function Po(e){return Yr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&\"function\"==typeof a?(i--,a):o,s&&Ai(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=Ie(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}function No(e,t){return function(n,r){if(null==n)return n;if(!Va(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Ie(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Lo(e){return function(t,n,r){for(var o=-1,i=Ie(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}function Mo(e){return function(t){var n=cn(t=ws(t))?gn(t):o,r=n?n[0]:t.charAt(0),i=n?xo(n,1).join(\"\"):t.slice(1);return r[e]()+i}}function zo(e){return function(t){return Mt(Qs(Ws(t).replace(et,\"\")),e,\"\")}}function Uo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function $o(e){return function(t,n,r){var i=Ie(t);if(!Va(t)){var a=li(n,3);t=Rs(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function Do(e){return oi((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if(\"function\"!=typeof s)throw new Ce(i);if(a&&!c&&\"wrapper\"==ci(s))var c=new Wn([],!0)}for(r=c?r:n;++r<n;){var u=ci(s=t[r]),l=\"wrapper\"==u?si(s):o;c=l&&xi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ci(l[0])].apply(c,l[3]):1==s.length&&xi(s)?c[u]():c.thru(s)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Ka(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Fo(e,t,n,i,a,s,c,u,l,d){var h=t&f,p=1&t,g=2&t,m=24&t,v=512&t,y=g?o:Uo(e);return function f(){for(var w=arguments.length,b=r(w),A=w;A--;)b[A]=arguments[A];if(m)var S=ui(f),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,S);if(i&&(b=Oo(b,i,a,m)),s&&(b=Co(b,s,c,m)),w-=x,m&&w<d){var E=fn(b,S);return Jo(e,t,Fo,f.placeholder,n,b,E,u,l,d-w)}var _=p?n:this,k=g?_[e]:e;return w=b.length,u?b=function(e,t){var n=e.length,r=bn(t.length,n),i=Bo(e);for(;r--;){var a=t[r];e[r]=bi(a,n)?i[a]:o}return e}(b,u):v&&w>1&&b.reverse(),h&&l<w&&(b.length=l),this&&this!==gt&&this instanceof f&&(k=y||Uo(k)),k.apply(_,b)}}function qo(e,t){return function(n,r){return function(e,t,n,r){return Ar(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Wo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;\"string\"==typeof n||\"string\"==typeof r?(n=lo(n),r=lo(r)):(n=uo(n),r=uo(r)),i=e(n,r)}return i}}function Ko(e){return oi((function(t){return t=Nt(t,Xt(li())),Yr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Go(e,t){var n=(t=t===o?\" \":lo(t)).length;if(n<2)return n?Zr(t,e):t;var r=Zr(t,pt(e/pn(t)));return cn(t)?xo(gn(r),0,e).join(\"\"):r.slice(0,e)}function Vo(e){return function(t,n,i){return i&&\"number\"!=typeof i&&Ai(t,n,i)&&(n=i=o),t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n,o){for(var i=-1,a=wn(pt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:ps(i),e)}}function Ho(e){return function(t,n){return\"string\"==typeof t&&\"string\"==typeof n||(t=vs(t),n=vs(n)),e(t,n)}}function Jo(e,t,n,r,i,a,s,c,f,d){var h=8&t;t|=h?u:l,4&(t&=~(h?l:u))||(t&=-4);var p=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,c,f,d],g=n.apply(o,p);return xi(e)&&Bi(g,p),g.placeholder=r,Pi(g,e,t)}function Zo(e){var t=ke[e];return function(e,n){if(e=vs(e),(n=null==n?0:bn(gs(n),292))&&bt(e)){var r=(ws(e)+\"e\").split(\"e\");return+((r=(ws(t(r[0]+\"e\"+(+r[1]+n)))+\"e\").split(\"e\"))[0]+\"e\"+(+r[1]-n))}return t(e)}}var Yo=Tn&&1/dn(new Tn([,-0]))[1]==h?function(e){return new Tn(e)}:uc;function Qo(e){return function(t){var n=mi(t);return n==_?un(t):n==C?hn(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xo(e,t,n,a,h,p,g,m){var v=2&t;if(!v&&\"function\"!=typeof e)throw new Ce(i);var y=a?a.length:0;if(y||(t&=-97,a=h=o),g=g===o?g:wn(gs(g),0),m=m===o?m:gs(m),y-=h?h.length:0,t&l){var w=a,b=h;a=h=o}var A=v?o:si(e),S=[e,t,n,a,h,w,b,p,g,m];if(A&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Oo(u,c,t[4]):c,e[4]=u?fn(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Co(u,c,t[6]):c,e[6]=u?fn(e[5],s):t[6]);(c=t[7])&&(e[7]=c);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(S,A),e=S[0],t=S[1],n=S[2],a=S[3],h=S[4],!(m=S[9]=S[9]===o?v?0:e.length:wn(S[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==c?function(e,t,n){var i=Uo(e);return function a(){for(var s=arguments.length,c=r(s),u=s,l=ui(a);u--;)c[u]=arguments[u];var f=s<3&&c[0]!==l&&c[s-1]!==l?[]:fn(c,l);return(s-=f.length)<n?Jo(e,t,Fo,a.placeholder,o,c,f,o,o,n-s):It(this&&this!==gt&&this instanceof a?i:e,this,c)}}(e,t,m):t!=u&&33!=t||h.length?Fo.apply(o,S):function(e,t,n,o){var i=1&t,a=Uo(e);return function t(){for(var s=-1,c=arguments.length,u=-1,l=o.length,f=r(l+c),d=this&&this!==gt&&this instanceof t?a:e;++u<l;)f[u]=o[u];for(;c--;)f[u++]=arguments[++s];return It(d,i?n:this,f)}}(e,t,n,a);else var x=function(e,t,n){var r=1&t,o=Uo(e);return function t(){return(this&&this!==gt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Pi((A?to:Bi)(x,S),e,t)}function ei(e,t,n,r){return e===o||Da(e,je[n])&&!Le.call(r,n)?t:e}function ti(e,t,n,r,i,a){return ts(e)&&ts(t)&&(a.set(t,e),qr(e,t,o,ti,a),a.delete(t)),e}function ni(e){return is(e)?o:e}function ri(e,t,n,r,i,a){var s=1&n,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,h=!0,p=2&n?new Jn:o;for(a.set(e,t),a.set(t,e);++d<c;){var g=e[d],m=t[d];if(r)var v=s?r(m,g,d,t,e,a):r(g,m,d,e,t,a);if(v!==o){if(v)continue;h=!1;break}if(p){if(!Ut(t,(function(e,t){if(!tn(p,t)&&(g===e||i(g,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(g!==m&&!i(g,m,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function oi(e){return ji(Ti(e,o,Gi),e+\"\")}function ii(e){return _r(e,Rs,pi)}function ai(e){return _r(e,js,gi)}var si=Bn?function(e){return Bn.get(e)}:uc;function ci(e){for(var t=e.name+\"\",n=Rn[t],r=Le.call(Rn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(Le.call(Dn,\"placeholder\")?Dn:e).placeholder}function li(){var e=Dn.iteratee||ic;return e=e===ic?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function fi(e,t){var n=e.__data__;return function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}(t)?n[\"string\"==typeof t?\"string\":\"hash\"]:n.map}function di(e){for(var t=Rs(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ki(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Nr(n)?n:o}var pi=vt?function(e){return null==e?[]:(e=Ie(e),Rt(vt(e),(function(t){return Je.call(e,t)})))}:mc,gi=vt?function(e){for(var t=[];e;)Lt(t,pi(e)),e=Ve(e);return t}:mc,mi=kr;function vi(e,t,n){for(var r=-1,o=(t=Ao(t,e)).length,i=!1;++r<o;){var a=zi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&es(o)&&bi(a,o)&&(Ka(e)||Wa(e))}function yi(e){return\"function\"!=typeof e.constructor||_i(e)?{}:Fn(Ve(e))}function wi(e){return Ka(e)||Wa(e)||!!(Ye&&e&&e[Ye])}function bi(e,t){var n=typeof e;return!!(t=null==t?p:t)&&(\"number\"==n||\"symbol\"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function Ai(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!(\"number\"==r?Va(n)&&bi(t,n.length):\"string\"==r&&t in n)&&Da(n[t],e)}function Si(e,t){if(Ka(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ie(t))}function xi(e){var t=ci(e),n=Dn[t];if(\"function\"!=typeof n||!(t in Kn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(_n&&mi(new _n(new ArrayBuffer(1)))!=N||kn&&mi(new kn)!=_||In&&mi(In.resolve())!=T||Tn&&mi(new Tn)!=C||On&&mi(new On)!=j)&&(mi=function(e){var t=kr(e),n=t==I?e.constructor:o,r=n?Ui(n):\"\";if(r)switch(r){case jn:return N;case Pn:return _;case Nn:return T;case Ln:return C;case Mn:return j}return t});var Ei=Pe?Qa:vc;function _i(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||je)}function ki(e){return e==e&&!ts(e)}function Ii(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Ie(n)))}}function Ti(e,t,n){return t=wn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=wn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=o[i];return c[t]=n(s),It(e,this,c)}}function Oi(e,t){return t.length<2?e:Er(e,oo(t,0,-1))}function Ci(e,t){if((\"constructor\"!==t||\"function\"!=typeof e[t])&&\"__proto__\"!=t)return e[t]}var Bi=Ni(to),Ri=ht||function(e,t){return gt.setTimeout(e,t)},ji=Ni(no);function Pi(e,t,n){var r=t+\"\";return ji(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?\"& \":\"\")+t[r],t=t.join(n>2?\", \":\" \"),e.replace(ce,\"{\\n/* [wrapped with \"+t+\"] */\\n\")}(r,function(e,t){return Ot(v,(function(n){var r=\"_.\"+n[0];t&n[1]&&!jt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(le):[]}(r),n)))}function Ni(e){var t=0,n=0;return function(){var r=An(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Li(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Jr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Mi=function(e){var t=Na(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(he,\"$1\"):n||e)})),t}));function zi(e){if(\"string\"==typeof e||us(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}function Ui(e){if(null!=e){try{return Ne.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}function $i(e){if(e instanceof Kn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Bo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Di=Yr((function(e,t){return Ha(e)?dr(e,yr(t,1,Ha,!0)):[]})),Fi=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?dr(e,yr(t,1,Ha,!0),li(n,2)):[]})),qi=Yr((function(e,t){var n=Yi(t);return Ha(n)&&(n=o),Ha(e)?dr(e,yr(t,1,Ha,!0),o,n):[]}));function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),Ft(e,li(t,3),o)}function Ki(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=gs(n),i=n<0?wn(r+i,0):bn(i,r-1)),Ft(e,li(t,3),i,!0)}function Gi(e){return(null==e?0:e.length)?yr(e,1):[]}function Vi(e){return e&&e.length?e[0]:o}var Hi=Yr((function(e){var t=Nt(e,wo);return t.length&&t[0]===e[0]?Cr(t):[]})),Ji=Yr((function(e){var t=Yi(e),n=Nt(e,wo);return t===Yi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Cr(n,li(t,2)):[]})),Zi=Yr((function(e){var t=Yi(e),n=Nt(e,wo);return(t=\"function\"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Cr(n,o,t):[]}));function Yi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Qi=Yr(Xi);function Xi(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var ea=oi((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Hr(e,Nt(t,(function(e){return bi(e,n)?+e:e})).sort(To)),r}));function ta(e){return null==e?e:En.call(e)}var na=Yr((function(e){return fo(yr(e,1,Ha,!0))})),ra=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),fo(yr(e,1,Ha,!0),li(t,2))})),oa=Yr((function(e){var t=Yi(e);return t=\"function\"==typeof t?t:o,fo(yr(e,1,Ha,!0),o,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Ha(e))return t=wn(e.length,t),!0})),Yt(t,(function(t){return Nt(e,Vt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:Nt(n,(function(e){return It(t,o,e)}))}var sa=Yr((function(e,t){return Ha(e)?dr(e,t):[]})),ca=Yr((function(e){return vo(Rt(e,Ha))})),ua=Yr((function(e){var t=Yi(e);return Ha(t)&&(t=o),vo(Rt(e,Ha),li(t,2))})),la=Yr((function(e){var t=Yi(e);return t=\"function\"==typeof t?t:o,vo(Rt(e,Ha),o,t)})),fa=Yr(ia);var da=Yr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n=\"function\"==typeof n?(e.pop(),n):o,aa(e,n)}));function ha(e){var t=Dn(e);return t.__chain__=!0,t}function pa(e,t){return t(e)}var ga=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Kn&&bi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:pa,args:[i],thisArg:o}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ma=jo((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)}));var va=$o(Wi),ya=$o(Ki);function wa(e,t){return(Ka(e)?Ot:hr)(e,li(t,3))}function ba(e,t){return(Ka(e)?Ct:pr)(e,li(t,3))}var Aa=jo((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Sa=Yr((function(e,t,n){var o=-1,i=\"function\"==typeof t,a=Va(e)?r(e.length):[];return hr(e,(function(e){a[++o]=i?It(t,e,n):Br(e,t,n)})),a})),xa=jo((function(e,t,n){ar(e,n,t)}));function Ea(e,t){return(Ka(e)?Nt:$r)(e,li(t,3))}var _a=jo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ka=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ai(e,t[0],t[1])?t=[]:n>2&&Ai(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,yr(t,1),[])})),Ia=lt||function(){return gt.Date.now()};function Ta(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Xo(e,f,o,o,o,o,t)}function Oa(e,t){var n;if(\"function\"!=typeof t)throw new Ce(i);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ca=Yr((function(e,t,n){var r=1;if(n.length){var o=fn(n,ui(Ca));r|=u}return Xo(e,r,t,n,o)})),Ba=Yr((function(e,t,n){var r=3;if(n.length){var o=fn(n,ui(Ba));r|=u}return Xo(t,r,e,n,o)}));function Ra(e,t,n){var r,a,s,c,u,l,f=0,d=!1,h=!1,p=!0;if(\"function\"!=typeof e)throw new Ce(i);function g(t){var n=r,i=a;return r=a=o,f=t,c=e.apply(i,n)}function m(e){var n=e-l;return l===o||n>=t||n<0||h&&e-f>=s}function v(){var e=Ia();if(m(e))return y(e);u=Ri(v,function(e){var n=t-(e-l);return h?bn(n,s-(e-f)):n}(e))}function y(e){return u=o,p&&r?g(e):(r=a=o,c)}function w(){var e=Ia(),n=m(e);if(r=arguments,a=this,l=e,n){if(u===o)return function(e){return f=e,u=Ri(v,t),d?g(e):c}(l);if(h)return Eo(u),u=Ri(v,t),g(l)}return u===o&&(u=Ri(v,t)),c}return t=vs(t)||0,ts(n)&&(d=!!n.leading,s=(h=\"maxWait\"in n)?wn(vs(n.maxWait)||0,t):s,p=\"trailing\"in n?!!n.trailing:p),w.cancel=function(){u!==o&&Eo(u),f=0,r=l=a=u=o},w.flush=function(){return u===o?c:y(Ia())},w}var ja=Yr((function(e,t){return fr(e,1,t)})),Pa=Yr((function(e,t,n){return fr(e,vs(t)||0,n)}));function Na(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new Ce(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Na.Cache||Hn),n}function La(e){if(\"function\"!=typeof e)throw new Ce(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Na.Cache=Hn;var Ma=So((function(e,t){var n=(t=1==t.length&&Ka(t[0])?Nt(t[0],Xt(li())):Nt(yr(t,1),Xt(li()))).length;return Yr((function(r){for(var o=-1,i=bn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return It(e,this,r)}))})),za=Yr((function(e,t){var n=fn(t,ui(za));return Xo(e,u,o,t,n)})),Ua=Yr((function(e,t){var n=fn(t,ui(Ua));return Xo(e,l,o,t,n)})),$a=oi((function(e,t){return Xo(e,d,o,o,o,t)}));function Da(e,t){return e===t||e!=e&&t!=t}var Fa=Ho(Ir),qa=Ho((function(e,t){return e>=t})),Wa=Rr(function(){return arguments}())?Rr:function(e){return ns(e)&&Le.call(e,\"callee\")&&!Je.call(e,\"callee\")},Ka=r.isArray,Ga=At?Xt(At):function(e){return ns(e)&&kr(e)==P};function Va(e){return null!=e&&es(e.length)&&!Qa(e)}function Ha(e){return ns(e)&&Va(e)}var Ja=wt||vc,Za=St?Xt(St):function(e){return ns(e)&&kr(e)==A};function Ya(e){if(!ns(e))return!1;var t=kr(e);return t==S||\"[object DOMException]\"==t||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!is(e)}function Qa(e){if(!ts(e))return!1;var t=kr(e);return t==x||t==E||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}function Xa(e){return\"number\"==typeof e&&e==gs(e)}function es(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=p}function ts(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}function ns(e){return null!=e&&\"object\"==typeof e}var rs=xt?Xt(xt):function(e){return ns(e)&&mi(e)==_};function os(e){return\"number\"==typeof e||ns(e)&&kr(e)==k}function is(e){if(!ns(e)||kr(e)!=I)return!1;var t=Ve(e);if(null===t)return!0;var n=Le.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof n&&n instanceof n&&Ne.call(n)==$e}var as=Et?Xt(Et):function(e){return ns(e)&&kr(e)==O};var ss=_t?Xt(_t):function(e){return ns(e)&&mi(e)==C};function cs(e){return\"string\"==typeof e||!Ka(e)&&ns(e)&&kr(e)==B}function us(e){return\"symbol\"==typeof e||ns(e)&&kr(e)==R}var ls=kt?Xt(kt):function(e){return ns(e)&&es(e.length)&&!!ct[kr(e)]};var fs=Ho(Ur),ds=Ho((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Va(e))return cs(e)?gn(e):Bo(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=mi(e);return(t==_?un:t==C?dn:Ds)(e)}function ps(e){return e?(e=vs(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gs(e){var t=ps(e),n=t%1;return t==t?n?t-n:t:0}function ms(e){return e?cr(gs(e),0,m):0}function vs(e){if(\"number\"==typeof e)return e;if(us(e))return g;if(ts(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ve.test(e);return n||we.test(e)?dt(e.slice(2),n?2:8):me.test(e)?g:+e}function ys(e){return Ro(e,js(e))}function ws(e){return null==e?\"\":lo(e)}var bs=Po((function(e,t){if(_i(t)||Va(t))Ro(t,Rs(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),As=Po((function(e,t){Ro(t,js(t),e)})),Ss=Po((function(e,t,n,r){Ro(t,js(t),e,r)})),xs=Po((function(e,t,n,r){Ro(t,Rs(t),e,r)})),Es=oi(sr);var _s=Yr((function(e,t){e=Ie(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&Ai(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=js(a),c=-1,u=s.length;++c<u;){var l=s[c],f=e[l];(f===o||Da(f,je[l])&&!Le.call(e,l))&&(e[l]=a[l])}return e})),ks=Yr((function(e){return e.push(o,ti),It(Ns,o,e)}));function Is(e,t,n){var r=null==e?o:Er(e,t);return r===o?n:r}function Ts(e,t){return null!=e&&vi(e,t,Or)}var Os=qo((function(e,t,n){null!=t&&\"function\"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),tc(oc)),Cs=qo((function(e,t,n){null!=t&&\"function\"!=typeof t.toString&&(t=Ue.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),li),Bs=Yr(Br);function Rs(e){return Va(e)?Yn(e):Mr(e)}function js(e){return Va(e)?Yn(e,!0):zr(e)}var Ps=Po((function(e,t,n){qr(e,t,n)})),Ns=Po((function(e,t,n,r){qr(e,t,n,r)})),Ls=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Nt(t,(function(t){return t=Ao(t,e),r||(r=t.length>1),t})),Ro(e,ai(e),n),r&&(n=ur(n,7,ni));for(var o=t.length;o--;)ho(n,t[o]);return n}));var Ms=oi((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Ts(e,n)}))}(e,t)}));function zs(e,t){if(null==e)return{};var n=Nt(ai(e),(function(e){return[e]}));return t=li(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Us=Qo(Rs),$s=Qo(js);function Ds(e){return null==e?[]:en(e,Rs(e))}var Fs=zo((function(e,t,n){return t=t.toLowerCase(),e+(n?qs(t):t)}));function qs(e){return Ys(ws(e).toLowerCase())}function Ws(e){return(e=ws(e))&&e.replace(Ae,on).replace(tt,\"\")}var Ks=zo((function(e,t,n){return e+(n?\"-\":\"\")+t.toLowerCase()})),Gs=zo((function(e,t,n){return e+(n?\" \":\"\")+t.toLowerCase()})),Vs=Mo(\"toLowerCase\");var Hs=zo((function(e,t,n){return e+(n?\"_\":\"\")+t.toLowerCase()}));var Js=zo((function(e,t,n){return e+(n?\" \":\"\")+Ys(t)}));var Zs=zo((function(e,t,n){return e+(n?\" \":\"\")+t.toUpperCase()})),Ys=Mo(\"toUpperCase\");function Qs(e,t,n){return e=ws(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var Xs=Yr((function(e,t){try{return It(e,o,t)}catch(e){return Ya(e)?e:new Ee(e)}})),ec=oi((function(e,t){return Ot(t,(function(t){t=zi(t),ar(e,t,Ca(e[t],e))})),e}));function tc(e){return function(){return e}}var nc=Do(),rc=Do(!0);function oc(e){return e}function ic(e){return Lr(\"function\"==typeof e?e:ur(e,1))}var ac=Yr((function(e,t){return function(n){return Br(n,e,t)}})),sc=Yr((function(e,t){return function(n){return Br(e,n,t)}}));function cc(e,t,n){var r=Rs(t),o=xr(t,r);null!=n||ts(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=xr(t,Rs(t)));var i=!(ts(n)&&\"chain\"in n&&!n.chain),a=Qa(e);return Ot(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Bo(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Lt([this.value()],arguments))})})),e}function uc(){}var lc=Ko(Nt),fc=Ko(Bt),dc=Ko(Ut);function hc(e){return Si(e)?Vt(zi(e)):function(e){return function(t){return Er(t,e)}}(e)}var pc=Vo(),gc=Vo(!0);function mc(){return[]}function vc(){return!1}var yc=Wo((function(e,t){return e+t}),0),wc=Zo(\"ceil\"),bc=Wo((function(e,t){return e/t}),1),Ac=Zo(\"floor\");var Sc,xc=Wo((function(e,t){return e*t}),1),Ec=Zo(\"round\"),_c=Wo((function(e,t){return e-t}),0);return Dn.after=function(e,t){if(\"function\"!=typeof t)throw new Ce(i);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},Dn.ary=Ta,Dn.assign=bs,Dn.assignIn=As,Dn.assignInWith=Ss,Dn.assignWith=xs,Dn.at=Es,Dn.before=Oa,Dn.bind=Ca,Dn.bindAll=ec,Dn.bindKey=Ba,Dn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ka(e)?e:[e]},Dn.chain=ha,Dn.chunk=function(e,t,n){t=(n?Ai(e,t,n):t===o)?1:wn(gs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,c=r(pt(i/t));a<i;)c[s++]=oo(e,a,a+=t);return c},Dn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Dn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Lt(Ka(n)?Bo(n):[n],yr(t,1))},Dn.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?Nt(e,(function(e){if(\"function\"!=typeof e[1])throw new Ce(i);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var o=e[r];if(It(o[0],this,n))return It(o[1],this,n)}}))},Dn.conforms=function(e){return function(e){var t=Rs(e);return function(n){return lr(n,e,t)}}(ur(e,1))},Dn.constant=tc,Dn.countBy=ma,Dn.create=function(e,t){var n=Fn(e);return null==t?n:ir(n,t)},Dn.curry=function e(t,n,r){var i=Xo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Dn.curryRight=function e(t,n,r){var i=Xo(t,c,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Dn.debounce=Ra,Dn.defaults=_s,Dn.defaultsDeep=ks,Dn.defer=ja,Dn.delay=Pa,Dn.difference=Di,Dn.differenceBy=Fi,Dn.differenceWith=qi,Dn.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===o?1:gs(t))<0?0:t,r):[]},Dn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===o?1:gs(t)))<0?0:t):[]},Dn.dropRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0,!0):[]},Dn.dropWhile=function(e,t){return e&&e.length?go(e,li(t,3),!0):[]},Dn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&\"number\"!=typeof n&&Ai(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=gs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:gs(r))<0&&(r+=i),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Dn.filter=function(e,t){return(Ka(e)?Rt:vr)(e,li(t,3))},Dn.flatMap=function(e,t){return yr(Ea(e,t),1)},Dn.flatMapDeep=function(e,t){return yr(Ea(e,t),h)},Dn.flatMapDepth=function(e,t,n){return n=n===o?1:gs(n),yr(Ea(e,t),n)},Dn.flatten=Gi,Dn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,h):[]},Dn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===o?1:gs(t)):[]},Dn.flip=function(e){return Xo(e,512)},Dn.flow=nc,Dn.flowRight=rc,Dn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Dn.functions=function(e){return null==e?[]:xr(e,Rs(e))},Dn.functionsIn=function(e){return null==e?[]:xr(e,js(e))},Dn.groupBy=Aa,Dn.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},Dn.intersection=Hi,Dn.intersectionBy=Ji,Dn.intersectionWith=Zi,Dn.invert=Os,Dn.invertBy=Cs,Dn.invokeMap=Sa,Dn.iteratee=ic,Dn.keyBy=xa,Dn.keys=Rs,Dn.keysIn=js,Dn.map=Ea,Dn.mapKeys=function(e,t){var n={};return t=li(t,3),Ar(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},Dn.mapValues=function(e,t){var n={};return t=li(t,3),Ar(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},Dn.matches=function(e){return Dr(ur(e,1))},Dn.matchesProperty=function(e,t){return Fr(e,ur(t,1))},Dn.memoize=Na,Dn.merge=Ps,Dn.mergeWith=Ns,Dn.method=ac,Dn.methodOf=sc,Dn.mixin=cc,Dn.negate=La,Dn.nthArg=function(e){return e=gs(e),Yr((function(t){return Wr(t,e)}))},Dn.omit=Ls,Dn.omitBy=function(e,t){return zs(e,La(li(t)))},Dn.once=function(e){return Oa(2,e)},Dn.orderBy=function(e,t,n,r){return null==e?[]:(Ka(t)||(t=null==t?[]:[t]),Ka(n=r?o:n)||(n=null==n?[]:[n]),Kr(e,t,n))},Dn.over=lc,Dn.overArgs=Ma,Dn.overEvery=fc,Dn.overSome=dc,Dn.partial=za,Dn.partialRight=Ua,Dn.partition=_a,Dn.pick=Ms,Dn.pickBy=zs,Dn.property=hc,Dn.propertyOf=function(e){return function(t){return null==e?o:Er(e,t)}},Dn.pull=Qi,Dn.pullAll=Xi,Dn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,li(n,2)):e},Dn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,o,n):e},Dn.pullAt=ea,Dn.range=pc,Dn.rangeRight=gc,Dn.rearg=$a,Dn.reject=function(e,t){return(Ka(e)?Rt:vr)(e,La(li(t,3)))},Dn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Hr(e,o),n},Dn.rest=function(e,t){if(\"function\"!=typeof e)throw new Ce(i);return Yr(e,t=t===o?t:gs(t))},Dn.reverse=ta,Dn.sampleSize=function(e,t,n){return t=(n?Ai(e,t,n):t===o)?1:gs(t),(Ka(e)?Xn:Xr)(e,t)},Dn.set=function(e,t,n){return null==e?e:eo(e,t,n)},Dn.setWith=function(e,t,n,r){return r=\"function\"==typeof r?r:o,null==e?e:eo(e,t,n,r)},Dn.shuffle=function(e){return(Ka(e)?er:ro)(e)},Dn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&\"number\"!=typeof n&&Ai(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===o?r:gs(n)),oo(e,t,n)):[]},Dn.sortBy=ka,Dn.sortedUniq=function(e){return e&&e.length?co(e):[]},Dn.sortedUniqBy=function(e,t){return e&&e.length?co(e,li(t,2)):[]},Dn.split=function(e,t,n){return n&&\"number\"!=typeof n&&Ai(e,t,n)&&(t=n=o),(n=n===o?m:n>>>0)?(e=ws(e))&&(\"string\"==typeof t||null!=t&&!as(t))&&!(t=lo(t))&&cn(e)?xo(gn(e),0,n):e.split(t,n):[]},Dn.spread=function(e,t){if(\"function\"!=typeof e)throw new Ce(i);return t=null==t?0:wn(gs(t),0),Yr((function(n){var r=n[t],o=xo(n,0,t);return r&&Lt(o,r),It(e,this,o)}))},Dn.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},Dn.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===o?1:gs(t))<0?0:t):[]},Dn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===o?1:gs(t)))<0?0:t,r):[]},Dn.takeRightWhile=function(e,t){return e&&e.length?go(e,li(t,3),!1,!0):[]},Dn.takeWhile=function(e,t){return e&&e.length?go(e,li(t,3)):[]},Dn.tap=function(e,t){return t(e),e},Dn.throttle=function(e,t,n){var r=!0,o=!0;if(\"function\"!=typeof e)throw new Ce(i);return ts(n)&&(r=\"leading\"in n?!!n.leading:r,o=\"trailing\"in n?!!n.trailing:o),Ra(e,t,{leading:r,maxWait:t,trailing:o})},Dn.thru=pa,Dn.toArray=hs,Dn.toPairs=Us,Dn.toPairsIn=$s,Dn.toPath=function(e){return Ka(e)?Nt(e,zi):us(e)?[e]:Bo(Mi(ws(e)))},Dn.toPlainObject=ys,Dn.transform=function(e,t,n){var r=Ka(e),o=r||Ja(e)||ls(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ts(e)&&Qa(i)?Fn(Ve(e)):{}}return(o?Ot:Ar)(e,(function(e,r,o){return t(n,e,r,o)})),n},Dn.unary=function(e){return Ta(e,1)},Dn.union=na,Dn.unionBy=ra,Dn.unionWith=oa,Dn.uniq=function(e){return e&&e.length?fo(e):[]},Dn.uniqBy=function(e,t){return e&&e.length?fo(e,li(t,2)):[]},Dn.uniqWith=function(e,t){return t=\"function\"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},Dn.unset=function(e,t){return null==e||ho(e,t)},Dn.unzip=ia,Dn.unzipWith=aa,Dn.update=function(e,t,n){return null==e?e:po(e,t,bo(n))},Dn.updateWith=function(e,t,n,r){return r=\"function\"==typeof r?r:o,null==e?e:po(e,t,bo(n),r)},Dn.values=Ds,Dn.valuesIn=function(e){return null==e?[]:en(e,js(e))},Dn.without=sa,Dn.words=Qs,Dn.wrap=function(e,t){return za(bo(t),e)},Dn.xor=ca,Dn.xorBy=ua,Dn.xorWith=la,Dn.zip=fa,Dn.zipObject=function(e,t){return yo(e||[],t||[],nr)},Dn.zipObjectDeep=function(e,t){return yo(e||[],t||[],eo)},Dn.zipWith=da,Dn.entries=Us,Dn.entriesIn=$s,Dn.extend=As,Dn.extendWith=Ss,cc(Dn,Dn),Dn.add=yc,Dn.attempt=Xs,Dn.camelCase=Fs,Dn.capitalize=qs,Dn.ceil=wc,Dn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=vs(n))==n?n:0),t!==o&&(t=(t=vs(t))==t?t:0),cr(vs(e),t,n)},Dn.clone=function(e){return ur(e,4)},Dn.cloneDeep=function(e){return ur(e,5)},Dn.cloneDeepWith=function(e,t){return ur(e,5,t=\"function\"==typeof t?t:o)},Dn.cloneWith=function(e,t){return ur(e,4,t=\"function\"==typeof t?t:o)},Dn.conformsTo=function(e,t){return null==t||lr(e,t,Rs(t))},Dn.deburr=Ws,Dn.defaultTo=function(e,t){return null==e||e!=e?t:e},Dn.divide=bc,Dn.endsWith=function(e,t,n){e=ws(e),t=lo(t);var r=e.length,i=n=n===o?r:cr(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Dn.eq=Da,Dn.escape=function(e){return(e=ws(e))&&Y.test(e)?e.replace(J,an):e},Dn.escapeRegExp=function(e){return(e=ws(e))&&ie.test(e)?e.replace(oe,\"\\\\$&\"):e},Dn.every=function(e,t,n){var r=Ka(e)?Bt:gr;return n&&Ai(e,t,n)&&(t=o),r(e,li(t,3))},Dn.find=va,Dn.findIndex=Wi,Dn.findKey=function(e,t){return Dt(e,li(t,3),Ar)},Dn.findLast=ya,Dn.findLastIndex=Ki,Dn.findLastKey=function(e,t){return Dt(e,li(t,3),Sr)},Dn.floor=Ac,Dn.forEach=wa,Dn.forEachRight=ba,Dn.forIn=function(e,t){return null==e?e:wr(e,li(t,3),js)},Dn.forInRight=function(e,t){return null==e?e:br(e,li(t,3),js)},Dn.forOwn=function(e,t){return e&&Ar(e,li(t,3))},Dn.forOwnRight=function(e,t){return e&&Sr(e,li(t,3))},Dn.get=Is,Dn.gt=Fa,Dn.gte=qa,Dn.has=function(e,t){return null!=e&&vi(e,t,Tr)},Dn.hasIn=Ts,Dn.head=Vi,Dn.identity=oc,Dn.includes=function(e,t,n,r){e=Va(e)?e:Ds(e),n=n&&!r?gs(n):0;var o=e.length;return n<0&&(n=wn(o+n,0)),cs(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&qt(e,t,n)>-1},Dn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:gs(n);return o<0&&(o=wn(r+o,0)),qt(e,t,o)},Dn.inRange=function(e,t,n){return t=ps(t),n===o?(n=t,t=0):n=ps(n),function(e,t,n){return e>=bn(t,n)&&e<wn(t,n)}(e=vs(e),t,n)},Dn.invoke=Bs,Dn.isArguments=Wa,Dn.isArray=Ka,Dn.isArrayBuffer=Ga,Dn.isArrayLike=Va,Dn.isArrayLikeObject=Ha,Dn.isBoolean=function(e){return!0===e||!1===e||ns(e)&&kr(e)==b},Dn.isBuffer=Ja,Dn.isDate=Za,Dn.isElement=function(e){return ns(e)&&1===e.nodeType&&!is(e)},Dn.isEmpty=function(e){if(null==e)return!0;if(Va(e)&&(Ka(e)||\"string\"==typeof e||\"function\"==typeof e.splice||Ja(e)||ls(e)||Wa(e)))return!e.length;var t=mi(e);if(t==_||t==C)return!e.size;if(_i(e))return!Mr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Dn.isEqual=function(e,t){return jr(e,t)},Dn.isEqualWith=function(e,t,n){var r=(n=\"function\"==typeof n?n:o)?n(e,t):o;return r===o?jr(e,t,o,n):!!r},Dn.isError=Ya,Dn.isFinite=function(e){return\"number\"==typeof e&&bt(e)},Dn.isFunction=Qa,Dn.isInteger=Xa,Dn.isLength=es,Dn.isMap=rs,Dn.isMatch=function(e,t){return e===t||Pr(e,t,di(t))},Dn.isMatchWith=function(e,t,n){return n=\"function\"==typeof n?n:o,Pr(e,t,di(t),n)},Dn.isNaN=function(e){return os(e)&&e!=+e},Dn.isNative=function(e){if(Ei(e))throw new Ee(\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\");return Nr(e)},Dn.isNil=function(e){return null==e},Dn.isNull=function(e){return null===e},Dn.isNumber=os,Dn.isObject=ts,Dn.isObjectLike=ns,Dn.isPlainObject=is,Dn.isRegExp=as,Dn.isSafeInteger=function(e){return Xa(e)&&e>=-9007199254740991&&e<=p},Dn.isSet=ss,Dn.isString=cs,Dn.isSymbol=us,Dn.isTypedArray=ls,Dn.isUndefined=function(e){return e===o},Dn.isWeakMap=function(e){return ns(e)&&mi(e)==j},Dn.isWeakSet=function(e){return ns(e)&&\"[object WeakSet]\"==kr(e)},Dn.join=function(e,t){return null==e?\"\":$t.call(e,t)},Dn.kebabCase=Ks,Dn.last=Yi,Dn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=gs(n))<0?wn(r+i,0):bn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Ft(e,Kt,i,!0)},Dn.lowerCase=Gs,Dn.lowerFirst=Vs,Dn.lt=fs,Dn.lte=ds,Dn.max=function(e){return e&&e.length?mr(e,oc,Ir):o},Dn.maxBy=function(e,t){return e&&e.length?mr(e,li(t,2),Ir):o},Dn.mean=function(e){return Gt(e,oc)},Dn.meanBy=function(e,t){return Gt(e,li(t,2))},Dn.min=function(e){return e&&e.length?mr(e,oc,Ur):o},Dn.minBy=function(e,t){return e&&e.length?mr(e,li(t,2),Ur):o},Dn.stubArray=mc,Dn.stubFalse=vc,Dn.stubObject=function(){return{}},Dn.stubString=function(){return\"\"},Dn.stubTrue=function(){return!0},Dn.multiply=xc,Dn.nth=function(e,t){return e&&e.length?Wr(e,gs(t)):o},Dn.noConflict=function(){return gt._===this&&(gt._=De),this},Dn.noop=uc,Dn.now=Ia,Dn.pad=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Go(mt(o),n)+e+Go(pt(o),n)},Dn.padEnd=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?e+Go(t-r,n):e},Dn.padStart=function(e,t,n){e=ws(e);var r=(t=gs(t))?pn(e):0;return t&&r<t?Go(t-r,n)+e:e},Dn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(ws(e).replace(ae,\"\"),t||0)},Dn.random=function(e,t,n){if(n&&\"boolean\"!=typeof n&&Ai(e,t,n)&&(t=n=o),n===o&&(\"boolean\"==typeof t?(n=t,t=o):\"boolean\"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ps(e),t===o?(t=e,e=0):t=ps(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=xn();return bn(e+i*(t-e+ft(\"1e-\"+((i+\"\").length-1))),t)}return Jr(e,t)},Dn.reduce=function(e,t,n){var r=Ka(e)?Mt:Jt,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},Dn.reduceRight=function(e,t,n){var r=Ka(e)?zt:Jt,o=arguments.length<3;return r(e,li(t,4),n,o,pr)},Dn.repeat=function(e,t,n){return t=(n?Ai(e,t,n):t===o)?1:gs(t),Zr(ws(e),t)},Dn.replace=function(){var e=arguments,t=ws(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Dn.result=function(e,t,n){var r=-1,i=(t=Ao(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[zi(t[r])];a===o&&(r=i,a=n),e=Qa(a)?a.call(e):a}return e},Dn.round=Ec,Dn.runInContext=e,Dn.sample=function(e){return(Ka(e)?Qn:Qr)(e)},Dn.size=function(e){if(null==e)return 0;if(Va(e))return cs(e)?pn(e):e.length;var t=mi(e);return t==_||t==C?e.size:Mr(e).length},Dn.snakeCase=Hs,Dn.some=function(e,t,n){var r=Ka(e)?Ut:io;return n&&Ai(e,t,n)&&(t=o),r(e,li(t,3))},Dn.sortedIndex=function(e,t){return ao(e,t)},Dn.sortedIndexBy=function(e,t,n){return so(e,t,li(n,2))},Dn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&Da(e[r],t))return r}return-1},Dn.sortedLastIndex=function(e,t){return ao(e,t,!0)},Dn.sortedLastIndexBy=function(e,t,n){return so(e,t,li(n,2),!0)},Dn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ao(e,t,!0)-1;if(Da(e[n],t))return n}return-1},Dn.startCase=Js,Dn.startsWith=function(e,t,n){return e=ws(e),n=null==n?0:cr(gs(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},Dn.subtract=_c,Dn.sum=function(e){return e&&e.length?Zt(e,oc):0},Dn.sumBy=function(e,t){return e&&e.length?Zt(e,li(t,2)):0},Dn.template=function(e,t,n){var r=Dn.templateSettings;n&&Ai(e,t,n)&&(t=o),e=ws(e),t=Ss({},t,r,ei);var i,a,s=Ss({},t.imports,r.imports,ei),c=Rs(s),u=en(s,c),l=0,f=t.interpolate||Se,d=\"__p += '\",h=Te((t.escape||Se).source+\"|\"+f.source+\"|\"+(f===ee?pe:Se).source+\"|\"+(t.evaluate||Se).source+\"|$\",\"g\"),p=\"//# sourceURL=\"+(Le.call(t,\"sourceURL\")?(t.sourceURL+\"\").replace(/\\s/g,\" \"):\"lodash.templateSources[\"+ ++st+\"]\")+\"\\n\";e.replace(h,(function(t,n,r,o,s,c){return r||(r=o),d+=e.slice(l,c).replace(xe,sn),n&&(i=!0,d+=\"' +\\n__e(\"+n+\") +\\n'\"),s&&(a=!0,d+=\"';\\n\"+s+\";\\n__p += '\"),r&&(d+=\"' +\\n((__t = (\"+r+\")) == null ? '' : __t) +\\n'\"),l=c+t.length,t})),d+=\"';\\n\";var g=Le.call(t,\"variable\")&&t.variable;if(g){if(de.test(g))throw new Ee(\"Invalid `variable` option passed into `_.template`\")}else d=\"with (obj) {\\n\"+d+\"\\n}\\n\";d=(a?d.replace(K,\"\"):d).replace(G,\"$1\").replace(V,\"$1;\"),d=\"function(\"+(g||\"obj\")+\") {\\n\"+(g?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(i?\", __e = _.escape\":\"\")+(a?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+d+\"return __p\\n}\";var m=Xs((function(){return _e(c,p+\"return \"+d).apply(o,u)}));if(m.source=d,Ya(m))throw m;return m},Dn.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=m,r=bn(e,m);t=li(t),e-=m;for(var o=Yt(r,t);++n<e;)t(n);return o},Dn.toFinite=ps,Dn.toInteger=gs,Dn.toLength=ms,Dn.toLower=function(e){return ws(e).toLowerCase()},Dn.toNumber=vs,Dn.toSafeInteger=function(e){return e?cr(gs(e),-9007199254740991,p):0===e?e:0},Dn.toString=ws,Dn.toUpper=function(e){return ws(e).toUpperCase()},Dn.trim=function(e,t,n){if((e=ws(e))&&(n||t===o))return Qt(e);if(!e||!(t=lo(t)))return e;var r=gn(e),i=gn(t);return xo(r,nn(r,i),rn(r,i)+1).join(\"\")},Dn.trimEnd=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.slice(0,mn(e)+1);if(!e||!(t=lo(t)))return e;var r=gn(e);return xo(r,0,rn(r,gn(t))+1).join(\"\")},Dn.trimStart=function(e,t,n){if((e=ws(e))&&(n||t===o))return e.replace(ae,\"\");if(!e||!(t=lo(t)))return e;var r=gn(e);return xo(r,nn(r,gn(t))).join(\"\")},Dn.truncate=function(e,t){var n=30,r=\"...\";if(ts(t)){var i=\"separator\"in t?t.separator:i;n=\"length\"in t?gs(t.length):n,r=\"omission\"in t?lo(t.omission):r}var a=(e=ws(e)).length;if(cn(e)){var s=gn(e);a=s.length}if(n>=a)return e;var c=n-pn(r);if(c<1)return r;var u=s?xo(s,0,c).join(\"\"):e.slice(0,c);if(i===o)return u+r;if(s&&(c+=u.length-c),as(i)){if(e.slice(c).search(i)){var l,f=u;for(i.global||(i=Te(i.source,ws(ge.exec(i))+\"g\")),i.lastIndex=0;l=i.exec(f);)var d=l.index;u=u.slice(0,d===o?c:d)}}else if(e.indexOf(lo(i),c)!=c){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r},Dn.unescape=function(e){return(e=ws(e))&&Z.test(e)?e.replace(H,vn):e},Dn.uniqueId=function(e){var t=++Me;return ws(e)+t},Dn.upperCase=Zs,Dn.upperFirst=Ys,Dn.each=wa,Dn.eachRight=ba,Dn.first=Vi,cc(Dn,(Sc={},Ar(Dn,(function(e,t){Le.call(Dn.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),Dn.VERSION=\"4.17.21\",Ot([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],(function(e){Dn[e].placeholder=Dn})),Ot([\"drop\",\"take\"],(function(e,t){Kn.prototype[e]=function(n){n=n===o?1:wn(gs(n),0);var r=this.__filtered__&&!t?new Kn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,m),type:e+(r.__dir__<0?\"Right\":\"\")}),r},Kn.prototype[e+\"Right\"]=function(t){return this.reverse()[e](t).reverse()}})),Ot([\"filter\",\"map\",\"takeWhile\"],(function(e,t){var n=t+1,r=1==n||3==n;Kn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ot([\"head\",\"last\"],(function(e,t){var n=\"take\"+(t?\"Right\":\"\");Kn.prototype[e]=function(){return this[n](1).value()[0]}})),Ot([\"initial\",\"tail\"],(function(e,t){var n=\"drop\"+(t?\"\":\"Right\");Kn.prototype[e]=function(){return this.__filtered__?new Kn(this):this[n](1)}})),Kn.prototype.compact=function(){return this.filter(oc)},Kn.prototype.find=function(e){return this.filter(e).head()},Kn.prototype.findLast=function(e){return this.reverse().find(e)},Kn.prototype.invokeMap=Yr((function(e,t){return\"function\"==typeof e?new Kn(this):this.map((function(n){return Br(n,e,t)}))})),Kn.prototype.reject=function(e){return this.filter(La(li(e)))},Kn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Kn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Kn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kn.prototype.toArray=function(){return this.take(m)},Ar(Kn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Dn[r?\"take\"+(\"last\"==t?\"Right\":\"\"):t],a=r||/^find/.test(t);i&&(Dn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof Kn,u=s[0],l=c||Ka(t),f=function(e){var t=i.apply(Dn,Lt([e],s));return r&&d?t[0]:t};l&&n&&\"function\"==typeof u&&1!=u.length&&(c=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,g=c&&!h;if(!a&&l){t=g?t:new Kn(this);var m=e.apply(t,s);return m.__actions__.push({func:pa,args:[f],thisArg:o}),new Wn(m,d)}return p&&g?e.apply(this,s):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),Ot([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],(function(e){var t=Be[e],n=/^(?:push|sort|unshift)$/.test(e)?\"tap\":\"thru\",r=/^(?:pop|shift)$/.test(e);Dn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ka(o)?o:[],e)}return this[n]((function(n){return t.apply(Ka(n)?n:[],e)}))}})),Ar(Kn.prototype,(function(e,t){var n=Dn[t];if(n){var r=n.name+\"\";Le.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}})),Rn[Fo(o,2).name]=[{name:\"wrapper\",func:o}],Kn.prototype.clone=function(){var e=new Kn(this.__wrapped__);return e.__actions__=Bo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Bo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Bo(this.__views__),e},Kn.prototype.reverse=function(){if(this.__filtered__){var e=new Kn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ka(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case\"drop\":e+=a;break;case\"dropRight\":t-=a;break;case\"take\":t=bn(t,e+a);break;case\"takeRight\":e=wn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,h=bn(c,this.__takeCount__);if(!n||!r&&o==c&&h==c)return mo(e,this.__actions__);var p=[];e:for(;c--&&d<h;){for(var g=-1,m=e[u+=t];++g<f;){var v=l[g],y=v.iteratee,w=v.type,b=y(m);if(2==w)m=b;else if(!b){if(1==w)continue e;break e}}p[d++]=m}return p},Dn.prototype.at=ga,Dn.prototype.chain=function(){return ha(this)},Dn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Dn.prototype.next=function(){this.__values__===o&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Dn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=$i(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Dn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Kn){var t=e;return this.__actions__.length&&(t=new Kn(this)),(t=t.reverse()).__actions__.push({func:pa,args:[ta],thisArg:o}),new Wn(t,this.__chain__)}return this.thru(ta)},Dn.prototype.toJSON=Dn.prototype.valueOf=Dn.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},Dn.prototype.first=Dn.prototype.head,Qe&&(Dn.prototype[Qe]=function(){return this}),Dn}();gt._=yn,(r=function(){return yn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},5276:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},5288:(e,t,n)=>{var r=n(358),o=n(7200),i=n(6529);e.exports=function(e){return i(e)?r(e,!0):o(e)}},5353:(e,t,n)=>{var r=n(8638);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},5387:e=>{e.exports=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5512:(e,t,n)=>{var r=n(4943),o=n(3316)(r);e.exports=o},5568:e=>{e.exports=function(e,t){return e.has(t)}},5620:(e,t,n)=>{var r=n(8788),o=n(9141),i=n(796),a=n(33);e.exports=function(e,t,n){var s=t+\"\";return i(e,o(s,a(r(s),n)))}},5650:(e,t,n)=>{var r=n(8942).Symbol;e.exports=r},5681:(e,t,n)=>{var r=n(4700);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},5755:e=>{var t=Math.max;e.exports=function(e,n,r,o){for(var i=-1,a=e.length,s=-1,c=r.length,u=-1,l=n.length,f=t(a-c,0),d=Array(f+l),h=!o;++i<f;)d[i]=e[i];for(var p=i;++u<l;)d[p+u]=n[u];for(;++s<c;)(h||i<a)&&(d[p+r[s]]=e[i++]);return d}},5832:(e,t,n)=>{var r=n(1129),o=n(4784),i=n(7979),a=n(9306),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},5853:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=n(4772),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},5857:(e,t,n)=>{var r=n(313);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},5894:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},5899:(e,t,n)=>{var r=n(3526),o=n(3283),i=n(3142),a=n(9632),s=n(5387),c=n(6040);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,f=!1;++u<l;){var d=c(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(d,l)&&(i(e)||o(e))}},5962:e=>{e.exports=function(){}},5964:(e,t,n)=>{var r=n(9747),o=n(4784),i=n(4882);e.exports=function(e){return\"function\"!=typeof e.constructor||i(e)?{}:r(o(e))}},6027:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return o(e)&&\"[object Arguments]\"==r(e)}},6040:(e,t,n)=>{var r=n(1187);e.exports=function(e){if(\"string\"==typeof e||r(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-Infinity?\"-0\":t}},6065:(e,t,n)=>{var r=n(9270),o=r&&new r;e.exports=o},6123:(e,t,n)=>{var r=n(7923);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},6131:(e,t,n)=>{var r=n(6403),o=n(1580),i=n(1187),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if(\"number\"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},6137:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6285:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},6341:(e,t,n)=>{var r=n(6912),o=n(4364),i=n(8942);e.exports=function(e,t,n,a){var s=1&t,c=o(e);return function t(){for(var o=-1,u=arguments.length,l=-1,f=a.length,d=Array(f+u),h=this&&this!==i&&this instanceof t?c:e;++l<f;)d[l]=a[l];for(;u--;)d[l++]=arguments[++o];return r(h,s?n:this,d)}}},6403:(e,t,n)=>{var r=n(2945),o=/^\\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,\"\"):e}},6465:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},6493:(e,t,n)=>{var r=n(6853),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,\"$1\"):n||e)})),t}));e.exports=a},6526:(e,t,n)=>{var r=n(8330),o=n(4367),i=n(3904);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},6529:(e,t,n)=>{var r=n(3655),o=n(5387);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6591:(e,t,n)=>{var r=n(4354),o=n(9632),i=Math.min;e.exports=function(e,t){for(var n=e.length,a=i(t.length,n),s=r(e);a--;){var c=t[a];e[a]=o(c,n)?s[c]:void 0}return e}},6638:(e,t,n)=>{var r=n(1386),o=n(9770),i=n(8250);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},6648:(e,t,n)=>{var r=n(7553),o=n(5196),i=n(961),a=n(3321);e.exports=function(e){var t=i(e),n=a[t];if(\"function\"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},6713:(e,t,n)=>{var r=n(4364),o=n(8942);e.exports=function(e,t,n){var i=1&t,a=r(e);return function t(){return(this&&this!==o&&this instanceof t?a:e).apply(i?n:this,arguments)}}},6850:e=>{e.exports=function(e){return e.placeholder}},6853:(e,t,n)=>{var r=n(9011);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},6912:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},7028:(e,t,n)=>{var r=n(4977),o=n(5755),i=n(8813),a=\"__lodash_placeholder__\",s=128,c=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],l=n|u,f=l<131,d=u==s&&8==n||u==s&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!f&&!d)return e;1&u&&(e[2]=t[2],l|=1&n?0:4);var h=t[3];if(h){var p=e[3];e[3]=p?r(p,h,t[4]):h,e[4]=p?i(e[3],a):t[4]}return(h=t[5])&&(p=e[5],e[5]=p?o(p,h,t[6]):h,e[6]=p?i(e[5],a):t[6]),(h=t[7])&&(e[7]=h),u&s&&(e[8]=null==e[8]?t[8]:c(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},7034:(e,t,n)=>{var r=n(6285);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},7073:(e,t,n)=>{var r=n(2532);e.exports=function(e,t,n){\"__proto__\"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7099:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},7144:(e,t,n)=>{var r=n(7034);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7200:(e,t,n)=>{var r=n(1580),o=n(4882),i=n(8546),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)(\"constructor\"!=s||!t&&a.call(e,s))&&n.push(s);return n}},7250:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},7267:(e,t,n)=>{var r=n(1580);e.exports=function(e){return e==e&&!r(e)}},7276:(e,t,n)=>{var r=n(3636),o=n(5899);e.exports=function(e,t){return null!=e&&o(e,t,r)}},7336:(e,t,n)=>{var r=n(8638);function o(e,t,n){var i=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},7350:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&\"string\"==typeof e[0]&&t.call(e,\"index\")&&(r.index=e.index,r.input=e.input),r}},7379:(e,t,n)=>{var r=n(5650),o=n(8870),i=n(9005),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":a&&a in Object(e)?o(e):i(e)}},7403:(e,t,n)=>{var r=n(2619),o=n(2532),i=n(2053),a=o?function(e,t){return o(e,\"toString\",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},7452:(e,t,n)=>{var r=n(7034);e.exports=function(e){return r(this.__data__,e)>-1}},7462:e=>{e.exports=function(e){return this.__data__.has(e)}},7553:(e,t,n)=>{var r=n(9747),o=n(5962);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=r(o.prototype),i.prototype.constructor=i,e.exports=i},7642:(e,t,n)=>{var r=n(3301);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},7681:(e,t,n)=>{var r=n(777),o=n(9460),i=n(2306),a=i&&i.isMap,s=a?o(a):r;e.exports=s},7706:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},7769:(e,t,n)=>{var r=n(8486),o=n(547);e.exports=function(e){return o(e)&&\"[object WeakMap]\"==r(e)}},7923:(e,t,n)=>{var r=n(3526),o=n(6040);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},7930:(e,t,n)=>{var r=n(9032),o=n(1211);e.exports=function(e,t){return e&&r(t,o(t),e)}},7979:(e,t,n)=>{var r=n(9847),o=n(9306),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},7991:(e,t)=>{\"use strict\";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],c=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,f=c>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+\"==\")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+\"=\"));return i.join(\"\")};for(var n=[],r=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,i=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var n=e.indexOf(\"=\");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join(\"\")}r[\"-\".charCodeAt(0)]=62,r[\"_\".charCodeAt(0)]=63},8006:e=>{e.exports=function(e){return this.__data__.has(e)}},8055:(e,t,n)=>{e.exports={ary:n(5353),assign:n(7930),clone:n(2846),curry:n(7336),forEach:n(9968),isArray:n(3142),isError:n(441),isFunction:n(3655),isWeakMap:n(7769),iteratee:n(2590),keys:n(195),rearg:n(864),toInteger:n(7642),toPath:n(2613)}},8069:(e,t,n)=>{var r=n(5650),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},8121:(e,t,n)=>{var r=n(3766)(Object.keys,Object);e.exports=r},8244:(e,t,n)=>{var r=n(1129),o=n(3142);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},8250:(e,t,n)=>{var r=n(9753),o=n(5681),i=n(88),a=n(4732),s=n(9068);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},8330:(e,t,n)=>{var r=n(1340),o=n(4687);e.exports=function(e,t,n,i){var a=n.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],f=e[l],d=u[1];if(c&&u[2]){if(void 0===f&&!(l in e))return!1}else{var h=new r;if(i)var p=i(f,d,l,e,t,h);if(!(void 0===p?o(d,f,3,i,h):p))return!1}}return!0}},8340:e=>{var t=/\\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8360:(e,t,n)=>{var r=n(7379),o=n(4784),i=n(547),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||\"[object Object]\"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof n&&n instanceof n&&c.call(n)==l}},8486:(e,t,n)=>{var r=n(3103),o=n(9770),i=n(9413),a=n(4512),s=n(9270),c=n(7379),u=n(4066),l=\"[object Map]\",f=\"[object Promise]\",d=\"[object Set]\",h=\"[object WeakMap]\",p=\"[object DataView]\",g=u(r),m=u(o),v=u(i),y=u(a),w=u(s),b=c;(r&&b(new r(new ArrayBuffer(1)))!=p||o&&b(new o)!=l||i&&b(i.resolve())!=f||a&&b(new a)!=d||s&&b(new s)!=h)&&(b=function(e){var t=c(e),n=\"[object Object]\"==t?e.constructor:void 0,r=n?u(n):\"\";if(r)switch(r){case g:return p;case m:return l;case v:return f;case y:return d;case w:return h}return t}),e.exports=b},8546:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},8638:(e,t,n)=>{var r=n(4943),o=n(6713),i=n(2443),a=n(3504),s=n(6341),c=n(5196),u=n(7028),l=n(5512),f=n(5620),d=n(7642),h=Math.max;e.exports=function(e,t,n,p,g,m,v,y){var w=2&t;if(!w&&\"function\"!=typeof e)throw new TypeError(\"Expected a function\");var b=p?p.length:0;if(b||(t&=-97,p=g=void 0),v=void 0===v?v:h(d(v),0),y=void 0===y?y:d(y),b-=g?g.length:0,64&t){var A=p,S=g;p=g=void 0}var x=w?void 0:c(e),E=[e,t,n,p,g,A,S,m,v,y];if(x&&u(E,x),e=E[0],t=E[1],n=E[2],p=E[3],g=E[4],!(y=E[9]=void 0===E[9]?w?0:e.length:h(E[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?i(e,t,y):32!=t&&33!=t||g.length?a.apply(void 0,E):s(e,t,n,p);else var _=o(e,t,n);return f((x?r:l)(_,E),e,t)}},8666:(e,t,n)=>{var r=n(674),o=n(9460),i=n(2306),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},8788:e=>{var t=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},8813:e=>{var t=\"__lodash_placeholder__\";e.exports=function(e,n){for(var r=-1,o=e.length,i=0,a=[];++r<o;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[i++]=r)}return a}},8861:(e,t,n)=>{var r=n(5650),o=n(1623),i=n(6285),a=n(3934),s=n(5894),c=n(9828),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,d){switch(n){case\"[object DataView]\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\"[object ArrayBuffer]\":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return i(+e,+t);case\"[object Error]\":return e.name==t.name&&e.message==t.message;case\"[object RegExp]\":case\"[object String]\":return e==t+\"\";case\"[object Map]\":var h=s;case\"[object Set]\":var p=1&r;if(h||(h=c),e.size!=t.size&&!p)return!1;var g=d.get(e);if(g)return g==t;r|=2,d.set(e,t);var m=a(h(e),h(t),r,u,f,d);return d.delete(e),m;case\"[object Symbol]\":if(l)return l.call(e)==l.call(t)}return!1}},8870:(e,t,n)=>{var r=n(5650),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},8880:(e,t,n)=>{var r=n(7923);e.exports=function(e){return function(t){return r(t,e)}}},8898:(e,t,n)=>{var r=n(1623);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},8942:(e,t,n)=>{var r=n(4967),o=\"object\"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function(\"return this\")();e.exports=i},9005:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9011:(e,t,n)=>{var r=n(8250);function o(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(\"Expected a function\");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},9032:(e,t,n)=>{var r=n(3422),o=n(7073);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},9067:e=>{e.exports=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}},9068:(e,t,n)=>{var r=n(4700);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},9071:e=>{e.exports=function(){}},9141:e=>{var t=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var o=r-1;return n[o]=(r>1?\"& \":\"\")+n[o],n=n.join(r>2?\", \":\" \"),e.replace(t,\"{\\n/* [wrapped with \"+n+\"] */\\n\")}},9270:(e,t,n)=>{var r=n(4715)(n(8942),\"WeakMap\");e.exports=r},9306:e=>{e.exports=function(){return[]}},9318:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*g}},9334:(e,t,n)=>{var r=n(1340),o=n(9968),i=n(3422),a=n(7930),s=n(125),c=n(7099),u=n(4354),l=n(3546),f=n(4733),d=n(393),h=n(3650),p=n(8486),g=n(7350),m=n(424),v=n(5964),y=n(3142),w=n(5853),b=n(7681),A=n(1580),S=n(3943),x=n(1211),E=n(5288),_=\"[object Arguments]\",k=\"[object Function]\",I=\"[object Object]\",T={};T[_]=T[\"[object Array]\"]=T[\"[object ArrayBuffer]\"]=T[\"[object DataView]\"]=T[\"[object Boolean]\"]=T[\"[object Date]\"]=T[\"[object Float32Array]\"]=T[\"[object Float64Array]\"]=T[\"[object Int8Array]\"]=T[\"[object Int16Array]\"]=T[\"[object Int32Array]\"]=T[\"[object Map]\"]=T[\"[object Number]\"]=T[I]=T[\"[object RegExp]\"]=T[\"[object Set]\"]=T[\"[object String]\"]=T[\"[object Symbol]\"]=T[\"[object Uint8Array]\"]=T[\"[object Uint8ClampedArray]\"]=T[\"[object Uint16Array]\"]=T[\"[object Uint32Array]\"]=!0,T[\"[object Error]\"]=T[k]=T[\"[object WeakMap]\"]=!1,e.exports=function e(t,n,O,C,B,R){var j,P=1&n,N=2&n,L=4&n;if(O&&(j=B?O(t,C,B,R):O(t)),void 0!==j)return j;if(!A(t))return t;var M=y(t);if(M){if(j=g(t),!P)return u(t,j)}else{var z=p(t),U=z==k||\"[object GeneratorFunction]\"==z;if(w(t))return c(t,P);if(z==I||z==_||U&&!B){if(j=N||U?{}:v(t),!P)return N?f(t,s(j,t)):l(t,a(j,t))}else{if(!T[z])return B?t:{};j=m(t,z,P)}}R||(R=new r);var $=R.get(t);if($)return $;R.set(t,j),S(t)?t.forEach((function(r){j.add(e(r,n,O,r,t,R))})):b(t)&&t.forEach((function(r,o){j.set(o,e(r,n,O,o,t,R))}));var D=M?void 0:(L?N?h:d:N?E:x)(t);return o(D||t,(function(r,o){D&&(r=t[o=r]),i(j,o,e(r,n,O,o,t,R))})),j}},9361:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},9413:(e,t,n)=>{var r=n(4715)(n(8942),\"Promise\");e.exports=r},9454:e=>{e.exports=function(e){return e!=e}},9460:e=>{e.exports=function(e){return function(t){return e(t)}}},9624:(e,t,n)=>{var r=n(3655),o=n(4759),i=n(1580),a=n(4066),s=/^\\[object .+?Constructor\\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp(\"^\"+l.call(f).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:s).test(a(e))}},9632:e=>{var t=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&(\"number\"==r||\"symbol\"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9747:(e,t,n)=>{var r=n(1580),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},9753:(e,t,n)=>{var r=n(5098),o=n(1386),i=n(9770);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},9756:(e,t,n)=>{var r=n(2478);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},9770:(e,t,n)=>{var r=n(4715)(n(8942),\"Map\");e.exports=r},9828:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},9847:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},9968:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{\"use strict\";n.r(r),n.d(r,{onAssetHistoricalPrice:()=>nw,onAssetsConversion:()=>ew,onAssetsLookup:()=>Xy,onCronjob:()=>Qy,onKeyringRequest:()=>Zy,onProtocolRequest:()=>tw,onRpcRequest:()=>Jy,onUserInput:()=>Yy});var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)},t=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";(()=>{const e=Array(256).fill(-1);for(let n=0;n<58;++n)e[t.charCodeAt(n)]=n})();var o,i,a,s=e=>{if(!e||\"string\"!=typeof e)throw new Error(`Expected base58 string but got ${e}`);if(e.match(/[IOl0]/gmu))throw new Error(`Invalid base58 character ${e.match(/[IOl0]/gmu)}`);const n=e.match(/^1+/gmu),r=n?n[0].length:0,o=(e.length-r)*(Math.log(58)/Math.log(256))+1>>>0;return new Uint8Array([...new Uint8Array(r),...e.match(/.{1}/gmu).map((e=>t.indexOf(e))).reduce(((e,t)=>e.map((e=>{const n=58*e+t;return t=n>>8,n}))),new Uint8Array(o)).reverse().filter((i=!1,e=>i=i||e))]);var i},c=(o=function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.bech32m=t.bech32=void 0;const n=\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\",r={};for(let e=0;e<32;e++){const t=n.charAt(e);r[t]=e}function o(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function i(e){let t=1;for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);if(r<33||r>126)return\"Invalid prefix (\"+e+\")\";t=o(t)^r>>5}t=o(t);for(let n=0;n<e.length;++n){const r=e.charCodeAt(n);t=o(t)^31&r}return t}function a(e,t,n,r){let o=0,i=0;const a=(1<<n)-1,s=[];for(let r=0;r<e.length;++r)for(o=o<<t|e[r],i+=t;i>=n;)i-=n,s.push(o>>i&a);if(r)i>0&&s.push(o<<n-i&a);else{if(i>=t)return\"Excess padding\";if(o<<n-i&a)return\"Non-zero padding\"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l(e){let t;function a(e,n){if(n=n||90,e.length<8)return e+\" too short\";if(e.length>n)return\"Exceeds length limit\";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return\"Mixed-case string \"+e;const c=(e=a).lastIndexOf(\"1\");if(-1===c)return\"No separator character for \"+e;if(0===c)return\"Missing prefix for \"+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return\"Data too short\";let f=i(u);if(\"string\"==typeof f)return f;const d=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),n=r[t];if(void 0===n)return\"Unknown character \"+t;f=o(f)^n,e+6>=l.length||d.push(n)}return f!==t?\"Invalid checksum for \"+e:{prefix:u,words:d}}return t=\"bech32\"===e?1:734539939,{decodeUnsafe:function(e,t){const n=a(e,t);if(\"object\"==typeof n)return n},decode:function(e,t){const n=a(e,t);if(\"object\"==typeof n)return n;throw new Error(n)},encode:function(e,r,a){if(a=a||90,e.length+7+r.length>a)throw new TypeError(\"Exceeds length limit\");let s=i(e=e.toLowerCase());if(\"string\"==typeof s)throw new Error(s);let c=e+\"1\";for(let e=0;e<r.length;++e){const t=r[e];if(t>>5!=0)throw new Error(\"Non 5-bit word\");s=o(s)^t,c+=n.charAt(t)}for(let e=0;e<6;++e)s=o(s);s^=t;for(let e=0;e<6;++e)c+=n.charAt(s>>5*(5-e)&31);return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=l(\"bech32\"),t.bech32m=l(\"bech32m\")},o(i={exports:{}},i.exports),i.exports);(a=c)&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,\"default\")&&a.default;var u=c.bech32m,l=c.bech32;const f=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];class d{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!p||g>=8e3)&&(p=new ArrayBuffer(8e3),g=0),this._byte=new Uint8Array(p,g,80),this._word=new Int32Array(p,g,20),g+=80}update(e){if(\"string\"==typeof e)return this._utf8(e);if(null==e)throw new TypeError(\"Invalid type: \"+typeof e);const t=e.byteOffset,n=e.byteLength;let r=n/64|0,o=0;if(r&&!(3&t)&&!(this._size%64)){const n=new Int32Array(e.buffer,t,16*r);for(;r--;)this._int32(n,o>>2),o+=64;this._size+=o}if(1!==e.BYTES_PER_ELEMENT&&e.buffer){const r=new Uint8Array(e.buffer,t+o,n-o);return this._uint8(r)}return o===n?this:this._uint8(e,o)}_uint8(e,t){const{_byte:n,_word:r}=this,o=e.length;for(t|=0;t<o;){const i=this._size%64;let a=i;for(;t<o&&a<64;)n[a++]=e[t++];a>=64&&this._int32(r),this._size+=a-i}return this}_utf8(e){const{_byte:t,_word:n}=this,r=e.length;let o=this._sp;for(let i=0;i<r;){const a=this._size%64;let s=a;for(;i<r&&s<64;){let n=0|e.charCodeAt(i++);n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<55296||n>57343?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):o?(n=((1023&o)<<10)+(1023&n)+65536,t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n,o=0):o=n}s>=64&&(this._int32(n),n[0]=n[16]),this._size+=s-a}return this._sp=o,this}_int32(e,t){let{A:n,B:r,C:o,D:i,E:a,F:s,G:c,H:u}=this,l=0;for(t|=0;l<16;)h[l++]=v(e[t++]);for(l=16;l<64;l++)h[l]=x(h[l-2])+h[l-7]+S(h[l-15])+h[l-16]|0;for(l=0;l<64;l++){const e=u+A(a)+y(a,s,c)+f[l]+h[l]|0,t=b(n)+w(n,r,o)|0;u=c,c=s,s=a,a=i+e|0,i=o,o=r,r=n,n=e+t|0}this.A=n+this.A|0,this.B=r+this.B|0,this.C=o+this.C|0,this.D=i+this.D|0,this.E=a+this.E|0,this.F=s+this.F|0,this.G=c+this.G|0,this.H=u+this.H|0}digest(e){const{_byte:t,_word:n}=this;let r=this._size%64|0;for(t[r++]=128;3&r;)t[r++]=0;if(r>>=2,r>14){for(;r<16;)n[r++]=0;r=0,this._int32(n)}for(;r<16;)n[r++]=0;const o=8*this._size,i=(4294967295&o)>>>0,a=(o-i)/4294967296;return a&&(n[14]=v(a)),i&&(n[15]=v(i)),this._int32(n),\"hex\"===e?this._hex():this._bin()}_hex(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s}=this;return m(e)+m(t)+m(n)+m(r)+m(o)+m(i)+m(a)+m(s)}_bin(){const{A:e,B:t,C:n,D:r,E:o,F:i,G:a,H:s,_byte:c,_word:u}=this;return u[0]=v(e),u[1]=v(t),u[2]=v(n),u[3]=v(r),u[4]=v(o),u[5]=v(i),u[6]=v(a),u[7]=v(s),c.slice(0,32)}}const h=new Int32Array(64);let p,g=0;const m=e=>(e+4294967296).toString(16).substr(-8),v=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?e=>e:e=>e<<24&4278190080|e<<8&16711680|e>>8&65280|e>>24&255,y=(e,t,n)=>n^e&(t^n),w=(e,t,n)=>e&t|n&(e|t),b=e=>(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),A=e=>(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7),S=e=>(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,x=e=>(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10;var E,_,k=function(e){return(new d).update(e).digest()};!function(e){e.mainnet=\"mainnet\",e.testnet=\"testnet\",e.regtest=\"regtest\"}(E||(E={})),function(e){e.p2pkh=\"p2pkh\",e.p2sh=\"p2sh\",e.p2wpkh=\"p2wpkh\",e.p2wsh=\"p2wsh\",e.p2tr=\"p2tr\"}(_||(_={}));var I={0:{type:_.p2pkh,network:E.mainnet},111:{type:_.p2pkh,network:E.testnet},5:{type:_.p2sh,network:E.mainnet},196:{type:_.p2sh,network:E.testnet}},T=function(t){var n,r=t.substr(0,2).toLowerCase();if(\"bc\"===r||\"tb\"===r)return function(e){var t;try{t=e.startsWith(\"bc1p\")||e.startsWith(\"tb1p\")||e.startsWith(\"bcrt1p\")?u.decode(e):l.decode(e)}catch(e){throw new Error(\"Invalid address\")}var n={bc:E.mainnet,tb:E.testnet,bcrt:E.regtest}[t.prefix];if(void 0===n)throw new Error(\"Invalid address\");var r=t.words[0];if(r<0||r>16)throw new Error(\"Invalid address\");return{bech32:!0,network:n,address:e,type:20===l.fromWords(t.words.slice(1)).length?_.p2wpkh:1===r?_.p2tr:_.p2wsh}}(t);try{n=s(t)}catch(e){throw new Error(\"Invalid address\")}var o=n.length;if(25!==o)throw new Error(\"Invalid address\");var i=n[0],a=n.slice(o-4,o),c=n.slice(0,o-4),f=k(k(c)).slice(0,4);if(a.some((function(e,t){return e!==f[t]})))throw new Error(\"Invalid address\");if(!Object.keys(I).map(Number).includes(i))throw new Error(\"Invalid address\");return e(e({},I[i]),{address:t,bech32:!1})};class O extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function C(e){return\"object\"==typeof e&&null!==e}function B(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function R(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${B(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*j(e,t,n,r){(function(e){return C(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=R(o,t,n,r);e&&(yield e)}}function*P(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&C(t.schema)&&C(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,f]of t.entries(e,s)){const t=P(l,f,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):C(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class N{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>j(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>j(o(e,t),t,this,e):()=>[]}assert(e,t){return L(e,this,t)}create(e,t){return M(e,this,t)}is(e){return z(e,this)}mask(e,t){return function(e,t,n){const r=U(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return U(e,this,t)}}function L(e,t,n){const r=U(e,t,{message:n});if(r[0])throw r[0]}function M(e,t,n){const r=U(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function z(e,t){return!U(e,t)[0]}function U(e,t,n={}){const r=P(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new O(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function $(e,t){return new N({type:e,schema:null,validator:t})}function D(e,t){return $(e,(e=>\"string\"==typeof e&&t.test(e)))}const F=D(\"UuidV4\",/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/iu),q=F,W=$(\"Url\",(e=>{try{const t=new URL(e);return\"http:\"===t.protocol||\"https:\"===t.protocol}catch{return!1}})),K=D(\"StringNumber\",/^\\d+(\\.\\d+)?$/u);function G(){return $(\"any\",(()=>!0))}function V(e){return new N({type:\"array\",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${B(e)}`})}function H(){return $(\"boolean\",(e=>\"boolean\"==typeof e))}function J(e){const t={},n=e.map((e=>B(e))).join();for(const n of e)t[n]=n;return new N({type:\"enums\",schema:t,validator:t=>e.includes(t)||`Expected one of \\`${n}\\`, but received: ${B(t)}`})}function Z(){return $(\"integer\",(e=>\"number\"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${B(e)}`))}function Y(e){const t=B(e),n=typeof e;return new N({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${B(n)}`})}function Q(){return $(\"never\",(()=>!1))}function X(e){return new N({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function ee(){return $(\"number\",(e=>\"number\"==typeof e&&!isNaN(e)||`Expected a number, but received: ${B(e)}`))}function te(e){const t=e?Object.keys(e):[],n=Q();return new N({type:\"object\",schema:e??null,*entries(r){if(e&&C(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>C(e)||`Expected an object, but received: ${B(e)}`,coercer:e=>C(e)?{...e}:e})}function ne(e){return new N({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function re(e,t){return new N({type:\"record\",schema:null,*entries(n){if(C(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>C(e)||`Expected an object, but received: ${B(e)}`})}function oe(){return $(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${B(e)}`))}function ie(e){const t=Q();return new N({type:\"tuple\",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let o=0;o<r;o++)yield[o,n[o],e[o]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${B(e)}`})}function ae(e){const t=Object.keys(e);return new N({type:\"type\",schema:e,*entries(n){if(C(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>C(e)||`Expected an object, but received: ${B(e)}`,coercer:e=>C(e)?{...e}:e})}function se(e){const t=e.map((e=>e.type)).join(\" | \");return new N({type:\"union\",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=P(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${B(n)}`,...o]}})}function ce(){return $(\"unknown\",(()=>!0))}function ue(e){return te(e)}function le(e){return e.path[e.path.length-1]in e.branch[e.branch.length-2]}function fe(e){return new N({...e,validator:(t,n)=>!le(n)||e.validator(t,n),refiner:(t,n)=>!le(n)||e.refiner(t,n)})}function de(e,t,n){return new N({...e,coercer:(r,o)=>z(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function he(e){return e instanceof Map||e instanceof Set?e.size:e.length}function pe(e,t,n={}){const{exclusive:r}=n;return ve(e,\"min\",(n=>r?n>t:n>=t||`Expected a ${e.type} greater than ${r?\"\":\"or equal to \"}${t} but received \\`${n}\\``))}function ge(e){return ve(e,\"nonempty\",(t=>he(t)>0||`Expected a nonempty ${e.type} but received an empty one`))}function me(e,t){return ve(e,\"pattern\",(n=>t.test(n)||`Expected a ${e.type} matching \\`/${t.source}/\\` but received \"${n}\"`))}function ve(e,t,n){return new N({...e,*refiner(r,o){yield*e.refiner(r,o);const i=j(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const ye=(e,t)=>Object.hasOwnProperty.call(e,t);var we;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(we=we||(we={}));const be=e=>te(e);function Ae({path:e,branch:t}){const n=e[e.length-1];return ye(t[t.length-2],n)}function Se(e){return new N({...e,type:`optional ${e.type}`,validator:(t,n)=>!Ae(n)||e.validator(t,n),refiner:(t,n)=>!Ae(n)||e.refiner(t,n)})}function xe(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!xe(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!xe(n[e][1])){t=!1;break}return t}return!1}const Ee=$(\"JSON\",(e=>xe(e))),_e=de(Ee,ve(G(),\"JSON\",(e=>z(e,Ee))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const ke=Y(\"2.0\"),Ie=X(se([ee(),oe()])),Te=be({code:Z(),message:oe(),data:Se(_e),stack:Se(oe())}),Oe=se([re(oe(),_e),V(_e)]);be({id:Ie,jsonrpc:ke,method:oe(),params:Se(Oe)}),be({jsonrpc:ke,method:oe(),params:Se(Oe)});te({id:Ie,jsonrpc:ke,result:ne(ce()),error:ne(Te)});const Ce=be({id:Ie,jsonrpc:ke,result:_e}),Be=be({id:Ie,jsonrpc:ke,error:Te});se([Ce,Be]);const Re=ue({jsonrpc:Y(\"2.0\"),id:se([oe(),ee(),Y(null)]),method:oe(),params:fe(se([V(_e),re(oe(),_e)]))});const je=(e,t)=>Object.hasOwnProperty.call(e,t);var Pe;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(Pe=Pe||(Pe={}));const Ne=e=>te(e);function Le({path:e,branch:t}){const n=e[e.length-1];return je(t[t.length-2],n)}function Me(e){return new N({...e,type:`optional ${e.type}`,validator:(t,n)=>!Le(n)||e.validator(t,n),refiner:(t,n)=>!Le(n)||e.refiner(t,n)})}function ze(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!ze(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!ze(n[e][1])){t=!1;break}return t}return!1}const Ue=$(\"JSON\",(e=>ze(e))),$e=de(Ue,ve(G(),\"JSON\",(e=>z(e,Ue))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const De=Y(\"2.0\"),Fe=X(se([ee(),oe()])),qe=Ne({code:Z(),message:oe(),data:Me($e),stack:Me(oe())}),We=se([re(oe(),$e),V($e)]);Ne({id:Fe,jsonrpc:De,method:oe(),params:Me(We)}),Ne({jsonrpc:De,method:oe(),params:Me(We)});te({id:Fe,jsonrpc:De,result:ne(ce()),error:ne(qe)});const Ke=Ne({id:Fe,jsonrpc:De,result:$e}),Ge=Ne({id:Fe,jsonrpc:De,error:qe});se([Ke,Ge]);function Ve(e,t){return $(e,(e=>\"string\"==typeof e&&t.test(e)))}const He=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Je=/^[-a-z0-9]{3,8}$/u,Ze=/^[-_a-zA-Z0-9]{1,32}$/u,Ye=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,Qe=/^[-.%a-zA-Z0-9]{1,128}$/u,Xe=/^[-a-z0-9]{3,8}$/u,et=/^[-.%a-zA-Z0-9]{1,128}$/u,tt=/^[-.%a-zA-Z0-9]{1,78}$/u,nt=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,rt=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,ot=Ve(\"CaipChainId\",He),it=(Ve(\"CaipNamespace\",Je),Ve(\"CaipReference\",Ze),Ve(\"CaipAccountId\",Ye)),at=(Ve(\"CaipAccountAddress\",Qe),Ve(\"CaipAssetNamespace\",Xe),Ve(\"CaipAssetReference\",et),Ve(\"CaipTokenId\",tt),Ve(\"CaipAssetType\",nt)),st=Ve(\"CaipAssetId\",rt),ct=Ve(\"CaipAssetTypeOrId\",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var ut,lt,ft,dt;!function(e){e.Bip122=\"bip122\",e.Solana=\"solana\",e.Eip155=\"eip155\",e.Wallet=\"wallet\"}(ut=ut||(ut={})),function(e){e.Eoa=\"eip155:eoa\",e.Erc4337=\"eip155:erc4337\"}(lt||(lt={})),function(e){e.P2pkh=\"bip122:p2pkh\",e.P2sh=\"bip122:p2sh\",e.P2wpkh=\"bip122:p2wpkh\",e.P2tr=\"bip122:p2tr\"}(ft||(ft={})),function(e){e.DataAccount=\"solana:data-account\"}(dt||(dt={}));const ht=ue({id:q,type:J([`${lt.Eoa}`,`${lt.Erc4337}`,`${ft.P2pkh}`,`${ft.P2sh}`,`${ft.P2wpkh}`,`${ft.P2tr}`,`${dt.DataAccount}`]),address:oe(),scopes:ge(V(ot)),options:re(oe(),$e),methods:V(oe())}),pt=(te({address:it}),ue({unit:oe(),amount:K})),gt=ue({fungible:Y(!0),type:at,...pt.schema}),mt=ue({fungible:Y(!1),id:st}),vt=(yt=e=>function(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(e)&&!e.fungible?mt:gt,new N({type:\"union\",schema:null,*entries(e,t){yield*yt(e).entries(e,t)},*refiner(e,t){yield*yt(e).refiner(e,t)},coercer:(e,t)=>yt(e).coercer(e,t),validator:(e,t)=>yt(e).validator(e,t)}));var yt;const wt=ue({amount:K,unit:oe()}),bt=Ve(\"DerivationPath\",/^m(?:\\/\\d+'?)+$/u);var At;!function(e){e.Bip44=\"bip44\"}(At||(At={}));const St=te({type:Y(`${At.Bip44}`),scopes:V(ot),derivationPath:bt}),xt=(re(oe(),$e),ue({id:F,scope:oe(),account:F,origin:oe(),request:ue({method:oe(),params:fe(se([V($e),re(oe(),$e)]))})})),Et=(se([ue({pending:Y(!0),redirect:fe(ue({message:fe(oe()),url:fe(oe())}))}),ue({pending:Y(!1),result:$e})]),ue({address:oe(),asset:X(vt)}));var _t;!function(e){e.Base=\"base\",e.Priority=\"priority\"}(_t||(_t={}));const kt=ue({type:J([`${_t.Base}`,`${_t.Priority}`]),asset:vt});var It,Tt;!function(e){e.Submitted=\"submitted\",e.Unconfirmed=\"unconfirmed\",e.Confirmed=\"confirmed\",e.Failed=\"failed\"}(It||(It={})),function(e){e.Send=\"send\",e.Receive=\"receive\",e.Swap=\"swap\",e.BridgeSend=\"bridge:send\",e.BridgeReceive=\"bridge:receive\",e.Unknown=\"unknown\"}(Tt||(Tt={}));const Ot=ue({status:J([`${It.Submitted}`,`${It.Unconfirmed}`,`${It.Confirmed}`,`${It.Failed}`]),timestamp:X(ee())}),Ct=ue({id:oe(),chain:ot,account:F,status:J([`${It.Submitted}`,`${It.Unconfirmed}`,`${It.Confirmed}`,`${It.Failed}`]),timestamp:X(ee()),type:J([`${Tt.Send}`,`${Tt.Receive}`,`${Tt.Swap}`,`${Tt.BridgeSend}`,`${Tt.BridgeReceive}`,`${Tt.Unknown}`]),from:V(Et),to:V(Et),fees:V(kt),events:V(Ot)}),Bt=(ue({data:V(Ct),next:X(oe())}),ue({limit:ee(),next:fe(X(oe()))})),Rt=ue({metamask:fe(ue({correlationId:F}))});var jt;!function(e){e.Mainnet=\"bip122:000000000019d6689c085ae165831e93\",e.Testnet=\"bip122:000000000933ea01ad0ee984209779ba\",e.Testnet4=\"bip122:00000000da84f2bafbbc53dee25a72ae\",e.Signet=\"bip122:00000008819873e925422c1ff0f99f7c\",e.Regtest=\"bip122:regtest\"}(jt||(jt={}));const Pt=(e,t)=>{try{return T(e).type===t||new Error(`Invalid ${t} address`)}catch(e){return new Error(`Failed to decode ${t} address: ${e.message}`)}},Nt=ve(oe(),\"BtcP2pkhAddressStruct\",(e=>Pt(e,_.p2pkh))),Lt=ve(oe(),\"BtcP2shAddressStruct\",(e=>Pt(e,_.p2sh))),Mt=ve(oe(),\"BtcP2wpkhAddressStruct\",(e=>Pt(e,_.p2wpkh))),zt=ve(oe(),\"BtcP2trAddressStruct\",(e=>Pt(e,_.p2tr)));var Ut;!function(e){e.SendBitcoin=\"sendBitcoin\"}(Ut||(Ut={}));const $t=ue({...ht.schema,scopes:ge(V(ot)),methods:V(J([`${Ut.SendBitcoin}`]))});ue({...$t.schema,address:Nt,type:Y(`${ft.P2pkh}`)}),ue({...$t.schema,address:Lt,type:Y(`${ft.P2sh}`)}),ue({...$t.schema,address:Mt,type:Y(`${ft.P2wpkh}`)}),ue({...$t.schema,address:zt,type:Y(`${ft.P2tr}`)});var Dt;!function(e){e.Devnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",e.Mainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",e.Testnet=\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\"}(Dt||(Dt={}));const Ft=Ve(\"SolAddress\",/^[1-9A-HJ-NP-Za-km-z]{32,44}$/iu);var qt;!function(e){e.SendAndConfirmTransaction=\"sendAndConfirmTransaction\",e.SignAndSendTransaction=\"signAndSendTransaction\",e.SignTransaction=\"signTransaction\",e.SignMessage=\"signMessage\",e.SignIn=\"signIn\"}(qt||(qt={}));ue({...ht.schema,address:Ft,type:Y(`${dt.DataAccount}`),scopes:ge(V(ot)),methods:V(J(Object.values(qt)))});var Wt;!function(e){e.Eoa=\"eip155:0\",e.Mainnet=\"eip155:1\",e.Testnet=\"eip155:11155111\"}(Wt||(Wt={}));const Kt=Ve(\"EthBytes\",/^0x[0-9a-f]*$/iu),Gt=Ve(\"EthAddress\",/^0x[0-9a-f]{40}$/iu),Vt=Ve(\"EthUint256\",/^0x([1-9a-f][0-9a-f]*|0)$/iu);var Ht;!function(e){e.PersonalSign=\"personal_sign\",e.Sign=\"eth_sign\",e.SignTransaction=\"eth_signTransaction\",e.SignTypedDataV1=\"eth_signTypedData_v1\",e.SignTypedDataV3=\"eth_signTypedData_v3\",e.SignTypedDataV4=\"eth_signTypedData_v4\",e.PrepareUserOperation=\"eth_prepareUserOperation\",e.PatchUserOperation=\"eth_patchUserOperation\",e.SignUserOperation=\"eth_signUserOperation\"}(Ht||(Ht={}));ue({...ht.schema,address:Gt,type:Y(`${lt.Eoa}`),scopes:ge(V(Y(Wt.Eoa))),methods:V(J([`${Ht.PersonalSign}`,`${Ht.Sign}`,`${Ht.SignTransaction}`,`${Ht.SignTypedDataV1}`,`${Ht.SignTypedDataV3}`,`${Ht.SignTypedDataV4}`]))}),ue({...ht.schema,address:Gt,type:Y(`${lt.Erc4337}`),scopes:ge(V(ot)),methods:V(J([`${Ht.PersonalSign}`,`${Ht.Sign}`,`${Ht.SignTypedDataV1}`,`${Ht.SignTypedDataV3}`,`${Ht.SignTypedDataV4}`,`${Ht.PrepareUserOperation}`,`${Ht.PatchUserOperation}`,`${Ht.SignUserOperation}`]))}),ue({sender:Gt,nonce:Vt,initCode:Kt,callData:Kt,callGasLimit:Vt,verificationGasLimit:Vt,preVerificationGas:Vt,maxFeePerGas:Vt,maxPriorityFeePerGas:Vt,paymasterAndData:Kt,signature:Kt}),ue({to:Gt,value:Vt,data:Kt}),ue({nonce:Vt,initCode:Kt,callData:Kt,gasLimits:fe(ue({callGasLimit:Vt,verificationGasLimit:Vt,preVerificationGas:Vt})),dummyPaymasterAndData:Kt,dummySignature:Kt,bundlerUrl:W}),ue({paymasterAndData:Kt,callGasLimit:fe(Vt),verificationGasLimit:fe(Vt),preVerificationGas:fe(Vt)});var Jt;!function(e){e.ListAccounts=\"keyring_listAccounts\",e.GetAccount=\"keyring_getAccount\",e.CreateAccount=\"keyring_createAccount\",e.DiscoverAccounts=\"keyring_discoverAccounts\",e.ListAccountAssets=\"keyring_listAccountAssets\",e.ListAccountTransactions=\"keyring_listAccountTransactions\",e.GetAccountBalances=\"keyring_getAccountBalances\",e.ResolveAccountAddress=\"keyring_resolveAccountAddress\",e.FilterAccountChains=\"keyring_filterAccountChains\",e.UpdateAccount=\"keyring_updateAccount\",e.DeleteAccount=\"keyring_deleteAccount\",e.ExportAccount=\"keyring_exportAccount\",e.ListRequests=\"keyring_listRequests\",e.GetRequest=\"keyring_getRequest\",e.SubmitRequest=\"keyring_submitRequest\",e.ApproveRequest=\"keyring_approveRequest\",e.RejectRequest=\"keyring_rejectRequest\"}(Jt||(Jt={}));const Zt={jsonrpc:Y(\"2.0\"),id:se([oe(),ee(),Y(null)])},Yt=ue({...Zt,method:Y(\"keyring_listAccounts\")}),Qt=(V(ht),ue({...Zt,method:Y(\"keyring_getAccount\"),params:ue({id:F})})),Xt=ue({...Zt,method:Y(\"keyring_createAccount\"),params:ue({options:re(oe(),$e)})}),en=ue({...Zt,method:Y(\"keyring_discoverAccounts\"),params:ue({scopes:V(ot),entropySource:oe(),groupIndex:ee()})}),tn=(V(St),ue({...Zt,method:Y(\"keyring_listAccountTransactions\"),params:ue({id:F,pagination:Bt})})),nn=ue({...Zt,method:Y(\"keyring_listAccountAssets\"),params:ue({id:F})}),rn=V(ct),on=ue({...Zt,method:Y(`${Jt.GetAccountBalances}`),params:ue({id:F,assets:V(at)})}),an=(re(at,wt),ue({...Zt,method:Y(\"keyring_resolveAccountAddress\"),params:ue({scope:ot,request:Re})})),sn=(X(ue({address:it})),ue({...Zt,method:Y(\"keyring_filterAccountChains\"),params:ue({id:F,chains:V(oe())})})),cn=(V(oe()),ue({...Zt,method:Y(\"keyring_updateAccount\"),params:ue({account:ht})})),un=(Y(null),ue({...Zt,method:Y(\"keyring_deleteAccount\"),params:ue({id:F})})),ln=(Y(null),ue({...Zt,method:Y(\"keyring_exportAccount\"),params:ue({id:F})})),fn=ue({...Zt,method:Y(\"keyring_listRequests\")}),dn=(V(xt),ue({...Zt,method:Y(\"keyring_getRequest\"),params:ue({id:F})})),hn=ue({...Zt,method:Y(\"keyring_submitRequest\"),params:xt}),pn=ue({...Zt,method:Y(\"keyring_approveRequest\"),params:ue({id:F,data:re(oe(),$e)})}),gn=(Y(null),ue({...Zt,method:Y(\"keyring_rejectRequest\"),params:ue({id:F})}));Y(null);var mn;!function(e){e.AccountCreated=\"notify:accountCreated\",e.AccountUpdated=\"notify:accountUpdated\",e.AccountDeleted=\"notify:accountDeleted\",e.RequestApproved=\"notify:requestApproved\",e.RequestRejected=\"notify:requestRejected\",e.AccountBalancesUpdated=\"notify:accountBalancesUpdated\",e.AccountAssetListUpdated=\"notify:accountAssetListUpdated\",e.AccountTransactionsUpdated=\"notify:accountTransactionsUpdated\"}(mn||(mn={}));ue({method:Y(`${mn.AccountCreated}`),params:ue({account:ht,accountNameSuggestion:fe(oe()),displayConfirmation:fe(H()),displayAccountNameSuggestion:fe(H()),...Rt.schema})}),ue({method:Y(`${mn.AccountUpdated}`),params:ue({account:ht})}),ue({method:Y(`${mn.AccountDeleted}`),params:ue({id:F})}),ue({method:Y(`${mn.RequestApproved}`),params:ue({id:F,result:$e})}),ue({method:Y(`${mn.RequestRejected}`),params:ue({id:F})}),ue({method:Y(`${mn.AccountBalancesUpdated}`),params:ue({balances:re(q,re(at,pt))})}),ue({method:Y(`${mn.AccountTransactionsUpdated}`),params:ue({transactions:re(q,V(Ct))})}),ue({method:Y(`${mn.AccountAssetListUpdated}`),params:ue({assets:re(q,ue({added:V(ct),removed:V(ct)}))})});class vn extends Error{constructor(e){super(`Method not supported: ${e}`)}}async function yn(e,t){try{return await async function(e,t){switch(L(t,Re),t.method){case`${Jt.ListAccounts}`:return L(t,Yt),e.listAccounts();case`${Jt.GetAccount}`:return L(t,Qt),e.getAccount(t.params.id);case`${Jt.CreateAccount}`:return L(t,Xt),e.createAccount(t.params.options);case`${Jt.DiscoverAccounts}`:if(void 0===e.discoverAccounts)throw new vn(t.method);return L(t,en),e.discoverAccounts(t.params.scopes,t.params.entropySource,t.params.groupIndex);case`${Jt.ListAccountTransactions}`:if(void 0===e.listAccountTransactions)throw new vn(t.method);return L(t,tn),e.listAccountTransactions(t.params.id,t.params.pagination);case`${Jt.ListAccountAssets}`:if(void 0===e.listAccountAssets)throw new vn(t.method);return L(t,nn),e.listAccountAssets(t.params.id);case`${Jt.GetAccountBalances}`:if(void 0===e.getAccountBalances)throw new vn(t.method);return L(t,on),e.getAccountBalances(t.params.id,t.params.assets);case`${Jt.ResolveAccountAddress}`:if(void 0===e.resolveAccountAddress)throw new vn(t.method);return L(t,an),e.resolveAccountAddress(t.params.scope,t.params.request);case`${Jt.FilterAccountChains}`:return L(t,sn),e.filterAccountChains(t.params.id,t.params.chains);case`${Jt.UpdateAccount}`:return L(t,cn),e.updateAccount(t.params.account);case`${Jt.DeleteAccount}`:return L(t,un),e.deleteAccount(t.params.id);case`${Jt.ExportAccount}`:if(void 0===e.exportAccount)throw new vn(t.method);return L(t,ln),e.exportAccount(t.params.id);case`${Jt.ListRequests}`:if(void 0===e.listRequests)throw new vn(t.method);return L(t,fn),e.listRequests();case`${Jt.GetRequest}`:if(void 0===e.getRequest)throw new vn(t.method);return L(t,dn),e.getRequest(t.params.id);case`${Jt.SubmitRequest}`:return L(t,hn),e.submitRequest(t.params);case`${Jt.ApproveRequest}`:if(void 0===e.approveRequest)throw new vn(t.method);return L(t,pn),e.approveRequest(t.params.id,t.params.data);case`${Jt.RejectRequest}`:if(void 0===e.rejectRequest)throw new vn(t.method);return L(t,gn),e.rejectRequest(t.params.id);default:throw new vn(t.method)}}(e,t)}catch(e){const t=e instanceof Error&&\"string\"==typeof e.message?e.message:\"An unknown error occurred while handling the keyring request\";throw new Error(t)}}async function wn(e,t,n){await e.request({method:\"snap_manageAccounts\",params:{method:t,params:{...n}}})}function bn(e){return Boolean(e)&&\"object\"==typeof e&&!Array.isArray(e)}const An=(e,t)=>Object.hasOwnProperty.call(e,t);var Sn;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(Sn=Sn||(Sn={}));var xn=n(282);const En=e=>te(e);function _n({path:e,branch:t}){const n=e[e.length-1];return An(t[t.length-2],n)}function kn(e){return new N({...e,type:`optional ${e.type}`,validator:(t,n)=>!_n(n)||e.validator(t,n),refiner:(t,n)=>!_n(n)||e.refiner(t,n)})}function In(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!In(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!In(n[e][1])){t=!1;break}return t}return!1}const Tn=$(\"JSON\",(e=>In(e))),On=de(Tn,ve(G(),\"JSON\",(e=>z(e,Tn))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));function Cn(e){try{return function(e){M(e,On)}(e),!0}catch{return!1}}const Bn=Y(\"2.0\"),Rn=X(se([ee(),oe()])),jn=En({code:Z(),message:oe(),data:kn(On),stack:kn(oe())}),Pn=se([re(oe(),On),V(On)]);En({id:Rn,jsonrpc:Bn,method:oe(),params:kn(Pn)}),En({jsonrpc:Bn,method:oe(),params:kn(Pn)});te({id:Rn,jsonrpc:Bn,result:ne(ce()),error:ne(jn)});const Nn=En({id:Rn,jsonrpc:Bn,result:On}),Ln=En({id:Rn,jsonrpc:Bn,error:jn});se([Nn,Ln]);const Mn={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},zn={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},Un={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}},$n=Mn.internal,Dn=\"Unspecified error message. This is a bug, please report it.\",Fn=(qn($n),\"Unspecified server error.\");function qn(e,t=Dn){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(An(Un,t))return Un[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return Fn}return t}function Wn(e){return Array.isArray(e)?e.map((e=>Cn(e)?e:bn(e)?Kn(e):null)):bn(e)?Kn(e):Cn(e)?e:null}function Kn(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return Cn(r)&&(t[n]=r),t}),{})}const Gn=function(e){return e?.__esModule?e.default:e}(xn);class Vn extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('\"code\" must be an integer.');if(!t||\"string\"!=typeof t)throw new Error('\"message\" must be a non-empty string.');!function(e){return bn(e)&&An(e,\"cause\")&&bn(e.cause)}(n)?super(t):(super(t,{cause:n.cause}),An(this,\"cause\")||Object.assign(this,{cause:n.cause})),void 0!==n&&(this.data=n),this.code=e}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,function(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(this.data)&&(e.data.cause=Wn(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return Gn(this.serialize(),Jn,2)}}class Hn extends Vn{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}function Jn(e,t){if(\"[Circular]\"!==t)return t}const Zn=e=>dr(Mn.parse,e),Yn=e=>dr(Mn.invalidRequest,e),Qn=e=>dr(Mn.invalidParams,e),Xn=e=>dr(Mn.methodNotFound,e),er=e=>dr(Mn.internal,e),tr=e=>dr(Mn.invalidInput,e),nr=e=>dr(Mn.resourceNotFound,e),rr=e=>dr(Mn.resourceUnavailable,e),or=e=>dr(Mn.transactionRejected,e),ir=e=>dr(Mn.methodNotSupported,e),ar=e=>dr(Mn.limitExceeded,e),sr=e=>hr(zn.userRejectedRequest,e),cr=e=>hr(zn.unauthorized,e),ur=e=>hr(zn.unsupportedMethod,e),lr=e=>hr(zn.disconnected,e),fr=e=>hr(zn.chainDisconnected,e);function dr(e,t){const[n,r]=pr(t);return new Vn(e,n??qn(e),r)}function hr(e,t){const[n,r]=pr(t);return new Hn(e,n??qn(e),r)}function pr(e){if(e){if(\"string\"==typeof e)return[e];if(\"object\"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&\"string\"!=typeof t)throw new Error(\"Must specify string message.\");return[t??void 0,n]}}return[]}function gr(e){return Boolean(e)&&\"object\"==typeof e&&!Array.isArray(e)}const mr=(e,t)=>Object.hasOwnProperty.call(e,t);var vr;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}(vr=vr||(vr={}));class yr extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function wr(e){return\"object\"==typeof e&&null!==e}function br(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function Ar(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${br(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*Sr(e,t,n,r){(function(e){return wr(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=Ar(o,t,n,r);e&&(yield e)}}function*xr(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&wr(t.schema)&&wr(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,f]of t.entries(e,s)){const t=xr(l,f,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):wr(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class Er{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>Sr(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>Sr(o(e,t),t,this,e):()=>[]}assert(e,t){return _r(e,this,t)}create(e,t){return kr(e,this,t)}is(e){return Ir(e,this)}mask(e,t){return function(e,t,n){const r=Tr(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return Tr(e,this,t)}}function _r(e,t,n){const r=Tr(e,t,{message:n});if(r[0])throw r[0]}function kr(e,t,n){const r=Tr(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Ir(e,t){return!Tr(e,t)[0]}function Tr(e,t,n={}){const r=xr(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new yr(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function Or(e,t){return new Er({type:e,schema:null,validator:t})}function Cr(){return Or(\"never\",(()=>!1))}function Br(e){const t=e?Object.keys(e):[],n=Cr();return new Er({type:\"object\",schema:e??null,*entries(r){if(e&&wr(r)){const o=new Set(Object.keys(r));for(const n of t)o.delete(n),yield[n,r[n],e[n]];for(const e of o)yield[e,r[e],n]}},validator:e=>wr(e)||`Expected an object, but received: ${br(e)}`,coercer:e=>wr(e)?{...e}:e})}function Rr(e){return new Er({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function jr(){return Or(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${br(e)}`))}function Pr(e){const t=e.map((e=>e.type)).join(\" | \");return new Er({type:\"union\",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const o=[];for(const t of e){const[...e]=xr(n,t,r),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \\`${t}\\`, but received: ${br(n)}`,...o]}})}function Nr(e,t,n){return new Er({...e,coercer:(r,o)=>Ir(r,t)?e.coercer(n(r,o),o):e.coercer(r,o)})}function Lr(e,t,n){return new Er({...e,*refiner(r,o){yield*e.refiner(r,o);const i=Sr(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}const Mr=e=>Br(e);function zr({path:e,branch:t}){const n=e[e.length-1];return mr(t[t.length-2],n)}function Ur(e){return new Er({...e,type:`optional ${e.type}`,validator:(t,n)=>!zr(n)||e.validator(t,n),refiner:(t,n)=>!zr(n)||e.refiner(t,n)})}function $r(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!$r(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!$r(n[e][1])){t=!1;break}return t}return!1}const Dr=Or(\"JSON\",(e=>$r(e))),Fr=Nr(Dr,Lr(Or(\"any\",(()=>!0)),\"JSON\",(e=>Ir(e,Dr))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));function qr(e){try{return function(e){kr(e,Fr)}(e),!0}catch{return!1}}const Wr=function(e){const t=br(e),n=typeof e;return new Er({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${br(n)}`})}(\"2.0\"),Kr=(Gr=Pr([Or(\"number\",(e=>\"number\"==typeof e&&!isNaN(e)||`Expected a number, but received: ${br(e)}`)),jr()]),new Er({...Gr,validator:(e,t)=>null===e||Gr.validator(e,t),refiner:(e,t)=>null===e||Gr.refiner(e,t)}));var Gr;const Vr=Mr({code:Or(\"integer\",(e=>\"number\"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${br(e)}`)),message:jr(),data:Ur(Fr),stack:Ur(jr())}),Hr=Pr([function(e,t){return new Er({type:\"record\",schema:null,*entries(n){if(wr(n))for(const r in n){const o=n[r];yield[r,r,e],yield[r,o,t]}},validator:e=>wr(e)||`Expected an object, but received: ${br(e)}`})}(jr(),Fr),(Jr=Fr,new Er({type:\"array\",schema:Jr,*entries(e){if(Jr&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,Jr]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${br(e)}`}))]);var Jr;Mr({id:Kr,jsonrpc:Wr,method:jr(),params:Ur(Hr)}),Mr({jsonrpc:Wr,method:jr(),params:Ur(Hr)});Br({id:Kr,jsonrpc:Wr,result:Rr(Or(\"unknown\",(()=>!0))),error:Rr(Vr)});const Zr=Mr({id:Kr,jsonrpc:Wr,result:Fr}),Yr=Mr({id:Kr,jsonrpc:Wr,error:Vr});Pr([Zr,Yr]);function Qr(e){return gr(e)&&mr(e,\"data\")&&\"object\"==typeof e.data&&null!==e.data&&qr(e.data)&&!Array.isArray(e.data)?e.data:{}}var Xr,eo,to,no,ro=function(e,t,n,r,o){if(\"m\"===r)throw new TypeError(\"Private method is not writable\");if(\"a\"===r&&!o)throw new TypeError(\"Private accessor was defined without a setter\");if(\"function\"==typeof t?e!==t||!o:!t.has(e))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return\"a\"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},oo=function(e,t,n,r){if(\"a\"===n&&!r)throw new TypeError(\"Private accessor was defined without a getter\");if(\"function\"==typeof t?e!==t||!r:!t.has(e))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return\"m\"===n?r:\"a\"===n?r.call(e):r?r.value:t.get(e)};class io extends Error{constructor(e,t={}){const n=function(e){return gr(e)&&mr(e,\"message\")&&\"string\"==typeof e.message?e.message:String(e)}(e);super(n),Xr.set(this,void 0),eo.set(this,void 0),to.set(this,void 0),no.set(this,void 0),ro(this,eo,n,\"f\"),ro(this,Xr,function(e){return gr(e)&&mr(e,\"code\")&&\"number\"==typeof e.code&&Number.isInteger(e.code)?e.code:-32603}(e),\"f\");const r={...Qr(e),...t};Object.keys(r).length>0&&ro(this,to,r,\"f\"),ro(this,no,super.stack,\"f\")}get name(){return\"SnapError\"}get code(){return oo(this,Xr,\"f\")}get message(){return oo(this,eo,\"f\")}get data(){return oo(this,to,\"f\")}get stack(){return oo(this,no,\"f\")}toJSON(){return{code:-31002,message:\"Snap Error\",data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}}function ao(e){return class extends io{constructor(t,n){if(\"object\"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}Xr=new WeakMap,eo=new WeakMap,to=new WeakMap,no=new WeakMap;const so=ao(er),co=ao(tr),uo=ao(Qn),lo=ao(Yn),fo=ao(ar),ho=ao(Xn),po=ao(ir),go=ao(Zn),mo=ao(nr),vo=ao(rr),yo=ao(or),wo=ao(fr),bo=ao(lr),Ao=ao(cr),So=ao(ur),xo=ao(sr);var Eo=/^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,_o=Math.ceil,ko=Math.floor,Io=\"[BigNumber Error] \",To=Io+\"Number primitive has more than 15 significant digits: \",Oo=1e14,Co=14,Bo=9007199254740991,Ro=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],jo=1e7,Po=1e9;function No(e){var t=0|e;return e>0||e===t?t:t-1}function Lo(e){for(var t,n,r=1,o=e.length,i=e[0]+\"\";r<o;){for(t=e[r++]+\"\",n=Co-t.length;n--;t=\"0\"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function Mo(e,t){var n,r,o=e.c,i=t.c,a=e.s,s=t.s,c=e.e,u=t.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=c==u,!o||!i)return r?0:!o^n?1:-1;if(!r)return c>u^n?1:-1;for(s=(c=o.length)<(u=i.length)?c:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return c==u?0:c>u^n?1:-1}function zo(e,t,n,r){if(e<t||e>n||e!==ko(e))throw Error(Io+(r||\"Argument\")+(\"number\"==typeof e?e<t||e>n?\" out of range: \":\" not an integer: \":\" not a primitive number: \")+String(e))}function Uo(e){var t=e.c.length-1;return No(e.e/Co)==t&&e.c[t]%2!=0}function $o(e,t){return(e.length>1?e.charAt(0)+\".\"+e.slice(1):e)+(t<0?\"e\":\"e+\")+t}function Do(e,t,n){var r,o;if(t<0){for(o=n+\".\";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+\".\"+e.slice(t));return e}var Fo=function e(t){var n,r,o,i,a,s,c,u,l,f,d=k.prototype={constructor:k,toString:null,valueOf:null},h=new k(1),p=20,g=4,m=-7,v=21,y=-1e7,w=1e7,b=!1,A=1,S=0,x={prefix:\"\",groupSize:3,secondaryGroupSize:0,groupSeparator:\",\",decimalSeparator:\".\",fractionGroupSize:0,fractionGroupSeparator:\"\",suffix:\"\"},E=\"0123456789abcdefghijklmnopqrstuvwxyz\",_=!0;function k(e,t){var n,i,a,s,c,u,l,f,d=this;if(!(d instanceof k))return new k(e,t);if(null==t){if(e&&!0===e._isBigNumber)return d.s=e.s,void(!e.c||e.e>w?d.c=d.e=null:e.e<y?d.c=[d.e=0]:(d.e=e.e,d.c=e.c.slice()));if((u=\"number\"==typeof e)&&0*e==0){if(d.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;c>=10;c/=10,s++);return void(s>w?d.c=d.e=null:(d.e=s,d.c=[e]))}f=String(e)}else{if(!Eo.test(f=String(e)))return o(d,f,u);d.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(s=f.indexOf(\".\"))>-1&&(f=f.replace(\".\",\"\")),(c=f.search(/e/i))>0?(s<0&&(s=c),s+=+f.slice(c+1),f=f.substring(0,c)):s<0&&(s=f.length)}else{if(zo(t,2,E.length,\"Base\"),10==t&&_)return C(d=new k(e),p+d.e+1,g);if(f=String(e),u=\"number\"==typeof e){if(0*e!=0)return o(d,f,u,t);if(d.s=1/e<0?(f=f.slice(1),-1):1,k.DEBUG&&f.replace(/^0\\.0*|\\./,\"\").length>15)throw Error(To+e)}else d.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(n=E.slice(0,t),s=c=0,l=f.length;c<l;c++)if(n.indexOf(i=f.charAt(c))<0){if(\".\"==i){if(c>s){s=l;continue}}else if(!a&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){a=!0,c=-1,s=0;continue}return o(d,String(e),u,t)}u=!1,(s=(f=r(f,t,10,d.s)).indexOf(\".\"))>-1?f=f.replace(\".\",\"\"):s=f.length}for(c=0;48===f.charCodeAt(c);c++);for(l=f.length;48===f.charCodeAt(--l););if(f=f.slice(c,++l)){if(l-=c,u&&k.DEBUG&&l>15&&(e>Bo||e!==ko(e)))throw Error(To+d.s*e);if((s=s-c-1)>w)d.c=d.e=null;else if(s<y)d.c=[d.e=0];else{if(d.e=s,d.c=[],c=(s+1)%Co,s<0&&(c+=Co),c<l){for(c&&d.c.push(+f.slice(0,c)),l-=Co;c<l;)d.c.push(+f.slice(c,c+=Co));c=Co-(f=f.slice(c)).length}else c-=l;for(;c--;f+=\"0\");d.c.push(+f)}}else d.c=[d.e=0]}function I(e,t,n,r){var o,i,a,s,c;if(null==n?n=g:zo(n,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)c=Lo(e.c),c=1==r||2==r&&(a<=m||a>=v)?$o(c,a):Do(c,a,\"0\");else if(i=(e=C(new k(e),t,n)).e,s=(c=Lo(e.c)).length,1==r||2==r&&(t<=i||i<=m)){for(;s<t;c+=\"0\",s++);c=$o(c,i)}else if(t-=a,c=Do(c,i,\"0\"),i+1>s){if(--t>0)for(c+=\".\";t--;c+=\"0\");}else if((t+=i-s)>0)for(i+1==s&&(c+=\".\");t--;c+=\"0\");return e.s<0&&o?\"-\"+c:c}function T(e,t){for(var n,r,o=1,i=new k(e[0]);o<e.length;o++)(!(r=new k(e[o])).s||(n=Mo(i,r))===t||0===n&&i.s===t)&&(i=r);return i}function O(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*Co-1)>w?e.c=e.e=null:n<y?e.c=[e.e=0]:(e.e=n,e.c=t),e}function C(e,t,n,r){var o,i,a,s,c,u,l,f=e.c,d=Ro;if(f){e:{for(o=1,s=f[0];s>=10;s/=10,o++);if((i=t-o)<0)i+=Co,a=t,c=f[u=0],l=ko(c/d[o-a-1]%10);else if((u=_o((i+1)/Co))>=f.length){if(!r)break e;for(;f.length<=u;f.push(0));c=l=0,o=1,a=(i%=Co)-Co+1}else{for(c=s=f[u],o=1;s>=10;s/=10,o++);l=(a=(i%=Co)-Co+o)<0?0:ko(c/d[o-a-1]%10)}if(r=r||t<0||null!=f[u+1]||(a<0?c:c%d[o-a-1]),r=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(i>0?a>0?c/d[o-a]:0:f[u-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,r?(t-=e.e+1,f[0]=d[(Co-t%Co)%Co],e.e=-t||0):f[0]=e.e=0,e;if(0==i?(f.length=u,s=1,u--):(f.length=u+1,s=d[Co-i],f[u]=a>0?ko(c/d[o-a]%d[a])*s:0),r)for(;;){if(0==u){for(i=1,a=f[0];a>=10;a/=10,i++);for(a=f[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(e.e++,f[0]==Oo&&(f[0]=1));break}if(f[u]+=s,f[u]!=Oo)break;f[u--]=0,s=1}for(i=f.length;0===f[--i];f.pop());}e.e>w?e.c=e.e=null:e.e<y&&(e.c=[e.e=0])}return e}function B(e){var t,n=e.e;return null===n?e.toString():(t=Lo(e.c),t=n<=m||n>=v?$o(t,n):Do(t,n,\"0\"),e.s<0?\"-\"+t:t)}return k.clone=e,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(e){var t,n;if(null!=e){if(\"object\"!=typeof e)throw Error(Io+\"Object expected: \"+e);if(e.hasOwnProperty(t=\"DECIMAL_PLACES\")&&(zo(n=e[t],0,Po,t),p=n),e.hasOwnProperty(t=\"ROUNDING_MODE\")&&(zo(n=e[t],0,8,t),g=n),e.hasOwnProperty(t=\"EXPONENTIAL_AT\")&&((n=e[t])&&n.pop?(zo(n[0],-Po,0,t),zo(n[1],0,Po,t),m=n[0],v=n[1]):(zo(n,-Po,Po,t),m=-(v=n<0?-n:n))),e.hasOwnProperty(t=\"RANGE\"))if((n=e[t])&&n.pop)zo(n[0],-Po,-1,t),zo(n[1],1,Po,t),y=n[0],w=n[1];else{if(zo(n,-Po,Po,t),!n)throw Error(Io+t+\" cannot be zero: \"+n);y=-(w=n<0?-n:n)}if(e.hasOwnProperty(t=\"CRYPTO\")){if((n=e[t])!==!!n)throw Error(Io+t+\" not true or false: \"+n);if(n){if(\"undefined\"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw b=!n,Error(Io+\"crypto unavailable\");b=n}else b=n}if(e.hasOwnProperty(t=\"MODULO_MODE\")&&(zo(n=e[t],0,9,t),A=n),e.hasOwnProperty(t=\"POW_PRECISION\")&&(zo(n=e[t],0,Po,t),S=n),e.hasOwnProperty(t=\"FORMAT\")){if(\"object\"!=typeof(n=e[t]))throw Error(Io+t+\" not an object: \"+n);x=n}if(e.hasOwnProperty(t=\"ALPHABET\")){if(\"string\"!=typeof(n=e[t])||/^.?$|[+\\-.\\s]|(.).*\\1/.test(n))throw Error(Io+t+\" invalid: \"+n);_=\"0123456789\"==n.slice(0,10),E=n}}return{DECIMAL_PLACES:p,ROUNDING_MODE:g,EXPONENTIAL_AT:[m,v],RANGE:[y,w],CRYPTO:b,MODULO_MODE:A,POW_PRECISION:S,FORMAT:x,ALPHABET:E}},k.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!k.DEBUG)return!0;var t,n,r=e.c,o=e.e,i=e.s;e:if(\"[object Array]\"=={}.toString.call(r)){if((1===i||-1===i)&&o>=-Po&&o<=Po&&o===ko(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%Co)<1&&(t+=Co),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=Oo||n!==ko(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(Io+\"Invalid BigNumber: \"+e)},k.maximum=k.max=function(){return T(arguments,-1)},k.minimum=k.min=function(){return T(arguments,1)},k.random=(i=9007199254740992,a=Math.random()*i&2097151?function(){return ko(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,i,s=0,c=[],u=new k(h);if(null==e?e=p:zo(e,0,Po),o=_o(e/Co),b)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(i=131072*t[s]+(t[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(c.push(i%1e14),s+=2);s=o/2}else{if(!crypto.randomBytes)throw b=!1,Error(Io+\"crypto unavailable\");for(t=crypto.randomBytes(o*=7);s<o;)(i=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(c.push(i%1e14),s+=7);s=o/7}if(!b)for(;s<o;)(i=a())<9e15&&(c[s++]=i%1e14);for(o=c[--s],e%=Co,o&&e&&(i=Ro[Co-e],c[s]=ko(o/i)*i);0===c[s];c.pop(),s--);if(s<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=Co);for(s=1,i=c[0];i>=10;i/=10,s++);s<Co&&(r-=Co-s)}return u.e=r,u.c=c,u}),k.sum=function(){for(var e=1,t=arguments,n=new k(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e=\"0123456789\";function t(e,t,n,r){for(var o,i,a=[0],s=0,c=e.length;s<c;){for(i=a.length;i--;a[i]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var c,u,l,f,d,h,m,v,y=r.indexOf(\".\"),w=p,b=g;for(y>=0&&(f=S,S=0,r=r.replace(\".\",\"\"),h=(v=new k(o)).pow(r.length-y),S=f,v.c=t(Do(Lo(h.c),h.e,\"0\"),10,i,e),v.e=v.c.length),l=f=(m=t(r,o,i,s?(c=E,e):(c=e,E))).length;0==m[--f];m.pop());if(!m[0])return c.charAt(0);if(y<0?--l:(h.c=m,h.e=l,h.s=a,m=(h=n(h,v,w,b,i)).c,d=h.r,l=h.e),y=m[u=l+w+1],f=i/2,d=d||u<0||null!=m[u+1],d=b<4?(null!=y||d)&&(0==b||b==(h.s<0?3:2)):y>f||y==f&&(4==b||d||6==b&&1&m[u-1]||b==(h.s<0?8:7)),u<1||!m[0])r=d?Do(c.charAt(1),-w,c.charAt(0)):c.charAt(0);else{if(m.length=u,d)for(--i;++m[--u]>i;)m[u]=0,u||(++l,m=[1].concat(m));for(f=m.length;!m[--f];);for(y=0,r=\"\";y<=f;r+=c.charAt(m[y++]));r=Do(r,l,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,a,s=0,c=e.length,u=t%jo,l=t/jo|0;for(e=e.slice();c--;)s=((o=u*(i=e[c]%jo)+(r=l*i+(a=e[c]/jo|0)*u)%jo*jo+s)/n|0)+(r/jo|0)+l*a,e[c]=o%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,i,a,s){var c,u,l,f,d,h,p,g,m,v,y,w,b,A,S,x,E,_=r.s==o.s?1:-1,I=r.c,T=o.c;if(!(I&&I[0]&&T&&T[0]))return new k(r.s&&o.s&&(I?!T||I[0]!=T[0]:T)?I&&0==I[0]||!T?0*_:_/0:NaN);for(m=(g=new k(_)).c=[],_=i+(u=r.e-o.e)+1,s||(s=Oo,u=No(r.e/Co)-No(o.e/Co),_=_/Co|0),l=0;T[l]==(I[l]||0);l++);if(T[l]>(I[l]||0)&&u--,_<0)m.push(1),f=!0;else{for(A=I.length,x=T.length,l=0,_+=2,(d=ko(s/(T[0]+1)))>1&&(T=e(T,d,s),I=e(I,d,s),x=T.length,A=I.length),b=x,y=(v=I.slice(0,x)).length;y<x;v[y++]=0);E=T.slice(),E=[0].concat(E),S=T[0],T[1]>=s/2&&S++;do{if(d=0,(c=t(T,v,x,y))<0){if(w=v[0],x!=y&&(w=w*s+(v[1]||0)),(d=ko(w/S))>1)for(d>=s&&(d=s-1),p=(h=e(T,d,s)).length,y=v.length;1==t(h,v,p,y);)d--,n(h,x<p?E:T,p,s),p=h.length,c=1;else 0==d&&(c=d=1),p=(h=T.slice()).length;if(p<y&&(h=[0].concat(h)),n(v,h,y,s),y=v.length,-1==c)for(;t(T,v,x,y)<1;)d++,n(v,x<y?E:T,y,s),y=v.length}else 0===c&&(d++,v=[0]);m[l++]=d,v[0]?v[y++]=I[b]||0:(v=[I[b]],y=1)}while((b++<A||null!=v[0])&&_--);f=null!=v[0],m[0]||m.splice(0,1)}if(s==Oo){for(l=1,_=m[0];_>=10;_/=10,l++);C(g,i+(g.e=l+u*Co-1)+1,a,f)}else g.e=u,g.r=+f;return g}}(),s=/^(-?)0([xbo])(?=\\w[\\w.]*$)/i,c=/^([^.]+)\\.$/,u=/^\\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,f=/^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g,o=function(e,t,n,r){var o,i=n?t:t.replace(f,\"\");if(l.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(s,(function(e,t,n){return o=\"x\"==(n=n.toLowerCase())?16:\"b\"==n?2:8,r&&r!=o?e:t})),r&&(o=r,i=i.replace(c,\"$1\").replace(u,\"0.$1\")),t!=i))return new k(i,o);if(k.DEBUG)throw Error(Io+\"Not a\"+(r?\" base \"+r:\"\")+\" number: \"+t);e.s=null}e.c=e.e=null},d.absoluteValue=d.abs=function(){var e=new k(this);return e.s<0&&(e.s=1),e},d.comparedTo=function(e,t){return Mo(this,new k(e,t))},d.decimalPlaces=d.dp=function(e,t){var n,r,o,i=this;if(null!=e)return zo(e,0,Po),null==t?t=g:zo(t,0,8),C(new k(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-No(this.e/Co))*Co,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},d.dividedBy=d.div=function(e,t){return n(this,new k(e,t),p,g)},d.dividedToIntegerBy=d.idiv=function(e,t){return n(this,new k(e,t),0,1)},d.exponentiatedBy=d.pow=function(e,t){var n,r,o,i,a,s,c,u,l=this;if((e=new k(e)).c&&!e.isInteger())throw Error(Io+\"Exponent not an integer: \"+B(e));if(null!=t&&(t=new k(t)),a=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return u=new k(Math.pow(+B(l),a?e.s*(2-Uo(e)):+B(e))),t?u.mod(t):u;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new k(NaN);(r=!s&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||a&&l.c[1]>=24e7:l.c[0]<8e13||a&&l.c[0]<=9999975e7)))return i=l.s<0&&Uo(e)?-0:0,l.e>-1&&(i=1/i),new k(s?1/i:i);S&&(i=_o(S/Co+2))}for(a?(n=new k(.5),s&&(e.s=1),c=Uo(e)):c=(o=Math.abs(+B(e)))%2,u=new k(h);;){if(c){if(!(u=u.times(l)).c)break;i?u.c.length>i&&(u.c.length=i):r&&(u=u.mod(t))}if(o){if(0===(o=ko(o/2)))break;c=o%2}else if(C(e=e.times(n),e.e+1,1),e.e>14)c=Uo(e);else{if(0===(o=+B(e)))break;c=o%2}l=l.times(l),i?l.c&&l.c.length>i&&(l.c.length=i):r&&(l=l.mod(t))}return r?u:(s&&(u=h.div(u)),t?u.mod(t):i?C(u,S,g,undefined):u)},d.integerValue=function(e){var t=new k(this);return null==e?e=g:zo(e,0,8),C(t,t.e+1,e)},d.isEqualTo=d.eq=function(e,t){return 0===Mo(this,new k(e,t))},d.isFinite=function(){return!!this.c},d.isGreaterThan=d.gt=function(e,t){return Mo(this,new k(e,t))>0},d.isGreaterThanOrEqualTo=d.gte=function(e,t){return 1===(t=Mo(this,new k(e,t)))||0===t},d.isInteger=function(){return!!this.c&&No(this.e/Co)>this.c.length-2},d.isLessThan=d.lt=function(e,t){return Mo(this,new k(e,t))<0},d.isLessThanOrEqualTo=d.lte=function(e,t){return-1===(t=Mo(this,new k(e,t)))||0===t},d.isNaN=function(){return!this.s},d.isNegative=function(){return this.s<0},d.isPositive=function(){return this.s>0},d.isZero=function(){return!!this.c&&0==this.c[0]},d.minus=function(e,t){var n,r,o,i,a=this,s=a.s;if(t=(e=new k(e,t)).s,!s||!t)return new k(NaN);if(s!=t)return e.s=-t,a.plus(e);var c=a.e/Co,u=e.e/Co,l=a.c,f=e.c;if(!c||!u){if(!l||!f)return l?(e.s=-t,e):new k(f?a:NaN);if(!l[0]||!f[0])return f[0]?(e.s=-t,e):new k(l[0]?a:3==g?-0:0)}if(c=No(c),u=No(u),l=l.slice(),s=c-u){for((i=s<0)?(s=-s,o=l):(u=c,o=f),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(t=f.length))?s:t,s=t=0;t<r;t++)if(l[t]!=f[t]){i=l[t]<f[t];break}if(i&&(o=l,l=f,f=o,e.s=-e.s),(t=(r=f.length)-(n=l.length))>0)for(;t--;l[n++]=0);for(t=Oo-1;r>s;){if(l[--r]<f[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=Oo}l[r]-=f[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?O(e,l,u):(e.s=3==g?-1:1,e.c=[e.e=0],e)},d.modulo=d.mod=function(e,t){var r,o,i=this;return e=new k(e,t),!i.c||!e.s||e.c&&!e.c[0]?new k(NaN):!e.c||i.c&&!i.c[0]?new k(i):(9==A?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,A),(e=i.minus(r.times(e))).c[0]||1!=A||(e.s=i.s),e)},d.multipliedBy=d.times=function(e,t){var n,r,o,i,a,s,c,u,l,f,d,h,p,g,m,v=this,y=v.c,w=(e=new k(e,t)).c;if(!(y&&w&&y[0]&&w[0]))return!v.s||!e.s||y&&!y[0]&&!w||w&&!w[0]&&!y?e.c=e.e=e.s=null:(e.s*=v.s,y&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=No(v.e/Co)+No(e.e/Co),e.s*=v.s,(c=y.length)<(f=w.length)&&(p=y,y=w,w=p,o=c,c=f,f=o),o=c+f,p=[];o--;p.push(0));for(g=Oo,m=jo,o=f;--o>=0;){for(n=0,d=w[o]%m,h=w[o]/m|0,i=o+(a=c);i>o;)n=((u=d*(u=y[--a]%m)+(s=h*u+(l=y[a]/m|0)*d)%m*m+p[i]+n)/g|0)+(s/m|0)+h*l,p[i--]=u%g;p[i]=n}return n?++r:p.splice(0,1),O(e,p,r)},d.negated=function(){var e=new k(this);return e.s=-e.s||null,e},d.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new k(e,t)).s,!o||!t)return new k(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/Co,a=e.e/Co,s=r.c,c=e.c;if(!i||!a){if(!s||!c)return new k(o/0);if(!s[0]||!c[0])return c[0]?e:new k(s[0]?r:0*o)}if(i=No(i),a=No(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=c):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=c.length)<0&&(n=c,c=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+c[t]+o)/Oo|0,s[t]=Oo===s[t]?0:s[t]%Oo;return o&&(s=[o].concat(s),++a),O(e,s,a)},d.precision=d.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return zo(e,1,Po),null==t?t=g:zo(t,0,8),C(new k(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*Co+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},d.shiftedBy=function(e){return zo(e,-9007199254740991,Bo),this.times(\"1e\"+e)},d.squareRoot=d.sqrt=function(){var e,t,r,o,i,a=this,s=a.c,c=a.s,u=a.e,l=p+4,f=new k(\"0.5\");if(1!==c||!s||!s[0])return new k(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(c=Math.sqrt(+B(a)))||c==1/0?(((t=Lo(s)).length+u)%2==0&&(t+=\"0\"),c=Math.sqrt(+t),u=No((u+1)/2)-(u<0||u%2),r=new k(t=c==1/0?\"5e\"+u:(t=c.toExponential()).slice(0,t.indexOf(\"e\")+1)+u)):r=new k(c+\"\"),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(i=r,r=f.times(i.plus(n(a,i,l,1))),Lo(i.c).slice(0,c)===(t=Lo(r.c)).slice(0,c)){if(r.e<u&&--c,\"9999\"!=(t=t.slice(c-3,c+1))&&(o||\"4999\"!=t)){+t&&(+t.slice(1)||\"5\"!=t.charAt(0))||(C(r,r.e+p+2,1),e=!r.times(r).eq(a));break}if(!o&&(C(i,i.e+p+2,0),i.times(i).eq(a))){r=i;break}l+=4,c+=4,o=1}return C(r,r.e+p+1,g,e)},d.toExponential=function(e,t){return null!=e&&(zo(e,0,Po),e++),I(this,e,t,1)},d.toFixed=function(e,t){return null!=e&&(zo(e,0,Po),e=e+this.e+1),I(this,e,t)},d.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&\"object\"==typeof t?(n=t,t=null):e&&\"object\"==typeof e?(n=e,e=t=null):n=x;else if(\"object\"!=typeof n)throw Error(Io+\"Argument not an object: \"+n);if(r=o.toFixed(e,t),o.c){var i,a=r.split(\".\"),s=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||\"\",l=a[0],f=a[1],d=o.s<0,h=d?l.slice(1):l,p=h.length;if(c&&(i=s,s=c,c=i,p-=i),s>0&&p>0){for(i=p%s||s,l=h.substr(0,i);i<p;i+=s)l+=u+h.substr(i,s);c>0&&(l+=u+h.slice(i)),d&&(l=\"-\"+l)}r=f?l+(n.decimalSeparator||\"\")+((c=+n.fractionGroupSize)?f.replace(new RegExp(\"\\\\d{\"+c+\"}\\\\B\",\"g\"),\"$&\"+(n.fractionGroupSeparator||\"\")):f):l}return(n.prefix||\"\")+r+(n.suffix||\"\")},d.toFraction=function(e){var t,r,o,i,a,s,c,u,l,f,d,p,m=this,v=m.c;if(null!=e&&(!(c=new k(e)).isInteger()&&(c.c||1!==c.s)||c.lt(h)))throw Error(Io+\"Argument \"+(c.isInteger()?\"out of range: \":\"not an integer: \")+B(c));if(!v)return new k(m);for(t=new k(h),l=r=new k(h),o=u=new k(h),p=Lo(v),a=t.e=p.length-m.e-1,t.c[0]=Ro[(s=a%Co)<0?Co+s:s],e=!e||c.comparedTo(t)>0?a>0?t:l:c,s=w,w=1/0,c=new k(p),u.c[0]=0;f=n(c,t,0,1),1!=(i=r.plus(f.times(o))).comparedTo(e);)r=o,o=i,l=u.plus(f.times(i=l)),u=i,t=c.minus(f.times(i=t)),c=i;return i=n(e.minus(r),o,0,1),u=u.plus(i.times(l)),r=r.plus(i.times(o)),u.s=l.s=m.s,d=n(l,o,a*=2,g).minus(m).abs().comparedTo(n(u,r,a,g).minus(m).abs())<1?[l,o]:[u,r],w=s,d},d.toNumber=function(){return+B(this)},d.toPrecision=function(e,t){return null!=e&&zo(e,1,Po),I(this,e,t,2)},d.toString=function(e){var t,n=this,o=n.s,i=n.e;return null===i?o?(t=\"Infinity\",o<0&&(t=\"-\"+t)):t=\"NaN\":(null==e?t=i<=m||i>=v?$o(Lo(n.c),i):Do(Lo(n.c),i,\"0\"):10===e&&_?t=Do(Lo((n=C(new k(n),p+i+1,g)).c),n.e,\"0\"):(zo(e,2,E.length,\"Base\"),t=r(Do(Lo(n.c),i,\"0\"),10,e,o,!0)),o<0&&n.c[0]&&(t=\"-\"+t)),t},d.valueOf=d.toJSON=function(){return B(this)},d._isBigNumber=!0,d[Symbol.toStringTag]=\"BigNumber\",d[Symbol.for(\"nodejs.util.inspect.custom\")]=d.valueOf,null!=t&&k.set(t),k}();const qo=Fo;function Wo(e,t){return $(e,(e=>\"string\"==typeof e&&t.test(e)))}const Ko=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Go=/^[-a-z0-9]{3,8}$/u,Vo=/^[-_a-zA-Z0-9]{1,32}$/u,Ho=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,Jo=/^[-.%a-zA-Z0-9]{1,128}$/u,Zo=/^[-a-z0-9]{3,8}$/u,Yo=/^[-.%a-zA-Z0-9]{1,128}$/u,Qo=/^[-.%a-zA-Z0-9]{1,78}$/u,Xo=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,ei=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,ti=(Wo(\"CaipChainId\",Ko),Wo(\"CaipNamespace\",Go),Wo(\"CaipReference\",Vo),Wo(\"CaipAccountId\",Ho),Wo(\"CaipAccountAddress\",Jo),Wo(\"CaipAssetNamespace\",Zo),Wo(\"CaipAssetReference\",Yo),Wo(\"CaipTokenId\",Qo),Wo(\"CaipAssetType\",Xo));Wo(\"CaipAssetId\",ei),Wo(\"CaipAssetTypeOrId\",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var ni,ri;function oi(e){const t=Xo.exec(e);if(!t?.groups)throw new Error(\"Invalid CAIP asset type.\");return{assetNamespace:t.groups.assetNamespace,assetReference:t.groups.assetReference,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function ii(e,t){return n=e,Boolean(\"string\"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}!function(e){e.Bip122=\"bip122\",e.Solana=\"solana\",e.Eip155=\"eip155\",e.Wallet=\"wallet\"}(ni=ni||(ni={}));class ai extends Error{constructor(e){super(e.message),this.code=\"ERR_ASSERTION\"}}function si(e,t=\"Assertion failed.\",n=ai){if(!e){if(t instanceof Error)throw t;throw ii(n,t)}}!function(e){e[e.Millisecond=1]=\"Millisecond\",e[e.Second=1e3]=\"Second\",e[e.Minute=6e4]=\"Minute\",e[e.Hour=36e5]=\"Hour\",e[e.Day=864e5]=\"Day\",e[e.Week=6048e5]=\"Week\",e[e.Year=31536e6]=\"Year\"}(ri=ri||(ri={}));var ci=n(5250);const ui=(e,t)=>`${e}:${t.map((e=>JSON.stringify(e))).join(\":\")}`,li=(e,t,{ttlMilliseconds:n,functionName:r,generateCacheKey:o})=>{const i=o??ui,a=r??e.name??\"anonymousFunction\";return async(...r)=>{const o=i(a,r);try{const e=await t.get(o);if(void 0!==e)return e}catch(e){console.error(`Cache get error for key \"${o}\":`,e)}const s=await e(...r);return t.set(o,s,n).catch((e=>{console.error(`Cache set error for key \"${o}\":`,e)})),s}};var fi=4,di=5,hi=6,pi=10,gi=-32700,mi=-32603,vi=-32602,yi=-32601,wi=-32600,bi=-32015,Ai=-32014,Si=-32012,xi=-32010,Ei=-32009,_i=-32007,ki=-32006,Ii=-32004,Ti=-32002,Oi=-32001,Ci=28e5,Bi=2800001,Ri=2800003,ji=2800006,Pi=2800007,Ni=2800008,Li=2800009,Mi=32300001,zi=3230004,Ui=361e4,$i=3610001,Di=3610003,Fi=3610005,qi=3610006,Wi=3610007,Ki=3704001,Gi=3704002,Vi=3704003,Hi=4615e3,Ji=4615026,Zi=4615045,Yi=5508e3,Qi=5663e3,Xi=5663001,ea=5663004,ta=5663005,na=5663006,ra=5663007,oa=5663008,ia=5663009,aa=5663012,sa=5663015,ca=5663016,ua=5663017,la=5663018,fa=5663019,da=705e4,ha=7050030,pa=7050031,ga=7050035,ma=8078e3,va=8078001,ya=8078004,wa=8078005,ba=8078006,Aa=8078007,Sa=8078011,xa=8078012,Ea=8078013,_a=8078014,ka=81e5,Ia=8100002,Ta=8100003,Oa=9900003;function Ca(e){if(Array.isArray(e)){return\"%5B\"+e.map(Ca).join(\"%2C%20\")+\"%5D\"}return\"bigint\"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function Ba([e,t]){return`${e}=${Ca(t)}`}function Ra(e,t={}){{let n=`Solana error #${e}; Decode this error by running \\`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(Ba).join(\"&\");return btoa(t)}(t)}'`),`${n}\\``}}function ja(e,t){return!!(e instanceof Error&&\"SolanaError\"===e.name)&&(void 0===t||e.context.__code===t)}var Pa=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...o}=t;e&&(r={cause:e}),Object.keys(o).length>0&&(n=o)}super(Ra(e,n),r),this.context={__code:e,...n},this.name=\"SolanaError\"}};function Na(...e){\"captureStackTrace\"in Error&&\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function La({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},o){let i,a;\"string\"==typeof r?i=r:(i=Object.keys(r)[0],a=r[i]);const s=e+n.indexOf(i),c=t(s,i,a),u=new Pa(s,c);return Na(u,o),u}var Ma=[\"GenericError\",\"InvalidArgument\",\"InvalidInstructionData\",\"InvalidAccountData\",\"AccountDataTooSmall\",\"InsufficientFunds\",\"IncorrectProgramId\",\"MissingRequiredSignature\",\"AccountAlreadyInitialized\",\"UninitializedAccount\",\"UnbalancedInstruction\",\"ModifiedProgramId\",\"ExternalAccountLamportSpend\",\"ExternalAccountDataModified\",\"ReadonlyLamportChange\",\"ReadonlyDataModified\",\"DuplicateAccountIndex\",\"ExecutableModified\",\"RentEpochModified\",\"NotEnoughAccountKeys\",\"AccountDataSizeChanged\",\"AccountNotExecutable\",\"AccountBorrowFailed\",\"AccountBorrowOutstanding\",\"DuplicateAccountOutOfSync\",\"Custom\",\"InvalidError\",\"ExecutableDataModified\",\"ExecutableLamportChange\",\"ExecutableAccountNotRentExempt\",\"UnsupportedProgramId\",\"CallDepth\",\"MissingAccount\",\"ReentrancyNotAllowed\",\"MaxSeedLengthExceeded\",\"InvalidSeeds\",\"InvalidRealloc\",\"ComputationalBudgetExceeded\",\"PrivilegeEscalation\",\"ProgramEnvironmentSetupFailure\",\"ProgramFailedToComplete\",\"ProgramFailedToCompile\",\"Immutable\",\"IncorrectAuthority\",\"BorshIoError\",\"AccountNotRentExempt\",\"InvalidAccountOwner\",\"ArithmeticOverflow\",\"UnsupportedSysvar\",\"IllegalOwner\",\"MaxAccountsDataAllocationsExceeded\",\"MaxAccountsExceeded\",\"MaxInstructionTraceLengthExceeded\",\"BuiltinProgramsMustConsumeComputeUnits\"];function za(e,t){const n=Number(e);return La({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>e===Hi?{errorName:t,index:n,...void 0!==r?{instructionErrorContext:r}:null}:e===Ji?{code:Number(r),index:n}:e===Zi?{encodedData:r,index:n}:{index:n},orderedErrorNames:Ma,rpcEnumError:t},za)}var Ua=[\"AccountInUse\",\"AccountLoadedTwice\",\"AccountNotFound\",\"ProgramAccountNotFound\",\"InsufficientFundsForFee\",\"InvalidAccountForFee\",\"AlreadyProcessed\",\"BlockhashNotFound\",\"CallChainTooDeep\",\"MissingSignatureForFee\",\"InvalidAccountIndex\",\"SignatureFailure\",\"InvalidProgramForExecution\",\"SanitizeFailure\",\"ClusterMaintenance\",\"AccountBorrowOutstanding\",\"WouldExceedMaxBlockCostLimit\",\"UnsupportedVersion\",\"InvalidWritableAccount\",\"WouldExceedMaxAccountCostLimit\",\"WouldExceedAccountDataBlockLimit\",\"TooManyAccountLocks\",\"AddressLookupTableNotFound\",\"InvalidAddressLookupTableOwner\",\"InvalidAddressLookupTableData\",\"InvalidAddressLookupTableIndex\",\"InvalidRentPayingAccount\",\"WouldExceedMaxVoteCostLimit\",\"WouldExceedAccountDataTotalLimit\",\"DuplicateInstruction\",\"InsufficientFundsForRent\",\"MaxLoadedAccountsDataSizeExceeded\",\"InvalidLoadedAccountsDataSizeLimit\",\"ResanitizationNeeded\",\"ProgramExecutionTemporarilyRestricted\",\"UnbalancedTransaction\"];function $a(e){return\"object\"==typeof e&&\"InstructionError\"in e?za(...e.InstructionError):La({errorCodeBaseOffset:7050001,getErrorContext:(e,t,n)=>e===da?{errorName:t,...void 0!==n?{transactionErrorContext:n}:null}:e===ha?{index:Number(n)}:e===pa||e===ga?{accountIndex:Number(n.account_index)}:void 0,orderedErrorNames:Ua,rpcEnumError:e},$a)}function Da(e){let t;if(\"object\"==typeof(n=e)&&null!==n&&\"code\"in n&&\"message\"in n&&(\"number\"==typeof n.code||\"bigint\"==typeof n.code)&&\"string\"==typeof n.message){const{code:n,data:r,message:o}=e,i=Number(n);if(i===Ti){const{err:e,...n}=r,o=e?{cause:$a(e)}:null;t=new Pa(Ti,{...n,...o})}else{let e;switch(i){case mi:case vi:case wi:case yi:case gi:case Si:case Oi:case Ii:case Ai:case xi:case Ei:case _i:case ki:case bi:e={__serverMessage:o};break;default:\"object\"!=typeof r||Array.isArray(r)||(e=r)}t=new Pa(i,e)}}else{const n=\"object\"==typeof e&&null!==e&&\"message\"in e&&\"string\"==typeof e.message?e.message:\"Malformed JSON-RPC error with no message attribute\";t=new Pa(pi,{error:e,message:n})}var n;return Na(t,Da),t}var Fa=(e,t)=>((e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n})(e.length<=t?e:e.slice(0,t),t);function qa(e,t,n){const r=0===n&&e.length===t.length?e:e.slice(n,n+t.length);return r.length===t.length&&t.every(((e,t)=>e===r[t]))}function Wa(e,t){return\"fixedSize\"in t?t.fixedSize:t.getSizeFromValue(e)}function Ka(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Wa(t,e));return e.write(t,n,0),n}})}function Ga(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function Va(e){return\"fixedSize\"in e&&\"number\"==typeof e.fixedSize}function Ha(e){return!Va(e)}function Ja(e,t){if(Va(e)!==Va(t))throw new Pa(ya);if(Va(e)&&Va(t)&&e.fixedSize!==t.fixedSize)throw new Pa(wa,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Va(e)&&!Va(t)&&e.maxSize!==t.maxSize)throw new Pa(ba,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function Za(e,t,n,r=0){const o=n.length-r;if(o<t)throw new Pa(va,{bytesLength:o,codecDescription:e,expected:t})}function Ya(e,t,n){if(t<0||t>n)throw new Pa(_a,{bytesLength:n,codecDescription:e,offset:t})}function Qa(e,t){const n=(n,r,o)=>{const i=e.encode(n);return o=t.write(i.length,r,o),r.set(i,o),o+i.length};if(Va(t)&&Va(e))return Ka({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=Va(t)?t.fixedSize:t.maxSize??null,o=Va(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Ka({...e,...null!==i?{maxSize:i}:{},getSizeFromValue:n=>{const r=Wa(n,e);return Wa(r,t)+r},write:n})}function Xa(e,t){const n=(n,r)=>{const[o,i]=t.read(n,r),a=Number(o);return((r=i)>0||n.length>a)&&(n=n.slice(r,r+a)),Za(\"addDecoderSizePrefix\",a,n),[e.decode(n),r+a]};if(Va(t)&&Va(e))return Ga({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=Va(t)?t.fixedSize:t.maxSize??null,o=Va(e)?e.fixedSize:e.maxSize??null,i=null!==r&&null!==o?r+o:null;return Ga({...e,...null!==i?{maxSize:i}:{},read:n})}function es(e,t){return Ka({fixedSize:t,write:(n,r,o)=>{const i=e.encode(n),a=i.length>t?i.slice(0,t):i;return r.set(a,o),o+t}})}function ts(e,t){return Ga({fixedSize:t,read:(n,r)=>{Za(\"fixCodecSize\",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),Va(e)&&(n=Fa(n,e.fixedSize));const[o]=e.read(n,0);return[o,r+t]}})}function ns(e,t){return Ga({...e,read:(n,r)=>{const o=e=>rs(e,n.length),i=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:o}):r;Ya(\"offsetDecoder\",i,n.length);const[a,s]=e.read(n,i),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:i,postOffset:s,preOffset:r,wrapBytes:o}):s;return Ya(\"offsetDecoder\",c,n.length),[a,c]}})}function rs(e,t){return 0===t?0:(e%t+t)%t}function os(e,t){if(Va(e)){const n=t(e.fixedSize);if(n<0)throw new Pa(Ea,{bytesLength:n,codecDescription:\"resizeDecoder\"});return Ga({...e,fixedSize:n})}return e}function is(e,t){return ns(os(e,(e=>e+t)),{postOffset:({postOffset:e})=>e+t})}function as(e,t){return Ka({...Ha(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,o)=>e.write(t(n),r,o)})}function ss(e,t){return Ga({...e,read:(n,r)=>{const[o,i]=e.read(n,r);return[t(o,n,r),i]}})}function cs(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Pa(xa,{alphabet:e,base:e.length,value:n})}var us=e=>Ka({getSizeFromValue:t=>{const[n,r]=ds(t,e[0]);if(!r)return t.length;const o=hs(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(cs(e,t),\"\"===t)return r;const[o,i]=ds(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=hs(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),ls=e=>Ga({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return[\"\",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join(\"\")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}}),fs=e=>Ja(us(e),ls(e));function ds(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function hs(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var ps=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\",gs=()=>us(ps),ms=()=>ls(ps);var vs,ys,ws=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bs=()=>Ka({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new Pa(xa,{alphabet:ws,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split(\"\").map((e=>e.charCodeAt(0)));return t.set(r,n),r.length+n}catch{throw new Pa(xa,{alphabet:ws,base:64,value:e})}}}),As=()=>Ga({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),Ss=()=>Ja(bs(),As()),xs=e=>e.replace(/\\u0000/g,\"\"),Es=globalThis.TextDecoder,_s=globalThis.TextEncoder,ks=()=>Ja((()=>{let e;return Ka({getSizeFromValue:t=>(e||=new _s).encode(t).length,write:(t,n,r)=>{const o=(e||=new _s).encode(t);return n.set(o,r),r+o.length}})})(),(()=>{let e;return Ga({read(t,n){const r=(e||=new Es).decode(t.slice(n));return[xs(r),t.length]}})})());function Is(){if(!globalThis.isSecureContext)throw new Pa(Ui)}function Ts(){if(Is(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.exportKey)throw new Pa(Di)}function Os(){return vs||(vs=gs()),vs}function Cs(e){if(e.length<32||e.length>44)throw new Pa(Bi,{actualLength:e.length});const t=Os().encode(e).byteLength;if(32!==t)throw new Pa(Ci,{actualLength:t})}function Bs(e){return Cs(e),e}function Rs(){return as(es(Os(),32),(e=>Bs(e)))}function js(){return ts((ys||(ys=ms()),ys),32)}function Ps(){return Ja(Rs(),js())}function Ns(){return new Intl.Collator(\"en\",{caseFirst:\"lower\",ignorePunctuation:!1,localeMatcher:\"best fit\",numeric:!1,sensitivity:\"variant\",usage:\"sort\"}).compare}var Ls=37095705934669439343138083508754565189542113879843219016388785533085940283555n,Ms=57896044618658097711785492504343953926634992332820282019728792003956564819949n,zs=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function Us(e){const t=e%Ms;return t>=0n?t:Ms+t}function $s(e,t){let n=e;for(;t-- >0n;)n*=n,n%=Ms;return n}function Ds(e,t){const n=Us(t*t*t),r=function(e){const t=e*e%Ms*e%Ms,n=$s(t,2n)*t%Ms,r=$s(n,1n)*e%Ms,o=$s(r,5n)*r%Ms,i=$s(o,10n)*o%Ms,a=$s(i,20n)*i%Ms,s=$s(a,40n)*a%Ms,c=$s(s,80n)*s%Ms,u=$s(c,80n)*s%Ms,l=$s(u,10n)*o%Ms;return $s(l,2n)*e%Ms}(e*Us(n*n*t));let o=Us(e*n*r);const i=Us(t*o*o),a=o,s=Us(o*zs),c=i===e,u=i===Us(-e),l=i===Us(-e*zs);return c&&(o=a),(u||l)&&(o=s),1n===(1n&Us(o))&&(o=Us(-o)),c||u?o:null}function Fs(e){if(32!==e.byteLength)return!1;const t=function(e){const t=e.reduce(((e,t,n)=>`${function(e){const t=e.toString(16);return 1===t.length?`0${t}`:t}(31===n?-129&t:t)}${e}`),\"\");return BigInt(`0x${t}`)}(e);return function(e,t){const n=Us(e*e),r=Ds(Us(n-1n),Us(Ls*n+1n));return null!==r&&(0n!==r||!(0!=(128&t)))}(t,e[31])}var qs=32,Ws=16,Ks=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function Gs({programAddress:e,seeds:t}){if(function(){if(Is(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.digest)throw new Pa($i)}(),t.length>Ws)throw new Pa(ji,{actual:t.length,maxSeeds:Ws});let n;const r=t.reduce(((e,t,r)=>{const o=\"string\"==typeof t?(n||=new TextEncoder).encode(t):t;if(o.byteLength>qs)throw new Pa(Pi,{actual:o.byteLength,index:r,maxSeedLength:qs});return e.push(...o),e}),[]),o=Ps(),i=o.encode(e),a=await crypto.subtle.digest(\"SHA-256\",new Uint8Array([...r,...i,...Ks])),s=new Uint8Array(a);if(Fs(s))throw new Pa(Ni);return o.decode(s)}async function Vs(e){if(Ts(),\"public\"!==e.type||\"Ed25519\"!==e.algorithm.name)throw new Pa(Ri);const t=await crypto.subtle.exportKey(\"raw\",e);return js().decode(new Uint8Array(t))}const Hs=1000000n,Js=1e9;var Zs,Ys;!function(e){e.Mainnet=\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",e.Devnet=\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",e.Testnet=\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",e.Localnet=\"solana:123456789abcdef\"}(Zs||(Zs={})),function(e){e[e.SolMainnet=`${Zs.Mainnet}/slip44:501`]=\"SolMainnet\",e[e.SolDevnet=`${Zs.Devnet}/slip44:501`]=\"SolDevnet\",e[e.SolTestnet=`${Zs.Testnet}/slip44:501`]=\"SolTestnet\",e[e.SolLocalnet=`${Zs.Localnet}/slip44:501`]=\"SolLocalnet\",e[e.UsdcMainnet=`${Zs.Mainnet}/token:EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v`]=\"UsdcMainnet\",e[e.UsdcDevnet=`${Zs.Devnet}/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU`]=\"UsdcDevnet\",e[e.UsdcLocalnet=`${Zs.Localnet}/token:4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU`]=\"UsdcLocalnet\",e[e.EurcMainnet=`${Zs.Mainnet}/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr`]=\"EurcMainnet\",e[e.EurcDevnet=`${Zs.Devnet}/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr`]=\"EurcDevnet\",e[e.EurcLocalnet=`${Zs.Localnet}/token:HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr`]=\"EurcLocalnet\",e[e.Ai16zLocalnet=`${Zs.Localnet}/token:HeLp6NuQkmYB4pYWo2zYs22mESHXPQYzXbB8n4V98jwC`]=\"Ai16zLocalnet\"}(Ys||(Ys={}));Zs.Mainnet,Zs.Devnet,Zs.Testnet,Zs.Localnet;var Qs;!function(e){e.SOL=\"slip44:501\"}(Qs||(Qs={}));const Xs={[Ys.SolMainnet]:{symbol:\"SOL\",caip19Id:Ys.SolMainnet,address:\"So11111111111111111111111111111111111111112\",decimals:9},[Ys.SolDevnet]:{symbol:\"SOL\",caip19Id:Ys.SolDevnet,address:\"So11111111111111111111111111111111111111112\",decimals:9},[Ys.SolTestnet]:{symbol:\"SOL\",caip19Id:Ys.SolTestnet,address:\"So11111111111111111111111111111111111111112\",decimals:9},[Ys.SolLocalnet]:{symbol:\"SOL\",caip19Id:Ys.SolLocalnet,address:\"So11111111111111111111111111111111111111112\",decimals:9},[Ys.UsdcMainnet]:{symbol:\"USDC\",caip19Id:Ys.UsdcMainnet,address:\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\",decimals:6},[Ys.UsdcDevnet]:{symbol:\"USDC\",caip19Id:Ys.UsdcDevnet,address:\"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",decimals:6},[Ys.UsdcLocalnet]:{symbol:\"USDC\",caip19Id:Ys.UsdcLocalnet,address:\"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU\",decimals:6}},ec=Bs(\"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb\"),tc={[Zs.Mainnet]:{caip2Id:Zs.Mainnet,cluster:\"mainnet\",name:\"Solana Mainnet\",nativeToken:Xs[Ys.SolMainnet]},[Zs.Devnet]:{caip2Id:Zs.Devnet,cluster:\"devnet\",name:\"Solana Devnet\",nativeToken:Xs[Ys.SolDevnet]},[Zs.Testnet]:{caip2Id:Zs.Testnet,cluster:\"testnet\",name:\"Solana Testnet\",nativeToken:Xs[Ys.SolTestnet]},[Zs.Localnet]:{caip2Id:Zs.Localnet,cluster:\"local\",name:\"Solana Localnet\",nativeToken:Xs[Ys.SolLocalnet]}},nc=me(oe(),/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/u),rc=me(oe(),/^(?!0\\d)(\\d+(\\.\\d+)?)$/u),oc=ve(oe(),\"safe-url\",(e=>{try{const t=new URL(e);if(![\"http:\",\"https:\"].includes(t.protocol))return\"URL must use http or https protocol\";if(!e.match(/^https?:\\/\\/[^/]+\\/?/u))return\"Malformed URL - incorrect protocol format\";const n=t.hostname.toLowerCase();if(!(\"localhost\"===n||n.includes(\".\")&&/^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/u.test(n)))return\"Invalid hostname format\";const r=decodeURIComponent(e.toLowerCase());if(e.includes(\"\\\\\")||e.includes(\"@\")||r.includes(\"\\\\\")||r.includes(\"@\")||e.toLowerCase().includes(\"%2f@\")||e.toLowerCase().includes(\"%5c@\"))return\"URL contains protocol pollution attempts\";const o=decodeURIComponent(n);if(n.includes(\"\\\\\")||n.includes(\"@\")||o.includes(\"/\")||n.toLowerCase().includes(\"%2f\"))return\"Invalid hostname characters detected\";if(e.includes(\"../\")||e.includes(\"..%2f\")||e.includes(\"..%2F\"))return\"Directory traversal attempts are not allowed\";const i=[/<[^>]*>/u,/javascript:/u,/data:/u,/\\\\[@\\\\]/u,/%2f@/u,/[^\\x20-\\x7E]/u,/\\$\\{.*?\\}/u,/#\\{.*?\\}/u,/[|;]/u,/%0[acd]|%0[acd]/u,/\\/\\/\\w+@/u,/(?:[^a-z]|^)(?:union\\s+(?:all\\s+)?select|select\\s+(?:.*\\s+)?from|insert\\s+into|update\\s+.*\\s+set|delete\\s+from|drop\\s+table|alter\\s+table|create\\s+table|exec(?:ute)?|union|where\\s+[\\d\\w]\\s*=\\s*[\\d\\w]|\\bor\\b\\s*[\\d\\w]\\s*=\\s*[\\d\\w])/iu,/'.*?(?:OR|UNION|SELECT|FROM|WHERE).*?'/iu,/%27.*?(?:OR|UNION|SELECT|FROM|WHERE).*?(?:%27|')/iu,/%20(?:OR|UNION|SELECT|FROM|WHERE)%20/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=(?:[^&]*\\/\\/|https?:)/iu,/[?&](?:url|redirect|next|return_to|return_url|goto|destination|continue|redirect_uri)=%(?:[^&]*\\/\\/|https?:)/iu];for(const e of i)if(e.test(r))return\"URL contains potentially malicious patterns\";return!(t.port&&!/^\\d+$/u.test(t.port))||\"Invalid port number\"}catch(e){return\"Invalid URL format\"}})),ic=te({accountId:nc}),ac=te({accountId:nc}),sc=te({accountId:nc}),cc=te({accountId:nc,assets:V(at)}),uc=te({accountId:nc,pagination:te({limit:Z(),next:ne(X(oe()))})}),lc=re(at,te({amount:rc,unit:oe()})),fc=(V(at),J(Object.values(qt)),te({base64EncodedTransactionMessage:oe()}),J(Object.values(Zs))),dc=(J([\"btc\",\"eth\",\"ltc\",\"bch\",\"bnb\",\"eos\",\"xrp\",\"xlm\",\"link\",\"dot\",\"yfi\",\"usd\",\"aed\",\"ars\",\"aud\",\"bdt\",\"bhd\",\"bmd\",\"brl\",\"cad\",\"chf\",\"clp\",\"cny\",\"czk\",\"dkk\",\"eur\",\"gbp\",\"gel\",\"hkd\",\"huf\",\"idr\",\"ils\",\"inr\",\"jpy\",\"krw\",\"kwd\",\"lkr\",\"mmk\",\"mxn\",\"myr\",\"ngn\",\"nok\",\"nzd\",\"php\",\"pkr\",\"pln\",\"rub\",\"sar\",\"sek\",\"sgd\",\"thb\",\"try\",\"twd\",\"uah\",\"vef\",\"vnd\",\"zar\",\"xdr\",\"xag\",\"xau\",\"bits\",\"sats\"]),te({transaction:oe(),scope:J(Object.values(Zs))})),hc=te({value:X(rc)}),pc=$(\"Base58\",(e=>\"string\"!=typeof e?\"Expected a string, but received: \"+typeof e:!!/^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/u.test(e)||\"Expected a Base58 encoded string, but received a string with invalid characters\")),gc=me(oe(),/^(?:[A-Za-z0-9+/]{4})+(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/u),mc=me(oe(),/^m\\/44'\\/501'/u);function vc(e){const{baseUrl:t,path:n,pathParams:r,queryParams:o}=e;L(t,oc);const i=n.replace(/\\{(\\w+)\\}/gu,((e,t)=>{var n;const o=null===(n=r)||void 0===n?void 0:n[t];if(void 0===o)throw new Error(`Path parameter ${t} is undefined`);return o})).replace(/^\\/+/u,\"\").replace(/\\/+/gu,\"/\").replace(/\\/+$/u,\"\"),a=new URL(i,t);Object.entries(o??{}).filter((([e,t])=>void 0!==t)).filter((([e,t])=>null!==t)).forEach((([e,t])=>{t&&a.searchParams.append(e,t)}));const s=a.toString();return L(s,oc),s}var yc,wc=((yc=wc||{})[yc.WRITABLE_SIGNER=3]=\"WRITABLE_SIGNER\",yc[yc.READONLY_SIGNER=2]=\"READONLY_SIGNER\",yc[yc.WRITABLE=1]=\"WRITABLE\",yc[yc.READONLY=0]=\"READONLY\",yc),bc=2,Ac=1;function Sc(e){return e>=2}function xc(e){return 0!=(e&Ac)}function Ec(e,t){return e|t}function _c(e){return e|bc}var kc,Ic=Object.freeze({name:\"Ed25519\"});async function Tc(e,t){const n=e.byteLength;if(32!==n)throw new Pa(Ki,{actualLength:n});const r=function(e){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e])}(e);return await crypto.subtle.importKey(\"pkcs8\",r,Ic,t??!1,[\"sign\"])}async function Oc(e,t){!function(){if(Is(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.sign)throw new Pa(Fi)}();const n=await crypto.subtle.sign(Ic,e,t);return new Uint8Array(n)}function Cc(e){return function(e){if(kc||(kc=gs()),e.length<64||e.length>88)throw new Pa(Vi,{actualLength:e.length});const t=kc.encode(e).byteLength;if(64!==t)throw new Pa(Gi,{actualLength:t})}(e),e}async function Bc(e,t,n){return function(){if(Is(),void 0===globalThis.crypto||\"function\"!=typeof globalThis.crypto.subtle?.verify)throw new Pa(qi)}(),await crypto.subtle.verify(Ic,e,t,n)}async function Rc(e,t=!1){const n=Tc(e,t),[r,o]=await Promise.all([(t?n:Tc(e,!0)).then((async e=>await async function(e,t=!1){if(Ts(),!1===e.extractable)throw new Pa(Wi,{key:e});const n=await crypto.subtle.exportKey(\"jwk\",e);return await crypto.subtle.importKey(\"jwk\",{crv:\"Ed25519\",ext:t,key_ops:[\"verify\"],kty:\"OKP\",x:n.x},\"Ed25519\",t,[\"verify\"])}(e,!0))),n]);return{privateKey:o,publicKey:r}}function jc(e,t,n,r){if(r<t||r>n)throw new Pa(Sa,{codecDescription:e,max:n,min:t,value:r})}var Pc,Nc=((Pc=Nc||{})[Pc.Little=0]=\"Little\",Pc[Pc.Big=1]=\"Big\",Pc);function Lc(e){return 1!==e?.endian}function Mc(e){return Ka({fixedSize:e.size,write(t,n,r){e.range&&jc(e.name,e.range[0],e.range[1],t);const o=new ArrayBuffer(e.size);return e.set(new DataView(o),t,Lc(e.config)),n.set(new Uint8Array(o),r),r+e.size}})}function zc(e){return Ga({fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new Pa(ma,{codecDescription:e})}(e.name,t,n),Za(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),o=n??e.byteLength;return e.buffer.slice(r,r+o)}(t,n,e.size));return[e.get(r,Lc(e.config)),n+e.size]}})}var Uc=()=>Ka({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{jc(\"shortU16\",0,65535,e);const r=[0];for(let t=0;;t+=1){const n=Number(e)>>7*t;if(0===n)break;const o=127&n;r[t]=o,t>0&&(r[t-1]|=128)}return t.set(r,n),n+r.length}}),$c=()=>Ga({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const o=r-1,i=e[t+o];if(n|=(127&i)<<7*o,0==(128&i))break}return[n,t+r]}}),Dc=(e={})=>Mc({config:e,name:\"u32\",range:[0,Number(\"0xffffffff\")],set:(e,t,n)=>e.setUint32(0,Number(t),n),size:4}),Fc=(e={})=>zc({config:e,get:(e,t)=>e.getUint32(0,t),name:\"u32\",size:4}),qc=(e={})=>Mc({config:e,name:\"u64\",range:[0n,BigInt(\"0xffffffffffffffff\")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),Wc=()=>Mc({name:\"u8\",range:[0,Number(\"0xff\")],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),Kc=()=>zc({get:e=>e.getUint8(0),name:\"u8\",size:1});function Gc(e,t,n){if(t!==n)throw new Pa(Aa,{actual:n,codecDescription:e,expected:t})}function Vc(e){return e.reduce(((e,t)=>null===e||null===t?null:e+t),0)}function Hc(e){return Va(e)?e.fixedSize:null}function Jc(e){return Va(e)?e.fixedSize:e.maxSize??null}function Zc(e,t={}){const n=t.size??Dc(),r=Qc(n,Hc(e)),o=Qc(n,Jc(e))??void 0;return Ka({...null!==r?{fixedSize:r}:{getSizeFromValue:t=>(\"object\"==typeof n?Wa(t.length,n):0)+[...t].reduce(((t,n)=>t+Wa(n,e)),0),maxSize:o},write:(t,r,o)=>(\"number\"==typeof n&&Gc(\"array\",n,t.length),\"object\"==typeof n&&(o=n.write(t.length,r,o)),t.forEach((t=>{o=e.write(t,r,o)})),o)})}function Yc(e,t={}){const n=t.size??Fc(),r=Hc(e),o=Qc(n,r),i=Qc(n,Jc(e))??void 0;return Ga({...null!==o?{fixedSize:o}:{maxSize:i},read:(t,r)=>{const o=[];if(\"object\"==typeof n&&0===t.slice(r).length)return[o,r];if(\"remainder\"===n){for(;r<t.length;){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}const[i,a]=\"number\"==typeof n?[n,r]:n.read(t,r);r=a;for(let n=0;n<i;n+=1){const[n,i]=e.read(t,r);r=i,o.push(n)}return[o,r]}})}function Qc(e,t){return\"number\"!=typeof e?null:0===e?0:null===t?null:t*e}function Xc(){return Ka({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function eu(){return Ga({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}function tu(e){const t=Vc(e.map(Hc)),n=Vc(e.map(Jc))??void 0;return Ga({...null===t?{maxSize:n}:{fixedSize:t},read:(t,n)=>{const r=[];return e.forEach((e=>{const[o,i]=e.read(t,n);r.push(o),n=i})),[r,n]}})}var nu;function ru(e){const t=e.map((([,e])=>e)),n=Vc(t.map(Hc)),r=Vc(t.map(Jc))??void 0;return Ka({...null===n?{getSizeFromValue:t=>e.map((([e,n])=>Wa(t[e],n))).reduce(((e,t)=>e+t),0),maxSize:r}:{fixedSize:n},write:(t,n,r)=>(e.forEach((([e,o])=>{r=o.write(t[e],n,r)})),r)})}function ou(e){const t=e.map((([,e])=>e)),n=Vc(t.map(Hc)),r=Vc(t.map(Jc))??void 0;return Ga({...null===n?{maxSize:r}:{fixedSize:n},read:(t,n)=>{const r={};return e.forEach((([e,o])=>{const[i,a]=o.read(t,n);n=a,r[e]=i})),[r,n]}})}function iu(){return nu||(nu=gs()),nu}function au(e){if(e.length<32||e.length>44)throw new Pa(fi,{actualLength:e.length});const t=iu().encode(e).byteLength;if(32!==t)throw new Pa(di,{actualLength:t})}function su(e){switch(e){case\"finalized\":return 2;case\"confirmed\":return 1;case\"processed\":return 0;default:throw new Pa(Oa,{unexpectedValue:e})}}var cu=18446744073709551615n;function uu(e){return function(e){if(e<0||e>cu)throw new Pa(hi)}(e),e}function lu(e,...t){return t.reduce(((e,t)=>t(e)),e)}function fu(e){if(!(\"lifetimeConstraint\"in e&&\"string\"==typeof e.lifetimeConstraint.blockhash&&\"bigint\"==typeof e.lifetimeConstraint.lastValidBlockHeight))return!1;try{return au(e.lifetimeConstraint.blockhash),!0}catch{return!1}}function du(e,t){if(\"lifetimeConstraint\"in t&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight)return t;const n={...t,lifetimeConstraint:Object.freeze(e)};return Object.freeze(n),n}var hu=e=>Ka({getSizeFromValue:t=>{const[n,r]=gu(t,e[0]);if(!r)return t.length;const o=mu(r,e);return n.length+Math.ceil(o.toString(16).length/2)},write(t,n,r){if(function(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Pa(xa,{alphabet:e,base:e.length,value:n})}(e,t),\"\"===t)return r;const[o,i]=gu(t,e[0]);if(!i)return n.set(new Uint8Array(o.length).fill(0),r),r+o.length;let a=mu(i,e);const s=[];for(;a>0n;)s.unshift(Number(a%256n)),a/=256n;const c=[...Array(o.length).fill(0),...s];return n.set(c,r),r+c.length}}),pu=e=>Ga({read(t,n){const r=0===n?t:t.slice(n);if(0===r.length)return[\"\",0];let o=r.findIndex((e=>0!==e));o=-1===o?r.length:o;const i=e[0].repeat(o);if(o===r.length)return[i,t.length];const a=function(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join(\"\")}(r.slice(o).reduce(((e,t)=>256n*e+BigInt(t)),0n),e);return[i+a,t.length]}});function gu(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function mu(e,t){const n=BigInt(t.length);let r=0n;for(const o of e)r*=n,r+=BigInt(t.indexOf(o));return r}var vu,yu,wu,bu,Au,Su,xu=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\",Eu=()=>hu(xu),_u=()=>pu(xu);function ku(){return wu||(wu=Wc()),wu}function Iu(){return bu||(bu=Kc()),bu}var Tu=128;function Ou(){return Ka({getSizeFromValue:e=>\"legacy\"===e?0:1,maxSize:1,write:(e,t,n)=>{if(\"legacy\"===e)return n;if(e<0||e>127)throw new Pa(ea,{actualVersion:e});return t.set([e|Tu],n),n+1}})}function Cu(){return Ga({maxSize:1,read:(e,t)=>{const n=e[t];if(0==(n&Tu))return[\"legacy\",t];return[n^Tu,t+1]}})}function Bu(){return ru(ju())}function Ru(){return as(ru([...ju(),[\"addressTableLookups\",Zc((vu||(vu=ru([[\"lookupTableAddress\",Rs()],[\"writableIndices\",Zc(Wc(),{size:Uc()})],[\"readableIndices\",Zc(Wc(),{size:Uc()})]])),vu),{size:Uc()})]]),(e=>\"legacy\"===e.version?e:{...e,addressTableLookups:e.addressTableLookups??[]}))}function ju(){return[[\"version\",Ou()],[\"header\",ru([[\"numSignerAccounts\",ku()],[\"numReadonlySignerAccounts\",ku()],[\"numReadonlyNonSignerAccounts\",ku()]])],[\"staticAccounts\",Zc(Rs(),{size:Uc()})],[\"lifetimeToken\",es(Eu(),32)],[\"instructions\",Zc((Au||(Au=as(ru([[\"programAddressIndex\",Wc()],[\"accountIndices\",Zc(Wc(),{size:Uc()})],[\"data\",Qa(Xc(),Uc())]]),(e=>void 0!==e.accountIndices&&void 0!==e.data?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)}))),Au),{size:Uc()})]]}function Pu(){return Ka({getSizeFromValue:e=>\"legacy\"===e.version?Bu().getSizeFromValue(e):Ru().getSizeFromValue(e),write:(e,t,n)=>\"legacy\"===e.version?Bu().write(e,t,n):Ru().write(e,t,n)})}function Nu(){return ss(ou([[\"version\",Cu()],[\"header\",ou([[\"numSignerAccounts\",Iu()],[\"numReadonlySignerAccounts\",Iu()],[\"numReadonlyNonSignerAccounts\",Iu()]])],[\"staticAccounts\",Yc(js(),{size:$c()})],[\"lifetimeToken\",ts(_u(),32)],[\"instructions\",Yc((Su||(Su=ss(ou([[\"programAddressIndex\",Kc()],[\"accountIndices\",Yc(Kc(),{size:$c()})],[\"data\",Xa(eu(),$c())]]),(e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}}))),Su),{size:$c()})],[\"addressTableLookups\",Yc((yu||(yu=ou([[\"lookupTableAddress\",js()],[\"writableIndices\",Yc(Kc(),{size:$c()})],[\"readableIndices\",Yc(Kc(),{size:$c()})]])),yu),{size:$c()})]]),(({addressTableLookups:e,...t})=>\"legacy\"!==t.version&&e?.length?{...t,addressTableLookups:e}:t))}function Lu(e,t,n){e[t]=n(e[t]??{role:wc.READONLY})}var Mu=Symbol(\"AddressMapTypeProperty\");function zu(e){const t={};for(const n of e){if(!(\"lookupTableAddress\"in n))continue;const e=t[n.lookupTableAddress]||={readableIndices:[],writableIndices:[]};n.role===wc.WRITABLE?e.writableIndices.push(n.addressIndex):e.readableIndices.push(n.addressIndex)}return Object.keys(t).sort(Ns()).map((e=>({lookupTableAddress:e,...t[e]})))}function Uu(e){let t=0,n=0,r=0;for(const o of e){if(\"lookupTableAddress\"in o)break;const e=xc(o.role);Sc(o.role)?(r++,e||n++):e||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function $u(e,t){const n=function(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}(t);return e.map((({accounts:e,data:t,programAddress:r})=>({programAddressIndex:n[r],...e?{accountIndices:e.map((({address:e})=>n[e]))}:null,...t?{data:t}:null})))}function Du(e){const t=e.findIndex((e=>\"lookupTableAddress\"in e));return(-1===t?e:e.slice(0,t)).map((({address:e})=>e))}function Fu(e){const t=function(e){let t;const n=Object.entries(e).sort((([e,n],[r,o])=>{if(n[Mu]!==o[Mu]){if(0===n[Mu])return-1;if(0===o[Mu])return 1;if(2===n[Mu])return-1;if(2===o[Mu])return 1}const i=Sc(n.role);if(i!==Sc(o.role))return i?-1:1;const a=xc(n.role);return a!==xc(o.role)?a?-1:1:(t||=Ns(),1===n[Mu]&&1===o[Mu]&&n.lookupTableAddress!==o.lookupTableAddress?t(n.lookupTableAddress,o.lookupTableAddress):t(e,r))})).map((([e,t])=>({address:e,...t})));return n}(function(e,t){const n={[e]:{[Mu]:0,role:wc.WRITABLE_SIGNER}},r=new Set;for(const e of t){let t;if(Lu(n,e.programAddress,(t=>{if(r.add(e.programAddress),Mu in t){if(xc(t.role)){if(0===t[Mu])throw new Pa(Qi,{programAddress:e.programAddress});throw new Pa(Xi,{programAddress:e.programAddress})}if(2===t[Mu])return t}return{[Mu]:2,role:wc.READONLY}})),e.accounts)for(const o of e.accounts)Lu(n,o.address,(e=>{const{address:n,...i}=o;if(Mu in e)switch(e[Mu]){case 0:return e;case 1:{const n=Ec(e.role,i.role);if(\"lookupTableAddress\"in i){if(e.lookupTableAddress!==i.lookupTableAddress&&(t||=Ns())(i.lookupTableAddress,e.lookupTableAddress)<0)return{[Mu]:1,...i,role:n}}else if(Sc(i.role))return{[Mu]:2,role:n};return e.role!==n?{...e,role:n}:e}case 2:{const t=Ec(e.role,i.role);if(r.has(o.address)){if(xc(i.role))throw new Pa(Xi,{programAddress:o.address});return e.role!==t?{...e,role:t}:e}return\"lookupTableAddress\"in i&&!Sc(e.role)?{...i,[Mu]:1,role:t}:e.role!==t?{...e,role:t}:e}}return\"lookupTableAddress\"in i?{...i,[Mu]:1}:{...i,[Mu]:2}}))}return n}(e.feePayer.address,e.instructions));return{...\"legacy\"!==e.version?{addressTableLookups:zu(t)}:null,header:Uu(t),instructions:$u(e.instructions,t),lifetimeToken:(n=e.lifetimeConstraint,\"nonce\"in n?n.nonce:n.blockhash),staticAccounts:Du(t),version:e.version};var n}function qu({version:e}){return Object.freeze({instructions:Object.freeze([]),version:e})}var Wu,Ku=\"SysvarRecentB1ockHashes11111111111111111111\",Gu=\"11111111111111111111111111111111\";function Vu(e,t){return{accounts:[{address:e,role:wc.WRITABLE},{address:Ku,role:wc.READONLY},{address:t,role:wc.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:Gu}}function Hu(e){return e.programAddress===Gu&&null!=e.data&&(4===(t=e.data).byteLength&&4===t[0]&&0===t[1]&&0===t[2]&&0===t[3])&&3===e.accounts?.length&&null!=e.accounts[0].address&&e.accounts[0].role===wc.WRITABLE&&e.accounts[1].address===Ku&&e.accounts[1].role===wc.READONLY&&null!=e.accounts[2].address&&Sc(e.accounts[2].role);var t}function Ju(e){return\"lifetimeConstraint\"in e&&\"string\"==typeof e.lifetimeConstraint.nonce&&null!=e.instructions[0]&&Hu(e.instructions[0])}function Zu(e,t){if(\"feePayer\"in t&&e===t.feePayer?.address&&function(e){return!!e&&\"address\"in e&&\"string\"==typeof e.address&&1===Object.keys(e).length}(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}function Yu(e,t){return Qu([e],t)}function Qu(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}function Xu(e,t){return Object.freeze({...t,instructions:Object.freeze([...e,...t.instructions])})}function el(e,t){const n=e.staticAccounts[0];if(!n)throw new Pa(oa);const r=function(e){const{header:t}=e,n=t.numSignerAccounts-t.numReadonlySignerAccounts,r=e.staticAccounts.length-t.numSignerAccounts-t.numReadonlyNonSignerAccounts,o=[];let i=0;for(let t=0;t<n;t++)o.push({address:e.staticAccounts[i],role:wc.WRITABLE_SIGNER}),i++;for(let n=0;n<t.numReadonlySignerAccounts;n++)o.push({address:e.staticAccounts[i],role:wc.READONLY_SIGNER}),i++;for(let t=0;t<r;t++)o.push({address:e.staticAccounts[i],role:wc.WRITABLE}),i++;for(let n=0;n<t.numReadonlyNonSignerAccounts;n++)o.push({address:e.staticAccounts[i],role:wc.READONLY}),i++;return o}(e),o=\"addressTableLookups\"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?function(e,t){const n=e.map((e=>e.lookupTableAddress)),r=n.filter((e=>void 0===t[e]));if(r.length>0)throw new Pa(ta,{lookupTableAddresses:r});const o=[],i=[];for(const n of e){const e=t[n.lookupTableAddress],r=Math.max(...n.readableIndices,...n.writableIndices);if(r>=e.length)throw new Pa(na,{highestKnownIndex:e.length-1,highestRequestedIndex:r,lookupTableAddress:n.lookupTableAddress});const a=n.readableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:wc.READONLY})));o.push(...a);const s=n.writableIndices.map((t=>({address:e[t],addressIndex:t,lookupTableAddress:n.lookupTableAddress,role:wc.WRITABLE})));i.push(...s)}return[...i,...o]}(e.addressTableLookups,t?.addressesByLookupTableAddress??{}):[],i=[...r,...o],a=e.instructions.map((e=>function(e,t){const n=t[e.programAddressIndex]?.address;if(!n)throw new Pa(ra,{index:e.programAddressIndex});const r=e.accountIndices?.map((e=>t[e])),{data:o}=e;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...o&&o.length?{data:o}:{}})}(e,i))),s=a[0],c=function(e,t,n){if(t&&Hu(t)){const n=t.accounts[0].address;Cs(n);const r=t.accounts[2].address;return Cs(r),{nonce:e,nonceAccountAddress:n,nonceAuthorityAddress:r}}return{blockhash:e,lastValidBlockHeight:n??2n**64n-1n}}(e.lifetimeToken,s,t?.lastValidBlockHeight);return lu(qu({version:e.version}),(e=>Zu(n,e)),(e=>a.reduce(((e,t)=>Yu(t,e)),e)),(e=>\"blockhash\"in c?du(c,e):function({nonce:e,nonceAccountAddress:t,nonceAuthorityAddress:n},r){let o;const i=r.instructions[0];if(i&&Hu(i))if(function(e,t,n){return e.accounts[0].address===t&&e.accounts[2].address===n}(i,t,n)){if(Ju(r)&&r.lifetimeConstraint.nonce===e)return r;o=[i,...r.instructions.slice(1)]}else o=[Object.freeze(Vu(t,n)),...r.instructions.slice(1)];else o=[Object.freeze(Vu(t,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(o),lifetimeConstraint:Object.freeze({nonce:e})})}(c,e)))}function tl(e){const t=Object.values(e);if(0===t.length)throw new Pa(ca);return t.map((e=>e||new Uint8Array(64).fill(0)))}function nl(){return ru([[\"signatures\",as(Zc(es(Xc(),64),{size:Uc()}),tl)],[\"messageBytes\",Xc()]])}function rl(){return ss(ou([[\"signatures\",Yc(ts(eu(),64),{size:$c()})],[\"messageBytes\",eu()]]),ol)}function ol(e){const{messageBytes:t,signatures:n}=e,r=tu([Cu(),is(Kc(),2),Yc(js(),{size:$c()})]),[o,i,a]=r.decode(t),s=a.slice(0,i);if(s.length!==n.length)throw new Pa(ua,{numRequiredSignatures:i,signaturesLength:n.length,signerAddresses:s});const c={};return s.forEach(((e,t)=>{const r=n[t];r.every((e=>0===e))?c[e]=null:c[e]=r})),{messageBytes:t,signatures:Object.freeze(c)}}function il(e){const t=Fu(e),n=Pu().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),o={};for(const e of r)o[e]=null;let i;i=fu(e)?{blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:{nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address};const a={lifetimeConstraint:i,messageBytes:n,signatures:Object.freeze(o)};return Object.freeze(a)}async function al(e,t){let n,r;if(await Promise.all(e.map((async e=>{const o=await Vs(e.publicKey),i=t.signatures[o];if(void 0===i)return r||=new Set,void r.add(o);if(r)return;const a=await Oc(e.privateKey,t.messageBytes);var s,c;null!==i&&(c=i,(s=a).length===c.length&&s.every(((e,t)=>e===c[t])))||(n||={},n[o]=a)}))),r&&r.size>0){const e=Object.keys(t.signatures);throw new Pa(sa,{expectedAddresses:e,unexpectedAddresses:[...r]})}return n?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...n})}):t}function sl(e){const t=[];if(Object.entries(e.signatures).forEach((([e,n])=>{n||t.push(e)})),t.length>0)throw new Pa(ia,{addresses:t})}function cl(e){const t=nl().encode(e);return As().decode(t)}function ul(e){const t={};return e.forEach((e=>{if(t[e.address]){if(t[e.address]!==e)throw new Pa(Yi,{address:e.address})}else t[e.address]=e})),Object.values(t)}function ll(e){return\"modifyAndSignTransactions\"in e&&\"function\"==typeof e.modifyAndSignTransactions}function fl(e){return\"signTransactions\"in e&&\"function\"==typeof e.signTransactions}function dl(e){return\"signAndSendTransactions\"in e&&\"function\"==typeof e.signAndSendTransactions}function hl(e){return fl(e)||ll(e)||dl(e)}function pl(e){return ul((e.accounts??[]).flatMap((e=>\"signer\"in e?e.signer:[])))}function gl(e){return ul([...e.feePayer&&hl(e.feePayer)?[e.feePayer]:[],...e.instructions.flatMap(pl)])}function ml(e,t){const n=(r=t)&&\"feePayer\"in r&&r.feePayer&&\"string\"==typeof r.feePayer.address&&!hl(r.feePayer)?e.find((e=>e.address===t.feePayer.address)):void 0;var r;return n||0!==t.instructions.length?Object.freeze({...t,...n?{feePayer:n}:null,instructions:t.instructions.map((t=>function(e,t){if(!t.accounts||0===t.accounts.length)return t;const n=new Map(ul(e).map((e=>[e.address,e])));return Object.freeze({...t,accounts:t.accounts.map((e=>{const t=n.get(e.address);return Sc(e.role)&&!(\"signer\"in e)&&t?Object.freeze({...e,signer:t}):e}))})}(e,t)))}):t}async function vl(e){const t=await Vs(e.publicKey),n={address:t,keyPair:e,signMessages:n=>Promise.all(n.map((async n=>Object.freeze({[t]:await Oc(e.privateKey,n.content)})))),signTransactions:n=>Promise.all(n.map((async n=>{const r=await al([e],n);return Object.freeze({[t]:r.signatures[t]})})))};return Object.freeze(n)}async function yl(e,t){return await vl(await Rc(e,t))}function wl(e){const t={address:e,signMessages:e=>Promise.resolve(e.map((()=>Object.freeze({})))),signTransactions:e=>Promise.resolve(e.map((()=>Object.freeze({}))))};return Object.freeze(t)}async function bl(e,t){const{partialSigners:n,modifyingSigners:r}=Al(ul(gl(e).filter(hl)),{identifySendingSigner:!1});return await Sl(e,r,n,t)}function Al(e,t={}){const n=t.identifySendingSigner??!0?function(e){const t=e.filter(dl);if(0===t.length)return null;const n=t.filter((e=>!ll(e)&&!fl(e)));if(n.length>0)return n[0];return t[0]}(e):null,r=e.filter((e=>e!==n&&(ll(e)||fl(e)))),o=function(e){const t=e.filter(ll);if(0===t.length)return[];const n=t.filter((e=>!fl(e)));return n.length>0?n:[t[0]]}(r),i=r.filter(fl).filter((e=>!o.includes(e)));return Object.freeze({modifyingSigners:o,partialSigners:i,sendingSigner:n})}async function Sl(e,t=[],n=[],r){const o=il(e),i=await t.reduce((async(e,t)=>{r?.abortSignal?.throwIfAborted();const[n]=await t.modifyAndSignTransactions([await e],r);return Object.freeze(n)}),Promise.resolve(o));r?.abortSignal?.throwIfAborted();const a=await Promise.all(n.map((async e=>{const[t]=await e.signTransactions([i],r);return t}))),s={...i,signatures:Object.freeze(a.reduce(((e,t)=>({...e,...t})),i.signatures??{}))};return Object.freeze(s)}var xl=globalThis.TextEncoder;var El,_l=((El=_l||{})[El.Uninitialized=0]=\"Uninitialized\",El[El.Initialized=1]=\"Initialized\",El);var kl,Il=((kl=Il||{})[kl.Legacy=0]=\"Legacy\",kl[kl.Current=1]=\"Current\",kl);var Tl,Ol,Cl=\"11111111111111111111111111111111\",Bl=((Tl=Bl||{})[Tl.Nonce=0]=\"Nonce\",Tl),Rl=((Ol=Rl||{})[Ol.CreateAccount=0]=\"CreateAccount\",Ol[Ol.Assign=1]=\"Assign\",Ol[Ol.TransferSol=2]=\"TransferSol\",Ol[Ol.CreateAccountWithSeed=3]=\"CreateAccountWithSeed\",Ol[Ol.AdvanceNonceAccount=4]=\"AdvanceNonceAccount\",Ol[Ol.WithdrawNonceAccount=5]=\"WithdrawNonceAccount\",Ol[Ol.InitializeNonceAccount=6]=\"InitializeNonceAccount\",Ol[Ol.AuthorizeNonceAccount=7]=\"AuthorizeNonceAccount\",Ol[Ol.Allocate=8]=\"Allocate\",Ol[Ol.AllocateWithSeed=9]=\"AllocateWithSeed\",Ol[Ol.AssignWithSeed=10]=\"AssignWithSeed\",Ol[Ol.TransferSolWithSeed=11]=\"TransferSolWithSeed\",Ol[Ol.UpgradeNonceAccount=12]=\"UpgradeNonceAccount\",Ol);function jl(e){if(!e)throw new Error(\"Expected a Address.\");return\"object\"==typeof e&&\"address\"in e?e.address:Array.isArray(e)?e[0]:e}function Pl(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:wc.READONLY});const n=t.isWritable?wc.WRITABLE:wc.READONLY;return Object.freeze({address:jl(t.value),role:Nl(t.value)?_c(n):n,...Nl(t.value)?{signer:t.value}:{}})}}function Nl(e){return!!e&&\"object\"==typeof e&&\"address\"in e&&hl(e)}var Ll=2;function Ml(){return as(ru([[\"discriminator\",Dc()],[\"amount\",qc()]]),(e=>({...e,discriminator:Ll})))}const zl={log:(console.log,(...e)=>{}),info:(console.info,(...e)=>{}),warn:(console.warn,(...e)=>{}),debug:(console.debug,(...e)=>{}),error:(console.error,(...e)=>{})},Ul=se([J([\"btc\",\"eth\",\"ltc\",\"bch\",\"bnb\",\"eos\",\"xrp\",\"xlm\",\"link\",\"dot\",\"yfi\",\"bits\",\"sats\"]),J([\"usd\",\"aed\",\"ars\",\"aud\",\"bdt\",\"bhd\",\"bmd\",\"brl\",\"cad\",\"chf\",\"clp\",\"cny\",\"czk\",\"dkk\",\"eur\",\"gbp\",\"gel\",\"hkd\",\"huf\",\"idr\",\"ils\",\"inr\",\"jpy\",\"krw\",\"kwd\",\"lkr\",\"mmk\",\"mxn\",\"myr\",\"ngn\",\"nok\",\"nzd\",\"php\",\"pkr\",\"pln\",\"rub\",\"sar\",\"sek\",\"sgd\",\"thb\",\"try\",\"twd\",\"uah\",\"vef\",\"vnd\",\"zar\",\"xdr\"]),J([\"xag\",\"xau\"])]),$l=te({id:oe(),price:pe(ee(),0),marketCap:ne(X(pe(ee(),0))),allTimeHigh:ne(X(pe(ee(),0))),allTimeLow:ne(X(pe(ee(),0))),totalVolume:ne(X(pe(ee(),0))),high1d:ne(X(pe(ee(),0))),low1d:ne(X(pe(ee(),0))),circulatingSupply:ne(X(pe(ee(),0))),dilutedMarketCap:ne(X(pe(ee(),0))),marketCapPercentChange1d:ne(X(ee())),priceChange1d:ne(X(ee())),pricePercentChange1h:ne(X(ee())),pricePercentChange1d:ne(X(ee())),pricePercentChange7d:ne(X(ee())),pricePercentChange14d:ne(X(ee())),pricePercentChange30d:ne(X(ee())),pricePercentChange200d:ne(X(ee())),pricePercentChange1y:ne(X(ee())),bondingCurveProgressPercent:ne(X(ee())),liquidity:ne(X(ee())),totalSupply:ne(X(ee())),holderCount:ne(X(ee())),isMutable:ne(X(H()))}),Dl=re(ti,X($l)),Fl=Ul,ql=te({assetType:ti,timePeriod:ne(me(oe(),/^[1-9][0-9]*[dmy]$/u)),from:ne(pe(ee(),0)),to:ne(pe(ee(),0)),vsCurrency:ne(Fl)}),Wl=te({prices:V(ie([ee(),ee()])),marketCaps:V(ie([ee(),ee()])),totalVolumes:V(ie([ee(),ee()]))}),Kl={prices:[],marketCaps:[],totalVolumes:[]};class Gl{#e;#t;#n;#r;#o;static cacheTtlsMilliseconds={fiatExchangeRates:ri.Minute,spotPrices:ri.Minute,historicalPrices:ri.Minute};constructor(e,t,n=globalThis.fetch,r=zl){const{baseUrl:o,chunkSize:i}=e.get().priceApi;L(o,oc),this.#e=n,this.#t=r,this.#n=o,this.#r=i,this.#o=t}async getFiatExchangeRates(){try{const e=await this.#e(`${this.#n}/v1/exchange-rates/fiat`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw this.#t.error(e,\"Error fetching fiat exchange rates\"),e}}async#i(e,t=\"usd\"){try{if(L(e,V(ti)),L(t,Fl),0===e.length)return{};const n=[...new Set(e)],r=[];for(let e=0;e<n.length;e+=this.#r)r.push(n.slice(e,e+this.#r));const o=await Promise.all(r.map((async e=>{const n=vc({baseUrl:this.#n,path:\"/v3/spot-prices\",queryParams:{vsCurrency:t,assetIds:e.join(\",\"),includeMarketData:\"true\"}}),r=await this.#e(n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();return L(o,Dl),o}))),i=o.reduce(((e,t)=>({...e,...t})),{});return await this.#o.mset(e.map((e=>({key:`PriceApiClient:getMultipleSpotPrices:${e}:${t}`,value:i[e],ttlMilliseconds:Gl.cacheTtlsMilliseconds.spotPrices})))),i}catch(e){throw this.#t.error(e,\"Error fetching spot prices\"),e}}async#a(e,t=\"usd\"){const n=[...new Set(e)],r=\"PriceApiClient:getMultipleSpotPrices\",o=e=>`${r}:${e}:${t}`,i=await this.#o.mget(n.map(o)),a=(0,ci.mapKeys)(i,((e,t)=>(e=>{const t=new RegExp(`^${r}:(.+):(.+)$`,\"u\"),n=e.match(t);if(!n)throw new Error(\"Invalid cache key\");return n})(t)[1])),s=n.filter((e=>void 0===a[e]));if(0===s.length)return a;const c=await this.#i(s,t);return await this.#o.mset(Object.entries(c).map((([e,t])=>({key:o(e),value:t,ttlMilliseconds:Gl.cacheTtlsMilliseconds.spotPrices})))),{...a,...c}}async getMultipleSpotPrices(e,t=\"usd\"){return this.#a(e,t)}async#s(e){L(e,ql);const t=vc({baseUrl:this.#n,path:\"/v3/historical-prices/{assetType}\",pathParams:{assetType:e.assetType},queryParams:{...e.timePeriod&&{timePeriod:e.timePeriod},...e.from&&{from:e.from.toString()},...e.to&&{to:e.to.toString()},...e.vsCurrency&&{vsCurrency:e.vsCurrency}}}),n=await this.#e(t),r=await n.json();return L(r,Wl),r}async getHistoricalPrices(e){return li(this.#s.bind(this),this.#o,{functionName:\"PriceApiClient:getHistoricalPrices\",ttlMilliseconds:Gl.cacheTtlsMilliseconds.historicalPrices})(e)}}const Vl=function(e){if(e.length>=255)throw new TypeError(\"Alphabet too long\");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),o=r.charCodeAt(0);if(255!==t[o])throw new TypeError(r+\" is ambiguous\");t[o]=n}const n=e.length,r=e.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function a(e){if(\"string\"!=typeof e)throw new TypeError(\"Expected String\");if(0===e.length)return new Uint8Array;let i=0,a=0,s=0;for(;e[i]===r;)a++,i++;const c=(e.length-i)*o+1>>>0,u=new Uint8Array(c);for(;e[i];){let r=t[e.charCodeAt(i)];if(255===r)return;let o=0;for(let e=c-1;(0!==r||o<s)&&-1!==e;e--,o++)r+=n*u[e]>>>0,u[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error(\"Non-zero carry\");s=o,i++}let l=c-s;for(;l!==c&&0===u[l];)l++;const f=new Uint8Array(a+(c-l));let d=a;for(;l!==c;)f[d++]=u[l++];return f}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(0===t.length)return\"\";let o=0,a=0,s=0;const c=t.length;for(;s!==c&&0===t[s];)s++,o++;const u=(c-s)*i+1>>>0,l=new Uint8Array(u);for(;s!==c;){let e=t[s],r=0;for(let t=u-1;(0!==e||r<a)&&-1!==t;t--,r++)e+=256*l[t]>>>0,l[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error(\"Non-zero carry\");a=r,s++}let f=u-a;for(;f!==u&&0===l[f];)f++;let d=r.repeat(o);for(;f<u;++f)d+=e.charAt(l[f]);return d},decodeUnsafe:a,decode:function(e){const t=a(e);if(t)return t;throw new Error(\"Non-base\"+n+\" character\")}}};const Hl=Vl(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\");var Jl=n(1048).hp;const Zl={[Zs.Mainnet]:\"mainnet\",[Zs.Devnet]:\"devnet\",[Zs.Testnet]:\"testnet\",[Zs.Localnet]:\"localnet\"};class Yl{#c;#t;constructor(e,t=zl){this.#c=e,this.#t=t}static isMaybeNonFungible(e){const{tokenAmount:t}=e,{decimals:n}=t;return!1}}const Ql=V(te({decimals:Z(),assetId:ti,name:ne(oe()),symbol:ne(oe()),iconUrl:ne(oc)}));class Xl{#e;#t;#n;#r;#u;static supportedNetworks=[Zs.Mainnet,Zs.Devnet];constructor(e,t=globalThis.fetch,n=zl){this.#e=t,this.#t=n;const{tokenApi:r,staticApi:o}=e.get(),{baseUrl:i,chunkSize:a}=r;L(i,oc),this.#n=i,this.#r=a,this.#u=o.baseUrl}async#l(e){L(e,V(ti));const t=vc({baseUrl:this.#n,path:\"/v3/assets\",queryParams:{assetIds:e.join(\",\")}}),n=await this.#e(t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return L(r,Ql),r}async getTokenMetadataFromAddresses(e){try{L(e,V(ti));const t=e.filter((e=>{const{chainId:t}=oi(e);return Xl.supportedNetworks.includes(t)}));t.length!==e.length&&this.#t.warn(`[TokenMetadataClient] Received some asset types on networks that the Token API doesn't support. They will be ignored. Supported networks: ${Xl.supportedNetworks.join(\", \")}`);const n=[];for(let e=0;e<t.length;e+=this.#r)n.push(t.slice(e,e+this.#r));const r=await Promise.all(n.map((async e=>this.#l(e)))),o=new Map;return r.flat().forEach((e=>{var t,n,r,i;const a=null===(t=e)||void 0===t?void 0:t.symbol,s=(null===(n=e)||void 0===n?void 0:n.name)??a,c=null===(r=e)||void 0===r?void 0:r.decimals;a&&s?o.set(e.assetId,{name:s,symbol:a,fungible:!Yl.isMaybeNonFungible({tokenAmount:{decimals:c}}),iconUrl:(null===(i=e)||void 0===i?void 0:i.iconUrl)??vc({baseUrl:this.#u,path:\"/api/v2/tokenIcons/assets/{assetId}.png\",pathParams:{assetId:e.assetId.replace(/:/gu,\"/\")}}),units:[{name:s,symbol:a,decimals:c}]}):this.#t.warn(`No metadata for ${e.assetId}`)})),Object.fromEntries(o)}catch(e){throw this.#t.error(e,\"Error fetching token metadata\"),e}}}const ef=J(Object.values(Zs)),tf=ae({address:oe()}),nf=Y(\"ed25519\"),rf=ae({domain:ne(oe()),address:ne(oe()),statement:ne(oe()),uri:ne(oe()),version:ne(oe()),chainId:ne(oe()),nonce:ne(oe()),issuedAt:ne(oe()),expirationTime:ne(oe()),notBefore:ne(oe()),requestId:ne(oe()),resources:ne(V(oe()))}),of=ae({account:tf,message:gc}),af=J([\"processed\",\"confirmed\",\"finalized\"]),sf=ae({preflightCommitment:ne(af),minContextSlot:ne(ee())}),cf=ae({account:tf,transaction:gc,scope:ef,options:ne(sf)}),uf=ae({...sf.schema,commitment:ne(af),skipPreflight:ne(H()),maxRetries:ne(ee())}),lf=ae({...cf.schema,scope:ef,options:ne(uf)}),ff=te({method:J([qt.SignAndSendTransaction]),params:lf}),df=te({method:J([qt.SignIn]),params:rf}),hf=te({method:J([qt.SignMessage]),params:of}),pf=te({method:J([qt.SignTransaction]),params:cf}),gf=te({signature:pc}),mf=te({signedTransaction:gc}),vf=te({signature:pc,signedMessage:gc,signatureType:nf}),yf=te({account:tf,...vf.schema}),wf=se([ff,df,hf,pf]),bf=me(oe(),/^(?:0x)?[0-9a-f]+$/iu);me(oe(),/^0x[0-9a-f]+$/iu),me(oe(),/^0x[0-9a-f]{40}$/u),me(oe(),/^0x[0-9a-fA-F]{40}$/u);function Af(e){si(function(e){return z(e,bf)}(e),\"Value must be a hexadecimal string.\")}function Sf(e){return e.startsWith(\"0x\")||e.startsWith(\"0X\")?e.substring(2):e}n(1048).hp;const xf=48,Ef=58,_f=87;!function(){const e=[]}();function kf(e){if(\"0x\"===e?.toLowerCase?.())return new Uint8Array;Af(e);const t=Sf(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),o=n.charCodeAt(2*e+1),i=t-(t<Ef?xf:_f),a=o-(o<Ef?xf:_f);r[e]=16*i+a}return r}async function If({entropySource:e,derivationPath:t}){zl.log({derivationPath:t},\"Generating solana wallet\"),L(t,mc);const n=t.split(\"/\");try{const t=await async function({entropySource:e,path:t,curve:n}){return await snap.request({method:\"snap_getBip32Entropy\",params:{path:t,curve:n,...e?{source:e}:{}}})}({entropySource:e,path:n,curve:\"ed25519\"});if(!t.privateKey||!t.publicKey)throw new Error(\"Unable to derive private key\");return{privateKeyBytes:kf(t.privateKey),publicKeyBytes:kf(t.publicKey)}}catch(e){throw zl.error({error:e},\"Error deriving keypair\"),new Error(e)}}const Tf=e=>JSON.parse(JSON.stringify(e),((e,t)=>t?\"undefined\"!==t.__type?\"BigNumber\"===t.__type?new qo(t.value):\"bigint\"===t.__type?BigInt(t.value):t:void 0:t)),Of=e=>(0,ci.cloneDeepWith)(e,(e=>void 0===e?{__type:\"undefined\"}:e instanceof qo?{__type:\"BigNumber\",value:e.toString()}:\"bigint\"==typeof e?{__type:\"bigint\",value:e.toString()}:void 0)),Cf=\"send-form\",Bf=\"confirm-sign-and-send-transaction\";async function Rf(e,t){const n=Of(t);return snap.request({method:\"snap_createInterface\",params:{ui:e,context:n}})}async function jf(e,t,n){const r=Of(n);return snap.request({method:\"snap_updateInterface\",params:{id:e,ui:t,context:r}})}async function Pf(e,t){return snap.request({method:\"snap_resolveInterface\",params:{id:e,value:t}})}async function Nf(e){return snap.request({method:\"snap_dialog\",params:{id:e}})}async function Lf(){return snap.request({method:\"snap_getPreferences\"})}async function Mf(e){const t=await async function(e){const t=await snap.request({method:\"snap_getInterfaceContext\",params:{id:e}});return t?Tf(t):null}(e);if(!t)throw new Error(\"Interface context not found\");return t}function zf(e){return null==e}const Uf=(e,t)=>Object.hasOwnProperty.call(e,t);var $f;!function(e){e[e.Null=4]=\"Null\",e[e.Comma=1]=\"Comma\",e[e.Wrapper=1]=\"Wrapper\",e[e.True=4]=\"True\",e[e.False=5]=\"False\",e[e.Quote=1]=\"Quote\",e[e.Colon=1]=\"Colon\",e[e.Date=24]=\"Date\"}($f=$f||($f={}));const Df=e=>te(e);function Ff({path:e,branch:t}){const n=e[e.length-1];return Uf(t[t.length-2],n)}function qf(e){return new N({...e,type:`optional ${e.type}`,validator:(t,n)=>!Ff(n)||e.validator(t,n),refiner:(t,n)=>!Ff(n)||e.refiner(t,n)})}function Wf(e){if(null===e||\"boolean\"==typeof e||\"string\"==typeof e)return!0;if(\"number\"==typeof e&&Number.isFinite(e))return!0;if(\"object\"==typeof e){let t=!0;if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(!Wf(e[n])){t=!1;break}return t}const n=Object.entries(e);for(let e=0;e<n.length;e++)if(\"string\"!=typeof n[e][0]||!Wf(n[e][1])){t=!1;break}return t}return!1}const Kf=$(\"JSON\",(e=>Wf(e))),Gf=de(Kf,ve(G(),\"JSON\",(e=>z(e,Kf))),(e=>JSON.parse(JSON.stringify(e,((e,t)=>{if(\"__proto__\"!==e&&\"constructor\"!==e)return t})))));const Vf=Y(\"2.0\"),Hf=X(se([ee(),oe()])),Jf=Df({code:Z(),message:oe(),data:qf(Gf),stack:qf(oe())}),Zf=se([re(oe(),Gf),V(Gf)]);Df({id:Hf,jsonrpc:Vf,method:oe(),params:qf(Zf)}),Df({jsonrpc:Vf,method:oe(),params:qf(Zf)});te({id:Hf,jsonrpc:Vf,result:ne(ce()),error:ne(Jf)});const Yf=Df({id:Hf,jsonrpc:Vf,result:Gf}),Qf=Df({id:Hf,jsonrpc:Vf,error:Jf});se([Yf,Qf]);var Xf;!function(e){e.GetGenesisHash=\"getGenesisHash\",e.GetLatestBlockhash=\"getLatestBlockhash\",e.GetMinimumBalanceForRentExemption=\"getMinimumBalanceForRentExemption\"}(Xf||(Xf={}));const ed=te({jsonrpc:Vf,id:Hf,method:Y(Xf.GetGenesisHash),params:ne(V())}),td=te({jsonrpc:Vf,id:Hf,method:Y(Xf.GetLatestBlockhash)}),nd=te({jsonrpc:Vf,id:Hf,method:Y(Xf.GetMinimumBalanceForRentExemption),params:ie([ee(),ne(te())])});var rd;!function(e){e.StartSendTransactionFlow=\"startSendTransactionFlow\",e.GetFeeForTransaction=\"getFeeForTransaction\"}(rd||(rd={}));const od={production:[Zs.Mainnet],local:[Zs.Mainnet,Zs.Devnet],test:[Zs.Localnet]},id=de(V(oc),oe(),(e=>e.split(\",\"))),ad=de(V(oe()),oe(),(e=>e.split(\",\"))),sd=te({ENVIRONMENT:J([\"local\",\"test\",\"production\"]),RPC_URL_MAINNET_LIST:id,RPC_URL_DEVNET_LIST:id,RPC_URL_TESTNET_LIST:id,RPC_URL_LOCALNET_LIST:ad,EXPLORER_BASE_URL:oc,PRICE_API_BASE_URL:oc,TOKEN_API_BASE_URL:oc,STATIC_API_BASE_URL:oc,SECURITY_ALERTS_API_BASE_URL:oc,LOCAL_API_BASE_URL:oe()});class cd{#f;constructor(){const e=this.#d();this.#f=this.#h(e)}#d(){return M({ENVIRONMENT:\"production\",RPC_URL_MAINNET_LIST:\"https://solana-mainnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_URL_DEVNET_LIST:\"https://solana-devnet.infura.io/v3/5b98a22672004ef1bf40a80123c5c48d\",RPC_URL_TESTNET_LIST:\"https://api.testnet.solana.com\",RPC_URL_LOCALNET_LIST:\"http://localhost:8899\",EXPLORER_BASE_URL:\"https://solscan.io\",PRICE_API_BASE_URL:\"https://price.api.cx.metamask.io\",TOKEN_API_BASE_URL:\"https://tokens.api.cx.metamask.io\",STATIC_API_BASE_URL:\"https://static.cx.metamask.io\",SECURITY_ALERTS_API_BASE_URL:\"https://security-alerts.api.cx.metamask.io\",LOCAL_API_BASE_URL:\"http://localhost:8899\"},sd)}#h(e){return{environment:e.ENVIRONMENT,networks:[{...tc[Zs.Mainnet],rpcUrls:e.RPC_URL_MAINNET_LIST},{...tc[Zs.Devnet],rpcUrls:e.RPC_URL_DEVNET_LIST},{...tc[Zs.Testnet],rpcUrls:e.RPC_URL_TESTNET_LIST},{...tc[Zs.Localnet],rpcUrls:e.RPC_URL_LOCALNET_LIST}],explorerBaseUrl:e.EXPLORER_BASE_URL,activeNetworks:od[e.ENVIRONMENT],priceApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.PRICE_API_BASE_URL,chunkSize:50},tokenApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.TOKEN_API_BASE_URL,chunkSize:50},staticApi:{baseUrl:e.STATIC_API_BASE_URL},transactions:{storageLimit:10},securityAlertsApi:{baseUrl:\"test\"===e.ENVIRONMENT?e.LOCAL_API_BASE_URL:e.SECURITY_ALERTS_API_BASE_URL}}}get(){return this.#f}getNetworkBy(e,t){const n=this.get().networks.find((n=>n[e]===t));if(!n)throw new Error(`Network ${e} not found`);return n}}const ud=(new cd).get(),ld=[\"local\",\"test\"].includes(ud.environment),fd=ld?[\"http://localhost:3000\"]:[\"https://portfolio.metamask.io\"],dd=ld?new Set([Jt.ListAccounts,Jt.GetAccount,Jt.CreateAccount,Jt.FilterAccountChains,Jt.DeleteAccount,Jt.DiscoverAccounts,Jt.GetAccountBalances,Jt.SubmitRequest,Jt.ListAccountTransactions,Jt.ListAccountAssets,rd.StartSendTransactionFlow,rd.GetFeeForTransaction,Xf.GetGenesisHash,Xf.GetLatestBlockhash]):new Set([]),hd=new Set([Jt.ListAccounts,Jt.GetAccount,Jt.CreateAccount,Jt.DeleteAccount,Jt.DiscoverAccounts,Jt.GetAccountBalances,Jt.SubmitRequest,Jt.ListAccountTransactions,Jt.ListAccountAssets,Jt.ResolveAccountAddress,rd.StartSendTransactionFlow,rd.GetFeeForTransaction,Xf.GetGenesisHash,Xf.GetLatestBlockhash]),pd=new Map([]);for(const e of fd)pd.set(e,dd);pd.set(\"metamask\",hd);const gd=(e,t)=>{var n;if(!e)throw new Ao(\"Origin not found\");if(!(null===(n=pd.get(e))||void 0===n?void 0:n.has(t)))throw new Ao(\"Permission denied\")};function md(e,t){try{L(e,t)}catch(e){throw new uo(e.message)}}function vd(e,t){try{L(e,t)}catch(e){throw new io(\"Invalid Response\")}}const yd=te({...xt.schema,scope:fc,request:wf}),wd=te({scopes:ge(V(fc)),entropySource:oe(),groupIndex:pe(ee(),0)});function bd(e){const{type:t,id:n,address:r,options:o,methods:i,scopes:a}=e;return{type:t,id:n,address:r,options:o,methods:i,scopes:a}}var Ad,Sd=((Ad=Sd||{})[Ad.Uninitialized=0]=\"Uninitialized\",Ad[Ad.Initialized=1]=\"Initialized\",Ad[Ad.Frozen=2]=\"Frozen\",Ad);var xd,Ed=((xd=Ed||{})[xd.MintTokens=0]=\"MintTokens\",xd[xd.FreezeAccount=1]=\"FreezeAccount\",xd[xd.AccountOwner=2]=\"AccountOwner\",xd[xd.CloseAccount=3]=\"CloseAccount\",xd);var _d,kd=\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\",Id=((_d=Id||{})[_d.CreateAssociatedToken=0]=\"CreateAssociatedToken\",_d[_d.CreateAssociatedTokenIdempotent=1]=\"CreateAssociatedTokenIdempotent\",_d[_d.RecoverNestedAssociatedToken=2]=\"RecoverNestedAssociatedToken\",_d);var Td,Od=\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\",Cd=((Td=Cd||{})[Td.Mint=0]=\"Mint\",Td[Td.Token=1]=\"Token\",Td[Td.Multisig=2]=\"Multisig\",Td);var Bd,Rd=((Bd=Rd||{})[Bd.InitializeMint=0]=\"InitializeMint\",Bd[Bd.InitializeAccount=1]=\"InitializeAccount\",Bd[Bd.InitializeMultisig=2]=\"InitializeMultisig\",Bd[Bd.Transfer=3]=\"Transfer\",Bd[Bd.Approve=4]=\"Approve\",Bd[Bd.Revoke=5]=\"Revoke\",Bd[Bd.SetAuthority=6]=\"SetAuthority\",Bd[Bd.MintTo=7]=\"MintTo\",Bd[Bd.Burn=8]=\"Burn\",Bd[Bd.CloseAccount=9]=\"CloseAccount\",Bd[Bd.FreezeAccount=10]=\"FreezeAccount\",Bd[Bd.ThawAccount=11]=\"ThawAccount\",Bd[Bd.TransferChecked=12]=\"TransferChecked\",Bd[Bd.ApproveChecked=13]=\"ApproveChecked\",Bd[Bd.MintToChecked=14]=\"MintToChecked\",Bd[Bd.BurnChecked=15]=\"BurnChecked\",Bd[Bd.InitializeAccount2=16]=\"InitializeAccount2\",Bd[Bd.SyncNative=17]=\"SyncNative\",Bd[Bd.InitializeAccount3=18]=\"InitializeAccount3\",Bd[Bd.InitializeMultisig2=19]=\"InitializeMultisig2\",Bd[Bd.InitializeMint2=20]=\"InitializeMint2\",Bd[Bd.GetAccountDataSize=21]=\"GetAccountDataSize\",Bd[Bd.InitializeImmutableOwner=22]=\"InitializeImmutableOwner\",Bd[Bd.AmountToUiAmount=23]=\"AmountToUiAmount\",Bd[Bd.UiAmountToAmount=24]=\"UiAmountToAmount\",Bd);function jd(e){if(!e)throw new Error(\"Expected a Address.\");return\"object\"==typeof e&&\"address\"in e?e.address:Array.isArray(e)?e[0]:e}function Pd(e,t){return t=>{if(!t.value)return Object.freeze({address:e,role:wc.READONLY});const n=t.isWritable?wc.WRITABLE:wc.READONLY;return Object.freeze({address:jd(t.value),role:Nd(t.value)?_c(n):n,...Nd(t.value)?{signer:t.value}:{}})}}function Nd(e){return!!e&&\"object\"==typeof e&&\"address\"in e&&hl(e)}async function Ld(e,t={}){const{programAddress:n=\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\"}=t;return await async function({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await Gs({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(e){if(!ja(e,Ni))throw e;n--}throw new Pa(Li)}({programAddress:n,seeds:[Rs().encode(e.owner),Rs().encode(e.tokenProgram),Rs().encode(e.mint)]})}var Md=1;function zd(){return as(ru([[\"discriminator\",Wc()]]),(e=>({...e,discriminator:Md})))}function Ud(e,t){const n=t?.programAddress??kd,r={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};r.tokenProgram.value||(r.tokenProgram.value=\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"),r.systemProgram.value||(r.systemProgram.value=\"11111111111111111111111111111111\");const o=Pd(n);return{accounts:[o(r.payer),o(r.ata),o(r.owner),o(r.mint),o(r.systemProgram),o(r.tokenProgram)],programAddress:n,data:zd().encode({})}}var $d=3;function Dd(){return as(ru([[\"discriminator\",Wc()],[\"amount\",qc()]]),(e=>({...e,discriminator:$d})))}function Fd(e,t){const n=t?.programAddress??Od,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},o={...e},i=(o.multiSigners??[]).map((e=>({address:e.address,role:wc.READONLY_SIGNER,signer:e}))),a=Pd(n);return{accounts:[a(r.source),a(r.destination),a(r.authority),...i],programAddress:n,data:Dd().encode(o)}}function qd(e,t){const n=t.filter((t=>!e.includes(t))),r=e.filter((e=>!t.includes(e)));return{hasDiff:n.length>0||r.length>0,added:n,deleted:r}}function Wd(e,t){const n={added:{},deleted:{},changed:{},hasDiff:!1},r=(e,o,i=\"\")=>{for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const s=i?`${i}.${a}`:a;if(Object.prototype.hasOwnProperty.call(o,a)){if(\"object\"==typeof e[a]&&null!==e[a]&&\"object\"==typeof o[a]&&null!==o[a])r(e[a],o[a],s);else if(e[a]!==o[a]){const e=s.split(\".\")[0];n.changed[e??a]=t[e??a],n.hasDiff=!0}}else n.deleted[s]=e[a],n.hasDiff=!0}for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&!Object.prototype.hasOwnProperty.call(e,t)){const e=i?`${i}.${t}`:t;n.added[e]=o[t],n.hasDiff=!0}};return r(e,t),n}function Kd(e){return e.split(\"/\")[0]}function Gd(e,t){return`${e}/token:${t}`}class Vd{#t;#c;#p;#g;#m;#o;static cacheTtlsMilliseconds={tokenAccountsByOwner:5*ri.Second};constructor({connection:e,logger:t,configProvider:n,state:r,tokenMetadataService:o,cache:i}){this.#t=t,this.#c=e,this.#p=n,this.#g=r,this.#m=o,this.#o=i}async listAccountAssets(e){const{activeNetworks:t}=this.#p.get();return[...t.map((e=>`${e}/${Qs.SOL}`)),...(await this.#v(Bs(e.address),[Od,ec],t)).flatMap((e=>e.assetType))]}async#v(e,t=[Od,ec],n=[Zs.Mainnet]){if(0===t.length||0===n.length)return[];const r=n.flatMap((e=>t.map((t=>({scope:e,programId:t}))))),o=li(this.#y.bind(this),this.#o,{functionName:\"AssetsService:getTokenAccountsByOwner\",ttlMilliseconds:Vd.cacheTtlsMilliseconds.tokenAccountsByOwner});return(await Promise.all(r.map((async({scope:t,programId:n})=>await o(e,n,t))))).flat()}async#y(e,t=Od,n=Zs.Mainnet){return(await this.#c.getRpc(n).getTokenAccountsByOwner(e,{programId:t},{encoding:\"jsonParsed\"}).send()).value.map((e=>({...e,scope:n,assetType:Gd(n,e.account.data.parsed.info.mint)})))}async getAccountBalances(e,t){const n=Bs(e.address),r=await this.#m.getTokensMetadata(t),o=(0,ci.uniq)((0,ci.map)(t,Kd)),i=[Od,ec],a=await this.#v(n,i,o),s={},c=t.map((async e=>{var t,o,i;const{chainId:c}=oi(e);let u;if(e.endsWith(Qs.SOL))u=(await this.#c.getRpc(c).getBalance(n).send()).value;else{const t=a.find((t=>t.assetType===e));u=t?BigInt(t.account.data.parsed.info.tokenAmount.amount):BigInt(0)}const l=r[e],f=function(e,t){return new qo(e.toString()).div(10**t).toFixed()}(u,(null===(o=l)||void 0===o||null===(t=o.units[0])||void 0===t?void 0:t.decimals)??9);s[e]={amount:f,unit:(null===(i=l)||void 0===i?void 0:i.symbol)??\"UNKNOWN\"}}));await Promise.all(c);const u={...await this.#g.getKey(`assets.${e.id}`),...s};return await this.#g.setKey(`assets.${e.id}`,u),s}async refreshAssets(e){if(0===e.length)return void this.#t.info(\"[AssetsService] No accounts found\");this.#t.log(`[AssetsService] Refreshing assets for ${e.length} accounts`);const t=await this.#g.getKey(\"assets\")??{};for(const n of e){this.#t.log(`[AssetsService] Fetching all assets for ${n.address} in all networks`);const e=await this.listAccountAssets(n),r=t[n.id],o=Object.keys(r??{}),i=e??{},{added:a,deleted:s,hasDiff:c}=qd(o,i);c&&(this.#t.info({assetsAdded:a,assetsDeleted:s,assetsChanged:c},`[refreshAssets] Found updated assets for ${n.address}`),await wn(snap,mn.AccountAssetListUpdated,{assets:{[n.id]:{added:a,removed:s}}}));const u=await this.getAccountBalances(n,e),l=t[n.id],{added:f,deleted:d,changed:h,hasDiff:p}=Wd(l??{},u);p&&(this.#t.info({balancesAdded:f,balancesDeleted:d,balancesChanged:h},`[BalancesService] Found updated balances for ${n.address}`),await wn(snap,mn.AccountBalancesUpdated,{balances:{[n.id]:{...f,...h}}}),await this.#g.setKey(`assets.${n.id}`,u))}}}function Hd(e,t,n){if(\"string\"==typeof e)throw new Error(`An HTML element (\"${String(e)}\") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error(\"A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.\");return e({...t,key:n})}function Jd(e,t,n){return Hd(e,t,n)}const Zd='<svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><image width=\"16\" height=\"16\" href=\"data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQUFBQUGBgUICAcICAsKCQkKCxEMDQwNDBEaEBMQEBMQGhcbFhUWGxcpIBwcICkvJyUnLzkzMzlHREddXX0BBQUFBQUFBQYGBQgIBwgICwoJCQoLEQwNDA0MERoQExAQExAaFxsWFRYbFykgHBwgKS8nJScvOTMzOUdER11dff/CABEIAPoA+gMBIgACEQEDEQH/xAA1AAEAAwEBAQEBAAAAAAAAAAAAAQIHBggEBQMBAQADAQEBAQAAAAAAAAAAAAACAwQBBQYH/9oADAMBAAIQAxAAAADxkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACx204cU3mdnnYLG+IQwNvsxhgLfrRh5/egLRh59egkYefXoRCPn6mv5BH2ajuwAAAACZdFZz6/SvzfofWfLWtS2jw7WpNGO01mjJaas+P+k0tRjtNbUY38Leccnq/DxFq5f2ao7cAAAAB+36W8/9p7+DZZxp6nl7LOM3qzbLOMqs2zzjF6suyzjNqqNlnGrU5NkY7zlHP75Wjzv0mg5pAAAAAAs6jqdsMuajacMsam5HLGqORytqkxjlTVbc5lLVpjDKGsfhQlwdb1p3QAAAAAADofSXk7q/cp9MT8n0/cebe1Jpx2tS2fJNqTRkvNLUY7TWaMdqXZ8vnHPvZHmrw/u+JTGL6EAAAAABMDuvQvkLQfo6PQU55P0WLRJztTl0Sc7U5tFnOppzaOzmacujTnSrLo3x8NNFOM8zsuM+H99Aq2AAAAAATMfpWPznbNXOJdqjHi47Wec4l2jnOLdo5zi57JFxrsp5HjadRy9d0CMgAAAAJPqm+j0X8fW/oV82rPvUWRNGObUmjHe1LUZLIUY7TDPk/opk2CP5uPy+U+1qKrwAAAAPo3zPdc+23fu2/BfYXdA/AmjL+/bn1GToZ55Tl6KedmjJ0c87anL0LnuZyUTgH9fm+Q9+Bk0AAAAAAWVdWVFlRZUWVFpo4uoLxV0HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EAEEQAAECAwQHBAgDBgcBAAAAAAECBAADBgURF1UQMUFRkpPSEiFSohYgIjBAYaPiBzLBEyRUYnCRFBVDRYGhstH/2gAIAQEAAT8A/qXdF0XRd8ou9a4R3aOz8AO+KUo95Uc1SyoyGcs+3OIvvPhQDrMYUWPmbzhRGFFj5m74URhRY2Zu+FEYT2NmbvhRGE1jZm84URhNY2ZvOFEYTWNmjzhRGEti5o84URhLYuaPP7IjCWxc0ecKIwksXM3nCiMJLFzN5wojCSxczd/2RGEliZm8/siKt/DthYNkTLRbWlNUqWtIKJwA7Xa8JHwFK0w6qN6EJvQ1lkGfO2AeEb1HZDRq2YNpLVrJTLkyk9lCAO4D9TtJ2nQIv0C/QDAOgGL9Lp22Yt5rl1NTLky03rWrUB+p+W2KyqubUr72SpDOSSJEonzKHiPv6dsB7UT1LduLkJuM2afyy0bzvO4RZdmtbIZSGTRHZlS069qlbVK3k6AYGkQDA0DQDonTpTaVMnTpqUSkJKlrUbkhI1kmK3rJdQuRIaKUiz5BPYB7jMV41CD3++sWx3ltv5LNqm9au9Sj+VCRrUo7hFg2IzsBhLZthftmzCO+Yvao7vkNA0AxfA0A6RAMCCpKUqJUAALySbgBFeVsLXUuzbPWQxQr25m2coH/AMiFa/f0rVK6ZmO1hkiemehIIKuwoFBvFyrjGLByIc89MYsnIxz/ALIxZORjn/ZGLJyMc89MYspyP6/2xi0nIvr/AGxi2nI/r/bGLYyL6/2xi5LyM8/7Yxbl5Gef9sYuSsjPPHTGLkrI1c8dMYuSMjXzh0xi63yRfOHTFR/iO9tpktk1bBpJWLpp7fbWtPh1CCTBJPwN3udfqk6vgKcph7Ui3KW02VKEhIK1zL9atQFwJjCu1szZ+fpjCy18zZ+fpjCu1syZefpjCu1syZefpjCq18yZ+fpjCq18yZ+fpjCm18zZ+fpjCi1s0Z+fpjCe1szZ+fpjCe1s0Z+fpjCa180Z+fpjCa1szZ+fpjCa1szZefpjCW1s0Zefpi36Etan2gdrVKcSAblqlX+wTvBAMKB7ou9/T9vPKffJctriki6bLP5Vo3H9DFl2m1tdlIetV9qXMGralW1KtxGgGAYvgQDoBi+L9A0TZUtxKmSp0tK5cwFK0K7wUnWCIrWjlU+4DltethOPsE95lK8CjB+ApipnVPPAtN62yyBPk7FDeNyhsMNHbZ+2kum04TJMxPaSobR+hG0bIEXwDpB0AwIHqO2rZ+2nNXMlM2TMR2VoVqI/Q7jsisKWn049ISVTGc4kyJvy1lCvmII9+DdFH1VNsB0JThalMJyh+1RrKD40jeIkzpLiVLnSZqZkqYkKQtJvSUnUQdAOi+BF+gHQNA0WjZzO1Wc5m8lCZKmC4jaDsUk7FDYYqWnHtOv1t56SqUq8yJwHctH/ANG2B78G4xR1ZKsLttXiVzGSzeAk3mUraUg6wdojEum9zzkp64xMprc85KeuMTKa8Lzkp64xMprwvOSnrjE2mvC85KeuMTaa8LzlJ64xNprwveSnrjE6mvC95KeuMT6Z3POSnrjE+mdzzlJ6oxOpnc85Q6oxPpjc85SeqMT6YOx5yU9cYn0xue8lPXFY1tYFuWKtk1kT1zzNQpCpqAkIuPeoHtHX8APWv9S+L4vGjVo/4+Bs6zHtquA3ZN1TphBNydgG0k9wEYfVR/Ao5qIw9qj+BRzURh/VWXDmojD6qsuHNRGH1VZcOaiMPqqy4c1EYf1Xlf1ZfVGH9WZX9VHVGH1WZX9WX1Rh9VeWfVl9UYf1blJ5qOqMP6tyo81HVGH1W5T9VHVGH1XZSeajqi0qSt+yGxdPrPXLkhQSV9pKgCd/ZJ+As6z3dpu5LVrKMybMNwA/7JOwDaYpun29PMBIRcufMuLib41bh/KNnq3iL4ECO6Bd6m0d0fiBWMp6ldj2esKkBX7xOGpage5Cd6RtPvhDRrPeOJTeRKVMnTFBKEDWSYpSmJNPNSVkLezUj9rM2Aa+wn5DadI9QQDovgQNAivK2S2TPsezZl80jsOZwP5AdaE/PeYJJ99KlrmrQhAJWSAABeSdwikaTRYklLp0Ap/MRcdolJOwfPeY1QDov0iBoBi+AdNb1l/k6FWcwX+/LR7ax/oAjZ/OYUpSiSSSSbyT3kn39BubFZv5860ZqJc5KB/h1zPyJO0/JW6PSanh/vTXjj0mp7OmvHAqens6a8celFO501449Kacztrxx6U05nbXjj0ppzPGnHHpTTeeNOOPSqnM8accelVN54044FVU3njTjj0rprPWnHAqums8accelVNZ4044qav7PYNDLsp0hy7mC4LR3oljxE7VbhE+dNcTVzpswrmLUVKUokqJOsknWfgAbovMXnfF/wAzHai+L4vMdo747R3x2jvgKO+O18zHa+cXnfBJ/rX/AP/EADQRAAEDAQUFBAkFAAAAAAAAAAIAAQQDBRIUU5IREzBCVBUjMkMGICExM0RQUqIQImFyof/aAAgBAgEBPwD6pTpnVK6A3iT2fJ+z/U8GQ3InhyG5FhqzcqehUbkW7qfYnE25eBTA6piADeIlCgNFD2/ELxIhRCiFEKIUQqq93gWXXs+NT3lQu+/qitWC/m/i6e04b+annxcxFOi5iKZGfmRSo78yORS2ftJETk+1+BRgTK4bylQMhT2XO6U12ZOb5c12dMyDTwJWQawUnKNYORlIo9YG2vS4NkWoUM92fwS/H+UziY3hRCiFEKIUQog2+9S4z0ivD4eDY9rYd9xXLu+UvtRWlA6oEVowepBFPhZ4IpsPPBFMiZ4IpUbNBHXjG2x6oKsICbsBXh4AAVQhAAvES7Om9Kel1gJnSnpdYGY3y56Vg5TeQelYSVkHpWGkZJ6Vh6+UaISF9hD64iREIj73Vh2Jg6bSKw98X4ohRCiFEKIUQqVWCPTvEq1YqxuRev6Nw4Aji5MgN5yARN7EU6D1YamRTYXVBqZFMh9QGpkUqJ1AamRSonUBqZFJi54amVaXGpgRb0FKlHKqXn8PLwNqvOrzra6vP+u36t//xAA2EQABBAEBAwkECwEAAAAAAAACAAEDBAWiEjFDBhETFDAyQkRSICFBkhYjM1BTVGBhcrHB0f/aAAgBAwEBPwD70llCGMpJC2RT5jHtxtLp85jm42l0/KDFtvsaXT8pMS3mdLp+U+HbzOl0/KvCN5vS6+l+Cbfb0uqOQq5KBp6x7Ufd7rt/ftkTA3O+5ZC0dk9lvsxRgjBGCMEYI41hMBLl7PpgDvn/AIq1aGpBHBCGzGDcw+3binmbZDuosbYfwo8VbfhosNdfhamR4PIPwtTIsBkX4GpkfJzKPug1MoOSuSmmAZI+jDxntMqVOvQrhBCGyI6v3fsHkAX95J7ELeNPbr/GVddqNxl1+m3HBPk6Db7QJ8tjvjaBRZOhNIMYWgci7GWPbZHGjBGCMFJGjBOxCTEKwmYG4HQTF9cOrsZYtv3sjryP4UdSV+EjpWH4SPH2X3QGjxlx+AaPE338qaHFZSIwOOuYkKoS2ZawPZi6OT4/97F3ZOYN4l0sbeNl08P4oJ7EDcUF1mv+YD5l1uq3mA+ZkMkcjc4GxD2DROze9GCMFICMEYIwVelJbl2B3KtWjqxDFHub260cXNtmYI3i9aNg9aMWRx86OE/Qjry+hdSnM+ZgVatHWjYQb+X6F//Z\" /></svg>';function Yd(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function Qd(e){return t=>{const{key:n=null,...r}=t;return{type:e,props:Yd(r),key:n}}}const Xd=Qd(\"Container\"),eh=Qd(\"Box\"),th=Qd(\"Heading\"),nh=Qd(\"Text\"),rh=Qd(\"Section\"),oh=Qd(\"Row\"),ih=Qd(\"Address\"),ah=Qd(\"Image\"),sh=Qd(\"Footer\"),ch=Qd(\"Button\");function uh(e,t){return`${e}:${t}`}const lh=JSON.parse('{\"D\":{\"send.title\":{\"message\":\"Send\"},\"send.balance\":{\"message\":\"Balance\"},\"send.maxButton\":{\"message\":\"Max\"},\"send.cancelButton\":{\"message\":\"Cancel\"},\"send.continueButton\":{\"message\":\"Continue\"},\"send.fromField\":{\"message\":\"From\"},\"send.toField\":{\"message\":\"To\"},\"send.amountField\":{\"message\":\"Amount\"},\"send.assetField\":{\"message\":\"Token\"},\"send.toPlaceholder\":{\"message\":\"Enter public address\"},\"send.fromRequiredError\":{\"message\":\"Account is required\"},\"send.amountRequiredError\":{\"message\":\"Amount is required\"},\"send.amountGreatherThanMinimumBalanceForRentExemptionError\":{\"message\":\"Amount must be greater than {minimumValue}\"},\"send.insuffientSolToCoverFee\":{\"message\":\"Insufficient SOL balance to cover the transaction fee\"},\"send.toRequiredError\":{\"message\":\"To address is required\"},\"send.toInvalidError\":{\"message\":\"Invalid Solana address\"},\"send.insufficientBalance\":{\"message\":\"Insufficient balance\"},\"send.simulationTitleAPIError\":{\"message\":\"Because of an error, we couldn\\'t check for security alerts.\"},\"send.simulationMessageAPIError\":{\"message\":\"Only continue if you trust every address involved.\"},\"send.simulationTitleError\":{\"message\":\"Transaction simulation failed\"},\"send.simulationMessageError\":{\"message\":\"This transaction was reverted during simulation.\"},\"send.selectedTokenPriceNotAvailable\":{\"message\":\"Prices for tokens in {currency} are currently not available. You are still able to send tokens.\"},\"send.confirmation.title\":{\"message\":\"Review\"},\"send.confirmation.from\":{\"message\":\"From\"},\"send.confirmation.recipient\":{\"message\":\"Recipient\"},\"send.confirmation.network\":{\"message\":\"Network\"},\"send.confirmation.transactionSpeed\":{\"message\":\"Transaction speed\"},\"send.confirmation.fee\":{\"message\":\"Network fee\"},\"send.confirmation.sendButton\":{\"message\":\"Send\"},\"send.confirmation.cancelButton\":{\"message\":\"Cancel\"},\"send.confirmation.viewTransaction\":{\"message\":\"View transaction\"},\"send.send-pending.title\":{\"message\":\"Sending...\"},\"send.send-pending.subtitle\":{\"message\":\"Your transaction was submitted.\"},\"send.transaction-success.title\":{\"message\":\"Sent\"},\"send.transaction-success.subtitle\":{\"message\":\"{amount} {tokenSymbol} was successfully sent\"},\"send.transaction-failure.title\":{\"message\":\"Transaction failed\"},\"send.transaction-failure.subtitle\":{\"message\":\"Unable to send {amount} {tokenSymbol}\"},\"confirmation.account\":{\"message\":\"Account\"},\"confirmation.network\":{\"message\":\"Network\"},\"confirmation.estimatedChanges\":{\"message\":\"Estimated changes\"},\"confirmation.estimatedChanges.send\":{\"message\":\"You send\"},\"confirmation.estimatedChanges.receive\":{\"message\":\"You receive\"},\"confirmation.estimatedChanges.notAvailable\":{\"message\":\"Not available\"},\"confirmation.estimatedChanges.noChanges\":{\"message\":\"No changes\"},\"confirmation.estimatedChanges.tooltip\":{\"message\":\"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee.\"},\"confirmation.advanced.show\":{\"message\":\"Show advanced\"},\"confirmation.advanced.hide\":{\"message\":\"Hide advanced\"},\"confirmation.cancelButton\":{\"message\":\"Cancel\"},\"confirmation.confirmButton\":{\"message\":\"Confirm\"},\"confirmation.title\":{\"message\":\"Transaction request\"},\"confirmation.advanced.unknownInstruction\":{\"message\":\"Unknown\"},\"confirmation.advanced.programId\":{\"message\":\"Program ID\"},\"confirmation.advanced.data\":{\"message\":\"Data\"},\"confirmation.fee\":{\"message\":\"Network fee\"},\"confirmation.feeError\":{\"message\":\"Unable to estimate fee\"},\"confirmation.origin\":{\"message\":\"Request from\"},\"confirmation.origin.tooltip\":{\"message\":\"This is the site asking for your confirmation.\"},\"confirmation.simulationErrorTitle\":{\"message\":\"This transaction was reverted during simulation.\"},\"confirmation.simulationErrorSubtitle\":{\"message\":\"{reason}\"},\"confirmation.validationErrorTitle\":{\"message\":\"This is a deceptive request\"},\"confirmation.validationErrorSubtitle\":{\"message\":\"If you approve this request, a third party known for scams will take all your assets.\"},\"confirmation.validationErrorLearnMore\":{\"message\":\"Learn more\"},\"confirmation.validationErrorSecurityAdviced\":{\"message\":\"Security advice by\"},\"confirmation.signMessage.title\":{\"message\":\"Sign message\"},\"confirmation.signMessage.message\":{\"message\":\"Message\"},\"confirmation.signIn.title\":{\"message\":\"Sign-in request\"},\"confirmation.signIn.description\":{\"message\":\"A site wants you to sign in to prove you own this account.\"},\"confirmation.signIn.domain\":{\"message\":\"Domain\"},\"confirmation.signIn.unknownDomain\":{\"message\":\"Unknown domain\"},\"confirmation.signIn.signingInWith\":{\"message\":\"Signing in with\"},\"confirmation.signIn.badAccount\":{\"message\":\"This site is asking you to sign in using the wrong account.\"},\"confirmation.signIn.message\":{\"message\":\"Message\"},\"confirmation.signIn.statement\":{\"message\":\"Statement\"},\"confirmation.signIn.version\":{\"message\":\"Version\"},\"confirmation.signIn.chainId\":{\"message\":\"Chain ID\"},\"confirmation.signIn.nonce\":{\"message\":\"Nonce\"},\"confirmation.signIn.issuedAt\":{\"message\":\"Issued at\"},\"confirmation.signIn.expirationTime\":{\"message\":\"Expiration time\"},\"confirmation.signIn.notBefore\":{\"message\":\"Not before\"},\"confirmation.signIn.requestId\":{\"message\":\"Request ID\"},\"confirmation.signIn.resources\":{\"message\":\"Resources\"},\"transactionScan.errors.accountAlreadyInUse\":{\"message\":\"An account with the same address already exists.\"},\"transactionScan.errors.insufficientSol\":{\"message\":\"Account does not have enough SOL to perform the operation.\"},\"transactionScan.errors.slippageToleranceExceeded\":{\"message\":\"The transaction was reverted because the slippage tolerance was exceeded.\"},\"transactionScan.errors.unknownError\":{\"message\":\"An unknown error occurred.\"}}}'),fh=JSON.parse('{\"D\":{\"send.title\":{\"message\":\"Enviar\"},\"send.balance\":{\"message\":\"Saldo\"},\"send.maxButton\":{\"message\":\"Mx.\"},\"send.cancelButton\":{\"message\":\"Cancelar\"},\"send.continueButton\":{\"message\":\"Continuar\"},\"send.fromField\":{\"message\":\"De\"},\"send.toField\":{\"message\":\"Para\"},\"send.amountField\":{\"message\":\"Monto\"},\"send.assetField\":{\"message\":\"Token\"},\"send.toPlaceholder\":{\"message\":\"Introduzca la direccin pblica\"},\"send.fromRequiredError\":{\"message\":\"La cuenta es obligatoria\"},\"send.amountRequiredError\":{\"message\":\"El monto es obligatorio\"},\"send.amountGreatherThanMinimumBalanceForRentExemptionError\":{\"message\":\"El valor debe ser superior a {minimumValue}\"},\"send.insuffientSolToCoverFee\":{\"message\":\"Saldo de SOL insuficiente para cubrir la tarifa de transaccin\"},\"send.toRequiredError\":{\"message\":\"La direccin del destinatario es obligatoria\"},\"send.toInvalidError\":{\"message\":\"Direccin de Solana no vlida\"},\"send.insufficientBalance\":{\"message\":\"Saldo insuficiente\"},\"send.simulationTitleError\":{\"message\":\"Simulacin de transaccin fallida\"},\"send.simulationMessageError\":{\"message\":\"Esta transaccin se revirti durante la simulacin.\"},\"send.selectedTokenPriceNotAvailable\":{\"message\":\"Los precios de los tokens en {currency} no estn disponibles actualmente. An puede enviar tokens.\"},\"send.confirmation.title\":{\"message\":\"Revisar\"},\"send.confirmation.from\":{\"message\":\"De\"},\"send.confirmation.recipient\":{\"message\":\"Destinatario\"},\"send.confirmation.network\":{\"message\":\"Red\"},\"send.confirmation.transactionSpeed\":{\"message\":\"Velocidad de la transaccin\"},\"send.confirmation.fee\":{\"message\":\"Tarifa de red\"},\"send.confirmation.sendButton\":{\"message\":\"Enviar\"},\"send.confirmation.cancelButton\":{\"message\":\"Cancelar\"},\"send.confirmation.viewTransaction\":{\"message\":\"Ver transaccin\"},\"send.send-pending.title\":{\"message\":\"Enviando...\"},\"send.send-pending.subtitle\":{\"message\":\"Se envi su transaccin.\"},\"send.transaction-success.title\":{\"message\":\"Enviado\"},\"send.transaction-success.subtitle\":{\"message\":\"El envo de {amount} {tokenSymbol} se realiz correctamente\"},\"send.transaction-failure.title\":{\"message\":\"Transaccin fallida\"},\"send.transaction-failure.subtitle\":{\"message\":\"Error al enviar {amount} {tokenSymbol}\"},\"confirmation.account\":{\"message\":\"Cuenta\"},\"confirmation.network\":{\"message\":\"Red\"},\"confirmation.estimatedChanges\":{\"message\":\"Cambios estimados\"},\"confirmation.estimatedChanges.send\":{\"message\":\"Usted enva\"},\"confirmation.estimatedChanges.receive\":{\"message\":\"Usted recibe\"},\"confirmation.estimatedChanges.notAvailable\":{\"message\":\"No disponible\"},\"confirmation.estimatedChanges.noChanges\":{\"message\":\"Sin cambios\"},\"confirmation.estimatedChanges.tooltip\":{\"message\":\"Los cambios estimados son los que podran producirse si sigue adelante con esta transaccin. Esto es solo una prediccin, no una garanta.\"},\"confirmation.advanced.show\":{\"message\":\"Mostrar avanzadas\"},\"confirmation.advanced.hide\":{\"message\":\"Ocultar avanzadas\"},\"confirmation.cancelButton\":{\"message\":\"Cancelar\"},\"confirmation.confirmButton\":{\"message\":\"Confirmar\"},\"confirmation.title\":{\"message\":\"Solicitud de transaccin\"},\"confirmation.advanced.unknownInstruction\":{\"message\":\"Desconocida\"},\"confirmation.advanced.programId\":{\"message\":\"ID del programa\"},\"confirmation.advanced.data\":{\"message\":\"Datos\"},\"confirmation.fee\":{\"message\":\"Tarifa de red\"},\"confirmation.feeError\":{\"message\":\"No se puede calcular la tarifa\"},\"confirmation.simulationErrorTitle\":{\"message\":\"Esta transaccin se revirti durante la simulacin.\"},\"confirmation.simulationErrorSubtitle\":{\"message\":\"Motivo: {reason}\"},\"confirmation.validationErrorTitle\":{\"message\":\"Esta es una solicitud engaosa\"},\"confirmation.validationErrorSubtitle\":{\"message\":\"Si aprueba esta solicitud, un tercero conocido por sus estafas se quedar con todos sus activos.\"},\"confirmation.validationErrorLearnMore\":{\"message\":\"Conozca ms\"},\"confirmation.validationErrorSecurityAdviced\":{\"message\":\"Asesoramiento de seguridad por\"},\"confirmation.signMessage.title\":{\"message\":\"Firmar mensaje\"},\"confirmation.signMessage.message\":{\"message\":\"Mensaje\"},\"confirmation.signIn.title\":{\"message\":\"Solicitud de inicio de sesin\"},\"confirmation.signIn.description\":{\"message\":\"Un sitio quiere que inicie sesin para demostrar que usted es el titular de esta cuenta.\"},\"confirmation.signIn.requestFrom\":{\"message\":\"Solicitud de\"},\"confirmation.signIn.unknownDomain\":{\"message\":\"Dominio desconocido\"},\"confirmation.signIn.signingInWith\":{\"message\":\"Iniciar sesin con\"},\"confirmation.signIn.badAccount\":{\"message\":\"Este sitio le pide que inicie sesin con la cuenta incorrecta.\"},\"confirmation.signIn.message\":{\"message\":\"Mensaje\"},\"confirmation.signIn.statement\":{\"message\":\"Declaracin\"},\"confirmation.signIn.version\":{\"message\":\"Versin\"},\"confirmation.signIn.chainId\":{\"message\":\"ID de cadena\"},\"confirmation.signIn.nonce\":{\"message\":\"Nonce\"},\"confirmation.signIn.issuedAt\":{\"message\":\"Emitido a las\"},\"confirmation.signIn.expirationTime\":{\"message\":\"Hora de caducidad\"},\"confirmation.signIn.notBefore\":{\"message\":\"No antes de\"},\"confirmation.signIn.requestId\":{\"message\":\"ID de solicitud\"},\"confirmation.signIn.resources\":{\"message\":\"Recursos\"}}}'),dh={en:lh.D,es:fh.D},hh=\"en\";function ph(e){const t=dh[e]??dh[hh];return(e,n)=>{var r,o;let i=(null===(o=t)||void 0===o||null===(r=o[e])||void 0===r?void 0:r.message)??e;return n&&i&&Object.keys(n).forEach((e=>{const t=new RegExp(`\\\\{${e}\\\\}`,\"gu\");i=i.replace(t,n[e]??\"\")})),i}}const gh=({label:e,value:t})=>null!=t?Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:e}),Hd(nh,{children:t})]}):null,mh=1e-6,vh=3,yh=\"0\",wh=new qo(mh).decimalPlaces();function bh(e,t){const[n]=t.split(\"_\");try{const r=new qo(e);if(r.isNaN())return yh;if(r.isZero())return yh;if(r.abs().lt(mh))return`<${function(e,t){const n=new qo(t),r=n.decimalPlaces(),o=n.toFixed(r??0),[i]=e.split(\"_\"),[a,s]=o.split(\".\"),c=new Intl.NumberFormat(i).format(a);return s?`${c}.${s}`:c}(t,mh)}`;if(r.abs().lt(1))return new Intl.NumberFormat(n,{maximumSignificantDigits:vh}).format(Number(r.toFixed(wh??0)));const o=r.abs().integerValue().toString().length,i=Math.max(0,vh-o+1);return new Intl.NumberFormat(t,{maximumFractionDigits:i}).format(r.toFixed(i))}catch(e){return console.error(e),yh}}function Ah(e,t,n){const r=new qo(e).toNumber(),[o]=n.split(\"_\");return r.toLocaleString(o,{style:\"currency\",currency:t,maximumFractionDigits:2,minimumFractionDigits:2})}const Sh=({asset:e,preferences:t})=>{const n=e.type;return Jd(eh,{direction:\"vertical\",crossAlignment:\"end\",children:[Jd(eh,{direction:\"horizontal\",alignment:\"center\",children:[Jd(nh,{color:\"in\"===n?\"success\":\"error\",children:[\"in\"===n?\"+\":\"-\",bh(e.value??0,t.locale)]}),e.imageSvg?Hd(eh,{alignment:\"center\",center:!0,children:Hd(ah,{borderRadius:\"full\",src:e.imageSvg})}):null,Hd(nh,{children:e.symbol??\"\"})]}),e.price?Hd(nh,{color:\"muted\",children:Ah(e.price.toString(),t.currency,t.locale)}):null]})},xh=Qd(\"Tooltip\");var Eh;!function(e){e.AddSquare=\"add-square\",e.Add=\"add\",e.Arrow2Down=\"arrow-2-down\",e.Arrow2Left=\"arrow-2-left\",e.Arrow2Right=\"arrow-2-right\",e.Arrow2Up=\"arrow-2-up\",e.Arrow2UpRight=\"arrow-2-up-right\",e.ArrowDoubleLeft=\"arrow-double-left\",e.ArrowDoubleRight=\"arrow-double-right\",e.ArrowDown=\"arrow-down\",e.ArrowLeft=\"arrow-left\",e.ArrowRight=\"arrow-right\",e.ArrowUp=\"arrow-up\",e.BankToken=\"bank-token\",e.Bank=\"bank\",e.Book=\"book\",e.Bookmark=\"bookmark\",e.Bridge=\"bridge\",e.Calculator=\"calculator\",e.CardPos=\"card-pos\",e.CardToken=\"card-token\",e.Card=\"card\",e.Category=\"category\",e.Chart=\"chart\",e.CheckBold=\"check-bold\",e.Check=\"check\",e.Clock=\"clock\",e.Close=\"close\",e.CodeCircle=\"code-circle\",e.Coin=\"coin\",e.Confirmation=\"confirmation\",e.Connect=\"connect\",e.CopySuccess=\"copy-success\",e.Copy=\"copy\",e.Customize=\"customize\",e.Danger=\"danger\",e.Dark=\"dark\",e.Data=\"data\",e.Diagram=\"diagram\",e.DocumentCode=\"document-code\",e.DragDrop=\"drag-drop\",e.DraggingAnimation=\"dragging-animation\",e.PinningAnimation=\"pinning-animation\",e.Edit=\"edit\",e.Eraser=\"eraser\",e.Ethereum=\"ethereum\",e.Expand=\"expand\",e.Explore=\"explore\",e.Export=\"export\",e.EyeSlash=\"eye-slash\",e.Eye=\"eye\",e.Filter=\"filter\",e.Flag=\"flag\",e.FlashSlash=\"flash-slash\",e.Flash=\"flash\",e.FullCircle=\"full-circle\",e.Gas=\"gas\",e.GlobalSearch=\"global-search\",e.Global=\"global\",e.Graph=\"graph\",e.Hardware=\"hardware\",e.Heart=\"heart\",e.Hierarchy=\"hierarchy\",e.Home=\"home\",e.Import=\"import\",e.Info=\"info\",e.Key=\"key\",e.Light=\"light\",e.Link=\"link\",e.Loading=\"loading\",e.LockCircle=\"lock-circle\",e.LockSlash=\"lock-slash\",e.Lock=\"lock\",e.Login=\"login\",e.Logout=\"logout\",e.Menu=\"menu\",e.MessageQuestion=\"message-question\",e.Messages=\"messages\",e.MinusBold=\"minus-bold\",e.MinusSquare=\"minus-square\",e.Minus=\"minus\",e.Mobile=\"mobile\",e.Money=\"money\",e.Monitor=\"monitor\",e.MoreHorizontal=\"more-horizontal\",e.MoreVertical=\"more-vertical\",e.NotificationCircle=\"notification-circle\",e.Notification=\"notification\",e.PasswordCheck=\"password-check\",e.People=\"people\",e.Pin=\"pin\",e.ProgrammingArrows=\"programming-arrows\",e.Custody=\"custody\",e.Question=\"question\",e.Received=\"received\",e.Refresh=\"refresh\",e.Save=\"save\",e.ScanBarcode=\"scan-barcode\",e.ScanFocus=\"scan-focus\",e.Scan=\"scan\",e.Scroll=\"scroll\",e.Search=\"search\",e.SecurityCard=\"security-card\",e.SecurityCross=\"security-cross\",e.SecurityKey=\"security-key\",e.SecuritySearch=\"security-search\",e.SecuritySlash=\"security-slash\",e.SecurityTick=\"security-tick\",e.SecurityTime=\"security-time\",e.SecurityUser=\"security-user\",e.Security=\"security\",e.Send1=\"send-1\",e.Send2=\"send-2\",e.Setting=\"setting\",e.Slash=\"slash\",e.SnapsMobile=\"snaps-mobile\",e.SnapsPlus=\"snaps-plus\",e.Snaps=\"snaps\",e.Speedometer=\"speedometer\",e.Star=\"star\",e.Stake=\"stake\",e.Student=\"student\",e.SwapHorizontal=\"swap-horizontal\",e.SwapVertical=\"swap-vertical\",e.Tag=\"tag\",e.Tilde=\"tilde\",e.Timer=\"timer\",e.Trash=\"trash\",e.TrendDown=\"trend-down\",e.TrendUp=\"trend-up\",e.UserCircleAdd=\"user-circle-add\",e.UserCircleLink=\"user-circle-link\",e.UserCircleRemove=\"user-circle-remove\",e.UserCircle=\"user-circle\",e.User=\"user\",e.WalletCard=\"wallet-card\",e.WalletMoney=\"wallet-money\",e.Wallet=\"wallet\",e.Warning=\"warning\",e.Twitter=\"twitter\",e.QrCode=\"qr-code\",e.UserCheck=\"user-check\",e.Unpin=\"unpin\",e.Ban=\"ban\",e.Bold=\"bold\",e.CircleX=\"circle-x\",e.Download=\"download\",e.FileIcon=\"file\",e.Flask=\"flask\",e.Plug=\"plug\",e.Share=\"share\",e.Square=\"square\",e.Tint=\"tint\",e.Upload=\"upload\",e.Usb=\"usb\",e.Wifi=\"wifi\",e.PlusMinus=\"plus-minus\"}(Eh||(Eh={}));const _h=Qd(\"Icon\"),kh=({preferences:e})=>{const t=ph(e.locale);return Jd(eh,{direction:\"horizontal\",center:!0,children:[Hd(nh,{fontWeight:\"medium\",children:t(\"confirmation.estimatedChanges\")}),Hd(xh,{content:t(\"confirmation.estimatedChanges.tooltip\"),children:Hd(_h,{name:\"info\"})})]})},Ih=Qd(\"Skeleton\"),Th=({preferences:e})=>{const t=ph(e.locale);return Jd(rh,{direction:\"vertical\",children:[Hd(kh,{preferences:e}),Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:t(\"confirmation.estimatedChanges.send\")}),Hd(eh,{children:Jd(eh,{direction:\"vertical\",crossAlignment:\"end\",children:[Hd(Ih,{width:100,height:20}),Hd(Ih,{width:40,height:20})]})})]}),Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:t(\"confirmation.estimatedChanges.receive\")}),Hd(eh,{children:Jd(eh,{direction:\"vertical\",crossAlignment:\"end\",children:[Hd(Ih,{width:100,height:20}),Hd(Ih,{width:40,height:20})]})})]})]})},Oh=({changes:e,preferences:t,scanFetchStatus:n,scanStatus:r})=>{var o,i,a,s,c,u;const l=ph(t.locale),f=\"fetched\"===n,d=\"error\"===n;if(\"fetching\"===n)return Hd(Th,{preferences:t});if(d||f&&\"ERROR\"===r)return Jd(rh,{direction:\"vertical\",children:[Hd(kh,{preferences:t}),Hd(nh,{color:\"alternative\",children:l(\"confirmation.estimatedChanges.notAvailable\")})]});const h=(null===(o=e)||void 0===o?void 0:o.assets.filter((e=>\"out\"===e.type)))??[],p=(null===(i=e)||void 0===i?void 0:i.assets.filter((e=>\"in\"===e.type)))??[],g=h.length>0||p.length>0;return Jd(rh,f&&!g?{direction:\"vertical\",children:[Hd(kh,{preferences:t}),Hd(nh,{color:\"alternative\",children:l(\"confirmation.estimatedChanges.noChanges\")})]}:{children:[Hd(kh,{preferences:t}),(null===(a=h)||void 0===a?void 0:a.length)>0?Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.estimatedChanges.send\")}),Hd(eh,{children:Hd(eh,{children:null===(s=h)||void 0===s?void 0:s.map((e=>Hd(Sh,{asset:e,preferences:t})))})})]}):null,Hd(eh,{children:null}),(null===(c=p)||void 0===c?void 0:c.length)>0?Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.estimatedChanges.receive\")}),Hd(eh,{children:Hd(eh,{children:null===(u=p)||void 0===u?void 0:u.map((e=>Hd(Sh,{asset:e,preferences:t})))})})]}):null]})};var Ch;!function(e){e.Cancel=\"confirm-sign-in-cancel\",e.Confirm=\"confirm-sign-in-confirm\"}(Ch||(Ch={}));const Bh={[Ch.Cancel]:async function({id:e}){await Pf(e,!1)},[Ch.Confirm]:async function({id:e}){await Pf(e,!0)}},Rh=({params:e,origin:t,account:n,scope:r,preferences:o,networkImage:i})=>{const a=ph(o.locale),s=t?new URL(t).hostname:null,{domain:c,statement:u,uri:l,version:f,chainId:d,nonce:h,issuedAt:p,expirationTime:g,notBefore:m,requestId:v,resources:y,address:w}=e,b=uh(r,n.address),A=w?uh(r,w):null,S=A!==b;return Jd(Xd,{children:[Jd(eh,{children:[Jd(eh,{alignment:\"center\",center:!0,children:[Hd(eh,{children:null}),Hd(th,{size:\"lg\",children:a(\"confirmation.signIn.title\")}),Hd(nh,{color:\"muted\",alignment:\"center\",children:a(\"confirmation.signIn.description\")})]}),o.simulateOnChainActions?Hd(Oh,{changes:null,scanStatus:null,preferences:o,scanFetchStatus:\"fetched\"}):null,Jd(rh,{children:[s?Hd(oh,{label:a(\"confirmation.origin\"),tooltip:a(\"confirmation.origin.tooltip\"),children:Hd(nh,{children:s})}):null,Hd(oh,{label:a(\"confirmation.signIn.domain\"),children:Hd(nh,{children:c??a(\"confirmation.signIn.unknownDomain\")})}),Hd(oh,{label:a(\"confirmation.signIn.signingInWith\"),tooltip:S?a(\"confirmation.signIn.badAccount\"):void 0,variant:S?\"warning\":\"default\",children:Hd(ih,{address:b,truncate:!0,displayName:!0,avatar:!0})})]}),Jd(rh,{children:[Hd(nh,{fontWeight:\"medium\",children:a(\"confirmation.signIn.message\")}),Hd(nh,{children:u??\"\"}),Hd(gh,{label:\"URL\",value:l}),Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.network\")}),Jd(eh,{direction:\"horizontal\",alignment:\"center\",children:[Hd(eh,{alignment:\"center\",center:!0,children:Hd(ah,{borderRadius:\"medium\",src:i??Zd})}),Hd(nh,{children:tc[r].name})]})]}),A?Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.account\")}),Hd(ih,{address:A,truncate:!0,displayName:!0,avatar:!0})]}):null,Hd(gh,{label:a(\"confirmation.signIn.version\"),value:f}),Hd(gh,{label:a(\"confirmation.signIn.chainId\"),value:d}),Hd(gh,{label:a(\"confirmation.signIn.nonce\"),value:h}),Hd(gh,{label:a(\"confirmation.signIn.issuedAt\"),value:p}),Hd(gh,{label:a(\"confirmation.signIn.expirationTime\"),value:g}),Hd(gh,{label:a(\"confirmation.signIn.notBefore\"),value:m}),Hd(gh,{label:a(\"confirmation.signIn.requestId\"),value:v}),y&&y.length>0?Jd(eh,{alignment:\"space-between\",direction:\"vertical\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.signIn.resources\")}),Hd(eh,{direction:\"vertical\",children:y.map((e=>Hd(nh,{children:e},e)))})]}):null]})]}),Jd(sh,{children:[Hd(ch,{name:Ch.Cancel,children:a(\"confirmation.cancelButton\")}),Hd(ch,{name:Ch.Confirm,children:a(\"confirmation.confirmButton\")})]})]})};var jh;!function(e){e.Cancel=\"confirm-sign-message-cancel\",e.Confirm=\"confirm-sign-message-confirm\"}(jh||(jh={}));const Ph={[jh.Cancel]:async function({id:e}){await Pf(e,!1)},[jh.Confirm]:async function({id:e}){await Pf(e,!0)}},Nh=({message:e,account:t,scope:n,locale:r,networkImage:o,origin:i})=>{const a=ph(r),{address:s}=t,c=i?new URL(i).hostname:null,u=uh(n,s);return Jd(Xd,{children:[Jd(eh,{children:[Jd(eh,{alignment:\"center\",center:!0,children:[Hd(eh,{children:null}),Hd(th,{size:\"lg\",children:a(\"confirmation.signMessage.title\")})]}),Jd(rh,{children:[Hd(eh,{direction:\"horizontal\",center:!0,children:Hd(nh,{fontWeight:\"medium\",children:a(\"confirmation.signMessage.message\")})}),Hd(eh,{alignment:\"space-between\",children:Hd(nh,{children:e})})]}),Jd(rh,{children:[c?Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",center:!0,children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.origin\")}),Hd(xh,{content:a(\"confirmation.origin.tooltip\"),children:Hd(_h,{name:\"question\",color:\"muted\"})})]}),Hd(nh,{children:c})]}):null,Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.account\")}),Hd(ih,{address:u,truncate:!0,displayName:!0,avatar:!0})]}),Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:a(\"confirmation.network\")}),Jd(eh,{direction:\"horizontal\",alignment:\"center\",children:[Hd(eh,{alignment:\"center\",center:!0,children:Hd(ah,{borderRadius:\"medium\",src:o??Zd})}),Hd(nh,{children:tc[n].name})]})]})]})]}),Jd(sh,{children:[Hd(ch,{name:jh.Cancel,children:a(\"confirmation.cancelButton\")}),Hd(ch,{name:jh.Confirm,children:a(\"confirmation.confirmButton\")})]})]})};const Lh=e=>qo(e.toString()).dividedBy(Js),Mh=e=>qo(e.toString()).multipliedBy(Js).integerValue(qo.ROUND_DOWN);function zh(e){return e.length>12?`${e.slice(0,5)}...${e.slice(-5)}`:e}var Uh;!function(e){e.ShowAdvanced=\"confirm-sign-and-send-transaction-show-advanced\",e.Cancel=\"confirm-sign-and-send-transaction-cancel\",e.Confirm=\"confirm-sign-and-send-transaction-confirm\"}(Uh||(Uh={}));const $h={[Uh.ShowAdvanced]:async function({id:e,context:t}){const n={...t,advanced:{...t.advanced,shown:!t.advanced.shown}};await jf(e,Hd(Xh,{context:n}),n)},[Uh.Cancel]:async function({id:e}){await Pf(e,!1)},[Uh.Confirm]:async function({id:e}){await Pf(e,!0)}},Dh=Qd(\"Link\");function Fh(e,t,n){const{cluster:r}=tc[e];return vc({baseUrl:\"https://solscan.io\",path:`/${t}/${n}`,queryParams:r?{cluster:r}:void 0})}const qh=({programId:e,data:t,scope:n,locale:r})=>{const o=ph(r);return Jd(rh,{alignment:\"start\",children:[Hd(nh,{color:\"alternative\",fontWeight:\"bold\",children:o(\"confirmation.advanced.unknownInstruction\")}),Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{color:\"alternative\",alignment:\"start\",children:o(\"confirmation.advanced.programId\")}),Hd(Dh,{href:Fh(n,\"address\",e),children:Hd(ih,{avatar:!1,address:uh(n,e),truncate:!0})})]}),Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{color:\"alternative\",children:o(\"confirmation.advanced.data\")}),Hd(nh,{children:zh(t)})]})]})},Wh=({instructions:e,showInstructions:t,locale:n,scope:r})=>{const o=ph(n),i=t?\"hide\":\"show\",a=t?\"arrow-up\":\"arrow-down\";return Jd(eh,{alignment:\"start\",children:[Jd(ch,{name:Uh.ShowAdvanced,children:[o(`confirmation.advanced.${i}`),\"&nbsp;\",Hd(_h,{name:a,color:\"primary\"})]}),t&&Hd(eh,{children:e.map((e=>Hd(qh,{locale:n,scope:r,...e})))})]})},Kh=Qd(\"Banner\"),Gh={AccountAlreadyInUse:\"transactionScan.errors.accountAlreadyInUse\",ResultWithNegativeLamports:\"transactionScan.errors.insufficientSol\",SlippageToleranceExceeded:\"transactionScan.errors.slippageToleranceExceeded\",ExceededDesiredSlippageLimit:\"transactionScan.errors.slippageToleranceExceeded\"};function Vh(e,t){const n=ph(t.locale),{code:r}=e;if(!r)return n(\"transactionScan.errors.unknownError\");return n(Gh[r]??\"transactionScan.errors.unknownError\")}const Hh={Malicious:\"danger\",Warning:\"warning\"},Jh=({preferences:e,validation:t,error:n,scanFetchStatus:r})=>{var o;const i=ph(e.locale);if(\"error\"===r)return Hd(Kh,{title:i(\"send.simulationTitleAPIError\"),severity:\"danger\",children:Hd(nh,{children:i(\"send.simulationMessageAPIError\")})});if(!n&&!t)return Hd(eh,{children:null});if(n)return Hd(Kh,{title:i(\"confirmation.simulationErrorTitle\"),severity:\"warning\",children:Hd(nh,{children:i(\"confirmation.simulationErrorSubtitle\",{reason:Vh(n,e)})})});if(!t)return Hd(eh,{children:null});const a=Hh[null===(o=t)||void 0===o?void 0:o.type];return a?Jd(Kh,{title:i(\"confirmation.validationErrorTitle\"),severity:a,children:[Hd(nh,{children:i(\"confirmation.validationErrorSubtitle\")}),Hd(nh,{size:\"sm\",children:Hd(Dh,{href:\"https://support.metamask.io/configure/wallet/how-to-turn-on-security-alerts/\",children:i(\"confirmation.validationErrorLearnMore\")})}),Jd(nh,{size:\"sm\",children:[Hd(_h,{color:\"primary\",name:\"security-tick\"}),\" \",i(\"confirmation.validationErrorSecurityAdviced\"),\" \",Hd(Dh,{href:\"https://www.blockaid.io\",children:\"Blockaid\"})]})]}):Hd(eh,{children:null})};function Zh(e,t,n){return`${bh(e,n)} ${t}`}function Yh(e,t){return new qo(e).multipliedBy(t).toString()}const Qh=({origin:e,accountAddress:t,scope:n,feeInSol:r,nativePrice:o,fetchingPricesStatus:i,preferences:a,networkImage:s})=>{const{currency:c,locale:u}=a,l=ph(u),f=e?new URL(e).hostname:null,d=\"fetching\"===i,h=r&&o&&!(\"error\"===i)?Ah(Yh(r,o),c,u):\"\";return Jd(rh,{children:[f?Jd(eh,{children:[Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",center:!0,children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.origin\")}),Hd(xh,{content:l(\"confirmation.origin.tooltip\"),children:Hd(_h,{name:\"question\",color:\"muted\"})})]}),Hd(nh,{children:f})]}),Hd(eh,{children:null})]}):null,Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.account\")}),Hd(ih,{address:uh(n,t),truncate:!0,displayName:!0,avatar:!0})]}),Hd(eh,{children:null}),Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.network\")}),Jd(eh,{direction:\"horizontal\",alignment:\"center\",children:[Hd(eh,{alignment:\"center\",center:!0,children:Hd(ah,{borderRadius:\"medium\",src:s??\"\"})}),Hd(nh,{children:tc[n].name})]})]}),Hd(eh,{children:null}),Jd(eh,{alignment:\"space-between\",direction:\"horizontal\",children:[Hd(nh,{fontWeight:\"medium\",color:\"alternative\",children:l(\"confirmation.fee\")}),r?Jd(eh,{direction:\"horizontal\",alignment:\"center\",children:[d?Hd(Ih,{width:80}):Hd(nh,{color:\"muted\",children:h}),Hd(nh,{children:Zh(r,tc[n].nativeToken.symbol,u)})]}):Hd(xh,{content:l(\"confirmation.feeError\"),children:Hd(_h,{name:\"warning\"})})]})]})},Xh=({context:e})=>{var t,n,r,o,i,a,s;const c=ph(e.preferences.locale),u=e.feeEstimatedInSol,{nativeToken:l}=tc[e.scope],f=(null===(t=e.tokenPrices[l.caip19Id])||void 0===t?void 0:t.price)??null,d=\"fetching\"===e.scanFetchStatus||\"ERROR\"===(null===(n=e.scan)||void 0===n?void 0:n.status);return Jd(Xd,{children:[Jd(eh,{children:[e.preferences.useSecurityAlerts?Hd(Jh,{scanFetchStatus:e.scanFetchStatus,validation:(null===(r=e.scan)||void 0===r?void 0:r.validation)??null,error:(null===(o=e.scan)||void 0===o?void 0:o.error)??null,preferences:e.preferences}):null,Jd(eh,{alignment:\"center\",center:!0,children:[Hd(eh,{children:null}),Hd(th,{size:\"lg\",children:c(\"confirmation.title\")}),Hd(eh,{children:null})]}),e.preferences.simulateOnChainActions?Hd(Oh,{scanStatus:(null===(i=e.scan)||void 0===i?void 0:i.status)??null,scanFetchStatus:e.scanFetchStatus,changes:(null===(a=e.scan)||void 0===a?void 0:a.estimatedChanges)??null,preferences:e.preferences}):null,Hd(Qh,{accountAddress:(null===(s=e.account)||void 0===s?void 0:s.address)??null,scope:e.scope,feeInSol:u,nativePrice:f,fetchingPricesStatus:e.tokenPricesFetchStatus,preferences:e.preferences,networkImage:e.networkImage,origin:e.origin}),Hd(Wh,{instructions:e.advanced.instructions,showInstructions:e.advanced.shown,locale:e.preferences.locale,scope:e.scope})]}),Jd(sh,{children:[Hd(ch,{name:Uh.Cancel,children:c(\"confirmation.cancelButton\")}),Hd(ch,{name:Uh.Confirm,disabled:d,children:c(\"confirmation.confirmButton\")})]})]})},ep={method:qt.SignAndSendTransaction,scope:Zs.Mainnet,networkImage:Zd,account:null,transaction:\"\",scan:null,scanFetchStatus:\"fetching\",feeEstimatedInSol:\"0\",tokenPrices:{},tokenPricesFetchStatus:\"fetching\",origin:\"\",preferences:{locale:\"en\",currency:\"usd\",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},advanced:{shown:!1,instructions:[]}};async function tp(e){const t={...ep,...e},n=Lf().then((e=>{t.preferences=e})).catch((()=>{t.preferences=ep.preferences})),r=Rm.extractInstructionsFromUnknownBase64String(t.transaction,t.scope).then((e=>{t.advanced.instructions=function(e){const t=[];return e.forEach((e=>{var n;t.push({programId:e.programAddress,data:Hl.encode((null===(n=e)||void 0===n?void 0:n.data)?new Uint8Array(e.data):new Uint8Array)})})),t}(e)})).catch((e=>{console.error(e),t.advanced.instructions=[]}));await Promise.all([n,r]);const{currency:o,useExternalPricingData:i,useSecurityAlerts:a,simulateOnChainActions:s}=t.preferences,c=await Rf(Hd(Xh,{context:t}),t),u=Nf(c),l={...t},f=[tc[t.scope].nativeToken.caip19Id];let d;i?d=Lm.getMultipleSpotPrices(f,o).then((e=>{l.tokenPrices=e,l.tokenPricesFetchStatus=\"fetched\"})).catch((()=>{l.tokenPricesFetchStatus=\"error\"})):(l.tokenPricesFetchStatus=\"fetched\",l.tokenPrices={});const h=Rm.getFeeFromBase64StringInLamports(t.transaction,l.scope).then((e=>{l.feeEstimatedInSol=e?Lh(e).toString():null})).catch((()=>{l.feeEstimatedInSol=null}));await Promise.all([d,h]),await jf(c,Hd(Xh,{context:l}),l);const p={...l},g=[];if(s&&g.push(\"simulation\"),a&&g.push(\"validation\"),s||a){var m;const e=Fm.scanTransaction({method:p.method,accountAddress:(null===(m=p.account)||void 0===m?void 0:m.address)??\"\",transaction:p.transaction,scope:p.scope,origin:p.origin,options:g}).then((async e=>{p.scanFetchStatus=\"fetched\",p.scan=e})).catch((()=>{p.scan=null,p.scanFetchStatus=\"error\"}));await Promise.all([e])}else p.scanFetchStatus=\"fetched\",p.scan=null;return await jf(c,Hd(Xh,{context:p}),p),await Om.setKey(`mapInterfaceNameToId.${Bf}`,c),u}var np;!function(e){e.OnTransactionAdded=\"onTransactionAdded\",e.OnTransactionApproved=\"onTransactionApproved\",e.OnTransactionSubmitted=\"onTransactionSubmitted\",e.OnTransactionFinalized=\"onTransactionFinalized\",e.OnTransactionRejected=\"onTransactionRejected\",e.OnSignTransaction=\"onSignTransaction\",e.OnAccountsRefresh=\"onAccountsRefresh\"}(np||(np={}));function rp(e){return JSON.parse(function(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let o=!1;if(\"\\\\\"===e[r]&&(t.push(e[r++]),o=!o),'\"'!==e[r]){if(!n){const n=op(e,r);if(n?.length){r+=n.length-1,n.match(/\\.|[eE]-/)?t.push(n):t.push(ip(n));continue}}t.push(e[r])}else t.push(e[r]),o||(n=!n)}return t.join(\"\")}(e),((e,t)=>function(e){return!!e&&\"object\"==typeof e&&\"$n\"in e&&\"string\"==typeof e.$n}(t)?function({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}(t):t))}function op(e,t){if(!e[t]?.match(/[-\\d]/))return null;const n=e.slice(t).match(/^-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/);return n?n[0]:null}function ip(e){return`{\"$n\":\"${e}\"}`}var ap=0n;function sp(){const e=ap;return ap++,e.toString()}function cp(e){return function(e){return new Proxy(e.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get:(t,n,r)=>function(...o){const i=n.toString(),a=Reflect.get(t,i,r);if(!a)throw new Pa(Ta,{method:i,params:o});const s=a(...o);return function({transport:e},t){return{send:async n=>await t.execute({signal:n?.abortSignal,transport:e})}}(e,s)}})}(e)}function up(e){return new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...t){const[n,r]=t,o=r.toString();return function(...t){const n=Object.freeze({methodName:o,params:t}),r=e?.requestTransformer?e?.requestTransformer(n):n;return Object.freeze({execute:async({signal:t,transport:n})=>{const o=function(e){return{id:sp(),jsonrpc:\"2.0\",method:e.methodName,params:e.params}}(r),i=await n({payload:o,signal:t});return e?.responseTransformer?e.responseTransformer(i,r):i}})}}})}function lp(e){return null!=e&&\"object\"==typeof e&&!Array.isArray(e)&&(\"jsonrpc\"in e&&\"2.0\"===e.jsonrpc&&\"method\"in e&&\"string\"==typeof e.method&&\"params\"in e)}var fp={};function dp(e){return function t(n,r){if(Array.isArray(n))return n.map(((e,n)=>{const o={...r,keyPath:[...r.keyPath,n]};return t(e,o)}));if(\"object\"==typeof n&&null!==n){const e={};for(const o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;const i={...r,keyPath:[...r.keyPath,o]};e[o]=t(n[o],i)}return e}return e.reduce(((e,t)=>t(e,r)),n)}}function hp(e,t){return n=>{const r=dp(e);return Object.freeze({...n,params:r(n.params,t)})}}function pp(e){return\"bigint\"==typeof e?Number(e):e}function gp({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const o=t[n];if(void 0===o||o&&\"object\"==typeof o&&!Array.isArray(o))if(o&&e in o){if(!o[e]||\"finalized\"===o[e]){const r=[...t],{[e]:i,...a}=o;return Object.keys(a).length>0?r[n]=a:n===r.length-1?r.length--:r[n]=void 0,r}}else if(\"finalized\"!==r){const i=[...t];return i[n]={...o,[e]:r},i}return t}function mp(e){return(t,{keyPath:n})=>(\"bigint\"==typeof t&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}var vp={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function yp(e){const t=e?.onIntegerOverflow;return n=>{return lu(n,t?(r=t,e=>hp([mp(((...t)=>r(e,...t)))],{keyPath:[]})(e)):e=>e,hp([pp],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:o}=n;if(!Array.isArray(r))return n;const i=t[o];return null==i?n:Object.freeze({methodName:o,params:gp({commitmentPropertyName:\"sendTransaction\"===o?\"preflightCommitment\":\"commitment\",optionsObjectPositionInParams:i,overrideCommitment:e,params:r})})}}({defaultCommitment:e?.defaultCommitment,optionsObjectPositionByMethod:vp}));var r}}function wp(e){return t=[bp(e)],n={keyPath:[]},e=>dp(t)(e,n);var t,n}function bp(e){return function(t,{keyPath:n}){return\"number\"==typeof t&&Number.isInteger(t)||\"bigint\"==typeof t?function(e,t){return t.some((t=>{if(t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--){const r=e[n],o=t[n];if(o!==r&&(o!==fp||\"number\"!=typeof r))return!1}return!0}))}(n,e)?Number(t):BigInt(t):t}}function Ap(e){return(t,n)=>{const r=n.methodName,o=e?.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return lu(t,(e=>(e=>{const t=e;if(\"error\"in t)throw Da(t.error);return t})(e)),(e=>e.result),(e=>wp(o??[])(e,n)))}}var Sp,xp=[[\"data\",\"parsed\",\"info\",\"tokenAmount\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"tokenAmount\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"rentExemptReserve\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"rentExemptReserve\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"delegatedAmount\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"delegatedAmount\",\"uiAmount\"],[\"data\",\"parsed\",\"info\",\"extensions\",fp,\"state\",\"olderTransferFee\",\"transferFeeBasisPoints\"],[\"data\",\"parsed\",\"info\",\"extensions\",fp,\"state\",\"newerTransferFee\",\"transferFeeBasisPoints\"],[\"data\",\"parsed\",\"info\",\"extensions\",fp,\"state\",\"preUpdateAverageRate\"],[\"data\",\"parsed\",\"info\",\"extensions\",fp,\"state\",\"currentRate\"]],Ep=[...xp,[\"data\",\"parsed\",\"info\",\"lastExtendedSlotStartIndex\"],[\"data\",\"parsed\",\"info\",\"slashPenalty\"],[\"data\",\"parsed\",\"info\",\"warmupCooldownRate\"],[\"data\",\"parsed\",\"info\",\"decimals\"],[\"data\",\"parsed\",\"info\",\"numRequiredSigners\"],[\"data\",\"parsed\",\"info\",\"numValidSigners\"],[\"data\",\"parsed\",\"info\",\"stake\",\"delegation\",\"warmupCooldownRate\"],[\"data\",\"parsed\",\"info\",\"exemptionThreshold\"],[\"data\",\"parsed\",\"info\",\"burnPercent\"],[\"data\",\"parsed\",\"info\",\"commission\"],[\"data\",\"parsed\",\"info\",\"votes\",fp,\"confirmationCount\"]],_p=[[\"index\"],[\"instructions\",fp,\"accounts\",fp],[\"instructions\",fp,\"programIdIndex\"],[\"instructions\",fp,\"stackHeight\"]],kp=[[\"addressTableLookups\",fp,\"writableIndexes\",fp],[\"addressTableLookups\",fp,\"readonlyIndexes\",fp],[\"header\",\"numReadonlySignedAccounts\"],[\"header\",\"numReadonlyUnsignedAccounts\"],[\"header\",\"numRequiredSignatures\"],[\"instructions\",fp,\"accounts\",fp],[\"instructions\",fp,\"programIdIndex\"],[\"instructions\",fp,\"stackHeight\"]];function Ip(e){return up({requestTransformer:yp(e),responseTransformer:Ap({allowedNumericKeyPaths:Tp()})})}function Tp(){return Sp||(Sp={getAccountInfo:Ep.map((e=>[\"value\",...e])),getBlock:[[\"transactions\",fp,\"meta\",\"preTokenBalances\",fp,\"accountIndex\"],[\"transactions\",fp,\"meta\",\"preTokenBalances\",fp,\"uiTokenAmount\",\"decimals\"],[\"transactions\",fp,\"meta\",\"postTokenBalances\",fp,\"accountIndex\"],[\"transactions\",fp,\"meta\",\"postTokenBalances\",fp,\"uiTokenAmount\",\"decimals\"],[\"transactions\",fp,\"meta\",\"rewards\",fp,\"commission\"],..._p.map((e=>[\"transactions\",fp,\"meta\",\"innerInstructions\",fp,...e])),...kp.map((e=>[\"transactions\",fp,\"transaction\",\"message\",...e])),[\"rewards\",fp,\"commission\"]],getClusterNodes:[[fp,\"featureSet\"],[fp,\"shredVersion\"]],getInflationGovernor:[[\"initial\"],[\"foundation\"],[\"foundationTerm\"],[\"taper\"],[\"terminal\"]],getInflationRate:[[\"foundation\"],[\"total\"],[\"validator\"]],getInflationReward:[[fp,\"commission\"]],getMultipleAccounts:Ep.map((e=>[\"value\",fp,...e])),getProgramAccounts:Ep.flatMap((e=>[[\"value\",fp,\"account\",...e],[fp,\"account\",...e]])),getRecentPerformanceSamples:[[fp,\"samplePeriodSecs\"]],getTokenAccountBalance:[[\"value\",\"decimals\"],[\"value\",\"uiAmount\"]],getTokenAccountsByDelegate:xp.map((e=>[\"value\",fp,\"account\",...e])),getTokenAccountsByOwner:xp.map((e=>[\"value\",fp,\"account\",...e])),getTokenLargestAccounts:[[\"value\",fp,\"decimals\"],[\"value\",fp,\"uiAmount\"]],getTokenSupply:[[\"value\",\"decimals\"],[\"value\",\"uiAmount\"]],getTransaction:[[\"meta\",\"preTokenBalances\",fp,\"accountIndex\"],[\"meta\",\"preTokenBalances\",fp,\"uiTokenAmount\",\"decimals\"],[\"meta\",\"postTokenBalances\",fp,\"accountIndex\"],[\"meta\",\"postTokenBalances\",fp,\"uiTokenAmount\",\"decimals\"],[\"meta\",\"rewards\",fp,\"commission\"],..._p.map((e=>[\"meta\",\"innerInstructions\",fp,...e])),...kp.map((e=>[\"transaction\",\"message\",...e]))],getVersion:[[\"feature-set\"]],getVoteAccounts:[[\"current\",fp,\"commission\"],[\"delinquent\",fp,\"commission\"]],simulateTransaction:[...Ep.map((e=>[\"value\",\"accounts\",fp,...e])),..._p.map((e=>[\"value\",\"innerInstructions\",fp,...e]))]}),Sp}Object.assign({\"accept-charset\":!0,\"access-control-request-headers\":!0,\"access-control-request-method\":!0,connection:!0,\"content-length\":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,\"keep-alive\":!0,origin:!0,\"permissions-policy\":!0,referer:!0,te:!0,trailer:!0,\"transfer-encoding\":!0,upgrade:!0,via:!0},{\"accept-encoding\":!0});var Op=[\"getAccountInfo\",\"getBalance\",\"getBlock\",\"getBlockCommitment\",\"getBlockHeight\",\"getBlockProduction\",\"getBlocks\",\"getBlocksWithLimit\",\"getBlockTime\",\"getClusterNodes\",\"getEpochInfo\",\"getEpochSchedule\",\"getFeeForMessage\",\"getFirstAvailableBlock\",\"getGenesisHash\",\"getHealth\",\"getHighestSnapshotSlot\",\"getIdentity\",\"getInflationGovernor\",\"getInflationRate\",\"getInflationReward\",\"getLargestAccounts\",\"getLatestBlockhash\",\"getLeaderSchedule\",\"getMaxRetransmitSlot\",\"getMaxShredInsertSlot\",\"getMinimumBalanceForRentExemption\",\"getMultipleAccounts\",\"getProgramAccounts\",\"getRecentPerformanceSamples\",\"getRecentPrioritizationFees\",\"getSignaturesForAddress\",\"getSignatureStatuses\",\"getSlot\",\"getSlotLeader\",\"getSlotLeaders\",\"getStakeMinimumDelegation\",\"getSupply\",\"getTokenAccountBalance\",\"getTokenAccountsByDelegate\",\"getTokenAccountsByOwner\",\"getTokenLargestAccounts\",\"getTokenSupply\",\"getTransaction\",\"getTransactionCount\",\"getVersion\",\"getVoteAccounts\",\"index\",\"isBlockhashValid\",\"minimumLedgerSlot\",\"requestAirdrop\",\"sendTransaction\",\"simulateTransaction\"];function Cp(e){return lp(e)&&Op.includes(e.method)}function Bp(e){return function(e){const{fromJson:t,headers:n,toJson:r,url:o}=e,i=n&&function(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}(n);return async function({payload:e,signal:n}){const a=r?r(e):JSON.stringify(e),s={body:a,headers:{...i,accept:\"application/json\",\"content-length\":a.length.toString(),\"content-type\":\"application/json; charset=utf-8\"},method:\"POST\",signal:n},c=await fetch(o,s);if(!c.ok)throw new Pa(Ia,{headers:c.headers,message:c.statusText,statusCode:c.status});return t?t(await c.text(),e):await c.json()}}({...e,fromJson:(e,t)=>Cp(t)?rp(e):JSON.parse(e),toJson:e=>{return Cp(e)?(t=e,function(e){return e.replace(/\\{\\s*\"\\$n\"\\s*:\\s*\"(-?\\d+)\"\\s*\\}/g,\"$1\")}(JSON.stringify(t,((e,t)=>\"bigint\"==typeof t?function(e){return{$n:`${e}`}}(t):t),n))):JSON.stringify(e);var t,n}})}var Rp=Object.prototype.toString,jp=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function Pp(e,t){let n,r,o,i,a,s,c;if(!0===e)return\"true\";if(!1===e)return\"false\";switch(typeof e){case\"object\":if(null===e)return null;if(\"toJSON\"in e&&\"function\"==typeof e.toJSON)return Pp(e.toJSON(),t);if(c=Rp.call(e),\"[object Array]\"===c){for(o=\"[\",r=e.length-1,n=0;n<r;n++)o+=Pp(e[n],!0)+\",\";return r>-1&&(o+=Pp(e[n],!0)),o+\"]\"}if(\"[object Object]\"===c){for(i=jp(e).sort(),r=i.length,o=\"\",n=0;n<r;)a=i[n],s=Pp(e[a],!1),void 0!==s&&(o&&(o+=\",\"),o+=JSON.stringify(a)+\":\"+s),n++;return\"{\"+o+\"}\"}return JSON.stringify(e);case\"function\":case\"undefined\":return t?null:void 0;case\"bigint\":return`${e.toString()}n`;case\"string\":return JSON.stringify(e);default:return isFinite(e)?e:null}}function Np(e){const t=Pp(e,!1);if(void 0!==t)return\"\"+t}function Lp(e,t,n){let r=\"\";if(\"number\"==typeof t[0]){const e=t[0]+1,n=e%10,o=e%100;r=1==n&&11!=o?e+\"st\":2==n&&12!=o?e+\"nd\":3==n&&13!=o?e+\"rd\":e+\"th\"}else r=`\\`${t[0].toString()}\\``;const o=t.length>1?t.slice(1).map((e=>\"number\"==typeof e?`[${e}]`:e)).join(\".\"):void 0,i=new Pa(ka,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:o?` at path \\`${o}\\``:\"\",value:n,...void 0!==o?{path:o}:void 0});return Na(i,Lp),i}var Mp,zp={defaultCommitment:\"confirmed\",onIntegerOverflow(e,t,n){throw Lp(e.methodName,t,n)}},Up=globalThis.AbortController;function $p(e){return lp(e)?Np([e.method,e.params]):void 0}function Dp(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function Fp(e){return lu(Bp({...e,headers:{...!1,...e.headers?Dp(e.headers):void 0,\"solana-client\":\"js/2.1.0\"}}),(e=>function(e,t){let n;return async function(r){const{payload:o,signal:i}=r,a=t(o);if(void 0===a)return await e(r);if(n||(queueMicrotask((()=>{n=void 0})),n={}),null==n[a]){const t=new Up,o=(async()=>{try{return await e({...r,signal:t.signal})}catch(e){if(e===(Mp||={}))return;throw e}})();n[a]={abortController:t,numConsumers:0,responsePromise:o}}const s=n[a];if(s.numConsumers++,i){const e=s.responsePromise;return await new Promise(((t,n)=>{const r=e=>{i.removeEventListener(\"abort\",r),s.numConsumers-=1,queueMicrotask((()=>{0===s.numConsumers&&s.abortController.abort(Mp||={})})),n(e.target.reason)};i.addEventListener(\"abort\",r),e.then(t).catch(n).finally((()=>{i.removeEventListener(\"abort\",r)}))}))}return await s.responsePromise}}(e,$p)))}function qp(e){return cp({api:Ip(zp),transport:e})}const Wp=[\"getTransaction\",\"getSignaturesForAddress\"],Kp=e=>{const t=Fp({url:e}),n=Fp({url:e,headers:{\"x-bigtable\":\"disabled\"}});return async(...e)=>{const{payload:r}=e[0],{method:o}=r,i=Wp.includes(o);return zl.info(`[ ToggleInfuraBigtableLookupsTransport] RPC method is ${o}. ${i?\"Enabling\":\"Disabling\"} BigTable lookups.`),i?t(...e):n(...e)}},Gp=e=>async(...t)=>{let n;const r=e.length;for(const[o,i]of e.entries())try{return zl.info(`[ FailoverTransport] Attempting to use transport ${o+1} of ${r}`),await i(...t)}catch(e){n=e;const t=o===r-1;zl.error(`[ FailoverTransport] Transport failed: ${e}. ${t?\"No more transports to try.\":\"Trying next transport...\"}`)}throw n};async function Vp(e){return new Promise((t=>setTimeout(t,e)))}const Hp=e=>async(...t)=>{const{payload:n}=t[0],{method:r}=n;let o;for(let n=0;n<4;n++)try{return zl.info(`[ RetryingTransport] Attempt \"${r}\" ${n+1} of 4`),await e(...t)}catch(e){if(zl.error(`[ RetryingTransport] Error during attempt \"${r}\" ${n+1} of 4: ${e}`),o=e,n<3){const e=(i=n,Math.min(400*Math.pow(2,i),1500));zl.info(`[ RetryingTransport] Sleeping for ${e}ms`),await Vp(e)}}var i;throw o};function Jp(e){return!(\"exists\"in e)||\"exists\"in e&&e.exists}function Zp(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=bs().encode(t.data[0]);return Object.freeze({...Qp(t),address:e,data:n,exists:!0})}function Yp(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=t.data.parsed.info;return Object.freeze({...Qp(t),address:e,data:n,exists:!0})}function Qp(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}var Xp=\"ComputeBudget111111111111111111111111111111\",eg={blockhash:\"11111111111111111111111111111111\",lastValidBlockHeight:0n},tg=2;function ng(e){return function(e,t){return e.programAddress===t}(e,Xp)&&function(e){return void 0!==e.data}(e)&&e.data[0]===tg}async function rg({abortSignal:e,rpc:t,transactionMessage:n,...r}){const o=Ju(n);let i;i=o||fu(n)?n:du(eg,n);const a=n.instructions.findIndex(ng),s=function(e){const t=new Uint8Array(5);return t[0]=tg,Dc().write(e,t,1),Object.freeze({data:t,programAddress:Xp})}(14e5);if(-1===a)i=Yu(s,i);else{const e=[...i.instructions];e.splice(a,1,s),i=Object.freeze({...i,instructions:e})}const c=cl(il(i));try{const{value:{err:n,unitsConsumed:i}}=await t.simulateTransaction(c,{...r,encoding:\"base64\",replaceRecentBlockhash:!o,sigVerify:!1}).send({abortSignal:e});if(null==i)throw new Pa(la);const a=i>4294967295n?4294967295:Number(i);if(n)throw new Pa(fa,{cause:n,unitsConsumed:a});return a}catch(e){if(ja(e,fa))throw e;throw new Pa(la,{cause:e})}}function og({rpc:e}){return async function(t,n){return await rg({...n,rpc:e,transactionMessage:t})}}async function ig(e,t,n){if(0===e.length)return{};const r=await async function(e,t,n={}){const{abortSignal:r,...o}=n;return(await e.getMultipleAccounts(t,{...o,encoding:\"jsonParsed\"}).send({abortSignal:r})).value.map(((e,n)=>e&&\"object\"==typeof e&&\"parsed\"in e.data?Yp(t[n],e):Zp(t[n],e)))}(t,e,n);return function(e){const t=e.filter((e=>Jp(e)&&e.data instanceof Uint8Array));if(t.length>0){const e=t.map((e=>e.address));throw new Pa(zi,{addresses:e})}}(r),function(e){const t=e.filter((e=>!e.exists));if(t.length>0){const e=t.map((e=>e.address));throw new Pa(Mi,{addresses:e})}}(r),r.reduce(((e,t)=>({...e,[t.address]:t.data.addresses})),{})}async function ag(e,t,n){const r=(\"addressTableLookups\"in e&&void 0!==e.addressTableLookups&&e.addressTableLookups.length>0?e.addressTableLookups:[]).map((e=>e.lookupTableAddress)),{lastValidBlockHeight:o,...i}=n??{};return el(e,{addressesByLookupTableAddress:r.length>0?await ig(r,t,i):{},lastValidBlockHeight:o})}function sg(e,t){return!t?.preflightCommitment&&function(e,t){return e===t?0:su(e)<su(t)?-1:1}(e,\"finalized\")<0?{...t,preflightCommitment:e}:t}async function cg({abortSignal:e,commitment:t,rpc:n,transaction:r,...o}){const i=cl(r);return await n.sendTransaction(i,{...sg(t,o),encoding:\"base64\"}).send({abortSignal:e})}const ug=async(e,t,n)=>lu(e,bs().encode,Nu().decode,(async e=>ag(e,t,n))),lg=async(e,t,n)=>lu(e,Nu().decode,(async e=>ag(e,t,n))),fg=async e=>lu(e,bs().encode,rl().decode),dg=async(e,t,n)=>(async e=>new Promise(((t,n)=>{if(0===e.length)return void n(new AggregateError([],\"No promises to resolve\"));let r=0;const o=[];e.forEach(((i,a)=>{Promise.resolve(i).then((e=>t(e)),(t=>{o[a]=t,r+=1,r===e.length&&n(new AggregateError(o,\"All promises rejected\"))}))}))})))([fg(e),ug(e,t,n)]);var hg,pg=\"ComputeBudget111111111111111111111111111111\",gg=((hg=gg||{})[hg.RequestUnits=0]=\"RequestUnits\",hg[hg.RequestHeapFrame=1]=\"RequestHeapFrame\",hg[hg.SetComputeUnitLimit=2]=\"SetComputeUnitLimit\",hg[hg.SetComputeUnitPrice=3]=\"SetComputeUnitPrice\",hg[hg.SetLoadedAccountsDataSizeLimit=4]=\"SetLoadedAccountsDataSizeLimit\",hg);function mg(e){const t=\"data\"in e?e.data:e;if(qa(t,Wc().encode(0),0))return 0;if(qa(t,Wc().encode(1),0))return 1;if(qa(t,Wc().encode(2),0))return 2;if(qa(t,Wc().encode(3),0))return 3;if(qa(t,Wc().encode(4),0))return 4;throw new Error(\"The provided instruction could not be identified as a computeBudget instruction.\")}var vg=2;function yg(){return as(ru([[\"discriminator\",Wc()],[\"units\",Dc()]]),(e=>({...e,discriminator:vg})))}function wg(e,t){const n={...e};return{programAddress:t?.programAddress??pg,data:yg().encode(n)}}var bg=3;function Ag(){return as(ru([[\"discriminator\",Wc()],[\"microLamports\",qc()]]),(e=>({...e,discriminator:bg})))}function Sg(e,t){const n={...e};return{programAddress:t?.programAddress??pg,data:Ag().encode(n)}}const xg=(e,t)=>(e=>Boolean(e.feePayer))(t)?t:Zu(e,t),Eg=e=>e.programAddress===pg&&mg({data:new Uint8Array,...e})===gg.SetComputeUnitPrice,_g=e=>e.instructions.filter(Boolean).some(Eg),kg=e=>e.programAddress===pg&&mg({data:new Uint8Array,...e})===gg.SetComputeUnitLimit,Ig=e=>e.instructions.filter(Boolean).some(kg);class Tg{#c;#t;static defaultComputeUnitPriceInMicroLamportsPerComputeUnit=10000n;constructor(e,t){this.#c=e,this.#t=t}async getLatestBlockhash(e){try{return(await this.#c.getRpc(e).getLatestBlockhash().send()).value}catch(e){throw this.#t.error(e),e}}async getComputeUnitEstimate(e,t){const n=og({rpc:this.#c.getRpc(t)});return await n(e)}async getFeeFromBase64StringInLamports(e,t){try{L(e,gc);const n=await dg(e,this.#c.getRpc(t)),r=\"instructions\"in n?e:Ss().decode(n.messageBytes),o=this.#c.getRpc(t),i=await o.getFeeForMessage(r,{commitment:\"confirmed\"}).send();return this.#t.log(`Transaction is estimated to cost ${i.value} lamports`),i.value}catch(e){return this.#t.error(e),null}}async waitForTransactionCommitment(e,t,n){L(e,pc);const r=this.#c.getRpc(n);return async function(e,t){var n,r;const o=(null===(n=t)||void 0===n?void 0:n.maxAttempts)??10,i=(null===(r=t)||void 0===r?void 0:r.delayMs)??1e3;let a=0;for(;a<o;)try{return await e()}catch(e){if(a+=1,a===o)throw e;await new Promise((e=>setTimeout(e,i)))}throw new Error(\"Unreachable\")}((async()=>{this.#t.log(` Checking if transaction ${e} has reached commitment level ${t}`);const n=await r.getTransaction(Cc(e),{commitment:t,maxSupportedTransactionVersion:0}).send();if(n)return this.#t.log(` Transaction ${e} has reached commitment level ${t}`),n;const o=` Transaction with signature ${e} not found or has not yet reached requested commitment level: ${t}`;throw this.#t.warn(o),new Error(o)}),{delayMs:200})}async partiallySignBase64String(e,t,n,r){const o=this.#c.getRpc(n),i=await dg(e,o,r);if(\"instructions\"in i)return this.#w(i,t,n);if(Object.values(i.signatures).every((e=>!e))){const{messageBytes:e}=i,a=await lg(e,o,r);return this.#w(a,t,n)}return this.#b(i,t)}async#w(e,t,n){const{privateKeyBytes:r}=await If({entropySource:t.entropySource,derivationPath:t.derivationPath}),o=await yl(r),i=fu(e)?e.lifetimeConstraint:await this.getLatestBlockhash(n),a=_g(e),s=Tg.defaultComputeUnitPriceInMicroLamportsPerComputeUnit,c=!Ig(e)||!a,u=await lu(e,(e=>xg(o.address,e)),(e=>{return t=i,fu(n=e)?n:du(t,n);var t,n}),(e=>((e,t,n)=>_g(e)?e:Xu([Sg(t,n)],e))(e,{microLamports:s})),(async e=>c?(async(e,t,n)=>{try{var r,o;const i=e.instructions.filter(Boolean),a=og({rpc:t}),s=await a(e,null===(r=n)||void 0===r?void 0:r.getComputeUnitEstimateConfig).catch((e=>{if(ja(e,fa))return e.context.unitsConsumed;throw e}));return{...(0,ci.cloneDeep)(e),instructions:[...i.filter((e=>!kg(e))),wg({units:s},null===(o=n)||void 0===o?void 0:o.getSetComputeUnitLimitInstructionConfig)]}}catch(t){return e}})(e,this.#c.getRpc(n)):e)),l=ml([o],u);return await bl(l)}async#b(e,t){const{privateKeyBytes:n}=await If({entropySource:t.entropySource,derivationPath:t.derivationPath});return al([await Rc(n)],e)}async extractInstructionsFromUnknownBase64String(e,t){const n=this.#c.getRpc(t),r=await dg(e,n);if(\"instructions\"in r)return r.instructions;return(await lg(r.messageBytes,n)).instructions}}Error;function Og(e){return function(e){return function(e){return\"object\"==typeof e&&null!==e&&\"message\"in e}(e)&&\"string\"==typeof e.message?e.message:null==e?\"\":String(e)}(e).replace(/\\.$/u,\"\")}function Cg(e,t){return n=e,Boolean(\"string\"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class Bg extends Error{constructor(e){super(e.message),this.code=\"ERR_ASSERTION\"}}function Rg(e,t=\"Assertion failed.\",n=Bg){if(!e){if(t instanceof Error)throw t;throw Cg(n,t)}}function jg(e,t,n=\"Assertion failed\",r=Bg){try{_r(e,t)}catch(e){throw Cg(r,`${n}: ${Og(e)}.`)}}function Pg(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Ng(...e){const t=(e,t)=>n=>e(t(n)),n=Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),r=e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0);return{encode:n,decode:r}}function Lg(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"alphabet.encode input should be an array of numbers\");return t.map((t=>{if(Pg(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"alphabet.decode input should be array of strings\");return t.map((t=>{if(\"string\"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: \"${t}\". Allowed: ${e}`);return n}))}}}function Mg(e=\"\"){if(\"string\"!=typeof e)throw new Error(\"join separator should be string\");return{encode:t=>{if(!Array.isArray(t)||t.length&&\"string\"!=typeof t[0])throw new Error(\"join.encode input should be array of strings\");for(let e of t)if(\"string\"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if(\"string\"!=typeof t)throw new Error(\"join.decode input should be string\");return t.split(e)}}}function zg(e,t=\"=\"){if(Pg(e),\"string\"!=typeof t)throw new Error(\"padding chr should be string\");return{encode(n){if(!Array.isArray(n)||n.length&&\"string\"!=typeof n[0])throw new Error(\"padding.encode input should be array of strings\");for(let e of n)if(\"string\"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&\"string\"!=typeof n[0])throw new Error(\"padding.encode input should be array of strings\");for(let e of n)if(\"string\"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error(\"Invalid padding: string should have whole number of bytes\");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error(\"Invalid padding: string has too much padding\");return n.slice(0,r)}}}function Ug(e){if(\"function\"!=typeof e)throw new Error(\"normalize fn should be function\");return{encode:e=>e,decode:t=>e(t)}}function $g(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error(\"convertRadix: data should be array\");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(Pg(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,a=!0;for(let o=r;o<i.length;o++){const s=i[o],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error(\"convertRadix: carry overflow\");e=c%n;const u=Math.floor(c/n);if(i[o]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error(\"convertRadix: carry overflow\");a&&(u?a=!1:r=o)}if(o.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}const Dg=(e,t)=>t?Dg(t,e%t):e,Fg=(e,t)=>e+(t-Dg(e,t));function qg(e,t,n,r){if(!Array.isArray(e))throw new Error(\"convertRadix2: data should be array\");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Fg(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Fg(t,n)}`);let o=0,i=0;const a=2**n-1,s=[];for(const r of e){if(Pg(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(o=o<<t|r,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)s.push((o>>i-n&a)>>>0);o&=2**i-1}if(o=o<<n-i&a,!r&&i>=t)throw new Error(\"Excess padding\");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&s.push(o>>>0),s}function Wg(e){return Pg(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error(\"radix.encode input should be Uint8Array\");return $g(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&\"number\"!=typeof t[0])throw new Error(\"radix.decode input should be array of strings\");return Uint8Array.from($g(t,e,256))}}}function Kg(e,t=!1){if(Pg(e),e<=0||e>32)throw new Error(\"radix2: bits should be in (0..32]\");if(Fg(8,e)>32||Fg(e,8)>32)throw new Error(\"radix2: carry overflow\");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error(\"radix2.encode input should be Uint8Array\");return qg(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&\"number\"!=typeof n[0])throw new Error(\"radix2.decode input should be array of strings\");return Uint8Array.from(qg(n,e,8,t))}}}Ng(Kg(4),Lg(\"0123456789ABCDEF\"),Mg(\"\")),Ng(Kg(5),Lg(\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\"),zg(5),Mg(\"\")),Ng(Kg(5),Lg(\"0123456789ABCDEFGHIJKLMNOPQRSTUV\"),zg(5),Mg(\"\")),Ng(Kg(5),Lg(\"0123456789ABCDEFGHJKMNPQRSTVWXYZ\"),Mg(\"\"),Ug((e=>e.toUpperCase().replace(/O/g,\"0\").replace(/[IL]/g,\"1\"))));const Gg=Ng(Kg(6),Lg(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"),zg(6),Mg(\"\")),Vg=(Ng(Kg(6),Lg(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"),zg(6),Mg(\"\")),Ng(Kg(6),Lg(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"),Mg(\"\")),e=>Ng(Wg(58),Lg(e),Mg(\"\")));Vg(\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"),Ng(Lg(\"qpzry9x8gf2tvdw0s3jn54khce6mua7l\"),Mg(\"\"));Ng(Kg(4),Lg(\"0123456789abcdef\"),Mg(\"\"),Ug((e=>{if(\"string\"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));n(1048).hp;!function(){const e=[]}();function Hg(e){return e instanceof Uint8Array}function Jg(e){Rg(Hg(e),\"Value must be a Uint8Array.\")}class Zg extends TypeError{constructor(e,t){let n;const{message:r,explanation:o,...i}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(\".\")} -- ${r}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function Yg(e){return\"object\"==typeof e&&null!==e}function Qg(e){return\"symbol\"==typeof e?e.toString():\"string\"==typeof e?JSON.stringify(e):`${e}`}function Xg(e,t,n,r){if(!0===e)return;!1===e?e={}:\"string\"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \\`${a}\\`${s?` with refinement \\`${s}\\``:\"\"}, but received: \\`${Qg(r)}\\``}=e;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*em(e,t,n,r){(function(e){return Yg(e)&&\"function\"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=Xg(o,t,n,r);e&&(yield e)}}function*tm(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(e=t.coercer(e,s),a&&\"type\"!==t.type&&Yg(t.schema)&&Yg(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=\"valid\";for(const r of t.validator(e,s))r.explanation=n.message,c=\"not_valid\",yield[r,void 0];for(let[u,l,f]of t.entries(e,s)){const t=tm(l,f,{path:void 0===u?r:[...r,u],branch:void 0===u?o:[...o,l],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?\"not_valid\":\"not_refined\",yield[n[0],void 0]):i&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Yg(e)&&(void 0!==l||u in e)&&(e[u]=l))}if(\"not_valid\"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c=\"not_refined\",yield[r,void 0];\"valid\"===c&&(yield[void 0,e])}class nm{constructor(e){const{type:t,schema:n,validator:r,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>em(r(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>em(o(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=im(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return function(e,t,n){const r=im(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}is(e){return function(e,t){const n=im(e,t);return!n[0]}(e,this)}mask(e,t){return function(e,t,n){const r=im(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return im(e,this,t)}}const rm=\"EXACT_OPTIONAL\";class om extends nm{constructor(e){super({...e,type:`exact optional ${e.type}`}),this.brand=rm}static isExactOptional(e){return Yg(e)&&\"brand\"in e&&e.brand===rm}}function im(e,t,n={}){const r=tm(e,t,n),o=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(o[0]){return[new Zg(o[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function am(){return lm(\"never\",(()=>!1))}function sm(e){const t=e?Object.keys(e):[],n=am();return new nm({type:\"object\",schema:e??null,*entries(r){if(e&&Yg(r)){const o=new Set(Object.keys(r));for(const n of t){o.delete(n);const t=e[n];om.isExactOptional(t)&&!Object.prototype.hasOwnProperty.call(r,n)||(yield[n,r[n],e[n]])}for(const e of o)yield[e,r[e],n]}},validator:e=>Yg(e)||`Expected an object, but received: ${Qg(e)}`,coercer:e=>Yg(e)?{...e}:e})}function cm(){return lm(\"string\",(e=>\"string\"==typeof e||`Expected a string, but received: ${Qg(e)}`))}function um(...e){const t=\"type\"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?function(e){const t=Object.keys(e);return new nm({type:\"type\",schema:e,*entries(n){if(Yg(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>Yg(e)||`Expected an object, but received: ${Qg(e)}`,coercer:e=>Yg(e)?{...e}:e})}(r):sm(r)}function lm(e,t){return new nm({type:e,schema:null,validator:t})}function fm(e){return lm(JSON.stringify(e),function(e){const t=Qg(e),n=typeof e;return new nm({type:\"literal\",schema:\"string\"===n||\"number\"===n||\"boolean\"===n?e:null,validator:n=>n===e||`Expected the literal \\`${t}\\`, but received: ${Qg(n)}`})}(e).validator)}function dm(e,t,n){return new nm({...e,*refiner(r,o){yield*e.refiner(r,o);const i=em(n(r,o),o,e,r);for(const e of i)yield{...e,refinement:t}}})}var hm;!function(e){e.Copyable=\"copyable\",e.Divider=\"divider\",e.Heading=\"heading\",e.Panel=\"panel\",e.Spinner=\"spinner\",e.Text=\"text\",e.Image=\"image\",e.Row=\"row\",e.Address=\"address\",e.Button=\"button\",e.Input=\"input\",e.Form=\"form\"}(hm||(hm={}));const pm=sm({type:cm()}),gm=(um(pm,sm({value:lm(\"unknown\",(()=>!0))})),um(pm,sm({type:fm(hm.Image),value:dm(cm(),\"SVG\",(e=>!!e.includes(\"<svg\")||\"Value is not a valid SVG.\"))}))),mm=function(e,t,n=[]){return(...r)=>{if(1===r.length&&function(e){if(\"object\"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}(r[0])){const n={...r[0],type:e};return jg(n,t,`Invalid ${e} component`),n}const o=n.reduce(((e,t,n)=>void 0!==r[n]?{...e,[t]:r[n]}:e),{type:e});return jg(o,t,`Invalid ${e} component`),o}}(hm.Image,gm,[\"value\"]);async function vm(e,t){const n=await async function(e,t){if(\"function\"!=typeof fetch)throw new Error(`Failed to fetch image data from \"${e}\": Using this function requires the \"endowment:network-access\" permission.`);return fetch(e,t).then((async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from \"${e}\": ${t.status} ${t.statusText}`);const n=await t.blob();return Rg(\"image/jpeg\"===n.type||\"image/png\"===n.type,\"Expected image data to be a JPEG or PNG image.\"),n}))}(e,t),r=new Uint8Array(await n.arrayBuffer());return`data:${n.type};base64,${function(e){return Jg(e),Gg.encode(e)}(r)}`}const ym='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" width=\"48\" height=\"48\">\\n  <path fill=\"#999999\" d=\"M42.75 24c0 10.59375-8.53125 19.21875-19.125 19.21875-10.6875 0-19.21875-8.625-19.21875-19.21875 0-10.59375 8.53125-19.21875 19.21875-19.21875 10.59375 0 19.125 8.625 19.125 19.21875zM23.625 14.0625c-3.09375 0-5.90625 2.25-5.90625 5.4375 0 0.84375 0.75 1.59375 1.59375 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375 0-1.125 1.03125-2.25 2.71875-2.25 1.59375 0 2.625 1.125 2.625 2.25 0 0.5625-0.375 1.03125-1.3125 1.59375l0 0c-1.125 0.75-3 1.96875-3 4.5l0 0.46875c0 0.84375 0.75 1.59375 1.6875 1.59375 0.84375 0 1.59375-0.75 1.59375-1.59375l0-0.46875c0-0.65625 0.28125-1.125 1.40625-1.78125 1.03125-0.65625 2.8125-1.875 2.8125-4.3125 0-3.1875-2.8125-5.4375-5.8125-5.4375zM23.53125 31.875c-0.84375 0-1.59375 0.65625-1.59375 1.59375 0 0.84375 0.75 1.59375 1.59375 1.59375l0.09375 0c0.84375 0 1.59375-0.75 1.59375-1.59375 0-0.9375-0.75-1.59375-1.59375-1.59375z\"/>\\n</svg>';function wm(e){return e.includes(\"swift:0/iso4217:\")}function bm({scope:e,transactionData:t}){var n;const r=function(e){var t,n;const r=new qo((null===(n=e.meta)||void 0===n||null===(t=n.fee)||void 0===t?void 0:t.toString())??\"0\");return r.dividedBy(Js)}(t),o=function(e){const t=e.transaction.signatures.length;return qo(5e3).dividedBy(Js).multipliedBy(t)}(t),i=r.minus(o),a=[{type:\"base\",asset:{fungible:!0,type:tc[e].nativeToken.caip19Id,unit:tc[e].nativeToken.symbol,amount:o.toString()}}];return(null===(n=i)||void 0===n?void 0:n.isGreaterThan(0))&&a.push({type:\"priority\",asset:{fungible:!0,type:tc[e].nativeToken.caip19Id,unit:tc[e].nativeToken.symbol,amount:i.toString()}}),a}function Am({scope:e,transactionData:t}){var n,r,o,i,a,s,c,u;const l=bm({scope:e,transactionData:t}),f=[],d=[],h=new Map((null===(r=t.meta)||void 0===r||null===(n=r.preBalances)||void 0===n?void 0:n.map(((e,t)=>[t,new qo(e.toString())])))??[]),p=new Map((null===(i=t.meta)||void 0===i||null===(o=i.postBalances)||void 0===o?void 0:o.map(((e,t)=>[t,new qo(e.toString())])))??[]),g=[...t.transaction.message.accountKeys,...(null===(s=t.meta)||void 0===s||null===(a=s.loadedAddresses)||void 0===a?void 0:a.writable)??[],...(null===(u=t.meta)||void 0===u||null===(c=u.loadedAddresses)||void 0===c?void 0:c.readonly)??[]],m=new Set([...Array.from(h.keys()),...Array.from(p.keys())]);for(const n of m){var v,y;const r=null===(v=g[n])||void 0===v?void 0:v.toString();if(!r)continue;const o=h.get(n)??new qo(0),i=p.get(n)??new qo(0),a=0===n?Lh((null===(y=t.meta)||void 0===y?void 0:y.fee)??0):new qo(0),s=o.minus(i).dividedBy(new qo(Js)).minus(a);if(s.isZero())continue;const c=s.absoluteValue().toString();o.isGreaterThan(i)&&f.push({address:r,asset:{fungible:!0,type:tc[e].nativeToken.caip19Id,unit:tc[e].nativeToken.symbol,amount:c}}),o.isLessThan(i)&&d.push({address:r,asset:{fungible:!0,type:tc[e].nativeToken.caip19Id,unit:tc[e].nativeToken.symbol,amount:c}})}const w=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===Cl));if(-1===i)return{from:r,to:o};return n.forEach((n=>{const{accounts:a,data:s,programIdIndex:c}=n;if(c!==i)return;const[u,l]=a;if(void 0===u||void 0===l||u!==l)return;const f=t.transaction.message.accountKeys[u],d=t.transaction.message.accountKeys[l];if(!f||!d||f!==d)return;const h=function(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return qo(t.toString()).dividedBy(Js)}(Hl.decode(s));r.push({address:f,asset:{amount:h.toString(),fungible:!0,type:tc[e].nativeToken.caip19Id,unit:tc[e].nativeToken.symbol}}),o.push({address:d,asset:{amount:h.toString(),fungible:!0,type:tc[e].nativeToken.caip19Id,unit:tc[e].nativeToken.symbol}})})),{from:r,to:o}}({scope:e,transactionData:t});return w.from.length>0&&f.push(...w.from),w.to.length>0&&d.push(...w.to),{fees:l,from:f,to:d}}function Sm({scope:e,transactionData:t}){var n,r,o,i;const a=bm({scope:e,transactionData:t}),s=[...t.transaction.message.accountKeys,...(null===(r=t.meta)||void 0===r||null===(n=r.loadedAddresses)||void 0===n?void 0:n.writable)??[],...(null===(i=t.meta)||void 0===i||null===(o=i.loadedAddresses)||void 0===o?void 0:o.readonly)??[]],c=[],u=[],{instructions:l}=t.transaction.message;l.forEach((t=>{const{accounts:n,data:r,programIdIndex:o}=t;if(s[o]!==Cl)return;const[i,a]=n;if(void 0===i||void 0===a)return;const l=s[i],f=s[a];if(!l||!f)return;const d=Hl.decode(r),h=function(e){let t=BigInt(0);for(let n=0;n<4;n++)t|=BigInt(e[n]??0)<<BigInt(8*n);return Number(t)}(d);if(2!==h)return;const p=function(e){let t=BigInt(0);for(let n=4;n<12;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-4));return qo(t.toString()).dividedBy(Js)}(d);c.push({address:l,asset:{amount:p.toString(),fungible:!0,type:tc[e].nativeToken.caip19Id,unit:tc[e].nativeToken.symbol}}),u.push({address:f,asset:{amount:p.toString(),fungible:!0,type:tc[e].nativeToken.caip19Id,unit:tc[e].nativeToken.symbol}})}));return{fees:a,from:xm(c),to:xm(u)}}function xm(e){return e.reduce(((e,t)=>{var n,r;const o=e.find((e=>{var n,r,o;return!0===(null===(r=e)||void 0===r||null===(n=r.asset)||void 0===n?void 0:n.fungible)&&!0===(null===(o=t.asset)||void 0===o?void 0:o.fungible)&&e.asset.type===t.asset.type&&e.address===t.address}));if(o&&!0===(null===(n=o.asset)||void 0===n?void 0:n.fungible)&&!0===(null===(r=t.asset)||void 0===r?void 0:r.fungible)){const e=new qo(o.asset.amount).plus(t.asset.amount);o.asset.amount=e.toString()}else e.push(t);return e}),[])}function Em({scope:e,transactionData:t}){var n,r,o,i,a,s,c,u;const l=[],f=[],d=new Map((null===(r=t.meta)||void 0===r||null===(n=r.preTokenBalances)||void 0===n?void 0:n.map((e=>[e.accountIndex,new qo(e.uiTokenAmount.amount)])))??[]),h=new Map((null===(i=t.meta)||void 0===i||null===(o=i.postTokenBalances)||void 0===o?void 0:o.map((e=>[e.accountIndex,new qo(e.uiTokenAmount.amount)])))??[]),p=new Set([...(null===(s=t.meta)||void 0===s||null===(a=s.preTokenBalances)||void 0===a?void 0:a.map((e=>e.accountIndex)))??[],...(null===(u=t.meta)||void 0===u||null===(c=u.postTokenBalances)||void 0===c?void 0:c.map((e=>e.accountIndex)))??[]]);for(const n of p){var g,m,v,y;const r=d.get(n)??new qo(0),o=(h.get(n)??new qo(0)).minus(r);if(o.isZero())continue;const i=(null===(m=t.meta)||void 0===m||null===(g=m.preTokenBalances)||void 0===g?void 0:g.find((e=>e.accountIndex===n)))??(null===(y=t.meta)||void 0===y||null===(v=y.postTokenBalances)||void 0===v?void 0:v.find((e=>e.accountIndex===n)));if(!i)continue;const{mint:a,uiTokenAmount:{decimals:s},owner:c}=i,u=Gd(e,a);if(!c)continue;const p=o.absoluteValue().dividedBy(new qo(10).pow(s)).toString();o.isNegative()&&l.push({address:c,asset:{fungible:!0,type:u,unit:\"\",amount:p}}),o.isPositive()&&f.push({address:c,asset:{fungible:!0,type:u,unit:\"\",amount:p}})}const w=function({scope:e,transactionData:t}){const{instructions:n}=t.transaction.message,r=[],o=[],i=t.transaction.message.accountKeys.findIndex((e=>e===Od));if(-1===i)return{from:r,to:o};return n.forEach((n=>{var a,s,c,u,l,f;const{accounts:d,data:h,programIdIndex:p}=n;if(p!==i)return;let g,m;if(5===d.length?(g=d[0],m=d[2]):3===d.length&&(g=d[0],m=d[1]),void 0===g||void 0===m||g!==m)return;const v=t.transaction.message.accountKeys[g],y=t.transaction.message.accountKeys[m];if(!v||!y||v!==y)return;const w=function(e){let t=BigInt(0);for(let n=1;n<9;n++)t|=BigInt(e[n]??0)<<BigInt(8*(n-1));return qo(t.toString()).dividedBy(1e6)}(Hl.decode(h)),b=null===(c=t.meta)||void 0===c||null===(s=c.preTokenBalances)||void 0===s||null===(a=s.find((e=>e.accountIndex===g)))||void 0===a?void 0:a.mint,A=null===(f=t.meta)||void 0===f||null===(l=f.preTokenBalances)||void 0===l||null===(u=l.find((e=>e.accountIndex===g)))||void 0===u?void 0:u.owner;if(!b||!A)return;const S=Gd(e,b);r.push({address:A,asset:{amount:w.toString(),fungible:!0,type:S,unit:\"\"}}),o.push({address:A,asset:{amount:w.toString(),fungible:!0,type:S,unit:\"\"}})})),{from:r,to:o}}({scope:e,transactionData:t});return w.from.length>0&&l.push(...w.from),w.to.length>0&&f.push(...w.to),{from:l,to:f}}function _m({scope:e,address:t,transactionData:n}){if(!n)return null;const r=n.transaction.signatures[0];if(!r)return null;const o=r,i=Number(n.blockTime),a=function(e){var t,n;const r=(null===(t=e.meta)||void 0===t?void 0:t.err)||(null===(n=e.meta)||void 0===n?void 0:n.status)&&\"Err\"in e.meta.status,o=r?It.Failed:It.Confirmed;return o}(n);let s=[],c=[],u=[];const l=(a===It.Failed?Sm:Am)({scope:e,transactionData:n});s=l.fees,c=l.from,u=l.to;const{from:f,to:d}=Em({scope:e,transactionData:n});let h=[...f,...c],p=[...d,...u];const g=function({address:e,status:t,from:n,to:r}){if(0===n.length||0===r.length||t===It.Failed)return Tt.Unknown;const o=n.filter((t=>t.address===e)),i=r.filter((t=>t.address===e)),a=o.length>0,s=i.length>0,c=n.every((t=>r.some((n=>{var r,o;return n.address===e&&!0===(null===(r=t.asset)||void 0===r?void 0:r.fungible)&&!0===(null===(o=n.asset)||void 0===o?void 0:o.fungible)&&t.asset.type===n.asset.type})))),u=r.every((t=>n.some((n=>{var r,o;return n.address===e&&!0===(null===(r=n.asset)||void 0===r?void 0:r.fungible)&&!0===(null===(o=t.asset)||void 0===o?void 0:o.fungible)&&n.asset.type===t.asset.type}))));if(c&&u)return Tt.Send;if(a&&s)return Tt.Swap;if(a)return Tt.Send;return Tt.Receive}({address:t,status:a,from:h,to:p});g===Tt.Swap&&(h=h.filter((e=>e.address===t)),p=p.filter((e=>e.address===t))),g===Tt.Receive&&(p=p.filter((e=>e.address===t)),s=[]);const m=function({address:e,from:t,to:n,type:r,status:o}){if(r===Tt.Receive&&!km({address:e,to:n}))return!1;if(o===It.Failed&&!km({address:e,to:n}))return!1;return!0}({address:t,from:h,to:p,type:g,status:a});return m?(a===It.Failed&&(h=[],p=[]),{id:o,account:t,timestamp:i,chain:e,status:a,type:g,from:h,to:p,fees:s,events:[{status:a,timestamp:i}]}):null}function km({address:e,to:t}){const{hasReceivedSOL:n,receivedSOLAmount:r}=t.reduce(((t,n)=>{var r;return n.address!==e||!(null===(r=n.asset)||void 0===r?void 0:r.fungible)||n.asset.type!==Ys.SolMainnet&&n.asset.type!==Ys.SolDevnet?t:{hasReceivedSOL:!0,receivedSOLAmount:t.receivedSOLAmount.plus(n.asset.amount)}}),{hasReceivedSOL:!1,receivedSOLAmount:new Fo(0)});return!(n&&!r.isGreaterThanOrEqualTo(.001))}class Im{#c;#A;#t;#S=3e4;#x=10000n;constructor(e,t,n){this.#c=e,this.#A=t,this.#t=n}async buildTransactionMessage(e){this.#t.log(\"Build transfer SPL token transaction message\");const{from:t,to:n,mint:r,amount:o,network:i}=e;si(r,\"Mint is required\");const{privateKeyBytes:a}=await If({entropySource:t.entropySource,derivationPath:t.derivationPath}),s=await yl(a),c=await this.getTokenAccount({mint:r,network:i});Im.assertAccountExists(c);const u=c.programAddress,l=function(e,t){const n=new qo(e.toString());if(n.isNegative())throw new Error(\"Token amount cannot be negative\");const r=n.times(10**t).integerValue(qo.ROUND_DOWN);return BigInt(r.toString())}(o,this.getDecimals(c)),[f,d]=await Promise.all([Im.deriveAssociatedTokenAccountAddress({mint:r,owner:s.address,tokenProgram:u}),Im.deriveAssociatedTokenAccountAddress({mint:r,owner:n,tokenProgram:u})]),h=await this.#A.getLatestBlockhash(i),p=lu(qu({version:0}),(e=>Zu(s.address,e)),(e=>du(h,e)),(e=>Qu([Ud({mint:r,payer:s,tokenProgram:u,owner:n,ata:d}),Fd({source:f,destination:d,authority:s,amount:l},{programAddress:u})],e)));return Xu([wg({units:this.#S}),Sg({microLamports:this.#x})],p)}static async deriveAssociatedTokenAccountAddress({mint:e,owner:t,tokenProgram:n}){return(await Ld({mint:e,owner:t,tokenProgram:n}))[0]}async getTokenAccount({mint:e,network:t}){const n=this.#c.getRpc(t),r=await async function(e,t,n={}){const{abortSignal:r,...o}=n,{value:i}=await e.getAccountInfo(t,{...o,encoding:\"jsonParsed\"}).send({abortSignal:r});return i&&\"object\"==typeof i&&\"parsed\"in i.data?Yp(t,i):Zp(t,i)}(n,e);return r}getDecimals(e){Im.assertAccountExists(e),Im.assertAccountDecoded(e);const{decimals:t}=e.data;if(!t)throw new Error(`Decimals not found for ${e}`);return t}static isAccountExists(e){return e.exists}static assertAccountExists(e){if(!Im.isAccountExists(e))throw new Error(\"Token account does not exist\")}static assertAccountNotExists(e){if(Im.isAccountExists(e))throw new Error(\"Token account exists\")}static isAccountDecoded(e){return Im.assertAccountExists(e),!(e.data instanceof Uint8Array)}static assertAccountDecoded(e){if(Im.assertAccountExists(e),!Im.isAccountDecoded(e))throw new Error(\"Token account is encoded. Implement a decoder.\")}getComputeUnitLimit(){return this.#S}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#x}}const Tm=new cd,Om=new class{#f;constructor(e){this.#f=e}async get(){const e=await snap.request({method:\"snap_getState\",params:{encrypted:this.#f.encrypted}}),t=Tf(e??{});var n,r;return n=this.#f.defaultState,r=t,{...n,...Object.fromEntries(Object.entries(r).filter((([e,t])=>null!=t&&(!t||\"object\"!=typeof t||Object.keys(t).length>0))))}}async getKey(e){const t=await snap.request({method:\"snap_getState\",params:{key:e,encrypted:this.#f.encrypted}});if(null!==t)return Tf(t)}async setKey(e,t){await snap.request({method:\"snap_setState\",params:{key:e,value:Of(t),encrypted:this.#f.encrypted}})}async update(e){return this.get().then((async t=>{const n=e(t);return await snap.request({method:\"snap_manageState\",params:{operation:\"update\",newState:Of(n),encrypted:this.#f.encrypted}}),n}))}async deleteKey(e){await this.update((t=>((0,ci.unset)(t,e),t)))}}({encrypted:!1,defaultState:{keyringAccounts:{},mapInterfaceNameToId:{},transactions:{},signatures:{},assets:{},tokenPrices:{}}}),Cm=new class{#g;prefix;logger;constructor(e,t=console,n=\"__cache__default\"){this.#g=e,this.logger=t,this.prefix=n}async get(e){return(await this.mget([e]))[e]}async set(e,t,n=Number.MAX_SAFE_INTEGER){this.#E(n),await this.#g.setKey(`${this.prefix}.${e}`,{value:t,expiresAt:Math.min(Date.now()+(n??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})}#E(e){if(void 0!==e){if(\"number\"!=typeof e)throw new Error(\"TTL must be a number\");if(e<0)throw new Error(\"TTL must be positive\");if(e>Number.MAX_SAFE_INTEGER)throw new Error(\"TTL must be less than 2^53 - 1\")}}async delete(e){return(await this.mdelete([e]))[e]??!1}async clear(){await this.#g.setKey(this.prefix,{})}async has(e){return void 0!==await this.get(e)}async keys(){const e=await this.#g.getKey(this.prefix);return Object.keys(e??{})}async size(){const e=await this.#g.getKey(this.prefix);return Object.keys(e??{}).length}async peek(e){var t,n;return null===(n=null===(t=await this.#g.getKey(this.prefix))||void 0===t?void 0:t[e])||void 0===n?void 0:n.value}async mget(e){const t=await this.#g.getKey(this.prefix),n=Object.entries(t??{}).filter((([t])=>e.includes(t))),r=n.filter((([e,t])=>t&&t.expiresAt<Date.now()));return await this.mdelete(r.map((([e])=>e))),n.reduce(((e,[t,n])=>void 0===n?(this.logger.info(`[StateCache]  Cache miss for key \"${t}\"`),e):(n.expiresAt<Date.now()?(this.logger.info(`[StateCache]  Cache expired for key \"${t}\"`),e[t]=void 0):(this.logger.info(`[StateCache]  Cache hit for key \"${t}\"`),e[t]=n.value),e)),{})}async mset(e){if(0!==e.length)if(1!==e.length)e.forEach((({ttlMilliseconds:e})=>{this.#E(e)})),await this.#g.update((t=>{const n=t[this.prefix]??{};return e.forEach((({key:e,value:t,ttlMilliseconds:r})=>{void 0!==t&&(n[e]={value:t,expiresAt:Math.min(Date.now()+(r??Number.MAX_SAFE_INTEGER),Number.MAX_SAFE_INTEGER)})})),t[this.prefix]=n,t}));else{si(e[0]);const{key:t,value:n,ttlMilliseconds:r}=e[0];await this.set(t,n,r)}}async mdelete(e){const t={};return await this.#g.update((n=>{const r=n[this.prefix]??{};return e.forEach((e=>{void 0===r[e]?t[e]=!1:(delete r[e],t[e]=!0)})),n[this.prefix]=r,n})),t}}(Om,zl),Bm=new class{#p;#_=new Map;constructor(e){this.#p=e}#k(e){const t=this.#p.getNetworkBy(\"caip2Id\",e);var n;const r=qp(lu(t.rpcUrls,(n=Kp,e=>e.map(n)),Gp,Hp));return this.#_.set(e,r),r}getRpc(e){return L(e,fc),this.#_.get(e)??this.#k(e)}}(Tm),Rm=new Tg(Bm,zl),jm=new class{#c;#t;#S=450;#x=10000n;constructor(e,t){this.#c=e,this.#t=t}async buildTransactionMessage(e){try{const{from:t,to:n,amount:r,network:o}=e,i=Bs(t.address),a=BigInt(Mh(r).toString()),s=(await this.#c.getRpc(o).getLatestBlockhash().send()).value,c=lu(qu({version:0}),(e=>Zu(i,e)),(e=>du(s,e)),(e=>Yu(function(e,t){const n=t?.programAddress??Cl,r={source:{value:e.source??null,isWritable:!0},destination:{value:e.destination??null,isWritable:!0}},o={...e},i=Pl(n);return{accounts:[i(r.source),i(r.destination)],programAddress:n,data:Ml().encode(o)}}({amount:a,destination:n,source:wl(i)}),e)));return Xu([wg({units:this.#S}),Sg({microLamports:this.#x})],c)}catch(e){throw this.#t.error({error:e},\"Error building transaction message\"),e}}getComputeUnitLimit(){return this.#S}getComputeUnitPriceMicroLamportsPerComputeUnit(){return this.#x}}(Bm,zl),Pm=new Im(Bm,Rm,zl),Nm=new Xl(Tm),Lm=new Gl(Tm,Cm),Mm=new class{#I;#t;constructor({tokenMetadataClient:e,logger:t}){this.#I=e,this.#t=t}async getTokensMetadata(e){if(0===e.length)return this.#t.warn(`No tokens to get metadata for ${e.join(\", \")}`),{};return await this.#I.getTokenMetadataFromAddresses(e)}async generateImageComponent(e,t=48,n=48){return e?async function(e,{width:t,height:n=t,request:r}){Rg(\"number\"==typeof t&&t>0,\"Expected width to be a number greater than 0.\"),Rg(\"number\"==typeof n&&n>0,\"Expected height to be a number greater than 0.\");const o=await vm(e,r),i=`width=\"${t}\" height=\"${n}\"`;return mm(`<svg ${i.trim()} xmlns=\"http://www.w3.org/2000/svg\"><image ${i.trim()} href=\"${o}\" /></svg>`)}(e,{width:t,height:n}).then((e=>e.value)).catch((()=>ym)):ym}}({tokenMetadataClient:Nm,logger:zl}),zm=new Vd({connection:Bm,logger:zl,configProvider:Tm,state:Om,tokenMetadataService:Mm,cache:Cm}),Um=new class{#c;#t;#m;#g;#p;constructor({logger:e,connection:t,tokenMetadataService:n,state:r,configProvider:o}){this.#c=t,this.#m=n,this.#t=e,this.#g=r,this.#p=o}async fetchLatestAddressTransactions(e,t){const n=this.#p.get().activeNetworks,r=(await Promise.all(n.map((async n=>this.#T(n,e,{limit:t}))))).flatMap((({data:e})=>e)).sort(((e,t)=>(t.timestamp??0)-(e.timestamp??0)));return r}async#T(e,t,n){const r=(await this.#c.getRpc(e).getSignaturesForAddress(t,n.next?{limit:n.limit,before:n.next}:{limit:n.limit}).send()).map((({signature:e})=>e)),o=await this.#g.getKey(`signatures.${t}`)??[];await this.#g.setKey(`signatures.${t}`,[...new Set([...o,...r])]);const i=(await this.getTransactionsDataFromSignatures({scope:e,signatures:r})).reduce(((n,r)=>{const o=_m({scope:e,address:t,transactionData:r});return o&&n.push(o),n}),[]),a=await this.#O({[t]:i.map((e=>({...e,account:t})))}),s=r.length===n.limit?r[r.length-1]??null:null;return{data:a[t]??[],next:s}}async fetchLatestSignatures(e,t,n){this.#t.log(`[TransactionsService.fetchAllSignatures] Fetching all signatures for ${t} on ${e}`);const r=(await this.#c.getRpc(e).getSignaturesForAddress(t,{limit:n}).send()).map((({signature:e})=>e)),o=await this.#g.getKey(`signatures.${t}`)??[];return await this.#g.setKey(`signatures.${t}`,[...new Set([...o,...r])]),r}async getTransactionsDataFromSignatures({scope:e,signatures:t}){return await Promise.all(t.map((async t=>this.#c.getRpc(e).getTransaction(t,{maxSupportedTransactionVersion:0}).send())))}async refreshTransactions(e){try{if(this.#t.log(`[TransactionsService] Refreshing transactions for ${e.length} accounts`),!e.length)return void this.#t.log(\"[TransactionsService] No accounts found\");const t=this.#p.get().activeNetworks,n=await this.#g.getKey(\"transactions\")??{},r=this.#C(n),o=await this.#B({scopes:t,accounts:e,existingSignatures:r}),i=await this.#R({scopes:t,accounts:e,newSignaturesMapping:o}),a=await this.#O(i);await wn(snap,mn.AccountTransactionsUpdated,{transactions:a});const s=this.#j({accounts:e,previousTransactionsByAccount:n,newTransactionsByAccount:i});await this.#g.setKey(\"transactions\",s)}catch(e){this.#t.error(\"[TransactionsService] Error. Releasing lock...\",e)}}#C(e){return new Set(Object.values(e??{}).flat().map((e=>e.id)))}async#B({scopes:e=[Zs.Mainnet,Zs.Devnet],accounts:t,existingSignatures:n}){const r={byNetwork:new Map(e.map((e=>[e,new Set]))),byAccountAndNetwork:new Map(t.map((t=>[t.id,new Map(e.map((e=>[e,new Set])))])))};for(const o of t)for(const t of e){this.#t.log(`[TransactionsService] Fetching signatures for ${o.address} on ${t}...`);const e=await this.fetchLatestSignatures(t,Bs(o.address),this.#p.get().transactions.storageLimit),i=e.filter((e=>!n.has(e)));if(!i.length){this.#t.log(`[TransactionsService] Found 0 new signatures out of ${e.length} total for address ${o.address} on network ${t}`);continue}const a=r.byNetwork.get(t),s=r.byAccountAndNetwork.get(o.id).get(t);i.forEach((e=>{a.add(e),s.add(e)})),this.#t.info(`[TransactionsService] Found ${i.length} new signatures (${e.length} total) for ${o.address} on ${t}`)}return r}async#R({scopes:e=[Zs.Mainnet,Zs.Devnet],accounts:t,newSignaturesMapping:n}){const r={};for(const i of e){const e=n.byNetwork.get(i);if(!e.size)continue;const a=Array.from(e),s=await this.getTransactionsDataFromSignatures({scope:i,signatures:a});for(const e of t){var o;r[e.id]||(r[e.id]=[]);const t=n.byAccountAndNetwork.get(e.id).get(i),a=s.filter((e=>{var n,r;const o=null===(r=e)||void 0===r||null===(n=r.transaction)||void 0===n?void 0:n.signatures[0];return o&&t.has(o)})).map((t=>{const n=_m({scope:i,address:e.address,transactionData:t});return n?{...n,account:e.id}:null})).filter((e=>null!==e));null===(o=r[e.id])||void 0===o||o.push(...a)}}return r}#j({accounts:e,previousTransactionsByAccount:t,newTransactionsByAccount:n}){return Object.fromEntries(e.map((e=>[e.id,[...t[e.id]??[],...n[e.id]??[]].sort(((e,t)=>(e.timestamp??0)-(t.timestamp??0))).slice(0,this.#p.get().transactions.storageLimit)])))}async#O(e){const t=[...new Set(Object.values(e).flatMap((e=>e.flatMap((({from:e,to:t})=>[...e,...t].filter((e=>{var t;return null===(t=e.asset)||void 0===t?void 0:t.fungible})).map((e=>e.asset.type)))))))],n=await this.#m.getTokensMetadata(t);return Object.keys(e).forEach((t=>{var r;null===(r=e[t])||void 0===r||r.forEach((e=>{e.from.forEach((e=>{var t,r;(null===(t=e.asset)||void 0===t?void 0:t.fungible)&&n[e.asset.type]&&(e.asset.unit=(null===(r=n[e.asset.type])||void 0===r?void 0:r.symbol)??\"\")})),e.to.forEach((e=>{var t,r;(null===(t=e.asset)||void 0===t?void 0:t.fungible)&&n[e.asset.type]&&(e.asset.unit=(null===(r=n[e.asset.type])||void 0===r?void 0:r.symbol)??\"\")}))}))})),e}}({logger:zl,connection:Bm,tokenMetadataService:Mm,state:Om,configProvider:Tm}),$m=new class{#t=zl;constructor(e=zl){this.#t=e}async trackEventTransactionAdded(e,t,n){this.#t.log(\"[ AnalyticsService] Tracking event transaction added\"),L(t,gc)}async trackEventTransactionApproved(e,t,n){this.#t.log(\"[ AnalyticsService] Tracking event transaction approved\"),L(t,gc)}async trackEventTransactionSubmitted(e,t,n,r){this.#t.log(\"[ AnalyticsService] Tracking event transaction submitted\"),L(t,gc)}async trackEventTransactionFinalized(e,t){this.#t.log(\"[ AnalyticsService] Tracking event transaction finalized\")}async trackEventTransactionRejected(e,t,n){this.#t.log(\"[ AnalyticsService] Tracking event transaction rejected\"),L(t,gc)}}(zl),Dm=new class{#c;#A;#t;constructor(e,t,n=zl){this.#c=e,this.#A=t,this.#t=n}async resolveAccountAddress(e,t,n){const{method:r,params:o}=n,i=e.filter((e=>e.scopes.includes(t)));if(0===i.length)throw new Error(\"No accounts with this scope\");switch(r){case qt.SignIn:{const{address:e}=o;if(!e)throw new Error(\"No address\");return uh(t,e)}case qt.SignAndSendTransaction:case qt.SignMessage:case qt.SignTransaction:{var a;const{account:e}=o,n=null===(a=i.find((t=>t.address===e.address)))||void 0===a?void 0:a.address;if(!n)throw new Error(\"Account not found\");return uh(t,n)}default:throw this.#t.warn({method:r},\"Unsupported method\"),new Error(\"Unsupported method\")}}async signTransaction(e,t){var n;L(t.request,pf),L(t.scope,fc);const{transaction:r,scope:o,options:i}=t.request.params,a=(null===(n=i)||void 0===n?void 0:n.minContextSlot)?{minContextSlot:BigInt(i.minContextSlot)}:void 0,s=(e=>lu(e,nl().encode,As().decode))(await this.#A.partiallySignBase64String(r,e,o,a)),c={signedTransaction:s};return L(c,mf),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT3S\",request:{method:np.OnSignTransaction,params:{accountId:e.id}}}}),c}async signAndSendTransaction(e,t){var n,r,o,i,a,s,c;L(t.request,ff),L(t.scope,fc);const{request:{params:{transaction:u,options:l}},scope:f}=t,d=(null===(n=l)||void 0===n?void 0:n.minContextSlot)?{minContextSlot:BigInt(l.minContextSlot)}:void 0,h=await this.#A.partiallySignBase64String(u,e,f,d),p=function(e){Wu||(Wu=ms());const t=Object.values(e.signatures)[0];if(!t)throw new Pa(aa);return Wu.decode(t)}(h),g=function({rpc:e}){return async function(t,n){await cg({...n,rpc:e,transaction:t})}}({rpc:this.#c.getRpc(f)}),m=Fh(f,\"tx\",p);this.#t.info(`Sending transaction: ${m}`),sl(h);const v={...(null===(r=l)||void 0===r?void 0:r.preflightCommitment)?{preflightCommitment:l.preflightCommitment}:{},...(null===(o=l)||void 0===o?void 0:o.minContextSlot)?{minContextSlot:BigInt(l.minContextSlot)}:{},...(null===(i=l)||void 0===i?void 0:i.maxRetries)?{maxRetries:BigInt(l.maxRetries)}:{},commitment:\"confirmed\",skipPreflight:!0};await g(h,v),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:np.OnTransactionSubmitted,params:{accountId:e.id,base64EncodedTransaction:u,signature:p,scope:f}}}});const y={signature:p};L(y,gf);const w=(null===(a=l)||void 0===a?void 0:a.commitment)&&\"processed\"!==(null===(s=l)||void 0===s?void 0:s.commitment)?null===(c=l)||void 0===c?void 0:c.commitment:\"confirmed\",b=await this.#A.waitForTransactionCommitment(p,w,f),A={..._m({scope:f,address:Bs(e.address),transactionData:b}),account:e.id};return await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:np.OnTransactionFinalized,params:{accountId:e.id,transaction:A}}}}),y}async signMessage(e,t){L(t.request,hf);const{message:n}=t.request.params,r=Ss().encode(n),o=ks().decode(r),{privateKeyBytes:i}=await If({entropySource:e.entropySource,derivationPath:e.derivationPath}),a=await yl(i),s=function(e,t={}){return Object.freeze({content:\"string\"==typeof e?(new xl).encode(e):e,signatures:Object.freeze({...t})})}(o),[c]=await a.signMessages([s]);L(c,te());const u=c[Bs(e.address)];var l;L(u,(l=Uint8Array,$(\"instance\",(e=>e instanceof l||`Expected a \\`${l.name}\\` instance, but received: ${B(e)}`))));const f={signature:ms().decode(u),signedMessage:n,signatureType:\"ed25519\"};return L(f,vf),f}async signIn(e,t){L(t.request,df);const{address:n}=e,{params:r}=t.request,o=this.#P(r),i=ks().encode(o),a=Ss().decode(i),s={id:globalThis.crypto.randomUUID(),scope:t.scope,account:e.id,origin:t.origin,request:{method:qt.SignMessage,params:{account:{address:n},message:a}}},c={account:{address:n},...await this.signMessage(e,s)};return L(c,yf),c}async verifySignature(e,t,n){L(t,pc),L(n,gc);const{privateKeyBytes:r}=await If({entropySource:e.entropySource,derivationPath:e.derivationPath}),o=await yl(r),i=fs(ps).encode(t),a=Ss().encode(n);return await Bc(o.keyPair.publicKey,i,a)}#P(e){let t=`${e.domain} wants you to sign in with your Solana account:\\n`;t+=`${e.address}`,e.statement&&(t+=`\\n\\n${e.statement}`);const n=[];if(e.uri&&n.push(`URI: ${e.uri}`),e.version&&n.push(`Version: ${e.version}`),e.chainId&&n.push(`Chain ID: ${e.chainId}`),e.nonce&&n.push(`Nonce: ${e.nonce}`),e.issuedAt&&n.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&n.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&n.push(`Not Before: ${e.notBefore}`),e.requestId&&n.push(`Request ID: ${e.requestId}`),e.resources){n.push(\"Resources:\");for(const t of e.resources)n.push(`- ${t}`)}return n.length&&(t+=`\\n\\n${n.join(\"\\n\")}`),t}}(Bm,Rm,zl),Fm=new class{#N;#t;#m;constructor(e,t,n){this.#N=e,this.#m=t,this.#t=n}async scanTransaction({method:e,accountAddress:t,transaction:n,scope:r,origin:o,options:i=[\"simulation\",\"validation\"]}){try{var a,s;const c=await this.#N.scanTransactions({method:e,accountAddress:t,transactions:[n],scope:r,origin:o,options:i}),u=this.#L(c);if(!(null===(s=u)||void 0===s||null===(a=s.estimatedChanges)||void 0===a?void 0:a.assets))return null;const l={...u},f=u.estimatedChanges.assets.map((async(e,t)=>{const{logo:n}=e;if(n)return this.#m.generateImageComponent(n,16,16).then((e=>{var n,r,o;e&&(null===(o=l)||void 0===o||null===(r=o.estimatedChanges)||void 0===r||null===(n=r.assets)||void 0===n?void 0:n[t])&&(l.estimatedChanges.assets[t].imageSvg=e)})).catch((()=>null))}));return await Promise.all(f??[]),l}catch(e){return this.#t.error(e),null}}#L(e){var t,n,r,o,i,a,s,c,u,l;return{status:null===(t=e)||void 0===t?void 0:t.status,estimatedChanges:{assets:(null===(i=e.result)||void 0===i||null===(o=i.simulation)||void 0===o||null===(r=o.account_summary)||void 0===r||null===(n=r.account_assets_diff)||void 0===n?void 0:n.map((e=>{var t,n,r,o;return{type:e.in?\"in\":\"out\",symbol:\"symbol\"in e.asset?e.asset.symbol:e.asset_type,name:\"name\"in e.asset?e.asset.name:e.asset_type,logo:\"logo\"in e.asset?e.asset.logo:null,value:(null===(t=e.in)||void 0===t?void 0:t.value)??(null===(n=e.out)||void 0===n?void 0:n.value)??null,price:(null===(r=e.in)||void 0===r?void 0:r.usd_price)??(null===(o=e.out)||void 0===o?void 0:o.usd_price)??null,imageSvg:null}})))??[]},validation:{type:null===(s=e.result)||void 0===s||null===(a=s.validation)||void 0===a?void 0:a.result_type,reason:null===(u=e.result)||void 0===u||null===(c=u.validation)||void 0===c?void 0:c.reason},error:(null===(l=e)||void 0===l?void 0:l.error_details)?{type:\"type\"in e.error_details?e.error_details.type:null,code:\"code\"in e.error_details?e.error_details.code:null}:null}}}(new class{#e;#t;#n;constructor(e,t=globalThis.fetch,n=zl){const{baseUrl:r}=e.get().securityAlertsApi;this.#e=t,this.#t=n,this.#n=r}async scanTransactions({method:e,accountAddress:t,transactions:n,scope:r,origin:o,options:i}){const a=Jl.from(Hl.decode(t)).toString(\"base64\");this.#t.info(\"Scanning transaction\");return(await this.#e(`${this.#n}/solana/message/scan`,{headers:{\"Content-Type\":\"application/json\",accept:\"application/json\"},method:\"POST\",body:JSON.stringify({method:e,encoding:\"base64\",account_address:a,metadata:{url:o},chain:Zl[r],transactions:n,options:i})})).json()}}(Tm),Mm,zl),qm=new class{async handleKeyringRequest(e,t){const{request:{method:n}}=e;switch(n){case qt.SignAndSendTransaction:case qt.SignTransaction:return this.#M(e,t);case qt.SignMessage:return this.#z(e,t);case qt.SignIn:return this.#U(e,t);default:throw new Error(`Unsupported method: ${n}`)}}async#M(e,t){L(e.request,se([ff,pf]));const{request:{method:n,params:{transaction:r}},scope:o,account:i}=e;await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:np.OnTransactionAdded,params:{accountId:i,base64EncodedTransaction:r,scope:o}}}});return await tp({...ep,scope:o,method:n,origin:e.origin,transaction:r,account:t})?(await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:np.OnTransactionApproved,params:{accountId:i,base64EncodedTransaction:r,scope:o}}}}),!0):(await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:np.OnTransactionRejected,params:{accountId:i,base64EncodedTransaction:r,scope:o}}}}),!1)}async#z(e,t){const n=await async function(e,t){L(e.request,hf);const{request:{params:{message:n}},scope:r,origin:o}=e,i=Ss().encode(n),a=ks().decode(i),s=await Lf().then((e=>e.locale)).catch((()=>hh));return Nf(await Rf(Hd(Nh,{message:a,account:t,scope:r,locale:s,networkImage:Zd,origin:o}),{}))}(e,t);return Boolean(n)}async#U(e,t){const n=await async function(e,t){L(e.request,df);const{request:{params:n},scope:r,origin:o}=e,i=await Lf();return Nf(await Rf(Hd(Rh,{params:n,account:t,scope:r,preferences:i,networkImage:Zd,origin:o}),{}))}(e,t);return Boolean(n)}},Wm=new class{#g;#t;#$;#D;#F;#q;constructor({state:e,logger:t,transactionsService:n,assetsService:r,walletService:o,confirmationHandler:i}){this.#g=e,this.#t=t,this.#$=n,this.#D=r,this.#F=o,this.#q=i}async listAccounts(){try{const e=await this.#g.getKey(\"keyringAccounts\")??{};return(0,ci.sortBy)(Object.values(e),[\"entropySource\",\"index\"])}catch(e){throw this.#t.error({error:e},\"Error listing accounts\"),new Error(\"Error listing accounts\")}}async getAccount(e){try{md({accountId:e},ic);return await this.#g.getKey(`keyringAccounts.${e}`)}catch(e){throw this.#t.error({error:e},\"Error getting account\"),new io(e)}}async getAccountOrThrow(e){const t=await this.getAccount(e);if(!t)throw new Error(`Account \"${e}\" not found`);return t}#W(e,t){return function(e){if(0===e.length)return 0;const t=e.map((e=>e.index)).sort(((e,t)=>e-t));let n=0;for(const e of t){if(e!==n)break;n+=1}return n}(e.filter((e=>e.entropySource===t)))}#K(e){return`m/44'/501'/${e}'/0'`}#G(e){const t=e.split(\"/\")[3];if(!t)throw new Error(\"Invalid derivation path\");const n=parseInt(t.replace(\"'\",\"\"),10);return L(n,Z()),n}async#V(){const e=(await async function(){return await snap.request({method:\"snap_listEntropySources\"})}()).find((({primary:e})=>e));if(!e)throw new Error(\"No default entropy source found - this can never happen\");return e.id}async createAccount(e){const t=globalThis.crypto.randomUUID();try{var n,r,o;const i=await this.listAccounts(),a=(null===(n=e)||void 0===n?void 0:n.entropySource)??await this.#V(),s=(null===(r=e)||void 0===r?void 0:r.derivationPath)?this.#G(e.derivationPath):this.#W(i,a),c=(null===(o=e)||void 0===o?void 0:o.derivationPath)?e.derivationPath:this.#K(s),u=i.find((e=>e.derivationPath===c&&e.entropySource===a));if(u)return this.#t.warn(\"[ Keyring] An account already exists with the same derivation path and entropy source. Skipping account creation.\"),bd(u);const{publicKeyBytes:l}=await If({entropySource:a,derivationPath:c}),f=js().decode(l.slice(1)),{importedAccount:d,accountNameSuggestion:h,metamask:p,...g}=e??{},m={id:t,entropySource:a,derivationPath:c,index:s,type:dt.DataAccount,address:f,scopes:[Dt.Mainnet,Dt.Testnet,Dt.Devnet],options:{...g,entropySource:a,derivationPath:c,index:s},methods:[qt.SignAndSendTransaction,qt.SignTransaction,qt.SignMessage,qt.SignIn]};await this.#g.setKey(`keyringAccounts.${m.id}`,m);const v=bd(m);return await this.emitEvent(mn.AccountCreated,{account:v,accountNameSuggestion:h??`Solana Account ${s+1}`,displayAccountNameSuggestion:!h,displayConfirmation:!1,...p?{metamask:p}:{}}),v}catch(e){throw this.#t.error({error:e},\"Error creating account\"),await this.#H(t),new Error(`Error creating account: ${e.message}`)}}async#H(e){await Promise.all([this.#g.deleteKey(`keyringAccounts.${e}`),this.#g.deleteKey(`transactions.${e}`),this.#g.deleteKey(`assets.${e}`)])}async deleteAccount(e){try{md({accountId:e},ac),await this.#H(e),await this.emitEvent(mn.AccountDeleted,{id:e})}catch(e){throw this.#t.error({error:e},\"Error deleting account\"),e}}async listAccountAssets(e){try{md({accountId:e},sc);const t=await this.getAccountOrThrow(e),n=await this.#D.listAccountAssets(t);return vd(n,rn),n}catch(e){throw this.#t.error({error:e},\"Error listing account assets\"),e}}async getAccountBalances(e,t){try{md({accountId:e,assets:t},cc);const n=await this.getAccountOrThrow(e),r=await this.#D.getAccountBalances(n,t);return vd(r,lc),r}catch(e){throw this.#t.error({error:e},\"Error getting account balances\"),e}}async emitEvent(e,t){await wn(snap,e,t)}async filterAccountChains(e,t){throw new Error(`Implement me! ${e} ${t.toString()}`)}async updateAccount(e){throw new Error(`Implement me! ${JSON.stringify(e)}`)}async submitRequest(e){return{pending:!1,result:await this.#J(e)}}async#J(e){L(e,yd);const{request:{method:t,params:n},scope:r,account:o}=e,i=await this.getAccountOrThrow(o);if(!i.scopes.includes(r))throw new Error(`Scope \"${r}\" is not allowed for this account`);if(!i.methods.includes(t))throw new Error(`Method \"${t}\" is not allowed for this account`);if(\"scope\"in n&&r!==n.scope)throw new Error(`Scope \"${r}\" does not match \"${n.scope}\" in request.params`);if(!await this.#q.handleKeyringRequest(e,i))throw new xo;switch(t){case qt.SignAndSendTransaction:return this.#F.signAndSendTransaction(i,e);case qt.SignTransaction:return this.#F.signTransaction(i,e);case qt.SignMessage:return this.#F.signMessage(i,e);case qt.SignIn:return this.#F.signIn(i,e);default:throw new ho(`Unsupported method: ${t}`)}}async listAccountTransactions(e,t){try{var n;md({accountId:e,pagination:t},uc);const r=await this.getAccount(e);if(!r)throw new Error(\"Account not found\");const o=await this.#g.getKey(`transactions.${e}`)??[];if(!o.length){const e=(await this.#$.fetchLatestAddressTransactions(Bs(r.address),t.limit)).map((e=>({...e,account:r.id})));return await this.#g.setKey(`transactions.${r.id}`,e),{data:e,next:null}}const i=t.next?o.findIndex((e=>e.id===t.next)):0,a=o.slice(i,i+t.limit),s=i+t.limit<o.length;return{data:a,next:s?(null===(n=o[i+t.limit])||void 0===n?void 0:n.id)??null:null}}catch(e){throw this.#t.error({error:e},\"Error listing account transactions\"),e}}async resolveAccountAddress(e,t){try{L(e,fc);const{method:n,params:r}=t,o={method:n,params:r};L(o,wf);const i=await this.listAccounts();return{address:await this.#F.resolveAccountAddress(i,e,o)}}catch(e){return this.#t.error({error:e},\"Error resolving account address\"),null}}async discoverAccounts(e,t,n){try{L({scopes:e,entropySource:t,groupIndex:n},wd);const r=this.#K(n),o=await If({entropySource:t,derivationPath:r}),i=js().decode(o.publicKeyBytes.slice(1)),a=[];for(const t of e)a.push(this.#$.fetchLatestSignatures(t,i,1));const s=await Promise.all(a);return s.some((e=>e.length>0))?[{type:\"bip44\",scopes:e,derivationPath:r}]:[]}catch(e){throw this.#t.error({error:e},\"Error discovering accounts\"),e}}}({state:Om,transactionsService:Um,logger:zl,assetsService:zm,walletService:Dm,confirmationHandler:qm}),Km=new class{#Z;#t;constructor(e,t=zl){this.#Z=e,this.#t=t}#Y(e){if(!wm(e))throw new Error(\"Passed caipAssetType is not a fiat asset\");return oi(e).assetReference.toLowerCase()}async getMultipleTokenConversions(e,t=!1){if(0===e.length)return{};const n=e.flatMap((e=>[e.from,e.to])).filter((e=>!wm(e))),[r,o]=await Promise.all([this.#Z.getFiatExchangeRates(),this.#Z.getMultipleSpotPrices(n,\"usd\")]),i={};return e.forEach((e=>{const{from:n,to:a}=e;let s,c;if(i[n]||(i[n]={}),wm(n)){var u;const e=null===(u=r[this.#Y(n)])||void 0===u?void 0:u.value;if(!e)return void(i[n][a]=null);s=new qo(1).dividedBy(e)}else{var l;s=new qo((null===(l=o[n])||void 0===l?void 0:l.price)??0)}if(wm(a)){var f;const e=null===(f=r[this.#Y(a)])||void 0===f?void 0:f.value;if(!e)return void(i[n][a]=null);c=new qo(1).dividedBy(e)}else{var d;c=new qo((null===(d=o[a])||void 0===d?void 0:d.price)??0)}if(s.isZero()||c.isZero())return void(i[n][a]=null);const h=s.dividedBy(c).toString(),p=t&&o[n]?this.#Q(o[n],c):void 0,g=Date.now();i[n][a]={rate:h,conversionTime:g,expirationTime:g+Gl.cacheTtlsMilliseconds.historicalPrices,...t&&p?{marketData:p}:{}}})),i}#Q(e,t){const n=(0,ci.pick)(e,[\"marketCap\",\"totalVolume\",\"circulatingSupply\",\"allTimeHigh\",\"allTimeLow\",\"pricePercentChange1h\",\"pricePercentChange1d\",\"pricePercentChange7d\",\"pricePercentChange14d\",\"pricePercentChange30d\",\"pricePercentChange200d\",\"pricePercentChange1y\"]),r=e=>null==e?\"\":new qo(e).dividedBy(t).toString(),o=(e,t)=>null==t?{}:{[e]:t},i={...o(\"PT1H\",n.pricePercentChange1h),...o(\"P1D\",n.pricePercentChange1d),...o(\"P7D\",n.pricePercentChange7d),...o(\"P14D\",n.pricePercentChange14d),...o(\"P30D\",n.pricePercentChange30d),...o(\"P200D\",n.pricePercentChange200d),...o(\"P1Y\",n.pricePercentChange1y)};return{marketCap:r(n.marketCap),totalVolume:r(n.totalVolume),circulatingSupply:(n.circulatingSupply??0).toString(),allTimeHigh:r(n.allTimeHigh),allTimeLow:r(n.allTimeLow),...Object.keys(i).length>0?{pricePercentChange:i}:{}}}async getHistoricalPrice(e,t){L(e,at),L(t,at);const n=oi(t).assetReference.toLowerCase();L(n,Fl);const r=[\"1d\",\"7d\",\"1m\",\"3m\",\"1y\",\"1000y\"].map((async r=>this.#Z.getHistoricalPrices({assetType:e,timePeriod:r,vsCurrency:n}).then((e=>({timePeriod:r,response:e}))).catch((n=>(this.#t.warn(`Error fetching historical prices for ${e} to ${t} with time period ${r}. Returning null object.`,n),{timePeriod:r,response:Kl}))))),o=(await Promise.all(r)).reduce(((e,{timePeriod:t,response:n})=>(e[`P${t.toUpperCase()}`]=n.prices.map((e=>[e[0],e[1].toString()])),e)),{}),i=Date.now();return{intervals:o,updateTime:i,expirationTime:i+Gl.cacheTtlsMilliseconds.historicalPrices}}}(Lm),Gm=new Yl(Bm,zl),Vm={configProvider:Tm,connection:Bm,keyring:Wm,priceApiClient:Lm,state:Om,cache:Cm,assetsService:zm,tokenPricesService:Km,transactionHelper:Rm,transactionsService:Um,sendSolBuilder:jm,sendSplTokenBuilder:Pm,walletService:Dm,transactionScanService:Fm,analyticsService:$m,confirmationHandler:qm,nftService:Gm},Hm=te({id:oe(),jsonrpc:Y(\"2.0\"),method:Y(np.OnSignTransaction),params:te({accountId:nc})}),Jm=te({id:oe(),jsonrpc:Y(\"2.0\"),method:Y(np.OnTransactionAdded),params:te({accountId:nc,base64EncodedTransaction:gc,scope:fc})}),Zm=te({id:oe(),jsonrpc:Y(\"2.0\"),method:Y(np.OnTransactionApproved),params:te({accountId:nc,base64EncodedTransaction:gc,scope:fc})}),Ym=te({id:oe(),jsonrpc:Y(\"2.0\"),method:Y(np.OnTransactionFinalized),params:te({accountId:nc,transaction:Ct})}),Qm=te({id:oe(),jsonrpc:Y(\"2.0\"),method:Y(np.OnTransactionRejected),params:te({accountId:nc,base64EncodedTransaction:gc,scope:fc})}),Xm=te({id:oe(),jsonrpc:Y(\"2.0\"),method:Y(np.OnTransactionSubmitted),params:te({accountId:nc,base64EncodedTransaction:gc,signature:oe(),scope:fc})}),ev={[np.OnTransactionAdded]:async({request:e})=>{try{zl.info(\"[onTransactionAdded] Cronjob triggered\",e),L(e,Jm);const{accountId:t,base64EncodedTransaction:n,scope:r}=e.params,o=await Wm.getAccountOrThrow(t);await $m.trackEventTransactionAdded(o,n,r)}catch(e){throw zl.error(e),new so(e)}},[np.OnTransactionApproved]:async({request:e})=>{try{zl.info(\"[onTransactionApproved] Cronjob triggered\",e),L(e,Zm);const{accountId:t,base64EncodedTransaction:n,scope:r}=e.params,o=await Wm.getAccountOrThrow(t);await $m.trackEventTransactionApproved(o,n,r)}catch(e){throw zl.error(e),new so(e)}},[np.OnTransactionSubmitted]:async({request:e})=>{try{zl.info(\"[onTransactionSubmitted] Cronjob triggered\",e),L(e,Xm);const{accountId:t,base64EncodedTransaction:n,signature:r,scope:o}=e.params,i=await Wm.getAccountOrThrow(t);await $m.trackEventTransactionSubmitted(i,n,r,o)}catch(e){throw zl.error(e),new so(e)}},[np.OnTransactionFinalized]:async({request:e})=>{try{zl.info(\"[onTransactionFinalized] Cronjob triggered\",e),L(e,Ym);const{accountId:t,transaction:n}=e.params,r=await Wm.getAccountOrThrow(t),o=await Wm.listAccounts(),i=n.from.map((e=>e.address)),a=n.to.map((e=>e.address)),s=[r.address,...i,...a],c=o.filter((e=>s.includes(e.address))),u=zm.refreshAssets(c),l=Um.refreshTransactions(c),f=$m.trackEventTransactionFinalized(r,n);await Promise.all([u,l,f])}catch(e){throw zl.error(e),new so(e)}},[np.OnTransactionRejected]:async({request:e})=>{try{zl.info(\"[onTransactionRejected] Cronjob triggered\",e),L(e,Qm);const{accountId:t,base64EncodedTransaction:n,scope:r}=e.params,o=await Wm.getAccountOrThrow(t);await $m.trackEventTransactionRejected(o,n,r)}catch(e){throw zl.error(e),new so(e)}},[np.OnSignTransaction]:async({request:e})=>{try{zl.info(\"[onSignTransaction] Cronjob triggered\",e),L(e,Hm);const{accountId:t}=e.params,n=await Wm.getAccountOrThrow(t),r=zm.refreshAssets([n]),o=Um.refreshTransactions([n]);await Promise.all([r,o])}catch(e){throw zl.error(e),new so(e)}},[np.OnAccountsRefresh]:async()=>{try{zl.info(\"[onAccountsRefresh] Cronjob triggered\");const e=await Wm.listAccounts(),t=Zs.Mainnet,n=e.map((async e=>{const n=await Om.getKey(`signatures.${e.address}`)??[],[r]=await Um.fetchLatestSignatures(t,Bs(e.address),1);return zl.log(`[onAccountsRefresh] Latest signature for account ${e.address} is ${r}`),{account:e,didChange:r&&!n.includes(r)}})),r=(await Promise.all(n)).filter((e=>e.didChange)).map((e=>e.account));if(0===r.length)return void zl.info(\"[onAccountsRefresh] No accounts with changes, skipping refresh\");zl.info(`[onAccountsRefresh] Found ${r.length} accounts with changes`),await zm.refreshAssets(r).catch((e=>{zl.warn(\"[onAccountsRefresh] Caught error while refreshing assets\",e)})),await Um.refreshTransactions(r).catch((e=>{zl.warn(\"[onAccountsRefresh] Caught error while refreshing transactions\",e)})),zl.info(`[onAccountsRefresh] Successfully refreshed ${r.length} accounts`)}catch(e){zl.error(\"[onAccountsRefresh] Error\",e)}}};var tv;!function(e){e.RefreshSend=\"refreshSend\",e.RefreshConfirmationEstimation=\"refreshConfirmationEstimation\",e.ScheduleRefreshAccounts=\"scheduleRefreshAccounts\"}(tv||(tv={}));const nv=Qd(\"Form\"),rv=Qd(\"Field\"),ov=Qd(\"AssetSelector\"),iv=({title:e,backButtonName:t})=>Jd(eh,{direction:\"horizontal\",alignment:\"space-between\",center:!0,children:[t?Hd(ch,{name:t,children:Hd(_h,{name:\"arrow-left\",color:\"primary\",size:\"md\"})}):null,Hd(th,{size:\"sm\",children:e}),Jd(eh,{direction:\"horizontal\",children:[Hd(eh,{children:null}),Hd(eh,{children:null}),Hd(eh,{children:null}),Hd(eh,{children:null})]})]}),av=Qd(\"Selector\"),sv=Qd(\"SelectorOption\"),cv=Qd(\"Card\");function uv(e){return e?e.length<=10?\"\":`${e.slice(0,6)}...${e.slice(-4)}`:\"\"}const lv=({accounts:e,balances:t,price:n,name:r,scope:o,selectedAccountId:i,error:a,locale:s,currency:c})=>{const u=ph(s),l=Object.values(e);return Hd(rv,{label:u(\"send.fromField\"),error:a,children:Hd(av,{name:r,value:i,title:\"From\",children:l.map((e=>{var r;const i=null===(r=t[e.id])||void 0===r?void 0:r[`${o}/${Qs.SOL}`],{amount:a,unit:u}=i??{},l=void 0!==a&&u?Zh(a,u,s):\"\",f=void 0!==a&&null!==n&&c?Ah(Yh(a,n),c,s):\"-\";return Hd(sv,{value:e.id,children:Hd(cv,{value:l,extra:f,description:uv(e.address),title:Hd(ih,{address:uh(o,e.address),truncate:!0,displayName:!0,avatar:!0})})})}))})})},fv=Qd(\"Input\");var dv,hv;!function(e){e.Form=\"send-form\",e.DestinationAccountInput=\"send-to\",e.BackButton=\"send-back-button\",e.SourceAccountSelector=\"send-account-selector\",e.AmountInput=\"send-amount-input\",e.AssetSelector=\"send-asset-selector\",e.SwapCurrencyButton=\"send-swap-currency\",e.MaxAmountButton=\"send-amount-input-max\",e.CancelButton=\"send-cancel-button\",e.SendButton=\"send-submit-button\",e.ClearButton=\"send-clear-button\",e.CloseButton=\"send-close-button\"}(dv||(dv={})),function(e){e.TOKEN=\"TOKEN\",e.FIAT=\"USD\"}(hv||(hv={}));const pv=({name:e,value:t,tokenSymbol:n,currency:r,currencyType:o,error:i,locale:a,swapCurrencyButtonDisabled:s=!1})=>{const c=ph(a),u=o===hv.FIAT?r.toUpperCase():n;return Jd(rv,{label:c(\"send.amountField\"),error:i,children:[Hd(fv,{name:e,type:\"number\",min:0,placeholder:\"0\",step:.01,value:t??void 0}),Jd(eh,{direction:\"horizontal\",center:!0,children:[Hd(eh,{direction:\"vertical\",alignment:\"center\",children:Hd(nh,{size:\"sm\",children:u})}),Hd(ch,{name:dv.SwapCurrencyButton,disabled:s,children:Hd(_h,{name:\"swap-vertical\",color:s?\"muted\":\"primary\",size:\"md\"})})]})]})},gv=({name:e,value:t,error:n,locale:r,showClearButton:o,disabled:i})=>{const a=ph(r);return Jd(rv,{label:a(\"send.toField\"),error:n,children:[Hd(fv,{name:e,placeholder:i?\"\":a(\"send.toPlaceholder\"),value:t??void 0,disabled:i}),o?Hd(eh,{children:Hd(ch,{name:dv.ClearButton,children:Hd(_h,{name:Eh.Close,color:\"primary\"})})}):null]})},mv=e=>{var t,n;const{amount:r,tokenPrices:o,tokenCaipId:i,currencyType:a}=e,s=null===(n=o)||void 0===n||null===(t=n[i])||void 0===t?void 0:t.price;if(a===hv.TOKEN)return r;if(void 0===s)throw new Error(\"Token price is undefined, cannot convert to fiat amount.\");return null===r?null:qo(r).dividedBy(qo(s)).toString()},vv=e=>{var t,n;const{selectedTokenMetadata:r}=e;return{...r??{},tokenSymbol:(null===(t=r)||void 0===t?void 0:t.symbol)??\"UNKNOWN\",tokenImage:(null===(n=r)||void 0===n?void 0:n.imageSvg)??ym}},yv=e=>{var t,n;const{tokenCaipId:r,tokenPrices:o}=e;return null===(n=o)||void 0===n||null===(t=n[r])||void 0===t?void 0:t.price},wv=e=>{var t,n,r;const{balances:o,fromAccountId:i,tokenCaipId:a}=e;return(null===(r=o)||void 0===r||null===(n=r[i])||void 0===n||null===(t=n[a])||void 0===t?void 0:t.amount)??\"0\"},bv=e=>{var t,n;const{tokenCaipId:r,scope:o}=e;return r===(null===(n=tc[o])||void 0===n||null===(t=n.nativeToken)||void 0===t?void 0:t.caip19Id)},Av=Qd(\"Spinner\"),Sv=({title:e,subtitle:t,iconSrc:n,isLoading:r})=>Jd(eh,{alignment:\"center\",center:!0,children:[Jd(eh,{direction:\"horizontal\",center:!0,children:[r?Hd(Av,{}):null,n&&!r?Hd(ah,{borderRadius:\"full\",src:n}):null]}),Hd(th,{size:\"lg\",children:e}),t?Hd(nh,{color:\"muted\",children:t}):null]}),xv=Qd(\"Value\"),Ev=({context:e})=>{var t,n;const{scope:r,fromAccountId:o,toAddress:i,accounts:a,feeEstimatedInSol:s,preferences:{locale:c,currency:u},transaction:l,feePaidInSol:f,tokenPrices:d}=e,h=ph(c),p=tc[r],g=null===(t=a.find((e=>e.id===o)))||void 0===t?void 0:t.address,m=uh(r,g),v=p.name,y=p.nativeToken.symbol,w=null===(n=d[p.nativeToken.caip19Id])||void 0===n?void 0:n.price,b=l?f:s,A=b?Zh(b,y,c):\"\",S=void 0===w||null===b?\"\":Ah(Yh(b,w),u,c);return Jd(eh,{children:[Jd(rh,{children:[Hd(oh,{label:h(\"send.confirmation.from\"),children:Hd(Dh,{href:Fh(r,\"address\",g),children:Hd(ih,{address:m,displayName:!0})})}),i?Hd(oh,{label:h(\"send.confirmation.recipient\"),children:Hd(Dh,{href:Fh(r,\"address\",i),children:Hd(ih,{address:uh(r,i),displayName:!0})})}):null]}),Jd(rh,{children:[Hd(oh,{label:h(\"send.confirmation.network\"),children:Hd(nh,{children:v})}),Hd(oh,{label:h(\"send.confirmation.transactionSpeed\"),children:Hd(nh,{children:\"<1s\"})}),Hd(oh,{label:h(\"send.confirmation.fee\"),children:Hd(xv,{extra:S,value:A})})]})]})};var _v;!function(e){e.BackButton=\"transaction-confirmation-back-button\",e.CancelButton=\"transaction-confirmation-cancel-button\",e.ConfirmButton=\"transaction-confirmation-submit-button\"}(_v||(_v={}));const kv={\"send-form\":({context:e,inputToAddress:t,inputAmount:n})=>{var r,o,i,a,s,c,u,l,f,d,h;const{accounts:p,fromAccountId:g,amount:m,toAddress:v,validation:y,currencyType:w,tokenCaipId:b,scope:A,balances:S,tokenPricesFetchStatus:x,buildingTransaction:E,error:_,loading:k,transactionMessage:I,preferences:{locale:T,currency:O}}=e,C=ph(T),B=null===(r=S[g])||void 0===r?void 0:r[b],R=null===(o=B)||void 0===o?void 0:o.amount,j=(null===(i=B)||void 0===i?void 0:i.unit)??\"\",P=void 0!==R,N=p.find((e=>e.id===g)),L=(null===(a=N)||void 0===a?void 0:a.address)?uh(A,N.address):\"\",M=(e=>{var t,n,r,o;const{tokenPrices:i,scope:a}=e;return null===(o=i)||void 0===o||null===(t=o[null===(r=tc[a])||void 0===r||null===(n=r.nativeToken)||void 0===n?void 0:n.caip19Id])||void 0===t?void 0:t.price})(e),z=yv(e),U=void 0===R||\"0\"===R,$=void 0===z,D=\"error\"===x||\"fetched\"===x&&$,F=(P?{[hv.FIAT]:Ah(Yh(R,z??0),O,T),[hv.TOKEN]:Zh(R,j,T)}:{[hv.FIAT]:\"\",[hv.TOKEN]:\"\"})[w],q=g.length>0&&!!v&&v.length>0&&zf(null===(s=y)||void 0===s?void 0:s[dv.DestinationAccountInput]),W=!zf(I)&&\"\"!==I,K=Boolean(v&&v.length>0),G=g.length>0&&!!m&&m.length>0&&!!v&&v.length>0&&Object.values(y).every(zf)&&P&&!E&&W;return Jd(Xd,{backgroundColor:\"alternative\",children:[Jd(eh,{children:[Hd(iv,{title:C(\"send.title\"),backButtonName:dv.BackButton}),Jd(nv,{name:dv.Form,children:[D&&Hd(Kh,{title:\"\",severity:\"info\",children:Hd(nh,{children:C(\"send.selectedTokenPriceNotAvailable\",{currency:O})})}),Hd(eh,{children:null}),Hd(eh,{children:null}),Hd(eh,{children:null}),Hd(lv,{name:dv.SourceAccountSelector,scope:A,error:(null===(u=y)||void 0===u||null===(c=u[dv.SourceAccountSelector])||void 0===c?void 0:c.message)??\"\",accounts:p,selectedAccountId:g,balances:S,price:M??null,locale:T,currency:O}),Hd(eh,{children:null}),Hd(eh,{children:null}),Hd(eh,{children:null}),Hd(gv,{locale:T,disabled:k,name:dv.DestinationAccountInput,value:t??null,showClearButton:K,error:(null===(f=y)||void 0===f||null===(l=f[dv.DestinationAccountInput])||void 0===l?void 0:l.message)??\"\"}),q&&Jd(eh,{children:[Hd(eh,{children:null}),Hd(eh,{children:null}),Hd(eh,{children:null}),Jd(eh,{direction:\"horizontal\",children:[Hd(rv,{label:C(\"send.assetField\"),children:Hd(ov,{chainIds:[A],value:b,name:dv.AssetSelector,addresses:L?[L]:[]})}),Hd(pv,{name:dv.AmountInput,error:(null===(h=y)||void 0===h||null===(d=h[dv.AmountInput])||void 0===d?void 0:d.message)??\"\",currencyType:w,tokenSymbol:j,currency:O,value:n??null,locale:T,swapCurrencyButtonDisabled:$||U})]}),Jd(eh,{direction:\"horizontal\",alignment:\"space-between\",center:!0,children:[F?Hd(nh,{size:\"sm\",color:\"muted\",children:`${C(\"send.balance\")}: ${F}`}):Hd(eh,{children:null}),Hd(ch,{size:\"sm\",name:dv.MaxAmountButton,disabled:U,children:C(\"send.maxButton\")})]})]}),_&&Jd(eh,{children:[Hd(eh,{children:null}),Hd(Kh,{title:C(_.title),severity:\"warning\",children:Hd(nh,{children:C(_.message)})})]})]})]}),Jd(sh,{children:[Hd(ch,{name:dv.CancelButton,children:C(\"send.cancelButton\")}),Hd(ch,{name:dv.SendButton,disabled:!G,loading:E,children:C(\"send.continueButton\")})]})]})},\"transaction-confirmation\":({context:e})=>{const{preferences:{currency:t,locale:n}}=e,r=ph(n),{tokenImage:o,tokenSymbol:i}=vv(e),a=mv(e),s=yv(e),c=void 0===s?\"\":Ah(Yh(a??\"0\",s),t,n);return Jd(Xd,{children:[Jd(eh,{children:[Hd(iv,{title:r(\"send.confirmation.title\"),backButtonName:_v.BackButton}),Hd(Sv,{title:Zh(a??\"0\",i,n),subtitle:c,iconSrc:o}),Hd(Ev,{context:e})]}),Jd(sh,{children:[Hd(ch,{name:_v.CancelButton,children:r(\"send.confirmation.cancelButton\")}),Hd(ch,{name:_v.ConfirmButton,loading:e.loading,disabled:e.loading,children:r(\"send.confirmation.sendButton\")})]})]})},\"send-pending\":({context:e})=>{const t=ph(e.preferences.locale);return Hd(Xd,{children:Jd(eh,{children:[Hd(eh,{children:null}),Hd(Sv,{title:t(\"send.send-pending.title\"),subtitle:t(\"send.send-pending.subtitle\"),isLoading:!0}),Hd(Ev,{context:e})]})})},\"transaction-success\":({context:e})=>{var t,n;const{preferences:r,transaction:o,scope:i}=e,a=ph(r.locale),{tokenSymbol:s}=vv(e),c=mv(e);return Hd(Xd,{children:Jd(eh,{children:[Hd(eh,{children:null}),Hd(Sv,{title:a(\"send.transaction-success.title\"),subtitle:a(\"send.transaction-success.subtitle\",{amount:bh(c??\"0\",r.locale),tokenSymbol:s}),iconSrc:'<svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n<path d=\"M24.0002 3.99902C12.9802 3.99902 4.00024 12.979 4.00024 23.999C4.00024 35.019 12.9802 43.999 24.0002 43.999C35.0202 43.999 44.0002 35.019 44.0002 23.999C44.0002 12.979 35.0202 3.99902 24.0002 3.99902ZM33.5602 19.399L22.2202 30.739C21.9402 31.019 21.5602 31.179 21.1602 31.179C20.7602 31.179 20.3802 31.019 20.1002 30.739L14.4402 25.079C13.8602 24.499 13.8602 23.539 14.4402 22.959C15.0202 22.379 15.9802 22.379 16.5602 22.959L21.1602 27.559L31.4402 17.279C32.0202 16.699 32.9802 16.699 33.5602 17.279C34.1402 17.859 34.1402 18.799 33.5602 19.399Z\" fill=\"#1C8234\"/>\\n</svg>\\n'}),Hd(Ev,{context:e}),(null===(t=o)||void 0===t?void 0:t.signature)?Hd(eh,{alignment:\"center\",center:!0,children:Hd(Dh,{href:Fh(i,\"tx\",null===(n=o)||void 0===n?void 0:n.signature),children:a(\"send.confirmation.viewTransaction\")})}):null]})})},\"transaction-failure\":({context:e})=>{const{preferences:t}=e,n=ph(t.locale),{tokenSymbol:r}=vv(e),o=mv(e);return Hd(Xd,{children:Jd(eh,{children:[Hd(eh,{children:null}),Hd(Sv,{title:n(\"send.transaction-failure.title\"),subtitle:n(\"send.transaction-failure.subtitle\",{amount:o??\"0\",tokenSymbol:r}),iconSrc:'<svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n<path d=\"M40.8277 29.5283L29.7931 8.40143C28.3104 5.55884 26.2586 4 24 4C21.7414 4 19.6896 5.55884 18.2069 8.40143L7.17228 29.5283C5.77572 32.2241 5.62055 34.81 6.74125 36.8456C7.86194 38.8813 10.0689 40 12.9654 40H35.0346C37.9311 40 40.1381 38.8813 41.2588 36.8456C42.3795 34.81 42.2243 32.2058 40.8277 29.5283ZM22.7069 16.8375C22.7069 16.0856 23.2931 15.462 24 15.462C24.7069 15.462 25.2931 16.0856 25.2931 16.8375V26.0071C25.2931 26.759 24.7069 27.3826 24 27.3826C23.2931 27.3826 22.7069 26.759 22.7069 26.0071V16.8375ZM25.2241 32.811C25.1379 32.8844 25.0517 32.9577 24.9655 33.0311C24.8621 33.1044 24.7586 33.1595 24.6552 33.1961C24.5517 33.2511 24.4483 33.2878 24.3276 33.3062C24.2241 33.3245 24.1034 33.3428 24 33.3428C23.8965 33.3428 23.7759 33.3245 23.6552 33.3062C23.5517 33.2878 23.4483 33.2511 23.3448 33.1961C23.2414 33.1595 23.1379 33.1044 23.0345 33.0311C22.9483 32.9577 22.8621 32.8844 22.7759 32.811C22.4655 32.4626 22.2758 31.9857 22.2758 31.5089C22.2758 31.0321 22.4655 30.5553 22.7759 30.2068C22.8621 30.1335 22.9483 30.0601 23.0345 29.9868C23.1379 29.9134 23.2414 29.8584 23.3448 29.8217C23.4483 29.7667 23.5517 29.73 23.6552 29.7117C23.8793 29.6567 24.1207 29.6567 24.3276 29.7117C24.4483 29.73 24.5517 29.7667 24.6552 29.8217C24.7586 29.8584 24.8621 29.9134 24.9655 29.9868C25.0517 30.0601 25.1379 30.1335 25.2241 30.2068C25.5345 30.5553 25.7241 31.0321 25.7241 31.5089C25.7241 31.9857 25.5345 32.4626 25.2241 32.811Z\" fill=\"#BF5208\"/>\\n</svg>\\n'}),Hd(Ev,{context:e})]})})}},Iv=({context:e,inputToAddress:t,inputAmount:n})=>{const r=e.stage??\"send-form\";return Hd(kv[r],{context:e,inputToAddress:t,inputAmount:n})};function Tv(e,t,n){var r;return n[e]?(null===(r=n[e])||void 0===r?void 0:r.map((e=>e(t))).find((e=>null!==e)))??null:null}function Ov(e){const t=Pv(e),n={[dv.SourceAccountSelector]:e.fromAccountId,[dv.AmountInput]:e.amount,[dv.DestinationAccountInput]:e.toAddress};return Object.entries(t).every((([e,t])=>{const r=n[e];return!!r&&t.every((e=>null===e(r)))}))}const Cv=(e,t)=>{const n=ph(t);return t=>{const r=\"\"===t?{message:n(e),value:t}:null;return r?{message:r.message,value:t}:null}},Bv=(e,t)=>{const n=ph(t);return t=>{try{return Bs(t),null}catch{return{message:n(e),value:t}}}},Rv=e=>{const{minimumBalanceForRentExemptionSol:t,preferences:{locale:n},feeEstimatedInSol:r}=e,o=ph(n);return n=>{if(\"\"===n)return{message:\"\",value:n};const i=mv({...e,amount:n}),a=Mh(i??\"0\"),s=wv(e),c=Mh(s),u=Mh(r??\"0\"),l=Mh(t??\"0\");if(a.isZero())return{message:\"\",value:n};if(a.gt(c))return{message:o(\"send.insufficientBalance\"),value:n};const f=(e=>wv({...e,tokenCaipId:tc[e.scope].nativeToken.caip19Id}))(e),d=Mh(f);if(d.isZero())return{message:o(\"send.insuffientSolToCoverFee\"),value:n};if(bv(e)){if(a.lt(l))return{message:o(\"send.amountGreatherThanMinimumBalanceForRentExemptionError\",{minimumValue:t}),value:n};if(a.plus(u).plus(l).gt(c))return{message:o(\"send.insuffientSolToCoverFee\"),value:n}}else{if(u.plus(l).gt(d))return{message:o(\"send.insuffientSolToCoverFee\"),value:n}}return null}},jv=te({scope:J([...Object.values(Zs)]),account:nc,assetId:ne(ti)}),Pv=e=>({[dv.SourceAccountSelector]:[Cv(\"send.fromRequiredError\",e.preferences.locale)],[dv.AmountInput]:[Rv(e),Cv(\"send.amountRequiredError\",e.preferences.locale)],[dv.DestinationAccountInput]:[Cv(\"send.toRequiredError\",e.preferences.locale),Bv(\"send.toInvalidError\",e.preferences.locale)]}),Nv={scope:Zs.Mainnet,fromAccountId:\"\",amount:\"\",toAddress:\"\",feeEstimatedInSol:\"0\",feePaidInSol:\"0\",tokenCaipId:Ys.SolMainnet,accounts:[],currencyType:hv.TOKEN,validation:{},balances:{},assets:[],tokenPrices:{},selectedTokenMetadata:null,tokenPricesFetchStatus:\"initial\",preferences:{locale:\"en\",currency:\"usd\",hideBalances:!1,useSecurityAlerts:!0,useExternalPricingData:!0,simulateOnChainActions:!0,useTokenDetection:!0,batchCheckBalances:!0,displayNftMedia:!0,useNftDetection:!0},error:null,buildingTransaction:!1,transactionMessage:null,transaction:null,stage:\"send-form\",minimumBalanceForRentExemptionSol:\"0.002\",loading:!0},Lv={...{[tv.RefreshSend]:async()=>{const[e,t,n]=await Promise.all([Om.getKey(\"assets\"),Om.getKey(\"mapInterfaceNameToId\"),Lf().catch((()=>Nv.preferences))]);try{zl.info(`[${tv.RefreshSend}] Cronjob triggered`);const o=Object.values(e??{}).flatMap((e=>Object.keys(e)));let i={};try{i=await Lm.getMultipleSpotPrices(o,n.currency),await Om.setKey(\"tokenPrices\",i),zl.info(`[${tv.RefreshSend}]  Token prices were properly refreshed and saved in the state.`)}catch(e){zl.info({error:e},`[${tv.RefreshSend}]  Could not update the token prices in the state.`)}try{var r;const e=null===(r=t)||void 0===r?void 0:r[Cf];if(e){const t=await Mf(e);if(\"transaction-confirmation\"!==t.stage)return void zl.info(`[${tv.RefreshSend}]  Not in transaction confirmation stage`);if(!t.assets)return void zl.info(`[${tv.RefreshSend}]  No assets found`);const n={...t,tokenPrices:{...t.tokenPrices,...i}};await jf(e,Hd(Iv,{context:n}),n)}}catch(e){zl.info({error:e},`[${tv.RefreshSend}]  Could not update the interface`)}zl.info(`[${tv.RefreshSend}]  Cronjob suceeded`)}catch(e){zl.info({error:e},`[${tv.RefreshSend}]  Cronjob failed`)}},[tv.RefreshConfirmationEstimation]:async()=>{try{zl.info(`[${tv.RefreshConfirmationEstimation}] Cronjob triggered`);const n=(await Om.getKey(\"mapInterfaceNameToId\")??{})[Bf];try{if(n){var e,t;const r=await Mf(n);if(!((null===(e=r.account)||void 0===e?void 0:e.address)&&r.transaction&&r.scope&&r.method))return void zl.info(`[${tv.RefreshConfirmationEstimation}] Context is missing required fields`);if(!(null===(t=r.preferences)||void 0===t?void 0:t.simulateOnChainActions))return void zl.info(`[${tv.RefreshConfirmationEstimation}] Transaction simulation is disabled in preferences`);const o={...r,scanFetchStatus:\"fetching\"};await jf(n,Hd(Xh,{context:o}),o);const i=await Fm.scanTransaction({method:r.method,accountAddress:r.account.address,transaction:r.transaction,scope:r.scope,origin:r.origin}),a={...await Mf(n),scanFetchStatus:\"fetched\",scan:i};zl.info(`[${tv.RefreshConfirmationEstimation}] New scan fetched`),await jf(n,Hd(Xh,{context:a}),a)}zl.info(`[${tv.RefreshConfirmationEstimation}] Cronjob suceeded`)}catch(e){if(!n)return void zl.info(`[${tv.RefreshConfirmationEstimation}] No interface context found`);const t={...await Mf(n),scanFetchStatus:\"fetched\"};await jf(n,Hd(Xh,{context:t}),t),zl.info({error:e},`[${tv.RefreshConfirmationEstimation}] Could not update the interface. But rolled back status to fetched.`)}}catch(e){zl.info({error:e},`[${tv.RefreshConfirmationEstimation}] Cronjob failed`)}},[tv.ScheduleRefreshAccounts]:async()=>{zl.info(\"[scheduleRefreshAccounts] Cronjob triggered\");const e=await Om.getKey(\"didUpdate\");let t=await Om.getKey(\"refreshAccountsInterval\");t&&e||(t=2*(Math.random()||Number.MIN_VALUE),await Om.setKey(\"refreshAccountsInterval\",t),await Om.setKey(\"didUpdate\",!0)),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:`PT${t}M`,request:{method:np.OnAccountsRefresh,params:{}}}}),zl.info(`[scheduleRefreshAccounts] Scheduling next refresh in ${t} minutes`)}},...ev},Mv={[rd.StartSendTransactionFlow]:async({request:e})=>{const{params:t}=e;L(t,jv);const{scope:n,account:r}=t,o=t.assetId??tc[n].nativeToken.caip19Id,i={...Nv,scope:n,fromAccountId:r,tokenCaipId:o,loading:!0},[a,s]=await Promise.all([Om.get(),Lf().catch((()=>Nv.preferences))]),{assets:c,keyringAccounts:u,tokenPrices:l}=a;i.balances=function({scope:e,balances:t}){return Object.fromEntries(Object.entries(t).map((([t,n])=>[t,Object.fromEntries(Object.entries(n).filter((([t,n])=>{const r=t===tc[e].nativeToken.caip19Id,o=t.startsWith(e),i=\"0\"!==n.amount;return r||o&&i})))])))}({scope:n,balances:c});const f=c[i.fromAccountId]??{};i.assets=Object.keys(f),i.accounts=Object.values(u),i.preferences=s,i.tokenPrices=l??{};const d=await Rf(Hd(Iv,{context:i}),i),h=Nf(d),p=Mm.getTokensMetadata([i.tokenCaipId]).then((e=>{var t,n;const r=e[i.tokenCaipId];(null===(t=r)||void 0===t?void 0:t.symbol)&&(null===(n=r)||void 0===n?void 0:n.name)&&(i.selectedTokenMetadata={symbol:r.symbol,name:r.name,asset:i.tokenCaipId,imageSvg:null})})).catch((()=>null));let g;i.preferences.useExternalPricingData?g=Lm.getMultipleSpotPrices(i.assets,i.preferences.currency).then((e=>{i.tokenPrices={...i.tokenPrices,...e},i.tokenPricesFetchStatus=\"fetched\"})).catch((()=>{i.tokenPricesFetchStatus=\"error\"})):i.tokenPricesFetchStatus=\"fetched\";const m=Bm.getRpc(n).getMinimumBalanceForRentExemption(BigInt(0)).send().then((e=>{i.minimumBalanceForRentExemptionSol=Lh(e).toString()})).catch((()=>{}));return i.loading=!0,await jf(d,Hd(Iv,{context:i}),i),i.loading=!1,await Promise.all([g,p,m]),await jf(d,Hd(Iv,{context:i}),i),await Om.setKey(`mapInterfaceNameToId.${Cf}`,d),h},[rd.GetFeeForTransaction]:async({request:e})=>{L(e.params,dc);const{transaction:t,scope:n}=e.params;try{const e=await Rm.getFeeFromBase64StringInLamports(t,n);if(null===e)throw new Error(\"Failed to get fee for transaction\");const r={value:e.toString()};return L(r,hc),r}catch(e){throw zl.error(e),new so(e)}}};const zv=2n**255n-19n,Uv=2n**252n+27742317777372353535851937790883648493n,$v=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Dv=0x6666666666666666666666666666666666666666666666666666666666666658n,Fv={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:zv,n:Uv,h:8,Gx:$v,Gy:Dv},qv=(e=\"\")=>{throw new Error(e)},Wv=e=>\"string\"==typeof e,Kv=(e,t)=>!(e=>e instanceof Uint8Array||null!=e&&\"object\"==typeof e&&\"Uint8Array\"===e.constructor.name)(e)||\"number\"==typeof t&&t>0&&e.length!==t?qv(\"Uint8Array of valid length expected\"):e,Gv=e=>new Uint8Array(e),Vv=(e,t)=>Kv(Wv(e)?ty(e):Gv(Kv(e)),t),Hv=(e,t=zv)=>{let n=e%t;return n>=0n?n:t+n},Jv=e=>e instanceof Zv?e:qv(\"Point expected\");class Zv{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r}static fromAffine(e){return new Zv(e.x,e.y,1n,Hv(e.x*e.y))}static fromHex(e,t=!1){const{d:n}=Fv,r=(e=Vv(e,32)).slice(),o=e[31];r[31]=-129&o;const i=ry(r);!t||0n<=i&&i<2n**256n||qv(\"bad y coord 1\"),t||0n<=i&&i<zv||qv(\"bad y coord 2\");const a=Hv(i*i),s=Hv(a-1n),c=Hv(n*a+1n);let{isValid:u,value:l}=cy(s,c);u||qv(\"bad y coordinate 3\");const f=1n===(1n&l),d=0!=(128&o);return!t&&0n===l&&d&&qv(\"bad y coord 3\"),d!==f&&(l=Hv(-l)),new Zv(l,i,1n,Hv(l*i))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:t,ey:n,ez:r}=this,{ex:o,ey:i,ez:a}=Jv(e),s=Hv(t*a),c=Hv(o*r),u=Hv(n*a),l=Hv(i*r);return s===c&&u===l}is0(){return this.equals(Qv)}negate(){return new Zv(Hv(-this.ex),this.ey,this.ez,Hv(-this.et))}double(){const{ex:e,ey:t,ez:n}=this,{a:r}=Fv,o=Hv(e*e),i=Hv(t*t),a=Hv(2n*Hv(n*n)),s=Hv(r*o),c=e+t,u=Hv(Hv(c*c)-o-i),l=s+i,f=l-a,d=s-i,h=Hv(u*f),p=Hv(l*d),g=Hv(u*d),m=Hv(f*l);return new Zv(h,p,m,g)}add(e){const{ex:t,ey:n,ez:r,et:o}=this,{ex:i,ey:a,ez:s,et:c}=Jv(e),{a:u,d:l}=Fv,f=Hv(t*i),d=Hv(n*a),h=Hv(o*l*c),p=Hv(r*s),g=Hv((t+n)*(i+a)-f-d),m=Hv(p-h),v=Hv(p+h),y=Hv(d-u*f),w=Hv(g*m),b=Hv(v*y),A=Hv(g*y),S=Hv(m*v);return new Zv(w,b,S,A)}mul(e,t=!0){if(0n===e)return!0===t?qv(\"cannot multiply by 0\"):Qv;if(\"bigint\"==typeof e&&0n<e&&e<Uv||qv(\"invalid scalar, must be < L\"),!t&&this.is0()||1n===e)return this;if(this.equals(Yv))return Iy(e).p;let n=Qv,r=Yv;for(let o=this;e>0n;o=o.double(),e>>=1n)1n&e?n=n.add(o):t&&(r=r.add(o));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(Fv.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(Uv/2n,!1).double();return Uv%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:t,ez:n}=this;if(this.equals(Qv))return{x:0n,y:1n};const r=iy(n);return 1n!==Hv(n*r)&&qv(\"invalid inverse\"),{x:Hv(e*r),y:Hv(t*r)}}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=ny(t);return n[31]|=1n&e?128:0,n}toHex(){return ey(this.toRawBytes())}}Zv.BASE=new Zv($v,Dv,1n,Hv($v*Dv)),Zv.ZERO=new Zv(0n,1n,1n,0n);const{BASE:Yv,ZERO:Qv}=Zv,Xv=(e,t)=>e.toString(16).padStart(t,\"0\"),ey=e=>Array.from(e).map((e=>Xv(e,2))).join(\"\"),ty=e=>{const t=e.length;(!Wv(e)||t%2)&&qv(\"hex invalid 1\");const n=Gv(t/2);for(let t=0;t<n.length;t++){const r=2*t,o=e.slice(r,r+2),i=Number.parseInt(o,16);(Number.isNaN(i)||i<0)&&qv(\"hex invalid 2\"),n[t]=i}return n},ny=e=>ty(Xv(e,64)).reverse(),ry=e=>BigInt(\"0x\"+ey(Gv(Kv(e)).reverse())),oy=(...e)=>{const t=Gv(e.reduce(((e,t)=>e+Kv(t).length),0));let n=0;return e.forEach((e=>{t.set(e,n),n+=e.length})),t},iy=(e,t=zv)=>{(0n===e||t<=0n)&&qv(\"no inverse n=\"+e+\" mod=\"+t);let n=Hv(e,t),r=t,o=0n,i=1n,a=1n,s=0n;for(;0n!==n;){const e=r/n,t=r%n,c=o-a*e,u=i-s*e;r=n,n=t,o=a,i=s,a=c,s=u}return 1n===r?Hv(o,t):qv(\"no inverse\")},ay=(e,t)=>{let n=e;for(;t-- >0n;)n*=n,n%=zv;return n},sy=19681161376707505956807079304988542015446066515923890162744021073123829784752n,cy=(e,t)=>{const n=Hv(t*t*t),r=(e=>{const t=e*e%zv*e%zv,n=ay(t,2n)*t%zv,r=ay(n,1n)*e%zv,o=ay(r,5n)*r%zv,i=ay(o,10n)*o%zv,a=ay(i,20n)*i%zv,s=ay(a,40n)*a%zv,c=ay(s,80n)*s%zv,u=ay(c,80n)*s%zv,l=ay(u,10n)*o%zv;return{pow_p_5_8:ay(l,2n)*e%zv,b2:t}})(e*Hv(n*n*t)).pow_p_5_8;let o=Hv(e*n*r);const i=Hv(t*o*o),a=o,s=Hv(o*sy),c=i===e,u=i===Hv(-e),l=i===Hv(-e*sy);return c&&(o=a),(u||l)&&(o=s),1n===(1n&Hv(o))&&(o=Hv(-o)),{isValid:c||u,value:o}},uy=e=>Hv(ry(e),Uv);let ly;const fy=(...e)=>Ey.sha512Async(...e),dy=(...e)=>\"function\"==typeof ly?ly(...e):qv(\"etc.sha512Sync not set\"),hy=e=>{const t=e.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;const n=e.slice(32,64),r=uy(t),o=Yv.mul(r),i=o.toRawBytes();return{head:t,prefix:n,scalar:r,point:o,pointBytes:i}},py=e=>fy(Vv(e,32)).then(hy),gy=e=>hy(dy(Vv(e,32))),my=e=>py(e).then((e=>e.pointBytes));function vy(e,t){return e?fy(t.hashable).then(t.finish):t.finish(dy(t.hashable))}const yy=(e,t,n)=>{const{pointBytes:r,scalar:o}=e,i=uy(t),a=Yv.mul(i).toRawBytes();return{hashable:oy(a,r,n),finish:e=>{const t=Hv(i+uy(e)*o,Uv);return Kv(oy(a,ny(t)),64)}}},wy=async(e,t)=>{const n=Vv(e),r=await py(t),o=await fy(r.prefix,n);return vy(!0,yy(r,o,n))},by={zip215:!0},Ay=(e,t,n,r=by)=>{t=Vv(t),e=Vv(e,64);const{zip215:o}=r;let i,a,s,c,u=new Uint8Array;try{i=Zv.fromHex(n,o),a=Zv.fromHex(e.slice(0,32),o),s=ry(e.slice(32,64)),c=Yv.mul(s,!1),u=oy(a.toRawBytes(),i.toRawBytes(),t)}catch(e){}return{hashable:u,finish:e=>{if(null==c)return!1;if(!o&&i.isSmallOrder())return!1;const t=uy(e);return a.add(i.mul(t,!1)).add(c.negate()).clearCofactor().is0()}}},Sy=async(e,t,n,r=by)=>vy(!0,Ay(e,t,n,r)),xy=()=>\"object\"==typeof globalThis&&\"crypto\"in globalThis?globalThis.crypto:void 0,Ey={bytesToHex:ey,hexToBytes:ty,concatBytes:oy,mod:Hv,invert:iy,randomBytes:(e=32)=>{const t=xy();return t&&t.getRandomValues||qv(\"crypto.getRandomValues must be defined\"),t.getRandomValues(Gv(e))},sha512Async:async(...e)=>{const t=xy();t&&t.subtle||qv(\"crypto.subtle or etc.sha512Async must be defined\");const n=oy(...e);return Gv(await t.subtle.digest(\"SHA-512\",n.buffer))},sha512Sync:void 0};Object.defineProperties(Ey,{sha512Sync:{configurable:!1,get:()=>ly,set(e){ly||(ly=e)}}});const _y={getExtendedPublicKeyAsync:py,getExtendedPublicKey:gy,randomPrivateKey:()=>Ey.randomBytes(32),precompute:(e=8,t=Yv)=>(t.multiply(3n),t)};let ky;const Iy=e=>{const t=ky||(ky=(()=>{const e=[];let t=Yv,n=t;for(let r=0;r<33;r++){n=t,e.push(n);for(let r=1;r<128;r++)n=n.add(t),e.push(n);t=n.double()}return e})()),n=(e,t)=>{let n=t.negate();return e?n:t};let r=Qv,o=Yv;const i=BigInt(255),a=BigInt(8);for(let s=0;s<33;s++){const c=128*s;let u=Number(e&i);e>>=a,u>128&&(u-=256,e+=1n);const l=c,f=c+Math.abs(u)-1,d=s%2!=0,h=u<0;0===u?o=o.add(n(d,t[l])):r=r.add(n(h,t[f]))}return{p:r,f:o}};function Ty(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var Oy=n(1048).hp;const Cy=\"8d9df0f7-1363-4d2c-8152-ce4ed78f27d8\",By=[48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32];function Ry(e){return Oy.from(e).toString(\"base64\").replace(/\\+/gu,\"-\").replace(/\\//gu,\"_\").replace(/[=]/gu,\"\")}function jy(e){const t=e.replace(/-/gu,\"+\").replace(/_/gu,\"/\");return new Uint8Array(Oy.from(t,\"base64\"))}function Py(e){return\"Ed25519\"===e||\"object\"==typeof e&&\"Ed25519\"===e.name}function Ny(){const{subtle:e}=globalThis.crypto;Object.defineProperty(globalThis,\"isSecureContext\",{value:!0,writable:!0,configurable:!0}),Object.defineProperty(e,\"generateKey\",{value:async(...e)=>Py(e[0])?await async function(e,t,n){const r=_y.randomPrivateKey(),o=await my(r),i=Array.from(n);return{privateKey:{algorithm:{name:\"Ed25519\"},extractable:t,type:\"private\",usages:i,[Cy]:r},publicKey:{algorithm:{name:\"Ed25519\"},extractable:!0,type:\"public\",usages:i,[Cy]:o}}}(...e):await globalThis.crypto.subtle.generateKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,\"exportKey\",{value:async(...e)=>Py(e[1].algorithm)?await async function(e,t){if(!t.extractable)throw new DOMException(\"key is not extractable\",\"InvalidAccessException\");const n=t[Cy];switch(e){case\"raw\":if(\"public\"!==t.type)throw new DOMException(\"Unable to export a raw Ed25519 private key\",\"InvalidAccessError\");return n.buffer;case\"pkcs8\":if(\"private\"!==t.type)throw new DOMException(\"Unable to export a pkcs8 Ed25519 public key\",\"InvalidAccessError\");return new Uint8Array([...By,...n]).buffer;case\"jwk\":{const e={crv:\"Ed25519\",ext:t.extractable,key_ops:t.usages,kty:\"OKP\"};if(\"private\"===t.type){const t=await my(n);return Object.freeze({...e,d:Ry(n),x:Ry(t)})}return Object.freeze({...e,x:Ry(n)})}case\"spki\":{if(\"public\"!==t.type)throw new DOMException(\"Only public keys can be exported as SPKI\",\"InvalidAccessError\");const e=new Uint8Array([48,5,6,3,43,101,112]),r=new Uint8Array([3,n.length+1,0,...n]);return new Uint8Array([48,e.length+r.length,...e,...r]).buffer}default:throw new Error(`Unsupported export format: ${e}`)}}(...e):await globalThis.crypto.subtle.exportKey(...e),writable:!0,configurable:!0}),Object.defineProperty(e,\"sign\",{value:async(...e)=>{const[t,n]=e;return Py(t)&&Py(n.algorithm)?await async function(e,t,n){if(\"private\"!==t.type)throw new DOMException(\"Key is not private\",\"NotAllowedError\");if(!t.usages.includes(\"sign\"))throw new DOMException(\"Key usage not allowed\",\"NotAllowedError\");const r=Ty(n),o=t[Cy],i=function(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteLength)}(await wy(r,o));return i}(...e):await globalThis.crypto.subtle.sign(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,\"verify\",{value:async(...e)=>{const[t,n]=e;return Py(t)&&Py(n.algorithm)?await async function(e,t,n,r){if(\"public\"!==t.type)throw new DOMException(\"Key is not public\",\"NotAllowedError\");if(!t.usages.includes(\"verify\"))throw new DOMException(\"Key usage not allowed\",\"NotAllowedError\");const o=Ty(n),i=Ty(r),a=t[Cy];return await Sy(o,i,a)}(...e):await globalThis.crypto.subtle.verify(...e)},writable:!0,configurable:!0}),Object.defineProperty(e,\"importKey\",{value:async(...e)=>Py(e[2])?await async function(e,t,n,r,o){const i=Array.from(o);switch(e){case\"raw\":{const e=Ty(t);if(32!==e.length)throw new DOMException(\"Ed25519 raw keys must be exactly 32-bytes\",\"DataError\");return{algorithm:{name:\"Ed25519\"},extractable:r,type:\"public\",usages:i.filter((e=>\"verify\"===e)),[Cy]:e}}case\"pkcs8\":{const e=Ty(t);if(48!==e.length)throw new DOMException(\"Invalid PKCS8 key data length\",\"DataError\");if(!e.slice(0,16).every(((e,t)=>e===By[t])))throw new DOMException(\"Invalid PKCS8 header\",\"DataError\");return{algorithm:{name:\"Ed25519\"},extractable:r,type:\"private\",usages:i.filter((e=>\"sign\"===e)),[Cy]:e.slice(16)}}case\"jwk\":{const e=t;if(\"OKP\"!==e.kty||\"Ed25519\"!==e.crv)throw new DOMException(\"Invalid Ed25519 JWK\",\"DataError\");const n=\"d\"in e?\"private\":\"public\";if(\"public\"===n&&!e.x)throw new DOMException(\"Ed25519 JWK is missing public key\",\"DataError\");if(!(\"private\"!==n||e.d&&e.x))throw new DOMException(\"Ed25519 JWK is missing key data\",\"DataError\");const o=\"private\"===n?e.d:e.x;return{algorithm:{name:\"Ed25519\"},extractable:r,type:n,usages:i.filter((e=>\"private\"===n?\"sign\"===e:\"verify\"===e)),[Cy]:jy(o)}}case\"spki\":{const e=Ty(t);if(48!==e[0])throw new DOMException(\"Invalid SPKI format\",\"DataError\");const n=2;if(48!==e[n]||6!==e[n+2]||3!==e[n+3]||43!==e[n+4]||101!==e[n+5]||112!==e[n+6])throw new DOMException(\"Not an Ed25519 key\",\"DataError\");const r=n+7+2;return{algorithm:{name:\"Ed25519\"},extractable:!0,type:\"public\",usages:i.filter((e=>\"verify\"===e)),[Cy]:e.slice(r)}}default:throw new Error(`Unsupported import format: ${e}`)}}(...e):await globalThis.crypto.subtle.importKey(...e),writable:!0,configurable:!0})}const Ly=async e=>Promise.resolve().then(e);Error;function My(e){return[io,ho,xo,po,ho,go,mo,vo,yo,wo,bo,Ao,So,so,co,uo,lo,fo].some((t=>e instanceof t))}const zy=uu(5000n);class Uy{#X;constructor(e){this.#X=e}#ee(){const e=this.#X.getComputeUnitLimit(),t=this.#X.getComputeUnitPriceMicroLamportsPerComputeUnit();return lu(e,(e=>qo(e)),(e=>e.multipliedBy(t.toString())),(e=>e.dividedToIntegerBy(Hs.toString())),(e=>e.toString()),BigInt,uu)}getFee(){const e=this.#ee();return uu(zy+e)}}var $y=n(4255),Dy=n.n($y),Fy=n(3804),qy=n.n(Fy);class Wy extends Error{constructor(e=\"Operation cancelled\"){super(e),this.name=\"CancellationError\"}}const Ky=async e=>{const{fromAccountId:t,tokenCaipId:n,scope:r,toAddress:o}=e,i=mv(e),a=await Wm.getAccountOrThrow(t);if(!o||!i)throw new Error(\"Invalid transaction parameters\");const s=n===tc[r].nativeToken.caip19Id,c=s?jm:Pm,u=new Uy(c),l={from:a,to:Bs(o),amount:i,network:r,...s?{}:{mint:Bs(oi(n).assetReference)}},f=await c.buildTransactionMessage(l),d=await(async e=>lu(e,Fu,Pu().encode,As().decode))(f);return{feeInLamports:u.getFee(),base64EncodedTransactionMessage:d}},Gy=qy()((async(e,t)=>{try{if(!Ov(t))return;const n={buildingTransaction:!0,transactionMessage:null,feeEstimatedInSol:null};await jf(e,Hd(Iv,{context:{...t,...n}}),{...t,...n});const{feeInLamports:r,base64EncodedTransactionMessage:o}=await Ky(t),i={transactionMessage:o,feeEstimatedInSol:r?Lh(r).toString():null,buildingTransaction:!1},a=await Mf(e);await jf(e,Hd(Iv,{context:{...a,...i}}),{...a,...i})}catch(t){zl.error(\"Could not build the send transaction\",t);const n={error:{title:\"send.simulationTitleError\",message:\"send.simulationMessageError\"},transactionMessage:null,feeEstimatedInSol:null,buildingTransaction:!1},r=await Mf(e);await jf(e,Hd(Iv,{context:{...r,...n}}),{...r,...n})}}),(function(e){const t=(e=>(...t)=>{const n=new AbortController,r=[...t];r.some((e=>e instanceof AbortSignal))||r.push(n.signal);const o=Promise.race([e(...r),new Promise(((e,t)=>{n.signal.addEventListener(\"abort\",(()=>{t(new Wy)}))}))]);return o.cancel=()=>n.abort(),o})(e);let n=null;return async(...e)=>{if(n&&\"function\"==typeof n.cancel){const e=\"Cancelling previous task\";console.warn(e),n.cancel()}const r=t(...e);n=r;try{return await r}finally{n===r&&(n=null)}}}),Dy()(500));const Vy={[dv.BackButton]:async function({id:e}){await Pf(e,!1),await Om.deleteKey(`mapInterfaceNameToId.${Cf}`)},[dv.SourceAccountSelector]:async function({id:e,event:t,context:n}){n.fromAccountId=t.value,n.error=null,n.validation[dv.SourceAccountSelector]=Tv(dv.SourceAccountSelector,n.fromAccountId,Pv(n)),n.amount&&(n.validation[dv.AmountInput]=Tv(dv.AmountInput,n.amount,Pv(n))),await jf(e,Hd(Iv,{context:n}),n),await Gy(e,n)},[dv.AmountInput]:async function({id:e,event:t,context:n}){var r,o;const i={...n};i.amount=t.value,i.error=null;const a=Tv(dv.AmountInput,i.amount,Pv(i));if(a&&(null===(r=i.validation[dv.AmountInput])||void 0===r?void 0:r.message)!==(null===(o=a)||void 0===o?void 0:o.message))return i.validation[dv.AmountInput]=a,void await jf(e,Hd(Iv,{context:i}),i);null===a&&(i.validation[dv.AmountInput]=null,await jf(e,Hd(Iv,{context:i}),i),await Gy(e,i))},[dv.AssetSelector]:async function({id:e,event:t,context:n}){if(\"object\"!=typeof t.value||!(\"asset\"in t.value))return;const r=t.value.asset;if(n.tokenCaipId===r)return;const o=r===tc[n.scope].nativeToken.caip19Id?jm:Pm,i=new Uy(o).getFee(),a={tokenCaipId:r,feeEstimatedInSol:Lh(i).toString(),selectedTokenMetadata:{symbol:t.value.symbol,name:t.value.name,asset:t.value.asset,imageSvg:null},amount:\"\",error:null},s=(0,ci.merge)(n,a);await jf(e,Hd(Iv,{context:s,inputAmount:\"\"}),s),await Gy(e,n)},[dv.SwapCurrencyButton]:async function({id:e,context:t}){if(t.error=null,t.currencyType=t.currencyType===hv.TOKEN?hv.FIAT:hv.TOKEN,!t.amount)return void await jf(e,Hd(Iv,{context:t}),t);const n=qo(t.amount??\"0\"),{price:r}=t.tokenPrices[t.tokenCaipId]??{price:0};t.currencyType===hv.TOKEN&&(t.amount=n.dividedBy(r).toString()),t.currencyType===hv.FIAT&&(t.amount=n.multipliedBy(r).toString()),await jf(e,Hd(Iv,{context:t,inputAmount:t.amount}),t)},[dv.MaxAmountButton]:async function({id:e,context:t}){const{currencyType:n,minimumBalanceForRentExemptionSol:r,tokenCaipId:o,tokenPrices:i}=t,a={...t},s=wv(t);if(bv(t)){const e=Mh(s),t=new Uy(jm).getFee().toString(),n=Mh(r),o=e.minus(t).minus(n).minus(1),i=qo.maximum(o,qo(0)),c=Lh(i);a.amount=c.toString()}else a.amount=s;if(n===hv.FIAT){const{price:e}=i[o]??{price:0};a.amount=Yh(a.amount,e)}a.error=null,a.validation[dv.AmountInput]=Tv(dv.AmountInput,a.amount,Pv(a)),await jf(e,Hd(Iv,{context:a,inputAmount:a.amount}),a),await Gy(e,a)},[dv.DestinationAccountInput]:async function({id:e,event:t,context:n}){const r={...n};r.toAddress=t.value,r.error=null;const o=Tv(dv.DestinationAccountInput,r.toAddress,Pv(r));r.validation[dv.DestinationAccountInput]=o,await jf(e,Hd(Iv,{context:r}),r),null===o&&await Gy(e,r)},[dv.ClearButton]:async function({id:e,context:t}){t.toAddress=\"\",t.error=null,await jf(e,Hd(Iv,{context:t,inputToAddress:t.toAddress}),t)},[dv.CancelButton]:async function({id:e}){await Pf(e,!1),await Om.deleteKey(`mapInterfaceNameToId.${Cf}`)},[dv.SendButton]:async function({id:e,context:t}){var n;if(!Ov(t))return;const r={...t};r.stage=\"transaction-confirmation\",r.loading=!0,await jf(e,Hd(Iv,{context:r}),r);const[o,i]=await Promise.all([Lm.getMultipleSpotPrices(t.assets,t.preferences.currency).then((e=>e)).catch((()=>null)),t.selectedTokenMetadata?Mm.generateImageComponent(vc({baseUrl:Tm.get().staticApi.baseUrl,path:\"/api/v2/tokenIcons/assets/{assetId}.png\",pathParams:{assetId:null===(n=t.selectedTokenMetadata)||void 0===n?void 0:n.asset.replace(/:/gu,\"/\")}})):null]);o&&i&&(r.tokenPrices=o,r.selectedTokenMetadata=t.selectedTokenMetadata?{...t.selectedTokenMetadata,imageSvg:i}:null),r.loading=!1,await jf(e,Hd(Iv,{context:r}),r),await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:np.OnTransactionAdded,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,scope:t.scope}}}})}};const Hy={[_v.BackButton]:async function({id:e,context:t}){const n={...t,stage:\"send-form\"};await jf(e,Hd(Iv,{context:n,inputAmount:t.amount??\"\",inputToAddress:t.toAddress??\"\"}),n)},[_v.CancelButton]:async function({id:e,context:t}){const{fromAccountId:n,transactionMessage:r,scope:o}=t;await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:np.OnTransactionRejected,params:{accountId:n,base64EncodedTransaction:r,scope:o}}}}),await Pf(e,!1),await Om.deleteKey(`mapInterfaceNameToId.${Cf}`)},[_v.ConfirmButton]:async function({id:e,context:t}){const{scope:n,fromAccountId:r,feeEstimatedInSol:o,transactionMessage:i}=t;if(t.error=null,!i)return t.stage=\"send-form\",void await jf(e,Hd(Iv,{context:t}),t);await snap.request({method:\"snap_scheduleBackgroundEvent\",params:{duration:\"PT1S\",request:{method:np.OnTransactionApproved,params:{accountId:t.fromAccountId,base64EncodedTransaction:t.transactionMessage,scope:t.scope}}}});const a={...t,stage:\"send-pending\"};await jf(e,Hd(Iv,{context:a}),a);let s=null;try{const e=await Wm.getAccountOrThrow(r);s=(await Dm.signAndSendTransaction(e,{id:globalThis.crypto.randomUUID(),scope:n,account:r,origin:\"snap\",request:{method:qt.SignAndSendTransaction,params:{transaction:i,scope:n,account:{address:\"\"}}}})).signature}catch(e){zl.error({error:e},\"Error submitting request\")}const c={...t,stage:s?\"transaction-success\":\"transaction-failure\",feePaidInSol:o,transaction:{result:s?\"success\":\"failure\",signature:s}};await jf(e,Hd(Iv,{context:c}),c)}};Object.defineProperty(globalThis,\"DOMException\",{value:Error,writable:!0,configurable:!0,enumerable:!0}),Ny(),Object.defineProperty(globalThis,\"queueMicrotask\",{value:Ly,writable:!0,configurable:!0,enumerable:!0}),qo.config({EXPONENTIAL_AT:16});const Jy=async({origin:e,request:t})=>{try{zl.log(\"[ onRpcRequest]\",t.method,t);const{method:n}=t;gd(e,n);const r=Mv[n];if(!r)throw new ho(`RpcRequest method ${n} not found. Available methods: ${Object.values(rd).toString()}`);return r({origin:e,request:t})}catch(e){let t=e;throw My(e)||(t=new io(e)),zl.error(`onRpcRequest error: ${JSON.stringify(t.toJSON(),null,2)}`),t}},Zy=async({origin:e,request:t})=>{try{return zl.log(\"[ onKeyringRequest]\",t.method,t),gd(e,t.method),t.method===Jt.SubmitRequest&&t.params&&!(\"origin\"in t.params)&&(t.params.origin=\"https://metamask.io\"),await yn(Wm,t)}catch(e){let n=e;throw My(e)||(n=new io(e)),zl.error(`onKeyringRequest - ${t.method} - Error: ${JSON.stringify(n.toJSON(),null,2)}`),n}},Yy=async({id:e,event:t,context:n})=>{if(zl.log(\"[ onUserInput]\",e,t),!t.name)return;const r={...Vy,...Hy,...$h,...Ph,...Bh}[t.name];r&&await r({id:e,event:t,context:n,snapContext:Vm})},Qy=async({request:e})=>{zl.log(\"[ onCronjob]\",e.method,e);const{method:t}=e;L(t,J([...Object.values(tv),...Object.values(np)]));const{locked:n,active:r}=await async function(){return await snap.request({method:\"snap_getClientStatus\"})}();if(zl.log(\"[ onCronjob] Client status\",{locked:n,active:r}),n)return Promise.resolve();if(!1===r){const e=await Om.getKey(\"lastCronjobRun\"),t=18e5;if(zl.log(\"[ onCronjob] Last cronjob run\",{lastCronjobRun:e}),e&&Date.now()-e<t)return zl.log(\"[ onCronjob] Skipping cronjob because it has been run in the last 30 minutes\"),Promise.resolve()}await Om.setKey(\"lastCronjobRun\",Date.now()),zl.log(\"[ onCronjob] Running cronjob\",{method:t});return(0,Lv[t])({request:e})},Xy=async e=>{const{assets:t}=e;return{assets:await Nm.getTokenMetadataFromAddresses(t)}},ew=async e=>{try{zl.log(\"[ onAssetsConversion]\",e);const{conversions:t,includeMarketData:n}=e;return{conversionRates:await Km.getMultipleTokenConversions(t,n)}}catch(e){throw zl.error(\"[ onAssetsConversion]\",e),new so(e)}},tw=async({scope:e,request:t})=>{switch(L(e,fc),t.method){case Xf.GetGenesisHash:return L(t,ed),Bm.getRpc(e).getGenesisHash().send();case Xf.GetLatestBlockhash:L(t,td);return(await Bm.getRpc(e).getLatestBlockhash().send()).value.blockhash;case Xf.GetMinimumBalanceForRentExemption:L(t,nd);return(await Bm.getRpc(e).getMinimumBalanceForRentExemption(BigInt(t.params[0]),t.params[1]).send()).toString();default:throw new Error(`Unsupported method: ${t.method}`)}},nw=async e=>{try{zl.log(\"[ onAssetHistoricalPrice]\",e);const{from:t,to:n}=e;L(t,ti),L(n,ti);return{historicalPrice:await Km.getHistoricalPrice(t,n)}}catch(e){return zl.error(\"[ onAssetHistoricalPrice]\",e),null}}})(),module.exports=r})();"},{"path":"locales/en.json","value":"{\n  \"locale\": \"en\",\n  \"messages\": {\n    \"send.title\": {\n      \"message\": \"Send\"\n    },\n    \"send.balance\": {\n      \"message\": \"Balance\"\n    },\n    \"send.maxButton\": {\n      \"message\": \"Max\"\n    },\n    \"send.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"send.continueButton\": {\n      \"message\": \"Continue\"\n    },\n    \"send.fromField\": {\n      \"message\": \"From\"\n    },\n    \"send.toField\": {\n      \"message\": \"To\"\n    },\n    \"send.amountField\": {\n      \"message\": \"Amount\"\n    },\n    \"send.assetField\": {\n      \"message\": \"Token\"\n    },\n    \"send.toPlaceholder\": {\n      \"message\": \"Enter public address\"\n    },\n    \"send.fromRequiredError\": {\n      \"message\": \"Account is required\"\n    },\n    \"send.amountRequiredError\": {\n      \"message\": \"Amount is required\"\n    },\n    \"send.amountGreatherThanMinimumBalanceForRentExemptionError\": {\n      \"message\": \"Amount must be greater than {minimumValue}\"\n    },\n    \"send.insuffientSolToCoverFee\": {\n      \"message\": \"Insufficient SOL balance to cover the transaction fee\"\n    },\n    \"send.toRequiredError\": {\n      \"message\": \"To address is required\"\n    },\n    \"send.toInvalidError\": {\n      \"message\": \"Invalid Solana address\"\n    },\n    \"send.insufficientBalance\": {\n      \"message\": \"Insufficient balance\"\n    },\n    \"send.simulationTitleAPIError\": {\n      \"message\": \"Because of an error, we couldn't check for security alerts.\"\n    },\n    \"send.simulationMessageAPIError\": {\n      \"message\": \"Only continue if you trust every address involved.\"\n    },\n    \"send.simulationTitleError\": {\n      \"message\": \"Transaction simulation failed\"\n    },\n    \"send.simulationMessageError\": {\n      \"message\": \"This transaction was reverted during simulation.\"\n    },\n    \"send.selectedTokenPriceNotAvailable\": {\n      \"message\": \"Prices for tokens in {currency} are currently not available. You are still able to send tokens.\"\n    },\n    \"send.confirmation.title\": {\n      \"message\": \"Review\"\n    },\n    \"send.confirmation.from\": {\n      \"message\": \"From\"\n    },\n    \"send.confirmation.recipient\": {\n      \"message\": \"Recipient\"\n    },\n    \"send.confirmation.network\": {\n      \"message\": \"Network\"\n    },\n    \"send.confirmation.transactionSpeed\": {\n      \"message\": \"Transaction speed\"\n    },\n    \"send.confirmation.fee\": {\n      \"message\": \"Network fee\"\n    },\n    \"send.confirmation.sendButton\": {\n      \"message\": \"Send\"\n    },\n    \"send.confirmation.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"send.confirmation.viewTransaction\": {\n      \"message\": \"View transaction\"\n    },\n    \"send.send-pending.title\": {\n      \"message\": \"Sending...\"\n    },\n    \"send.send-pending.subtitle\": {\n      \"message\": \"Your transaction was submitted.\"\n    },\n    \"send.transaction-success.title\": {\n      \"message\": \"Sent\"\n    },\n    \"send.transaction-success.subtitle\": {\n      \"message\": \"{amount} {tokenSymbol} was successfully sent\"\n    },\n    \"send.transaction-failure.title\": {\n      \"message\": \"Transaction failed\"\n    },\n    \"send.transaction-failure.subtitle\": {\n      \"message\": \"Unable to send {amount} {tokenSymbol}\"\n    },\n    \"confirmation.account\": {\n      \"message\": \"Account\"\n    },\n    \"confirmation.network\": {\n      \"message\": \"Network\"\n    },\n    \"confirmation.estimatedChanges\": {\n      \"message\": \"Estimated changes\"\n    },\n    \"confirmation.estimatedChanges.send\": {\n      \"message\": \"You send\"\n    },\n    \"confirmation.estimatedChanges.receive\": {\n      \"message\": \"You receive\"\n    },\n    \"confirmation.estimatedChanges.notAvailable\": {\n      \"message\": \"Not available\"\n    },\n    \"confirmation.estimatedChanges.noChanges\": {\n      \"message\": \"No changes\"\n    },\n    \"confirmation.estimatedChanges.tooltip\": {\n      \"message\": \"Estimated changes are what might happen if you go through with this transaction. This is just a prediction, not a guarantee.\"\n    },\n    \"confirmation.advanced.show\": {\n      \"message\": \"Show advanced\"\n    },\n    \"confirmation.advanced.hide\": {\n      \"message\": \"Hide advanced\"\n    },\n    \"confirmation.cancelButton\": {\n      \"message\": \"Cancel\"\n    },\n    \"confirmation.confirmButton\": {\n      \"message\": \"Confirm\"\n    },\n    \"confirmation.title\": {\n      \"message\": \"Transaction request\"\n    },\n    \"confirmation.advanced.unknownInstruction\": {\n      \"message\": \"Unknown\"\n    },\n    \"confirmation.advanced.programId\": {\n      \"message\": \"Program ID\"\n    },\n    \"confirmation.advanced.data\": {\n      \"message\": \"Data\"\n    },\n    \"confirmation.fee\": {\n      \"message\": \"Network fee\"\n    },\n    \"confirmation.feeError\": {\n      \"message\": \"Unable to estimate fee\"\n    },\n    \"confirmation.origin\": {\n      \"message\": \"Request from\"\n    },\n    \"confirmation.origin.tooltip\": {\n      \"message\": \"This is the site asking for your confirmation.\"\n    },\n    \"confirmation.simulationErrorTitle\": {\n      \"message\": \"This transaction was reverted during simulation.\"\n    },\n    \"confirmation.simulationErrorSubtitle\": {\n      \"message\": \"{reason}\"\n    },\n    \"confirmation.validationErrorTitle\": {\n      \"message\": \"This is a deceptive request\"\n    },\n    \"confirmation.validationErrorSubtitle\": {\n      \"message\": \"If you approve this request, a third party known for scams will take all your assets.\"\n    },\n    \"confirmation.validationErrorLearnMore\": {\n      \"message\": \"Learn more\"\n    },\n    \"confirmation.validationErrorSecurityAdviced\": {\n      \"message\": \"Security advice by\"\n    },\n    \"confirmation.signMessage.title\": {\n      \"message\": \"Sign message\"\n    },\n    \"confirmation.signMessage.message\": {\n      \"message\": \"Message\"\n    },\n    \"confirmation.signIn.title\": {\n      \"message\": \"Sign-in request\"\n    },\n    \"confirmation.signIn.description\": {\n      \"message\": \"A site wants you to sign in to prove you own this account.\"\n    },\n    \"confirmation.signIn.domain\": {\n      \"message\": \"Domain\"\n    },\n    \"confirmation.signIn.unknownDomain\": {\n      \"message\": \"Unknown domain\"\n    },\n    \"confirmation.signIn.signingInWith\": {\n      \"message\": \"Signing in with\"\n    },\n    \"confirmation.signIn.badAccount\": {\n      \"message\": \"This site is asking you to sign in using the wrong account.\"\n    },\n    \"confirmation.signIn.message\": {\n      \"message\": \"Message\"\n    },\n    \"confirmation.signIn.statement\": {\n      \"message\": \"Statement\"\n    },\n    \"confirmation.signIn.version\": {\n      \"message\": \"Version\"\n    },\n    \"confirmation.signIn.chainId\": {\n      \"message\": \"Chain ID\"\n    },\n    \"confirmation.signIn.nonce\": {\n      \"message\": \"Nonce\"\n    },\n    \"confirmation.signIn.issuedAt\": {\n      \"message\": \"Issued at\"\n    },\n    \"confirmation.signIn.expirationTime\": {\n      \"message\": \"Expiration time\"\n    },\n    \"confirmation.signIn.notBefore\": {\n      \"message\": \"Not before\"\n    },\n    \"confirmation.signIn.requestId\": {\n      \"message\": \"Request ID\"\n    },\n    \"confirmation.signIn.resources\": {\n      \"message\": \"Resources\"\n    },\n    \"transactionScan.errors.accountAlreadyInUse\": {\n      \"message\": \"An account with the same address already exists.\"\n    },\n    \"transactionScan.errors.insufficientSol\": {\n      \"message\": \"Account does not have enough SOL to perform the operation.\"\n    },\n    \"transactionScan.errors.slippageToleranceExceeded\": {\n      \"message\": \"The transaction was reverted because the slippage tolerance was exceeded.\"\n    },\n    \"transactionScan.errors.unknownError\": {\n      \"message\": \"An unknown error occurred.\"\n    }\n  }\n}"}],"removable":false,"hideSnapBranding":true}