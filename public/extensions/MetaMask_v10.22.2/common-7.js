LavaPack.loadBundle([[5019,{"../../../shared/constants/labels":4169,"../../../shared/constants/network":4172,"../../../shared/constants/snaps":4177,"../../../shared/modules/Numeric":4193,"../../../shared/modules/conversion.utils":4197,"../../../shared/modules/error":4199,"../../../shared/modules/hexstring-utils":4202,"../../../shared/modules/string-utils":4211,"../constants/common":4976,"../constants/routes":4983,"@metamask/assets-controllers":1046,"@metamask/slip44":1611,"@metamask/snaps-rpc-methods":1692,"@metamask/snaps-utils":1795,"@metamask/utils":1893,"bignumber.js":2491,bowser:2550,"ethereumjs-util":2901,"human-standard-token-abi":3272,lodash:3520,luxon:3532,"punycode/punycode":3717},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addressSummary=function(e,t=10,r=4,n=!0){if(!e)return"";let s=(0,m.toChecksumHexAddress)(e);n||(s=(0,m.stripHexPrefix)(s));return s?`${s.slice(0,t)}...${s.slice(s.length-r)}`:"..."},r.bnGreaterThan=function(e,t){if(null===e||e===undefined||null===t||t===undefined)return null;return new i.default(e,10).gt(t,10)},r.bnGreaterThanEqualTo=function(e,t){if(null===e||e===undefined||null===t||t===undefined)return null;return new i.default(e,10).gte(t,10)},r.bnLessThan=function(e,t){if(null===e||e===undefined||null===t||t===undefined)return null;return new i.default(e,10).lt(t,10)},r.bnLessThanEqualTo=function(e,t){if(null===e||e===undefined||null===t||t===undefined)return null;return new i.default(e,10).lte(t,10)},r.checkExistingAddresses=function(e,t=[]){if(!e)return!1;return t.some((t=>t.address.toLowerCase()===e.toLowerCase()))},r.checkTokenIdExists=void 0,r.clearClipboard=function(){window.navigator.clipboard.writeText("")},r.coinTypeToProtocolName=M,r.formatBalance=function(e,t,r=!0,n="ETH"){const s=r?R(e):e.split("."),i=s[0];let o=s[1],a="None";if(t===undefined)if("0"===i){if("0"!==o){const e=o.match(/^0*(.{2})/u);e&&(o=e[0]),a=`0.${o} ${n}`}}else a=`${i}.${o.slice(0,3)} ${n}`;else o+=Array(t).join("0"),a=`${i}.${o.slice(0,t)} ${n}`;return a},r.formatDate=function(e,t="M/d/y 'at' T"){if(!e)return"";return a.DateTime.fromMillis(e).toFormat(t)},r.formatDateWithYearContext=function(e,t="MMM d",r="MMM d, y"){if(!e)return"";const n=a.DateTime.fromMillis(e),s=a.DateTime.local();return n.toFormat(s.year===n.year?t:r)},r.getAccountByAddress=function(e=[],t){return e.find((({address:e})=>e===t))},r.getAssetImageURL=function(e,t){if(!e||"string"!=typeof e)return"";if(t&&e.startsWith("ipfs://"))try{return(0,u.getFormattedIpfsUrl)(t,e,!0)}catch(e){return(0,g.logErrorWithMessage)(e),""}return e},r.getContractAtAddress=function(e){return global.eth.contract(s.default).at(e)},r.getDedupedSnaps=void 0,r.getIsBrowserDeprecated=function(e=l.default.getParser(window.navigator.userAgent)){return e.satisfies(v.OUTDATED_BROWSER_VERSIONS)??!1},r.getNetworkNameFromProviderType=void 0,r.getRandomFileName=function(){let e="";const t=[..."abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"],r=Math.floor(7*Math.random()+6);for(let n=0;n<r;n++)e+=t[Math.floor(Math.random()*t.length)];return e},r.getSnapDerivationPathName=function(e,t){const r=w.SNAPS_DERIVATION_PATHS.find((r=>r.curve===t&&d.isEqual(r.path,e)));if(r)return r.name;if("secp256k1"===t&&"m"===e[0]&&"44'"===e[1]&&e[2].endsWith("'")){return M(e[2].slice(0,-1))??null}return null},r.getSnapRoute=r.getSnapName=void 0,r.getURL=O,r.getURLHost=function(e){var t;return(null===(t=O(e))||void 0===t?void 0:t.host)||""},r.getURLHostName=function(e){var t;return(null===(t=O(e))||void 0===t?void 0:t.hostname)||""},r.isAbleToExportAccount=void 0,r.isDefaultMetaMaskChain=function(e){if(!e||e===y.CHAIN_IDS.MAINNET||e===y.CHAIN_IDS.LINEA_MAINNET||e===y.CHAIN_IDS.GOERLI||e===y.CHAIN_IDS.SEPOLIA||e===y.CHAIN_IDS.LINEA_GOERLI||e===y.CHAIN_IDS.LOCALHOST)return!0;return!1},r.isExtensionUrl=function(e){const t=["chrome-extension:","moz-extension:"];if("string"==typeof e)for(const r of t)if(e.startsWith(r))return!0;if(null!=e&&e.protocol)return t.includes(e.protocol);return!1},r.isNullish=function(e){return null===e||e===undefined},r.isOriginContractAddress=function(e,t){if(!e||!t)return!1;return e.toLowerCase()===t.toLowerCase()},r.isValidDomainName=function(e){return null!==n.default.toASCII(e).toLowerCase().match(/^(?:[a-z0-9](?:[-a-z0-9]*[a-z0-9])?\.)+[a-z0-9][-a-z0-9]*[a-z0-9]$/u)},r.numericBalance=P,r.parseBalance=R,r.removeSnapIdPrefix=void 0,r.roundToDecimalPlacesRemovingExtraZeroes=function(e,t){if(e===undefined||null===e)return"";return new T.Numeric(new T.Numeric(e,10).toFixed(t),10).toNumber()},r.sanitizeString=r.sanitizeMessage=void 0,r.shortenAddress=function(e=""){if(e.length<b.TRUNCATED_NAME_CHAR_LIMIT)return e;return`${e.slice(0,b.TRUNCATED_ADDRESS_START_CHARS)}...${e.slice(-b.TRUNCATED_ADDRESS_END_CHARS)}`},r.stripHttpSchemes=function(e){return e.replace(/^https?:\/\//u,"")},r.stripHttpsScheme=S,r.stripHttpsSchemeWithoutPort=function(e){if(O(e).port)return e;return S(e)},r.toHumanReadableTime=void 0,r.valuesFor=function(e){if(!e)return[];return Object.keys(e).map((function(t){return e[t]}))};var n=E(e("punycode/punycode")),s=E(e("human-standard-token-abi")),i=E(e("bignumber.js")),o=_(e("ethereumjs-util")),a=e("luxon"),u=e("@metamask/assets-controllers"),c=E(e("@metamask/slip44")),d=_(e("lodash")),l=E(e("bowser")),h=e("@metamask/snaps-utils"),p=e("@metamask/snaps-rpc-methods"),f=e("@metamask/utils"),y=e("../../../shared/constants/network"),g=e("../../../shared/modules/error"),m=e("../../../shared/modules/hexstring-utils"),b=e("../../../shared/constants/labels"),T=e("../../../shared/modules/Numeric"),v=e("../constants/common"),w=e("../../../shared/constants/snaps"),I=e("../../../shared/modules/string-utils"),k=e("../../../shared/modules/conversion.utils"),C=e("../constants/routes");function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(D=function(e){return e?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=D(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function E(e){return e&&e.__esModule?e:{default:e}}function P(e){if(!e)return new o.BN(0,16);const t=(0,m.stripHexPrefix)(e);return new o.BN(t,16)}function R(e){let t;const r=P(e),n=r.toString(),s=n.length>18?n.slice(0,n.length-18):"0";return t=`000000000000000000${r}`.slice(-18).replace(/0+$/u,""),""===t&&(t="0"),[s,t]}function S(e){return e.replace(/^https:\/\//u,"")}function O(e){try{return new URL(e)}catch(e){return""}}r.toHumanReadableTime=(e,t)=>{if(t===undefined||null===t)return"";const r=Math.ceil(t/1e3);return r<=90?e("gasTimingSecondsShort",[r]):r<=5400?e("gasTimingMinutesShort",[Math.ceil(r/60)]):e("gasTimingHoursShort",[Math.ceil(r/3600)])};const B=(()=>{const e=Array.from(new Array(32)).map(((e,t)=>"int"+8*(t+1))),t=Array.from(new Array(32)).map(((e,t)=>"uint"+8*(t+1))),r=Array.from(new Array(32)).map(((e,t)=>`bytes${t+1}`)),n=Array.from(new Array(32)).map(((e,t)=>"fixed"+8*(t+1))),s=Array.from(new Array(32)).map(((e,t)=>"ufixed"+8*(t+1))),i=Array.from(new Array(80)).map(((e,t)=>n.map((e=>`${e}x${t+1}`)))),o=Array.from(new Array(80)).map(((e,t)=>s.map((e=>`${e}x${t+1}`))));return["bool","address","string","bytes","int","uint","fixed","ufixed",...e,...t,...r,...i.flat(),...o.flat()]})(),x=(e,t,r)=>{if(!r)throw new Error("Invalid types definition");const n=t&&null!==t.match(/\[[[0-9]*\]*/u);var s;if(n)return{value:e.map((e=>x(e,(e=>e.replace(/\[[[0-9]*\]/u,""))(t),r))),type:t};if(s=t,B.includes(s))return{value:e,type:t};const i=n?(e=>e.replace(/\[[[0-9]*\]*/gu,""))(t):t,o=r[i];if(!o)throw new Error("Invalid primary type definition");const a={};return Object.keys(e).forEach((t=>{const n=Object.values(o).find((e=>e.name===t));n&&(a[t]=x(e[t],n.type,r))})),{value:a,type:t}};function M(e){var t;return"1"===String(e)?"Test Networks":(null===(t=c.default[e])||void 0===t?void 0:t.name)||undefined}r.sanitizeMessage=x;const A=e=>null==e?void 0:e.replace((0,h.getSnapPrefix)(e),"");r.removeSnapIdPrefix=A;r.getSnapName=(e,t)=>{var r;return null!==(r=w.SNAPS_METADATA[e])&&void 0!==r&&r.name?w.SNAPS_METADATA[e].name:(null==t?void 0:t.name)??A(e)};r.getSnapRoute=e=>`${C.SNAPS_VIEW_ROUTE}/${encodeURIComponent(e)}`;r.getDedupedSnaps=(e,t)=>{var r,n;const s=null==e||null===(r=e.permissions)||void 0===r?void 0:r[p.WALLET_SNAP_PERMISSION_KEY],i=null==s?void 0:s.caveats[0].value,o=null==t||null===(n=t[p.WALLET_SNAP_PERMISSION_KEY])||void 0===n?void 0:n.caveats[0].value;if(!(0,f.isObject)(o)&&i)return Object.keys(i);const a=i?Object.keys(i):[],u=o?Object.keys(o):[],c=a.filter((e=>!u.includes(e)));return c.length>0?c:a};r.sanitizeString=e=>{if(!e)return e;if(!d.isString(e))return e;return e.replace(/\u202E/giu,"\\u202E")};r.getNetworkNameFromProviderType=e=>e===y.NETWORK_TYPES.RPC?"":e;r.isAbleToExportAccount=(e="")=>!e.includes("Hardware")&&!e.includes("Snap");r.checkTokenIdExists=(e,t,r)=>{const n=(0,f.isStrictHexString)(t);let s=t;n&&(s=(0,k.hexToDecimal)(t));const i=(0,m.toChecksumHexAddress)(e);if(r[i]){const e=r[i];return d.some(e.nfts,(e=>e.address===i&&((0,I.isEqualCaseInsensitive)(e.tokenId,t)||(0,I.isEqualCaseInsensitive)(e.tokenId,s.toString()))))}return!1}}}},{package:"$root$",file:"ui/helpers/utils/util.js"}],[518,{"@ethereumjs/util":392,"@keystonehq/bc-ur-registry":537,buffer:2600,hdkey:3268,uuid:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,s=e("@keystonehq/bc-ur-registry"),i=e("uuid"),o=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,a=e("@ethereumjs/util");const u={ETH_SIGN_REQUEST:new s.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new s.RegistryType("eth-signature",402),ETH_NFT_ITEM:new s.RegistryType("eth-nft-item",403)},{decodeToDataItem:c,RegistryTypes:d}=s.extend;var l,h;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(l||(l={})),(h=r.DataType||(r.DataType={}))[h.transaction=1]="transaction",h[h.typedData=2]="typedData",h[h.personalMessage=3]="personalMessage",h[h.typedTransaction=4]="typedTransaction";class p extends s.RegistryItem{constructor(e){super(),this.getRegistryType=()=>u.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[l.requestId]=new s.DataItem(this.requestId,d.UUID.getTag())),this.address&&(e[l.address]=this.address),this.chainId&&(e[l.chainId]=Number(this.chainId)),this.origin&&(e[l.origin]=this.origin),e[l.signData]=this.signData,e[l.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[l.derivationPath]=t,new s.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,r,n,o,a,u,c,d){const l=n.replace(/[m|M]\//,"").split("/"),h=new s.CryptoKeypath(l.map((e=>{const t=parseInt(e.replace("'",""));let r=!1;return e.endsWith("'")&&(r=!0),new s.PathComponent({index:t,hardened:r})})),t.from(o,"hex"));return new p({requestId:a?t.from(i.parse(a)):undefined,signData:e,dataType:r,derivationPath:h,chainId:u,address:c?t.from(c.replace("0x",""),"hex"):undefined,origin:d||undefined})}}p.fromDataItem=e=>{const t=e.getData(),r=t[l.signData],n=t[l.dataType],i=s.CryptoKeypath.fromDataItem(t[l.derivationPath]),o=t[l.chainId]?t[l.chainId]:undefined,a=t[l.address]?t[l.address]:undefined,u=t[l.requestId]?t[l.requestId].getData():undefined,c=t[l.origin]?t[l.origin]:undefined;return new p({requestId:u,signData:r,dataType:n,chainId:o,derivationPath:i,address:a,origin:c})},p.fromCBOR=e=>{const t=c(e);return p.fromDataItem(t)};const{RegistryTypes:f,decodeToDataItem:y}=s.extend;var g;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(g||(g={}));class m extends s.RegistryItem{constructor(e,t,r){super(),this.getRegistryType=()=>u.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[g.requestId]=new s.DataItem(this.requestId,f.UUID.getTag())),this.origin&&(e[g.origin]=this.origin),e[g.signature]=this.signature,new s.DataItem(e)},this.signature=e,this.requestId=t,this.origin=r}}m.fromDataItem=e=>{const t=e.getData(),r=t[g.signature],n=t[g.requestId]?t[g.requestId].getData():undefined;return new m(r,n,t[g.origin])},m.fromCBOR=e=>{const t=y(e);return m.fromDataItem(t)};const{decodeToDataItem:b}=s.extend;var T;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(T||(T={}));class v extends s.RegistryItem{constructor(e){super(),this.getRegistryType=()=>u.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[T.chainId]=this.chainId,e[T.name]=this.name,e[T.contractAddress]=this.contractAddress,e[T.contractName]=this.contractName,e[T.mediaData]=this.mediaData,new s.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,r,n,s){return new v({chainId:e,contractAddress:t,contractName:r,mediaData:s,name:n})}}v.fromDataItem=e=>{const t=e.getData(),r=t[T.chainId],n=t[T.name],s=t[T.mediaData],i=t[T.contractAddress],o=t[T.contractName];return new v({chainId:r,name:n,contractAddress:i,contractName:o,mediaData:s})},v.fromCBOR=e=>{const t=b(e);return v.fromDataItem(t)};const w=(e,t)=>{const r=o.fromExtendedKey(e).derive(t),n="0x"+a.publicToAddress(r.publicKey,!0).toString("hex");return a.toChecksumAddress(n)};s.patchTags(Object.values(u).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(s).forEach((function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}})})),r.ETHNFTItem=v,r.ETHSignature=m,r.EthSignRequest=p,r.findHDPathFromAddress=(e,t,r,n)=>{for(let s=0;s<r;s++){const r=w(t,`M/0/${s}`);if(e.toLowerCase()==r.toLowerCase())return`${n}/0/${s}`}return null},r.generateAddressFromXpub=w}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js"}],[519,{"@ethereumjs/util":392,"@keystonehq/bc-ur-registry":537,buffer:2600,hdkey:3268,uuid:4111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n,s=e("@keystonehq/bc-ur-registry"),i=e("uuid"),o=(n=e("hdkey"))&&"object"==typeof n&&"default"in n?n.default:n,a=e("@ethereumjs/util");const u={ETH_SIGN_REQUEST:new s.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new s.RegistryType("eth-signature",402),ETH_NFT_ITEM:new s.RegistryType("eth-nft-item",403)},{decodeToDataItem:c,RegistryTypes:d}=s.extend;var l,h;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(l||(l={})),(h=r.DataType||(r.DataType={}))[h.transaction=1]="transaction",h[h.typedData=2]="typedData",h[h.personalMessage=3]="personalMessage",h[h.typedTransaction=4]="typedTransaction";class p extends s.RegistryItem{constructor(e){super(),this.getRegistryType=()=>u.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[l.requestId]=new s.DataItem(this.requestId,d.UUID.getTag())),this.address&&(e[l.address]=this.address),this.chainId&&(e[l.chainId]=Number(this.chainId)),this.origin&&(e[l.origin]=this.origin),e[l.signData]=this.signData,e[l.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[l.derivationPath]=t,new s.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,r,n,o,a,u,c,d){const l=n.replace(/[m|M]\//,"").split("/"),h=new s.CryptoKeypath(l.map((e=>{const t=parseInt(e.replace("'",""));let r=!1;return e.endsWith("'")&&(r=!0),new s.PathComponent({index:t,hardened:r})})),t.from(o,"hex"));return new p({requestId:a?t.from(i.parse(a)):void 0,signData:e,dataType:r,derivationPath:h,chainId:u,address:c?t.from(c.replace("0x",""),"hex"):void 0,origin:d||void 0})}}p.fromDataItem=e=>{const t=e.getData(),r=t[l.signData],n=t[l.dataType],i=s.CryptoKeypath.fromDataItem(t[l.derivationPath]),o=t[l.chainId]?t[l.chainId]:void 0,a=t[l.address]?t[l.address]:void 0,u=t[l.requestId]?t[l.requestId].getData():void 0;return new p({requestId:u,signData:r,dataType:n,chainId:o,derivationPath:i,address:a,origin:t[l.origin]?t[l.origin]:void 0})},p.fromCBOR=e=>{const t=c(e);return p.fromDataItem(t)};const{RegistryTypes:f,decodeToDataItem:y}=s.extend;var g;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(g||(g={}));class m extends s.RegistryItem{constructor(e,t,r){super(),this.getRegistryType=()=>u.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[g.requestId]=new s.DataItem(this.requestId,f.UUID.getTag())),this.origin&&(e[g.origin]=this.origin),e[g.signature]=this.signature,new s.DataItem(e)},this.signature=e,this.requestId=t,this.origin=r}}m.fromDataItem=e=>{const t=e.getData(),r=t[g.signature],n=t[g.requestId]?t[g.requestId].getData():void 0;return new m(r,n,t[g.origin])},m.fromCBOR=e=>{const t=y(e);return m.fromDataItem(t)};const{decodeToDataItem:b}=s.extend;var T;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(T||(T={}));class v extends s.RegistryItem{constructor(e){super(),this.getRegistryType=()=>u.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[T.chainId]=this.chainId,e[T.name]=this.name,e[T.contractAddress]=this.contractAddress,e[T.contractName]=this.contractName,e[T.mediaData]=this.mediaData,new s.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,r,n,s){return new v({chainId:e,contractAddress:t,contractName:r,mediaData:s,name:n})}}v.fromDataItem=e=>{const t=e.getData();return new v({chainId:t[T.chainId],name:t[T.name],contractAddress:t[T.contractAddress],contractName:t[T.contractName],mediaData:t[T.mediaData]})},v.fromCBOR=e=>{const t=b(e);return v.fromDataItem(t)};const w=(e,t)=>{const r=o.fromExtendedKey(e).derive(t),n="0x"+a.publicToAddress(r.publicKey,!0).toString("hex");return a.toChecksumAddress(n)};s.patchTags(Object.values(u).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(s).forEach((function(e){"default"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}})})),r.ETHNFTItem=v,r.ETHSignature=m,r.EthSignRequest=p,r.findHDPathFromAddress=(e,t,r,n)=>{for(let s=0;s<r;s++){const r=w(t,"M/0/"+s);if(e.toLowerCase()==r.toLowerCase())return`${n}/0/${s}`}return null},r.generateAddressFromXpub=w}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.production.min.js"}],[520,{"./bc-ur-registry-eth.cjs.development.js":518,"./bc-ur-registry-eth.cjs.production.min.js":519},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("./bc-ur-registry-eth.cjs.production.min.js")}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js"}],[521,{"./RegistryItem":532,"./RegistryType":533,"./lib":540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Bytes=void 0;const n=e("./lib"),s=e("./RegistryItem"),i=e("./RegistryType");class o extends s.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>i.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new n.DataItem(this.bytes)}}r.Bytes=o,o.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new o(t)},o.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return o.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js"}],[522,{".":537,"./RegistryItem":532,"./RegistryType":533,"./lib":540,buffer:2600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoAccount=void 0;const n=e("."),s=e("./lib"),i=e("./RegistryItem"),o=e("./RegistryType");var a;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"}(a||(a={}));class u extends i.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[a.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(e[a.outputDescriptors]=this.outputDescriptors.map((e=>e.toDataItem()))),new s.DataItem(e)}}}r.CryptoAccount=u,u.fromDataItem=e=>{const r=e.getData(),s=t.alloc(4),i=r[a.masterFingerprint];i&&s.writeUInt32BE(i,0);const o=r[a.outputDescriptors].map((e=>n.CryptoOutput.fromDataItem(e)));return new u(s,o)},u.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return u.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js"}],[523,{"./RegistryItem":532,"./RegistryType":533,"./lib":540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoCoinInfo=r.Network=r.Type=void 0;const n=e("./lib"),s=e("./RegistryItem"),i=e("./RegistryType");var o,a,u;!function(e){e.type="1",e.network="2"}(o||(o={})),function(e){e[e.bitcoin=0]="bitcoin"}(a=r.Type||(r.Type={})),function(e){e[e.mainnet=0]="mainnet",e[e.testnet=1]="testnet"}(u=r.Network||(r.Network={}));class c extends s.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||a.bitcoin,this.getNetwork=()=>this.network||u.mainnet,this.toDataItem=()=>{const e={};return this.type&&(e[o.type]=this.type),this.network&&(e[o.network]=this.network),new n.DataItem(e)}}}r.CryptoCoinInfo=c,c.fromDataItem=e=>{const t=e.getData(),r=t[o.type],n=t[o.network];return new c(r,n)},c.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return c.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js"}],[524,{"./RegistryItem":532,"./RegistryType":533,"./lib":540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoECKey=void 0;const n=e("./lib"),s=e("./RegistryItem"),i=e("./RegistryType");var o;!function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"}(o||(o={}));class a extends s.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const e={};return this.curve&&(e[o.curve]=this.curve),this.privateKey!==undefined&&(e[o.private]=this.privateKey),e[o.data]=this.data,new n.DataItem(e)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||undefined}}r.CryptoECKey=a,a.fromDataItem=e=>{const t=e.getData(),r=t[o.curve],n=t[o.private],s=t[o.data];if(!s)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new a({data:s,curve:r,privateKey:n})},a.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return a.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js"}],[525,{"./CryptoCoinInfo":523,"./CryptoKeypath":526,"./RegistryItem":532,"./RegistryType":533,"./lib":540,bs58check:2604,buffer:2600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoHDKey=void 0;const n=e("bs58check"),s=e("./CryptoCoinInfo"),i=e("./CryptoKeypath"),o=e("./lib"),a=e("./RegistryItem"),u=e("./RegistryType");var c;!function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"}(c||(c={}));class d extends a.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var e,r,s;let i,o,a=0,u=t.alloc(4).fill(0);if(this.isMaster())i=t.from("0488ADE4","hex"),o=0,a=0;else{o=(null===(e=this.getOrigin())||void 0===e?void 0:e.getComponents().length)||(null===(r=this.getOrigin())||void 0===r?void 0:r.getDepth());const n=null===(s=this.getOrigin())||void 0===s?void 0:s.getComponents(),c=n[n.length-1];c&&(a=c.isHardened()?c.getIndex()+2147483648:c.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),i=this.isPrivateKey()?t.from("0488ADE4","hex"):t.from("0488B21E","hex")}const c=t.alloc(1);c.writeUInt8(o,0);const d=t.alloc(4);d.writeUInt32BE(a,0);const l=this.getChainCode(),h=this.getKey();return(0,n.encode)(t.concat([i,c,u,d,l,h]))},this.getRegistryType=()=>u.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var e,t,r,n,s,i,o;let a="";return this.getOrigin()&&(null===(e=this.getOrigin())||void 0===e?void 0:e.getSourceFingerprint())&&(null===(t=this.getOrigin())||void 0===t?void 0:t.getPath())&&(a+=`${null===(n=null===(r=this.getOrigin())||void 0===r?void 0:r.getSourceFingerprint())||void 0===n?void 0:n.toString("hex")}/${null===(s=this.getOrigin())||void 0===s?void 0:s.getPath()}`),a+=this.getBip32Key(),this.getChildren()&&(null===(i=this.getChildren())||void 0===i?void 0:i.getPath())&&(a+=`/${null===(o=this.getChildren())||void 0===o?void 0:o.getPath()}`),a},this.setupMasterKey=e=>{this.master=!0,this.key=e.key,this.chainCode=e.chainCode},this.setupDeriveKey=e=>{this.master=!1,this.privateKey=e.isPrivateKey,this.key=e.key,this.chainCode=e.chainCode,this.useInfo=e.useInfo,this.origin=e.origin,this.children=e.children,this.parentFingerprint=e.parentFingerprint,this.name=e.name,this.note=e.note},this.toDataItem=()=>{const e={};if(this.master)e[c.is_master]=!0,e[c.key_data]=this.key,e[c.chain_code]=this.chainCode;else{if(this.privateKey!==undefined&&(e[c.is_private]=this.privateKey),e[c.key_data]=this.key,this.chainCode&&(e[c.chain_code]=this.chainCode),this.useInfo){const t=this.useInfo.toDataItem();t.setTag(this.useInfo.getRegistryType().getTag()),e[c.use_info]=t}if(this.origin){const t=this.origin.toDataItem();t.setTag(this.origin.getRegistryType().getTag()),e[c.origin]=t}if(this.children){const t=this.children.toDataItem();t.setTag(this.children.getRegistryType().getTag()),e[c.children]=t}this.parentFingerprint&&(e[c.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==undefined&&(e[c.name]=this.name),this.note!==undefined&&(e[c.note]=this.note)}return new o.DataItem(e)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}}r.CryptoHDKey=d,d.fromDataItem=e=>{const r=e.getData(),n=!!r[c.is_master],o=r[c.is_private],a=r[c.key_data],u=r[c.chain_code],l=r[c.use_info]?s.CryptoCoinInfo.fromDataItem(r[c.use_info]):undefined,h=r[c.origin]?i.CryptoKeypath.fromDataItem(r[c.origin]):undefined,p=r[c.children]?i.CryptoKeypath.fromDataItem(r[c.children]):undefined,f=r[c.parent_fingerprint];let y=undefined;f&&(y=t.alloc(4),y.writeUInt32BE(f,0));const g=r[c.name],m=r[c.note];return new d({isMaster:n,isPrivateKey:o,key:a,chainCode:u,useInfo:l,origin:h,children:p,parentFingerprint:y,name:g,note:m})},d.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return d.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js"}],[526,{"./PathComponent":531,"./RegistryItem":532,"./RegistryType":533,"./lib":540,buffer:2600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoKeypath=void 0;const n=e("./lib"),s=e("./PathComponent"),i=e("./RegistryItem"),o=e("./RegistryType");var a;!function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"}(a||(a={}));class u extends i.RegistryItem{constructor(e=[],t,r){super(),this.components=e,this.sourceFingerprint=t,this.depth=r,this.getRegistryType=()=>o.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return undefined;return this.components.map((e=>`${e.isWildcard()?"*":e.getIndex()}${e.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const e={},t=[];return this.components&&this.components.forEach((e=>{e.isWildcard()?t.push([]):t.push(e.getIndex()),t.push(e.isHardened())})),e[a.components]=t,this.sourceFingerprint&&(e[a.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==undefined&&(e[a.depth]=this.depth),new n.DataItem(e)}}}r.CryptoKeypath=u,u.fromDataItem=e=>{const r=e.getData(),n=[],i=r[a.components];if(i)for(let e=0;e<i.length;e+=2){const t=i[e+1],r=i[e];"number"==typeof r?n.push(new s.PathComponent({index:r,hardened:t})):n.push(new s.PathComponent({hardened:t}))}const o=r[a.source_fingerprint];let c;o&&(c=t.alloc(4),c.writeUInt32BE(o,0));const d=r[a.depth];return new u(n,c,d)},u.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return u.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js"}],[527,{"./CryptoECKey":524,"./CryptoHDKey":525,"./MultiKey":530,"./RegistryItem":532,"./RegistryType":533,"./ScriptExpression":534,"./lib":540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoOutput=void 0;const n=e("./CryptoECKey"),s=e("./CryptoHDKey"),i=e("./lib"),o=e("./MultiKey"),a=e("./RegistryItem"),u=e("./RegistryType"),c=e("./ScriptExpression");class d extends a.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>u.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof s.CryptoHDKey?this.cryptoKey:undefined,this.getECKey=()=>this.cryptoKey instanceof n.CryptoECKey?this.cryptoKey:undefined,this.getMultiKey=()=>this.cryptoKey instanceof o.MultiKey?this.cryptoKey:undefined,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=e=>e>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[e].getExpression()}(${this._toOutputDescriptor(e+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let e=this.cryptoKey.toDataItem();(this.cryptoKey instanceof n.CryptoECKey||this.cryptoKey instanceof s.CryptoHDKey)&&e.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((t=>{const r=t.getTag();e.getTag()===undefined?e.setTag(r):e=new i.DataItem(e,r)})),e}}}r.CryptoOutput=d,d.fromDataItem=e=>{const t=[];let r=e;for(;;){let e=r.getTag();const n=c.ScriptExpression.fromTag(e);if(!n)break;if(t.push(n),!(r.getData()instanceof i.DataItem))break;r=r.getData(),e=r.getTag()}const a=t.length;if(a>0&&(t[a-1].getExpression()===c.ScriptExpressions.MULTISIG.getExpression()||t[a-1].getExpression()===c.ScriptExpressions.SORTED_MULTISIG.getExpression())){const e=o.MultiKey.fromDataItem(r);return new d(t,e)}if(r.getTag()===u.RegistryTypes.CRYPTO_HDKEY.getTag()){const e=s.CryptoHDKey.fromDataItem(r);return new d(t,e)}{const e=n.CryptoECKey.fromDataItem(r);return new d(t,e)}},d.fromCBOR=e=>{const t=(0,i.decodeToDataItem)(e);return d.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js"}],[528,{"./RegistryItem":532,"./RegistryType":533,"./lib":540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoPSBT=void 0;const n=e("./lib"),s=e("./RegistryItem"),i=e("./RegistryType");class o extends s.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new n.DataItem(this.psbt)}}r.CryptoPSBT=o,o.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new o(t)},o.fromCBOR=e=>{const t=(0,n.decodeToDataItem)(e);return o.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js"}],[529,{"..":537,"../RegistryType":533,"../errors":535,"@ngraveio/bc-ur":1901},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.URRegistryDecoder=void 0;const n=e("@ngraveio/bc-ur"),s=e(".."),i=e("../RegistryType"),o=e("../errors");class a extends n.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case i.RegistryTypes.BYTES.getType():return s.Bytes.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_HDKEY.getType():return s.CryptoHDKey.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_KEYPATH.getType():return s.CryptoKeypath.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_COIN_INFO.getType():return s.CryptoCoinInfo.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_ECKEY.getType():return s.CryptoECKey.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_OUTPUT.getType():return s.CryptoOutput.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_PSBT.getType():return s.CryptoPSBT.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_ACCOUNT.getType():return s.CryptoAccount.fromCBOR(e.cbor);default:throw new o.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}r.URRegistryDecoder=a}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js"}],[530,{"./CryptoECKey":524,"./CryptoHDKey":525,"./RegistryItem":532,"./RegistryType":533,"./lib/DataItem":538},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MultiKey=void 0;const n=e("./CryptoECKey"),s=e("./CryptoHDKey"),i=e("./lib/DataItem"),o=e("./RegistryItem"),a=e("./RegistryType");var u;!function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"}(u||(u={}));class c extends o.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const e={};e[u.threshold]=this.threshold;const t=this.keys.map((e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t}));return e[u.keys]=t,new i.DataItem(e)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((e=>e.getOutputDescriptorContent())).join(",")].join(",")}}r.MultiKey=c,c.fromDataItem=e=>{const t=e.getData(),r=t[u.threshold],i=t[u.keys],o=[];return i.forEach((e=>{e.getTag()===a.RegistryTypes.CRYPTO_HDKEY.getTag()?o.push(s.CryptoHDKey.fromDataItem(e)):e.getTag()===a.RegistryTypes.CRYPTO_ECKEY.getTag()&&o.push(n.CryptoECKey.fromDataItem(e))})),new c(r,o)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js"}],[531,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PathComponent=void 0;class n{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==undefined?this.wildcard=!1:this.wildcard=!0,this.index&&0!=(this.index&n.HARDENED_BIT))throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}r.PathComponent=n,n.HARDENED_BIT=2147483648}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js"}],[532,{"./lib":540,"@ngraveio/bc-ur":1901},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RegistryItem=void 0;const n=e("@ngraveio/bc-ur"),s=e("./lib");r.RegistryItem=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===undefined)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,s.encodeDataItem)(this.toDataItem())},this.toUR=()=>new n.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,r)=>{const s=this.toUR();return new n.UREncoder(s,e,t,r)}}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js"}],[533,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RegistryTypes=r.RegistryType=void 0;class n{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}}r.RegistryType=n,r.RegistryTypes={UUID:new n("uuid",37),BYTES:new n("bytes",undefined),CRYPTO_HDKEY:new n("crypto-hdkey",303),CRYPTO_KEYPATH:new n("crypto-keypath",304),CRYPTO_COIN_INFO:new n("crypto-coin-info",305),CRYPTO_ECKEY:new n("crypto-eckey",306),CRYPTO_OUTPUT:new n("crypto-output",308),CRYPTO_PSBT:new n("crypto-psbt",310),CRYPTO_ACCOUNT:new n("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new n("crypto-multi-accounts",1103)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js"}],[534,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ScriptExpressions=r.ScriptExpression=void 0;class n{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}r.ScriptExpression=n,n.fromTag=e=>Object.values(r.ScriptExpressions).find((t=>t.getTag()===e)),r.ScriptExpressions={SCRIPT_HASH:new n(400,"sh"),WITNESS_SCRIPT_HASH:new n(401,"wsh"),PUBLIC_KEY:new n(402,"pk"),PUBLIC_KEY_HASH:new n(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new n(404,"wpkh"),COMBO:new n(405,"combo"),MULTISIG:new n(406,"multi"),SORTED_MULTISIG:new n(407,"sortedmulti"),ADDRESS:new n(307,"addr"),RAW_SCRIPT:new n(408,"raw")}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js"}],[535,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.UnknownURTypeError=void 0;class n extends Error{constructor(e){super(e)}}r.UnknownURTypeError=n}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/errors/index.js"}],[536,{"../CryptoHDKey":525,"../RegistryItem":532,"../RegistryType":533,"../lib":540,buffer:2600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.CryptoMultiAccounts=void 0;const n=e("../RegistryType"),s=e("../CryptoHDKey"),i=e("../RegistryItem"),o=e("../lib");var a;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device"}(a||(a={}));class u extends i.RegistryItem{constructor(e,t,r){super(),this.masterFingerprint=e,this.keys=t,this.device=r,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[a.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(e[a.keys]=this.keys.map((e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t}))),this.device&&(e[a.device]=this.device),new o.DataItem(e)}}}r.CryptoMultiAccounts=u,u.fromDataItem=e=>{const r=e.getData(),n=t.alloc(4),i=r[a.masterFingerprint];i&&n.writeUInt32BE(i,0);const o=r[a.keys].map((e=>s.CryptoHDKey.fromDataItem(e))),c=r[a.device];return new u(n,o,c)},u.fromCBOR=e=>{const t=(0,o.decodeToDataItem)(e);return u.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/CryptoMultiAccounts.js"}],[537,{"./Bytes":521,"./CryptoAccount":522,"./CryptoCoinInfo":523,"./CryptoECKey":524,"./CryptoHDKey":525,"./CryptoKeypath":526,"./CryptoOutput":527,"./CryptoPSBT":528,"./Decoder":529,"./MultiKey":530,"./PathComponent":531,"./RegistryItem":532,"./RegistryType":533,"./ScriptExpression":534,"./errors":535,"./extended/CryptoMultiAccounts":536,"./lib":540,"./patchCBOR":541,"./types":542,"./utils":543,tslib:4067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extend=r.PathComponent=r.ScriptExpressions=r.MultiKey=r.CryptoPSBT=r.CryptoOutput=r.CryptoECKey=r.CryptoCoinInfoNetwork=r.CryptoCoinInfoType=r.CryptoCoinInfo=r.CryptoKeypath=r.CryptoMultiAccounts=r.CryptoHDKey=r.CryptoAccount=r.Bytes=r.URRegistryDecoder=r.DataItem=void 0;const n=e("tslib");e("./patchCBOR");const s=e("./CryptoHDKey");Object.defineProperty(r,"CryptoHDKey",{enumerable:!0,get:function(){return s.CryptoHDKey}});const i=e("./CryptoKeypath");Object.defineProperty(r,"CryptoKeypath",{enumerable:!0,get:function(){return i.CryptoKeypath}});const o=e("./CryptoCoinInfo");Object.defineProperty(r,"CryptoCoinInfo",{enumerable:!0,get:function(){return o.CryptoCoinInfo}}),Object.defineProperty(r,"CryptoCoinInfoType",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(r,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return o.Network}});const a=e("./CryptoECKey");Object.defineProperty(r,"CryptoECKey",{enumerable:!0,get:function(){return a.CryptoECKey}});const u=e("./Bytes");Object.defineProperty(r,"Bytes",{enumerable:!0,get:function(){return u.Bytes}});const c=e("./CryptoOutput");Object.defineProperty(r,"CryptoOutput",{enumerable:!0,get:function(){return c.CryptoOutput}});const d=e("./CryptoPSBT");Object.defineProperty(r,"CryptoPSBT",{enumerable:!0,get:function(){return d.CryptoPSBT}});const l=e("./CryptoAccount");Object.defineProperty(r,"CryptoAccount",{enumerable:!0,get:function(){return l.CryptoAccount}});const h=e("./Decoder");Object.defineProperty(r,"URRegistryDecoder",{enumerable:!0,get:function(){return h.URRegistryDecoder}});const p=e("./MultiKey");Object.defineProperty(r,"MultiKey",{enumerable:!0,get:function(){return p.MultiKey}});const f=e("./ScriptExpression");Object.defineProperty(r,"ScriptExpressions",{enumerable:!0,get:function(){return f.ScriptExpressions}});const y=e("./PathComponent");Object.defineProperty(r,"PathComponent",{enumerable:!0,get:function(){return y.PathComponent}});const g=e("./RegistryItem"),m=e("./RegistryType"),b=e("./lib");var T=e("./lib");Object.defineProperty(r,"DataItem",{enumerable:!0,get:function(){return T.DataItem}});const v=e("./utils"),w=e("./extended/CryptoMultiAccounts");Object.defineProperty(r,"CryptoMultiAccounts",{enumerable:!0,get:function(){return w.CryptoMultiAccounts}});const I={URRegistryDecoder:h.URRegistryDecoder,Bytes:u.Bytes,CryptoAccount:l.CryptoAccount,CryptoHDKey:s.CryptoHDKey,CryptoMultiAccounts:w.CryptoMultiAccounts,CryptoKeypath:i.CryptoKeypath,CryptoCoinInfo:o.CryptoCoinInfo,CryptoCoinInfoType:o.Type,CryptoCoinInfoNetwork:o.Network,CryptoECKey:a.CryptoECKey,CryptoOutput:c.CryptoOutput,CryptoPSBT:d.CryptoPSBT,MultiKey:p.MultiKey,ScriptExpressions:f.ScriptExpressions,PathComponent:y.PathComponent},k={addReader:b.addReader,addSemanticDecode:b.addSemanticDecode,addSemanticEncode:b.addSemanticEncode,addWriter:b.addWriter,patchTags:v.patchTags},C={RegistryTypes:m.RegistryTypes,RegistryItem:g.RegistryItem,RegistryType:m.RegistryType,decodeToDataItem:b.decodeToDataItem,encodeDataItem:b.encodeDataItem,cbor:k};r.extend=C,(0,n.__exportStar)(e("./errors"),r),(0,n.__exportStar)(e("./Decoder"),r),(0,n.__exportStar)(e("./lib"),r),(0,n.__exportStar)(e("./CryptoAccount"),r),(0,n.__exportStar)(e("./CryptoPSBT"),r),(0,n.__exportStar)(e("./CryptoHDKey"),r),(0,n.__exportStar)(e("./extended/CryptoMultiAccounts"),r),(0,n.__exportStar)(e("./CryptoOutput"),r),(0,n.__exportStar)(e("./CryptoCoinInfo"),r),(0,n.__exportStar)(e("./CryptoECKey"),r),(0,n.__exportStar)(e("./MultiKey"),r),(0,n.__exportStar)(e("./CryptoKeypath"),r),(0,n.__exportStar)(e("./patchCBOR"),r),(0,n.__exportStar)(e("./PathComponent"),r),(0,n.__exportStar)(e("./RegistryItem"),r),(0,n.__exportStar)(e("./RegistryType"),r),(0,n.__exportStar)(e("./types"),r),(0,n.__exportStar)(e("./utils"),r),r.default=I}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/index.js"}],[538,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DataItem=void 0;r.DataItem=class{constructor(e,t){this.setTag=e=>{this.tag=e},this.clearTag=()=>{this.tag=undefined},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/DataItem.js"}],[539,{"./DataItem":538,buffer:2600},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){!function(e,r){"function"==typeof define&&define.amd?define([],r):void 0!==t&&t.exports?t.exports=r():e.CBOR=r()}(this,(function(){const{DataItem:t}=e("./DataItem");var n=function(){function e(e){this.$hex=e}e.prototype={length:function(){return this.$hex.length/2},toString:function(e){if(!e||"hex"===e||16===e)return this.$hex;if("utf-8"===e){for(var t="",r=0;r<this.$hex.length;r+=2)t+="%"+this.$hex.substring(r,r+2);return decodeURIComponent(t)}if("latin"===e){for(t=[],r=0;r<this.$hex.length;r+=2)t.push(parseInt(this.$hex.substring(r,r+2),16));return String.fromCharCode.apply(String,t)}throw new Error("Unrecognised format: "+e)}},e.fromLatinString=function(t){for(var r="",n=0;n<t.length;n++){var s=t.charCodeAt(n).toString(16);1===s.length&&(s="0"+s),r+=s}return new e(r)},e.fromUtf8String=function(t){for(var r=encodeURIComponent(t),n="",s=0;s<r.length;s++)if("%"===r.charAt(s))n+=r.substring(s+1,s+3),s+=2;else{var i=r.charCodeAt(s).toString(16);i.length<2&&(i="0"+i),n+=i}return new e(n)};var n=[],s={},i=function(e){return function(){throw new Error(e+" not implemented")}};function o(){}function a(){}function u(e,t){var r=e.value;return r<24?r:24==r?t.readByte():25==r?t.readUint16():26==r?t.readUint32():27==r?t.readUint64():31==r?null:void i("Additional info: "+r)()}function c(e,t,r){var n=e<<5;t<24?r.writeByte(n|t):t<256?(r.writeByte(24|n),r.writeByte(t)):t<65536?(r.writeByte(25|n),r.writeUint16(t)):t<4294967296?(r.writeByte(26|n),r.writeUint32(t)):(r.writeByte(27|n),r.writeUint64(t))}o.prototype={peekByte:i("peekByte"),readByte:i("readByte"),readChunk:i("readChunk"),readFloat16:function(){var e=this.readUint16(),t=(32767&e)>>10,r=1023&e,n=32768&e;if(31===t)return 0===r?n?-Infinity:Infinity:NaN;var s=t?Math.pow(2,t-25)*(1024+r):Math.pow(2,-24)*r;return n?-s:s},readFloat32:function(){var e=this.readUint32(),t=(2147483647&e)>>23,r=8388607&e,n=2147483648&e;if(255===t)return 0===r?n?-Infinity:Infinity:NaN;var s=t?Math.pow(2,t-23-127)*(8388608+r):Math.pow(2,-149)*r;return n?-s:s},readFloat64:function(){var e=this.readUint32(),t=e>>20&2047,r=4294967296*(1048575&e)+this.readUint32(),n=2147483648&e;if(2047===t)return 0===r?n?-Infinity:Infinity:NaN;var s=t?Math.pow(2,t-52-1023)*(4503599627370496+r):Math.pow(2,-1074)*r;return n?-s:s},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},a.prototype={writeByte:i("writeByte"),result:i("result"),writeFloat16:i("writeFloat16"),writeFloat32:i("writeFloat32"),writeFloat64:i("writeFloat64"),writeUint16:function(e){this.writeByte(e>>8&255),this.writeByte(255&e)},writeUint32:function(e){this.writeUint16(e>>16&65535),this.writeUint16(65535&e)},writeUint64:function(e){if(e>=9007199254740992||e<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+e+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(e/4294967296)),this.writeUint32(e%4294967296)},writeString:i("writeString"),canWriteBinary:function(e){return!1},writeBinary:i("writeChunk")};var d=new Error;function l(e){var t=function(e){var t=e.readByte();return{type:t>>5,value:31&t}}(e);switch(t.type){case 0:return u(t,e);case 1:return-1-u(t,e);case 2:return e.readChunk(u(t,e));case 3:return e.readChunk(u(t,e)).toString("utf-8");case 4:case 5:var r=u(t,e),n=[];if(null!==r){5===t.type&&(r*=2);for(var i=0;i<r;i++)n[i]=l(e)}else for(var o;(o=l(e))!==d;)n.push(o);if(5===t.type){var a={};for(i=0;i<n.length;i+=2)a[n[i]]=n[i+1];return a}return n;case 6:var c=u(t,e),h=s[c];n=l(e);return h?h(n):n;case 7:if(25===t.value)return e.readFloat16();if(26===t.value)return e.readFloat32();if(27===t.value)return e.readFloat64();switch(u(t,e)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return undefined;case null:return d;default:throw new Error("Unknown fixed value: "+t.value)}default:throw new Error("Unsupported header: "+JSON.stringify(t))}throw new Error("not implemented yet")}function h(e,t){for(var r=0;r<n.length;r++){var s=n[r].fn(e);if(s!==undefined)return c(6,n[r].tag,t),h(s,t)}if(e&&"function"==typeof e.toCBOR&&(e=e.toCBOR()),!1===e)c(7,20,t);else if(!0===e)c(7,21,t);else if(null===e)c(7,22,t);else if(e===undefined)c(7,23,t);else if("number"==typeof e)Math.floor(e)===e&&e<9007199254740992&&e>-9007199254740992?e<0?c(1,-1-e,t):c(0,e,t):(!function(e,t,r){r.writeByte(e<<5|t)}(7,27,t),t.writeFloat64(e));else if("string"==typeof e)t.writeString(e,(function(e){c(3,e,t)}));else if(t.canWriteBinary(e))t.writeBinary(e,(function(e){c(2,e,t)}));else{if("object"!=typeof e)throw new Error("CBOR encoding not supported: "+e);if(y.config.useToJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),Array.isArray(e)){c(4,e.length,t);for(r=0;r<e.length;r++)h(e[r],t)}else{var i=Object.keys(e);c(5,i.length,t);for(r=0;r<i.length;r++){const n=parseInt(i[r]);isNaN(n)?(h(i[r],t),h(e[i[r]],t)):(h(n,t),h(e[i[r]],t))}}}}var p=[],f=[],y={config:{useToJSON:!0},addWriter:function(e,t){"string"==typeof e?f.push((function(r){if(e===r)return t(r)})):f.push(e)},addReader:function(e,t){"string"==typeof e?p.push((function(r,n){if(e===n)return t(r,n)})):p.push(e)},encode:function(e,t){for(var r=0;r<f.length;r++){var n=(0,f[r])(t);if(n)return h(e,n),n.result()}throw new Error("Unsupported output format: "+t)},encodeDataItem:function(e,t){for(var r=0;r<f.length;r++){var n=(0,f[r])(t);if(n)return e.getTag()!==undefined?(h(e,n),n.result()):(h(e.getData(),n),n.result())}throw new Error("Unsupported output format: "+t)},decode:function(e,t){for(var r=0;r<p.length;r++){var n=(0,p[r])(e,t);if(n)return l(n)}throw new Error("Unsupported input format: "+t)},decodeToDataItem:function(e,r){for(var n=0;n<p.length;n++){var s=(0,p[n])(e,r);if(s){const e=l(s);return e instanceof t?e:new t(e)}}throw new Error("Unsupported input format: "+r)},addSemanticEncode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return n.push({tag:e,fn:t}),this},addSemanticDecode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return s[e]=t,this}};function g(e){this.buffer=e,this.pos=0}function m(e){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=e}function b(e){this.hex=e,this.pos=0}function T(e){this.$hex="",this.finalFormat=e||"hex"}return g.prototype=Object.create(o.prototype),g.prototype.peekByte=function(){return this.buffer[this.pos]},g.prototype.readByte=function(){return this.buffer[this.pos++]},g.prototype.readUint16=function(){var e=this.buffer.readUInt16BE(this.pos);return this.pos+=2,e},g.prototype.readUint32=function(){var e=this.buffer.readUInt32BE(this.pos);return this.pos+=4,e},g.prototype.readFloat32=function(){var e=this.buffer.readFloatBE(this.pos);return this.pos+=4,e},g.prototype.readFloat64=function(){var e=this.buffer.readDoubleBE(this.pos);return this.pos+=8,e},g.prototype.readChunk=function(e){var t=r.alloc(e);return this.buffer.copy(t,0,this.pos,this.pos+=e),t},m.prototype=Object.create(a.prototype),m.prototype.writeByte=function(e){this.latestBuffer[this.latestBufferOffset++]=e,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},m.prototype.writeFloat32=function(e){var t=r.alloc(4);t.writeFloatBE(e,0),this.writeBuffer(t)},m.prototype.writeFloat64=function(e){var t=r.alloc(8);t.writeDoubleBE(e,0),this.writeBuffer(t)},m.prototype.writeString=function(e,t){var n=r.from(e,"utf-8");t(n.length),this.writeBuffer(n)},m.prototype.canWriteBinary=function(e){return e instanceof r},m.prototype.writeBinary=function(e,t){t(e.length),this.writeBuffer(e)},m.prototype.writeBuffer=function(e){if(!(e instanceof r))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=e.length?(e.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=e.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(e),this.latestBuffer=r.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(e),this.byteLength+=e.length},m.prototype.result=function(){for(var e=r.alloc(this.byteLength),t=0,n=0;n<this.completeBuffers.length;n++){var s=this.completeBuffers[n];s.copy(e,t,0,s.length),t+=s.length}return this.latestBufferOffset&&this.latestBuffer.copy(e,t,0,this.latestBufferOffset),this.stringFormat?e.toString(this.stringFormat):e},"function"==typeof r&&(y.addReader((function(e,t){return r.isBuffer(e)?new g(e):"hex"===t||"base64"===t?new g(r.from(e,t)):void 0})),y.addWriter((function(e){return e&&"buffer"!==e?"hex"===e||"base64"===e?new m(e):void 0:new m}))),b.prototype=Object.create(o.prototype),b.prototype.peekByte=function(){var e=this.hex.substring(this.pos,2);return parseInt(e,16)},b.prototype.readByte=function(){var e=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(e,16)},b.prototype.readChunk=function(t){var n=this.hex.substring(this.pos,this.pos+2*t);return this.pos+=2*t,"function"==typeof r?r.from(n,"hex"):new e(n)},T.prototype=Object.create(a.prototype),T.prototype.writeByte=function(e){if(e<0||e>255)throw new Error("Byte value out of range: "+e);var t=e.toString(16);1==t.length&&(t="0"+t),this.$hex+=t},T.prototype.canWriteBinary=function(t){return t instanceof e||"function"==typeof r&&t instanceof r},T.prototype.writeBinary=function(t,n){if(t instanceof e)n(t.length()),this.$hex+=t.$hex;else{if(!("function"==typeof r&&t instanceof r))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");n(t.length),this.$hex+=t.toString("hex")}},T.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof r?r.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},T.prototype.writeString=function(t,r){var n=e.fromUtf8String(t);r(n.length()),this.$hex+=n.$hex},y.addReader((function(t,r){return t instanceof e||t.$hex?new b(t.$hex):"hex"===r?new b(t):void 0})),y.addWriter((function(e){if("hex"===e)return new T})),y}();return n.addSemanticEncode(0,(function(e){if(e instanceof Date)return e.toISOString()})).addSemanticDecode(0,(function(e){return new Date(e)})).addSemanticDecode(1,(function(e){return new Date(e)})),n}))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/cbor-sync.js"}],[54,{"../../../shared/modules/fetch-with-timeout":4200,loglevel:3530},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=s(e("loglevel"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const o=(0,s(e("../../../shared/modules/fetch-with-timeout")).default)();r.default=class{constructor(){i(this,"isSupported",!0),this._initialized=!1,this._initializing=this._init(),this._state=undefined,this.mostRecentRetrievedState=null}async _init(){try{const e=await o("http://localhost:12345/state.json");e.ok&&(this._state=await e.json())}catch(e){n.default.debug(`Error loading network state: '${e.message}'`)}finally{this._initialized=!0}}async get(){return this._initialized||await this._initializing,this.mostRecentRetrievedState||(this.mostRecentRetrievedState=this._state),this._state}setMetadata(e){this.metadata=e}async set(e){if(!this.isSupported)throw new Error("Metamask- cannot persist state to local store as this browser does not support this action");if(!e)throw new Error("MetaMask - updated state is missing");if(!this.metadata)throw new Error('MetaMask - metadata must be set on instance of ExtensionStore before calling "set"');this._initialized||await this._initializing,this._state={data:e,meta:this._metadata}}}}}},{package:"$root$",file:"app/scripts/lib/network-store.js"}],[540,{"./DataItem":538,"./cbor-sync":539},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DataItem=r.addWriter=r.addReader=r.addSemanticEncode=r.addSemanticDecode=r.decodeToDataItem=r.encodeDataItem=void 0;var n=e("./cbor-sync");Object.defineProperty(r,"encodeDataItem",{enumerable:!0,get:function(){return n.encodeDataItem}}),Object.defineProperty(r,"decodeToDataItem",{enumerable:!0,get:function(){return n.decodeToDataItem}}),Object.defineProperty(r,"addSemanticDecode",{enumerable:!0,get:function(){return n.addSemanticDecode}}),Object.defineProperty(r,"addSemanticEncode",{enumerable:!0,get:function(){return n.addSemanticEncode}}),Object.defineProperty(r,"addReader",{enumerable:!0,get:function(){return n.addReader}}),Object.defineProperty(r,"addWriter",{enumerable:!0,get:function(){return n.addWriter}});var s=e("./DataItem");Object.defineProperty(r,"DataItem",{enumerable:!0,get:function(){return s.DataItem}})}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/index.js"}],[541,{"./RegistryType":533,"./ScriptExpression":534,"./utils":543},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("./utils"),s=e("./RegistryType"),i=e("./ScriptExpression"),o=Object.values(s.RegistryTypes).filter((e=>!!e.getTag())).map((e=>e.getTag())),a=Object.values(i.ScriptExpressions).map((e=>e.getTag()));(0,n.patchTags)(o.concat(a))}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/patchCBOR.js"}],[542,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/types.js"}],[543,{"./lib":540},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.patchTags=void 0;const n=e("./lib"),s=[];r.patchTags=e=>{e.forEach((e=>{s.find((t=>t===e))||((0,n.addSemanticEncode)(e,(t=>{if(t instanceof n.DataItem&&t.getTag()===e)return t.getData()})),(0,n.addSemanticDecode)(e,(t=>new n.DataItem(t,e))),s.push(e))}))}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/utils.js"}],[73,{"@sentry/utils":2065},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.FilterEvents=void 0;var n=e("@sentry/utils");function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class i{constructor({getMetaMetricsEnabled:e}){s(this,"name",i.id),s(this,"getMetaMetricsEnabled",void 0),this.getMetaMetricsEnabled=e}setupOnce(e,t){e((async e=>{const r=t().getIntegration(i);return r&&!await r.getMetaMetricsEnabled()?(n.logger.warn("Event dropped due to MetaMetrics setting."),null):e}))}}r.FilterEvents=i,s(i,"id","FilterEvents")}}},{package:"$root$",file:"app/scripts/lib/sentry-filter-events.ts"}],[74,{"../../../shared/modules/object.utils":4206,"../platforms/extension":196,"./local-store":50,"./network-store":54,"./setupSentry":75},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../shared/modules/object.utils"),s=a(e("../platforms/extension")),i=a(e("./local-store")),o=(a(e("./network-store")),e("./setupSentry"));function a(e){return e&&e.__esModule?e:{default:e}}const u=new s.default,c=new i.default;globalThis.stateHooks.getPersistedState=async function(){return await c.get()};const d={data:o.SENTRY_BACKGROUND_STATE,meta:{version:!0}};globalThis.stateHooks.getSentryState=function(){const e={browser:window.navigator.userAgent,version:u.getVersion()};if(globalThis.stateHooks.getSentryAppState)return{...e,state:globalThis.stateHooks.getSentryAppState()};if(c.mostRecentRetrievedState||globalThis.stateHooks.getMostRecentPersistedState){const t=c.mostRecentRetrievedState||globalThis.stateHooks.getMostRecentPersistedState();if(t)return{...e,persistedState:(0,n.maskObject)(t,d)}}return e}}}},{package:"$root$",file:"app/scripts/lib/setup-initial-state-hooks.js"}],[75,{"../../../shared/modules/object.utils":4206,"./extractEthjsErrorMessage":45,"./sentry-filter-events":73,"@sentry/browser":1982,"@sentry/integrations":2037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SENTRY_UI_STATE=r.SENTRY_BACKGROUND_STATE=r.ERROR_URL_ALLOWLIST=void 0,r.beforeBreadcrumb=w,r.default=function({release:e,getState:t}){if(!e)throw new Error("Missing release");if(d&&!f)return undefined;const r="main"===p?l:`${l}-${p}`;let n;if("production"===l)throw new Error("Missing SENTRY_DSN environment variable in production environment");console.log(`Setting up Sentry Remote Error Reporting for '${r}': SENTRY_DSN_DEV`),n=h;async function o(){const e=t();if(e.state||e.persistedState)return b(e);try{return T(await globalThis.stateHooks.getPersistedState())}catch(e){return console.error(e),!1}}s.init({dsn:n,debug:d,autoSessionTracking:!1,environment:r,integrations:[new a.FilterEvents({getMetaMetricsEnabled:o}),new i.Dedupe,new i.ExtraErrorData],release:e,beforeSend:e=>k(e,t),beforeBreadcrumb:w(t)});const u=async()=>{var e,t,r,n;const i=null===(e=s.getCurrentHub)||void 0===e?void 0:e.call(s),a=(null===(t=i.getClient)||void 0===t||null===(r=(n=t.call(i)).getOptions)||void 0===r?void 0:r.call(n))??{};i&&!0===await o()&&(a.autoSessionTracking=!0,i.startSession())},c=async()=>{var e,t,r,n;const i=null===(e=s.getCurrentHub)||void 0===e?void 0:e.call(s),a=(null===(t=i.getClient)||void 0===t||null===(r=(n=t.call(i)).getOptions)||void 0===r?void 0:r.call(n))??{};i&&!1===await o()&&(a.autoSessionTracking=!1,i.endSession())};return{...s,startSession:u,endSession:c,toggleSession:async()=>{var e,t,r,n;const i=null===(e=s.getCurrentHub)||void 0===e?void 0:e.call(s),a=(null===(t=i.getClient)||void 0===t||null===(r=(n=t.call(i)).getOptions)||void 0===r?void 0:r.call(n))??{autoSessionTracking:!1},d=await o();!0===d&&!1===a.autoSessionTracking?await u():!1===d&&!0===a.autoSessionTracking&&await c()}}},r.removeUrlsFromBreadCrumb=I,r.rewriteReport=k;var n,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(e("@sentry/browser")),i=e("@sentry/integrations"),o=e("../../../shared/modules/object.utils"),a=e("./sentry-filter-events"),u=(n=e("./extractEthjsErrorMessage"))&&n.__esModule?n:{default:n};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}const d=!1,l="other",h="https://f59f3dd640d2429d9d0e2445a87ea8e1@sentry.io/273496",p="main",f=!1,y=r.ERROR_URL_ALLOWLIST={CRYPTOCOMPARE:"cryptocompare.com",COINGECKO:"coingecko.com",ETHERSCAN:"etherscan.io",CODEFI:"codefi.network",SEGMENT:"segment.io"},g=r.SENTRY_BACKGROUND_STATE={AccountTracker:{accounts:!1,currentBlockGasLimit:!0},AddressBookController:{addressBook:!1},AlertController:{alertEnabledness:!0,unconnectedAccountAlertShownOrigins:!1,web3ShimUsageOrigins:!1},AnnouncementController:{announcements:!1},AppMetadataController:{currentAppVersion:!0,currentMigrationVersion:!0,previousAppVersion:!0,previousMigrationVersion:!0},ApprovalController:{approvalFlows:!1,pendingApprovals:!1,pendingApprovalCount:!1},AppStateController:{browserEnvironment:!0,connectedStatusPopoverHasBeenShown:!0,currentPopupId:!1,defaultHomeActiveTabName:!0,fullScreenGasPollTokens:!0,hadAdvancedGasFeesSetPriorToMigration92_3:!0,nftsDetectionNoticeDismissed:!0,nftsDropdownState:!0,notificationGasPollTokens:!0,outdatedBrowserWarningLastShown:!0,popupGasPollTokens:!0,qrHardware:!0,recoveryPhraseReminderHasBeenShown:!0,recoveryPhraseReminderLastShown:!0,showBetaHeader:!0,showProductTour:!0,showTestnetMessageInDropdown:!0,snapsInstallPrivacyWarningShown:!0,termsOfUseLastAgreed:!0,timeoutMinutes:!0,trezorModel:!0,usedNetworks:!0},CachedBalancesController:{cachedBalances:!1},CronjobController:{jobs:!1},CurrencyController:{currentCurrency:!0,currencyRates:!0},DecryptMessageController:{unapprovedDecryptMsgs:!1,unapprovedDecryptMsgCount:!0},EncryptionPublicKeyController:{unapprovedEncryptionPublicKeyMsgs:!1,unapprovedEncryptionPublicKeyMsgCount:!0},EnsController:{ensResolutionsByAddress:!1},GasFeeController:{estimatedGasFeeTimeBounds:!0,gasEstimateType:!0,gasFeeEstimates:!0},KeyringController:{isUnlocked:!0,keyrings:!1},LoggingController:{logs:!1},MetaMetricsController:{eventsBeforeMetricsOptIn:!1,fragments:!1,metaMetricsId:!0,participateInMetaMetrics:!0,previousUserTraits:!1,segmentApiCalls:!1,traits:!1},NetworkController:{networkConfigurations:!1,networksMetadata:!0,providerConfig:{chainId:!0,id:!0,nickname:!0,rpcPrefs:!1,rpcUrl:!1,ticker:!0,type:!0},selectedNetworkClientId:!1},NftController:{allNftContracts:!1,allNfts:!1,ignoredNfts:!1},NotificationController:{notifications:!1},OnboardingController:{completedOnboarding:!0,firstTimeFlowType:!0,onboardingTabs:!1,seedPhraseBackedUp:!0},PPOMController:{chainStatus:!0,securityAlertsEnabled:!1,storageMetadata:[],versionFileETag:!1,versionInfo:[]},PermissionController:{subjects:!1},PermissionLogController:{permissionActivityLog:!1,permissionHistory:!1},PhishingController:{},PreferencesController:{advancedGasFee:!0,currentLocale:!0,disabledRpcMethodPreferences:!0,dismissSeedBackUpReminder:!0,featureFlags:!0,forgottenPassword:!0,identities:!1,incomingTransactionsPreferences:!0,ipfsGateway:!1,isLineaMainnetReleased:!0,knownMethodData:!1,ledgerTransportType:!0,lostIdentities:!1,openSeaEnabled:!0,preferences:{autoLockTimeLimit:!0,hideZeroBalanceTokens:!0,showFiatInTestnets:!0,showTestNetworks:!0,useNativeCurrencyAsPrimaryCurrency:!0},selectedAddress:!1,snapRegistryList:!1,theme:!0,transactionSecurityCheckEnabled:!0,use4ByteResolution:!0,useAddressBarEnsResolution:!0,useBlockie:!0,useCurrencyRateCheck:!0,useMultiAccountBalanceChecker:!0,useNftDetection:!0,useNonceField:!0,usePhishDetect:!0,useTokenDetection:!0,useRequestQueue:!0},SelectedNetworkController:{domains:!0,perDomainNetwork:!1},SignatureController:{unapprovedMsgCount:!0,unapprovedMsgs:!1,unapprovedPersonalMsgCount:!0,unapprovedPersonalMsgs:!1,unapprovedTypedMessages:!1,unapprovedTypedMessagesCount:!0},SmartTransactionsController:{smartTransactionsState:{fees:{approvalTxFees:!0,tradeTxFees:!0},liveness:!0,smartTransactions:!1,userOptIn:!0,userOptInV2:!0}},SnapController:{unencryptedSnapStates:!1,snapStates:!1,snaps:!1},SnapsRegistry:{database:!1,lastUpdated:!1},SubjectMetadataController:{subjectMetadata:!1},SwapsController:{swapsState:{approveTxId:!1,customApproveTxData:!1,customGasPrice:!0,customMaxFeePerGas:!0,customMaxGas:!0,customMaxPriorityFeePerGas:!0,errorKey:!0,fetchParams:!0,quotes:!1,quotesLastFetched:!0,quotesPollingLimitEnabled:!0,routeState:!0,saveFetchedQuotes:!0,selectedAggId:!0,swapsFeatureFlags:!0,swapsFeatureIsLive:!0,swapsQuotePrefetchingRefreshTime:!0,swapsQuoteRefreshTime:!0,swapsStxBatchStatusRefreshTime:!0,swapsStxGetTransactionsRefreshTime:!0,swapsStxMaxFeeMultiplier:!0,swapsUserFeeLevel:!0,tokens:!1,topAggId:!1,tradeTxId:!1}},TokenListController:{preventPollingOnNetworkRestart:!0,tokenList:!1,tokensChainsCache:{[o.AllProperties]:!1}},TokenRatesController:{contractExchangeRates:!1},TokensController:{allDetectedTokens:{[o.AllProperties]:!1},allIgnoredTokens:{[o.AllProperties]:!1},allTokens:{[o.AllProperties]:!1},detectedTokens:!1,ignoredTokens:!1,tokens:!1},TransactionController:{transactions:!1,lastFetchedBlockNumbers:!1,methodData:!1},TxController:{transactions:!1}},m=Object.values(g).reduce(((e,t)=>({...e,...t})),{});r.SENTRY_UI_STATE={gas:!0,history:!0,metamask:{...m,isInitialized:!0,customNonceValue:!0,isAccountMenuOpen:!0,isNetworkMenuOpen:!0,nextNonce:!0,pendingTokens:!1,welcomeScreenSeen:!0,useSafeChainsListValidation:!0,addSnapAccountEnabled:!1,snapsAddSnapAccountModalDismissed:!1},unconnectedAccount:!0};function b(e){return e.persistedState?T(e.persistedState):!!e.state&&(e.state.metamask?Boolean(e.state.metamask.participateInMetaMetrics):Boolean(null===(t=e.state.MetaMetricsController)||void 0===t?void 0:t.participateInMetaMetrics));var t}function T(e){var t;return Boolean(null==e||null===(t=e.data)||void 0===t||null===(t=t.MetaMetricsController)||void 0===t?void 0:t.participateInMetaMetrics)}function v(e){return e.match(/^(chrome-extension|moz-extension):\/\//u)?e:""}function w(e){return t=>{if(!e)return null;const r=e();if(!b(r)||!function(e){var t,r;return e.persistedState?Boolean(null===(t=e.persistedState.data)||void 0===t||null===(t=t.OnboardingController)||void 0===t?void 0:t.completedOnboarding):!!e.state&&(e.state.metamask?Boolean(e.state.metamask.completedOnboarding):Boolean(null===(r=e.state.OnboardingController)||void 0===r?void 0:r.completedOnboarding))}(r)||"ui.input"===(null==t?void 0:t.category))return null;return I(t)}}function I(e){var t,r,n;return null!=e&&null!==(t=e.data)&&void 0!==t&&t.url&&(e.data.url=v(e.data.url)),null!=e&&null!==(r=e.data)&&void 0!==r&&r.to&&(e.data.to=v(e.data.to)),null!=e&&null!==(n=e.data)&&void 0!==n&&n.from&&(e.data.from=v(e.data.from)),e}function k(e,t){try{if(function(e){C(e,(e=>{let t=(0,u.default)(e);return 0===t.indexOf("Transaction Failed: known transaction")&&(t="Transaction Failed: known transaction"),t}))}(e),function(e){C(e,(e=>{let t=e;const r=/(([-.+a-zA-Z]+:\/\/)|(www\.))\S+[@:.]\S+/gu;return(t.match(r)||[]).forEach((e=>{try{const r=new URL(e),{hostname:n}=r;Object.values(y).some((e=>n===e||n.endsWith(`.${e}`)))||(t=t.replace(e,"**"))}catch(r){t=t.replace(e,"**")}})),t}))}(e),function(e){C(e,(e=>e.replace(/0x[A-Fa-f0-9]{40}/u,"0x**")))}(e),function(e){var t;null!==(t=e.request)&&void 0!==t&&t.url&&(e.request.url=D(e.request.url));e.exception&&e.exception.values&&e.exception.values.forEach((e=>{e.stacktrace&&e.stacktrace.frames.forEach((e=>{e.filename=D(e.filename)}))}))}(e),t){const r=t();e.extra||(e.extra={}),e.extra.appState=r}}catch(e){console.warn(e)}return e}function C(e,t){"string"==typeof e.message&&(e.message=t(e.message)),e.exception&&e.exception.values&&e.exception.values.forEach((e=>{"string"==typeof e.value&&(e.value=t(e.value))}))}function D(e){var t;if(null===(t=globalThis.location)||void 0===t||!t.origin)return e;const r=null==e?void 0:e.split(globalThis.location.origin)[1];if(!r)return e;return`/metamask${r}`}}}},{package:"$root$",file:"app/scripts/lib/setupSentry.js"}],[80,{"../../../shared/constants/app":4162,"obj-multiplex":3607,pump:3716},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setupMultiplex=function(e){const t=new n.default;return t.ignoreStream(i.EXTENSION_MESSAGES.CONNECTION_READY),(0,s.default)(e,t,e,(e=>{e&&console.error(e)})),t};var n=o(e("obj-multiplex")),s=o(e("pump")),i=e("../../../shared/constants/app");function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"app/scripts/lib/stream-utils.js"}],[82,{"../../../shared/constants/app":4162,"../../../shared/constants/network":4172,"../../../shared/modules/hexstring-utils":4202,"@metamask/transaction-controller":1835,"bn.js":2539,lodash:3520,url:4088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BnMultiplyByFraction=function(e,t,r){const n=new s.default(t),i=new s.default(r);return e.mul(n).div(i)},r.addHexPrefix=void 0,r.addUrlProtocolPrefix=function(e){let t=e.trim();t.length&&!n.default.parse(t).protocol&&(t=`https://${t}`);if(null!==p(t))return t;return null},r.checkAlarmExists=function(e,t){return e.some((e=>e.name===t))},r.deferredPromise=function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}},r.formatTxMetaForRpcResult=function(e){const{r:t,s:r,v:n,hash:s,txReceipt:i,txParams:a}=e,{to:u,data:c,nonce:d,gas:l,from:h,value:p,gasPrice:f,accessList:y,maxFeePerGas:g,maxPriorityFeePerGas:m}=a,b={v:n,r:t,s:r,to:u,gas:l,from:h,hash:s,nonce:`${d}`,input:c||"0x",value:p||"0x0",accessList:y||null,blockHash:(null==i?void 0:i.blockHash)||null,blockNumber:(null==i?void 0:i.blockNumber)||null,transactionIndex:(null==i?void 0:i.transactionIndex)||null,type:g&&m?o.TransactionEnvelopeType.feeMarket:o.TransactionEnvelopeType.legacy};g&&m?(b.gasPrice=g,b.maxFeePerGas=g,b.maxPriorityFeePerGas=m):b.gasPrice=f;return b},r.generateRandomId=void 0,r.getChainType=function(e){if(e===u.CHAIN_IDS.MAINNET)return"mainnet";if(u.TEST_CHAINS.includes(e))return"testnet";return"custom"},r.getPlatform=r.getEnvironmentType=void 0,r.getValidUrl=p,r.hexToBn=function(e){return new s.default((0,c.stripHexPrefix)(e),16)},r.isValidDate=void 0,r.isWebUrl=function(e){const t=p(e);return null!==t&&("https:"===t.protocol||"http:"===t.protocol)},r.previousValueComparator=function(e,t){let r,n=!0;return s=>{try{return n?(n=!1,e(t??s,s)):e(r,s)}finally{r=s}}};var n=d(e("url")),s=d(e("bn.js")),i=e("lodash"),o=e("@metamask/transaction-controller"),a=e("../../../shared/constants/app"),u=e("../../../shared/constants/network"),c=e("../../../shared/modules/hexstring-utils");function d(e){return e&&e.__esModule?e:{default:e}}const l=(0,i.memoize)((e=>{const t=new URL(e);return"/popup.html"===t.pathname?a.ENVIRONMENT_TYPE_POPUP:["/home.html"].includes(t.pathname)?a.ENVIRONMENT_TYPE_FULLSCREEN:"/notification.html"===t.pathname?a.ENVIRONMENT_TYPE_NOTIFICATION:a.ENVIRONMENT_TYPE_BACKGROUND}));r.getEnvironmentType=(e=window.location.href)=>l(e);r.getPlatform=()=>{const{navigator:e}=window,{userAgent:t}=e;return t.includes("Firefox")?a.PLATFORM_FIREFOX:"brave"in e?a.PLATFORM_BRAVE:t.includes("Edg/")?a.PLATFORM_EDGE:t.includes("OPR")?a.PLATFORM_OPERA:a.PLATFORM_CHROME};r.addHexPrefix=e=>"string"!=typeof e||e.match(/^-?0x/u)?e:e.match(/^-?0X/u)?e.replace("0X","0x"):e.startsWith("-")?e.replace("-","-0x"):`0x${e}`;const h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";r.generateRandomId=()=>{let e="";for(let t=0;t<20;t++)e+=h.charAt(Math.floor(62*Math.random()));return e};function p(e){try{const t=new URL(e);return 0===t.hostname.length||0===t.pathname.length||t.hostname!==decodeURIComponent(t.hostname)?null:t}catch(e){return null}}r.isValidDate=e=>e instanceof Date}}},{package:"$root$",file:"app/scripts/lib/util.ts"}],[977,{"./errors":978,"./packer":981,"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeSingle=r.decode=r.encodePacked=r.encodeSingle=r.encode=void 0;const n=e("@metamask/utils"),s=e("./errors"),i=e("./packer");r.encode=(e,t,r,n)=>{try{return(0,i.pack)({types:e,values:t,packed:r,tight:n})}catch(e){if(e instanceof s.ParserError)throw new s.ParserError(`Unable to encode value: ${e.message}`,e);throw new s.ParserError(`An unexpected error occurred: ${(0,s.getErrorMessage)(e)}`,e)}};r.encodeSingle=(e,t)=>(0,r.encode)([e],[t]);r.encodePacked=(e,t,n)=>(0,r.encode)(e,t,!0,n);r.decode=(e,t)=>{const r=(0,n.createBytes)(t);try{return(0,i.unpack)(e,r)}catch(e){if(e instanceof s.ParserError)throw new s.ParserError(`Unable to decode value: ${e.message}`,e);throw new s.ParserError(`An unexpected error occurred: ${(0,s.getErrorMessage)(e)}`,e)}};r.decodeSingle=(e,t)=>{const i=(0,r.decode)([e],t);return(0,n.assert)(1===i.length,new s.ParserError("Decoded value array has unexpected length.")),i[0]}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/abi.js"}],[978,{"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ParserError=r.getErrorStack=r.getErrorMessage=void 0;const n=e("@metamask/utils");r.getErrorMessage=e=>"string"==typeof e?e:e instanceof Error||(0,n.isObject)(e)&&(0,n.hasProperty)(e,"message")&&"string"==typeof e.message?e.message:"Unknown error.";r.getErrorStack=e=>e instanceof Error?e.stack:undefined;class s extends Error{constructor(e,t){super(e),this.name="ParserError";const n=(0,r.getErrorStack)(t);n&&(this.stack=n)}}r.ParserError=s}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/errors.js"}],[979,{"./abi":977,"./errors":978,"./types":994},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),s(e("./abi"),r),s(e("./errors"),r),s(e("./types"),r)}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/index.js"}],[980,{"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.iterate=void 0;const n=e("@metamask/utils");r.iterate=function*(e,t=32){for(let r=0;r<e.length;r+=t){const s=e=>{(0,n.assert)(e>=0,"Cannot skip a negative number of bytes."),(0,n.assert)(e%t==0,"Length must be a multiple of the size."),r+=e},i=e.subarray(r);yield{skip:s,value:i}}return{skip:()=>undefined,value:new Uint8Array}}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/iterator.js"}],[981,{"./errors":978,"./iterator":980,"./parsers":988,"./utils":996,"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unpack=r.pack=r.isDynamicParser=r.getParser=void 0;const n=e("@metamask/utils"),s=e("./errors"),i=e("./iterator"),o=e("./parsers"),a=e("./utils");r.getParser=e=>{const t={address:o.address,array:o.array,bool:o.bool,bytes:o.bytes,fixedBytes:o.fixedBytes,function:o.fn,number:o.number,string:o.string,tuple:o.tuple},r=t[e];if(r)return r;const n=Object.values(t).find((t=>t.isType(e)));if(n)return n;throw new s.ParserError(`The type "${e}" is not supported.`)};r.isDynamicParser=(e,t)=>{const{isDynamic:r}=e;return"function"==typeof r?r(t):r};r.pack=({types:e,values:t,packed:i=!1,tight:o=!1,arrayPacked:u=!1,byteArray:c=new Uint8Array})=>{(0,n.assert)(e.length===t.length,new s.ParserError(`The number of types (${e.length}) does not match the number of values (${t.length}).`));const{staticBuffer:d,dynamicBuffer:l,pointers:h}=e.reduce((({staticBuffer:e,dynamicBuffer:s,pointers:a},c,d)=>{const l=(0,r.getParser)(c),h=t[d];if(i||u||!(0,r.isDynamicParser)(l,c))return{staticBuffer:l.encode({buffer:e,value:h,type:c,packed:i,tight:o}),dynamicBuffer:s,pointers:a};return{staticBuffer:(0,n.concatBytes)([e,new Uint8Array(32)]),dynamicBuffer:l.encode({buffer:s,value:h,type:c,packed:i,tight:o}),pointers:[...a,{position:e.length,pointer:s.length}]}}),{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,n.assert)(!i&&!u||0===l.length,new s.ParserError("Invalid pack state."));const p=d.length,f=h.reduce(((e,{pointer:t,position:r})=>{const s=(0,a.padStart)((0,n.numberToBytes)(p+t));return(0,a.set)(e,s,r)}),d);return(0,n.concatBytes)([c,f,l])};r.unpack=(e,t)=>{const o=(0,i.iterate)(t);return e.map((e=>{const{value:{value:i,skip:a},done:u}=o.next();(0,n.assert)(!u,new s.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${e}".`));const c=(0,r.getParser)(e);if((0,r.isDynamicParser)(c,e)){const r=(0,n.bytesToNumber)(i.subarray(0,32)),s=t.subarray(r);return c.decode({type:e,value:s,skip:a})}return c.decode({type:e,value:i,skip:a})}))}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/packer.js"}],[982,{"../errors":978,"../utils":996,"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.address=r.getAddress=void 0;const n=e("@metamask/utils"),s=e("../errors"),i=e("../utils");r.getAddress=e=>{const t=(0,n.createBytes)(e);return(0,n.assert)(t.length<=20,new s.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${t.length} bytes.`)),(0,i.padStart)(t,20)},r.address={isDynamic:!1,isType:e=>"address"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:s}){const o=(0,r.getAddress)(t);if(s)return(0,n.concatBytes)([e,o]);const a=(0,i.padStart)(o);return(0,n.concatBytes)([e,a])},decode:({value:e})=>(0,n.add0x)((0,n.bytesToHex)(e.slice(12,32)))}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/parsers/address.js"}],[983,{"../errors":978,"../packer":981,"../utils":996,"./fixed-bytes":986,"./tuple":992,"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.array=r.getTupleType=r.getArrayType=r.isArrayType=void 0;const n=e("@metamask/utils"),s=e("../errors"),i=e("../packer"),o=e("../utils"),a=e("./fixed-bytes"),u=e("./tuple"),c=/^(?<type>.*)\[(?<length>\d*?)\]$/u;r.isArrayType=e=>c.test(e);r.getArrayType=e=>{const t=e.match(c);return(0,n.assert)(t?.groups?.type,new s.ParserError(`Invalid array type. Expected an array type, but received "${e}".`)),[t.groups.type,t.groups.length?parseInt(t.groups.length,10):undefined]};r.getTupleType=(e,t)=>`(${new Array(t).fill(e).join(",")})`,r.array={isDynamic(e){const[t,n]=(0,r.getArrayType)(e);return n===undefined||(0,i.isDynamicParser)((0,i.getParser)(t),t)},isType:e=>(0,r.isArrayType)(e),getByteLength(e){(0,n.assert)((0,r.isArrayType)(e),new s.ParserError(`Expected an array type, but received "${e}".`));const[t,o]=(0,r.getArrayType)(e);return(0,i.isDynamicParser)(this,e)||o===undefined?32:u.tuple.getByteLength((0,r.getTupleType)(t,o))},encode({type:e,buffer:t,value:c,packed:d,tight:l}){const[h,p]=(0,r.getArrayType)(e);if((0,n.assert)(!d||!(0,r.isArrayType)(h),new s.ParserError("Cannot pack nested arrays.")),d&&(0,i.isDynamicParser)((0,i.getParser)(h),h))return(0,i.pack)({types:new Array(c.length).fill(h),values:c,byteArray:t,packed:d,arrayPacked:!0,tight:l});if(p)return(0,n.assert)(p===c.length,new s.ParserError(`Array length does not match type length. Expected a length of ${p}, but received ${c.length}.`)),u.tuple.encode({type:(0,r.getTupleType)(h,p),buffer:t,value:c,packed:a.fixedBytes.isType(h)&&l,tight:l});if(d)return(0,i.pack)({types:new Array(c.length).fill(h),values:c,byteArray:t,packed:a.fixedBytes.isType(h)&&l,arrayPacked:!0,tight:l});const f=(0,o.padStart)((0,n.numberToBytes)(c.length));return(0,i.pack)({types:new Array(c.length).fill(h),values:c,byteArray:(0,n.concatBytes)([t,f]),packed:d,tight:l})},decode({type:e,value:t,...o}){const[a,c]=(0,r.getArrayType)(e);if(c){const e=u.tuple.decode({type:(0,r.getTupleType)(a,c),value:t,...o});return(0,n.assert)(e.length===c,new s.ParserError(`Array length does not match type length. Expected a length of ${c}, but received ${e.length}.`)),e}const d=(0,n.bytesToNumber)(t.subarray(0,32));return(0,i.unpack)(new Array(d).fill(a),t.subarray(32))}}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/parsers/array.js"}],[984,{"../errors":978,"./number":989,"@metamask/utils":1893,superstruct:4054},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bool=r.getBooleanValue=void 0;const n=e("@metamask/utils"),s=e("superstruct"),i=e("../errors"),o=e("./number"),a=(0,s.coerce)((0,s.boolean)(),(0,s.union)([(0,s.literal)("true"),(0,s.literal)("false")]),(e=>"true"===e));r.getBooleanValue=e=>{try{return(0,s.create)(e,a)?BigInt(1):BigInt(0)}catch{throw new i.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${e}".`)}},r.bool={isDynamic:!1,isType:e=>"bool"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:s,tight:i}){const a=(0,r.getBooleanValue)(t);return s?(0,n.concatBytes)([e,(0,n.bigIntToBytes)(a)]):o.number.encode({type:"uint256",buffer:e,value:a,packed:s,tight:i})},decode:e=>o.number.decode({...e,type:"uint256"})===BigInt(1)}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/parsers/bool.js"}],[985,{"../utils":996,"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bytes=void 0;const n=e("@metamask/utils"),s=e("../utils");r.bytes={isDynamic:!0,isType:e=>"bytes"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:r}){const i=(0,n.createBytes)(t);if(r)return(0,n.concatBytes)([e,i]);const o=32*Math.ceil(i.byteLength/32);return(0,n.concatBytes)([e,(0,s.padStart)((0,n.numberToBytes)(i.byteLength)),(0,s.padEnd)(i,o)])},decode({value:e}){const t=e.subarray(0,32),r=(0,n.bytesToNumber)(t);return e.slice(32,32+r)}}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/parsers/bytes.js"}],[986,{"../errors":978,"../utils":996,"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fixedBytes=r.getByteLength=void 0;const n=e("@metamask/utils"),s=e("../errors"),i=e("../utils"),o=/^bytes([0-9]{1,2})$/u;r.getByteLength=e=>{const t=e.match(o)?.[1];(0,n.assert)(t,`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`);const r=Number(t);return(0,n.assert)(r>0&&r<=32,new s.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`)),r},r.fixedBytes={isDynamic:!1,isType:e=>o.test(e),getByteLength:()=>32,encode({type:e,buffer:t,value:o,packed:a}){const u=(0,r.getByteLength)(e),c=(0,n.createBytes)(o);return(0,n.assert)(c.length<=u,new s.ParserError(`Expected a value of length ${u}, but received a value of length ${c.length}.`)),a?(0,n.concatBytes)([t,(0,i.padEnd)(c,u)]):(0,n.concatBytes)([t,(0,i.padEnd)(c)])},decode({type:e,value:t}){const n=(0,r.getByteLength)(e);return t.slice(0,n)}}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/parsers/fixed-bytes.js"}],[987,{"../errors":978,"./fixed-bytes":986,"@metamask/utils":1893,superstruct:4054},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fn=r.getFunction=void 0;const n=e("@metamask/utils"),s=e("superstruct"),i=e("../errors"),o=e("./fixed-bytes"),a=(0,s.coerce)((0,s.object)({address:n.StrictHexStruct,selector:n.StrictHexStruct}),(0,s.union)([n.StrictHexStruct,(0,s.instance)(Uint8Array)]),(e=>{const t=(0,n.createBytes)(e);return(0,n.assert)(24===t.length,new i.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${t.length} bytes.`)),{address:(0,n.bytesToHex)(t.subarray(0,20)),selector:(0,n.bytesToHex)(t.subarray(20,24))}}));r.getFunction=e=>{const t=(0,s.create)(e,a);return(0,n.concatBytes)([(0,n.hexToBytes)(t.address),(0,n.hexToBytes)(t.selector)])},r.fn={isDynamic:!1,isType:e=>"function"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:n,tight:s}){const i=(0,r.getFunction)(t);return o.fixedBytes.encode({type:"bytes24",buffer:e,value:i,packed:n,tight:s})},decode:({value:e})=>({address:(0,n.bytesToHex)(e.slice(0,20)),selector:(0,n.bytesToHex)(e.slice(20,24))})}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/parsers/function.js"}],[988,{"./address":982,"./array":983,"./bool":984,"./bytes":985,"./fixed-bytes":986,"./function":987,"./number":989,"./parser":990,"./string":991,"./tuple":992},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),s(e("./address"),r),s(e("./array"),r),s(e("./bool"),r),s(e("./bytes"),r),s(e("./fixed-bytes"),r),s(e("./function"),r),s(e("./number"),r),s(e("./parser"),r),s(e("./string"),r),s(e("./tuple"),r)}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/parsers/index.js"}],[989,{"../errors":978,"../utils":996,"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.number=r.getBigInt=r.assertNumberLength=r.getLength=r.isSigned=void 0;const n=e("@metamask/utils"),s=e("../errors"),i=e("../utils"),o=/^u?int(?<length>[0-9]*)?$/u;r.isSigned=e=>!e.startsWith("u");r.getLength=e=>{if("int"===e||"uint"===e)return 256;const t=e.match(o);(0,n.assert)(t?.groups?.length,new s.ParserError(`Invalid number type. Expected a number type, but received "${e}".`));const r=parseInt(t.groups.length,10);return(0,n.assert)(r>=8&&r<=256,new s.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${e}".`)),(0,n.assert)(r%8==0,new s.ParserError(`Invalid number length. Expected a multiple of 8, but received "${e}".`)),r};r.assertNumberLength=(e,t)=>{const i=(0,r.getLength)(t),o=BigInt(2)**BigInt(i-((0,r.isSigned)(t)?1:0))-BigInt(1);(0,r.isSigned)(t)?(0,n.assert)(e>=-(o+BigInt(1))&&e<=o,new s.ParserError(`Number "${e}" is out of range for type "${t}".`)):(0,n.assert)(e<=o,new s.ParserError(`Number "${e}" is out of range for type "${t}".`))};r.getBigInt=e=>{try{return(0,n.createBigInt)(e)}catch{throw new s.ParserError(`Invalid number. Expected a valid number value, but received "${e}".`)}},r.number={isDynamic:!1,isType:e=>o.test(e),getByteLength:()=>32,encode({type:e,buffer:t,value:s,packed:o}){const a=(0,r.getBigInt)(s);if((0,r.assertNumberLength)(a,e),(0,r.isSigned)(e)){if(o){const s=(0,r.getLength)(e)/8;return(0,n.concatBytes)([t,(0,n.signedBigIntToBytes)(a,s)])}return(0,n.concatBytes)([t,(0,i.padStart)((0,n.signedBigIntToBytes)(a,32))])}if(o){const s=(0,r.getLength)(e)/8;return(0,n.concatBytes)([t,(0,i.padStart)((0,n.bigIntToBytes)(a),s)])}return(0,n.concatBytes)([t,(0,i.padStart)((0,n.bigIntToBytes)(a))])},decode({type:e,value:t}){const s=t.subarray(0,32);if((0,r.isSigned)(e)){const t=(0,n.bytesToSignedBigInt)(s);return(0,r.assertNumberLength)(t,e),t}const i=(0,n.bytesToBigInt)(s);return(0,r.assertNumberLength)(i,e),i}}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/parsers/number.js"}],[990,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/parsers/parser.js"}],[991,{"./bytes":985,"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.string=void 0;const n=e("@metamask/utils"),s=e("./bytes");r.string={isDynamic:!0,isType:e=>"string"===e,getByteLength:()=>32,encode:({buffer:e,value:t,packed:r,tight:i})=>s.bytes.encode({type:"bytes",buffer:e,value:(0,n.stringToBytes)(t),packed:r,tight:i}),decode:e=>(0,n.bytesToString)(s.bytes.decode(e))}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/parsers/string.js"}],[992,{"../errors":978,"../packer":981,"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tuple=r.getTupleElements=void 0;const n=e("@metamask/utils"),s=e("../errors"),i=e("../packer"),o=/^\((.+)\)$/u;r.getTupleElements=e=>{(0,n.assert)(e.startsWith("(")&&e.endsWith(")"),new s.ParserError(`Invalid tuple type. Expected tuple type, but received "${e}".`));const t=[];let r="",i=0;for(let n=1;n<e.length-1;n++){const s=e[n];","===s&&0===i?(t.push(r.trim()),r=""):(r+=s,"("===s?i+=1:")"===s&&(i-=1))}return r.trim()&&t.push(r.trim()),t},r.tuple={isDynamic:e=>(0,r.getTupleElements)(e).some((e=>{const t=(0,i.getParser)(e);return(0,i.isDynamicParser)(t,e)})),isType:e=>(e=>o.test(e))(e),getByteLength(e){if((0,i.isDynamicParser)(this,e))return 32;return(0,r.getTupleElements)(e).reduce(((e,t)=>e+(0,i.getParser)(t).getByteLength(t)),0)},encode({type:e,buffer:t,value:n,packed:s,tight:o}){const a=(0,r.getTupleElements)(e);return(0,i.pack)({types:a,values:n,byteArray:t,packed:s,tight:o})},decode({type:e,value:t,skip:n}){const s=(0,r.getTupleElements)(e);return n(this.getByteLength(e)-32),(0,i.unpack)(s,t)}}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/parsers/tuple.js"}],[993,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/types/abi.js"}],[994,{"./abi":993},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),s(e("./abi"),r)}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/types/index.js"}],[995,{"@metamask/utils":1893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.padEnd=r.padStart=r.set=void 0;const n=e("@metamask/utils");r.set=(e,t,r)=>(0,n.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);r.padStart=(e,t=32)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,n.concatBytes)([r,e])};r.padEnd=(e,t=32)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,n.concatBytes)([e,r])}}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/utils/buffer.js"}],[996,{"./buffer":995},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),s(e("./buffer"),r)}}},{package:"@metamask/assets-controllers>@metamask/abi-utils",file:"node_modules/@metamask/abi-utils/dist/utils/index.js"}]],[],{});