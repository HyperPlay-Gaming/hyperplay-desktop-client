LavaPack.loadBundle([[5915,{"../hooks/useCurrencyRatePolling":6022,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CurrencyRateProvider=void 0;var a=s(e("react")),r=s(e("prop-types")),o=s(e("../hooks/useCurrencyRatePolling"));function s(e){return e&&e.__esModule?e:{default:e}}const i=({children:e})=>((0,o.default)(),a.default.createElement(a.default.Fragment,null,e));n.CurrencyRateProvider=i,i.propTypes={children:r.default.node}}}},{package:"$root$",file:"ui/contexts/currencyRate.js"}],[5916,{"../pages/confirmations/hooks/useGasFeeInputs":6355,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GasFeeContextProvider=n.GasFeeContext=void 0,n.useGasFeeContext=function(){return(0,r.useContext)(c)};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../pages/confirmations/hooks/useGasFeeInputs");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}const c=n.GasFeeContext=(0,r.createContext)({}),u=({children:e,defaultEstimateToUse:t,transaction:n,minimumGasLimit:a,editGasMode:o})=>{const i=(0,s.useGasFeeInputs)(t,n,a,o);return r.default.createElement(c.Provider,{value:i},e)};n.GasFeeContextProvider=u,u.propTypes={children:o.default.node.isRequired,defaultEstimateToUse:o.default.string,transaction:o.default.object,minimumGasLimit:o.default.string,editGasMode:o.default.string}}}},{package:"$root$",file:"ui/contexts/gasFee.js"}],[5918,{"./metamask-notifications":5919},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"MetamaskNotificationsProvider",{enumerable:!0,get:function(){return a.MetamaskNotificationsProvider}});var a=e("./metamask-notifications")}}},{package:"$root$",file:"ui/contexts/metamask-notifications/index.tsx"}],[5919,{"../../hooks/metamask-notifications/useNotifications":6008,"../../selectors":6639,"../../selectors/metamask-notifications/metamask-notifications":6641,"../../selectors/metamask-notifications/profile-syncing":6642,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMetamaskNotificationsContext=n.MetamaskNotificationsProvider=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../hooks/metamask-notifications/useNotifications"),s=e("../../selectors/metamask-notifications/profile-syncing"),i=e("../../selectors/metamask-notifications/metamask-notifications"),c=e("../../selectors");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const l=(0,a.createContext)(undefined);n.useMetamaskNotificationsContext=()=>{const e=(0,a.useContext)(l);if(!e)throw new Error("useNotificationsContext must be used within a MetamaskNotificationsProvider");return e};n.MetamaskNotificationsProvider=({children:e})=>{const t=(0,r.useSelector)(s.selectIsProfileSyncingEnabled),n=(0,r.useSelector)(i.selectIsMetamaskNotificationsEnabled),u=(0,r.useSelector)(c.getUseExternalServices),{listNotifications:d,notificationsData:p,isLoading:f,error:m}=(0,o.useListNotifications)(),g=(0,a.useMemo)((()=>t&&n),[t,n]);return(0,a.useEffect)((()=>{u&&g&&d()}),[g,d,u]),a.default.createElement(l.Provider,{value:{listNotifications:d,notificationsData:p,isLoading:f,error:m}},e)}}}},{package:"$root$",file:"ui/contexts/metamask-notifications/metamask-notifications.tsx"}],[5920,{"../../app/scripts/lib/util":128,"../../shared/constants/metametrics":5043,"../helpers/constants/routes":5959,"../hooks/useSegmentContext":6044,"../store/actions":6652,"@sentry/browser":2901,lodash:4382,"prop-types":4529,react:4779,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MetaMetricsContext=n.LegacyMetaMetricsProvider=void 0,n.MetaMetricsProvider=v;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("react-router-dom"),i=e("@sentry/browser"),c=e("lodash"),u=e("../../app/scripts/lib/util"),l=e("../helpers/constants/routes"),d=e("../../shared/constants/metametrics"),p=e("../hooks/useSegmentContext"),f=e("../store/actions");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=n.MetaMetricsContext=(0,r.createContext)((()=>{(0,i.captureException)(Error("MetaMetrics context function was called from a react node that is not a descendant of a MetaMetrics context provider"))})),y=Object.keys(l.PATH_NAME_MAP);function v({children:e}){var t;const n=(0,s.useLocation)(),a=(0,p.useSegmentContext)(),o=(0,r.useCallback)(((e,t)=>{const n=null==t?void 0:t.contextPropsIntoEventProperties;var r;n&&0!==n.length&&(e.properties||(e.properties={}),n.includes(d.MetaMetricsContextProp.PageTitle)&&(e.properties[d.MetaMetricsContextProp.PageTitle]=null===(r=a.page)||void 0===r?void 0:r.title))}),[null===(t=a.page)||void 0===t?void 0:t.title]),m=(0,r.useCallback)(((e,t)=>{o(e,t),(0,f.trackMetaMetricsEvent)({...e,environmentType:(0,u.getEnvironmentType)(),...a},t)}),[o,a]),g=(0,r.useRef)();return(0,r.useEffect)((()=>{const e=(0,u.getEnvironmentType)(),t=(0,s.matchPath)(n.pathname,{path:y,exact:!0,strict:!0});if(t){if(g.current!==t.path&&("notification"!==e||"/"!==t.path||g.current!==undefined)){const{path:r,params:o}=t,s=l.PATH_NAME_MAP[r];(0,f.trackMetaMetricsPage)({name:s,params:(0,c.omit)(o,["account","address"]),environmentType:e,page:a.page,referrer:a.referrer},{isOptInPath:n.pathname.startsWith("/initialize")})}}else(0,i.captureMessage)("Segment page tracking found unmatched route",{extra:{previousMatch:g,currentPath:n.pathname}});g.current=null==t?void 0:t.path}),[n,a]),r.default.createElement(h.Provider,{value:m},e)}v.propTypes={children:o.default.node};class b extends r.Component{getChildContext(){return{trackEvent:this.context}}render(){return this.props.children}}n.LegacyMetaMetricsProvider=b,g(b,"propTypes",{children:o.default.node}),g(b,"defaultProps",{children:undefined}),g(b,"contextType",h),g(b,"childContextTypes",{trackEvent:o.default.func})}}},{package:"$root$",file:"ui/contexts/metametrics.js"}],[5921,{"./snap-interface":5922},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./snap-interface");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/contexts/snaps/index.ts"}],[5922,{"../../store/actions":6652,"./utils":5923,"@metamask/snaps-sdk":2528,"@metamask/snaps-utils":2592,lodash:4382,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapInterfaceContextProvider=n.SnapInterfaceContext=void 0,n.useSnapInterfaceContext=function(){return(0,s.useContext)(d)};var a=e("@metamask/snaps-sdk"),r=e("@metamask/snaps-utils"),o=e("lodash"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),c=e("../../store/actions"),u=e("./utils");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const d=n.SnapInterfaceContext=(0,s.createContext)(null),p=[a.UserInputEventType.ButtonClickEvent,a.UserInputEventType.FormSubmitEvent];n.SnapInterfaceContextProvider=({children:e,interfaceId:t,snapId:n,initialState:l,context:f})=>{const m=(0,i.useDispatch)(),g=(0,s.useRef)(l??{});(0,s.useEffect)((()=>{g.current=l}),[l]);const h=(e,a,r)=>{(0,c.handleSnapRequest)({snapId:n,origin:"",handler:"onUserInput",request:{jsonrpc:"2.0",method:" ",params:{event:{type:e,...a!==undefined&&null!==a?{name:a}:{},...r!==undefined&&null!==r?{value:r}:{}},id:t,context:f}}}).then((()=>(0,c.forceUpdateMetamaskState)(m)))},y=(0,o.debounce)(h,200),v=(0,o.throttle)(h,200),b=(0,o.debounce)((e=>m((0,c.updateInterfaceState)(t,e))),200),_=({event:e,name:t,value:n=(t?g.current[t]:undefined),flush:a=!1})=>{b.flush();const r=p.includes(e)?v:y;r(e,t,n),a&&r.flush()},T=(0,o.debounce)(((e,t)=>_({event:a.UserInputEventType.InputChangeEvent,name:e,value:t,flush:!0})),300),k=(e,r)=>{(0,c.handleSnapRequest)({snapId:n,origin:"",handler:"onUserInput",request:{jsonrpc:"2.0",method:" ",params:{event:{type:a.UserInputEventType.FileUploadEvent,name:e,file:r},id:t,context:f}}}).then((()=>(0,c.forceUpdateMetamaskState)(m)))};return s.default.createElement(d.Provider,{value:{handleEvent:_,getValue:(e,t)=>{var n;const a=t?null===(n=l[t])||void 0===n?void 0:n[e]:null==l?void 0:l[e];return a||undefined},handleInputChange:(e,t,n)=>{const a=(0,u.mergeValue)(g.current,e,t,n);g.current=a,b(a),T(e,t)},handleFileChange:(e,t,n)=>{if(t)return void t.arrayBuffer().then((e=>new Uint8Array(e))).then((e=>(0,r.encodeBase64)(e))).then((a=>{const r={name:t.name,size:t.size,contentType:t.type,contents:a},o=(0,u.mergeValue)(g.current,e,r,n);g.current=o,b(o),b.flush(),k(e,r)}));const a=(0,u.mergeValue)(g.current,e,null,n);g.current=a,b(a),b.flush(),k(e,null)},snapId:n}},e)}}}},{package:"$root$",file:"ui/contexts/snaps/snap-interface.tsx"}],[5923,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeValue=void 0;n.mergeValue=(e,t,n,a)=>a?{...e,[a]:{...e[a],[t]:n}}:{...e,[t]:n}}}},{package:"$root$",file:"ui/contexts/snaps/utils.ts"}],[5924,{"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionModalContextProvider=n.TransactionModalContext=void 0,n.useTransactionModalContext=function(){return(0,r.useContext)(i)};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const i=n.TransactionModalContext=(0,r.createContext)({}),c=({children:e})=>{const[t,n]=(0,r.useState)([]);return r.default.createElement(i.Provider,{value:{closeModal:e=>{if(t<0)return;const a=[...t];e.forEach((e=>{const n=t.indexOf(e);a.splice(n,1)})),n(a)},closeAllModals:()=>{n([])},currentModal:t[t.length-1],openModal:e=>{if(t.includes(e))return;const a=[...t];a.push(e),n(a)},openModalCount:t.length}},e)};n.TransactionModalContextProvider=c,c.propTypes={children:o.default.node.isRequired}}}},{package:"$root$",file:"ui/contexts/transaction-modal.js"}],[5926,{"./enums":5925,"./invalid-custom-network":5927,"./unconnected-account":5928},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ALERT_STATE",{enumerable:!0,get:function(){return o.ALERT_STATE}}),Object.defineProperty(n,"invalidCustomNetwork",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"unconnectedAccount",{enumerable:!0,get:function(){return a.default}});var a=s(e("./unconnected-account")),r=s(e("./invalid-custom-network")),o=e("./enums");function s(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/ducks/alerts/index.js"}],[5927,{"../../../shared/constants/alerts":5030,"./enums":5925,"@reduxjs/toolkit":2841},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openAlert=n.getNetworkName=n.getAlertState=n.dismissAlert=n.default=n.alertIsOpen=void 0;var a=e("@reduxjs/toolkit"),r=e("../../../shared/constants/alerts"),o=e("./enums");const s=r.AlertTypes.invalidCustomNetwork,i={state:o.ALERT_STATE.CLOSED,networkName:""},c=(0,a.createSlice)({name:s,initialState:i,reducers:{openAlert:(e,t)=>{e.state=o.ALERT_STATE.OPEN,e.networkName=t.payload},dismissAlert:e=>{e.state=o.ALERT_STATE.CLOSED,e.networkName=""}}}),{actions:u,reducer:l}=c;n.default=l;n.getAlertState=e=>e[s].state;n.getNetworkName=e=>e[s].networkName;n.alertIsOpen=e=>e[s].state!==o.ALERT_STATE.CLOSED;const{openAlert:d,dismissAlert:p}=u;n.dismissAlert=p,n.openAlert=d}}},{package:"$root$",file:"ui/ducks/alerts/invalid-custom-network.js"}],[5930,{"../../../app/scripts/controllers/bridge/types":15,"../../store/actions":6652,"../../store/background-connection":6653,"../swaps/swaps":5949,"./bridge":5931},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setToChain=n.setBridgeFeatureFlags=void 0;var a=e("../../../app/scripts/controllers/bridge/types"),r=e("../../store/actions"),o=e("../../store/background-connection"),s=e("../swaps/swaps"),i=e("./bridge");const{}=s.swapsSlice.actions,{setToChain:c}=i.bridgeSlice.actions;n.setToChain=c;n.setBridgeFeatureFlags=()=>async e=>{return e((t=a.BridgeBackgroundAction.SET_FEATURE_FLAGS,async e=>{await(0,o.submitRequestToBackground)(t,n),await(0,r.forceUpdateMetamaskState)(e)}));var t,n}}}},{package:"$root$",file:"ui/ducks/bridge/actions.ts"}],[5931,{"../swaps/swaps":5949,"@reduxjs/toolkit":2841},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.bridgeSlice=void 0;var a=e("@reduxjs/toolkit"),r=e("../swaps/swaps");const o=n.bridgeSlice=(0,a.createSlice)({name:"bridge",initialState:{toChain:null},reducers:{...r.swapsSlice.reducer,setToChain:(e,t)=>{e.toChain=t.payload}}});n.default=o.reducer}}},{package:"$root$",file:"ui/ducks/bridge/bridge.ts"}],[5932,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.clearAlerts=function(e){return{type:"CLEAR_ALERTS",ownerId:e}},n.default=function(e=a,t){switch(t.type){case"UPDATE_ALERTS":return{...e,alerts:{...e.alerts,[t.ownerId]:t.alerts}};case"SET_ALERT_CONFIRMED":return{...e,confirmed:{...e.confirmed,[t.ownerId]:{...e.confirmed[t.ownerId],[t.alertKey]:t.isConfirmed}}};case"CLEAR_ALERTS":return{...e,alerts:{...e.alerts,[t.ownerId]:[]},confirmed:{...e.confirmed,[t.ownerId]:{}}};default:return e}},n.setAlertConfirmed=function(e,t,n){return{type:"SET_ALERT_CONFIRMED",ownerId:e,alertKey:t,isConfirmed:n}},n.updateAlerts=function(e,t){return{type:"UPDATE_ALERTS",alerts:t,ownerId:e}};const a={alerts:{},confirmed:{}}}}},{package:"$root$",file:"ui/ducks/confirm-alerts/confirm-alerts.ts"}],[5934,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UPDATE_CURRENT_CONFIRMATION=n.UPDATE_CONFIRM=void 0,n.default=function(e=s,t){switch(t.type){case"metamask/confirm/UPDATE_CONFIRM":return{...e,...t.payload};case"metamask/confirm/UPDATE_CURRENT_CONFIRMATION":return{...e,currentConfirmation:t.currentConfirmation};default:return e}},n.updateConfirm=function(e){return{type:r,payload:e||s}},n.updateCurrentConfirmation=function(e){return{type:o,currentConfirmation:e}};const a=e=>`metamask/confirm/${e}`,r=n.UPDATE_CONFIRM=a("UPDATE_CONFIRM"),o=n.UPDATE_CURRENT_CONFIRMATION=a("UPDATE_CURRENT_CONFIRMATION"),s={currentConfirmation:undefined}}}},{package:"$root$",file:"ui/ducks/confirm/confirm.ts"}],[5938,{"../../helpers/constants/routes":5959,"@reduxjs/toolkit":2841},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pageChanged=n.getMostRecentOverviewPage=n.default=void 0;var a=e("@reduxjs/toolkit"),r=e("../../helpers/constants/routes");const o={mostRecentOverviewPage:r.DEFAULT_ROUTE},s="history",i=(0,a.createSlice)({name:s,initialState:o,reducers:{pageChanged:(e,t)=>{const n=t.payload;(n===r.DEFAULT_ROUTE||n.startsWith(r.ASSET_ROUTE))&&(e.mostRecentOverviewPage=n)}}}),{actions:c,reducer:u}=i;n.default=u;n.getMostRecentOverviewPage=e=>e[s].mostRecentOverviewPage;const{pageChanged:l}=c;n.pageChanged=l}}},{package:"$root$",file:"ui/ducks/history/history.js"}],[5939,{"../../shared/constants/alerts":5030,"./alerts":5926,"./app/app":5929,"./bridge/bridge":5931,"./confirm-alerts/confirm-alerts":5932,"./confirm-transaction/confirm-transaction.duck":5933,"./confirm/confirm":5934,"./domains":5935,"./gas/gas.duck":5937,"./history/history":5938,"./locale/locale":5940,"./metamask/metamask":5941,"./ramps/ramps":5944,"./send/send":5947,"./swaps/swaps":5949,redux:4797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("redux"),r=e("../../shared/constants/alerts"),o=b(e("./confirm/confirm")),s=b(e("./metamask/metamask")),i=b(e("./locale/locale")),c=b(e("./send/send")),u=b(e("./domains")),l=b(e("./app/app")),d=b(e("./confirm-transaction/confirm-transaction.duck")),p=b(e("./gas/gas.duck")),f=e("./alerts"),m=b(e("./swaps/swaps")),g=b(e("./bridge/bridge")),h=b(e("./history/history")),y=b(e("./ramps/ramps")),v=b(e("./confirm-alerts/confirm-alerts"));function b(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.combineReducers)({[r.AlertTypes.invalidCustomNetwork]:f.invalidCustomNetwork,[r.AlertTypes.unconnectedAccount]:f.unconnectedAccount,activeTab:e=>e===undefined?null:e,metamask:s.default,appState:l.default,DNS:u.default,history:h.default,send:c.default,confirm:o.default,confirmAlerts:v.default,confirmTransaction:d.default,swaps:m.default,ramps:y.default,bridge:g.default,gas:p.default,localeMessages:i.default})}}},{package:"$root$",file:"ui/ducks/index.js"}],[5942,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultBuyableChains=void 0;n.defaultBuyableChains=[{active:!0,chainId:1,chainName:"Ethereum Mainnet",shortName:"Ethereum",nativeTokenSupported:!0},{active:!0,chainId:10,chainName:"Optimism Mainnet",shortName:"Optimism",nativeTokenSupported:!0},{active:!0,chainId:25,chainName:"Cronos Mainnet",shortName:"Cronos",nativeTokenSupported:!0},{active:!0,chainId:56,chainName:"BNB Chain Mainnet",shortName:"BNB Chain",nativeTokenSupported:!0},{active:!0,chainId:100,chainName:"Gnosis Mainnet",shortName:"Gnosis",nativeTokenSupported:!0},{active:!0,chainId:137,chainName:"Polygon Mainnet",shortName:"Polygon",nativeTokenSupported:!0},{active:!0,chainId:250,chainName:"Fantom Mainnet",shortName:"Fantom",nativeTokenSupported:!0},{active:!0,chainId:324,chainName:"zkSync Era Mainnet",shortName:"zkSync Era",nativeTokenSupported:!0},{active:!0,chainId:1101,chainName:"Polygon zkEVM",shortName:"Polygon zkEVM",nativeTokenSupported:!0},{active:!0,chainId:1284,chainName:"Moonbeam Mainnet",shortName:"Moonbeam",nativeTokenSupported:!0},{active:!0,chainId:1285,chainName:"Moonriver Mainnet",shortName:"Moonriver",nativeTokenSupported:!0},{active:!0,chainId:8453,chainName:"Base Mainnet",shortName:"Base",nativeTokenSupported:!0},{active:!0,chainId:42161,chainName:"Arbitrum Mainnet",shortName:"Arbitrum",nativeTokenSupported:!0},{active:!0,chainId:42220,chainName:"Celo Mainnet",shortName:"Celo",nativeTokenSupported:!1},{active:!0,chainId:43114,chainName:"Avalanche C-Chain Mainnet",shortName:"Avalanche C-Chain",nativeTokenSupported:!0},{active:!0,chainId:59144,chainName:"Linea",shortName:"Linea",nativeTokenSupported:!0},{active:!0,chainId:1313161554,chainName:"Aurora Mainnet",shortName:"Aurora",nativeTokenSupported:!1},{active:!0,chainId:16666e5,chainName:"Harmony Mainnet (Shard 0)",shortName:"Harmony (Shard 0)",nativeTokenSupported:!0},{active:!0,chainId:11297108109,chainName:"Palm Mainnet",shortName:"Palm",nativeTokenSupported:!1}]}}},{package:"$root$",file:"ui/ducks/ramps/constants.ts"}],[5943,{"./ramps":5944},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./ramps");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/ducks/ramps/index.ts"}],[5944,{"../../../shared/constants/multichain/networks":5046,"../../../shared/modules/conversion.utils":5081,"../../helpers/ramps/rampApi/rampAPI":5976,"../../selectors":6639,"../../selectors/multichain":6644,"./constants":5942,"@reduxjs/toolkit":2841,reselect:4805},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsNativeTokenBuyable=n.getIsBitcoinBuyable=n.getBuyableChains=n.fetchBuyableChains=n.default=void 0;var a,r=e("reselect"),o=e("@reduxjs/toolkit"),s=e("../../selectors"),i=(a=e("../../helpers/ramps/rampApi/rampAPI"))&&a.__esModule?a:{default:a},c=e("../../../shared/modules/conversion.utils"),u=e("../../selectors/multichain"),l=e("../../../shared/constants/multichain/networks"),d=e("./constants");const p=n.fetchBuyableChains=(0,o.createAsyncThunk)("ramps/fetchBuyableChains",(async(e,{getState:t})=>{const n=t(),{isFetched:a}=n.ramps;return(0,s.getUseExternalServices)(n)?a?n.ramps.buyableChains:await i.default.getNetworks():d.defaultBuyableChains})),f=(0,o.createSlice)({name:"ramps",initialState:{buyableChains:d.defaultBuyableChains,isFetched:!1},reducers:{setBuyableChains:(e,t)=>{Array.isArray(t.payload)&&t.payload.length>0&&t.payload.every((e=>null==e?void 0:e.chainId))?(e.buyableChains=t.payload,e.isFetched=!0):e.buyableChains=d.defaultBuyableChains}},extraReducers:e=>{e.addCase(p.fulfilled,((e,t)=>{const n=t.payload;n&&n.length>0?e.buyableChains=n:e.buyableChains=d.defaultBuyableChains,e.isFetched=!0})).addCase(p.rejected,(e=>{e.buyableChains=d.defaultBuyableChains,e.isFetched=!0}))}}),{reducer:m}=f,g=e=>{var t;return(null===(t=e.ramps)||void 0===t?void 0:t.buyableChains)??d.defaultBuyableChains};n.getBuyableChains=g;const h=n.getIsBitcoinBuyable=(0,r.createSelector)([g],(e=>e.filter(Boolean).some((e=>e.chainId===l.MultichainNetworks.BITCOIN&&e.active))));n.getIsNativeTokenBuyable=(0,r.createSelector)([s.getCurrentChainId,g,h,u.getMultichainIsBitcoin],((e,t,n,a)=>{try{return t.filter(Boolean).some((t=>a?n:String(t.chainId)===(0,c.hexToDecimal)(e)))}catch(e){return!1}}));n.default=m}}},{package:"$root$",file:"ui/ducks/ramps/ramps.ts"}],[5950,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=[{code:"aud",name:"Australian Dollar"},{code:"hkd",name:"Hong Kong Dollar"},{code:"sgd",name:"Singapore Dollar"},{code:"idr",name:"Indonesian Rupiah"},{code:"inr",name:"Indian Rupee"},{code:"nzd",name:"New Zealand Dollar"},{code:"php",name:"Philippine Peso"},{code:"adt",name:"adToken"},{code:"adx",name:"AdEx"},{code:"ant",name:"Aragon"},{code:"bat",name:"Basic Attention Token"},{code:"bnt",name:"Bancor"},{code:"btc",name:"Bitcoin"},{code:"cad",name:"Canadian Dollar"},{code:"crb",name:"CreditBit"},{code:"cvc",name:"Civic"},{code:"dash",name:"Dash"},{code:"dgd",name:"DigixDAO"},{code:"etc",name:"Ethereum Classic"},{code:"eur",name:"Euro"},{code:"fun",name:"FunFair"},{code:"gbp",name:"Pound Sterling"},{code:"gno",name:"Gnosis"},{code:"gnt",name:"Golem"},{code:"hmq",name:"Humaniq"},{code:"jpy",name:"Japanese Yen"},{code:"lsk",name:"Lisk"},{code:"ltc",name:"Litecoin"},{code:"lun",name:"Lunyr"},{code:"mco",name:"Monaco"},{code:"mtl",name:"Metal"},{code:"myst",name:"Mysterium"},{code:"nmr",name:"Numeraire"},{code:"omg",name:"OmiseGO"},{code:"pay",name:"TenX"},{code:"ptoy",name:"Patientory"},{code:"qrl",name:"Quantum-Resistant Ledger"},{code:"qtum",name:"Qtum"},{code:"rep",name:"Augur"},{code:"rlc",name:"iEx.ec"},{code:"rub",name:"Russian Ruble"},{code:"sc",name:"Siacoin"},{code:"sngls",name:"SingularDTV"},{code:"snt",name:"Status"},{code:"steem",name:"Steem"},{code:"storj",name:"Storj"},{code:"time",name:"ChronoBank"},{code:"tkn",name:"TokenCard"},{code:"uah",name:"Ukrainian Hryvnia"},{code:"usd",name:"United States Dollar"},{code:"wings",name:"Wings"},{code:"xem",name:"NEM"},{code:"xlm",name:"Stellar Lumen"},{code:"xmr",name:"Monero"},{code:"xrp",name:"Ripple"},{code:"zec",name:"Zcash"},{code:"dai",name:"DAI"},{code:"sek",name:"Swedish Krona"}]}}},{package:"$root$",file:"ui/helpers/constants/available-conversions.json"}],[5952,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.STATUS_NOT_CONNECTED=n.STATUS_CONNECTED_TO_SNAP=n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT=n.STATUS_CONNECTED=void 0;n.STATUS_CONNECTED="STATUS_CONNECTED",n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT="STATUS_CONNECTED_TO_ANOTHER_ACCOUNT",n.STATUS_NOT_CONNECTED="STATUS_NOT_CONNECTED",n.STATUS_CONNECTED_TO_SNAP="STATUS_CONNECTED_TO_SNAP"}}},{package:"$root$",file:"ui/helpers/constants/connected-sites.js"}],[5955,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PRIORITY_LEVEL_ICON_MAP=n.GAS_FORM_ERRORS=void 0,n.getGasFormErrorText=function(e,t,{minimumGasLimit:n}={}){switch(e){case a.GAS_LIMIT_OUT_OF_BOUNDS:return t("editGasLimitOutOfBounds",[n]);case a.MAX_PRIORITY_FEE_TOO_LOW:return t("editGasMaxPriorityFeeLow");case a.MAX_FEE_TOO_LOW:return t("editGasMaxFeeLow");case a.MAX_PRIORITY_FEE_BELOW_MINIMUM:return t("editGasMaxPriorityFeeBelowMinimum");case a.MAX_PRIORITY_FEE_HIGH_WARNING:return t("editGasMaxPriorityFeeHigh");case a.MAX_FEE_HIGH_WARNING:return t("editGasMaxFeeHigh");case a.MAX_FEE_IMBALANCE:return t("editGasMaxFeePriorityImbalance");case a.GAS_PRICE_TOO_LOW:return t("editGasPriceTooLow");default:return""}};const a=n.GAS_FORM_ERRORS={GAS_LIMIT_OUT_OF_BOUNDS:"editGasLimitOutOfBounds",MAX_PRIORITY_FEE_TOO_LOW:"editGasMaxPriorityFeeLow",MAX_FEE_TOO_LOW:"editGasMaxFeeLow",MAX_PRIORITY_FEE_BELOW_MINIMUM:"editGasMaxPriorityFeeBelowMinimum",MAX_PRIORITY_FEE_HIGH_WARNING:"editGasMaxPriorityFeeHigh",MAX_FEE_HIGH_WARNING:"editGasMaxFeeHigh",MAX_FEE_IMBALANCE:"editGasMaxFeeImbalance",GAS_PRICE_TOO_LOW:"editGasPriceTooLow"};n.PRIORITY_LEVEL_ICON_MAP={low:"ðŸ¢",medium:"ðŸ¦Š",high:"ðŸ¦",dappSuggested:"ðŸŒ",dappSuggestedHigh:"ðŸŒ",swapSuggested:"ðŸ”„",custom:"âš™ï¸"}}}},{package:"$root$",file:"ui/helpers/constants/gas.js"}],[5956,{"../../../../shared/constants/network":5047},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS=void 0;var a=e("../../../../shared/constants/network");n.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS={[a.CHAIN_IDS.MAINNET]:{url:"https://etherscan.io",name:"Etherscan"},[a.CHAIN_IDS.OPTIMISM]:{url:"https://optimistic.etherscan.io",name:"Optimistic Etherscan"},[a.CHAIN_IDS.BSC]:{url:"https://bscscan.com",name:"BscScan"},[a.CHAIN_IDS.POLYGON]:{url:"https://polygonscan.com",name:"PolygonScan"},[a.CHAIN_IDS.ARBITRUM]:{url:"https://arbiscan.io",name:"Arbiscan"},[a.CHAIN_IDS.AVALANCHE]:{url:"https://snowtrace.io",name:"Snowtrace"},[a.CHAIN_IDS.LINEA_MAINNET]:{url:"https://lineascan.build",name:"LineaScan"}}}}},{package:"$root$",file:"ui/helpers/constants/metamask-notifications/metamask-notifications.ts"}],[5960,{"../../components/component-library":5534,"./routes":5959},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("../../components/component-library"),r=e("./routes");const o=[{tabMessage:e=>e("general"),sectionMessage:e=>e("currencyConversion"),descriptionMessage:e=>e("currencyConversion"),route:`${r.GENERAL_ROUTE}#currency-conversion`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("primaryCurrencySetting"),descriptionMessage:e=>e("primaryCurrencySettingDescription"),route:`${r.GENERAL_ROUTE}#primary-currency`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("currentLanguage"),descriptionMessage:e=>e("currentLanguage"),route:`${r.GENERAL_ROUTE}#current-language`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("theme"),descriptionMessage:e=>e("themeDescription"),route:`${r.GENERAL_ROUTE}#theme`,icon:"fa fa-flask"},{tabMessage:e=>e("general"),sectionMessage:e=>e("accountIdenticon"),descriptionMessage:e=>e("accountIdenticon"),route:`${r.GENERAL_ROUTE}#account-identicon`,iconName:a.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("hideZeroBalanceTokens"),descriptionMessage:e=>e("hideZeroBalanceTokens"),route:`${r.GENERAL_ROUTE}#zero-balancetokens`,iconName:a.IconName.Setting},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("stateLogs"),descriptionMessage:e=>e("stateLogsDescription"),route:`${r.ADVANCED_ROUTE}#state-logs`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("clearActivity"),descriptionMessage:e=>e("clearActivityDescription"),route:`${r.ADVANCED_ROUTE}#clear-activity`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("smartTransactions"),descriptionMessage:e=>e("stxOptInDescription"),route:`${r.ADVANCED_ROUTE}#smart-transactions`,icon:"fas fa-upload"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showHexData"),descriptionMessage:e=>e("showHexDataDescription"),route:`${r.ADVANCED_ROUTE}#show-hexdata`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showFiatConversionInTestnets"),descriptionMessage:e=>e("showFiatConversionInTestnetsDescription"),route:`${r.ADVANCED_ROUTE}#conversion-testnetworks`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showTestnetNetworks"),descriptionMessage:e=>e("showTestnetNetworksDescription"),route:`${r.ADVANCED_ROUTE}#show-testnets`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("nonceField"),descriptionMessage:e=>e("nonceFieldDesc"),route:`${r.ADVANCED_ROUTE}#customize-nonce`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("autoLockTimeLimit"),descriptionMessage:e=>e("autoLockTimeLimitDescription"),route:`${r.ADVANCED_ROUTE}#autolock-timer`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showExtensionInFullSizeView"),descriptionMessage:e=>e("showExtensionInFullSizeViewDescription"),route:`${r.ADVANCED_ROUTE}#extension-full-size-view`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("dismissReminderField"),descriptionMessage:e=>e("dismissReminderDescriptionField"),route:`${r.ADVANCED_ROUTE}#dismiss-secretrecovery`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("contacts"),sectionMessage:e=>e("contacts"),descriptionMessage:e=>e("contacts"),route:r.CONTACT_LIST_ROUTE,iconName:a.IconName.Book},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("revealSeedWords"),descriptionMessage:e=>e("revealSeedWords"),route:`${r.SECURITY_ROUTE}#reveal-secretrecovery`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("showIncomingTransactions"),descriptionMessage:e=>e("showIncomingTransactionsDescription"),route:`${r.SECURITY_ROUTE}#incoming-transaction`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("usePhishingDetection"),descriptionMessage:e=>e("usePhishingDetectionDescription"),route:`${r.SECURITY_ROUTE}#phishing-detection`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("use4ByteResolution"),descriptionMessage:e=>e("use4ByteResolutionDescription"),route:`${r.SECURITY_ROUTE}#decode-smart-contracts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("participateInMetaMetrics"),descriptionMessage:e=>e("participateInMetaMetricsDescription"),route:`${r.SECURITY_ROUTE}#metametrics`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("networkProvider"),descriptionMessage:e=>`${e("chooseYourNetwork")} ${e("chooseYourNetworkDescription")}`,route:`${r.SECURITY_ROUTE}#network-provider`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ipfsGateway"),descriptionMessage:e=>e("ipfsGatewayDescription"),route:`${r.SECURITY_ROUTE}#add-custom-ipfs-gateway`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("autoDetectTokens"),descriptionMessage:e=>e("autoDetectTokensDescription"),route:`${r.SECURITY_ROUTE}#auto-detect-tokens`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useMultiAccountBalanceChecker"),descriptionMessage:e=>e("useMultiAccountBalanceCheckerSettingDescription"),route:`${r.SECURITY_ROUTE}#batch-account-balance-requests`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("currencyRateCheckToggle"),descriptionMessage:e=>e("currencyRateCheckToggleDescription"),route:`${r.SECURITY_ROUTE}#price-checker`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ensDomainsSettingTitle"),descriptionMessage:e=>e("ensDomainsSettingDescriptionIntroduction"),route:`${r.SECURITY_ROUTE}#ens-domains`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("displayNftMedia"),descriptionMessage:e=>e("displayNftMediaDescription"),route:`${r.SECURITY_ROUTE}#display-nft-media`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useNftDetection"),descriptionMessage:e=>e("useNftDetectionDescriptionText"),route:`${r.SECURITY_ROUTE}#autodetect-nfts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useSafeChainsListValidation"),descriptionMessage:e=>e("useSafeChainsListValidationDescription"),route:`${r.SECURITY_ROUTE}#network-details-check`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("externalNameSourcesSetting"),descriptionMessage:e=>e("externalNameSourcesSettingDescription"),route:`${r.SECURITY_ROUTE}#proposed-nicknames`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("securityAlerts"),descriptionMessage:e=>e("securityAlertsDescription"),route:`${r.SECURITY_ROUTE}#security-alerts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("blockaid"),descriptionMessage:e=>e("blockaidMessage"),route:`${r.SECURITY_ROUTE}#security-alerts-blockaid`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("simulationsSettingSubHeader"),descriptionMessage:e=>e("simulationsSettingDescription"),route:`${r.SECURITY_ROUTE}#transaction-simulations`,icon:"fa fa-lock"},{tabMessage:e=>e("alerts"),sectionMessage:e=>e("alertSettingsUnconnectedAccount"),descriptionMessage:e=>e("alertSettingsUnconnectedAccount"),route:`${r.ALERTS_ROUTE}#unconnected-account`,iconName:a.IconName.Notification},{tabMessage:e=>e("alerts"),sectionMessage:e=>e("alertSettingsWeb3ShimUsage"),descriptionMessage:e=>e("alertSettingsWeb3ShimUsage"),route:`${r.ALERTS_ROUTE}#web3-shimusage`,icon:"fa fa-bell"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("mainnet"),descriptionMessage:e=>e("mainnet"),route:`${r.NETWORKS_ROUTE}#networks-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaMainnet"),descriptionMessage:e=>e("lineaMainnet"),route:`${r.NETWORKS_ROUTE}#networks-linea-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("goerli"),descriptionMessage:e=>e("goerli"),route:`${r.NETWORKS_ROUTE}#networks-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("sepolia"),descriptionMessage:e=>e("sepolia"),route:`${r.NETWORKS_ROUTE}#networks-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaGoerli"),descriptionMessage:e=>e("lineaGoerli"),route:`${r.NETWORKS_ROUTE}#networks-linea-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaSepolia"),descriptionMessage:e=>e("lineaSepolia"),route:`${r.NETWORKS_ROUTE}#networks-linea-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("localhost"),descriptionMessage:e=>e("localhost"),route:`${r.NETWORKS_ROUTE}#networks-localhost`,icon:"fa fa-plug"},{tabMessage:e=>e("about"),sectionMessage:e=>e("metamaskVersion"),descriptionMessage:e=>e("builtAroundTheWorld"),route:`${r.ABOUT_US_ROUTE}#version`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("links"),descriptionMessage:e=>e("links"),route:`${r.ABOUT_US_ROUTE}#links`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("privacyMsg"),descriptionMessage:e=>e("privacyMsg"),route:`${r.ABOUT_US_ROUTE}#privacy-policy`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("terms"),descriptionMessage:e=>e("terms"),route:`${r.ABOUT_US_ROUTE}#terms`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("attributions"),descriptionMessage:e=>e("attributions"),route:`${r.ABOUT_US_ROUTE}#attributions`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("supportCenter"),descriptionMessage:e=>e("supportCenter"),route:`${r.ABOUT_US_ROUTE}#supportcenter`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("visitWebSite"),descriptionMessage:e=>e("visitWebSite"),route:`${r.ABOUT_US_ROUTE}#visitwebsite`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("contactUs"),descriptionMessage:e=>e("contactUs"),route:`${r.ABOUT_US_ROUTE}#contactus`,iconName:a.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("betaTerms"),descriptionMessage:e=>e("betaTerms"),route:`${r.ABOUT_US_ROUTE}#beta-terms`,iconName:a.IconName.Info},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("backupUserData"),descriptionMessage:e=>e("backupUserDataDescription"),route:`${r.ADVANCED_ROUTE}#backup-userdata`,icon:"fas fa-download"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("restoreUserData"),descriptionMessage:e=>e("restoreUserDataDescription"),route:`${r.ADVANCED_ROUTE}#restore-userdata`,icon:"fas fa-upload"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("petnamesEnabledToggle"),descriptionMessage:e=>e("petnamesEnabledToggleDescription"),route:`${r.EXPERIMENTAL_ROUTE}#nicknames`,icon:"fas fa-flask"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("notificationsFeatureToggle"),descriptionMessage:e=>e("notificationsFeatureToggleDescription"),route:`${r.EXPERIMENTAL_ROUTE}#notifications`,icon:"fas fa-flask"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("redesignedConfirmationsEnabledToggle"),descriptionMessage:e=>e("redesignedConfirmationsToggleDescription"),route:`${r.EXPERIMENTAL_ROUTE}#redesigned-confirmations`,icon:"fas fa-flask"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("redesignedTransactionsEnabledToggle"),descriptionMessage:e=>e("redesignedTransactionsToggleDescription"),route:`${r.EXPERIMENTAL_ROUTE}#redesigned-transactions`,icon:"fas fa-flask"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("snaps"),descriptionMessage:e=>e("addSnapAccountToggle"),route:`${r.EXPERIMENTAL_ROUTE}#snaps`,icon:"fas fa-flask"},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Reset States",descriptionMessage:"Reset States",route:`${r.DEVELOPER_OPTIONS_ROUTE}#reset-states`,icon:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Announcements",descriptionMessage:"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.",route:`${r.DEVELOPER_OPTIONS_ROUTE}#reset-states-announcements`,icon:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Service Worker Keep Alive",descriptionMessage:'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.',route:`${r.DEVELOPER_OPTIONS_ROUTE}#reset-states-onboarding`,icon:a.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Service Worker Keep Alive",descriptionMessage:"Results in a timestamp being continuously saved to session.storage",route:`${r.DEVELOPER_OPTIONS_ROUTE}#service-worker-keep-alive`,icon:a.IconName.CodeCircle}];n.default=o}}},{package:"$root$",file:"ui/helpers/constants/settings.js"}],[5961,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDelineatorTitle=n.DelineatorType=void 0;let a=n.DelineatorType=function(e){return e.Content="content",e.Error="error",e.Insights="insights",e.Description="description",e.Warning="warning",e}({});n.getDelineatorTitle=e=>{switch(e){case a.Error:return"errorWithSnap";case a.Insights:return"insightsFromSnap";case a.Description:return"descriptionFromSnap";case a.Warning:return"warningFromSnap";default:return"contentFromSnap"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/delineator.ts"}],[5962,{"./delineator":5961,"./insights":5963},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./delineator");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}));var r=e("./insights");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/helpers/constants/snaps/index.js"}],[5963,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InsightWarningLanguage=void 0;n.InsightWarningLanguage={confirming:{noun:"transaction",imperative:"confirm"},signing:{noun:"signature",imperative:"sign"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/insights.ts"}],[5967,{"../../constants/routes":5959,"prop-types":4529,react:4779,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=i(e("react")),r=i(e("prop-types")),o=e("react-router-dom"),s=e("../../constants/routes");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){const{isUnlocked:t,completedOnboarding:n}=e;switch(!0){case t&&n:return a.default.createElement(o.Route,e);case!n:return a.default.createElement(o.Redirect,{to:{pathname:s.ONBOARDING_ROUTE}});default:return a.default.createElement(o.Redirect,{to:{pathname:s.UNLOCK_ROUTE}})}}c.propTypes={isUnlocked:r.default.bool,completedOnboarding:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.component.js"}],[5968,{"./authenticated.component":5967,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=(a=e("./authenticated.component"))&&a.__esModule?a:{default:a};n.default=(0,r.connect)((e=>{const{metamask:{isUnlocked:t,completedOnboarding:n}}=e;return{isUnlocked:t,completedOnboarding:n}}))(o.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.container.js"}],[5969,{"./authenticated.container":5968},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./authenticated.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/index.js"}],[5970,{"prop-types":4529,react:4779,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=s(e("react")),r=s(e("prop-types")),o=e("react-router-dom");function s(e){return e&&e.__esModule?e:{default:e}}function i({flag:e,redirectRoute:t,...n}){return e?a.default.createElement(o.Route,n):a.default.createElement(o.Redirect,{to:{pathname:t}})}i.propTypes={flag:r.default.bool.isRequired,redirectRoute:r.default.string.isRequired}}}},{package:"$root$",file:"ui/helpers/higher-order-components/feature-toggled-route.js"}],[5971,{"./initialized.container":5973},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./initialized.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/index.js"}],[5972,{"../../constants/routes":5959,"prop-types":4529,react:4779,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=i(e("react")),r=i(e("prop-types")),o=e("react-router-dom"),s=e("../../constants/routes");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){return e.completedOnboarding?a.default.createElement(o.Route,e):a.default.createElement(o.Redirect,{to:{pathname:s.ONBOARDING_ROUTE}})}c.propTypes={completedOnboarding:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.component.js"}],[5973,{"./initialized.component":5972,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=(a=e("./initialized.component"))&&a.__esModule?a:{default:a};n.default=(0,r.connect)((e=>{const{metamask:{completedOnboarding:t}}=e;return{completedOnboarding:t}}))(o.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.container.js"}],[5974,{"./with-modal-props":5975},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./with-modal-props"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/index.js"}],[5975,{"../../../store/actions":6652,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,a.connect)(o,s)(e)};var a=e("react-redux"),r=e("../../../store/actions");const o=e=>{const{appState:t}=e,{props:n}=t.modal.modalState;return{...n}},s=e=>({hideModal:()=>e((0,r.hideModal)())})}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/with-modal-props.js"}],[5976,{"../../../../shared/modules/fetch-with-timeout":5086},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const r=(0,((a=e("../../../../shared/modules/fetch-with-timeout"))&&a.__esModule?a:{default:a}).default)(),o={async getNetworks(){const e=new URL("/regions/networks","https://on-ramp-content.api.cx.metamask.io");e.searchParams.set("context","extension");const t=await r(e.toString()),{networks:n}=await t.json();return n}};n.default=o}}},{package:"$root$",file:"ui/helpers/ramps/rampApi/rampAPI.ts"}],[5977,{"../../../app/scripts/translate":275,"../../../shared/constants/hardware-wallets":5039,"../../../shared/constants/keyring":5040,"../../../shared/constants/network":5047,"../../components/component-library":5534,"../constants/design-system":5953},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountLabel=function(e,t){var n;if(!t)return null;switch(e){case s.KeyringType.hdKeyTree:return null;case s.KeyringType.imported:return(0,c.t)("imported");case s.KeyringType.qr:return i.HardwareKeyringNames.qr;case s.KeyringType.trezor:return i.HardwareKeyringNames.trezor;case s.KeyringType.ledger:return i.HardwareKeyringNames.ledger;case s.KeyringType.lattice:return i.HardwareKeyringNames.lattice;case s.KeyringType.snap:var a;return null!==(n=t.metadata.snap)&&void 0!==n&&n.name?`${null===(a=t.metadata.snap)||void 0===a?void 0:a.name} (${(0,c.t)("beta")})`:`${(0,c.t)("snaps")} (${(0,c.t)("beta")})`;default:return null}},n.getAccountNameErrorMessage=function(e,t,n,r){const o=e.some((e=>e.metadata.name.toLowerCase()===n.toLowerCase())),s=""===n,i=t.t("newAccountNumberName").replace(" $1",""),c=new RegExp(`^\\s*${i} \\d+\\s*$`,"iu").test(n),u=n.toLowerCase()===r.toLowerCase()||!o&&!c&&!s;let l;u?l=a.InvisibleCharacter:o?l=t.t("accountNameDuplicate"):c?l=t.t("accountNameReserved"):s&&(l=t.t("required"));return{isValidAccountName:u,errorMessage:l}},n.getAvatarNetworkColor=function(e){switch(e){case r.GOERLI_DISPLAY_NAME:return o.BackgroundColor.goerli;case r.LINEA_GOERLI_DISPLAY_NAME:return o.BackgroundColor.lineaGoerli;case r.LINEA_SEPOLIA_DISPLAY_NAME:return o.BackgroundColor.lineaSepolia;case r.SEPOLIA_DISPLAY_NAME:return o.BackgroundColor.sepolia;default:return undefined}};var a=e("../../components/component-library"),r=e("../../../shared/constants/network"),o=e("../constants/design-system"),s=e("../../../shared/constants/keyring"),i=e("../../../shared/constants/hardware-wallets"),c=e("../../../app/scripts/translate")}}},{package:"$root$",file:"ui/helpers/utils/accounts.js"}],[5979,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.camelCaseToCapitalize=function(e=""){return e.replace(/([A-Z])/gu," $1").replace(/^./u,(e=>e.toUpperCase()))}}}},{package:"$root$",file:"ui/helpers/utils/common.util.js"}],[5981,{buffer:3576},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.ExportableContentType=void 0,n.exportAsFile=async function(t,n,r){if(!a[r])throw new Error(`Unsupported file type: ${r}`);"undefined"!=typeof window&&void 0!==window.showSaveFilePicker&&void 0!==window.Blob?await async function(e,t,n){const r=new window.Blob([t],{contentType:n}),o=a[n],s=await window.showSaveFilePicker({suggestedName:e,types:[{description:e,accept:{[n]:[o]}}]}),i=await s.createWritable();await i.write(r),await i.close()}(t,n,r):function(t,n,a){const r=e.from(n,"utf8").toString("base64"),o=document.createElement("a");o.href=`data:${a};Base64,${r}`,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)}(t,n,r)};const t=n.ExportableContentType={JSON:"application/json",TXT:"text/plain"},a={[t.JSON]:".json",[t.TXT]:".txt"}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/helpers/utils/export-utils.js"}],[5982,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getLocalNetworkMenuRedesignFeatureFlag=function(){var e;return null===(e=window.metamaskFeatureFlags)||void 0===e?void 0:e.networkMenuRedesign}}}},{package:"$root$",file:"ui/helpers/utils/feature-flags.js"}],[5984,{"../../../shared/constants/gas":5038,"../../../shared/modules/Numeric":5076,"../../../shared/modules/conversion.utils":5081,"./util":6001,"bignumber.js":3481,lodash:4382},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addTenPercentAndRound=d,n.editGasModeIsSpeedUpOrCancel=function(e){return e===s.EditGasModes.cancel||e===s.EditGasModes.speedUp},n.formatGasFeeOrFeeRange=function(e,{precision:t=2}={}){if((0,u.isNullish)(e)||Array.isArray(e)&&0===e.length)return null;const n=Array.isArray(e)?e.slice(0,2):[e],a=Array.isArray(t)?t.slice(0,2):(0,r.times)(n.length,(0,r.constant)(t));return`${(0,r.uniq)((0,r.zip)(n,a).map((([e,t])=>t===undefined?e:(0,u.roundToDecimalPlacesRemovingExtraZeroes)(e,t)))).join(" - ")} GWEI`},n.gasEstimateGreaterThanGasUsedPlusTenPercent=void 0,n.isMetamaskSuggestedGasEstimate=function(e){return[s.GasRecommendations.high,s.GasRecommendations.medium,s.GasRecommendations.low].includes(e)};var a,r=e("lodash"),o=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},s=e("../../../shared/constants/gas"),i=e("../../../shared/modules/conversion.utils"),c=e("../../../shared/modules/Numeric"),u=e("./util");const l=new c.Numeric(1.1,10);function d(e){return e===undefined?undefined:new c.Numeric(e,16).times(l).round(0).toPrefixedHexString()}n.gasEstimateGreaterThanGasUsedPlusTenPercent=(e,t,n)=>{var a;let{maxFeePerGas:r}=e;r=new o.default((0,i.hexWEIToDecGWEI)(d(r)));const s=null==t||null===(a=t[n])||void 0===a?void 0:a.suggestedMaxFeePerGas;return(0,u.bnGreaterThan)(s,r)}}}},{package:"$root$",file:"ui/helpers/utils/gas.js"}],[5985,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHardwareKeyring=function(e=""){return e.includes("Hardware")}}}},{package:"$root$",file:"ui/helpers/utils/hardware.js"}],[5988,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=()=>window.matchMedia("screen and (max-width: 575px)").matches}}},{package:"$root$",file:"ui/helpers/utils/is-mobile-view.js"}],[5990,{"../../../../app/scripts/lib/multichain/address":82,"@metamask/etherscan-link":1460,"@metamask/utils":2787},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMultichainBlockExplorerUrl=n.getMultichainAccountUrl=void 0;var a=e("@metamask/etherscan-link"),r=e("@metamask/utils"),o=e("../../../../app/scripts/lib/multichain/address");const s=e=>{var t;return(null===(t=e.network)||void 0===t||null===(t=t.rpcPrefs)||void 0===t?void 0:t.blockExplorerUrl)??""};n.getMultichainBlockExplorerUrl=s;n.getMultichainAccountUrl=(e,t)=>{const{namespace:n}=(0,r.parseCaipChainId)(t.chainId);var i;if(n===r.KnownCaipNamespace.Eip155)return(0,a.getAccountLink)((0,o.normalizeSafeAddress)(e),t.network.chainId,null===(i=t.network)||void 0===i?void 0:i.rpcPrefs);const c=s(t);return c?`${c}/${e}`:""}}}},{package:"$root$",file:"ui/helpers/utils/multichain/blockExplorer.ts"}],[5991,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMatchedSymbols=n.getMatchedNames=n.getMatchedChain=void 0;n.getMatchedChain=(e,t)=>t.find((t=>t.chainId.toString()===e));n.getMatchedSymbols=(e,t)=>t.reduce(((t,n)=>{var a;n.chainId.toString()===e&&t.push(null===(a=n.nativeCurrency)||void 0===a?void 0:a.symbol);return t}),[]);n.getMatchedNames=(e,t)=>t.reduce(((t,n)=>(n.chainId.toString()===e&&t.push(null==n?void 0:n.name),t)),[])}}},{package:"$root$",file:"ui/helpers/utils/network-helper.ts"}],[5992,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getNftImageAlt=void 0;n.getNftImageAlt=({name:e,tokenId:t,description:n})=>n??`${e} ${t}`}}},{package:"$root$",file:"ui/helpers/utils/nfts.js"}],[5993,{"../../../shared/constants/network":5047,"../../../shared/lib/transactions-controller-utils":5074,"../../../shared/modules/conversion.utils":5081,"../constants/metamask-notifications/metamask-notifications":5956,"@ethersproject/providers":542,"bignumber.js":3481},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.formatAmount=n.createTextItems=void 0,n.formatIsoDateString=function(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(t)},n.formatMenuItemDate=function(e){const t=new Date;if(u(t,e))return new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric",hour12:!1}).format(e);if(l(t,e))return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(-1,"day");if(d(t,e))return new Intl.DateTimeFormat("en",{month:"short",day:"numeric"}).format(e);return new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"numeric"}).format(e)},n.getLeadingZeroCount=n.getAmount=void 0,n.getNetworkDetailsByChainId=function(e){const t=(o.NETWORK_TO_NAME_MAP[e]??"").split(" ")[0]??"",n=o.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e],a=o.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e],r=e&&(i=s.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS,c=e,c in i)?s.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS[e]:undefined;var i,c;return{nativeCurrencyName:t,nativeCurrencySymbol:n,nativeCurrencyLogo:a,nativeCurrencyAddress:"0x0000000000000000000000000000000000000000",blockExplorerConfig:r}},n.getRandomKey=n.getNetworkNameByChainId=n.getNetworkFees=void 0,n.getRpcUrlByChainId=g,n.getUsdAmount=void 0,n.hasNetworkFeeFields=h,n.isIpfsURL=void 0;var a=e("bignumber.js"),r=e("@ethersproject/providers"),o=e("../../../shared/constants/network"),s=e("../constants/metamask-notifications/metamask-notifications"),i=e("../../../shared/lib/transactions-controller-utils"),c=e("../../../shared/modules/conversion.utils");const u=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),l=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()-1),u(n,t)},d=(e,t)=>e.getFullYear()===t.getFullYear();const p={decimalPlaces:4},f=e=>{var t;return(null===(t=(new a.BigNumber(e,10).toString(10).split(".")[1]??"").match(/^0*/u))||void 0===t||null===(t=t[0])||void 0===t?void 0:t.length)||0};n.getLeadingZeroCount=f;const m=(e,t)=>{const n={...p,...t},a=f(e),r=e.toString().includes(".")||a>0||e.toString().includes("e-");if(e>999)return Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:2}).format(e);if(r){const t=(o=n.decimalPlaces,Boolean(null==n?void 0:n.shouldEllipse)&&a>=o),r=Intl.NumberFormat("en-US",{minimumFractionDigits:t?n.decimalPlaces:undefined,maximumFractionDigits:n.decimalPlaces}).format(e);return t?`${r}...`:r}var o;return e.toString()};n.formatAmount=m;n.getRandomKey=(e,t)=>`${e.replace(/\s+/gu,"_").replace(/[^\w-]/gu,"")}-${t}-${Math.random().toString(36).substring(2,15)}`;n.createTextItems=(e,t)=>({items:e.map(((e,t)=>({text:e,highlighted:t%2==1}))),variant:t});n.getAmount=(e,t,n)=>{if(!e||!t)return"";const a=(0,i.calcTokenAmount)(e,parseFloat(t)).toNumber();return m(a,n)};n.getUsdAmount=(e,t,n)=>{if(!e||!t||!n)return"";const a=(0,i.calcTokenAmount)(e,parseFloat(t)).toNumber(),r=parseFloat(`${a}`)*parseFloat(n);return m(r)};function g(e){const t=o.FEATURED_RPCS.find((t=>t.chainId===e));if(t)return t.rpcUrl;switch(e){case o.CHAIN_IDS.MAINNET:return o.MAINNET_RPC_URL;case o.CHAIN_IDS.GOERLI:return o.GOERLI_RPC_URL;case o.CHAIN_IDS.SEPOLIA:return o.SEPOLIA_RPC_URL;case o.CHAIN_IDS.LINEA_GOERLI:return o.LINEA_GOERLI_RPC_URL;case o.CHAIN_IDS.LINEA_SEPOLIA:return o.LINEA_SEPOLIA_RPC_URL;case o.CHAIN_IDS.LINEA_MAINNET:return o.LINEA_MAINNET_RPC_URL;case o.CHAIN_IDS.LOCALHOST:return o.LOCALHOST_RPC_URL;default:return o.MAINNET_RPC_URL}}function h(e){return"network_fee"in e.data}n.getNetworkNameByChainId=e=>o.NETWORK_TO_NAME_MAP[e];n.getNetworkFees=async e=>{if(!h(e))throw new Error("Invalid notification type");const t=(0,c.decimalToHex)(e.chain_id),n={url:g(`0x${t}`),headers:{"Infura-Source":"metamask/metamask"}},a=new r.JsonRpcProvider(n);if(!a)throw new Error(`No provider found for chainId ${t}`);try{const t=await a.getTransactionReceipt(e.tx_hash),n=await a.getTransaction(e.tx_hash),r=await a.getBlock(e.block_number),o=(t,n)=>m(parseFloat(t)*parseFloat(e.data.network_fee.native_token_price_in_usd),{decimalPlaces:n||4}),s=(0,c.hexWEIToDecETH)(t.gasUsed.mul(t.effectiveGasPrice)._hex),i=o(s),u=n.gasLimit.toNumber(),l=t.gasUsed.toNumber(),d=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(r.baseFeePerGas._hex):null,p=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(t.effectiveGasPrice.sub(r.baseFeePerGas)._hex):null;return{transactionFeeInEth:s,transactionFeeInUsd:i,gasLimit:u,gasUsed:l,baseFee:d,priorityFee:p,maxFeePerGas:n.maxFeePerGas?(0,c.hexWEIToDecGWEI)(n.maxFeePerGas._hex):null}}catch(e){throw new Error(`Error fetching network fees for chainId ${t}: ${e}`)}};n.isIpfsURL=e=>e.startsWith("ipfs://")}}},{package:"$root$",file:"ui/helpers/utils/notification.util.ts"}],[5994,{"../../../app/scripts/controllers/permissions":33,"../../../shared/constants/permissions":5051,"../../components/component-library":5534,"../constants/design-system":5953,"./util":6001,"@metamask/controller-utils":1250,"@metamask/snaps-rpc-methods":2479,"@metamask/snaps-utils":2592,"deep-freeze-strict":3723,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionDescription=n.PERMISSION_DESCRIPTIONS=void 0,n.getWeightedPermissions=function({t:e,permissions:t,getSubjectName:n,subjectName:a}){return Object.entries(t).reduce(((t,[r,o])=>t.concat(v({t:e,permissionName:r,permissionValue:o,subjectName:a,getSubjectName:n}))),[]).sort(((e,t)=>e.weight-t.weight))};var a=f(e("deep-freeze-strict")),r=f(e("react")),o=e("@metamask/snaps-rpc-methods"),s=e("@metamask/snaps-utils"),i=e("@metamask/controller-utils"),c=e("../../../shared/constants/permissions"),u=e("../../components/component-library"),l=e("../constants/design-system"),d=e("../../../app/scripts/controllers/permissions"),p=e("./util");function f(e){return e&&e.__esModule?e:{default:e}}const m=Symbol("unknown"),g=r.default.createElement(u.Icon,{name:u.IconName.Info,size:u.IconSize.Sm,color:l.IconColor.iconMuted});function h(e){return r.default.createElement(u.Text,{fontWeight:l.FontWeight.Medium,variant:l.TextVariant.inherit,color:l.TextColor.inherit},e)}const y=n.PERMISSION_DESCRIPTIONS=(0,a.default)({[c.RestrictedMethods.eth_accounts]:({t:e})=>({label:e("permission_ethereumAccounts"),leftIcon:u.IconName.Eye,weight:c.PermissionWeight.eth_accounts}),[d.PermissionNames.permittedChains]:({t:e})=>({label:e("permission_walletSwitchEthereumChain"),leftIcon:u.IconName.Wifi,weight:c.PermissionWeight.permittedChains}),[c.RestrictedMethods.snap_dialog]:({t:e,subjectName:t})=>({label:e("permission_dialog"),description:e("permission_dialogDescription",[h(t)]),leftIcon:u.IconName.Messages,weight:c.PermissionWeight.snap_dialog}),[c.RestrictedMethods.snap_notify]:({t:e,subjectName:t})=>({label:e("permission_notifications"),description:e("permission_notificationsDescription",[h(t)]),leftIcon:u.IconName.Notification,weight:c.PermissionWeight.snap_notify}),[c.RestrictedMethods.snap_getBip32PublicKey]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map((({path:t,curve:a},o)=>{var i;const d={leftIcon:u.IconName.SecuritySearch,weight:c.PermissionWeight.snap_getBip32PublicKey,id:`public-key-access-bip32-${null===(i=t.join("-"))||void 0===i?void 0:i.replace(/'/gu,"h")}-${a}-${o}`,warningMessageSubject:(0,s.getSnapDerivationPathName)(t,a)??`${e("unknownNetworkForKeyEntropy")}  ${t.join("/")} (${a})`},p=(0,s.getSnapDerivationPathName)(t,a);return p?{...d,label:e("permission_viewNamedBip32PublicKeys",[r.default.createElement(u.Text,{color:l.TextColor.inherit,variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Medium,key:t.join("/")},p)]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(u.Text,{color:l.TextColor.inherit,variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Medium,key:`description-${t.join("/")}`},p),h(n)])}:{...d,label:e("permission_viewBip32PublicKeys",[r.default.createElement(u.Text,{color:l.TextColor.inherit,variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} `," ",t.join("/")),a]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(u.Text,{color:l.TextColor.inherit,variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Medium,key:`description-${t.join("/")}`},t.join("/")),h(n)])}})),[c.RestrictedMethods.snap_getBip32Entropy]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map((({path:t,curve:a},o)=>{var i;const d={leftIcon:u.IconName.Key,weight:c.PermissionWeight.snap_getBip32Entropy,id:`key-access-bip32-${null===(i=t.join("-"))||void 0===i?void 0:i.replace(/'/gu,"h")}-${a}-${o}`,warningMessageSubject:(0,s.getSnapDerivationPathName)(t,a)??`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${a})`},p=(0,s.getSnapDerivationPathName)(t,a);return p?{...d,label:e("permission_manageBip32Keys",[r.default.createElement(u.Text,{color:l.TextColor.inherit,variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Medium,key:t.join("/")},p)]),description:e("permission_manageBip44AndBip32KeysDescription",[h(n)])}:{...d,label:e("permission_manageBip32Keys",[r.default.createElement(u.Text,{color:l.TextColor.inherit,variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${a})`)]),description:e("permission_manageBip44AndBip32KeysDescription",[h(n)])}})),[c.RestrictedMethods.snap_getBip44Entropy]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map((({coinType:t},a)=>({label:e("permission_manageBip44Keys",[r.default.createElement(u.Text,{color:l.TextColor.inherit,variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Medium,key:`coin-type-${t}`},(0,s.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`)]),description:e("permission_manageBip44AndBip32KeysDescription",[h(n)]),leftIcon:u.IconName.Key,weight:c.PermissionWeight.snap_getBip44Entropy,id:`key-access-bip44-${t}-${a}`,warningMessageSubject:(0,s.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`}))),[c.RestrictedMethods.snap_getEntropy]:({t:e,subjectName:t})=>({label:e("permission_getEntropy",[h(t)]),description:e("permission_getEntropyDescription",[h(t)]),leftIcon:u.IconName.SecurityKey,weight:c.PermissionWeight.snap_getEntropy}),[c.RestrictedMethods.snap_manageState]:({t:e,subjectName:t})=>({label:e("permission_manageState"),description:e("permission_manageStateDescription",[h(t)]),leftIcon:u.IconName.AddSquare,weight:c.PermissionWeight.snap_manageState}),[c.RestrictedMethods.snap_getLocale]:({t:e,subjectName:t})=>({label:e("permission_getLocale"),description:e("permission_getLocaleDescription",[h(t)]),leftIcon:u.IconName.Global,weight:c.PermissionWeight.snap_getLocale}),[c.RestrictedMethods.snap_getPreferences]:({t:e,subjectName:t})=>({label:e("permission_getPreferences"),description:e("permission_getPreferencesDescription",[h(t)]),leftIcon:u.IconName.Customize,weight:4}),[c.RestrictedMethods.wallet_snap]:({t:e,permissionValue:t,getSubjectName:n})=>{const a=t.caveats[0].value,o={leftIcon:u.IconName.Flash,rightIcon:g,weight:c.PermissionWeight.wallet_snap};return Object.keys(a).map((t=>{const a=n(t);return a?{...o,label:e("permission_accessNamedSnap",[r.default.createElement(u.Text,{color:l.TextColor.inherit,variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Medium,key:t},a)]),description:e("permission_accessSnapDescription",[a])}:{...o,label:e("permission_accessSnap",[t]),description:e("permission_accessSnapDescription",[t])}}))},[c.EndowmentPermissions["endowment:network-access"]]:({t:e,subjectName:t})=>({label:e("permission_accessNetwork"),description:e("permission_accessNetworkDescription",[h(t)]),leftIcon:u.IconName.Wifi,weight:c.PermissionWeight.endowment_networkAccess}),[c.EndowmentPermissions["endowment:webassembly"]]:({t:e,subjectName:t})=>({label:e("permission_webAssembly"),description:e("permission_webAssemblyDescription",[h(t)]),leftIcon:u.IconName.DocumentCode,rightIcon:null,weight:c.PermissionWeight.endowment_webassembly}),[c.EndowmentPermissions["endowment:transaction-insight"]]:({t:e,permissionValue:t,subjectName:n})=>{const a={leftIcon:u.IconName.Speedometer,weight:c.PermissionWeight.endowment_transactionInsight},r=[{...a,label:e("permission_transactionInsight"),description:e("permission_transactionInsightDescription",[h(n)])}];return(0,i.isNonEmptyArray)(t.caveats)&&t.caveats[0].type===s.SnapCaveatType.TransactionOrigin&&t.caveats[0].value&&r.push({...a,label:e("permission_transactionInsightOrigin"),description:e("permission_transactionInsightOriginDescription",[h(n)]),leftIcon:u.IconName.Explore}),r},[c.EndowmentPermissions["endowment:cronjob"]]:({t:e,subjectName:t})=>({label:e("permission_cronjob"),description:e("permission_cronjobDescription",[h(t)]),leftIcon:u.IconName.Clock,weight:c.PermissionWeight.endowment_cronjob}),[c.EndowmentPermissions["endowment:ethereum-provider"]]:({t:e,subjectName:t})=>({label:e("permission_ethereumProvider"),description:e("permission_ethereumProviderDescription",[h(t)]),leftIcon:u.IconName.Ethereum,weight:c.PermissionWeight.endowment_ethereumProvider,id:"ethereum-provider-access",message:e("ethereumProviderAccess",[h(t)])}),[c.EndowmentPermissions["endowment:rpc"]]:({t:e,permissionValue:t,subjectName:n})=>{const a={leftIcon:u.IconName.Hierarchy,weight:c.PermissionWeight.endowment_rpc},{snaps:s,dapps:i,allowedOrigins:d}=(0,o.getRpcCaveatOrigins)(t),p=[];if(s&&p.push({...a,label:e("permission_rpc",[e("otherSnaps"),h(n)]),description:e("permission_rpcDescription",[e("otherSnaps"),h(n)])}),i&&p.push({...a,label:e("permission_rpc",[e("websites"),h(n)]),description:e("permission_rpcDescription",[e("websites"),h(n)])}),(null==d?void 0:d.length)>0){let t;if(1===d.length)t=r.default.createElement(u.Text,{color:l.TextColor.inherit,variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Medium,style:{lineBreak:"anywhere"}},d[0]);else{const n=d.slice(-1);t=e("permission_rpcDescriptionOriginList",[d.slice(0,-1).map((e=>r.default.createElement(r.default.Fragment,null,r.default.createElement(u.Text,{color:l.TextColor.inherit,variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Medium,style:{lineBreak:"anywhere"}},e),", "))),r.default.createElement(u.Text,{color:l.TextColor.inherit,variant:l.TextVariant.inherit,fontWeight:l.FontWeight.Medium,key:"2",style:{lineBreak:"anywhere"}},n)])}p.push({...a,label:e("permission_rpc",[t,h(n)]),description:e("permission_rpcDescription",[t,h(n)])})}return p},[c.EndowmentPermissions["endowment:lifecycle-hooks"]]:({t:e,subjectName:t})=>({label:e("permission_lifecycleHooks"),description:e("permission_lifecycleHooksDescription",[h(t)]),leftIcon:u.IconName.Hierarchy,weight:c.PermissionWeight.endowment_lifecycleHooks}),[c.EndowmentPermissions["endowment:page-home"]]:({t:e,subjectName:t})=>({label:e("permission_homePage"),description:e("permission_homePageDescription",[h(t)]),leftIcon:u.IconName.Home,weight:c.PermissionWeight.endowment_pageHome}),[c.RestrictedMethods.snap_manageAccounts]:({t:e,subjectName:t})=>({label:e("permission_manageAccounts"),description:e("permission_manageAccountsDescription",[h(t)]),leftIcon:u.IconName.UserCircleAdd,rightIcon:null,weight:c.PermissionWeight.snap_manageAccounts}),[c.EndowmentPermissions["endowment:keyring"]]:({t:e,subjectName:t})=>({label:e("permission_keyring"),description:e("permission_keyringDescription",[h(t)]),leftIcon:u.IconName.UserCircleAdd,rightIcon:null,weight:c.PermissionWeight.endowment_keyring}),[c.EndowmentPermissions["endowment:signature-insight"]]:({t:e,permissionValue:t,subjectName:n})=>{const a={leftIcon:u.IconName.Warning,weight:c.PermissionWeight.endowment_signatureInsight},r=[{...a,label:e("permission_signatureInsight"),description:e("permission_signatureInsightDescription",[h(n)])}];return(0,i.isNonEmptyArray)(t.caveats)&&t.caveats.find((e=>e.type===s.SnapCaveatType.SignatureOrigin&&e.value))&&r.push({...a,label:e("permission_signatureInsightOrigin"),description:e("permission_signatureInsightOriginDescription",[h(n)]),leftIcon:u.IconName.Explore}),r},[c.ConnectionPermission.connection_permission]:({t:e,permissionValue:t,subjectName:n})=>Object.keys(t).map((t=>{let a=(0,p.getURLHost)(t);return a||(a=t.replace("npm:","")),{label:e("snapConnectTo",[r.default.createElement(u.Text,{key:"connectToMain",fontWeight:l.FontWeight.Medium,variant:l.TextVariant.inherit,color:l.TextColor.inherit,style:{lineBreak:"anywhere"}},a)]),description:e("snapConnectionPermissionDescription",[h(n),r.default.createElement(u.Text,{key:"connectToDescription",fontWeight:l.FontWeight.Medium,variant:l.TextVariant.inherit,color:l.TextColor.inherit},a)]),leftIcon:undefined,connection:t,connectionName:a,subjectName:n,weight:c.PermissionWeight.connection_permission}})),[m]:({t:e,permissionName:t})=>({label:e("permission_unknown",[t??"undefined"]),leftIcon:u.IconName.Question,rightIcon:null,weight:c.PermissionWeight.unknown_permission})}),v=({t:e,permissionName:t,permissionValue:n,subjectName:a,getSubjectName:r})=>{let o=y[m];Object.hasOwnProperty.call(y,t)&&(o=y[t]);const s=o({t:e,permissionName:t,permissionValue:n,subjectName:a,getSubjectName:r});return Array.isArray(s)?s.map((e=>({...e,permissionName:t,permissionValue:n}))):[{...s,permissionName:t,permissionValue:n}]};n.getPermissionDescription=v}}},{package:"$root$",file:"ui/helpers/utils/permission.js"}],[5995,{"../../../shared/constants/permissions":5051,"@metamask/keyring-api":1622},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.containsEthPermissionsAndNonEvmAccount=void 0;var a=e("@metamask/keyring-api"),r=e("../../../shared/constants/permissions");n.containsEthPermissionsAndNonEvmAccount=(e,t)=>{const n=Object.keys(r.RestrictedEthMethods),o=Object.keys(t).some((e=>n.includes(e))),s=e.some((e=>!(0,a.isEvmAccountType)(e.type)));return o&&s}}}},{package:"$root$",file:"ui/helpers/utils/permissions.ts"}],[5996,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPortfolioUrl=function(e="",t="",n="",a=!1,r=!1){const o=new URL(e,"https://portfolio.metamask.io");return o.searchParams.append("metamaskEntry",t),o.searchParams.append("metametricsId",n),o.searchParams.append("metricsEnabled",String(a)),o.searchParams.append("marketingEnabled",String(r)),o.href}}}},{package:"$root$",file:"ui/helpers/utils/portfolio.js"}],[5997,{"../constants/settings":5960,_process:4524},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.getNumberOfSettingRoutesInTab=function(e,t){return i(e,t).length},n.getSettingsRoutes=s,n.handleSettingsRefs=function(e,t,n){const a=i(e,t),r=a.findIndex((e=>e.route.substring(1)===window.location.hash.substring(1)));if(-1===r)return;const o=1===a.length?n:n[r];if(null!=o&&o.current){o.current.scrollIntoView({behavior:"smooth"}),o.current.focus();const e=window.location.hash.split("#")[1];window.location.hash=e}},n.highlightSearchedText=function(){const e=document.getElementById("search-settings"),t=new RegExp(e.value,"gi");[...document.querySelectorAll(".settings-page__header__search__list__item")].forEach((e=>{const n=e.querySelector(".settings-page__header__search__list__item__tab"),a=e.querySelector(".settings-page__header__search__list__item__section");c(n,t),c(a,t)}))};var a,r=(a=e("../constants/settings"))&&a.__esModule?a:{default:a};let o;function s(){return o||(o=r.default.filter((e=>!e.featureFlag||t.env[e.featureFlag])),o)}function i(e,t){return s().filter((n=>n.tabMessage(e)===t))}function c(e,t){if(null!==e){let n=e.innerHTML;n=n.replace("&amp;","&"),n=n.replace(/(<span class="settings-page__header__search__list__item__highlight">|<\/span>)/gim,""),e.innerHTML=n.replace(t,'<span class="settings-page__header__search__list__item__highlight">$&</span>')}}}).call(this)}).call(this,e("_process"))}}},{package:"$root$",file:"ui/helpers/utils/settings-search.js"}],[6002,{"../../../app/scripts/lib/util":128,"../../../shared/constants/app":5031},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("../../../shared/constants/app"),r=e("../../../app/scripts/lib/util");n.default=class{static async checkStatus(){const e=(0,r.getEnvironmentType)()===a.ENVIRONMENT_TYPE_POPUP,t=(0,r.getPlatform)()===(a.PLATFORM_FIREFOX||a.PLATFORM_BRAVE),n=(await window.navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)),o=n.length>0,s=n.some((e=>e.label&&e.label.length>0));if(o){let n=!0;return(t&&e||e&&!s)&&(n=!1),{permissions:s,environmentReady:n}}const i=new Error("No webcam found");throw i.type="NO_WEBCAM_FOUND",i}}}}},{package:"$root$",file:"ui/helpers/utils/webcam-utils.js"}],[6003,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openWindow=void 0;n.openWindow=(e,t)=>{window.open(e,t||"_blank","noopener")}}}},{package:"$root$",file:"ui/helpers/utils/window.ts"}],[6004,{"../../../shared/constants/metametrics":5043,"../../contexts/metametrics":5920,"../../ducks/bridge/actions":5930,"../../ducks/swaps/swaps":5949,"../../helpers/constants/routes":5959,"../../helpers/utils/hardware":5985,"../../helpers/utils/portfolio":5996,"../../selectors":6639,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react"),r=e("react-redux"),o=e("react-router-dom"),s=e("../../ducks/bridge/actions"),i=e("../../selectors"),c=e("../../contexts/metametrics"),u=e("../../../shared/constants/metametrics"),l=e("../../helpers/constants/routes"),d=e("../../helpers/utils/hardware"),p=e("../../helpers/utils/portfolio"),f=e("../../ducks/swaps/swaps");n.default=()=>{const e=(0,r.useDispatch)(),t=(0,o.useHistory)(),n=(0,a.useContext)(c.MetaMetricsContext),m=(0,r.useSelector)(i.getMetaMetricsId),g=(0,r.useSelector)(i.getParticipateInMetaMetrics),h=(0,r.useSelector)(i.getDataCollectionForMarketing),y=(0,r.useSelector)(i.getCurrentChainId),v=(0,r.useSelector)(i.getCurrentKeyring),b=(0,d.isHardwareKeyring)(v.type),_=(0,r.useSelector)(i.getIsBridgeEnabled),T=(0,r.useSelector)(i.getIsBridgeChain);(0,a.useEffect)((()=>{e((0,s.setBridgeFeatureFlags)())}),[e,s.setBridgeFeatureFlags]);return{openBridgeExperience:(0,a.useCallback)(((a,r,o)=>{if(T)if(_)n({event:u.MetaMetricsEventName.BridgeLinkClicked,category:u.MetaMetricsEventCategory.Navigation,properties:{token_symbol:r.symbol,location:a,text:"Bridge",chain_id:y}}),e((0,f.setSwapsFromToken)({...r,address:r.address.toLowerCase()})),b&&global.platform.openExtensionInBrowser?global.platform.openExtensionInBrowser(l.PREPARE_SWAP_ROUTE,null,!1):t.push(l.CROSS_CHAIN_SWAP_ROUTE+l.PREPARE_SWAP_ROUTE);else{const e=(0,p.getPortfolioUrl)("bridge","ext_bridge_button",m,g,h);global.platform.openTab({url:`${e}${o??`&token=${r.address}`}`}),n({category:u.MetaMetricsEventCategory.Navigation,event:u.MetaMetricsEventName.BridgeLinkClicked,properties:{location:a,text:"Bridge",url:e,chain_id:y,token_symbol:r.symbol}})}}),[_,T,y,f.setSwapsFromToken,e,b,t,m,n,g,h])}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridging.ts"}],[6005,{"../../selectors":6639,"../../selectors/metamask-notifications/metamask-notifications":6641,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useReadNotificationsCounter=function(){const{readSnapNotificationsCount:e}=s(),{featureAnnouncementsReadCount:t}=i(),{onChainMetamaskNotificationsReadCount:n}=c();return{notificationsReadCount:e+t+n}},n.useUnreadNotificationsCounter=function(){const{unreadSnapNotificationsCount:e}=s(),{featureAnnouncementsUnreadCount:t}=i(),{onChainMetamaskNotificationsUnreadCount:n}=c();return{notificationsUnreadCount:e+t+n}};var a=e("react-redux"),r=e("../../selectors/metamask-notifications/metamask-notifications"),o=e("../../selectors");const s=()=>({unreadSnapNotificationsCount:(0,a.useSelector)(o.getUnreadNotificationsCount),readSnapNotificationsCount:(0,a.useSelector)(o.getReadNotificationsCount)}),i=()=>{const e=(0,a.useSelector)(r.selectIsFeatureAnnouncementsEnabled),t=(0,a.useSelector)(r.getFeatureAnnouncementsUnreadCount),n=(0,a.useSelector)(r.getFeatureAnnouncementsReadCount);return e?{featureAnnouncementsUnreadCount:t,featureAnnouncementsReadCount:n}:{featureAnnouncementsUnreadCount:0,featureAnnouncementsReadCount:0}},c=()=>{const e=(0,a.useSelector)(r.selectIsMetamaskNotificationsEnabled),t=(0,a.useSelector)(r.getOnChainMetamaskNotificationsUnreadCount),n=(0,a.useSelector)(r.getOnChainMetamaskNotificationsReadCount);return e?{onChainMetamaskNotificationsUnreadCount:t,onChainMetamaskNotificationsReadCount:n}:{onChainMetamaskNotificationsUnreadCount:0,onChainMetamaskNotificationsReadCount:0}}}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useCounter.tsx"}],[6006,{"../../selectors/metamask-notifications/authentication":6640,"../../selectors/metamask-notifications/profile-syncing":6642,"../../store/actions":6652,loglevel:4388,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCreateSession=function(){const e=(0,o.useDispatch)(),t=(0,o.useSelector)(i.selectIsSignedIn),n=(0,o.useSelector)(c.selectIsProfileSyncingEnabled),a=(0,o.useSelector)(i.selectParticipateInMetaMetrics);return{createSession:(0,r.useCallback)((async()=>{if(!t&&(n||a)&&(n||a))try{await e((0,u.performSignIn)())}catch(t){await e((0,u.disableProfileSyncing)());const n=t instanceof Error?t.message:JSON.stringify(t??"");s.default.error(n)}}),[e,t,n,a])}};var a,r=e("react"),o=e("react-redux"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../../selectors/metamask-notifications/authentication"),c=e("../../selectors/metamask-notifications/profile-syncing"),u=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useCreateSession.ts"}],[6007,{"../../selectors/metamask-notifications/authentication":6640,"../../selectors/metamask-notifications/profile-syncing":6642,"../../store/actions":6652,loglevel:4388,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisableMetametrics=function(){const e=(0,o.useDispatch)(),t=(0,o.useSelector)(c.selectIsProfileSyncingEnabled),[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)(null);return{disableMetametrics:(0,r.useCallback)((async()=>{a(!0),e((0,u.showLoadingIndication)()),i(null);try{t&&await e((0,u.performSignOut)()),await e((0,u.setParticipateInMetaMetrics)(!1))}catch(e){throw i(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{a(!1),e((0,u.hideLoadingIndication)())}e((0,u.hideLoadingIndication)())}),[e,t]),loading:n,error:s}},n.useEnableMetametrics=function(){const e=(0,o.useDispatch)(),t=(0,o.useSelector)(c.selectIsProfileSyncingEnabled),n=(0,o.useSelector)(i.selectIsSignedIn),[a,l]=(0,r.useState)(!1),[d,p]=(0,r.useState)(null);return{enableMetametrics:(0,r.useCallback)((async()=>{l(!0),e((0,u.showLoadingIndication)()),p(null);try{t&&!n&&await e((0,u.performSignIn)()),await e((0,u.setParticipateInMetaMetrics)(!0))}catch(e){throw p(e instanceof Error?e.message:"An unexpected error occurred"),s.default.error(e),e}finally{l(!1),e((0,u.hideLoadingIndication)())}e((0,u.hideLoadingIndication)())}),[e,n]),loading:a,error:d}};var a,r=e("react"),o=e("react-redux"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../../selectors/metamask-notifications/authentication"),c=e("../../selectors/metamask-notifications/profile-syncing"),u=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useMetametrics.ts"}],[6008,{"../../store/actions":6652,loglevel:4388,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCreateNotifications=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(null);return{createNotifications:(0,r.useCallback)((async()=>{n(null);try{await e((0,i.createOnChainTriggers)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),s.default.error(e),e}}),[e]),error:t}},n.useDisableNotifications=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(null);return{disableNotifications:(0,r.useCallback)((async()=>{n(null);try{await e((0,i.disableMetamaskNotifications)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),s.default.error(e),e}}),[e]),error:t}},n.useEnableNotifications=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(null);return{enableNotifications:(0,r.useCallback)((async()=>{n(null);try{await e((0,i.enableMetamaskNotifications)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),s.default.error(e),e}}),[e]),error:t}},n.useListNotifications=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(!1),[a,c]=(0,r.useState)(null),[u,l]=(0,r.useState)(undefined);return{listNotifications:(0,r.useCallback)((async()=>{n(!0),c(null);try{const t=await e((0,i.fetchAndUpdateMetamaskNotifications)());return l(t),t}catch(e){throw s.default.error(e),c(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1)}}),[e]),notificationsData:u,isLoading:t,error:a}},n.useMarkNotificationAsRead=function(){const e=(0,o.useDispatch)();return{markNotificationAsRead:(0,r.useCallback)((async t=>{try{e((0,i.markMetamaskNotificationsAsRead)(t))}catch(e){throw s.default.error(e),e}}),[e])}};var a,r=e("react"),o=e("react-redux"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useNotifications.ts"}],[6009,{"../../store/actions":6652,loglevel:4388,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisableProfileSyncing=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(null);return{disableProfileSyncing:(0,r.useCallback)((async()=>{n(null);try{await e((0,i.disableProfileSyncing)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");n(t),s.default.error(t)}finally{e((0,i.hideLoadingIndication)())}}),[e]),error:t}},n.useEnableProfileSyncing=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(null);return{enableProfileSyncing:(0,r.useCallback)((async()=>{n(null);try{await e((0,i.enableProfileSyncing)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");s.default.error(t),n(t)}}),[e]),error:t}},n.useSetIsProfileSyncingEnabled=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(null);return{setIsProfileSyncingEnabled:(0,r.useCallback)((async t=>{n(null);try{await e((0,i.setIsProfileSyncingEnabled)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");n(t),s.default.error(t)}}),[e]),error:t}};var a,r=e("react"),o=e("react-redux"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useProfileSyncing.ts"}],[6010,{"../../selectors/metamask-notifications/metamask-notifications":6641,"../../store/actions":6652,loglevel:4388,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountSettingsProps=function(e){const t=(0,o.useSelector)(c.getIsUpdatingMetamaskNotificationsAccount),n=function(){const e=(0,o.useDispatch)(),t=(0,r.useCallback)((async t=>{try{return await e((0,i.checkAccountsPresence)(t))}catch{return{}}}),[]);return t}(),[a,s]=(0,r.useState)({}),[u,l]=(0,r.useState)(!1),[d,p]=(0,r.useState)(null),f=(0,r.useMemo)((()=>JSON.stringify(e)),[e]),m=(0,r.useCallback)((async e=>{try{l(!0),p(null);const t=await n(e);s(t)}catch{p("Failed to get account settings")}finally{l(!1)}}),[]);return(0,r.useEffect)((()=>{try{const e=JSON.parse(f);m(e)}catch{p("Failed to get account settings")}finally{l(!1)}}),[f,n]),{data:a,initialLoading:u,error:d,accountsBeingUpdated:t,update:m}},n.useSwitchAccountNotifications=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(!1),[a,c]=(0,r.useState)(null);return{switchAccountNotifications:(0,r.useCallback)((async t=>{n(!0),c(null);try{return await e((0,i.checkAccountsPresence)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");throw c(t),s.default.error(t),e}finally{n(!1)}}),[e]),isLoading:t,error:a}},n.useSwitchAccountNotificationsChange=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(null);return{onChange:(0,r.useCallback)((async(t,a)=>{n(null);try{a?await e((0,i.updateOnChainTriggersByAccount)(t)):await e((0,i.deleteOnChainTriggersByAccount)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");throw s.default.error(t),n(t),e}e((0,i.hideLoadingIndication)())}),[e]),error:t}},n.useSwitchFeatureAnnouncementsChange=function(){const e=(0,o.useDispatch)(),[t,n]=(0,r.useState)(null);return{onChange:(0,r.useCallback)((async t=>{n(null);try{await e((0,i.setFeatureAnnouncementsEnabled)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");throw n(t),e}}),[e]),error:t}};var a,r=e("react"),o=e("react-redux"),s=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../../store/actions"),c=e("../../selectors/metamask-notifications/metamask-notifications")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useSwitchNotifications.ts"}],[6011,{"../../../selectors":6639,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.RampsMetaMaskEntry=void 0;var a=e("react"),r=e("react-redux"),o=e("../../../selectors");let s=n.RampsMetaMaskEntry=function(e){return e.BuySellButton="ext_buy_sell_button",e.NftBanner="ext_buy_banner_nfts",e.TokensBanner="ext_buy_banner_tokens",e.ActivityBanner="ext_buy_banner_activity",e.BtcBanner="ext_buy_banner_btc",e}({});n.default=(e=s.BuySellButton)=>{const t=(0,r.useSelector)(o.getCurrentChainId),n=(0,r.useSelector)(o.getMetaMetricsId),i=(0,r.useSelector)(o.getParticipateInMetaMetrics),c=(0,r.useSelector)(o.getDataCollectionForMarketing),u=(0,a.useCallback)((t=>{const a=new URLSearchParams;return a.set("metamaskEntry",e),a.set("chainId",t),n&&a.set("metametricsId",n),a.set("metricsEnabled",String(i)),c&&a.set("marketingEnabled",String(c)),`https://portfolio.metamask.io/buy?${a.toString()}`}),[n]);return{openBuyCryptoInPdapp:(0,a.useCallback)((e=>{const n=u(e||t);global.platform.openTab({url:n})}),[t]),getBuyURI:u}}}}},{package:"$root$",file:"ui/hooks/ramps/useRamps/useRamps.ts"}],[6012,{react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react");n.default=()=>{const e=(0,a.useRef)(null),[t,n]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{n(e.current&&e.current.offsetHeight<e.current.scrollHeight)}),[e]),{contentRef:e,isOverflowing:t}}}}},{package:"$root$",file:"ui/hooks/snaps/useIsOverflowing.js"}],[6013,{"../../store/actions":6652,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeWebsite=void 0;var a=e("react"),r=e("../../store/actions");n.useSafeWebsite=e=>{const[t,n]=(0,a.useState)();return(0,a.useEffect)((()=>{e&&(async()=>{(await(0,r.getPhishingResult)(e)).result||n(new URL(e))})()}),[e]),t}}}},{package:"$root$",file:"ui/hooks/snaps/useSafeWebsite.ts"}],[6014,{"../../selectors":6639,"../../store/actions":6652,"@metamask/snaps-rpc-methods":2479,"@metamask/snaps-sdk":2528,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignatureInsights=function({txData:e}){const t=(0,r.useDispatch)(),n=(0,r.useSelector)(c.getPermissionSubjectsDeepEqual),l=(0,r.useSelector)(c.getSignatureInsightSnapIds),[d,p]=(0,a.useState)(!0),[f,m]=(0,a.useState)(undefined),[g,h]=(0,a.useState)([]);return(0,a.useEffect)((()=>{let a=!1;return Object.keys(e).length>0&&e.msgParams!==undefined&&async function(){p(!0);const{msgParams:{from:r,data:c,signatureMethod:d,origin:f}}=e,g={from:r,data:"eth_signTypedData_v3"===d||"eth_signTypedData_v4"===d?JSON.parse(c):c,signatureMethod:d},y=(await Promise.allSettled(l.map((e=>{var t;const a=null===(t=n[e])||void 0===t?void 0:t.permissions[u];if(!a)return Promise.reject(new Error("This Snap does not have the signature insight endowment."));const r=(0,o.getSignatureOriginCaveat)(a)?f:null;return(0,i.handleSnapRequest)({snapId:e,origin:"",handler:"onSignature",request:{jsonrpc:"2.0",method:"",params:{signature:g,signatureOrigin:r}}})})))).map(((e,t)=>{const n=l[t];return"rejected"===e.status?{error:e.reason,snapId:n}:{snapId:n,response:e.value}})),v=y.reduce(((e,t)=>{var n;if((null===(n=t.response)||void 0===n?void 0:n.severity)===s.SeverityLevel.Critical){const{snapId:n,response:{id:a}}=t;e.push({snapId:n,id:a})}return e}),[]);a||(m(y),h(v),p(!1),y.length>0&&(0,i.forceUpdateMetamaskState)(t))}(),()=>{a=!0}}),[e,JSON.stringify(l),n]),(0,a.useEffect)((()=>()=>{null==f||f.map((({response:e})=>(null==e?void 0:e.id)&&t((0,i.deleteInterface)(e.id))))}),[f]),{data:f,loading:d,warnings:g}};var a=e("react"),r=e("react-redux"),o=e("@metamask/snaps-rpc-methods"),s=e("@metamask/snaps-sdk"),i=e("../../store/actions"),c=e("../../selectors");const u="endowment:signature-insight"}}},{package:"$root$",file:"ui/hooks/snaps/useSignatureInsights.js"}],[6015,{"../../selectors":6639,"../../store/actions":6652,"@metamask/snaps-rpc-methods":2479,"@metamask/snaps-sdk":2528,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionInsightSnaps=function({transaction:e,chainId:t,origin:n,insightSnaps:l}){const d=(0,r.useDispatch)(),p=(0,r.useSelector)(c.getPermissionSubjectsDeepEqual),[f,m]=(0,a.useState)(!0),[g,h]=(0,a.useState)(undefined),[y,v]=(0,a.useState)(!1);(0,a.useEffect)((()=>{let a=!1;return e&&Object.keys(e).length>0&&async function(){if(y)return void m(!1);m(!0);const r=(await Promise.allSettled(l.map((a=>{var r;const s=null===(r=p[a])||void 0===r?void 0:r.permissions[u];if(!s)return Promise.reject(new Error("This Snap does not have the transaction insight endowment."));const c=(0,o.getTransactionOriginCaveat)(s)?n:null;return(0,i.handleSnapRequest)({snapId:a,origin:"",handler:"onTransaction",request:{jsonrpc:"2.0",method:"",params:{transaction:e,chainId:t,transactionOrigin:c}}})})))).map(((e,t)=>{const n=l[t];return"rejected"===e.status?{error:e.reason,snapId:n}:{snapId:n,response:e.value}}));a||(h(r),m(!1),v(!0),r.length>0&&(0,i.forceUpdateMetamaskState)(d))}(),()=>{a=!0}}),[e,t,n,p,JSON.stringify(l),y]);const b=null==g?void 0:g.reduce(((e,t)=>{var n;if((null===(n=t.response)||void 0===n?void 0:n.severity)===s.SeverityLevel.Critical){const{snapId:n,response:{id:a}}=t;e.push({snapId:n,id:a})}return e}),[]);return{data:g,loading:f,warnings:b}};var a=e("react"),r=e("react-redux"),o=e("@metamask/snaps-rpc-methods"),s=e("@metamask/snaps-sdk"),i=e("../../store/actions"),c=e("../../selectors");const u="endowment:transaction-insight"}}},{package:"$root$",file:"ui/hooks/snaps/useTransactionInsightSnaps.js"}],[6016,{"../../shared/modules/conversion.utils":5081,"../../shared/modules/string-utils":5103,"../ducks/metamask/metamask":5941,"../helpers/utils/confirm-tx.util":5980,"../helpers/utils/token-util":5998,"../selectors":6639,"./useTokenTracker":6053,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalFiatBalance=void 0;var a=e("react-redux"),r=e("../selectors"),o=e("../../shared/modules/conversion.utils"),s=e("../ducks/metamask/metamask"),i=e("../helpers/utils/confirm-tx.util"),c=e("../helpers/utils/token-util"),u=e("../../shared/modules/string-utils"),l=e("./useTokenTracker");n.useAccountTotalFiatBalance=(e,t)=>{var n;const d=(0,a.useSelector)(r.getCurrentChainId),p=(0,a.useSelector)(s.getConversionRate),f=(0,a.useSelector)(r.getCurrentCurrency),m=(0,a.useSelector)(r.getTokenExchangeRates,a.shallowEqual),g=(0,a.useSelector)(r.getMetaMaskCachedBalances),h=(null==g?void 0:g[null==e?void 0:e.address])??0,y=(0,o.getValueFromWeiHex)({value:h,toCurrency:f,conversionRate:p,numberOfDecimals:2}),v=(0,a.useSelector)(r.getAllTokens),b=(null==v||null===(n=v[d])||void 0===n?void 0:n[null==e?void 0:e.address])??[],_=(0,a.useSelector)(r.getTokenList),T=Object.values(_),k=(0,a.useSelector)(r.getNativeCurrencyImage),E=(0,a.useSelector)(s.getNativeCurrency),{loading:w,tokensWithBalances:C}=(0,l.useTokenTracker)({tokens:b,address:null==e?void 0:e.address,includeFailedTokens:!0,hideZeroBalanceTokens:t}),x=C.map((e=>{const t=Object.keys(m).find((t=>(0,u.isEqualCaseInsensitive)(t,e.address))),n=(t&&m[t])??0;return(0,c.getTokenFiatAmount)(n,p,f,e.string,e.symbol,!1,!1)})),M=[{iconUrl:k,symbol:E,fiatBalance:y},...((e,t)=>{const n=[];return t.forEach((t=>{const a=e.find((e=>e.symbol===t.symbol));a&&n.push({...a,balance:t.balance,string:t.string,balanceError:t.balanceError})})),n})(T,C).map(((e,t)=>({...e,fiatBalance:x[t]})))].sort(((e,t)=>parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance))),S=(0,o.sumDecimals)(y,...x).toString(10),P=(0,i.formatCurrency)(S,f);let O=(0,o.getWeiHexFromDecimalValue)({value:S,fromCurrency:f,conversionRate:p,invertConversionRate:!0});return"NaN"===O&&(O="0x0"),{formattedFiat:P,totalWeiBalance:O,totalFiatBalance:S,tokensWithBalances:C,loading:w,orderedTokenList:M}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[6017,{"../../shared/modules/hexstring-utils":5089,"../helpers/utils/util":6001,"../selectors":6639,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("../../shared/modules/hexstring-utils"),o=e("../selectors"),s=e("../helpers/utils/util");n.default=e=>{var t;const n=(0,a.useSelector)(o.getAddressBook),i=(0,a.useSelector)(o.getInternalAccounts),c=(0,a.useSelector)(o.getTokenList),u=(0,r.toChecksumHexAddress)(e);if(!e)return{};const l=i.find((e=>(0,r.toChecksumHexAddress)(e.address)===u)),d=n.find((e=>e.address===u));return null!=d&&d.name?{toName:d.name,isTrusted:!0}:l?{toName:l.metadata.name,isTrusted:!0}:null!==(t=c[null==e?void 0:e.toLowerCase()])&&void 0!==t&&t.name?{toName:c[null==e?void 0:e.toLowerCase()].name,isTrusted:!0}:{toName:(0,s.shortenAddress)(u),isTrusted:!1}}}}},{package:"$root$",file:"ui/hooks/useAddressDetails.js"}],[6018,{"../ducks/confirm-alerts/confirm-alerts":5932,"../helpers/constants/design-system":5953,"../selectors/alerts":6634,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("react"),o=e("../selectors/alerts"),s=e("../ducks/confirm-alerts/confirm-alerts"),i=e("../helpers/constants/design-system");n.default=e=>{const t=(0,a.useDispatch)(),n=(0,a.useSelector)((t=>(0,o.selectAlerts)(t,e))),c=(0,a.useSelector)((t=>(0,o.selectConfirmedAlertKeys)(t,e))),u=(0,a.useSelector)((t=>(0,o.selectGeneralAlerts)(t,e))),l=(0,a.useSelector)((t=>(0,o.selectFieldAlerts)(t,e))),d=(0,r.useCallback)((e=>e?n.filter((t=>t.field===e)):[]),[n]),p=(0,r.useCallback)(((n,a)=>{t((0,s.setAlertConfirmed)(e,n,a))}),[t,s.setAlertConfirmed,e]),f=(0,r.useCallback)((e=>c.includes(e)),[c]),m=n.filter((e=>!f(e.key)&&e.severity===i.Severity.Danger)),g=n.length>0,h=n.filter((e=>e.severity===i.Severity.Danger)),y=m.length>0;return{alerts:n,fieldAlerts:l,generalAlerts:u,getFieldAlerts:d,hasAlerts:g,dangerAlerts:h,hasDangerAlerts:(null==h?void 0:h.length)>0,hasUnconfirmedDangerAlerts:y,isAlertConfirmed:f,setAlertConfirmed:p,unconfirmedDangerAlerts:m}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[6019,{react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAsyncResult=r,n.useAsyncResultOrThrow=function(e,t=[]){const n=r(e,t);if(n.error)throw n.error;return n};var a=e("react");function r(e,t=[]){const[n,r]=(0,a.useState)({pending:!0});return(0,a.useEffect)((()=>{r({pending:!0});let t=!1;return e().then((e=>{t||r({pending:!1,value:e})})).catch((e=>{t||r({pending:!1,error:e})})),()=>{t=!0}}),t),n}}}},{package:"$root$",file:"ui/hooks/useAsyncResult.ts"}],[6020,{"../../shared/constants/copy":5034,"../../shared/constants/time":5059,"./useTimeout":6049,"copy-to-clipboard":3637,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCopyToClipboard=function(e=u){const[t,n]=(0,r.useState)(!1),a=(0,c.useTimeout)((()=>{(0,o.default)(" ",i.COPY_OPTIONS),n(!1)}),e,!1),s=(0,r.useCallback)((e=>{n(!0),a(),(0,o.default)(e,i.COPY_OPTIONS)}),[a]);return[t,s]};var a,r=e("react"),o=(a=e("copy-to-clipboard"))&&a.__esModule?a:{default:a},s=e("../../shared/constants/time"),i=e("../../shared/constants/copy"),c=e("./useTimeout");const u=s.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[6021,{"../../shared/constants/common":5033,"../../shared/constants/network":5047,"../../shared/modules/Numeric":5076,"../../shared/modules/conversion.utils":5081,"../helpers/utils/confirm-tx.util":5980,"../helpers/utils/token-util":5998,"../selectors/multichain":6644,"./useMultichainSelector":6036,"bignumber.js":3481,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MIN_AMOUNT=n.DEFAULT_PRECISION=void 0,n.useCurrencyDisplay=function(e,{account:t,displayValue:n,prefix:a,numberOfDecimals:o,denomination:m,currency:y,...v}){const b=(0,f.useMultichainSelector)(i.getMultichainIsEvm,t),_=(0,f.useMultichainSelector)(i.getMultichainCurrentCurrency,t),T=(0,f.useMultichainSelector)(i.getMultichainNativeCurrency,t),k=(0,f.useMultichainSelector)(i.getMultichainConversionRate,t),E=y===_,w=y===T,C=(0,r.useMemo)((()=>n||(b?function({isNativeCurrency:e,isUserPreferredCurrency:t,currency:n,nativeCurrency:a,inputValue:r,conversionRate:o,denomination:i,numberOfDecimals:u}){if(e||!t&&!a){const e=new l.Numeric(r,16,d.EtherDenomination.WEI).toDenomination(i||d.EtherDenomination.ETH).round(u||h).toBase(10).toString();return"0"===e&&r&&0!==Number(r)?g:e}if(t&&o)return(0,s.formatCurrency)((0,c.getValueFromWeiHex)({value:r,fromCurrency:a,toCurrency:n,conversionRate:o,numberOfDecimals:u||2,toDenomination:i}),n);return null}({isNativeCurrency:w,isUserPreferredCurrency:E,currency:y,nativeCurrency:T,inputValue:e,conversionRate:k,denomination:m,numberOfDecimals:o}):function({isNativeCurrency:e,isUserPreferredCurrency:t,currency:n,currentCurrency:a,nativeCurrency:r,inputValue:o,conversionRate:i}){if(e||!t&&!r)return new l.Numeric(o,10).toString();if(t&&i){const e=(0,p.getTokenFiatAmount)(1,Number(i),a,o,"BTC",!1,!1)??"0";return(0,s.formatCurrency)(e,n)}return null}({isNativeCurrency:w,isUserPreferredCurrency:E,currency:y,currentCurrency:_,nativeCurrency:T,inputValue:e,conversionRate:k}))),[n,b,w,E,y,T,e,k,m,o,_]);let x;if(!v.hideLabel){const e=Object.values(u.TEST_NETWORK_TICKER_MAP).includes(y)?y:null==y?void 0:y.toUpperCase();x=v.suffix||e}return[`${a||""}${C}${x?` ${x}`:""}`,{prefix:a,value:C,suffix:x}]};var a,r=e("react"),o=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},s=e("../helpers/utils/confirm-tx.util"),i=e("../selectors/multichain"),c=e("../../shared/modules/conversion.utils"),u=e("../../shared/constants/network"),l=e("../../shared/modules/Numeric"),d=e("../../shared/constants/common"),p=e("../helpers/utils/token-util"),f=e("./useMultichainSelector");const m=n.MIN_AMOUNT=1e-6,g=`<${m}`,h=n.DEFAULT_PRECISION=new o.default(m).decimalPlaces()}}},{package:"$root$",file:"ui/hooks/useCurrencyDisplay.js"}],[6022,{"../ducks/metamask/metamask":5941,"../selectors":6639,"../store/actions":6652,"./usePolling":6041,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../selectors"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),c=(a=e("./usePolling"))&&a.__esModule?a:{default:a};n.default=e=>{const t=(0,r.useSelector)(o.getUseCurrencyRateCheck),n=(0,r.useSelector)(i.getCompletedOnboarding),a=(0,r.useSelector)(o.getSelectedNetworkClientId);(0,c.default)({startPollingByNetworkClientId:s.currencyRateStartPollingByNetworkClientId,stopPollingByPollingToken:s.currencyRateStopPollingByPollingToken,networkClientId:e??a,enabled:t&&n})}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[6023,{"../../shared/constants/swaps":5057,"../../shared/modules/string-utils":5103,"../ducks/metamask/metamask":5941,"../helpers/constants/routes":5959,"../selectors":6639,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,r.useRouteMatch)({path:`${i.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),n=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,l=(0,a.useSelector)(o.getTokens),d=n&&l.find((({address:e})=>(0,u.isEqualCaseInsensitive)(e,n))),p=(0,a.useSelector)(s.getCurrentChainId);return d??(c.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[p]||c.ETH_SWAPS_TOKEN_OBJECT)};var a=e("react-redux"),r=e("react-router-dom"),o=e("../ducks/metamask/metamask"),s=e("../selectors"),i=e("../helpers/constants/routes"),c=e("../../shared/constants/swaps"),u=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[6024,{"../selectors":6639,"../selectors/nft":6645,"./useFirstPartyContractName":6028,"./useName":6037,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=function(e,t,n=!1){return c([{value:e,type:t,preferContractSymbol:n}])[0]},n.useDisplayNames=c;var a=e("react-redux"),r=e("../selectors"),o=e("../selectors/nft"),s=e("./useName"),i=e("./useFirstPartyContractName");function c(e){const t=e.map((({value:e,type:t})=>({value:e,type:t}))),n=(0,s.useNames)(t),c=(0,i.useFirstPartyContractNames)(t),u=e.map((({value:e})=>e)),l=(0,a.useSelector)((e=>(0,r.getRemoteTokens)(e,u))),d=(0,a.useSelector)(o.getNftContractsByAddressOnCurrentChain);return e.map((({value:e,preferContractSymbol:t},a)=>{var r;const o=n[a],s=c[a],i=l[a],u=null===(r=d[e.toLowerCase()])||void 0===r?void 0:r.name,p=t&&null!=i&&i.symbol?i.symbol:null==i?void 0:i.name;return{name:(null==o?void 0:o.name)||s||p||u||null,hasPetname:Boolean(null==o?void 0:o.name),contractDisplayName:p}}))}}}},{package:"$root$",file:"ui/hooks/useDisplayName.ts"}],[6025,{lodash:4382,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=r.isEqual){const[n,o]=(0,a.useState)(e);return(0,a.useLayoutEffect)((()=>{t(e,n)||o(e)}),[e,t,n]),n};var a=e("react"),r=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[6026,{"../../shared/modules/conversion.utils":5081,"../ducks/metamask/metamask":5941,"../helpers/utils/confirm-tx.util":5980,"../selectors":6639,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEthFiatAmount=function(e,t={},n){const u=(0,r.useSelector)(i.getConversionRate),l=(0,r.useSelector)(o.getCurrentCurrency),d=(0,r.useSelector)(o.getShouldShowFiat),p=t.showFiat??d,f=(0,a.useMemo)((()=>(0,c.decEthToConvertedCurrency)(e,l,u)),[u,l,e]);if(!p||"ETH"===l.toUpperCase()||u<=0||e===undefined)return undefined;return n?(0,s.formatCurrency)(f,l):`${(0,s.formatCurrency)(f,l)} ${l.toUpperCase()}`};var a=e("react"),r=e("react-redux"),o=e("../selectors"),s=e("../helpers/utils/confirm-tx.util"),i=e("../ducks/metamask/metamask"),c=e("../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[6027,{"../ducks/locale/locale":5940,"../helpers/utils/util":6001,"../selectors":6639,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFiatFormatter=void 0;var a=e("react-redux"),r=e("../ducks/locale/locale"),o=e("../selectors"),s=e("../helpers/utils/util");n.useFiatFormatter=()=>{const e=(0,a.useSelector)(r.getIntlLocale),t=(0,a.useSelector)(o.getCurrentCurrency);return(n,a={})=>{const{shorten:r}=a;try{const a=new Intl.NumberFormat(e,{style:"currency",currency:t});if(!r)return a.format(n);const o=a.formatToParts(n);let i="",c="";o.forEach((e=>{"currency"===e.type?i+=e.value:c+=e.value}));const u=(0,s.shortenString)(c,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return o.findIndex((e=>"currency"===e.type))<o.findIndex((e=>"integer"===e.type))?`${i}${u}`:`${u}${i}`}catch(a){const o=new Intl.NumberFormat(e).format(n),i=(0,s.shortenString)(o,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return r?`${i} ${t}`:`${o} ${t}`}}}}}},{package:"$root$",file:"ui/hooks/useFiatFormatter.ts"}],[6028,{"../../shared/constants/first-party-contracts":5037,"../selectors":6639,"@metamask/name-controller":1754,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFirstPartyContractName=function(e,t,n){return i([{value:e,type:t,variation:n}])[0]},n.useFirstPartyContractNames=i;var a=e("@metamask/name-controller"),r=e("react-redux"),o=e("../selectors"),s=e("../../shared/constants/first-party-contracts");function i(e){const t=(0,r.useSelector)(o.getCurrentChainId);return e.map((({type:e,value:n,variation:r})=>{if(e!==a.NameType.ETHEREUM_ADDRESS)return null;const o=r??t,i=n.toLowerCase();return Object.keys(s.FIRST_PARTY_CONTRACT_NAMES).find((e=>{var t;return(null===(t=s.FIRST_PARTY_CONTRACT_NAMES[e])||void 0===t||null===(t=t[o])||void 0===t?void 0:t.toLowerCase())===i}))??null}))}}}},{package:"$root$",file:"ui/hooks/useFirstPartyContractName.ts"}],[6029,{"../ducks/metamask/metamask":5941,"../selectors":6639,"../store/actions":6652,"./usePolling":6041,"lodash/isEqual":4370,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(e){const t=(0,r.useSelector)(c.getSelectedNetworkClientId),n=e??t,[l,d]=(0,o.useState)(""),p=(0,r.useSelector)((e=>(0,s.getGasEstimateTypeByChainId)(e,l))),f=(0,r.useSelector)((e=>(0,s.getGasFeeEstimatesByChainId)(e,l)),a.default),m=(0,r.useSelector)((e=>(0,s.getIsGasEstimatesLoadingByChainId)(e,{chainId:l,networkClientId:n}))),g=(0,r.useSelector)((e=>(0,s.getIsNetworkBusyByChainId)(e,l)));return(0,o.useEffect)((()=>{let e=!0;return(0,i.getNetworkConfigurationByNetworkClientId)(n).then((t=>{t&&e&&d(t.chainId)})),()=>{e=!1}}),[n]),(0,u.default)({startPollingByNetworkClientId:i.gasFeeStartPollingByNetworkClientId,stopPollingByPollingToken:i.gasFeeStopPollingByPollingToken,networkClientId:n}),{gasFeeEstimates:f,gasEstimateType:p,isGasEstimatesLoading:m,isNetworkBusy:g}};var a=l(e("lodash/isEqual")),r=e("react-redux"),o=e("react"),s=e("../ducks/metamask/metamask"),i=e("../store/actions"),c=e("../selectors"),u=l(e("./usePolling"));function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[6030,{"../../shared/constants/network":5047,"../selectors":6639,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHideFiatForTestnet=void 0;var a=e("react-redux"),r=e("../selectors"),o=e("../../shared/constants/network");n.useHideFiatForTestnet=e=>{const t=(0,a.useSelector)(r.getShowFiatInTestnets),n=(0,a.useSelector)(r.getCurrentChainId),s=e??n;return o.TEST_NETWORK_IDS.includes(s)&&!t}}}},{package:"$root$",file:"ui/hooks/useHideFiatForTestnet.ts"}],[6032,{"../../app/scripts/lib/util":128,"../../shared/constants/network":5047,"../../shared/constants/time":5059,"../../shared/lib/fetch-with-cache":5065,"../selectors":6639,"../selectors/multichain":6644,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalNativeTokenSymbol=function(e,t,n,a=""){const[p,f]=(0,r.useState)(!1),m=(0,o.useSelector)(u.useSafeChainsListValidationSelector),g=(0,o.useSelector)(l.getMultichainIsEvm),h=(0,o.useSelector)(l.getMultichainCurrentNetwork);return(0,r.useEffect)((()=>{!async function(n){if(g)try{var r;if(!m)return void f(!0);if((e=>{const t=(0,d.getValidUrl)(e);return null!==t&&("localhost"===t.hostname||"127.0.0.1"===t.hostname)})(a))return void f(!0);const o=i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e];if(o)return void f(o===t);const u=i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[e];if(u&&u.some((e=>e.currencySymbol===t)))return void f(!0);const l=(await(0,s.default)({url:"https://chainid.network/chains.json",cacheOptions:{cacheRefreshTime:c.DAY},functionName:"getSafeChainsList"})).find((e=>e.chainId===parseInt(n,16))),p=(null==l||null===(r=l.nativeCurrency)||void 0===r?void 0:r.symbol)??null;f(p===t)}catch(e){f(!1)}else f(t===(null==h?void 0:h.ticker))}(e)}),[p,e,t,n,a,m]),p};var a,r=e("react"),o=e("react-redux"),s=(a=e("../../shared/lib/fetch-with-cache"))&&a.__esModule?a:{default:a},i=e("../../shared/constants/network"),c=e("../../shared/constants/time"),u=e("../selectors"),l=e("../selectors/multichain"),d=e("../../app/scripts/lib/util")}}},{package:"$root$",file:"ui/hooks/useIsOriginalNativeTokenSymbol.js"}],[6033,{"../selectors":6639,"../store/actions":6652,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalTokenSymbol=function(e,t){const[n,i]=(0,a.useState)(null),c=(0,r.useSelector)(s.getTokenList);return(0,a.useEffect)((()=>{!async function(e){var n,a;let r=null===(n=c[null==e?void 0:e.toLowerCase()])||void 0===n?void 0:n.symbol;r||(r=await(0,o.getTokenSymbol)(e)),i((null===(a=r)||void 0===a?void 0:a.toLowerCase())===(null==t?void 0:t.toLowerCase()))}(e)}),[e,t]),n};var a=e("react"),r=e("react-redux"),o=e("../store/actions"),s=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useIsOriginalTokenSymbol.js"}],[6034,{"../store/actions":6652,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useModalProps=function(){const e=(0,a.useSelector)((e=>{var t;return null===(t=e.appState.modal.modalState)||void 0===t?void 0:t.props})),t=(0,a.useDispatch)();return{props:e,hideModal:()=>t((0,r.hideModal)())}};var a=e("react-redux"),r=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useModalProps.ts"}],[6035,{"../../shared/constants/multichain/assets":5045,"../helpers/utils/confirm-tx.util":5980,"../helpers/utils/token-util":5998,"../selectors/multichain":6644,"./useAccountTotalFiatBalance":6016,"./useMultichainSelector":6036,"@metamask/keyring-api":1622,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainAccountTotalFiatBalance=n.EMPTY_VALUES=void 0;var a=e("react-redux"),r=e("@metamask/keyring-api"),o=e("../selectors/multichain"),s=e("../helpers/utils/confirm-tx.util"),i=e("../../shared/constants/multichain/assets"),c=e("../helpers/utils/token-util"),u=e("./useMultichainSelector"),l=e("./useAccountTotalFiatBalance");const d=n.EMPTY_VALUES={formattedFiat:"0",totalFiatBalance:"0",totalWeiBalance:"0",tokensWithBalances:[],loading:!1,orderedTokenList:[]};n.useMultichainAccountTotalFiatBalance=(e,t=!1)=>{var n;if((0,r.isEvmAccountType)(e.type))return(0,l.useAccountTotalFiatBalance)(e,t);const p=(0,u.useMultichainSelector)(o.getMultichainCurrentCurrency,e),{network:f}=(0,u.useMultichainSelector)(o.getMultichainNetwork,e),{ticker:m}=f,g=(0,u.useMultichainSelector)(o.getMultichainConversionRate,e),h=(0,u.useMultichainSelector)(o.getMultichainCurrencyImage,e),y=(0,a.useSelector)(o.getMultichainBalances),v=i.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19[m];if(null===(n=y[e.id])||void 0===n||!n[v])return d;const{amount:b}=y[e.id][v],_=(0,c.getTokenFiatAmount)(1,Number(g),p,b,m,!1,!1)??"0",T={iconUrl:h,symbol:m,fiatBalance:_};return{formattedFiat:(0,s.formatCurrency)(_,p),totalFiatBalance:_,totalBalance:b,tokensWithBalances:[],loading:!1,orderedTokenList:[T]}}}}},{package:"$root$",file:"ui/hooks/useMultichainAccountTotalFiatBalance.ts"}],[6036,{"../selectors":6639,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainSelector=function(e,t){return(0,a.useSelector)((n=>e(n,t||(0,r.getSelectedInternalAccount)(n))))};var a=e("react-redux"),r=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useMultichainSelector.ts"}],[6037,{"../selectors":6639,"@metamask/name-controller":1754,lodash:4382,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useName=function(e,t,n){return i([{value:e,type:t,variation:n}])[0]},n.useNames=i;var a=e("@metamask/name-controller"),r=e("react-redux"),o=e("lodash"),s=e("../selectors");function i(e){const t=(0,r.useSelector)(s.getNames,o.isEqual),n=(0,r.useSelector)(s.getCurrentChainId);return e.map((({value:e,type:r,variation:o})=>{var s;const i=function(e,t){if(t===a.NameType.ETHEREUM_ADDRESS)return e.toLowerCase();return e}(e,r),c=function(e,t){if(e===a.NameType.ETHEREUM_ADDRESS)return t;return""}(r,n),u=o??c,l=(null===(s=t[r])||void 0===s?void 0:s[i])??{},d=l[u],p=l[a.FALLBACK_VARIATION],f=null!=d&&d.name||!p?d??{}:p,{name:m=null,sourceId:g=null,origin:h=null,proposedNames:y={}}=f;return{name:m,sourceId:g,proposedNames:y,origin:h}}))}}}},{package:"$root$",file:"ui/hooks/useName.ts"}],[6038,{"../ducks/metamask/metamask":5941,"../selectors":6639,"./useI18nContext":6031,"./usePrevious":6042,lodash:4382,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftsCollections=function(){const e=(0,u.useI18nContext)(),t=e("nftsPreviouslyOwned"),n=e("unknownCollection"),[l,d]=(0,a.useState)({}),[p,f]=(0,a.useState)({collectionName:t,nfts:[]}),m=(0,r.useSelector)(s.getNfts),[g,h]=(0,a.useState)((()=>(null==m?void 0:m.length)>=0)),{address:y}=(0,r.useSelector)(i.getSelectedInternalAccount),v=(0,r.useSelector)(i.getCurrentChainId),b=(0,r.useSelector)(s.getNftContracts),_=(0,c.usePrevious)(m),T=(0,c.usePrevious)(v),k=(0,c.usePrevious)(y);return(0,a.useEffect)((()=>{(0,o.isEqual)(_,m)&&(0,o.isEqual)(k,y)&&(0,o.isEqual)(T,v)||(()=>{if(h(!0),y===undefined||v===undefined)return;const e={},a={collectionName:t,nfts:[]};m.forEach((t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))a.nfts.push(t);else if(e[t.address])e[t.address].nfts.push(t);else{const a=b.find((({address:e})=>e===t.address));e[t.address]={collectionName:(null==a?void 0:a.name)||n,collectionImage:(null==a?void 0:a.logo)||t.image,nfts:[t]}}})),d(e),f(a),h(!1)})()}),[m,_,b,h,v,T,y,k,t,n]),{nftsLoading:g,collections:l,previouslyOwnedCollection:p}};var a=e("react"),r=e("react-redux"),o=e("lodash"),s=e("../ducks/metamask/metamask"),i=e("../selectors"),c=e("./usePrevious"),u=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNftsCollections.js"}],[6039,{"../selectors":6639,"@metamask/permission-controller":1885,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,r.useSelector)((t=>(0,o.getTargetSubjectMetadata)(t,e)));if(!e)return null;let n=null;try{const t=new URL(e);n={host:t.host,hostname:t.hostname,origin:e,subjectType:a.SubjectType.Unknown}}catch(e){}if(t&&n)return{...n,...t};if(t)return t;return n};var a=e("@metamask/permission-controller"),r=e("react-redux"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[6040,{"../selectors":6639,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePetnamesEnabled=function(){return(0,r.getPetnamesEnabled)((0,a.useStore)().getState())};var a=e("react-redux"),r=e("../selectors")}}},{package:"$root$",file:"ui/hooks/usePetnamesEnabled.ts"}],[6041,{react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react");n.default=e=>{const t=(0,a.useRef)(null),n=(0,a.useRef)(null);let r=!1;(0,a.useEffect)((()=>{if(!1===e.enabled)return()=>{};r=!0;const a=()=>{var a;t.current&&(e.stopPollingByPollingToken(t.current),null===(a=n.current)||void 0===a||a.call(n,t.current))};return e.startPollingByNetworkClientId(e.networkClientId,e.options).then((o=>{var s;t.current=o,n.current=(null===(s=e.callback)||void 0===s?void 0:s.call(e,o))||null,r||a()})),()=>{r=!1,a()}}),[e.networkClientId,e.options&&JSON.stringify(e.options,Object.keys(e.options).sort()),e.enabled])}}}},{package:"$root$",file:"ui/hooks/usePolling.ts"}],[6042,{react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePrevious=function(e){const t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e}),[e]),t.current};var a=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.ts"}],[6043,{"./usePrevious":6042,lodash:4382,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useScrollRequired=void 0;var a=e("react"),r=e("lodash"),o=e("./usePrevious");n.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{var n,s;const i=(0,a.useRef)(null),c=(0,o.usePrevious)(null===(n=i.current)||void 0===n?void 0:n.offsetHeight),[u,l]=(0,a.useState)(!1),[d,p]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!1),g=()=>{if(!i.current)return;const e=i.current&&i.current.scrollHeight>i.current.clientHeight,n=e&&Math.round(i.current.scrollTop)+i.current.offsetHeight+t>=i.current.scrollHeight;e!==d&&(l(!1),p(e)),m(!e||n),e&&!n||l(!0)};(0,a.useEffect)(g,[i,...e]),(0,a.useEffect)((()=>{var e;c!==(null===(e=i.current)||void 0===e?void 0:e.offsetHeight)&&g()}),[null===(s=i.current)||void 0===s?void 0:s.offsetHeight]);return{isScrollable:d,isScrolledToBottom:f,hasScrolledToBottom:u,scrollToBottom:()=>{m(!0),l(!0),i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:l,ref:i,onScroll:(0,r.debounce)(g,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[6044,{"../helpers/constants/routes":5959,"../selectors":6639,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,r.useRouteMatch)({path:i,exact:!0,strict:!0}),t=((0,a.useSelector)(s.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:o.PATH_NAME_MAP[e.path],url:e.path}:undefined,referrer:n}};var a=e("react-redux"),r=e("react-router-dom"),o=e("../helpers/constants/routes"),s=e("../selectors");const i=Object.keys(o.PATH_NAME_MAP)}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[6045,{"../ducks/app/app":5929,"./useGasFeeEstimates":6029,lodash:4382,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),n=(0,r.useDispatch)(),c=(0,r.useSelector)(s.getGasLoadingAnimationIsShowing),u=(0,a.useRef)(t),l=!(0,o.isEqual)(u.current,t),d=(0,o.isEqual)(u.current,{});l&&(u.current=t);const p=e||l&&!d;(0,a.useEffect)((()=>{!1===c&&!0===p&&n((0,s.toggleGasLoadingAnimation)(!0))}),[n,c,p]),(0,a.useEffect)((()=>{let e;return c&&!p&&(e=setTimeout((()=>{n((0,s.toggleGasLoadingAnimation)(!1))}),2e3)),()=>{e&&clearTimeout(e)}}),[n,c,p])};var a=e("react"),r=e("react-redux"),o=e("lodash"),s=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[6046,{"../../shared/constants/time":5059,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:o}=e,[s={}]=n,{submittedTime:i}=s,[c,u]=(0,a.useState)((()=>Date.now()-i>5e3&&t&&!o));return(0,a.useEffect)((()=>{let e;return o||!t||c||(Date.now()-i>5*r.SECOND?u(!0):e=setTimeout((()=>{u(!0),clearTimeout(e)}),5001-(Date.now()-i))),()=>{e&&clearTimeout(e)}}),[i,c,o,t]),c};var a=e("react"),r=e("../../shared/constants/time")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[6047,{"../../shared/lib/transactions-controller-utils":5074,"../../shared/modules/swaps.utils":5104,"../selectors":6639,"./useTokenFiatAmount":6052,"@metamask/transaction-controller":2685,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:u,address:l}=t,{primaryTransaction:d,initialTransaction:p}=e,{type:f}=p,{from:m}=p.txParams||{},g=(0,a.useSelector)(i.getCurrentChainId),h=f===r.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,s.isSwapsDefaultTokenAddress)(t.address,g)&&(0,s.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,g)),y=[r.TransactionType.swap].includes(f)&&h?(0,o.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,p,l,m,u,null,g):[r.TransactionType.swap,r.TransactionType.swapAndSend].includes(f)&&d.swapTokenValue,v="string"==typeof y&&-1===Math.sign(y),b=(0,c.useTokenFiatAmount)(l,y||"",n),_=(0,c.useTokenFiatAmount)(d.sourceTokenAddress,y,d.sourceTokenSymbol);let T;y&&(h?T=b:f===r.TransactionType.swapAndSend&&(T=_));return{swapTokenValue:y,swapTokenFiatAmount:T,isViewingReceivedTokenFromSwap:h,isNegative:v}};var a=e("react-redux"),r=e("@metamask/transaction-controller"),o=e("../../shared/lib/transactions-controller-utils"),s=e("../../shared/modules/swaps.utils"),i=e("../selectors"),c=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[6048,{"../../shared/constants/preferences":5052,"../selectors":6639,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTheme=function(){const e=(0,r.useSelector)(o.getTheme),[t,n]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const t=e&&e!==s.ThemeType.os?e:document.documentElement.getAttribute("data-theme");i.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${s.ThemeType.light}".`),n(s.ThemeType.light)),n(t)}),[e]),t};var a=e("react"),r=e("react-redux"),o=e("../selectors"),s=e("../../shared/constants/preferences");const i=Object.values(s.ThemeType).filter((e=>e!==s.ThemeType.os))}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[6049,{react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const r=(0,a.useRef)(),[o,s]=(0,a.useState)(null);(0,a.useEffect)((()=>{r.current=e}),[e]),(0,a.useEffect)((()=>{if("start"!==o)return undefined;const e=setTimeout((()=>{r.current()}),t);return s(e),()=>{clearTimeout(o)}}),[t,o]);const i=(0,a.useCallback)((()=>{clearTimeout(o),s("start")}),[o]);n&&i();return i};var a=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[6050,{"../../shared/modules/transaction.utils":5105,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,a.useMemo)((()=>t&&e?(0,r.parseStandardTokenTransactionData)(e):null),[t,e])};var a=e("react"),r=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[6051,{"../../shared/lib/metamask-controller-utils":5067,"../../shared/lib/transactions-controller-utils":5074,"./useTokenData":6050,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const i=(0,s.useTokenData)(e,n),c=(0,r.getTokenValueParam)(i),u=Boolean(n&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&c);return(0,a.useMemo)((()=>u?(0,o.calcTokenAmount)(c,t.decimals).toString(10):null),[u,c,t])};var a=e("react"),r=e("../../shared/lib/metamask-controller-utils"),o=e("../../shared/lib/transactions-controller-utils"),s=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[6052,{"../../shared/modules/string-utils":5103,"../ducks/metamask/metamask":5941,"../helpers/utils/token-util":5998,"../selectors":6639,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenFiatAmount=function(e,t,n,u={},l){const d=(0,r.useSelector)(o.getTokenExchangeRates,r.shallowEqual),p=(0,r.useSelector)(o.getConfirmationExchangeRates),f={...d,...p},m=(0,r.useSelector)(i.getConversionRate),g=(0,r.useSelector)(o.getCurrentCurrency),h=(0,r.useSelector)(o.getShouldShowFiat),y=u.showFiat??h,v=Object.keys(f).find((t=>(0,c.isEqualCaseInsensitive)(t,e))),b=u.exchangeRate??(v&&f[v]),_=(0,a.useMemo)((()=>(0,s.getTokenFiatAmount)(b,m,g,t,n,!0,l)),[b,m,g,t,n,l]);if(!y||g.toUpperCase()===n)return undefined;return _};var a=e("react"),r=e("react-redux"),o=e("../selectors"),s=e("../helpers/utils/token-util"),i=e("../ducks/metamask/metamask"),c=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useTokenFiatAmount.js"}],[6053,{"../../shared/constants/time":5059,"../../shared/modules/string-utils":5103,"../selectors":6639,"./useEqualityCheck":6025,"@metamask/eth-token-tracker":1449,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:n=!1,hideZeroBalanceTokens:a=!1}){const d=(0,s.useSelector)(i.getCurrentChainId),{address:p}=(0,s.useSelector)(i.getSelectedInternalAccount,s.shallowEqual),f=t??p,[m,g]=(0,r.useState)((()=>(null==e?void 0:e.length)>=0)),[h,y]=(0,r.useState)([]),[v,b]=(0,r.useState)(null),_=(0,r.useRef)(null),T=(0,l.useEqualityCheck)(e),k=(0,r.useCallback)((e=>{const t=(a?e.filter((e=>Number(e.balance)>0)):e).map((e=>{const t=T.find((t=>(0,u.isEqualCaseInsensitive)(t.address,e.address)));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}}));y(t),g(!1),b(null)}),[a,T]),E=(0,r.useCallback)((e=>{b(e),g(!1)}),[]),w=(0,r.useCallback)((()=>{_.current&&(_.current.stop(),_.current.removeAllListeners("update"),_.current.removeAllListeners("error"),_.current=null)}),[]),C=(0,r.useCallback)(((e,t)=>{w(),_.current=new o.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:n,pollingInterval:8*c.SECOND,balanceDecimals:5}),_.current.on("update",k),_.current.on("error",E),_.current.updateBalances()}),[k,n,E,w]);return(0,r.useEffect)((()=>w),[w]),(0,r.useEffect)((()=>{g(!0),f&&d!==undefined&&global.ethereumProvider?(0===T.length&&k([]),C(f,T)):w()}),[f,w,d,T,k,C]),{loading:m,tokensWithBalances:h,error:v}};var a,r=e("react"),o=(a=e("@metamask/eth-token-tracker"))&&a.__esModule?a:{default:a},s=e("react-redux"),i=e("../selectors"),c=e("../../shared/constants/time"),u=e("../../shared/modules/string-utils"),l=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[6054,{"../../shared/constants/network":5047,"../../shared/constants/swaps":5057,"../../shared/modules/hexstring-utils":5089,"../../shared/modules/swaps.utils":5104,"../ducks/metamask/metamask":5941,"../ducks/swaps/swaps":5949,"../helpers/utils/token-util":5998,"../selectors":6639,"./useEqualityCheck":6025,"@metamask/assets-controllers":1198,"bignumber.js":3481,lodash:4382,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=v,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:a=g.TokenBucketPriority.owned}){const c=(0,o.useSelector)(l.getCurrentChainId),u=(0,o.useSelector)(l.getTokenExchangeRates,i.isEqual),m=(0,o.useSelector)(d.getConversionRate),h=(0,o.useSelector)(l.getCurrentCurrency),b=(0,o.useSelector)(l.getSwapsDefaultToken,o.shallowEqual),_=(0,o.useSelector)(l.getTokenList,i.isEqual),T=(0,y.useEqualityCheck)(t),k=(0,y.useEqualityCheck)(e),E=v(b,u,m,h,c,_),w=(0,y.useEqualityCheck)(E),C=(0,o.useSelector)(p.getSwapsTokens,i.isEqual)||[],x=C.length?C:[w,...n.filter((e=>e.symbol!==w.symbol))],M=(0,y.useEqualityCheck)(x);return(0,r.useMemo)((()=>{const e=k.reduce(((e,t)=>({...e,[t.address.toLowerCase()]:t})),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([w,...M,...k],(e=>e.address.toLowerCase())).forEach((n=>{const r=v({...e[n.address.toLowerCase()],...n},u,m,h,c,_);a===g.TokenBucketPriority.owned?(0,f.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(r):T[n.address.toLowerCase()]?t.top[T[n.address.toLowerCase()].index]=r:t.others.push(r):T[n.address.toLowerCase()]?t.top[T[n.address.toLowerCase()].index]=r:(0,f.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(r):t.others.push(r)})),t.owned=t.owned.sort((({rawFiat:e},{rawFiat:t})=>new s.default(e||0).gt(t||0)?-1:1)),t.top=t.top.filter(Boolean),a===g.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]}),[M,k,T,u,m,h,w,c,_,a])};var a,r=e("react"),o=e("react-redux"),s=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("lodash"),c=e("@metamask/assets-controllers"),u=e("../helpers/utils/token-util"),l=e("../selectors"),d=e("../ducks/metamask/metamask"),p=e("../ducks/swaps/swaps"),f=e("../../shared/modules/swaps.utils"),m=e("../../shared/modules/hexstring-utils"),g=e("../../shared/constants/swaps"),h=e("../../shared/constants/network"),y=e("./useEqualityCheck");function v(e,t,n,a,r,o){var i,l;const{symbol:d,name:p,address:g,iconUrl:y,string:v,balance:b,decimals:_}=e;let T;(0,f.isSwapsDefaultTokenSymbol)(d,r)?T=1:v&&n>0&&(T=t[(0,m.toChecksumHexAddress)(g)]);const k=(0,u.getTokenFiatAmount)(T,n,a,v,d,!0)||"",E=k?(0,u.getTokenFiatAmount)(T,n,a,v,d,!1):"",w=r===h.CHAIN_IDS.SEPOLIA?h.CHAIN_IDS.MAINNET:r,C=(d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.MAINNET||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.SEPOLIA||d===h.CURRENCY_SYMBOLS.BNB&&r===h.CHAIN_IDS.BSC||d===h.CURRENCY_SYMBOLS.MATIC&&r===h.CHAIN_IDS.POLYGON||d===h.CURRENCY_SYMBOLS.AVALANCHE&&r===h.CHAIN_IDS.AVALANCHE||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.OPTIMISM||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.ARBITRUM||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.LINEA_MAINNET||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.ZKSYNC_ERA||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.BASE?y:(0,c.formatIconUrlWithProxy)({chainId:w,tokenAddress:g||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:p||(null===(i=o[null==g?void 0:g.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:v&&`${new s.default(v).round(6).toString()} ${d}`,rightSecondaryLabel:k,iconUrl:C,identiconAddress:C?null:g,balance:b,decimals:_,name:p||(null===(l=o[null==g?void 0:g.toLowerCase()])||void 0===l?void 0:l.name),rawFiat:E}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[6055,{"../../shared/constants/transaction":5061,"../../shared/lib/metamask-controller-utils":5067,"../../shared/modules/string-utils":5103,"../ducks/metamask/metamask":5941,"../helpers/constants/common":5951,"../helpers/constants/transactions":5965,"../helpers/utils/common.util":5979,"../helpers/utils/token-util":5998,"../helpers/utils/transactions.util":5999,"../helpers/utils/util":6001,"../selectors/selectors":6647,"../store/actions":6652,"./useCurrencyDisplay":6021,"./useCurrentAsset":6023,"./useI18nContext":6031,"./useSwappedTokenValue":6047,"./useTokenData":6050,"./useTokenDisplayValue":6051,"./useTokenFiatAmount":6052,"./useUserPreferencedCurrency":6057,"@metamask/transaction-controller":2685,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,M,S,P,O,N,I;const A=(0,a.useDispatch)(),j=(0,C.useCurrentAsset)(),R=(0,a.useSelector)(f.getTokens),D=(0,a.useSelector)(f.getNfts),F=(0,a.useSelector)(s.getDetectedTokensInCurrentNetwork)||[],$=(0,a.useSelector)(s.getTokenList),B=(0,v.useI18nContext)(),{initialTransaction:L,primaryTransaction:U}=e,{type:G}=L,{from:W,to:H}=L.txParams||{},q=(0,a.useSelector)((e=>{var t;return(0,s.getKnownMethodData)(e,null==L||null===(t=L.txParams)||void 0===t?void 0:t.data)}))||{},V=(0,i.getStatusKey)(U),K=V in p.PENDING_STATUS_HASH,Y=V===o.TransactionStatus.submitted,z=(0,r.useRef)(!0),J=null===(t=U.txParams)||void 0===t?void 0:t.value,X=(0,d.formatDateWithYearContext)(L.time);let Z,Q="-",ee=!1,te=H;const ne=p.TOKEN_CATEGORY_HASH[G];let ae=null;const[re,oe]=(0,r.useState)(null);ne&&(ae=R.find((({address:e})=>(0,h.isEqualCaseInsensitive)(e,te)))||F.find((({address:e})=>(0,h.isEqualCaseInsensitive)(e,te)))||$[te.toLowerCase()]);(0,r.useEffect)((()=>()=>{z.current=!1}),[]),(0,r.useEffect)((()=>{!async function(){if(ne&&!ae){var e;const t=await(0,l.getAssetDetails)(H,W,null==L||null===(e=L.txParams)||void 0===e?void 0:e.data,D);!0===z.current&&oe(t)}}()}),[ne,ae,te,W,null==L||null===(n=L.txParams)||void 0===n?void 0:n.data,D,H,z]),re&&(ae={address:re.toAddress,symbol:re.symbol,decimals:re.decimals});const se=(0,E.useTokenData)(null==L||null===(M=L.txParams)||void 0===M?void 0:M.data,ne),ie=(0,l.getTokenIdParam)(se)??(0,y.getTokenValueParam)(se),ce=ne&&D.find((({address:e,tokenId:t})=>(0,h.isEqualCaseInsensitive)(e,te)&&t===ie)),ue=(0,k.useTokenDisplayValue)(null==U||null===(S=U.txParams)||void 0===S?void 0:S.data,ae,ne),le=(0,b.useTokenFiatAmount)(null===(P=ae)||void 0===P?void 0:P.address,ue,null===(O=ae)||void 0===O?void 0:O.symbol),de=(0,d.stripHttpSchemes)(L.origin||(null===(N=L.msgParams)||void 0===N?void 0:N.origin)||"");let pe,fe,me=ne?null===(I=ae)||void 0===I?void 0:I.symbol:undefined,ge=ne?ue:undefined,he=ne?le:undefined;const{swapTokenValue:ye,isNegative:ve,swapTokenFiatAmount:be,isViewingReceivedTokenFromSwap:_e}=(0,w.useSwappedTokenValue)(e,j);if(x.includes(G))pe=m.TransactionGroupCategory.signatureRequest,fe=B("signatureRequest"),Z=de,ee=!0;else if(G===o.TransactionType.swap)pe=m.TransactionGroupCategory.swap,fe=B("swapTokenToToken",[L.sourceTokenSymbol,L.destinationTokenSymbol]),Z=de,ee=!0,me=_e?j.symbol:L.sourceTokenSymbol,ge=ye,he=be,Q=ve?"":_e?"+":"-";else if(G===o.TransactionType.swapAndSend){const e=L.swapAndSendRecipient===W;te=L.swapAndSendRecipient,pe=m.TransactionGroupCategory.swapAndSend,fe=B("sendTokenAsToken",[L.sourceTokenSymbol,L.destinationTokenSymbol]),Z=de,ee=!0,me=_e&&e?j.symbol:L.sourceTokenSymbol,ge=ye,he=be,Q=ve?"":_e&&e?"+":"-"}else if(G===o.TransactionType.swapApproval)pe=m.TransactionGroupCategory.approval,fe=B("swapApproval",[U.sourceTokenSymbol]),Z=de,ee=!0,me=U.sourceTokenSymbol;else if(G===o.TransactionType.tokenMethodApprove){var Te;pe=m.TransactionGroupCategory.approval,Q="",fe=B("approveSpendingCap",[(null===(Te=ae)||void 0===Te?void 0:Te.symbol)||B("token").toLowerCase()]),Z=de,ee=!0}else if(G===o.TransactionType.tokenMethodSetApprovalForAll){var ke;pe=m.TransactionGroupCategory.approval,Q="",fe=B("setApprovalForAllTitle",[(null===(ke=ae)||void 0===ke?void 0:ke.symbol)||B("token")]),Z=de,ee=!0}else if(G===o.TransactionType.tokenMethodIncreaseAllowance){var Ee;pe=m.TransactionGroupCategory.approval,Q="",fe=B("approveIncreaseAllowance",[(null===(Ee=ae)||void 0===Ee?void 0:Ee.symbol)||B("token")]),Z=de,ee=!0}else if(G===o.TransactionType.contractInteraction){pe=m.TransactionGroupCategory.interaction;const e=(0,i.getTransactionTypeTitle)(B,G);fe=(null==q?void 0:q.name)&&(0,c.camelCaseToCapitalize)(q.name)||e,Z=de,ee=!0}else if(G===o.TransactionType.deployContract)pe=m.TransactionGroupCategory.interaction,fe=(0,i.getTransactionTypeTitle)(B,G),Z=de,ee=!0;else if(G===o.TransactionType.incoming)pe=m.TransactionGroupCategory.receive,fe=B("receive"),Q="",Z=B("fromAddress",[(0,d.shortenAddress)(W)]);else if(G===o.TransactionType.tokenMethodTransferFrom||G===o.TransactionType.tokenMethodTransfer){var we;pe=m.TransactionGroupCategory.send,fe=B("sendSpecifiedTokens",[(null===(we=ae)||void 0===we?void 0:we.symbol)||(null==ce?void 0:ce.name)||B("token")]),te=(0,l.getTokenAddressParam)(se),Z=B("toAddress",[(0,d.shortenAddress)(te)])}else G===o.TransactionType.tokenMethodSafeTransferFrom?(pe=m.TransactionGroupCategory.send,fe=B("safeTransferFrom"),te=(0,l.getTokenAddressParam)(se),Z=B("toAddress",[(0,d.shortenAddress)(te)])):G===o.TransactionType.simpleSend?(pe=m.TransactionGroupCategory.send,fe=B("send"),Z=B("toAddress",[(0,d.shortenAddress)(te)])):A((0,g.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${G}`));const Ce=(0,_.useUserPreferencedCurrency)(u.PRIMARY),xe=(0,_.useUserPreferencedCurrency)(u.SECONDARY),[Me]=(0,T.useCurrencyDisplay)(J,{prefix:Q,displayValue:ge,suffix:me,...Ce}),[Se]=(0,T.useCurrencyDisplay)(J,{prefix:Q,displayValue:he,hideLabel:ne||Boolean(ye),...xe});return{title:fe,category:pe,date:X,subtitle:Z,subtitleContainsOrigin:ee,primaryCurrency:G===o.TransactionType.swap&&K?"":Me,senderAddress:W,recipientAddress:te,secondaryCurrency:ne&&!le||[o.TransactionType.swap,o.TransactionType.swapAndSend].includes(G)&&!be?undefined:Se,displayedStatusKey:V,isPending:K,isSubmitted:Y}};var a=e("react-redux"),r=e("react"),o=e("@metamask/transaction-controller"),s=e("../selectors/selectors"),i=e("../helpers/utils/transactions.util"),c=e("../helpers/utils/common.util"),u=e("../helpers/constants/common"),l=e("../helpers/utils/token-util"),d=e("../helpers/utils/util"),p=e("../helpers/constants/transactions"),f=e("../ducks/metamask/metamask"),m=e("../../shared/constants/transaction"),g=e("../store/actions"),h=e("../../shared/modules/string-utils"),y=e("../../shared/lib/metamask-controller-utils"),v=e("./useI18nContext"),b=e("./useTokenFiatAmount"),_=e("./useUserPreferencedCurrency"),T=e("./useCurrencyDisplay"),k=e("./useTokenDisplayValue"),E=e("./useTokenData"),w=e("./useSwappedTokenValue"),C=e("./useCurrentAsset");const x=[null,undefined,o.TransactionType.sign,o.TransactionType.personalSign,o.TransactionType.signTypedData,o.TransactionType.ethDecrypt,o.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[6056,{"../../shared/modules/hexstring-utils":5089,"../components/app/snaps/snap-insight/snap-insight":5343,"../components/ui/tabs":5889,"../components/ui/tabs/snaps/dropdown-tab":5891,"../helpers/utils/util":6001,"../selectors":6639,"../store/actions":6652,"./snaps/useTransactionInsightSnaps":6015,"@metamask/transaction-controller":2685,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../shared/modules/hexstring-utils"),c=e("../components/ui/tabs"),u=(a=e("../components/ui/tabs/snaps/dropdown-tab"))&&a.__esModule?a:{default:a},l=e("../components/app/snaps/snap-insight/snap-insight"),d=e("../selectors"),p=e("../store/actions"),f=e("../helpers/utils/util"),m=e("./snaps/useTransactionInsightSnaps");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.default=({txData:e})=>{var t;const n=(0,o.useDispatch)(),{txParams:a,chainId:g,origin:h}=e,y=`eip155:${(0,i.stripHexPrefix)(g)}`,v=(0,o.useSelector)(d.getInsightSnaps),b=(0,o.useSelector)(d.getInsightSnapIds),_=(0,o.useSelector)(d.getSnapsMetadata),T=(0,f.getSnapName)(_),[k,E]=(0,r.useState)(null===(t=v[0])||void 0===t?void 0:t.id),w={transaction:a,chainId:y,origin:h,insightSnaps:b},{data:C,loading:x,warnings:M}=(0,m.useTransactionInsightSnaps)(w);if((0,r.useEffect)((()=>{b.length>0&&!k&&E(b[0])}),[b,k,E]),(0,r.useEffect)((()=>()=>{null==C||C.map((({response:e})=>(null==e?void 0:e.id)&&n((0,p.deleteInterface)(e.id))))}),[C]),(S=e.type)!==s.TransactionType.contractInteraction&&S!==s.TransactionType.simpleSend&&S!==s.TransactionType.tokenMethodSafeTransferFrom&&S!==s.TransactionType.tokenMethodTransferFrom&&S!==s.TransactionType.tokenMethodTransfer||!v.length)return null;var S;const P=v.find((({id:e})=>e===k));let O;if(1===v.length)O=r.default.createElement(c.Tab,{className:"confirm-page-container-content__tab",name:T(P.id)},r.default.createElement(l.SnapInsight,{snapId:k,data:null==C?void 0:C[0],loading:x}));else if(v.length>1){const e=null==v?void 0:v.map((({id:e})=>({value:e,name:T(e)}))),t=null==C?void 0:C.find((e=>(null==e?void 0:e.snapId)===k));O=r.default.createElement(u.default,{className:"confirm-page-container-content__tab",options:e,selectedOption:k,onChange:e=>E(e)},r.default.createElement(l.SnapInsight,{snapId:k,loading:x,data:t}))}return{insightComponent:O,warnings:M}}}}},{package:"$root$",file:"ui/hooks/useTransactionInsights.js"}],[6057,{"../../shared/constants/common":5033,"../constants":5914,"../helpers/constants/common":5951,"../selectors":6639,"../selectors/multichain":6644,"./useMultichainSelector":6036,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={}){const n=(0,a.useSelector)(r.getSelectedInternalAccount),l=t.account??n,d=(0,u.useMultichainSelector)(o.getMultichainNativeCurrency,l),{useNativeCurrencyAsPrimaryCurrency:p}=(0,a.useSelector)(r.getPreferences,a.shallowEqual),f=(0,u.useMultichainSelector)(o.getMultichainShouldShowFiat,l),m={currency:(0,u.useMultichainSelector)(o.getMultichainCurrentCurrency,l),numberOfDecimals:t.numberOfDecimals||t.fiatNumberOfDecimals||2},g={currency:d||i.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||c.ETH_DEFAULT_DECIMALS};if(t.showNativeOverride)return g;if(t.showFiatOverride)return m;if(!f||e===s.PRIMARY&&p||e===s.SECONDARY&&!p)return g;return m};var a=e("react-redux"),r=e("../selectors"),o=e("../selectors/multichain"),s=e("../helpers/constants/common"),i=e("../../shared/constants/common"),c=e("../constants"),u=e("./useMultichainSelector")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[6058,{"../app/scripts/constants/sentry-state":7,"../app/scripts/lib/util":128,"../shared/constants/alerts":5030,"../shared/constants/app":5031,"../shared/constants/copy":5034,"../shared/lib/error-utils":5064,"../shared/lib/switch-direction":5071,"../shared/lib/trace":5073,"../shared/modules/object.utils":5094,"./ducks/alerts":5926,"./ducks/metamask/metamask":5941,"./helpers/utils/tx-helper":6e3,"./pages":6398,"./selectors":6639,"./store/actions":6652,"./store/background-connection":6653,"./store/store":6654,"copy-to-clipboard":3637,lodash:4382,loglevel:4388,react:4779,"react-dom":4605,"webextension-polyfill":5010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){const{backgroundConnection:n,traceContext:a}=e;(0,y.trace)({name:y.TraceName.GetState,parentContext:a}),n.getState((function(a,r){(0,y.endTrace)({name:y.TraceName.GetState}),a?t(a,{...r},n):async function(e,t,n){const{traceContext:a}=n,r=await(0,y.trace)({name:y.TraceName.SetupStore,parentContext:a},(()=>O(e,t,n.activeTab)));return global.metamask={updateCurrentLocale:e=>{r.dispatch(v.updateCurrentLocale(e))},setProviderType:e=>{r.dispatch(v.setProviderType(e))},setFeatureFlag:(e,t)=>{r.dispatch(v.setFeatureFlag(e,t))}},await(0,y.trace)({name:y.TraceName.InitialActions,parentContext:a},(async()=>{const e=r.getState(),t=(0,_.getNetworkToAutomaticallySwitchTo)(e);if(t?await r.dispatch(v.automaticallySwitchNetwork(t,(0,_.getOriginOfCurrentTab)(e))):(0,_.getSwitchedNetworkDetails)(e)&&await r.dispatch(v.clearSwitchedNetworkDetails()),(0,_.getUseRequestQueue)(e)&&(0,u.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){const e=Date.now();global.metamask.id=e,await r.dispatch(v.setCurrentExtensionPopupId(e))}})),(0,y.trace)({name:y.TraceName.FirstRender,parentContext:a},(()=>(0,i.render)(s.default.createElement(E.default,{store:r}),n.container))),(0,y.endTrace)({name:y.TraceName.UIStartup}),r}(r,n,e).then((e=>{!function(e){0;window.stateHooks.getCleanAppState=async function(){const t=(0,o.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t.completeTxList=await v.getTransactions({filterToCurrentNetwork:!1}),t},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,d.maskObject)(t,p.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:n}=t.metamask;return Object.values(n).sort(((e,t)=>e.timestamp-t.timestamp))}}(e),t(null,e)}))}))},n.setupInitialStore=O,n.updateBackgroundConnection=void 0;var a=M(e("copy-to-clipboard")),r=M(e("loglevel")),o=e("lodash"),s=M(e("react")),i=e("react-dom"),c=M(e("webextension-polyfill")),u=e("../app/scripts/lib/util"),l=e("../shared/constants/alerts"),d=e("../shared/modules/object.utils"),p=e("../app/scripts/constants/sentry-state"),f=e("../shared/constants/app"),m=e("../shared/constants/copy"),g=M(e("../shared/lib/switch-direction")),h=e("../shared/lib/error-utils"),y=e("../shared/lib/trace"),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./store/actions")),b=M(e("./store/store")),_=e("./selectors"),T=e("./ducks/alerts"),k=e("./ducks/metamask/metamask"),E=M(e("./pages")),w=M(e("./helpers/utils/tx-helper")),C=e("./store/background-connection");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function M(e){return e&&e.__esModule?e:{default:e}}let S;r.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const P=e=>{(0,C.setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);S.dispatch(v.updateMetamaskState(e.params[0]))}))};async function O(e,t,n){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:a,enLocaleMessages:r}=await(0,h.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,g.default)("rtl");const o={activeTab:n,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:a,en:r}};if(P(t),(0,u.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){var s;const{origin:e}=o.activeTab,t=(0,_.getPermittedAccountsForCurrentTab)(o),n=(null===(s=(0,_.getSelectedInternalAccount)(o))||void 0===s?void 0:s.address)??"",a=(0,k.getUnconnectedAccountAlertShown)(o),r=(0,k.getUnconnectedAccountAlertEnabledness)(o);e&&r&&!a[e]&&t.length>0&&!t.includes(n)&&(o[l.AlertTypes.unconnectedAccount]={state:T.ALERT_STATE.OPEN},v.setUnconnectedAccountAlertShown(e))}const i=(0,b.default)(o);S=i;const c=(0,_.getUnapprovedTransactions)(e),d=(0,w.default)(c,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,e.providerConfig.chainId);return d.length>0&&i.dispatch(v.showConfTxPage({id:d[0].id})),i}n.updateBackgroundConnection=P,window.metamaskFeatureFlags={networkMenuRedesign:Boolean("")},window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),n=window.stateHooks.getLogs();c.default.runtime.getPlatformInfo().then((a=>{t.platform=a,t.logs=n;const r=JSON.stringify(t,null,2);e(null,r)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,a.default)(n,m.COPY_OPTIONS),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$",file:"ui/index.js"}],[6059,{"../../../shared/modules/string-utils":5103,"../../components/app/assets/nfts/nft-details/nft-details":5141,"../../ducks/metamask/metamask":5941,"../../helpers/constants/routes":5959,"./components/native-asset":6066,"./components/token-asset":6067,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../shared/modules/string-utils"),i=p(e("../../components/app/assets/nfts/nft-details/nft-details")),c=e("../../ducks/metamask/metamask"),u=e("../../helpers/constants/routes"),l=p(e("./components/native-asset")),d=p(e("./components/token-asset"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useSelector)(c.getNativeCurrency),t=(0,r.useSelector)(c.getTokens),n=(0,r.useSelector)(c.getNfts),{asset:p,id:f}=(0,o.useParams)(),m=t.find((({address:e})=>(0,s.isEqualCaseInsensitive)(e,p))),g=n.find((({address:e,tokenId:t})=>(0,s.isEqualCaseInsensitive)(e,p)&&f===t.toString()));let h;return(0,a.useEffect)((()=>{const e=document.querySelector(".app");null==e||e.scroll(0,0)}),[]),h=g?a.default.createElement(i.default,{nft:g}):m?a.default.createElement(d.default,{token:m}):p===e?a.default.createElement(l.default,null):a.default.createElement(o.Redirect,{to:{pathname:u.DEFAULT_ROUTE}}),a.default.createElement("div",{className:"main-container asset__container"},h)}}}},{package:"$root$",file:"ui/pages/asset/asset.tsx"}],[6060,{"../../../components/component-library":5534,"../../../components/ui/menu":5857,"../../../contexts/i18n":5917,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../selectors":6639,"prop-types":4529,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("react-router-dom"),i=e("react-redux"),c=e("../../../contexts/i18n"),u=e("../../../components/ui/menu"),l=e("../../../selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../components/component-library"),f=e("../../../helpers/constants/design-system");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const g=({onRemove:e,onClickBlockExplorer:t,onViewTokenDetails:n,tokenSymbol:a,isNativeAsset:o})=>{const m=(0,r.useContext)(c.I18nContext),[g,h]=(0,r.useState)(!1),y=(0,s.useHistory)(),v=(0,i.useSelector)(l.getBlockExplorerLinkText),b=(0,r.useRef)(!1);return r.default.createElement("div",{ref:b},r.default.createElement(p.ButtonIcon,{className:"asset-options__button","data-testid":"asset-options__button",onClick:()=>h(!0),ariaLabel:m("assetOptions"),iconName:p.IconName.MoreVertical,color:f.Color.textDefault,size:p.ButtonIconSize.Sm}),g?r.default.createElement(u.Menu,{anchorElement:b.current,onHide:()=>h(!1)},r.default.createElement(u.MenuItem,{iconName:p.IconName.Export,"data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===v.firstPart?()=>{y.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{h(!1),t()}},m(v.firstPart,""===v.secondPart?null:[m("blockExplorerAssetAction")])),o?null:r.default.createElement(u.MenuItem,{iconName:p.IconName.Trash,"data-testid":"asset-options__hide",onClick:()=>{h(!1),e()}},m("hideTokenSymbol",[a])),o||!n?null:r.default.createElement(u.MenuItem,{iconName:p.IconName.Info,"data-testid":"asset-options__token-details",onClick:()=>{h(!1),n()}},m("tokenDetails"))):null)};g.propTypes={isNativeAsset:o.default.bool,onClickBlockExplorer:o.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&"function"!=typeof e.onRemove)throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:o.default.func,tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};n.default=g}}},{package:"$root$",file:"ui/pages/asset/components/asset-options.js"}],[6061,{"../../../../shared/constants/transaction":5061,"../../../../shared/modules/hexstring-utils":5089,"../../../components/app/assets/token-cell":5150,"../../../components/app/transaction-list":5454,"../../../components/app/wallet-overview/coin-buttons":5460,"../../../components/component-library":5534,"../../../components/multichain":5678,"../../../ducks/metamask/metamask":5941,"../../../ducks/ramps":5943,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../helpers/utils/confirm-tx.util":5980,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../util":6071,"./chart/asset-chart":6063,"./token-buttons":6068,"@metamask/keyring-api":1622,lodash:4382,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=C(e("react")),r=e("react-router-dom"),o=e("react-redux"),s=e("@metamask/keyring-api"),i=e("lodash"),c=e("../../../selectors"),u=e("../../../helpers/constants/design-system"),l=e("../../../components/component-library"),d=e("../../../helpers/utils/confirm-tx.util"),p=e("../../../hooks/useI18nContext"),f=e("../../../components/multichain"),m=e("../../../../shared/constants/transaction"),g=C(e("../../../components/app/assets/token-cell")),h=C(e("../../../components/app/transaction-list")),y=e("../util"),v=e("../../../helpers/constants/routes"),b=e("../../../ducks/metamask/metamask"),_=e("../../../../shared/modules/hexstring-utils"),T=C(e("../../../components/app/wallet-overview/coin-buttons")),k=e("../../../ducks/ramps"),E=C(e("./chart/asset-chart")),w=C(e("./token-buttons"));function C(e){return e&&e.__esModule?e:{default:e}}function x(e,t){return a.default.createElement(l.Box,{display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween},a.default.createElement(l.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodyMdMedium},e),t)}n.default=({asset:e,optionsButton:t})=>{var n,C;const M=(0,p.useI18nContext)(),S=(0,r.useHistory)(),P=(0,o.useSelector)(c.getCurrentCurrency),O=(0,o.useSelector)(b.getConversionRate),N=(0,o.useSelector)(c.getTokensMarketData),I=(0,o.useSelector)(c.getIsBridgeChain),A=(0,o.useSelector)(k.getIsNativeTokenBuyable),j=(0,o.useSelector)(c.getSwapsDefaultToken,i.isEqual),R=(0,o.useSelector)(c.getSelectedInternalAccount,i.isEqual),D=(0,o.useSelector)(c.getIsSwapsChain),F=R.methods.includes(s.EthMethod.SignTransaction)||R.methods.includes(s.EthMethod.SignUserOperation),{chainId:$,type:B,symbol:L,name:U,image:G,balance:W}=e,H=B===m.AssetType.token?(0,_.toChecksumHexAddress)(e.address):"0x0000000000000000000000000000000000000000",q=null==N?void 0:N[H],V=O!==undefined&&(null==q?void 0:q.price)!==undefined?O*q.price:undefined;return a.default.createElement(l.Box,{marginLeft:"auto",marginRight:"auto",marginTop:4,className:"asset__content"},a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,paddingLeft:2,paddingRight:4,paddingBottom:1},a.default.createElement(l.Box,{display:u.Display.Flex},a.default.createElement(l.ButtonIcon,{color:u.IconColor.iconAlternative,marginRight:1,size:l.ButtonIconSize.Sm,ariaLabel:M("back"),iconName:l.IconName.ArrowLeft,onClick:()=>S.push(v.DEFAULT_ROUTE)}),a.default.createElement(l.Text,{"data-testid":"asset-name",color:u.TextColor.textAlternative},U&&L&&U!==L?`${U} (${L})`:U??L)),t),a.default.createElement(E.default,{chainId:$,address:H,currentPrice:V,currency:P}),a.default.createElement(l.Box,{marginTop:4},B===m.AssetType.native?a.default.createElement(T.default,{isBuyableChain:A,isSigningEnabled:F,isSwapsChain:D,isBridgeChain:I,chainId:$,defaultSwapsToken:j}):a.default.createElement(w.default,{token:e})),a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,paddingTop:5},a.default.createElement(l.Text,{variant:u.TextVariant.headingMd,paddingBottom:2,paddingLeft:4},M("yourBalance")),B===m.AssetType.native?a.default.createElement(f.TokenListItem,{title:L,tokenSymbol:L,primary:`${W.display} ${L}`,secondary:W.fiat,tokenImage:G,isOriginalTokenSymbol:e.isOriginalNativeSymbol,isNativeCurrency:!0}):a.default.createElement(g.default,{address:H,image:G,symbol:L,string:W.display}),a.default.createElement(l.Box,{marginTop:2,display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:7},B===m.AssetType.token&&a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,paddingLeft:4,paddingRight:4},a.default.createElement(l.Text,{variant:u.TextVariant.headingMd,paddingBottom:4},M("tokenDetails")),x(M("contractAddress"),a.default.createElement(f.AddressCopyButton,{address:H,shorten:!0})),a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:2},e.decimals!==undefined&&x(M("tokenDecimal"),a.default.createElement(l.Text,null,e.decimals)),e.aggregators&&(null===(n=e.aggregators)||void 0===n?void 0:n.length)>0&&a.default.createElement(l.Box,null,a.default.createElement(l.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodyMdMedium},M("tokenList")),a.default.createElement(l.Text,null,null===(C=e.aggregators)||void 0===C?void 0:C.join(", "))))),O>0&&((null==q?void 0:q.marketCap)>0||(null==q?void 0:q.totalVolume)>0||(null==q?void 0:q.circulatingSupply)>0||(null==q?void 0:q.allTimeHigh)>0||(null==q?void 0:q.allTimeLow)>0)&&a.default.createElement(l.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(l.Text,{variant:u.TextVariant.headingMd,paddingBottom:4},M("marketDetails")),a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:2},(null==q?void 0:q.marketCap)>0&&x(M("marketCap"),a.default.createElement(l.Text,{"data-testid":"asset-market-cap"},(0,y.localizeLargeNumber)(M,O*q.marketCap))),(null==q?void 0:q.totalVolume)>0&&x(M("totalVolume"),a.default.createElement(l.Text,null,(0,y.localizeLargeNumber)(M,O*q.totalVolume))),(null==q?void 0:q.circulatingSupply)>0&&x(M("circulatingSupply"),a.default.createElement(l.Text,null,(0,y.localizeLargeNumber)(M,q.circulatingSupply))),(null==q?void 0:q.allTimeHigh)>0&&x(M("allTimeHigh"),a.default.createElement(l.Text,null,(0,d.formatCurrency)(""+O*q.allTimeHigh,P,(0,y.getPricePrecision)(O*q.allTimeHigh)))),(null==q?void 0:q.allTimeLow)>0&&x(M("allTimeLow"),a.default.createElement(l.Text,null,(0,d.formatCurrency)(""+O*q.allTimeLow,P,(0,y.getPricePrecision)(O*q.allTimeLow)))))),a.default.createElement(l.Box,{marginBottom:8},a.default.createElement(l.Text,{paddingLeft:4,paddingRight:4,variant:u.TextVariant.headingMd},M("yourActivity")),B===m.AssetType.native?a.default.createElement(h.default,{hideTokenTransactions:!0}):a.default.createElement(h.default,{tokenAddress:H})))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-page.tsx"}],[6062,{"../../../components/component-library":5534,"../../../helpers/constants/design-system":5953,"../../../helpers/utils/confirm-tx.util":5980,"../util":6071,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../helpers/constants/design-system"),o=e("../../../components/component-library"),s=e("../../../helpers/utils/confirm-tx.util"),i=e("../util");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=a.default.createElement("svg",{className:"chart-up",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M9.75 3.8125L6.25 7.4875L4.91667 5.3875L2.25 8.1875","stroke-linecap":"round","stroke-linejoin":"round"}),a.default.createElement("path",{d:"M8.08398 3.8125H9.75065V5.5625","stroke-linecap":"round","stroke-linejoin":"round"})),l=a.default.createElement("svg",{className:"chart-down",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M9.75 8.1875L6.25 4.5125L4.91667 6.6125L2.25 3.8125","stroke-linecap":"round","stroke-linejoin":"round"}),a.default.createElement("path",{d:"M8.08398 8.1875H9.75065V6.4375","stroke-linecap":"round","stroke-linejoin":"round"})),d=(0,a.forwardRef)(((e,t)=>{const[{price:n,date:c},d]=(0,a.useState)({price:e.price,date:e.date});(0,a.useImperativeHandle)(t,(()=>({setPrice:d})));const{loading:p,currency:f,comparePrice:m}=e,g=n!==undefined&&m!==undefined?n-m:undefined;return a.default.createElement(o.Box,{marginLeft:4,marginRight:4},a.default.createElement(o.Text,{"data-testid":"asset-hovered-price",style:{width:"100px"},variant:r.TextVariant.headingLg,borderRadius:r.BorderRadius.LG,marginBottom:1,backgroundColor:p&&!n?r.BackgroundColor.backgroundAlternative:r.BackgroundColor.transparent},n?(0,s.formatCurrency)(`${n}`,f,(0,i.getPricePrecision)(n)):"Â "),a.default.createElement(o.Box,null,g!==undefined&&m!==undefined?a.default.createElement(o.Box,{style:{opacity:p?i.loadingOpacity:1}},g>=0?u:l,a.default.createElement(o.Text,{display:r.Display.InlineBlock,variant:r.TextVariant.bodyMdMedium,marginLeft:1,marginRight:1,color:g>=0?r.TextColor.successDefault:r.TextColor.errorDefault},(0,s.formatCurrency)(`${Math.abs(g)}`,f,(0,i.getPricePrecision)(g))," ","(",g>=0?"+":"",(g/m*100).toFixed(2),"%)"),a.default.createElement(o.Text,{display:r.Display.InlineBlock,variant:r.TextVariant.bodyMdMedium,color:r.TextColor.textAlternative},(0,i.getShortDateFormatter)().format(c))):a.default.createElement(o.Text,{style:{width:"200px"},backgroundColor:p?r.BackgroundColor.backgroundAlternative:r.BackgroundColor.transparent,borderRadius:r.BorderRadius.LG,variant:r.TextVariant.bodyMdMedium},"Â ")))}));n.default=d}}},{package:"$root$",file:"ui/pages/asset/components/asset-price.tsx"}],[6063,{"../../../../components/component-library":5534,"../../../../helpers/constants/design-system":5953,"../../../../hooks/useI18nContext":6031,"../../../../hooks/useTheme":6048,"../../useHistoricalPrices":6070,"../../util":6071,"../asset-price":6062,"./chart-tooltip":6064,"./crosshair-plugin":6065,"@metamask/design-tokens":1272,"chart.js":3594,classnames:3599,react:4779,"react-chartjs-2":4601},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("chart.js"),o=e("react-chartjs-2"),s=y(e("classnames")),i=e("@metamask/design-tokens"),c=e("../../../../hooks/useTheme"),u=e("../../../../helpers/constants/design-system"),l=e("../../../../components/component-library"),d=e("../../../../hooks/useI18nContext"),p=e("../../useHistoricalPrices"),f=e("../../util"),m=y(e("../asset-price")),g=y(e("./chart-tooltip")),h=e("./crosshair-plugin");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}r.Chart.register(r.LinearScale,r.PointElement,r.LineElement,r.Filler,r.Decimation,h.CrosshairPlugin);const _={normalized:!0,parsing:!1,aspectRatio:2.9,layout:{autoPadding:!1,padding:0},animation:{duration:0},fill:!0,backgroundColor:({chart:e})=>{const t=e.ctx.createLinearGradient(0,0,0,e.height);return t.addColorStop(0,`${e.options.borderColor}60`),t.addColorStop(1,`${e.options.borderColor}00`),t},elements:{line:{borderWidth:2},point:{pointStyle:!1}},plugins:{decimation:{algorithm:"lttb",samples:150,threshold:150,enabled:!0}}};n.default=({chainId:e,address:t,currentPrice:n,currency:r})=>{var h;const y=(0,d.useI18nContext)(),v=(0,c.useTheme)(),[T,k]=(0,a.useState)("1D"),E=(0,a.useRef)(),w=(0,a.useRef)(),{loading:C,data:{prices:x,edges:M}}=(0,p.useHistoricalPrices)({chainId:e,address:t,currency:r,timeRange:T}),{xMin:S,xMax:P,yMin:O,yMax:N}=M??{},I={..._,borderColor:"dark"===v?i.brandColor.blue400:i.brandColor.blue500,scales:{x:{min:null==S?void 0:S.x,max:null==P?void 0:P.x,display:!1,type:"linear"},y:{min:null==O?void 0:O.y,max:null==N?void 0:N.y,display:!1}}};return n&&(C||x)?a.default.createElement(l.Box,{borderRadius:u.BorderRadius.LG},a.default.createElement(m.default,{ref:w,loading:C,currency:r,price:n,date:Date.now(),comparePrice:null==x||null===(h=x[0])||void 0===h?void 0:h.y}),a.default.createElement(l.Box,{"data-testid":"asset-price-chart",marginTop:4,borderRadius:u.BorderRadius.LG,backgroundColor:C&&!x?u.BackgroundColor.backgroundAlternative:u.BackgroundColor.transparent},a.default.createElement(l.Box,{style:{opacity:C&&x?f.loadingOpacity:1}},a.default.createElement(g.default,b({point:N},M,{currency:r})),a.default.createElement(l.Box,{style:{aspectRatio:`${I.aspectRatio}`},display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:n?u.JustifyContent.flexEnd:u.JustifyContent.flexStart},a.default.createElement(o.Line,{ref:E,data:{datasets:[{data:x}]},options:I,updateMode:"none",onMouseMove:e=>{var t;const n=null==E||null===(t=E.current)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.datasets)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.data;if(n){const t=e.target,r=n[Math.max(0,Math.min(n.length-1,Math.round(e.nativeEvent.offsetX/t.clientWidth*n.length)))];var a;if(r)null==w||null===(a=w.current)||void 0===a||a.setPrice({price:r.y,date:r.x})}},onMouseOut:()=>{var e;null==w||null===(e=w.current)||void 0===e||e.setPrice({price:n,date:Date.now()})}})),a.default.createElement(g.default,b({point:O},M,{currency:r}))),a.default.createElement(l.Box,{style:x?undefined:{visibility:"hidden"},display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,marginTop:4,marginLeft:4,marginRight:4},[[y("oneDayAbbreviation"),"1D"],[y("oneWeekAbbreviation"),"7D"],[y("oneMonthAbbreviation"),"1M"],[y("threeMonthsAbbreviation"),"3M"],[y("oneYearAbbreviation"),"1Y"],[y("all"),"1000Y"]].map((([e,t])=>a.default.createElement(l.ButtonBase,{key:t,className:(0,s.default)("time-range-button",{"time-range-button__selected":t===T}),onClick:()=>k(t),variant:u.TextVariant.bodySmMedium,size:l.ButtonBaseSize.Sm,backgroundColor:u.BackgroundColor.transparent,color:u.TextColor.textAlternative},e)))))):null}}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart.tsx"}],[6064,{"../../../../components/component-library":5534,"../../../../helpers/constants/design-system":5953,"../../../../helpers/utils/confirm-tx.util":5980,"../../util":6071,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../components/component-library"),s=e("../../../../helpers/utils/confirm-tx.util"),i=e("../../../../helpers/constants/design-system"),c=e("../../util");n.default=({point:e,xMin:t,xMax:n,currency:a})=>{const u=e&&t&&n?(e.x-t.x)/(n.x-t.x):0;return r.default.createElement(o.Box,{style:{...u<.5?{paddingRight:100-200*u+"%"}:{paddingLeft:100-2*(100-100*u)+"%"},direction:u<.5?o.TextDirection.LeftToRight:o.TextDirection.RightToLeft}},r.default.createElement(o.Text,{variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},(null==e?void 0:e.y)===undefined?"Â ":(0,s.formatCurrency)(`${null==e?void 0:e.y}`,a,(0,c.getPricePrecision)(null==e?void 0:e.y))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/chart-tooltip.tsx"}],[6065,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CrosshairPlugin=void 0;n.CrosshairPlugin={id:"crosshair",afterEvent(e,{event:t}){e.crosshairX="mouseout"===t.type?undefined:t.x??undefined,e.draw()},afterDraw(e){if(e.crosshairX!==undefined){const t=e.data.datasets[0].data,n=t[Math.max(0,Math.min(t.length-1,Math.round(e.crosshairX/e.width*t.length)))];if(n){const{x:t,y:a}=e.scales,r=t.getPixelForValue(n.x),o=a.getPixelForValue(n.y);e.ctx.lineWidth=1,e.ctx.strokeStyle="#BBC0C5",e.ctx.beginPath(),e.ctx.moveTo(r,0),e.ctx.lineTo(r,e.height),e.ctx.stroke(),e.ctx.beginPath(),e.ctx.arc(r,o,3,0,2*Math.PI),e.ctx.fillStyle=e.options.borderColor,e.ctx.fill()}}}}}}},{package:"$root$",file:"ui/pages/asset/components/chart/crosshair-plugin.ts"}],[6066,{"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/transaction":5061,"../../../../shared/modules/conversion.utils":5081,"../../../contexts/metametrics":5920,"../../../ducks/metamask/metamask":5941,"../../../helpers/utils/util":6001,"../../../hooks/useCurrencyDisplay":6021,"../../../hooks/useIsOriginalNativeTokenSymbol":6032,"../../../selectors":6639,"./asset-options":6060,"./asset-page":6061,"@metamask/etherscan-link":1460,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/etherscan-link"),s=e("../../../selectors"),i=e("../../../hooks/useCurrencyDisplay"),c=e("../../../ducks/metamask/metamask"),u=e("../../../../shared/constants/transaction"),l=e("../../../hooks/useIsOriginalNativeTokenSymbol"),d=e("../../../../shared/constants/metametrics"),p=e("../../../helpers/utils/util"),f=e("../../../contexts/metametrics"),m=e("../../../../shared/modules/conversion.utils"),g=y(e("./asset-options")),h=y(e("./asset-page"));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useSelector)(c.getNativeCurrency),t=(0,r.useSelector)(s.getSelectedAccountCachedBalance),n=(0,r.useSelector)(s.getNativeCurrencyImage),y=(0,r.useSelector)(s.getShouldShowFiat),v=(0,r.useSelector)(s.getCurrentCurrency),{chainId:b,ticker:_,type:T}=(0,r.useSelector)(c.getProviderConfig),{address:k}=(0,r.useSelector)(s.getSelectedInternalAccount),E=(0,r.useSelector)(s.getRpcPrefsForCurrentProvider),w=(0,o.getAccountLink)(k,b,E),C=(0,a.useContext)(f.MetaMetricsContext),x=(0,l.useIsOriginalNativeTokenSymbol)(b,_,T),[,{value:M}]=(0,i.useCurrencyDisplay)(t,{currency:e}),[S]=(0,i.useCurrencyDisplay)(t,{currency:v});return a.default.createElement(h.default,{asset:{chainId:b,type:u.AssetType.native,symbol:e,image:n,balance:{value:(0,m.hexToDecimal)(t),display:M,fiat:y&&x?S:undefined},isOriginalNativeSymbol:!0===x},optionsButton:a.default.createElement(g.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{C({event:"Clicked Block Explorer Link",category:d.MetaMetricsEventCategory.Navigation,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,p.getURLHostName)(w)}}),global.platform.openTab({url:w})}})})}}}},{package:"$root$",file:"ui/pages/asset/components/native-asset.tsx"}],[6067,{"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/transaction":5061,"../../../../shared/modules/string-utils":5103,"../../../contexts/metametrics":5920,"../../../helpers/utils/util":6001,"../../../hooks/useTokenFiatAmount":6052,"../../../hooks/useTokenTracker":6053,"../../../selectors":6639,"../../../store/actions":6652,"./asset-options":6060,"./asset-page":6061,"@metamask/etherscan-link":1460,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/etherscan-link"),s=e("react-router-dom"),i=e("../../../selectors"),c=e("../../../../shared/modules/string-utils"),u=e("../../../hooks/useTokenTracker"),l=e("../../../../shared/constants/transaction"),d=e("../../../hooks/useTokenFiatAmount"),p=e("../../../helpers/utils/util"),f=e("../../../contexts/metametrics"),m=e("../../../store/actions"),g=e("../../../../shared/constants/metametrics"),h=v(e("./asset-options")),y=v(e("./asset-page"));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}n.default=({token:e})=>{const{address:t,symbol:n,isERC721:v}=e,b=(0,r.useSelector)(i.getTokenList),_=(0,r.useSelector)(i.getCurrentChainId),T=(0,r.useSelector)(i.getRpcPrefsForCurrentProvider),{address:k}=(0,r.useSelector)(i.getSelectedInternalAccount),E=(0,s.useHistory)(),w=(0,r.useDispatch)(),C=(0,a.useContext)(f.MetaMetricsContext),{name:x,iconUrl:M,aggregators:S}=Object.values(b).find((e=>(0,c.isEqualCaseInsensitive)(e.symbol,n)&&(0,c.isEqualCaseInsensitive)(e.address,t)))??{},{tokensWithBalances:P}=(0,u.useTokenTracker)({tokens:[e],address:undefined}),O=null==P?void 0:P[0],N=(0,d.useTokenFiatAmount)(t,null==O?void 0:O.string,n,{},!1),I=(0,o.getTokenTrackerLink)(e.address,_,"",k,T);return a.default.createElement(y.default,{asset:{chainId:_,type:l.AssetType.token,address:t,symbol:n,name:x,decimals:e.decimals,image:M,aggregators:S,balance:{value:null==O?void 0:O.balance,display:`${(0,p.roundToDecimalPlacesRemovingExtraZeroes)(null==O?void 0:O.string,5)}`,fiat:N},isERC721:v},optionsButton:a.default.createElement(h.default,{isNativeAsset:!1,onRemove:()=>w((0,m.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:E})),onClickBlockExplorer:()=>{C({event:"Clicked Block Explorer Link",category:g.MetaMetricsEventCategory.Navigation,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,p.getURLHostName)(I)}}),global.platform.openTab({url:I})},tokenSymbol:e.symbol})})}}}},{package:"$root$",file:"ui/pages/asset/components/token-asset.tsx"}],[6068,{"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/transaction":5061,"../../../components/component-library":5534,"../../../components/ui/icon-button/icon-button":5824,"../../../contexts/i18n":5917,"../../../contexts/metametrics":5920,"../../../ducks/ramps":5943,"../../../ducks/send":5946,"../../../ducks/swaps/swaps":5949,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/error-keys":5954,"../../../helpers/constants/routes":5959,"../../../helpers/utils/hardware":5985,"../../../hooks/bridge/useBridging":6004,"../../../hooks/ramps/useRamps/useRamps":6011,"../../../selectors":6639,"../../../store/actions":6652,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../contexts/i18n"),i=e("../../../helpers/constants/routes"),c=e("../../../ducks/send"),u=e("../../../helpers/utils/hardware"),l=e("../../../ducks/swaps/swaps"),d=E(e("../../../hooks/ramps/useRamps/useRamps")),p=e("../../../selectors"),f=E(e("../../../hooks/bridge/useBridging")),m=e("../../../helpers/constants/error-keys"),g=e("../../../store/actions"),h=e("../../../contexts/metametrics"),y=e("../../../../shared/constants/metametrics"),v=e("../../../../shared/constants/transaction"),b=e("../../../helpers/constants/design-system"),_=E(e("../../../components/ui/icon-button/icon-button")),T=e("../../../components/component-library"),k=e("../../../ducks/ramps");function E(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}n.default=({token:e})=>{const t=(0,r.useDispatch)(),n=(0,a.useContext)(s.I18nContext),E=(0,a.useContext)(h.MetaMetricsContext),w=(0,o.useHistory)(),C=(0,r.useSelector)(p.getCurrentKeyring),x=(0,u.isHardwareKeyring)(C.type),M=(0,r.useSelector)(p.getCurrentChainId),S=(0,r.useSelector)(p.getIsSwapsChain),P=(0,r.useSelector)(p.getIsBridgeChain),O=(0,r.useSelector)(k.getIsNativeTokenBuyable),{openBuyCryptoInPdapp:N}=(0,d.default)(),{openBridgeExperience:I}=(0,f.default)();return(0,a.useEffect)((()=>{e.isERC721&&t((0,g.showModal)({name:"CONVERT_TOKEN_TO_NFT",tokenAddress:e.address}))}),[e.isERC721,e.address,t]),a.default.createElement(T.Box,{display:b.Display.Flex,justifyContent:b.JustifyContent.spaceEvenly},a.default.createElement(_.default,{className:"token-overview__button",Icon:a.default.createElement(T.Icon,{name:T.IconName.PlusMinus,color:b.IconColor.primaryInverse}),label:n("buyAndSell"),"data-testid":"token-overview-buy",onClick:()=>{N(),E({event:y.MetaMetricsEventName.NavBuyButtonClicked,category:y.MetaMetricsEventCategory.Navigation,properties:{location:"Token Overview",text:"Buy",chain_id:M,token_symbol:e.symbol}})},disabled:e.isERC721||!O,tooltipRender:null}),a.default.createElement(_.default,{className:"token-overview__button",onClick:async()=>{E({event:y.MetaMetricsEventName.NavSendButtonClicked,category:y.MetaMetricsEventCategory.Navigation,properties:{token_symbol:e.symbol,location:y.MetaMetricsSwapsEventSource.TokenView,text:"Send",chain_id:M}},{excludeMetaMetricsId:!1});try{await t((0,c.startNewDraftTransaction)({type:v.AssetType.token,details:e})),w.push(i.SEND_ROUTE)}catch(e){if(!e.message.includes(m.INVALID_ASSET_TYPE))throw e}},Icon:a.default.createElement(T.Icon,{name:T.IconName.Arrow2UpRight,color:b.IconColor.primaryInverse}),label:n("send"),"data-testid":"eth-overview-send",disabled:e.isERC721,tooltipRender:null}),S&&a.default.createElement(_.default,{className:"token-overview__button",Icon:a.default.createElement(T.Icon,{name:T.IconName.SwapHorizontal,color:b.IconColor.primaryInverse}),onClick:()=>{var n,a;(E({event:y.MetaMetricsEventName.NavSwapButtonClicked,category:y.MetaMetricsEventCategory.Swaps,properties:{token_symbol:e.symbol,location:y.MetaMetricsSwapsEventSource.TokenView,text:"Swap",chain_id:M}}),t((0,l.setSwapsFromToken)({...e,address:e.address.toLowerCase(),iconUrl:e.image,balance:e.balance.value,string:e.balance.display})),x)?null===(n=(a=global.platform).openExtensionInBrowser)||void 0===n||n.call(a,i.BUILD_QUOTE_ROUTE,undefined,!1):w.push(i.BUILD_QUOTE_ROUTE)},label:n("swap"),tooltipRender:null}),P&&a.default.createElement(_.default,{className:"token-overview__button","data-testid":"token-overview-bridge",Icon:a.default.createElement(T.Icon,{name:T.IconName.Bridge,color:b.IconColor.primaryInverse}),label:n("bridge"),onClick:()=>{I(y.MetaMetricsSwapsEventSource.TokenView,{...e,iconUrl:e.image,balance:e.balance.value,string:e.balance.display,name:e.name??""})},tooltipRender:null}))}}}},{package:"$root$",file:"ui/pages/asset/components/token-buttons.tsx"}],[6069,{"./asset":6059},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./asset"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/asset/index.js"}],[6070,{"../../../shared/constants/time":5059,"../../../shared/lib/fetch-with-cache":5065,"../../selectors":6639,"./util":6071,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHistoricalPrices=void 0;var a,r=e("react"),o=e("react-redux"),s=(a=e("../../../shared/lib/fetch-with-cache"))&&a.__esModule?a:{default:a},i=e("../../../shared/constants/time"),c=e("../../selectors"),u=e("./util");n.useHistoricalPrices=({chainId:e,address:t,currency:n,timeRange:a})=>{const l=(0,o.useSelector)(c.getShouldShowFiat)&&(0,u.chainSupportsPricing)(e),[d,p]=(0,r.useState)(l),[f,m]=(0,r.useState)({});return l&&(0,r.useEffect)((()=>{p(!0),(0,s.default)({url:`https://price.api.cx.metamask.io/v1/chains/${e}/historical-prices/${t}?vsCurrency=${n}&timePeriod=${a}`,cacheOptions:{cacheRefreshTime:5*i.MINUTE},functionName:"GetAssetHistoricalPrices",fetchOptions:{headers:{"X-Client-Id":"extension"}}}).catch((()=>({}))).then((e=>{var t;const n=null==e||null===(t=e.prices)||void 0===t?void 0:t.map((e=>({x:null==e?void 0:e[0],y:null==e?void 0:e[1]})));let a;if(n&&n.length>0){let[e,t,r,o]=[];for(const a of n)e=!e||a.x<e.x?a:e,t=!t||a.x>t.x?a:t,r=!r||a.y<r.y?a:r,o=!o||a.y>o.y?a:o;a={xMin:e,xMax:t,yMin:r,yMax:o}}m({prices:n,edges:a}),p(!1)}))}),[e,t,n,a]),{loading:d,data:f}}}}},{package:"$root$",file:"ui/pages/asset/useHistoricalPrices.ts"}],[6071,{"@metamask/assets-controllers":1198},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.localizeLargeNumber=n.loadingOpacity=n.getShortDateFormatterV2=n.getShortDateFormatter=n.getPricePrecision=n.chainSupportsPricing=void 0;var a=e("@metamask/assets-controllers");n.getShortDateFormatter=()=>Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});n.getShortDateFormatterV2=()=>Intl.DateTimeFormat(navigator.language,{year:"numeric",month:"short",day:"numeric"});n.localizeLargeNumber=(e,t)=>t>=1e12?`${(t/1e12).toFixed(2)}${e("trillionAbbreviation")}`:t>=1e9?`${(t/1e9).toFixed(2)}${e("billionAbbreviation")}`:t>=1e6?`${(t/1e6).toFixed(2)}${e("millionAbbreviation")}`:t.toFixed(2);n.getPricePrecision=e=>{if(0===e)return 1;let t=2;for(let n=Math.abs(e);n<1;t++)n*=10;return t};n.chainSupportsPricing=e=>a.SUPPORTED_CHAIN_IDS.includes(e);n.loadingOpacity=.2}}},{package:"$root$",file:"ui/pages/asset/util.ts"}],[6073,{"../../components/component-library":5534,"../../contexts/i18n":5917,"../../ducks/swaps/swaps":5949,"../../helpers/constants/design-system":5953,"../../helpers/constants/routes":5959,"../../helpers/higher-order-components/feature-toggled-route":5970,"../../selectors":6639,"../../store/actions":6652,"./prepare/prepare-bridge-page":6074,classnames:3599,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=h(e("classnames")),i=e("../../contexts/i18n"),c=e("../../ducks/swaps/swaps"),u=e("../../helpers/constants/routes"),l=e("../../store/actions"),d=h(e("../../helpers/higher-order-components/feature-toggled-route")),p=e("../../components/component-library"),f=e("../../helpers/constants/design-system"),m=e("../../selectors"),g=e("./prepare/prepare-bridge-page");function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(i.I18nContext),t=(0,o.useHistory)(),n=(0,r.useDispatch)(),h=(0,r.useSelector)(m.getIsBridgeEnabled),y=async()=>{t.push({pathname:u.DEFAULT_ROUTE,state:{stayOnHomePage:!0}}),n((0,c.clearSwapsState)()),await n((0,l.resetBackgroundSwapsState)())};return a.default.createElement("div",{className:"bridge"},a.default.createElement("div",{className:"bridge__container"},a.default.createElement("div",{className:"bridge__header"},a.default.createElement(p.Box,{display:f.Display.Flex,justifyContent:f.JustifyContent.center,marginLeft:4,width:f.BlockSize.OneTwelfth,tabIndex:0,onKeyUp:e=>{"Enter"===e.key&&y()}},a.default.createElement(p.Icon,{name:p.IconName.Arrow2Left,size:p.IconSize.Lg,color:f.IconColor.iconAlternative,onClick:y,style:{cursor:"pointer"},title:e("cancel")})),a.default.createElement("div",{className:"bridge__title"},e("bridge"))),a.default.createElement("div",{className:(0,s.default)("bridge__content","bridge__content--redesign-enabled")},a.default.createElement(o.Switch,null,a.default.createElement(d.default,{redirectRoute:u.SWAPS_MAINTENANCE_ROUTE,flag:h,path:u.CROSS_CHAIN_SWAP_ROUTE+u.PREPARE_SWAP_ROUTE,render:()=>a.default.createElement(g.PrepareBridgePage,null)})))))}}}},{package:"$root$",file:"ui/pages/bridge/index.tsx"}],[6074,{"../../../selectors":6639,"../../swaps/prepare-swap-page/prepare-swap-page":6587,lodash:4382,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PrepareBridgePage=void 0;var a=c(e("react")),r=e("react-redux"),o=e("lodash"),s=c(e("../../swaps/prepare-swap-page/prepare-swap-page")),i=e("../../../selectors");function c(e){return e&&e.__esModule?e:{default:e}}n.PrepareBridgePage=()=>{const e=(0,r.useSelector)(i.getSelectedAccount,r.shallowEqual),{balance:t,address:n}=e,c=(0,r.useSelector)(i.getTokenList,o.isEqual),u=(0,o.shuffle)(Object.values(c));return a.default.createElement("div",null,a.default.createElement(s.default,{ethBalance:t,selectedAccountAddress:n,shuffledTokensList:u}))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/prepare-bridge-page.tsx"}],[6075,{"../../../shared/constants/metametrics":5043,"../../../shared/constants/network":5047,"../../../shared/constants/transaction":5061,"../../components/app/assets/nfts/nft-default-image/nft-default-image":5136,"../../components/app/network-account-balance-header/network-account-balance-header":5281,"../../components/component-library":5534,"../../components/ui/page-container":5868,"../../components/ui/site-origin/site-origin":5886,"../../contexts/i18n":5917,"../../contexts/metametrics":5920,"../../ducks/history/history":5938,"../../helpers/constants/common":5951,"../../helpers/constants/design-system":5953,"../../helpers/utils/util":6001,"../../hooks/useCurrencyDisplay":6021,"../../hooks/useOriginMetadata":6039,"../../hooks/useUserPreferencedCurrency":6057,"../../selectors":6639,"../../store/actions":6652,"@metamask/etherscan-link":1460,classnames:3599,"eth-rpc-errors":3801,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("eth-rpc-errors"),i=e("@metamask/etherscan-link"),c=S(e("classnames")),u=e("../../components/ui/page-container"),l=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),p=e("../../ducks/history/history"),f=e("../../store/actions"),m=e("../../../shared/constants/metametrics"),g=e("../../../shared/constants/transaction"),h=e("../../components/component-library"),y=e("../../selectors"),v=S(e("../../components/app/assets/nfts/nft-default-image/nft-default-image")),b=e("../../helpers/utils/util"),_=e("../../helpers/constants/design-system"),T=S(e("../../components/app/network-account-balance-header/network-account-balance-header")),k=e("../../../shared/constants/network"),E=S(e("../../components/ui/site-origin/site-origin")),w=e("../../helpers/constants/common"),C=e("../../hooks/useUserPreferencedCurrency"),x=e("../../hooks/useCurrencyDisplay"),M=e("../../hooks/useOriginMetadata");function S(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,a.useContext)(l.I18nContext),n=(0,r.useDispatch)(),S=(0,o.useHistory)(),P=(0,r.useSelector)(p.getMostRecentOverviewPage),O=(0,r.useSelector)(y.getSuggestedNfts).sort(((e,t)=>e.requestData.asset.tokenId-t.requestData.asset.tokenId)),N=(0,r.useSelector)(y.getRpcPrefsForCurrentProvider),I=(0,r.useSelector)(y.getCurrentChainId),A=(0,r.useSelector)(y.getIpfsGateway),j=(0,a.useContext)(d.MetaMetricsContext),R=(0,r.useSelector)(y.getNetworkIdentifier),{address:D}=(0,r.useSelector)(y.getSelectedInternalAccount),F=(0,r.useSelector)(y.getSelectedAccountCachedBalance),$=(0,r.useSelector)((e=>(0,y.getAddressBookEntryOrAccountName)(e,D))),B=k.NETWORK_TO_NAME_MAP[I]||R,{currency:L,numberOfDecimals:U}=(0,C.useUserPreferencedCurrency)(w.PRIMARY,{ethNumberOfDecimals:4}),[G]=(0,x.useCurrencyDisplay)(F,{numberOfDecimals:U,currency:L}),W=(0,M.useOriginMetadata)(null===(e=O[0])||void 0===e?void 0:e.origin)||{},H=(0,a.useCallback)((async()=>{await Promise.all(O.map((async({requestData:{asset:e},id:t})=>{await n((0,f.resolvePendingApproval)(t,null)),j({event:m.MetaMetricsEventName.NftAdded,category:m.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_contract_address:e.address,token_symbol:e.symbol,token_id:e.tokenId,token_standard:e.standard,asset_type:g.AssetType.NFT,source:m.MetaMetricsTokenEventSource.Dapp}})}))),S.push(P)}),[n,S,j,P,O]),q=(0,a.useCallback)((async()=>{await Promise.all(O.map((async({id:e})=>n((0,f.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))))),S.push(P)}),[n,S,P,O]);let V,K;if((0,a.useEffect)((()=>{O.length||S.push(P)}),[S,P,O]),O.length)try{const e=new URL(O[0].origin);V=e.host,K=e.href}catch{V="dapp"}return a.default.createElement(h.Box,{height:_.BlockSize.Full,width:_.BlockSize.Full,display:_.Display.Flex,flexDirection:_.FlexDirection.Column},a.default.createElement(h.Box,{paddingBottom:2,className:"confirm-add-suggested-nft__header"},a.default.createElement(T.default,{accountName:$,accountBalance:G,accountAddress:D,networkName:B,chainId:I}),a.default.createElement(h.Box,{paddingTop:4,paddingRight:4,paddingLeft:4,display:_.Display.Flex,justifyContent:_.JustifyContent.center},a.default.createElement(E.default,{chip:!0,siteOrigin:W.origin,title:W.origin,iconSrc:W.iconUrl,iconName:W.hostname})),a.default.createElement(h.Text,{variant:_.TextVariant.headingLg,textAlign:_.TextAlign.Center,margin:2},t("addSuggestedNFTs")),a.default.createElement(h.Text,{variant:_.TextVariant.bodyMd,textAlign:_.TextAlign.Center},t("wantsToAddThisAsset",["dapp"===V?a.default.createElement(h.Text,{key:V,variant:_.TextVariant.bodyMd,fontWeight:"bold"},V):a.default.createElement(h.ButtonLink,{key:V,size:h.BUTTON_SIZES.INHERIT,href:K,target:"_blank"},V)]))),a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__content"},a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__card",padding:2,borderRadius:_.BorderRadius.MD},a.default.createElement(h.Box,{className:(0,c.default)({"confirm-add-suggested-nft__nft-list":O.length>1})},O.map((({id:e,requestData:{asset:{address:t,tokenId:r,symbol:o,image:c,name:u}}})=>{const l=(0,b.getAssetImageURL)(c,A),d=(0,i.getTokenTrackerLink)(t,I,null,null,{blockExplorerUrl:(null==N?void 0:N.blockExplorerUrl)??null});return 1===O.length?a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__nft-single",key:`confirm-add-suggested-nft__nft-single-${e}`,borderRadius:_.BorderRadius.MD,margin:0,padding:0},l?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-single-image",src:l,alt:u||r}):a.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-single-image-default",tokenId:r,name:u||o||(0,b.shortenAddress)(t)}),a.default.createElement(h.Box,{padding:1,display:_.Display.Flex,flexDirection:_.FlexDirection.Row,justifyContent:_.JustifyContent.spaceBetween,alignItems:_.AlignItems.Center},a.default.createElement(h.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Column,justifyContent:_.JustifyContent.spaceEvenly,flexWrap:_.FlexWrap.NoWrap,width:_.BlockSize.Full,className:"confirm-add-suggested-nft__nft-single-sub-details"},N.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:d,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},u||o||(0,b.shortenAddress)(t)):a.default.createElement(h.Text,{variant:_.TextVariant.bodyMd,className:"confirm-add-suggested-nft__nft-name",title:t},u||o||(0,b.shortenAddress)(t)),a.default.createElement(h.Text,{variant:_.TextVariant.bodyMd,color:_.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",r)))):a.default.createElement(h.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Row,flexWrap:_.FlexWrap.NoWrap,alignItems:_.AlignItems.Center,justifyContent:_.JustifyContent.spaceBetween,marginBottom:4,className:"confirm-add-suggested-nft__nft-list-item",key:`${t}-${r}`},a.default.createElement(h.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Row,flexWrap:_.FlexWrap.NoWrap,alignItems:_.AlignItems.Center,justifyContent:_.JustifyContent.spaceBetween},l?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-image",src:l,alt:u||r}):a.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-image-default"}),a.default.createElement(h.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Column,justifyContent:_.JustifyContent.spaceEvenly,flexWrap:_.FlexWrap.NoWrap,width:_.BlockSize.Full,className:"confirm-add-suggested-nft__nft-sub-details"},N.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:d,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},u||o||(0,b.shortenAddress)(t)):a.default.createElement(h.Text,{variant:_.TextVariant.bodySm,className:"confirm-add-suggested-nft__nft-name",title:t},u||o||(0,b.shortenAddress)(t)),a.default.createElement(h.Text,{variant:_.TextVariant.bodySm,color:_.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",r))),a.default.createElement(h.ButtonIcon,{className:"confirm-add-suggested-nft__nft-remove","data-testid":`confirm-add-suggested-nft__nft-remove-${e}`,iconName:h.IconName.Close,size:h.ButtonIconSize.Sm,color:_.IconColor.iconMuted,onClick:t=>{t.preventDefault(),t.stopPropagation(),n((0,f.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))}}))}))))),a.default.createElement(u.PageContainerFooter,{cancelText:t("cancel"),submitText:1===O.length?t("addNft"):t("addNfts"),onCancel:q,onSubmit:H}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/confirm-add-suggested-nft.js"}],[6076,{"./confirm-add-suggested-nft":6075},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-add-suggested-nft"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/index.js"}],[6077,{"../../../shared/constants/metametrics":5043,"../../../shared/constants/transaction":5061,"../../../shared/modules/string-utils":5103,"../../components/component-library":5534,"../../components/ui/identicon":5840,"../../components/ui/page-container":5868,"../../components/ui/token-balance":5901,"../../contexts/i18n":5917,"../../contexts/metametrics":5920,"../../ducks/history/history":5938,"../../ducks/metamask/metamask":5941,"../../helpers/constants/design-system":5953,"../../helpers/constants/zendesk-url":5966,"../../selectors":6639,"../../store/actions":6652,"eth-rpc-errors":3801,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("eth-rpc-errors"),i=e("../../components/component-library"),c=k(e("../../components/ui/identicon")),u=k(e("../../components/ui/token-balance")),l=e("../../components/ui/page-container"),d=e("../../contexts/i18n"),p=e("../../contexts/metametrics"),f=e("../../ducks/history/history"),m=e("../../ducks/metamask/metamask"),g=k(e("../../helpers/constants/zendesk-url")),h=e("../../../shared/modules/string-utils"),y=e("../../store/actions"),v=e("../../../shared/constants/metametrics"),b=e("../../../shared/constants/transaction"),_=e("../../selectors"),T=e("../../helpers/constants/design-system");function k(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(d.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),k=(0,r.useSelector)(f.getMostRecentOverviewPage),E=(0,r.useSelector)(_.getSuggestedTokens),w=(0,r.useSelector)(m.getTokens),C=(0,a.useContext)(p.MetaMetricsContext),x=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((({address:t})=>(0,h.isEqualCaseInsensitive)(t,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(E,w)&&a.default.createElement(i.BannerAlert,{severity:T.Severity.Warning,marginTop:4},e("knownTokenWarning",[a.default.createElement(i.Button,{variant:i.ButtonVariant.Link,key:"confirm-add-suggested-token-duplicate-warning",className:"confirm-add-suggested-token__link",externalLink:!0,size:i.ButtonLinkSize.Inherit,href:g.default.TOKEN_SAFETY_PRACTICES},e("learnScamRisk"))]))),[E,w,e]),M=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((t=>(0,h.isEqualCaseInsensitive)(t.symbol,null==e?void 0:e.symbol)&&!(0,h.isEqualCaseInsensitive)(t.address,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(E,w)&&a.default.createElement(i.BannerAlert,{marginTop:4,severity:T.Severity.Warning,description:e("reusedTokenNameWarning")})),[E,w,e]),S=(0,a.useCallback)((async()=>{await Promise.all(E.map((async({requestData:{asset:e},id:n})=>{await t((0,y.resolvePendingApproval)(n,null)),C({event:v.MetaMetricsEventName.TokenAdded,category:v.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:v.MetaMetricsTokenEventSource.Dapp,token_standard:b.TokenStandard.ERC20,asset_type:b.AssetType.token}})}))),n.push(k)}),[t,n,C,k,E]),P=(0,a.useCallback)((async()=>{await Promise.all(E.map((({id:e})=>t((0,y.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))))),n.push(k)}),[t,n,k,E]);return(0,a.useEffect)((()=>{E.length||n.push(k)}),[]),a.default.createElement("div",{className:"page-container"},a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},e("addSuggestedTokens")),a.default.createElement("div",{className:"page-container__subtitle"},e("likeToImportTokens")),x,M),a.default.createElement("div",{className:"page-container__content"},a.default.createElement("div",{className:"confirm-add-suggested-token"},a.default.createElement("div",{className:"confirm-add-suggested-token__header"},a.default.createElement("div",{className:"confirm-add-suggested-token__token"},e("token")),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},e("balance"))),a.default.createElement("div",{className:"confirm-add-suggested-token__token-list"},E.map((({requestData:{asset:e}})=>{return a.default.createElement("div",{className:"confirm-add-suggested-token__token-list-item",key:e.address},a.default.createElement("div",{className:"confirm-add-suggested-token__token confirm-add-suggested-token__data"},a.default.createElement(c.default,{className:"confirm-add-suggested-token__token-icon",diameter:48,address:e.address,image:e.image}),a.default.createElement("div",{className:"confirm-add-suggested-token__name"},(t=e.name,n=e.symbol,t===undefined?n:`${t} (${n})`))),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},a.default.createElement(u.default,{token:e})));var t,n}))))),a.default.createElement(l.PageContainerFooter,{cancelText:e("cancel"),submitText:e("addToken"),onCancel:P,onSubmit:S,disabled:0===E.length}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/confirm-add-suggested-token.js"}],[6078,{"./confirm-add-suggested-token":6077},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-add-suggested-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/index.js"}],[6079,{"../../../shared/constants/common":5033,"../../../shared/constants/copy":5034,"../../../shared/constants/metametrics":5043,"../../../shared/constants/time":5059,"../../../shared/modules/Numeric":5076,"../../../shared/modules/conversion.utils":5081,"../../components/app/account-list-item":5113,"../../components/component-library":5534,"../../components/ui/identicon":5840,"../../components/ui/page-container":5868,"../../components/ui/tooltip":5903,"../../helpers/constants/design-system":5953,"../../helpers/utils/confirm-tx.util":5980,classnames:3599,"copy-to-clipboard":3637,loglevel:4388,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=T(e("prop-types")),o=T(e("copy-to-clipboard")),s=T(e("classnames")),i=T(e("loglevel")),c=T(e("../../components/app/account-list-item")),u=T(e("../../components/ui/identicon")),l=T(e("../../components/ui/tooltip")),d=e("../../components/ui/page-container"),p=e("../../../shared/constants/metametrics"),f=e("../../../shared/constants/time"),m=e("../../../shared/modules/Numeric"),g=e("../../../shared/constants/common"),h=e("../../components/component-library"),y=e("../../helpers/constants/design-system"),v=e("../../helpers/utils/confirm-tx.util"),b=e("../../../shared/modules/conversion.utils"),_=e("../../../shared/constants/copy");function T(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends a.Component{constructor(...e){super(...e),E(this,"state",{copyToClipboardPressed:!1,hasCopied:!1}),E(this,"copyMessage",(()=>{(0,o.default)(this.state.rawMessage,_.COPY_OPTIONS),this.context.trackEvent({category:p.MetaMetricsEventCategory.Messages,event:"Copy",properties:{action:"Decrypt Message Copy",legacy_event:!0}}),this.setState({hasCopied:!0}),setTimeout((()=>this.setState({hasCopied:!1})),3*f.SECOND)})),E(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-decrypt-message__header"},a.default.createElement("div",{className:"request-decrypt-message__header-background"}),a.default.createElement("div",{className:"request-decrypt-message__header__text"},this.context.t("decryptRequest")),a.default.createElement("div",{className:"request-decrypt-message__header__tip-container"},a.default.createElement("div",{className:"request-decrypt-message__header__tip"}))))),E(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-decrypt-message__account"},a.default.createElement("div",{className:"request-decrypt-message__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-decrypt-message__account-item"},a.default.createElement(c.default,{account:e})))})),E(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t,currentCurrency:n,fromAccount:{balance:r}}=this.props,{t:o}=this.context,s=e?(0,v.formatCurrency)((0,b.getValueFromWeiHex)({value:r,fromCurrency:t,toCurrency:n,conversionRate:e,numberOfDecimals:6,toDenomination:g.EtherDenomination.ETH}),n):new m.Numeric(r,16,g.EtherDenomination.WEI).toDenomination(g.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-decrypt-message__balance"},a.default.createElement("div",{className:"request-decrypt-message__balance-text"},`${o("balance")}:`),a.default.createElement("div",{className:"request-decrypt-message__balance-value"},`${s} ${e?null==n?void 0:n.toUpperCase():t}`))})),E(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-decrypt-message__request-icon"},a.default.createElement(u.default,{diameter:40,address:e}))})),E(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-decrypt-message__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),E(this,"renderBody",(()=>{const{decryptMessageInline:e,subjectMetadata:t,txData:n}=this.props,{t:r}=this.context,o=t[n.msgParams.origin],i=(null==o?void 0:o.name)||n.msgParams.origin,c=r("decryptMessageNotice",[n.msgParams.origin]),{hasCopied:u,hasDecrypted:d,hasError:p,rawMessage:f,errorMessage:m,copyToClipboardPressed:g}=this.state;return a.default.createElement("div",{className:"request-decrypt-message__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-decrypt-message__visual"},a.default.createElement("section",null,null!=o&&o.iconUrl?a.default.createElement("img",{className:"request-decrypt-message__visual-identicon",src:o.iconUrl,alt:""}):a.default.createElement("i",{className:"request-decrypt-message__visual-identicon--default"},i.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-decrypt-message__notice"},c))),a.default.createElement("div",{className:"request-decrypt-message__message"},a.default.createElement("div",{className:"request-decrypt-message__message-text"},d||p?f:n.msgParams.data,p?m:""),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-cover",{"request-decrypt-message__message-lock--pressed":d||p})}),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-lock",{"request-decrypt-message__message-lock--pressed":d||p}),onClick:t=>{e(n,t).then((e=>{e.error?this.setState({hasError:!0,errorMessage:this.context.t("decryptInlineError",[e.error])}):this.setState({hasDecrypted:!0,rawMessage:e.rawSig})}))}},a.default.createElement("div",{className:"request-decrypt-message__message-lock__container"},a.default.createElement("i",{className:"fa fa-lock fa-lg request-decrypt-message__message-lock__container__icon"}),a.default.createElement("div",{className:"request-decrypt-message__message-lock__container__text"},r("decryptMetamask"))))),d?a.default.createElement("div",{className:(0,s.default)({"request-decrypt-message__message-copy":!0,"request-decrypt-message__message-copy--pressed":g}),onClick:()=>this.copyMessage(),onMouseDown:()=>this.setState({copyToClipboardPressed:!0}),onMouseUp:()=>this.setState({copyToClipboardPressed:!1})},a.default.createElement(l.default,{position:"bottom",title:r(u?"copiedExclamation":"copyToClipboard"),wrapperClassName:"request-decrypt-message__message-copy-tooltip",style:{display:"flex",alignItems:"center"}},a.default.createElement("div",{className:"request-decrypt-message__message-copy-text"},r("decryptCopy")),a.default.createElement(h.Icon,{name:u?h.IconName.CopySuccess:h.IconName.Copy,color:y.IconColor.primaryDefault}))):a.default.createElement("div",null))})),E(this,"renderFooter",(()=>{const{cancelDecryptMessage:e,clearConfirmTransaction:t,decryptMessage:n,history:r,mostRecentOverviewPage:o,txData:s}=this.props,{trackEvent:i,t:c}=this.context;return a.default.createElement(d.PageContainerFooter,{cancelText:c("cancel"),submitText:c("decrypt"),onCancel:async n=>{await e(s,n),i({category:p.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),r.push(o)},onSubmit:async e=>{await n(s,e),i({category:p.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),r.push(o)}})})),E(this,"render",(()=>this.props.txData?a.default.createElement("div",{className:"request-decrypt-message__container"},this.renderHeader(),this.renderBody(),this.renderFooter()):(i.default.warn("ConfirmDecryptMessage Page: Missing txData prop."),null)))}}n.default=w,E(w,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),E(w,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,cancelDecryptMessage:r.default.func.isRequired,decryptMessage:r.default.func.isRequired,decryptMessageInline:r.default.func.isRequired,history:r.default.object.isRequired,mostRecentOverviewPage:r.default.string.isRequired,requesterAddress:r.default.string,txData:r.default.object,subjectMetadata:r.default.object,nativeCurrency:r.default.string.isRequired,currentCurrency:r.default.string.isRequired,conversionRate:r.default.number})}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/confirm-decrypt-message.component.js"}],[6080,{"../../ducks/confirm-transaction/confirm-transaction.duck":5933,"../../ducks/history/history":5938,"../../ducks/metamask/metamask":5941,"../../selectors":6639,"../../store/actions":6652,"./confirm-decrypt-message.component":6079,lodash:4382,"react-redux":4735,"react-router-dom":4764,redux:4797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("lodash"),c=e("../../store/actions"),u=e("../../selectors"),l=e("../../ducks/confirm-transaction/confirm-transaction.duck"),d=e("../../ducks/history/history"),p=e("../../ducks/metamask/metamask"),f=(a=e("./confirm-decrypt-message.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e){var t;const{metamask:{subjectMetadata:n={}}}=e,{useNativeCurrencyAsPrimaryCurrency:a}=(0,u.getPreferences)(e),r=(0,u.unconfirmedTransactionsListSelector)(e),o=(0,i.cloneDeep)(r[0]);return{txData:o,subjectMetadata:n,fromAccount:(0,u.getTargetAccountWithSendEtherInfo)(e,null==o||null===(t=o.msgParams)||void 0===t?void 0:t.from),requester:null,requesterAddress:null,conversionRate:a?null:(0,u.conversionRateSelector)(e),mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),nativeCurrency:(0,p.getNativeCurrency)(e),currentCurrency:(0,u.getCurrentCurrency)(e)}}),(function(e){return{goHome:()=>e((0,c.goHome)()),clearConfirmTransaction:()=>e((0,l.clearConfirmTransaction)()),decryptMessage:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,c.decryptMsg)(a))},cancelDecryptMessage:(t,n)=>(n.stopPropagation(n),e((0,c.cancelDecryptMsg)(t))),decryptMessageInline:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,c.decryptMsgInline)(a))}}})))(f.default)}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/confirm-decrypt-message.container.js"}],[6081,{"./confirm-decrypt-message.container":6080},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-decrypt-message.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/index.js"}],[6082,{"../../../shared/constants/common":5033,"../../../shared/constants/metametrics":5043,"../../../shared/modules/Numeric":5076,"../../../shared/modules/conversion.utils":5081,"../../components/app/account-list-item":5113,"../../components/ui/identicon":5840,"../../components/ui/page-container":5868,"../../components/ui/site-origin":5885,"../../helpers/utils/confirm-tx.util":5980,loglevel:4388,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=g(e("prop-types")),o=g(e("loglevel")),s=g(e("../../components/app/account-list-item")),i=g(e("../../components/ui/identicon")),c=e("../../components/ui/page-container"),u=e("../../../shared/constants/metametrics"),l=g(e("../../components/ui/site-origin")),d=e("../../../shared/modules/Numeric"),p=e("../../../shared/constants/common"),f=e("../../helpers/utils/confirm-tx.util"),m=e("../../../shared/modules/conversion.utils");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends a.Component{constructor(...e){super(...e),y(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-encryption-public-key__header"},a.default.createElement("div",{className:"request-encryption-public-key__header-background"}),a.default.createElement("div",{className:"request-encryption-public-key__header__text"},this.context.t("encryptionPublicKeyRequest")),a.default.createElement("div",{className:"request-encryption-public-key__header__tip-container"},a.default.createElement("div",{className:"request-encryption-public-key__header__tip"}))))),y(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-encryption-public-key__account"},a.default.createElement("div",{className:"request-encryption-public-key__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-encryption-public-key__account-item"},a.default.createElement(s.default,{account:e})))})),y(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t,currentCurrency:n,fromAccount:{balance:r}}=this.props,{t:o}=this.context,s=e?(0,f.formatCurrency)((0,m.getValueFromWeiHex)({value:r,fromCurrency:t,toCurrency:n,conversionRate:e,numberOfDecimals:6,toDenomination:p.EtherDenomination.ETH}),n):new d.Numeric(r,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-encryption-public-key__balance"},a.default.createElement("div",{className:"request-encryption-public-key__balance-text"},`${o("balance")}:`),a.default.createElement("div",{className:"request-encryption-public-key__balance-value"},`${s} ${e?null==n?void 0:n.toUpperCase():t}`))})),y(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-encryption-public-key__request-icon"},a.default.createElement(i.default,{diameter:40,address:e}))})),y(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-encryption-public-key__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),y(this,"renderBody",(()=>{const{subjectMetadata:e,txData:t}=this.props,{t:n}=this.context,r=e[t.origin],o=n("encryptionPublicKeyNotice",[a.default.createElement(l.default,{siteOrigin:t.origin,key:t.origin})]),s=(null==r?void 0:r.hostname)||t.origin;return a.default.createElement("div",{className:"request-encryption-public-key__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-encryption-public-key__visual"},a.default.createElement("section",null,null!=r&&r.iconUrl?a.default.createElement("img",{className:"request-encryption-public-key__visual-identicon",src:r.iconUrl,alt:""}):a.default.createElement("i",{className:"request-encryption-public-key__visual-identicon--default"},s.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-encryption-public-key__notice"},o))))})),y(this,"renderFooter",(()=>{const{cancelEncryptionPublicKey:e,clearConfirmTransaction:t,encryptionPublicKey:n,history:r,mostRecentOverviewPage:o,txData:s}=this.props,{t:i,trackEvent:l}=this.context;return a.default.createElement(c.PageContainerFooter,{cancelText:i("cancel"),submitText:i("provide"),onCancel:async n=>{await e(s,n),l({category:u.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)},onSubmit:async e=>{await n(s,e),this.context.trackEvent({category:u.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)}})})),y(this,"render",(()=>this.props.txData?a.default.createElement("div",{className:"request-encryption-public-key__container"},this.renderHeader(),this.renderBody(),this.renderFooter()):(o.default.warn("ConfirmEncryptionPublicKey Page: Missing txData prop."),null)))}}n.default=v,y(v,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),y(v,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,cancelEncryptionPublicKey:r.default.func.isRequired,encryptionPublicKey:r.default.func.isRequired,history:r.default.object.isRequired,requesterAddress:r.default.string,txData:r.default.object,subjectMetadata:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,nativeCurrency:r.default.string.isRequired,currentCurrency:r.default.string.isRequired,conversionRate:r.default.number})}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.component.js"}],[6083,{"../../ducks/confirm-transaction/confirm-transaction.duck":5933,"../../ducks/history/history":5938,"../../ducks/metamask/metamask":5941,"../../selectors":6639,"../../store/actions":6652,"./confirm-encryption-public-key.component":6082,"react-redux":4735,"react-router-dom":4764,redux:4797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../store/actions"),c=e("../../selectors"),u=e("../../ducks/confirm-transaction/confirm-transaction.duck"),l=e("../../ducks/history/history"),d=e("../../ducks/metamask/metamask"),p=(a=e("./confirm-encryption-public-key.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e){const{metamask:{subjectMetadata:t={}}}=e,{useNativeCurrencyAsPrimaryCurrency:n}=(0,c.getPreferences)(e),a=(0,c.unconfirmedTransactionsListSelector)(e)[0];return{txData:a,subjectMetadata:t,fromAccount:(0,c.getTargetAccountWithSendEtherInfo)(e,null==a?void 0:a.msgParams),requester:null,requesterAddress:null,conversionRate:n?null:(0,c.conversionRateSelector)(e),mostRecentOverviewPage:(0,l.getMostRecentOverviewPage)(e),nativeCurrency:(0,d.getNativeCurrency)(e),currentCurrency:(0,c.getCurrentCurrency)(e)}}),(function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,u.clearConfirmTransaction)()),encryptionPublicKey:(t,n)=>{const a={data:t.msgParams,metamaskId:t.id};return n.stopPropagation(),e((0,i.encryptionPublicKeyMsg)(a))},cancelEncryptionPublicKey:(t,n)=>(n.stopPropagation(),e((0,i.cancelEncryptionPublicKeyMsg)(t)))}})))(p.default)}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.container.js"}],[6084,{"./confirm-encryption-public-key.container":6083},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-encryption-public-key.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/index.js"}],[6085,{"../../../../components/ui/form-field":5821,"../../../../contexts/i18n":5917,"../../../../helpers/constants/gas":5955,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=c(e("prop-types")),o=e("../../../../contexts/i18n"),s=c(e("../../../../components/ui/form-field")),i=e("../../../../helpers/constants/gas");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l({onManualChange:e,gasLimit:t,setGasLimit:n,gasPrice:r,setGasPrice:c,gasErrors:u,minimumGasLimit:l}){const d=(0,a.useContext)(o.I18nContext);return a.default.createElement("div",{className:"advanced-gas-controls"},a.default.createElement(s.default,{titleText:d("gasLimit"),error:null!=u&&u.gasLimit?(0,i.getGasFormErrorText)(u.gasLimit,d,{minimumGasLimit:l}):null,onChange:t=>{null==e||e(),n(t)},tooltipText:d("editGasLimitTooltip"),value:t,allowDecimals:!1,numeric:!0}),a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{titleText:d("advancedGasPriceTitle"),titleUnit:"(GWEI)",onChange:t=>{null==e||e(),c(t)},tooltipText:d("editGasPriceTooltip"),value:r,numeric:!0,allowDecimals:!0,error:null!=u&&u.gasPrice?(0,i.getGasFormErrorText)(u.gasPrice,d):null})))}l.propTypes={onManualChange:r.default.func,gasLimit:r.default.number,setGasLimit:r.default.func,gasPrice:r.default.string,setGasPrice:r.default.func,minimumGasLimit:r.default.string,gasErrors:r.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-controls/advanced-gas-controls.component.js"}],[6086,{"../../../../../../shared/constants/gas":5038,"../../../../../../shared/modules/Numeric":5076,"../../../../../components/component-library":5534,"../../../../../contexts/gasFee":5916,"../../../../../helpers/constants/design-system":5953,"../../../../../hooks/useI18nContext":6031,"../../../../../selectors":6639,"../../../../../store/actions":6652,"../../../hooks/useTransactionEventFragment":6365,"../context":6102,lodash:4382,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("lodash"),s=e("../../../hooks/useTransactionEventFragment"),i=e("../../../../../../shared/constants/gas"),c=e("../../../../../helpers/constants/design-system"),u=e("../../../../../selectors"),l=e("../../../../../store/actions"),d=e("../../../../../contexts/gasFee"),p=e("../context"),f=e("../../../../../hooks/useI18nContext"),m=e("../../../../../components/component-library"),g=e("../../../../../../shared/modules/Numeric");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,f.useI18nContext)(),t=(0,r.useDispatch)(),{gasErrors:n,maxBaseFee:h,maxPriorityFeePerGas:y}=(0,p.useAdvancedGasFeePopoverContext)(),v=new g.Numeric(h,10).toString(),b=new g.Numeric(y,10).toString(),_=(0,r.useSelector)(u.getAdvancedGasFeeValues),T=(0,r.useSelector)(u.getCurrentChainId),k=(0,r.useSelector)(u.getNetworkIdentifier),{updateTransactionEventFragment:E}=(0,s.useTransactionEventFragment)(),{editGasMode:w}=(0,d.useGasFeeContext)(),[C,x]=(0,a.useState)(Boolean(_)&&_.maxBaseFee===v&&_.priorityFee===b);(0,a.useEffect)((()=>{x(Boolean(_)&&_.maxBaseFee===v&&_.priorityFee===b)}),[_,v,b]);return w===i.EditGasModes.swaps?null:a.default.createElement(m.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,marginTop:4,marginLeft:2,marginRight:2,paddingTop:4,paddingBottom:4,className:"advanced-gas-fee-defaults"},a.default.createElement(m.Checkbox,{isChecked:C,onChange:()=>{C?(t((0,l.setAdvancedGasFee)({chainId:T,gasFeePreferences:undefined})),x(!1),E({properties:{advanced_gas_defaults_updated_maxbasefee:null,advanced_gas_defaults_updated_priorityfee:null}})):(t((0,l.setAdvancedGasFee)({chainId:T,gasFeePreferences:{maxBaseFee:v,priorityFee:b}})),E({properties:{advanced_gas_defaults_updated_maxbasefee:v,advanced_gas_defaults_updated_priorityfee:b}}))},isDisabled:n.maxFeePerGas||n.maxPriorityFeePerGas,label:e("advancedGasFeeDefaultOptIn",[(0,o.capitalize)(k)])}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/advanced-gas-fee-defaults.js"}],[6087,{"./advanced-gas-fee-defaults":6086},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-defaults"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/index.js"}],[6088,{"../../../../../components/component-library":5534,"../../../../../components/ui/button":5793,"../../../../../components/ui/form-field":5821,"../../../../../contexts/gasFee":5916,"../../../../../helpers/constants/design-system":5953,"../../../../../helpers/utils/util":6001,"../../../../../hooks/useI18nContext":6031,"../../../constants":6325,"../../../send/send.constants":6376,"../context":6102,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../contexts/gasFee"),o=e("../../../../../helpers/utils/util"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),c=e("../../../send/send.constants"),u=m(e("../../../../../components/ui/button")),l=m(e("../../../../../components/ui/form-field")),d=e("../context"),p=e("../../../../../components/component-library"),f=e("../../../constants");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,i.useI18nContext)(),{setGasLimit:t,setErrorValue:n}=(0,d.useAdvancedGasFeePopoverContext)(),{gasLimit:m,minimumGasLimitDec:g,transaction:{chainId:h}}=(0,r.useGasFeeContext)(),[y,v]=(0,a.useState)(!1),[b,_]=(0,a.useState)(m),[T,k]=(0,a.useState)(),E=e=>{_(e)};return(0,a.useEffect)((()=>{if(t(b),f.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(h))return;const e=((e,t)=>(0,o.bnLessThan)(e,t)||(0,o.bnGreaterThan)(e,c.MAX_GAS_LIMIT_DEC)?"editGasLimitOutOfBoundsV2":null)(b,g);k(e),n("gasLimit","editGasLimitOutOfBoundsV2"===e)}),[h,b,g,t,n]),y?a.default.createElement(l.default,{dataTestId:"gas-limit-input",error:T?e(T,[g-1,c.MAX_GAS_LIMIT_DEC]):"",onChange:E,titleText:e("gasLimitV2"),value:b,allowDecimals:!1,numeric:!0}):a.default.createElement(p.Text,{tag:s.TextVariant.bodyMd,variant:s.TextVariant.bodySm,as:"h6",className:"advanced-gas-fee-gas-limit",marginTop:4,marginLeft:2,marginRight:2},a.default.createElement("strong",null,e("gasLimitV2")),a.default.createElement("span",null,b),a.default.createElement(u.default,{"data-testid":"advanced-gas-fee-edit",className:"advanced-gas-fee-gas-limit__edit-link",onClick:()=>v(!0),type:"link"},e("edit")))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/advanced-gas-fee-gas-limit.js"}],[6089,{"./advanced-gas-fee-gas-limit":6088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-gas-limit"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/index.js"}],[6090,{"../../../../../components/ui/box":5789,"../../../../../components/ui/loading-heartbeat":5846,"../../../../../contexts/i18n":5917,"../../../../../helpers/utils/gas":5984,"../../../../../helpers/utils/util":6001,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),s=e("../../../../../helpers/utils/util"),i=e("../../../../../helpers/utils/gas"),c=e("../../../../../contexts/i18n"),u=d(e("../../../../../components/ui/box")),l=d(e("../../../../../components/ui/loading-heartbeat"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({latest:e,historical:t,trend:n})=>{const r=(0,a.useContext)(c.I18nContext),d=function(e,t){switch(e){case"up":return{className:"fa-arrow-up advanced-gas-fee-input-subtext__up",color:"var(--color-success-default)",title:t("upArrow")};case"down":return{className:"fa-arrow-down advanced-gas-fee-input-subtext__down",color:"var(--color-error-default)",title:t("downArrow")};case"level":return{className:"fa-arrow-right advanced-gas-fee-input-subtext__level",color:"var(--color-icon-alternative)",title:t("levelArrow")};default:return null}}(n,r);return a.default.createElement(u.default,{display:"flex",alignItems:"center",gap:4,className:"advanced-gas-fee-input-subtext"},(0,s.isNullish)(e)?null:a.default.createElement(u.default,{display:"flex",alignItems:"center","data-testid":"latest"},a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label"},r("currentTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(l.default,null),(0,i.formatGasFeeOrFeeRange)(e)),null===d?null:a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__icon"},a.default.createElement("i",{className:(0,o.default)("fa",d.className),style:{color:d.color},title:d.title,"data-testid":"fee-arrow"}))),(0,s.isNullish)(t)?null:a.default.createElement(u.default,null,a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label","data-testid":"historical"},r("twelveHrTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(l.default,null),(0,i.formatGasFeeOrFeeRange)(t))))};f.propTypes={latest:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),historical:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),trend:r.default.oneOf(["up","down","level"])};n.default=f}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/advanced-gas-fee-input-subtext.js"}],[6091,{"./advanced-gas-fee-input-subtext":6090},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-input-subtext"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/index.js"}],[6092,{"../../../../../components/ui/box":5789,"./base-fee-input":6094,"./priority-fee-input":6096,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("../../../../../components/ui/box")),o=i(e("./base-fee-input")),s=i(e("./priority-fee-input"));function i(e){return e&&e.__esModule?e:{default:e}}n.default=()=>a.default.createElement(r.default,{className:"advanced-gas-fee-inputs"},a.default.createElement(o.default,null),a.default.createElement(s.default,null))}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/advanced-gas-fee-inputs.js"}],[6093,{"../../../../../../../shared/constants/gas":5038,"../../../../../../../shared/modules/Numeric":5076,"../../../../../../../shared/modules/conversion.utils":5081,"../../../../../../components/ui/box":5789,"../../../../../../components/ui/form-field":5821,"../../../../../../contexts/gasFee":5916,"../../../../../../helpers/constants/common":5951,"../../../../../../hooks/useCurrencyDisplay":6021,"../../../../../../hooks/useI18nContext":6031,"../../../../../../hooks/useUserPreferencedCurrency":6057,"../../../../../../selectors":6639,"../../../../constants":6325,"../../../../send/send.constants":6376,"../../advanced-gas-fee-input-subtext":6091,"../../context":6102,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),c=e("../../../../../../selectors"),u=e("../../../../../../contexts/gasFee"),l=e("../../../../../../hooks/useI18nContext"),d=e("../../../../../../hooks/useUserPreferencedCurrency"),p=e("../../../../../../hooks/useCurrencyDisplay"),f=_(e("../../../../../../components/ui/box")),m=_(e("../../../../../../components/ui/form-field")),g=e("../../context"),h=_(e("../../advanced-gas-fee-input-subtext")),y=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric"),b=e("../../../../constants");function _(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,l.useI18nContext)(),{gasFeeEstimates:t,estimateUsed:n,maxFeePerGas:_,editGasMode:T,transaction:{chainId:k}}=(0,u.useGasFeeContext)(),E=new v.Numeric(_,10).toString(),{gasLimit:w,maxPriorityFeePerGas:C,setErrorValue:x,setMaxFeePerGas:M,setMaxBaseFee:S}=(0,g.useAdvancedGasFeePopoverContext)(),{estimatedBaseFee:P,historicalBaseFeeRange:O,baseFeeTrend:N}=t??{},[I,A]=(0,a.useState)(),{currency:j,numberOfDecimals:R}=(0,d.useUserPreferencedCurrency)(i.PRIMARY),D=(0,r.useSelector)(c.getAdvancedGasFeeValues),F=n!==s.PriorityLevels.custom&&null!=D&&D.maxBaseFee&&T!==s.EditGasModes.swaps?D.maxBaseFee:E,[$,B]=(0,a.useState)(F>0?F:undefined);(0,a.useEffect)((()=>{$===undefined&&F>0&&B(F)}),[$,F,B]);const[L]=(0,p.useCurrencyDisplay)((0,y.decGWEIToHexWEI)($*w),{currency:j,numberOfDecimals:R}),U=(0,a.useCallback)((e=>{B(e)}),[B]);return(0,a.useEffect)((()=>{M($);const e=((e,t,n,a)=>{const r=new v.Numeric(e,10);return new v.Numeric(n,10).greaterThan(r)?"editGasMaxBaseFeeGWEIImbalance":null!=t&&t.low&&r.lessThan(t.low.suggestedMaxFeePerGas,10)&&b.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(a)?"editGasMaxBaseFeeLow":null!=t&&t.high&&r.greaterThan(t.high.suggestedMaxFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxBaseFeeHigh":null})($,t,C,k);A(e),x("maxFeePerGas","editGasMaxBaseFeeGWEIImbalance"===e),S($)}),[$,k,t,C,A,x,M,S]),a.default.createElement(f.default,{className:"base-fee-input",marginLeft:2,marginRight:2},a.default.createElement(m.default,{dataTestId:"base-fee-input",error:I?e(I):"",onChange:U,titleText:e("maxBaseFee"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedBaseGasFeeToolTip"),value:$,detailText:`â‰ˆ ${L}`,allowDecimals:!0,numeric:!0}),a.default.createElement(h.default,{latest:P,historical:O,trend:N}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/base-fee-input.js"}],[6094,{"./base-fee-input":6093},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./base-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/index.js"}],[6095,{"./advanced-gas-fee-inputs":6092},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-inputs"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/index.js"}],[6096,{"./priority-fee-input":6097},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./priority-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/index.js"}],[6097,{"../../../../../../../shared/constants/gas":5038,"../../../../../../../shared/modules/Numeric":5076,"../../../../../../../shared/modules/conversion.utils":5081,"../../../../../../components/ui/box":5789,"../../../../../../components/ui/form-field":5821,"../../../../../../contexts/gasFee":5916,"../../../../../../helpers/constants/common":5951,"../../../../../../hooks/useCurrencyDisplay":6021,"../../../../../../hooks/useI18nContext":6031,"../../../../../../hooks/useUserPreferencedCurrency":6057,"../../../../../../selectors":6639,"../../../../constants":6325,"../../../../send/send.constants":6376,"../../advanced-gas-fee-input-subtext":6091,"../../context":6102,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),c=e("../../../../../../selectors"),u=e("../../../../../../hooks/useCurrencyDisplay"),l=e("../../../../../../contexts/gasFee"),d=e("../../../../../../hooks/useI18nContext"),p=e("../../../../../../hooks/useUserPreferencedCurrency"),f=_(e("../../../../../../components/ui/form-field")),m=_(e("../../../../../../components/ui/box")),g=e("../../context"),h=_(e("../../advanced-gas-fee-input-subtext")),y=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric"),b=e("../../../../constants");function _(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,d.useI18nContext)(),t=(0,r.useSelector)(c.getAdvancedGasFeeValues),{gasLimit:n,setErrorValue:_,setMaxPriorityFeePerGas:T}=(0,g.useAdvancedGasFeePopoverContext)(),{editGasMode:k,estimateUsed:E,gasFeeEstimates:w,maxPriorityFeePerGas:C,transaction:{chainId:x}}=(0,l.useGasFeeContext)(),M=new v.Numeric(C,10).toString(),{latestPriorityFeeRange:S,historicalPriorityFeeRange:P,priorityFeeTrend:O}=w??{},[N,I]=(0,a.useState)(),A=E!==s.PriorityLevels.custom&&null!=t&&t.priorityFee&&k!==s.EditGasModes.swaps?t.priorityFee:M,[j,R]=(0,a.useState)(A>0?A:undefined);(0,a.useEffect)((()=>{j===undefined&&A>0&&R(A)}),[j,A,R]);const{currency:D,numberOfDecimals:F}=(0,p.useUserPreferencedCurrency)(i.PRIMARY),[$]=(0,u.useCurrencyDisplay)((0,y.decGWEIToHexWEI)(j*n),{currency:D,numberOfDecimals:F});return(0,a.useEffect)((()=>{T(j);const e=((e,t,n)=>{const a=new v.Numeric(e,10);return a.lessThan(0,10)?"editGasMaxPriorityFeeBelowMinimumV2":null!=t&&t.low&&a.lessThan(t.low.suggestedMaxPriorityFeePerGas,10)&&b.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(n)?"editGasMaxPriorityFeeLowV2":null!=t&&t.high&&a.greaterThan(t.high.suggestedMaxPriorityFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxPriorityFeeHighV2":null})(j,w,x);_("maxPriorityFeePerGas","editGasMaxPriorityFeeBelowMinimumV2"===e),I(e)}),[x,w,j,_,T,I]),a.default.createElement(m.default,{marginTop:4,marginLeft:2,marginRight:2,className:"priority-fee-input"},a.default.createElement(f.default,{dataTestId:"priority-fee-input",error:N?e(N):"",onChange:e=>{R(e)},titleText:e("priorityFeeProperCase"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedPriorityFeeToolTip"),value:j,detailText:`â‰ˆ ${$}`,allowDecimals:!0,numeric:!0}),a.default.createElement(h.default,{latest:S,historical:P,trend:O}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/priority-fee-input.js"}],[6098,{"../../../../components/ui/box":5789,"../../../../components/ui/popover":5874,"../../../../contexts/transaction-modal":5924,"../../../../hooks/useI18nContext":6031,"./advanced-gas-fee-defaults":6087,"./advanced-gas-fee-gas-limit":6089,"./advanced-gas-fee-inputs":6095,"./advanced-gas-fee-save":6100,"./context":6102,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=e("../../../../hooks/useI18nContext"),o=e("../../../../contexts/transaction-modal"),s=f(e("../../../../components/ui/box")),i=f(e("../../../../components/ui/popover")),c=e("./context"),u=f(e("./advanced-gas-fee-inputs")),l=f(e("./advanced-gas-fee-gas-limit")),d=f(e("./advanced-gas-fee-save")),p=f(e("./advanced-gas-fee-defaults"));function f(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,r.useI18nContext)(),{closeAllModals:t,currentModal:n}=(0,o.useTransactionModalContext)();return"advancedGasFee"!==n?null:a.default.createElement(c.AdvancedGasFeePopoverContextProvider,null,a.default.createElement(i.default,{className:"advanced-gas-fee-popover",title:e("advancedGasFeeModalTitle"),onClose:t,footer:a.default.createElement(d.default,null)},a.default.createElement(s.default,{margin:4},a.default.createElement(u.default,null),a.default.createElement(p.default,null),a.default.createElement(l.default,null))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-popover.js"}],[6099,{"../../../../../../shared/constants/gas":5038,"../../../../../../shared/modules/conversion.utils":5081,"../../../../../components/ui/button":5793,"../../../../../contexts/gasFee":5916,"../../../../../contexts/transaction-modal":5924,"../../../../../hooks/useI18nContext":6031,"../../../hooks/useTransactionEventFragment":6365,"../context":6102,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=e("../../../../../../shared/constants/gas"),o=e("../../../../../../shared/modules/conversion.utils"),s=e("../../../../../contexts/transaction-modal"),i=e("../../../../../contexts/gasFee"),c=e("../../../hooks/useTransactionEventFragment"),u=e("../../../../../hooks/useI18nContext"),l=p(e("../../../../../components/ui/button")),d=e("../context");function p(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{closeModal:e}=(0,s.useTransactionModalContext)(),{updateTransactionEventFragment:t}=(0,c.useTransactionEventFragment)(),{updateTransaction:n}=(0,i.useGasFeeContext)(),p=(0,u.useI18nContext)(),{gasLimit:f,hasErrors:m,maxFeePerGas:g,maxPriorityFeePerGas:h}=(0,d.useAdvancedGasFeePopoverContext)();return a.default.createElement(l.default,{type:"primary",disabled:m,onClick:()=>{n({estimateUsed:r.PriorityLevels.custom,maxFeePerGas:(0,o.decGWEIToHexWEI)(g),maxPriorityFeePerGas:(0,o.decGWEIToHexWEI)(h),gasLimit:f}),t({properties:{gas_edit_type:"advanced"}}),e(["advancedGasFee","editGasFee"])}},p("save"))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-save/advanced-gas-fee-save.js"}],[6100,{"./advanced-gas-fee-save":6099},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-save"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-save/index.js"}],[6101,{"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AdvancedGasFeePopoverContextProvider=n.AdvancedGasFeePopoverContext=void 0,n.useAdvancedGasFeePopoverContext=function(){return(0,r.useContext)(i)};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const i=n.AdvancedGasFeePopoverContext=(0,r.createContext)({}),c=({children:e})=>{const[t,n]=(0,r.useState)(),[a,o]=(0,r.useState)(),[s,c]=(0,r.useState)(),[u,l]=(0,r.useState)({maxFeePerGas:!1,maxPriorityFeePerGas:!1,gasLimit:!1}),d=(0,r.useCallback)(((e,t)=>{u[e]!==t&&l({...u,[e]:t})}),[u,l]),[p,f]=(0,r.useState)();return r.default.createElement(i.Provider,{value:{gasLimit:t,hasErrors:u.maxFeePerGas||u.maxPriorityFeePerGas||u.gasLimit,gasErrors:u,maxFeePerGas:a,maxPriorityFeePerGas:s,setErrorValue:d,maxBaseFee:p,setGasLimit:n,setMaxPriorityFeePerGas:c,setMaxFeePerGas:o,setMaxBaseFee:f}},e)};n.AdvancedGasFeePopoverContextProvider=c,c.propTypes={children:o.default.node.isRequired}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/context/advancedGasFeePopover.js"}],[6102,{"./advancedGasFeePopover":6101},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./advancedGasFeePopover");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/context/index.js"}],[6103,{"./advanced-gas-fee-popover":6098},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/index.js"}],[6104,{"../../../../../shared/modules/transaction.utils":5105,"../../../../components/component-library":5534,"../../../../components/ui/box/box":5788,"../../../../components/ui/button":5793,"../../../../contexts/i18n":5917,"../../../../helpers/constants/design-system":5953,"../../../../helpers/utils/confirm-tx.util":5980,"../confirm-gas-display":6108,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("prop-types")),o=m(e("classnames")),s=m(e("../../../../components/ui/box/box")),i=m(e("../../../../components/ui/button")),c=e("../../../../components/component-library"),u=e("../../../../helpers/constants/design-system"),l=e("../../../../contexts/i18n"),d=e("../confirm-gas-display"),p=e("../../../../helpers/utils/confirm-tx.util"),f=e("../../../../../shared/modules/transaction.utils");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h({showHeader:e=!0,symbol:t,title:n,showEdit:r,showAdvanceGasFeeOptions:m=!1,onEditClick:g,footer:h,noBorder:y,supportsEIP1559:v,renderTransactionDetailsContent:b,renderDataContent:_,ethTransactionTotal:T,nativeCurrency:k,fiatTransactionTotal:E,currentCurrency:w,isSetApproveForAll:C,isApprovalOrRejection:x,data:M,userAcknowledgedGasMissing:S,renderSimulationFailureWarning:P,useCurrencyRateCheck:O}){const N=(0,a.useContext)(l.I18nContext),I=(0,f.parseStandardTokenTransactionData)(M),A=null==I?void 0:I.name,j=(null==A?void 0:A.charAt(0).toUpperCase())+(null==A?void 0:A.slice(1));return a.default.createElement(s.default,{className:(0,o.default)({"approve-content-card-container__card":!y,"approve-content-card-container__card--no-border":y})},e&&a.default.createElement(s.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.flexEnd,className:"approve-content-card-container__card-header"},v&&n===N("transactionFee")?null:a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{className:"approve-content-card-container__card-header__symbol"},t),a.default.createElement(s.default,{marginLeft:4,className:"approve-content-card-container__card-header__title"},a.default.createElement(c.Text,{variant:u.TextVariant.bodySmBold,as:"h6"},n))),r&&(!m||!v)&&a.default.createElement(s.default,{width:u.BlockSize.OneSixth},a.default.createElement(i.default,{type:"link",onClick:()=>g()},a.default.createElement(c.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.primaryDefault,as:"h6"},N("edit"))))),a.default.createElement(s.default,{marginTop:1,marginBottom:3,className:"approve-content-card-container__card-content"},b&&(v&&!P?a.default.createElement(d.ConfirmGasDisplay,{userAcknowledgedGasMissing:S}):a.default.createElement(s.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween},a.default.createElement(s.default,null,a.default.createElement(c.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.textAlternative,as:"h6"},N("feeAssociatedRequest"))),a.default.createElement(s.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,alignItems:u.AlignItems.flexEnd,textAlign:u.TextAlign.Right},O&&a.default.createElement(s.default,null,a.default.createElement(c.Text,{variant:u.TextVariant.headingSm,fontWeight:u.FontWeight.Bold,color:u.TextColor.textDefault,as:"h4"},(0,p.formatCurrency)(E,w))),a.default.createElement(s.default,null,a.default.createElement(c.Text,{variant:u.TextVariant.bodySm,fontWeight:u.FontWeight.Normal,color:u.TextColor.textMuted,as:"h6"},`${T} ${k}`))))),_&&a.default.createElement(s.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column},a.default.createElement(s.default,null,a.default.createElement(c.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.textAlternative,as:"h6"},`${N("function",[j])}`)),C&&x!==undefined?a.default.createElement(s.default,null,a.default.createElement(c.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.textAlternative,as:"h6"},`${N("parameters")}: ${x}`)):null,a.default.createElement(s.default,{marginRight:4,className:"approve-content-card-container__data__data-block"},a.default.createElement(c.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.textAlternative,as:"h6"},M)))),h)}h.propTypes={showHeader:r.default.bool,symbol:r.default.node,title:r.default.string,showEdit:r.default.bool,showAdvanceGasFeeOptions:r.default.bool,onEditClick:r.default.func,footer:r.default.node,noBorder:r.default.bool,supportsEIP1559:r.default.bool,renderTransactionDetailsContent:r.default.bool,renderDataContent:r.default.bool,ethTransactionTotal:r.default.string,nativeCurrency:r.default.string,fiatTransactionTotal:r.default.string,currentCurrency:r.default.string,isSetApproveForAll:r.default.bool,isApprovalOrRejection:r.default.bool,data:r.default.string,userAcknowledgedGasMissing:r.default.bool,renderSimulationFailureWarning:r.default.bool,useCurrencyRateCheck:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/approve-content-card/approve-content-card.js"}],[6105,{"../../../../ducks/send":5946,"../../../../helpers/utils/transactions.util":5999,"../../../../selectors":6639,"../gas-details-item":6211,"./confirm-legacy-gas-display":6107,"@metamask/transaction-controller":2685,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../../../selectors"),c=e("../../../../helpers/utils/transactions.util"),u=p(e("../gas-details-item")),l=e("../../../../ducks/send"),d=e("./confirm-legacy-gas-display");function p(e){return e&&e.__esModule?e:{default:e}}const f=({userAcknowledgedGasMissing:e=!1})=>{const{txParams:t}=(0,o.useSelector)((e=>(0,i.txDataSelector)(e))),n=(0,o.useSelector)(l.getCurrentDraftTransaction),r=null==n?void 0:n.transactionType;let p;p=r?r===s.TransactionEnvelopeType.legacy:(0,c.isLegacyTransaction)(t);const f="confirm-gas-display";return(0,o.useSelector)(i.checkNetworkAndAccountSupports1559)&&!p?a.default.createElement(u.default,{"data-testid":f,userAcknowledgedGasMissing:e}):a.default.createElement(d.ConfirmLegacyGasDisplay,{"data-testid":f})};f.propTypes={userAcknowledgedGasMissing:r.default.bool};n.default=f}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/confirm-gas-display.js"}],[6106,{"../../../../../../shared/modules/conversion.utils":5081,"../../../../../components/app/user-preferenced-currency-display":5457,"../../../../../components/component-library":5534,"../../../../../components/ui/info-tooltip":5841,"../../../../../components/ui/loading-heartbeat":5846,"../../../../../helpers/constants/common":5951,"../../../../../helpers/constants/design-system":5953,"../../../../../hooks/useI18nContext":6031,"../../../../../selectors":6639,"../../../hooks/useDraftTransactionWithTxParams":6352,"../../transaction-detail-item":6271,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=y(e("react")),r=y(e("prop-types")),o=e("react-redux"),s=e("../../../../../hooks/useI18nContext"),i=e("../../../../../selectors"),c=e("../../../../../helpers/constants/common"),u=y(e("../../transaction-detail-item")),l=y(e("../../../../../components/app/user-preferenced-currency-display")),d=y(e("../../../../../components/ui/info-tooltip")),p=y(e("../../../../../components/ui/loading-heartbeat")),f=e("../../../../../helpers/constants/design-system"),m=e("../../../hooks/useDraftTransactionWithTxParams"),g=e("../../../../../components/component-library"),h=e("../../../../../../shared/modules/conversion.utils");function y(e){return e&&e.__esModule?e:{default:e}}const v=()=>a.default.createElement(p.default,null),b=({"data-testid":e}={})=>{const t=(0,s.useI18nContext)(),n=(0,o.useSelector)(i.getIsMainnet),r=(0,o.useSelector)(i.getUseCurrencyRateCheck),{useNativeCurrencyAsPrimaryCurrency:p}=(0,o.useSelector)(i.getPreferences),y=(0,o.useSelector)(i.getUnapprovedTransactions),b=(0,m.useDraftTransactionWithTxParams)(),_=(0,o.useSelector)((e=>(0,i.txDataSelector)(e))),{id:T,dappSuggestedGasFees:k,layer1GasFee:E}=_,w=Object.keys(b).length?b:y[T]||{},{hexMinimumTransactionFee:C,hexMaximumTransactionFee:x}=(0,o.useSelector)((e=>(0,i.transactionFeeSelector)(e,w))),M=(0,h.addHexes)(C,E??"0x0"),S=(0,h.addHexes)(x,E??"0x0");return a.default.createElement(u.default,{key:"legacy-gas-details","data-testid":e,detailTitle:k?a.default.createElement(a.default.Fragment,null,t("transactionDetailGasHeading"),a.default.createElement(d.default,{contentText:t("transactionDetailDappGasTooltip"),position:"top"},a.default.createElement(g.Icon,{name:g.IconName.Info}))):a.default.createElement(a.default.Fragment,null,t("transactionDetailGasHeading"),a.default.createElement(d.default,{contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",null,t("transactionDetailGasTooltipIntro",[n?t("networkNameEthereum"):""])),a.default.createElement("p",null,t("transactionDetailGasTooltipExplanation")),a.default.createElement("p",null,a.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},t("transactionDetailGasTooltipConversion")))),position:"top"},a.default.createElement(g.Icon,{name:g.IconName.Info}))),detailText:r&&a.default.createElement("div",null,v(),a.default.createElement(l.default,{type:c.SECONDARY,value:M,hideLabel:Boolean(p)})),detailTotal:a.default.createElement("div",null,v(),a.default.createElement(l.default,{type:c.PRIMARY,value:M,hideLabel:!p,suffixProps:{color:f.TextColor.textDefault,variant:f.TextVariant.bodyMdBold},textProps:{color:f.TextColor.textDefault,variant:f.TextVariant.bodyMdBold},numberOfDecimals:6})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement("strong",{key:"editGasSubTextFeeLabel"},t("editGasSubTextFeeLabel")),a.default.createElement("div",{key:"editGasSubTextFeeValue"},v(),a.default.createElement(l.default,{key:"editGasSubTextFeeAmount",type:c.PRIMARY,value:S,hideLabel:!p}))),subTitle:k&&t("transactionDetailDappGasMoreInfo")})};b.propTypes={"data-testid":r.default.string};n.default=b}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/confirm-legacy-gas-display/confirm-legacy-gas-display.js"}],[6107,{"./confirm-legacy-gas-display":6106},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmLegacyGasDisplay",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-legacy-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/confirm-legacy-gas-display/index.js"}],[6108,{"./confirm-gas-display":6105},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmGasDisplay",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/index.js"}],[6109,{"../../../../../shared/modules/buffer-utils":5078,"../../../../../shared/modules/transaction.utils":5105,"../../../../components/component-library":5534,"../../../../components/ui/box":5789,"../../../../helpers/constants/design-system":5953,"../../../../hooks/useI18nContext":6031,"../../../../selectors":6639,"../../hooks/useTransactionFunctionType":6366,"../transaction-decoding/components/ui/copy-raw-data":6270,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("react")),r=g(e("prop-types")),o=e("react-redux"),s=e("../../../../../shared/modules/buffer-utils"),i=e("../../../../selectors"),c=e("../../../../hooks/useI18nContext"),u=e("../../hooks/useTransactionFunctionType"),l=e("../../../../helpers/constants/design-system"),d=g(e("../../../../components/ui/box")),p=e("../../../../components/component-library"),f=g(e("../transaction-decoding/components/ui/copy-raw-data")),m=e("../../../../../shared/modules/transaction.utils");function g(e){return e&&e.__esModule?e:{default:e}}const h=({txData:e,dataHexComponent:t})=>{const n=(0,c.useI18nContext)(),{txParams:r={}}=e,g=(0,o.useSelector)((e=>(0,i.getKnownMethodData)(e,r.data)||{})),{functionType:h}=(0,u.useTransactionFunctionType)(e);if(t)return t;if(!(0,m.hasTransactionData)(r.data)||!r.to)return null;const{params:y}=g,v=null!=y&&y.length?`(${y.map((({type:e})=>e)).join(", ")})`:"";return a.default.createElement(d.default,{padding:4},a.default.createElement(d.default,{paddingBottom:3,paddingTop:2},a.default.createElement(p.Text,{as:"span",textTransform:l.TextTransform.Uppercase,variant:l.TextVariant.bodySm},`${n("functionType")}:`),a.default.createElement(p.Text,{as:"span",color:l.Color.textDefault,paddingLeft:1,textTransform:l.TextTransform.Capitalize,variant:l.TextVariant.bodySmBold},`${h} ${v}`)),y&&a.default.createElement(d.default,{backgroundColor:l.Color.backgroundAlternative,padding:4},a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:l.TextTransform.Uppercase,variant:l.TextVariant.bodySm},`${n("parameters")}:`),a.default.createElement(p.Text,{overflowWrap:l.OverflowWrap.BreakWord,variant:l.TextVariant.bodySm},a.default.createElement("pre",null,JSON.stringify(y,null,2)))),a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:l.TextTransform.Uppercase,variant:l.TextVariant.bodySm},`${n("hexData")}: ${(0,s.toBuffer)(null==r?void 0:r.data).length} bytes`),a.default.createElement(p.Text,{backgroundColor:l.Color.backgroundAlternative,overflowWrap:l.OverflowWrap.BreakWord,padding:4,variant:l.TextVariant.bodySm},null==r?void 0:r.data),a.default.createElement(f.default,{data:null==r?void 0:r.data}))};h.propTypes={txData:r.default.object,dataHexComponent:r.default.element};n.default=h}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-hexdata/confirm-hexdata.js"}],[6110,{"./confirm-hexdata":6109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmHexData",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-hexdata"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-hexdata/index.js"}],[6111,{"../../../../../components/app/user-preferenced-currency-display":5457,"../../../../../helpers/constants/common":5951,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=c(e("prop-types")),o=c(e("classnames")),s=c(e("../../../../../components/app/user-preferenced-currency-display")),i=e("../../../../../helpers/constants/common");function c(e){return e&&e.__esModule?e:{default:e}}const u=e=>{const{label:t,primaryText:n,secondaryText:r,onHeaderClick:c,primaryValueTextColor:u,headerText:l,headerTextClassName:d,value:p}=e;return a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement("div",{className:"confirm-detail-row__label"},t),a.default.createElement("div",{className:"confirm-detail-row__details"},l&&a.default.createElement("div",{className:(0,o.default)("confirm-detail-row__header-text",d),onClick:()=>null==c?void 0:c()},l),n?a.default.createElement("div",{className:"confirm-detail-row__primary",style:{color:u}},n):a.default.createElement(s.default,{className:"confirm-detail-row__primary",type:i.PRIMARY,value:p,showEthLogo:!0,style:{color:u},hideLabel:!0}),r?a.default.createElement("div",{className:"confirm-detail-row__secondary"},r):a.default.createElement(s.default,{className:"confirm-detail-row__secondary",type:i.SECONDARY,value:p,showEthLogo:!0,hideLabel:!0})))};u.propTypes={headerText:r.default.string,headerTextClassName:r.default.string,label:r.default.string,onHeaderClick:r.default.func,primaryValueTextColor:r.default.string,primaryText:r.default.oneOfType([r.default.string,r.default.node]),secondaryText:r.default.string,value:r.default.string};n.default=u}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-detail-row/confirm-detail-row.component.js"}],[6112,{"./confirm-detail-row.component":6111},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-detail-row.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-detail-row/index.js"}],[6113,{".":6118,"../../../../../../shared/constants/security-provider":5053,"../../../../../components/component-library":5534,"../../../../../components/ui/page-container":5868,"../../../../../components/ui/tabs":5889,"../../../../../helpers/constants/design-system":5953,"../../../../../helpers/constants/error-keys":5954,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=f(e("prop-types")),o=f(e("classnames")),s=e("../../../../../components/ui/tabs"),i=e("../../../../../components/component-library"),c=e("../../../../../components/ui/page-container"),u=e("../../../../../helpers/constants/error-keys"),l=e("../../../../../helpers/constants/design-system"),d=e("../../../../../../shared/constants/security-provider"),p=e(".");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.Component{renderContent(){const{detailsComponent:e,dataHexComponent:t,insightComponent:n}=this.props;return n&&(e||t)||e&&t?this.renderTabs():e||n}renderTabs(){const{t:e}=this.context,{detailsComponent:t,dataHexComponent:n,insightComponent:r}=this.props;return a.default.createElement(s.Tabs,{defaultActiveTabKey:"details"},a.default.createElement(s.Tab,{className:"confirm-page-container-content__tab",name:e("details"),tabKey:"details"},t),n&&a.default.createElement(s.Tab,{className:"confirm-page-container-content__tab",name:e("dataHex"),tabKey:"dataHex"},n),r)}render(){var e;const{action:t,errorKey:n,errorMessage:r,image:s,titleComponent:f,subtitleComponent:m,tokenAddress:g,nonce:h,detailsComponent:y,warning:v,onCancelAll:b,onCancel:_,cancelText:T,onSubmit:k,submitText:E,disabled:w,unapprovedTxCount:C,rejectNText:x,origin:M,ethGasPriceWarning:S,supportsEIP1559:P,hasTopBorder:O,nativeCurrency:N,networkName:I,toAddress:A,transactionType:j,isBuyableChain:R,openBuyCryptoInPdapp:D,txData:F}=this.props,{t:$}=this.context,B=(n||r)&&n===u.INSUFFICIENT_FUNDS_ERROR_KEY,L=n===u.IS_SIGNING_OR_SUBMITTING,U=n===u.USER_OP_CONTRACT_DEPLOY_ERROR_KEY,G=(null==F||null===(e=F.securityAlertResponse)||void 0===e?void 0:e.result_type)===d.BlockaidResultType.Malicious?"danger-primary":"primary";return a.default.createElement("div",{className:(0,o.default)("confirm-page-container-content",{"confirm-page-container-content--with-top-border":O})},v?a.default.createElement(p.ConfirmPageContainerWarning,{warning:v}):null,S&&a.default.createElement(p.ConfirmPageContainerWarning,{warning:S}),a.default.createElement(p.ConfirmPageContainerSummary,{className:(0,o.default)({"confirm-page-container-summary--border":!y}),action:t,image:s,titleComponent:f,subtitleComponent:m,tokenAddress:g,nonce:h,origin:M,toAddress:A,transactionType:j}),this.renderContent(),!P&&!B&&!L&&!U&&(n||r)&&a.default.createElement(i.BannerAlert,{severity:l.Severity.Danger,description:n?$(n):r,marginBottom:4,marginLeft:4,marginRight:4}),B&&a.default.createElement(i.BannerAlert,{severity:l.Severity.Danger,marginBottom:4,marginLeft:4,marginRight:4,description:R?$("insufficientCurrencyBuyOrDeposit",[N,I,a.default.createElement(i.Button,{variant:i.BUTTON_VARIANT.LINK,size:i.BUTTON_SIZES.INHERIT,onClick:D,key:`${N}-buy-button`},$("buyAsset",[N]))]):$("insufficientCurrencyDeposit",[N,I])}),(L||U)&&a.default.createElement(i.BannerAlert,{"data-testid":"confirm-page-container-content-error-banner-2",severity:l.Severity.Danger,description:$(n),marginBottom:4,marginLeft:4,marginRight:4}),a.default.createElement(c.PageContainerFooter,{onCancel:_,cancelText:T,onSubmit:k,submitText:E,disabled:w,submitButtonType:G},C>1?a.default.createElement("a",{onClick:b},x):null))}}n.default=h,g(h,"contextTypes",{t:r.default.func.isRequired}),g(h,"propTypes",{action:r.default.string,dataHexComponent:r.default.node,detailsComponent:r.default.node,insightComponent:r.default.node,errorKey:r.default.string,errorMessage:r.default.string,tokenAddress:r.default.string,nonce:r.default.string,subtitleComponent:r.default.node,image:r.default.string,titleComponent:r.default.node,warning:r.default.string,origin:r.default.string.isRequired,ethGasPriceWarning:r.default.string,onCancelAll:r.default.func,onCancel:r.default.func,cancelText:r.default.string,onSubmit:r.default.func,submitText:r.default.string,disabled:r.default.bool,unapprovedTxCount:r.default.number,rejectNText:r.default.string,supportsEIP1559:r.default.bool,hasTopBorder:r.default.bool,nativeCurrency:r.default.string,networkName:r.default.string,toAddress:r.default.string,transactionType:r.default.string,isBuyableChain:r.default.bool,openBuyCryptoInPdapp:r.default.func,txData:r.default.object})}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-content.component.js"}],[6114,{"../../../../../../../shared/constants/app":5031,"../../../../../../../shared/modules/hexstring-utils":5089,"../../../../../../components/app/modals/nickname-popovers":5260,"../../../../../../components/ui/identicon":5840,"../../../../../../components/ui/info-tooltip":5841,"../../../../../../components/ui/site-origin":5885,"../../../../../../helpers/utils/util":6001,"../../../../../../hooks/useAddressDetails":6017,"../../../../../../hooks/useI18nContext":6031,"../../../../../../selectors":6639,"@metamask/transaction-controller":2685,classnames:3599,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=v(e("prop-types")),s=v(e("classnames")),i=e("@metamask/transaction-controller"),c=e("../../../../../../../shared/modules/hexstring-utils"),u=e("../../../../../../hooks/useI18nContext"),l=v(e("../../../../../../hooks/useAddressDetails")),d=e("../../../../../../selectors"),p=v(e("../../../../../../components/ui/identicon")),f=v(e("../../../../../../components/ui/info-tooltip")),m=v(e("../../../../../../components/app/modals/nickname-popovers")),g=e("../../../../../../../shared/constants/app"),h=v(e("../../../../../../components/ui/site-origin")),y=e("../../../../../../helpers/utils/util");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const _=e=>{const{action:t,titleComponent:n,subtitleComponent:o,className:v,tokenAddress:b,nonce:_,origin:T,image:k,transactionType:E}=e,[w,C]=(0,a.useState)(!1),x=(0,u.useI18nContext)(),M=(0,r.useSelector)(d.getIpfsGateway),S=(0,r.useSelector)(d.txDataSelector),{txParams:P={}}=S,{to:O}=P,N=[i.TransactionType.contractInteraction,i.TransactionType.tokenMethodTransfer,i.TransactionType.tokenMethodTransferFrom,i.TransactionType.tokenMethodSafeTransferFrom].includes(E);let I;N&&(I=E===i.TransactionType.tokenMethodTransfer||E===i.TransactionType.tokenMethodTransferFrom||E===i.TransactionType.tokenMethodSafeTransferFrom||E===i.TransactionType.tokenMethodSetApprovalForAll?b:O);const{toName:A,isTrusted:j}=(0,l.default)(I),R=(0,c.toChecksumHexAddress)(I);return a.default.createElement("div",{className:(0,s.default)("confirm-page-container-summary",v)},T===g.ORIGIN_METAMASK?null:a.default.createElement(h.default,{className:"confirm-page-container-summary__origin",siteOrigin:T}),a.default.createElement("div",{className:"confirm-page-container-summary__action-row"},a.default.createElement("div",{className:"confirm-page-container-summary__action"},N&&A&&a.default.createElement("span",{className:"confirm-page-container-summary__action__contract-address"},a.default.createElement("button",{className:"confirm-page-container-summary__action__contract-address-btn",onClick:()=>C(!0),role:"button"},A),":"),a.default.createElement("span",{className:"confirm-page-container-summary__action__name"},t),N&&!1===j&&a.default.createElement(f.default,{position:"top",contentText:x("unverifiedContractAddressMessage")})),_&&a.default.createElement("div",{className:"confirm-page-container-summary__nonce"},`#${_}`)),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-page-container-summary__title"},(()=>{const e=(0,y.getAssetImageURL)(k,M);return k?a.default.createElement("img",{className:"confirm-page-container-summary__icon",width:36,src:e}):I?a.default.createElement(p.default,{className:"confirm-page-container-summary__icon",diameter:36,address:I}):null})(),n),o),w&&a.default.createElement(m.default,{onClose:()=>C(!1),address:R}))};_.propTypes={action:o.default.string,image:o.default.string,titleComponent:o.default.node,subtitleComponent:o.default.node,className:o.default.string,tokenAddress:o.default.string,nonce:o.default.string,origin:o.default.string.isRequired,transactionType:o.default.string};n.default=_}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/confirm-page-container-summary.component.js"}],[6115,{"./confirm-page-container-summary.component":6114},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-summary.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/index.js"}],[6116,{"../../../../../../components/component-library":5534,"../../../../../../helpers/constants/design-system":5953,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("prop-types")),o=e("../../../../../../components/component-library"),s=e("../../../../../../helpers/constants/design-system");function i(e){return e&&e.__esModule?e:{default:e}}const c=e=>a.default.createElement("div",{className:"confirm-page-container-warning"},a.default.createElement(o.Icon,{name:o.IconName.Info,color:s.IconColor.warningDefault,className:"confirm-page-container-warning__icon"}),a.default.createElement("div",{className:"confirm-page-container-warning__warning"},e.warning));c.propTypes={warning:r.default.string};n.default=c}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/confirm-page-container-warning.component.js"}],[6117,{"./confirm-page-container-warning.component":6116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-warning.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/index.js"}],[6118,{"./confirm-page-container-content.component":6113,"./confirm-page-container-summary":6115,"./confirm-page-container-warning":6117},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ConfirmPageContainerWarning",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=s(e("./confirm-page-container-content.component")),r=s(e("./confirm-page-container-summary")),o=s(e("./confirm-page-container-warning"));function s(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/index.js"}],[6119,{"../../../../../../app/scripts/lib/util":128,"../../../../../../shared/constants/app":5031,"../../../../../components/app/network-display":5282,"../../../../../components/component-library":5534,"../../../../../components/ui/account-mismatch-warning/account-mismatch-warning.component":5784,"../../../../../components/ui/identicon":5840,"../../../../../helpers/utils/util":6001,"../../../../../hooks/useI18nContext":6031,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),r=f(e("prop-types")),o=e("../../../../../../shared/constants/app"),s=e("../../../../../../app/scripts/lib/util"),i=f(e("../../../../../components/app/network-display")),c=f(e("../../../../../components/ui/identicon")),u=e("../../../../../helpers/utils/util"),l=f(e("../../../../../components/ui/account-mismatch-warning/account-mismatch-warning.component")),d=e("../../../../../hooks/useI18nContext"),p=e("../../../../../components/component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onEdit:e,showEdit:t,accountAddress:n,showAccountInHeader:r,children:f,origin:m}){const g=(0,d.useI18nContext)(),h=(0,s.getEnvironmentType)(),y=h!==o.ENVIRONMENT_TYPE_NOTIFICATION&&h!==o.ENVIRONMENT_TYPE_POPUP;return!t&&y?f:a.default.createElement("div",{className:"confirm-page-container-header","data-testid":"header-container"},a.default.createElement("div",{className:"confirm-page-container-header__row"},r?a.default.createElement("div",{className:"confirm-page-container-header__address-container"},a.default.createElement("div",{className:"confirm-page-container-header__address-identicon"},a.default.createElement(c.default,{address:n,diameter:24})),a.default.createElement("div",{className:"confirm-page-container-header__address","data-testid":"header-address"},(0,u.shortenAddress)(n)),a.default.createElement(l.default,{address:n})):m===o.ORIGIN_METAMASK&&a.default.createElement("div",{className:"confirm-page-container-header__back-button-container",style:{visibility:t?"initial":"hidden"}},a.default.createElement(p.Icon,{name:p.IconName.ArrowLeft}),a.default.createElement("span",{"data-testid":"confirm-page-back-edit-button",className:"confirm-page-container-header__back-button",onClick:()=>e()},g("edit"))),a.default.createElement(i.default,null)),f)}m.propTypes={accountAddress:r.default.string,showAccountInHeader:r.default.bool,showEdit:r.default.bool,onEdit:r.default.func,children:r.default.node,origin:r.default.string}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-header/confirm-page-container-header.component.js"}],[6120,{"./confirm-page-container-header.component":6119},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-header/index.js"}],[6121,{"../../../../../../shared/constants/metametrics":5043,"../../../../../contexts/i18n":5917,"../../../../../ducks/confirm-transaction/confirm-transaction.duck":5933,"../../../../../helpers/constants/routes":5959,"../../../../../selectors":6639,"../../../hooks/useQueuedConfirmationEvents":6361,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../../../selectors"),i=e("../../../../../contexts/i18n"),c=e("../../../../../helpers/constants/routes"),u=e("../../../../../ducks/confirm-transaction/confirm-transaction.duck"),l=e("../../../../../../shared/constants/metametrics"),d=e("../../../hooks/useQueuedConfirmationEvents");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(i.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),{id:p}=(0,o.useParams)(),f=(0,r.useSelector)(s.unapprovedDecryptMsgsSelector),m=(0,r.useSelector)(s.unapprovedEncryptionPublicKeyMsgsSelector),g=(0,r.useSelector)(s.unconfirmedTransactionsListSelector)??[],h=[...Object.keys(f||{}),...Object.keys(m||{})],y=g.map((e=>e.id)).filter((e=>!1===h.includes(e))),v=y.indexOf(p),b=y.length,_=v+1,T=y[v+1],k=y[v-1],E=y.length>1,w=y[0],C=y[y.length-1],x=e=>{if(e){var a;t((0,u.clearConfirmTransaction)());const r=y.indexOf(e);n.push(null!==(a=g[r])&&void 0!==a&&a.msgParams?`${c.CONFIRM_TRANSACTION_ROUTE}/${e}${c.SIGNATURE_REQUEST_PATH}`:`${c.CONFIRM_TRANSACTION_ROUTE}/${e}`)}};return(0,d.useQueuedConfirmationsEvent)(l.QueueType.NavigationHeader),a.default.createElement("div",{className:"confirm-page-container-navigation",style:{display:E?"flex":"none"}},a.default.createElement("div",{className:"confirm-page-container-navigation__container","data-testid":"navigation-container",style:{visibility:k?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"first-page",onClick:()=>x(w)},a.default.createElement("i",{className:"fa fa-angle-double-left fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"previous-page",onClick:()=>x(k)},a.default.createElement("i",{className:"fa fa-angle-left fa-2x"}))),a.default.createElement("div",{className:"confirm-page-container-navigation__textcontainer"},a.default.createElement("div",{className:"confirm-page-container-navigation__navtext"},_," ",e("ofTextNofM")," ",b),a.default.createElement("div",{className:"confirm-page-container-navigation__longtext"},e("requestsAwaitingAcknowledgement"))),a.default.createElement("div",{className:"confirm-page-container-navigation__container",style:{visibility:T?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"next-page",onClick:()=>x(T)},a.default.createElement("i",{className:"fa fa-angle-right fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"last-page",onClick:()=>x(C)},a.default.createElement("i",{className:"fa fa-angle-double-right fa-2x"}))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-navigation/confirm-page-container-navigation.component.js"}],[6122,{"./confirm-page-container-navigation.component":6121},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-navigation.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-navigation/index.js"}],[6123,{".":6124,"../../../../../shared/constants/gas":5038,"../../../../../shared/constants/metametrics":5043,"../../../../../shared/constants/network":5047,"../../../../../shared/constants/security-provider":5053,"../../../../../shared/constants/transaction":5061,"../../../../../shared/lib/token-util":5072,"../../../../components/app/network-account-balance-header/network-account-balance-header":5281,"../../../../components/app/snaps/insight-warnings":5318,"../../../../components/component-library":5534,"../../../../components/ui/actionable-message/actionable-message":5785,"../../../../components/ui/button":5793,"../../../../components/ui/error-message":5816,"../../../../components/ui/page-container":5868,"../../../../components/ui/sender-to-recipient":5880,"../../../../contexts/gasFee":5916,"../../../../contexts/metametrics":5920,"../../../../ducks/ramps":5943,"../../../../helpers/constants/design-system":5953,"../../../../helpers/constants/error-keys":5954,"../../../../hooks/ramps/useRamps/useRamps":6011,"../../../../hooks/useI18nContext":6031,"../../../../hooks/useTransactionInsights":6056,"../../../../selectors":6639,"../advanced-gas-fee-popover":6103,"../edit-gas-fee-popover/edit-gas-fee-popover":6195,"../edit-gas-popover":6208,"../set-approval-for-all-warning":6223,"@metamask/transaction-controller":2685,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=R(e("prop-types")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../../../../shared/constants/gas"),c=e("../../../../contexts/gasFee"),u=e("../../../../../shared/constants/transaction"),l=e("../../../../../shared/constants/network"),d=e("../../../../components/ui/page-container"),p=R(e("../../../../components/ui/button")),f=R(e("../../../../components/ui/actionable-message/actionable-message")),m=R(e("../../../../components/ui/sender-to-recipient")),g=e("../../../../../shared/lib/token-util"),h=R(e("../advanced-gas-fee-popover")),y=R(e("../edit-gas-fee-popover/edit-gas-fee-popover")),v=R(e("../edit-gas-popover")),b=R(e("../../../../components/ui/error-message")),_=e("../../../../helpers/constants/error-keys"),T=e("../../../../components/component-library"),k=e("../../../../helpers/constants/design-system"),E=R(e("../../../../components/app/network-account-balance-header/network-account-balance-header")),w=R(e("../set-approval-for-all-warning")),C=e("../../../../hooks/useI18nContext"),x=R(e("../../../../hooks/useTransactionInsights")),M=R(e("../../../../components/app/snaps/insight-warnings")),S=e("../../../../selectors"),P=R(e("../../../../hooks/ramps/useRamps/useRamps")),O=e("../../../../contexts/metametrics"),N=e("../../../../../shared/constants/metametrics"),I=e("../../../../../shared/constants/security-provider"),A=e("../../../../ducks/ramps"),j=e(".");function R(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}const F=e=>{var t;const{showEdit:n,onEdit:r,fromName:R,fromAddress:D,toEns:F,toNickname:$,toAddress:B,disabled:L,errorKey:U,errorMessage:G,contentComponent:W,action:H,title:q,image:V,titleComponent:K,subtitleComponent:Y,detailsComponent:z,dataHexComponent:J,onCancelAll:X,onCancel:Z,onSubmit:Q,onSetApprovalForAll:ee,showWarningModal:te,tokenAddress:ne,nonce:ae,unapprovedTxCount:re,warning:oe,hideSenderToRecipient:se,showAccountInHeader:ie,origin:ce,ethGasPriceWarning:ue,editingGas:le,handleCloseEditGas:de,currentTransaction:pe,supportsEIP1559:fe,nativeCurrency:me,txData:ge,assetStandard:he,isApprovalOrRejection:ye,displayAccountBalanceHeader:ve}=e,be=(0,C.useI18nContext)(),_e=(0,a.useContext)(O.MetaMetricsContext),[Te,ke]=(0,a.useState)("0"),[Ee,we]=(0,a.useState)(!1),Ce=(0,o.useSelector)(A.getIsNativeTokenBuyable),xe=(0,o.useSelector)((e=>(0,S.getAddressBookEntry)(e,B))),Me=(0,o.useSelector)(S.getNetworkIdentifier),Se=(0,o.useSelector)(S.getSwapsDefaultToken).string,Pe=(0,o.useSelector)(S.getInternalAccounts),Oe=(0,S.getAccountName)(Pe,B),Ne=Oe||(null==xe?void 0:xe.name),Ie=Boolean(Oe),Ae=(0,o.useSelector)((e=>(0,S.getMetadataContractName)(e,B))),{openBuyCryptoInPdapp:je}=(0,P.default)(),Re=pe.type===s.TransactionType.tokenMethodSetApprovalForAll,De=W&&L&&(U||G),Fe=l.NETWORK_TO_NAME_MAP[pe.chainId]||Me,$e=(0,a.useCallback)((async()=>{const e=await(0,g.fetchTokenBalance)(ne,D,global.ethereumProvider);ke(e.toString()||"0")}),[D,ne]),Be=(0,x.default)({txData:ge}),Le=null==Be?void 0:Be.insightComponent,Ue=()=>Re&&ye?ee():Q(),Ge=()=>{var e;return(null==Be||null===(e=Be.warnings)||void 0===e?void 0:e.length)>0?we(!0):Ue()};(0,a.useEffect)((()=>{Re&&he===u.TokenStandard.ERC721&&$e()}),[pe,he,Re,$e,Te]);const We=(null===(t=ge.securityAlertResponse)||void 0===t?void 0:t.result_type)===I.BlockaidResultType.Malicious;return a.default.createElement(c.GasFeeContextProvider,{transaction:pe},a.default.createElement("div",{className:"page-container","data-testid":"page-container"},a.default.createElement(j.ConfirmPageContainerNavigation,null),ve?a.default.createElement(E.default,{accountName:R,accountBalance:Se,tokenName:me,accountAddress:D,networkName:Fe,chainId:pe.chainId}):a.default.createElement(j.ConfirmPageContainerHeader,{showEdit:n,onEdit:()=>r(),showAccountInHeader:ie,accountAddress:D,origin:ce},se?null:a.default.createElement(m.default,{senderName:R,senderAddress:D,recipientName:Ne,recipientMetadataName:Ae,recipientAddress:B,recipientEns:F,recipientNickname:$,recipientIsOwnedAccount:Ie})),W||a.default.createElement(j.ConfirmPageContainerContent,{action:H,title:q,image:V,titleComponent:K,subtitleComponent:Y,detailsComponent:z,dataHexComponent:J,insightComponent:Le,errorMessage:G,errorKey:U,tokenAddress:ne,nonce:ae,warning:oe,onCancelAll:X,onCancel:Z,cancelText:be("reject"),onSubmit:Ge,submitText:be("confirm"),disabled:L,unapprovedTxCount:re,rejectNText:be("rejectTxsN",[re]),origin:ce,ethGasPriceWarning:ue,supportsEIP1559:fe,currentTransaction:pe,nativeCurrency:me,networkName:Fe,toAddress:B,transactionType:pe.type,isBuyableChain:Ce,openBuyCryptoInPdapp:je,txData:ge}),De&&U===_.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(f.default,{message:Ce?a.default.createElement(T.Text,{variant:k.TextVariant.bodySm,textAlign:k.TextAlign.Left,as:"h6"},be("insufficientCurrencyBuyOrDeposit",[me,Fe,a.default.createElement(p.default,{type:"inline",className:"confirm-page-container-content__link",onClick:()=>{je(),_e({event:N.MetaMetricsEventName.NavBuyButtonClicked,category:N.MetaMetricsEventCategory.Navigation,properties:{location:"Transaction Confirmation",text:"Buy"}})},key:`${me}-buy-button`},be("buyAsset",[me]))])):a.default.createElement(T.Text,{variant:k.TextVariant.bodySm,textAlign:k.TextAlign.Left,as:"h6"},be("insufficientCurrencyDeposit",[me,Fe])),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger"})),De&&U!==_.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(b.default,{errorKey:U})),te&&a.default.createElement(w.default,{collectionName:q,senderAddress:D,name:R,isERC721:he===u.TokenStandard.ERC721,total:Te,onSubmit:Q,onCancel:Z}),W&&a.default.createElement(d.PageContainerFooter,{onCancel:Z,cancelText:be("reject"),onSubmit:Ge,submitText:be("confirm"),submitButtonType:Re&&ye||We?"danger-primary":"primary",disabled:L},re>1&&a.default.createElement("a",{onClick:X},be("rejectTxsN",[re]))),le&&!fe&&a.default.createElement(v.default,{mode:i.EditGasModes.modifyInPlace,onClose:de,transaction:pe}),fe&&a.default.createElement(a.default.Fragment,null,a.default.createElement(y.default,null),a.default.createElement(h.default,null)),Ee&&a.default.createElement(M.default,{warnings:Be.warnings,origin:ce,onCancel:()=>we(!1),onSubmit:()=>{Ue(),we(!1)}})))};F.propTypes={action:r.default.string,onEdit:r.default.func,showEdit:r.default.bool,subtitleComponent:r.default.node,title:r.default.string,image:r.default.string,titleComponent:r.default.node,hideSenderToRecipient:r.default.bool,showAccountInHeader:r.default.bool,assetStandard:r.default.string,fromAddress:r.default.string,fromName:r.default.string,toAddress:r.default.string,toEns:r.default.string,toNickname:r.default.string,contentComponent:r.default.node,errorKey:r.default.string,errorMessage:r.default.string,dataHexComponent:r.default.node,detailsComponent:r.default.node,txData:r.default.object,tokenAddress:r.default.string,nonce:r.default.string,warning:r.default.string,unapprovedTxCount:r.default.number,origin:r.default.string.isRequired,ethGasPriceWarning:r.default.string,onCancelAll:r.default.func,onCancel:r.default.func,onSubmit:r.default.func,onSetApprovalForAll:r.default.func,showWarningModal:r.default.bool,disabled:r.default.bool,editingGas:r.default.bool,handleCloseEditGas:r.default.func,currentTransaction:r.default.object.isRequired,supportsEIP1559:r.default.bool,nativeCurrency:r.default.string,isApprovalOrRejection:r.default.bool,displayAccountBalanceHeader:r.default.bool};n.default=F}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container.component.js"}],[6124,{"../../../../components/app/snaps/snap-insight/snap-insight":5343,"./confirm-detail-row":6112,"./confirm-page-container-content":6118,"./confirm-page-container-header":6120,"./confirm-page-container-navigation":6122,"./confirm-page-container.component":6123},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmDetailRow",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"ConfirmPageContainerContent",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"ConfirmPageContainerHeader",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ConfirmPageContainerNavigation",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return i.ConfirmPageContainerSummary}}),Object.defineProperty(n,"SnapInsight",{enumerable:!0,get:function(){return c.SnapInsight}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=l(e("./confirm-page-container.component")),r=l(e("./confirm-page-container-header")),o=l(e("./confirm-detail-row")),s=l(e("./confirm-page-container-navigation")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./confirm-page-container-content")),c=e("../../../../components/app/snaps/snap-insight/snap-insight");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/index.js"}],[6125,{"../../../../components/app/user-preferenced-currency-display":5457,"../../../../components/component-library":5534,"../../../../helpers/constants/common":5951,"../../../../helpers/constants/design-system":5953,"../../../../helpers/utils/transactions.util":5999,"../../../../selectors":6639,"../../hooks/useTransactionInfo":6368,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=f(e("prop-types")),o=e("react-redux"),s=e("../../../../helpers/constants/common"),i=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/transactions.util"),u=e("../../../../selectors"),l=e("../../hooks/useTransactionInfo"),d=e("../../../../components/component-library"),p=f(e("../../../../components/app/user-preferenced-currency-display"));function f(e){return e&&e.__esModule?e:{default:e}}const m=({txData:e,hexTransactionAmount:t,subtitleComponent:n,assetStandard:r})=>{const f=(0,o.useSelector)(u.getShouldShowFiat),{isNftTransfer:m}=(0,l.useTransactionInfo)(e);return f||m||(0,c.isNFTAssetStandard)(r)?n||a.default.createElement(d.Text,{as:"h5",ellipsis:!0,variant:i.TextVariant.bodyMd,color:i.Color.textAlternative},a.default.createElement(p.default,{value:t,type:s.SECONDARY,showEthLogo:!0,hideLabel:!0})):null};m.propTypes={assetStandard:r.default.string,hexTransactionAmount:r.default.string,subtitleComponent:r.default.element,txData:r.default.object.isRequired};n.default=m}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-subtitle/confirm-subtitle.js"}],[6126,{"./confirm-subtitle":6125},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmSubTitle",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-subtitle"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-subtitle/index.js"}],[6127,{"../../../../components/app/user-preferenced-currency-display":5457,"../../../../components/component-library":5534,"../../../../helpers/constants/common":5951,"../../../../helpers/constants/design-system":5953,"@metamask/transaction-controller":2685,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("@metamask/transaction-controller"),s=e("../../../../helpers/constants/common"),i=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=l(e("../../../../components/app/user-preferenced-currency-display"));function l(e){return e&&e.__esModule?e:{default:e}}const d=({title:e,hexTransactionAmount:t,txData:n})=>{var r;const l=n.type===o.TransactionType.contractInteraction;return(l||n.type===o.TransactionType.deployContract)&&"0x0"===(null===(r=n.txParams)||void 0===r?void 0:r.value)?null:e?a.default.createElement(i.Text,{as:e&&e.length<10?"h1":"h3",ellipsis:!0,title:e,variant:e&&e.length<10?c.TextVariant.displayMd:c.TextVariant.headingMd,fontWeight:c.FONT_WEIGHT.NORMAL},e):a.default.createElement(i.Text,{as:"h3",ellipsis:!0,fontWeight:c.FONT_WEIGHT.NORMAL,variant:c.TextVariant.headingMd},a.default.createElement(u.default,{hideLabel:!l,showCurrencySuffix:l,showEthLogo:!0,type:s.PRIMARY,value:t}))};d.propTypes={txData:r.default.object.isRequired,title:r.default.oneOfType([r.default.string,r.default.number]),hexTransactionAmount:r.default.string};n.default=d}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-title/confirm-title.js"}],[6128,{"./confirm-title":6127},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmTitle",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-title"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-title/index.js"}],[6129,{"../../../../../../shared/constants/security-provider":5053,"../../../../../components/component-library":5534,"../../../../../components/ui/icon/preloader":5832,"../../../selectors":6371,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=e("react-redux"),o=u(e("../../../../../components/ui/icon/preloader")),s=e("../../../../../../shared/constants/security-provider"),i=e("../../../../../components/component-library"),c=e("../../../selectors");function u(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,r.useSelector)(c.currentSignatureRequestSecurityResponseSelector);return(null==e?void 0:e.result_type)!==s.BlockaidResultType.Loading?null:a.default.createElement(i.Box,{marginInline:"auto",marginTop:4},a.default.createElement(o.default,{size:18}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/blockaid-loading-indicator/blockaid-loading-indicator.tsx"}],[6130,{"./blockaid-loading-indicator":6129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BlockaidLoadingIndicator",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./blockaid-loading-indicator"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/blockaid-loading-indicator/index.ts"}],[6131,{"../../../../../components/app/alert-system/contexts/alertActionHandler":5121,"../../../../../components/app/alert-system/contexts/alertMetricsContext":5122,"../../../hooks/setConfirmationAlerts":6340,"../../../hooks/useConfirmationAlertActions":6346,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=e("../../../../../components/app/alert-system/contexts/alertActionHandler"),o=c(e("../../../hooks/useConfirmationAlertActions")),s=c(e("../../../hooks/setConfirmationAlerts")),i=e("../../../../../components/app/alert-system/contexts/alertMetricsContext");function c(e){return e&&e.__esModule?e:{default:e}}n.default=({children:e})=>{const t=(0,o.default)();return(0,s.default)(),a.default.createElement(i.AlertMetricsProvider,null,a.default.createElement(r.AlertActionHandlerProvider,{onProcessAction:t},e))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/confirm-alerts/confirm-alerts.tsx"}],[6132,{"./confirm-alerts":6131},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmAlerts",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-alerts"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/confirm-alerts/index.tsx"}],[6133,{"../../../../../components/app/alert-system/confirm-alert-modal":5120,"../../../../../components/component-library":5534,"../../../../../components/multichain/pages/page":5744,"../../../../../helpers/constants/design-system":5953,"../../../../../hooks/useAlerts":6018,"../../../../../hooks/useI18nContext":6031,"../../../../../selectors":6639,"../../../../../store/actions":6652,"../../../selectors":6371,"../../../utils":6380,"../utils":6180,"eth-rpc-errors":3801,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("eth-rpc-errors"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("../../../../../components/app/alert-system/confirm-alert-modal"),c=e("../../../../../components/component-library"),u=e("../../../../../components/multichain/pages/page"),l=e("../../../../../hooks/useI18nContext"),d=e("../../../../../selectors"),p=(a=e("../../../../../hooks/useAlerts"))&&a.__esModule?a:{default:a},f=e("../../../../../store/actions"),m=e("../../../selectors"),g=e("../../../utils"),h=e("../utils"),y=e("../../../../../helpers/constants/design-system");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t,n){return!!t||!e&&n}const _=({alertOwnerId:e="",disabled:t,onSubmit:n,onCancel:a})=>{const r=(0,l.useI18nContext)(),[s,u]=(0,o.useState)(!1),{dangerAlerts:d,hasDangerAlerts:f,hasUnconfirmedDangerAlerts:m}=(0,p.default)(e),g=d.some((e=>e.severity===y.Severity.Danger&&e.isBlocking)),h=(0,o.useCallback)((()=>{u(!1)}),[]),v=(0,o.useCallback)((()=>{u(!0)}),[]);return o.default.createElement(o.default.Fragment,null,s&&o.default.createElement(i.ConfirmAlertModal,{ownerId:e,onClose:h,onCancel:a,onSubmit:n}),f?o.default.createElement(c.Button,{block:!0,danger:!0,"data-testid":"confirm-footer-button",disabled:b(m,g,t),onClick:v,size:c.ButtonSize.Lg,startIconName:c.IconName.Danger},(null==d?void 0:d.length)>0?r("reviewAlerts"):r("confirm")):o.default.createElement(c.Button,{block:!0,"data-testid":"confirm-footer-button",disabled:t,onClick:n,size:c.ButtonSize.Lg},r("confirm")))};n.default=()=>{const e=(0,s.useDispatch)(),t=(0,l.useI18nContext)(),n=(0,s.useSelector)(m.confirmSelector),a=(0,s.useSelector)(d.getCustomNonceValue),{currentConfirmation:i,isScrollToBottomNeeded:p}=n,{from:y}=(0,h.getConfirmationSender)(i),v=(0,s.useSelector)((e=>!!y&&(0,d.doesAddressRequireLedgerHidConnection)(e,y))),b=(0,o.useCallback)((()=>{i&&e((0,f.rejectPendingApproval)(i.id,(0,r.serializeError)(r.ethErrors.provider.userRejectedRequest())))}),[i]),T=(0,o.useCallback)((()=>{if(!i)return;if(g.REDESIGN_TRANSACTION_TYPES.find((e=>e===(null==i?void 0:i.type)))){const t=(e=>a?{...e,customNonceValue:a}:e)(i);e((0,f.updateAndApproveTx)(t,!0,""))}else e((0,f.resolvePendingApproval)(i.id,undefined))}),[i,a]);return o.default.createElement(u.Footer,{className:"confirm-footer_page-footer"},o.default.createElement(c.Button,{block:!0,"data-testid":"confirm-footer-cancel-button",onClick:b,size:c.ButtonSize.Lg,variant:c.ButtonVariant.Secondary},t("cancel")),o.default.createElement(_,{alertOwnerId:null==i?void 0:i.id,onSubmit:()=>T(),disabled:p||v,onCancel:b}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/footer.tsx"}],[6134,{"./footer":6133},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Footer",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./footer"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/index.tsx"}],[6135,{"../../../../../../shared/constants/metametrics":5043,"../../../../../components/app/confirm/info/row":5169,"../../../../../components/app/confirm/info/row/currency":5164,"../../../../../components/component-library":5534,"../../../../../components/multichain":5678,"../../../../../components/ui/tooltip/tooltip":5904,"../../../../../contexts/metametrics":5920,"../../../../../helpers/constants/design-system":5953,"../../../../../hooks/useI18nContext":6031,"../../../../../selectors":6639,"../../../../../store/actions":6652,"../../../hooks/useBalance":6345,"../../../hooks/useConfirmationRecipientInfo":6350,"../../../selectors/preferences":6372,"../../../utils":6380,"../../../utils/confirm":6379,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../../../shared/constants/metametrics"),s=e("../../../../../components/app/confirm/info/row"),i=e("../../../../../components/app/confirm/info/row/currency"),c=e("../../../../../components/component-library"),u=e("../../../../../components/multichain"),l=T(e("../../../../../components/ui/tooltip/tooltip")),d=e("../../../../../contexts/metametrics"),p=e("../../../../../helpers/constants/design-system"),f=e("../../../../../hooks/useI18nContext"),m=e("../../../../../selectors"),g=e("../../../../../store/actions"),h=e("../../../hooks/useBalance"),y=T(e("../../../hooks/useConfirmationRecipientInfo")),v=e("../../../selectors/preferences"),b=e("../../../utils"),_=e("../../../utils/confirm");function T(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,r.useDispatch)(),n=(0,a.useContext)(d.MetaMetricsContext),T=(0,r.useSelector)(m.getUseBlockie),[k,E]=a.default.useState(!1),w=(0,r.useSelector)(v.selectConfirmationAdvancedDetailsOpen),C=(0,r.useSelector)(m.currentConfirmationSelector),{senderAddress:x,senderName:M}=(0,y.default)(),S=(0,f.useI18nContext)(),{balance:P}=(0,h.useBalance)(x),O=(0,_.isSignatureTransactionType)(C)?{location:o.MetaMetricsEventLocation.SignatureConfirmation,signature_type:null==C||null===(e=C.msgParams)||void 0===e?void 0:e.signatureMethod}:{location:o.MetaMetricsEventLocation.Transaction,transaction_type:null==C?void 0:C.type};const N=b.REDESIGN_TRANSACTION_TYPES.includes(null==C?void 0:C.type);return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.flexEnd,style:{alignSelf:"flex-end"}},a.default.createElement(l.default,{position:"bottom",title:S("accountDetails"),interactive:!0},a.default.createElement(c.ButtonIcon,{ariaLabel:S("accountDetails"),color:p.IconColor.iconDefault,iconName:c.IconName.Info,size:c.ButtonIconSize.Md,onClick:()=>{!function(){const e={category:o.MetaMetricsEventCategory.Confirmations,event:o.MetaMetricsEventName.AccountDetailsOpened,properties:{action:"Confirm Screen",...O}};n(e)}(),E(!0)},"data-testid":"header-info__account-details-button"})),N&&a.default.createElement(c.Box,{backgroundColor:w?p.BackgroundColor.infoMuted:p.BackgroundColor.transparent,borderRadius:p.BorderRadius.MD},a.default.createElement(c.ButtonIcon,{ariaLabel:"Advanced tx details",color:p.IconColor.iconDefault,iconName:c.IconName.Customize,"data-testid":"header-advanced-details-button",size:c.ButtonIconSize.Md,onClick:()=>{var e;e=!w,t((0,g.setConfirmationAdvancedDetailsOpen)(e))}}))),a.default.createElement(c.Modal,{isOpen:k,onClose:()=>E(!1),"data-testid":"account-details-modal",isClosedOnEscapeKey:!1,isClosedOnOutsideClick:!1},a.default.createElement(c.ModalOverlay,null),a.default.createElement(c.ModalContent,null,a.default.createElement(c.ModalHeader,null,a.default.createElement(c.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.center,style:{position:"relative"}},a.default.createElement(c.Box,{style:{margin:"0 auto"},display:p.Display.Flex,justifyContent:p.JustifyContent.center,flexDirection:p.FlexDirection.Column,alignItems:p.AlignItems.center},a.default.createElement(c.AvatarAccount,{variant:T?c.AvatarAccountVariant.Blockies:c.AvatarAccountVariant.Jazzicon,address:x,size:c.AvatarAccountSize.Lg}),a.default.createElement(c.Text,{fontWeight:p.FontWeight.Bold,variant:p.TextVariant.bodyMd,color:p.TextColor.textDefault,marginTop:2,"data-testid":"confirmation-account-details-modal__account-name"},M)),a.default.createElement(c.Box,{style:{position:"absolute",right:0}},a.default.createElement(c.ButtonIcon,{ariaLabel:S("close"),iconName:c.IconName.Close,size:c.ButtonIconSize.Sm,className:"confirm_header__close-button",onClick:()=>E(!1),"data-testid":"confirmation-account-details-modal__close-button"})))),a.default.createElement(c.ModalBody,null,a.default.createElement(s.ConfirmInfoRow,{label:"Account address"},a.default.createElement(u.AddressCopyButton,{address:x,shorten:!0})),a.default.createElement(s.ConfirmInfoRow,{label:"Balance"},a.default.createElement(i.ConfirmInfoRowCurrency,{value:P??0,"data-testid":"confirmation-account-details-modal__account-balance"}))))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/header-info.tsx"}],[6136,{"../../../../../components/component-library":5534,"../../../../../components/ui/identicon":5840,"../../../../../helpers/constants/design-system":5953,"../../../../../helpers/utils/accounts":5977,"../../../hooks/useConfirmationNetworkInfo":6349,"../../../hooks/useConfirmationRecipientInfo":6350,"./header-info":6135,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=e("../../../../../components/component-library"),o=d(e("../../../../../components/ui/identicon")),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../helpers/utils/accounts"),c=d(e("../../../hooks/useConfirmationNetworkInfo")),u=d(e("../../../hooks/useConfirmationRecipientInfo")),l=d(e("./header-info"));function d(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{networkImageUrl:e,networkDisplayName:t}=(0,c.default)(),{senderAddress:n,senderName:d}=(0,u.default)();return a.default.createElement(r.Box,{display:s.Display.Flex,className:"confirm_header__wrapper",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween,"data-testid":"confirm-header"},a.default.createElement(r.Box,{alignItems:s.AlignItems.flexStart,display:s.Display.Flex,padding:4},a.default.createElement(r.Box,{display:s.Display.Flex,marginTop:2},a.default.createElement(o.default,{address:n,diameter:32}),a.default.createElement(r.AvatarNetwork,{src:e,name:t,size:r.AvatarNetworkSize.Xs,backgroundColor:(0,i.getAvatarNetworkColor)(t),className:"confirm_header__avatar-network"})),a.default.createElement(r.Box,{marginInlineStart:4},a.default.createElement(r.Text,{color:s.TextColor.textDefault,variant:s.TextVariant.bodyMdMedium,"data-testid":"header-account-name"},d),a.default.createElement(r.Text,{color:s.TextColor.textAlternative,"data-testid":"header-network-display-name"},t))),a.default.createElement(r.Box,{alignItems:s.AlignItems.flexEnd,display:s.Display.Flex,padding:4},a.default.createElement(l.default,null)))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/header.tsx"}],[6137,{"./header":6136},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Header",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/index.tsx"}],[6138,{"../../../../../../components/app/confirm/info/row/section":5171,"../../../../../../selectors":6639,"../../../../selectors/preferences":6372,"../../../simulation-details":6252,"../shared/advanced-details/advanced-details":6150,"../shared/gas-fees-section/gas-fees-section":6156,"../shared/transaction-details/transaction-details":6158,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("../../../../../../components/app/confirm/info/row/section"),i=e("../../../../../../selectors"),c=e("../../../../selectors/preferences"),u=e("../../../simulation-details"),l=e("../shared/advanced-details/advanced-details"),d=e("../shared/gas-fees-section/gas-fees-section"),p=e("../shared/transaction-details/transaction-details");n.default=()=>{const e=(0,o.useSelector)(i.currentConfirmationSelector),t=(0,o.useSelector)(c.selectConfirmationAdvancedDetailsOpen);return null!=e&&e.txParams?r.default.createElement(r.default.Fragment,null,r.default.createElement(s.ConfirmInfoSection,{noPadding:!0},r.default.createElement(u.SimulationDetails,{simulationData:e.simulationData,transactionId:e.id,isTransactionsRedesign:!0})),r.default.createElement(p.TransactionDetails,null),r.default.createElement(d.GasFeesSection,null),t&&r.default.createElement(l.AdvancedDetails,null)):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/contract-interaction/contract-interaction.tsx"}],[6139,{"../../../../../../../shared/modules/transaction.utils":5105,"../../../../../../hooks/useAsyncResult":6019,"../../../../../../store/actions":6652,"../../../../selectors":6371,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDecodedTransactionData=function(){var e,t;const n=(0,a.useSelector)(s.currentConfirmationSelector),c=null==n?void 0:n.chainId,u=null==n||null===(e=n.txParams)||void 0===e?void 0:e.to,l=null==n||null===(t=n.txParams)||void 0===t?void 0:t.data;return(0,r.useAsyncResult)((async()=>(0,i.hasTransactionData)(l)?await(0,o.decodeTransactionData)({transactionData:l,chainId:c,contractAddress:u}):undefined),[l,c,u])};var a=e("react-redux"),r=e("../../../../../../hooks/useAsyncResult"),o=e("../../../../../../store/actions"),s=e("../../../../selectors"),i=e("../../../../../../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useDecodedTransactionData.ts"}],[6140,{"../../../../../../../shared/modules/conversion.utils":5081,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEIP1559TxFees=void 0;var a=e("react"),r=e("../../../../../../../shared/modules/conversion.utils");n.useEIP1559TxFees=e=>{var t,n;const o=null==e||null===(t=e.txParams)||void 0===t?void 0:t.maxFeePerGas,s=null==e||null===(n=e.txParams)||void 0===n?void 0:n.maxPriorityFeePerGas;return(0,a.useMemo)((()=>({maxFeePerGas:o?(0,r.hexToDecimal)(o):"0",maxPriorityFeePerGas:s?(0,r.hexToDecimal)(s):"0"})),[o,s])}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useEIP1559TxFees.ts"}],[6141,{"../../../../../../../shared/constants/common":5033,"../../../../../../../shared/modules/conversion.utils":5081,"../../../../../../ducks/metamask/metamask":5941,"../../../../../../hooks/useFiatFormatter":6027,"../../../../../../hooks/useGasFeeEstimates":6029,"../../../../../../selectors":6639,"../shared/constants":6151,"./useEIP1559TxFees":6140,"./useSupportsEIP1559":6143,"./useTransactionGasFeeEstimate":6144,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFeeCalculations=function(e){var t,n,h;const y=(0,r.useSelector)(l.getCurrentCurrency),v=(0,r.useSelector)(i.getConversionRate),b=(0,c.useFiatFormatter)(),_=(0,a.useCallback)((e=>{const t=(0,s.getEthConversionFromWeiHex)({value:e,fromCurrency:o.EtherDenomination.GWEI,numberOfDecimals:4})||`0 ${o.EtherDenomination.ETH}`;return{currentCurrencyFee:b(Number((0,s.getValueFromWeiHex)({value:e,conversionRate:v,fromCurrency:o.EtherDenomination.GWEI,toCurrency:y,numberOfDecimals:2}))),nativeCurrencyFee:t}}),[v,y,b]),{maxFeePerGas:T,maxPriorityFeePerGas:k}=(0,p.useEIP1559TxFees)(e),{supportsEIP1559:E}=(0,f.useSupportsEIP1559)(e),w=(0,m.useTransactionGasFeeEstimate)(e,E),{gasFeeEstimates:C}=(0,u.useGasFeeEstimates)(e.networkClientId),x=null==C?void 0:C.estimatedBaseFee,M=null==e?void 0:e.layer1GasFee,S=Boolean(M),P=(0,a.useMemo)((()=>S?_(M):g),[M]),O=(0,a.useMemo)((()=>S?_(w):g),[w]),N=(null==e||null===(t=e.dappSuggestedGasFees)||void 0===t?void 0:t.gas)||(null==e||null===(n=e.txParams)||void 0===n?void 0:n.gas)||d.HEX_ZERO,I=(null==e||null===(h=e.txParams)||void 0===h?void 0:h.gasPrice)||d.HEX_ZERO,A=(0,a.useMemo)((()=>(0,s.multiplyHexes)(E?(0,s.decimalToHex)(T):I,N)),[E,T,N,I]),{currentCurrencyFee:j,nativeCurrencyFee:R}=_(A),D=(0,a.useMemo)((()=>{if(S){const e=(0,s.addHexes)(w,M);return _(e)}const e=(0,s.addHexes)((0,s.decGWEIToHexWEI)(x)||d.HEX_ZERO,(0,s.decimalToHex)(k)),t=(0,s.multiplyHexes)(E?e:I,N);return _(t)}),[w,e,x,_]);return{estimatedFeeFiat:D.currentCurrencyFee,estimatedFeeNative:D.nativeCurrencyFee,l1FeeFiat:P.currentCurrencyFee,l1FeeNative:P.nativeCurrencyFee,l2FeeFiat:O.currentCurrencyFee,l2FeeNative:O.nativeCurrencyFee,maxFeeFiat:j,maxFeeNative:R}};var a=e("react"),r=e("react-redux"),o=e("../../../../../../../shared/constants/common"),s=e("../../../../../../../shared/modules/conversion.utils"),i=e("../../../../../../ducks/metamask/metamask"),c=e("../../../../../../hooks/useFiatFormatter"),u=e("../../../../../../hooks/useGasFeeEstimates"),l=e("../../../../../../selectors"),d=e("../shared/constants"),p=e("./useEIP1559TxFees"),f=e("./useSupportsEIP1559"),m=e("./useTransactionGasFeeEstimate");const g={currentCurrencyFee:"",nativeCurrencyFee:""}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useFeeCalculations.ts"}],[6142,{"../../../../../../selectors":6639,"../../../../../../store/actions":6652,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFourByte=void 0;var a=e("react-redux"),r=e("react"),o=e("../../../../../../selectors"),s=e("../../../../../../store/actions");n.useFourByte=e=>{var t;const n=(0,a.useDispatch)(),i=(0,a.useSelector)(o.use4ByteResolutionSelector),c=null==e||null===(t=e.txParams)||void 0===t?void 0:t.data;(0,r.useEffect)((()=>{i&&c&&n((0,s.getContractMethodData)(c))}),[i,c,n]);return(0,a.useSelector)((e=>(0,o.getKnownMethodData)(e,c)))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useFourByte.ts"}],[6143,{"../../../../../../helpers/utils/transactions.util":5999,"../../../../../../selectors":6639,"@metamask/transaction-controller":2685,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSupportsEIP1559=function(e){var t;const n=(null==e||null===(t=e.txParams)||void 0===t?void 0:t.type)===a.TransactionEnvelopeType.legacy||(0,o.isLegacyTransaction)(e),i=(0,r.useSelector)(s.getSelectedNetworkClientId),c=(0,r.useSelector)((e=>(0,s.checkNetworkAndAccountSupports1559)(e,i)));return{supportsEIP1559:c&&!n}};var a=e("@metamask/transaction-controller"),r=e("react-redux"),o=e("../../../../../../helpers/utils/transactions.util"),s=e("../../../../../../selectors")}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useSupportsEIP1559.ts"}],[6144,{"../../../../../../../shared/modules/conversion.utils":5081,"../../../../../../hooks/useGasFeeEstimates":6029,"../shared/constants":6151},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionGasFeeEstimate=function(e,t){var n,s,i,c;let{gas:u,gasPrice:l}=e.txParams;const{gasFeeEstimates:d}=(0,r.useGasFeeEstimates)(e.networkClientId),p=null==d?void 0:d.estimatedBaseFee;u=(null===(n=e.dappSuggestedGasFees)||void 0===n?void 0:n.gas)||u||o.HEX_ZERO,l=(null===(s=e.dappSuggestedGasFees)||void 0===s?void 0:s.gasPrice)||l||o.HEX_ZERO;const f=(null===(i=e.dappSuggestedGasFees)||void 0===i?void 0:i.maxPriorityFeePerGas)||(null===(c=e.txParams)||void 0===c?void 0:c.maxPriorityFeePerGas)||o.HEX_ZERO;let m;if(t){const e=(0,a.addHexes)(p||o.HEX_ZERO,f);m=(0,a.multiplyHexes)(e,u)}else m=(0,a.multiplyHexes)(l,u);return m};var a=e("../../../../../../../shared/modules/conversion.utils"),r=e("../../../../../../hooks/useGasFeeEstimates"),o=e("../shared/constants")}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/useTransactionGasFeeEstimate.ts"}],[6145,{"./info":6146},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Info",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./info"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/index.ts"}],[6146,{"../../../../../selectors":6639,"./contract-interaction/contract-interaction":6138,"./personal-sign/personal-sign":6147,"./typed-sign-v1/typed-sign-v1":6159,"./typed-sign/typed-sign":6163,"@metamask/transaction-controller":2685,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/transaction-controller"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("../../../../../selectors"),i=d(e("./contract-interaction/contract-interaction")),c=d(e("./personal-sign/personal-sign")),u=d(e("./typed-sign-v1/typed-sign-v1")),l=d(e("./typed-sign/typed-sign"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,o.useSelector)(s.currentConfirmationSelector),t=(0,r.useMemo)((()=>({[a.TransactionType.personalSign]:()=>c.default,[a.TransactionType.signTypedData]:()=>{const{version:t}=(null==e?void 0:e.msgParams)??{};return"V1"===t?u.default:l.default},[a.TransactionType.contractInteraction]:()=>i.default})),[e]);if(null==e||!e.type)return null;const n=t[null==e?void 0:e.type]();return r.default.createElement(n,null)}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/info.tsx"}],[6147,{"../../../../../../components/app/confirm/info/row":5169,"../../../../../../components/app/confirm/info/row/alert-row/alert-row":5161,"../../../../../../components/app/confirm/info/row/constants":5162,"../../../../../../components/app/confirm/info/row/section":5171,"../../../../../../helpers/utils/util":6001,"../../../../../../hooks/useI18nContext":6031,"../../../../../../selectors":6639,"../../../../selectors/preferences":6372,"../../../../utils":6380,"./siwe-sign":6148,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("../../../../../../components/app/confirm/info/row"),i=e("../../../../../../hooks/useI18nContext"),c=e("../../../../../../selectors"),u=e("../../../../../../helpers/utils/util"),l=e("../../../../selectors/preferences"),d=e("../../../../utils"),p=e("../../../../../../components/app/confirm/info/row/alert-row/alert-row"),f=e("../../../../../../components/app/confirm/info/row/constants"),m=e("../../../../../../components/app/confirm/info/row/section"),g=e("./siwe-sign");n.default=()=>{var e;const t=(0,i.useI18nContext)(),n=(0,o.useSelector)(c.currentConfirmationSelector),a=(0,o.useSelector)(l.selectUseTransactionSimulations);if(null==n||!n.msgParams)return null;const{from:h}=n.msgParams,y=(0,d.isSIWESignatureRequest)(n);return r.default.createElement(r.default.Fragment,null,y&&a&&r.default.createElement(m.ConfirmInfoSection,null,r.default.createElement(s.ConfirmInfoRow,{label:t("simulationDetailsTitle"),tooltip:t("simulationDetailsTitleTooltip")},r.default.createElement(s.ConfirmInfoRowText,{text:t("siweSignatureSimulationDetailInfo")}))),r.default.createElement(m.ConfirmInfoSection,null,r.default.createElement(p.ConfirmInfoAlertRow,{alertKey:"requestFrom",ownerId:n.id,label:t("requestFrom"),tooltip:y?undefined:t("requestFromInfo")},r.default.createElement(s.ConfirmInfoRowUrl,{url:n.msgParams.origin})),y&&r.default.createElement(p.ConfirmInfoAlertRow,{alertKey:f.RowAlertKey.SigningInWith,label:t("signingInWith"),ownerId:n.id},r.default.createElement(s.ConfirmInfoRowAddress,{address:h}))),r.default.createElement(m.ConfirmInfoSection,null,y?r.default.createElement(g.SIWESignInfo,null):r.default.createElement(p.ConfirmInfoAlertRow,{alertKey:"message",ownerId:n.id,label:t("message")},r.default.createElement(s.ConfirmInfoRowText,{text:(0,u.sanitizeString)((0,u.hexToText)(null===(e=n.msgParams)||void 0===e?void 0:e.data))}))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/personal-sign/personal-sign.tsx"}],[6148,{"./siwe-sign":6149},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SIWESignInfo",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./siwe-sign"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/personal-sign/siwe-sign/index.ts"}]],[],{});