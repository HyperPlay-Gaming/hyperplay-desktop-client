LavaPack.loadBundle([[5332,{"../../selectors":5900,"../../store/actions":5911,"@metamask/snaps-rpc-methods":2041,"@metamask/snaps-sdk":2077,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignatureInsights=function({txData:e}){const t=(0,r.useDispatch)(),n=(0,r.useSelector)(l.getPermissionSubjectsDeepEqual),u=(0,r.useSelector)(l.getSignatureInsightSnapIds),[d,p]=(0,a.useState)(!0),[f,m]=(0,a.useState)(undefined),[g,h]=(0,a.useState)([]);return(0,a.useEffect)((()=>{let a=!1;return Object.keys(e).length>0&&async function(){p(!0);const{msgParams:{from:r,data:l,signatureMethod:d,origin:f}}=e,g={from:r,data:"eth_signTypedData_v3"===d||"eth_signTypedData_v4"===d?JSON.parse(l):l,signatureMethod:d},y=(await Promise.allSettled(u.map((e=>{var t;const a=null===(t=n[e])||void 0===t?void 0:t.permissions[c];if(!a)return Promise.reject(new Error("This Snap does not have the signature insight endowment."));const r=(0,o.getSignatureOriginCaveat)(a)?f:null;return(0,i.handleSnapRequest)({snapId:e,origin:"",handler:"onSignature",request:{jsonrpc:"2.0",method:"",params:{signature:g,signatureOrigin:r}}})})))).map(((e,t)=>{const n=u[t];return"rejected"===e.status?{error:e.reason,snapId:n}:{snapId:n,response:e.value}})),v=y.reduce(((e,t)=>{var n;if((null===(n=t.response)||void 0===n?void 0:n.severity)===s.SeverityLevel.Critical){const{snapId:n,response:{id:a}}=t;e.push({snapId:n,id:a})}return e}),[]);a||(m(y),h(v),p(!1),y.length>0&&(0,i.forceUpdateMetamaskState)(t))}(),()=>{a=!0}}),[e,JSON.stringify(u),n]),(0,a.useEffect)((()=>()=>{null==f||f.map((({response:e})=>(null==e?void 0:e.id)&&t((0,i.deleteInterface)(e.id))))}),[f]),{data:f,loading:d,warnings:g}};var a=e("react"),r=e("react-redux"),o=e("@metamask/snaps-rpc-methods"),s=e("@metamask/snaps-sdk"),i=e("../../store/actions"),l=e("../../selectors");const c="endowment:signature-insight"}}},{package:"$root$",file:"ui/hooks/snaps/useSignatureInsights.js"}],[5333,{"../../selectors":5900,"../../store/actions":5911,"@metamask/snaps-rpc-methods":2041,"@metamask/snaps-sdk":2077,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionInsightSnaps=function({transaction:e,chainId:t,origin:n,insightSnaps:u}){const d=(0,r.useDispatch)(),p=(0,r.useSelector)(l.getPermissionSubjectsDeepEqual),[f,m]=(0,a.useState)(!0),[g,h]=(0,a.useState)(undefined),[y,v]=(0,a.useState)(!1);(0,a.useEffect)((()=>{let a=!1;return e&&Object.keys(e).length>0&&async function(){if(y)return void m(!1);m(!0);const r=(await Promise.allSettled(u.map((a=>{var r;const s=null===(r=p[a])||void 0===r?void 0:r.permissions[c];if(!s)return Promise.reject(new Error("This Snap does not have the transaction insight endowment."));const l=(0,o.getTransactionOriginCaveat)(s)?n:null;return(0,i.handleSnapRequest)({snapId:a,origin:"",handler:"onTransaction",request:{jsonrpc:"2.0",method:"",params:{transaction:e,chainId:t,transactionOrigin:l}}})})))).map(((e,t)=>{const n=u[t];return"rejected"===e.status?{error:e.reason,snapId:n}:{snapId:n,response:e.value}}));a||(h(r),m(!1),v(!0),r.length>0&&(0,i.forceUpdateMetamaskState)(d))}(),()=>{a=!0}}),[e,t,n,p,JSON.stringify(u),y]);const b=null==g?void 0:g.reduce(((e,t)=>{var n;if((null===(n=t.response)||void 0===n?void 0:n.severity)===s.SeverityLevel.Critical){const{snapId:n,response:{id:a}}=t;e.push({snapId:n,id:a})}return e}),[]);return{data:g,loading:f,warnings:b}};var a=e("react"),r=e("react-redux"),o=e("@metamask/snaps-rpc-methods"),s=e("@metamask/snaps-sdk"),i=e("../../store/actions"),l=e("../../selectors");const c="endowment:transaction-insight"}}},{package:"$root$",file:"ui/hooks/snaps/useTransactionInsightSnaps.js"}],[5334,{"../../shared/modules/conversion.utils":4465,"../../shared/modules/string-utils":4486,"../ducks/metamask/metamask":5268,"../helpers/utils/confirm-tx.util":5303,"../helpers/utils/token-util":5318,"../selectors":5900,"./useTokenTracker":5368,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalFiatBalance=void 0;var a=e("react-redux"),r=e("../selectors"),o=e("../../shared/modules/conversion.utils"),s=e("../ducks/metamask/metamask"),i=e("../helpers/utils/confirm-tx.util"),l=e("../helpers/utils/token-util"),c=e("../../shared/modules/string-utils"),u=e("./useTokenTracker");n.useAccountTotalFiatBalance=(e,t)=>{var n;const d=(0,a.useSelector)(r.getCurrentChainId),p=(0,a.useSelector)(s.getConversionRate),f=(0,a.useSelector)(r.getCurrentCurrency),m=(0,a.useSelector)(r.getTokenExchangeRates,a.shallowEqual),g=(0,a.useSelector)(r.getMetaMaskCachedBalances),h=(null==g?void 0:g[e])??0,y=(0,o.getValueFromWeiHex)({value:h,toCurrency:f,conversionRate:p,numberOfDecimals:2}),v=(0,a.useSelector)(r.getAllTokens),b=(null==v||null===(n=v[d])||void 0===n?void 0:n[e])??[],T=(0,a.useSelector)(r.getTokenList),_=Object.values(T),k=(0,a.useSelector)(r.getNativeCurrencyImage),x=(0,a.useSelector)(s.getNativeCurrency),{loading:E,tokensWithBalances:w}=(0,u.useTokenTracker)({tokens:b,address:e,includeFailedTokens:!0,hideZeroBalanceTokens:t}),C=w.map((e=>{const t=Object.keys(m).find((t=>(0,c.isEqualCaseInsensitive)(t,e.address))),n=(t&&m[t])??0;return(0,l.getTokenFiatAmount)(n,p,f,e.string,e.symbol,!1,!1)})),S=[{iconUrl:k,symbol:x,fiatBalance:y},...((e,t)=>{const n=[];return t.forEach((t=>{const a=e.find((e=>e.symbol===t.symbol));a&&n.push({...a,balance:t.balance,string:t.string,balanceError:t.balanceError})})),n})(_,w).map(((e,t)=>({...e,fiatBalance:C[t]})))].sort(((e,t)=>parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance))),P=(0,o.sumDecimals)(y,...C).toString(10),M=(0,i.formatCurrency)(P,f);let O=(0,o.getWeiHexFromDecimalValue)({value:P,fromCurrency:f,conversionRate:p,invertConversionRate:!0});return"NaN"===O&&(O="0x0"),{formattedFiat:M,totalWeiBalance:O,totalFiatBalance:P,tokensWithBalances:w,loading:E,orderedTokenList:S}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[5335,{"../../shared/modules/hexstring-utils":4472,"../helpers/utils/util":5321,"../selectors":5900,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("../../shared/modules/hexstring-utils"),o=e("../selectors"),s=e("../helpers/utils/util");n.default=e=>{var t;const n=(0,a.useSelector)(o.getAddressBook),i=(0,a.useSelector)(o.getInternalAccounts),l=(0,a.useSelector)(o.getTokenList),c=(0,r.toChecksumHexAddress)(e);if(!e)return{};const u=i.find((e=>(0,r.toChecksumHexAddress)(e.address)===c)),d=n.find((e=>e.address===c));return null!=d&&d.name?{toName:d.name,isTrusted:!0}:u?{toName:u.metadata.name,isTrusted:!0}:null!==(t=l[null==e?void 0:e.toLowerCase()])&&void 0!==t&&t.name?{toName:l[null==e?void 0:e.toLowerCase()].name,isTrusted:!0}:{toName:(0,s.shortenAddress)(c),isTrusted:!1}}}}},{package:"$root$",file:"ui/hooks/useAddressDetails.js"}],[5336,{"../ducks/confirm-alerts/confirm-alerts":5259,"../helpers/constants/design-system":5277,"../selectors/alerts":5895,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("react"),o=e("../selectors/alerts"),s=e("../ducks/confirm-alerts/confirm-alerts"),i=e("../helpers/constants/design-system");n.default=e=>{const t=(0,a.useDispatch)(),n=(0,a.useSelector)((t=>(0,o.selectAlerts)(t,e))),l=(0,a.useSelector)((t=>(0,o.selectConfirmedAlertKeys)(t,e))),c=(0,a.useSelector)((t=>(0,o.selectGeneralAlerts)(t,e))),u=(0,a.useSelector)((t=>(0,o.selectFieldAlerts)(t,e))),d=(0,r.useCallback)((e=>e?n.filter((t=>t.field===e)):[]),[n]),p=(0,r.useCallback)(((n,a)=>{t((0,s.setAlertConfirmed)(e,n,a))}),[t,s.setAlertConfirmed,e]),f=(0,r.useCallback)((e=>l.includes(e)),[l]),m=n.filter((e=>!f(e.key)&&e.severity===i.Severity.Danger)),g=n.length>0,h=n.filter((e=>e.severity===i.Severity.Danger)),y=m.length>0;return{alerts:n,fieldAlerts:u,generalAlerts:c,getFieldAlerts:d,hasAlerts:g,dangerAlerts:h,hasDangerAlerts:(null==h?void 0:h.length)>0,hasUnconfirmedDangerAlerts:y,isAlertConfirmed:f,setAlertConfirmed:p,unconfirmedDangerAlerts:m}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[5337,{react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAsyncResult=r,n.useAsyncResultOrThrow=function(e,t=[]){const n=r(e,t);if(n.error)throw n.error;return n};var a=e("react");function r(e,t=[]){const[n,r]=(0,a.useState)({pending:!0});return(0,a.useEffect)((()=>{r({pending:!0});let t=!1;return e().then((e=>{t||r({pending:!1,value:e})})).catch((e=>{t||r({pending:!1,error:e})})),()=>{t=!0}}),t),n}}}},{package:"$root$",file:"ui/hooks/useAsyncResult.ts"}],[5338,{"../../shared/constants/copy":4426,"../../shared/constants/time":4447,"./useTimeout":5364,"copy-to-clipboard":3042,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCopyToClipboard=function(e=c){const[t,n]=(0,r.useState)(!1),a=(0,l.useTimeout)((()=>{(0,o.default)(" ",i.COPY_OPTIONS),n(!1)}),e,!1),s=(0,r.useCallback)((e=>{n(!0),a(),(0,o.default)(e,i.COPY_OPTIONS)}),[a]);return[t,s]};var a,r=e("react"),o=(a=e("copy-to-clipboard"))&&a.__esModule?a:{default:a},s=e("../../shared/constants/time"),i=e("../../shared/constants/copy"),l=e("./useTimeout");const c=s.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[5339,{"../../shared/constants/common":4425,"../../shared/constants/network":4436,"../../shared/modules/Numeric":4461,"../../shared/modules/conversion.utils":4465,"../ducks/metamask/metamask":5268,"../helpers/utils/confirm-tx.util":5303,"../selectors":5900,"bignumber.js":2888,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MIN_AMOUNT=n.DEFAULT_PRECISION=void 0,n.useCurrencyDisplay=function(e,{displayValue:t,prefix:n,numberOfDecimals:a,denomination:s,currency:m,...y}){const v=(0,o.useSelector)(l.getCurrentCurrency),b=(0,o.useSelector)(c.getNativeCurrency),T=(0,o.useSelector)(c.getConversionRate),_=m===v,k=(0,r.useMemo)((()=>{if(t)return t;if(m===b||!_&&!b){const t=new p.Numeric(e,16,f.EtherDenomination.WEI).toDenomination(s||f.EtherDenomination.ETH).round(a||h).toBase(10).toString();return"0"===t&&e&&0!==Number(e)?g:t}return _&&T?(0,i.formatCurrency)((0,u.getValueFromWeiHex)({value:e,fromCurrency:b,toCurrency:m,conversionRate:T,numberOfDecimals:a||2,toDenomination:s}),m):null}),[e,b,T,t,a,s,m,_]);let x;if(!y.hideLabel){const e=Object.values(d.TEST_NETWORK_TICKER_MAP).includes(m)?m:null==m?void 0:m.toUpperCase();x=y.suffix||e}return[`${n||""}${k}${x?` ${x}`:""}`,{prefix:n,value:k,suffix:x}]};var a,r=e("react"),o=e("react-redux"),s=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("../helpers/utils/confirm-tx.util"),l=e("../selectors"),c=e("../ducks/metamask/metamask"),u=e("../../shared/modules/conversion.utils"),d=e("../../shared/constants/network"),p=e("../../shared/modules/Numeric"),f=e("../../shared/constants/common");const m=n.MIN_AMOUNT=1e-6,g=`<${m}`,h=n.DEFAULT_PRECISION=new s.default(m).decimalPlaces()}}},{package:"$root$",file:"ui/hooks/useCurrencyDisplay.js"}],[5340,{"../ducks/metamask/metamask":5268,"../selectors":5900,"../store/actions":5911,"./usePolling":5356,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../selectors"),s=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./usePolling"))&&a.__esModule?a:{default:a};n.default=e=>{const t=(0,r.useSelector)(o.getUseCurrencyRateCheck),n=(0,r.useSelector)(i.getCompletedOnboarding),a=(0,r.useSelector)(o.getSelectedNetworkClientId);(0,l.default)({startPollingByNetworkClientId:s.currencyRateStartPollingByNetworkClientId,stopPollingByPollingToken:s.currencyRateStopPollingByPollingToken,networkClientId:e??a,enabled:t&&n})}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[5341,{"../../shared/constants/swaps":4445,"../../shared/modules/string-utils":4486,"../ducks/metamask/metamask":5268,"../helpers/constants/routes":5283,"../selectors":5900,"react-redux":4129,"react-router-dom":4158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,r.useRouteMatch)({path:`${i.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),n=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,u=(0,a.useSelector)(o.getTokens),d=n&&u.find((({address:e})=>(0,c.isEqualCaseInsensitive)(e,n))),p=(0,a.useSelector)(s.getCurrentChainId);return d??(l.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[p]||l.ETH_SWAPS_TOKEN_OBJECT)};var a=e("react-redux"),r=e("react-router-dom"),o=e("../ducks/metamask/metamask"),s=e("../selectors"),i=e("../helpers/constants/routes"),l=e("../../shared/constants/swaps"),c=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[5342,{"../selectors":5900,"../selectors/nft":5905,"./useFirstPartyContractName":5346,"./useName":5352,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=function(e,t,n=!1){return l([{value:e,type:t,preferContractSymbol:n}])[0]},n.useDisplayNames=l;var a=e("react-redux"),r=e("../selectors"),o=e("../selectors/nft"),s=e("./useName"),i=e("./useFirstPartyContractName");function l(e){const t=e.map((({value:e,type:t})=>({value:e,type:t}))),n=(0,s.useNames)(t),l=(0,i.useFirstPartyContractNames)(t),c=e.map((({value:e})=>e)),u=(0,a.useSelector)((e=>(0,r.getMemoizedMetadataContracts)(e,c,!0))),d=(0,a.useSelector)(o.getNftContractsByAddressOnCurrentChain);return e.map((({value:e,preferContractSymbol:t},a)=>{var r;const o=n[a],s=l[a],i=u[a],c=null===(r=d[e.toLowerCase()])||void 0===r?void 0:r.name,p=t&&null!=i&&i.symbol?i.symbol:null==i?void 0:i.name;return{name:(null==o?void 0:o.name)||s||p||c||null,hasPetname:Boolean(null==o?void 0:o.name),contractDisplayName:p}}))}}}},{package:"$root$",file:"ui/hooks/useDisplayName.ts"}],[5343,{lodash:3783,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=r.isEqual){const[n,o]=(0,a.useState)(e);return(0,a.useLayoutEffect)((()=>{t(e,n)||o(e)}),[e,t,n]),n};var a=e("react"),r=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[5344,{"../../shared/modules/conversion.utils":4465,"../ducks/metamask/metamask":5268,"../helpers/utils/confirm-tx.util":5303,"../selectors":5900,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEthFiatAmount=function(e,t={},n){const c=(0,r.useSelector)(i.getConversionRate),u=(0,r.useSelector)(o.getCurrentCurrency),d=(0,r.useSelector)(o.getShouldShowFiat),p=t.showFiat??d,f=(0,a.useMemo)((()=>(0,l.decEthToConvertedCurrency)(e,u,c)),[c,u,e]);if(!p||"ETH"===u.toUpperCase()||c<=0||e===undefined)return undefined;return n?(0,s.formatCurrency)(f,u):`${(0,s.formatCurrency)(f,u)} ${u.toUpperCase()}`};var a=e("react"),r=e("react-redux"),o=e("../selectors"),s=e("../helpers/utils/confirm-tx.util"),i=e("../ducks/metamask/metamask"),l=e("../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[5345,{"../ducks/locale/locale":5267,"../selectors":5900,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFiatFormatter=void 0;var a=e("react-redux"),r=e("../ducks/locale/locale"),o=e("../selectors");n.useFiatFormatter=()=>{const e=(0,a.useSelector)(r.getIntlLocale),t=(0,a.useSelector)(o.getCurrentCurrency);return n=>{try{return new Intl.NumberFormat(e,{style:"currency",currency:t}).format(n)}catch(e){return`${n} ${t}`}}}}}},{package:"$root$",file:"ui/hooks/useFiatFormatter.ts"}],[5346,{"../../shared/constants/first-party-contracts":4428,"../selectors":5900,"@metamask/name-controller":1484,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFirstPartyContractName=function(e,t,n){return i([{value:e,type:t,variation:n}])[0]},n.useFirstPartyContractNames=i;var a=e("@metamask/name-controller"),r=e("react-redux"),o=e("../selectors"),s=e("../../shared/constants/first-party-contracts");function i(e){const t=(0,r.useSelector)(o.getCurrentChainId);return e.map((({type:e,value:n,variation:r})=>{if(e!==a.NameType.ETHEREUM_ADDRESS)return null;const o=r??t,i=n.toLowerCase();return Object.keys(s.FIRST_PARTY_CONTRACT_NAMES).find((e=>{var t;return(null===(t=s.FIRST_PARTY_CONTRACT_NAMES[e])||void 0===t||null===(t=t[o])||void 0===t?void 0:t.toLowerCase())===i}))??null}))}}}},{package:"$root$",file:"ui/hooks/useFirstPartyContractName.ts"}],[5347,{"../ducks/metamask/metamask":5268,"../selectors":5900,"../store/actions":5911,"./usePolling":5356,"lodash/isEqual":3771,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(e){const t=(0,r.useSelector)(l.getSelectedNetworkClientId),n=e??t,[u,d]=(0,o.useState)(""),p=(0,r.useSelector)((e=>(0,s.getGasEstimateTypeByChainId)(e,u))),f=(0,r.useSelector)((e=>(0,s.getGasFeeEstimatesByChainId)(e,u)),a.default),m=(0,r.useSelector)((e=>(0,s.getIsGasEstimatesLoadingByChainId)(e,{chainId:u,networkClientId:n}))),g=(0,r.useSelector)((e=>(0,s.getIsNetworkBusyByChainId)(e,u)));return(0,o.useEffect)((()=>{let e=!0;return(0,i.getNetworkConfigurationByNetworkClientId)(n).then((t=>{t&&e&&d(t.chainId)})),()=>{e=!1}}),[n]),(0,c.default)({startPollingByNetworkClientId:i.gasFeeStartPollingByNetworkClientId,stopPollingByPollingToken:i.gasFeeStopPollingByPollingToken,networkClientId:n}),{gasFeeEstimates:f,gasEstimateType:p,isGasEstimatesLoading:m,isNetworkBusy:g}};var a=u(e("lodash/isEqual")),r=e("react-redux"),o=e("react"),s=e("../ducks/metamask/metamask"),i=e("../store/actions"),l=e("../selectors"),c=u(e("./usePolling"));function u(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[5349,{"../../app/scripts/lib/util":119,"../../shared/constants/network":4436,"../../shared/constants/time":4447,"../../shared/lib/fetch-with-cache":4453,"../selectors":5900,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalNativeTokenSymbol=function(e,t,n,a=null){const[d,p]=(0,r.useState)(null),f=(0,o.useSelector)(c.useSafeChainsListValidationSelector);return(0,r.useEffect)((()=>{!async function(n){try{var r;if(!f)return void p(!0);if((e=>{const t=(0,u.getValidUrl)(e);return null!==t&&("localhost"===t.hostname||"127.0.0.1"===t.hostname)})(a))return void p(!0);const o=i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e];if(o)return void p(o===t);const c=i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[e];if(c&&c.some((e=>e.currencySymbol===t)))return void p(!0);const d=(await(0,s.default)({url:"https://chainid.network/chains.json",cacheOptions:{cacheRefreshTime:l.DAY},functionName:"getSafeChainsList"})).find((e=>e.chainId===parseInt(n,16))),m=(null==d||null===(r=d.nativeCurrency)||void 0===r?void 0:r.symbol)??null;p(m===t)}catch(e){p(!1)}}(e)}),[d,e,t,n,a,f]),d};var a,r=e("react"),o=e("react-redux"),s=(a=e("../../shared/lib/fetch-with-cache"))&&a.__esModule?a:{default:a},i=e("../../shared/constants/network"),l=e("../../shared/constants/time"),c=e("../selectors"),u=e("../../app/scripts/lib/util")}}},{package:"$root$",file:"ui/hooks/useIsOriginalNativeTokenSymbol.js"}],[5350,{"../store/actions":5911,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalTokenSymbol=function(e,t){const[n,o]=(0,a.useState)(null);return(0,a.useEffect)((()=>{!async function(e){const n=await(0,r.getTokenSymbol)(e);o((null==n?void 0:n.toLowerCase())===(null==t?void 0:t.toLowerCase()))}(e)}),[e,t]),n};var a=e("react"),r=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useIsOriginalTokenSymbol.js"}],[5351,{"../store/actions":5911,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useModalProps=function(){const e=(0,a.useSelector)((e=>{var t;return null===(t=e.appState.modal.modalState)||void 0===t?void 0:t.props})),t=(0,a.useDispatch)();return{props:e,hideModal:()=>t((0,r.hideModal)())}};var a=e("react-redux"),r=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useModalProps.ts"}],[5352,{"../selectors":5900,"@metamask/name-controller":1484,lodash:3783,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useName=function(e,t,n){return i([{value:e,type:t,variation:n}])[0]},n.useNames=i;var a=e("@metamask/name-controller"),r=e("react-redux"),o=e("lodash"),s=e("../selectors");function i(e){const t=(0,r.useSelector)(s.getNames,o.isEqual),n=(0,r.useSelector)(s.getCurrentChainId);return e.map((({value:e,type:r,variation:o})=>{var s;const i=function(e,t){if(t===a.NameType.ETHEREUM_ADDRESS)return e.toLowerCase();return e}(e,r),l=function(e,t){if(e===a.NameType.ETHEREUM_ADDRESS)return t;return""}(r,n),c=o??l,u=(null===(s=t[r])||void 0===s?void 0:s[i])??{},d=u[c],p=u[a.FALLBACK_VARIATION],f=null!=d&&d.name||!p?d??{}:p,{name:m=null,sourceId:g=null,origin:h=null,proposedNames:y={}}=f;return{name:m,sourceId:g,proposedNames:y,origin:h}}))}}}},{package:"$root$",file:"ui/hooks/useName.ts"}],[5353,{"../ducks/metamask/metamask":5268,"../selectors":5900,"./useI18nContext":5348,"./usePrevious":5357,lodash:3783,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftsCollections=function(){const e=(0,c.useI18nContext)(),t=e("nftsPreviouslyOwned"),n=e("unknownCollection"),[u,d]=(0,a.useState)({}),[p,f]=(0,a.useState)({collectionName:t,nfts:[]}),m=(0,r.useSelector)(s.getNfts),[g,h]=(0,a.useState)((()=>(null==m?void 0:m.length)>=0)),{address:y}=(0,r.useSelector)(i.getSelectedInternalAccount),v=(0,r.useSelector)(i.getCurrentChainId),b=(0,r.useSelector)(s.getNftContracts),T=(0,l.usePrevious)(m),_=(0,l.usePrevious)(v),k=(0,l.usePrevious)(y);return(0,a.useEffect)((()=>{(0,o.isEqual)(T,m)&&(0,o.isEqual)(k,y)&&(0,o.isEqual)(_,v)||(()=>{if(h(!0),y===undefined||v===undefined)return;const e={},a={collectionName:t,nfts:[]};m.forEach((t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))a.nfts.push(t);else if(e[t.address])e[t.address].nfts.push(t);else{const a=b.find((({address:e})=>e===t.address));e[t.address]={collectionName:(null==a?void 0:a.name)||n,collectionImage:(null==a?void 0:a.logo)||t.image,nfts:[t]}}})),d(e),f(a),h(!1)})()}),[m,T,b,h,v,_,y,k,t,n]),{nftsLoading:g,collections:u,previouslyOwnedCollection:p}};var a=e("react"),r=e("react-redux"),o=e("lodash"),s=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("./usePrevious"),c=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNftsCollections.js"}],[5354,{"../selectors":5900,"@metamask/permission-controller":1579,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,r.useSelector)((t=>(0,o.getTargetSubjectMetadata)(t,e)));if(!e)return null;let n=null;try{const t=new URL(e);n={host:t.host,hostname:t.hostname,origin:e,subjectType:a.SubjectType.Unknown}}catch(e){}if(t&&n)return{...n,...t};if(t)return t;return n};var a=e("@metamask/permission-controller"),r=e("react-redux"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[5355,{"../selectors":5900,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePetnamesEnabled=function(){return(0,r.getPetnamesEnabled)((0,a.useStore)().getState())};var a=e("react-redux"),r=e("../selectors")}}},{package:"$root$",file:"ui/hooks/usePetnamesEnabled.ts"}],[5356,{react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react");n.default=e=>{const t=(0,a.useRef)(null),n=(0,a.useRef)(null);let r=!1;(0,a.useEffect)((()=>{if(!1===e.enabled)return()=>{};r=!0;const a=()=>{var a;t.current&&(e.stopPollingByPollingToken(t.current),null===(a=n.current)||void 0===a||a.call(n,t.current))};return e.startPollingByNetworkClientId(e.networkClientId,e.options).then((o=>{var s;t.current=o,n.current=(null===(s=e.callback)||void 0===s?void 0:s.call(e,o))||null,r||a()})),()=>{r=!1,a()}}),[e.networkClientId,e.options&&JSON.stringify(e.options,Object.keys(e.options).sort()),e.enabled])}}}},{package:"$root$",file:"ui/hooks/usePolling.ts"}],[5357,{react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePrevious=function(e){const t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e}),[e]),t.current};var a=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.ts"}],[5358,{lodash:3783,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useScrollRequired=void 0;var a=e("react"),r=e("lodash");n.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{const n=(0,a.useRef)(null),[o,s]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),d=()=>{if(!n.current)return;const e=n.current&&n.current.scrollHeight>n.current.clientHeight,a=e&&Math.round(n.current.scrollTop)+n.current.offsetHeight+t>=n.current.scrollHeight;l(e),u(!e||a),e&&!a||s(!0)};(0,a.useEffect)(d,[n,...e]);return{isScrollable:i,isScrolledToBottom:c,hasScrolledToBottom:o,scrollToBottom:()=>{u(!0),s(!0),n.current&&n.current.scrollTo({top:n.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:s,ref:n,onScroll:(0,r.debounce)(d,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[5359,{"../helpers/constants/routes":5283,"../selectors":5900,"react-redux":4129,"react-router-dom":4158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,r.useRouteMatch)({path:i,exact:!0,strict:!0}),t=((0,a.useSelector)(s.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:o.PATH_NAME_MAP[e.path],url:e.path}:undefined,referrer:n}};var a=e("react-redux"),r=e("react-router-dom"),o=e("../helpers/constants/routes"),s=e("../selectors");const i=Object.keys(o.PATH_NAME_MAP)}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[5360,{"../ducks/app/app":5258,"./useGasFeeEstimates":5347,lodash:3783,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),n=(0,r.useDispatch)(),l=(0,r.useSelector)(s.getGasLoadingAnimationIsShowing),c=(0,a.useRef)(t),u=!(0,o.isEqual)(c.current,t),d=(0,o.isEqual)(c.current,{});u&&(c.current=t);const p=e||u&&!d;(0,a.useEffect)((()=>{!1===l&&!0===p&&n((0,s.toggleGasLoadingAnimation)(!0))}),[n,l,p]),(0,a.useEffect)((()=>{let e;return l&&!p&&(e=setTimeout((()=>{n((0,s.toggleGasLoadingAnimation)(!1))}),2e3)),()=>{e&&clearTimeout(e)}}),[n,l,p])};var a=e("react"),r=e("react-redux"),o=e("lodash"),s=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[5361,{"../../shared/constants/time":4447,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:o}=e,[s={}]=n,{submittedTime:i}=s,[l,c]=(0,a.useState)((()=>Date.now()-i>5e3&&t&&!o));return(0,a.useEffect)((()=>{let e;return o||!t||l||(Date.now()-i>5*r.SECOND?c(!0):e=setTimeout((()=>{c(!0),clearTimeout(e)}),5001-(Date.now()-i))),()=>{e&&clearTimeout(e)}}),[i,l,o,t]),l};var a=e("react"),r=e("../../shared/constants/time")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[5362,{"../../shared/lib/transactions-controller-utils":4459,"../../shared/modules/swaps.utils":4487,"../selectors":5900,"./useTokenFiatAmount":5367,"@metamask/transaction-controller":2189,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:c,address:u}=t,{primaryTransaction:d,initialTransaction:p}=e,{type:f}=p,{from:m}=p.txParams||{},g=(0,a.useSelector)(i.getCurrentChainId),h=f===r.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,s.isSwapsDefaultTokenAddress)(t.address,g)&&(0,s.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,g)),y=[r.TransactionType.swap].includes(f)&&h?(0,o.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,p,u,m,c,null,g):[r.TransactionType.swap,r.TransactionType.swapAndSend].includes(f)&&d.swapTokenValue,v="string"==typeof y&&-1===Math.sign(y),b=(0,l.useTokenFiatAmount)(u,y||"",n),T=(0,l.useTokenFiatAmount)(d.sourceTokenAddress,y,d.sourceTokenSymbol);let _;y&&(h?_=b:f===r.TransactionType.swapAndSend&&(_=T));return{swapTokenValue:y,swapTokenFiatAmount:_,isViewingReceivedTokenFromSwap:h,isNegative:v}};var a=e("react-redux"),r=e("@metamask/transaction-controller"),o=e("../../shared/lib/transactions-controller-utils"),s=e("../../shared/modules/swaps.utils"),i=e("../selectors"),l=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[5363,{"../../shared/constants/preferences":4441,"../selectors":5900,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTheme=function(){const e=(0,r.useSelector)(o.getTheme),[t,n]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const t=e&&e!==s.ThemeType.os?e:document.documentElement.getAttribute("data-theme");i.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${s.ThemeType.light}".`),n(s.ThemeType.light)),n(t)}),[e]),t};var a=e("react"),r=e("react-redux"),o=e("../selectors"),s=e("../../shared/constants/preferences");const i=Object.values(s.ThemeType).filter((e=>e!==s.ThemeType.os))}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[5364,{react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const r=(0,a.useRef)(),[o,s]=(0,a.useState)(null);(0,a.useEffect)((()=>{r.current=e}),[e]),(0,a.useEffect)((()=>{if("start"!==o)return undefined;const e=setTimeout((()=>{r.current()}),t);return s(e),()=>{clearTimeout(o)}}),[t,o]);const i=(0,a.useCallback)((()=>{clearTimeout(o),s("start")}),[o]);n&&i();return i};var a=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[5365,{"../../shared/modules/transaction.utils":4488,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,a.useMemo)((()=>t&&e?(0,r.parseStandardTokenTransactionData)(e):null),[t,e])};var a=e("react"),r=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[5366,{"../../shared/lib/metamask-controller-utils":4454,"../../shared/lib/transactions-controller-utils":4459,"./useTokenData":5365,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const i=(0,s.useTokenData)(e,n),l=(0,r.getTokenValueParam)(i),c=Boolean(n&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&l);return(0,a.useMemo)((()=>c?(0,o.calcTokenAmount)(l,t.decimals).toString(10):null),[c,l,t])};var a=e("react"),r=e("../../shared/lib/metamask-controller-utils"),o=e("../../shared/lib/transactions-controller-utils"),s=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[5367,{"../../shared/modules/string-utils":4486,"../ducks/metamask/metamask":5268,"../helpers/utils/token-util":5318,"../selectors":5900,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenFiatAmount=function(e,t,n,c={},u){const d=(0,r.useSelector)(o.getTokenExchangeRates,r.shallowEqual),p=(0,r.useSelector)(o.getConfirmationExchangeRates),f={...d,...p},m=(0,r.useSelector)(i.getConversionRate),g=(0,r.useSelector)(o.getCurrentCurrency),h=(0,r.useSelector)(o.getShouldShowFiat),y=c.showFiat??h,v=Object.keys(f).find((t=>(0,l.isEqualCaseInsensitive)(t,e))),b=c.exchangeRate??(v&&f[v]),T=(0,a.useMemo)((()=>(0,s.getTokenFiatAmount)(b,m,g,t,n,!0,u)),[b,m,g,t,n,u]);if(!y||g.toUpperCase()===n)return undefined;return T};var a=e("react"),r=e("react-redux"),o=e("../selectors"),s=e("../helpers/utils/token-util"),i=e("../ducks/metamask/metamask"),l=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useTokenFiatAmount.js"}],[5368,{"../../shared/constants/time":4447,"../../shared/modules/string-utils":4486,"../selectors":5900,"./useEqualityCheck":5343,"@metamask/eth-token-tracker":1304,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:n=!1,hideZeroBalanceTokens:a=!1}){const d=(0,s.useSelector)(i.getCurrentChainId),{address:p}=(0,s.useSelector)(i.getSelectedInternalAccount,s.shallowEqual),f=t??p,[m,g]=(0,r.useState)((()=>(null==e?void 0:e.length)>=0)),[h,y]=(0,r.useState)([]),[v,b]=(0,r.useState)(null),T=(0,r.useRef)(null),_=(0,u.useEqualityCheck)(e),k=(0,r.useCallback)((e=>{const t=(a?e.filter((e=>Number(e.balance)>0)):e).map((e=>{const t=_.find((t=>(0,c.isEqualCaseInsensitive)(t.address,e.address)));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}}));y(t),g(!1),b(null)}),[a,_]),x=(0,r.useCallback)((e=>{b(e),g(!1)}),[]),E=(0,r.useCallback)((()=>{T.current&&(T.current.stop(),T.current.removeAllListeners("update"),T.current.removeAllListeners("error"),T.current=null)}),[]),w=(0,r.useCallback)(((e,t)=>{E(),T.current=new o.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:n,pollingInterval:8*l.SECOND,balanceDecimals:5}),T.current.on("update",k),T.current.on("error",x),T.current.updateBalances()}),[k,n,x,E]);return(0,r.useEffect)((()=>E),[E]),(0,r.useEffect)((()=>{g(!0),f&&d!==undefined&&global.ethereumProvider?(0===_.length&&k([]),w(f,_)):E()}),[f,E,d,_,k,w]),{loading:m,tokensWithBalances:h,error:v}};var a,r=e("react"),o=(a=e("@metamask/eth-token-tracker"))&&a.__esModule?a:{default:a},s=e("react-redux"),i=e("../selectors"),l=e("../../shared/constants/time"),c=e("../../shared/modules/string-utils"),u=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[5369,{"../../shared/constants/network":4436,"../../shared/constants/swaps":4445,"../../shared/modules/hexstring-utils":4472,"../../shared/modules/swaps.utils":4487,"../ducks/metamask/metamask":5268,"../ducks/swaps/swaps":5273,"../helpers/utils/token-util":5318,"../selectors":5900,"./useEqualityCheck":5343,"@metamask/assets-controllers":1146,"bignumber.js":2888,lodash:3783,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=v,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:a=g.TokenBucketPriority.owned}){const l=(0,o.useSelector)(u.getCurrentChainId),c=(0,o.useSelector)(u.getTokenExchangeRates,i.isEqual),m=(0,o.useSelector)(d.getConversionRate),h=(0,o.useSelector)(u.getCurrentCurrency),b=(0,o.useSelector)(u.getSwapsDefaultToken,o.shallowEqual),T=(0,o.useSelector)(u.getTokenList,i.isEqual),_=(0,y.useEqualityCheck)(t),k=(0,y.useEqualityCheck)(e),x=v(b,c,m,h,l,T),E=(0,y.useEqualityCheck)(x),w=(0,o.useSelector)(p.getSwapsTokens,i.isEqual)||[],C=w.length?w:[E,...n.filter((e=>e.symbol!==E.symbol))],S=(0,y.useEqualityCheck)(C);return(0,r.useMemo)((()=>{const e=k.reduce(((e,t)=>({...e,[t.address.toLowerCase()]:t})),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([E,...S,...k],(e=>e.address.toLowerCase())).forEach((n=>{const r=v({...e[n.address.toLowerCase()],...n},c,m,h,l,T);a===g.TokenBucketPriority.owned?(0,f.isSwapsDefaultTokenSymbol)(r.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(r):_[n.address.toLowerCase()]?t.top[_[n.address.toLowerCase()].index]=r:t.others.push(r):_[n.address.toLowerCase()]?t.top[_[n.address.toLowerCase()].index]=r:(0,f.isSwapsDefaultTokenSymbol)(r.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(r):t.others.push(r)})),t.owned=t.owned.sort((({rawFiat:e},{rawFiat:t})=>new s.default(e||0).gt(t||0)?-1:1)),t.top=t.top.filter(Boolean),a===g.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]}),[S,k,_,c,m,h,E,l,T,a])};var a,r=e("react"),o=e("react-redux"),s=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("lodash"),l=e("@metamask/assets-controllers"),c=e("../helpers/utils/token-util"),u=e("../selectors"),d=e("../ducks/metamask/metamask"),p=e("../ducks/swaps/swaps"),f=e("../../shared/modules/swaps.utils"),m=e("../../shared/modules/hexstring-utils"),g=e("../../shared/constants/swaps"),h=e("../../shared/constants/network"),y=e("./useEqualityCheck");function v(e,t,n,a,r,o){var i,u;const{symbol:d,name:p,address:g,iconUrl:y,string:v,balance:b,decimals:T}=e;let _;(0,f.isSwapsDefaultTokenSymbol)(d,r)?_=1:v&&n>0&&(_=t[(0,m.toChecksumHexAddress)(g)]);const k=(0,c.getTokenFiatAmount)(_,n,a,v,d,!0)||"",x=k?(0,c.getTokenFiatAmount)(_,n,a,v,d,!1):"",E=r===h.CHAIN_IDS.SEPOLIA?h.CHAIN_IDS.MAINNET:r,w=(d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.MAINNET||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.SEPOLIA||d===h.CURRENCY_SYMBOLS.BNB&&r===h.CHAIN_IDS.BSC||d===h.CURRENCY_SYMBOLS.MATIC&&r===h.CHAIN_IDS.POLYGON||d===h.CURRENCY_SYMBOLS.AVALANCHE&&r===h.CHAIN_IDS.AVALANCHE||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.OPTIMISM||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.ARBITRUM||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.LINEA_MAINNET||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.ZKSYNC_ERA||d===h.CURRENCY_SYMBOLS.ETH&&r===h.CHAIN_IDS.BASE?y:(0,l.formatIconUrlWithProxy)({chainId:E,tokenAddress:g||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:p||(null===(i=o[null==g?void 0:g.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:v&&`${new s.default(v).round(6).toString()} ${d}`,rightSecondaryLabel:k,iconUrl:w,identiconAddress:w?null:g,balance:b,decimals:T,name:p||(null===(u=o[null==g?void 0:g.toLowerCase()])||void 0===u?void 0:u.name),rawFiat:x}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[5370,{"../../shared/constants/transaction":4449,"../../shared/lib/metamask-controller-utils":4454,"../../shared/modules/string-utils":4486,"../ducks/metamask/metamask":5268,"../helpers/constants/common":5275,"../helpers/constants/transactions":5289,"../helpers/utils/common.util":5302,"../helpers/utils/token-util":5318,"../helpers/utils/transactions.util":5319,"../helpers/utils/util":5321,"../selectors/selectors":5907,"../store/actions":5911,"./useCurrencyDisplay":5339,"./useCurrentAsset":5341,"./useI18nContext":5348,"./useSwappedTokenValue":5362,"./useTokenData":5365,"./useTokenDisplayValue":5366,"./useTokenFiatAmount":5367,"./useUserPreferencedCurrency":5373,"@metamask/transaction-controller":2189,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,S,P,M,O,I,N;const j=(0,a.useDispatch)(),A=(0,w.useCurrentAsset)(),D=(0,a.useSelector)(f.getTokens),F=(0,a.useSelector)(f.getNfts),R=(0,a.useSelector)(s.getDetectedTokensInCurrentNetwork)||[],B=(0,a.useSelector)(s.getTokenList),L=(0,v.useI18nContext)(),{initialTransaction:$,primaryTransaction:G}=e,{type:W}=$,{from:q,to:U}=$.txParams||{},V=(0,a.useSelector)((e=>{var t;return(0,s.getKnownMethodData)(e,null==$||null===(t=$.txParams)||void 0===t?void 0:t.data)}))||{},H=(0,i.getStatusKey)(G),z=H in p.PENDING_STATUS_HASH,Y=H===o.TransactionStatus.submitted,K=(0,r.useRef)(!0),J=null===(t=G.txParams)||void 0===t?void 0:t.value,X=(0,d.formatDateWithYearContext)($.time);let Z,Q="-",ee=!1,te=U;const ne=p.TOKEN_CATEGORY_HASH[W];let ae=null;const[re,oe]=(0,r.useState)(null);ne&&(ae=D.find((({address:e})=>(0,h.isEqualCaseInsensitive)(e,te)))||R.find((({address:e})=>(0,h.isEqualCaseInsensitive)(e,te)))||B[te.toLowerCase()]);(0,r.useEffect)((()=>()=>{K.current=!1}),[]),(0,r.useEffect)((()=>{!async function(){if(ne&&!ae){var e;const t=await(0,u.getAssetDetails)(U,q,null==$||null===(e=$.txParams)||void 0===e?void 0:e.data,F);!0===K.current&&oe(t)}}()}),[ne,ae,te,q,null==$||null===(n=$.txParams)||void 0===n?void 0:n.data,F,U,K]),re&&(ae={address:re.toAddress,symbol:re.symbol,decimals:re.decimals});const se=(0,x.useTokenData)(null==$||null===(S=$.txParams)||void 0===S?void 0:S.data,ne),ie=(0,u.getTokenIdParam)(se)??(0,y.getTokenValueParam)(se),le=ne&&F.find((({address:e,tokenId:t})=>(0,h.isEqualCaseInsensitive)(e,te)&&t===ie)),ce=(0,k.useTokenDisplayValue)(null==G||null===(P=G.txParams)||void 0===P?void 0:P.data,ae,ne),ue=(0,b.useTokenFiatAmount)(null===(M=ae)||void 0===M?void 0:M.address,ce,null===(O=ae)||void 0===O?void 0:O.symbol),de=(0,d.stripHttpSchemes)($.origin||(null===(I=$.msgParams)||void 0===I?void 0:I.origin)||"");let pe,fe,me=ne?null===(N=ae)||void 0===N?void 0:N.symbol:undefined,ge=ne?ce:undefined,he=ne?ue:undefined;const{swapTokenValue:ye,isNegative:ve,swapTokenFiatAmount:be,isViewingReceivedTokenFromSwap:Te}=(0,E.useSwappedTokenValue)(e,A);if(C.includes(W))pe=m.TransactionGroupCategory.signatureRequest,fe=L("signatureRequest"),Z=de,ee=!0;else if(W===o.TransactionType.swap)pe=m.TransactionGroupCategory.swap,fe=L("swapTokenToToken",[$.sourceTokenSymbol,$.destinationTokenSymbol]),Z=de,ee=!0,me=Te?A.symbol:$.sourceTokenSymbol,ge=ye,he=be,Q=ve?"":Te?"+":"-";else if(W===o.TransactionType.swapAndSend){const e=$.swapAndSendRecipient===q;te=$.swapAndSendRecipient,pe=m.TransactionGroupCategory.swapAndSend,fe=L("sendTokenAsToken",[$.sourceTokenSymbol,$.destinationTokenSymbol]),Z=de,ee=!0,me=Te&&e?A.symbol:$.sourceTokenSymbol,ge=ye,he=be,Q=ve?"":Te&&e?"+":"-"}else if(W===o.TransactionType.swapApproval)pe=m.TransactionGroupCategory.approval,fe=L("swapApproval",[G.sourceTokenSymbol]),Z=de,ee=!0,me=G.sourceTokenSymbol;else if(W===o.TransactionType.tokenMethodApprove){var _e;pe=m.TransactionGroupCategory.approval,Q="",fe=L("approveSpendingCap",[(null===(_e=ae)||void 0===_e?void 0:_e.symbol)||L("token").toLowerCase()]),Z=de,ee=!0}else if(W===o.TransactionType.tokenMethodSetApprovalForAll){var ke;pe=m.TransactionGroupCategory.approval,Q="",fe=L("setApprovalForAllTitle",[(null===(ke=ae)||void 0===ke?void 0:ke.symbol)||L("token")]),Z=de,ee=!0}else if(W===o.TransactionType.tokenMethodIncreaseAllowance){var xe;pe=m.TransactionGroupCategory.approval,Q="",fe=L("approveIncreaseAllowance",[(null===(xe=ae)||void 0===xe?void 0:xe.symbol)||L("token")]),Z=de,ee=!0}else if(W===o.TransactionType.contractInteraction){pe=m.TransactionGroupCategory.interaction;const e=(0,i.getTransactionTypeTitle)(L,W);fe=(null==V?void 0:V.name)&&(0,l.camelCaseToCapitalize)(V.name)||e,Z=de,ee=!0}else if(W===o.TransactionType.deployContract)pe=m.TransactionGroupCategory.interaction,fe=(0,i.getTransactionTypeTitle)(L,W),Z=de,ee=!0;else if(W===o.TransactionType.incoming)pe=m.TransactionGroupCategory.receive,fe=L("receive"),Q="",Z=L("fromAddress",[(0,d.shortenAddress)(q)]);else if(W===o.TransactionType.tokenMethodTransferFrom||W===o.TransactionType.tokenMethodTransfer){var Ee;pe=m.TransactionGroupCategory.send,fe=L("sendSpecifiedTokens",[(null===(Ee=ae)||void 0===Ee?void 0:Ee.symbol)||(null==le?void 0:le.name)||L("token")]),te=(0,u.getTokenAddressParam)(se),Z=L("toAddress",[(0,d.shortenAddress)(te)])}else W===o.TransactionType.tokenMethodSafeTransferFrom?(pe=m.TransactionGroupCategory.send,fe=L("safeTransferFrom"),te=(0,u.getTokenAddressParam)(se),Z=L("toAddress",[(0,d.shortenAddress)(te)])):W===o.TransactionType.simpleSend?(pe=m.TransactionGroupCategory.send,fe=L("send"),Z=L("toAddress",[(0,d.shortenAddress)(te)])):j((0,g.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${W}`));const we=(0,T.useUserPreferencedCurrency)(c.PRIMARY),Ce=(0,T.useUserPreferencedCurrency)(c.SECONDARY),[Se]=(0,_.useCurrencyDisplay)(J,{prefix:Q,displayValue:ge,suffix:me,...we}),[Pe]=(0,_.useCurrencyDisplay)(J,{prefix:Q,displayValue:he,hideLabel:ne||Boolean(ye),...Ce});return{title:fe,category:pe,date:X,subtitle:Z,subtitleContainsOrigin:ee,primaryCurrency:W===o.TransactionType.swap&&z?"":Se,senderAddress:q,recipientAddress:te,secondaryCurrency:ne&&!ue||[o.TransactionType.swap,o.TransactionType.swapAndSend].includes(W)&&!be?undefined:Pe,displayedStatusKey:H,isPending:z,isSubmitted:Y}};var a=e("react-redux"),r=e("react"),o=e("@metamask/transaction-controller"),s=e("../selectors/selectors"),i=e("../helpers/utils/transactions.util"),l=e("../helpers/utils/common.util"),c=e("../helpers/constants/common"),u=e("../helpers/utils/token-util"),d=e("../helpers/utils/util"),p=e("../helpers/constants/transactions"),f=e("../ducks/metamask/metamask"),m=e("../../shared/constants/transaction"),g=e("../store/actions"),h=e("../../shared/modules/string-utils"),y=e("../../shared/lib/metamask-controller-utils"),v=e("./useI18nContext"),b=e("./useTokenFiatAmount"),T=e("./useUserPreferencedCurrency"),_=e("./useCurrencyDisplay"),k=e("./useTokenDisplayValue"),x=e("./useTokenData"),E=e("./useSwappedTokenValue"),w=e("./useCurrentAsset");const C=[null,undefined,o.TransactionType.sign,o.TransactionType.personalSign,o.TransactionType.signTypedData,o.TransactionType.ethDecrypt,o.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[5371,{"../../shared/modules/hexstring-utils":4472,"../components/app/snaps/snap-insight/snap-insight":4703,"../components/ui/tabs":5218,"../components/ui/tabs/snaps/dropdown-tab":5220,"../helpers/utils/util":5321,"../selectors":5900,"../store/actions":5911,"./snaps/useTransactionInsightSnaps":5333,"@metamask/transaction-controller":2189,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../shared/modules/hexstring-utils"),l=e("../components/ui/tabs"),c=(a=e("../components/ui/tabs/snaps/dropdown-tab"))&&a.__esModule?a:{default:a},u=e("../components/app/snaps/snap-insight/snap-insight"),d=e("../selectors"),p=e("../store/actions"),f=e("../helpers/utils/util"),m=e("./snaps/useTransactionInsightSnaps");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.default=({txData:e})=>{var t;const n=(0,o.useDispatch)(),{txParams:a,chainId:g,origin:h}=e,y=`eip155:${(0,i.stripHexPrefix)(g)}`,v=(0,o.useSelector)(d.getInsightSnaps),b=(0,o.useSelector)(d.getInsightSnapIds),T=(0,o.useSelector)(d.getSnapsMetadata),_=(0,f.getSnapName)(T),[k,x]=(0,r.useState)(null===(t=v[0])||void 0===t?void 0:t.id),E={transaction:a,chainId:y,origin:h,insightSnaps:b},{data:w,loading:C,warnings:S}=(0,m.useTransactionInsightSnaps)(E);if((0,r.useEffect)((()=>{b.length>0&&!k&&x(b[0])}),[b,k,x]),(0,r.useEffect)((()=>()=>{null==w||w.map((({response:e})=>(null==e?void 0:e.id)&&n((0,p.deleteInterface)(e.id))))}),[w]),(P=e.type)!==s.TransactionType.contractInteraction&&P!==s.TransactionType.simpleSend&&P!==s.TransactionType.tokenMethodSafeTransferFrom&&P!==s.TransactionType.tokenMethodTransferFrom&&P!==s.TransactionType.tokenMethodTransfer||!v.length)return null;var P;const M=v.find((({id:e})=>e===k));let O;if(1===v.length)O=r.default.createElement(l.Tab,{className:"confirm-page-container-content__tab",name:_(M.id)},r.default.createElement(u.SnapInsight,{snapId:k,data:null==w?void 0:w[0],loading:C}));else if(v.length>1){const e=null==v?void 0:v.map((({id:e})=>({value:e,name:_(e)}))),t=null==w?void 0:w.find((e=>(null==e?void 0:e.snapId)===k));O=r.default.createElement(c.default,{className:"confirm-page-container-content__tab",options:e,selectedOption:k,onChange:e=>x(e)},r.default.createElement(u.SnapInsight,{snapId:k,loading:C,data:t}))}return{insightComponent:O,warnings:S}}}}},{package:"$root$",file:"ui/hooks/useTransactionInsights.js"}],[5372,{"../ducks/swaps/swaps":5273,"../pages/swaps/swaps.util":5880,"../selectors":5900,"../store/actions":5911,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useDispatch)(),t=(0,r.useSelector)(l.getCurrentChainId),n=(0,r.useSelector)(l.getIsSwapsChain),c=(0,r.useSelector)(l.checkNetworkAndAccountSupports1559),u=(0,r.useSelector)(l.getUseExternalServices);(0,a.useEffect)((()=>n&&u?((0,o.fetchTokens)(t).then((t=>{e((0,i.setSwapsTokens)(t))})).catch((e=>console.error(e))),(0,o.fetchTopAssets)(t).then((t=>{e((0,s.setTopAssets)(t))})),(0,o.fetchAggregatorMetadata)(t).then((t=>{e((0,s.setAggregatorMetadata)(t))})),c||e((0,s.fetchAndSetSwapsGasPriceInfo)()),()=>{e((0,s.prepareToLeaveSwaps)())}):undefined),[e,t,c,n,u])};var a=e("react"),r=e("react-redux"),o=e("../pages/swaps/swaps.util"),s=e("../ducks/swaps/swaps"),i=e("../store/actions"),l=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useUpdateSwapsState.ts"}],[5373,{"../../shared/constants/common":4425,"../constants":5243,"../ducks/metamask/metamask":5268,"../helpers/constants/common":5275,"../selectors":5900,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={}){const n=(0,a.useSelector)(o.getNativeCurrency),{useNativeCurrencyAsPrimaryCurrency:c}=(0,a.useSelector)(r.getPreferences,a.shallowEqual),u=(0,a.useSelector)(r.getShouldShowFiat),d={currency:(0,a.useSelector)(r.getCurrentCurrency),numberOfDecimals:t.numberOfDecimals||t.fiatNumberOfDecimals||2},p={currency:n||i.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||l.ETH_DEFAULT_DECIMALS};if(t.showNativeOverride)return p;if(t.showFiatOverride)return d;if(!u||e===s.PRIMARY&&c||e===s.SECONDARY&&!c)return p;return d};var a=e("react-redux"),r=e("../selectors"),o=e("../ducks/metamask/metamask"),s=e("../helpers/constants/common"),i=e("../../shared/constants/common"),l=e("../constants")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[5374,{"../app/scripts/lib/setupSentry":108,"../app/scripts/lib/util":119,"../shared/constants/alerts":4422,"../shared/constants/app":4423,"../shared/constants/copy":4426,"../shared/lib/error-utils":4452,"../shared/lib/switch-direction":4457,"../shared/modules/object.utils":4477,"./ducks/alerts":5255,"./ducks/metamask/metamask":5268,"./helpers/utils/tx-helper":5320,"./pages":5664,"./selectors":5900,"./store/actions":5911,"./store/background-connection":5912,"./store/store":5913,"copy-to-clipboard":3042,lodash:3783,loglevel:3789,react:4173,"react-dom":4005,"webextension-polyfill":4402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){const{backgroundConnection:n}=e;n.getState((function(a,r){a?t(a,{...r},n):async function(e,t,n){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:a,enLocaleMessages:r}=await(0,h.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,g.default)("rtl");const o={activeTab:n.activeTab,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:a,en:r}};if(P(t),(0,c.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){var l;const{origin:e}=o.activeTab,t=(0,b.getPermittedAccountsForCurrentTab)(o),n=(null===(l=(0,b.getSelectedInternalAccount)(o))||void 0===l?void 0:l.address)??"",a=(0,_.getUnconnectedAccountAlertShown)(o),r=(0,_.getUnconnectedAccountAlertEnabledness)(o);e&&r&&!a[e]&&t.length>0&&!t.includes(n)&&(o[u.AlertTypes.unconnectedAccount]={state:T.ALERT_STATE.OPEN},y.setUnconnectedAccountAlertShown(e))}const d=(0,v.default)(o);S=d;const p=(0,b.getUnapprovedTransactions)(e),m=(0,x.default)(p,e.unapprovedMsgs,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,e.providerConfig.chainId);m.length>0&&d.dispatch(y.showConfTxPage({id:m[0].id}));global.metamask={updateCurrentLocale:e=>{d.dispatch(y.updateCurrentLocale(e))},setProviderType:e=>{d.dispatch(y.setProviderType(e))},setFeatureFlag:(e,t)=>{d.dispatch(y.setFeatureFlag(e,t))}};const E=d.getState(),w=(0,b.getNetworkToAutomaticallySwitchTo)(E);w?await d.dispatch(y.automaticallySwitchNetwork(w,(0,b.getOriginOfCurrentTab)(E))):(0,b.getSwitchedNetworkDetails)(E)&&await d.dispatch(y.clearSwitchedNetworkDetails());if((0,b.getUseRequestQueue)(E)&&(0,c.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){const e=Date.now();global.metamask.id=e,await d.dispatch(y.setCurrentExtensionPopupId(e))}return(0,i.render)(s.default.createElement(k.default,{store:d}),n.container),d}(r,n,e).then((e=>{!function(e){0;window.stateHooks.getCleanAppState=async function(){const t=(0,o.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t.completeTxList=await y.getTransactions({filterToCurrentNetwork:!1}),t},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,d.maskObject)(t,p.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:n}=t.metamask;return Object.values(n).sort(((e,t)=>e.timestamp-t.timestamp))}}(e),t(null,e)}))}))},n.updateBackgroundConnection=void 0;var a=C(e("copy-to-clipboard")),r=C(e("loglevel")),o=e("lodash"),s=C(e("react")),i=e("react-dom"),l=C(e("webextension-polyfill")),c=e("../app/scripts/lib/util"),u=e("../shared/constants/alerts"),d=e("../shared/modules/object.utils"),p=e("../app/scripts/lib/setupSentry"),f=e("../shared/constants/app"),m=e("../shared/constants/copy"),g=C(e("../shared/lib/switch-direction")),h=e("../shared/lib/error-utils"),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./store/actions")),v=C(e("./store/store")),b=e("./selectors"),T=e("./ducks/alerts"),_=e("./ducks/metamask/metamask"),k=C(e("./pages")),x=C(e("./helpers/utils/tx-helper")),E=e("./store/background-connection");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function C(e){return e&&e.__esModule?e:{default:e}}let S;r.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const P=e=>{(0,E.setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);S.dispatch(y.updateMetamaskState(e.params[0]))}))};n.updateBackgroundConnection=P,window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),n=window.stateHooks.getLogs();l.default.runtime.getPlatformInfo().then((a=>{t.platform=a,t.logs=n;const r=JSON.stringify(t,null,2);e(null,r)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,a.default)(n,m.COPY_OPTIONS),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$",file:"ui/index.js"}],[5375,{"../../../shared/modules/string-utils":4486,"../../components/app/nft-details/nft-details":4642,"../../ducks/metamask/metamask":5268,"../../helpers/constants/routes":5283,"./components/native-asset":5379,"./components/token-asset":5380,react:4173,"react-redux":4129,"react-router-dom":4158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../shared/modules/string-utils"),i=p(e("../../components/app/nft-details/nft-details")),l=e("../../ducks/metamask/metamask"),c=e("../../helpers/constants/routes"),u=p(e("./components/native-asset")),d=p(e("./components/token-asset"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useSelector)(l.getNativeCurrency),t=(0,r.useSelector)(l.getTokens),n=(0,r.useSelector)(l.getNfts),{asset:p,id:f}=(0,o.useParams)(),m=t.find((({address:e})=>(0,s.isEqualCaseInsensitive)(e,p))),g=n.find((({address:e,tokenId:t})=>(0,s.isEqualCaseInsensitive)(e,p)&&f===t.toString()));let h;return(0,a.useEffect)((()=>{document.querySelector(".app").scroll(0,0)}),[]),h=g?a.default.createElement(i.default,{nft:g}):m?a.default.createElement(d.default,{token:m}):p===e?a.default.createElement(u.default,{nativeCurrency:e}):a.default.createElement(o.Redirect,{to:{pathname:c.DEFAULT_ROUTE}}),a.default.createElement("div",{className:"main-container asset__container"},h)}}}},{package:"$root$",file:"ui/pages/asset/asset.js"}],[5376,{"../../../components/component-library":4879,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=s(e("prop-types")),o=e("../../../components/component-library");function s(e){return e&&e.__esModule?e:{default:e}}const i=({accountName:e,assetName:t,onBack:n})=>a.default.createElement("button",{className:"asset-breadcrumb",onClick:n},a.default.createElement(o.Icon,{name:o.IconName.ArrowLeft,"data-testid":"asset__back",marginInlineEnd:3,size:o.IconSize.Xs}),a.default.createElement("span",null,e),"/",a.default.createElement("span",{className:"asset-breadcrumb__asset"},t));i.propTypes={accountName:r.default.string.isRequired,assetName:r.default.string.isRequired,onBack:r.default.func.isRequired};n.default=i}}},{package:"$root$",file:"ui/pages/asset/components/asset-breadcrumb.js"}],[5377,{"./asset-breadcrumb":5376,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=s(e("prop-types")),o=s(e("./asset-breadcrumb"));function s(e){return e&&e.__esModule?e:{default:e}}const i=({accountName:e,assetName:t,onBack:n,optionsButton:r})=>a.default.createElement("div",{className:"asset-navigation"},a.default.createElement(o.default,{accountName:e,assetName:t,onBack:n}),r);i.propTypes={accountName:r.default.string.isRequired,assetName:r.default.string.isRequired,onBack:r.default.func.isRequired,optionsButton:r.default.element};n.default=i}}},{package:"$root$",file:"ui/pages/asset/components/asset-navigation.js"}],[5378,{"../../../components/component-library":4879,"../../../components/ui/menu":5186,"../../../contexts/i18n":5246,"../../../helpers/constants/design-system":5277,"../../../helpers/constants/routes":5283,"../../../selectors":5900,"prop-types":3930,react:4173,"react-redux":4129,"react-router-dom":4158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("react-router-dom"),i=e("react-redux"),l=e("../../../contexts/i18n"),c=e("../../../components/ui/menu"),u=e("../../../selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../components/component-library"),f=e("../../../helpers/constants/design-system");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const g=({onRemove:e,onClickBlockExplorer:t,onViewTokenDetails:n,tokenSymbol:a,isNativeAsset:o})=>{const m=(0,r.useContext)(l.I18nContext),[g,h]=(0,r.useState)(!1),y=(0,s.useHistory)(),v=(0,i.useSelector)(u.getBlockExplorerLinkText),b=(0,r.useRef)(!1);return r.default.createElement("div",{ref:b},r.default.createElement(p.ButtonIcon,{className:"asset-options__button","data-testid":"asset-options__button",onClick:()=>h(!0),ariaLabel:m("assetOptions"),iconName:p.IconName.MoreVertical,color:f.Color.textDefault,size:p.ButtonIconSize.Sm}),g?r.default.createElement(c.Menu,{anchorElement:b.current,onHide:()=>h(!1)},r.default.createElement(c.MenuItem,{iconName:p.IconName.Export,"data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===v.firstPart?()=>{y.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{h(!1),t()}},m(v.firstPart,""===v.secondPart?null:[m("blockExplorerAssetAction")])),o?null:r.default.createElement(c.MenuItem,{iconName:p.IconName.Trash,"data-testid":"asset-options__hide",onClick:()=>{h(!1),e()}},m("hideTokenSymbol",[a])),o?null:r.default.createElement(c.MenuItem,{iconName:p.IconName.Info,"data-testid":"asset-options__token-details",onClick:()=>{h(!1),n()}},m("tokenDetails"))):null)},h=e=>"function"!=typeof e;g.propTypes={isNativeAsset:o.default.bool,onClickBlockExplorer:o.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&h(e.onRemove))throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:e=>{if(!1===e.isNativeAsset&&h(e.onViewTokenDetails))throw new Error("When isNativeAsset is true, onViewTokenDetails is a required prop")},tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};n.default=g}}},{package:"$root$",file:"ui/pages/asset/components/asset-options.js"}],[5379,{"../../../../shared/constants/metametrics":4434,"../../../components/app/transaction-list":4801,"../../../components/app/wallet-overview":4807,"../../../contexts/metametrics":5249,"../../../helpers/constants/routes":5283,"../../../helpers/utils/util":5321,"../../../selectors/selectors":5907,"./asset-navigation":5377,"./asset-options":5378,"@metamask/etherscan-link":1324,"prop-types":3930,react:4173,"react-redux":4129,"react-router-dom":4158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=y(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/etherscan-link"),l=y(e("../../../components/app/transaction-list")),c=e("../../../components/app/wallet-overview"),u=e("../../../selectors/selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../helpers/utils/util"),f=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),g=y(e("./asset-navigation")),h=y(e("./asset-options"));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b({nativeCurrency:e}){const{name:t,address:n}=(0,o.useSelector)(u.getSelectedInternalAccount),r=(0,o.useSelector)(u.getCurrentChainId),y=(0,o.useSelector)(u.getRpcPrefsForCurrentProvider),v=(0,s.useHistory)(),b=(0,i.getAccountLink)(n,r,y),T=(0,a.useContext)(f.MetaMetricsContext),_=(0,o.useSelector)(u.getIsCustomNetwork);return a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{accountName:t,assetName:e,onBack:()=>v.push(d.DEFAULT_ROUTE),optionsButton:a.default.createElement(h.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{T({event:"Clicked Block Explorer Link",category:m.MetaMetricsEventCategory.Navigation,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,p.getURLHostName)(b)}}),global.platform.openTab({url:b})},isCustomNetwork:_})}),a.default.createElement(c.EthOverview,{className:"asset__overview",showAddress:!1}),a.default.createElement(l.default,{hideTokenTransactions:!0}))}b.propTypes={nativeCurrency:r.default.string.isRequired}}}},{package:"$root$",file:"ui/pages/asset/components/native-asset.js"}],[5380,{"../../../../shared/constants/metametrics":4434,"../../../components/app/transaction-list":4801,"../../../components/app/wallet-overview":4807,"../../../contexts/metametrics":5249,"../../../helpers/constants/routes":5283,"../../../helpers/utils/util":5321,"../../../selectors/selectors":5907,"../../../store/actions":5911,"./asset-navigation":5377,"./asset-options":5378,"@metamask/etherscan-link":1324,"prop-types":3930,react:4173,"react-redux":4129,"react-router-dom":4158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=v(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/etherscan-link"),l=v(e("../../../components/app/transaction-list")),c=e("../../../components/app/wallet-overview"),u=e("../../../selectors/selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../helpers/utils/util"),f=e("../../../store/actions"),m=e("../../../contexts/metametrics"),g=e("../../../../shared/constants/metametrics"),h=v(e("./asset-navigation")),y=v(e("./asset-options"));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function T({token:e}){const t=(0,o.useDispatch)(),n=(0,o.useSelector)(u.getCurrentChainId),r=(0,o.useSelector)(u.getRpcPrefsForCurrentProvider),v=(0,o.useSelector)(u.getSelectedInternalAccount),b=v.metadata.name,T=v.address,_=(0,s.useHistory)(),k=(0,i.getTokenTrackerLink)(e.address,n,null,T,r),x=(0,a.useContext)(m.MetaMetricsContext),E=(0,o.useSelector)(u.getIsCustomNetwork);return a.default.createElement(a.default.Fragment,null,a.default.createElement(h.default,{accountName:b,assetName:e.symbol,onBack:()=>_.push(d.DEFAULT_ROUTE),optionsButton:a.default.createElement(y.default,{onRemove:()=>t((0,f.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:_})),isCustomNetwork:E,onClickBlockExplorer:()=>{x({event:"Clicked Block Explorer Link",category:g.MetaMetricsEventCategory.Navigation,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,p.getURLHostName)(k)}}),global.platform.openTab({url:k})},onViewTokenDetails:()=>{_.push(`${d.TOKEN_DETAILS}/${e.address}`)},tokenSymbol:e.symbol})}),a.default.createElement(c.TokenOverview,{className:"asset__overview",token:e}),a.default.createElement(l.default,{tokenAddress:e.address}))}T.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/asset/components/token-asset.js"}],[5381,{"./asset":5375},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./asset"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/asset/index.js"}],[5382,{"../../../shared/constants/metametrics":4434,"../../../shared/constants/network":4436,"../../../shared/constants/transaction":4449,"../../components/app/network-account-balance-header/network-account-balance-header":4637,"../../components/app/nft-default-image/nft-default-image":4640,"../../components/component-library":4879,"../../components/ui/page-container":5197,"../../components/ui/site-origin/site-origin":5215,"../../contexts/i18n":5246,"../../contexts/metametrics":5249,"../../ducks/history/history":5265,"../../helpers/constants/common":5275,"../../helpers/constants/design-system":5277,"../../helpers/utils/util":5321,"../../hooks/useCurrencyDisplay":5339,"../../hooks/useOriginMetadata":5354,"../../hooks/useUserPreferencedCurrency":5373,"../../selectors":5900,"../../store/actions":5911,"@metamask/etherscan-link":1324,classnames:3004,"eth-rpc-errors":3205,react:4173,"react-redux":4129,"react-router-dom":4158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("eth-rpc-errors"),i=e("@metamask/etherscan-link"),l=P(e("classnames")),c=e("../../components/ui/page-container"),u=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),p=e("../../ducks/history/history"),f=e("../../store/actions"),m=e("../../../shared/constants/metametrics"),g=e("../../../shared/constants/transaction"),h=e("../../components/component-library"),y=e("../../selectors"),v=P(e("../../components/app/nft-default-image/nft-default-image")),b=e("../../helpers/utils/util"),T=e("../../helpers/constants/design-system"),_=P(e("../../components/app/network-account-balance-header/network-account-balance-header")),k=e("../../../shared/constants/network"),x=P(e("../../components/ui/site-origin/site-origin")),E=e("../../helpers/constants/common"),w=e("../../hooks/useUserPreferencedCurrency"),C=e("../../hooks/useCurrencyDisplay"),S=e("../../hooks/useOriginMetadata");function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,a.useContext)(u.I18nContext),n=(0,r.useDispatch)(),P=(0,o.useHistory)(),M=(0,r.useSelector)(p.getMostRecentOverviewPage),O=(0,r.useSelector)(y.getSuggestedNfts).sort(((e,t)=>e.requestData.asset.tokenId-t.requestData.asset.tokenId)),I=(0,r.useSelector)(y.getRpcPrefsForCurrentProvider),N=(0,r.useSelector)(y.getCurrentChainId),j=(0,r.useSelector)(y.getIpfsGateway),A=(0,a.useContext)(d.MetaMetricsContext),D=(0,r.useSelector)(y.getNetworkIdentifier),{address:F}=(0,r.useSelector)(y.getSelectedInternalAccount),R=(0,r.useSelector)(y.getSelectedAccountCachedBalance),B=(0,r.useSelector)((e=>(0,y.getAddressBookEntryOrAccountName)(e,F))),L=k.NETWORK_TO_NAME_MAP[N]||D,{currency:$,numberOfDecimals:G}=(0,w.useUserPreferencedCurrency)(E.PRIMARY,{ethNumberOfDecimals:4}),[W]=(0,C.useCurrencyDisplay)(R,{numberOfDecimals:G,currency:$}),q=(0,S.useOriginMetadata)(null===(e=O[0])||void 0===e?void 0:e.origin)||{},U=(0,a.useCallback)((async()=>{await Promise.all(O.map((async({requestData:{asset:e},id:t})=>{await n((0,f.resolvePendingApproval)(t,null)),A({event:m.MetaMetricsEventName.NftAdded,category:m.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_contract_address:e.address,token_symbol:e.symbol,token_id:e.tokenId,token_standard:e.standard,asset_type:g.AssetType.NFT,source:m.MetaMetricsTokenEventSource.Dapp}})}))),P.push(M)}),[n,P,A,M,O]),V=(0,a.useCallback)((async()=>{await Promise.all(O.map((async({id:e})=>n((0,f.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))))),P.push(M)}),[n,P,M,O]);let H,z;if((0,a.useEffect)((()=>{O.length||P.push(M)}),[P,M,O]),O.length)try{const e=new URL(O[0].origin);H=e.host,z=e.href}catch{H="dapp"}return a.default.createElement(h.Box,{height:T.BlockSize.Full,width:T.BlockSize.Full,display:T.Display.Flex,flexDirection:T.FlexDirection.Column},a.default.createElement(h.Box,{paddingBottom:2,className:"confirm-add-suggested-nft__header"},a.default.createElement(_.default,{accountName:B,accountBalance:W,accountAddress:F,networkName:L,chainId:N}),a.default.createElement(h.Box,{paddingTop:4,paddingRight:4,paddingLeft:4,display:T.Display.Flex,justifyContent:T.JustifyContent.center},a.default.createElement(x.default,{chip:!0,siteOrigin:q.origin,title:q.origin,iconSrc:q.iconUrl,iconName:q.hostname})),a.default.createElement(h.Text,{variant:T.TextVariant.headingLg,textAlign:T.TextAlign.Center,margin:2},t("addSuggestedNFTs")),a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,textAlign:T.TextAlign.Center},t("wantsToAddThisAsset",["dapp"===H?a.default.createElement(h.Text,{key:H,variant:T.TextVariant.bodyMd,fontWeight:"bold"},H):a.default.createElement(h.ButtonLink,{key:H,size:h.BUTTON_SIZES.INHERIT,href:z,target:"_blank"},H)]))),a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__content"},a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__card",padding:2,borderRadius:T.BorderRadius.MD},a.default.createElement(h.Box,{className:(0,l.default)({"confirm-add-suggested-nft__nft-list":O.length>1})},O.map((({id:e,requestData:{asset:{address:t,tokenId:r,symbol:o,image:l,name:c}}})=>{const u=(0,b.getAssetImageURL)(l,j),d=(0,i.getTokenTrackerLink)(t,N,null,null,{blockExplorerUrl:(null==I?void 0:I.blockExplorerUrl)??null});return 1===O.length?a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__nft-single",key:`confirm-add-suggested-nft__nft-single-${e}`,borderRadius:T.BorderRadius.MD,margin:0,padding:0},u?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-single-image",src:u,alt:c||r}):a.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-single-image-default",tokenId:r,name:c||o||(0,b.shortenAddress)(t)}),a.default.createElement(h.Box,{padding:1,display:T.Display.Flex,flexDirection:T.FlexDirection.Row,justifyContent:T.JustifyContent.spaceBetween,alignItems:T.AlignItems.Center},a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Column,justifyContent:T.JustifyContent.spaceEvenly,flexWrap:T.FlexWrap.NoWrap,width:T.BlockSize.Full,className:"confirm-add-suggested-nft__nft-single-sub-details"},I.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:d,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},c||o||(0,b.shortenAddress)(t)):a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,className:"confirm-add-suggested-nft__nft-name",title:t},c||o||(0,b.shortenAddress)(t)),a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,color:T.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",r)))):a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Row,flexWrap:T.FlexWrap.NoWrap,alignItems:T.AlignItems.Center,justifyContent:T.JustifyContent.spaceBetween,marginBottom:4,className:"confirm-add-suggested-nft__nft-list-item",key:`${t}-${r}`},a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Row,flexWrap:T.FlexWrap.NoWrap,alignItems:T.AlignItems.Center,justifyContent:T.JustifyContent.spaceBetween},u?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-image",src:u,alt:c||r}):a.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-image-default"}),a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Column,justifyContent:T.JustifyContent.spaceEvenly,flexWrap:T.FlexWrap.NoWrap,width:T.BlockSize.Full,className:"confirm-add-suggested-nft__nft-sub-details"},I.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:d,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},c||o||(0,b.shortenAddress)(t)):a.default.createElement(h.Text,{variant:T.TextVariant.bodySm,className:"confirm-add-suggested-nft__nft-name",title:t},c||o||(0,b.shortenAddress)(t)),a.default.createElement(h.Text,{variant:T.TextVariant.bodySm,color:T.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",r))),a.default.createElement(h.ButtonIcon,{className:"confirm-add-suggested-nft__nft-remove","data-testid":`confirm-add-suggested-nft__nft-remove-${e}`,iconName:h.IconName.Close,size:h.ButtonIconSize.Sm,color:T.IconColor.iconMuted,onClick:t=>{t.preventDefault(),t.stopPropagation(),n((0,f.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))}}))}))))),a.default.createElement(c.PageContainerFooter,{cancelText:t("cancel"),submitText:1===O.length?t("addNft"):t("addNfts"),onCancel:V,onSubmit:U}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/confirm-add-suggested-nft.js"}],[5383,{"./confirm-add-suggested-nft":5382},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-add-suggested-nft"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/index.js"}],[5384,{"../../../shared/constants/metametrics":4434,"../../../shared/constants/transaction":4449,"../../../shared/modules/string-utils":4486,"../../components/component-library":4879,"../../components/ui/identicon":5169,"../../components/ui/page-container":5197,"../../components/ui/token-balance":5230,"../../contexts/i18n":5246,"../../contexts/metametrics":5249,"../../ducks/history/history":5265,"../../ducks/metamask/metamask":5268,"../../helpers/constants/design-system":5277,"../../helpers/constants/zendesk-url":5290,"../../selectors":5900,"../../store/actions":5911,"eth-rpc-errors":3205,react:4173,"react-redux":4129,"react-router-dom":4158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("eth-rpc-errors"),i=e("../../components/component-library"),l=k(e("../../components/ui/identicon")),c=k(e("../../components/ui/token-balance")),u=e("../../components/ui/page-container"),d=e("../../contexts/i18n"),p=e("../../contexts/metametrics"),f=e("../../ducks/history/history"),m=e("../../ducks/metamask/metamask"),g=k(e("../../helpers/constants/zendesk-url")),h=e("../../../shared/modules/string-utils"),y=e("../../store/actions"),v=e("../../../shared/constants/metametrics"),b=e("../../../shared/constants/transaction"),T=e("../../selectors"),_=e("../../helpers/constants/design-system");function k(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(d.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),k=(0,r.useSelector)(f.getMostRecentOverviewPage),x=(0,r.useSelector)(T.getSuggestedTokens),E=(0,r.useSelector)(m.getTokens),w=(0,a.useContext)(p.MetaMetricsContext),C=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((({address:t})=>(0,h.isEqualCaseInsensitive)(t,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(x,E)&&a.default.createElement(i.BannerAlert,{severity:_.Severity.Warning,marginTop:4},e("knownTokenWarning",[a.default.createElement(i.Button,{variant:i.ButtonVariant.Link,key:"confirm-add-suggested-token-duplicate-warning",className:"confirm-add-suggested-token__link",externalLink:!0,size:i.ButtonLinkSize.Inherit,href:g.default.TOKEN_SAFETY_PRACTICES},e("learnScamRisk"))]))),[x,E,e]),S=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((t=>(0,h.isEqualCaseInsensitive)(t.symbol,null==e?void 0:e.symbol)&&!(0,h.isEqualCaseInsensitive)(t.address,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(x,E)&&a.default.createElement(i.BannerAlert,{marginTop:4,severity:_.Severity.Warning,description:e("reusedTokenNameWarning")})),[x,E,e]),P=(0,a.useCallback)((async()=>{await Promise.all(x.map((async({requestData:{asset:e},id:n})=>{await t((0,y.resolvePendingApproval)(n,null)),w({event:v.MetaMetricsEventName.TokenAdded,category:v.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:v.MetaMetricsTokenEventSource.Dapp,token_standard:b.TokenStandard.ERC20,asset_type:b.AssetType.token}})}))),n.push(k)}),[t,n,w,k,x]),M=(0,a.useCallback)((async()=>{await Promise.all(x.map((({id:e})=>t((0,y.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))))),n.push(k)}),[t,n,k,x]);return(0,a.useEffect)((()=>{x.length||n.push(k)}),[]),a.default.createElement("div",{className:"page-container"},a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},e("addSuggestedTokens")),a.default.createElement("div",{className:"page-container__subtitle"},e("likeToImportTokens")),C,S),a.default.createElement("div",{className:"page-container__content"},a.default.createElement("div",{className:"confirm-add-suggested-token"},a.default.createElement("div",{className:"confirm-add-suggested-token__header"},a.default.createElement("div",{className:"confirm-add-suggested-token__token"},e("token")),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},e("balance"))),a.default.createElement("div",{className:"confirm-add-suggested-token__token-list"},x.map((({requestData:{asset:e}})=>{return a.default.createElement("div",{className:"confirm-add-suggested-token__token-list-item",key:e.address},a.default.createElement("div",{className:"confirm-add-suggested-token__token confirm-add-suggested-token__data"},a.default.createElement(l.default,{className:"confirm-add-suggested-token__token-icon",diameter:48,address:e.address,image:e.image}),a.default.createElement("div",{className:"confirm-add-suggested-token__name"},(t=e.name,n=e.symbol,t===undefined?n:`${t} (${n})`))),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},a.default.createElement(c.default,{token:e})));var t,n}))))),a.default.createElement(u.PageContainerFooter,{cancelText:e("cancel"),submitText:e("addToken"),onCancel:M,onSubmit:P,disabled:0===x.length}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/confirm-add-suggested-token.js"}],[5385,{"./confirm-add-suggested-token":5384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-add-suggested-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/index.js"}],[5386,{"../../../shared/constants/common":4425,"../../../shared/constants/copy":4426,"../../../shared/constants/metametrics":4434,"../../../shared/constants/time":4447,"../../../shared/modules/Numeric":4461,"../../../shared/modules/conversion.utils":4465,"../../components/app/account-list-item":4493,"../../components/component-library":4879,"../../components/ui/identicon":5169,"../../components/ui/page-container":5197,"../../components/ui/tooltip":5232,"../../helpers/constants/design-system":5277,"../../helpers/utils/confirm-tx.util":5303,classnames:3004,"copy-to-clipboard":3042,loglevel:3789,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=_(e("prop-types")),o=_(e("copy-to-clipboard")),s=_(e("classnames")),i=_(e("loglevel")),l=_(e("../../components/app/account-list-item")),c=_(e("../../components/ui/identicon")),u=_(e("../../components/ui/tooltip")),d=e("../../components/ui/page-container"),p=e("../../../shared/constants/metametrics"),f=e("../../../shared/constants/time"),m=e("../../../shared/modules/Numeric"),g=e("../../../shared/constants/common"),h=e("../../components/component-library"),y=e("../../helpers/constants/design-system"),v=e("../../helpers/utils/confirm-tx.util"),b=e("../../../shared/modules/conversion.utils"),T=e("../../../shared/constants/copy");function _(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends a.Component{constructor(...e){super(...e),x(this,"state",{copyToClipboardPressed:!1,hasCopied:!1}),x(this,"copyMessage",(()=>{(0,o.default)(this.state.rawMessage,T.COPY_OPTIONS),this.context.trackEvent({category:p.MetaMetricsEventCategory.Messages,event:"Copy",properties:{action:"Decrypt Message Copy",legacy_event:!0}}),this.setState({hasCopied:!0}),setTimeout((()=>this.setState({hasCopied:!1})),3*f.SECOND)})),x(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-decrypt-message__header"},a.default.createElement("div",{className:"request-decrypt-message__header-background"}),a.default.createElement("div",{className:"request-decrypt-message__header__text"},this.context.t("decryptRequest")),a.default.createElement("div",{className:"request-decrypt-message__header__tip-container"},a.default.createElement("div",{className:"request-decrypt-message__header__tip"}))))),x(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-decrypt-message__account"},a.default.createElement("div",{className:"request-decrypt-message__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-decrypt-message__account-item"},a.default.createElement(l.default,{account:e})))})),x(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t,currentCurrency:n,fromAccount:{balance:r}}=this.props,{t:o}=this.context,s=e?(0,v.formatCurrency)((0,b.getValueFromWeiHex)({value:r,fromCurrency:t,toCurrency:n,conversionRate:e,numberOfDecimals:6,toDenomination:g.EtherDenomination.ETH}),n):new m.Numeric(r,16,g.EtherDenomination.WEI).toDenomination(g.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-decrypt-message__balance"},a.default.createElement("div",{className:"request-decrypt-message__balance-text"},`${o("balance")}:`),a.default.createElement("div",{className:"request-decrypt-message__balance-value"},`${s} ${e?null==n?void 0:n.toUpperCase():t}`))})),x(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-decrypt-message__request-icon"},a.default.createElement(c.default,{diameter:40,address:e}))})),x(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-decrypt-message__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),x(this,"renderBody",(()=>{const{decryptMessageInline:e,subjectMetadata:t,txData:n}=this.props,{t:r}=this.context,o=t[n.msgParams.origin],i=(null==o?void 0:o.name)||n.msgParams.origin,l=r("decryptMessageNotice",[n.msgParams.origin]),{hasCopied:c,hasDecrypted:d,hasError:p,rawMessage:f,errorMessage:m,copyToClipboardPressed:g}=this.state;return a.default.createElement("div",{className:"request-decrypt-message__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-decrypt-message__visual"},a.default.createElement("section",null,null!=o&&o.iconUrl?a.default.createElement("img",{className:"request-decrypt-message__visual-identicon",src:o.iconUrl,alt:""}):a.default.createElement("i",{className:"request-decrypt-message__visual-identicon--default"},i.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-decrypt-message__notice"},l))),a.default.createElement("div",{className:"request-decrypt-message__message"},a.default.createElement("div",{className:"request-decrypt-message__message-text"},d||p?f:n.msgParams.data,p?m:""),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-cover",{"request-decrypt-message__message-lock--pressed":d||p})}),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-lock",{"request-decrypt-message__message-lock--pressed":d||p}),onClick:t=>{e(n,t).then((e=>{e.error?this.setState({hasError:!0,errorMessage:this.context.t("decryptInlineError",[e.error])}):this.setState({hasDecrypted:!0,rawMessage:e.rawSig})}))}},a.default.createElement("div",{className:"request-decrypt-message__message-lock__container"},a.default.createElement("i",{className:"fa fa-lock fa-lg request-decrypt-message__message-lock__container__icon"}),a.default.createElement("div",{className:"request-decrypt-message__message-lock__container__text"},r("decryptMetamask"))))),d?a.default.createElement("div",{className:(0,s.default)({"request-decrypt-message__message-copy":!0,"request-decrypt-message__message-copy--pressed":g}),onClick:()=>this.copyMessage(),onMouseDown:()=>this.setState({copyToClipboardPressed:!0}),onMouseUp:()=>this.setState({copyToClipboardPressed:!1})},a.default.createElement(u.default,{position:"bottom",title:r(c?"copiedExclamation":"copyToClipboard"),wrapperClassName:"request-decrypt-message__message-copy-tooltip",style:{display:"flex",alignItems:"center"}},a.default.createElement("div",{className:"request-decrypt-message__message-copy-text"},r("decryptCopy")),a.default.createElement(h.Icon,{name:c?h.IconName.CopySuccess:h.IconName.Copy,color:y.IconColor.primaryDefault}))):a.default.createElement("div",null))})),x(this,"renderFooter",(()=>{const{cancelDecryptMessage:e,clearConfirmTransaction:t,decryptMessage:n,history:r,mostRecentOverviewPage:o,txData:s}=this.props,{trackEvent:i,t:l}=this.context;return a.default.createElement(d.PageContainerFooter,{cancelText:l("cancel"),submitText:l("decrypt"),onCancel:async n=>{await e(s,n),i({category:p.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),r.push(o)},onSubmit:async e=>{await n(s,e),i({category:p.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),r.push(o)}})})),x(this,"render",(()=>this.props.txData?a.default.createElement("div",{className:"request-decrypt-message__container"},this.renderHeader(),this.renderBody(),this.renderFooter()):(i.default.warn("ConfirmDecryptMessage Page: Missing txData prop."),null)))}}n.default=E,x(E,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),x(E,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,cancelDecryptMessage:r.default.func.isRequired,decryptMessage:r.default.func.isRequired,decryptMessageInline:r.default.func.isRequired,history:r.default.object.isRequired,mostRecentOverviewPage:r.default.string.isRequired,requesterAddress:r.default.string,txData:r.default.object,subjectMetadata:r.default.object,nativeCurrency:r.default.string.isRequired,currentCurrency:r.default.string.isRequired,conversionRate:r.default.number})}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/confirm-decrypt-message.component.js"}],[5387,{"../../ducks/confirm-transaction/confirm-transaction.duck":5260,"../../ducks/history/history":5265,"../../ducks/metamask/metamask":5268,"../../selectors":5900,"../../store/actions":5911,"./confirm-decrypt-message.component":5386,lodash:3783,"react-redux":4129,"react-router-dom":4158,redux:4191},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("lodash"),l=e("../../store/actions"),c=e("../../selectors"),u=e("../../ducks/confirm-transaction/confirm-transaction.duck"),d=e("../../ducks/history/history"),p=e("../../ducks/metamask/metamask"),f=(a=e("./confirm-decrypt-message.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e){var t;const{metamask:{subjectMetadata:n={}}}=e,{useNativeCurrencyAsPrimaryCurrency:a}=(0,c.getPreferences)(e),r=(0,c.unconfirmedTransactionsListSelector)(e),o=(0,i.cloneDeep)(r[0]);return{txData:o,subjectMetadata:n,fromAccount:(0,c.getTargetAccountWithSendEtherInfo)(e,null==o||null===(t=o.msgParams)||void 0===t?void 0:t.from),requester:null,requesterAddress:null,conversionRate:a?null:(0,c.conversionRateSelector)(e),mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),nativeCurrency:(0,p.getNativeCurrency)(e),currentCurrency:(0,c.getCurrentCurrency)(e)}}),(function(e){return{goHome:()=>e((0,l.goHome)()),clearConfirmTransaction:()=>e((0,u.clearConfirmTransaction)()),decryptMessage:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,l.decryptMsg)(a))},cancelDecryptMessage:(t,n)=>(n.stopPropagation(n),e((0,l.cancelDecryptMsg)(t))),decryptMessageInline:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,l.decryptMsgInline)(a))}}})))(f.default)}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/confirm-decrypt-message.container.js"}],[5388,{"./confirm-decrypt-message.container":5387},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-decrypt-message.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/index.js"}],[5389,{"../../../shared/constants/common":4425,"../../../shared/constants/metametrics":4434,"../../../shared/modules/Numeric":4461,"../../../shared/modules/conversion.utils":4465,"../../components/app/account-list-item":4493,"../../components/ui/identicon":5169,"../../components/ui/page-container":5197,"../../components/ui/site-origin":5214,"../../helpers/utils/confirm-tx.util":5303,loglevel:3789,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=g(e("prop-types")),o=g(e("loglevel")),s=g(e("../../components/app/account-list-item")),i=g(e("../../components/ui/identicon")),l=e("../../components/ui/page-container"),c=e("../../../shared/constants/metametrics"),u=g(e("../../components/ui/site-origin")),d=e("../../../shared/modules/Numeric"),p=e("../../../shared/constants/common"),f=e("../../helpers/utils/confirm-tx.util"),m=e("../../../shared/modules/conversion.utils");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends a.Component{constructor(...e){super(...e),y(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-encryption-public-key__header"},a.default.createElement("div",{className:"request-encryption-public-key__header-background"}),a.default.createElement("div",{className:"request-encryption-public-key__header__text"},this.context.t("encryptionPublicKeyRequest")),a.default.createElement("div",{className:"request-encryption-public-key__header__tip-container"},a.default.createElement("div",{className:"request-encryption-public-key__header__tip"}))))),y(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-encryption-public-key__account"},a.default.createElement("div",{className:"request-encryption-public-key__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-encryption-public-key__account-item"},a.default.createElement(s.default,{account:e})))})),y(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t,currentCurrency:n,fromAccount:{balance:r}}=this.props,{t:o}=this.context,s=e?(0,f.formatCurrency)((0,m.getValueFromWeiHex)({value:r,fromCurrency:t,toCurrency:n,conversionRate:e,numberOfDecimals:6,toDenomination:p.EtherDenomination.ETH}),n):new d.Numeric(r,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-encryption-public-key__balance"},a.default.createElement("div",{className:"request-encryption-public-key__balance-text"},`${o("balance")}:`),a.default.createElement("div",{className:"request-encryption-public-key__balance-value"},`${s} ${e?null==n?void 0:n.toUpperCase():t}`))})),y(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-encryption-public-key__request-icon"},a.default.createElement(i.default,{diameter:40,address:e}))})),y(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-encryption-public-key__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),y(this,"renderBody",(()=>{const{subjectMetadata:e,txData:t}=this.props,{t:n}=this.context,r=e[t.origin],o=n("encryptionPublicKeyNotice",[a.default.createElement(u.default,{siteOrigin:t.origin,key:t.origin})]),s=(null==r?void 0:r.hostname)||t.origin;return a.default.createElement("div",{className:"request-encryption-public-key__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-encryption-public-key__visual"},a.default.createElement("section",null,null!=r&&r.iconUrl?a.default.createElement("img",{className:"request-encryption-public-key__visual-identicon",src:r.iconUrl,alt:""}):a.default.createElement("i",{className:"request-encryption-public-key__visual-identicon--default"},s.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-encryption-public-key__notice"},o))))})),y(this,"renderFooter",(()=>{const{cancelEncryptionPublicKey:e,clearConfirmTransaction:t,encryptionPublicKey:n,history:r,mostRecentOverviewPage:o,txData:s}=this.props,{t:i,trackEvent:u}=this.context;return a.default.createElement(l.PageContainerFooter,{cancelText:i("cancel"),submitText:i("provide"),onCancel:async n=>{await e(s,n),u({category:c.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)},onSubmit:async e=>{await n(s,e),this.context.trackEvent({category:c.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)}})})),y(this,"render",(()=>this.props.txData?a.default.createElement("div",{className:"request-encryption-public-key__container"},this.renderHeader(),this.renderBody(),this.renderFooter()):(o.default.warn("ConfirmEncryptionPublicKey Page: Missing txData prop."),null)))}}n.default=v,y(v,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),y(v,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,cancelEncryptionPublicKey:r.default.func.isRequired,encryptionPublicKey:r.default.func.isRequired,history:r.default.object.isRequired,requesterAddress:r.default.string,txData:r.default.object,subjectMetadata:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,nativeCurrency:r.default.string.isRequired,currentCurrency:r.default.string.isRequired,conversionRate:r.default.number})}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.component.js"}],[5390,{"../../ducks/confirm-transaction/confirm-transaction.duck":5260,"../../ducks/history/history":5265,"../../ducks/metamask/metamask":5268,"../../selectors":5900,"../../store/actions":5911,"./confirm-encryption-public-key.component":5389,"react-redux":4129,"react-router-dom":4158,redux:4191},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../store/actions"),l=e("../../selectors"),c=e("../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../ducks/history/history"),d=e("../../ducks/metamask/metamask"),p=(a=e("./confirm-encryption-public-key.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e){const{metamask:{subjectMetadata:t={}}}=e,{useNativeCurrencyAsPrimaryCurrency:n}=(0,l.getPreferences)(e),a=(0,l.unconfirmedTransactionsListSelector)(e)[0];return{txData:a,subjectMetadata:t,fromAccount:(0,l.getTargetAccountWithSendEtherInfo)(e,null==a?void 0:a.msgParams),requester:null,requesterAddress:null,conversionRate:n?null:(0,l.conversionRateSelector)(e),mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),nativeCurrency:(0,d.getNativeCurrency)(e),currentCurrency:(0,l.getCurrentCurrency)(e)}}),(function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,c.clearConfirmTransaction)()),encryptionPublicKey:(t,n)=>{const a={data:t.msgParams,metamaskId:t.id};return n.stopPropagation(),e((0,i.encryptionPublicKeyMsg)(a))},cancelEncryptionPublicKey:(t,n)=>(n.stopPropagation(),e((0,i.cancelEncryptionPublicKeyMsg)(t)))}})))(p.default)}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.container.js"}],[5391,{"./confirm-encryption-public-key.container":5390},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-encryption-public-key.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/index.js"}],[5392,{"../../../../components/ui/form-field":5150,"../../../../contexts/i18n":5246,"../../../../helpers/constants/gas":5279,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=l(e("prop-types")),o=e("../../../../contexts/i18n"),s=l(e("../../../../components/ui/form-field")),i=e("../../../../helpers/constants/gas");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u({onManualChange:e,gasLimit:t,setGasLimit:n,gasPrice:r,setGasPrice:l,gasErrors:c,minimumGasLimit:u}){const d=(0,a.useContext)(o.I18nContext);return a.default.createElement("div",{className:"advanced-gas-controls"},a.default.createElement(s.default,{titleText:d("gasLimit"),error:null!=c&&c.gasLimit?(0,i.getGasFormErrorText)(c.gasLimit,d,{minimumGasLimit:u}):null,onChange:t=>{null==e||e(),n(t)},tooltipText:d("editGasLimitTooltip"),value:t,allowDecimals:!1,numeric:!0}),a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{titleText:d("advancedGasPriceTitle"),titleUnit:"(GWEI)",onChange:t=>{null==e||e(),l(t)},tooltipText:d("editGasPriceTooltip"),value:r,numeric:!0,allowDecimals:!0,error:null!=c&&c.gasPrice?(0,i.getGasFormErrorText)(c.gasPrice,d):null})))}u.propTypes={onManualChange:r.default.func,gasLimit:r.default.number,setGasLimit:r.default.func,gasPrice:r.default.string,setGasPrice:r.default.func,minimumGasLimit:r.default.string,gasErrors:r.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-controls/advanced-gas-controls.component.js"}],[5393,{"../../../../../../shared/constants/gas":4429,"../../../../../../shared/modules/Numeric":4461,"../../../../../components/component-library":4879,"../../../../../contexts/gasFee":5245,"../../../../../helpers/constants/design-system":5277,"../../../../../hooks/useI18nContext":5348,"../../../../../selectors":5900,"../../../../../store/actions":5911,"../../../hooks/useTransactionEventFragment":5632,"../context":5409,lodash:3783,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("lodash"),s=e("../../../hooks/useTransactionEventFragment"),i=e("../../../../../../shared/constants/gas"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../selectors"),u=e("../../../../../store/actions"),d=e("../../../../../contexts/gasFee"),p=e("../context"),f=e("../../../../../hooks/useI18nContext"),m=e("../../../../../components/component-library"),g=e("../../../../../../shared/modules/Numeric");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,f.useI18nContext)(),t=(0,r.useDispatch)(),{gasErrors:n,maxBaseFee:h,maxPriorityFeePerGas:y}=(0,p.useAdvancedGasFeePopoverContext)(),v=new g.Numeric(h,10).toString(),b=new g.Numeric(y,10).toString(),T=(0,r.useSelector)(c.getAdvancedGasFeeValues),_=(0,r.useSelector)(c.getCurrentChainId),k=(0,r.useSelector)(c.getNetworkIdentifier),{updateTransactionEventFragment:x}=(0,s.useTransactionEventFragment)(),{editGasMode:E}=(0,d.useGasFeeContext)(),[w,C]=(0,a.useState)(Boolean(T)&&T.maxBaseFee===v&&T.priorityFee===b);(0,a.useEffect)((()=>{C(Boolean(T)&&T.maxBaseFee===v&&T.priorityFee===b)}),[T,v,b]);return E===i.EditGasModes.swaps?null:a.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,marginTop:4,marginLeft:2,marginRight:2,paddingTop:4,paddingBottom:4,className:"advanced-gas-fee-defaults"},a.default.createElement(m.Checkbox,{isChecked:w,onChange:()=>{w?(t((0,u.setAdvancedGasFee)({chainId:_,gasFeePreferences:undefined})),C(!1),x({properties:{advanced_gas_defaults_updated_maxbasefee:null,advanced_gas_defaults_updated_priorityfee:null}})):(t((0,u.setAdvancedGasFee)({chainId:_,gasFeePreferences:{maxBaseFee:v,priorityFee:b}})),x({properties:{advanced_gas_defaults_updated_maxbasefee:v,advanced_gas_defaults_updated_priorityfee:b}}))},isDisabled:n.maxFeePerGas||n.maxPriorityFeePerGas,label:e("advancedGasFeeDefaultOptIn",[(0,o.capitalize)(k)])}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/advanced-gas-fee-defaults.js"}],[5394,{"./advanced-gas-fee-defaults":5393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-defaults"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/index.js"}],[5395,{"../../../../../components/component-library":4879,"../../../../../components/ui/button":5122,"../../../../../components/ui/form-field":5150,"../../../../../contexts/gasFee":5245,"../../../../../helpers/constants/design-system":5277,"../../../../../helpers/utils/util":5321,"../../../../../hooks/useI18nContext":5348,"../../../constants":5606,"../../../send/send.constants":5642,"../context":5409,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../contexts/gasFee"),o=e("../../../../../helpers/utils/util"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),l=e("../../../send/send.constants"),c=m(e("../../../../../components/ui/button")),u=m(e("../../../../../components/ui/form-field")),d=e("../context"),p=e("../../../../../components/component-library"),f=e("../../../constants");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,i.useI18nContext)(),{setGasLimit:t,setErrorValue:n}=(0,d.useAdvancedGasFeePopoverContext)(),{gasLimit:m,minimumGasLimitDec:g,transaction:{chainId:h}}=(0,r.useGasFeeContext)(),[y,v]=(0,a.useState)(!1),[b,T]=(0,a.useState)(m),[_,k]=(0,a.useState)(),x=e=>{T(e)};return(0,a.useEffect)((()=>{if(t(b),f.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(h))return;const e=((e,t)=>(0,o.bnLessThan)(e,t)||(0,o.bnGreaterThan)(e,l.MAX_GAS_LIMIT_DEC)?"editGasLimitOutOfBoundsV2":null)(b,g);k(e),n("gasLimit","editGasLimitOutOfBoundsV2"===e)}),[h,b,g,t,n]),y?a.default.createElement(u.default,{dataTestId:"gas-limit-input",error:_?e(_,[g-1,l.MAX_GAS_LIMIT_DEC]):"",onChange:x,titleText:e("gasLimitV2"),value:b,allowDecimals:!1,numeric:!0}):a.default.createElement(p.Text,{tag:s.TextVariant.bodyMd,variant:s.TextVariant.bodySm,as:"h6",className:"advanced-gas-fee-gas-limit",marginTop:4,marginLeft:2,marginRight:2},a.default.createElement("strong",null,e("gasLimitV2")),a.default.createElement("span",null,b),a.default.createElement(c.default,{"data-testid":"advanced-gas-fee-edit",className:"advanced-gas-fee-gas-limit__edit-link",onClick:()=>v(!0),type:"link"},e("edit")))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/advanced-gas-fee-gas-limit.js"}],[5396,{"./advanced-gas-fee-gas-limit":5395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-gas-limit"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/index.js"}],[5397,{"../../../../../components/ui/box":5118,"../../../../../components/ui/loading-heartbeat":5175,"../../../../../contexts/i18n":5246,"../../../../../helpers/utils/gas":5306,"../../../../../helpers/utils/util":5321,classnames:3004,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),s=e("../../../../../helpers/utils/util"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../contexts/i18n"),c=d(e("../../../../../components/ui/box")),u=d(e("../../../../../components/ui/loading-heartbeat"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({latest:e,historical:t,trend:n})=>{const r=(0,a.useContext)(l.I18nContext),d=function(e,t){switch(e){case"up":return{className:"fa-arrow-up advanced-gas-fee-input-subtext__up",color:"var(--color-success-default)",title:t("upArrow")};case"down":return{className:"fa-arrow-down advanced-gas-fee-input-subtext__down",color:"var(--color-error-default)",title:t("downArrow")};case"level":return{className:"fa-arrow-right advanced-gas-fee-input-subtext__level",color:"var(--color-icon-alternative)",title:t("levelArrow")};default:return null}}(n,r);return a.default.createElement(c.default,{display:"flex",alignItems:"center",gap:4,className:"advanced-gas-fee-input-subtext"},(0,s.isNullish)(e)?null:a.default.createElement(c.default,{display:"flex",alignItems:"center","data-testid":"latest"},a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label"},r("currentTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(u.default,null),(0,i.formatGasFeeOrFeeRange)(e)),null===d?null:a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__icon"},a.default.createElement("i",{className:(0,o.default)("fa",d.className),style:{color:d.color},title:d.title,"data-testid":"fee-arrow"}))),(0,s.isNullish)(t)?null:a.default.createElement(c.default,null,a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label","data-testid":"historical"},r("twelveHrTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(u.default,null),(0,i.formatGasFeeOrFeeRange)(t))))};f.propTypes={latest:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),historical:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),trend:r.default.oneOf(["up","down","level"])};n.default=f}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/advanced-gas-fee-input-subtext.js"}],[5398,{"./advanced-gas-fee-input-subtext":5397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-input-subtext"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/index.js"}],[5399,{"../../../../../components/ui/box":5118,"./base-fee-input":5401,"./priority-fee-input":5403,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("../../../../../components/ui/box")),o=i(e("./base-fee-input")),s=i(e("./priority-fee-input"));function i(e){return e&&e.__esModule?e:{default:e}}n.default=()=>a.default.createElement(r.default,{className:"advanced-gas-fee-inputs"},a.default.createElement(o.default,null),a.default.createElement(s.default,null))}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/advanced-gas-fee-inputs.js"}],[5400,{"../../../../../../../shared/constants/gas":4429,"../../../../../../../shared/modules/Numeric":4461,"../../../../../../../shared/modules/conversion.utils":4465,"../../../../../../components/ui/box":5118,"../../../../../../components/ui/form-field":5150,"../../../../../../contexts/gasFee":5245,"../../../../../../helpers/constants/common":5275,"../../../../../../hooks/useCurrencyDisplay":5339,"../../../../../../hooks/useI18nContext":5348,"../../../../../../hooks/useUserPreferencedCurrency":5373,"../../../../../../selectors":5900,"../../../../constants":5606,"../../../../send/send.constants":5642,"../../advanced-gas-fee-input-subtext":5398,"../../context":5409,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),l=e("../../../../../../selectors"),c=e("../../../../../../contexts/gasFee"),u=e("../../../../../../hooks/useI18nContext"),d=e("../../../../../../hooks/useUserPreferencedCurrency"),p=e("../../../../../../hooks/useCurrencyDisplay"),f=T(e("../../../../../../components/ui/box")),m=T(e("../../../../../../components/ui/form-field")),g=e("../../context"),h=T(e("../../advanced-gas-fee-input-subtext")),y=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric"),b=e("../../../../constants");function T(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,u.useI18nContext)(),{gasFeeEstimates:t,estimateUsed:n,maxFeePerGas:T,editGasMode:_,transaction:{chainId:k}}=(0,c.useGasFeeContext)(),x=new v.Numeric(T,10).toString(),{gasLimit:E,maxPriorityFeePerGas:w,setErrorValue:C,setMaxFeePerGas:S,setMaxBaseFee:P}=(0,g.useAdvancedGasFeePopoverContext)(),{estimatedBaseFee:M,historicalBaseFeeRange:O,baseFeeTrend:I}=t??{},[N,j]=(0,a.useState)(),{currency:A,numberOfDecimals:D}=(0,d.useUserPreferencedCurrency)(i.PRIMARY),F=(0,r.useSelector)(l.getAdvancedGasFeeValues),R=n!==s.PriorityLevels.custom&&null!=F&&F.maxBaseFee&&_!==s.EditGasModes.swaps?F.maxBaseFee:x,[B,L]=(0,a.useState)(R>0?R:undefined);(0,a.useEffect)((()=>{B===undefined&&R>0&&L(R)}),[B,R,L]);const[$]=(0,p.useCurrencyDisplay)((0,y.decGWEIToHexWEI)(B*E),{currency:A,numberOfDecimals:D}),G=(0,a.useCallback)((e=>{L(e)}),[L]);return(0,a.useEffect)((()=>{S(B);const e=((e,t,n,a)=>{const r=new v.Numeric(e,10);return new v.Numeric(n,10).greaterThan(r)?"editGasMaxBaseFeeGWEIImbalance":null!=t&&t.low&&r.lessThan(t.low.suggestedMaxFeePerGas,10)&&b.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(a)?"editGasMaxBaseFeeLow":null!=t&&t.high&&r.greaterThan(t.high.suggestedMaxFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxBaseFeeHigh":null})(B,t,w,k);j(e),C("maxFeePerGas","editGasMaxBaseFeeGWEIImbalance"===e),P(B)}),[B,k,t,w,j,C,S,P]),a.default.createElement(f.default,{className:"base-fee-input",marginLeft:2,marginRight:2},a.default.createElement(m.default,{dataTestId:"base-fee-input",error:N?e(N):"",onChange:G,titleText:e("maxBaseFee"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedBaseGasFeeToolTip"),value:B,detailText:` ${$}`,allowDecimals:!0,numeric:!0}),a.default.createElement(h.default,{latest:M,historical:O,trend:I}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/base-fee-input.js"}],[5401,{"./base-fee-input":5400},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./base-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/index.js"}],[5402,{"./advanced-gas-fee-inputs":5399},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-inputs"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/index.js"}],[5403,{"./priority-fee-input":5404},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./priority-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/index.js"}],[5404,{"../../../../../../../shared/constants/gas":4429,"../../../../../../../shared/modules/Numeric":4461,"../../../../../../../shared/modules/conversion.utils":4465,"../../../../../../components/ui/box":5118,"../../../../../../components/ui/form-field":5150,"../../../../../../contexts/gasFee":5245,"../../../../../../helpers/constants/common":5275,"../../../../../../hooks/useCurrencyDisplay":5339,"../../../../../../hooks/useI18nContext":5348,"../../../../../../hooks/useUserPreferencedCurrency":5373,"../../../../../../selectors":5900,"../../../../constants":5606,"../../../../send/send.constants":5642,"../../advanced-gas-fee-input-subtext":5398,"../../context":5409,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),l=e("../../../../../../selectors"),c=e("../../../../../../hooks/useCurrencyDisplay"),u=e("../../../../../../contexts/gasFee"),d=e("../../../../../../hooks/useI18nContext"),p=e("../../../../../../hooks/useUserPreferencedCurrency"),f=T(e("../../../../../../components/ui/form-field")),m=T(e("../../../../../../components/ui/box")),g=e("../../context"),h=T(e("../../advanced-gas-fee-input-subtext")),y=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric"),b=e("../../../../constants");function T(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,d.useI18nContext)(),t=(0,r.useSelector)(l.getAdvancedGasFeeValues),{gasLimit:n,setErrorValue:T,setMaxPriorityFeePerGas:_}=(0,g.useAdvancedGasFeePopoverContext)(),{editGasMode:k,estimateUsed:x,gasFeeEstimates:E,maxPriorityFeePerGas:w,transaction:{chainId:C}}=(0,u.useGasFeeContext)(),S=new v.Numeric(w,10).toString(),{latestPriorityFeeRange:P,historicalPriorityFeeRange:M,priorityFeeTrend:O}=E??{},[I,N]=(0,a.useState)(),j=x!==s.PriorityLevels.custom&&null!=t&&t.priorityFee&&k!==s.EditGasModes.swaps?t.priorityFee:S,[A,D]=(0,a.useState)(j>0?j:undefined);(0,a.useEffect)((()=>{A===undefined&&j>0&&D(j)}),[A,j,D]);const{currency:F,numberOfDecimals:R}=(0,p.useUserPreferencedCurrency)(i.PRIMARY),[B]=(0,c.useCurrencyDisplay)((0,y.decGWEIToHexWEI)(A*n),{currency:F,numberOfDecimals:R});return(0,a.useEffect)((()=>{_(A);const e=((e,t,n)=>{const a=new v.Numeric(e,10);return a.lessThan(0,10)?"editGasMaxPriorityFeeBelowMinimumV2":null!=t&&t.low&&a.lessThan(t.low.suggestedMaxPriorityFeePerGas,10)&&b.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(n)?"editGasMaxPriorityFeeLowV2":null!=t&&t.high&&a.greaterThan(t.high.suggestedMaxPriorityFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxPriorityFeeHighV2":null})(A,E,C);T("maxPriorityFeePerGas","editGasMaxPriorityFeeBelowMinimumV2"===e),N(e)}),[C,E,A,T,_,N]),a.default.createElement(m.default,{marginTop:4,marginLeft:2,marginRight:2,className:"priority-fee-input"},a.default.createElement(f.default,{dataTestId:"priority-fee-input",error:I?e(I):"",onChange:e=>{D(e)},titleText:e("priorityFeeProperCase"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedPriorityFeeToolTip"),value:A,detailText:` ${B}`,allowDecimals:!0,numeric:!0}),a.default.createElement(h.default,{latest:P,historical:M,trend:O}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/priority-fee-input.js"}],[5405,{"../../../../components/ui/box":5118,"../../../../components/ui/popover":5203,"../../../../contexts/transaction-modal":5253,"../../../../hooks/useI18nContext":5348,"./advanced-gas-fee-defaults":5394,"./advanced-gas-fee-gas-limit":5396,"./advanced-gas-fee-inputs":5402,"./advanced-gas-fee-save":5407,"./context":5409,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=e("../../../../hooks/useI18nContext"),o=e("../../../../contexts/transaction-modal"),s=f(e("../../../../components/ui/box")),i=f(e("../../../../components/ui/popover")),l=e("./context"),c=f(e("./advanced-gas-fee-inputs")),u=f(e("./advanced-gas-fee-gas-limit")),d=f(e("./advanced-gas-fee-save")),p=f(e("./advanced-gas-fee-defaults"));function f(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,r.useI18nContext)(),{closeAllModals:t,currentModal:n}=(0,o.useTransactionModalContext)();return"advancedGasFee"!==n?null:a.default.createElement(l.AdvancedGasFeePopoverContextProvider,null,a.default.createElement(i.default,{className:"advanced-gas-fee-popover",title:e("advancedGasFeeModalTitle"),onClose:t,footer:a.default.createElement(d.default,null)},a.default.createElement(s.default,{margin:4},a.default.createElement(c.default,null),a.default.createElement(p.default,null),a.default.createElement(u.default,null))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-popover.js"}],[5406,{"../../../../../../shared/constants/gas":4429,"../../../../../../shared/modules/conversion.utils":4465,"../../../../../components/ui/button":5122,"../../../../../contexts/gasFee":5245,"../../../../../contexts/transaction-modal":5253,"../../../../../hooks/useI18nContext":5348,"../../../hooks/useTransactionEventFragment":5632,"../context":5409,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=e("../../../../../../shared/constants/gas"),o=e("../../../../../../shared/modules/conversion.utils"),s=e("../../../../../contexts/transaction-modal"),i=e("../../../../../contexts/gasFee"),l=e("../../../hooks/useTransactionEventFragment"),c=e("../../../../../hooks/useI18nContext"),u=p(e("../../../../../components/ui/button")),d=e("../context");function p(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{closeModal:e}=(0,s.useTransactionModalContext)(),{updateTransactionEventFragment:t}=(0,l.useTransactionEventFragment)(),{updateTransaction:n}=(0,i.useGasFeeContext)(),p=(0,c.useI18nContext)(),{gasLimit:f,hasErrors:m,maxFeePerGas:g,maxPriorityFeePerGas:h}=(0,d.useAdvancedGasFeePopoverContext)();return a.default.createElement(u.default,{type:"primary",disabled:m,onClick:()=>{n({estimateUsed:r.PriorityLevels.custom,maxFeePerGas:(0,o.decGWEIToHexWEI)(g),maxPriorityFeePerGas:(0,o.decGWEIToHexWEI)(h),gasLimit:f}),t({properties:{gas_edit_type:"advanced"}}),e(["advancedGasFee","editGasFee"])}},p("save"))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-save/advanced-gas-fee-save.js"}],[5407,{"./advanced-gas-fee-save":5406},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-save"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-save/index.js"}],[5408,{"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AdvancedGasFeePopoverContextProvider=n.AdvancedGasFeePopoverContext=void 0,n.useAdvancedGasFeePopoverContext=function(){return(0,r.useContext)(i)};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const i=n.AdvancedGasFeePopoverContext=(0,r.createContext)({}),l=({children:e})=>{const[t,n]=(0,r.useState)(),[a,o]=(0,r.useState)(),[s,l]=(0,r.useState)(),[c,u]=(0,r.useState)({maxFeePerGas:!1,maxPriorityFeePerGas:!1,gasLimit:!1}),d=(0,r.useCallback)(((e,t)=>{c[e]!==t&&u({...c,[e]:t})}),[c,u]),[p,f]=(0,r.useState)();return r.default.createElement(i.Provider,{value:{gasLimit:t,hasErrors:c.maxFeePerGas||c.maxPriorityFeePerGas||c.gasLimit,gasErrors:c,maxFeePerGas:a,maxPriorityFeePerGas:s,setErrorValue:d,maxBaseFee:p,setGasLimit:n,setMaxPriorityFeePerGas:l,setMaxFeePerGas:o,setMaxBaseFee:f}},e)};n.AdvancedGasFeePopoverContextProvider=l,l.propTypes={children:o.default.node.isRequired}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/context/advancedGasFeePopover.js"}],[5409,{"./advancedGasFeePopover":5408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./advancedGasFeePopover");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/context/index.js"}],[5410,{"./advanced-gas-fee-popover":5405},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/index.js"}],[5411,{"../../../../../shared/modules/transaction.utils":4488,"../../../../components/component-library":4879,"../../../../components/ui/box/box":5117,"../../../../components/ui/button":5122,"../../../../contexts/i18n":5246,"../../../../helpers/constants/design-system":5277,"../../../../helpers/utils/confirm-tx.util":5303,"../confirm-gas-display":5416,classnames:3004,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("prop-types")),o=m(e("classnames")),s=m(e("../../../../components/ui/box/box")),i=m(e("../../../../components/ui/button")),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../contexts/i18n"),d=e("../confirm-gas-display"),p=e("../../../../helpers/utils/confirm-tx.util"),f=e("../../../../../shared/modules/transaction.utils");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h({showHeader:e=!0,symbol:t,title:n,showEdit:r,showAdvanceGasFeeOptions:m=!1,onEditClick:g,footer:h,noBorder:y,supportsEIP1559:v,renderTransactionDetailsContent:b,renderDataContent:T,ethTransactionTotal:_,nativeCurrency:k,fiatTransactionTotal:x,currentCurrency:E,isSetApproveForAll:w,isApprovalOrRejection:C,data:S,userAcknowledgedGasMissing:P,renderSimulationFailureWarning:M,useCurrencyRateCheck:O}){const I=(0,a.useContext)(u.I18nContext),N=(0,f.parseStandardTokenTransactionData)(S),j=null==N?void 0:N.name,A=(null==j?void 0:j.charAt(0).toUpperCase())+(null==j?void 0:j.slice(1));return a.default.createElement(s.default,{className:(0,o.default)({"approve-content-card-container__card":!y,"approve-content-card-container__card--no-border":y})},e&&a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.flexEnd,className:"approve-content-card-container__card-header"},v&&n===I("transactionFee")?null:a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{className:"approve-content-card-container__card-header__symbol"},t),a.default.createElement(s.default,{marginLeft:4,className:"approve-content-card-container__card-header__title"},a.default.createElement(l.Text,{variant:c.TextVariant.bodySmBold,as:"h6"},n))),r&&(!m||!v)&&a.default.createElement(s.default,{width:c.BlockSize.OneSixth},a.default.createElement(i.default,{type:"link",onClick:()=>g()},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.primaryDefault,as:"h6"},I("edit"))))),a.default.createElement(s.default,{marginTop:1,marginBottom:3,className:"approve-content-card-container__card-content"},b&&(v&&!M?a.default.createElement(d.ConfirmGasDisplay,{userAcknowledgedGasMissing:P}):a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},I("feeAssociatedRequest"))),a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.flexEnd,textAlign:c.TextAlign.Right},O&&a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.headingSm,fontWeight:c.FontWeight.Bold,color:c.TextColor.textDefault,as:"h4"},(0,p.formatCurrency)(x,E))),a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,fontWeight:c.FontWeight.Normal,color:c.TextColor.textMuted,as:"h6"},`${_} ${k}`))))),T&&a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column},a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},`${I("function",[A])}`)),w&&C!==undefined?a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},`${I("parameters")}: ${C}`)):null,a.default.createElement(s.default,{marginRight:4,className:"approve-content-card-container__data__data-block"},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},S)))),h)}h.propTypes={showHeader:r.default.bool,symbol:r.default.node,title:r.default.string,showEdit:r.default.bool,showAdvanceGasFeeOptions:r.default.bool,onEditClick:r.default.func,footer:r.default.node,noBorder:r.default.bool,supportsEIP1559:r.default.bool,renderTransactionDetailsContent:r.default.bool,renderDataContent:r.default.bool,ethTransactionTotal:r.default.string,nativeCurrency:r.default.string,fiatTransactionTotal:r.default.string,currentCurrency:r.default.string,isSetApproveForAll:r.default.bool,isApprovalOrRejection:r.default.bool,data:r.default.string,userAcknowledgedGasMissing:r.default.bool,renderSimulationFailureWarning:r.default.bool,useCurrencyRateCheck:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/approve-content-card/approve-content-card.js"}],[5412,{"../../../../components/component-library":4879,"../../../../hooks/useI18nContext":5348,"../../../../selectors":5900,"../../../../store/actions":5911,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BlockaidUnavailableBannerAlert=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("../../../../components/component-library"),i=e("../../../../hooks/useI18nContext"),l=e("../../../../selectors"),c=e("../../../../store/actions");n.BlockaidUnavailableBannerAlert=()=>{const e=(0,o.useDispatch)(),t=(0,i.useI18nContext)(),n=(0,o.useSelector)(l.getHasMigratedFromOpenSeaToBlockaid),a=(0,o.useSelector)(l.getIsNetworkSupportedByBlockaid),u=(0,o.useSelector)(l.getHasDismissedOpenSeaToBlockaidBanner);return n&&!a&&!u?r.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Info,title:t("openSeaToBlockaidTitle"),description:t("openSeaToBlockaidDescription"),actionButtonLabel:t("openSeaToBlockaidBtnLabel"),actionButtonProps:{href:"https://snaps.metamask.io/transaction-insights",externalLink:!0},margin:4,onClose:()=>{e((0,c.dismissOpenSeaToBlockaidBanner)())}}):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/blockaid-unavailable-banner-alert/blockaid-unavailable-banner-alert.tsx"}],[5413,{"../../../../ducks/send":5270,"../../../../helpers/utils/transactions.util":5319,"../../../../selectors":5900,"../gas-details-item":5494,"./confirm-legacy-gas-display":5415,"@metamask/transaction-controller":2189,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../../../selectors"),l=e("../../../../helpers/utils/transactions.util"),c=p(e("../gas-details-item")),u=e("../../../../ducks/send"),d=e("./confirm-legacy-gas-display");function p(e){return e&&e.__esModule?e:{default:e}}const f=({userAcknowledgedGasMissing:e=!1})=>{const{txParams:t}=(0,o.useSelector)((e=>(0,i.txDataSelector)(e))),n=(0,o.useSelector)(u.getCurrentDraftTransaction),r=null==n?void 0:n.transactionType;let p;p=r?r===s.TransactionEnvelopeType.legacy:(0,l.isLegacyTransaction)(t);const f="confirm-gas-display";return(0,o.useSelector)(i.checkNetworkAndAccountSupports1559)&&!p?a.default.createElement(c.default,{"data-testid":f,userAcknowledgedGasMissing:e}):a.default.createElement(d.ConfirmLegacyGasDisplay,{"data-testid":f})};f.propTypes={userAcknowledgedGasMissing:r.default.bool};n.default=f}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/confirm-gas-display.js"}],[5414,{"../../../../../../shared/modules/conversion.utils":4465,"../../../../../components/app/user-preferenced-currency-display":4804,"../../../../../components/component-library":4879,"../../../../../components/ui/info-tooltip":5170,"../../../../../components/ui/loading-heartbeat":5175,"../../../../../helpers/constants/common":5275,"../../../../../helpers/constants/design-system":5277,"../../../../../hooks/useI18nContext":5348,"../../../../../selectors":5900,"../../../hooks/useDraftTransactionWithTxParams":5620,"../../transaction-detail-item":5556,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=y(e("react")),r=y(e("prop-types")),o=e("react-redux"),s=e("../../../../../hooks/useI18nContext"),i=e("../../../../../selectors"),l=e("../../../../../helpers/constants/common"),c=y(e("../../transaction-detail-item")),u=y(e("../../../../../components/app/user-preferenced-currency-display")),d=y(e("../../../../../components/ui/info-tooltip")),p=y(e("../../../../../components/ui/loading-heartbeat")),f=e("../../../../../helpers/constants/design-system"),m=e("../../../hooks/useDraftTransactionWithTxParams"),g=e("../../../../../components/component-library"),h=e("../../../../../../shared/modules/conversion.utils");function y(e){return e&&e.__esModule?e:{default:e}}const v=()=>a.default.createElement(p.default,null),b=({"data-testid":e}={})=>{const t=(0,s.useI18nContext)(),n=(0,o.useSelector)(i.getIsMainnet),r=(0,o.useSelector)(i.getUseCurrencyRateCheck),{useNativeCurrencyAsPrimaryCurrency:p}=(0,o.useSelector)(i.getPreferences),y=(0,o.useSelector)(i.getUnapprovedTransactions),b=(0,m.useDraftTransactionWithTxParams)(),T=(0,o.useSelector)((e=>(0,i.txDataSelector)(e))),{id:_,dappSuggestedGasFees:k,layer1GasFee:x}=T,E=Object.keys(b).length?b:y[_]||{},{hexMinimumTransactionFee:w,hexMaximumTransactionFee:C}=(0,o.useSelector)((e=>(0,i.transactionFeeSelector)(e,E))),S=(0,h.addHexes)(w,x??"0x0"),P=(0,h.addHexes)(C,x??"0x0");return a.default.createElement(c.default,{key:"legacy-gas-details","data-testid":e,detailTitle:k?a.default.createElement(a.default.Fragment,null,t("transactionDetailGasHeading"),a.default.createElement(d.default,{contentText:t("transactionDetailDappGasTooltip"),position:"top"},a.default.createElement(g.Icon,{name:g.IconName.Info}))):a.default.createElement(a.default.Fragment,null,t("transactionDetailGasHeading"),a.default.createElement(d.default,{contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",null,t("transactionDetailGasTooltipIntro",[n?t("networkNameEthereum"):""])),a.default.createElement("p",null,t("transactionDetailGasTooltipExplanation")),a.default.createElement("p",null,a.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},t("transactionDetailGasTooltipConversion")))),position:"top"},a.default.createElement(g.Icon,{name:g.IconName.Info}))),detailText:r&&a.default.createElement("div",null,v(),a.default.createElement(u.default,{type:l.SECONDARY,value:S,hideLabel:Boolean(p)})),detailTotal:a.default.createElement("div",null,v(),a.default.createElement(u.default,{type:l.PRIMARY,value:S,hideLabel:!p,suffixProps:{color:f.TextColor.textDefault,variant:f.TextVariant.bodyMdBold},textProps:{color:f.TextColor.textDefault,variant:f.TextVariant.bodyMdBold},numberOfDecimals:6})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement("strong",{key:"editGasSubTextFeeLabel"},t("editGasSubTextFeeLabel")),a.default.createElement("div",{key:"editGasSubTextFeeValue"},v(),a.default.createElement(u.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:P,hideLabel:!p}))),subTitle:k&&t("transactionDetailDappGasMoreInfo")})};b.propTypes={"data-testid":r.default.string};n.default=b}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/confirm-legacy-gas-display/confirm-legacy-gas-display.js"}],[5415,{"./confirm-legacy-gas-display":5414},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmLegacyGasDisplay",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-legacy-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/confirm-legacy-gas-display/index.js"}],[5416,{"./confirm-gas-display":5413},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmGasDisplay",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/index.js"}],[5417,{"../../../../../shared/modules/buffer-utils":4463,"../../../../components/component-library":4879,"../../../../components/ui/box":5118,"../../../../helpers/constants/design-system":5277,"../../../../hooks/useI18nContext":5348,"../../../../selectors":5900,"../../hooks/useTransactionFunctionType":5633,"../transaction-decoding/components/ui/copy-raw-data":5555,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=m(e("prop-types")),o=e("react-redux"),s=e("../../../../../shared/modules/buffer-utils"),i=e("../../../../selectors"),l=e("../../../../hooks/useI18nContext"),c=e("../../hooks/useTransactionFunctionType"),u=e("../../../../helpers/constants/design-system"),d=m(e("../../../../components/ui/box")),p=e("../../../../components/component-library"),f=m(e("../transaction-decoding/components/ui/copy-raw-data"));function m(e){return e&&e.__esModule?e:{default:e}}const g=({txData:e,dataHexComponent:t})=>{const n=(0,l.useI18nContext)(),{txParams:r={}}=e,m=(0,o.useSelector)((e=>(0,i.getKnownMethodData)(e,r.data)||{})),{functionType:g}=(0,c.useTransactionFunctionType)(e);if(t)return t;if(!r.data||!r.to)return null;const{params:h}=m,y=null!=h&&h.length?`(${h.map((({type:e})=>e)).join(", ")})`:"";return a.default.createElement(d.default,{padding:4},a.default.createElement(d.default,{paddingBottom:3,paddingTop:2},a.default.createElement(p.Text,{as:"span",textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("functionType")}:`),a.default.createElement(p.Text,{as:"span",color:u.Color.textDefault,paddingLeft:1,textTransform:u.TextTransform.Capitalize,variant:u.TextVariant.bodySmBold},`${g} ${y}`)),h&&a.default.createElement(d.default,{backgroundColor:u.Color.backgroundAlternative,padding:4},a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("parameters")}:`),a.default.createElement(p.Text,{overflowWrap:u.OverflowWrap.BreakWord,variant:u.TextVariant.bodySm},a.default.createElement("pre",null,JSON.stringify(h,null,2)))),a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("hexData")}: ${(0,s.toBuffer)(null==r?void 0:r.data).length} bytes`),a.default.createElement(p.Text,{backgroundColor:u.Color.backgroundAlternative,overflowWrap:u.OverflowWrap.BreakWord,padding:4,variant:u.TextVariant.bodySm},null==r?void 0:r.data),a.default.createElement(f.default,{data:null==r?void 0:r.data}))};g.propTypes={txData:r.default.object,dataHexComponent:r.default.element};n.default=g}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-hexdata/confirm-hexdata.js"}],[5418,{"./confirm-hexdata":5417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmHexData",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-hexdata"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-hexdata/index.js"}],[5419,{"../../../../../components/app/user-preferenced-currency-display":4804,"../../../../../helpers/constants/common":5275,classnames:3004,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("classnames")),s=l(e("../../../../../components/app/user-preferenced-currency-display")),i=e("../../../../../helpers/constants/common");function l(e){return e&&e.__esModule?e:{default:e}}const c=e=>{const{label:t,primaryText:n,secondaryText:r,onHeaderClick:l,primaryValueTextColor:c,headerText:u,headerTextClassName:d,value:p}=e;return a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement("div",{className:"confirm-detail-row__label"},t),a.default.createElement("div",{className:"confirm-detail-row__details"},u&&a.default.createElement("div",{className:(0,o.default)("confirm-detail-row__header-text",d),onClick:()=>null==l?void 0:l()},u),n?a.default.createElement("div",{className:"confirm-detail-row__primary",style:{color:c}},n):a.default.createElement(s.default,{className:"confirm-detail-row__primary",type:i.PRIMARY,value:p,showEthLogo:!0,ethLogoHeight:18,style:{color:c},hideLabel:!0}),r?a.default.createElement("div",{className:"confirm-detail-row__secondary"},r):a.default.createElement(s.default,{className:"confirm-detail-row__secondary",type:i.SECONDARY,value:p,showEthLogo:!0,hideLabel:!0})))};c.propTypes={headerText:r.default.string,headerTextClassName:r.default.string,label:r.default.string,onHeaderClick:r.default.func,primaryValueTextColor:r.default.string,primaryText:r.default.oneOfType([r.default.string,r.default.node]),secondaryText:r.default.string,value:r.default.string};n.default=c}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-detail-row/confirm-detail-row.component.js"}],[5420,{"./confirm-detail-row.component":5419},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-detail-row.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-detail-row/index.js"}],[5421,{".":5426,"../../../../../../shared/constants/security-provider":4442,"../../../../../components/component-library":4879,"../../../../../components/ui/page-container":5197,"../../../../../components/ui/tabs":5218,"../../../../../helpers/constants/design-system":5277,"../../../../../helpers/constants/error-keys":5278,classnames:3004,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=f(e("prop-types")),o=f(e("classnames")),s=e("../../../../../components/ui/tabs"),i=e("../../../../../components/component-library"),l=e("../../../../../components/ui/page-container"),c=e("../../../../../helpers/constants/error-keys"),u=e("../../../../../helpers/constants/design-system"),d=e("../../../../../../shared/constants/security-provider"),p=e(".");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.Component{renderContent(){const{detailsComponent:e,dataHexComponent:t,insightComponent:n}=this.props;return n&&(e||t)||e&&t?this.renderTabs():e||n}renderTabs(){const{t:e}=this.context,{detailsComponent:t,dataHexComponent:n,insightComponent:r}=this.props;return a.default.createElement(s.Tabs,{defaultActiveTabKey:"details"},a.default.createElement(s.Tab,{className:"confirm-page-container-content__tab",name:e("details"),tabKey:"details"},t),n&&a.default.createElement(s.Tab,{className:"confirm-page-container-content__tab",name:e("dataHex"),tabKey:"dataHex"},n),r)}render(){var e;const{action:t,errorKey:n,errorMessage:r,image:s,titleComponent:f,subtitleComponent:m,tokenAddress:g,nonce:h,detailsComponent:y,warning:v,onCancelAll:b,onCancel:T,cancelText:_,onSubmit:k,submitText:x,disabled:E,unapprovedTxCount:w,rejectNText:C,origin:S,ethGasPriceWarning:P,supportsEIP1559:M,hasTopBorder:O,nativeCurrency:I,networkName:N,toAddress:j,transactionType:A,isBuyableChain:D,openBuyCryptoInPdapp:F,txData:R}=this.props,{t:B}=this.context,L=(n||r)&&n===c.INSUFFICIENT_FUNDS_ERROR_KEY,$=n===c.IS_SIGNING_OR_SUBMITTING,G=n===c.USER_OP_CONTRACT_DEPLOY_ERROR_KEY,W=(null==R||null===(e=R.securityAlertResponse)||void 0===e?void 0:e.result_type)===d.BlockaidResultType.Malicious?"danger-primary":"primary";return a.default.createElement("div",{className:(0,o.default)("confirm-page-container-content",{"confirm-page-container-content--with-top-border":O})},v?a.default.createElement(p.ConfirmPageContainerWarning,{warning:v}):null,P&&a.default.createElement(p.ConfirmPageContainerWarning,{warning:P}),a.default.createElement(p.ConfirmPageContainerSummary,{className:(0,o.default)({"confirm-page-container-summary--border":!y}),action:t,image:s,titleComponent:f,subtitleComponent:m,tokenAddress:g,nonce:h,origin:S,toAddress:j,transactionType:A}),this.renderContent(),!M&&!L&&!$&&!G&&(n||r)&&a.default.createElement(i.BannerAlert,{severity:u.Severity.Danger,description:n?B(n):r,marginBottom:4,marginLeft:4,marginRight:4}),L&&a.default.createElement(i.BannerAlert,{severity:u.Severity.Danger,marginBottom:4,marginLeft:4,marginRight:4,description:D?B("insufficientCurrencyBuyOrDeposit",[I,N,a.default.createElement(i.Button,{variant:i.BUTTON_VARIANT.LINK,size:i.BUTTON_SIZES.INHERIT,onClick:F,key:`${I}-buy-button`},B("buyAsset",[I]))]):B("insufficientCurrencyDeposit",[I,N])}),($||G)&&a.default.createElement(i.BannerAlert,{"data-testid":"confirm-page-container-content-error-banner-2",severity:u.Severity.Danger,description:B(n),marginBottom:4,marginLeft:4,marginRight:4}),a.default.createElement(l.PageContainerFooter,{onCancel:T,cancelText:_,onSubmit:k,submitText:x,disabled:E,submitButtonType:W},w>1?a.default.createElement("a",{onClick:b},C):null))}}n.default=h,g(h,"contextTypes",{t:r.default.func.isRequired}),g(h,"propTypes",{action:r.default.string,dataHexComponent:r.default.node,detailsComponent:r.default.node,insightComponent:r.default.node,errorKey:r.default.string,errorMessage:r.default.string,tokenAddress:r.default.string,nonce:r.default.string,subtitleComponent:r.default.node,image:r.default.string,titleComponent:r.default.node,warning:r.default.string,origin:r.default.string.isRequired,ethGasPriceWarning:r.default.string,onCancelAll:r.default.func,onCancel:r.default.func,cancelText:r.default.string,onSubmit:r.default.func,submitText:r.default.string,disabled:r.default.bool,unapprovedTxCount:r.default.number,rejectNText:r.default.string,supportsEIP1559:r.default.bool,hasTopBorder:r.default.bool,nativeCurrency:r.default.string,networkName:r.default.string,toAddress:r.default.string,transactionType:r.default.string,isBuyableChain:r.default.bool,openBuyCryptoInPdapp:r.default.func,txData:r.default.object})}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-content.component.js"}],[5422,{"../../../../../../../shared/constants/app":4423,"../../../../../../../shared/modules/hexstring-utils":4472,"../../../../../../components/app/modals/nickname-popovers":4616,"../../../../../../components/ui/identicon":5169,"../../../../../../components/ui/info-tooltip":5170,"../../../../../../components/ui/site-origin":5214,"../../../../../../helpers/utils/util":5321,"../../../../../../hooks/useAddressDetails":5335,"../../../../../../hooks/useI18nContext":5348,"../../../../../../selectors":5900,"@metamask/transaction-controller":2189,classnames:3004,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=v(e("prop-types")),s=v(e("classnames")),i=e("@metamask/transaction-controller"),l=e("../../../../../../../shared/modules/hexstring-utils"),c=e("../../../../../../hooks/useI18nContext"),u=v(e("../../../../../../hooks/useAddressDetails")),d=e("../../../../../../selectors"),p=v(e("../../../../../../components/ui/identicon")),f=v(e("../../../../../../components/ui/info-tooltip")),m=v(e("../../../../../../components/app/modals/nickname-popovers")),g=e("../../../../../../../shared/constants/app"),h=v(e("../../../../../../components/ui/site-origin")),y=e("../../../../../../helpers/utils/util");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const T=e=>{const{action:t,titleComponent:n,subtitleComponent:o,className:v,tokenAddress:b,nonce:T,origin:_,image:k,transactionType:x}=e,[E,w]=(0,a.useState)(!1),C=(0,c.useI18nContext)(),S=(0,r.useSelector)(d.getIpfsGateway),P=(0,r.useSelector)(d.txDataSelector),{txParams:M={}}=P,{to:O}=M,I=[i.TransactionType.contractInteraction,i.TransactionType.tokenMethodTransfer,i.TransactionType.tokenMethodTransferFrom,i.TransactionType.tokenMethodSafeTransferFrom].includes(x);let N;I&&(N=x===i.TransactionType.tokenMethodTransfer||x===i.TransactionType.tokenMethodTransferFrom||x===i.TransactionType.tokenMethodSafeTransferFrom||x===i.TransactionType.tokenMethodSetApprovalForAll?b:O);const{toName:j,isTrusted:A}=(0,u.default)(N),D=(0,l.toChecksumHexAddress)(N);return a.default.createElement("div",{className:(0,s.default)("confirm-page-container-summary",v)},_===g.ORIGIN_METAMASK?null:a.default.createElement(h.default,{className:"confirm-page-container-summary__origin",siteOrigin:_}),a.default.createElement("div",{className:"confirm-page-container-summary__action-row"},a.default.createElement("div",{className:"confirm-page-container-summary__action"},I&&j&&a.default.createElement("span",{className:"confirm-page-container-summary__action__contract-address"},a.default.createElement("button",{className:"confirm-page-container-summary__action__contract-address-btn",onClick:()=>w(!0),role:"button"},j),":"),a.default.createElement("span",{className:"confirm-page-container-summary__action__name"},t),I&&!1===A&&a.default.createElement(f.default,{position:"top",contentText:C("unverifiedContractAddressMessage")})),T&&a.default.createElement("div",{className:"confirm-page-container-summary__nonce"},`#${T}`)),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-page-container-summary__title"},(()=>{const e=(0,y.getAssetImageURL)(k,S);return k?a.default.createElement("img",{className:"confirm-page-container-summary__icon",width:36,src:e}):N?a.default.createElement(p.default,{className:"confirm-page-container-summary__icon",diameter:36,address:N}):null})(),n),o),E&&a.default.createElement(m.default,{onClose:()=>w(!1),address:D}))};T.propTypes={action:o.default.string,image:o.default.string,titleComponent:o.default.node,subtitleComponent:o.default.node,className:o.default.string,tokenAddress:o.default.string,nonce:o.default.string,origin:o.default.string.isRequired,transactionType:o.default.string};n.default=T}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/confirm-page-container-summary.component.js"}],[5423,{"./confirm-page-container-summary.component":5422},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-summary.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/index.js"}],[5424,{"../../../../../../components/component-library":4879,"../../../../../../helpers/constants/design-system":5277,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("prop-types")),o=e("../../../../../../components/component-library"),s=e("../../../../../../helpers/constants/design-system");function i(e){return e&&e.__esModule?e:{default:e}}const l=e=>a.default.createElement("div",{className:"confirm-page-container-warning"},a.default.createElement(o.Icon,{name:o.IconName.Info,color:s.IconColor.warningDefault,className:"confirm-page-container-warning__icon"}),a.default.createElement("div",{className:"confirm-page-container-warning__warning"},e.warning));l.propTypes={warning:r.default.string};n.default=l}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/confirm-page-container-warning.component.js"}],[5425,{"./confirm-page-container-warning.component":5424},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-warning.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/index.js"}],[5426,{"./confirm-page-container-content.component":5421,"./confirm-page-container-summary":5423,"./confirm-page-container-warning":5425},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ConfirmPageContainerWarning",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=s(e("./confirm-page-container-content.component")),r=s(e("./confirm-page-container-summary")),o=s(e("./confirm-page-container-warning"));function s(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/index.js"}],[5427,{"../../../../../../app/scripts/lib/util":119,"../../../../../../shared/constants/app":4423,"../../../../../components/app/network-display":4638,"../../../../../components/component-library":4879,"../../../../../components/ui/account-mismatch-warning/account-mismatch-warning.component":5113,"../../../../../components/ui/identicon":5169,"../../../../../helpers/utils/util":5321,"../../../../../hooks/useI18nContext":5348,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),r=f(e("prop-types")),o=e("../../../../../../shared/constants/app"),s=e("../../../../../../app/scripts/lib/util"),i=f(e("../../../../../components/app/network-display")),l=f(e("../../../../../components/ui/identicon")),c=e("../../../../../helpers/utils/util"),u=f(e("../../../../../components/ui/account-mismatch-warning/account-mismatch-warning.component")),d=e("../../../../../hooks/useI18nContext"),p=e("../../../../../components/component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onEdit:e,showEdit:t,accountAddress:n,showAccountInHeader:r,children:f,origin:m}){const g=(0,d.useI18nContext)(),h=(0,s.getEnvironmentType)(),y=h!==o.ENVIRONMENT_TYPE_NOTIFICATION&&h!==o.ENVIRONMENT_TYPE_POPUP;return!t&&y?f:a.default.createElement("div",{className:"confirm-page-container-header","data-testid":"header-container"},a.default.createElement("div",{className:"confirm-page-container-header__row"},r?a.default.createElement("div",{className:"confirm-page-container-header__address-container"},a.default.createElement("div",{className:"confirm-page-container-header__address-identicon"},a.default.createElement(l.default,{address:n,diameter:24})),a.default.createElement("div",{className:"confirm-page-container-header__address","data-testid":"header-address"},(0,c.shortenAddress)(n)),a.default.createElement(u.default,{address:n})):m===o.ORIGIN_METAMASK&&a.default.createElement("div",{className:"confirm-page-container-header__back-button-container",style:{visibility:t?"initial":"hidden"}},a.default.createElement(p.Icon,{name:p.IconName.ArrowLeft}),a.default.createElement("span",{"data-testid":"confirm-page-back-edit-button",className:"confirm-page-container-header__back-button",onClick:()=>e()},g("edit"))),a.default.createElement(i.default,null)),f)}m.propTypes={accountAddress:r.default.string,showAccountInHeader:r.default.bool,showEdit:r.default.bool,onEdit:r.default.func,children:r.default.node,origin:r.default.string}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-header/confirm-page-container-header.component.js"}],[5428,{"./confirm-page-container-header.component":5427},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-header/index.js"}],[5429,{"../../../../../contexts/i18n":5246,"../../../../../ducks/confirm-transaction/confirm-transaction.duck":5260,"../../../../../helpers/constants/routes":5283,"../../../../../selectors":5900,react:4173,"react-redux":4129,"react-router-dom":4158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../../../selectors"),i=e("../../../../../contexts/i18n"),l=e("../../../../../helpers/constants/routes"),c=e("../../../../../ducks/confirm-transaction/confirm-transaction.duck");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(i.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),{id:u}=(0,o.useParams)(),d=(0,r.useSelector)(s.unapprovedDecryptMsgsSelector),p=(0,r.useSelector)(s.unapprovedEncryptionPublicKeyMsgsSelector),f=(0,r.useSelector)(s.unconfirmedTransactionsListSelector)??[],m=[...Object.keys(d||{}),...Object.keys(p||{})],g=f.map((e=>e.id)).filter((e=>!1===m.includes(e))),h=g.indexOf(u),y=g.length,v=h+1,b=g[h+1],T=g[h-1],_=g.length>1,k=g[0],x=g[g.length-1],E=e=>{if(e){var a;t((0,c.clearConfirmTransaction)());const r=g.indexOf(e);n.push(null!==(a=f[r])&&void 0!==a&&a.msgParams?`${l.CONFIRM_TRANSACTION_ROUTE}/${e}${l.SIGNATURE_REQUEST_PATH}`:`${l.CONFIRM_TRANSACTION_ROUTE}/${e}`)}};return a.default.createElement("div",{className:"confirm-page-container-navigation",style:{display:_?"flex":"none"}},a.default.createElement("div",{className:"confirm-page-container-navigation__container","data-testid":"navigation-container",style:{visibility:T?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"first-page",onClick:()=>E(k)},a.default.createElement("i",{className:"fa fa-angle-double-left fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"previous-page",onClick:()=>E(T)},a.default.createElement("i",{className:"fa fa-angle-left fa-2x"}))),a.default.createElement("div",{className:"confirm-page-container-navigation__textcontainer"},a.default.createElement("div",{className:"confirm-page-container-navigation__navtext"},v," ",e("ofTextNofM")," ",y),a.default.createElement("div",{className:"confirm-page-container-navigation__longtext"},e("requestsAwaitingAcknowledgement"))),a.default.createElement("div",{className:"confirm-page-container-navigation__container",style:{visibility:b?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"next-page",onClick:()=>E(b)},a.default.createElement("i",{className:"fa fa-angle-right fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"last-page",onClick:()=>E(x)},a.default.createElement("i",{className:"fa fa-angle-double-right fa-2x"}))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-navigation/confirm-page-container-navigation.component.js"}],[5430,{"./confirm-page-container-navigation.component":5429},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-navigation.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-navigation/index.js"}],[5431,{".":5432,"../../../../../shared/constants/gas":4429,"../../../../../shared/constants/metametrics":4434,"../../../../../shared/constants/network":4436,"../../../../../shared/constants/security-provider":4442,"../../../../../shared/constants/transaction":4449,"../../../../../shared/lib/token-util":4458,"../../../../components/app/network-account-balance-header/network-account-balance-header":4637,"../../../../components/app/snaps/insight-warnings":4684,"../../../../components/component-library":4879,"../../../../components/ui/actionable-message/actionable-message":5114,"../../../../components/ui/button":5122,"../../../../components/ui/error-message":5145,"../../../../components/ui/page-container":5197,"../../../../components/ui/sender-to-recipient":5209,"../../../../contexts/gasFee":5245,"../../../../contexts/metametrics":5249,"../../../../helpers/constants/design-system":5277,"../../../../helpers/constants/error-keys":5278,"../../../../hooks/experiences/useRamps":5324,"../../../../hooks/useI18nContext":5348,"../../../../hooks/useTransactionInsights":5371,"../../../../selectors":5900,"../advanced-gas-fee-popover":5410,"../edit-gas-fee-popover/edit-gas-fee-popover":5478,"../edit-gas-popover":5491,"../set-approval-for-all-warning":5506,"@metamask/transaction-controller":2189,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=A(e("prop-types")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../../../../shared/constants/gas"),l=e("../../../../contexts/gasFee"),c=e("../../../../../shared/constants/transaction"),u=e("../../../../../shared/constants/network"),d=e("../../../../components/ui/page-container"),p=A(e("../../../../components/ui/button")),f=A(e("../../../../components/ui/actionable-message/actionable-message")),m=A(e("../../../../components/ui/sender-to-recipient")),g=e("../../../../../shared/lib/token-util"),h=A(e("../advanced-gas-fee-popover")),y=A(e("../edit-gas-fee-popover/edit-gas-fee-popover")),v=A(e("../edit-gas-popover")),b=A(e("../../../../components/ui/error-message")),T=e("../../../../helpers/constants/error-keys"),_=e("../../../../components/component-library"),k=e("../../../../helpers/constants/design-system"),x=A(e("../../../../components/app/network-account-balance-header/network-account-balance-header")),E=A(e("../set-approval-for-all-warning")),w=e("../../../../hooks/useI18nContext"),C=A(e("../../../../hooks/useTransactionInsights")),S=A(e("../../../../components/app/snaps/insight-warnings")),P=e("../../../../selectors"),M=A(e("../../../../hooks/experiences/useRamps")),O=e("../../../../contexts/metametrics"),I=e("../../../../../shared/constants/metametrics"),N=e("../../../../../shared/constants/security-provider"),j=e(".");function A(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}const F=e=>{var t;const{showEdit:n,onEdit:r,fromName:A,fromAddress:D,toEns:F,toNickname:R,toAddress:B,disabled:L,errorKey:$,errorMessage:G,contentComponent:W,action:q,title:U,image:V,titleComponent:H,subtitleComponent:z,detailsComponent:Y,dataHexComponent:K,onCancelAll:J,onCancel:X,onSubmit:Z,onSetApprovalForAll:Q,showWarningModal:ee,tokenAddress:te,nonce:ne,unapprovedTxCount:ae,warning:re,hideSenderToRecipient:oe,showAccountInHeader:se,origin:ie,ethGasPriceWarning:le,editingGas:ce,handleCloseEditGas:ue,currentTransaction:de,supportsEIP1559:pe,nativeCurrency:fe,txData:me,assetStandard:ge,isApprovalOrRejection:he,displayAccountBalanceHeader:ye}=e,ve=(0,w.useI18nContext)(),be=(0,a.useContext)(O.MetaMetricsContext),[Te,_e]=(0,a.useState)("0"),[ke,xe]=(0,a.useState)(!1),Ee=(0,o.useSelector)(P.getIsBuyableChain),we=(0,o.useSelector)((e=>(0,P.getAddressBookEntry)(e,B))),Ce=(0,o.useSelector)(P.getNetworkIdentifier),Se=(0,o.useSelector)(P.getSwapsDefaultToken).string,Pe=(0,o.useSelector)(P.getInternalAccounts),Me=(0,P.getAccountName)(Pe,B),Oe=Me||(null==we?void 0:we.name),Ie=Boolean(Me),Ne=(0,o.useSelector)((e=>(0,P.getMetadataContractName)(e,B))),{openBuyCryptoInPdapp:je}=(0,M.default)(),Ae=de.type===s.TransactionType.tokenMethodSetApprovalForAll,De=W&&L&&($||G),Fe=u.NETWORK_TO_NAME_MAP[de.chainId]||Ce,Re=(0,a.useCallback)((async()=>{const e=await(0,g.fetchTokenBalance)(te,D,global.ethereumProvider);_e(e.toString()||"0")}),[D,te]),Be=(0,C.default)({txData:me}),Le=null==Be?void 0:Be.insightComponent,$e=()=>Ae&&he?Q():Z(),Ge=()=>{var e;return(null==Be||null===(e=Be.warnings)||void 0===e?void 0:e.length)>0?xe(!0):$e()};(0,a.useEffect)((()=>{Ae&&ge===c.TokenStandard.ERC721&&Re()}),[de,ge,Ae,Re,Te]);const We=(null===(t=me.securityAlertResponse)||void 0===t?void 0:t.result_type)===N.BlockaidResultType.Malicious;return a.default.createElement(l.GasFeeContextProvider,{transaction:de},a.default.createElement("div",{className:"page-container","data-testid":"page-container"},a.default.createElement(j.ConfirmPageContainerNavigation,null),ye?a.default.createElement(x.default,{accountName:A,accountBalance:Se,tokenName:fe,accountAddress:D,networkName:Fe,chainId:de.chainId}):a.default.createElement(j.ConfirmPageContainerHeader,{showEdit:n,onEdit:()=>r(),showAccountInHeader:se,accountAddress:D,origin:ie},oe?null:a.default.createElement(m.default,{senderName:A,senderAddress:D,recipientName:Oe,recipientMetadataName:Ne,recipientAddress:B,recipientEns:F,recipientNickname:R,recipientIsOwnedAccount:Ie})),W||a.default.createElement(j.ConfirmPageContainerContent,{action:q,title:U,image:V,titleComponent:H,subtitleComponent:z,detailsComponent:Y,dataHexComponent:K,insightComponent:Le,errorMessage:G,errorKey:$,tokenAddress:te,nonce:ne,warning:re,onCancelAll:J,onCancel:X,cancelText:ve("reject"),onSubmit:Ge,submitText:ve("confirm"),disabled:L,unapprovedTxCount:ae,rejectNText:ve("rejectTxsN",[ae]),origin:ie,ethGasPriceWarning:le,supportsEIP1559:pe,currentTransaction:de,nativeCurrency:fe,networkName:Fe,toAddress:B,transactionType:de.type,isBuyableChain:Ee,openBuyCryptoInPdapp:je,txData:me}),De&&$===T.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(f.default,{message:Ee?a.default.createElement(_.Text,{variant:k.TextVariant.bodySm,textAlign:k.TextAlign.Left,as:"h6"},ve("insufficientCurrencyBuyOrDeposit",[fe,Fe,a.default.createElement(p.default,{type:"inline",className:"confirm-page-container-content__link",onClick:()=>{je(),be({event:I.MetaMetricsEventName.NavBuyButtonClicked,category:I.MetaMetricsEventCategory.Navigation,properties:{location:"Transaction Confirmation",text:"Buy"}})},key:`${fe}-buy-button`},ve("buyAsset",[fe]))])):a.default.createElement(_.Text,{variant:k.TextVariant.bodySm,textAlign:k.TextAlign.Left,as:"h6"},ve("insufficientCurrencyDeposit",[fe,Fe])),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger"})),De&&$!==T.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(b.default,{errorKey:$})),ee&&a.default.createElement(E.default,{collectionName:U,senderAddress:D,name:A,isERC721:ge===c.TokenStandard.ERC721,total:Te,onSubmit:Z,onCancel:X}),W&&a.default.createElement(d.PageContainerFooter,{onCancel:X,cancelText:ve("reject"),onSubmit:Ge,submitText:ve("confirm"),submitButtonType:Ae&&he||We?"danger-primary":"primary",disabled:L},ae>1&&a.default.createElement("a",{onClick:J},ve("rejectTxsN",[ae]))),ce&&!pe&&a.default.createElement(v.default,{mode:i.EditGasModes.modifyInPlace,onClose:ue,transaction:de}),pe&&a.default.createElement(a.default.Fragment,null,a.default.createElement(y.default,null),a.default.createElement(h.default,null)),ke&&a.default.createElement(S.default,{warnings:Be.warnings,origin:ie,onCancel:()=>xe(!1),onSubmit:()=>{$e(),xe(!1)}})))};F.propTypes={action:r.default.string,onEdit:r.default.func,showEdit:r.default.bool,subtitleComponent:r.default.node,title:r.default.string,image:r.default.string,titleComponent:r.default.node,hideSenderToRecipient:r.default.bool,showAccountInHeader:r.default.bool,assetStandard:r.default.string,fromAddress:r.default.string,fromName:r.default.string,toAddress:r.default.string,toEns:r.default.string,toNickname:r.default.string,contentComponent:r.default.node,errorKey:r.default.string,errorMessage:r.default.string,dataHexComponent:r.default.node,detailsComponent:r.default.node,txData:r.default.object,tokenAddress:r.default.string,nonce:r.default.string,warning:r.default.string,unapprovedTxCount:r.default.number,origin:r.default.string.isRequired,ethGasPriceWarning:r.default.string,onCancelAll:r.default.func,onCancel:r.default.func,onSubmit:r.default.func,onSetApprovalForAll:r.default.func,showWarningModal:r.default.bool,disabled:r.default.bool,editingGas:r.default.bool,handleCloseEditGas:r.default.func,currentTransaction:r.default.object.isRequired,supportsEIP1559:r.default.bool,nativeCurrency:r.default.string,isApprovalOrRejection:r.default.bool,displayAccountBalanceHeader:r.default.bool};n.default=F}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container.component.js"}],[5432,{"../../../../components/app/snaps/snap-insight/snap-insight":4703,"./confirm-detail-row":5420,"./confirm-page-container-content":5426,"./confirm-page-container-header":5428,"./confirm-page-container-navigation":5430,"./confirm-page-container.component":5431},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmDetailRow",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"ConfirmPageContainerContent",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"ConfirmPageContainerHeader",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ConfirmPageContainerNavigation",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return i.ConfirmPageContainerSummary}}),Object.defineProperty(n,"SnapInsight",{enumerable:!0,get:function(){return l.SnapInsight}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=u(e("./confirm-page-container.component")),r=u(e("./confirm-page-container-header")),o=u(e("./confirm-detail-row")),s=u(e("./confirm-page-container-navigation")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./confirm-page-container-content")),l=e("../../../../components/app/snaps/snap-insight/snap-insight");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/index.js"}],[5433,{"../../../../components/app/user-preferenced-currency-display":4804,"../../../../components/component-library":4879,"../../../../helpers/constants/common":5275,"../../../../helpers/constants/design-system":5277,"../../../../helpers/utils/transactions.util":5319,"../../../../selectors":5900,"../../hooks/useTransactionInfo":5635,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=f(e("prop-types")),o=e("react-redux"),s=e("../../../../helpers/constants/common"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/transactions.util"),c=e("../../../../selectors"),u=e("../../hooks/useTransactionInfo"),d=e("../../../../components/component-library"),p=f(e("../../../../components/app/user-preferenced-currency-display"));function f(e){return e&&e.__esModule?e:{default:e}}const m=({txData:e,hexTransactionAmount:t,subtitleComponent:n,assetStandard:r})=>{const f=(0,o.useSelector)(c.getShouldShowFiat),{isNftTransfer:m}=(0,u.useTransactionInfo)(e);return f||m||(0,l.isNFTAssetStandard)(r)?n||a.default.createElement(d.Text,{as:"h5",ellipsis:!0,variant:i.TextVariant.bodyMd,color:i.Color.textAlternative},a.default.createElement(p.default,{value:t,type:s.SECONDARY,showEthLogo:!0,hideLabel:!0})):null};m.propTypes={assetStandard:r.default.string,hexTransactionAmount:r.default.string,subtitleComponent:r.default.element,txData:r.default.object.isRequired};n.default=m}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-subtitle/confirm-subtitle.js"}],[5434,{"./confirm-subtitle":5433},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmSubTitle",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-subtitle"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-subtitle/index.js"}],[5435,{"../../../../components/app/user-preferenced-currency-display":4804,"../../../../components/component-library":4879,"../../../../helpers/constants/common":5275,"../../../../helpers/constants/design-system":5277,"@metamask/transaction-controller":2189,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("@metamask/transaction-controller"),s=e("../../../../helpers/constants/common"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=u(e("../../../../components/app/user-preferenced-currency-display"));function u(e){return e&&e.__esModule?e:{default:e}}const d=({title:e,hexTransactionAmount:t,txData:n})=>{var r;const u=n.type===o.TransactionType.contractInteraction;return(u||n.type===o.TransactionType.deployContract)&&"0x0"===(null===(r=n.txParams)||void 0===r?void 0:r.value)?null:e?a.default.createElement(i.Text,{as:e&&e.length<10?"h1":"h3",ellipsis:!0,title:e,variant:e&&e.length<10?l.TextVariant.displayMd:l.TextVariant.headingMd,fontWeight:l.FONT_WEIGHT.NORMAL},e):a.default.createElement(i.Text,{as:"h3",ellipsis:!0,fontWeight:l.FONT_WEIGHT.NORMAL,variant:l.TextVariant.headingMd},a.default.createElement(c.default,{ethLogoHeight:24,hideLabel:!u,showCurrencySuffix:u,showEthLogo:!0,type:s.PRIMARY,value:t}))};d.propTypes={txData:r.default.object.isRequired,title:r.default.oneOfType([r.default.string,r.default.number]),hexTransactionAmount:r.default.string};n.default=d}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-title/confirm-title.js"}],[5436,{"./confirm-title":5435},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmTitle",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-title"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-title/index.js"}],[5437,{"../../../../../../shared/constants/security-provider":4442,"../../../../../components/component-library":4879,"../../../../../components/ui/icon/preloader":5161,"../../../selectors":5638,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=e("react-redux"),o=c(e("../../../../../components/ui/icon/preloader")),s=e("../../../../../../shared/constants/security-provider"),i=e("../../../../../components/component-library"),l=e("../../../selectors");function c(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,r.useSelector)(l.currentSignatureRequestSecurityResponseSelector);return(null==e?void 0:e.result_type)!==s.BlockaidResultType.Loading?null:a.default.createElement(i.Box,{marginInline:"auto",marginTop:4},a.default.createElement(o.default,{size:18}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/blockaid-loading-indicator/blockaid-loading-indicator.tsx"}],[5438,{"./blockaid-loading-indicator":5437},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BlockaidLoadingIndicator",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./blockaid-loading-indicator"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/blockaid-loading-indicator/index.ts"}],[5439,{"../../../../../components/app/alert-system/confirm-alert-modal":4500,"../../../../../components/component-library":4879,"../../../../../components/multichain/pages/page":5076,"../../../../../hooks/useAlerts":5336,"../../../../../hooks/useI18nContext":5348,"../../../../../selectors":5900,"../../../../../store/actions":5911,"../../../selectors":5638,"../utils":5463,"eth-rpc-errors":3205,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("eth-rpc-errors"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("../../../../../components/component-library"),l=e("../../../../../components/app/alert-system/confirm-alert-modal"),c=e("../../../../../components/multichain/pages/page"),u=e("../../../../../selectors"),d=e("../../../../../hooks/useI18nContext"),p=e("../../../../../store/actions"),f=(a=e("../../../../../hooks/useAlerts"))&&a.__esModule?a:{default:a},m=e("../../../selectors"),g=e("../utils");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=({alertOwnerId:e="",disabled:t,onSubmit:n,onCancel:a})=>{var r;const s=(0,d.useI18nContext)(),[c,u]=(0,o.useState)(!1),{alerts:p,dangerAlerts:m,hasDangerAlerts:g,hasUnconfirmedDangerAlerts:h}=(0,f.default)(e),y=(0,o.useCallback)((()=>{u(!1)}),[]),v=(0,o.useCallback)((()=>{u(!0)}),[]);return o.default.createElement(o.default.Fragment,null,c&&o.default.createElement(l.ConfirmAlertModal,{alertKey:null===(r=p[0])||void 0===r?void 0:r.key,ownerId:e,onClose:y,onCancel:a,onSubmit:n}),o.default.createElement(i.Button,{block:!0,"data-testid":"confirm-footer-button",startIconName:g?(b=h,b?i.IconName.SecuritySearch:i.IconName.Danger):undefined,onClick:g?v:n,danger:g,size:i.ButtonSize.Lg,disabled:!h&&t},(null==m?void 0:m.length)>1?s("reviewAlerts"):s("confirm")));var b};n.default=()=>{const e=(0,s.useDispatch)(),t=(0,d.useI18nContext)(),n=(0,s.useSelector)(m.confirmSelector),{currentConfirmation:a,isScrollToBottomNeeded:l}=n,{from:f}=(0,g.getConfirmationSender)(a),h=(0,s.useSelector)((e=>!!f&&(0,u.doesAddressRequireLedgerHidConnection)(e,f))),v=(0,o.useCallback)((()=>{a&&e((0,p.rejectPendingApproval)(a.id,(0,r.serializeError)(r.ethErrors.provider.userRejectedRequest())))}),[a]),b=(0,o.useCallback)((()=>{a&&e((0,p.resolvePendingApproval)(a.id,undefined))}),[a]);return o.default.createElement(c.Footer,{className:"confirm-footer_page-footer"},o.default.createElement(i.Button,{block:!0,"data-testid":"confirm-footer-cancel-button",onClick:v,size:i.ButtonSize.Lg,variant:i.ButtonVariant.Secondary},t("cancel")),o.default.createElement(y,{alertOwnerId:null==a?void 0:a.id,onSubmit:b,disabled:l||h,onCancel:v}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/footer.tsx"}],[5440,{"./footer":5439},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Footer",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./footer"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/index.tsx"}],[5441,{"../../../../../../shared/constants/metametrics":4434,"../../../../../components/app/confirm/info/row":4527,"../../../../../components/app/confirm/info/row/currency":4524,"../../../../../components/component-library":4879,"../../../../../components/multichain":5016,"../../../../../components/ui/tooltip/tooltip":5233,"../../../../../contexts/metametrics":5249,"../../../../../helpers/constants/design-system":5277,"../../../../../hooks/useI18nContext":5348,"../../../../../selectors":5900,"../../../hooks/useBalance":5614,"../../../hooks/useConfirmationRecipientInfo":5618,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../../../shared/constants/metametrics"),s=e("../../../../../components/app/confirm/info/row"),i=e("../../../../../components/app/confirm/info/row/currency"),l=e("../../../../../components/component-library"),c=e("../../../../../components/multichain"),u=y(e("../../../../../components/ui/tooltip/tooltip")),d=e("../../../../../contexts/metametrics"),p=e("../../../../../helpers/constants/design-system"),f=e("../../../../../hooks/useI18nContext"),m=e("../../../../../selectors"),g=e("../../../hooks/useBalance"),h=y(e("../../../hooks/useConfirmationRecipientInfo"));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useSelector)(m.getUseBlockie),[t,n]=a.default.useState(!1),y=(0,r.useSelector)(m.currentConfirmationSelector),{senderAddress:v,senderName:b}=(0,h.default)(),T=(0,f.useI18nContext)(),_=(0,a.useContext)(d.MetaMetricsContext),{balance:k}=(0,g.useBalance)(v);return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.flexEnd,style:{alignSelf:"flex-end"}},a.default.createElement(u.default,{position:"bottom",title:T("accountDetails"),interactive:!0},a.default.createElement(l.ButtonIcon,{ariaLabel:T("accountDetails"),color:p.IconColor.iconDefault,iconName:l.IconName.Info,"data-testid":"header-info-button",size:l.ButtonIconSize.Md,onClick:()=>{_({category:o.MetaMetricsEventCategory.Transactions,event:o.MetaMetricsEventName.AccountDetailsOpened,properties:{action:"Confirm Screen",location:o.MetaMetricsEventLocation.SignatureConfirmation,signature_type:null==y?void 0:y.type}}),n(!0)}}))),a.default.createElement(l.Modal,{isOpen:t,onClose:()=>n(!1),"data-testid":"account-details-modal",isClosedOnEscapeKey:!1,isClosedOnOutsideClick:!1},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(l.ModalHeader,null,a.default.createElement(l.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.center,style:{position:"relative"}},a.default.createElement(l.Box,{style:{margin:"0 auto"},display:p.Display.Flex,justifyContent:p.JustifyContent.center,flexDirection:p.FlexDirection.Column,alignItems:p.AlignItems.center},a.default.createElement(l.AvatarAccount,{variant:e?l.AvatarAccountVariant.Blockies:l.AvatarAccountVariant.Jazzicon,address:v,size:l.AvatarAccountSize.Lg}),a.default.createElement(l.Text,{fontWeight:p.FontWeight.Bold,variant:p.TextVariant.bodyMd,color:p.TextColor.textDefault,marginTop:2},b)),a.default.createElement(l.Box,{style:{position:"absolute",right:0}},a.default.createElement(l.ButtonIcon,{ariaLabel:T("close"),iconName:l.IconName.Close,size:l.ButtonIconSize.Sm,className:"confirm_header__close-button",onClick:()=>n(!1)})))),a.default.createElement(l.ModalBody,null,a.default.createElement(s.ConfirmInfoRow,{label:"Account address"},a.default.createElement(c.AddressCopyButton,{address:v,shorten:!0})),a.default.createElement(s.ConfirmInfoRow,{label:"Balance"},a.default.createElement(i.ConfirmInfoRowCurrency,{value:k??0,dataTestId:"header-balance"}))))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/header-info.tsx"}],[5442,{"../../../../../components/component-library":4879,"../../../../../components/ui/identicon":5169,"../../../../../helpers/constants/design-system":5277,"../../../../../helpers/utils/accounts":5300,"../../../hooks/useConfirmationNetworkInfo":5617,"../../../hooks/useConfirmationRecipientInfo":5618,"./header-info":5441,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=e("../../../../../components/component-library"),o=d(e("../../../../../components/ui/identicon")),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../helpers/utils/accounts"),l=d(e("../../../hooks/useConfirmationNetworkInfo")),c=d(e("../../../hooks/useConfirmationRecipientInfo")),u=d(e("./header-info"));function d(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{networkImageUrl:e,networkDisplayName:t}=(0,l.default)(),{senderAddress:n,senderName:d}=(0,c.default)();return a.default.createElement(r.Box,{display:s.Display.Flex,className:"confirm_header__wrapper",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(r.Box,{alignItems:s.AlignItems.flexStart,display:s.Display.Flex,padding:4},a.default.createElement(r.Box,{display:s.Display.Flex,marginTop:2},a.default.createElement(o.default,{address:n,diameter:32}),a.default.createElement(r.AvatarNetwork,{src:e,name:t,size:r.AvatarNetworkSize.Xs,backgroundColor:(0,i.getAvatarNetworkColor)(t),className:"confirm_header__avatar-network"})),a.default.createElement(r.Box,{marginInlineStart:4},a.default.createElement(r.Text,{color:s.TextColor.textDefault,variant:s.TextVariant.bodyMdMedium},d),a.default.createElement(r.Text,{color:s.TextColor.textAlternative},t))),a.default.createElement(r.Box,{alignItems:s.AlignItems.flexEnd,display:s.Display.Flex,padding:4},a.default.createElement(u.default,null)))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/header.tsx"}],[5443,{"./header":5442},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Header",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/index.tsx"}],[5444,{"../../../../../../components/component-library":4879,"../../../../../../helpers/constants/design-system":5277,"../../../../../../selectors":5900,"../../../simulation-details":5537,"../shared/transaction-details":5449,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("../../../../../../components/component-library"),i=e("../../../../../../helpers/constants/design-system"),l=e("../../../../../../selectors"),c=e("../../../simulation-details"),u=e("../shared/transaction-details");n.default=()=>{const e=(0,o.useSelector)(l.currentConfirmationSelector);return null!=e&&e.txParams?r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Box,{backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.MD,marginBottom:4},r.default.createElement(c.SimulationDetails,{simulationData:e.simulationData,transactionId:e.id,isTransactionsRedesign:!0})),r.default.createElement(s.Box,{backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(u.TransactionDetails,null))):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/contract-interaction/contract-interaction.tsx"}],[5445,{"../../../../../../selectors":5900,"../../../../../../store/actions":5911,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useKnownMethodDataInTransaction=void 0;var a=e("react-redux"),r=e("../../../../../../selectors"),o=e("../../../../../../store/actions");n.useKnownMethodDataInTransaction=e=>{var t;const n=(0,a.useDispatch)(),s=(0,a.useSelector)(r.use4ByteResolutionSelector),i=null==e||null===(t=e.txParams)||void 0===t?void 0:t.data;s&&i&&n((0,o.getContractMethodData)(e.txParams.data));return{knownMethodData:(0,a.useSelector)((e=>(0,r.getKnownMethodData)(e,i)))||{}}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/hooks/known-method-data-in-transaction.ts"}],[5446,{"./info":5447},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Info",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./info"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/index.ts"}],[5447,{"../../../../../selectors":5900,"./contract-interaction/contract-interaction":5444,"./personal-sign/personal-sign":5448,"./typed-sign-v1/typed-sign-v1":5450,"./typed-sign/typed-sign":5451,"@metamask/transaction-controller":2189,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/transaction-controller"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("../../../../../selectors"),i=d(e("./contract-interaction/contract-interaction")),l=d(e("./personal-sign/personal-sign")),c=d(e("./typed-sign-v1/typed-sign-v1")),u=d(e("./typed-sign/typed-sign"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,o.useSelector)(s.currentConfirmationSelector),t=(0,r.useMemo)((()=>({[a.TransactionType.personalSign]:()=>l.default,[a.TransactionType.signTypedData]:()=>{const{version:t}=(null==e?void 0:e.msgParams)??{};return"V1"===t?c.default:u.default},[a.TransactionType.contractInteraction]:()=>i.default})),[e]);if(null==e||!e.type)return null;const n=t[null==e?void 0:e.type]();return r.default.createElement(n,null)}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/info.tsx"}],[5448,{"../../../../../../components/app/confirm/info/row":4527,"../../../../../../components/app/confirm/info/row/alert-row/alert-row":4523,"../../../../../../components/component-library":4879,"../../../../../../helpers/constants/design-system":5277,"../../../../../../helpers/utils/util":5321,"../../../../../../hooks/useI18nContext":5348,"../../../../../../selectors":5900,"../../../../utils":5646,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("../../../../../../components/app/confirm/info/row"),i=e("../../../../../../hooks/useI18nContext"),l=e("../../../../../../selectors"),c=e("../../../../../../components/component-library"),u=e("../../../../../../helpers/constants/design-system"),d=e("../../../../../../helpers/utils/util"),p=e("../../../../utils"),f=e("../../../../../../components/app/confirm/info/row/alert-row/alert-row");n.default=()=>{var e;const t=(0,i.useI18nContext)(),n=(0,o.useSelector)(l.currentConfirmationSelector);if(null==n||!n.msgParams)return null;const{from:a}=n.msgParams,m=(0,p.isSIWESignatureRequest)(n);return r.default.createElement(r.default.Fragment,null,m&&r.default.createElement(c.Box,{backgroundColor:u.BackgroundColor.backgroundDefault,borderRadius:u.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(s.ConfirmInfoRow,{label:t("simulationDetailsTitle"),tooltip:t("simulationDetailsTitleTooltip")},r.default.createElement(s.ConfirmInfoRowText,{text:t("siweSignatureSimulationDetailInfo")}))),r.default.createElement(c.Box,{backgroundColor:u.BackgroundColor.backgroundDefault,borderRadius:u.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(f.AlertRow,{alertKey:"requestFrom",ownerId:n.id,label:t("requestFrom"),tooltip:t("requestFromInfo")},r.default.createElement(s.ConfirmInfoRowUrl,{url:n.msgParams.origin})),m&&r.default.createElement(s.ConfirmInfoRow,{label:t("signingInWith")},r.default.createElement(s.ConfirmInfoRowAddress,{address:a}))),r.default.createElement(c.Box,{backgroundColor:u.BackgroundColor.backgroundDefault,borderRadius:u.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(f.AlertRow,{alertKey:"message",ownerId:n.id,label:t("message")},r.default.createElement(s.ConfirmInfoRowText,{text:(0,d.sanitizeString)((0,d.hexToText)(null===(e=n.msgParams)||void 0===e?void 0:e.data))}))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/personal-sign/personal-sign.tsx"}],[5449,{"../../../../../../components/app/confirm/info/row":4527,"../../../../../../hooks/useI18nContext":5348,"../../../../selectors":5638,"../hooks/known-method-data-in-transaction":5445,"ethereumjs-util":3236,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionDetails=void 0;var a,r=e("ethereumjs-util"),o=(a=e("react"))&&a.__esModule?a:{default:a},s=e("react-redux"),i=e("../../../../../../components/app/confirm/info/row"),l=e("../../../../../../hooks/useI18nContext"),c=e("../../../../selectors"),u=e("../hooks/known-method-data-in-transaction");const d=()=>{const e=(0,l.useI18nContext)(),t=(0,s.useSelector)(c.currentConfirmationSelector),n=null==t?void 0:t.origin;return n?o.default.createElement(i.ConfirmInfoRow,{label:e("requestFrom"),tooltip:e("requestFromTransactionDescription")},o.default.createElement(i.ConfirmInfoRowUrl,{url:n})):null},p=()=>{var e,t;const n=(0,l.useI18nContext)(),a=(0,s.useSelector)(c.currentConfirmationSelector);return null!=a&&null!==(e=a.txParams)&&void 0!==e&&e.to&&(0,r.isValidAddress)((null==a||null===(t=a.txParams)||void 0===t?void 0:t.to)??"")?o.default.createElement(i.ConfirmInfoRow,{label:n("interactingWith"),tooltip:n("interactingWithTransactionDescription")},o.default.createElement(i.ConfirmInfoRowAddress,{address:a.txParams.to})):null},f=()=>{const e=(0,l.useI18nContext)(),t=(0,s.useSelector)(c.currentConfirmationSelector),{knownMethodData:n}=(0,u.useKnownMethodDataInTransaction)(t);return null!=n&&n.name?o.default.createElement(i.ConfirmInfoRow,{label:e("methodData"),tooltip:e("methodDataTransactionDescription")},o.default.createElement(i.ConfirmInfoRowText,{text:n.name})):null};n.TransactionDetails=()=>o.default.createElement(o.default.Fragment,null,o.default.createElement(d,null),o.default.createElement(p,null),o.default.createElement(f,null))}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/shared/transaction-details.tsx"}],[5450,{"../../../../../../components/app/confirm/info/row":4527,"../../../../../../components/component-library":4879,"../../../../../../helpers/constants/design-system":5277,"../../../../../../hooks/useI18nContext":5348,"../../../../../../selectors":5900,"../../row/typed-sign-data-v1/typedSignDataV1":5457,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("../../../../../../components/app/confirm/info/row"),i=e("../../../../../../hooks/useI18nContext"),l=e("../../../../../../selectors"),c=e("../../../../../../components/component-library"),u=e("../../../../../../helpers/constants/design-system"),d=e("../../row/typed-sign-data-v1/typedSignDataV1");n.default=()=>{var e;const t=(0,i.useI18nContext)(),n=(0,o.useSelector)(l.currentConfirmationSelector);return null!=n&&n.msgParams?r.default.createElement(r.default.Fragment,null,r.default.createElement(c.Box,{backgroundColor:u.BackgroundColor.backgroundDefault,borderRadius:u.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(s.ConfirmInfoRow,{label:t("requestFrom"),tooltip:t("requestFromInfo")},r.default.createElement(s.ConfirmInfoRowUrl,{url:n.msgParams.origin}))),r.default.createElement(c.Box,{backgroundColor:u.BackgroundColor.backgroundDefault,borderRadius:u.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(s.ConfirmInfoRow,{label:t("message")},r.default.createElement(d.ConfirmInfoRowTypedSignDataV1,{data:null===(e=n.msgParams)||void 0===e?void 0:e.data})))):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/typed-sign-v1/typed-sign-v1.tsx"}],[5451,{"../../../../../../components/app/confirm/info/row":4527,"../../../../../../components/component-library":4879,"../../../../../../helpers/constants/design-system":5277,"../../../../../../hooks/useI18nContext":5348,"../../../../../../selectors":5900,"../../../../utils":5646,"../../row/typed-sign-data/typedSignData":5458,"ethereumjs-util":3236,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("ethereumjs-util"),i=e("../../../../../../components/app/confirm/info/row"),l=e("../../../../../../hooks/useI18nContext"),c=e("../../../../../../selectors"),u=e("../../../../../../components/component-library"),d=e("../../../../../../helpers/constants/design-system"),p=e("../../../../utils"),f=e("../../row/typed-sign-data/typedSignData");n.default=()=>{var e;const t=(0,l.useI18nContext)(),n=(0,o.useSelector)(c.currentConfirmationSelector);if(null==n||!n.msgParams)return null;const{domain:a}=(0,p.parseTypedDataMessage)(n.msgParams.data);return r.default.createElement(r.default.Fragment,null,r.default.createElement(u.Box,{backgroundColor:d.BackgroundColor.backgroundDefault,borderRadius:d.BorderRadius.MD,marginBottom:4,padding:0},r.default.createElement(u.Box,{padding:2},r.default.createElement(i.ConfirmInfoRow,{label:t("requestFrom"),tooltip:t("requestFromInfo")},r.default.createElement(i.ConfirmInfoRowUrl,{url:n.msgParams.origin}))),(0,s.isValidAddress)(a.verifyingContract)&&r.default.createElement(u.Box,{padding:2},r.default.createElement(i.ConfirmInfoRow,{label:t("interactingWith")},r.default.createElement(i.ConfirmInfoRowAddress,{address:a.verifyingContract})))),r.default.createElement(u.Box,{backgroundColor:d.BackgroundColor.backgroundDefault,borderRadius:d.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(i.ConfirmInfoRow,{label:t("message")},r.default.createElement(f.ConfirmInfoRowTypedSignData,{data:null===(e=n.msgParams)||void 0===e?void 0:e.data}))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/typed-sign/typed-sign.tsx"}],[5452,{"./ledger-info":5453},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"LedgerInfo",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./ledger-info"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/ledger-info/index.ts"}],[5453,{"../../../../../../app/scripts/lib/util":119,"../../../../../../shared/constants/app":4423,"../../../../../../shared/constants/hardware-wallets":4430,"../../../../../components/component-library":4879,"../../../../../ducks/app/app":5258,"../../../../../ducks/metamask/metamask":5268,"../../../../../helpers/constants/design-system":5277,"../../../../../hooks/useI18nContext":5348,"../../../hooks/useLedgerConnection":5626,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=e("react-redux"),o=e("../../../../../../app/scripts/lib/util"),s=e("../../../../../../shared/constants/app"),i=e("../../../../../../shared/constants/hardware-wallets"),l=e("../../../../../components/component-library"),c=e("../../../../../ducks/app/app"),u=e("../../../../../ducks/metamask/metamask"),d=e("../../../../../helpers/constants/design-system"),p=e("../../../../../hooks/useI18nContext"),f=m(e("../../../hooks/useLedgerConnection"));function m(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{isLedgerWallet:e}=(0,f.default)(),t=(0,p.useI18nContext)(),n=(0,r.useDispatch)(),m=(0,r.useSelector)(c.getLedgerWebHidConnectedStatus),g=(0,r.useSelector)(u.getLedgerTransportType),h=(0,r.useSelector)(c.getLedgerTransportStatus),y=(0,o.getEnvironmentType)()===s.ENVIRONMENT_TYPE_FULLSCREEN;if(!e)return null;const v=g===i.LedgerTransportTypes.webhid;return a.default.createElement(l.BannerAlert,{severity:l.BannerAlertSeverity.Info,style:{marginTop:16}},a.default.createElement(l.Text,{variant:d.TextVariant.headingSm,fontWeight:d.FontWeight.Medium},t("ledgerConnectionInstructionHeader")),a.default.createElement("ul",{style:{listStyle:"disc"}},a.default.createElement("li",null,a.default.createElement(l.Text,{variant:d.TextVariant.bodyMd},t("ledgerConnectionInstructionStepThree"))),a.default.createElement("li",null,a.default.createElement(l.Text,{variant:d.TextVariant.bodyMd},t("ledgerConnectionInstructionStepFour")))),h===i.HardwareTransportStates.deviceOpenFailure&&a.default.createElement(l.Button,{variant:l.ButtonVariant.Link,textAlign:d.TextAlign.Left,fontWeight:d.FontWeight.Normal,onClick:async()=>{var e,t;y?window.location.reload():null===(e=(t=global.platform).openExtensionInBrowser)||void 0===e||e.call(t,null,null,!0)}},t("ledgerConnectionInstructionCloseOtherApps")),v&&m===i.WebHIDConnectedStatuses.notConnected&&a.default.createElement(l.Button,{variant:l.ButtonVariant.Link,textAlign:d.TextAlign.Left,fontWeight:d.FontWeight.Normal,onClick:async()=>{if(y){const e=(await window.navigator.hid.requestDevice({filters:[{vendorId:Number(i.LEDGER_USB_VENDOR_ID)}]})).some((e=>e.vendorId===Number(i.LEDGER_USB_VENDOR_ID)));n((0,c.setLedgerWebHidConnectedStatus)(e?i.WebHIDConnectedStatuses.connected:i.WebHIDConnectedStatuses.notConnected))}else{var e,t;null===(e=(t=global.platform).openExtensionInBrowser)||void 0===e||e.call(t,null,null,!0)}}},t(y?"clickToConnectLedgerViaWebHID":"openFullScreenForLedgerWebHid")))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/ledger-info/ledger-info.tsx"}],[5454,{"./nav":5455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Nav",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nav"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/nav/index.tsx"}],[5455,{"../../../../../components/component-library":4879,"../../../../../helpers/constants/design-system":5277,"../../../../../helpers/constants/routes":5283,"../../../../../hooks/useI18nContext":5348,"../../../../../selectors":5900,"../../../../../store/actions":5911,"../../../utils":5646,"eth-rpc-errors":3205,react:4173,"react-redux":4129,"react-router-dom":4158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("eth-rpc-errors"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("react-router-dom"),i=e("../../../../../components/component-library"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../helpers/constants/routes"),u=e("../../../../../hooks/useI18nContext"),d=e("../../../../../selectors"),p=e("../../../../../store/actions"),f=e("../../../utils");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,s.useHistory)(),t=(0,u.useI18nContext)(),n=(0,o.useSelector)(d.currentConfirmationSelector),m=(0,o.useSelector)(d.pendingConfirmationsSortedSelector),g=(0,o.useDispatch)(),h=(0,r.useMemo)((()=>(null==m?void 0:m.length)<=0||!n?0:m.findIndex((({id:e})=>e===n.id))),[n,m]),y=(0,r.useCallback)((t=>{const n=m[h+t];e.replace(`${c.CONFIRM_TRANSACTION_ROUTE}/${n.id}${(0,f.isSignatureApprovalRequest)(n)?c.SIGNATURE_REQUEST_PATH:""}`)}),[h,m]),v=(0,r.useCallback)((()=>{m.forEach((e=>{g((0,p.rejectPendingApproval)(e.id,(0,a.serializeError)(a.ethErrors.provider.userRejectedRequest())))}))}),[m]);return m.length<=1?null:r.default.createElement(i.Box,{alignItems:l.AlignItems.center,backgroundColor:l.BackgroundColor.backgroundDefault,display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,padding:3,style:{zIndex:2}},r.default.createElement(i.Box,{alignItems:l.AlignItems.center,display:l.Display.Flex},r.default.createElement(i.ButtonIcon,{ariaLabel:"Previous Confirmation",backgroundColor:l.BackgroundColor.backgroundAlternative,borderRadius:l.BorderRadius.full,className:"confirm_nav__left_btn",color:l.IconColor.iconAlternative,disabled:0===h,iconName:i.IconName.ArrowLeft,onClick:()=>y(-1),size:i.ButtonIconSize.Sm}),r.default.createElement(i.Text,{color:l.TextColor.textAlternative,marginInline:2,variant:l.TextVariant.bodySm},h+1," of ",m.length),r.default.createElement(i.ButtonIcon,{ariaLabel:"Next Confirmation",backgroundColor:l.BackgroundColor.backgroundAlternative,borderRadius:l.BorderRadius.full,className:"confirm_nav__right_btn",color:l.IconColor.iconAlternative,disabled:h===m.length-1,iconName:i.IconName.ArrowRight,onClick:()=>y(1),size:i.ButtonIconSize.Sm})),r.default.createElement(i.Button,{borderRadius:l.BorderRadius.XL,className:"confirm_nav__reject_all",fontWeight:l.FontWeight.Normal,onClick:v,paddingLeft:3,paddingRight:3,startIconName:i.IconName.Close,type:i.ButtonVariant.Secondary},t("rejectAll")))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/nav/nav.tsx"}],[5456,{"../../../../../../shared/modules/hexstring-utils":4472,"../../../../../components/app/confirm/info/row":4527,"../../../../../components/component-library":4879,"../../../../../helpers/constants/design-system":5277,"../../../../../helpers/utils/util":5321,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DataTree=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../shared/modules/hexstring-utils"),s=e("../../../../../helpers/utils/util"),i=e("../../../../../components/component-library"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../components/app/confirm/info/row");const u=({data:e})=>r.default.createElement(i.Box,{width:l.BlockSize.Full},Object.entries(e).map((([e,{value:t,type:n}],a)=>r.default.createElement(c.ConfirmInfoRow,{label:`${(0,s.sanitizeString)(e.charAt(0).toUpperCase()+e.slice(1))}:`,style:{paddingRight:0},key:`tree-data-${e}-index-${a}`},r.default.createElement(d,{value:t,type:n})))));n.DataTree=u;const d=({value:e,type:t})=>"object"==typeof e&&null!==e?r.default.createElement(u,{data:e}):"address"===t&&(0,o.isValidHexAddress)(e,{mixedCaseUseChecksum:!0})?r.default.createElement(c.ConfirmInfoRowAddress,{address:e}):r.default.createElement(c.ConfirmInfoRowText,{text:(0,s.sanitizeString)(e)})}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/row/dataTree.tsx"}],[5457,{"../../../../../../components/component-library":4879,"../../../../../../helpers/constants/design-system":5277,"../dataTree":5456,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowTypedSignDataV1=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../components/component-library"),s=e("../../../../../../helpers/constants/design-system"),i=e("../dataTree");n.ConfirmInfoRowTypedSignDataV1=({data:e})=>{if(!e)return null;const t=e.reduce(((e,{name:t,value:n,type:a})=>({...e,[t]:{type:a,value:n}})),{});return r.default.createElement(o.Box,{width:s.BlockSize.Full},r.default.createElement(o.Box,{style:{marginLeft:-8}},r.default.createElement(i.DataTree,{data:t})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/row/typed-sign-data-v1/typedSignDataV1.tsx"}],[5458,{"../../../../../../components/app/confirm/info/row":4527,"../../../../../../components/component-library":4879,"../../../../../../helpers/constants/design-system":5277,"../../../../../../hooks/useI18nContext":5348,"../../../../utils":5646,"../dataTree":5456,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowTypedSignData=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../hooks/useI18nContext"),s=e("../../../../../../components/component-library"),i=e("../../../../../../helpers/constants/design-system"),l=e("../../../../../../components/app/confirm/info/row"),c=e("../dataTree"),u=e("../../../../utils");n.ConfirmInfoRowTypedSignData=({data:e})=>{const t=(0,o.useI18nContext)();if(!e)return null;const{sanitizedMessage:n,primaryType:a}=(0,u.parseSanitizeTypedDataMessage)(e);return r.default.createElement(s.Box,{width:i.BlockSize.Full},r.default.createElement(l.ConfirmInfoRow,{label:`${t("primaryType")}:`,style:{paddingLeft:0,paddingRight:0}},r.default.createElement(l.ConfirmInfoRowText,{text:a})),r.default.createElement(s.Box,{style:{marginLeft:-8}},r.default.createElement(c.DataTree,{data:n.value})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/row/typed-sign-data/typedSignData.tsx"}],[5459,{"./scroll-to-bottom":5460},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./scroll-to-bottom"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/scroll-to-bottom/index.ts"}],[5460,{"../../../../../components/component-library":4879,"../../../../../contexts/i18n":5246,"../../../../../ducks/confirm/confirm":5261,"../../../../../helpers/constants/design-system":5277,"../../../../../hooks/usePrevious":5357,"../../../../../hooks/useScrollRequired":5358,"../../../selectors":5638,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../../contexts/i18n"),s=e("../../../../../components/component-library"),i=e("../../../../../helpers/constants/design-system"),l=e("../../../../../hooks/usePrevious"),c=e("../../../../../hooks/useScrollRequired"),u=e("../../../../../ducks/confirm/confirm"),d=e("../../../selectors");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=({children:e})=>{const t=(0,a.useContext)(o.I18nContext),n=(0,r.useDispatch)(),p=(0,r.useSelector)(d.currentConfirmationSelector),f=(0,l.usePrevious)(null==p?void 0:p.id),{hasScrolledToBottom:m,isScrollable:g,isScrolledToBottom:h,onScroll:y,scrollToBottom:v,setHasScrolledToBottom:b,ref:T}=(0,c.useScrollRequired)([null==p?void 0:p.id],{offsetPxFromBottom:0});return(0,a.useEffect)((()=>{if(f===(null==p?void 0:p.id))return;const e=null==T?void 0:T.current;e&&("function"==typeof e.scrollTo&&e.scrollTo(0,0),b(!1))}),[null==p?void 0:p.id,f,null==T?void 0:T.current]),(0,a.useEffect)((()=>{n((0,u.updateConfirm)({isScrollToBottomNeeded:g&&!m}))}),[g,m]),a.default.createElement(s.Box,{backgroundColor:i.BackgroundColor.backgroundAlternative,width:i.BlockSize.Full,height:i.BlockSize.Full,style:{minHeight:"0",overflow:"hidden",position:"relative"}},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,height:i.BlockSize.Full,paddingLeft:4,paddingRight:4,onScroll:y,ref:T,style:{overflow:"auto"}},e,g&&!h&&a.default.createElement(s.ButtonIcon,{className:"confirm-scroll-to-bottom__button",onClick:v,iconName:s.IconName.Arrow2Down,ariaLabel:t("scrollDown"),backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.full,color:i.IconColor.primaryDefault,display:i.Display.Flex,size:s.ButtonIconSize.Md})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/scroll-to-bottom/scroll-to-bottom.tsx"}],[5461,{"./title":5462},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Title",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./title"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/title/index.ts"}],[5462,{"../../../../../components/app/alert-system/general-alert/general-alert":4502,"../../../../../components/app/alert-system/utils":4506,"../../../../../components/component-library":4879,"../../../../../helpers/constants/design-system":5277,"../../../../../hooks/useAlerts":5336,"../../../../../hooks/useI18nContext":5348,"../../../../../selectors":5900,"@metamask/transaction-controller":2189,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("@metamask/transaction-controller"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("../../../../../components/component-library"),i=e("../../../../../helpers/constants/design-system"),l=e("../../../../../hooks/useI18nContext"),c=e("../../../../../selectors"),u=f(e("../../../../../hooks/useAlerts")),d=e("../../../../../components/app/alert-system/utils"),p=f(e("../../../../../components/app/alert-system/general-alert/general-alert"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g({ownerId:e}){const t=(0,l.useI18nContext)(),{generalAlerts:n}=(0,u.default)(e);if(0===n.length)return null;const a=n.length>1,o=n[0],i=a?(0,d.getHighestSeverity)(n):o.severity;return r.default.createElement(s.Box,{marginTop:4},r.default.createElement(p.default,{"data-testid":"confirm-banner-alert",title:a?t("alertBannerMultipleAlertsTitle"):o.reason,description:a?t("alertBannerMultipleAlertsDescription"):o.message,severity:i,provider:a?undefined:o.provider,details:a?undefined:o.alertDetails,reportUrl:o.reportUrl}))}const h=(0,r.memo)((()=>{const e=(0,l.useI18nContext)(),t=(0,o.useSelector)(c.currentConfirmationSelector),n=(0,r.useMemo)((()=>({[a.TransactionType.personalSign]:e("confirmTitleSignature"),[a.TransactionType.signTypedData]:e("confirmTitleSignature"),[a.TransactionType.contractInteraction]:e("confirmTitleTransaction")})),[]),u=(0,r.useMemo)((()=>({[a.TransactionType.personalSign]:e("confirmTitleDescSignature"),[a.TransactionType.signTypedData]:e("confirmTitleDescSignature"),[a.TransactionType.contractInteraction]:e("confirmTitleDescContractInteractionTransaction")})),[]);if(!t)return null;const d=n[t.type||a.TransactionType.contractInteraction],p=u[t.type||a.TransactionType.contractInteraction];return r.default.createElement(r.default.Fragment,null,r.default.createElement(g,{ownerId:t.id}),r.default.createElement(s.Text,{variant:i.TextVariant.headingLg,paddingTop:4,paddingBottom:2,textAlign:i.TextAlign.Center},d),r.default.createElement(s.Text,{paddingBottom:4,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},p))}));n.default=h}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/title/title.tsx"}],[5463,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getConfirmationSender=void 0;n.getConfirmationSender=e=>{const t=null==e?void 0:e.msgParams,n=null==e?void 0:e.txParams;let a;return t&&(a=t.from),n&&(a=n.from),{from:a}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/utils.ts"}],[5464,{"../../../../components/component-library":4879,"../../../../components/component-library/modal-content/deprecated":4887,"../../../../components/component-library/modal-header/deprecated":4896,"../../../../helpers/constants/design-system":5277,"../../../../hooks/useI18nContext":5348,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library"),l=e("../../../../components/component-library/modal-content/deprecated"),c=e("../../../../components/component-library/modal-header/deprecated");function u(e){return e&&e.__esModule?e:{default:e}}const d=({onSubmit:e,onCancel:t})=>{const n=(0,o.useI18nContext)();return a.default.createElement(i.Modal,{isOpen:!0,onClose:t,className:"confirmation-warning-modal__content"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(c.ModalHeader,{childrenWrapperProps:{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,gap:4}},a.default.createElement(i.Icon,{name:i.IconName.Danger,color:s.IconColor.errorDefault,size:i.IconSize.Xl}),a.default.createElement(i.Text,{variant:s.TextVariant.headingSm,as:"h4",fontWeight:s.FontWeight.Bold,textAlign:s.TextAlign.Center},n("addEthereumChainWarningModalTitle"))),a.default.createElement(i.Box,{marginBottom:4},a.default.createElement(i.Text,{marginTop:4,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalHeader",[a.default.createElement("strong",{key:"part-2"},n("addEthereumChainWarningModalHeaderPartTwo"))])),a.default.createElement(i.Text,{marginTop:4,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListHeader")),a.default.createElement("ul",null,a.default.createElement(i.Text,{as:"li",marginTop:2,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListPointOne")),a.default.createElement(i.Text,{as:"li",marginTop:2,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListPointTwo")),a.default.createElement(i.Text,{as:"li",marginTop:2,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListPointThree")))),a.default.createElement(i.Box,{display:s.Display.Flex,gap:4},a.default.createElement(i.Button,{variant:i.BUTTON_VARIANT.SECONDARY,onClick:t,block:!0,size:i.BUTTON_SIZES.LG},n("reject")),a.default.createElement(i.Button,{variant:i.BUTTON_VARIANT.PRIMARY,onClick:e,danger:!0,block:!0,size:i.BUTTON_SIZES.LG},n("approveButtonText")))))};d.propTypes={onSubmit:r.default.func,onCancel:r.default.func};n.default=d}}},{package:"$root$",file:"ui/pages/confirmations/components/confirmation-warning-modal/confirmation-warning-modal.js"}],[5465,{"./confirmation-warning-modal":5464},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirmation-warning-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirmation-warning-modal/index.js"}],[5466,{"../../../../../shared/constants/transaction":4449,"../../../../components/app/name/name":4635,"../../../../components/component-library":4879,"../../../../components/ui/box":5118,"../../../../components/ui/button/button.component":5121,"../../../../components/ui/identicon":5169,"../../../../components/ui/nft-collection-image/nft-collection-image":5193,"../../../../components/ui/popover":5203,"../../../../components/ui/tooltip/tooltip":5233,"../../../../helpers/constants/design-system":5277,"../../../../hooks/useCopyToClipboard":5338,"../../../../hooks/useI18nContext":5348,"../../../../hooks/usePetnamesEnabled":5355,"../../../../selectors":5900,"../../send/send.utils":5643,"@metamask/etherscan-link":1324,"@metamask/name-controller":1484,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var a=x(e("react")),r=x(e("prop-types")),o=e("@metamask/etherscan-link"),s=e("react-redux"),i=e("@metamask/name-controller"),l=x(e("../../../../components/ui/box")),c=x(e("../../../../components/ui/button/button.component")),u=x(e("../../../../components/ui/tooltip/tooltip")),d=e("../../../../hooks/useI18nContext"),p=x(e("../../../../components/ui/identicon")),f=e("../../send/send.utils"),m=x(e("../../../../components/ui/popover")),g=e("../../../../helpers/constants/design-system"),h=e("../../../../hooks/useCopyToClipboard"),y=e("../../../../selectors"),v=e("../../../../../shared/constants/transaction"),b=x(e("../../../../components/ui/nft-collection-image/nft-collection-image")),T=e("../../../../components/component-library"),_=x(e("../../../../components/app/name/name")),k=e("../../../../hooks/usePetnamesEnabled");function x(e){return e&&e.__esModule?e:{default:e}}function E({onClose:e,tokenName:t,tokenAddress:n,toAddress:r,chainId:x,rpcPrefs:E,tokenId:w,assetName:C,assetStandard:S,isContractRequestingSignature:P}){var M,O;const I=(0,d.useI18nContext)(),[N,j]=(0,h.useCopyToClipboard)(),[A,D]=(0,h.useCopyToClipboard)(),F=(0,k.usePetnamesEnabled)(),R=(0,s.useSelector)((e=>({data:(0,y.getAddressBookEntry)(e,r)}))),B=S===v.TokenStandard.ERC721||S===v.TokenStandard.ERC1155||C&&w||t&&w;return a.default.createElement(m.default,{className:"contract-details-modal"},a.default.createElement(l.default,{paddingTop:6,paddingRight:4,paddingBottom:8,paddingLeft:4,className:"contract-details-modal__content"},a.default.createElement(T.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5",display:g.Display.Flex},I("contractTitle")),a.default.createElement(T.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginTop:2},I("contractDescription")),!P&&a.default.createElement(a.default.Fragment,null,a.default.createElement(T.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,marginTop:4,marginBottom:2},I(B?"contractNFT":"contractToken")),a.default.createElement(l.default,{display:g.Display.Flex,borderRadius:g.Size.SM,borderStyle:g.BorderStyle.solid,borderColor:g.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},B?a.default.createElement(l.default,{margin:4},a.default.createElement(b.default,{assetName:C,tokenAddress:n})):a.default.createElement(p.default,{className:"contract-details-modal__content__contract__identicon",address:n,diameter:24}),a.default.createElement(l.default,{"data-testid":"recipient"},a.default.createElement(T.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5",marginTop:4},t||(0,f.ellipsify)(n)),t&&a.default.createElement(T.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginBottom:4},(0,f.ellipsify)(n))),a.default.createElement(l.default,{alignItems:g.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(u.default,{position:"top",title:I(N?"copiedExclamation":"copyToClipboard")},a.default.createElement(T.ButtonIcon,{display:g.Display.Flex,iconName:N?T.IconName.CopySuccess:T.IconName.Copy,onClick:()=>j(n),color:g.Color.iconMuted,ariaLabel:I(N?"copiedExclamation":"copyToClipboard")})),a.default.createElement(u.default,{position:"top",title:I("openInBlockExplorer")},a.default.createElement(T.ButtonIcon,{display:g.Display.Flex,iconName:T.IconName.Export,color:g.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(n,x,{blockExplorerUrl:(null==E?void 0:E.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:I("openInBlockExplorer")}))))),a.default.createElement(T.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,marginTop:4,marginBottom:2},B&&I("contractRequestingAccess"),P&&I("contractRequestingSignature"),!B&&!P&&I("contractRequestingSpendingCap")),a.default.createElement(l.default,{display:g.Display.Flex,borderRadius:g.Size.SM,borderStyle:g.BorderStyle.solid,borderColor:g.BorderColor.borderDefault,alignItems:g.AlignItems.center,className:"contract-details-modal__content__contract"},!F&&a.default.createElement(p.default,{className:"contract-details-modal__content__contract__identicon",diameter:24,address:r}),a.default.createElement(l.default,{"data-testid":"recipient"},F?a.default.createElement(T.Text,{variant:g.TextVariant.bodyMd,as:"h5"},a.default.createElement(_.default,{value:r,type:i.NameType.ETHEREUM_ADDRESS})):a.default.createElement(T.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5"},(null==R||null===(M=R.data)||void 0===M?void 0:M.name)||(0,f.ellipsify)(r)),!F&&(null==R||null===(O=R.data)||void 0===O?void 0:O.name)&&a.default.createElement(T.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginBottom:4},(0,f.ellipsify)(r))),a.default.createElement(l.default,{alignItems:g.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(u.default,{position:"top",title:I(A?"copiedExclamation":"copyToClipboard")},a.default.createElement(T.ButtonIcon,{display:g.Display.Flex,iconName:A?T.IconName.CopySuccess:T.IconName.Copy,onClick:()=>D(r),color:g.Color.iconMuted,ariaLabel:I(N?"copiedExclamation":"copyToClipboard")})),a.default.createElement(u.default,{position:"top",title:I("openInBlockExplorer")},a.default.createElement(T.ButtonIcon,{display:g.Display.Flex,iconName:T.IconName.Export,color:g.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(r,x,{blockExplorerUrl:(null==E?void 0:E.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:I("openInBlockExplorer")}))))),a.default.createElement(l.default,{display:g.Display.Flex,paddingTop:6,paddingRight:4,paddingBottom:6,paddingLeft:4},a.default.createElement(c.default,{type:"primary",onClick:()=>e()},I("recoveryPhraseReminderConfirm"))))}E.propTypes={onClose:r.default.func,tokenName:r.default.string,tokenAddress:r.default.string,toAddress:r.default.string,chainId:r.default.string,rpcPrefs:r.default.object,tokenId:r.default.string,assetStandard:r.default.string,assetName:r.default.string,isContractRequestingSignature:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/contract-details-modal/contract-details-modal.js"}],[5467,{"./contract-details-modal":5466},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./contract-details-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/contract-details-modal/index.js"}],[5468,{"../../../../components/component-library":4879,"../../../../components/ui/box/box":5117,"../../../../components/ui/identicon":5169,"../../../../components/ui/tooltip/tooltip":5233,"../../../../components/ui/typography/typography":5237,"../../../../helpers/constants/design-system":5277,"../../../../hooks/useCopyToClipboard":5338,"../../../../hooks/useI18nContext":5348,"@metamask/etherscan-link":1324,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=m(e("react")),r=m(e("prop-types")),o=e("@metamask/etherscan-link"),s=m(e("../../../../components/ui/box/box")),i=m(e("../../../../components/ui/tooltip/tooltip")),l=e("../../../../hooks/useI18nContext"),c=m(e("../../../../components/ui/identicon")),u=m(e("../../../../components/ui/typography/typography")),d=e("../../../../helpers/constants/design-system"),p=e("../../../../hooks/useCopyToClipboard"),f=e("../../../../components/component-library");function m(e){return e&&e.__esModule?e:{default:e}}function g({address:e,tokenName:t,chainId:n,rpcPrefs:r}){const m=(0,l.useI18nContext)(),[g,h]=(0,p.useCopyToClipboard)();return a.default.createElement(s.default,{className:"contract-token-values",display:d.DISPLAY.FLEX,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.center,gap:2},a.default.createElement(c.default,{address:e,diameter:24}),a.default.createElement(u.default,{variant:d.TypographyVariant.H2,fontWeight:d.FONT_WEIGHT.BOLD,color:d.TextColor.textAlternative,marginTop:0,marginBottom:0},t),a.default.createElement(i.default,{position:"top",title:m(g?"copiedExclamation":"copyToClipboard")},a.default.createElement(f.ButtonIcon,{iconName:g?f.IconName.CopySuccess:f.IconName.Copy,color:d.Color.iconMuted,onClick:()=>h(e),ariaLabel:m(g?"copiedExclamation":"copyToClipboard")})),a.default.createElement(i.default,{position:"top",title:m("openInBlockExplorer")},a.default.createElement(f.ButtonIcon,{display:d.DISPLAY.FLEX,iconName:f.IconName.Export,color:d.Color.iconMuted,onClick:()=>{const t=(0,o.getAccountLink)(e,n,{blockExplorerUrl:(null==r?void 0:r.blockExplorerUrl)??null},null);global.platform.openTab({url:t})},ariaLabel:m("openInBlockExplorer")})))}g.propTypes={address:r.default.string,tokenName:r.default.string,chainId:r.default.string,rpcPrefs:r.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/contract-token-values/contract-token-values.js"}],[5469,{"../../../../../.storybook/i18n":1,"../../../../components/component-library":4879,"../../../../helpers/constants/design-system":5277,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../../.storybook/i18n"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u({nextNonce:e,customNonceValue:t,showCustomizeNonceModal:n}){const a=(0,r.useContext)(s.I18nContext);return r.default.createElement(i.Box,{display:l.Display.Flex,marginBottom:4,paddingTop:3,paddingRight:3,paddingBottom:4,paddingLeft:3,borderRadius:l.BorderRadius.MD,alignItems:l.AlignItems.center,className:"custom-nonce__content"},r.default.createElement(i.Box,{className:"custom-nonce__header",display:l.Display.InlineFlex,justifyContent:l.JustifyContent.flexStart,alignItems:l.AlignItems.center},r.default.createElement(i.Text,{variant:l.TextVariant.bodySm,as:"h6"},a("nonce")),r.default.createElement(i.ButtonLink,{key:"editCustomNonce",size:l.Size.auto,marginLeft:3,onClick:()=>n()},a("edit"))),r.default.createElement(i.Text,{className:"custom-nonce__value",variant:l.TextVariant.bodySmBold,as:"h6"},t||e))}u.propTypes={nextNonce:o.default.number,customNonceValue:o.default.string,showCustomizeNonceModal:o.default.func}}}},{package:"$root$",file:"ui/pages/confirmations/components/custom-nonce/custom-nonce.js"}],[5470,{"./custom-nonce":5469},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./custom-nonce"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/custom-nonce/index.js"}],[5471,{"../../../../components/component-library":4879,"../../../../components/ui/tooltip":5232,"../../../../helpers/constants/design-system":5277,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CustomSpendingCapTooltip=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("../../../../components/ui/tooltip")),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library");function l(e){return e&&e.__esModule?e:{default:e}}const c=({tooltipContentText:e,tooltipIcon:t})=>a.default.createElement(i.Box,{display:s.Display.InlineFlex,alignItems:s.AlignItems.center},a.default.createElement(o.default,{interactive:!0,position:"top",html:a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},e)},t?a.default.createElement(i.Icon,{name:i.IconName.Danger,size:i.IconSize.Inherit,color:s.IconColor.errorDefault}):""!==t&&a.default.createElement(i.Icon,{name:i.IconName.Question,size:i.IconSize.Inherit,color:s.IconColor.iconAlternative})));n.CustomSpendingCapTooltip=c,c.propTypes={tooltipContentText:r.default.oneOfType([r.default.string,r.default.node]),tooltipIcon:r.default.oneOfType([r.default.string,r.default.bool])}}}},{package:"$root$",file:"ui/pages/confirmations/components/custom-spending-cap/custom-spending-cap-tooltip.js"}],[5472,{"../../../../../shared/constants/tokens":4448,"../../../../../shared/lib/transactions-controller-utils":4459,"../../../../../shared/modules/Numeric":4461,"../../../../../shared/modules/conversion.utils":4465,"../../../../components/component-library":4879,"../../../../contexts/gasFee":5245,"../../../../contexts/i18n":5246,"../../../../ducks/app/app":5258,"../../../../helpers/constants/design-system":5277,"../../../../helpers/constants/zendesk-url":5290,"../../../../store/actions":5911,"../../confirm-approve/confirm-approve.util":5562,"./custom-spending-cap-tooltip":5471,"bignumber.js":2888,"ethereumjs-util":3236,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=_(e("prop-types")),s=_(e("bignumber.js")),i=e("ethereumjs-util"),l=e("../../../../contexts/i18n"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/component-library"),d=e("../../../../ducks/app/app"),p=e("../../../../../shared/lib/transactions-controller-utils"),f=e("../../../../../shared/modules/conversion.utils"),m=e("../../../../../shared/constants/tokens"),g=e("../../../../../shared/modules/Numeric"),h=e("../../../../store/actions"),y=e("../../confirm-approve/confirm-approve.util"),v=e("../../../../contexts/gasFee"),b=_(e("../../../../helpers/constants/zendesk-url")),T=e("./custom-spending-cap-tooltip");function _(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function x({txParams:e,tokenName:t,currentTokenBalance:n,dappProposedValue:o,siteOrigin:_,passTheErrorText:k,decimals:x,setInputChangeInProgress:E,customSpendingCap:w,setCustomSpendingCap:C}){const S=(0,a.useContext)(l.I18nContext),P=(0,r.useDispatch)(),{updateTransaction:M}=(0,v.useGasFeeContext)(),O=(0,a.useRef)(null),[I,N]=(0,a.useState)(""),[j,A]=(0,a.useState)(w!==String(o)&&!0),D=S("inputLogicEmptyState"),F=e=>e.replace(/,/gu,"."),R=(e,t)=>new g.Numeric(Number(F(e)),10).greaterThan(Number(t),10),B=e=>new g.Numeric(Number(F(e)),10).lessThanOrEqualTo(new g.Numeric(Number(n),10))?{className:"custom-spending-cap__lowerValue",description:S("inputLogicEqualOrSmallerNumber",[a.default.createElement(u.Text,{key:"custom-spending-cap",variant:c.TextVariant.bodySmBold,as:"span"},F(e)," ",t)])}:R(e,n)?{className:"custom-spending-cap__higherValue",description:S("inputLogicHigherNumber")}:{className:"custom-spending-cap__emptyState",description:S("inputLogicEmptyState")},[L,$]=(0,a.useState)(B(w).description),G=async t=>{var n;if(!e)return;E(!0);let a="";const r=B(t).description,o=m.DECIMAL_REGEX.exec(F(t));if((null==o||null===(n=o[1])||void 0===n?void 0:n.length)>x)return void E(!1);t&&!m.NUM_W_OPT_DECIMAL_COMMA_OR_DOT_REGEX.test(t)?(a=S("spendingCapError"),$(S("spendingCapErrorDescription",[_])),N(a)):($(r),N(""));const l=(0,p.calcTokenAmount)(m.MAX_TOKEN_ALLOWANCE_AMOUNT,x);if(Number(t.length)>1&&Number(t)){new s.default(t).greaterThan(l)&&(a=S("spendLimitTooLarge"),N(a))}if(C(String(t)),P((0,d.setCustomTokenAmount)(String(t))),""!==String(t))try{const n=(0,y.getCustomTxParamsData)(e.data,{customPermissionAmount:t,decimals:x}),{from:a,to:r,value:o}=e,s=await(0,h.estimateGas)({from:a,to:r,value:o,data:n});s&&await M({gasLimit:(0,f.hexToDecimal)((0,i.addHexPrefix)(s))})}catch(e){console.error("Error in trying to update gas limit",e)}E(!1)};(0,a.useEffect)((()=>{w===String(o)?A(!1):A(!0)}),[w,o]),(0,a.useEffect)((()=>{k(I)}),[I,k]),(0,a.useEffect)((()=>{O.current&&O.current.focus({preventScroll:!0})}),[O.current]);const W=R(w,n)?S("warningTooltipText",[a.default.createElement(u.Text,{key:"tooltip-text",variant:c.TextVariant.bodySmBold,as:"span",color:c.TextColor.errorDefault},a.default.createElement(u.Icon,{name:u.IconName.Danger,size:u.IconSize.Inherit})," ",S("beCareful"))]):S("inputLogicEmptyState");return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.Box,{className:"custom-spending-cap",display:c.Display.Flex,alignItems:c.AlignItems.flexStart,flexDirection:c.FlexDirection.Column,gap:2,padding:4,backgroundColor:c.BackgroundColor.backgroundAlternative,borderRadius:c.Size.SM},a.default.createElement(u.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,gap:1,width:c.BlockSize.Full},a.default.createElement("div",null,a.default.createElement(u.Label,{htmlFor:"custom-spending-cap",display:c.Display.Inline,marginRight:1},S("customSpendingCap")),a.default.createElement(T.CustomSpendingCapTooltip,{tooltipContentText:F(w)?W:"",tooltipIcon:F(w)?R(w,n):""})),j&&a.default.createElement(u.ButtonLink,{marginLeft:"auto",size:c.Size.auto,onClick:e=>{e.preventDefault(),A(!1),G(o)}},S("useSiteSuggestion"))),a.default.createElement(u.TextField,{inputRef:O,inputProps:{"data-testid":"custom-spending-cap-input",color:R(w,n)?c.TextColor.errorDefault:c.TextColor.textDefault,paddingInlineEnd:4},id:"custom-spending-cap",onChange:e=>G(e.target.value),placeholder:S("enterANumber"),value:w,endAccessory:a.default.createElement(u.ButtonLink,{onClick:e=>{e.preventDefault(),G(n)},"data-testid":"custom-spending-cap-max-button"},S("max")),width:c.BlockSize.Full}),a.default.createElement(u.HelpText,{color:I?c.TextColor.errorDefault:c.TextColor.textDefault,variant:c.TextVariant.bodySm},I||(F(w)?L:D)),a.default.createElement(u.ButtonLink,{size:c.Size.SM,href:b.default.TOKEN_ALLOWANCE_WITH_SPENDING_CAP,externalLink:!0},S("learnMoreUpperCase"))))}x.propTypes={txParams:o.default.object.isRequired,tokenName:o.default.string,currentTokenBalance:o.default.string,dappProposedValue:o.default.string,siteOrigin:o.default.string,passTheErrorText:o.default.func,decimals:o.default.string,setInputChangeInProgress:o.default.func.isRequired,customSpendingCap:o.default.string,setCustomSpendingCap:o.default.func.isRequired}}}},{package:"$root$",file:"ui/pages/confirmations/components/custom-spending-cap/custom-spending-cap.js"}],[5473,{"../../../../../shared/constants/gas":4429,"../../../../components/component-library":4879,"../../../../components/ui/button":5122,"../../../../components/ui/info-tooltip":5170,"../../../../contexts/i18n":5246,"../../../../helpers/constants/design-system":5277,"../../../../helpers/utils/confirm-tx.util":5303,"../advanced-gas-controls/advanced-gas-controls.component":5392,"bignumber.js":2888,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("prop-types")),o=m(e("bignumber.js")),s=e("../../../../../shared/constants/gas"),i=m(e("../../../../components/ui/button")),l=e("../../../../helpers/constants/design-system"),c=e("../../../../components/component-library"),u=e("../../../../helpers/utils/confirm-tx.util"),d=m(e("../../../../components/ui/info-tooltip")),p=m(e("../advanced-gas-controls/advanced-gas-controls.component")),f=e("../../../../contexts/i18n");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h({mode:e=s.EditGasModes.modifyInPlace,estimatedMinimumNative:t,transaction:n,gasPrice:r,setGasPrice:m,gasLimit:g,setGasLimit:h,properGasLimit:y,dappSuggestedGasFeeAcknowledged:v,setDappSuggestedGasFeeAcknowledged:b,onManualChange:T,minimumGasLimit:_,balanceError:k,gasErrors:x,txParamsHaveBeenCustomized:E}){const w=(0,a.useContext)(f.I18nContext),C=(0,a.useRef)(null),S=(0,u.areDappSuggestedAndTxParamGasFeesTheSame)(n),P=Boolean((null==n?void 0:n.dappSuggestedGasFees)&&!v&&S);let M;g!==undefined&&y!==undefined&&new o.default(g).lessThan(new o.default(y))&&(M=w("gasLimitRecommended",[y]));const O=k&&E;return a.default.createElement("div",{className:"edit-gas-display"},a.default.createElement("div",{className:"edit-gas-display__content"},O&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Danger,description:w("insufficientFunds"),marginBottom:6}),M&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Warning,description:M,marginBottom:6}),P&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Warning,className:"banner-alert--warning",description:w("gasDisplayDappWarning",[n.origin]),marginBottom:6}),e===s.EditGasModes.speedUp&&a.default.createElement("div",{className:"edit-gas-display__top-tooltip"},a.default.createElement(c.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Bold},w("speedUpTooltipText")," ",a.default.createElement(d.default,{position:"top",contentText:w("speedUpExplanation")}))),a.default.createElement(c.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.headingLg,as:"h1",textAlign:l.TextAlign.Center},t),P&&a.default.createElement(i.default,{className:"edit-gas-display__dapp-acknowledgement-button",onClick:()=>b(!0)},w("gasDisplayAcknowledgeDappButtonText")),!P&&a.default.createElement(p.default,{gasLimit:g,setGasLimit:h,gasPrice:r,setGasPrice:m,onManualChange:T,minimumGasLimit:_,gasErrors:x})),a.default.createElement("div",{ref:C,className:"edit-gas-display__scroll-bottom"}))}h.propTypes={mode:r.default.oneOf(Object.values(s.EditGasModes)),estimatedMinimumNative:r.default.string,gasPrice:r.default.string,setGasPrice:r.default.func,gasLimit:r.default.number,setGasLimit:r.default.func,properGasLimit:r.default.number,dappSuggestedGasFeeAcknowledged:r.default.bool,setDappSuggestedGasFeeAcknowledged:r.default.func,transaction:r.default.object,onManualChange:r.default.func,minimumGasLimit:r.default.string,balanceError:r.default.bool,gasErrors:r.default.object,txParamsHaveBeenCustomized:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-display/edit-gas-display.component.js"}],[5474,{"./edit-gas-display.component":5473},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-display.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-display/index.js"}],[5475,{"../../../../../shared/constants/gas":4429,"../../../../components/component-library":4879,"../../../../components/ui/info-tooltip/info-tooltip":5172,"../../../../contexts/gasFee":5245,"../../../../contexts/transaction-modal":5253,"../../../../helpers/constants/design-system":5277,"../../../../helpers/constants/gas":5279,"../../../../hooks/useI18nContext":5348,"../../hooks/useTransactionEventFragment":5632,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=m(e("react")),r=m(e("prop-types")),o=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../helpers/constants/gas"),l=e("../../../../contexts/gasFee"),c=e("../../../../hooks/useI18nContext"),u=e("../../hooks/useTransactionEventFragment"),d=e("../../../../contexts/transaction-modal"),p=m(e("../../../../components/ui/info-tooltip/info-tooltip")),f=e("../../../../components/component-library");function m(e){return e&&e.__esModule?e:{default:e}}function g({userAcknowledgedGasMissing:e}){const t=(0,c.useI18nContext)(),{editGasMode:n,gasLimit:r,hasSimulationError:m,estimateUsed:g,maxFeePerGas:h,maxPriorityFeePerGas:y,supportsEIP1559:v,transaction:b}=(0,l.useGasFeeContext)(),{updateTransactionEventFragment:T}=(0,u.useTransactionEventFragment)(),{openModal:_}=(0,d.useTransactionModalContext)();if(!v||!g||!(!m||!0===e))return null;let k=g,x=g;g===o.PriorityLevels.high&&n===o.EditGasModes.swaps?(k="swapSuggested",x="swapSuggested"):g===o.PriorityLevels.tenPercentIncreased&&(k=undefined,x="tenPercentIncreased");return a.default.createElement("div",{className:"edit-gas-fee-button"},a.default.createElement("button",{onClick:()=>{T({gas_edit_attempted:"basic"}),_("editGasFee")},"data-testid":"edit-gas-fee-button"},k&&a.default.createElement("span",{className:"edit-gas-fee-button__icon"},i.PRIORITY_LEVEL_ICON_MAP[k]),a.default.createElement("span",{className:"edit-gas-fee-button__label"},t(x)),a.default.createElement(f.Icon,{name:f.IconName.ArrowRight,color:s.Color.primaryDefault,size:f.IconSize.Xs})),"custom"===g&&a.default.createElement("button",{onClick:()=>{T({gas_edit_attempted:"advanced"}),_("advancedGasFee")}},t("edit")),"dappSuggested"===g&&a.default.createElement(p.default,{contentText:a.default.createElement("div",{className:"edit-gas-fee-button__tooltip"},(null==b?void 0:b.origin)&&a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},t("dappSuggestedTooltip",[b.origin])),a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("maxFee"))," ",h),a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("maxPriorityFee"))," ",y),a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("gasLimit"))," ",r)),position:"top"}))}g.propTypes={userAcknowledgedGasMissing:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-button/edit-gas-fee-button.js"}],[5476,{"./edit-gas-fee-button":5475},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-button/index.js"}],[5477,{"../../../../components/component-library":4879,"../../../../contexts/gasFee":5245,"../../../../contexts/transaction-modal":5253,"../../../../helpers/constants/design-system":5277,"../../hooks/useTransactionEventFragment":5632,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../contexts/gasFee"),s=e("../../hooks/useTransactionEventFragment"),i=e("../../../../contexts/transaction-modal"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d({userAcknowledgedGasMissing:e=!1}){const{hasSimulationError:t,estimateUsed:n,supportsEIP1559:r}=(0,o.useGasFeeContext)(),{updateTransactionEventFragment:u}=(0,s.useTransactionEventFragment)(),{openModal:d}=(0,i.useTransactionModalContext)();if(!r||!n||!(!t||e))return null;return a.default.createElement(l.Button,{style:{textDecoration:"none",height:"var(--typography-l-body-md-medium-line-height)"},size:c.Size.SM,variant:l.ButtonVariant.Link,startIconName:l.IconName.Edit,color:c.IconColor.primaryDefault,alignItems:c.AlignItems.baseline,paddingTop:1,"data-testid":"edit-gas-fee-icon",onClick:()=>{u({gas_edit_attempted:"basic"}),d("editGasFee")}})}d.propTypes={userAcknowledgedGasMissing:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-icon/edit-gas-fee-icon.js"}],[5478,{"../../../../../shared/constants/gas":4429,"../../../../components/app/app-loading-spinner":4512,"../../../../components/component-library":4879,"../../../../components/ui/box":5118,"../../../../components/ui/error-message":5145,"../../../../components/ui/popover":5203,"../../../../contexts/gasFee":5245,"../../../../contexts/transaction-modal":5253,"../../../../helpers/constants/design-system":5277,"../../../../helpers/constants/error-keys":5278,"../../../../helpers/constants/zendesk-url":5290,"../../../../hooks/useI18nContext":5348,"./edit-gas-item":5480,"./network-statistics":5485,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=v(e("react")),r=e("../../../../../shared/constants/gas"),o=e("../../../../hooks/useI18nContext"),s=e("../../../../contexts/transaction-modal"),i=v(e("../../../../components/ui/box")),l=v(e("../../../../components/ui/error-message")),c=v(e("../../../../components/ui/popover")),u=e("../../../../helpers/constants/design-system"),d=e("../../../../helpers/constants/error-keys"),p=e("../../../../contexts/gasFee"),f=v(e("../../../../components/app/app-loading-spinner")),m=v(e("../../../../helpers/constants/zendesk-url")),g=e("../../../../components/component-library"),h=v(e("./edit-gas-item")),y=v(e("./network-statistics"));function v(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{balanceError:e,editGasMode:t}=(0,p.useGasFeeContext)(),n=(0,o.useI18nContext)(),{closeAllModals:v,closeModal:b,currentModal:T,openModalCount:_}=(0,s.useTransactionModalContext)();if("editGasFee"!==T)return null;let k="editGasFeeModalTitle";return t===r.EditGasModes.cancel?k="editCancellationGasFeeModalTitle":t===r.EditGasModes.speedUp&&(k="editSpeedUpEditGasFeeModalTitle"),a.default.createElement(c.default,{title:n(k),onBack:1===_?undefined:()=>b(["editGasFee"]),onClose:v,className:"edit-gas-fee-popover"},a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,null),a.default.createElement("div",{className:"edit-gas-fee-popover__wrapper"},a.default.createElement("div",{className:"edit-gas-fee-popover__content"},a.default.createElement(i.default,null,e&&a.default.createElement(l.default,{errorKey:d.INSUFFICIENT_FUNDS_ERROR_KEY}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__header"},a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-option"},n("gasOption")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-time"},t!==r.EditGasModes.swaps&&n("time")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-max-fee"},n("maxFee"))),(t===r.EditGasModes.cancel||t===r.EditGasModes.speedUp)&&a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.tenPercentIncreased}),t===r.EditGasModes.modifyInPlace&&a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.low}),a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.medium}),a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.high}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__separator"}),t===r.EditGasModes.modifyInPlace&&a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.dAppSuggested}),a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.custom})),a.default.createElement(i.default,null,a.default.createElement(y.default,null),a.default.createElement(g.Text,{className:"edit-gas-fee-popover__know-more",align:"center",color:u.TextColor.textAlternative,tag:u.TextVariant.bodyMd,variant:u.TextVariant.bodySm,as:"h6"},n("learnMoreAboutGas",[a.default.createElement("a",{key:"learnMoreLink",target:"_blank",rel:"noopener noreferrer",href:m.default.USER_GUIDE_GAS},n("learnMore"))])))))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-fee-popover.js"}],[5479,{"../../../../../../shared/constants/gas":4429,"../../../../../components/app/user-preferenced-currency-display":4804,"../../../../../components/ui/info-tooltip":5170,"../../../../../components/ui/loading-heartbeat":5175,"../../../../../contexts/gasFee":5245,"../../../../../contexts/transaction-modal":5253,"../../../../../helpers/constants/common":5275,"../../../../../helpers/constants/gas":5279,"../../../../../helpers/utils/util":5321,"../../../../../hooks/useI18nContext":5348,"../../../hooks/useTransactionEventFragment":5632,"../edit-gas-tooltip/edit-gas-tooltip":5483,"./useGasItemFeeDetails":5482,classnames:3004,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=b(e("classnames")),r=b(e("prop-types")),o=b(e("react")),s=e("../../../../../../shared/constants/gas"),i=e("../../../../../helpers/constants/gas"),l=e("../../../../../helpers/constants/common"),c=e("../../../../../helpers/utils/util"),u=e("../../../../../contexts/gasFee"),d=e("../../../../../hooks/useI18nContext"),p=e("../../../hooks/useTransactionEventFragment"),f=e("../../../../../contexts/transaction-modal"),m=b(e("../../../../../components/ui/info-tooltip")),g=b(e("../../../../../components/ui/loading-heartbeat")),h=b(e("../../../../../components/app/user-preferenced-currency-display")),y=b(e("../edit-gas-tooltip/edit-gas-tooltip")),v=e("./useGasItemFeeDetails");function b(e){return e&&e.__esModule?e:{default:e}}const T=({priorityLevel:e})=>{const{editGasMode:t,estimateUsed:n,gasLimit:r,updateTransactionToTenPercentIncreasedGasFee:b,updateTransactionUsingDAPPSuggestedValues:T,updateTransactionUsingEstimate:_,transaction:k}=(0,u.useGasFeeContext)(),{updateTransactionEventFragment:x}=(0,p.useTransactionEventFragment)(),E=(0,d.useI18nContext)(),{closeModal:w,openModal:C}=(0,f.useTransactionModalContext)(),{dappSuggestedGasFees:S}=k,{estimateGreaterThanGasUse:P,hexMaximumTransactionFee:M,maxFeePerGas:O,maxPriorityFeePerGas:I,minWaitTime:N}=(0,v.useGasItemFeeDetails)(e);if(!(e!==s.PriorityLevels.dAppSuggested||null!=S&&S.maxFeePerGas||null!=S&&S.gasPrice))return null;const{title:j,icon:A}=((e,t)=>{let n=e,a=e;return e===s.PriorityLevels.dAppSuggested?a="dappSuggestedShortLabel":e===s.PriorityLevels.dappSuggestedHigh?a="dappSuggestedHighShortLabel":e===s.PriorityLevels.tenPercentIncreased?(n=null,a="tenPercentIncreased"):e===s.PriorityLevels.high&&t===s.EditGasModes.swaps&&(n="swapSuggested",a="swapSuggested"),{title:a,icon:n}})(e,t);return o.default.createElement("button",{className:(0,a.default)("edit-gas-item",{"edit-gas-item--selected":e===n,"edit-gas-item--disabled":P}),onClick:()=>{e===s.PriorityLevels.custom?(x({properties:{gas_edit_attempted:"advanced"}}),C("advancedGasFee")):(x({properties:{gas_edit_type:"basic"}}),w(["editGasFee"]),e===s.PriorityLevels.tenPercentIncreased?b():e===s.PriorityLevels.dAppSuggested?T():_(e))},"aria-label":e,autoFocus:e===n,disabled:P,"data-testid":`edit-gas-fee-item-${e}`},o.default.createElement("span",{className:"edit-gas-item__name"},A&&o.default.createElement("span",{className:`edit-gas-item__icon edit-gas-item__icon-${e}`},i.PRIORITY_LEVEL_ICON_MAP[A]),E(j)),o.default.createElement("span",{className:`edit-gas-item__time-estimate edit-gas-item__time-estimate-${e}`},t!==s.EditGasModes.swaps&&(N?(0,c.toHumanReadableTime)(E,N):"--")),o.default.createElement("span",{className:`edit-gas-item__fee-estimate edit-gas-item__fee-estimate-${e}`},M?o.default.createElement("div",{className:"edit-gas-item__maxfee"},o.default.createElement(g.default,{backgroundColor:e===n?"var(--color-background-alternative)":"var(--color-background-default)",estimateUsed:e}),o.default.createElement(h.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:M})):"--"),o.default.createElement("span",{className:"edit-gas-item__tooltip","data-testid":"gas-tooltip"},o.default.createElement(m.default,{contentText:o.default.createElement(y.default,{t:E,priorityLevel:e,maxFeePerGas:O,maxPriorityFeePerGas:I,editGasMode:t,gasLimit:r,transaction:k,estimateGreaterThanGasUse:P}),position:"top"})))};T.propTypes={priorityLevel:r.default.string};n.default=T}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-item/edit-gas-item.js"}],[5480,{"./edit-gas-item":5479},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-item/index.js"}],[5481,{"../../../../../../shared/constants/gas":4429,"../../../../../ducks/metamask/metamask":5268,"../../../../../store/actions":5911,"bignumber.js":2888,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCustomTimeEstimate=void 0;var a,r=e("react"),o=e("react-redux"),s=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("../../../../../../shared/constants/gas"),l=e("../../../../../ducks/metamask/metamask"),c=e("../../../../../store/actions");n.useCustomTimeEstimate=({gasFeeEstimates:e,maxFeePerGas:t,maxPriorityFeePerGas:n})=>{var a;const u=(0,o.useSelector)(l.getGasEstimateType),d=(0,o.useSelector)(l.getIsGasEstimatesLoading),[p,f]=(0,r.useState)(null),m=d||u!==i.GasEstimateTypes.feeMarket||!n,g=(null==e?void 0:e.low)&&Number(n)<Number(e.low.suggestedMaxPriorityFeePerGas);if((0,r.useEffect)((()=>{!d&&u===i.GasEstimateTypes.feeMarket&&n&&g&&(0,c.getGasFeeTimeEstimate)(new s.default(n,10).toString(10),new s.default(t,10).toString(10)).then((e=>{f(e)}))}),[u,g,d,t,n,m]),m)return{};let h="";if(g&&p&&"unknown"!==p&&"unknown"!==(null==p?void 0:p.upperTimeBound))h=Number(null==p?void 0:p.upperTimeBound);else if(Number(n)>=Number(null==e||null===(a=e.medium)||void 0===a?void 0:a.suggestedMaxPriorityFeePerGas)){var y;h=null==e||null===(y=e.high)||void 0===y?void 0:y.minWaitTimeEstimate}else{var v;h=null==e||null===(v=e.low)||void 0===v?void 0:v.maxWaitTimeEstimate}return{waitTimeEstimate:h}}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-item/useCustomTimeEstimate.js"}],[5482,{"../../../../../../shared/constants/gas":4429,"../../../../../../shared/modules/conversion.utils":4465,"../../../../../../shared/modules/gas.utils":4471,"../../../../../contexts/gasFee":5245,"../../../../../helpers/utils/gas":5306,"../../../../../selectors":5900,"./useCustomTimeEstimate":5481,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasItemFeeDetails=void 0;var a=e("react"),r=e("react-redux"),o=e("../../../../../../shared/constants/gas"),s=e("../../../../../../shared/modules/gas.utils"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../selectors"),c=e("../../../../../contexts/gasFee"),u=e("../../../../../../shared/modules/conversion.utils"),d=e("./useCustomTimeEstimate");n.useGasItemFeeDetails=e=>{const{editGasMode:t,estimateUsed:n,gasFeeEstimates:p,gasLimit:f,maxFeePerGas:m,maxPriorityFeePerGas:g,transaction:h}=(0,c.useGasFeeContext)(),[y,v]=(0,a.useState)(!1),b=(0,r.useSelector)(l.getAdvancedGasFeeValues);let T,_,k;const{dappSuggestedGasFees:x}=h;if(null!=p&&p[e])T=p[e].suggestedMaxFeePerGas,_=p[e].suggestedMaxPriorityFeePerGas;else if(e===o.PriorityLevels.dAppSuggested&&x)T=(0,u.hexWEIToDecGWEI)(x.maxFeePerGas||x.gasPrice),_=(0,u.hexWEIToDecGWEI)(x.maxPriorityFeePerGas||T);else if(e===o.PriorityLevels.custom)n===o.PriorityLevels.custom?(T=m,_=g):b&&t!==o.EditGasModes.swaps&&(T=b.maxBaseFee,_=b.priorityFee);else if(e===o.PriorityLevels.tenPercentIncreased&&h.previousGas){var E,w;T=(0,u.hexWEIToDecGWEI)((0,i.addTenPercentAndRound)(null===(E=h.previousGas)||void 0===E?void 0:E.maxFeePerGas)),_=(0,u.hexWEIToDecGWEI)((0,i.addTenPercentAndRound)(null===(w=h.previousGas)||void 0===w?void 0:w.maxPriorityFeePerGas))}const{waitTimeEstimate:C}=(0,d.useCustomTimeEstimate)({gasFeeEstimates:p,maxFeePerGas:T,maxPriorityFeePerGas:_});k=null!=p&&p[e]?e===o.PriorityLevels.high?null==p?void 0:p.high.minWaitTimeEstimate:null==p?void 0:p.low.maxWaitTimeEstimate:C;const S=T?(0,s.getMaximumGasTotalInHexWei)({gasLimit:(0,u.decimalToHex)(f),maxFeePerGas:(0,u.decGWEIToHexWEI)(T)}):null;return(0,a.useEffect)((()=>{if(!(t!==o.EditGasModes.cancel&&t!==o.EditGasModes.speedUp||e!==o.PriorityLevels.medium&&e!==o.PriorityLevels.high)){const t=!(0,i.gasEstimateGreaterThanGasUsedPlusTenPercent)(h.previousGas||h.txParams,p,e);v(t)}}),[t,p,e,h]),{estimateGreaterThanGasUse:y,maxFeePerGas:T,maxPriorityFeePerGas:_,minWaitTime:k,hexMaximumTransactionFee:S}}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-item/useGasItemFeeDetails.js"}],[5483,{"../../../../../../shared/constants/gas":4429,"../../../../../components/component-library":4879,"../../../../../helpers/constants/design-system":5277,"../../../../../helpers/utils/gas":5306,"../../../../../helpers/utils/util":5321,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../../../shared/constants/gas"),i=e("../../../../../helpers/constants/design-system"),l=e("../../../../../helpers/utils/gas"),c=e("../../../../../helpers/utils/util"),u=e("../../../../../components/component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({editGasMode:e,estimateGreaterThanGasUse:t,gasLimit:n,priorityLevel:a,maxFeePerGas:o,maxPriorityFeePerGas:d,transaction:p,t:f})=>{const m=(0,r.useMemo)((()=>{switch(a){case s.PriorityLevels.low:return f("lowGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("low")))]);case s.PriorityLevels.medium:return t?f("disabledGasOptionToolTipMessage",[r.default.createElement("span",{key:`disabled-priority-level-${a}`},f(a))]):f("mediumGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("medium")))]);case s.PriorityLevels.high:return t?f("disabledGasOptionToolTipMessage",[r.default.createElement("span",{key:`disabled-priority-level-${a}`},f(a))]):e===s.EditGasModes.swaps?f("swapSuggestedGasSettingToolTipMessage"):f("highGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("high")))]);case s.PriorityLevels.custom:return f("customGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("custom")))]);case s.PriorityLevels.dAppSuggested:return null!=p&&p.origin?f("dappSuggestedGasSettingToolTipMessage",[r.default.createElement("span",{key:null==p?void 0:p.origin},null==p?void 0:p.origin)]):null;default:return""}}),[e,t,a,p,f]);let g;a===s.PriorityLevels.low?g=f("curveLowGasEstimate"):a===s.PriorityLevels.medium?g=f("curveMediumGasEstimate"):a===s.PriorityLevels.high&&(g=f("curveHighGasEstimate"));const h=(0,l.isMetamaskSuggestedGasEstimate)(a)&&!(a===s.PriorityLevels.high&&e===s.EditGasModes.swaps)&&!t;return r.default.createElement("div",{className:"edit-gas-tooltip__container"},h?r.default.createElement("img",{alt:g,src:`./images/curve-${a}.svg`}):null,m&&r.default.createElement("div",{className:"edit-gas-tooltip__container__message"},r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6"},m)),a===s.PriorityLevels.custom||t?null:r.default.createElement("div",{className:"edit-gas-tooltip__container__values"},r.default.createElement("div",null,r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",fontWeight:i.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("maxBaseFee")),o&&r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(o,4))),r.default.createElement("div",null,r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",fontWeight:i.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("priorityFeeProperCase")),d&&r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(d,4))),r.default.createElement("div",null,r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",fontWeight:i.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("gasLimit")),n&&r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(n,4)))))};p.propTypes={estimateGreaterThanGasUse:o.default.bool,priorityLevel:o.default.string,maxFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),maxPriorityFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),t:o.default.func,editGasMode:o.default.string,gasLimit:o.default.number,transaction:o.default.object};n.default=p}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-tooltip/edit-gas-tooltip.js"}],[5484,{"./edit-gas-fee-popover":5478},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/index.js"}],[5485,{"./network-statistics":5486},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-statistics"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/network-statistics/index.js"}],[5486,{"../../../../../components/component-library":4879,"../../../../../contexts/gasFee":5245,"../../../../../contexts/i18n":5246,"../../../../../helpers/constants/design-system":5277,"../../../../../helpers/utils/gas":5306,"../../../../../helpers/utils/util":5321,"./status-slider":5487,"./tooltips":5489,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../../../helpers/constants/design-system"),s=e("../../../../../helpers/utils/util"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../contexts/i18n"),c=e("../../../../../contexts/gasFee"),u=e("../../../../../components/component-library"),d=e("./tooltips"),p=(a=e("./status-slider"))&&a.__esModule?a:{default:a};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useContext)(l.I18nContext),{gasFeeEstimates:t}=(0,c.useGasFeeContext)(),n=(0,i.formatGasFeeOrFeeRange)(null==t?void 0:t.estimatedBaseFee,{precision:0}),a=(0,i.formatGasFeeOrFeeRange)(null==t?void 0:t.latestPriorityFeeRange,{precision:[1,0]}),f=null==t?void 0:t.networkCongestion;return r.default.createElement("div",{className:"network-statistics"},r.default.createElement(u.Text,{color:o.TextColor.textAlternative,fontWeight:o.FontWeight.Bold,marginTop:3,marginBottom:3,variant:o.TextVariant.bodyXs,as:"h6"},e("networkStatus")),r.default.createElement("div",{className:"network-statistics__info"},(0,s.isNullish)(n)?null:r.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-base-fee"},r.default.createElement(d.BaseFeeTooltip,null,r.default.createElement("span",{className:"network-statistics__field-data"},n),r.default.createElement("span",{className:"network-statistics__field-label"},e("baseFee")))),(0,s.isNullish)(a)?null:r.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-priority-fee-range"},r.default.createElement(d.PriorityFeeTooltip,null,r.default.createElement("span",{className:"network-statistics__field-data"},a),r.default.createElement("span",{className:"network-statistics__field-label"},e("priorityFee")))),(0,s.isNullish)(f)?null:r.default.createElement("div",{className:"network-statistics__field"},r.default.createElement(p.default,null))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/network-statistics/network-statistics.js"}],[5487,{"./status-slider":5488},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./status-slider"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/network-statistics/status-slider/index.js"}],[5488,{"../../../../../../../shared/constants/gas":4429,"../../../../../../contexts/gasFee":5245,"../../../../../../hooks/useI18nContext":5348,"../tooltips":5489,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../../shared/constants/gas"),s=e("../../../../../../contexts/gasFee"),i=e("../../../../../../hooks/useI18nContext"),l=e("../tooltips");const c=["#037DD6","#1876C8","#2D70BA","#4369AB","#57629E","#6A5D92","#805683","#9A4D71","#B44561","#C54055","#D73A49"];n.default=()=>{const e=(0,i.useI18nContext)(),{gasFeeEstimates:t}=(0,s.useGasFeeContext)(),n=(e=>{const t=e??.5,n=Math.round(10*t),a=c[n],r=10*n;return t>=o.NetworkCongestionThresholds.busy?{statusLabel:"busy",tooltipLabel:"highLowercase",color:a,sliderTickValue:r}:t>=o.NetworkCongestionThresholds.stable?{statusLabel:"stable",tooltipLabel:"stableLowercase",color:a,sliderTickValue:r}:{statusLabel:"notBusy",tooltipLabel:"lowLowercase",color:a,sliderTickValue:r}})(t.networkCongestion);return r.default.createElement(l.NetworkStabilityTooltip,{color:n.color,tooltipLabel:n.tooltipLabel},r.default.createElement("div",{className:"status-slider"},r.default.createElement("div",{className:"status-slider__arrow-container"},r.default.createElement("div",{className:"status-slider__arrow-border",style:{marginLeft:`${n.sliderTickValue}%`},"data-testid":"status-slider-arrow-border"},r.default.createElement("div",{className:"status-slider__arrow",style:{borderTopColor:n.color},"data-testid":"status-slider-arrow"}))),r.default.createElement("div",{className:"status-slider__line"}),r.default.createElement("div",{className:"status-slider__label",style:{color:n.color},"data-testid":"status-slider-label"},e(n.statusLabel))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/network-statistics/status-slider/status-slider.js"}],[5489,{"../../../../../components/ui/box":5118,"../../../../../components/ui/tooltip":5232,"../../../../../helpers/constants/design-system":5277,"../../../../../hooks/useI18nContext":5348,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityFeeTooltip=n.NetworkStabilityTooltip=n.BaseFeeTooltip=void 0;var a=c(e("react")),r=c(e("prop-types")),o=e("../../../../../hooks/useI18nContext"),s=c(e("../../../../../components/ui/box")),i=c(e("../../../../../components/ui/tooltip")),l=e("../../../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}const u=({children:e,html:t,title:n})=>a.default.createElement(i.default,{position:"top",html:t,title:n},a.default.createElement(s.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN},e));u.propTypes={children:r.default.node.isRequired,html:r.default.node,title:r.default.string};const d=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(u,{html:t("networkStatusBaseFeeTooltip",[a.default.createElement("strong",{key:"base_fee_medium_estimate",className:"network-status__tooltip-label"},t("medium")),a.default.createElement("strong",{key:"base_fee_high_estimate",className:"network-status__tooltip-label"},t("high"))])},e)};n.BaseFeeTooltip=d,d.propTypes={children:r.default.node.isRequired};const p=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(u,{title:t("networkStatusPriorityFeeTooltip")},e)};n.PriorityFeeTooltip=p,p.propTypes={children:r.default.node.isRequired};const f=({children:e,color:t,tooltipLabel:n})=>{const r=(0,o.useI18nContext)();return a.default.createElement(u,{html:r("networkStatusStabilityFeeTooltip",[a.default.createElement("strong",{key:"network-status__tooltip",className:"network-status__tooltip-label",style:{color:t}},r(n))])},e)};n.NetworkStabilityTooltip=f,f.propTypes={children:r.default.node.isRequired,color:r.default.string.isRequired,tooltipLabel:r.default.string.isRequired}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/network-statistics/tooltips.js"}],[5490,{"../../../../../shared/constants/gas":4429,"../../../../../shared/modules/conversion.utils":4465,"../../../../../shared/modules/transaction.utils":4488,"../../../../components/component-library":4879,"../../../../components/component-library/modal-content/deprecated":4887,"../../../../components/component-library/modal-header/deprecated":4896,"../../../../components/ui/loading-heartbeat":5175,"../../../../contexts/i18n":5246,"../../../../store/actions":5911,"../../hooks/useGasFeeInputs":5623,"../../hooks/useIncrementedGasFees":5625,"../edit-gas-display":5474,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=v(e("prop-types")),o=e("react-redux"),s=e("../../hooks/useGasFeeInputs"),i=e("../../../../../shared/modules/transaction.utils"),l=e("../../../../../shared/constants/gas"),c=e("../../../../components/component-library"),u=e("../../../../components/component-library/modal-content/deprecated"),d=e("../../../../components/component-library/modal-header/deprecated"),p=v(e("../edit-gas-display")),f=e("../../../../contexts/i18n"),m=e("../../../../store/actions"),g=v(e("../../../../components/ui/loading-heartbeat")),h=e("../../hooks/useIncrementedGasFees"),y=e("../../../../../shared/modules/conversion.utils");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(this,arguments)}function _({popoverTitle:e="",confirmButtonText:t="",editGasDisplayProps:n={},transaction:r,mode:v,onClose:b,minimumGasLimit:_=l.GAS_LIMITS.SIMPLE}){const k=(0,a.useContext)(f.I18nContext),x=(0,o.useDispatch)(),[E,w]=(0,a.useState)(!1),C=(0,y.hexToDecimal)(_),S=(0,h.useIncrementedGasFees)(r);let P=r;v!==l.EditGasModes.speedUp&&v!==l.EditGasModes.cancel||(P={...r,userFeeLevel:l.CUSTOM_GAS_ESTIMATE,txParams:{...r.txParams,...S}});const{estimatedMinimumNative:M,gasPrice:O,setGasPrice:I,gasLimit:N,setGasLimit:j,properGasLimit:A,estimateToUse:D,hasGasErrors:F,gasErrors:R,onManualChange:B,balanceError:L}=(0,s.useGasFeeInputs)(l.GasRecommendations.medium,P,_,v),$=D===l.CUSTOM_GAS_ESTIMATE||(0,i.txParamsAreDappSuggested)(P),G=(0,a.useCallback)((()=>{b?b():x((0,m.hideModal)())}),[b,x]),W=(0,a.useCallback)((async()=>{P&&v||G();const e={gas:(0,y.decimalToHex)(N),gasLimit:(0,y.decimalToHex)(N),estimateUsed:D,gasPrice:(0,y.decGWEIToHexWEI)(O)},t={...P.txParams},n={...P,userEditedGasLimit:N!==Number(r.originalGasEstimate),userFeeLevel:D||l.CUSTOM_GAS_ESTIMATE,txParams:{...t,...e}};switch(v){case l.EditGasModes.cancel:x((0,m.createCancelTransaction)(P.id,e));break;case l.EditGasModes.speedUp:x((0,m.createSpeedUpTransaction)(P.id,e));break;case l.EditGasModes.modifyInPlace:e.userEditedGasLimit=n.userEditedGasLimit,e.userFeeLevel=n.userFeeLevel,x((0,m.showLoadingIndication)()),await x((0,m.updateTransactionGasFees)(n.id,e)),x((0,m.hideLoadingIndication)())}G()}),[P,v,x,G,N,O,r.originalGasEstimate,D]);let q=k("editGasTitle");e?q=e:v===l.EditGasModes.speedUp?q=k("speedUpPopoverTitle"):v===l.EditGasModes.cancel&&(q=k("cancelPopoverTitle"));const U=t||k("save");return a.default.createElement(c.Modal,{isOpen:!0,onClose:G},a.default.createElement(c.ModalOverlay,null),a.default.createElement(u.ModalContent,{autoFocus:!1,className:"edit-gas-popover"},a.default.createElement(d.ModalHeader,{onClose:G,marginBottom:4},q),a.default.createElement("div",{className:"edit-gas-popover__edit-gas-display"},a.default.createElement(g.default,null),a.default.createElement(p.default,T({dappSuggestedGasFeeAcknowledged:E,setDappSuggestedGasFeeAcknowledged:w,estimatedMinimumNative:M,gasPrice:O,setGasPrice:I,gasLimit:N,setGasLimit:j,properGasLimit:A,mode:v,transaction:P,onManualChange:B,minimumGasLimit:C,balanceError:L,txParamsHaveBeenCustomized:$,gasErrors:R},n))),a.default.createElement(c.Button,{block:!0,variant:c.ButtonVariant.Primary,size:c.ButtonSize.LG,marginTop:4,onClick:W,disabled:F||L||!$},U)))}_.propTypes={popoverTitle:r.default.string,editGasDisplayProps:r.default.object,confirmButtonText:r.default.string,onClose:r.default.func,transaction:r.default.object,mode:r.default.oneOf(Object.values(l.EditGasModes)),minimumGasLimit:r.default.string}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-popover/edit-gas-popover.component.js"}],[5491,{"./edit-gas-popover.component":5490},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-popover.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-popover/index.js"}],[5492,{"../../../../../shared/modules/conversion.utils":4465,"../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":4805,"../../../../components/component-library":4879,"../../../../components/ui/loading-heartbeat":5175,"../../../../contexts/gasFee":5245,"../../../../helpers/constants/common":5275,"../../../../helpers/constants/design-system":5277,"../../../../hooks/useI18nContext":5348,"../../../../selectors":5900,"../transaction-detail-item/transaction-detail-item.component":5557,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=h(e("prop-types")),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library"),l=h(e("../transaction-detail-item/transaction-detail-item.component")),c=e("../../../../selectors"),u=e("../../../../hooks/useI18nContext"),d=h(e("../../../../components/ui/loading-heartbeat")),p=h(e("../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),f=e("../../../../helpers/constants/common"),m=e("../../../../../shared/modules/conversion.utils"),g=e("../../../../contexts/gasFee");function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({txData:e,useCurrencyRateCheck:t,hideGasDetails:n=!1}){const o=(null==e?void 0:e.layer1GasFee)??null,[h,y]=(0,a.useState)(!1),{useNativeCurrencyAsPrimaryCurrency:v}=(0,r.useSelector)(c.getPreferences),b=(0,u.useI18nContext)(),{minimumCostInHexWei:T}=(0,g.useGasFeeContext)(),_=(0,a.useMemo)((()=>(0,m.addHexes)(T,o??0)),[T,o]),k=(0,a.useCallback)((t=>a.default.createElement("div",{className:"confirm-page-container-content__total-value"},a.default.createElement(d.default,{estimateUsed:null==e?void 0:e.userFeeLevel}),a.default.createElement(p.default,{type:f.SECONDARY,key:"total-detail-text",value:t,suffixProps:{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySmBold},textProps:{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySmBold},hideLabel:Boolean(v)}))),[e,v]),x=(0,a.useCallback)((t=>a.default.createElement(i.Box,{className:"confirm-page-container-content__total-value"},a.default.createElement(d.default,{estimateUsed:null==e?void 0:e.userFeeLevel}),a.default.createElement(p.default,{type:f.PRIMARY,key:"total-detail-value",value:t,suffixProps:{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySm},textProps:{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySm},hideLabel:!v}))),[e,v]),E=null!==o;return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,flexDirection:s.FlexDirection.Column},!n&&E&&a.default.createElement(i.Box,{paddingTop:4,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},a.default.createElement(i.Button,{style:{textDecoration:"none"},size:s.Size.Xs,variant:i.ButtonVariant.Link,endIconName:h?i.IconName.ArrowUp:i.IconName.ArrowDown,color:s.IconColor.iconAlternative,"data-testid":"expand-fee-details-button",onClick:()=>y(!h)},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium,color:s.TextColor.textAlternative,paddingInlineEnd:1},b("feeDetails"))))),!n&&h&&a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,paddingTop:4},E&&a.default.createElement(l.default,{detailTitle:a.default.createElement(i.Text,{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySmMedium},b("layer2Fees")),detailText:t&&k(T),detailTotal:x(T)}),o&&a.default.createElement(l.default,{detailTitle:a.default.createElement(i.Text,{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySmMedium},b("layer1Fees")),detailText:t&&k(o),detailTotal:x(o)}),!E&&a.default.createElement(l.default,{detailTitle:b("total"),detailText:t&&k(_),detailTotal:x(_)})))}v.propTypes={txData:o.default.object,useCurrencyRateCheck:o.default.bool,hideGasDetails:o.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/fee-details-component/fee-details-component.js"}],[5493,{"../../../../../shared/constants/gas":4429,"../../../../../shared/modules/conversion.utils":4465,"../../../../components/app/user-preferenced-currency-display":4804,"../../../../components/component-library":4879,"../../../../components/ui/box":5118,"../../../../components/ui/loading-heartbeat":5175,"../../../../components/ui/tooltip":5232,"../../../../contexts/gasFee":5245,"../../../../ducks/send":5270,"../../../../helpers/constants/common":5275,"../../../../helpers/constants/design-system":5277,"../../../../hooks/useI18nContext":5348,"../../../../selectors":5900,"../../hooks/useDraftTransactionWithTxParams":5620,"../edit-gas-fee-icon/edit-gas-fee-icon":5477,"../gas-timing/gas-timing.component":5495,"../transaction-detail-item/transaction-detail-item.component":5557,classnames:3004,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=E(e("prop-types")),o=E(e("classnames")),s=e("react-redux"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/constants/common"),u=e("../../../../../shared/constants/gas"),d=e("../../../../selectors"),p=e("../../../../ducks/send"),f=e("../../../../../shared/modules/conversion.utils"),m=e("../../hooks/useDraftTransactionWithTxParams"),g=e("../../../../contexts/gasFee"),h=e("../../../../hooks/useI18nContext"),y=E(e("../../../../components/ui/box")),v=E(e("../../../../components/ui/loading-heartbeat")),b=E(e("../edit-gas-fee-icon/edit-gas-fee-icon")),T=E(e("../gas-timing/gas-timing.component")),_=E(e("../transaction-detail-item/transaction-detail-item.component")),k=E(e("../../../../components/app/user-preferenced-currency-display")),x=E(e("../../../../components/ui/tooltip"));function E(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const C=({"data-testid":e,userAcknowledgedGasMissing:t=!1})=>{var n,r;const E=(0,h.useI18nContext)(),w=(0,s.useSelector)(d.getTxData),{layer1GasFee:C}=w,S=(0,s.useSelector)(p.getCurrentDraftTransaction),P=(0,m.useDraftTransactionWithTxParams)(),{hexMinimumTransactionFee:M,hexMaximumTransactionFee:O}=(0,s.useSelector)((e=>(0,d.transactionFeeSelector)(e,P))),{estimateUsed:I,hasSimulationError:N,isNetworkBusy:j,maximumCostInHexWei:A,minimumCostInHexWei:D,maxPriorityFeePerGas:F,maxFeePerGas:R,supportsEIP1559:B}=(0,g.useGasFeeContext)(),{useNativeCurrencyAsPrimaryCurrency:L}=(0,s.useSelector)(d.getPreferences),$=(0,s.useSelector)(d.getUseCurrencyRateCheck),G=(0,a.useMemo)((()=>C?(0,f.sumHexes)(D,C):D),[D,C]),W=(0,a.useMemo)((()=>C?(0,f.sumHexes)(A,C):A),[A,C]);if(N&&!t)return null;const q=(F??(0,f.hexWEIToDecGWEI)((null===(n=P.txParams)||void 0===n?void 0:n.maxPriorityFeePerGas)??"0x0")).toString(),U=(R??(0,f.hexWEIToDecGWEI)((null===(r=P.txParams)||void 0===r?void 0:r.maxFeePerGas)??"0x0")).toString();return a.default.createElement(_.default,{key:"gas-details-item","data-testid":e,detailTitle:B&&j?a.default.createElement(a.default.Fragment,null,E("estimatedFee"),a.default.createElement(x.default,{wrapperClassName:"gas-details-item__dangerTooltip",interactive:!0,position:"top",html:E("networkIsBusy")},a.default.createElement(i.Icon,{"data-testid":"network-busy-tooltip",name:i.IconName.Danger,size:i.IconSize.Sm,color:l.IconColor.errorDefault}))):a.default.createElement(a.default.Fragment,null,E("estimatedFee")),detailText:0===Object.keys(S).length&&a.default.createElement("div",{className:"gas-details-item__currency-container",style:{width:"100%"}},a.default.createElement(v.default,{estimateUsed:I}),a.default.createElement(b.default,{userAcknowledgedGasMissing:t}),$&&a.default.createElement(k.default,{paddingInlineStart:1,suffixProps:{variant:l.TextVariant.bodyMdBold},textProps:{variant:l.TextVariant.bodyMdBold},type:c.SECONDARY,value:G,hideLabel:Boolean(L)})),detailTotal:a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(v.default,{estimateUsed:I}),a.default.createElement(k.default,{suffixProps:{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},textProps:{variant:l.TextVariant.bodyMd,color:l.TextColor.textAlternative},type:c.PRIMARY,value:G||M,hideLabel:!L})),hasDetailTextInSeparateRow:!0,subText:a.default.createElement(a.default.Fragment,null,a.default.createElement(y.default,{key:"editGasSubTextFeeLabel",display:"inline-flex",className:(0,o.default)("gas-details-item__gasfee-label",{"gas-details-item__gas-fee-warning":I===u.PriorityLevels.high||I===u.PriorityLevels.dappSuggestedHigh})},a.default.createElement(v.default,{estimateUsed:I}),a.default.createElement(y.default,null,a.default.createElement(i.Text,{color:l.TextColor.textAlternative,variant:l.TextVariant.bodySmMedium},(I===u.PriorityLevels.high||I===u.PriorityLevels.dappSuggestedHigh)&&" ",E("editGasSubTextFeeLabel"))),a.default.createElement("div",{key:"editGasSubTextFeeValue",className:"gas-details-item__currency-container",paddingStart:1},a.default.createElement(v.default,{estimateUsed:I}),a.default.createElement(k.default,{key:"editGasSubTextFeeAmount",suffixProps:{color:l.TextColor.textAlternative,variant:l.TextVariant.bodySm},textProps:{color:l.TextColor.textAlternative,variant:l.TextVariant.bodySm},type:c.PRIMARY,value:W||O,hideLabel:!L})))),subTitle:a.default.createElement(T.default,{maxPriorityFeePerGas:q,maxFeePerGas:U})})};C.propTypes={"data-testid":r.default.string,userAcknowledgedGasMissing:r.default.bool};n.default=C}}},{package:"$root$",file:"ui/pages/confirmations/components/gas-details-item/gas-details-item.js"}],[5494,{"./gas-details-item":5493},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-details-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/gas-details-item/index.js"}],[5495,{"../../../../../shared/constants/gas":4429,"../../../../components/component-library":4879,"../../../../components/ui/typography/typography":5237,"../../../../contexts/gasFee":5245,"../../../../contexts/i18n":5246,"../../../../ducks/metamask/metamask":5268,"../../../../helpers/constants/design-system":5277,"../../../../helpers/constants/gas":5279,"../../../../hooks/usePrevious":5357,"../../../../store/actions":5911,"../../hooks/useDraftTransactionWithTxParams":5620,"bignumber.js":2888,classnames:3004,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=b(e("bignumber.js")),o=b(e("prop-types")),s=b(e("classnames")),i=e("react-redux"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../ducks/metamask/metamask"),d=e("../../../../helpers/constants/gas"),p=e("../../../../../shared/constants/gas"),f=e("../../../../contexts/i18n"),m=b(e("../../../../components/ui/typography/typography")),g=e("../../../../store/actions"),h=e("../../../../contexts/gasFee"),y=e("../../../../hooks/usePrevious"),v=e("../../hooks/useDraftTransactionWithTxParams");function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const _=(e=1,t)=>{const n=Math.ceil(e/1e3);return n<=90?t("gasTimingSecondsShort",[n]):t("gasTimingMinutesShort",[Math.ceil(n/60)])};function k({maxFeePerGas:e=0,maxPriorityFeePerGas:t=0,gasWarnings:n}){const o=(0,i.useSelector)(u.getGasEstimateType),b=(0,i.useSelector)(u.getGasFeeEstimates),T=(0,i.useSelector)(u.getIsGasEstimatesLoading),[k,x]=(0,a.useState)(null),E=(0,a.useContext)(f.I18nContext),{estimateUsed:w}=(0,h.useGasFeeContext)(),C=(0,v.useDraftTransactionWithTxParams)(),S=(null==b?void 0:b.low)&&Number(t)<Number(b.low.suggestedMaxPriorityFeePerGas),P=(0,y.usePrevious)(e),M=(0,y.usePrevious)(t),O=(0,y.usePrevious)(S);if((0,a.useEffect)((()=>{let n=!0;const a=t,o=e;return(S||a&&a!==M||o&&o!==P)&&(0,g.getGasFeeTimeEstimate)(new r.default(a,10).toString(10),new r.default(o,10).toString(10)).then((r=>{e===o&&t===a&&n&&x(r)})),!1!==S&&!0===O&&x(null),()=>{n=!1}}),[t,e,S,P,M,O]),(null==n?void 0:n.maxPriorityFee)===d.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW||(null==n?void 0:n.maxFee)===d.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW)return a.default.createElement(m.default,{variant:c.TypographyVariant.H7,fontWeight:c.FontWeight.Bold,className:(0,s.default)("gas-timing","gas-timing--negative")},E("editGasTooLow"));if(T||o!==p.GasEstimateTypes.feeMarket)return null;const{low:I={},medium:N={},high:j={}}=b,A=w||C.userFeeLevel||"medium";let D=E(A),F="",R="positive";"low"===A&&(D=E("gasTimingLow")),Number(t)>=Number(N.suggestedMaxPriorityFeePerGas)?F=Number(t)<Number(j.suggestedMaxPriorityFeePerGas)?_(I.maxWaitTimeEstimate,E):_(j.minWaitTimeEstimate,E):S?("low"===A&&(R="negative"),k&&"unknown"!==k&&"unknown"!==(null==k?void 0:k.upperTimeBound)?F=_(Number(null==k?void 0:k.upperTimeBound),E):(D=E("editGasTooLow"),R="negative")):F=_(I.maxWaitTimeEstimate,E);return a.default.createElement(l.Box,{display:c.Display.Flex,flexWrap:c.FlexWrap.Wrap},a.default.createElement(l.Text,{color:c.TextColor.textMuted,variant:c.TextVariant.bodySm,paddingInlineEnd:1},D),a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:(()=>{switch(R){case"positive":default:return c.TextColor.successDefault;case"warning":return c.TextColor.warningDefault;case"negative":return c.TextColor.errorDefault}})()},a.default.createElement("span",{"data-testid":"gas-timing-time"},"~",F)))}k.propTypes={maxPriorityFeePerGas:o.default.string,maxFeePerGas:o.default.string,gasWarnings:o.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/gas-timing/gas-timing.component.js"}],[5496,{"./ledger-instruction-field":5497},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./ledger-instruction-field"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/ledger-instruction-field/index.js"}],[5497,{"../../../../../app/scripts/lib/util":119,"../../../../../shared/constants/app":4423,"../../../../../shared/constants/hardware-wallets":4430,"../../../../components/component-library":4879,"../../../../ducks/app/app":5258,"../../../../ducks/metamask/metamask":5268,"../../../../helpers/constants/design-system":5277,"../../../../hooks/useI18nContext":5348,"../../../../store/actions":5911,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a,r=(a=e("prop-types"))&&a.__esModule?a:{default:a},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("../../../../../app/scripts/lib/util"),l=e("../../../../../shared/constants/app"),c=e("../../../../../shared/constants/hardware-wallets"),u=e("../../../../ducks/app/app"),d=e("../../../../ducks/metamask/metamask"),p=e("../../../../helpers/constants/design-system"),f=e("../../../../hooks/useI18nContext"),m=e("../../../../store/actions"),g=e("../../../../components/component-library");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=(e,t=!0,n=p.TextColor.textDefault)=>t&&o.default.createElement(g.Text,{color:n,as:"h6"},e);function v({showDataInstruction:e}){const t=(0,f.useI18nContext)(),n=(0,s.useDispatch)(),a=(0,s.useSelector)(u.getLedgerWebHidConnectedStatus),r=(0,s.useSelector)(d.getLedgerTransportType),h=(0,s.useSelector)(u.getLedgerTransportStatus),v=(0,i.getEnvironmentType)()===l.ENVIRONMENT_TYPE_FULLSCREEN;(0,o.useEffect)((()=>{(async()=>{if(r===c.LedgerTransportTypes.webhid&&a===c.WebHIDConnectedStatuses.connected&&h===c.HardwareTransportStates.none)try{const e=await(0,m.attemptLedgerTransportCreation)();n((0,u.setLedgerTransportStatus)(e?c.HardwareTransportStates.verified:c.HardwareTransportStates.unknownFailure))}catch(e){e.message.match("Failed to open the device")?n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.deviceOpenFailure)):e.message.match("the device is already open")?n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.verified)):n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.unknownFailure))}})(),(async()=>{if(r===c.LedgerTransportTypes.webhid&&a!==c.WebHIDConnectedStatuses.connected){var e;const t=await(null===(e=window.navigator)||void 0===e||null===(e=e.hid)||void 0===e?void 0:e.getDevices()),a=null==t?void 0:t.some((e=>e.vendorId===Number(c.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)(a?c.WebHIDConnectedStatuses.connected:c.WebHIDConnectedStatuses.notConnected))}})()}),[n,r,a,h]),(0,o.useEffect)((()=>()=>{n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.none))}),[n]);const b=r===c.LedgerTransportTypes.webhid;return o.default.createElement("div",null,o.default.createElement("div",{className:"confirm-detail-row"},o.default.createElement(g.BannerAlert,{severity:p.SEVERITIES.INFO},o.default.createElement("div",{className:"ledger-live-dialog"},y(t("ledgerConnectionInstructionHeader")),y(` ${t("ledgerConnectionInstructionStepThree")}`),y(` ${t("ledgerConnectionInstructionStepFour")}`,e),y(o.default.createElement("span",null,o.default.createElement(g.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{v?window.location.reload():global.platform.openExtensionInBrowser(null,null,!0)}},t("ledgerConnectionInstructionCloseOtherApps"))),h===c.HardwareTransportStates.deviceOpenFailure),y(o.default.createElement("span",null,o.default.createElement(g.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{if(v){const e=(await window.navigator.hid.requestDevice({filters:[{vendorId:c.LEDGER_USB_VENDOR_ID}]})).some((e=>e.vendorId===Number(c.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)({webHidConnectedStatus:e?c.WebHIDConnectedStatuses.connected:c.WebHIDConnectedStatuses.notConnected}))}else global.platform.openExtensionInBrowser(null,null,!0)}},t(v?"clickToConnectLedgerViaWebHID":"openFullScreenForLedgerWebHid"))),b&&a===c.WebHIDConnectedStatuses.notConnected,p.TextColor.warningDefault)))))}v.propTypes={showDataInstruction:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/ledger-instruction-field/ledger-instruction-field.js"}],[5498,{"./multi-layer-fee-message":5499},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./multi-layer-fee-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/multilayer-fee-message/index.js"}],[5499,{"../../../../../shared/constants/common":4425,"../../../../../shared/modules/Numeric":4461,"../../../../../shared/modules/conversion.utils":4465,"../../../../components/app/user-preferenced-currency-display":4804,"../../../../contexts/i18n":5246,"../../../../helpers/constants/common":5275,"../../../../selectors":5900,"../transaction-detail-item/transaction-detail-item.component":5557,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=m(e("prop-types")),s=m(e("../transaction-detail-item/transaction-detail-item.component")),i=m(e("../../../../components/app/user-preferenced-currency-display")),l=e("../../../../helpers/constants/common"),c=e("../../../../contexts/i18n"),u=e("../../../../../shared/modules/conversion.utils"),d=e("../../../../../shared/constants/common"),p=e("../../../../../shared/modules/Numeric"),f=e("../../../../selectors");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h({transaction:e,layer2fee:t,nativeCurrency:n,plainStyle:o}){var m;const g=(0,a.useContext)(c.I18nContext),{layer1GasFee:h}=e,y=(0,r.useSelector)(f.getUseCurrencyRateCheck);if(null==e||!e.txParams)return null;let v=g("unknown"),b=g("unknown");if(h){v=`${new p.Numeric(h,16,d.EtherDenomination.WEI).toDenomination(d.EtherDenomination.ETH).toFixed(12)} ${n}`,b=y?a.default.createElement(i.default,{type:l.SECONDARY,value:h,showFiat:!0,hideLabel:!0}):null}const T=(0,u.sumHexes)(t||"0x0",h||"0x0",(null==e||null===(m=e.txParams)||void 0===m?void 0:m.value)||"0x0"),_=`${new p.Numeric(T,16,d.EtherDenomination.WEI).toDenomination(d.EtherDenomination.ETH).toFixed(12)} ${n}`,k=y?a.default.createElement(i.default,{type:l.SECONDARY,value:T,showFiat:!0,hideLabel:!0}):null;return a.default.createElement("div",{className:"multi-layer-fee-message"},a.default.createElement(s.default,{key:"multi-layer-fee-message-total-item-gas-fee",detailTitle:g("layer1Fees"),detailTotal:v,detailText:y&&b,noBold:o,flexWidthValues:o}),a.default.createElement(s.default,{className:"multi-layer-fee-message__transaction-detail-item__total-item",key:"multi-layer-fee-message-total-item-total",detailTitle:g("total"),detailTotal:_,detailText:k,subTitle:g("transactionDetailMultiLayerTotalSubtitle"),noBold:o,flexWidthValues:o}))}h.propTypes={transaction:o.default.object,layer2fee:o.default.string,nativeCurrency:o.default.string,plainStyle:o.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/multilayer-fee-message/multi-layer-fee-message.js"}],[5500,{"../../../../../shared/modules/Numeric":4461,"../../../../components/component-library":4879,"../../../../components/ui/tooltip":5232,"../../../../contexts/i18n":5246,"../../../../helpers/constants/design-system":5277,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),o=e("../../../../contexts/i18n"),s=u(e("../../../../components/ui/tooltip")),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../../shared/modules/Numeric");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({tokenName:e,currentTokenBalance:t,tokenValue:n,onEdit:r}){const u=(0,a.useContext)(o.I18nContext),d=new c.Numeric(Number(n),10).greaterThan(Number(t),10);return a.default.createElement(i.Box,{className:"review-spending-cap",borderRadius:l.Size.SM,paddingTop:4,paddingRight:4,paddingLeft:4,display:l.Display.Flex,alignItems:l.AlignItems.flexStart,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundAlternative,gap:1},a.default.createElement(i.Box,{flexDirection:l.FlexDirection.Row,display:l.Display.Flex,alignItems:l.AlignItems.center,className:"review-spending-cap__heading"},a.default.createElement(i.Box,{flexDirection:l.FlexDirection.Row,className:"review-spending-cap__heading-title"},a.default.createElement(i.Text,{variant:l.TextVariant.bodySmBold,as:"h6",display:l.Display.InlineBlock},u("dappRequestedSpendingCap")),a.default.createElement(i.Box,{marginLeft:2,display:l.Display.InlineBlock},a.default.createElement(s.default,{interactive:!0,position:"top",html:a.default.createElement(i.Text,{variant:l.TextVariant.bodySmBold,as:"h6",color:l.TextColor.textAlternative,className:"review-spending-cap__heading-title__tooltip"},d&&u("warningTooltipText",[a.default.createElement(i.Text,{key:"tooltip-text",variant:l.TextVariant.bodySmBold,as:"h6",color:l.TextColor.errorDefault},a.default.createElement(i.Icon,{name:i.IconName.Warning,style:{verticalAlign:"middle"}}),u("beCareful"))]),0===Number(n)&&u("revokeSpendingCapTooltipText"))},d&&a.default.createElement(i.Icon,{className:"review-spending-cap__heading-title__tooltip__warning-icon",name:i.IconName.Danger,color:l.IconColor.errorDefault,size:i.IconSize.Sm,style:{verticalAlign:"middle"}}),0===Number(n)&&a.default.createElement(i.Icon,{className:"review-spending-cap__heading-title__tooltip__question-icon",name:i.IconName.Question,color:l.IconColor.iconDefault})))),a.default.createElement(i.Box,{className:"review-spending-cap__heading-detail",textAlign:l.TextAlign.End},a.default.createElement(i.ButtonLink,{size:l.Size.auto,onClick:e=>{e.preventDefault(),r()}},u("edit")))),a.default.createElement(i.Box,{className:"review-spending-cap__value"},a.default.createElement(i.Text,{color:d?l.TextColor.errorDefault:l.TextColor.textDefault,variant:l.TextVariant.bodySmBold,as:"h6",marginBottom:3},n," ",e)))}p.propTypes={tokenName:r.default.string,currentTokenBalance:r.default.string,tokenValue:r.default.string,onEdit:r.default.func}}}},{package:"$root$",file:"ui/pages/confirmations/components/review-spending-cap/review-spending-cap.js"}],[5501,{"../../../../../../shared/constants/network":4436,"../../../../../../shared/constants/security-provider":4442,"../../../../../components/component-library":4879,"../../../../../components/ui/loading-indicator":5176,"../../../../../contexts/i18n":5246,"../../../../../helpers/constants/design-system":5277,"../../../../../selectors":5900,"../../../hooks/useTransactionEventFragment":5632,"../security-provider-banner-alert":5503,"./blockaid-banner-utils":5502,"@blockaid/ppom_release/package.json":294,"@sentry/browser":2364,"prop-types":3930,react:4173,"react-redux":4129,zlib:2977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.REASON_TO_TITLE_TKEY=n.REASON_TO_DESCRIPTION_TKEY=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=v(e("prop-types")),o=e("@sentry/browser"),s=v(e("@blockaid/ppom_release/package.json")),i=e("react-redux"),l=e("../../../../../../shared/constants/network"),c=e("../../../../../helpers/constants/design-system"),u=e("../../../../../contexts/i18n"),d=e("../../../../../../shared/constants/security-provider"),p=e("../../../../../components/component-library"),f=e("../../../hooks/useTransactionEventFragment"),m=v(e("../security-provider-banner-alert")),g=v(e("../../../../../components/ui/loading-indicator")),h=e("../../../../../selectors"),y=e("./blockaid-banner-utils");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(this,arguments)}const _=e("zlib"),k=n.REASON_TO_DESCRIPTION_TKEY=Object.freeze({[d.BlockaidReason.approvalFarming]:"blockaidDescriptionApproveFarming",[d.BlockaidReason.permitFarming]:"blockaidDescriptionApproveFarming",[d.BlockaidReason.setApprovalForAll]:"blockaidDescriptionApproveFarming",[d.BlockaidReason.blurFarming]:"blockaidDescriptionBlurFarming",[d.BlockaidReason.errored]:"blockaidDescriptionErrored",[d.BlockaidReason.seaportFarming]:"blockaidDescriptionSeaportFarming",[d.BlockaidReason.maliciousDomain]:"blockaidDescriptionMaliciousDomain",[d.BlockaidReason.rawSignatureFarming]:"blockaidDescriptionMightLoseAssets",[d.BlockaidReason.tradeOrderFarming]:"blockaidDescriptionMightLoseAssets",[d.BlockaidReason.rawNativeTokenTransfer]:"blockaidDescriptionTransferFarming",[d.BlockaidReason.transferFarming]:"blockaidDescriptionTransferFarming",[d.BlockaidReason.transferFromFarming]:"blockaidDescriptionTransferFarming",[d.BlockaidReason.other]:"blockaidDescriptionMightLoseAssets"}),x=n.REASON_TO_TITLE_TKEY=Object.freeze({[d.BlockaidReason.errored]:"blockaidTitleMayNotBeSafe",[d.BlockaidReason.rawSignatureFarming]:"blockaidTitleSuspicious"});function E({txData:e,...t}){const{securityAlertResponse:n,origin:r,msgParams:v,type:b,txParams:E,chainId:w}=e,C=(0,i.useSelector)(h.getCurrentChainId),S=(0,a.useContext)(u.I18nContext),{updateTransactionEventFragment:P}=(0,f.useTransactionEventFragment)();if(!n||0===Object.keys(n).length)return null;if(n.result_type===d.BlockaidResultType.Loading)return a.default.createElement(g.default,{isLoading:!0,style:{position:"relative",flex:"0 0 auto",margin:"8px auto 0"}});const{block:M,features:O,reason:I,result_type:N}=n;let j,A;if(N===d.BlockaidResultType.Benign)return null;N===d.BlockaidResultType.Warning?(j=S(x[d.BlockaidReason.errored]),A=S("blockaidDescriptionWarning")):(k[I]||(0,o.captureException)(`BlockaidBannerAlert: Unidentified reason '${I}'`),j=S(x[I]||"blockaidTitleDeceptive"),A=S(k[I]||k.other));const D=null!=O&&O.length?a.default.createElement(p.Text,{as:"ul",overflowWrap:c.OverflowWrap.BreakWord},O.map(((e,t)=>a.default.createElement("li",{key:`blockaid-detail-${t}`}," ",e)))):null,F=N===d.BlockaidResultType.Errored,R=N===d.BlockaidResultType.Malicious?p.BannerAlertSeverity.Danger:p.BannerAlertSeverity.Warning,B=(e=>{const t={blockNumber:M,blockaidVersion:s.default.version,chain:l.NETWORK_TO_NAME_MAP[w??C],classification:F?"error":I,domain:r??(null==v?void 0:v.origin)??(null==E?void 0:E.origin),jsonRpcMethod:b,jsonRpcParams:JSON.stringify(E??v),resultType:F?d.BlockaidResultType.Errored:N,reproduce:JSON.stringify(O)},n=JSON.stringify(t),a=(null==_||null===(e=_.gzipSync)||void 0===e?void 0:e.call(_,n))??n;return(0,y.getReportUrl)(a)})();return a.default.createElement(m.default,T({description:A,details:D,provider:d.SecurityProvider.Blockaid,reportUrl:B,severity:R,title:j,onClickSupportLink:()=>{P({properties:{external_link_clicked:"security_alert_support_link"}},e.id)}},t))}E.propTypes={txData:r.default.object};n.default=E}}},{package:"$root$",file:"ui/pages/confirmations/components/security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert.js"}],[5502,{"../../../../../../shared/constants/security-provider":4442},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getReportUrl=void 0;var a=e("../../../../../../shared/constants/security-provider");n.getReportUrl=e=>`${a.FALSE_POSITIVE_REPORT_BASE_URL}?data=${encodeURIComponent(e.toString("base64"))}&utm_source=${a.SECURITY_PROVIDER_UTM_SOURCE}`}}},{package:"$root$",file:"ui/pages/confirmations/components/security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-utils.js"}],[5503,{"../../../../../shared/constants/security-provider":4442,"../../../../components/component-library":4879,"../../../../components/ui/disclosure":5140,"../../../../components/ui/disclosure/disclosure.constants":5138,"../../../../contexts/i18n":5246,"../../../../helpers/constants/design-system":5277,"../../../../helpers/constants/zendesk-url":5290,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=p(e("prop-types")),o=e("../../../../components/component-library"),s=p(e("../../../../components/ui/disclosure")),i=e("../../../../components/ui/disclosure/disclosure.constants"),l=e("../../../../contexts/i18n"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../../shared/constants/security-provider"),d=p(e("../../../../helpers/constants/zendesk-url"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}function g({description:e,details:t,onClickSupportLink:n,provider:r,severity:p,title:f,reportUrl:g,...h}){const y=(0,a.useContext)(l.I18nContext);return a.default.createElement(o.BannerAlert,m({"data-testid":"security-provider-banner-alert",title:f,severity:p},h),a.default.createElement(o.Text,{marginTop:2},e),a.default.createElement(o.Box,{marginTop:3},a.default.createElement(s.default,{title:y("seeDetails"),variant:i.DisclosureVariant.Arrow},t,a.default.createElement(o.Text,{marginTop:3,display:c.Display.Flex},y("somethingDoesntLookRight",[a.default.createElement(o.ButtonLink,{key:`security-provider-button-supporturl-${r}`,size:c.Size.inherit,href:g||d.default.SUPPORT_URL,externalLink:!0,onClick:n},y("reportIssue"))])))),r&&a.default.createElement(o.Text,{marginTop:3,display:c.Display.Flex,alignItems:c.AlignItems.center,color:c.Color.textAlternative,variant:c.TextVariant.bodySm},a.default.createElement(o.Icon,{className:"disclosure__summary--icon",color:c.IconColor.primaryDefault,name:o.IconName.SecurityTick,size:o.IconSize.Sm,marginInlineEnd:1}),y("securityProviderPoweredBy",[a.default.createElement(o.ButtonLink,{key:`security-provider-button-link-${r}`,size:c.Size.inherit,href:u.SECURITY_PROVIDER_CONFIG[r].url,externalLink:!0},y(u.SECURITY_PROVIDER_CONFIG[r].tKeyName))])))}g.propTypes={description:r.default.oneOfType([r.default.string,r.default.element]).isRequired,severity:r.default.oneOf([c.Severity.Danger,c.Severity.Warning]).isRequired,title:r.default.string.isRequired,details:r.default.oneOfType([r.default.string,r.default.element]),provider:r.default.oneOf(Object.values(u.SecurityProvider)),onClickSupportLink:r.default.func,reportUrl:r.default.string};n.default=g}}},{package:"$root$",file:"ui/pages/confirmations/components/security-provider-banner-alert/security-provider-banner-alert.js"}],[5504,{"./security-provider-banner-message":5505},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./security-provider-banner-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/security-provider-banner-message/index.js"}],[5505,{"../../../../../.storybook/i18n":1,"../../../../../shared/constants/security-provider":4442,"../../../../components/component-library":4879,"../../../../helpers/constants/design-system":5277,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../helpers/constants/design-system"),i=e("../../../../../shared/constants/security-provider"),l=e("../../../../../.storybook/i18n"),c=e("../../../../components/component-library");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({securityProviderResponse:e}){const t=(0,r.useContext)(l.I18nContext);let n,a,o;return e.flagAsDangerous===i.SECURITY_PROVIDER_MESSAGE_SEVERITY.MALICIOUS?(n=""===e.reason_header?t("requestFlaggedAsMaliciousFallbackCopyReasonTitle"):e.reason_header,a=""===e.reason?t("requestFlaggedAsMaliciousFallbackCopyReason"):e.reason,o=s.SEVERITIES.DANGER):e.flagAsDangerous===i.SECURITY_PROVIDER_MESSAGE_SEVERITY.NOT_SAFE?(n=t("requestMayNotBeSafe"),a=t("requestMayNotBeSafeError"),o=s.SEVERITIES.WARNING):(n=t("requestNotVerified"),a=t("requestNotVerifiedError"),o=s.SEVERITIES.WARNING),r.default.createElement(c.BannerAlert,{className:"security-provider-banner-message",marginTop:4,marginRight:4,marginLeft:4,title:n,severity:o},r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6"},a),r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.Color.textAlternative},t("securityAlert",[r.default.createElement(c.ButtonLink,{key:"opensea_link",size:s.Size.inherit,href:"https://opensea.io/",target:"_blank"},t("openSeaNew")),r.default.createElement(c.ButtonLink,{key:"blockaid_link",size:s.Size.inherit,href:"https://blockaid.io/",target:"_blank"},t("blockaid"))])))}d.propTypes={securityProviderResponse:o.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/security-provider-banner-message/security-provider-banner-message.js"}],[5506,{"./set-approval-for-all-warning":5507},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./set-approval-for-all-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/set-approval-for-all-warning/index.js"}],[5507,{"../../../../components/component-library":4879,"../../../../components/ui/box":5118,"../../../../components/ui/identicon":5169,"../../../../components/ui/popover":5203,"../../../../helpers/constants/design-system":5277,"../../../../helpers/utils/util":5321,"../../../../hooks/useI18nContext":5348,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=e("../../../../hooks/useI18nContext"),s=p(e("../../../../components/ui/popover")),i=p(e("../../../../components/ui/box")),l=e("../../../../helpers/constants/design-system"),c=p(e("../../../../components/ui/identicon")),u=e("../../../../helpers/utils/util"),d=e("../../../../components/component-library");function p(e){return e&&e.__esModule?e:{default:e}}const f=({collectionName:e,senderAddress:t,name:n,total:r,isERC721:p,onSubmit:f,onCancel:m})=>{const g=(0,o.useI18nContext)(),h=a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,justifyContent:l.JustifyContent.SPACE_BETWEEN,className:"set-approval-for-all-warning__footer",gap:4},a.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__approve-button",variant:d.BUTTON_VARIANT.PRIMARY,danger:!0,onClick:f},g("approveButtonText")),a.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__cancel-button",variant:d.BUTTON_VARIANT.SECONDARY,onClick:m},g("reject")));return a.default.createElement(s.default,{className:"set-approval-for-all-warning__content",footer:h},a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.ROW,padding:4,className:"set-approval-for-all-warning__content__header"},a.default.createElement(d.Icon,{name:d.IconName.Danger,className:"set-approval-for-all-warning__content__header__warning-icon"}),a.default.createElement(d.Text,{variant:l.TextVariant.headingSm,as:"h4"},g("yourNFTmayBeAtRisk"))),a.default.createElement(i.default,{display:l.DISPLAY.FLEX,padding:4,justifyContent:l.JustifyContent.spaceBetween,className:"set-approval-for-all-warning__content__account"},a.default.createElement(i.default,{display:l.DISPLAY.FLEX},a.default.createElement(c.default,{address:t,diameter:32}),a.default.createElement(d.Text,{variant:l.TextVariant.bodyMd,as:"h5",marginLeft:2,className:"set-approval-for-all-warning__content__account-name"},a.default.createElement("strong",null,n)," ",` (${(0,u.shortenAddress)(t)})`)),p&&r&&a.default.createElement(d.Text,null,`${g("total")}: ${r}`)),a.default.createElement(d.Text,{margin:4,marginTop:4,marginBottom:4,variant:l.TextVariant.bodySm,as:"h6"},g("nftWarningContent",[a.default.createElement("strong",{key:"non_custodial_bold"},g("nftWarningContentBold",[e||""])),a.default.createElement("strong",{key:"non_custodial_grey"},g("nftWarningContentGrey"))])))};f.propTypes={collectionName:r.default.string,senderAddress:r.default.string,name:r.default.string,total:r.default.string,isERC721:r.default.bool,onSubmit:r.default.func,onCancel:r.default.func};n.default=f}}},{package:"$root$",file:"ui/pages/confirmations/components/set-approval-for-all-warning/set-approval-for-all-warning.js"}],[5508,{"./signature-request-header":5509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-header/index.js"}],[5509,{"../../../../../shared/constants/common":4425,"../../../../../shared/modules/Numeric":4461,"../../../../../shared/modules/conversion.utils":4465,"../../../../components/app/network-account-balance-header":4636,"../../../../ducks/metamask/metamask":5268,"../../../../helpers/utils/confirm-tx.util":5303,"../../../../helpers/utils/util":5321,"../../../../hooks/useI18nContext":5348,"../../../../selectors":5900,"prop-types":3930,react:4173,"react-redux":4129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("react")),r=g(e("prop-types")),o=e("react-redux"),s=e("../../../../hooks/useI18nContext"),i=e("../../../../ducks/metamask/metamask"),l=e("../../../../selectors"),c=e("../../../../helpers/utils/confirm-tx.util"),u=e("../../../../helpers/utils/util"),d=e("../../../../../shared/constants/common"),p=e("../../../../../shared/modules/conversion.utils"),f=e("../../../../../shared/modules/Numeric"),m=g(e("../../../../components/app/network-account-balance-header"));function g(e){return e&&e.__esModule?e:{default:e}}const h=({txData:e})=>{const t=(0,s.useI18nContext)(),{msgParams:{from:n}}=e,r=(0,o.useSelector)(l.accountsWithSendEtherInfoSelector),g=(0,u.getAccountByAddress)(r,n),h=(0,o.useSelector)(i.getNativeCurrency),y=(0,o.useSelector)(l.getCurrentCurrency),v=(0,o.useSelector)(l.getCurrentChainId),b=(0,o.useSelector)(i.getProviderConfig),T=(0,u.getNetworkNameFromProviderType)(b.type),{useNativeCurrencyAsPrimaryCurrency:_}=(0,o.useSelector)(l.getPreferences),k=(0,o.useSelector)(l.conversionRateSelector),x=_?null:k,E=""===T?b.nickname||t("unknownNetwork"):t(T),w=x?(0,c.formatCurrency)((0,p.getValueFromWeiHex)({value:g.balance,fromCurrency:h,toCurrency:y,conversionRate:x,numberOfDecimals:6,toDenomination:d.EtherDenomination.ETH}),y):new f.Numeric(g.balance,16,d.EtherDenomination.WEI).toDenomination(d.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement(m.default,{networkName:E,accountName:g.metadata.name,accountBalance:w,tokenName:x?null==y?void 0:y.toUpperCase():h,accountAddress:g.address,chainId:v})};h.propTypes={txData:r.default.object.isRequired};n.default=h}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-header/signature-request-header.js"}],[5510,{"./signature-request-original.container":5514},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-original.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-original/index.js"}],[5511,{"./signature-request-original-warning":5512},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-original-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-original/signature-request-original-warning/index.js"}],[5512,{"../../../../../components/component-library":4879,"../../../../../helpers/constants/design-system":5277,"../../../../../helpers/utils/util":5321,"../../../../../hooks/useI18nContext":5348,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=c(e("prop-types")),o=e("../../../../../hooks/useI18nContext"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../helpers/utils/util"),l=e("../../../../../components/component-library");function c(e){return e&&e.__esModule?e:{default:e}}const u=({senderAddress:e,name:t,onSubmit:n,onCancel:r})=>{const c=(0,o.useI18nContext)();return a.default.createElement(l.Modal,{isOpen:!0,className:"signature-request-warning__content"},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(l.ModalHeader,{display:s.Display.Flex,childrenWrapperProps:{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,flexDirection:s.FlexDirection.Column,gap:4,width:s.BlockSize.Full}},a.default.createElement(l.Icon,{name:l.IconName.Danger,color:s.IconColor.errorDefault,size:l.IconSize.Xl}),a.default.createElement(l.Text,{variant:s.TextVariant.headingSm,textAlign:s.TextAlign.Center},c("yourFundsMayBeAtRisk"))),a.default.createElement(l.ModalBody,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4},a.default.createElement(l.Box,{display:s.Display.Flex,gap:4,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},a.default.createElement(l.AvatarAccount,{address:e,size:l.AvatarAccountSize.Lg}),a.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,className:"signature-request-warning__content__account-name"},a.default.createElement("b",null,t)," ",` (${(0,i.shortenAddress)(e)})`)),a.default.createElement(l.Text,{color:s.TextColor.textAlternative},c("signatureRequestWarning",[a.default.createElement("a",{href:"https://consensys.io/blog/the-seal-of-approval-know-what-youre-consenting-to-with-permissions-and-approvals-in-metamask",target:"_blank",type:"link",key:"non_custodial_link",rel:"noopener noreferrer",style:{color:"var(--color-primary-default)"}},c("learnMoreUpperCase"))]))),a.default.createElement(l.ModalFooter,{onSubmit:n,submitButtonProps:{danger:!0,children:c("sign"),"data-testid":"signature-warning-sign-button"},onCancel:r,cancelButtonProps:{variant:l.ButtonVariant.Secondary,children:c("reject")}})))};u.propTypes={senderAddress:r.default.string,name:r.default.string,onSubmit:r.default.func,onCancel:r.default.func};n.default=u}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-original/signature-request-original-warning/signature-request-original-warning.js"}],[5513,{"../../../../../shared/constants/app":4423,"../../../../../shared/constants/security-provider":4442,"../../../../../shared/modules/security-provider.utils":4480,"../../../../components/app/snaps/insight-warnings":4684,"../../../../components/app/snaps/snap-legacy-authorship-header":4706,"../../../../components/component-library":4879,"../../../../components/ui/page-container":5197,"../../../../components/ui/site-origin":5214,"../../../../components/ui/typography/typography":5237,"../../../../helpers/constants/design-system":5277,"../../../../helpers/utils/util":5321,"../blockaid-unavailable-banner-alert/blockaid-unavailable-banner-alert":5412,"../confirm-page-container/confirm-page-container-navigation":5430,"../ledger-instruction-field":5496,"../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert":5501,"../security-provider-banner-message/security-provider-banner-message":5505,"../signature-request-header":5508,"./signature-request-original-warning":5511,"@metamask/permission-controller":1579,classnames:3004,"eth-rpc-errors":3205,"prop-types":3930,react:4173,"react-inspector":4021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=S(e("prop-types")),o=S(e("classnames")),s=e("react-inspector"),i=e("eth-rpc-errors"),l=e("@metamask/permission-controller"),c=S(e("../ledger-instruction-field")),u=e("../../../../../shared/constants/app"),d=e("../../../../helpers/utils/util"),p=e("../../../../../shared/modules/security-provider.utils"),f=S(e("../../../../components/ui/site-origin")),m=S(e("../../../../components/ui/typography/typography")),g=e("../../../../components/ui/page-container"),h=e("../../../../helpers/constants/design-system"),y=e("../../../../components/component-library"),v=S(e("../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert")),b=S(e("../confirm-page-container/confirm-page-container-navigation")),T=S(e("../security-provider-banner-message/security-provider-banner-message")),_=S(e("../signature-request-header")),k=S(e("../../../../components/app/snaps/snap-legacy-authorship-header")),x=S(e("../../../../components/app/snaps/insight-warnings")),E=e("../../../../../shared/constants/security-provider"),w=e("../blockaid-unavailable-banner-alert/blockaid-unavailable-banner-alert"),C=S(e("./signature-request-original-warning"));function S(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends a.Component{constructor(...e){super(...e),M(this,"state",{showSignatureRequestWarning:!1,showSignatureInsights:!1}),M(this,"renderTypedData",(e=>{const{t:t}=this.context,{domain:n,message:r}=JSON.parse(e);return a.default.createElement("div",{className:"request-signature__typed-container"},n?a.default.createElement("div",null,a.default.createElement("h1",null,t("domain")),a.default.createElement(s.ObjectInspector,{data:n,expandLevel:1,name:"domain"})):"",r?a.default.createElement("div",null,a.default.createElement("h1",null,t("message")),a.default.createElement(s.ObjectInspector,{data:r,expandLevel:1,name:"message"})):"")})),M(this,"renderBody",(()=>{let e;const t=`${this.context.t("youSign")}:`,{txData:n,subjectMetadata:r}=this.props,{type:s,msgParams:{data:i}}=n;s===u.MESSAGE_TYPE.PERSONAL_SIGN?e=[{name:this.context.t("message"),value:(0,d.hexToText)(i)}]:s===u.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA?e=i:s===u.MESSAGE_TYPE.ETH_SIGN&&(e=[{name:this.context.t("message"),value:i}]);const c=n.msgParams.origin?null==r?void 0:r[n.msgParams.origin]:null;return a.default.createElement("div",{className:"request-signature__body"},a.default.createElement(v.default,{txData:n,marginTop:4,marginLeft:4,marginRight:4}),(0,p.isSuspiciousResponse)(null==n?void 0:n.securityProviderResponse)&&a.default.createElement(T.default,{securityProviderResponse:n.securityProviderResponse}),a.default.createElement(w.BlockaidUnavailableBannerAlert,null),a.default.createElement("div",{className:"request-signature__origin"},(null==c?void 0:c.subjectType)===l.SubjectType.Snap?a.default.createElement(k.default,{snapId:c.origin,marginLeft:4,marginRight:4}):a.default.createElement(f.default,{title:n.msgParams.origin,siteOrigin:n.msgParams.origin,iconSrc:null==c?void 0:c.iconUrl,iconName:(0,d.getURLHostName)(null==c?void 0:c.origin)||(null==c?void 0:c.origin),chip:!0})),a.default.createElement(m.default,{className:"request-signature__content__title",variant:h.TypographyVariant.H3,fontWeight:h.FontWeight.Bold},this.context.t("sigRequest")),a.default.createElement(m.default,{className:"request-signature__content__subtitle",variant:h.TypographyVariant.H7,color:h.TextColor.textAlternative,align:h.TextAlign.Center,margin:12,marginTop:3},this.context.t("signatureRequestGuidance")),a.default.createElement("div",{className:(0,o.default)("request-signature__notice")},t),a.default.createElement("div",{className:"request-signature__rows"},e.map((({name:e,value:t},n)=>("boolean"==typeof t&&(t=t.toString()),a.default.createElement("div",{className:"request-signature__row",key:`request-signature-row-${n}`},a.default.createElement("div",{className:"request-signature__row-title"},(0,d.sanitizeString)(`${e}:`)),a.default.createElement("div",{className:"request-signature__row-value"},(0,d.sanitizeString)(t))))))))})),M(this,"onSubmit",(async()=>{const{resolvePendingApproval:e,completedTx:t,clearConfirmTransaction:n,history:a,mostRecentOverviewPage:r,txData:o}=this.props;await e(o.id),t(o.id),n(),a.push(r)})),M(this,"onCancel",(async()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,rejectPendingApproval:a,txData:{id:r}}=this.props;await a(r,(0,i.serializeError)(i.ethErrors.provider.userRejectedRequest())),e(),t.push(n)})),M(this,"renderFooter",(()=>{var e;const{clearConfirmTransaction:t,history:n,mostRecentOverviewPage:r,txData:o,hardwareWalletRequiresConnection:s,rejectPendingApproval:l,warnings:c}=this.props,{t:d}=this.context,p=(null===(e=o.securityAlertResponse)||void 0===e?void 0:e.result_type)===E.BlockaidResultType.Malicious?"danger-primary":"primary";return a.default.createElement(g.PageContainerFooter,{cancelText:d("reject"),submitText:d("sign"),onCancel:async()=>{await l(o.id,(0,i.serializeError)(i.ethErrors.provider.userRejectedRequest())),t(),n.push(r)},onSubmit:async()=>o.type===u.MESSAGE_TYPE.ETH_SIGN?this.setState({showSignatureRequestWarning:!0}):(null==c?void 0:c.length)>=1?this.setState({showSignatureInsights:!0}):await this.onSubmit(),disabled:s,submitButtonType:p})})),M(this,"handleCancelAll",(()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,showRejectTransactionsConfirmationModal:a,messagesCount:r,cancelAllApprovals:o}=this.props;a({unapprovedTxCount:r,onSubmit:async()=>{await o(),e(),t.push(n)}})})),M(this,"render",(()=>{const{messagesCount:e,fromAccount:{address:t,name:n},txData:r,warnings:o}=this.props,{showSignatureRequestWarning:s}=this.state,{t:i}=this.context,l=i("rejectRequestsN",[e]);return a.default.createElement("div",{className:"request-signature__container"},a.default.createElement("div",{className:"request-signature__navigation"},a.default.createElement(b.default,null)),a.default.createElement("div",{className:"request-signature__account"},a.default.createElement(_.default,{txData:r})),this.renderBody(),this.props.isLedgerWallet?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(c.default,{showDataInstruction:!0})):null,s&&a.default.createElement(C.default,{senderAddress:t,name:n,onSubmit:async()=>(null==o?void 0:o.length)>=1?this.setState({showSignatureInsights:!0,showSignatureRequestWarning:!1}):await this.onSubmit(),onCancel:async e=>await this.onCancel(e)}),this.state.showSignatureInsights&&a.default.createElement(x.default,{warnings:o,action:"signing",origin:r.msgParams.origin,onCancel:()=>{this.setState({showSignatureInsights:!1})},onSubmit:async()=>{await this.onSubmit(),this.setState({showSignatureInsights:!1})}}),this.renderFooter(),e>1?a.default.createElement(y.ButtonLink,{size:h.Size.inherit,className:"request-signature__container__reject",onClick:()=>this.handleCancelAll()},l):null)}))}}n.default=O,M(O,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func}),M(O,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,name:r.default.string}).isRequired,txData:r.default.object.isRequired,subjectMetadata:r.default.object,hardwareWalletRequiresConnection:r.default.bool,isLedgerWallet:r.default.bool,messagesCount:r.default.number,showRejectTransactionsConfirmationModal:r.default.func.isRequired,cancelAllApprovals:r.default.func.isRequired,rejectPendingApproval:r.default.func.isRequired,clearConfirmTransaction:r.default.func.isRequired,history:r.default.object.isRequired,mostRecentOverviewPage:r.default.string.isRequired,resolvePendingApproval:r.default.func.isRequired,completedTx:r.default.func.isRequired,warnings:r.default.array})}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-original/signature-request-original.component.js"}],[5514,{"../../../../ducks/confirm-transaction/confirm-transaction.duck":5260,"../../../../ducks/history/history":5265,"../../../../ducks/metamask/metamask":5268,"../../../../helpers/utils/util":5321,"../../../../selectors":5900,"../../../../store/actions":5911,"./signature-request-original.component":5513,"react-redux":4129,"react-router-dom":4158,redux:4191},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../../../store/actions"),l=e("../../../../selectors"),c=e("../../../../helpers/utils/util"),u=e("../../../../ducks/confirm-transaction/confirm-transaction.duck"),d=e("../../../../ducks/history/history"),p=e("../../../../ducks/metamask/metamask"),f=(a=e("./signature-request-original.component"))&&a.__esModule?a:{default:a};let m=null;m=function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,u.clearConfirmTransaction)()),showRejectTransactionsConfirmationModal:({onSubmit:t,unapprovedTxCount:n})=>e((0,i.showModal)({name:"REJECT_TRANSACTIONS",onSubmit:t,unapprovedTxCount:n,isRequestType:!0})),completedTx:t=>e((0,i.completedTx)(t)),resolvePendingApproval:t=>{e((0,i.resolvePendingApproval)(t))},rejectPendingApproval:(t,n)=>e((0,i.rejectPendingApproval)(t,n)),cancelAllApprovals:t=>{e((0,i.rejectAllMessages)(t))}}};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e,t){const{msgParams:{from:n}}=t.txData,a=(0,l.doesAddressRequireLedgerHidConnection)(e,n),r=(0,p.isAddressLedger)(e,n),o=(0,l.unconfirmedMessagesHashSelector)(e),s=(0,l.getTotalUnapprovedMessagesCount)(e);return{requester:null,requesterAddress:null,mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),hardwareWalletRequiresConnection:a,isLedgerWallet:r,allAccounts:(0,l.accountsWithSendEtherInfoSelector)(e),subjectMetadata:(0,l.getSubjectMetadata)(e),messagesList:o,messagesCount:s}}),m,(function(e,t,n){const{txData:a}=n,{allAccounts:r,messagesList:o,...s}=e,{msgParams:{from:i}}=a,l=(0,c.getAccountByAddress)(r,i),{cancelAllApprovals:u}=t;return{...n,...s,...t,fromAccount:l,txData:a,cancelAllApprovals:()=>u((0,c.valuesFor)(o))}})))(f.default)}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-original/signature-request-original.container.js"}],[5515,{"./signature-request-siwe":5522},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/index.js"}],[5516,{"./signature-request-siwe-header":5517},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-header/index.js"}],[5517,{"../../../../../components/app/account-list-item":4493,"../../../../../components/app/permissions-connect-header":4663,"../../../../../components/ui/tooltip":5232,"../../../../../contexts/i18n":5246,"../signature-request-siwe-icon":5518,"../signature-request-siwe-tag":5521,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("prop-types")),o=d(e("../../../../../components/app/account-list-item")),s=e("../../../../../contexts/i18n"),i=d(e("../../../../../components/app/permissions-connect-header")),l=d(e("../signature-request-siwe-icon")),c=d(e("../signature-request-siwe-tag")),u=d(e("../../../../../components/ui/tooltip"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({fromAccount:e,domain:t,isSIWEDomainValid:n,subjectMetadata:r}){const d=(0,a.useContext)(s.I18nContext);return a.default.createElement("div",{className:"signature-request-siwe-header"},a.default.createElement(i.default,{iconUrl:(null==r?void 0:r.iconUrl)??"",iconName:(null==r?void 0:r.name)??"",headerTitle:d("SIWESiteRequestTitle"),headerText:d("SIWESiteRequestSubtitle"),siteOrigin:t.startsWith("file://")?"HyperPlay":t,className:n?"":"bad-domain",leftIcon:!n&&a.default.createElement(u.default,{position:"bottom",html:a.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},a.default.createElement(l.default,null)),rightIcon:!n&&a.default.createElement(u.default,{position:"bottom",html:a.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},a.default.createElement(c.default,{text:d("SIWEDomainWarningLabel")}))}),e&&a.default.createElement(o.default,{account:e,hideDefaultMismatchWarning:!0,className:"signature-request-siwe-header__account-list-item"}))}f.propTypes={fromAccount:r.default.object,domain:r.default.string,isSIWEDomainValid:r.default.bool,subjectMetadata:r.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-header/signature-request-siwe-header.js"}],[5518,{"../../../../../components/component-library":4879,"../../../../../helpers/constants/design-system":5277,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../helpers/constants/design-system"),s=e("../../../../../components/component-library");n.default=()=>r.default.createElement(s.Box,{className:"signature-request-siwe-icon",display:o.Display.InlineFlex,alignItems:o.AlignItems.center,backgroundColor:o.Color.errorDefault,justifyContent:o.JustifyContent.center},r.default.createElement(s.Icon,{name:s.IconName.Danger,color:o.Color.errorInverse}))}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-icon/index.js"}],[5519,{"./signature-request-siwe-message":5520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-message/index.js"}],[5520,{"../../../../../components/component-library":4879,"../../../../../components/ui/box":5118,"../../../../../helpers/constants/design-system":5277,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("../../../../../components/ui/box")),s=e("../../../../../components/component-library"),i=e("../../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}const c=({data:e})=>a.default.createElement(o.default,{className:"signature-request-siwe-message"},a.default.createElement(o.default,{flexDirection:i.FLEX_DIRECTION.COLUMN},e.map((({label:e,value:t},n)=>a.default.createElement(o.default,{key:n.toString(),marginTop:2,marginBottom:2},a.default.createElement(s.Text,{as:"h4",variant:i.TextVariant.bodyLgMedium,marginTop:2,marginBottom:2},e),a.default.createElement(s.Text,{className:"signature-request-siwe-message__sub-text",overflowWrap:i.OVERFLOW_WRAP.BREAK_WORD,marginTop:2,marginBottom:2},t))))));c.propTypes={data:r.default.arrayOf(r.default.shape({label:r.default.string,value:r.default.oneOfType([r.default.string,r.default.number])}))};n.default=a.default.memo(c)}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-message/signature-request-siwe-message.js"}],[5521,{"../../../../../components/component-library":4879,"../../../../../components/ui/box":5118,"../../../../../helpers/constants/design-system":5277,"prop-types":3930,react:4173},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../../../helpers/constants/design-system"),s=l(e("../../../../../components/ui/box")),i=e("../../../../../components/component-library");function l(e){return e&&e.__esModule?e:{default:e}}const c=({text:e})=>a.default.createElement(s.default,{className:"signature-request-siwe-tag",marginRight:1,display:o.Display.InlineFlex,alignItems:o.AlignItems.center,backgroundColor:o.BackgroundColor.errorDefault,borderRadius:o.Size.XL,paddingLeft:4,paddingRight:4},a.default.createElement(i.Text,{margin:0,variant:o.TextVariant.bodySmBold,as:"h6",color:o.TextColor.errorInverse},e));n.default=c;c.propTypes={text:r.default.string}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-tag/index.js"}]],[],{});