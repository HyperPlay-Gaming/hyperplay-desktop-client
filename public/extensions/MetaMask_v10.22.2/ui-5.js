LavaPack.loadBundle([[5765,{"../../../../app/scripts/lib/multichain/address":82,"../../../../shared/constants/time":5166,"../../../helpers/constants/design-system":6123,"../../../helpers/utils/util":6171,"../../../hooks/useCopyToClipboard":6191,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../ui/tooltip/tooltip":6074,classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddressCopyButton=void 0;var o=f(e("react")),a=f(e("prop-types")),r=f(e("classnames")),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useCopyToClipboard"),c=e("../../../helpers/utils/util"),u=f(e("../../ui/tooltip/tooltip")),d=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/time"),m=e("../../../../app/scripts/lib/multichain/address");function f(e){return e&&e.__esModule?e:{default:e}}const g=({address:e,shorten:t=!1,wrap:n=!1,onClick:a})=>{const f=(0,m.normalizeSafeAddress)(e),g=t?(0,c.shortenAddress)(f):f,[h,y]=(0,l.useCopyToClipboard)(p.MINUTE),k=(0,d.useI18nContext)();let b=k(h?"copiedExclamation":"copyToClipboard");return o.default.createElement(u.default,{position:"bottom",title:b},o.default.createElement(i.ButtonBase,{backgroundColor:s.BackgroundColor.primaryMuted,onClick:()=>{y(f),null==a||a()},paddingRight:4,paddingLeft:4,size:s.Size.SM,variant:s.TextVariant.bodySm,color:s.TextColor.primaryDefault,endIconName:h?i.IconName.CopySuccess:i.IconName.Copy,className:(0,r.default)("multichain-address-copy-button",{"multichain-address-copy-button__address--wrap":n}),borderRadius:s.BorderRadius.pill,alignItems:s.AlignItems.center,"data-testid":"address-copy-button-text"},o.default.createElement(i.Box,{display:s.Display.Flex},g)))};n.AddressCopyButton=g,g.propTypes={address:a.default.string.isRequired,shorten:a.default.bool,wrap:a.default.bool,onClick:a.default.func}}}},{package:"$root$",file:"ui/components/multichain/address-copy-button/address-copy-button.js"}],[5766,{"./address-copy-button":5765},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AddressCopyButton",{enumerable:!0,get:function(){return o.AddressCopyButton}});var o=e("./address-copy-button")}}},{package:"$root$",file:"ui/components/multichain/address-copy-button/index.js"}],[5767,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/util":6171,"../../../selectors":6820,"../../component-library":5680,"../../ui/confusable":5967,"../../ui/tooltip":6073,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddressListItem=void 0;var o=d(e("react")),a=e("react-redux"),r=d(e("../../ui/confusable")),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../selectors"),c=e("../../../helpers/utils/util"),u=d(e("../../ui/tooltip"));function d(e){return e&&e.__esModule?e:{default:e}}n.AddressListItem=({address:e,label:t,useConfusable:n=!1,onClick:d})=>{const p=(0,a.useSelector)(l.getUseBlockie);let m=(0,c.shortenAddress)(e);return t&&(m=t,n&&(m=o.default.createElement(r.default,{input:t}))),o.default.createElement(i.Box,{display:s.Display.Flex,padding:4,as:"button",onClick:e=>{e.stopPropagation(),d()},width:s.BlockSize.Full,backgroundColor:s.BackgroundColor.transparent,className:"address-list-item",alignItems:s.AlignItems.center},o.default.createElement(i.AvatarAccount,{borderColor:s.BorderColor.transparent,size:i.AvatarAccountSize.Md,address:e,variant:p?i.AvatarAccountVariant.Blockies:i.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),o.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,style:{overflow:"hidden"}},o.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium,padding:0,width:s.BlockSize.Full,textAlign:s.TextAlign.Left,className:"address-list-item__label","data-testid":"address-list-item-label",style:{overflow:"hidden"},ellipsis:!0},m),o.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative,ellipsis:!0,"data-testid":"address-list-item-address",as:"div",display:s.Display.Flex},o.default.createElement(u.default,{title:e,position:"bottom"},(0,c.shortenAddress)(e)))))}}}},{package:"$root$",file:"ui/components/multichain/address-list-item/address-list-item.tsx"}],[5768,{"./address-list-item":5767},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AddressListItem",{enumerable:!0,get:function(){return o.AddressListItem}});var o=e("./address-list-item")}}},{package:"$root$",file:"ui/components/multichain/address-list-item/index.ts"}],[5769,{"../../../helpers/constants/design-system":6123,"../../component-library":5680,classnames:3684,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeaderContainer=void 0;var o=s(e("react")),a=s(e("classnames")),r=e("../../../helpers/constants/design-system"),i=e("../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}n.AppHeaderContainer=({isUnlocked:e,popupStatus:t,headerBottomMargin:n,children:s})=>{const l=!e||t?r.BackgroundColor.backgroundDefault:r.BackgroundColor.backgroundAlternative;return o.default.createElement(i.Box,{display:r.Display.Flex,className:(0,a.default)("multichain-app-header",{"multichain-app-header-shadow":!e||t}),marginBottom:n,alignItems:r.AlignItems.center,width:r.BlockSize.Full,backgroundColor:l},s)}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header-container.tsx"}],[5770,{"../../../helpers/constants/routes":6129,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../component-library":5680,"../../ui/metafox-logo":6029,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeaderLockedContent=void 0;var o=d(e("react")),a=e("react-router-dom"),r=e("react-redux"),i=e("../../../hooks/useI18nContext"),s=d(e("../../ui/metafox-logo")),l=e("../../component-library"),c=e("../../../helpers/constants/routes"),u=e("../../../selectors");function d(e){return e&&e.__esModule?e:{default:e}}n.AppHeaderLockedContent=({currentNetwork:e,networkOpenCallback:t})=>{var n;const d=(0,i.useI18nContext)(),p=(0,a.useHistory)(),m=(0,r.useSelector)(u.getTestNetworkBackgroundColor);return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",null,o.default.createElement(l.PickerNetwork,{avatarNetworkProps:{backgroundColor:m,role:"img",name:(null==e?void 0:e.nickname)??""},"aria-label":`${d("networkMenu")} ${null==e?void 0:e.nickname}`,label:(null==e?void 0:e.nickname)??"",src:null==e||null===(n=e.network)||void 0===n||null===(n=n.rpcPrefs)||void 0===n?void 0:n.imageUrl,onClick:e=>{e.stopPropagation(),e.preventDefault(),t()},className:"multichain-app-header__contents__network-picker","data-testid":"network-display"})),o.default.createElement(s.default,{unsetIconHeight:!0,onClick:async()=>{p.push(c.DEFAULT_ROUTE)}}))}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header-locked-content.tsx"}],[5771,{"../../../../app/scripts/lib/multichain/address":82,"../../../../app/scripts/lib/util":130,"../../../../shared/constants/app":5138,"../../../../shared/constants/metametrics":5150,"../../../../shared/constants/time":5166,"../../../contexts/metametrics":6090,"../../../helpers/constants/design-system":6123,"../../../helpers/constants/routes":6129,"../../../helpers/utils/util":6171,"../../../hooks/useCopyToClipboard":6191,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../../store/actions":6833,"../../app/connected-status-indicator":5316,"../../component-library":5680,"../../ui/tooltip":6073,"../account-picker":5762,"../global-menu":5824,"../notifications-tag-counter":5894,react:4884,"react-redux":4837,"react-router-dom":4869,"webextension-polyfill":5116},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeaderUnlockedContent=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=w(e("webextension-polyfill")),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),c=w(e("../../ui/tooltip")),u=e("../../../../shared/constants/metametrics"),d=e("../../../hooks/useI18nContext"),p=e("../../../store/actions"),m=w(e("../../app/connected-status-indicator")),f=e("../account-picker"),g=e("../global-menu"),h=e("../../../selectors"),y=e("../../../../app/scripts/lib/util"),k=e("../../../../app/scripts/lib/multichain/address"),b=e("../../../helpers/utils/util"),x=e("../../../../shared/constants/app"),v=e("../../../contexts/metametrics"),C=e("../../../hooks/useCopyToClipboard"),T=e("../../../../shared/constants/time"),_=e("../notifications-tag-counter"),E=e("../../../helpers/constants/routes");function w(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}n.AppHeaderUnlockedContent=({popupStatus:e,isEvmNetwork:t,currentNetwork:n,networkOpenCallback:w,disableNetworkPicker:M,disableAccountPicker:S,menuRef:I})=>{var A,N;const O=(0,o.useContext)(v.MetaMetricsContext),P=(0,d.useI18nContext)(),D=(0,i.useHistory)(),B=(0,r.useDispatch)(),j=(0,r.useSelector)(h.getOriginOfCurrentTab),[F,R]=(0,o.useState)(!1),L=(0,r.useSelector)(h.getTestNetworkBackgroundColor),$=(0,r.useSelector)(h.getSelectedInternalAccount),z=$&&(0,b.shortenAddress)((0,k.normalizeSafeAddress)($.address)),W=null==$?void 0:$.address,U=(0,k.normalizeSafeAddress)(W),[V,H]=(0,C.useCopyToClipboard)(T.MINUTE),G=(0,y.getEnvironmentType)()===x.ENVIRONMENT_TYPE_POPUP&&j&&j!==a.default.runtime.id,q=()=>{O({event:u.MetaMetricsEventName.NavMainMenuOpened,category:u.MetaMetricsEventCategory.Navigation,properties:{location:"Home"}}),R(!0)};return o.default.createElement(o.default.Fragment,null,e?o.default.createElement(l.Box,{className:"multichain-app-header__contents__container"},o.default.createElement(c.default,{title:null==n?void 0:n.nickname,position:"right"},o.default.createElement(l.PickerNetwork,{avatarNetworkProps:{backgroundColor:L,role:"img",name:(null==n?void 0:n.nickname)??""},className:"multichain-app-header__contents--avatar-network",ref:I,as:"button",src:(null==n||null===(A=n.network)||void 0===A||null===(A=A.rpcPrefs)||void 0===A?void 0:A.imageUrl)??"",label:(null==n?void 0:n.nickname)??"","aria-label":`${P("networkMenu")} ${null==n?void 0:n.nickname}`,labelProps:{display:s.Display.None},onClick:e=>{e.stopPropagation(),e.preventDefault(),w()},display:[s.Display.Flex,s.Display.None],disabled:M}))):o.default.createElement("div",null,o.default.createElement(l.PickerNetwork,{avatarNetworkProps:{backgroundColor:L,role:"img",name:(null==n?void 0:n.nickname)??""},margin:2,"aria-label":`${P("networkMenu")} ${null==n?void 0:n.nickname}`,label:(null==n?void 0:n.nickname)??"",src:null==n||null===(N=n.network)||void 0===N||null===(N=N.rpcPrefs)||void 0===N?void 0:N.imageUrl,onClick:e=>{e.stopPropagation(),e.preventDefault(),w()},display:[s.Display.None,s.Display.Flex],className:"multichain-app-header__contents__network-picker",disabled:M,"data-testid":"network-display"})),$&&o.default.createElement(l.Text,{as:"div",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,ellipsis:!0},o.default.createElement(f.AccountPicker,{address:$.address,name:$.metadata.name,onClick:()=>{B((0,p.toggleAccountMenu)()),O({event:u.MetaMetricsEventName.NavAccountMenuOpened,category:u.MetaMetricsEventCategory.Navigation,properties:{location:"Home"}})},disabled:S,labelProps:{fontWeight:s.FontWeight.Bold},paddingLeft:2,paddingRight:2}),o.default.createElement(c.default,{position:"left",title:P(V?"addressCopied":"copyToClipboard")},o.default.createElement(l.ButtonBase,{className:"multichain-app-header__address-copy-button",onClick:()=>H(U),size:l.ButtonBaseSize.Sm,backgroundColor:s.BackgroundColor.transparent,borderRadius:s.BorderRadius.LG,endIconName:V?l.IconName.CopySuccess:l.IconName.Copy,endIconProps:{color:s.IconColor.iconAlternative,size:l.IconSize.Sm},ellipsis:!0,textProps:{display:s.Display.Flex,alignItems:s.AlignItems.center,gap:2},style:{height:"auto"},"data-testid":"app-header-copy-button"},o.default.createElement(l.Text,{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySm,ellipsis:!0,as:"span"},z)))),o.default.createElement(l.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.flexEnd,style:{marginLeft:"auto"}},o.default.createElement(l.Box,{display:s.Display.Flex,gap:4},G&&o.default.createElement(l.Box,{ref:I},o.default.createElement(m.default,{onClick:()=>{t&&D.push(`${E.REVIEW_PERMISSIONS}/${encodeURIComponent(j)}`)},disabled:!t}))," ",o.default.createElement(l.Box,{ref:I,display:s.Display.Flex,justifyContent:s.JustifyContent.flexEnd,width:s.BlockSize.Full},!F&&o.default.createElement(l.Box,{style:{position:"relative"},onClick:()=>q()},o.default.createElement(_.NotificationsTagCounter,{noLabel:!0})),o.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,"data-testid":"account-options-menu-button",ariaLabel:P("accountOptions"),onClick:()=>{q()},size:l.ButtonIconSize.Sm}))),o.default.createElement(g.GlobalMenu,{anchorElement:I.current,isOpen:F,closeMenu:()=>R(!1)})))}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header-unlocked-content.tsx"}],[5772,{"../../../../app/scripts/lib/util":130,"../../../../shared/constants/app":5138,"../../../../shared/constants/metametrics":5150,"../../../contexts/metametrics":6090,"../../../ducks/metamask/metamask":6111,"../../../ducks/send":6116,"../../../helpers/constants/design-system":6123,"../../../helpers/constants/routes":6129,"../../../selectors":6820,"../../../selectors/multichain":6825,"../../../store/actions":6833,"../../component-library":5680,"./app-header-container":5769,"./app-header-locked-content":5770,"./app-header-unlocked-content":5771,"./multichain-meta-fox-logo":5774,classnames:3684,"prop-types":4631,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeader=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=_(e("classnames")),r=_(e("prop-types")),i=e("react-redux"),s=e("react-router-dom"),l=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/metametrics"),u=e("../../../helpers/constants/routes"),d=e("../../../helpers/constants/design-system"),p=e("../../component-library"),m=e("../../../selectors"),f=e("../../../store/actions"),g=e("../../../../app/scripts/lib/util"),h=e("../../../../shared/constants/app"),y=e("../../../ducks/metamask/metamask"),k=e("../../../ducks/send"),b=e("../../../selectors/multichain"),x=e("./multichain-meta-fox-logo"),v=e("./app-header-container"),C=e("./app-header-unlocked-content"),T=e("./app-header-locked-content");function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},w.apply(this,arguments)}const M=({location:e})=>{const t=(0,o.useContext)(l.MetaMetricsContext),n=(0,o.useRef)(null),r=(0,i.useSelector)(y.getIsUnlocked),_=(0,i.useSelector)(b.getMultichainNetwork),{chainId:E,isEvmNetwork:M}=_,S=(0,i.useDispatch)(),I=(0,g.getEnvironmentType)()===h.ENVIRONMENT_TYPE_POPUP,A=(0,i.useSelector)(k.getSendStage),N=[k.SEND_STAGES.EDIT,k.SEND_STAGES.DRAFT,k.SEND_STAGES.ADD_RECIPIENT].includes(A),O=Boolean((0,s.matchPath)(e.pathname,{path:u.CONFIRM_TRANSACTION_ROUTE,exact:!1})),P=Boolean((0,s.matchPath)(e.pathname,{path:u.SWAPS_ROUTE,exact:!1})),D=(0,i.useSelector)(m.getUnapprovedTransactions),B=Object.keys(D).length>0,j=O||P,F=P||N||O||B||!M,R=(0,o.useCallback)((()=>{S((0,f.toggleNetworkMenu)()),t({event:c.MetaMetricsEventName.NavNetworkMenuOpened,category:c.MetaMetricsEventCategory.Navigation,properties:{location:"App header",chain_id:E}})}),[E,S,t]),L=!I&&F?4:0,$={alignItems:d.AlignItems.center,width:d.BlockSize.Full,backgroundColor:d.BackgroundColor.backgroundDefault,padding:2,paddingLeft:4,paddingRight:4,gap:2},z={display:d.Display.Flex,alignItems:d.AlignItems.center,width:d.BlockSize.Full,justifyContent:d.JustifyContent.spaceBetween,backgroundColor:d.BackgroundColor.backgroundDefault,padding:2,gap:2};return o.default.createElement(o.default.Fragment,null,r&&!I?o.default.createElement(x.MultichainMetaFoxLogo,null):null,o.default.createElement(v.AppHeaderContainer,{isUnlocked:r,popupStatus:I,headerBottomMargin:L},o.default.createElement(o.default.Fragment,null,o.default.createElement(p.Box,w({className:(0,a.default)(r?"multichain-app-header__contents":"multichain-app-header__lock-contents",{"multichain-app-header-shadow":r&&!I})},r?$:z),r?o.default.createElement(C.AppHeaderUnlockedContent,{popupStatus:I,isEvmNetwork:M,currentNetwork:_,networkOpenCallback:R,disableNetworkPicker:F,disableAccountPicker:j,menuRef:n}):o.default.createElement(T.AppHeaderLockedContent,{currentNetwork:_,networkOpenCallback:R})))))};n.AppHeader=M,M.propTypes={location:r.default.object}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header.js"}],[5773,{"./app-header":5772},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AppHeader",{enumerable:!0,get:function(){return o.AppHeader}});var o=e("./app-header")}}},{package:"$root$",file:"ui/components/multichain/app-header/index.js"}],[5774,{"../../../helpers/constants/design-system":6123,"../../../helpers/constants/routes":6129,"../../component-library":5680,"../../ui/metafox-logo":6029,react:4884,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainMetaFoxLogo=void 0;var o=c(e("react")),a=e("react-router-dom"),r=e("../../../helpers/constants/routes"),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=c(e("../../ui/metafox-logo"));function c(e){return e&&e.__esModule?e:{default:e}}n.MultichainMetaFoxLogo=()=>{const e=(0,a.useHistory)();return o.default.createElement(s.Box,{display:[i.Display.None,i.Display.Flex],alignItems:i.AlignItems.center,margin:2,className:"multichain-app-header-logo","data-testid":"app-header-logo",justifyContent:i.JustifyContent.center},o.default.createElement(l.default,{unsetIconHeight:!0,onClick:async()=>e.push(r.DEFAULT_ROUTE)}))}}}},{package:"$root$",file:"ui/components/multichain/app-header/multichain-meta-fox-logo.js"}],[5775,{"../../../../../shared/constants/transaction":5168,"../../../../../shared/modules/conversion.utils":5188,"../../../../helpers/constants/common":6121,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useCurrencyDisplay":6192,"../../../../hooks/useI18nContext":6202,"../../../../hooks/useTokenFiatAmount":6224,"../../../../hooks/useTokenTracker":6225,"../../../../selectors":6820,"../../../app/user-preferenced-currency-display":5602,"../../../component-library":5680,"../../../ui/currency-display":5969,"../utils":5793,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetBalanceText=function({asset:e,balanceColor:t,error:n}){var k,x,v,C;const T=(0,h.useI18nContext)(),_=(0,a.useSelector)(l.getCurrentCurrency),E=(0,a.useSelector)(g.getIsFiatPrimary),{tokensWithBalances:w}=(0,p.useTokenTracker)({tokens:null!==(k=e.details)&&void 0!==k&&k.address&&!e.balance?[{address:e.details.address}]:[],address:undefined}),M=(0,y.hexToDecimal)(e.balance)||(null===(x=w[0])||void 0===x?void 0:x.string),S=(0,a.useSelector)(l.getSelectedAccountCachedBalance),I=(0,m.useCurrencyDisplay)(S,{numberOfDecimals:2,currency:_})[1].value,A=(0,f.useTokenFiatAmount)(null===(v=e.details)||void 0===v?void 0:v.address,M,undefined,0===Number(M)?{exchangeRate:Number.MIN_VALUE}:undefined,!0),N=e.type===c.AssetType.native?I:A,O={hideLabel:!0,textProps:{color:t,variant:u.TextVariant.bodySm},suffixProps:{color:t,variant:u.TextVariant.bodySm}},P=n?`. ${T(n)}`:"";if(e.type===c.AssetType.NFT){var D;const t=(0,y.hexToDecimal)(e.balance||"0x0");return o.default.createElement(r.Text,O.textProps,`${t} ${null===(D=T("1"===t?"token":"tokens"))||void 0===D?void 0:D.toLowerCase()}${P}`)}if(E)return o.default.createElement(d.default,b({},O,{currency:_,numberOfDecimals:2,displayValue:`${N}${P}`}));if(e.type===c.AssetType.native)return o.default.createElement(o.default.Fragment,null,o.default.createElement(i.default,b({},O,{value:e.balance,type:s.PRIMARY})),P?o.default.createElement(r.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.errorDefault,"data-testid":"send-page-amount-error"},P):null);if(null!==(C=e.details)&&void 0!==C&&C.address)return o.default.createElement(i.default,b({},O,{displayValue:`${M||""}${P}`}));return null};var o=k(e("react")),a=e("react-redux"),r=e("../../../component-library"),i=k(e("../../../app/user-preferenced-currency-display")),s=e("../../../../helpers/constants/common"),l=e("../../../../selectors"),c=e("../../../../../shared/constants/transaction"),u=e("../../../../helpers/constants/design-system"),d=k(e("../../../ui/currency-display")),p=e("../../../../hooks/useTokenTracker"),m=e("../../../../hooks/useCurrencyDisplay"),f=e("../../../../hooks/useTokenFiatAmount"),g=e("../utils"),h=e("../../../../hooks/useI18nContext"),y=e("../../../../../shared/modules/conversion.utils");function k(e){return e&&e.__esModule?e:{default:e}}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},b.apply(this,arguments)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-balance/asset-balance-text.tsx"}],[5776,{"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,"./asset-balance-text":5775,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetBalance=function({asset:e,error:t}){const n=(0,s.useI18nContext)(),o=t?i.TextColor.errorDefault:i.TextColor.textAlternative;return a.default.createElement(r.Box,{className:"asset-picker-amount__balance",display:i.Display.Flex},a.default.createElement(r.Text,{color:o,marginRight:1,variant:i.TextVariant.bodySm},n("balance"),":"),a.default.createElement(l.AssetBalanceText,{asset:e,balanceColor:o,error:t}))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext"),l=e("./asset-balance-text")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-balance/asset-balance.tsx"}],[5777,{"../../../../shared/constants/transaction":5168,"../../../ducks/metamask/metamask":6111,"../../../ducks/send":6116,"../../../helpers/constants/design-system":6123,"../../../hooks/useGetAssetImageUrl":6201,"../../../hooks/useI18nContext":6202,"../../../pages/confirmations/send/send.constants":6585,"../../../selectors":6820,"../../component-library":5680,"./asset-balance/asset-balance":5776,"./asset-picker/asset-picker":5785,"./max-clear-button":5789,"./swappable-currency-input/swappable-currency-input":5792,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPickerAmount=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("../../../hooks/useI18nContext"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../selectors"),c=e("../../../../shared/constants/transaction"),u=e("../../../ducks/send"),d=e("../../../pages/confirmations/send/send.constants"),p=e("../../../ducks/metamask/metamask"),m=k(e("../../../hooks/useGetAssetImageUrl")),f=k(e("./max-clear-button")),g=e("./asset-picker/asset-picker"),h=e("./swappable-currency-input/swappable-currency-input"),y=e("./asset-balance/asset-balance");function k(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},x.apply(this,arguments)}n.AssetPickerAmount=({asset:e,amount:t,onAmountChange:n,isAmountLoading:k,error:b,...v})=>{var C,T,_,E,w,M;const S=(0,a.useSelector)(l.getSelectedInternalAccount),I=(0,r.useI18nContext)(),{swapQuotesError:A,sendAsset:N,receiveAsset:O}=(0,a.useSelector)(u.getCurrentDraftTransaction),P=!n,D=P&&A,B=(0,a.useSelector)(u.getSendMaxModeState),j=(0,a.useSelector)(u.getIsNativeSendPossible),F=(0,a.useSelector)(p.getNativeCurrency),R=(0,a.useSelector)(l.getNativeCurrencyImage),L=(0,a.useSelector)(l.getTokenList),$=(0,a.useSelector)(l.getIpfsGateway);(0,o.useEffect)((()=>{P||j||B&&n("0x0")}),[j]);const[z,W]=(0,o.useState)(!1),[U,V]=(0,o.useState)(!1),H=(0,m.default)((null==e||null===(C=e.details)||void 0===C?void 0:C.image)??null,$),G=(0,o.useCallback)(((t,o)=>{U||e.type!==c.AssetType.NFT||V(!0),null==n||n(t,o)}),[n,U,e.type]);(0,o.useEffect)((()=>{V(!1)}),[e]);const{error:q}=t,K=q===d.NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR&&e.type===c.AssetType.NFT&&!U,J=q&&!K?q:undefined;(0,o.useEffect)((()=>{if(!e)throw new Error("No asset is drafted for sending")}),[S]);let Y=s.BorderColor.borderMuted;P?D&&(Y=s.BorderColor.errorDefault):J?Y=s.BorderColor.errorDefault:z&&(Y=s.BorderColor.primaryDefault);const Q=N.type===c.AssetType.native&&O.type!==c.AssetType.native;let X;if((null==e?void 0:e.type)===c.AssetType.native)X={type:e.type,image:R,symbol:F};else if((null==e?void 0:e.type)===c.AssetType.token&&null!=e&&null!==(T=e.details)&&void 0!==T&&T.symbol){var Z,ee;X={type:e.type,image:H||L&&(null===(Z=e.details)||void 0===Z?void 0:Z.address)&&(null===(ee=L[e.details.address.toLowerCase()])||void 0===ee?void 0:ee.iconUrl),symbol:e.details.symbol,address:e.details.address}}else(null==e?void 0:e.type)===c.AssetType.NFT&&(null==e||null===(_=e.details)||void 0===_?void 0:_.tokenId)!==undefined&&null!=e&&null!==(E=e.details)&&void 0!==E&&E.image&&(X={type:e.type,tokenId:e.details.tokenId,image:e.details.image,symbol:e.details.symbol});return o.default.createElement(i.Box,{className:"asset-picker-amount"},o.default.createElement(i.Box,{onFocus:()=>W(!0),onBlur:()=>W(!1),display:s.Display.Flex,alignItems:s.AlignItems.center,backgroundColor:s.BackgroundColor.backgroundDefault,borderRadius:s.BorderRadius.LG,borderColor:Y,borderStyle:s.BorderStyle.solid,borderWidth:1,marginBottom:1,padding:1,paddingTop:(null===(w=e.details)||void 0===w?void 0:w.standard)===c.TokenStandard.ERC721?4:1,paddingBottom:(null===(M=e.details)||void 0===M?void 0:M.standard)===c.TokenStandard.ERC721?4:1},o.default.createElement(g.AssetPicker,x({asset:X},v)),o.default.createElement(h.SwappableCurrencyInput,{onAmountChange:n?G:undefined,assetType:e.type,asset:e,amount:t,isAmountLoading:k})),o.default.createElement(i.Box,{display:s.Display.Flex},n&&o.default.createElement(y.AssetBalance,{asset:e,error:b||J}),D&&o.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.errorDefault},I(A)),n&&j&&!Q&&o.default.createElement(f.default,{asset:e})))}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-amount.tsx"}],[5778,{"../../../../../shared/modules/string-utils":5208,"../../../../ducks/locale/locale":6110,"../../../../hooks/useTokenFiatAmount":6224,"../../../../pages/confirmations/components/simulation-details/formatAmount":6454,"../../../../selectors":6820,"../../token-list-item":5943,"bignumber.js":3565,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({address:e,image:t,symbol:n,string:o,tooltipText:m}){const f=(0,r.useSelector)(p.getIntlLocale),g=(0,r.useSelector)(s.getTokenList),h=e?Object.values(g).find((t=>(0,u.isEqualCaseInsensitive)(t.symbol,n)&&(0,u.isEqualCaseInsensitive)(t.address,e))):undefined,y=(null==h?void 0:h.name)||n,k=(null==h?void 0:h.iconUrl)||t,b=(0,l.useTokenFiatAmount)(e??undefined,o,n,{},!0),x=o?`${(0,d.formatAmount)(f,new i.BigNumber(o||"0",10))} ${n}`:undefined;return a.default.createElement(c.TokenListItem,{tokenSymbol:n,tokenImage:k,secondary:x,primary:b,title:y,tooltipText:m,isPrimaryTokenSymbolHidden:!0})};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-redux"),i=e("bignumber.js"),s=e("../../../../selectors"),l=e("../../../../hooks/useTokenFiatAmount"),c=e("../../token-list-item"),u=e("../../../../../shared/modules/string-utils"),d=e("../../../../pages/confirmations/components/simulation-details/formatAmount"),p=e("../../../../ducks/locale/locale")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/Asset.tsx"}],[5779,{"../..":5837,"../../../../../shared/constants/transaction":5168,"../../../../ducks/metamask/metamask":6111,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useCurrencyDisplay":6192,"../../../../selectors":6820,"../../../component-library":5680,"./Asset":5778,classnames:3684,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({handleAssetChange:e,asset:t,tokenList:n,isTokenDisabled:f}){const h=null==t?void 0:t.address,y=(0,a.useSelector)(s.getNativeCurrency),k=(0,a.useSelector)(i.getSelectedAccountCachedBalance),b=(0,a.useSelector)(i.getCurrentCurrency),[x]=(0,l.useCurrencyDisplay)(k,{currency:b,hideLabel:!0}),[v]=(0,l.useCurrencyDisplay)(k,{currency:y});return o.default.createElement(u.Box,{className:"tokens-main-view-modal"},n.map((t=>{var n;const a=(null===(n=t.address)||void 0===n?void 0:n.toLowerCase())===(null==h?void 0:h.toLowerCase()),i=(null==f?void 0:f(t))??!1;return o.default.createElement(u.Box,{padding:0,gap:0,margin:0,key:t.symbol,backgroundColor:a?d.BackgroundColor.primaryMuted:d.BackgroundColor.transparent,className:(0,r.default)("multichain-asset-picker-list-item",{"multichain-asset-picker-list-item--selected":a,"multichain-asset-picker-list-item--disabled":i}),"data-testid":"asset-list-item",onClick:()=>{i||e(t)}},a?o.default.createElement(u.Box,{className:"multichain-asset-picker-list-item__selected-indicator",borderRadius:d.BorderRadius.pill,backgroundColor:d.BackgroundColor.primaryDefault}):null,o.default.createElement(u.Box,{key:t.address,padding:0,display:d.Display.Block,flexWrap:d.FlexWrap.NoWrap,alignItems:d.AlignItems.center},o.default.createElement(u.Box,{marginInlineStart:2},t.type===c.AssetType.native?o.default.createElement(p.TokenListItem,{title:t.symbol,primary:x,tokenSymbol:t.symbol,secondary:v,tokenImage:t.image,isOriginalTokenSymbol:t.symbol===y,isPrimaryTokenSymbolHidden:!0}):o.default.createElement(m.default,g({key:t.address},t,{tooltipText:i?"swapTokenNotAvailable":undefined})))))})))};var o=f(e("react")),a=e("react-redux"),r=f(e("classnames")),i=e("../../../../selectors"),s=e("../../../../ducks/metamask/metamask"),l=e("../../../../hooks/useCurrencyDisplay"),c=e("../../../../../shared/constants/transaction"),u=e("../../../component-library"),d=e("../../../../helpers/constants/design-system"),p=e("../.."),m=f(e("./Asset"));function f(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},g.apply(this,arguments)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/AssetList.tsx"}],[5780,{"../../../../../shared/constants/network":5154,"../../../../ducks/metamask/metamask":6111,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../../selectors":6820,"../../../component-library":5680,"../../network-list-item":5843,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPickerModalNetwork=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-redux"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../../../shared/constants/network"),c=e("../../../../hooks/useI18nContext"),u=e("../../network-list-item"),d=e("../../../../selectors"),p=e("../../../../ducks/metamask/metamask");n.AssetPickerModalNetwork=({isOpen:e,onClose:t,onBack:n,network:o,networks:m,onNetworkChange:f})=>{const g=(0,c.useI18nContext)(),h=(0,r.useSelector)(p.getProviderConfig),y=(0,r.useSelector)(d.getNetworkConfigurationsByChainId),k=o??((null==h?void 0:h.chainId)&&y[h.chainId]),b=m??Object.values(y)??[];return a.default.createElement(s.Modal,{isOpen:e,onClose:t,className:"multichain-asset-picker__network-modal"},a.default.createElement(s.ModalOverlay,null),a.default.createElement(s.ModalContent,{modalDialogProps:{padding:0}},a.default.createElement(s.ModalHeader,{onBack:n,onClose:t},g("bridgeSelectNetwork")),a.default.createElement(s.Box,{className:"multichain-asset-picker__network-list"},a.default.createElement(s.Box,{style:{gridColumnStart:1,gridColumnEnd:3},display:i.Display.Flex,flexDirection:i.FlexDirection.Column,height:i.BlockSize.Full},b.map((e=>{const{name:t,chainId:o}=e;return a.default.createElement(u.NetworkListItem,{key:o,name:t,selected:(null==k?void 0:k.chainId)===o,onClick:()=>{f(e),n()},iconSrc:l.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[o],focus:!1})}))))))}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-network.tsx"}],[5781,{"../../../../helpers/constants/design-system":6123,"../../../../helpers/constants/zendesk-url":6136,"../../../../hooks/useI18nContext":6202,"../../../../hooks/useNftsCollections":6210,"../../../../selectors":6820,"../../../app/assets/nfts/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab":5267,"../../../app/assets/nfts/nfts-items/nfts-items":5270,"../../../component-library":5680,"../../../ui/spinner":6055,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPickerModalNftTab=function({searchQuery:e,onClose:t,renderSearch:n}){const f=(0,l.useI18nContext)(),{collections:g,previouslyOwnedCollection:h}=(0,m.useNftsCollections)(),y=Object.keys(g),k=y.reduce(((t,n)=>{var o;const a=g[n];return(null===(o=a.collectionName)||void 0===o?void 0:o.toLowerCase().includes(e.toLowerCase()))?(t.push(a),t):t}),[]).filter((e=>e.nfts.length>0)),b=Object.keys(k).length>0,x=(0,a.useSelector)(d.getUseNftDetection),v=(0,a.useSelector)(d.getIsMainnet),C=(0,a.useSelector)(d.getNftIsStillFetchingIndication);if(!b&&C)return o.default.createElement(i.Box,{className:"modal-tab__loading","data-testid":"spinner"},o.default.createElement(u.default,{color:"var(--color-warning-default)",className:"loading-overlay__spinner"}));if(b)return o.default.createElement(i.Box,{className:"modal-tab__main-view"},n(),o.default.createElement(r.default,{collections:k,previouslyOwnedCollection:h,isModal:!0,onCloseModal:()=>t(),showTokenId:!0,displayPreviouslyOwnedCollection:!1}),C?o.default.createElement(i.Box,{className:"modal-tab__fetching"},o.default.createElement(u.default,{color:"var(--color-warning-default)",className:"loading-overlay__spinner"})):null);return o.default.createElement(o.default.Fragment,null,v&&!x&&o.default.createElement(i.Box,{paddingTop:4,paddingInlineStart:4,paddingInlineEnd:4},o.default.createElement(p.default,null)),o.default.createElement(i.Box,{padding:12,display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},o.default.createElement(i.Box,{justifyContent:s.JustifyContent.center},o.default.createElement("img",{src:"./images/no-nfts.svg"})),o.default.createElement(i.Box,{marginTop:4,marginBottom:12,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,flexDirection:s.FlexDirection.Column,className:"nfts-tab__link"},o.default.createElement(i.Text,{color:s.TextColor.textMuted,variant:s.TextVariant.headingSm,textAlign:s.TextAlign.Center,as:"h4"},f("noNFTs")),o.default.createElement(i.ButtonLink,{size:i.ButtonLinkSize.Sm,href:c.default.NFT_TOKENS,externalLink:!0},f("learnMoreUpperCase")))))};var o=f(e("react")),a=e("react-redux"),r=f(e("../../../app/assets/nfts/nfts-items/nfts-items")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),c=f(e("../../../../helpers/constants/zendesk-url")),u=f(e("../../../ui/spinner")),d=e("../../../../selectors"),p=f(e("../../../app/assets/nfts/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab")),m=e("../../../../hooks/useNftsCollections");function f(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-nft-tab.tsx"}],[5782,{"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Search=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}n.Search=({searchQuery:e,onChange:t,isNFTSearch:n=!1,props:o})=>{const c=(0,s.useI18nContext)();return a.default.createElement(r.Box,l({padding:4},o),a.default.createElement(r.TextFieldSearch,{borderRadius:i.BorderRadius.LG,placeholder:c(n?"searchNfts":"searchTokens"),value:e,onChange:e=>t(e.target.value),error:!1,autoFocus:!0,autoComplete:!1,width:i.BlockSize.Full,clearButtonOnClick:()=>t(""),clearButtonProps:{size:r.ButtonIconSize.Sm},showClearButton:!0,className:"asset-picker-modal__search-list",inputProps:{"data-testid":"asset-picker-modal-search-input"},endAccessory:null,size:r.TextFieldSearchSize.Lg}))}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-search.tsx"}],[5783,{"../../../../hooks/useI18nContext":6202,"../../../ui/tabs":6059,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TabName=n.AssetPickerModalTabs=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../../hooks/useI18nContext"),i=e("../../../ui/tabs");let s=n.TabName=function(e){return e.TOKENS="tokens",e.NFTS="nfts",e}({});n.AssetPickerModalTabs=({defaultActiveTabKey:e=s.TOKENS,children:t,visibleTabs:n=[s.TOKENS,s.NFTS]})=>{const o=(0,r.useI18nContext)();return n.length>1?a.default.createElement(i.Tabs,{defaultActiveTabKey:e,tabsClassName:"modal-tab__tabs"},n.map((e=>a.default.createElement(i.Tab,{key:e,activeClassName:"modal-tab__tab--active",className:"modal-tab__tab",name:o(e),tabKey:e},t.find((({key:t})=>t===e)))))):a.default.createElement(a.default.Fragment,null,n.map((e=>t.find((({key:t})=>t===e)))))}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs.tsx"}],[5784,{"../../../../../shared/constants/network":5154,"../../../../../shared/constants/transaction":5168,"../../../../../shared/modules/string-utils":5208,"../../../../ducks/metamask/metamask":6111,"../../../../ducks/send":6116,"../../../../ducks/swaps/swaps":6119,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../../hooks/useTokenTracker":6225,"../../../../hooks/useTokensToSearch":6226,"../../../../selectors":6820,"../../../component-library":5680,"./AssetList":5779,"./asset-picker-modal-nft-tab":5781,"./asset-picker-modal-search":5782,"./asset-picker-modal-tabs":5783,lodash:4483,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPickerModal=function({header:e,isOpen:t,onClose:n,asset:o,onAssetChange:T,sendingAsset:E,network:w,onNetworkPickerClick:M,customTokenListGenerator:S,...I}){var A;const N=(0,c.useI18nContext)(),[O,P]=(0,a.useState)(""),D=(0,r.useSelector)(h.getSwapsBlockedTokens),B=(0,a.useMemo)((()=>new Set(D)),[D]),j=(0,a.useCallback)(T,[T]),F=(0,r.useSelector)(d.getCurrentChainId),R=(0,r.useSelector)(d.getNativeCurrencyImage),L=(0,r.useSelector)(p.getNativeCurrency),$=(0,r.useSelector)(d.getSelectedAccountCachedBalance),z=(0,r.useSelector)(d.getTokenExchangeRates,i.isEqual),W=(0,r.useSelector)(p.getConversionRate),U=(0,r.useSelector)(d.getCurrentCurrency),{address:V}=(0,r.useSelector)(d.getSelectedInternalAccount),H=(0,r.useSelector)(d.getShouldHideZeroBalanceTokens),G=(0,r.useSelector)(d.getAllTokens),q=(null==G||null===(A=G[F])||void 0===A?void 0:A[V])??[],{tokensWithBalances:K}=(0,m.useTokenTracker)({tokens:q,address:V,hideZeroBalanceTokens:Boolean(H)}),J=(0,r.useSelector)(d.getTokenList),Y=(0,r.useSelector)(f.getTopAssets,i.isEqual),Q=(0,a.useCallback)((({address:e,symbol:t})=>!(null==E||!E.symbol)&&(!(0,y.isEqualCaseInsensitive)(E.symbol,t)&&B.has(e||""))),[null==E?void 0:E.symbol,B]),X=(0,a.useMemo)((()=>(0,i.uniqBy)([...K,...q],"address")),[K,q]),Z=(0,a.useCallback)((function*(e){const t={address:null,symbol:L,decimals:18,image:R,balance:$,string:undefined,type:u.AssetType.native};e(t.symbol,t.address)&&(yield t);const n=[];for(const t of X)e(t.symbol,t.address)&&(yield t);for(const t of Object.keys(Y)){const o=null==J?void 0:J[t];if(o&&e(o.symbol,o.address)){if(Q(o)){n.push(o);continue}yield o}}for(const t of Object.values(J))e(t.symbol,t.address)&&(yield t);for(const e of n)yield e}),[L,R,$,X,Y,J,Q]),ee=(0,a.useMemo)((()=>{const e=[],t=new Set,n=(e,n)=>{const o=O.trim();return(!o||(null==e?void 0:e.toLowerCase().includes(o.toLowerCase())))&&!t.has(null==n?void 0:n.toLowerCase())};for(const a of(S??Z)(n)){var o;if(t.add(null===(o=a.address)||void 0===o?void 0:o.toLowerCase()),e.push(S?a:(0,g.getRenderableTokenData)(a.address?{...a,...J[a.address.toLowerCase()],type:u.AssetType.token}:a,z,W,U,F,J)),e.length>_)break}return e}),[O,z,W,U,F,Z,S]);return a.default.createElement(s.Modal,{className:"asset-picker-modal",isOpen:t,onClose:n,"data-testid":"asset-picker-modal"},a.default.createElement(s.ModalOverlay,null),a.default.createElement(s.ModalContent,{modalDialogProps:{padding:0}},a.default.createElement(s.ModalHeader,{onClose:n},a.default.createElement(s.Text,{variant:l.TextVariant.headingSm,textAlign:l.TextAlign.Center},e)),(null==E?void 0:E.image)&&(null==E?void 0:E.symbol)&&a.default.createElement(s.Box,{display:l.Display.Flex,gap:1,alignItems:l.AlignItems.center,marginInline:"auto"},a.default.createElement(s.AvatarToken,{borderRadius:l.BorderRadius.full,src:E.image,size:s.AvatarTokenSize.Xs}),a.default.createElement(s.Text,{variant:l.TextVariant.bodySm},N("sendingAsset",[E.symbol]))),M&&a.default.createElement(s.Box,{className:"network-picker"},a.default.createElement(s.PickerNetwork,{label:(null==w?void 0:w.name)??"Select network",src:(null==w?void 0:w.chainId)&&k.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[w.chainId],onClick:M,"data-testid":"multichain-asset-picker__network"})),a.default.createElement(s.Box,{className:"modal-tab__wrapper"},a.default.createElement(b.AssetPickerModalTabs,I,a.default.createElement(a.default.Fragment,{key:b.TabName.TOKENS},a.default.createElement(C.Search,{searchQuery:O,onChange:e=>P(e)}),a.default.createElement(v.default,{handleAssetChange:j,asset:(null==o?void 0:o.type)===u.AssetType.NFT?undefined:o,tokenList:ee,isTokenDisabled:Q})),a.default.createElement(x.AssetPickerModalNftTab,{key:b.TabName.NFTS,searchQuery:O,onClose:n,renderSearch:()=>a.default.createElement(C.Search,{isNFTSearch:!0,searchQuery:O,onChange:e=>P(e)})})))))};var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("lodash"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),u=e("../../../../../shared/constants/transaction"),d=e("../../../../selectors"),p=e("../../../../ducks/metamask/metamask"),m=e("../../../../hooks/useTokenTracker"),f=e("../../../../ducks/swaps/swaps"),g=e("../../../../hooks/useTokensToSearch"),h=e("../../../../ducks/send"),y=e("../../../../../shared/modules/string-utils"),k=e("../../../../../shared/constants/network"),b=e("./asset-picker-modal-tabs"),x=e("./asset-picker-modal-nft-tab"),v=(o=e("./AssetList"))&&o.__esModule?o:{default:o},C=e("./asset-picker-modal-search");function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const _=30}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal.tsx"}],[5785,{"../../../../../shared/constants/network":5154,"../../../../../shared/constants/transaction":5168,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../../pages/confirmations/send/send.utils":6586,"../../../../selectors":6820,"../../../component-library":5680,"../../../ui/tooltip":6073,"../asset-picker-modal/asset-picker-modal":5784,"../asset-picker-modal/asset-picker-modal-network":5780,"../asset-picker-modal/asset-picker-modal-tabs":5783,"../constants":5787,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPicker=function({header:e,asset:t,onAssetChange:n,networkProps:o,sendingAsset:k,onClick:v,isDisabled:C=!1,visibleTabs:T,customTokenListGenerator:_}){var E;const w=(0,m.useI18nContext)(),[M,S]=(0,a.useState)(!1),I=(null==t?void 0:t.type)===l.AssetType.NFT,A=null==t?void 0:t.image,N=null==t?void 0:t.symbol,O=N&&N.length>p.LARGE_SYMBOL_LENGTH,P=O&&!I?`${N.substring(0,p.LARGE_SYMBOL_LENGTH-1)}...`:N,D=(0,r.useSelector)(u.getCurrentNetwork),B=(0,r.useSelector)(u.getNetworkConfigurationsByChainId),j=(null==o?void 0:o.network)??((null==D?void 0:D.chainId)&&B[D.chainId]),[F,R]=(0,a.useState)(!1);return a.default.createElement(a.default.Fragment,null,o&&a.default.createElement(h.AssetPickerModalNetwork,b({isOpen:F,onClose:()=>{R(!1)},onBack:()=>{R(!1),S(!0)}},o)),a.default.createElement(c.AssetPickerModal,{visibleTabs:T,header:e,isOpen:M,onClose:()=>S(!1),asset:t,onAssetChange:e=>{n(e),S(!1)},sendingAsset:k,network:null!=o&&o.network?o.network:undefined,onNetworkPickerClick:o?()=>{S(!1),R(!0)}:undefined,defaultActiveTabKey:(null==t?void 0:t.type)===l.AssetType.NFT?g.TabName.NFTS:g.TabName.TOKENS,customTokenListGenerator:_}),a.default.createElement(i.ButtonBase,{"data-testid":"asset-picker-button",className:"asset-picker",disabled:C,display:s.Display.Flex,alignItems:s.AlignItems.center,gap:2,padding:2,paddingLeft:2,paddingRight:2,justifyContent:I?s.JustifyContent.spaceBetween:undefined,backgroundColor:s.BackgroundColor.transparent,onClick:()=>{o&&!o.network?R(!0):S(!0),null==v||v()},endIconName:i.IconName.ArrowDown,endIconProps:{color:s.IconColor.iconDefault,marginInlineStart:0,display:C?s.Display.None:s.Display.InlineBlock},title:C?w("swapTokenNotAvailable"):undefined},t?a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,gap:3},a.default.createElement(i.Box,{display:s.Display.Flex},a.default.createElement(i.BadgeWrapper,{badge:a.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Xs,name:(null==j?void 0:j.name)??"",src:(null==j?void 0:j.chainId)&&y.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[j.chainId],backgroundColor:null===(E=Object.entries({[y.GOERLI_DISPLAY_NAME]:s.BackgroundColor.goerli,[y.SEPOLIA_DISPLAY_NAME]:s.BackgroundColor.sepolia}).find((([e])=>{var t;return null==j||null===(t=j.nativeCurrency)||void 0===t?void 0:t.includes(e)})))||void 0===E?void 0:E[1],borderColor:A?s.BorderColor.borderMuted:s.BorderColor.borderDefault})},a.default.createElement(i.AvatarToken,b({borderRadius:I?s.BorderRadius.LG:s.BorderRadius.full,src:A??undefined,size:i.AvatarTokenSize.Md,name:N},I&&{backgroundColor:s.BackgroundColor.transparent})))),a.default.createElement(d.default,{disabled:!O,title:N,position:"bottom",wrapperClassName:"mm-box"},a.default.createElement(i.Text,{className:"asset-picker__symbol",variant:s.TextVariant.bodyMd,color:s.TextColor.textDefault},P),I&&(null==t?void 0:t.tokenId)&&a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},"#",String(t.tokenId).length<x?t.tokenId:(0,f.ellipsify)(String(t.tokenId),6,4)))):a.default.createElement(i.Text,{className:"asset-picker__fallback",variant:s.TextVariant.bodyMd},w("swapSelectToken"))))};var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../../shared/constants/transaction"),c=e("../asset-picker-modal/asset-picker-modal"),u=e("../../../../selectors"),d=(o=e("../../../ui/tooltip"))&&o.__esModule?o:{default:o},p=e("../constants"),m=e("../../../../hooks/useI18nContext"),f=e("../../../../pages/confirmations/send/send.utils"),g=e("../asset-picker-modal/asset-picker-modal-tabs"),h=e("../asset-picker-modal/asset-picker-modal-network"),y=e("../../../../../shared/constants/network");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},b.apply(this,arguments)}const x=13}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker/asset-picker.tsx"}],[5786,{"./asset-picker":5785},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AssetPicker",{enumerable:!0,get:function(){return o.AssetPicker}});var o=e("./asset-picker")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker/index.ts"}],[5787,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LARGE_SYMBOL_LENGTH=void 0;n.LARGE_SYMBOL_LENGTH=7}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/constants.tsx"}],[5788,{"./asset-picker-amount":5777},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AssetPickerAmount",{enumerable:!0,get:function(){return o.AssetPickerAmount}});var o=e("./asset-picker-amount")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/index.ts"}],[5789,{"../../../../shared/constants/metametrics":5150,"../../../../shared/constants/transaction":5168,"../../../../shared/modules/conversion.utils":5188,"../../../contexts/metametrics":6090,"../../../ducks/send":6116,"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../component-library":5680,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({asset:e}){const t=(0,c.useI18nContext)(),n=(0,a.useSelector)(r.getSendMaxModeState),m=(0,a.useDispatch)(),f=(0,o.useContext)(i.MetaMetricsContext),g=(0,a.useSelector)(r.getSendAnalyticProperties);return e.type===d.AssetType.NFT||Number((0,p.hexToDecimal)(e.balance||"0x0"))<=0?null:o.default.createElement(l.ButtonLink,{className:"asset-picker-amount__max-clear",onClick:()=>{f({event:'Clicked "Amount Max"',category:s.MetaMetricsEventCategory.Transactions,properties:{...g,action:"Edit Screen",legacy_event:!0}}),m((0,r.toggleSendMaxMode)())},marginLeft:"auto",textProps:{variant:u.TextVariant.bodySm},"data-testid":"max-clear-button"},t(n?"clear":"max"))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("../../../ducks/send"),i=e("../../../contexts/metametrics"),s=e("../../../../shared/constants/metametrics"),l=e("../../component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/transaction"),p=e("../../../../shared/modules/conversion.utils");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/max-clear-button.tsx"}],[5790,{"../../../../../shared/modules/Numeric":5183,"../../../ui/unit-input":6079,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NFTInput=function({integerValue:e,onChange:t,className:n}){return o.default.createElement(a.default,{isDisabled:!t,isFocusOnInput:Boolean(t),type:"number",step:1,min:0,dataTestId:"nft-input",onChange:e=>{if(!t)return;const n=new r.Numeric(e,10);Number.isInteger(n.toNumber())&&t(n.toPrefixedHexString(),String(e))},value:e,className:n,keyPressRegex:s})};var o=i(e("react")),a=i(e("../../../ui/unit-input")),r=e("../../../../../shared/modules/Numeric");function i(e){return e&&e.__esModule?e:{default:e}}const s=/^[0-9]*$/u}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/nft-input/nft-input.tsx"}],[5791,{"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClick:e}){const t=(0,s.useI18nContext)();return a.default.createElement(i.ButtonIcon,{backgroundColor:r.BackgroundColor.transparent,iconName:i.IconName.SwapVertical,size:i.ButtonIconSize.Sm,color:r.IconColor.primaryDefault,onClick:e,ariaLabel:t("switchInputCurrency"),className:"asset-picker-amount__input__swap"})};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),s=e("../../../../hooks/useI18nContext")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/swappable-currency-input/swap-icon.tsx"}],[5792,{"../../../../../shared/constants/transaction":5168,"../../../../ducks/app/app":6099,"../../../../ducks/send":6116,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../app/currency-input":5326,"../../../app/currency-input/hooks/useTokenExchangeRate":5325,"../../../component-library":5680,"../nft-input/nft-input":5790,"../utils":5793,"./swap-icon":5791,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SwappableCurrencyInput=function({assetType:e,asset:t,amount:{value:n},isAmountLoading:h,onAmountChange:y}){var k,b,x;const v=(0,a.useDispatch)(),C=(0,r.useI18nContext)(),T=(0,a.useSelector)(p.getIsFiatPrimary),_=(0,f.default)(null==t||null===(k=t.details)||void 0===k?void 0:k.address),E=(0,a.useSelector)(i.getSendMaxModeState),w=o.default.createElement(d.default,{className:"asset-picker-amount__input",isFiatPreferred:T&&Boolean(null==_?void 0:_.toNumber()),onChange:y,hexValue:n,swapIcon:e=>o.default.createElement(g.default,{onClick:e}),onPreferenceToggle:(0,o.useCallback)((()=>v((0,s.toggleCurrencySwitch)())),[v]),asset:null==t?void 0:t.details,isSkeleton:h,isMatchingUpstream:E}),M=o.default.createElement(m.NFTInput,{integerValue:parseInt(n,16),onChange:y,className:"asset-picker-amount__input-nft"});switch(e){case l.AssetType.token:case l.AssetType.native:return w;case l.AssetType.NFT:return(null===(b=t.details)||void 0===b?void 0:b.standard)===l.TokenStandard.ERC721?null:M}return o.default.createElement(c.Box,{marginLeft:"auto"},o.default.createElement(c.Text,{variant:u.TextVariant.bodySm},C("tokenId")),o.default.createElement(c.Text,{variant:u.TextVariant.bodySm,fontWeight:u.FontWeight.Bold,marginLeft:10},null==t||null===(x=t.details)||void 0===x?void 0:x.tokenId))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("../../../../hooks/useI18nContext"),i=e("../../../../ducks/send"),s=e("../../../../ducks/app/app"),l=e("../../../../../shared/constants/transaction"),c=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),d=h(e("../../../app/currency-input")),p=e("../utils"),m=e("../nft-input/nft-input"),f=h(e("../../../app/currency-input/hooks/useTokenExchangeRate")),g=h(e("./swap-icon"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/swappable-currency-input/swappable-currency-input.tsx"}],[5793,{reselect:4909},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsFiatPrimary=void 0;var o=e("reselect");n.getIsFiatPrimary=(0,o.createSelector)((function(e){return e.appState.sendInputCurrencySwitched}),(e=>Boolean(e)))}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/utils.ts"}],[5794,{"../../../helpers/constants/design-system":6123,"../../../selectors":6820,"../../component-library":5680,"./avatar-group.types":5795,classnames:3684,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AvatarGroup=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=(o=e("classnames"))&&o.__esModule?o:{default:o},i=e("react-redux"),s=e("../../../selectors"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system"),u=e("./avatar-group.types");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.AvatarGroup=({className:e="",limit:t=4,members:n=[],size:o=l.AvatarTokenSize.Xs,avatarType:d=u.AvatarType.TOKEN,borderColor:p})=>{const m=n.length,f=n.slice(0,t).reverse(),g=m>t,h=(0,i.useSelector)(s.getUseBlockie);let y="";y=l.AvatarTokenSize.Xs?"-8px":l.AvatarTokenSize.Sm?"-12px":"-16px";const k=`+${(m-t).toLocaleString()}`;return a.createElement(l.Box,{alignItems:c.AlignItems.center,display:c.Display.Flex,className:(0,r.default)("multichain-avatar-group",e),"data-testid":"avatar-group",gap:1},a.createElement(l.Box,{display:c.Display.Flex},f.map(((e,t)=>a.createElement(l.Box,{borderRadius:c.BorderRadius.full,key:t,style:{marginLeft:0===t?"0":y}},d===u.AvatarType.TOKEN?a.createElement(l.AvatarToken,{src:e.avatarValue,name:e.symbol,size:o,borderColor:p}):a.createElement(l.AvatarAccount,{size:l.AvatarAccountSize.Xs,address:e.avatarValue,variant:h?l.AvatarAccountVariant.Blockies:l.AvatarAccountVariant.Jazzicon,borderColor:p}))))),g?a.createElement(l.Box,null,a.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative},k)):null)}}}},{package:"$root$",file:"ui/components/multichain/avatar-group/avatar-group.tsx"}],[5795,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AvatarType=void 0;n.AvatarType=function(e){return e.TOKEN="TOKEN",e.ACCOUNT="ACCOUNT",e}({})}}},{package:"$root$",file:"ui/components/multichain/avatar-group/avatar-group.types.tsx"}],[5796,{"./avatar-group":5794},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AvatarGroup",{enumerable:!0,get:function(){return o.AvatarGroup}});var o=e("./avatar-group")}}},{package:"$root$",file:"ui/components/multichain/avatar-group/index.ts"}],[5797,{"../../../helpers/constants/design-system":6123,"../../../selectors":6820,"../../component-library":5680,"../../ui/tooltip":6073,classnames:3684,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BadgeStatus=void 0;var o=u(e("react")),a=u(e("classnames")),r=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=e("../../../selectors"),c=u(e("../../ui/tooltip"));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(this,arguments)}n.BadgeStatus=({className:e="",badgeBackgroundColor:t=i.BackgroundColor.backgroundAlternative,badgeBorderColor:n=i.BorderColor.borderMuted,address:u,isConnectedAndNotActive:p=!1,text:m,...f})=>{const g=(0,r.useSelector)(l.getUseBlockie);return o.default.createElement(s.Box,d({className:(0,a.default)("multichain-badge-status",e),"data-testid":"multichain-badge-status",as:"button",display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,backgroundColor:i.BackgroundColor.transparent},f),o.default.createElement(c.default,{style:{display:"flex"},title:m,"data-testid":"multichain-badge-status__tooltip",position:"bottom"},o.default.createElement(s.BadgeWrapper,{positionObj:p?{bottom:2,right:5}:{bottom:-1,right:2},badge:o.default.createElement(s.Box,{className:(0,a.default)("multichain-badge-status__badge",{"multichain-badge-status__badge-not-connected":p}),backgroundColor:t,borderRadius:i.BorderRadius.full,borderColor:n,borderWidth:p?2:4})},o.default.createElement(s.AvatarAccount,{borderColor:i.BorderColor.transparent,size:s.AvatarAccountSize.Md,address:u,variant:g?s.AvatarAccountVariant.Blockies:s.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}))))}}}},{package:"$root$",file:"ui/components/multichain/badge-status/badge-status.tsx"}],[5798,{"./badge-status":5797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BadgeStatus",{enumerable:!0,get:function(){return o.BadgeStatus}});var o=e("./badge-status")}}},{package:"$root$",file:"ui/components/multichain/badge-status/index.ts"}],[5799,{"..":5837,"../../../helpers/constants/design-system":6123,"../../../helpers/utils/util":6171,"../../../hooks/useI18nContext":6202,"../../../store/actions":6833,"../../component-library":5680,"../../ui/tooltip/tooltip":6074,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectAccountsModalList=void 0;var o=p(e("react")),a=e("react-redux"),r=e("../../component-library"),i=e("../../../hooks/useI18nContext"),s=e(".."),l=e("../../../helpers/constants/design-system"),c=p(e("../../ui/tooltip/tooltip")),u=e("../../../helpers/utils/util"),d=e("../../../store/actions");function p(e){return e&&e.__esModule?e:{default:e}}n.ConnectAccountsModalList=({onClose:e,allAreSelected:t,deselectAll:n,selectAll:p,handleAccountClick:m,selectedAccounts:f,accounts:g,checked:h,isIndeterminate:y,onAccountsUpdate:k,activeTabOrigin:b})=>{const x=(0,i.useI18nContext)(),v=(0,a.useDispatch)();return o.default.createElement(r.Modal,{isOpen:!0,onClose:e,"data-testid":"connect-more-accounts"},o.default.createElement(r.ModalOverlay,null),o.default.createElement(r.ModalContent,null,o.default.createElement(r.ModalHeader,{"data-testid":"connect-more-accounts-title",onClose:e},x("connectMoreAccounts")),o.default.createElement(r.ModalBody,null,o.default.createElement(r.Box,{padding:4,display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween},o.default.createElement(r.Checkbox,{label:x("selectAll"),isChecked:h,onClick:()=>t()?n():p(),isIndeterminate:y}),o.default.createElement(r.Text,{color:l.TextColor.textAlternative,as:"div",display:l.Display.Flex},o.default.createElement(c.default,{distance:10,html:x("connectedAccountsListTooltip",[o.default.createElement("strong",null,(0,u.getURLHost)(b))]),position:"top"},o.default.createElement(r.Icon,{marginInlineEnd:2,name:r.IconName.Info,color:l.IconColor.iconMuted})),x("permissions"))),g.map((t=>{const n=f.includes(t.address);return o.default.createElement(s.AccountListItem,{onClick:()=>m(t.address),account:t,selected:n,key:t.address,closeMenu:e,startAccessory:o.default.createElement(r.Checkbox,{isChecked:n})})}))),o.default.createElement(r.ModalFooter,null,o.default.createElement(r.ButtonPrimary,{"data-testid":"connect-more-accounts-button",onClick:()=>{v((0,d.addPermittedAccounts)(b,f)),e(),k()},size:r.ButtonPrimarySize.Lg,block:!0,disabled:0===f.length},x("confirm")))))}}}},{package:"$root$",file:"ui/components/multichain/connect-accounts-modal/connect-accounts-modal-list.tsx"}],[5800,{"../../../selectors/selectors":6828,"./connect-accounts-modal-list":5799,"@metamask/keyring-api":1642,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectAccountsModal=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("@metamask/keyring-api"),i=e("../../../selectors/selectors"),s=e("./connect-accounts-modal-list");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.ConnectAccountsModal=({onClose:e,onAccountsUpdate:t,activeTabOrigin:n})=>{const l=(0,a.useSelector)((e=>(0,i.getUnconnectedAccounts)(e,n).filter((e=>(0,r.isEvmAccountType)(e.type))))),[c,u]=(0,o.useState)([]),d=()=>l.length===c.length,p=d(),m=!p&&c.length>0;return o.default.createElement(s.ConnectAccountsModalList,{accounts:l,selectedAccounts:c,allAreSelected:d,deselectAll:()=>{u([])},selectAll:()=>{const e=l.map((e=>e.address));u(e)},handleAccountClick:e=>{const t=c.indexOf(e);let n=[];n=-1===t?[...c,e]:c.filter(((e,n)=>n!==t)),u(n)},checked:p,isIndeterminate:m,onClose:e,onAccountsUpdate:t,activeTabOrigin:n})}}}},{package:"$root$",file:"ui/components/multichain/connect-accounts-modal/connect-accounts-modal.tsx"}],[5801,{"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../../store/actions":6833,"../../component-library":5680,"../../ui/menu":6025,"../permission-details-modal/permission-details-modal":5934,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectedAccountsMenu=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("../../component-library"),i=e("../../ui/menu"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=e("../../../store/actions"),u=e("../../../selectors"),d=e("../permission-details-modal/permission-details-modal");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=i.MenuItem;n.ConnectedAccountsMenu=({isOpen:e,account:t,anchorElement:n,disableAccountSwitcher:i=!1,onClose:p,onActionClick:f,activeTabOrigin:g})=>{const h=(0,a.useDispatch)(),y=(0,l.useI18nContext)(),k=(0,o.useRef)(null),[b,x]=(0,o.useState)(!1),v=(0,a.useSelector)(u.getPermissionsForActiveTab),C=(0,o.useCallback)((e=>{null!=k&&k.current&&!k.current.contains(e.target)&&p()}),[p]);(0,o.useEffect)((()=>(document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)})),[C]);const T=(0,o.useCallback)((e=>{var t;"Tab"===e.key&&null!=k&&null!==(t=k.current)&&void 0!==t&&t.contains(e.target)&&p&&p()}),[p]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(r.Popover,{className:"multichain-connected-accounts-menu__popover",referenceElement:n,role:r.PopoverRole.Dialog,position:r.PopoverPosition.Bottom,offset:[0,0],padding:0,isOpen:e,flip:!0,preventOverflow:!0,isPortal:!0},o.default.createElement(r.ModalFocus,{restoreFocus:!0,initialFocusRef:{current:n}},o.default.createElement(r.Box,{onKeyDown:T,ref:k},null!=v&&v.length?o.default.createElement(m,{iconName:r.IconName.SecurityTick,"data-testid":"permission-details-menu-item",onClick:()=>{x(!0),p()}},o.default.createElement(r.Text,{variant:s.TextVariant.bodyMd},y("permissionDetails"))):null,i?null:o.default.createElement(m,{iconName:r.IconName.SwapHorizontal,"data-testid":"switch-account-menu-item",onClick:()=>{h((0,c.setSelectedAccount)(t.address)),p()}},o.default.createElement(r.Text,{variant:s.TextVariant.bodyMd},y("switchToThisAccount"))),o.default.createElement(m,{iconName:r.IconName.Logout,iconColor:s.IconColor.errorDefault,"data-testid":"disconnect-menu-item",onClick:()=>{f(t.metadata.name),h((0,c.removePermittedAccount)(g,t.address))}},o.default.createElement(r.Text,{color:s.TextColor.errorDefault,variant:s.TextVariant.bodyMd},y("disconnect")))))),b?o.default.createElement(d.PermissionDetailsModal,{isOpen:b,account:t,onClick:()=>{h((0,c.removePermittedAccount)(g,t.address))},onClose:()=>x(!1),permissions:v}):null)}}}},{package:"$root$",file:"ui/components/multichain/connected-accounts-menu/connected-accounts-menu.tsx"}],[5802,{"./connected-accounts-menu":5801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConnectedAccountsMenu",{enumerable:!0,get:function(){return o.ConnectedAccountsMenu}});var o=e("./connected-accounts-menu")}}},{package:"$root$",file:"ui/components/multichain/connected-accounts-menu/index.ts"}],[5803,{"../../../helpers/constants/connected-sites":6122,"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../component-library":5680,"../../ui/tooltip":6073,classnames:3684,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectedSiteMenu=void 0;var o=m(e("react")),a=m(e("prop-types")),r=m(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/connected-sites"),l=e("../../../helpers/constants/design-system"),c=e("../../component-library"),u=e("../../../selectors"),d=m(e("../../ui/tooltip")),p=e("../../../hooks/useI18nContext");function m(e){return e&&e.__esModule?e:{default:e}}const f=({className:e,globalMenuColor:t,status:n,text:a,onClick:m,disabled:f})=>{const g=(0,p.useI18nContext)(),h=(0,i.useSelector)(u.getSelectedInternalAccount),y=(0,i.useSelector)(u.getSubjectMetadata)[(0,i.useSelector)(u.getOriginOfCurrentTab)],k=n===s.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT||n===s.STATUS_CONNECTED_TO_SNAP;return o.default.createElement(c.Box,{className:(0,r.default)("multichain-connected-site-menu"+(f?"--disabled":""),e),"data-testid":"connection-menu",as:"button",onClick:m,display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.center,backgroundColor:l.BackgroundColor.backgroundDefault},o.default.createElement(d.default,{title:n===s.STATUS_NOT_CONNECTED?g("statusNotConnectedAccount"):`${null==h?void 0:h.metadata.name} ${a}`,"data-testid":"multichain-connected-site-menu__tooltip",position:"bottom"},o.default.createElement(c.BadgeWrapper,{positionObj:k?{bottom:-1,right:-2,zIndex:1}:{bottom:-1,right:-4,zIndex:1},badge:o.default.createElement(c.Box,{backgroundColor:t,className:(0,r.default)("multichain-connected-site-menu__badge",{"not-connected":k}),borderRadius:l.BorderRadius.full,borderColor:k?l.BorderColor.successDefault:l.BackgroundColor.backgroundDefault,borderWidth:k?2:3})},null!=y&&y.iconUrl?o.default.createElement(c.AvatarFavicon,{name:y.name,size:l.Size.SM,src:y.iconUrl}):o.default.createElement(c.Icon,{name:c.IconName.Global,size:c.IconSize.Sm,color:l.IconColor.iconDefault}))))};n.ConnectedSiteMenu=f,f.propTypes={className:a.default.string,globalMenuColor:a.default.string.isRequired,status:a.default.string.isRequired,text:a.default.string,onClick:a.default.func,disabled:a.default.bool}}}},{package:"$root$",file:"ui/components/multichain/connected-site-menu/connected-site-menu.js"}],[5804,{"./connected-site-menu":5803},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConnectedSiteMenu",{enumerable:!0,get:function(){return o.ConnectedSiteMenu}});var o=e("./connected-site-menu")}}},{package:"$root$",file:"ui/components/multichain/connected-site-menu/index.js"}],[5805,{"../../../helpers/constants/connected-sites":6122,"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../badge-status":5798,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectedStatus=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../selectors"),l=e("../../../helpers/constants/connected-sites"),c=e("../../../hooks/useI18nContext"),u=e("../badge-status");n.ConnectedStatus=({address:e="",isActive:t})=>{const n=(0,c.useI18nContext)(),o=(0,r.useSelector)((t=>(0,s.isAccountConnectedToCurrentTab)(t,e)));let d=l.STATUS_NOT_CONNECTED;t?d=l.STATUS_CONNECTED:o&&(d=l.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT);let p=i.BackgroundColor.backgroundDefault,m=i.Color.borderMuted,f=n("statusNotConnected");d===l.STATUS_CONNECTED?(p=i.BackgroundColor.backgroundDefault,m=i.BackgroundColor.successDefault,f=n("active")):d===l.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT&&(p=i.BorderColor.successDefault,m=i.BackgroundColor.backgroundDefault,f=n("tooltipSatusConnectedUpperCase"));const g=o&&!t;return a.default.createElement(u.BadgeStatus,{address:e,badgeBackgroundColor:m,badgeBorderColor:p,text:f,isConnectedAndNotActive:g})}}}},{package:"$root$",file:"ui/components/multichain/connected-status/connected-status.tsx"}],[5806,{"./connected-status":5805},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConnectedStatus",{enumerable:!0,get:function(){return o.ConnectedStatus}});var o=e("./connected-status")}}},{package:"$root$",file:"ui/components/multichain/connected-status/index.ts"}],[5807,{"../../../../shared/constants/metametrics":5150,"../../../contexts/metametrics":6090,"../../../ducks/history/history":6108,"../../../helpers/constants/design-system":6123,"../../../helpers/utils/accounts":6147,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../component-library":5680,"../../component-library/form-text-field/form-text-field":5669,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateAccount=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("react-router-dom"),i=e("../../component-library"),s=e("../../component-library/form-text-field/form-text-field"),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/utils/accounts"),u=e("../../../selectors"),d=e("../../../ducks/history/history"),p=e("../../../../shared/constants/metametrics"),m=e("../../../contexts/metametrics"),f=e("../../../helpers/constants/design-system");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.CreateAccount=o.default.memo(o.default.forwardRef((({getNextAvailableAccountName:e,onCreateAccount:t,onActionComplete:n},g)=>{const h=(0,l.useI18nContext)(),y=(0,r.useHistory)(),k=(0,o.useContext)(m.MetaMetricsContext),b=(0,a.useSelector)(d.getMostRecentOverviewPage),x=(0,a.useSelector)(u.getMetaMaskAccountsOrdered),[v,C]=(0,o.useState)("");(0,o.useEffect)((()=>{e(x).then(C)}),[]);const[T,_]=(0,o.useState)(""),E=T.trim(),{isValidAccountName:w,errorMessage:M}=(0,c.getAccountNameErrorMessage)(x,{t:h},E||v,v),S=(0,o.useCallback)((async e=>{e.preventDefault();try{await t(E||v),k({category:p.MetaMetricsEventCategory.Accounts,event:p.MetaMetricsEventName.AccountAdded,properties:{account_type:p.MetaMetricsEventAccountType.Default,location:"Home"}}),y.push(b)}catch(e){k({category:p.MetaMetricsEventCategory.Accounts,event:p.MetaMetricsEventName.AccountAddFailed,properties:{account_type:p.MetaMetricsEventAccountType.Default,error:e.message}})}}),[E,v,b]);return o.default.createElement(i.Box,{as:"form",onSubmit:S},o.default.createElement(s.FormTextField,{ref:g,size:i.FormTextFieldSize.Lg,gap:2,autoFocus:!0,id:"account-name",label:h("accountName"),placeholder:v,onChange:e=>_(e.target.value),helpText:M,error:!w,onKeyPress:e=>{"Enter"===e.key&&S(e)}}),o.default.createElement(i.Box,{display:f.Display.Flex,marginTop:1,gap:2},o.default.createElement(i.ButtonSecondary,{"data-testid":"cancel-add-account-with-name",type:"button",onClick:async()=>await n(!1),block:!0},h("cancel")),o.default.createElement(i.ButtonPrimary,{"data-testid":"submit-add-account-with-name",type:"submit",disabled:!w,block:!0},h("addAccount"))))})))}}},{package:"$root$",file:"ui/components/multichain/create-account/create-account.tsx"}],[5808,{"./create-account":5807},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateAccount",{enumerable:!0,get:function(){return o.CreateAccount}});var o=e("./create-account")}}},{package:"$root$",file:"ui/components/multichain/create-account/index.js"}],[5809,{"..":5837,"../../../store/actions":6833,"@metamask/keyring-controller":1674,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateEthAccount=void 0;var o=c(e("react")),a=c(e("prop-types")),r=e("react-redux"),i=e("@metamask/keyring-controller"),s=e("../../../store/actions"),l=e("..");function c(e){return e&&e.__esModule?e:{default:e}}const u=({onActionComplete:e})=>{const t=(0,r.useDispatch)();return o.default.createElement(l.CreateAccount,{onActionComplete:e,onCreateAccount:async n=>{const o=await t((0,s.addNewAccount)());n&&t((0,s.setAccountLabel)(o,n)),e(!0)},getNextAvailableAccountName:async()=>await(0,s.getNextAvailableAccountName)(i.KeyringTypes.hd)})};n.CreateEthAccount=u,u.propTypes={onActionComplete:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/create-eth-account/create-eth-account.js"}],[5810,{"./create-eth-account":5809},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateEthAccount",{enumerable:!0,get:function(){return o.CreateEthAccount}});var o=e("./create-eth-account")}}},{package:"$root$",file:"ui/components/multichain/create-eth-account/index.js"}],[5811,{"..":5837,"../../../ducks/history/history":6108,"../../../hooks/useI18nContext":6202,"../../../store/actions":6833,"../../component-library":5680,"@metamask/keyring-controller":1674,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateNamedSnapAccount=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("react-router-dom"),i=e("@metamask/keyring-controller"),s=e(".."),l=e("../../component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../ducks/history/history"),d=e("../../../store/actions");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.CreateNamedSnapAccount=({onActionComplete:e,snapSuggestedAccountName:t})=>{const n=(0,c.useI18nContext)(),p=(0,r.useHistory)(),m=(0,a.useSelector)(u.getMostRecentOverviewPage),f=(0,o.useCallback)((async t=>{await e({success:t})}),[]),g=(0,o.useCallback)((async t=>{await e({success:!0,name:t})}),[]),h=(0,o.useCallback)((async e=>{if(t){let n=1,o=t;const a=t=>e.some((e=>e.metadata.name===t));for(;a(o);)n+=1,o=`${t} ${n}`;return o}return(0,d.getNextAvailableAccountName)(i.KeyringTypes.snap)}),[]),y=(0,o.useCallback)((async()=>{await e({success:!1}),p.push(m)}),[]);return o.default.createElement(l.Box,{padding:4,className:"name-snap-account-page"},o.default.createElement(l.ModalHeader,{padding:4,onClose:y},n("addAccountToMetaMask")),o.default.createElement(s.CreateAccount,{onActionComplete:f,onCreateAccount:g,getNextAvailableAccountName:h}))}}}},{package:"$root$",file:"ui/components/multichain/create-named-snap-account/create-named-snap-account.tsx"}],[5812,{"./create-named-snap-account":5811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateNamedSnapAccount",{enumerable:!0,get:function(){return o.CreateNamedSnapAccount}});var o=e("./create-named-snap-account")}}},{package:"$root$",file:"ui/components/multichain/create-named-snap-account/index.js"}],[5813,{"../../../../shared/constants/metametrics":5150,"../../../contexts/metametrics":6090,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../component-library":5680,classnames:3684,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DetectedTokensBanner=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=p(e("prop-types")),i=p(e("classnames")),s=e("../../../hooks/useI18nContext"),l=e("../../../selectors"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f.apply(this,arguments)}const g=({className:e,actionButtonOnClick:t,...n})=>{const r=(0,s.useI18nContext)(),p=(0,o.useContext)(c.MetaMetricsContext),m=(0,a.useSelector)(l.getDetectedTokensInCurrentNetwork),g=m.map((({address:e,symbol:t})=>`${t} - ${e}`)),h=(0,a.useSelector)(l.getCurrentChainId);return o.default.createElement(d.BannerAlert,f({className:(0,i.default)("multichain-detected-token-banner",e),actionButtonLabel:r("importTokensCamelCase"),actionButtonOnClick:()=>{t(),p({event:u.MetaMetricsEventName.TokenImportClicked,category:u.MetaMetricsEventCategory.Wallet,properties:{source_connection_method:u.MetaMetricsTokenEventSource.Detected,tokens:g,chain_id:h}})},"data-testid":"detected-token-banner"},n),1===m.length?r("numberOfNewTokensDetectedSingular"):r("numberOfNewTokensDetectedPlural",[m.length]))};n.DetectedTokensBanner=g,g.propTypes={actionButtonOnClick:r.default.func.isRequired,className:r.default.string}}}},{package:"$root$",file:"ui/components/multichain/detected-token-banner/detected-token-banner.js"}],[5814,{"./detected-token-banner":5813},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DetectedTokensBanner",{enumerable:!0,get:function(){return o.DetectedTokensBanner}});var o=e("./detected-token-banner")}}},{package:"$root$",file:"ui/components/multichain/detected-token-banner/index.js"}],[5815,{"../../../hooks/useI18nContext":6202,"../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DisconnectType=n.DisconnectAllModal=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../hooks/useI18nContext");n.DisconnectType=function(e){return e.Account="disconnectAllAccountsText",e.Snap="disconnectAllSnapsText",e}({});n.DisconnectAllModal=({onClick:e,onClose:t})=>{const n=(0,i.useI18nContext)();return a.default.createElement(r.Modal,{isOpen:!0,onClose:t,"data-testid":"disconnect-all-modal"},a.default.createElement(r.ModalOverlay,null),a.default.createElement(r.ModalContent,null,a.default.createElement(r.ModalHeader,{onClose:t},n("disconnect")),a.default.createElement(r.ModalBody,null,a.default.createElement(r.Text,null,n("disconnectAllDescriptionText"))),a.default.createElement(r.ModalFooter,null,a.default.createElement(r.Button,{onClick:e,startIconName:r.IconName.Logout,block:!0,danger:!0,"data-testid":"disconnect-all"},n("disconnect")))))}}}},{package:"$root$",file:"ui/components/multichain/disconnect-all-modal/disconnect-all-modal.tsx"}],[5816,{"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../ui/tooltip":6073,classnames:3684,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DropdownEditorStyle=n.DropdownEditor=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=c(e("classnames")),r=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=c(e("../../ui/tooltip"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}let d=n.DropdownEditorStyle=function(e){return e[e.PopoverStyle=0]="PopoverStyle",e[e.BoxStyle=1]="BoxStyle",e}({});n.DropdownEditor=({title:e,placeholder:t,items:n,selectedItemIndex:c,addButtonText:u,error:p,style:m,onItemSelected:f,onItemDeleted:g,onItemAdd:h,onDropdownOpened:y,itemKey:k,itemIsDeletable:b=(()=>!0),renderItem:x,renderTooltip:v,buttonDataTestId:C})=>{const T=(0,s.useI18nContext)(),_=(0,o.useRef)(null),[E,w]=(0,o.useState)(!1),M=()=>o.default.createElement(r.Box,null,null==n?void 0:n.map(((e,t)=>{const s=o.default.createElement(r.Box,{alignItems:i.AlignItems.center,paddingLeft:4,paddingRight:4,display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,key:k(e),onClick:()=>{f(t),w(!1)},className:(0,a.default)("dropdown-editor__item",{"dropdown-editor__item--selected":t===c})},t===c&&o.default.createElement(r.Box,{className:"dropdown-editor__item-selected-pill",borderRadius:i.BorderRadius.pill,backgroundColor:i.BackgroundColor.primaryDefault}),x(e,!0),b(e,n)&&o.default.createElement(r.ButtonIcon,{marginLeft:1,ariaLabel:T("delete"),size:r.ButtonIconSize.Sm,iconName:r.IconName.Trash,"data-testid":`delete-item-${t}`,color:i.IconColor.errorDefault,onClick:e=>{let o;e.stopPropagation(),c===undefined||n.length<=1?o=undefined:t===c?o=0:t>c?o=c:t<c&&(o=c-1),g(t,o)}})),u=v(e,!0);return u?o.default.createElement(l.default,{title:u,position:"bottom"},s):s})),o.default.createElement(r.Box,{onClick:h,padding:4,display:i.Display.Flex,alignItems:i.AlignItems.center,className:"dropdown-editor__item"},o.default.createElement(r.Icon,{color:i.IconColor.primaryDefault,name:r.IconName.Add,size:r.IconSize.Sm,marginRight:2}),o.default.createElement(r.Text,{as:"button",backgroundColor:i.BackgroundColor.transparent,color:i.TextColor.primaryDefault,variant:i.TextVariant.bodySmMedium},u)));let S=i.BorderColor.borderDefault;p?S=i.BorderColor.errorDefault:E&&(S=i.BorderColor.primaryDefault),(0,o.useEffect)((()=>{E&&(null==y||y())}),[E]);const I=null==n?void 0:n[c??-1],A=I?v(I,!1):undefined,N=o.default.createElement(r.Box,{onClick:()=>{w(!E)},className:"dropdown-editor__item-dropdown",display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,borderRadius:i.BorderRadius.LG,borderColor:S,borderWidth:1,paddingLeft:4,paddingRight:4,ref:_},I?x(I,!1):o.default.createElement(r.Input,{className:"dropdown-editor__item-placeholder",placeholder:t,readOnly:!0,tabIndex:-1,paddingTop:3,paddingBottom:3}),o.default.createElement(r.ButtonIcon,{marginLeft:"auto",iconName:E?r.IconName.ArrowUp:r.IconName.ArrowDown,ariaLabel:e,size:r.ButtonIconSize.Md,"data-testid":C}));return o.default.createElement(r.Box,{paddingTop:4},o.default.createElement(r.Label,{variant:i.TextVariant.bodyMdMedium},e),A?o.default.createElement(l.default,{title:A,position:"bottom"},N):N,m===d.PopoverStyle?o.default.createElement(r.Popover,{paddingTop:n&&n.length>0?2:0,paddingBottom:n&&n.length>0?2:0,paddingLeft:0,matchWidth:!0,paddingRight:0,className:"dropdown-editor__item-popover",referenceElement:_.current,position:r.PopoverPosition.Bottom,isOpen:E,onClickOutside:()=>w(!1)},M()):o.default.createElement(r.Box,{marginTop:2,display:E?i.Display.Block:i.Display.None,borderColor:i.BorderColor.borderMuted,borderRadius:i.BorderRadius.LG},M()))}}}},{package:"$root$",file:"ui/components/multichain/dropdown-editor/dropdown-editor.tsx"}],[5817,{"..":5837,"../../../../shared/constants/metametrics":5150,"../../../../shared/modules/string-utils":5208,"../../../contexts/metametrics":6090,"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EditAccountsModal=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../hooks/useI18nContext"),r=e("../../component-library"),i=e(".."),s=e("../../../helpers/constants/design-system"),l=e("../../../../shared/constants/metametrics"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/modules/string-utils");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.EditAccountsModal=({accounts:e,defaultSelectedAccountAddresses:t,onClose:n,onSubmit:d})=>{const p=(0,a.useI18nContext)(),m=(0,o.useContext)(c.MetaMetricsContext),[f,g]=(0,o.useState)(!1),[h,y]=(0,o.useState)(t);(0,o.useEffect)((()=>{y(t)}),[t]);const k=()=>e.length===h.length,b=k(),x=!b&&h.length>0,v=new Set(t),C=new Set(h);return o.default.createElement(r.Modal,{isOpen:!0,onClose:n,"data-testid":"edit-accounts-modal",className:"edit-accounts-modal"},o.default.createElement(r.ModalOverlay,null),o.default.createElement(r.ModalContent,null,o.default.createElement(r.ModalHeader,{onClose:n},p("editAccounts")),o.default.createElement(r.ModalBody,{paddingLeft:0,paddingRight:0,className:"edit-accounts-modal__body"},f?o.default.createElement(r.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(i.CreateEthAccount,{onActionComplete:()=>g(!1)})):o.default.createElement(o.default.Fragment,null,o.default.createElement(r.Box,{padding:4,display:s.Display.Flex,justifyContent:s.JustifyContent.spaceBetween},o.default.createElement(r.Checkbox,{label:p("selectAll"),isChecked:b,gap:4,onClick:()=>k()?void y([]):(()=>{const t=e.map((({address:e})=>e));y(t)})(),isIndeterminate:x}),o.default.createElement(r.ButtonLink,{onClick:()=>g(!0)},p("newAccount"))),e.map((e=>o.default.createElement(i.AccountListItem,{onClick:()=>{return t=e.address,void(h.includes(t)?y(h.filter((e=>e!==t))):y([...h,t]));var t},account:e,key:e.address,isPinned:Boolean(e.pinned),startAccessory:o.default.createElement(r.Checkbox,{isChecked:h.some((t=>(0,u.isEqualCaseInsensitive)(t,e.address)))}),selected:!1}))))),o.default.createElement(r.ModalFooter,null,0===h.length?o.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4,width:s.BlockSize.Full,alignItems:s.AlignItems.center},o.default.createElement(r.Box,{display:s.Display.Flex,gap:1,alignItems:s.AlignItems.center},o.default.createElement(r.Icon,{name:r.IconName.Danger,size:r.IconSize.Xs,color:s.IconColor.errorDefault}),o.default.createElement(r.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.errorDefault},p("disconnectMessage"))),o.default.createElement(r.ButtonPrimary,{"data-testid":"disconnect-accounts-button",onClick:()=>{d([]),n()},size:r.ButtonPrimarySize.Lg,block:!0,danger:!0},p("disconnect"))):o.default.createElement(r.ButtonPrimary,{"data-testid":"connect-more-accounts-button",onClick:()=>{const e=h.filter((e=>!v.has(e))),o=t.filter((e=>!C.has(e)));d(h),m({category:l.MetaMetricsEventCategory.Permissions,event:l.MetaMetricsEventName.UpdatePermissionedAccounts,properties:{addedAccounts:e.length,removedAccounts:o.length,location:"Edit Accounts Modal"}}),n()},size:r.ButtonPrimarySize.Lg,block:!0},p("update")))))}}}},{package:"$root$",file:"ui/components/multichain/edit-accounts-modal/edit-accounts-modal.tsx"}],[5818,{"./edit-accounts-modal":5817},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"EditAccountsModal",{enumerable:!0,get:function(){return o.EditAccountsModal}});var o=e("./edit-accounts-modal")}}},{package:"$root$",file:"ui/components/multichain/edit-accounts-modal/index.ts"}],[5819,{"..":5837,"../../../../shared/constants/metametrics":5150,"../../../../shared/constants/network":5154,"../../../contexts/metametrics":6090,"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.EditNetworksModal=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),c=e(".."),u=e("../../../../shared/constants/network"),d=e("../../../../shared/constants/metametrics"),p=e("../../../contexts/metametrics");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const f=({nonTestNetworks:e,testNetworks:t,defaultSelectedChainIds:n,onClose:o,onSubmit:r})=>{const m=(0,s.useI18nContext)(),f=(0,a.useContext)(p.MetaMetricsContext),g=[...e,...t],[h,y]=(0,a.useState)(n);(0,a.useEffect)((()=>{y(n)}),[n]);const k=e=>{h.includes(e)?y(h.filter((t=>t!==e))):y([...h,e])},b=()=>g.length===h.length,x=b(),v=!x&&h.length>0,C=new Set(n),T=new Set(h);return a.default.createElement(l.Modal,{isOpen:!0,onClose:()=>{o()},className:"edit-networks-modal"},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(l.ModalHeader,{onClose:()=>{o()}},m("editNetworksTitle")),a.default.createElement(l.ModalBody,{paddingLeft:0,paddingRight:0,className:"edit-networks-modal__body"},a.default.createElement(l.Box,{padding:4},a.default.createElement(l.Checkbox,{label:m("selectAll"),isChecked:x,gap:4,onClick:()=>b()?void y([]):(()=>{const e=g.map((({chainId:e})=>e));y(e)})(),isIndeterminate:v})),e.map((e=>a.default.createElement(c.NetworkListItem,{name:e.name,iconSrc:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],key:e.chainId,onClick:()=>{k(e.chainId)},startAccessory:a.default.createElement(l.Checkbox,{isChecked:h.includes(e.chainId)})}))),a.default.createElement(l.Box,{padding:4},a.default.createElement(l.Text,{variant:i.TextVariant.bodyMdMedium},m("testnets"))),t.map((e=>a.default.createElement(c.NetworkListItem,{name:e.name,iconSrc:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],key:e.chainId,onClick:()=>{k(e.chainId)},startAccessory:a.default.createElement(l.Checkbox,{isChecked:h.includes(e.chainId)}),showEndAccessory:!1})))),a.default.createElement(l.ModalFooter,null,0===h.length?a.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4,alignItems:i.AlignItems.center,width:i.BlockSize.Full},a.default.createElement(l.Box,{display:i.Display.Flex,gap:1,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},a.default.createElement(l.Icon,{name:l.IconName.Danger,size:l.IconSize.Sm,color:i.IconColor.errorDefault}),a.default.createElement(l.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.errorDefault},m("disconnectMessage"))),a.default.createElement(l.ButtonPrimary,{"data-testid":"disconnect-chains-button",onClick:()=>{r(h);const e=h.filter((e=>!C.has(e))),t=n.filter((e=>!T.has(e)));f({category:d.MetaMetricsEventCategory.Permissions,event:d.MetaMetricsEventName.UpdatePermissionedNetworks,properties:{addedNetworks:e.length,removedNetworks:t.length,location:"Edit Networks Modal"}}),o()},size:l.ButtonPrimarySize.Lg,block:!0,danger:!0},m("disconnect"))):a.default.createElement(l.ButtonPrimary,{"data-testid":"connect-more-chains-button",onClick:()=>{r(h),o()},size:l.ButtonPrimarySize.Lg,block:!0},m("update")))))};n.EditNetworksModal=f,f.propTypes={nonTestNetworks:r.default.arrayOf(r.default.shape({chainId:r.default.string.isRequired,name:r.default.string.isRequired})).isRequired,testNetworks:r.default.arrayOf(r.default.shape({chainId:r.default.string.isRequired,name:r.default.string.isRequired})).isRequired,defaultSelectedChainIds:r.default.arrayOf(r.default.string),onClose:r.default.func.isRequired,onSubmit:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/edit-networks-modal/edit-networks-modal.js"}],[5820,{"./edit-networks-modal":5819},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"EditNetworksModal",{enumerable:!0,get:function(){return o.EditNetworksModal}});var o=e("./edit-networks-modal")}}},{package:"$root$",file:"ui/components/multichain/edit-networks-modal/index.js"}],[5821,{"../../../helpers/constants/design-system":6123,"../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system");n.default=({icon:e,title:t,description:n,onClick:o})=>a.default.createElement(r.Box,{display:[i.Display.Flex],gap:2,alignItems:i.AlignItems.center,onClick:o,className:"funding-method-item",padding:4},a.default.createElement(r.Icon,{name:e}),a.default.createElement(r.Box,{display:[i.Display.Flex],flexDirection:i.FlexDirection.Column},a.default.createElement(r.Text,{variant:i.TextVariant.bodyMdMedium},t),a.default.createElement(r.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative},n)))}}},{package:"$root$",file:"ui/components/multichain/funding-method-modal/funding-method-item.tsx"}],[5822,{"../../../../shared/constants/metametrics":5150,"../../../contexts/metametrics":6090,"../../../helpers/constants/design-system":6123,"../../../helpers/utils/portfolio":6164,"../../../hooks/ramps/useRamps/useRamps":6182,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../../selectors/multichain":6825,"../../component-library":5680,"./funding-method-item":5821,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FundingMethodModal=void 0;var o,a=y(e("react")),r=e("react-redux"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../selectors/multichain"),c=y(e("../../../hooks/ramps/useRamps/useRamps")),u=e("../../../helpers/utils/portfolio"),d=e("../../../selectors"),p=e("../../../hooks/useI18nContext"),m=e("../../../../shared/constants/metametrics"),f=e("../../../contexts/metametrics"),g=(o=e("./funding-method-item"))&&o.__esModule?o:{default:o};function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}n.FundingMethodModal=({isOpen:e,onClose:t,title:n,onClickReceive:o})=>{const h=(0,p.useI18nContext)(),y=(0,a.useContext)(f.MetaMetricsContext),{openBuyCryptoInPdapp:k}=(0,c.default)(),{address:b}=(0,r.useSelector)(d.getSelectedAccount),{chainId:x}=(0,r.useSelector)(l.getMultichainCurrentNetwork),{symbol:v}=(0,r.useSelector)(l.getMultichainDefaultToken),C=(0,r.useSelector)(d.getMetaMetricsId),T=(0,r.useSelector)(d.getParticipateInMetaMetrics),_=(0,r.useSelector)(d.getDataCollectionForMarketing),E=(0,a.useCallback)((()=>{y({event:m.MetaMetricsEventName.NavSendButtonClicked,category:m.MetaMetricsEventCategory.Navigation,properties:{location:null===c.RampsMetaMaskEntry||void 0===c.RampsMetaMaskEntry?void 0:c.RampsMetaMaskEntry.TokensBanner,text:"Transfer crypto",chain_id:x,token_symbol:v}});const e=(0,u.getPortfolioUrl)("transfer","ext_funding_method_modal",C,T,_,b,"transfer");global.platform.openTab({url:e})}),[C,T,_,x,v,b]),w=(0,a.useCallback)((()=>{y({event:m.MetaMetricsEventName.NavBuyButtonClicked,category:m.MetaMetricsEventCategory.Navigation,properties:{location:null===c.RampsMetaMaskEntry||void 0===c.RampsMetaMaskEntry?void 0:c.RampsMetaMaskEntry.TokensBanner,text:"Buy crypto",chain_id:x,token_symbol:v}}),k(x)}),[x,v]);return a.default.createElement(i.Modal,{isOpen:e,onClose:t,"data-testid":"funding-method-modal"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(i.ModalContent,{modalDialogProps:{padding:0}},a.default.createElement(i.ModalHeader,{paddingBottom:2,onClose:t},a.default.createElement(i.Text,{variant:s.TextVariant.headingSm,textAlign:s.TextAlign.Center},n)),a.default.createElement(g.default,{icon:i.IconName.Card,title:h("buyCrypto"),description:h("buyFirstCrypto"),onClick:w}),a.default.createElement(g.default,{icon:i.IconName.Received,title:h("receiveCrypto"),description:h("depositCrypto"),onClick:o}),a.default.createElement(g.default,{icon:i.IconName.Link,title:h("transferCrypto"),description:h("linkCentralizedExchanges"),onClick:E})))}}}},{package:"$root$",file:"ui/components/multichain/funding-method-modal/funding-method-modal.tsx"}],[5823,{"..":5837,"../../../../app/scripts/lib/util":130,"../../../../shared/constants/app":5138,"../../../../shared/constants/metametrics":5150,"../../../../shared/lib/ui-utils":5182,"../../../contexts/metametrics":6090,"../../../helpers/constants/design-system":6123,"../../../helpers/constants/routes":6129,"../../../hooks/metamask-notifications/useCounter":6176,"../../../hooks/useI18nContext":6202,"../../../pages/notifications/NewFeatureTag":6625,"../../../selectors":6820,"../../../selectors/metamask-notifications/metamask-notifications":6822,"../../../selectors/metamask-notifications/profile-syncing":6823,"../../../store/actions":6833,"../../component-library":5680,"../../ui/menu":6025,"../notifications-tag-counter":5894,"prop-types":4631,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalMenu=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=e("react-router-dom"),s=e("react-redux"),l=e("../../../hooks/metamask-notifications/useCounter"),c=e("../notifications-tag-counter"),u=e("../../../pages/notifications/NewFeatureTag"),d=e("../../../helpers/constants/routes"),p=e("../../../store/actions"),m=e("../../../hooks/useI18nContext"),f=e("../../../selectors/metamask-notifications/metamask-notifications"),g=e("../../../selectors/metamask-notifications/profile-syncing"),h=e("../../component-library"),y=e("../../ui/menu"),k=e("../../../../app/scripts/lib/util"),b=e("../../../../shared/constants/app"),x=e("../../../../shared/lib/ui-utils"),v=e("../../../contexts/metametrics"),C=e("../../../../shared/constants/metametrics"),T=e("../../../selectors"),_=e("../../../helpers/constants/design-system"),E=e("..");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}const M="Global Menu",S=({closeMenu:e,anchorElement:t,isOpen:n})=>{const o=(0,m.useI18nContext)(),r=(0,s.useDispatch)(),w=(0,a.useContext)(v.MetaMetricsContext),S=(0,s.useSelector)(T.getUseExternalServices),I=(0,i.useHistory)(),{notificationsUnreadCount:A}=(0,l.useUnreadNotificationsCounter)(),{notificationsReadCount:N}=(0,l.useReadNotificationsCounter)(),O=(0,s.useSelector)(T.getSelectedInternalAccount),P=(0,s.useSelector)(T.getUnapprovedTransactions),D=(0,s.useSelector)(f.selectIsMetamaskNotificationsFeatureSeen),B=(0,s.useSelector)(f.selectIsMetamaskNotificationsEnabled),j=(0,s.useSelector)(g.selectIsProfileSyncingEnabled),F=Object.keys(P).length>0;let R=!1;const L=(0,s.useSelector)(T.getAnySnapUpdateAvailable);R=(0,s.useSelector)(T.getNotifySnaps).length>0;let $=o("support"),z=x.SUPPORT_LINK;const W=a.default.useRef(null);a.default.useEffect((()=>{const t=W.current,n=t=>{"Tab"!==t.key||t.shiftKey||(t.preventDefault(),e())};return t&&t.addEventListener("keydown",n),()=>{t&&t.removeEventListener("keydown",n)}}),[e]);return a.default.createElement(h.Popover,{"data-testid":"global-menu",referenceElement:t,isOpen:n,padding:0,onClickOutside:e,onPressEscKey:e,style:{overflow:"hidden",minWidth:225},borderStyle:_.BorderStyle.none,position:h.PopoverPosition.BottomEnd},S&&a.default.createElement(a.default.Fragment,null,a.default.createElement(y.MenuItem,{iconName:h.IconName.Notification,onClick:()=>(()=>{if(!R&&!B)return w({category:C.MetaMetricsEventCategory.NotificationsActivationFlow,event:C.MetaMetricsEventName.NotificationsActivated,properties:{action_type:"started",is_profile_syncing_enabled:j}}),r((0,p.showConfirmTurnOnMetamaskNotifications)()),void e();w({category:C.MetaMetricsEventCategory.NotificationInteraction,event:C.MetaMetricsEventName.NotificationsMenuOpened,properties:{unread_count:A,read_count:N}}),I.push(d.NOTIFICATIONS_ROUTE),e()})()},a.default.createElement(h.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Row,alignItems:_.AlignItems.center,justifyContent:_.JustifyContent.spaceBetween},o("notifications"),0===A&&!D&&a.default.createElement(u.NewFeatureTag,null),a.default.createElement(c.NotificationsTagCounter,null))),a.default.createElement(h.Box,{borderColor:_.BorderColor.borderMuted,width:_.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}})),O&&a.default.createElement(a.default.Fragment,null,a.default.createElement(E.AccountDetailsMenuItem,{metricsLocation:M,closeMenu:e,address:O.address}),a.default.createElement(E.ViewExplorerMenuItem,{metricsLocation:M,closeMenu:e,account:O})),a.default.createElement(h.Box,{borderColor:_.BorderColor.borderMuted,width:_.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),a.default.createElement(y.MenuItem,{iconName:h.IconName.SecurityTick,onClick:()=>{I.push(d.PERMISSIONS),w({event:C.MetaMetricsEventName.NavPermissionsOpened,category:C.MetaMetricsEventCategory.Navigation,properties:{location:M}}),e()},"data-testid":"global-menu-connected-sites",disabled:F},o("allPermissions")),(0,k.getEnvironmentType)()===b.ENVIRONMENT_TYPE_FULLSCREEN?null:a.default.createElement(y.MenuItem,{iconName:h.IconName.Expand,onClick:()=>{global.platform.openExtensionInBrowser(),w({event:C.MetaMetricsEventName.AppWindowExpanded,category:C.MetaMetricsEventCategory.Navigation,properties:{location:M}}),e()},"data-testid":"global-menu-expand"},o("expandView")),a.default.createElement(y.MenuItem,{iconName:h.IconName.Snaps,onClick:()=>{I.push(d.SNAPS_ROUTE),e()},showInfoDot:L},o("snaps")),a.default.createElement(y.MenuItem,{iconName:h.IconName.MessageQuestion,onClick:()=>{global.platform.openTab({url:z}),w({category:C.MetaMetricsEventCategory.Home,event:C.MetaMetricsEventName.SupportLinkClicked,properties:{url:z,location:M}},{contextPropsIntoEventProperties:[C.MetaMetricsContextProp.PageTitle]}),e()},"data-testid":"global-menu-support"},$),a.default.createElement(y.MenuItem,{iconName:h.IconName.Setting,disabled:F,onClick:()=>{I.push(d.SETTINGS_ROUTE),w({category:C.MetaMetricsEventCategory.Navigation,event:C.MetaMetricsEventName.NavSettingsOpened,properties:{location:M}}),e()},"data-testid":"global-menu-settings"},o("settings")),a.default.createElement(y.MenuItem,{ref:W,iconName:h.IconName.Lock,onClick:()=>{r((0,p.lockMetamask)()),I.push(d.DEFAULT_ROUTE),w({category:C.MetaMetricsEventCategory.Navigation,event:C.MetaMetricsEventName.AppLocked,properties:{location:M}}),e()},"data-testid":"global-menu-lock"},o("lockMetaMask")))};n.GlobalMenu=S,S.propTypes={anchorElement:r.default.instanceOf(window.Element),closeMenu:r.default.func.isRequired,isOpen:r.default.bool.isRequired}}}},{package:"$root$",file:"ui/components/multichain/global-menu/global-menu.js"}],[5824,{"./global-menu":5823},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"GlobalMenu",{enumerable:!0,get:function(){return o.GlobalMenu}});var o=e("./global-menu")}}},{package:"$root$",file:"ui/components/multichain/global-menu/index.js"}],[5825,{"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../store/actions":6833,"../../component-library":5680,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var o=d(e("prop-types")),a=d(e("react")),r=e("react-redux"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("../../../store/actions"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p({importAccountFunc:e,isPrimaryDisabled:t,onActionComplete:n}){const o=(0,l.useI18nContext)(),u=(0,r.useDispatch)();return a.default.createElement(i.Box,{display:s.Display.Flex,gap:4},a.default.createElement(i.ButtonSecondary,{onClick:()=>{u(c.hideWarning()),n()},size:i.ButtonSecondarySize.Lg,block:!0},o("cancel")),a.default.createElement(i.ButtonPrimary,{onClick:async()=>{try{await e()&&n(!0)}catch(e){}},disabled:t,size:i.ButtonSecondarySize.Lg,"data-testid":"import-account-confirm-button",block:!0},o("import")))}p.propTypes={importAccountFunc:o.default.func.isRequired,isPrimaryDisabled:o.default.bool.isRequired,onActionComplete:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/bottom-buttons.js"}],[5826,{"../../../../shared/constants/metametrics":5150,"../../../../shared/modules/error":5190,"../../../contexts/metametrics":6090,"../../../helpers/constants/design-system":6123,"../../../helpers/constants/zendesk-url":6136,"../../../hooks/useI18nContext":6202,"../../../store/actions":6833,"../../component-library":5680,"../../ui/dropdown":5982,"./json":5828,"./private-key":5829,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportAccount=void 0;var o=b(e("react")),a=y(e("prop-types")),r=e("react-redux"),i=e("../../../../shared/modules/error"),s=e("../../../../shared/constants/metametrics"),l=e("../../component-library"),c=y(e("../../ui/dropdown")),u=e("../../../contexts/metametrics"),d=e("../../../helpers/constants/design-system"),p=y(e("../../../helpers/constants/zendesk-url")),m=e("../../../hooks/useI18nContext"),f=b(e("../../../store/actions")),g=y(e("./json")),h=y(e("./private-key"));function y(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}const x=({onActionComplete:e})=>{const t=(0,m.useI18nContext)(),n=(0,r.useDispatch)(),a=(0,o.useContext)(u.MetaMetricsContext),y=[t("privateKey"),t("jsonFile")],[k,b]=(0,o.useState)(y[0]);async function x(a,r){const s=function(e){if("json"===e)return o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Text,{width:d.BlockSize.ThreeFourths,fontWeight:d.FontWeight.Bold},t("importAccountJsonLoading1")),o.default.createElement(l.Text,{width:d.BlockSize.ThreeFourths,fontWeight:d.FontWeight.Bold},t("importAccountJsonLoading2")));return""}(a);try{const{selectedAddress:o}=await n(f.importNewAccount(a,r,s));if(!o)return n(f.displayWarning(t("importAccountError"))),!1;v(a,!0),n(f.hideWarning()),e(!0)}catch(e){const o=(0,i.getErrorMessage)(e);return v(a,o),function(e){e&&!e.startsWith("t(")?n(f.displayWarning(e)):n(f.displayWarning(t(e.slice(3,-2))))}(o),!1}return!0}function v(e,t){const n="Private Key"===e?s.MetaMetricsEventAccountImportType.PrivateKey:s.MetaMetricsEventAccountImportType.Json,o=t?s.MetaMetricsEventName.AccountAdded:s.MetaMetricsEventName.AccountAddFailed;a({category:s.MetaMetricsEventCategory.Accounts,event:o,properties:{account_type:s.MetaMetricsEventAccountType.Imported,account_import_type:n}})}return o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Text,{variant:d.TextVariant.bodySm,marginTop:2},t("importAccountMsg")," ",o.default.createElement(l.ButtonLink,{size:d.Size.inherit,href:p.default.IMPORTED_ACCOUNTS,target:"_blank",rel:"noopener noreferrer"},t("here"))),o.default.createElement(l.Box,{paddingTop:4,paddingBottom:8},o.default.createElement(l.Label,{width:d.BlockSize.Full,marginBottom:4,justifyContent:d.JustifyContent.spaceBetween},t("selectType"),o.default.createElement(c.default,{options:y.map((e=>({value:e}))),selectedOption:k,onChange:e=>{n(f.hideWarning()),b(e)}})),k===y[0]?o.default.createElement(h.default,{importAccountFunc:x,onActionComplete:e}):o.default.createElement(g.default,{importAccountFunc:x,onActionComplete:e})))};n.ImportAccount=x,x.propTypes={onActionComplete:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/import-account.js"}],[5827,{"./import-account":5826},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImportAccount",{enumerable:!0,get:function(){return o.ImportAccount}});var o=e("./import-account")}}},{package:"$root$",file:"ui/components/multichain/import-account/index.js"}],[5828,{"../../../helpers/constants/design-system":6123,"../../../helpers/constants/zendesk-url":6136,"../../../hooks/useI18nContext":6202,"../../../store/actions":6833,"../../component-library":5680,"../../component-library/form-text-field/deprecated":5668,"./bottom-buttons":5825,"prop-types":4631,react:4884,"react-redux":4837,"react-simple-file-input":4879},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var o=g(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=g(e("react-simple-file-input")),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../component-library/form-text-field/deprecated"),u=g(e("../../../helpers/constants/zendesk-url")),d=e("../../../hooks/useI18nContext"),p=e("../../../store/actions"),m=g(e("./bottom-buttons"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function h({importAccountFunc:e,onActionComplete:t}){const n=(0,d.useI18nContext)(),o=(0,r.useSelector)((e=>e.appState.warning)),[f,g]=(0,a.useState)(""),[h,y]=(0,a.useState)(""),k=""===h;function b(){k?(0,p.displayWarning)(n("needImportFile")):e("json",[h,f])}return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Text,{variant:l.TextVariant.bodyMd,textAlign:l.TextAlign.Center},n("usedByClients"),a.default.createElement(s.ButtonLink,{size:l.Size.inherit,href:u.default.IMPORTED_ACCOUNTS,target:"_blank",rel:"noopener noreferrer"},n("fileImportFail"))),a.default.createElement(i.default,{id:"file-input","data-testid":"file-input",readAs:"text",onLoad:e=>y(e.target.result),style:{padding:"20px 0px 12px 15%",fontSize:"16px",display:"flex",justifyContent:"center",width:"100%"}}),a.default.createElement(c.FormTextField,{id:"json-password-box",size:s.TextFieldSize.Lg,autoFocus:!0,type:s.TextFieldType.Password,helpText:o,error:!0,placeholder:n("enterOptionalPassword"),value:f,onChange:e=>{g(e.target.value)},inputProps:{onKeyPress:function(e){k||"Enter"!==e.key||(e.preventDefault(),b())}},marginBottom:4}),a.default.createElement(m.default,{importAccountFunc:b,isPrimaryDisabled:k,onActionComplete:t}))}h.propTypes={importAccountFunc:o.default.func.isRequired,onActionComplete:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/json.js"}],[5829,{"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../ui/show-hide-toggle":6051,"./bottom-buttons":5825,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var o=d(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=d(e("../../ui/show-hide-toggle")),c=d(e("./bottom-buttons"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p({importAccountFunc:e,onActionComplete:t}){const n=(0,s.useI18nContext)(),[o,u]=(0,a.useState)(""),[d,p]=(0,a.useState)(!1),m=(0,r.useSelector)((e=>e.appState.warning));function f(){e("privateKey",[o])}return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.FormTextField,{id:"private-key-box",size:i.TextFieldSize.Lg,autoFocus:!0,helpText:m,error:!0,label:n("pastePrivateKey"),value:o,onChange:e=>u(e.target.value),inputProps:{onKeyPress:function(e){""!==o&&"Enter"===e.key&&(e.preventDefault(),f())}},marginBottom:4,type:d?i.TextFieldType.Text:i.TextFieldType.Password,textFieldProps:{endAccessory:a.default.createElement(l.default,{shown:d,id:"show-hide-private-key",title:n("privateKeyShow"),ariaLabelShown:n("privateKeyShown"),ariaLabelHidden:n("privateKeyHidden"),onChange:()=>p(!d)})}}),a.default.createElement(c.default,{importAccountFunc:f,isPrimaryDisabled:""===o,onActionComplete:t}))}p.propTypes={importAccountFunc:o.default.func.isRequired,onActionComplete:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/private-key.js"}],[5830,{"../../../../shared/constants/metametrics":5150,"../../../../shared/constants/transaction":5168,"../../../../shared/modules/error":5190,"../../../contexts/metametrics":6090,"../../../ducks/metamask/metamask":6111,"../../../helpers/constants/design-system":6123,"../../../helpers/constants/routes":6129,"../../../helpers/utils/util":6171,"../../../hooks/useI18nContext":6202,"../../../hooks/useNftsCollections":6210,"../../../selectors":6820,"../../../store/actions":6833,"../../app/assets/nfts/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts":5266,"../../component-library":5680,"../../component-library/form-text-field/deprecated":5668,"../../component-library/modal-content/deprecated":5690,"../../component-library/modal-header/deprecated":5699,"../../ui/tooltip":6073,"@metamask/controller-utils":1218,"prop-types":4631,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportNftsModal=void 0;var o=e("@metamask/controller-utils"),a=M(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("react-redux"),s=e("react-router-dom"),l=e("../../../../shared/modules/error"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/constants/transaction"),d=e("../../../contexts/metametrics"),p=e("../../../ducks/metamask/metamask"),m=e("../../../helpers/constants/design-system"),f=e("../../../helpers/constants/routes"),g=e("../../../hooks/useI18nContext"),h=e("../../../selectors"),y=e("../../../store/actions"),k=M(e("../../app/assets/nfts/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts")),b=e("../../component-library"),x=e("../../component-library/form-text-field/deprecated"),v=e("../../component-library/modal-content/deprecated"),C=e("../../component-library/modal-header/deprecated"),T=M(e("../../ui/tooltip")),_=e("../../../hooks/useNftsCollections"),E=e("../../../helpers/utils/util");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function M(e){return e&&e.__esModule?e:{default:e}}const S=({onClose:e})=>{const t=(0,g.useI18nContext)(),n=(0,s.useHistory)(),a=(0,i.useDispatch)(),w=(0,i.useSelector)(h.getOpenSeaEnabled),M=(0,i.useSelector)(h.getIsMainnet),S=(0,i.useSelector)(p.getNftsDropdownState),I=(0,i.useSelector)(h.getSelectedInternalAccount),A=(0,i.useSelector)(h.getCurrentChainId),{tokenAddress:N,tokenId:O,ignoreErc20Token:P}=(0,i.useSelector)((e=>e.appState.importNftsModal)),D=(0,_.useNftsCollections)(),[B,j]=(0,r.useState)(N??""),[F,R]=(0,r.useState)(O??""),[L,$]=(0,r.useState)(!0),[z,W]=(0,r.useState)(!1),U=(0,r.useContext)(d.MetaMetricsContext),[V,H]=(0,r.useState)(null),[G,q]=(0,r.useState)(null);return r.default.createElement(b.Modal,{isOpen:!0,onClose:()=>{e()},className:"import-nfts-modal"},r.default.createElement(b.ModalOverlay,null),r.default.createElement(v.ModalContent,null,r.default.createElement(C.ModalHeader,{onClose:()=>{e()}},t("importNFT")),r.default.createElement(b.Box,null,M&&!w?r.default.createElement(b.Box,{marginTop:6},r.default.createElement(k.default,{onActionButtonClick:e})):null,z&&r.default.createElement(b.Box,{marginTop:6},r.default.createElement(b.BannerAlert,{severity:m.Severity.Danger,onClose:()=>W(!1),closeButtonProps:{"data-testid":"add-nft-error-close"}},t("nftAddFailedMessage"))),r.default.createElement(b.Box,{display:m.Display.Flex,flexDirection:m.FlexDirection.Column,gap:6,marginTop:6,marginBottom:6},r.default.createElement(b.Box,null,r.default.createElement(b.Box,{display:m.Display.Flex,justifyContent:m.JustifyContent.spaceBetween,alignItems:m.AlignItems.flexEnd},r.default.createElement(b.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center},r.default.createElement(b.Label,{htmlFor:"address"},t("address")),r.default.createElement(T.default,{title:t("importNFTAddressToolTip"),position:"bottom"},r.default.createElement(b.Icon,{name:b.IconName.Info,size:b.IconSize.Sm,marginLeft:1,color:m.IconColor.iconAlternative})))),r.default.createElement(x.FormTextField,{autoFocus:!0,dataTestId:"address",id:"address",placeholder:"0x...",value:B,onChange:e=>{var n;n=e.target.value,H(null),n&&!(0,o.isValidHexAddress)(n)&&H(t("invalidAddress")),$(!(0,o.isValidHexAddress)(n)||!F),j(n),W(!1)},helpText:V,error:Boolean(V)})),r.default.createElement(b.Box,null,r.default.createElement(b.Box,{display:m.Display.Flex,justifyContent:m.JustifyContent.spaceBetween,alignItems:m.AlignItems.flexEnd},r.default.createElement(b.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center},r.default.createElement(b.Label,{htmlFor:"token-id"},t("tokenId")),r.default.createElement(T.default,{title:t("importNFTTokenIdToolTip"),position:"bottom"},r.default.createElement(b.Icon,{name:b.IconName.Info,size:b.IconSize.Sm,marginLeft:1,color:m.IconColor.iconAlternative})))),r.default.createElement(x.FormTextField,{dataTestId:"token-id",id:"token-id",placeholder:t("nftTokenIdPlaceholder"),value:F,onChange:e=>{(e=>{q(null);const n=(0,E.checkTokenIdExists)(B,e,D.collections);n&&q(t("nftAlreadyAdded")),$(!(0,o.isValidHexAddress)(B)||!e||isNaN(Number(e))||n),R(e)})(e.target.value),W(!1)},helpText:G,error:G})))),r.default.createElement(b.Box,{display:m.Display.Flex,flexDirection:m.FlexDirection.Row,justifyContent:m.JustifyContent.spaceBetween,gap:4,paddingTop:4,paddingBottom:4},r.default.createElement(b.ButtonSecondary,{size:b.ButtonSecondarySize.Lg,onClick:()=>e(),block:!0,className:"import-nfts-modal__cancel-button"},t("cancel")),r.default.createElement(b.ButtonPrimary,{size:m.Size.LG,onClick:()=>(async()=>{try{var t;await a((0,y.addNftVerifyOwnership)(B,F));const e={...S,[I.address]:{...null==S?void 0:S[I.address],[A]:{...null==S||null===(t=S[I.address])||void 0===t?void 0:t[A],[B]:!0}}};a((0,y.updateNftDropDownState)(e))}catch(e){const t=(0,l.getErrorMessage)(e);return a((0,y.setNewNftAddedMessage)(t)),void W(!0)}P&&B&&await a((0,y.ignoreTokens)({tokensToIgnore:B,dontShowLoadingIndicator:!0})),a((0,y.setNewNftAddedMessage)("success"));const o=await(0,y.getTokenStandardAndDetails)(B,null,F.toString()).catch((()=>({})));U({event:c.MetaMetricsEventName.TokenAdded,category:"Wallet",sensitiveProperties:{token_contract_address:B,token_symbol:null==o?void 0:o.symbol,tokenId:F.toString(),asset_type:u.AssetType.NFT,token_standard:null==o?void 0:o.standard,source_connection_method:c.MetaMetricsTokenEventSource.Custom}}),n.push(f.DEFAULT_ROUTE),e()})(),disabled:L,block:!0,"data-testid":"import-nfts-modal-import-button"},t("import")))))};n.ImportNftsModal=S,S.propTypes={onClose:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-nfts-modal/import-nfts-modal.js"}],[5831,{"./import-nfts-modal":5830},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImportNftsModal",{enumerable:!0,get:function(){return o.ImportNftsModal}});var o=e("./import-nfts-modal")}}},{package:"$root$",file:"ui/components/multichain/import-nfts-modal/index.js"}],[5832,{"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../store/actions":6833,"../../component-library":5680,classnames:3684,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportTokenLink=void 0;var o=u(e("react")),a=e("react-redux"),r=u(e("classnames")),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=e("../../../store/actions");function u(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(this,arguments)}n.ImportTokenLink=({className:e="",...t})=>{const n=(0,l.useI18nContext)(),u=(0,a.useDispatch)();return o.default.createElement(i.Box,d({className:(0,r.default)("multichain-import-token-link",e)},t),o.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,paddingTop:2},o.default.createElement(i.ButtonLink,{size:i.ButtonLinkSize.Md,startIconName:i.IconName.Refresh,"data-testid":"refresh-list-button",onClick:()=>u((0,c.detectTokens)())},n("refreshList"))))}}}},{package:"$root$",file:"ui/components/multichain/import-token-link/import-token-link.tsx"}],[5833,{"./import-token-link":5832},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImportTokenLink",{enumerable:!0,get:function(){return o.ImportTokenLink}});var o=e("./import-token-link")}}},{package:"$root$",file:"ui/components/multichain/import-token-link/index.ts"}],[5834,{"../../../contexts/i18n":6087,"../../../ducks/metamask/metamask":6111,"../../../helpers/constants/design-system":6123,"../../../selectors":6820,"../../component-library":5680,"../../ui/token-balance/token-balance":6072,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportTokensModalConfirm=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("../../../selectors"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../ducks/metamask/metamask"),u=(o=e("../../ui/token-balance/token-balance"))&&o.__esModule?o:{default:o},d=e("../../../contexts/i18n");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.ImportTokensModalConfirm=()=>{const e=(0,a.useContext)(d.I18nContext),t=(0,r.useSelector)(i.getCurrentNetwork),n=(0,r.useSelector)(i.getTestNetworkBackgroundColor),o=(0,r.useSelector)(c.getPendingTokens),p=(0,r.useSelector)(i.getTokenList);return a.default.createElement(s.Box,{paddingTop:6},a.default.createElement(s.Text,{textAlign:l.TextAlign.Center},1===Object.keys(o).length?e("likeToImportToken"):e("likeToImportTokens")),a.default.createElement(s.Box,{paddingTop:6},a.default.createElement(s.Box,{flexDirection:l.FlexDirection.Column,className:"import-tokens-modal__confirmation-list"},Object.entries(o).map((([e,o])=>{var r,i;const{name:c,symbol:d,iconUrl:m}=o,f=m||(null===(r=p[e.toLowerCase()])||void 0===r?void 0:r.iconUrl);return a.default.createElement(s.Box,{key:e,padding:4,display:l.Display.Flex},a.default.createElement(s.Box,{display:l.Display.Flex,className:"import-tokens-modal__confirm-token-list-item-wrapper"},a.default.createElement(s.BadgeWrapper,{badge:a.default.createElement(s.AvatarNetwork,{size:s.AvatarNetworkSize.Xs,name:null==t?void 0:t.nickname,src:null==t||null===(i=t.rpcPrefs)||void 0===i?void 0:i.imageUrl,backgroundColor:n}),marginRight:4,marginTop:1},a.default.createElement(s.AvatarToken,{name:d,src:f})),a.default.createElement(s.Box,null,a.default.createElement(s.Text,{fontWeight:l.FontWeight.Medium,variant:l.TextVariant.bodyMd},c||d),a.default.createElement(s.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},a.default.createElement(u.default,{token:o})))),a.default.createElement(s.Box,{alignItems:l.AlignItems.flexStart},a.default.createElement(u.default,{textProps:{font:l.FontWeight.Medium,variant:l.TextVariant.bodyLgMedium},suffixProps:{font:l.FontWeight.Medium,variant:l.TextVariant.bodyLgMedium},token:o,showFiat:!0})))})))))}}}},{package:"$root$",file:"ui/components/multichain/import-tokens-modal/import-tokens-modal-confirm.js"}],[5835,{"../../../../app/scripts/lib/util":130,"../../../../shared/constants/metametrics":5150,"../../../../shared/constants/tokens":5167,"../../../../shared/constants/transaction":5168,"../../../../shared/modules/hexstring-utils":5194,"../../../contexts/metametrics":6090,"../../../ducks/metamask/metamask":6111,"../../../helpers/constants/design-system":6123,"../../../helpers/constants/routes":6129,"../../../helpers/constants/zendesk-url":6136,"../../../helpers/utils/token-util":6168,"../../../helpers/utils/util":6171,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../../store/actions":6833,"../../app/import-token/token-list":5339,"../../app/import-token/token-search":5344,"../../component-library":5680,"../../component-library/form-text-field/deprecated":5668,"../../ui/tabs":6059,"./import-tokens-modal-confirm":5834,"@metamask/etherscan-link/dist/token-tracker-link":1553,"prop-types":4631,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportTokensModal=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("react-router-dom"),i=I(e("prop-types")),s=e("@metamask/etherscan-link/dist/token-tracker-link"),l=e("../../ui/tabs"),c=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),d=e("../../../store/actions"),p=e("../../component-library"),m=e("../../component-library/form-text-field/deprecated"),f=I(e("../../app/import-token/token-search")),g=I(e("../../app/import-token/token-list")),h=e("../../../helpers/constants/design-system"),y=e("../../../helpers/constants/routes"),k=I(e("../../../helpers/constants/zendesk-url")),b=e("../../../../shared/modules/hexstring-utils"),x=e("../../../../app/scripts/lib/util"),v=e("../../../../shared/constants/tokens"),C=e("../../../../shared/constants/transaction"),T=e("../../../helpers/utils/util"),_=e("../../../helpers/utils/token-util"),E=e("../../../contexts/metametrics"),w=e("../../../ducks/metamask/metamask"),M=e("../../../../shared/constants/metametrics"),S=e("./import-tokens-modal-confirm");function I(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const N=({onClose:e})=>{const t=(0,c.useI18nContext)(),n=(0,r.useHistory)(),i=(0,a.useDispatch)(),[I,A]=(0,o.useState)(""),[N,O]=(0,o.useState)(null),[P,D]=(0,o.useState)({}),[B,j]=(0,o.useState)([]),F=(0,a.useSelector)(u.getIsTokenDetectionSupported),R=(0,a.useSelector)(u.getIsTokenDetectionInactiveOnMainnet),L=F||R||Boolean(!1),$=(0,a.useSelector)(u.getTokenList),z=(0,a.useSelector)((({metamask:e})=>e.useTokenDetection)),W=(0,a.useSelector)(u.getTokenDetectionSupportNetworkByChainId),U=(0,a.useSelector)(w.getNativeCurrency),V=(0,a.useSelector)(u.getIstokenDetectionInactiveOnNonMainnetSupportedNetwork),H=(0,a.useSelector)(u.getIsDynamicTokenListAvailable),G=(0,a.useSelector)(u.getSelectedInternalAccount),q=(0,a.useSelector)(u.getIsMainnet),K=(0,a.useSelector)(u.getInternalAccounts),J=(0,a.useSelector)((e=>e.metamask.tokens)),Y=(0,a.useSelector)(u.getRpcPrefsForCurrentProvider),Q=(0,a.useSelector)(u.getTokenExchangeRates),[X,Z]=(0,o.useState)(""),[ee,te]=(0,o.useState)(null),[ne,oe]=(0,o.useState)(null),[ae,re]=(0,o.useState)(!1),[ie,se]=(0,o.useState)(null),[le,ce]=(0,o.useState)(""),[ue,de]=(0,o.useState)(""),[pe,me]=(0,o.useState)(null),[fe,ge]=(0,o.useState)(0),[he,ye]=(0,o.useState)(null),[ke,be]=(0,o.useState)(C.TokenStandard.none),xe=(0,a.useSelector)(u.getCurrentNetwork),ve=(0,a.useSelector)(u.getTestNetworkBackgroundColor),[Ce,Te]=(0,o.useState)(!1),_e=(0,a.useSelector)(u.getCurrentChainId),Ee=(0,s.getTokenTrackerLink)(X,_e,null,null,{blockExplorerUrl:(null==Y?void 0:Y.blockExplorerUrl)??null}),we=null!=Y&&Y.blockExplorerUrl?(0,T.getURLHostName)(Ee):t("etherscan"),Me=(0,o.useRef)((0,_.tokenInfoGetter)()),Se=(0,o.useContext)(E.MetaMetricsContext),Ie=(0,a.useSelector)(w.getPendingTokens),Ae=(0,a.useSelector)(u.getSelectedNetworkClientId),Ne=(0,o.useCallback)((async()=>{try{const e=Object.values(Ie);await i((0,d.addImportedTokens)(e,Ae)),e.forEach((e=>{Se({event:M.MetaMetricsEventName.TokenAdded,category:M.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source_connection_method:e.isCustom?M.MetaMetricsTokenEventSource.Custom:M.MetaMetricsTokenEventSource.List,token_standard:C.TokenStandard.ERC20,asset_type:C.AssetType.token}})}));const t=[];for(const e in Ie)Object.prototype.hasOwnProperty.call(Ie,e)&&t.push(Ie[e].symbol);i((0,d.setNewTokensImported)(t.join(", "))),i((0,d.clearPendingTokens)()),i((0,d.hideImportTokensModal)()),n.push(y.DEFAULT_ROUTE)}catch(e){i((0,d.setNewTokensImportedError)("error")),i((0,d.clearPendingTokens)()),n.push(y.DEFAULT_ROUTE)}}),[i,n,Ie,Se]);(0,o.useEffect)((()=>{const e=Object.keys(Ie);if(0===e.length)return;let t={},n={};e.forEach((e=>{const o=Ie[e],{isCustom:a}=o;a?n={...o}:t={...P,[e]:{...o}}})),D(t),Z(n.address),ce(n.symbol),ge(n.decimals)}),[Ie]);const Oe=e=>{const n=e.trim(),o=n.length;let a=null;(o<=0||o>=12)&&(a=t("symbolBetweenZeroTwelve")),ce(n),me(a)},Pe=e=>{let n,a=null;e?(n=Number(e.trim()),a=e<0||e>36?t("decimalsMustZerotoTen"):null):(n="",a=t("tokenDecimalFetchFailed",[o.default.createElement(p.ButtonLink,{className:"import-tokens-modal__button-link",key:"import-token-verify-token-decimal",rel:"noopener noreferrer",target:"_blank",href:Ee,endIconName:p.IconName.Export},we)])),ge(n),ye(a)},De=()=>N||ee||pe||he||ne,Be=()=>X||Object.keys(P).length>0,je=async n=>{const a=n.trim();Z(a),te(null),oe(null),re(!1),se(null),Te(!1);const r=(0,b.isValidHexAddress)(a,{allowNonPrefixed:!1}),s=(0,x.addHexPrefix)(a).toLowerCase(),l=Object.keys(v.STATIC_MAINNET_TOKEN_LIST).some((e=>e.toLowerCase()===a.toLowerCase()));let c;if(r)try{({standard:c}=await(0,d.getTokenStandardAndDetails)(s,G.address,null))}catch(e){}const u=0===a.length||"0x0000000000000000000000000000000000000000"===a;switch(!0){case!r&&!u:te(t("invalidAddress")),ce(""),ge(0),me(null),ye(null),Te(!1);break;case c===C.TokenStandard.ERC1155||c===C.TokenStandard.ERC721:oe(t("nftAddressError",[o.default.createElement(p.ButtonLink,{className:"import-tokens-modal__nft-address-error-link",onClick:()=>{i((0,d.showImportNftsModal)({tokenAddress:a})),e()},color:h.TextColor.primaryDefault,key:"nftAddressError"},t("importNFTPage"))])),Te(!1);break;case l&&!q:se(t("mainnetToken")),ce(""),ge(0),me(null),ye(null),Te(!1);break;case Boolean(K.find((e=>e.address.toLowerCase()===s))):te(t("personalAddressDetected")),Te(!1);break;case(0,T.checkExistingAddresses)(a,J):te(t("tokenAlreadyAdded")),Te(!1);break;default:u||((async e=>{const{symbol:t="",decimals:n,name:o}=await Me.current(e,$);re(Boolean(n)),Oe(t||""),Pe(n),de(o)})(a),Te(!0),c&&be(c))}},Fe="confirm"===I;return o.default.createElement(p.Modal,{isOpen:!0,isClosedOnOutsideClick:!1,onClose:()=>{i((0,d.clearPendingTokens)()),e()},className:"import-tokens-modal"},o.default.createElement(p.ModalOverlay,null),o.default.createElement(p.ModalContent,{modalDialogProps:{className:"import-tokens-modal__modal-dialog-content"}},o.default.createElement(p.ModalHeader,{onBack:Fe?()=>A(""):null,paddingBottom:4,paddingRight:4,paddingLeft:4,onClose:()=>{i((0,d.clearPendingTokens)()),e()}},t("importTokensCamelCase")),o.default.createElement(p.Box,{className:"import-tokens-modal__body"},o.default.createElement(l.Tabs,{t:t,tabsClassName:"import-tokens-modal__tabs"},L?o.default.createElement(l.Tab,{activeClassName:"import-tokens-modal__active-tab",buttonClassName:"import-tokens-modal__button-tab",tabKey:"search",name:t("search")},Fe?o.default.createElement(S.ImportTokensModalConfirm,null):o.default.createElement(p.Box,{paddingTop:4},z?null:o.default.createElement(p.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(p.BannerAlert,{severity:h.Severity.Info,marginBottom:4,paddingLeft:4,paddingRight:4},o.default.createElement(p.Text,{variant:h.TextVariant.bodyMd,fontSize:"16"},t("enhancedTokenDetectionAlertMessage",[W,o.default.createElement(p.ButtonLink,{key:"token-detection-announcement",className:"import-tokens-modal__autodetect",onClick:()=>{e(),n.push(`${y.SECURITY_ROUTE}#auto-detect-tokens`)}},t("enableFromSettings"))])))),o.default.createElement(p.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},o.default.createElement(f.default,{searchClassName:"import-tokens-modal__button-search",onSearch:({results:e=[]})=>j(e),error:N,tokenList:$})),o.default.createElement(g.default,{currentNetwork:xe,testNetworkBackgroundColor:ve,results:B,selectedTokens:P,onToggleToken:e=>(e=>{const{address:t}=e,n={...P};t in n?delete n[t]:n[t]=e,D(n),O(null)})(e)}))):null,o.default.createElement(l.Tab,{activeClassName:"import-tokens-modal__active-tab",buttonClassName:"import-tokens-modal__button-tab",tabKey:"customToken",name:t("customToken")},Fe?o.default.createElement(S.ImportTokensModalConfirm,null):o.default.createElement(p.Box,{paddingTop:4},o.default.createElement(p.Box,{className:"import-tokens-modal__custom-token-form__container"},V?o.default.createElement(p.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(p.BannerAlert,{severity:h.Severity.Warning},o.default.createElement(p.Text,{variant:h.TextVariant.bodyMd},t("customTokenWarningInTokenDetectionNetworkWithTDOFF",[o.default.createElement(p.ButtonLink,{key:"import-token-security-risk",rel:"noopener noreferrer",target:"_blank",href:k.default.TOKEN_SAFETY_PRACTICES},t("tokenScamSecurityRisk")),o.default.createElement(p.ButtonLink,{type:"link",key:"import-token-token-detection-announcement",onClick:()=>{e(),n.push(`${y.SECURITY_ROUTE}#auto-detect-tokens`)}},t("inYourSettings"))])))):o.default.createElement(p.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(p.BannerAlert,{severity:H?h.Severity.Warning:h.Severity.Info},o.default.createElement(p.Text,{variant:h.TextVariant.bodyMd},t(H?"customTokenWarningInTokenDetectionNetwork":"customTokenWarningInNonTokenDetectionNetwork",[o.default.createElement(p.ButtonLink,{key:"import-token-fake-token-warning",rel:"noopener noreferrer",target:"_blank",href:k.default.TOKEN_SAFETY_PRACTICES},t("learnScamRisk"))])))),o.default.createElement(p.Box,null,o.default.createElement(m.FormTextField,{paddingLeft:4,paddingRight:4,paddingTop:6,label:t("tokenContractAddress"),value:X,onChange:e=>je(e.target.value),helpText:ee||ie||ne,error:ee||ie||ne,textFieldProps:{className:ee||ie||ne?"import-tokens-modal__custom-token-form__text-outline-error":"import-tokens-modal__custom-token-form__text-outline-success"},inputProps:{"data-testid":"import-tokens-modal-custom-address"}}),Ce&&o.default.createElement(p.Box,null,o.default.createElement(m.FormTextField,{paddingLeft:4,paddingRight:4,paddingTop:4,label:o.default.createElement(o.default.Fragment,null,t("tokenSymbol")),value:le,onChange:e=>Oe(e.target.value),helpText:pe,error:pe,textFieldProps:{className:pe?"import-tokens-modal__custom-token-form__text-outline-error":"import-tokens-modal__custom-token-form__text-outline-success"},inputProps:{"data-testid":"import-tokens-modal-custom-symbol"}}),o.default.createElement(m.FormTextField,{paddingLeft:4,paddingRight:4,paddingTop:4,label:t("decimal"),type:"number",value:fe,onChange:e=>Pe(e.target.value),helpText:he,error:he,disabled:ae,min:0,max:36,textFieldProps:{className:he?"import-tokens-modal__custom-token-form__text-outline-error":"import-tokens-modal__custom-token-form__text-outline-success"},inputProps:{"data-testid":"import-tokens-modal-custom-decimals"}})))))))),Fe?o.default.createElement(p.Box,{paddingTop:5,paddingLeft:4,paddingRight:4,display:h.Display.Flex},o.default.createElement(p.ButtonSecondary,{size:h.Size.LG,onClick:()=>{i((0,d.clearPendingTokens)()),A("")},block:!0,marginRight:5},t("back")),o.default.createElement(p.ButtonPrimary,{size:h.Size.LG,onClick:async()=>{await Ne(),n.push(y.DEFAULT_ROUTE)},block:!0,"data-testid":"import-tokens-modal-import-button"},t("import"))):o.default.createElement(p.Box,{paddingTop:6,paddingLeft:4,paddingRight:4},o.default.createElement(p.ButtonPrimary,{onClick:()=>(async()=>{if(De())return;if(!Be())return void O(t("mustSelectOne"));const e=Object.keys($),n=X?{address:X,symbol:le,decimals:fe,standard:ke,name:ue}:null;i((0,d.setPendingTokens)({customToken:n,selectedTokens:P,tokenAddressList:e}));const o={...P,...(null==n?void 0:n.address)&&{[n.address]:{...n}}},a=Object.values(o).filter((e=>(null==Q?void 0:Q[(0,b.toChecksumHexAddress)(e.address)])===undefined)),r=a.map((e=>e.address));if(0!==a.length){const e=await(0,T.fetchTokenExchangeRates)(U,r,_e);i((0,d.setConfirmationExchangeRates)(e))}A("confirm")})(),size:h.Size.LG,disabled:Boolean(De())||!Be(),block:!0,"data-testid":"import-tokens-button-next"},t("next")))))};n.ImportTokensModal=N,N.propTypes={onClose:i.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-tokens-modal/import-tokens-modal.js"}],[5836,{"./import-tokens-modal":5835},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImportTokensModal",{enumerable:!0,get:function(){return o.ImportTokensModal}});var o=e("./import-tokens-modal")}}},{package:"$root$",file:"ui/components/multichain/import-tokens-modal/index.js"}],[5837,{"./account-details":5745,"./account-list-item":5750,"./account-list-item-menu":5747,"./account-list-menu":5753,"./account-overview":5760,"./account-picker":5762,"./activity-list-item":5764,"./address-copy-button":5766,"./address-list-item":5768,"./app-header":5773,"./asset-picker-amount":5788,"./avatar-group":5796,"./connected-accounts-menu":5802,"./connected-site-menu":5804,"./connected-status":5806,"./create-account":5808,"./create-eth-account":5810,"./detected-token-banner":5814,"./edit-accounts-modal":5818,"./edit-networks-modal":5820,"./global-menu":5824,"./import-account":5827,"./import-nfts-modal":5831,"./import-token-link":5833,"./import-tokens-modal":5836,"./menu-items":5839,"./network-list-item":5843,"./network-list-menu":5847,"./notification-detail":5876,"./notification-detail-address":5856,"./notification-detail-asset":5858,"./notification-detail-block-explorer-button":5860,"./notification-detail-button":5862,"./notification-detail-collection":5864,"./notification-detail-copy-button":5866,"./notification-detail-info":5868,"./notification-detail-network-fee":5870,"./notification-detail-nft":5872,"./notification-detail-title":5874,"./notification-list-item":5884,"./notification-list-item-icon":5878,"./notification-list-item-snap":5880,"./notification-list-item-text":5882,"./notifications-page":5886,"./notifications-settings-account":5888,"./notifications-settings-box":5890,"./notifications-settings-type":5892,"./notifications-tag-counter":5894,"./permission-details-modal":5933,"./product-tour-popover":5936,"./receive-modal":5939,"./toast":5941,"./token-list-item":5943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountDetails",{enumerable:!0,get:function(){return b.AccountDetails}}),Object.defineProperty(n,"AccountDetailsMenuItem",{enumerable:!0,get:function(){return E.AccountDetailsMenuItem}}),Object.defineProperty(n,"AccountListItem",{enumerable:!0,get:function(){return o.AccountListItem}}),Object.defineProperty(n,"AccountListItemMenu",{enumerable:!0,get:function(){return a.AccountListItemMenu}}),Object.defineProperty(n,"AccountListItemMenuTypes",{enumerable:!0,get:function(){return o.AccountListItemMenuTypes}}),Object.defineProperty(n,"AccountListMenu",{enumerable:!0,get:function(){return r.AccountListMenu}}),Object.defineProperty(n,"AccountOverview",{enumerable:!0,get:function(){return i.AccountOverview}}),Object.defineProperty(n,"AccountPicker",{enumerable:!0,get:function(){return s.AccountPicker}}),Object.defineProperty(n,"ActivityListItem",{enumerable:!0,get:function(){return l.ActivityListItem}}),Object.defineProperty(n,"AddressCopyButton",{enumerable:!0,get:function(){return f.AddressCopyButton}}),Object.defineProperty(n,"AddressListItem",{enumerable:!0,get:function(){return I.AddressListItem}}),Object.defineProperty(n,"AppHeader",{enumerable:!0,get:function(){return c.AppHeader}}),Object.defineProperty(n,"AssetPickerAmount",{enumerable:!0,get:function(){return S.AssetPickerAmount}}),Object.defineProperty(n,"AvatarGroup",{enumerable:!0,get:function(){return M.AvatarGroup}}),Object.defineProperty(n,"ConnectedAccountsMenu",{enumerable:!0,get:function(){return C.ConnectedAccountsMenu}}),Object.defineProperty(n,"ConnectedSiteMenu",{enumerable:!0,get:function(){return g.ConnectedSiteMenu}}),Object.defineProperty(n,"ConnectedStatus",{enumerable:!0,get:function(){return A.ConnectedStatus}}),Object.defineProperty(n,"CreateAccount",{enumerable:!0,get:function(){return x.CreateAccount}}),Object.defineProperty(n,"CreateEthAccount",{enumerable:!0,get:function(){return v.CreateEthAccount}}),Object.defineProperty(n,"DetectedTokensBanner",{enumerable:!0,get:function(){return u.DetectedTokensBanner}}),Object.defineProperty(n,"EditAccountsModal",{enumerable:!0,get:function(){return te.EditAccountsModal}}),Object.defineProperty(n,"EditNetworksModal",{enumerable:!0,get:function(){return ee.EditNetworksModal}}),Object.defineProperty(n,"GlobalMenu",{enumerable:!0,get:function(){return d.GlobalMenu}}),Object.defineProperty(n,"ImportAccount",{enumerable:!0,get:function(){return T.ImportAccount}}),Object.defineProperty(n,"ImportNftsModal",{enumerable:!0,get:function(){return _.ImportNftsModal}}),Object.defineProperty(n,"ImportTokenLink",{enumerable:!0,get:function(){return p.ImportTokenLink}}),Object.defineProperty(n,"ImportTokensModal",{enumerable:!0,get:function(){return w.ImportTokensModal}}),Object.defineProperty(n,"NetworkListItem",{enumerable:!0,get:function(){return h.NetworkListItem}}),Object.defineProperty(n,"NetworkListMenu",{enumerable:!0,get:function(){return y.NetworkListMenu}}),Object.defineProperty(n,"NotificationDetail",{enumerable:!0,get:function(){return D.NotificationDetail}}),Object.defineProperty(n,"NotificationDetailAddress",{enumerable:!0,get:function(){return B.NotificationDetailAddress}}),Object.defineProperty(n,"NotificationDetailAsset",{enumerable:!0,get:function(){return j.NotificationDetailAsset}}),Object.defineProperty(n,"NotificationDetailBlockExplorerButton",{enumerable:!0,get:function(){return V.NotificationDetailBlockExplorerButton}}),Object.defineProperty(n,"NotificationDetailButton",{enumerable:!0,get:function(){return U.NotificationDetailButton}}),Object.defineProperty(n,"NotificationDetailCollection",{enumerable:!0,get:function(){return F.NotificationDetailCollection}}),Object.defineProperty(n,"NotificationDetailCopyButton",{enumerable:!0,get:function(){return R.NotificationDetailCopyButton}}),Object.defineProperty(n,"NotificationDetailInfo",{enumerable:!0,get:function(){return $.NotificationDetailInfo}}),Object.defineProperty(n,"NotificationDetailNetworkFee",{enumerable:!0,get:function(){return L.NotificationDetailNetworkFee}}),Object.defineProperty(n,"NotificationDetailNft",{enumerable:!0,get:function(){return z.NotificationDetailNft}}),Object.defineProperty(n,"NotificationDetailTitle",{enumerable:!0,get:function(){return W.NotificationDetailTitle}}),Object.defineProperty(n,"NotificationListItem",{enumerable:!0,get:function(){return N.NotificationListItem}}),Object.defineProperty(n,"NotificationListItemIcon",{enumerable:!0,get:function(){return O.NotificationListItemIcon}}),Object.defineProperty(n,"NotificationListItemSnap",{enumerable:!0,get:function(){return J.NotificationListItemSnap}}),Object.defineProperty(n,"NotificationListItemText",{enumerable:!0,get:function(){return P.NotificationListItemText}}),Object.defineProperty(n,"NotificationsPage",{enumerable:!0,get:function(){return H.NotificationsPage}}),Object.defineProperty(n,"NotificationsSettingsAccount",{enumerable:!0,get:function(){return K.NotificationsSettingsAccount}}),Object.defineProperty(n,"NotificationsSettingsBox",{enumerable:!0,get:function(){return G.NotificationsSettingsBox}}),Object.defineProperty(n,"NotificationsSettingsType",{enumerable:!0,get:function(){return q.NotificationsSettingsType}}),Object.defineProperty(n,"NotificationsTagCounter",{enumerable:!0,get:function(){return Y.NotificationsTagCounter}}),Object.defineProperty(n,"PermissionDetailsModal",{enumerable:!0,get:function(){return X.PermissionDetailsModal}}),Object.defineProperty(n,"ProductTour",{enumerable:!0,get:function(){return k.ProductTour}}),Object.defineProperty(n,"ReceiveModal",{enumerable:!0,get:function(){return Z.ReceiveModal}}),Object.defineProperty(n,"Toast",{enumerable:!0,get:function(){return Q.Toast}}),Object.defineProperty(n,"ToastContainer",{enumerable:!0,get:function(){return Q.ToastContainer}}),Object.defineProperty(n,"TokenListItem",{enumerable:!0,get:function(){return m.TokenListItem}}),Object.defineProperty(n,"ViewExplorerMenuItem",{enumerable:!0,get:function(){return E.ViewExplorerMenuItem}});var o=e("./account-list-item"),a=e("./account-list-item-menu"),r=e("./account-list-menu"),i=e("./account-overview"),s=e("./account-picker"),l=e("./activity-list-item"),c=e("./app-header"),u=e("./detected-token-banner"),d=e("./global-menu"),p=e("./import-token-link"),m=e("./token-list-item"),f=e("./address-copy-button"),g=e("./connected-site-menu"),h=e("./network-list-item"),y=e("./network-list-menu"),k=e("./product-tour-popover"),b=e("./account-details"),x=e("./create-account"),v=e("./create-eth-account"),C=e("./connected-accounts-menu"),T=e("./import-account"),_=e("./import-nfts-modal"),E=e("./menu-items"),w=e("./import-tokens-modal"),M=e("./avatar-group"),S=e("./asset-picker-amount"),I=e("./address-list-item"),A=e("./connected-status"),N=e("./notification-list-item"),O=e("./notification-list-item-icon"),P=e("./notification-list-item-text"),D=e("./notification-detail"),B=e("./notification-detail-address"),j=e("./notification-detail-asset"),F=e("./notification-detail-collection"),R=e("./notification-detail-copy-button"),L=e("./notification-detail-network-fee"),$=e("./notification-detail-info"),z=e("./notification-detail-nft"),W=e("./notification-detail-title"),U=e("./notification-detail-button"),V=e("./notification-detail-block-explorer-button"),H=e("./notifications-page"),G=e("./notifications-settings-box"),q=e("./notifications-settings-type"),K=e("./notifications-settings-account"),J=e("./notification-list-item-snap"),Y=e("./notifications-tag-counter"),Q=e("./toast"),X=e("./permission-details-modal"),Z=e("./receive-modal"),ee=e("./edit-networks-modal"),te=e("./edit-accounts-modal")}}},{package:"$root$",file:"ui/components/multichain/index.js"}],[5838,{"../../../../shared/constants/metametrics":5150,"../../../contexts/metametrics":6090,"../../../hooks/useI18nContext":6202,"../../../store/actions":6833,"../../component-library":5680,"../../ui/menu":6025,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetailsMenuItem=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=(o=e("prop-types"))&&o.__esModule?o:{default:o},i=e("react-redux"),s=e("../../../store/actions"),l=e("../../ui/menu"),c=e("../../../hooks/useI18nContext"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../component-library");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const f=({metricsLocation:e,closeMenu:t,address:n,textProps:o})=>{const r=(0,c.useI18nContext)(),m=(0,i.useDispatch)(),f=(0,a.useContext)(u.MetaMetricsContext),g=r("accountDetails");return a.default.createElement(l.MenuItem,{onClick:()=>{m((0,s.setAccountDetailsAddress)(n)),f({event:d.MetaMetricsEventName.AccountDetailsOpened,category:d.MetaMetricsEventCategory.Navigation,properties:{location:e}}),null==t||t()},iconName:p.IconName.ScanBarcode,"data-testid":"account-list-menu-details"},o?a.default.createElement(p.Text,o,g):g)};n.AccountDetailsMenuItem=f,f.propTypes={metricsLocation:r.default.string.isRequired,closeMenu:r.default.func,address:r.default.string.isRequired,textProps:r.default.object}}}},{package:"$root$",file:"ui/components/multichain/menu-items/account-details-menu-item.js"}],[5839,{"./account-details-menu-item":5838,"./view-explorer-menu-item":5840},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountDetailsMenuItem",{enumerable:!0,get:function(){return o.AccountDetailsMenuItem}}),Object.defineProperty(n,"ViewExplorerMenuItem",{enumerable:!0,get:function(){return a.ViewExplorerMenuItem}});var o=e("./account-details-menu-item"),a=e("./view-explorer-menu-item")}}},{package:"$root$",file:"ui/components/multichain/menu-items/index.js"}],[5840,{"../../../../shared/constants/metametrics":5150,"../../../contexts/metametrics":6090,"../../../helpers/constants/routes":6129,"../../../helpers/utils/multichain/blockExplorer":6159,"../../../helpers/utils/util":6171,"../../../hooks/useI18nContext":6202,"../../../hooks/useMultichainSelector":6207,"../../../selectors":6820,"../../../selectors/multichain":6825,"../../component-library":5680,"../../ui/menu":6025,"@metamask/utils":2866,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openBlockExplorer=n.ViewExplorerMenuItem=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("react-router-dom"),i=e("@metamask/utils"),s=e("../../../helpers/utils/multichain/blockExplorer"),l=e("../../ui/menu"),c=e("../../../hooks/useI18nContext"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../component-library"),m=e("../../../selectors"),f=e("../../../helpers/utils/util"),g=e("../../../helpers/constants/routes"),h=e("../../../selectors/multichain"),y=e("../../../hooks/useMultichainSelector");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const b=(e,t,n,o)=>{n({event:d.MetaMetricsEventName.ExternalLinkClicked,category:d.MetaMetricsEventCategory.Navigation,properties:{link_type:d.MetaMetricsEventLinkType.AccountTracker,location:t,url_domain:(0,f.getURLHostName)(e)}}),global.platform.openTab({url:e}),null==o||o()};n.openBlockExplorer=b;n.ViewExplorerMenuItem=({metricsLocation:e,closeMenu:t,textProps:n,account:k})=>{const x=(0,c.useI18nContext)(),v=(0,o.useContext)(u.MetaMetricsContext),C=(0,r.useHistory)(),T=(0,y.useMultichainSelector)(h.getMultichainNetwork,k),_=(0,s.getMultichainAccountUrl)(k.address,T),E=(0,i.parseCaipChainId)(T.chainId).reference,w=(0,s.getMultichainBlockExplorerUrl)(T),M=(0,f.getURLHostName)(w),S=(0,a.useSelector)(m.getBlockExplorerLinkText),I=x("viewOnExplorer");return o.default.createElement(l.MenuItem,{onClick:()=>{"addBlockExplorer"===S.firstPart?C.push(`${g.NETWORKS_ROUTE}#blockExplorerUrl`):b(_,e,v,t),v({event:d.MetaMetricsEventName.BlockExplorerLinkClicked,category:d.MetaMetricsEventCategory.Accounts,properties:{location:e,chain_id:E}}),null==t||t()},subtitle:M||null,iconName:p.IconName.Export,"data-testid":"account-list-menu-open-explorer"},n?o.default.createElement(p.Text,n,I):I)}}}},{package:"$root$",file:"ui/components/multichain/menu-items/view-explorer-menu-item.tsx"}],[5841,{"./network-list-item-menu":5842},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NetworkListItemMenu",{enumerable:!0,get:function(){return o.NetworkListItemMenu}});var o=e("./network-list-item-menu")}}},{package:"$root$",file:"ui/components/multichain/network-list-item-menu/index.js"}],[5842,{"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../ui/menu":6025,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkListItemMenu=void 0;var o=c(e("react")),a=c(e("prop-types")),r=e("../../../hooks/useI18nContext"),i=e("../../component-library"),s=e("../../ui/menu"),l=e("../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}const u=({anchorElement:e,onClose:t,onEditClick:n,onDeleteClick:a,isOpen:c})=>{const u=(0,r.useI18nContext)();return o.default.createElement(i.Popover,{className:"multichain-network-list-item-menu__popover",onClickOutside:t,referenceElement:e,role:i.PopoverRole.Dialog,position:i.PopoverPosition.BottomEnd,offset:[8,0],padding:0,isOpen:c,isPortal:!0,preventOverflow:!0,flip:!0},o.default.createElement(i.ModalFocus,{restoreFocus:!0,initialFocusRef:e},o.default.createElement(i.Box,null,n?o.default.createElement(s.MenuItem,{iconName:i.IconName.Edit,onClick:e=>{e.stopPropagation(),n()},"data-testid":"network-list-item-options-edit"},o.default.createElement(i.Text,null," ",u("edit"))):null,a?o.default.createElement(s.MenuItem,{iconName:i.IconName.Trash,iconColor:l.IconColor.errorDefault,onClick:e=>{e.stopPropagation(),a()},"data-testid":"network-list-item-options-delete"},o.default.createElement(i.Text,{color:l.TextColor.errorDefault},u("delete"))):null)))};n.NetworkListItemMenu=u,u.propTypes={anchorElement:a.default.instanceOf(window.Element),onClose:a.default.func.isRequired,onEditClick:a.default.func,onDeleteClick:a.default.func,isOpen:a.default.bool.isRequired}}}},{package:"$root$",file:"ui/components/multichain/network-list-item-menu/network-list-item-menu.js"}],[5843,{"./network-list-item":5844},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NetworkListItem",{enumerable:!0,get:function(){return o.NetworkListItem}});var o=e("./network-list-item")}}},{package:"$root$",file:"ui/components/multichain/network-list-item/index.js"}],[5844,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/accounts":6147,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../ui/tooltip/tooltip":6074,"../network-list-item-menu":5841,classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkListItem=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=p(e("classnames")),r=p(e("prop-types")),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/utils/accounts"),u=p(e("../../ui/tooltip/tooltip")),d=e("../network-list-item-menu");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const f=({name:e,iconSrc:t,iconSize:n=s.AvatarNetworkSize.Md,rpcEndpoint:r,chainId:p,selected:m=!1,focus:f=!0,onClick:g,onDeleteClick:h,onEditClick:y,onRpcEndpointClick:k,startAccessory:b,showEndAccessory:x=!0})=>{const v=(0,l.useI18nContext)(),C=(0,o.useRef)(null),[T,_]=(0,o.useState)(),E=e=>{_(e)},[w,M]=(0,o.useState)(!1);(0,o.useEffect)((()=>{C.current&&f&&C.current.focus()}),[C,f]);return o.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingTop:r?2:4,paddingBottom:r?2:4,gap:4,backgroundColor:m?i.BackgroundColor.primaryMuted:i.BackgroundColor.transparent,className:(0,a.default)("multichain-network-list-item",{"multichain-network-list-item--selected":m}),display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full,onClick:g},b?o.default.createElement(s.Box,{marginTop:1},b):null,m&&o.default.createElement(s.Box,{className:"multichain-network-list-item__selected-indicator",borderRadius:i.BorderRadius.pill,backgroundColor:i.BackgroundColor.primaryDefault}),o.default.createElement(s.AvatarNetwork,{borderColor:i.BorderColor.backgroundDefault,backgroundColor:(0,c.getAvatarNetworkColor)(e),name:e,src:t,size:n}),o.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,justifyContent:i.JustifyContent.flexStart,width:i.BlockSize.Full,style:{overflow:"hidden"}},o.default.createElement(s.Box,{width:i.BlockSize.Full,display:i.Display.Flex,alignItems:i.AlignItems.center,"data-testid":e},o.default.createElement(s.Text,{ref:C,color:i.TextColor.textDefault,backgroundColor:i.BackgroundColor.transparent,ellipsis:!0,onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),g())},tabIndex:0},(null==e?void 0:e.length)>20?o.default.createElement(u.default,{title:e,position:"bottom",wrapperClassName:"multichain-network-list-item__tooltip"},e):e)),r&&o.default.createElement(s.Box,{className:"multichain-network-list-item__rpc-endpoint",display:i.Display.Flex,alignItems:i.AlignItems.center,"data-testid":`network-rpc-name-button-${p}`,onClick:e=>{e.stopPropagation(),null==k||k()}},o.default.createElement(s.Text,{padding:0,backgroundColor:i.BackgroundColor.transparent,as:"button",variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative},r.name??new URL(r.url).host),o.default.createElement(s.Icon,{marginLeft:1,color:i.IconColor.iconAlternative,name:s.IconName.ArrowDown,size:s.IconSize.Xs}))),h||y?o.default.createElement(s.ButtonIcon,{iconName:s.IconName.MoreVertical,ref:E,"data-testid":`network-list-item-options-button-${p}`,ariaLabel:v("networkOptions"),onClick:e=>{e.stopPropagation(),M(!0)},size:s.ButtonIconSize.Sm}):null,x?o.default.createElement(d.NetworkListItemMenu,{anchorElement:T,isOpen:w,onDeleteClick:h,onEditClick:y,onClose:()=>M(!1)}):null)};n.NetworkListItem=f,f.propTypes={name:r.default.string.isRequired,iconSrc:r.default.string,iconSize:r.default.string,selected:r.default.bool,onClick:r.default.func.isRequired,onDeleteClick:r.default.func,onEditClick:r.default.func,focus:r.default.bool,startAccessory:r.default.node,showEndAccessory:r.default.bool}}}},{package:"$root$",file:"ui/components/multichain/network-list-item/network-list-item.tsx"}],[5845,{"../../../../../app/scripts/lib/util":130,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../component-library"),r=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../../app/scripts/lib/util");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.default=({onAdded:e})=>{const t=(0,i.useI18nContext)(),[n,l]=(0,o.useState)(),[c,u]=(0,o.useState)();return(0,o.useEffect)((()=>{n&&(null==n?void 0:n.length)>0&&!(0,s.isWebUrl)(n)?u(t("urlErrorMsg")):u(undefined)}),[n]),o.default.createElement(a.Box,{className:"add-block-explorer-modal",display:r.Display.Flex,flexDirection:r.FlexDirection.Column,justifyContent:r.JustifyContent.spaceBetween,height:r.BlockSize.Full},o.default.createElement(a.Box,{paddingLeft:4,paddingRight:4},o.default.createElement(a.FormTextField,{size:a.FormTextFieldSize.Lg,textFieldProps:{borderRadius:r.BorderRadius.LG},error:Boolean(c),id:"additional-rpc-url",label:t("blockExplorerUrl"),inputProps:{"data-testid":"explorer-url-input"},labelProps:{children:undefined,variant:r.TextVariant.bodyMdMedium},onChange:e=>l(e.target.value),autoFocus:!0}),c&&o.default.createElement(a.HelpText,{severity:a.HelpTextSeverity.Danger},c)),o.default.createElement(a.Box,{className:"add-block-explorer-modal__footer",backgroundColor:r.BackgroundColor.backgroundDefault,padding:4,width:r.BlockSize.Full},o.default.createElement(a.ButtonPrimary,{width:r.BlockSize.Full,disabled:Boolean(c),size:a.ButtonPrimarySize.Lg,onClick:async()=>{n&&e(n)}},t("addUrl"))))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/add-block-explorer-modal/add-block-explorer-modal.tsx"}],[5846,{"../../../../../app/scripts/lib/util":130,"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../component-library"),r=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../../app/scripts/lib/util");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.default=({onAdded:e})=>{const t=(0,i.useI18nContext)(),[n,l]=(0,o.useState)(),[c,u]=(0,o.useState)(),d=(0,o.useRef)(null);return(0,o.useEffect)((()=>{n&&!(0,s.isWebUrl)(n)?u((0,s.isWebUrl)(`https://${n}`)?t("urlErrorMsg"):t("invalidRPC")):u(undefined)}),[n]),o.default.createElement(a.Box,{className:"add-rpc-modal",display:r.Display.Flex,flexDirection:r.FlexDirection.Column,justifyContent:r.JustifyContent.spaceBetween,height:r.BlockSize.Full},o.default.createElement(a.Box,{paddingTop:4,paddingLeft:4,paddingRight:4},o.default.createElement(a.FormTextField,{id:"rpcUrl",size:a.FormTextFieldSize.Lg,error:Boolean(c),label:t("rpcUrl"),placeholder:t("enterRpcUrl"),textFieldProps:{borderRadius:r.BorderRadius.LG},labelProps:{children:undefined,variant:r.TextVariant.bodyMdMedium},inputProps:{"data-testid":"rpc-url-input-test"},onChange:e=>l(e.target.value),autoFocus:!0}),c&&o.default.createElement(a.HelpText,{severity:a.HelpTextSeverity.Danger},c),o.default.createElement(a.FormTextField,{id:"rpcName",size:a.FormTextFieldSize.Lg,inputProps:{"data-testid":"rpc-name-input-test"},placeholder:t("enterANameToIdentifyTheUrl"),paddingTop:4,inputRef:d,label:t("rpcNameOptional"),textFieldProps:{borderRadius:r.BorderRadius.LG},labelProps:{children:undefined,variant:r.TextVariant.bodyMdMedium}})),o.default.createElement(a.Box,{className:"add-rpc-modal__footer",backgroundColor:r.BackgroundColor.backgroundDefault,padding:4,width:r.BlockSize.Full},o.default.createElement(a.ButtonPrimary,{width:r.BlockSize.Full,disabled:Boolean(c),size:a.ButtonPrimarySize.Lg,onClick:async()=>{n&&!c&&d.current&&e(n,d.current.value||undefined)}},t("addUrl"))))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/add-rpc-url-modal/add-rpc-url-modal.tsx"}],[5847,{"./network-list-menu":5849},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NetworkListMenu",{enumerable:!0,get:function(){return o.NetworkListMenu}});var o=e("./network-list-menu")}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/index.js"}],[5848,{"../../../../pages/confirmations/confirmation/confirmation":6511,"../../../../selectors":6820,"../../../ui/popover":6042,"@metamask/approval-controller":1142,"@metamask/controller-utils":1218,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("@metamask/controller-utils"),i=e("@metamask/approval-controller"),s=u(e("../../../ui/popover")),l=u(e("../../../../pages/confirmations/confirmation/confirmation")),c=e("../../../../selectors");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.default=()=>{const[e,t]=(0,o.useState)(!1),n=(0,a.useSelector)(c.getUnapprovedConfirmations);return(0,o.useEffect)((()=>{const o=null==n?void 0:n.find((e=>e.origin===i.ORIGIN_METAMASK&&e.type===r.ApprovalType.AddEthereumChain));!e&&o?t(!0):e&&!o&&t(!1)}),[n,e]),e?o.default.createElement(s.default,{"data-testid":"network-popover"},o.default.createElement(l.default,{redirectToHomeOnZeroConfirmations:!1})):null}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover.tsx"}],[5849,{"../../../../shared/constants/metametrics":5150,"../../../../shared/constants/network":5154,"../../../contexts/metametrics":6090,"../../../ducks/metamask/metamask":6111,"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../pages/settings/networks-tab/networks-form":6714,"../../../pages/settings/networks-tab/networks-form/networks-form-state":6715,"../../../selectors":6820,"../../../store/actions":6833,"../../component-library":5680,"../../ui/toggle-button":6069,"../network-list-item":5843,"./add-block-explorer-modal/add-block-explorer-modal":5845,"./add-rpc-url-modal/add-rpc-url-modal":5846,"./network-list-search/network-list-search":5850,"./popular-network-list/popular-network-list":5851,"./select-rpc-url-modal/select-rpc-url-modal":5853,"@metamask/network-controller":1743,"fuse.js":4047,react:4884,"react-beautiful-dnd":4701,"react-redux":4837,"uri-js":5041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkListMenu=n.ACTION_MODES=void 0;var o=I(e("react")),a=e("react-beautiful-dnd"),r=e("react-redux"),i=M(e("fuse.js")),s=I(e("uri-js")),l=e("@metamask/network-controller"),c=e("../../../hooks/useI18nContext"),u=e("../network-list-item"),d=e("../../../store/actions"),p=e("../../../../shared/constants/network"),m=e("../../../selectors"),f=M(e("../../ui/toggle-button")),g=e("../../../helpers/constants/design-system"),h=e("../../component-library"),y=e("../../../contexts/metametrics"),k=e("../../../../shared/constants/metametrics"),b=e("../../../ducks/metamask/metamask"),x=M(e("../../../pages/settings/networks-tab/networks-form")),v=e("../../../pages/settings/networks-tab/networks-form/networks-form-state"),C=M(e("./popular-network-list/popular-network-list")),T=M(e("./network-list-search/network-list-search")),_=M(e("./add-rpc-url-modal/add-rpc-url-modal")),E=e("./select-rpc-url-modal/select-rpc-url-modal"),w=M(e("./add-block-explorer-modal/add-block-explorer-modal"));function M(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},A.apply(this,arguments)}let N=n.ACTION_MODES=function(e){return e[e.LIST=0]="LIST",e[e.ADD_EDIT=1]="ADD_EDIT",e[e.ADD_RPC=2]="ADD_RPC",e[e.ADD_EXPLORER_URL=3]="ADD_EXPLORER_URL",e[e.SELECT_RPC=4]="SELECT_RPC",e}({});n.NetworkListMenu=({onClose:e})=>{const t=(0,c.useI18nContext)(),n=(0,r.useDispatch)(),M=(0,o.useContext)(y.MetaMetricsContext),S=(0,r.useSelector)(m.getShowTestNetworks),I=(0,r.useSelector)(m.getCurrentChainId),O=(0,r.useSelector)(m.getOriginOfCurrentTab),P=(0,r.useSelector)(m.getUseRequestQueue),D=(0,r.useSelector)(b.getIsUnlocked),B=(0,r.useSelector)(m.getAllDomains),j=(0,r.useSelector)(m.getOrderedNetworksList),F=(0,r.useSelector)(m.getIsAddingNewNetwork),R=(0,r.useSelector)(m.getIsMultiRpcOnboarding),L=(0,r.useSelector)(b.getCompletedOnboarding),$=(0,r.useSelector)(m.getOnboardedInThisUISession),z=(0,r.useSelector)(m.getShowNetworkBanner),W=(0,r.useSelector)(m.getNetworkConfigurationsByChainId),{chainId:U,editCompleted:V}=(0,r.useSelector)(m.getEditedNetwork)??{},H=(0,r.useSelector)((e=>(0,m.getPermittedChainsForSelectedTab)(e,O))),G=(0,r.useSelector)((e=>(0,m.getPermittedAccountsForSelectedTab)(e,O))),q=p.TEST_CHAINS.includes(I),[K,J]=(0,o.useMemo)((()=>Object.entries(W).reduce((([e,t],[n,o])=>((p.TEST_CHAINS.includes(n)?t:e)[n]=o,[e,t])),[{},{}])),[W]),Y=(0,o.useMemo)((()=>{var e;return!U||V?undefined:null===(e=Object.entries(W).find((([e])=>e===U)))||void 0===e?void 0:e[1]}),[U,V,W]),[Q,X]=(0,o.useState)(F||Y?N.ADD_EDIT:N.LIST),Z=(0,v.useNetworkFormState)(Y),{rpcUrls:ee,setRpcUrls:te,blockExplorers:ne,setBlockExplorers:oe}=Z,ae=e=>Object.values(e).sort(((e,t)=>j.findIndex((({networkId:t})=>t===e.chainId))-j.findIndex((({networkId:e})=>e===t.chainId)))),[re,ie]=(0,o.useState)(ae(K));(0,o.useEffect)((()=>ie(ae(K))),[K,j]);const se=e=>{if(e.destination){const t=[...re],[o]=t.splice(e.source.index,1);t.splice(e.destination.index,0,o),n((0,d.updateNetworksList)(t.map((e=>e.chainId)))),ie(t)}},le=(0,o.useMemo)((()=>p.FEATURED_RPCS.filter((({chainId:e})=>!W[e])).sort(((e,t)=>e.name.localeCompare(t.name)))),[W]),[ce,ue]=(0,o.useState)(""),[de,pe]=(0,o.useState)(!1),me=(e,t)=>""===ce?e:new i.default(e,{threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,shouldSort:!1,keys:["name","chainId","nativeCrrency"]}).search(t),fe=me(re,ce),ge=me(le,ce),he=me(Object.values(J),ce),ye=[...fe,...he].some((e=>e.rpcEndpoints.length>1)),ke=e=>{const t=e.chainId===I,a=D&&!t&&e.chainId!==p.CHAIN_IDS.MAINNET&&e.chainId!==p.CHAIN_IDS.LINEA_MAINNET;return o.default.createElement(u.NetworkListItem,{name:e.name,iconSrc:p.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],iconSize:h.AvatarNetworkSize.Sm,rpcEndpoint:ye?e.rpcEndpoints[e.defaultRpcEndpointIndex]:undefined,key:e.chainId,chainId:e.chainId,selected:t&&!de,focus:t&&!de,onClick:()=>{const{networkClientId:t}=e.rpcEndpoints[e.defaultRpcEndpointIndex];n((0,d.setActiveNetwork)(t)),n((0,d.toggleNetworkMenu)()),n((0,d.updateCustomNonce)("")),n((0,d.setNextNonce)("")),G.length>0&&((0,d.grantPermittedChain)(O,e.chainId),H.includes(e.chainId)||n((0,d.showPermittedNetworkToast)())),P&&O&&B[O]&&(0,d.setNetworkClientIdForDomain)(O,t),M({event:k.MetaMetricsEventName.NavNetworkSwitched,category:k.MetaMetricsEventCategory.Network,properties:{location:"Network Menu",chain_id:I,from_network:I,to_network:e.chainId}})},onDeleteClick:a?()=>{n((0,d.toggleNetworkMenu)()),n((0,d.showModal)({name:"CONFIRM_DELETE_NETWORK",target:e.chainId,onConfirm:()=>undefined}))}:undefined,onEditClick:()=>{n((0,d.setEditedNetwork)({chainId:e.chainId,nickname:e.name})),X(N.ADD_EDIT)},onRpcEndpointClick:()=>{X(N.SELECT_RPC),n((0,d.setEditedNetwork)({chainId:e.chainId}))}})};let be,xe;return be=Q===N.LIST?t("networkMenuHeading"):Q!==N.ADD_EDIT||Y?Q===N.ADD_RPC?t("addRpcUrl"):Q===N.ADD_EXPLORER_URL?t("addBlockExplorerUrl"):Q===N.SELECT_RPC?t("selectRpcUrl"):(null==Y?void 0:Y.name)??"":t("addACustomNetwork"),Q===N.ADD_EDIT?xe=()=>{Y?n((0,d.setEditedNetwork)()):Z.clear(),X(N.LIST)}:Q!==N.ADD_RPC&&Q!==N.ADD_EXPLORER_URL||(xe=()=>X(N.ADD_EDIT)),R&&(xe=e),o.default.createElement(h.Modal,{isOpen:!0,onClose:e},o.default.createElement(h.ModalOverlay,null),o.default.createElement(h.ModalContent,{padding:0,className:"multichain-network-list-menu-content-wrapper",modalDialogProps:{className:"multichain-network-list-menu-content-wrapper__dialog",display:g.Display.Flex,flexDirection:g.FlexDirection.Column,paddingTop:0,paddingBottom:0}},o.default.createElement(h.ModalHeader,{paddingTop:4,paddingRight:4,paddingBottom:Q===N.SELECT_RPC?0:4,onClose:e,onBack:xe},o.default.createElement(h.Text,{ellipsis:!0,variant:g.TextVariant.headingSm,textAlign:g.TextAlign.Center},be)),Q===N.LIST?o.default.createElement(o.default.Fragment,null,o.default.createElement(h.Box,{className:"multichain-network-list-menu"},o.default.createElement(T.default,{searchQuery:ce,setSearchQuery:ue,setFocusSearch:pe}),L&&!$&&z&&!ce&&o.default.createElement(h.BannerBase,{marginLeft:4,marginRight:4,borderRadius:g.BorderRadius.LG,padding:4,marginBottom:4,marginTop:2,backgroundColor:g.BackgroundColor.backgroundAlternative,startAccessory:o.default.createElement(h.Box,{display:g.Display.Flex,alignItems:g.AlignItems.center,justifyContent:g.JustifyContent.center},o.default.createElement("img",{src:"./images/dragging-animation.svg",alt:"drag-and-drop"})),onClose:()=>(0,d.hideNetworkBanner)(),description:t("dragAndDropBanner")}),o.default.createElement(h.Box,null,fe.length>0&&o.default.createElement(h.Box,{padding:4,display:g.Display.Flex,justifyContent:g.JustifyContent.spaceBetween},o.default.createElement(h.Text,{color:g.TextColor.textAlternative},t("enabledNetworks"))),0===fe.length&&0===ge.length&&0===he.length&&de?o.default.createElement(h.Text,{paddingLeft:4,paddingRight:4,color:g.TextColor.textMuted,"data-testid":"multichain-network-menu-popover-no-results"},t("noNetworksFound")):o.default.createElement(a.DragDropContext,{onDragEnd:se},o.default.createElement(a.Droppable,{droppableId:"characters"},(e=>o.default.createElement(h.Box,A({className:"characters"},e.droppableProps,{ref:e.innerRef}),fe.map(((e,t)=>o.default.createElement(a.Draggable,{key:e.chainId,draggableId:e.chainId,index:t},(t=>o.default.createElement(h.Box,A({ref:t.innerRef},t.draggableProps,t.dragHandleProps),ke(e)))))),e.placeholder)))),o.default.createElement(C.default,{searchAddNetworkResults:ge,"data-testid":"add-popular-network-view"}),he.length>0?o.default.createElement(h.Box,{paddingBottom:4,paddingTop:4,paddingLeft:4,display:g.Display.Flex,justifyContent:g.JustifyContent.spaceBetween},o.default.createElement(h.Text,{color:g.TextColor.textAlternative},t("showTestnetNetworks")),o.default.createElement(f.default,{value:S||q,disabled:q,onToggle:e=>{n((0,d.setShowTestNetworks)(!e)),e||M({event:k.MetaMetricsEventName.TestNetworksDisplayed,category:k.MetaMetricsEventCategory.Network})}})):null,S||q?o.default.createElement(h.Box,{className:"multichain-network-list-menu"},he.map((e=>ke(e)))):null)),o.default.createElement(h.Box,{padding:4},o.default.createElement(h.ButtonSecondary,{size:h.ButtonSecondarySize.Lg,startIconName:h.IconName.Add,startIconProps:{marginRight:2},block:!0,onClick:()=>{M({event:k.MetaMetricsEventName.AddNetworkButtonClick,category:k.MetaMetricsEventCategory.Network}),X(N.ADD_EDIT)}},t("addACustomNetwork")))):Q===N.ADD_EDIT?o.default.createElement(x.default,{networkFormState:Z,existingNetwork:Y,onRpcAdd:()=>X(N.ADD_RPC),onBlockExplorerAdd:()=>X(N.ADD_EXPLORER_URL)}):Q===N.ADD_RPC?o.default.createElement(_.default,{onAdded:(e,t)=>{var n;null!==(n=ee.rpcEndpoints)&&void 0!==n&&n.every((t=>!s.equal(t.url,e)))&&te({rpcEndpoints:[...ee.rpcEndpoints,{url:e,name:t,type:l.RpcEndpointType.Custom}],defaultRpcEndpointIndex:ee.rpcEndpoints.length}),X(N.ADD_EDIT)}}):Q===N.ADD_EXPLORER_URL?o.default.createElement(w.default,{onAdded:e=>{var t;null!==(t=ne.blockExplorerUrls)&&void 0!==t&&t.every((t=>t!==e))&&oe({blockExplorerUrls:[...ne.blockExplorerUrls,e],defaultBlockExplorerUrlIndex:ne.blockExplorerUrls.length}),X(N.ADD_EDIT)}}):Q===N.SELECT_RPC&&Y?o.default.createElement(E.SelectRpcUrlModal,{networkConfiguration:W[Y.chainId]}):null))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/network-list-menu.tsx"}],[5850,{"../../../../helpers/constants/design-system":6123,"../../../../hooks/useI18nContext":6202,"../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");n.default=({searchQuery:e,setSearchQuery:t,setFocusSearch:n})=>{const o=(0,r.useI18nContext)();return a.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:2,paddingTop:0},a.default.createElement(i.TextFieldSearch,{size:i.TextFieldSearchSize.Lg,width:s.BlockSize.Full,placeholder:o("search"),autoFocus:!0,value:e,onFocus:()=>n(!0),onBlur:()=>n(!1),onChange:e=>t(e.target.value),clearButtonOnClick:()=>t(""),clearButtonProps:{size:i.ButtonIconSize.Sm},inputProps:{"data-testid":"network-redesign-modal-search-input"},borderRadius:s.BorderRadius.MD,"data-testid":"search-list"}))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/network-list-search/network-list-search.tsx"}],[5851,{"../../../../../app/scripts/lib/util":130,"../../../../../shared/constants/app":5138,"../../../../../shared/constants/metametrics":5150,"../../../../../shared/constants/network":5154,"../../../../helpers/constants/design-system":6123,"../../../../helpers/constants/zendesk-url":6136,"../../../../hooks/useI18nContext":6202,"../../../../store/actions":6833,"../../../component-library":5680,"@metamask/controller-utils":1218,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("@metamask/controller-utils"),i=e("react-redux"),s=e("../../../../hooks/useI18nContext"),l=e("../../../component-library"),c=e("../../../../../shared/constants/metametrics"),u=e("../../../../../shared/constants/app"),d=e("../../../../store/actions"),p=e("../../../../../app/scripts/lib/util"),m=e("../../../../helpers/constants/design-system"),f=e("../../../../../shared/constants/network"),g=(o=e("../../../../helpers/constants/zendesk-url"))&&o.__esModule?o:{default:o};function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=({searchAddNetworkResults:e})=>{const t=(0,s.useI18nContext)(),n=(0,p.getEnvironmentType)()===u.ENVIRONMENT_TYPE_POPUP,o=(0,i.useDispatch)(),[h,y]=(0,a.useState)(!1),k=()=>{y(!0)},b=()=>{y(!1)},[x,v]=(0,a.useState)(),C=(0,a.useMemo)((()=>0===Object.keys(e).length?null:a.default.createElement(l.Box,{marginTop:4,marginBottom:4,display:m.Display.Flex,justifyContent:m.JustifyContent.spaceBetween},a.default.createElement(l.Box,{display:m.Display.InlineFlex},a.default.createElement(l.Text,{color:m.TextColor.textAlternative,variant:m.TextVariant.bodyMd},t("additionalNetworks")),a.default.createElement(l.Box,{onMouseEnter:k,marginTop:1},a.default.createElement(l.Icon,{className:"add-network__warning-icon",name:l.IconName.Info,color:m.IconColor.iconMuted,size:l.IconSize.Sm,marginLeft:2}),a.default.createElement(l.Popover,{referenceElement:x,position:l.PopoverPosition.Top,isOpen:h,matchWidth:!0,flip:!0,hasArrow:!0,backgroundColor:m.BackgroundColor.backgroundAlternative,onMouseLeave:b},t("popularNetworkAddToolTip",[a.default.createElement(l.Box,{key:"learn-more-link"},a.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Inherit,externalLink:!0,onClick:()=>{global.platform.openTab({url:g.default.UNKNOWN_NETWORK})}},t("learnMoreUpperCase")))])))))),[e,x,h]);return a.default.createElement(l.Box,{className:"new-network-list__networks-container"},a.default.createElement(l.Box,{marginTop:n?0:4,marginBottom:1,paddingLeft:4,paddingRight:4,ref:e=>{v(e)}},C,e.map((e=>a.default.createElement(l.Box,{key:e.chainId,display:m.Display.Flex,alignItems:m.AlignItems.center,justifyContent:m.JustifyContent.spaceBetween,paddingBottom:4,paddingTop:4,className:"new-network-list__list-of-networks","data-testid":`popular-network-${e.chainId}`,onMouseEnter:b},a.default.createElement(l.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center},a.default.createElement(l.AvatarNetwork,{borderColor:m.BorderColor.backgroundDefault,size:l.AvatarNetworkSize.Sm,src:f.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name}),a.default.createElement(l.Box,{marginLeft:4},a.default.createElement(l.Text,{color:m.TextColor.textDefault,backgroundColor:m.BackgroundColor.transparent,ellipsis:!0},e.name))),a.default.createElement(l.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center,marginLeft:1},a.default.createElement(l.Button,{type:l.ButtonVariant.Link,className:"add-network__add-button",variant:l.ButtonVariant.Link,"data-testid":"test-add-button",onClick:async()=>{o((0,d.toggleNetworkMenu)()),await o((0,d.requestUserApproval)({origin:u.ORIGIN_METAMASK,type:r.ApprovalType.AddEthereumChain,requestData:{chainId:e.chainId,rpcUrl:e.rpcEndpoints[e.defaultRpcEndpointIndex].url,ticker:e.nativeCurrency,rpcPrefs:{blockExplorerUrl:e.defaultBlockExplorerUrlIndex===undefined?undefined:e.blockExplorerUrls[e.defaultBlockExplorerUrlIndex]},imageUrl:f.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],chainName:e.name,referrer:u.ORIGIN_METAMASK,source:c.MetaMetricsNetworkEventSource.NewAddNetworkFlow}}))}},t("add"))))))))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/popular-network-list/popular-network-list.tsx"}],[5852,{"../../../../shared/constants/network":5154,"../../../helpers/constants/design-system":6123,"../../component-library":5680,"@metamask/network-controller":1743,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stripProtocol=n.stripKeyFromInfuraUrl=n.default=void 0;var o,a=e("@metamask/network-controller"),r=(o=e("react"))&&o.__esModule?o:{default:o},i=e("../../../../shared/constants/network"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(this,arguments)}const u=e=>{let t=e;return t.endsWith("/v3/{infuraProjectId}")?t=t.replace("/v3/{infuraProjectId}",""):t.endsWith(`/v3/${i.infuraProjectId}`)&&(t=t.replace(`/v3/${i.infuraProjectId}`,"")),t};n.stripKeyFromInfuraUrl=u;const d=e=>{const t=new URL(e);return`${t.host}${"/"===t.pathname?"":t.pathname}`};n.stripProtocol=d;n.default=({rpcEndpoint:e})=>{const{url:t,type:n}=e,o=n===a.RpcEndpointType.Infura?"Infura":e.name,i=e=>e?d(u(e)):"",p=o?2:4;return r.default.createElement(s.Box,c({className:"rpc-list-item",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,paddingTop:p,paddingBottom:p},!o&&{borderWidth:2,borderStyle:l.BorderStyle.solid,borderColor:l.BorderColor.transparent}),r.default.createElement(s.Box,null,r.default.createElement(s.Text,{as:"button",padding:0,width:l.BlockSize.Full,color:o?l.TextColor.textDefault:l.TextColor.textAlternative,variant:o?l.TextVariant.bodyMdMedium:l.TextVariant.bodySm,backgroundColor:l.BackgroundColor.transparent,ellipsis:!0},o||i(t))),o&&r.default.createElement(s.Box,null,r.default.createElement(s.Text,{color:l.TextColor.textAlternative,variant:l.TextVariant.bodySm,ellipsis:!0},i(t))))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/rpc-list-item.tsx"}],[5853,{"../../../../../shared/constants/network":5154,"../../../../helpers/constants/design-system":6123,"../../../../store/actions":6833,"../../../component-library":5680,"../rpc-list-item":5852,classnames:3684,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.SelectRpcUrlModal=void 0;var o=d(e("react")),a=d(e("classnames")),r=e("react-redux"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../../shared/constants/network"),c=e("../../../../store/actions"),u=d(e("../rpc-list-item"));function d(e){return e&&e.__esModule?e:{default:e}}const p=({networkConfiguration:e})=>{const t=(0,r.useDispatch)(),n=l.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId];return o.default.createElement(i.Box,null,o.default.createElement(i.Box,{display:s.Display.Flex},o.default.createElement(i.Box,{margin:"auto",paddingTop:1,paddingBottom:8,display:s.Display.Flex,alignItems:s.AlignItems.center},n&&o.default.createElement(i.AvatarNetwork,{src:n,name:e.name,size:i.AvatarNetworkSize.Sm,marginRight:1}),o.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},e.name))),e.rpcEndpoints.map(((n,r)=>o.default.createElement(i.Box,{alignItems:s.AlignItems.center,paddingLeft:4,paddingRight:4,display:s.Display.Flex,key:n.url,onClick:()=>{t((0,c.updateNetwork)({...e,defaultRpcEndpointIndex:r})),t((0,c.setActiveNetwork)(n.networkClientId)),t((0,c.setEditedNetwork)()),t((0,c.toggleNetworkMenu)())},className:(0,a.default)("select-rpc-url__item",{"select-rpc-url__item--selected":r===e.defaultRpcEndpointIndex})},r===e.defaultRpcEndpointIndex&&o.default.createElement(i.Box,{className:"select-rpc-url__item-selected-pill",borderRadius:s.BorderRadius.pill,backgroundColor:s.BackgroundColor.primaryDefault}),o.default.createElement(u.default,{rpcEndpoint:n})))))};n.SelectRpcUrlModal=p;n.default=p}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/select-rpc-url-modal/select-rpc-url-modal.tsx"}],[5854,{"./nft-item":5855},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NftItem",{enumerable:!0,get:function(){return o.NftItem}});var o=e("./nft-item")}}},{package:"$root$",file:"ui/components/multichain/nft-item/index.js"}],[5855,{"../../../helpers/constants/design-system":6123,"../../../selectors":6820,"../../app/assets/nfts/nft-default-image/nft-default-image":5258,"../../component-library":5680,classnames:3684,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NftItem=void 0;var o=d(e("react")),a=d(e("prop-types")),r=d(e("classnames")),i=e("react-redux"),s=d(e("../../app/assets/nfts/nft-default-image/nft-default-image")),l=e("../../component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../selectors");function d(e){return e&&e.__esModule?e:{default:e}}const p=({alt:e,name:t,src:n,networkName:a,networkSrc:d,tokenId:p,onClick:m,clickable:f,isIpfsURL:g,badgeWrapperClassname:h})=>{const y=(0,i.useSelector)(u.getTestNetworkBackgroundColor),k=(0,i.useSelector)(u.getIpfsGateway),b=(0,i.useSelector)(u.getOpenSeaEnabled),x=k&&g&&n||b&&n&&!g?o.default.createElement(l.Box,{className:"nft-item__item nft-item__item-image","data-testid":"nft-image",as:"img",src:n,alt:e,display:c.Display.Block,justifyContent:c.JustifyContent.center}):o.default.createElement(s.default,{className:"nft-item__default-image","data-testid":"nft-default-image",name:t,tokenId:p,clickable:f&&g});return o.default.createElement(l.Box,{className:"nft-item__container","data-testid":"nft-item",as:"button",onClick:m},o.default.createElement(l.BadgeWrapper,{className:(0,r.default)("nft-item__badge-wrapper",h,{"nft-item__badge-wrapper__clickable":f}),anchorElementShape:l.BadgeWrapperAnchorElementShape.circular,positionObj:{top:-4,right:-4},display:c.Display.Block,badge:o.default.createElement(l.AvatarNetwork,{className:"nft-item__network-badge",backgroundColor:y,"data-testid":"nft-network-badge",size:l.AvatarNetworkSize.Sm,name:a,src:d,borderWidth:2,borderColor:c.BackgroundColor.backgroundDefault})},x))};n.NftItem=p,p.propTypes={src:a.default.string,alt:a.default.string.isRequired,name:a.default.string,networkName:a.default.string.isRequired,networkSrc:a.default.string,tokenId:a.default.string.isRequired,onClick:a.default.func,clickable:a.default.bool,isIpfsURL:a.default.bool,badgeWrapperClassname:a.default.string}}}},{package:"$root$",file:"ui/components/multichain/nft-item/nft-item.js"}],[5856,{"./notification-detail-address":5857},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailAddress",{enumerable:!0,get:function(){return o.NotificationDetailAddress}});var o=e("./notification-detail-address")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-address/index.ts"}],[5857,{"../../../../shared/modules/hexstring-utils":5194,"../../../helpers/constants/design-system":6123,"../../../helpers/utils/util":6171,"../../component-library":5680,"../notification-detail":5876,"../notification-detail-copy-button":5866,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailAddress=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../notification-detail"),i=e("../notification-detail-copy-button"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/utils/util"),u=e("../../../../shared/modules/hexstring-utils");const d=({side:e})=>a.default.createElement(s.Text,{variant:l.TextVariant.bodyLgMedium,fontWeight:l.FontWeight.Medium},e);n.NotificationDetailAddress=({side:e,address:t})=>{const n=(0,u.toChecksumHexAddress)(t),o=(0,c.shortenAddress)(n);return a.default.createElement(r.NotificationDetail,{icon:a.default.createElement(s.AvatarAccount,{address:t}),primaryTextLeft:a.default.createElement(d,{side:e}),secondaryTextLeft:a.default.createElement(i.NotificationDetailCopyButton,{text:t,displayText:o})})}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-address/notification-detail-address.tsx"}],[5858,{"./notification-detail-asset":5859},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailAsset",{enumerable:!0,get:function(){return o.NotificationDetailAsset}});var o=e("./notification-detail-asset")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-asset/index.ts"}],[5859,{"../../../helpers/constants/design-system":6123,"../../component-library":5680,"../notification-detail":5876,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailAsset=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../notification-detail"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system");const l=(e,t,n,o)=>a.default.createElement(i.Text,{variant:e,fontWeight:t,color:n},o);n.NotificationDetailAsset=({icon:e,label:t,detail:n,fiatValue:o,value:c})=>{var u;const d=a.default.createElement(i.AvatarToken,{src:null===(u=e.badge)||void 0===u?void 0:u.src,size:i.AvatarTokenSize.Sm,backgroundColor:s.BackgroundColor.infoDefault,borderColor:s.BorderColor.backgroundDefault,borderWidth:2}),p=e.badge?a.default.createElement(i.BadgeWrapper,{position:e.badge.position||i.BadgeWrapperPosition.topRight,badge:d},a.default.createElement(i.AvatarToken,{src:e.src,borderColor:s.BorderColor.borderMuted,className:"notification-detail-asset__icon"})):a.default.createElement(i.AvatarToken,{src:e.src,borderColor:s.BorderColor.borderMuted,className:"notification-detail-asset__icon"}),m=l(s.TextVariant.bodyLgMedium,s.FontWeight.Medium,s.TextColor.textDefault,t),f=l(s.TextVariant.bodyMd,s.FontWeight.Normal,s.TextColor.textAlternative,n),g=c?l(s.TextVariant.bodyLgMedium,s.FontWeight.Medium,s.TextColor.textDefault,c):undefined,h=o?l(s.TextVariant.bodyMd,s.FontWeight.Normal,s.TextColor.textAlternative,o):undefined;return a.default.createElement(r.NotificationDetail,{icon:p,primaryTextLeft:m,secondaryTextLeft:f,primaryTextRight:g,secondaryTextRight:h})}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-asset/notification-detail-asset.tsx"}],[5860,{"./notification-detail-block-explorer-button":5861},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailBlockExplorerButton",{enumerable:!0,get:function(){return o.NotificationDetailBlockExplorerButton}});var o=e("./notification-detail-block-explorer-button")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-block-explorer-button/index.ts"}],[5861,{"../../../helpers/utils/notification.util":6161,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../component-library":5680,"../notification-detail-button":5862,"@metamask/controller-utils":1218,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailBlockExplorerButton=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-redux"),i=e("@metamask/controller-utils"),s=e("../../../selectors"),l=e("../../component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/utils/notification.util"),d=e("../notification-detail-button");n.NotificationDetailBlockExplorerButton=({notification:e,chainId:t,txHash:n,id:o})=>{var p;const m=(0,c.useI18nContext)(),f=(0,i.toHex)(t),{blockExplorerConfig:g}=(0,u.getNetworkDetailsByChainId)(f),h=(0,r.useSelector)(s.getNetworkConfigurationsByChainId)[f],y=null==h||null===(p=h.blockExplorerUrls)||void 0===p?void 0:p[h.defaultBlockExplorerUrlIndex??-1],k=y??(null==g?void 0:g.url),b=y?m("notificationItemCheckBlockExplorer"):null!=g&&g.name?m("notificationTransactionSuccessView",[g.name]):m("notificationItemCheckBlockExplorer");return k?a.default.createElement(d.NotificationDetailButton,{notification:e,variant:l.ButtonVariant.Secondary,text:b,href:`${k}/tx/${n}`,id:o,isExternal:!0}):null}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-block-explorer-button/notification-detail-block-explorer-button.tsx"}],[5862,{"./notification-detail-button":5863},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailButton",{enumerable:!0,get:function(){return o.NotificationDetailButton}});var o=e("./notification-detail-button")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-button/index.ts"}],[5863,{"../../../../shared/constants/metametrics":5150,"../../../contexts/metametrics":6090,"../../../helpers/constants/design-system":6123,"../../component-library":5680,"@metamask/notification-services-controller":1875,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailButton=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("@metamask/notification-services-controller"),r=e("../../../contexts/metametrics"),i=e("../../../../shared/constants/metametrics"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const{TRIGGER_TYPES:u}=a.NotificationServicesController.Constants;n.NotificationDetailButton=({notification:e,variant:t=s.ButtonVariant.Secondary,text:n,href:a,id:c,isExternal:d=!1,endIconName:p=!0})=>{const m=(0,o.useContext)(r.MetaMetricsContext);return o.default.createElement(s.Button,{key:c,href:a,variant:t,externalLink:d,size:s.ButtonSize.Lg,width:l.BlockSize.Full,endIconName:p?s.IconName.Arrow2UpRight:undefined,onClick:()=>{m({category:i.MetaMetricsEventCategory.NotificationInteraction,event:i.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.id,notification_type:e.type,...e.type!==u.FEATURES_ANNOUNCEMENT&&{chain_id:null==e?void 0:e.chain_id},clicked_item:"block_explorer"}})}},n)}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-button/notification-detail-button.tsx"}],[5864,{"./notification-detail-collection":5865},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailCollection",{enumerable:!0,get:function(){return o.NotificationDetailCollection}});var o=e("./notification-detail-collection")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-collection/index.ts"}],[5865,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/notification.util":6161,"../../../selectors":6820,"../../app/assets/nfts/nft-default-image/nft-default-image":5258,"../../component-library":5680,"../notification-detail":5876,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailCollection=void 0;var o=d(e("react")),a=e("react-redux"),r=e("../../../selectors"),i=d(e("../../app/assets/nfts/nft-default-image/nft-default-image")),s=e("../../../helpers/utils/notification.util"),l=e("../notification-detail"),c=e("../../component-library"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}n.NotificationDetailCollection=({icon:e,label:t,collection:n})=>{const{badgeSrc:d,src:p}=e,m=(0,a.useSelector)(r.getIpfsGateway),f=(0,a.useSelector)(r.getOpenSeaEnabled),g=m&&(0,s.isIpfsURL)(p)&&p,h=f&&p&&!(0,s.isIpfsURL)(p),y=o.default.createElement(c.AvatarToken,{src:d,backgroundColor:u.BackgroundColor.infoDefault,borderColor:u.BorderColor.backgroundDefault,borderWidth:2,size:c.AvatarTokenSize.Sm}),k=o.default.createElement(c.BadgeWrapper,{position:c.BadgeWrapperPosition.topRight,badge:y},g||h?o.default.createElement(c.Box,{as:"img",src:p,display:u.Display.Block,justifyContent:u.JustifyContent.center,backgroundColor:u.BackgroundColor.primaryMuted,borderRadius:u.BorderRadius.LG,className:"notification-detail-collection__image"}):o.default.createElement(i.default,{className:"nft-item__default-image notification-detail-collection__image","data-testid":"nft-default-image",clickable:!1})),b=(e,t,n,a)=>o.default.createElement(c.Text,{variant:e,fontWeight:t,color:n},a),x=b(u.TextVariant.bodyLgMedium,u.FontWeight.Medium,u.TextColor.textDefault,t),v=b(u.TextVariant.bodyMd,u.FontWeight.Normal,u.TextColor.textAlternative,n);return o.default.createElement(l.NotificationDetail,{icon:k,primaryTextLeft:x,secondaryTextLeft:v})}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-collection/notification-detail-collection.tsx"}],[5866,{"./notification-detail-copy-button":5867},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailCopyButton",{enumerable:!0,get:function(){return o.NotificationDetailCopyButton}});var o=e("./notification-detail-copy-button")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-copy-button/index.ts"}],[5867,{"../../../../shared/constants/metametrics":5150,"../../../../shared/constants/time":5166,"../../../contexts/metametrics":6090,"../../../helpers/constants/design-system":6123,"../../../hooks/useCopyToClipboard":6191,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../ui/tooltip/tooltip":6074,"@metamask/notification-services-controller":1875,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailCopyButton=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("@metamask/notification-services-controller"),i=e("../../../contexts/metametrics"),s=e("../../../../shared/constants/metametrics"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useCopyToClipboard"),d=(o=e("../../ui/tooltip/tooltip"))&&o.__esModule?o:{default:o},p=e("../../../hooks/useI18nContext"),m=e("../../../../shared/constants/time");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const{TRIGGER_TYPES:g}=r.NotificationServicesController.Constants;n.NotificationDetailCopyButton=({notification:e,text:t,displayText:n,color:o=c.TextColor.textAlternative})=>{const[r,f]=(0,u.useCopyToClipboard)(m.MINUTE),h=(0,p.useI18nContext)(),y=(0,a.useContext)(i.MetaMetricsContext),k=h(r?"copiedExclamation":"copyToClipboard");return a.default.createElement(d.default,{position:"bottom",title:k},a.default.createElement(l.ButtonBase,{backgroundColor:c.BackgroundColor.transparent,onClick:()=>{"function"==typeof f&&f(t),e&&y({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.id,notification_type:e.type,...e.type!==g.FEATURES_ANNOUNCEMENT&&{chain_id:null==e?void 0:e.chain_id},clicked_item:"tx_id"}})},paddingRight:0,paddingLeft:0,variant:c.TextVariant.bodyMd,fontWeight:c.FontWeight.Normal,color:o,endIconName:r?l.IconName.CopySuccess:l.IconName.Copy,alignItems:c.AlignItems.center,"data-testid":"address-copy-button-text",size:l.ButtonBaseSize.Sm},a.default.createElement(l.Box,{display:c.Display.Flex},n)))}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-copy-button/notification-detail-copy-button.tsx"}],[5868,{"./notification-detail-info":5869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailInfo",{enumerable:!0,get:function(){return o.NotificationDetailInfo}});var o=e("./notification-detail-info")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-info/index.ts"}],[5869,{"../../../helpers/constants/design-system":6123,"../../component-library":5680,"../notification-detail":5876,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailInfo=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../notification-detail"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system");n.NotificationDetailInfo=({icon:e,label:t,detail:n,action:o})=>a.default.createElement(r.NotificationDetail,{icon:a.default.createElement(i.AvatarIcon,e),primaryTextLeft:a.default.createElement(i.Text,{variant:s.TextVariant.bodyLgMedium,fontWeight:s.FontWeight.Medium,color:s.TextColor.textDefault},t),secondaryTextLeft:a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Normal,color:s.TextColor.textAlternative},n),secondaryTextRight:o})}}},{package:"$root$",file:"ui/components/multichain/notification-detail-info/notification-detail-info.tsx"}],[5870,{"./notification-detail-network-fee":5871},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailNetworkFee",{enumerable:!0,get:function(){return o.NotificationDetailNetworkFee}});var o=e("./notification-detail-network-fee")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-network-fee/index.ts"}],[5871,{"../../../../shared/constants/metametrics":5150,"../../../../shared/modules/conversion.utils":5188,"../../../contexts/metametrics":6090,"../../../helpers/constants/design-system":6123,"../../../helpers/utils/notification.util":6161,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../ui/icon/preloader/preloader-icon.component":6002,"../notification-detail":5876,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailNetworkFee=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("../../../hooks/useI18nContext"),i=e("../../../contexts/metametrics"),s=e("../../../helpers/utils/notification.util"),l=e("../../../../shared/modules/conversion.utils"),c=e("../../../../shared/constants/metametrics"),u=e("../notification-detail"),d=e("../../component-library"),p=e("../../../helpers/constants/design-system"),m=(o=e("../../ui/icon/preloader/preloader-icon.component"))&&o.__esModule?o:{default:o};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const g=({label:e,value:t})=>a.default.createElement(d.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.spaceBetween,padding:4},a.default.createElement(d.Text,{color:p.TextColor.textDefault,variant:p.TextVariant.bodyMd,fontWeight:p.FontWeight.Normal},e),a.default.createElement(d.Text,{color:p.TextColor.textAlternative,variant:p.TextVariant.bodyMd,fontWeight:p.FontWeight.Normal},t));n.NotificationDetailNetworkFee=({notification:e})=>{const t=(0,r.useI18nContext)(),n=(0,a.useContext)(i.MetaMetricsContext),[o,f]=(0,a.useState)(!1),[h,y]=(0,a.useState)(null),[k,b]=(0,a.useState)(!1),x=(e=>{const t=(0,l.decimalToHex)(e.chain_id);return(0,s.getNetworkDetailsByChainId)(`0x${t}`)})(e);(0,a.useEffect)((()=>{(async()=>{try{const t=await(0,s.getNetworkFees)(e);t&&y({transactionFee:{transactionFeeInEther:t.transactionFeeInEth,transactionFeeInUsd:t.transactionFeeInUsd},gasLimitUnits:t.gasLimit,gasUsedUnits:t.gasUsed,baseFee:t.baseFee,priorityFee:t.priorityFee,maxFeePerGas:t.maxFeePerGas})}catch(e){b(!0)}})()}),[]);return h||k?!h&&k?a.default.createElement(d.Box,{height:p.BlockSize.Full,width:p.BlockSize.Full,display:p.Display.Flex,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,flexDirection:p.FlexDirection.Column,"data-testid":"notifications-list-loading",paddingTop:4},a.default.createElement(d.Text,{as:"p",color:p.TextColor.errorDefault,variant:p.TextVariant.bodyMd},t("notificationItemError"))):a.default.createElement(d.Box,{width:p.BlockSize.Full,backgroundColor:p.BackgroundColor.transparent,padding:0},a.default.createElement(u.NotificationDetail,{icon:a.default.createElement(d.AvatarIcon,{iconName:d.IconName.Gas,color:p.TextColor.infoDefault,backgroundColor:p.BackgroundColor.infoMuted}),primaryTextLeft:a.default.createElement(d.Text,{variant:p.TextVariant.bodyLgMedium,fontWeight:p.FontWeight.Medium,color:p.TextColor.textDefault},t("notificationDetailNetworkFee")),secondaryTextLeft:a.default.createElement(d.Text,{variant:p.TextVariant.bodyMd,fontWeight:p.FontWeight.Normal,color:p.TextColor.textAlternative},null==h?void 0:h.transactionFee.transactionFeeInEther," ",null==x?void 0:x.nativeCurrencySymbol," (",null==h?void 0:h.transactionFee.transactionFeeInUsd," USD)"),secondaryTextRight:a.default.createElement(d.Box,{paddingLeft:0,paddingRight:0,paddingTop:0,backgroundColor:p.BackgroundColor.transparent,display:p.Display.InlineFlex,alignItems:p.AlignItems.center,justifyContent:p.JustifyContent.flexEnd,gap:2,as:"button",onClick:()=>{o||n({category:c.MetaMetricsEventCategory.NotificationInteraction,event:c.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.id,notification_type:e.type,chain_id:e.chain_id,clicked_item:"fee_details"}}),f(!o)}},a.default.createElement(d.Text,{color:p.TextColor.primaryDefault,variant:p.TextVariant.bodyMd},t("notificationDetail")),a.default.createElement(d.Icon,{name:o?d.IconName.ArrowUp:d.IconName.ArrowDown,color:p.IconColor.primaryDefault,size:d.IconSize.Sm,marginInlineEnd:1}))}),o&&a.default.createElement(d.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column,justifyContent:p.JustifyContent.flexStart,width:p.BlockSize.Full},a.default.createElement(g,{label:t("notificationDetailGasLimit"),value:(null==h?void 0:h.gasLimitUnits.toString())||""}),a.default.createElement(g,{label:t("notificationDetailGasUsed"),value:(null==h?void 0:h.gasUsedUnits.toString())||""}),a.default.createElement(g,{label:t("notificationDetailBaseFee"),value:(null==h?void 0:h.baseFee)||""}),a.default.createElement(g,{label:t("notificationDetailPriorityFee"),value:(null==h?void 0:h.priorityFee)||""}),a.default.createElement(g,{label:t("notificationDetailMaxFee"),value:(null==h?void 0:h.maxFeePerGas)||""}))):a.default.createElement(d.Box,{height:p.BlockSize.Full,width:p.BlockSize.Full,display:p.Display.Flex,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,flexDirection:p.FlexDirection.Column,"data-testid":"notifications-list-loading"},a.default.createElement(m.default,{size:36}))}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-network-fee/notification-detail-network-fee.tsx"}],[5872,{"./notification-detail-nft":5873},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailNft",{enumerable:!0,get:function(){return o.NotificationDetailNft}});var o=e("./notification-detail-nft")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-nft/index.ts"}],[5873,{"../../../helpers/constants/design-system":6123,"../../component-library":5680,"../nft-item":5854,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailNft=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../nft-item"),s=e("../../../helpers/constants/design-system");n.NotificationDetailNft=({networkSrc:e,tokenId:t,tokenName:n,tokenSrc:o,networkName:l})=>a.default.createElement(r.Box,{paddingTop:1,paddingBottom:4,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},a.default.createElement(r.Box,{className:"notification-detail-nft__image"},a.default.createElement(i.NftItem,{networkSrc:e,src:o,name:n,alt:n,networkName:l,tokenId:t})))}}},{package:"$root$",file:"ui/components/multichain/notification-detail-nft/notification-detail-nft.tsx"}],[5874,{"./notification-detail-title":5875},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailTitle",{enumerable:!0,get:function(){return o.NotificationDetailTitle}});var o=e("./notification-detail-title")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-title/index.ts"}],[5875,{"../../../helpers/constants/design-system":6123,"../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailTitle=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../helpers/constants/design-system"),i=e("../../component-library");n.NotificationDetailTitle=({title:e,date:t})=>a.default.createElement(i.Box,{display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,width:r.BlockSize.Full,flexDirection:r.FlexDirection.Column,paddingInlineStart:8,paddingInlineEnd:8},a.default.createElement(i.Text,{variant:r.TextVariant.headingSm,textAlign:r.TextAlign.Center,overflowWrap:r.OverflowWrap.BreakWord},e),a.default.createElement(i.Text,{variant:r.TextVariant.bodyXs},t))}}},{package:"$root$",file:"ui/components/multichain/notification-detail-title/notification-detail-title.tsx"}],[5876,{"./notification-detail":5877},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetail",{enumerable:!0,get:function(){return o.NotificationDetail}});var o=e("./notification-detail")}}},{package:"$root$",file:"ui/components/multichain/notification-detail/index.ts"}],[5877,{"../../../helpers/constants/design-system":6123,"../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetail=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system");n.NotificationDetail=({icon:e,primaryTextLeft:t,primaryTextRight:n,secondaryTextLeft:o,secondaryTextRight:s})=>a.default.createElement(r.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.flexStart,width:i.BlockSize.Full,paddingBottom:2,paddingRight:4,paddingLeft:4,paddingTop:2,backgroundColor:i.BackgroundColor.transparent},a.default.createElement(r.Box,{display:i.Display.Flex,gap:4,paddingRight:4,height:i.BlockSize.Full,alignItems:i.AlignItems.flexStart},a.default.createElement(r.Box,{height:i.BlockSize.Full,className:"notification-detail__icon"},e),a.default.createElement(r.Box,{display:i.Display.Block,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,textAlign:i.TextAlign.Left},t,o)),a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexEnd,textAlign:i.TextAlign.Right,className:"notification-detail__right-container"},n??null,s??null))}}},{package:"$root$",file:"ui/components/multichain/notification-detail/notification-detail.tsx"}],[5878,{"./notification-list-item-icon":5879},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationListItemIcon",{enumerable:!0,get:function(){return o.NotificationListItemIcon}});var o=e("./notification-list-item-icon")}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-icon/index.js"}],[5879,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/notification.util":6161,"../../../selectors":6820,"../../app/assets/nfts/nft-default-image/nft-default-image":5258,"../../component-library":5680,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationListItemIconType=n.NotificationListItemIcon=void 0;var o=u(e("react")),a=e("react-redux"),r=e("../../../selectors"),i=u(e("../../app/assets/nfts/nft-default-image/nft-default-image")),s=e("../../../helpers/utils/notification.util"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}let d=n.NotificationListItemIconType=function(e){return e.Token="token",e.Nft="nft",e}({});const p=({src:e})=>{const{ipfsImageIsRenderable:t,openseaImageIsRenderable:n,isIpfs:u}=(e=>{const t=(0,a.useSelector)(r.getIpfsGateway),n=(0,a.useSelector)(r.getOpenSeaEnabled),o=(0,s.isIpfsURL)(e);return{ipfsImageIsRenderable:t&&o&&e,openseaImageIsRenderable:n&&e&&!o,isIpfs:o}})(e);return t||n?o.default.createElement(l.Box,{"data-testid":"nft-image",as:"img",src:e,display:c.Display.Block,justifyContent:c.JustifyContent.center,backgroundColor:c.BackgroundColor.primaryMuted,borderRadius:c.BorderRadius.SM,className:"notification-list-item-icon__image"}):o.default.createElement(i.default,{className:"nft-item__default-image notification-list-item-icon__image","data-testid":"nft-default-image",clickable:u})},m={[d.Token]:({src:e})=>o.default.createElement(l.AvatarToken,{"data-testid":"avatar-token",src:e,borderStyle:c.BorderStyle.none,size:l.AvatarTokenSize.Md}),[d.Nft]:({src:e})=>o.default.createElement(p,{src:e}),default:()=>o.default.createElement(l.Box,{"data-testid":"default-icon",as:"img",display:c.Display.Block,borderRadius:c.BorderRadius.SM,backgroundColor:c.BackgroundColor.backgroundDefault,className:"notification-list-item-icon__image"})};n.NotificationListItemIcon=({type:e,value:t,badge:n})=>{const a=m[e]||m.default,r=o.default.createElement(a,{src:t});return o.default.createElement(o.default.Fragment,null,n?((e,t)=>o.default.createElement(l.BadgeWrapper,{"data-testid":"badge-wrapper",position:e.position||l.BadgeWrapperPosition.bottomRight,badge:o.default.createElement(l.AvatarIcon,{iconName:e.icon,size:l.AvatarIconSize.Sm,backgroundColor:c.BackgroundColor.infoDefault,borderColor:c.BorderColor.backgroundDefault,borderWidth:2,iconProps:{name:e.icon,color:c.IconColor.infoInverse,size:l.IconSize.Xs}})},t))(n,r):o.default.createElement(l.Box,{borderRadius:c.BorderRadius.XL},r))}}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-icon/notification-list-item-icon.tsx"}],[5880,{"./notification-list-item-snap":5881},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationListItemSnap",{enumerable:!0,get:function(){return o.NotificationListItemSnap}});var o=e("./notification-list-item-snap")}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-snap/index.ts"}],[5881,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/notification.util":6161,"../../app/snaps/snap-icon":5470,"../../app/snaps/snap-ui-markdown":5519,"../../component-library":5680,"../notification-list-item-text":5882,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationListItemSnap=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=e("../notification-list-item-text"),l=e("../../../helpers/utils/notification.util"),c=e("../../app/snaps/snap-ui-markdown"),u=e("../../app/snaps/snap-icon");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(this,arguments)}n.NotificationListItemSnap=({id:e,isRead:t,title:n,snapMessage:o,createdAt:p,snapId:m,handleSnapClick:f,handleSnapButton:g})=>a.default.createElement(r.Box,{className:"notification-list-item "+(t?"":"notification-list-item--unread"),display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.flexStart,width:i.BlockSize.Full,paddingBottom:3,paddingRight:5,paddingLeft:5,paddingTop:3,key:e,onClick:()=>{null==f||f()},style:{cursor:"pointer"}},a.default.createElement(r.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.flexStart,width:i.BlockSize.Full,backgroundColor:i.BackgroundColor.transparent,gap:4,height:i.BlockSize.Full,style:{paddingLeft:"6px",paddingRight:"6px",paddingTop:"2px"}},!t&&a.default.createElement(r.Box,{display:i.Display.Block,className:"notification-list-item__unread-dot__wrapper--snap"},a.default.createElement(r.Icon,{name:r.IconName.FullCircle,color:i.IconColor.primaryDefault,className:"notification-list-item__unread-dot__dot","data-testid":"unread-dot"})),a.default.createElement(r.Box,{height:i.BlockSize.Full,className:"notification-list-item__icon"},a.default.createElement(u.SnapIcon,{snapId:m,avatarSize:r.IconSize.Md})),a.default.createElement(r.Box,{display:i.Display.Flex,gap:4,height:i.BlockSize.Full,alignItems:i.AlignItems.flexStart,width:i.BlockSize.Full},a.default.createElement(r.Box,{display:i.Display.Block,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,textAlign:i.TextAlign.Left,width:i.BlockSize.Full},a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.flexStart,justifyContent:i.JustifyContent.spaceBetween},a.default.createElement(r.Box,{onClick:()=>{null==g||g()}},a.default.createElement(s.NotificationListItemText,d({},n,{color:i.TextColor.primaryDefault}))),a.default.createElement(r.Text,{color:i.TextColor.textMuted,variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Normal,as:"p"},(0,l.formatMenuItemDate)(p))),a.default.createElement(r.Box,{color:i.TextColor.textDefault,className:"snap-notifications__item__details__message"},a.default.createElement(c.SnapUIMarkdown,{markdown:!0},o))))))}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-snap/notification-list-item-snap.tsx"}],[5882,{"./notification-list-item-text":5883},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationListItemText",{enumerable:!0,get:function(){return o.NotificationListItemText}});var o=e("./notification-list-item-text")}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-text/index.ts"}],[5883,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/notification.util":6161,"../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationListItemText=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/utils/notification.util");n.NotificationListItemText=({items:e,variant:t=i.TextVariant.bodySm,color:n=i.TextColor.textDefault})=>{const o=e.map((({text:t,highlighted:o},l)=>{const c=(0,s.getRandomKey)(t,l),u=o?i.TextColor.infoDefault:n,d=l!==e.length-1&&" ";return a.default.createElement(r.Text,{key:c,as:"span",variant:i.TextVariant.inherit,fontWeight:i.FontWeight.Normal,color:u},t,d)}));return a.default.createElement(r.Text,{as:"p",variant:t},o)}}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-text/notification-list-item-text.tsx"}],[5884,{"./notification-list-item":5885},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationListItem",{enumerable:!0,get:function(){return o.NotificationListItem}});var o=e("./notification-list-item")}}},{package:"$root$",file:"ui/components/multichain/notification-list-item/index.ts"}],[5885,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/notification.util":6161,"../../component-library":5680,"../notification-list-item-icon":5878,"../notification-list-item-text":5882,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationListItem=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=e("../notification-list-item-icon"),l=e("../notification-list-item-text"),c=e("../../../helpers/utils/notification.util");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(this,arguments)}n.NotificationListItem=({id:e,isRead:t,icon:n,title:o,description:d,createdAt:p,amount:m,onClick:f})=>a.default.createElement(r.Box,{className:"notification-list-item "+(t?"":"notification-list-item--unread"),display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.flexStart,width:i.BlockSize.Full,paddingBottom:3,paddingRight:5,paddingLeft:5,paddingTop:3,key:e},a.default.createElement(r.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.flexStart,as:"button",onClick:()=>{null==f||f()},width:i.BlockSize.Full,backgroundColor:i.BackgroundColor.transparent},!t&&a.default.createElement(r.Box,{display:i.Display.Block,className:"notification-list-item__unread-dot__wrapper"},a.default.createElement(r.Icon,{name:r.IconName.FullCircle,color:i.IconColor.primaryDefault,className:"notification-list-item__unread-dot__dot","data-testid":"unread-dot"})),a.default.createElement(r.Box,{display:i.Display.Flex,gap:4,paddingRight:4,height:i.BlockSize.Full,alignItems:i.AlignItems.flexStart},a.default.createElement(r.Box,{height:i.BlockSize.Full,className:"notification-list-item__icon"},a.default.createElement(s.NotificationListItemIcon,n)),a.default.createElement(r.Box,{display:i.Display.Block,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,textAlign:i.TextAlign.Left,width:i.BlockSize.Full},a.default.createElement(l.NotificationListItemText,u({},o,{color:i.TextColor.textAlternative})),a.default.createElement(l.NotificationListItemText,d))),a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexEnd,textAlign:i.TextAlign.Right,className:"notification-list-item__right-container"},a.default.createElement(r.Text,{color:i.TextColor.textMuted,variant:i.TextVariant.bodySm,fontWeight:i.FontWeight.Normal,as:"p"},(0,c.formatMenuItemDate)(p)),m&&a.default.createElement(r.Text,{color:i.TextColor.textDefault,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Normal,as:"p"},m))))}}},{package:"$root$",file:"ui/components/multichain/notification-list-item/notification-list-item.tsx"}],[5886,{"./notifications-page":5887},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationsPage",{enumerable:!0,get:function(){return o.NotificationsPage}});var o=e("./notifications-page")}}},{package:"$root$",file:"ui/components/multichain/notifications-page/index.js"}],[5887,{"../../../helpers/constants/design-system":6123,"../../../helpers/constants/routes":6129,"../../../selectors":6820,"../../component-library":5680,"../../ui/metafox-logo":6029,"../pages/page":5906,react:4884,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsPage=function({children:e}){const t=(0,a.useHistory)();return o.default.createElement("div",{className:"main-container","data-testid":"notifications-page"},o.default.createElement(r.Box,{display:[i.Display.None,i.Display.Flex],alignItems:i.AlignItems.center,margin:2,className:"multichain-app-header-logo","data-testid":"app-header-logo",justifyContent:i.JustifyContent.center},o.default.createElement(s.default,{unsetIconHeight:!0,onClick:()=>t.push(l.DEFAULT_ROUTE)})),o.default.createElement(c.Page,null,e))};var o=u(e("react")),a=e("react-router-dom"),r=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=u(e("../../ui/metafox-logo"));e("../../../selectors");var l=e("../../../helpers/constants/routes"),c=e("../pages/page");function u(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/multichain/notifications-page/notifications-page.tsx"}],[5888,{"./notifications-settings-account":5889},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationsSettingsAccount",{enumerable:!0,get:function(){return o.NotificationsSettingsAccount}});var o=e("./notifications-settings-account")}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-account/index.ts"}],[5889,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/util":6171,"../../component-library":5680,"@metamask/controller-utils":1218,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsAccount=function({address:e,name:t}){const n=(0,r.toChecksumHexAddress)(e);return a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,gap:4},a.default.createElement(i.AvatarAccount,{address:n}),a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.flexStart,justifyContent:s.JustifyContent.spaceBetween,width:s.BlockSize.Full},a.default.createElement(i.Text,{variant:s.TextVariant.bodyLgMedium,textAlign:s.TextAlign.Left},t??n),a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,textAlign:s.TextAlign.Left,color:s.TextColor.textAlternative},(0,l.shortenAddress)(n))))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("@metamask/controller-utils"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../helpers/utils/util")}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-account/notifications-settings-account.tsx"}],[5890,{"./notifications-settings-box":5891},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationsSettingsBox",{enumerable:!0,get:function(){return o.NotificationsSettingsBox}});var o=e("./notifications-settings-box")}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-box/index.ts"}],[5891,{"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../ui/icon/preloader/preloader-icon.component":6002,"../../ui/toggle-button":6069,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsBox=function({children:e,value:t,loading:n=!1,disabled:c=!1,error:u=null,onToggle:d}){const p=(0,a.useI18nContext)();return o.default.createElement(r.Box,{width:s.BlockSize.Full},o.default.createElement(r.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween,width:s.BlockSize.Full,gap:4,className:"notifications-settings-box"},e,o.default.createElement(r.Box,{className:"notifications-settings-box__toggle"},n?o.default.createElement(r.Box,{textAlign:s.TextAlign.Right},o.default.createElement(l.default,{size:24})):o.default.createElement(i.default,{value:t,onToggle:d,disabled:c,dataTestId:"test-toggle",className:"notifications-settings-box__toggle"}))),u&&o.default.createElement(r.Box,{paddingTop:0},o.default.createElement(r.Text,{as:"p",color:s.TextColor.errorDefault,paddingTop:2},p("notificationsSettingsBoxError"))))};var o=c(e("react")),a=e("../../../hooks/useI18nContext"),r=e("../../component-library"),i=c(e("../../ui/toggle-button")),s=e("../../../helpers/constants/design-system"),l=c(e("../../ui/icon/preloader/preloader-icon.component"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-box/notifications-settings-box.tsx"}],[5892,{"./notifications-settings-type":5893},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationsSettingsType",{enumerable:!0,get:function(){return o.NotificationsSettingsType}});var o=e("./notifications-settings-type")}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-type/index.ts"}],[5893,{"../../../helpers/constants/design-system":6123,"../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsSettingsType=function({icon:e,title:t,text:n}){return a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,gap:4},e&&a.default.createElement(r.Icon,{name:e,size:r.IconSize.Lg,"data-testid":"icon"}),a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.stretch,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full},a.default.createElement(r.Text,{variant:i.TextVariant.bodyLgMedium,textAlign:i.TextAlign.Left},t),n&&a.default.createElement(r.Text,{variant:i.TextVariant.bodyMd,textAlign:i.TextAlign.Left,color:i.TextColor.textAlternative},n)))};var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../component-library"),i=e("../../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/components/multichain/notifications-settings-type/notifications-settings-type.tsx"}],[5894,{"./notifications-tag-counter":5895},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationsTagCounter",{enumerable:!0,get:function(){return o.NotificationsTagCounter}});var o=e("./notifications-tag-counter")}}},{package:"$root$",file:"ui/components/multichain/notifications-tag-counter/index.ts"}],[5895,{"../../../helpers/constants/design-system":6123,"../../../hooks/metamask-notifications/useCounter":6176,"../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationsTagCounter=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../hooks/metamask-notifications/useCounter"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system");n.NotificationsTagCounter=({noLabel:e=!1})=>{const{notificationsUnreadCount:t}=(0,r.useUnreadNotificationsCounter)();return 0===t?null:e?a.default.createElement(i.Box,{display:s.Display.Block,className:"notification-list-item__unread-dot__wrapper",style:{position:"absolute",cursor:"pointer",top:"-5px",left:"10px",zIndex:1},backgroundColor:s.BackgroundColor.errorDefault,borderStyle:s.BorderStyle.none,borderRadius:s.BorderRadius.LG,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},a.default.createElement(i.Text,{color:s.TextColor.errorInverse,variant:s.TextVariant.bodyXs,className:"notifications-tag-counter__unread-dot",textAlign:s.TextAlign.Center},t>10?"9+":t)):a.default.createElement(i.Box,{backgroundColor:s.BackgroundColor.errorDefault,borderStyle:s.BorderStyle.none,borderRadius:s.BorderRadius.LG,paddingTop:0,paddingBottom:0,className:"notifications-tag-counter"},a.default.createElement(i.Text,{color:s.TextColor.errorInverse,variant:s.TextVariant.bodySm,"data-testid":"global-menu-notification-count",className:"notifications-tag-counter__text",textAlign:s.TextAlign.Center},t>10?"9+":t))}}}},{package:"$root$",file:"ui/components/multichain/notifications-tag-counter/notifications-tag-counter.tsx"}],[5896,{"../../../../../helpers/constants/design-system":6123,"../../../../../hooks/useI18nContext":6202,"../../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NoConnectionContent=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),s=e("../../../../component-library");n.NoConnectionContent=()=>{const e=(0,i.useI18nContext)();return a.default.createElement(s.Box,{className:"connections-page__no-site-connected-content",display:r.Display.Flex,flexDirection:r.FlexDirection.Column,alignItems:r.AlignItems.center,justifyContent:r.JustifyContent.center,gap:2,paddingLeft:4,paddingRight:4},a.default.createElement(s.Text,{variant:r.TextVariant.bodyMdMedium,textAlign:r.TextAlign.Center},e("noConnectedAccountTitle")),a.default.createElement(s.Text,{variant:r.TextVariant.bodyMd,textAlign:r.TextAlign.Center},e("noConnectionDescription")))}}}},{package:"$root$",file:"ui/components/multichain/pages/connections/components/no-connection.tsx"}],[5897,{"../..":5837,"../../../../helpers/constants/design-system":6123,"../../../../helpers/constants/routes":6129,"../../../../helpers/utils/util":6171,"../../../../hooks/useI18nContext":6202,"../../../../selectors":6820,"../../../../store/actions":6833,"../../../component-library":5680,"../../account-list-menu/account-list-menu":5751,"../../connect-accounts-modal/connect-accounts-modal":5800,"../../disconnect-all-modal/disconnect-all-modal":5815,"../page":5906,"./components/no-connection":5896,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Connections=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("react-router-dom"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../helpers/constants/routes"),l=e("../../../../helpers/utils/util"),c=e("../../../../hooks/useI18nContext"),u=e("../../../../selectors"),d=e("../../../component-library"),p=e("../../account-list-menu/account-list-menu"),m=e("../.."),f=e("../page"),g=e("../../connect-accounts-modal/connect-accounts-modal"),h=e("../../../../store/actions"),y=e("../../disconnect-all-modal/disconnect-all-modal"),k=e("./components/no-connection");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}n.Connections=()=>{var e;const t=(0,c.useI18nContext)(),n=(0,a.useDispatch)(),b=(0,r.useHistory)(),[x,v]=(0,o.useState)(!1),[C,T]=(0,o.useState)(!1),[_,E]=(0,o.useState)(""),[w,M]=(0,o.useState)(!1),[S,I]=(0,o.useState)(!1),A=(0,r.useParams)(),N=decodeURIComponent(A.origin),O=(0,a.useSelector)(u.getConnectedSitesList),P=(0,a.useSelector)(u.getSubjectMetadata)[N],{openMetaMaskTabs:D}=(0,a.useSelector)((e=>e.appState)),{id:B}=(0,a.useSelector)((e=>e.activeTab)),j=(0,a.useSelector)((e=>(0,u.getUnconnectedAccounts)(e,N))),F=(0,a.useSelector)((e=>(0,u.getOrderedConnectedAccountsForConnectedDapp)(e,N))),R=(0,a.useSelector)(u.getSelectedAccount),L=(0,a.useSelector)(u.getInternalAccounts),$=(0,p.mergeAccounts)(F,L),z=(0,a.useSelector)(u.getPermittedAccountsByOrigin),W=(0,a.useSelector)(u.getPermissionSubjects),U=!(null!==(e=z[N])&&void 0!==e&&e.length);let V={origin:null};N&&U&&!D[B]&&(V={origin:N});const H=O[N],G=(0,a.useSelector)((e=>(0,u.getPermittedAccountsForSelectedTab)(e,N))),q=$.findIndex(((e,t)=>t===$.reduce(((e,t,n)=>(t.metadata.lastSelected??0)>($[e].metadata.lastSelected?n:e)?n:e),0)));return o.default.createElement(f.Page,{"data-testid":"connections-page",className:"main-container connections-page"},o.default.createElement(f.Header,{backgroundColor:i.BackgroundColor.backgroundDefault,startAccessory:o.default.createElement(d.ButtonIcon,{ariaLabel:t("back"),iconName:d.IconName.ArrowLeft,className:"connections-header__start-accessory",color:i.IconColor.iconDefault,onClick:()=>b.goBack(),size:d.ButtonIconSize.Sm})},o.default.createElement(d.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,gap:2,justifyContent:i.JustifyContent.center,className:"connections-header__title"},null!=H&&H.iconUrl?o.default.createElement(d.AvatarFavicon,{name:H.name,size:d.AvatarFaviconSize.Sm,src:H.iconUrl}):o.default.createElement(d.Icon,{name:d.IconName.Global,size:d.IconSize.Sm,color:i.IconColor.iconDefault}),o.default.createElement(d.Text,{as:"span",variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center,ellipsis:!0},(0,l.getURLHost)(N)))),o.default.createElement(f.Content,{padding:0},G.length>0&&p.mergeAccounts.length>0?o.default.createElement(d.Box,null,$.map(((e,n)=>{var a;const r=null===(a={}[e.address])||void 0===a?void 0:a.find((({origin:e})=>e===N)),i=R.address===e.address,s={...e,isAccountActive:n===q};return o.default.createElement(m.AccountListItem,{account:s,key:e.address,accountsCount:$.length,selected:i,connectedAvatar:null==r?void 0:r.iconUrl,menuType:m.AccountListItemMenuTypes.Connection,currentTabOrigin:N,isActive:s.isAccountActive?t("active"):null,onActionClick:E})}))):o.default.createElement(k.NoConnectionContent,null),x?o.default.createElement(g.ConnectAccountsModal,{onClose:()=>v(!1),onAccountsUpdate:()=>M(!0),activeTabOrigin:N}):null,C?o.default.createElement(y.DisconnectAllModal,{type:y.DisconnectType.Account,hostname:N,onClose:()=>T(!1),onClick:()=>(()=>{const e=W[N];if(e){const t=Object.values(e.permissions).map((({parentCapability:e})=>e));if(t.length>0){const e={[N]:t};n((0,h.removePermissionsFor)(e))}T(!1),I(!0)}})()}):null),o.default.createElement(f.Footer,null,o.default.createElement(d.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,gap:4},w?o.default.createElement(m.ToastContainer,null,o.default.createElement(m.Toast,{text:t("connectedAccountsToast"),onClose:()=>M(!1),startAdornment:o.default.createElement(d.AvatarFavicon,{name:null==H?void 0:H.name,size:d.AvatarFaviconSize.Sm,src:null==H?void 0:H.iconUrl})})):null,S?o.default.createElement(m.ToastContainer,null,o.default.createElement(m.Toast,{text:t("disconnectedAllAccountsToast",[(0,l.getURLHost)(N)]),onClose:()=>I(!1),startAdornment:o.default.createElement(d.AvatarFavicon,{name:null==P?void 0:P.name,size:d.AvatarFaviconSize.Sm,src:null==P?void 0:P.iconUrl})})):null,_.length>0?o.default.createElement(m.ToastContainer,null,o.default.createElement(m.Toast,{text:t("disconnectedSingleAccountToast",[_,(0,l.getURLHost)(N)]),onClose:()=>E(""),startAdornment:o.default.createElement(d.AvatarFavicon,{name:null==P?void 0:P.name,size:d.AvatarFaviconSize.Sm,src:null==P?void 0:P.iconUrl})})):null,G.length>0&&p.mergeAccounts.length>0?o.default.createElement(d.Box,{display:i.Display.Flex,gap:2,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,"data-test-id":"connections-button"},o.default.createElement(d.Button,{size:d.ButtonSize.Lg,block:!0,variant:d.ButtonVariant.Secondary,disabled:0===j.length,startIconName:d.IconName.Add,onClick:()=>v(!0)},t("connectMoreAccounts")),o.default.createElement(d.Button,{size:d.ButtonSize.Lg,block:!0,variant:d.ButtonVariant.Secondary,startIconName:d.IconName.Logout,danger:!0,onClick:()=>T(!0)},t("disconnectAllAccounts"))):o.default.createElement(d.ButtonPrimary,{size:d.ButtonPrimarySize.Lg,block:!0,"data-test-id":"no-connections-button",onClick:()=>n((async()=>{const e=await n((0,h.requestAccountsPermissionWithId)(V.origin));b.push(`${s.CONNECT_ROUTE}/${e}`)})())},t("connectAccounts")))))}}}},{package:"$root$",file:"ui/components/multichain/pages/connections/connections.tsx"}],[5898,{"./connections":5897},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Connections",{enumerable:!0,get:function(){return o.Connections}});var o=e("./connections")}}},{package:"$root$",file:"ui/components/multichain/pages/connections/index.js"}],[5899,{"./connections":5898,"./permissions-page/permissions-page":5909,"./review-permissions-page":5910},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Connections",{enumerable:!0,get:function(){return o.Connections}}),Object.defineProperty(n,"PermissionsPage",{enumerable:!0,get:function(){return a.PermissionsPage}}),Object.defineProperty(n,"ReviewPermissions",{enumerable:!0,get:function(){return r.ReviewPermissions}}),Object.defineProperty(n,"SiteCell",{enumerable:!0,get:function(){return r.SiteCell}});var o=e("./connections"),a=e("./permissions-page/permissions-page"),r=e("./review-permissions-page")}}},{package:"$root$",file:"ui/components/multichain/pages/index.js"}],[5900,{"../../../../../../helpers/constants/design-system":6123,"../../../../../component-library":5680,classnames:3684,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Content=void 0;var o=s(e("react")),a=s(e("classnames")),r=e("../../../../../component-library"),i=e("../../../../../../helpers/constants/design-system");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}n.Content=({children:e,className:t="",...n})=>o.default.createElement(r.Box,l({display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,padding:4,height:i.BlockSize.Full,className:(0,a.default)("multichain-page-content",t)},n),e)}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/content/content.tsx"}],[5901,{"./content":5900},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Content",{enumerable:!0,get:function(){return o.Content}});var o=e("./content")}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/content/index.ts"}],[5902,{"../../../../../../helpers/constants/design-system":6123,"../../../../../component-library":5680,classnames:3684,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Footer=void 0;var o=s(e("react")),a=s(e("classnames")),r=e("../../../../../component-library"),i=e("../../../../../../helpers/constants/design-system");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}n.Footer=({children:e,className:t="",...n})=>o.default.createElement(r.Box,l({padding:4,display:i.Display.Flex,width:i.BlockSize.Full,gap:4,className:(0,a.default)("multichain-page-footer",t)},n),e)}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/footer/footer.tsx"}],[5903,{"./footer":5902},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Footer",{enumerable:!0,get:function(){return o.Footer}});var o=e("./footer")}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/footer/index.ts"}],[5904,{"../../../../../../helpers/constants/design-system":6123,"../../../../../component-library":5680,classnames:3684,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Header=void 0;var o=s(e("react")),a=s(e("classnames")),r=e("../../../../../component-library"),i=e("../../../../../../helpers/constants/design-system");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}n.Header=({children:e,endAccessory:t=null,startAccessory:n=null,className:s="",textProps:c,...u})=>o.default.createElement(r.HeaderBase,l({padding:4,width:i.BlockSize.Full,justifyContent:i.JustifyContent.center,className:(0,a.default)("multichain-page-header",s),startAccessory:n,endAccessory:t},u),o.default.createElement(r.Text,l({display:i.Display.Block,variant:i.TextVariant.bodyMdBold,textAlign:i.TextAlign.Center,paddingInlineStart:8,paddingInlineEnd:8,ellipsis:!0},c),e))}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/header/header.tsx"}],[5905,{"./header":5904},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Header",{enumerable:!0,get:function(){return o.Header}});var o=e("./header")}}},{package:"$root$",file:"ui/components/multichain/pages/page/components/header/index.ts"}],[5906,{"./components/content":5901,"./components/footer":5903,"./components/header":5905,"./page":5907},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Content",{enumerable:!0,get:function(){return r.Content}}),Object.defineProperty(n,"Footer",{enumerable:!0,get:function(){return i.Footer}}),Object.defineProperty(n,"Header",{enumerable:!0,get:function(){return a.Header}}),Object.defineProperty(n,"Page",{enumerable:!0,get:function(){return o.Page}});var o=e("./page"),a=e("./components/header"),r=e("./components/content"),i=e("./components/footer")}}},{package:"$root$",file:"ui/components/multichain/pages/page/index.ts"}],[5907,{"../../../../helpers/constants/design-system":6123,"../../../component-library":5680,classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Page=void 0;var o=l(e("react")),a=l(e("prop-types")),r=l(e("classnames")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(this,arguments)}const u=({children:e,className:t="",...n})=>o.default.createElement(i.Box,{width:s.BlockSize.Full,height:s.BlockSize.Full,display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.center,backgroundColor:s.BackgroundColor.backgroundAlternative,className:"multichain-page"},o.default.createElement(i.Box,c({width:s.BlockSize.Full,height:s.BlockSize.Full,display:s.Display.Flex,flexDirection:s.FlexDirection.Column,backgroundColor:s.BackgroundColor.backgroundDefault,className:(0,r.default)("multichain-page__inner-container",t)},n),e));n.Page=u,u.propTypes={className:a.default.string,children:a.default.node}}}},{package:"$root$",file:"ui/components/multichain/pages/page/page.tsx"}],[5908,{"../../../../helpers/constants/design-system":6123,"../../../../helpers/utils/util":6171,"../../../../hooks/useI18nContext":6202,"../../../../selectors":6820,"../../../app/snaps/snap-icon":5470,"../../../component-library":5680,"@metamask/permission-controller":1899,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectionListItem=void 0;var o=m(e("react")),a=m(e("prop-types")),r=e("@metamask/permission-controller"),i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),c=e("../../../component-library"),u=e("../../../../helpers/utils/util"),d=e("../../../app/snaps/snap-icon"),p=e("../../../../selectors");function m(e){return e&&e.__esModule?e:{default:e}}const f=({connection:e,onClick:t})=>{const n=(0,l.useI18nContext)(),a=e.subjectType===r.SubjectType.Snap,m=(0,i.useSelector)((t=>(0,p.getPermittedChainsForSelectedTab)(t,e.origin)));return o.default.createElement(c.Box,{"data-testid":"connection-list-item",as:"button",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.baseline,width:s.BlockSize.Full,backgroundColor:s.BackgroundColor.backgroundDefault,onClick:t,padding:4,gap:4,className:"multichain-connection-list-item"},o.default.createElement(c.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,style:{alignSelf:"center"}},a?o.default.createElement(d.SnapIcon,{className:"connection-list-item__snap-avatar",snapId:e.id,avatarSize:c.IconSize.Md}):o.default.createElement(c.AvatarFavicon,{"data-testid":"connection-list-item__avatar-favicon",src:e.iconUrl})),o.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,width:s.BlockSize.FiveTwelfths,style:{alignSelf:"center",flexGrow:"1"}},o.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,textAlign:s.TextAlign.Left,ellipsis:!0},a?e.packageName:(0,u.getURLHost)(e.origin)),a?null:o.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,gap:1},o.default.createElement(c.Text,{as:"span",width:s.BlockSize.Max,color:s.TextColor.textAlternative,variant:s.TextVariant.bodyMd},e.addresses.length," ",n("accountsSmallCase")," ",m.length," ",n("networksSmallCase")))),o.default.createElement(c.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.flexEnd,alignItems:s.AlignItems.center,style:{flex:"1",alignSelf:"center"},gap:2},o.default.createElement(c.Icon,{display:s.Display.Flex,name:c.IconName.ArrowRight,color:s.IconColor.iconDefault,size:c.IconSize.Sm,backgroundColor:s.BackgroundColor.backgroundDefault})))};n.ConnectionListItem=f,f.propTypes={connection:a.default.object.isRequired,onClick:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/pages/permissions-page/connection-list-item.js"}],[5909,{"../../../../helpers/constants/design-system":6123,"../../../../helpers/constants/routes":6129,"../../../../helpers/utils/snaps":6166,"../../../../hooks/useI18nContext":6202,"../../../../selectors":6820,"../../../../store/actions":6833,"../../../component-library":5680,"../../product-tour-popover":5936,"../page":5906,"./connection-list-item":5908,classnames:3684,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionsPage=void 0;var o,a=(o=e("classnames"))&&o.__esModule?o:{default:o},r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),i=e("react-router-dom"),s=e("react-redux"),l=e("../page"),c=e("../../../component-library"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../helpers/constants/design-system"),p=e("../../../../helpers/constants/routes"),m=e("../../../../selectors"),f=e("../../product-tour-popover"),g=e("../../../../store/actions"),h=e("../../../../helpers/utils/snaps"),y=e("./connection-list-item");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}n.PermissionsPage=()=>{const e=(0,u.useI18nContext)(),t=(0,i.useHistory)(),n=(0,r.useRef)(),[o,k]=(0,r.useState)(0),b=(0,s.useSelector)(m.getConnectedSitesListWithNetworkInfo),x=(0,s.useSelector)(m.getShowPermissionsTour),v=(0,s.useSelector)(m.getOnboardedInThisUISession);(0,r.useEffect)((()=>{k(Object.keys(b).length)}),[b]);return r.default.createElement(l.Page,{className:"main-container","data-testid":"permissions-page"},r.default.createElement(l.Header,{backgroundColor:d.BackgroundColor.backgroundDefault,startAccessory:r.default.createElement(c.ButtonIcon,{ariaLabel:e("back"),iconName:c.IconName.ArrowLeft,className:"connections-header__start-accessory",color:d.Color.iconDefault,onClick:()=>t.push(p.DEFAULT_ROUTE),size:c.ButtonIconSize.Sm})},r.default.createElement(c.Text,{as:"span",variant:d.TextVariant.headingMd,textAlign:d.TextAlign.Center},e("permissions"))),x&&!v?r.default.createElement(f.ProductTour,{closeMenu:g.hidePermissionsTour,className:(0,a.default)("multichain-product-tour-menu__permissions-page-tour"),"data-testid":"permissions-page-product-tour",anchorElement:n.current,title:e("permissionsPageTourTitle"),description:e("permissionsPageTourDescription"),onClick:g.hidePermissionsTour,positionObj:"44%"}):null,r.default.createElement(l.Content,{padding:0},r.default.createElement(c.Box,{ref:n}),o>0?(C=b,Object.entries(C).map((([e,n])=>(0,h.isSnapId)(n.origin)?null:r.default.createElement(y.ConnectionListItem,{"data-testid":"connection-list-item",key:e,connection:n,onClick:()=>(e=>{const n=e.origin,o=encodeURIComponent(n);t.push(`${p.REVIEW_PERMISSIONS}/${o}`)})(n)})))):r.default.createElement(c.Box,{"data-testid":"no-connections",display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:d.JustifyContent.center,height:d.BlockSize.Full,gap:2,padding:4},r.default.createElement(c.Text,{variant:d.TextVariant.bodyMdMedium,backgroundColor:d.BackgroundColor.backgroundDefault,textAlign:d.TextAlign.Center},e("permissionsPageEmptyContent")),r.default.createElement(c.Text,{variant:d.TextVariant.bodyMd,color:d.TextColor.textAlternative,backgroundColor:d.BackgroundColor.backgroundDefault,textAlign:d.TextAlign.Center},e("permissionsPageEmptySubContent")))));var C}}}},{package:"$root$",file:"ui/components/multichain/pages/permissions-page/permissions-page.js"}],[5910,{"./review-permissions-page":5911,"./site-cell/site-cell":5914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ReviewPermissions",{enumerable:!0,get:function(){return o.ReviewPermissions}}),Object.defineProperty(n,"SiteCell",{enumerable:!0,get:function(){return a.SiteCell}});var o=e("./review-permissions-page"),a=e("./site-cell/site-cell")}}},{package:"$root$",file:"ui/components/multichain/pages/review-permissions-page/index.js"}],[5911,{".":5910,"../..":5837,"../../../../../shared/constants/network":5154,"../../../../helpers/constants/design-system":6123,"../../../../helpers/constants/routes":6129,"../../../../hooks/useI18nContext":6202,"../../../../selectors":6820,"../../../../store/actions":6833,"../../../component-library":5680,"../../account-list-menu/account-list-menu":5751,"../../disconnect-all-modal/disconnect-all-modal":5815,"../../permissions-header/permissions-header":5935,"../connections/components/no-connection":5896,"../page":5906,"@metamask/keyring-api":1642,react:4884,"react-redux":4837,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ReviewPermissions=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("react-router-dom"),i=e("@metamask/keyring-api"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),c=e("../../../../selectors"),u=e("../../../../store/actions"),d=e("../../../component-library"),p=e("../.."),m=e("../connections/components/no-connection"),f=e("../page"),g=e("../../../../helpers/constants/routes"),h=e("../../disconnect-all-modal/disconnect-all-modal"),y=e("../../permissions-header/permissions-header"),k=e("../../account-list-menu/account-list-menu"),b=e("../../../../../shared/constants/network"),x=e(".");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}n.ReviewPermissions=()=>{const e=(0,l.useI18nContext)(),t=(0,a.useDispatch)(),n=(0,r.useHistory)(),v=(0,r.useParams)(),C=decodeURIComponent(v.origin),[T,_]=(0,o.useState)(!1),[E,w]=(0,o.useState)(!1),[M,S]=(0,o.useState)(!1),I=C,A=(0,a.useSelector)(c.getShowPermittedNetworkToastOpen);(0,o.useEffect)((()=>{A&&(w(A),t((0,u.hidePermittedNetworkToast)()))}),[A]);const N=(0,a.useSelector)(c.getConnectedSitesList)[I],O=(0,a.useSelector)(c.getPermissionSubjects),P=(0,a.useSelector)(c.getNetworkConfigurationsByChainId),[D,B]=(0,o.useMemo)((()=>Object.entries(P).reduce((([e,t],[n,o])=>((b.TEST_CHAINS.includes(n)?t:e).push(o),[e,t])),[[],[]])),[P]),j=(0,a.useSelector)((e=>(0,c.getPermittedChainsForSelectedTab)(e,I))),F=(0,a.useSelector)(c.getUpdatedAndSortedAccounts),R=(0,a.useSelector)(c.getInternalAccounts),L=(0,o.useMemo)((()=>(0,k.mergeAccounts)(F,R).filter((e=>(0,i.isEvmAccountType)(e.type)))),[F,R]),$=(0,a.useSelector)((e=>(0,c.getPermittedAccountsForSelectedTab)(e,I)));return o.default.createElement(f.Page,{"data-testid":"connections-page",className:"main-container connections-page"},o.default.createElement(o.default.Fragment,null,o.default.createElement(y.PermissionsHeader,{securedOrigin:C,connectedSubjectsMetadata:N}),o.default.createElement(f.Content,{padding:0},$.length>0?o.default.createElement(x.SiteCell,{nonTestNetworks:D,testNetworks:B,accounts:L,onSelectAccountAddresses:e=>{0!==e.length?(t((0,u.addPermittedAccounts)(I,e)),$.forEach((n=>{e.includes(n)||t((0,u.removePermittedAccount)(I,n))})),_(!0)):S(!0)},onSelectChainIds:async e=>{0!==e.length?(t((0,u.addPermittedChains)(I,e)),j.forEach((n=>{e.includes(n)||t((0,u.removePermittedChain)(I,n))})),w(!0)):S(!0)},selectedAccountAddresses:$,selectedChainIds:j}):o.default.createElement(m.NoConnectionContent,null),M?o.default.createElement(h.DisconnectAllModal,{type:h.DisconnectType.Account,hostname:I,onClose:()=>S(!1),onClick:()=>{(()=>{const e=O[I];if(e){const n=Object.values(e.permissions).map((({parentCapability:e})=>e));if(n.length>0){const e={[I]:n};t((0,u.removePermissionsFor)(e))}}t((0,u.hidePermittedNetworkToast)())})(),S(!1)}}):null),o.default.createElement(f.Footer,null,o.default.createElement(o.default.Fragment,null,$.length>0?o.default.createElement(d.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,width:s.BlockSize.Full,gap:2,alignItems:s.AlignItems.center},T?o.default.createElement(p.ToastContainer,null,o.default.createElement(p.Toast,{text:e("accountPermissionToast"),onClose:()=>_(!1),startAdornment:o.default.createElement(d.AvatarFavicon,{name:null==N?void 0:N.name,size:d.AvatarFaviconSize.Sm,src:null==N?void 0:N.iconUrl})})):null,E?o.default.createElement(p.ToastContainer,null,o.default.createElement(p.Toast,{text:e("networkPermissionToast"),onClose:()=>w(!1),startAdornment:o.default.createElement(d.AvatarFavicon,{name:null==N?void 0:N.name,size:d.AvatarFaviconSize.Sm,src:null==N?void 0:N.iconUrl})})):null,o.default.createElement(d.Button,{size:d.ButtonSize.Lg,block:!0,variant:d.ButtonVariant.Secondary,startIconName:d.IconName.Logout,danger:!0,onClick:()=>S(!0),"data-test-id":"disconnect-all"},e("disconnect"))):o.default.createElement(o.default.Fragment,null,$.length>0?o.default.createElement(d.ButtonPrimary,{size:d.ButtonPrimarySize.Lg,block:!0,"data-test-id":"no-connections-button",onClick:async()=>{const e=await t((0,u.requestAccountsAndChainPermissionsWithId)(I));n.push(`${g.CONNECT_ROUTE}/${e}`)}},e("connectAccounts")):null)))))}}}},{package:"$root$",file:"ui/components/multichain/pages/review-permissions-page/review-permissions-page.tsx"}],[5912,{"../../../../../helpers/constants/design-system":6123,"../../../../../hooks/useI18nContext":6202,"../../../../component-library":5680,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SiteCellConnectionListItem=void 0;var o=l(e("react")),a=l(e("prop-types")),r=e("../../../../../helpers/constants/design-system"),i=e("../../../../component-library"),s=e("../../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const c=({title:e,iconName:t,connectedMessage:n,unconnectedMessage:a,isConnectFlow:l,onClick:c,content:u,paddingTopValue:d,paddingBottomValue:p})=>{const m=(0,s.useI18nContext)();return o.default.createElement(i.Box,{"data-testid":"site-cell-connection-list-item",display:r.Display.Flex,flexDirection:r.FlexDirection.Row,alignItems:r.AlignItems.baseline,width:r.BlockSize.Full,backgroundColor:r.BackgroundColor.backgroundDefault,gap:4,className:"multichain-connection-list-item",paddingTop:d,paddingBottom:p},o.default.createElement(i.AvatarIcon,{iconName:t,size:i.AvatarIconSize.Md,color:r.IconColor.iconAlternative,backgroundColor:r.BackgroundColor.backgroundAlternative}),o.default.createElement(i.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,width:r.BlockSize.FiveTwelfths,style:{alignSelf:"center",flexGrow:1},gap:1},o.default.createElement(i.Text,{variant:r.TextVariant.bodyMd,textAlign:r.TextAlign.Left},e),o.default.createElement(i.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Row,alignItems:r.AlignItems.center,gap:1},o.default.createElement(i.Text,{as:"span",width:r.BlockSize.Max,color:r.TextColor.textAlternative,variant:r.TextVariant.bodySm,ellipsis:!0},l?a:n),u)),o.default.createElement(i.ButtonLink,{onClick:()=>c(),"data-testid":"edit"},m("edit")))};n.SiteCellConnectionListItem=c,c.propTypes={title:a.default.string,iconName:a.default.string,connectedMessage:a.default.string,paddingTopValue:a.default.number,paddingBottomValue:a.default.number,unconnectedMessage:a.default.string,isConnectFlow:a.default.bool,onClick:a.default.func,content:a.default.node}}}},{package:"$root$",file:"ui/components/multichain/pages/review-permissions-page/site-cell/site-cell-connection-list-item.js"}],[5913,{"../../..":5837,"../../../../../../shared/constants/network":5154,"../../../../../helpers/constants/design-system":6123,"../../../../../hooks/useI18nContext":6202,"../../../../../selectors":6820,"../../../../component-library":5680,"../../../avatar-group/avatar-group.types":5795,"prop-types":4631,react:4884,"react-redux":4837,"react-tippy":4880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SiteCellTooltip=void 0;var o=f(e("react")),a=f(e("prop-types")),r=e("react-tippy"),i=e("react-redux"),s=e("../../../../../helpers/constants/design-system"),l=e("../../../avatar-group/avatar-group.types"),c=e("../../.."),u=e("../../../../component-library"),d=e("../../../../../selectors"),p=e("../../../../../hooks/useI18nContext"),m=e("../../../../../../shared/constants/network");function f(e){return e&&e.__esModule?e:{default:e}}const g=({accounts:e,networks:t})=>{const n=(0,p.useI18nContext)(),a=(0,i.useSelector)(d.getUseBlockie)?u.AvatarAccountVariant.Blockies:u.AvatarAccountVariant.Jazzicon,f=null==e?void 0:e.map((e=>({avatarValue:e.address}))),g=null==t?void 0:t.map((e=>({avatarValue:m.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],symbol:e.name})));return o.default.createElement(r.Tooltip,{position:"bottom",html:o.default.createElement(u.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,"data-test-id":"site-cell-tooltip"},o.default.createElement(u.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},null==e?void 0:e.slice(0,4).map((e=>o.default.createElement(u.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,textAlign:s.TextAlign.Left,key:e.address,padding:1,paddingInline:2,gap:2},o.default.createElement(u.AvatarAccount,{size:u.AvatarAccountSize.Xs,address:e.address,variant:a,borderStyle:s.BorderStyle.none}),o.default.createElement(u.Text,{color:s.TextColor.overlayInverse,variant:s.TextVariant.bodyMdMedium,"data-testid":"accounts-list-item-connected-account-name",ellipsis:!0},e.label||e.metadata.name)))),null==t?void 0:t.slice(0,4).map((e=>o.default.createElement(u.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,textAlign:s.TextAlign.Left,key:e.chainId,padding:1,paddingInline:2,gap:2},o.default.createElement(u.AvatarNetwork,{size:u.AvatarNetworkSize.Xs,src:m.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name,borderStyle:s.BorderStyle.none}),o.default.createElement(u.Text,{color:s.TextColor.overlayInverse,variant:s.TextVariant.bodyMdMedium,"data-testid":"accounts-list-item-connected-account-name",ellipsis:!0},e.name)))),(null==e?void 0:e.length)>4||(null==t?void 0:t.length)>4?o.default.createElement(u.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,textAlign:s.TextAlign.Left,paddingInline:2},o.default.createElement(u.Text,{color:s.TextColor.textMuted,variant:s.TextVariant.bodyMdMedium,"data-testid":"accounts-list-item-plus-more-tooltip"},(null==e?void 0:e.length)>0?n("moreAccounts",[(null==e?void 0:e.length)-4]):n("moreNetworks",[t.length-4]))):null)),arrow:!0,offset:0,delay:50,duration:0,size:"small",title:n("alertDisableTooltip"),trigger:"mouseenter focus",theme:"dark",tag:"div"},(null==e?void 0:e.length)>0&&o.default.createElement(c.AvatarGroup,{members:f,limit:4,avatarType:l.AvatarType.ACCOUNT,borderColor:s.BackgroundColor.backgroundDefault}),(null==t?void 0:t.length)>0&&o.default.createElement(c.AvatarGroup,{members:g,limit:4,avatarType:l.AvatarType.TOKEN}))};n.SiteCellTooltip=g,g.propTypes={accounts:a.default.arrayOf(a.default.shape({address:a.default.string,label:a.default.string,metadata:a.default.shape({name:a.default.string})})),networks:a.default.arrayOf(a.default.shape({chainId:a.default.string,name:a.default.string}))}}}},{package:"$root$",file:"ui/components/multichain/pages/review-permissions-page/site-cell/site-cell-tooltip.js"}],[5914,{"../../..":5837,"../../../../../../shared/constants/metametrics":5150,"../../../../../../shared/modules/string-utils":5208,"../../../../../contexts/metametrics":6090,"../../../../../helpers/constants/design-system":6123,"../../../../../hooks/useI18nContext":6202,"../../../../component-library":5680,"./site-cell-connection-list-item":5912,"./site-cell-tooltip":5913,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SiteCell=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../../../helpers/constants/design-system"),r=e("../../../../../hooks/useI18nContext"),i=e("../../../../component-library"),s=e("../../.."),l=e("../../../../../contexts/metametrics"),c=e("../../../../../../shared/constants/metametrics"),u=e("../../../../../../shared/modules/string-utils"),d=e("./site-cell-tooltip"),p=e("./site-cell-connection-list-item");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.SiteCell=({nonTestNetworks:e,testNetworks:t,accounts:n,onSelectAccountAddresses:m,onSelectChainIds:f,selectedAccountAddresses:g,selectedChainIds:h,isConnectFlow:y})=>{const k=(0,r.useI18nContext)(),b=(0,o.useContext)(l.MetaMetricsContext),x=[...e,...t],[v,C]=(0,o.useState)(!1),[T,_]=(0,o.useState)(!1),E=n.filter((({address:e})=>g.some((t=>(0,u.isEqualCaseInsensitive)(t,e))))),w=x.filter((({chainId:e})=>h.includes(e))),M=h.length,S=1===E.length?k("connectedWithAccountName",[E[0].label||E[0].metadata.name]):k("connectedWithAccount",[n.length]),I=1===E.length?k("requestingForAccount",[E[0].label||E[0].metadata.name]):k("requestingFor");return o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Box,{padding:4,gap:4,backgroundColor:a.BackgroundColor.backgroundDefault,borderRadius:a.BorderRadius.LG},o.default.createElement(p.SiteCellConnectionListItem,{title:k("accountsPermissionsTitle"),iconName:i.IconName.Wallet,connectedMessage:S,unconnectedMessage:I,isConnectFlow:y,onClick:()=>{C(!0),b({category:c.MetaMetricsEventCategory.Navigation,event:c.MetaMetricsEventName.TokenImportButtonClicked,properties:{location:"Connect view, Permissions toast, Permissions (dapp)"}})},paddingBottomValue:2,paddingTopValue:0,content:1===E.length?o.default.createElement(i.AvatarAccount,{address:E[0].address,size:i.AvatarAccountSize.Xs,borderColor:a.BorderColor.transparent}):o.default.createElement(d.SiteCellTooltip,{accounts:E})}),o.default.createElement(p.SiteCellConnectionListItem,{title:k("permission_walletSwitchEthereumChain"),iconName:i.IconName.Data,connectedMessage:k("connectedWithNetworks",[M]),unconnectedMessage:k("requestingFor"),isConnectFlow:y,onClick:()=>{_(!0),b({category:c.MetaMetricsEventCategory.Navigation,event:c.MetaMetricsEventName.TokenImportButtonClicked,properties:{location:"Connect view, Permissions toast, Permissions (dapp)"}})},paddingTopValue:2,paddingBottomValue:0,content:o.default.createElement(d.SiteCellTooltip,{networks:w})})),v&&o.default.createElement(s.EditAccountsModal,{accounts:n,defaultSelectedAccountAddresses:g,onClose:()=>C(!1),onSubmit:m}),T&&o.default.createElement(s.EditNetworksModal,{nonTestNetworks:e,testNetworks:t,defaultSelectedChainIds:h,onClose:()=>_(!1),onSubmit:f}))}}}},{package:"$root$",file:"ui/components/multichain/pages/review-permissions-page/site-cell/site-cell.tsx"}],[5915,{".":5919,"../../..":5837,"../../../../../contexts/i18n":6087,"../../../../../ducks/send":6116,"../../../../../helpers/constants/design-system":6123,"../../../../../selectors":6820,"../../../../component-library":5680,"../../../account-picker":5762,"@metamask/keyring-api":1642,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageAccountPicker=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("@metamask/keyring-api"),i=e("../../../../../selectors"),s=e("../../../../component-library"),l=e("../../../account-picker"),c=e("../../../../../helpers/constants/design-system"),u=e("../../../../../contexts/i18n"),d=e("../../.."),p=e("../../../../../ducks/send"),m=e(".");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.SendPageAccountPicker=()=>{const e=(0,o.useContext)(u.I18nContext),t=(0,a.useSelector)(i.getSelectedInternalAccount),[n,f]=(0,o.useState)(!1),g=(0,a.useSelector)(p.getSendStage),h=p.SEND_STAGES.EDIT===g,y=(0,o.useCallback)((()=>{f(!1)}),[]);return o.default.createElement(m.SendPageRow,null,o.default.createElement(s.Label,{paddingBottom:2},e("from")),o.default.createElement(l.AccountPicker,{className:"multichain-send-page__account-picker",address:t.address,name:t.metadata.name,onClick:()=>f(!0),showAddress:!0,borderColor:c.BorderColor.borderMuted,borderWidth:1,paddingTop:4,paddingBottom:4,paddingLeft:3,block:!0,justifyContent:c.JustifyContent.flexStart,addressProps:{display:c.Display.Flex,textAlign:c.TextAlign.Start},labelProps:{style:{flexGrow:1,textAlign:"start"},paddingInlineStart:1,className:"multichain-send-page__account-picker__label"},textProps:{display:c.Display.Flex,width:c.BlockSize.Full},width:c.BlockSize.Full,disabled:h,"data-testid":"send-page-account-picker"}),n?o.default.createElement(d.AccountListMenu,{accountListItemProps:{showOptions:!1},showAccountCreation:!1,onClose:y,allowedAccountTypes:[r.EthAccountType.Eoa,r.EthAccountType.Erc4337]}):null)}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/account-picker.tsx"}],[5916,{".":5919,"../../../../../../shared/constants/metametrics":5150,"../../../../../contexts/i18n":6087,"../../../../../contexts/metametrics":6090,"../../../../../ducks/send":6116,"../../../../../helpers/constants/design-system":6123,"../../../../../helpers/constants/routes":6129,"../../../../../selectors":6820,"../../../../app/contact-list":5318,"../../../../component-library":5680,"fuse.js":4047,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageAddressBook=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=h(e("fuse.js")),i=e("../../../../component-library"),s=e("../../../../../contexts/i18n"),l=h(e("../../../../app/contact-list")),c=e("../../../../../selectors"),u=e("../../../../../ducks/send"),d=e("../../../../../helpers/constants/design-system"),p=e("../../../../../helpers/constants/routes"),m=e("../../../../../contexts/metametrics"),f=e("../../../../../../shared/constants/metametrics"),g=e(".");function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}n.SendPageAddressBook=()=>{const e=(0,o.useContext)(s.I18nContext),t=(0,a.useDispatch)(),n=(0,o.useContext)(m.MetaMetricsContext),h=(0,a.useSelector)(c.getAddressBook),y=h.filter((({name:e})=>Boolean(e))),k=[...(0,a.useSelector)(c.getCurrentNetworkTransactions)].reverse(),b=h.filter((({name:e})=>!e)).map((e=>{const t=k.find((t=>t.txParams.to===e.address.toLowerCase()));return{...e,timestamp:null==t?void 0:t.time}})),x=(0,a.useSelector)(u.getRecipientUserInput),v=new r.default(y,{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"name",weight:.5},{name:"address",weight:.5}]}),C=new r.default(b,{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"address",weight:.5}]});return o.default.createElement(g.SendPageRow,null,h.length?o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,{addressBook:h,searchForContacts:()=>x?(v.setCollection(y),v.search(x)):y,searchForRecents:()=>x?(C.setCollection(b),C.search(x)):b,selectRecipient:(e="",o="")=>{((e="",o="",a="user input")=>{t((0,u.addHistoryEntry)(`sendFlow - User clicked recipient from ${a}. address: ${e}, nickname ${o}`)),n({event:f.MetaMetricsEventName.sendRecipientSelected,category:f.MetaMetricsEventCategory.Send,properties:{location:"address book",inputType:a}},{excludeMetaMetricsId:!1}),t((0,u.updateRecipient)({address:e,nickname:o})),t((0,u.updateRecipientUserInput)(e))})(e,o,(o?"contact":"recent")+" list")}})):o.default.createElement(i.Box,{padding:6,textAlign:d.TextAlign.Center},o.default.createElement(i.Text,{marginBottom:4,fontWeight:d.FontWeight.Bold},e("sendNoContactsTitle")),o.default.createElement(i.Text,{color:d.TextColor.textAlternative},e("sendNoContactsDescription",[o.default.createElement(i.Text,{as:"a",href:`#${p.CONTACT_LIST_ROUTE}`,color:d.TextColor.primaryDefault},e("sendNoContactsConversionText"))]))))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/address-book.tsx"}],[5917,{"../../../../../contexts/i18n":6087,"../../../../../helpers/constants/design-system":6123,"../../../../../pages/confirmations/send/send.utils":6586,"../../../../component-library":5680,"../../../../ui/confusable":5967,"../../../../ui/tooltip":6073,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DomainInputResolutionCell=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=d(e("prop-types")),r=e("../../../../../contexts/i18n"),i=d(e("../../../../ui/confusable")),s=e("../../../../component-library"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../pages/confirmations/send/send.utils"),u=d(e("../../../../ui/tooltip"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=({address:e,domainName:t,resolvingSnap:n="",onClick:a,protocol:d})=>{const p=(0,o.useContext)(r.I18nContext),m=(0,o.useRef)(null),f=(0,o.useRef)(null),[g,h]=(0,o.useState)(!1);(0,o.useEffect)((()=>{var e;if(!m.current)return;let n=m.current.offsetWidth<m.current.scrollWidth;const o=null===(e=m.current.textContent)||void 0===e?void 0:e.length;n&&!f.current&&o&&(f.current=o),n||f.current&&(t.length>=f.current?n=!0:(n=!1,f.current=null)),n!==g&&h(n)}),[t,g]);const y=()=>o.default.createElement(u.default,{containerClassName:"multichain-send-page__recipient__item__title-tooltip",wrapperClassName:"multichain-send-page__recipient__item__title-tooltip-container",position:"bottom",title:t},o.default.createElement(i.default,{asText:!0,input:t,confusableWrapperName:"multichain-send-page__recipient__item__title-confusable-wrapper"}));return o.default.createElement(s.Box,{key:e,className:"multichain-send-page__recipient__item",onClick:()=>a(),display:l.Display.Flex,alignItems:l.AlignItems.center,paddingBottom:2,style:{cursor:"pointer"}},o.default.createElement(u.default,{title:p("suggestedBySnap",[n])},o.default.createElement(s.BadgeWrapper,{badge:o.default.createElement(s.AvatarIcon,{iconName:s.IconName.Snaps,size:s.AvatarIconSize.Xs,className:"multichain-send-page__recipient__item__avatar",backgroundColor:l.BackgroundColor.infoDefault,borderColor:l.BorderColor.backgroundDefault,borderWidth:2,iconProps:{color:l.IconColor.infoInverse,style:{width:"12px",height:"12px"},name:s.IconName.Snaps}}),positionObj:{bottom:"25%",right:"10%"},badgeContainerProps:{className:"multichain-send-page__recipient__item__badge"}},o.default.createElement(s.AvatarAccount,{address:e}))),o.default.createElement(s.Box,{className:"multichain-send-page__recipient__item__content",paddingLeft:4,style:{overflow:"hidden"}},o.default.createElement(s.Box,{ref:m,className:"multichain-send-page__recipient__item__title","data-testid":"multichain-send-page__recipient__item__title",display:l.Display.Flex},g?o.default.createElement(y,null):o.default.createElement(i.default,{asText:!0,input:t})),o.default.createElement(s.Text,{color:l.TextColor.textAlternative},(0,c.ellipsify)(e)),o.default.createElement(s.Box,{className:"multichain-send-page__recipient__item__subtitle","data-testid":"multichain-send-page__recipient__item__subtitle"},o.default.createElement(s.Text,{color:l.TextColor.textAlternative,variant:l.TextVariant.bodySm},d))))};n.DomainInputResolutionCell=m,m.propTypes={address:a.default.string.isRequired,domainName:a.default.string.isRequired,resolvingSnap:a.default.string.isRequired,onClick:a.default.func,protocol:a.default.string}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/domain-input-resolution-cell.tsx"}],[5918,{".":5919,"../../../../../ducks/send":6116,"../../../../../hooks/useI18nContext":6202,"../../../../component-library":5680,"../../../../component-library/textarea":5738,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendHexData=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-redux"),i=e("../../../../../hooks/useI18nContext"),s=e("../../../../component-library"),l=e("../../../../../ducks/send"),c=e("../../../../component-library/textarea"),u=e(".");n.SendHexData=()=>{const e=(0,i.useI18nContext)(),t=(0,r.useDispatch)(),n=(0,r.useSelector)(l.getSendHexData);return a.default.createElement(u.SendPageRow,null,a.default.createElement(s.Label,null,e("hexData")),a.default.createElement(c.Textarea,{onInput:e=>{const n=e.target.value.replace(/\n/gu,"")||null;t((0,l.updateSendHexData)(n??""))},placeholder:e("optional"),defaultValue:n||"","data-testid":"send-hex-textarea"}))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/hex.tsx"}],[5919,{"./account-picker":5915,"./address-book":5916,"./domain-input-resolution-cell":5917,"./hex":5918,"./network-picker":5920,"./quote-card":5925,"./recipient":5928,"./recipient-content":5926,"./recipient-input":5927,"./send-page-row":5929,"./your-accounts":5930},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DomainInputResolutionCell",{enumerable:!0,get:function(){return m.DomainInputResolutionCell}}),Object.defineProperty(n,"QuoteCard",{enumerable:!0,get:function(){return p.QuoteCard}}),Object.defineProperty(n,"SendHexData",{enumerable:!0,get:function(){return d.SendHexData}}),Object.defineProperty(n,"SendPageAccountPicker",{enumerable:!0,get:function(){return a.SendPageAccountPicker}}),Object.defineProperty(n,"SendPageAddressBook",{enumerable:!0,get:function(){return l.SendPageAddressBook}}),Object.defineProperty(n,"SendPageNetworkPicker",{enumerable:!0,get:function(){return r.SendPageNetworkPicker}}),Object.defineProperty(n,"SendPageRecipient",{enumerable:!0,get:function(){return c.SendPageRecipient}}),Object.defineProperty(n,"SendPageRecipientContent",{enumerable:!0,get:function(){return u.SendPageRecipientContent}}),Object.defineProperty(n,"SendPageRecipientInput",{enumerable:!0,get:function(){return s.SendPageRecipientInput}}),Object.defineProperty(n,"SendPageRow",{enumerable:!0,get:function(){return o.SendPageRow}}),Object.defineProperty(n,"SendPageYourAccounts",{enumerable:!0,get:function(){return i.SendPageYourAccounts}});var o=e("./send-page-row"),a=e("./account-picker"),r=e("./network-picker"),i=e("./your-accounts"),s=e("./recipient-input"),l=e("./address-book"),c=e("./recipient"),u=e("./recipient-content"),d=e("./hex"),p=e("./quote-card"),m=e("./domain-input-resolution-cell")}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/index.ts"}],[5920,{".":5919,"../../../../../selectors":6820,"../../../../../store/actions":6833,"../../../../component-library":5680,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageNetworkPicker=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-redux"),i=e("../../../../../selectors"),s=e("../../../../../store/actions"),l=e("../../../../component-library"),c=e(".");n.SendPageNetworkPicker=()=>{var e;const t=(0,r.useSelector)(i.getCurrentNetwork),n=(0,r.useDispatch)();return a.default.createElement(c.SendPageRow,null,a.default.createElement(l.PickerNetwork,{label:(null==t?void 0:t.nickname)??"",src:null==t||null===(e=t.rpcPrefs)||void 0===e?void 0:e.imageUrl,onClick:()=>n((0,s.toggleNetworkMenu)()),"data-testid":"send-page-network-picker"}))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/network-picker.tsx"}],[5921,{"../../../../../../../../shared/constants/common":5140,"../../../../../../../../shared/modules/Numeric":5183,"../../../../../../../ducks/metamask/metamask":6111,"../../../../../../../ducks/swaps/swaps":6119,"../../../../../../../helpers/utils/confirm-tx.util":6150,"../../../../../../../selectors/selectors":6828,"./utils":5924,"@metamask/utils":2866,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e=0){const t=(0,a.useDispatch)(),n=(0,a.useSelector)(s.getNativeCurrency),m=(0,a.useSelector)(s.getConversionRate),f=(0,a.useSelector)(c.getCurrentCurrency),g=(0,a.useSelector)(c.checkNetworkAndAccountSupports1559),{medium:h,gasPrice:y}=(0,a.useSelector)(s.getGasFeeEstimates),k=y??(null==h?void 0:h.suggestedMaxFeePerGas),b=(0,a.useSelector)(c.getCurrentChainId),x=(0,a.useSelector)(c.getIsSwapsChain),v=(0,a.useSelector)(u.getUsedSwapsGasPrice);return(0,o.useEffect)((()=>{x&&(g||t((0,u.fetchAndSetSwapsGasPriceInfo)()))}),[t,b,g,x]),(0,o.useMemo)((()=>{const t=g?k:v;if(!t)return{formattedFiatGasFee:"",formattedEthGasFee:""};const o=new i.Numeric(t,(0,r.isHexString)(t)?16:10,l.EtherDenomination.GWEI).times(new i.Numeric(e,10)).toDenomination(l.EtherDenomination.ETH),a=m?o.applyConversionRate(m).toNumber():undefined;return{formattedFiatGasFee:a?(0,d.formatCurrency)(new i.Numeric(a,10).toString(),f):"",formattedEthGasFee:`${(0,p.toFixedNoTrailingZeros)(o.toNumber())} ${n}`}}),[g,null==h?void 0:h.suggestedMaxFeePerGas,v,e,m,f,n])};var o=e("react"),a=e("react-redux"),r=e("@metamask/utils"),i=e("../../../../../../../../shared/modules/Numeric"),s=e("../../../../../../../ducks/metamask/metamask"),l=e("../../../../../../../../shared/constants/common"),c=e("../../../../../../../selectors/selectors"),u=e("../../../../../../../ducks/swaps/swaps"),d=e("../../../../../../../helpers/utils/confirm-tx.util"),p=e("./utils")}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/quote-card/hooks/useEthFeeData.tsx"}],[5922,{"../../../../../../../../shared/constants/transaction":5168,"../../../../../../../../shared/lib/transactions-controller-utils":5181,"../../../../../../../../shared/modules/Numeric":5183,"../../../../../../../ducks/metamask/metamask":6111,"../../../../../../../ducks/send":6116,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,d;const p=(0,a.useSelector)(r.getBestQuote),{sendAsset:m,receiveAsset:f}=(0,a.useSelector)(r.getCurrentDraftTransaction),g=(0,a.useSelector)(c.getNativeCurrency),h=(null==m?void 0:m.type)===i.AssetType.native?g:null==m||null===(e=m.details)||void 0===e?void 0:e.symbol,y=(null==f?void 0:f.type)===i.AssetType.native?g:null==f||null===(t=f.details)||void 0===t?void 0:t.symbol;return(0,o.useMemo)((()=>{if(p&&m&&f){var e,t;const n=(0,s.calcTokenAmount)(p.sourceAmount,(null===(e=m.details)||void 0===e?void 0:e.decimals)||u),o=(0,s.calcTokenAmount)(p.destinationAmount,(null===(t=f.details)||void 0===t?void 0:t.decimals)||u),a=new l.Numeric(o).divide(n).round(9).toNumber();return`1 ${h} = ${a} ${y}`}return undefined}),[null==p?void 0:p.sourceAmount,null==p?void 0:p.destinationAmount,null==m||null===(n=m.details)||void 0===n?void 0:n.decimals,null==f||null===(d=f.details)||void 0===d?void 0:d.decimals,h,y])};var o=e("react"),a=e("react-redux"),r=e("../../../../../../../ducks/send"),i=e("../../../../../../../../shared/constants/transaction"),s=e("../../../../../../../../shared/lib/transactions-controller-utils"),l=e("../../../../../../../../shared/modules/Numeric"),c=e("../../../../../../../ducks/metamask/metamask");const u=18}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/quote-card/hooks/useGetConversionRate.tsx"}],[5923,{"../../../../../../../../shared/constants/network":5154,"../../../../../../../hooks/useI18nContext":6202,"../../../../../../../selectors":6820,"@metamask/controller-utils":1218,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useSelector)(s.getCurrentChainId),t=(0,i.useI18nContext)();switch((0,a.toHex)(e)){case r.CHAIN_IDS.MAINNET:return t("networkNameEthereum");case r.CHAIN_IDS.BSC:return t("networkNameBSC");case r.CHAIN_IDS.POLYGON:return t("networkNamePolygon");case r.CHAIN_IDS.LOCALHOST:return t("networkNameTestnet");case r.CHAIN_IDS.GOERLI:return t("networkNameGoerli");case r.CHAIN_IDS.AVALANCHE:return t("networkNameAvalanche");case r.CHAIN_IDS.OPTIMISM:return t("networkNameOpMainnet");case r.CHAIN_IDS.ARBITRUM:return t("networkNameArbitrum");case r.CHAIN_IDS.ZKSYNC_ERA:return t("networkNameZkSyncEra");case r.CHAIN_IDS.LINEA_MAINNET:return t("networkNameLinea");case r.CHAIN_IDS.BASE:return t("networkNameBase");default:return undefined}};var o=e("react-redux"),a=e("@metamask/controller-utils"),r=e("../../../../../../../../shared/constants/network"),i=e("../../../../../../../hooks/useI18nContext"),s=e("../../../../../../../selectors")}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/quote-card/hooks/useTranslatedNetworkName.tsx"}],[5924,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toFixedNoTrailingZeros=void 0;const o=/0+$/u;n.toFixedNoTrailingZeros=(e,t=7)=>{const n=e.toFixed(t).replace(o,"");return n.endsWith(".")?n.slice(0,-1):n}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/quote-card/hooks/utils.ts"}],[5925,{"../../../../../../../shared/constants/metametrics":5150,"../../../../../../../shared/constants/time":5166,"../../../../../../../shared/lib/ui-utils":5182,"../../../../../../../shared/modules/conversion.utils":5188,"../../../../../../contexts/metametrics":6090,"../../../../../../ducks/send":6116,"../../../../../../helpers/constants/design-system":6123,"../../../../../../hooks/useI18nContext":6202,"../../../../../component-library":5680,"../../../../../ui/info-tooltip/info-tooltip-icon":6010,"../../../../../ui/tooltip":6073,"./hooks/useEthFeeData":5921,"./hooks/useGetConversionRate":5922,"./hooks/useTranslatedNetworkName":5923,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuoteCard=function({scrollRef:e}){var t;const n=(0,l.useI18nContext)(),b=(0,a.useDispatch)(),x=(0,a.useSelector)(s.getSendAnalyticProperties),C=(0,y.default)(),T=(0,o.useContext)(f.MetaMetricsContext),{isSwapQuoteLoading:_}=(0,a.useSelector)(s.getCurrentDraftTransaction),E=(0,a.useSelector)(s.getBestQuote),[w,M]=(0,o.useState)(undefined),{formattedEthGasFee:S,formattedFiatGasFee:I}=(0,h.default)(((null==E?void 0:E.gasParams.maxGas)||0)+Number((0,g.hexToDecimal)((null==E||null===(t=E.approvalNeeded)||void 0===t?void 0:t.gas)||"0x0"))),A=(0,k.default)(),N=(0,o.useRef)(E);(0,o.useEffect)((()=>{const t=E&&N.current===undefined;var n;(N.current=E,t)&&(null===(n=e.current)||void 0===n||n.scrollIntoView({behavior:"smooth",block:"start"}));E?(T({event:p.MetaMetricsEventName.sendSwapQuoteReceived,category:p.MetaMetricsEventCategory.Send,properties:{is_first_fetch:t},sensitiveProperties:{...x}},{excludeMetaMetricsId:!1}),M(v)):M(undefined)}),[E]),(0,o.useEffect)((()=>{if(_||w===undefined)return;w<=0&&b((0,s.updateSendQuote)(!1,!0));const e=setTimeout((()=>M(w-1)),c.SECOND);return()=>clearTimeout(e)}),[w]),(0,o.useEffect)((()=>{_?T({event:p.MetaMetricsEventName.sendSwapQuoteRequested,category:p.MetaMetricsEventCategory.Send,sensitiveProperties:{...x}},{excludeMetaMetricsId:!1}):E&&T({event:p.MetaMetricsEventName.sendSwapQuoteReceived,category:p.MetaMetricsEventCategory.Send,sensitiveProperties:{...x}},{excludeMetaMetricsId:!1})}),[_]);const O=(0,o.useMemo)((()=>{if(_)return n("swapFetchingQuotes");if(E){const e=`0${w}`.slice(-2);return w?n("swapNewQuoteIn",[`0:${e}`]):undefined}return undefined}),[_,E,w]);if(!Boolean(O||E))return null;return o.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,gap:2},O&&o.default.createElement(r.Text,{color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm,className:"quote-card__fetch-status"},O),E&&o.default.createElement(r.Box,{backgroundColor:i.BackgroundColor.backgroundAlternative,borderRadius:i.BorderRadius.LG,width:i.BlockSize.Full,gap:2,padding:3},o.default.createElement(r.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center},o.default.createElement(r.Text,{className:"quote-card__text",color:i.TextColor.textAlternative,marginRight:"auto",variant:i.TextVariant.bodySm},n("quoteRate")),o.default.createElement(r.Text,{marginLeft:"auto",variant:i.TextVariant.bodySm,"data-testid":"quote-card__conversion-rate"},A)),o.default.createElement(r.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center},o.default.createElement(r.Box,{display:i.Display.Flex,marginRight:"auto",gap:1,alignItems:i.AlignItems.center},o.default.createElement(r.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative},n("transactionDetailGasHeading")),o.default.createElement(u.default,{interactive:!0,position:"left",containerClassName:"info-tooltip__tooltip-container",tooltipInnerClassName:"info-tooltip__tooltip-content",tooltipArrowClassName:"info-tooltip__left-tooltip-arrow",style:{display:"flex",height:"12px",aspectRatio:"1"},html:o.default.createElement(o.default.Fragment,null,o.default.createElement("p",null,n("swapGasFeesSummary",[C])),o.default.createElement("p",null,n("swapGasFeesDetails")),o.default.createElement("p",null,o.default.createElement("a",{onClick:()=>{T({event:'Clicked "Gas Fees: Learn More" Link',category:p.MetaMetricsEventCategory.Swaps}),global.platform.openTab({url:m.GAS_FEES_LEARN_MORE_URL})},target:"_blank",rel:"noreferrer"},n("swapGasFeesLearnMore")))),theme:"tippy-tooltip-info"},o.default.createElement(d.default,{fillColor:"var(--color-icon-alternative)"}))),o.default.createElement(r.Box,{display:i.Display.Flex,marginLeft:"auto"},o.default.createElement(r.Text,{variant:i.TextVariant.bodySm,"data-testid":"quote-card__gas-fee"},S),I&&o.default.createElement(r.Text,{color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm,marginLeft:1,"data-testid":"quote-card__fiat-gas-fee"}," ",I)))),E&&o.default.createElement(r.Text,{color:i.TextColor.textAlternative,variant:i.TextVariant.bodySm},n("swapIncludesMMFeeAlt",[null==E?void 0:E.fee])),E&&o.default.createElement(r.ButtonLink,{variant:i.TextVariant.bodySm,href:m.CONSENSYS_TERMS_OF_USE,target:"_blank",className:"quote-card__TOS"},n("termsOfService")),o.default.createElement("div",{ref:e}))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("../../../../../component-library"),i=e("../../../../../../helpers/constants/design-system"),s=e("../../../../../../ducks/send"),l=e("../../../../../../hooks/useI18nContext"),c=e("../../../../../../../shared/constants/time"),u=b(e("../../../../../ui/tooltip")),d=b(e("../../../../../ui/info-tooltip/info-tooltip-icon")),p=e("../../../../../../../shared/constants/metametrics"),m=e("../../../../../../../shared/lib/ui-utils"),f=e("../../../../../../contexts/metametrics"),g=e("../../../../../../../shared/modules/conversion.utils"),h=b(e("./hooks/useEthFeeData")),y=b(e("./hooks/useTranslatedNetworkName")),k=b(e("./hooks/useGetConversionRate"));function b(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}const v=30}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/quote-card/index.tsx"}],[5926,{".":5919,"../../..":5837,"../../../../../../shared/constants/transaction":5168,"../../../../../../shared/modules/conversion.utils":5188,"../../../../../../shared/modules/string-utils":5208,"../../../../../ducks/metamask/metamask":6111,"../../../../../ducks/send":6116,"../../../../../helpers/constants/common":6121,"../../../../../helpers/constants/design-system":6123,"../../../../../hooks/useGetAssetImageUrl":6201,"../../../../../hooks/useI18nContext":6202,"../../../../../selectors":6820,"../../../../component-library":5680,"../../../asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":5783,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageRecipientContent=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("../../../../component-library"),s=e("../../../../../ducks/metamask/metamask"),l=e("../../../../../ducks/send"),c=e("../../../../../../shared/constants/transaction"),u=e("../../../../../helpers/constants/common"),d=e("../../../../../helpers/constants/design-system"),p=e("../../../../../hooks/useI18nContext"),m=e("../../.."),f=e("../../../../../../shared/modules/conversion.utils"),g=e("../../../../../selectors"),h=(o=e("../../../../../hooks/useGetAssetImageUrl"))&&o.__esModule?o:{default:o},y=e("../../../../../../shared/modules/string-utils"),k=e("../../../asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),b=e(".");function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}n.SendPageRecipientContent=({requireContractAddressAcknowledgement:e,onAssetChange:t,onClick:n})=>{var o,x,v,C,T,_,E;const w=(0,p.useI18nContext)(),{receiveAsset:M,sendAsset:S,amount:I,isSwapQuoteLoading:A}=(0,r.useSelector)(l.getCurrentDraftTransaction);let N;const O=(0,r.useSelector)(g.getUseExternalServices),P=(0,r.useSelector)(g.getIsSwapsChain),D=(0,r.useSelector)(l.getIsSwapAndSendDisabledForNetwork),B=(0,r.useSelector)(l.getSwapsBlockedTokens),j=(0,a.useMemo)((()=>new Set(B)),[B]),F=(0,r.useSelector)(s.getNativeCurrency),R=(0,r.useSelector)(g.getNativeCurrencyImage),L=(0,r.useSelector)(g.getTokenList),$=(0,r.useSelector)(g.getIpfsGateway),z=(0,h.default)((null===(o=S.details)||void 0===o?void 0:o.image)??null,$);N=P&&!D&&[c.AssetType.token,c.AssetType.native].includes(S.type)&&O&&!j.has(null===(x=S.details)||void 0===x||null===(x=x.address)||void 0===x?void 0:x.toLowerCase());const W=(0,r.useSelector)(l.getBestQuote),U=!W&&A,V=(0,y.isEqualCaseInsensitive)((null===(v=M.details)||void 0===v?void 0:v.address)??"",(null===(C=S.details)||void 0===C?void 0:C.address)??""),H=V?I:{value:(0,f.decimalToHex)((null==W?void 0:W.destinationAmount)||"0")},G=(0,r.useSelector)(s.getSendHexDataFeatureFlagState),q=(0,r.useSelector)(l.getSendAsset),K=V&&G&&q&&q.type!==c.AssetType.token&&q.type!==c.AssetType.NFT,J=(0,a.useRef)(null),Y=(0,r.useDispatch)();return a.default.createElement(i.Box,null,e?a.default.createElement(b.SendPageRow,null,a.default.createElement(i.BannerAlert,{severity:i.BannerAlertSeverity.Danger,"data-testid":"send-warning",actionButtonLabel:w("tooltipApproveButton"),actionButtonOnClick:()=>{Y((0,l.acknowledgeRecipientWarning)())},actionButtonProps:{display:d.Display.Block,marginTop:4}},w("sendingToTokenContractWarning",[a.default.createElement("a",{key:"contractWarningSupport",target:"_blank",rel:"noopener noreferrer",className:"send__warning-container__link",href:u.CONTRACT_ADDRESS_LINK},w("learnMoreUpperCase"))]))):null,a.default.createElement(b.SendPageRow,null,a.default.createElement(m.AssetPickerAmount,{header:w("sendSelectReceiveAsset"),asset:N?M:S,sendingAsset:N&&S&&{image:S.type===c.AssetType.native?R:L&&S.details&&(z||(null===(T=L[null===(_=S.details.address)||void 0===_?void 0:_.toLowerCase()])||void 0===T?void 0:T.iconUrl)),symbol:(null==S||null===(E=S.details)||void 0===E?void 0:E.symbol)||F},onAssetChange:(0,a.useCallback)((e=>t(e,N)),[t,N]),isAmountLoading:U,amount:H,isDisabled:!N,onClick:n,visibleTabs:[k.TabName.TOKENS]})),a.default.createElement(b.QuoteCard,{scrollRef:J}),K?a.default.createElement(b.SendHexData,null):null,a.default.createElement("div",{ref:J}))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/recipient-content.tsx"}],[5927,{".":5919,"../../../../../../shared/constants/metametrics":5150,"../../../../../../shared/modules/hexstring-utils":5194,"../../../../../contexts/i18n":6087,"../../../../../contexts/metametrics":6090,"../../../../../ducks/send":6116,"../../../../../helpers/utils/util":6171,"../../../../../pages/confirmations/send/send-content/add-recipient/domain-input":6584,"../../../../../store/actions":6833,"../../../../component-library":5680,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageRecipientInput=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("../../../../component-library"),s=(o=e("../../../../../pages/confirmations/send/send-content/add-recipient/domain-input"))&&o.__esModule?o:{default:o},l=e("../../../../../contexts/i18n"),c=e("../../../../../ducks/send"),u=e("../../../../../store/actions"),d=e("../../../../../contexts/metametrics"),p=e("../../../../../../shared/constants/metametrics"),m=e("../../../../../helpers/utils/util"),f=e("../../../../../../shared/modules/hexstring-utils"),g=e(".");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.SendPageRecipientInput=()=>{const e=(0,a.useContext)(l.I18nContext),t=(0,r.useDispatch)(),n=(0,a.useContext)(d.MetaMetricsContext),o=(0,r.useSelector)(c.getRecipient),h=(0,r.useSelector)(c.getRecipientUserInput),y=(0,r.useSelector)(c.getIsUsingMyAccountForRecipientSearch);return a.default.createElement(g.SendPageRow,null,a.default.createElement(i.Label,{paddingBottom:2},e("to")),a.default.createElement(s.default,{userInput:h,onChange:e=>t((0,c.updateRecipientUserInput)(e)),onValidAddressTyped:async e=>{t((0,c.addHistoryEntry)(`sendFlow - Valid address typed ${e}`)),await t((0,c.updateRecipientUserInput)(e)),n({event:p.MetaMetricsEventName.sendRecipientSelected,category:p.MetaMetricsEventCategory.Send,properties:{location:"send page recipient input",inputType:"user input"}},{excludeMetaMetricsId:!1}),t((0,c.updateRecipient)({address:e,nickname:""}))},internalSearch:y,selectedAddress:o.address,selectedName:o.nickname===o.address?(0,m.shortenAddress)((0,f.toChecksumHexAddress)(o.address)):o.nickname,onPaste:e=>{t((0,c.addHistoryEntry)(`sendFlow - User pasted ${e} into address field`))},onReset:()=>t((0,c.resetRecipientInput)()),scanQrCode:()=>{n({event:"Used QR scanner",category:p.MetaMetricsEventCategory.Transactions,properties:{action:"Edit Screen",legacy_event:!0}}),t((0,u.showQrScanner)())}}))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/recipient-input.tsx"}],[5928,{".":5919,"../../../../../../shared/constants/metametrics":5150,"../../../../../contexts/i18n":6087,"../../../../../contexts/metametrics":6090,"../../../../../ducks/domains":6105,"../../../../../ducks/send":6116,"../../../../component-library":5680,"../../../../ui/tabs":6059,"./domain-input-resolution-cell":5917,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageRecipient=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("../../../../../contexts/i18n"),i=e("../../../../../ducks/send"),s=e("../../../../../ducks/domains"),l=e("../../../../component-library"),c=e("../../../../ui/tabs"),u=e("../../../../../../shared/constants/metametrics"),d=e("../../../../../contexts/metametrics"),p=e("./domain-input-resolution-cell"),m=e(".");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const g="contacts",h="accounts";n.SendPageRecipient=()=>{const e=(0,o.useContext)(r.I18nContext),t=(0,a.useDispatch)(),n=(0,o.useContext)(d.MetaMetricsContext),f=(0,a.useSelector)(i.getRecipient),y=(0,a.useSelector)(i.getRecipientUserInput)||"",k=(0,a.useSelector)(s.getDomainResolutions)||[],b=(0,a.useSelector)(s.getDomainError),x=(0,a.useSelector)(s.getDomainWarning),v=b||f.error&&"required"!==f.error,C=!v&&(x||f.warning),T=(e,o,a="user input")=>{t((0,i.addHistoryEntry)(`sendFlow - User clicked recipient from ${a}. address: ${e}, nickname ${o}`)),n({event:u.MetaMetricsEventName.sendRecipientSelected,category:u.MetaMetricsEventCategory.Send,properties:{location:"send page recipient screen",inputType:a}},{excludeMetaMetricsId:!1}),t((0,i.updateRecipient)({address:e,nickname:o})),t((0,i.updateRecipientUserInput)(e))};let _;return _=f.address?o.default.createElement(p.DomainInputResolutionCell,{address:f.address,domainName:f.nickname,onClick:()=>T(f.address,f.nickname)}):(null==k?void 0:k.length)>0&&!f.error?k.map((e=>{const{resolvedAddress:t,resolvingSnap:n,addressBookEntryName:a,protocol:r,domainName:i}=e;return o.default.createElement(p.DomainInputResolutionCell,{key:`${t}${n}${r}`,address:t,domainName:a??i,onClick:()=>T(t,a??i,"Domain resolution"),protocol:r,resolvingSnap:n})})):o.default.createElement(c.Tabs,{defaultActiveTabKey:y.length>0?g:h},o.default.createElement(c.Tab,{tabKey:h,name:e("yourAccounts")},o.default.createElement(m.SendPageYourAccounts,null)),o.default.createElement(c.Tab,{tabKey:g,name:e("contacts"),"data-testid":"send-contacts-tab"},o.default.createElement(m.SendPageAddressBook,null))),o.default.createElement(o.default.Fragment,null,v?o.default.createElement(m.SendPageRow,null,o.default.createElement(l.BannerAlert,{severity:l.BannerAlertSeverity.Danger,"data-testid":"send-recipient-error"},e(b??f.error))):null,C?o.default.createElement(m.SendPageRow,null,o.default.createElement(l.BannerAlert,{severity:l.BannerAlertSeverity.Warning,"data-testid":"send-recipient-warning"},e(x??f.warning))):null,o.default.createElement(l.Box,{className:"multichain-send-page__recipient"},_))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/recipient.tsx"}],[5929,{"../../../../../helpers/constants/design-system":6123,"../../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageRow=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system");n.SendPageRow=({children:e})=>a.default.createElement(r.Box,{display:i.Display.Flex,paddingBottom:4,flexDirection:i.FlexDirection.Column},e)}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/send-page-row.tsx"}],[5930,{".":5919,"../../..":5837,"../../../../../../shared/constants/metametrics":5150,"../../../../../contexts/metametrics":6090,"../../../../../ducks/send":6116,"../../../../../selectors":6820,"../../../account-list-menu/account-list-menu":5751,"@metamask/keyring-api":1642,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPageYourAccounts=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("@metamask/keyring-api"),i=e("../../../../../selectors"),s=e("../../.."),l=e("../../../../../ducks/send"),c=e("../../../account-list-menu/account-list-menu"),u=e("../../../../../contexts/metametrics"),d=e("../../../../../../shared/constants/metametrics"),p=e(".");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const f=[r.EthAccountType.Eoa,r.EthAccountType.Erc4337];n.SendPageYourAccounts=({allowedAccountTypes:e=f})=>{const t=(0,a.useDispatch)(),n=(0,o.useContext)(u.MetaMetricsContext),r=(0,a.useSelector)(i.getUpdatedAndSortedAccounts),m=(0,a.useSelector)(i.getInternalAccounts),g=(0,o.useMemo)((()=>(0,c.mergeAccounts)(r,m).filter((t=>e.includes(t.type)))),[r,m]),h=(0,a.useSelector)(i.getSelectedInternalAccount);return o.default.createElement(p.SendPageRow,null,g.map((e=>o.default.createElement(s.AccountListItem,{account:e,selected:h.address===e.address,key:e.address,isPinned:Boolean(e.pinned),onClick:()=>{t((0,l.addHistoryEntry)(`sendFlow - User clicked recipient from my accounts. address: ${e.address}, nickname ${e.name}`)),n({event:d.MetaMetricsEventName.sendRecipientSelected,category:d.MetaMetricsEventCategory.Send,properties:{location:"my accounts",inputType:"click"}},{excludeMetaMetricsId:!1}),t((0,l.updateRecipient)({address:e.address,nickname:e.name})),t((0,l.updateRecipientUserInput)(e.address))}}))))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/components/your-accounts.tsx"}],[5931,{"./send":5932},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SendPage",{enumerable:!0,get:function(){return o.SendPage}});var o=e("./send")}}},{package:"$root$",file:"ui/components/multichain/pages/send/index.js"}],[5932,{"../..":5837,"../../../../../shared/constants/metametrics":5150,"../../../../../shared/constants/transaction":5168,"../../../../contexts/i18n":6087,"../../../../contexts/metametrics":6090,"../../../../ducks/history/history":6108,"../../../../ducks/send":6116,"../../../../ducks/send/helpers":6115,"../../../../helpers/constants/design-system":6123,"../../../../helpers/constants/routes":6129,"../../../../pages/confirmations/send/send.constants":6585,"../../../../pages/swaps/hooks/useUpdateSwapsState":6769,"../../../../selectors":6820,"../../../../store/actions":6833,"../../../app/transaction-activity-log/transaction-activity-log.constants":5583,"../../../component-library":5680,"../page":5906,"./components":5919,react:4884,"react-redux":4837,"react-router-dom":4869,"react-tippy":4880},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SendPage=void 0;var o,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),r=e("react-redux"),i=e("react-router-dom"),s=e("react-tippy"),l=e("../../../../contexts/i18n"),c=e("../../../component-library"),u=e("../page"),d=e("../../../../ducks/send"),p=e("../../../../../shared/constants/transaction"),m=e("../../../../contexts/metametrics"),f=e("../../../../pages/confirmations/send/send.constants"),g=e("../../../../store/actions"),h=e("../../../../helpers/constants/routes"),y=e("../../../../../shared/constants/metametrics"),k=e("../../../../ducks/history/history"),b=e("../.."),x=(o=e("../../../../pages/swaps/hooks/useUpdateSwapsState"))&&o.__esModule?o:{default:o},v=e("../../../../ducks/send/helpers"),C=e("../../../../selectors"),T=e("../../../../helpers/constants/design-system"),_=e("../../../app/transaction-activity-log/transaction-activity-log.constants"),E=e("./components");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}n.SendPage=()=>{const e=(0,a.useContext)(l.I18nContext),t=(0,r.useDispatch)(),n=(0,a.useRef)(!1),o=(0,r.useSelector)(d.getDraftTransactionExists),w=(0,r.useSelector)(d.getCurrentDraftTransaction),{sendAsset:M,amount:S,swapQuotesError:I}=w,A=(0,r.useSelector)(d.getDraftTransactionID),N=(0,r.useSelector)(k.getMostRecentOverviewPage),O=(0,r.useSelector)(d.getSendStage),P=(0,v.getIsDraftSwapAndSend)(w),D=(0,i.useHistory)(),B=(0,i.useLocation)(),j=(0,a.useContext)(m.MetaMetricsContext),F=(0,r.useSelector)(d.getSendAnalyticProperties),[R,L]=(0,a.useState)(!1),[$,z]=(0,a.useState)(undefined),W=(0,a.useCallback)(((e,n)=>{const o=e.type.toUpperCase();switch(o){case p.TokenStandard.ERC20:case"TOKEN":e.type=p.AssetType.token,e.standard=p.TokenStandard.ERC20;break;case p.TokenStandard.ERC721:e.type=p.AssetType.NFT,e.standard=p.TokenStandard.ERC721,e.isERC721=!0;break;case p.TokenStandard.ERC1155:e.type=p.AssetType.NFT,e.standard=p.TokenStandard.ERC1155;break;default:if("NATIVE"===o)break;e.type=p.AssetType.unknown,e.standard=p.TokenStandard.none}e.image=e.image??e.iconUrl,e.type===p.AssetType.native?t((0,d.updateSendAsset)({type:e.type,details:e,skipComputeEstimatedGasLimit:!1,isReceived:n})):t((0,d.updateSendAsset)({type:e.type??p.AssetType.token,details:{...e,standard:e.standard??p.TokenStandard.ERC20},skipComputeEstimatedGasLimit:!1,isReceived:n})),j({event:y.MetaMetricsEventName.sendAssetSelected,category:y.MetaMetricsEventCategory.Send,properties:{is_destination_asset_picker_modal:Boolean(n),is_nft:!1},sensitiveProperties:{...F,new_asset_symbol:e.symbol,new_asset_address:e.address}},{excludeMetaMetricsId:!1}),D.push(h.SEND_ROUTE)}),[t,D,F,j]),U=(0,a.useCallback)((e=>{j({event:y.MetaMetricsEventName.sendTokenModalOpened,category:y.MetaMetricsEventCategory.Send,properties:{is_destination_asset_picker_modal:Boolean(e)},sensitiveProperties:{...F}},{excludeMetaMetricsId:!1})}),[F,j]),V=(0,a.useCallback)((()=>{t((0,d.resetSendState)()),L(!1),z(undefined)}),[t]);(0,a.useEffect)((()=>{!1===o&&!1===n.current&&(n.current=!0,t((0,d.startNewDraftTransaction)({type:p.AssetType.native})))}),[o,t]),(0,a.useEffect)((()=>{window.addEventListener("beforeunload",V)}),[V]),(0,a.useEffect)((()=>{if("?scan=true"===B.search){t((0,g.showQrScanner)());const[e]=window.location.href.split("?");window.history.pushState({},null,`${e}`),window.location.hash="#send"}}),[B,t]),(0,a.useEffect)((()=>()=>{t((0,d.resetSendState)()),window.removeEventListener("beforeunload",V)}),[t,V]);const H=()=>{A&&t((0,g.cancelTx)({id:A})),t((0,d.resetSendState)()),j({event:y.MetaMetricsEventName.sendFlowExited,category:y.MetaMetricsEventCategory.Send,sensitiveProperties:{...F}},{excludeMetaMetricsId:!1});const e=O===d.SEND_STAGES.EDIT?h.DEFAULT_ROUTE:N;D.push(e)};(0,a.useEffect)((()=>{I&&j({event:y.MetaMetricsEventName.sendSwapQuoteError,category:y.MetaMetricsEventCategory.Send,properties:{error:I},sensitiveProperties:{...F}},{excludeMetaMetricsId:!1})}),[j,I]);const G="knownAddressRecipient"===(0,r.useSelector)(d.getRecipient).warning,q=(0,r.useSelector)(d.getRecipientWarningAcknowledgement),K=G&&!q,J=(0,r.useSelector)(d.getSendErrors),Y=(0,r.useSelector)(d.isSendFormInvalid),Q=(0,r.useSelector)(C.smartTransactionsListSelector),X=null==Q?void 0:Q.find((({status:e})=>e===p.SmartTransactionStatus.pending)),Z=J.gasFee===f.INSUFFICIENT_FUNDS_ERROR&&J.amount!==f.INSUFFICIENT_FUNDS_ERROR,ee=Y&&!Z||K||P&&X,te=o&&[d.SEND_STAGES.EDIT,d.SEND_STAGES.DRAFT].includes(O),ne=(0,a.useCallback)((e=>W(e,!1)),[W]);(0,x.default)();const oe=(0,a.useCallback)(((e,n)=>{t((0,d.updateSendAmount)(e,n)),z(undefined)}),[t]);let ae="";return P&&(ae=e(X?"isSigningOrSubmitting":"sendSwapSubmissionWarning")),a.default.createElement(u.Page,{className:"multichain-send-page"},a.default.createElement(u.Header,{textProps:{variant:T.TextVariant.headingSm},startAccessory:a.default.createElement(c.ButtonIcon,{size:c.ButtonIconSize.Sm,ariaLabel:e("back"),iconName:c.IconName.ArrowLeft,onClick:H})},e("send")),a.default.createElement(u.Content,null,a.default.createElement(E.SendPageAccountPicker,null),te&&a.default.createElement(b.AssetPickerAmount,{error:$,header:e("sendSelectSendAsset"),asset:M,amount:S,onAssetChange:ne,onAmountChange:oe,onClick:()=>U(!1)}),a.default.createElement(c.Box,{marginTop:6},a.default.createElement(E.SendPageRecipientInput,null),te?a.default.createElement(E.SendPageRecipientContent,{requireContractAddressAcknowledgement:K,onAssetChange:W,onClick:()=>U(!0)}):a.default.createElement(E.SendPageRecipient,null))),a.default.createElement(u.Footer,null,a.default.createElement(c.ButtonSecondary,{className:"multichain-send-page__nav-button",onClick:H,size:c.ButtonSecondarySize.Lg,block:!0},O===d.SEND_STAGES.EDIT?e("reject"):e("cancel")),a.default.createElement(s.Tooltip,{key:ae,className:"multichain-send-page__nav-button",title:ae,disabled:!P,arrow:!0,hideOnClick:!1,style:{display:"inline-flex"}},a.default.createElement(c.ButtonPrimary,{onClick:async e=>{e.preventDefault(),L(!0),z(undefined);try{await t((0,d.signTransaction)(D)),j({category:y.MetaMetricsEventCategory.Transactions,event:"Complete",properties:{...F,action:P?"Submit Immediately":"Edit Screen",legacy_event:!0}})}catch{z(_.TRANSACTION_ERRORED_EVENT)}finally{R&&L(!1)}},loading:R,size:c.ButtonPrimarySize.Lg,disabled:ee||R,block:!0},e(P?"confirm":"continue")))))}}}},{package:"$root$",file:"ui/components/multichain/pages/send/send.js"}],[5933,{"./permission-details-modal":5934},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionDetailsModal",{enumerable:!0,get:function(){return o.PermissionDetailsModal}});var o=e("./permission-details-modal")}}},{package:"$root$",file:"ui/components/multichain/permission-details-modal/index.ts"}],[5934,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/permission":6162,"../../../helpers/utils/util":6171,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../app/permission-cell":5416,"../../component-library":5680,lodash:4483,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionDetailsModal=void 0;var o=m(e("react")),a=e("lodash"),r=e("react-redux"),i=e("../../component-library"),s=e("../../../selectors"),l=e("../../../helpers/utils/util"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/utils/permission"),d=m(e("../../app/permission-cell")),p=e("../../../helpers/constants/design-system");function m(e){return e&&e.__esModule?e:{default:e}}n.PermissionDetailsModal=({onClose:e,onClick:t,isOpen:n,account:m,permissions:f})=>{const g=(0,c.useI18nContext)(),h=(0,r.useSelector)(s.getUseBlockie),y=(0,a.flatten)(f.map((({key:e,value:t})=>(0,u.getPermissionDescription)({t:g,permissionName:e,permissionValue:t,subjectName:"",getSubjectName:()=>""}))));return o.default.createElement(i.Modal,{isOpen:n,"data-testid":"permission-details-modal",onClose:e},o.default.createElement(i.ModalOverlay,null),o.default.createElement(i.ModalContent,null,o.default.createElement(i.ModalHeader,{onClose:e},o.default.createElement(i.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center,justifyContent:p.JustifyContent.center,gap:2},o.default.createElement(i.AvatarAccount,{size:i.AvatarAccountSize.Sm,address:m.address,variant:h?i.AvatarAccountVariant.Blockies:i.AvatarAccountVariant.Jazzicon}),o.default.createElement(i.Text,{variant:p.TextVariant.headingSm},m.metadata.name?m.metadata.name:(0,l.shortenAddress)(m.address)))),o.default.createElement(i.ModalBody,null,y.map(((e,t)=>o.default.createElement(d.default,{permissionName:e.permissionName,title:e.label,description:e.description,weight:e.weight,avatarIcon:e.leftIcon,dateApproved:(null==e?void 0:e.permissionValue).date,key:`${e.permissionName}-${t}`})))),o.default.createElement(i.ModalFooter,null,o.default.createElement(i.Button,{startIconName:i.IconName.Logout,variant:i.ButtonVariant.Secondary,onClick:t,size:i.ButtonSize.Lg,danger:!0,block:!0,"data-testid":"disconnect"},g("disconnect")))))}}}},{package:"$root$",file:"ui/components/multichain/permission-details-modal/permission-details-modal.tsx"}],[5935,{"../../../helpers/constants/design-system":6123,"../../../helpers/utils/util":6171,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../pages/page":5906,react:4884,"react-router-dom":4869},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionsHeader=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("react-router-dom"),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=e("../pages/page"),c=e("../../../helpers/utils/util"),u=e("../../../hooks/useI18nContext");n.PermissionsHeader=({securedOrigin:e,connectedSubjectsMetadata:t})=>{const n=(0,u.useI18nContext)(),o=(0,r.useHistory)();return a.default.createElement(l.Header,{backgroundColor:i.BackgroundColor.backgroundDefault,startAccessory:a.default.createElement(s.ButtonIcon,{ariaLabel:n("back"),iconName:s.IconName.ArrowLeft,className:"connections-header__start-accessory",color:i.IconColor.iconDefault,onClick:()=>o.goBack(),size:s.ButtonIconSize.Sm})},a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,gap:2,justifyContent:i.JustifyContent.center,className:"connections-header__title"},null!=t&&t.iconUrl?a.default.createElement(s.AvatarFavicon,{name:t.name,size:s.AvatarFaviconSize.Sm,src:t.iconUrl}):a.default.createElement(s.Icon,{name:s.IconName.Global,size:s.IconSize.Sm,color:i.IconColor.iconDefault}),a.default.createElement(s.Text,{as:"span",variant:i.TextVariant.headingMd,textAlign:i.TextAlign.Center,ellipsis:!0},(0,c.getURLHost)(e))))}}}},{package:"$root$",file:"ui/components/multichain/permissions-header/permissions-header.tsx"}],[5936,{"./product-tour-popover":5937},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ProductTour",{enumerable:!0,get:function(){return o.ProductTour}});var o=e("./product-tour-popover")}}},{package:"$root$",file:"ui/components/multichain/product-tour-popover/index.js"}],[5937,{"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../component-library":5680,"../../ui/menu":6025,classnames:3684,"prop-types":4631,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ProductTour=void 0;var o=u(e("react")),a=u(e("classnames")),r=u(e("prop-types")),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=e("../../../hooks/useI18nContext"),c=e("../../ui/menu");function u(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(this,arguments)}const p=({className:e,prevIcon:t,title:n,description:r,currentStep:u,totalSteps:p,positionObj:m="5%",closeMenu:f,anchorElement:g,onClick:h,prevClick:y,productTourDirection:k,...b})=>{const x=(0,l.useI18nContext)();return o.default.createElement(c.Menu,d({className:(0,a.default)("multichain-product-tour-menu",{"multichain-product-tour-menu--rtl":"rtl"===k},e),anchorElement:g,onHide:f,"data-testid":"multichain-product-tour-menu-popover"},b),o.default.createElement(s.Box,{className:"multichain-product-tour-menu__container",backgroundColor:i.BackgroundColor.infoDefault,borderRadius:i.BorderRadius.LG,padding:4},o.default.createElement(s.Box,{borderWidth:1,className:"multichain-product-tour-menu__arrow",display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,style:{right:m}}),o.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,className:"multichain-product-tour-menu__header"},t?o.default.createElement(s.ButtonIcon,{iconName:s.IconName.ArrowLeft,size:i.Size.SM,color:i.IconColor.infoInverse,onClick:y,className:"multichain-product-tour-menu__previous-icon","data-testid":"multichain-product-tour-menu-popover-prevIcon"}):null,o.default.createElement(s.Text,{textAlign:i.TextAlign.Center,variant:i.TextVariant.headingSm,width:i.BlockSize.Full,color:i.TextColor.infoInverse},n)),o.default.createElement(s.Text,{paddingBottom:2,paddingTop:2,color:i.TextColor.infoInverse,variant:i.TextVariant.bodyMd},r),o.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween},o.default.createElement(s.Text,{paddingBottom:2,paddingTop:2,color:i.TextColor.infoInverse,variant:i.TextVariant.bodyMd,"data-testid":"multichain-product-tour-menu-popover-step-counter"},u&&p?`${u} / ${p}`:null),o.default.createElement(s.ButtonBase,{backgroundColor:i.BackgroundColor.primaryInverse,color:i.TextColor.primaryDefault,className:"multichain-product-tour-menu__button",onClick:h},x("recoveryPhraseReminderConfirm")))))};n.ProductTour=p,p.propTypes={anchorElement:r.default.instanceOf(window.Element),closeMenu:r.default.func.isRequired,className:r.default.string,prevIcon:r.default.bool,title:r.default.string,description:r.default.string,currentStep:r.default.string,totalSteps:r.default.string,positionObj:r.default.string,onClick:r.default.func,prevClick:r.default.func,productTourDirection:r.default.string}}}},{package:"$root$",file:"ui/components/multichain/product-tour-popover/product-tour-popover.js"}],[5938,{"../../../../shared/constants/app":5138,"../../../../shared/constants/metametrics":5150,"../../../contexts/metametrics":6090,"../../../ducks/locale/locale":6110,"../../../helpers/constants/design-system":6123,"../../../hooks/ramps/useRamps/useRamps":6182,"../../../hooks/useI18nContext":6202,"../../../selectors/multichain":6825,"../../component-library":5680,classnames:3684,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RampsCard=n.RAMPS_CARD_VARIANT_TYPES=n.RAMPS_CARD_VARIANTS=void 0;var o=k(e("react")),a=h(e("prop-types")),r=e("react-redux"),i=h(e("classnames")),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),u=e("../../../selectors/multichain"),d=e("../../../../shared/constants/metametrics"),p=e("../../../contexts/metametrics"),m=k(e("../../../hooks/ramps/useRamps/useRamps")),f=e("../../../../shared/constants/app"),g=e("../../../ducks/locale/locale");function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}const b=n.RAMPS_CARD_VARIANT_TYPES={TOKEN:"token",NFT:"nft",ACTIVITY:"activity",BTC:"btc"},x=n.RAMPS_CARD_VARIANTS={[b.TOKEN]:{illustrationSrc:"./images/ramps-card-token-illustration.png",gradient:"linear-gradient(90deg, #0189EC 0%, #4B7AED 35%, #6774EE 58%, #706AF4 80.5%, #7C5BFC 100%)",title:"fundYourWallet",body:"getStartedByFundingWallet"},[b.NFT]:{illustrationSrc:"./images/ramps-card-nft-illustration.png",gradient:"linear-gradient(90deg, #F6822D 0%, #F894A7 52%, #ED94FB 92.5%)",title:"getStartedWithNFTs",body:"getStartedWithNFTsDescription"},[b.ACTIVITY]:{illustrationSrc:"./images/ramps-card-activity-illustration.png",gradient:"linear-gradient(90deg, #57C5DC 0%, #06BFDD 49.39%, #35A9C7 100%)",title:"startYourJourney",body:"startYourJourneyDescription"},[b.BTC]:{illustrationSrc:"./images/ramps-card-btc-illustration.png",gradient:"linear-gradient(90deg, #017ED9 0%, #446FD9 35%, #5E6AD9 58%, #635ED9 80.5%, #6855D9 92.5%, #6A4FD9 100%)",title:"fundYourWallet",body:"fundYourWalletDescription"}},v={[b.TOKEN]:m.RampsMetaMaskEntry.TokensBanner,[b.NFT]:m.RampsMetaMaskEntry.NftBanner,[b.ACTIVITY]:m.RampsMetaMaskEntry.ActivityBanner,[b.BTC]:m.RampsMetaMaskEntry.BtcBanner},C=({variant:e,handleOnClick:t})=>{const n=(0,c.useI18nContext)(),{gradient:a,illustrationSrc:h,title:y,body:k}=x[e],{openBuyCryptoInPdapp:C}=(0,m.default)(v[e]),T=(0,o.useContext)(p.MetaMetricsContext),_=(0,r.useSelector)(g.getCurrentLocale),{chainId:E,nickname:w}=(0,r.useSelector)(u.getMultichainCurrentNetwork),{symbol:M}=(0,r.useSelector)(u.getMultichainDefaultToken),S=e===b.TOKEN;(0,o.useEffect)((()=>{T({event:d.MetaMetricsEventName.EmptyBuyBannerDisplayed,category:d.MetaMetricsEventCategory.Navigation,properties:{chain_id:E,locale:_,network:w,referrer:f.ORIGIN_METAMASK}})}),[_,E,w,T]);const I=(0,o.useCallback)((()=>{C(E),T({event:d.MetaMetricsEventName.NavBuyButtonClicked,category:d.MetaMetricsEventCategory.Navigation,properties:{location:`${e} tab`,text:`Buy ${M}`,chain_id:E,token_symbol:M}})}),[E,C,M,T,e]);return o.default.createElement(s.Box,{className:(0,i.default)("ramps-card",`ramps-card-${e}`),display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:2,borderRadius:l.BorderRadius.LG,margin:2,style:{background:`url(${h}) no-repeat right bottom / contain,\n            linear-gradient(rgba(0, 0, 0, 0.12),rgba(0, 0, 0, 0.12)), ${a}`}},o.default.createElement(s.Text,{className:"ramps-card__title",variant:l.TextVariant.headingSm},n(y,[M])),o.default.createElement(s.Text,{className:"ramps-card__body"},n(k,[M])),o.default.createElement(s.ButtonBase,{className:"ramps-card__cta-button",onClick:t??I},S?n("getStarted"):n("buyToken",[M])))};n.RampsCard=C,C.propTypes={variant:a.default.oneOf(Object.values(b)),handleOnClick:a.default.func}}}},{package:"$root$",file:"ui/components/multichain/ramps-card/ramps-card.js"}],[5939,{"./receive-modal":5940},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ReceiveModal",{enumerable:!0,get:function(){return o.ReceiveModal}});var o=e("./receive-modal")}}},{package:"$root$",file:"ui/components/multichain/receive-modal/index.js"}],[5940,{"../../../helpers/constants/design-system":6123,"../../../hooks/useI18nContext":6202,"../../../selectors":6820,"../../component-library":5680,"../../ui/qr-code-view":6046,"prop-types":4631,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ReceiveModal=void 0;var o=d(e("react")),a=e("react-redux"),r=d(e("prop-types")),i=e("../../component-library"),s=d(e("../../ui/qr-code-view")),l=e("../../../hooks/useI18nContext"),c=e("../../../selectors"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}const p=({address:e,onClose:t})=>{const n=(0,l.useI18nContext)(),{metadata:{name:r}}=(0,a.useSelector)((t=>(0,c.getInternalAccountByAddress)(t,e)));return o.default.createElement(i.Modal,{isOpen:!0,onClose:t},o.default.createElement(i.ModalOverlay,null),o.default.createElement(i.ModalContent,null,o.default.createElement(i.ModalHeader,{marginBottom:4,onClose:t},n("receive")),o.default.createElement(i.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,paddingInlineEnd:4,paddingInlineStart:4},o.default.createElement(s.default,{Qr:{data:e},accountName:r}))))};n.ReceiveModal=p,p.propTypes={address:r.default.string.isRequired,onClose:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/receive-modal/receive-modal.js"}],[5941,{"./toast":5942},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Toast",{enumerable:!0,get:function(){return o.Toast}}),Object.defineProperty(n,"ToastContainer",{enumerable:!0,get:function(){return o.ToastContainer}});var o=e("./toast")}}},{package:"$root$",file:"ui/components/multichain/toast/index.ts"}],[5942,{"../../../../shared/constants/preferences":5159,"../../../helpers/constants/design-system":6123,"../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ToastContainer=n.Toast=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("../../../../shared/constants/preferences"),r=e("../../component-library"),i=e("../../../helpers/constants/design-system");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}n.ToastContainer=({children:e})=>o.default.createElement(r.Box,{className:"toasts-container"},e);n.Toast=({startAdornment:e,text:t,actionText:n,onActionClick:s,onClose:l,borderRadius:c,textVariant:u,autoHideTime:d,onAutoHideToast:p,dataTestId:m,className:f})=>{const{theme:g}=document.documentElement.dataset,[h,y]=(0,o.useState)(!0);return(0,o.useEffect)((function(){if(!d||0===d)return undefined;const e=setTimeout((()=>{y(!1),null==p||p()}),d);return function(){clearTimeout(e)}}),[d]),h?o.default.createElement(r.BannerBase,{"data-theme":g===a.ThemeType.light?a.ThemeType.dark:a.ThemeType.light,onClose:l,borderRadius:c,"data-testid":m?`${m}-banner-base`:undefined,className:`toasts-container__banner-base ${f}`},o.default.createElement(r.Box,{display:i.Display.Flex,gap:4,"data-testid":m},e,o.default.createElement(r.Box,null,o.default.createElement(r.Text,{className:"toast-text",variant:u},t),n&&s?o.default.createElement(r.ButtonLink,{onClick:s},n):null))):null}}}},{package:"$root$",file:"ui/components/multichain/toast/toast.tsx"}],[5943,{"./token-list-item":5946},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"TokenListItem",{enumerable:!0,get:function(){return o.TokenListItem}});var o=e("./token-list-item")}}},{package:"$root$",file:"ui/components/multichain/token-list-item/index.ts"}],[5944,{"../../../../../../app/scripts/lib/util":130,"../../../../../../shared/constants/common":5140,"../../../../../../shared/modules/Numeric":5183,"../../../../../ducks/locale/locale":6110,"../../../../../ducks/metamask/metamask":6111,"../../../../../helpers/constants/design-system":6123,"../../../../../selectors":6820,"../../../../component-library":5680,"bignumber.js":3565,"ethereumjs-util":3898,react:4884,"react-redux":4837},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.renderPercentageWithNumber=n.PercentageAndAmountChange=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}return o.default=e,n&&n.set(e,o),o}(e("react")),a=e("react-redux"),r=e("bignumber.js"),i=e("ethereumjs-util"),s=e("../../../../component-library"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../selectors"),u=e("../../../../../ducks/locale/locale"),d=e("../../../../../../shared/constants/common"),p=e("../../../../../../shared/modules/Numeric"),m=e("../../../../../ducks/metamask/metamask"),f=e("../../../../../../app/scripts/lib/util");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h=(e,t,n)=>o.default.createElement(s.Box,{display:l.Display.Flex},o.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:n,"data-testid":"token-increase-decrease-value",style:{whiteSpace:"pre"},ellipsis:!0},t),o.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium,color:n,"data-testid":"token-increase-decrease-percentage",ellipsis:!0},e));n.renderPercentageWithNumber=h;n.PercentageAndAmountChange=({value:e})=>{const t=(0,a.useSelector)(c.getCurrentCurrency),n=(0,a.useSelector)(u.getIntlLocale),s=(0,a.useSelector)(c.getSelectedAccountCachedBalance),g=(0,a.useSelector)(m.getConversionRate),y=(0,a.useSelector)(m.getNativeCurrency),k=(0,a.useSelector)(c.getTokensMarketData),b=(0,o.useMemo)((()=>{var e;const n=null==k||null===(e=k[(0,i.zeroAddress)()])||void 0===e?void 0:e.pricePercentChange1d;if((0,i.isHexString)(s)){let e=new p.Numeric(s,16,d.EtherDenomination.WEI);return y!==t&&(e=e.applyConversionRate(g)),e.isZero()?0:n?e.toBase(10).toDenomination(d.EtherDenomination.ETH).round(2,r.BigNumber.ROUND_HALF_DOWN).times(n,10).divide(100,10).toNumber():null}return null}),[k]);let x=l.TextColor.textDefault;(0,f.isValidAmount)(b)&&(x=0===b?l.TextColor.textDefault:b>0?l.TextColor.successDefault:l.TextColor.errorDefault);const v=(0,f.formatValue)(0===b?0:e,!0);let C="";if((0,f.isValidAmount)(b)){C=b>=0?"+":"";const e={notation:"compact",compactDisplay:"short",maximumFractionDigits:2};try{C+=`${Intl.NumberFormat(n,{...e,style:"currency",currency:t}).format(b)} `}catch{C+=`${Intl.NumberFormat(n,{...e,minimumFractionDigits:2,style:"decimal"}).format(b)} `}}return h(v,C,x)}}}},{package:"$root$",file:"ui/components/multichain/token-list-item/price/percentage-and-amount-change/percentage-and-amount-change.tsx"}],[5945,{"../../../../../../app/scripts/lib/util":130,"../../../../../helpers/constants/design-system":6123,"../../../../component-library":5680,react:4884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.PercentageChange=void 0;var o,a=(o=e("react"))&&o.__esModule?o:{default:o},r=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system"),s=e("../../../../../../app/scripts/lib/util");const l=({value:e,address:t})=>{let n=i.TextColor.textDefault;(0,s.isValidAmount)(e)&&(n=0===e?i.TextColor.textDefault:e>0?i.TextColor.successDefault:i.TextColor.errorDefault);const o=(0,s.formatValue)(e,!1);return a.default.createElement(r.Box,{display:i.Display.Flex},a.default.createElement(r.Text,{variant:i.TextVariant.bodySmMedium,color:n,"data-testid":`token-increase-decrease-percentage-${t}`,ellipsis:!0},o))};n.PercentageChange=l;n.default=l}}},{package:"$root$",file:"ui/components/multichain/token-list-item/price/percentage-change/percentage-change.tsx"}]],[],{});