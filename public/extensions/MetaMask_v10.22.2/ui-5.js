LavaPack.loadBundle([[4499,{"../../../../shared/constants/gas":4349,"../../../contexts/gasFee":5068,"../../../contexts/transaction-modal":5071,"../../../helpers/constants/design-system":5092,"../../../helpers/constants/gas":5094,"../../../hooks/useI18nContext":5156,"../../../hooks/useTransactionEventFragment":5177,"../../component-library":4822,"../../ui/info-tooltip/info-tooltip":4988,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var r=m(e("react")),a=m(e("prop-types")),o=e("../../../../shared/constants/gas"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/constants/gas"),l=e("../../../contexts/gasFee"),u=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useTransactionEventFragment"),d=e("../../../contexts/transaction-modal"),p=m(e("../../ui/info-tooltip/info-tooltip")),f=e("../../component-library");function m(e){return e&&e.__esModule?e:{default:e}}function h({userAcknowledgedGasMissing:e}){const t=(0,u.useI18nContext)(),{editGasMode:n,gasLimit:a,hasSimulationError:m,estimateUsed:h,maxFeePerGas:g,maxPriorityFeePerGas:y,supportsEIP1559:v,transaction:b}=(0,l.useGasFeeContext)(),{updateTransactionEventFragment:_}=(0,c.useTransactionEventFragment)(),{openModal:w}=(0,d.useTransactionModalContext)();if(!v||!h||!(!m||!0===e))return null;let T=h,x=h;h===o.PriorityLevels.high&&n===o.EditGasModes.swaps?(T="swapSuggested",x="swapSuggested"):h===o.PriorityLevels.tenPercentIncreased&&(T=undefined,x="tenPercentIncreased");return r.default.createElement("div",{className:"edit-gas-fee-button"},r.default.createElement("button",{onClick:()=>{_({gas_edit_attempted:"basic"}),w("editGasFee")},"data-testid":"edit-gas-fee-button"},T&&r.default.createElement("span",{className:"edit-gas-fee-button__icon"},s.PRIORITY_LEVEL_ICON_MAP[T]),r.default.createElement("span",{className:"edit-gas-fee-button__label"},t(x)),r.default.createElement(f.Icon,{name:f.IconName.ArrowRight,color:i.Color.primaryDefault,size:f.IconSize.Xs})),"custom"===h&&r.default.createElement("button",{onClick:()=>{_({gas_edit_attempted:"advanced"}),w("advancedGasFee")}},t("edit")),"dappSuggested"===h&&r.default.createElement(p.default,{contentText:r.default.createElement("div",{className:"edit-gas-fee-button__tooltip"},(null==b?void 0:b.origin)&&r.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative},t("dappSuggestedTooltip",[b.origin])),r.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6"},r.default.createElement("b",null,t("maxBaseFee"))," ",g),r.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6"},r.default.createElement("b",null,t("maxPriorityFee"))," ",y),r.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6"},r.default.createElement("b",null,t("gasLimit"))," ",a)),position:"top"}))}h.propTypes={userAcknowledgedGasMissing:a.default.bool}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-button/edit-gas-fee-button.js"}],[4500,{"./edit-gas-fee-button":4499},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-gas-fee-button"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-button/index.js"}],[4501,{"../../../../shared/constants/gas":4349,"../../../contexts/gasFee":5068,"../../../contexts/transaction-modal":5071,"../../../helpers/constants/design-system":5092,"../../../helpers/constants/error-keys":5093,"../../../helpers/constants/zendesk-url":5102,"../../../hooks/useI18nContext":5156,"../../component-library":4822,"../../ui/box":4931,"../../ui/error-message":4961,"../../ui/popover":5020,"../app-loading-spinner":4430,"./edit-gas-item":4503,"./network-statistics":4508,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=v(e("react")),a=e("../../../../shared/constants/gas"),o=e("../../../hooks/useI18nContext"),i=e("../../../contexts/transaction-modal"),s=v(e("../../ui/box")),l=v(e("../../ui/error-message")),u=v(e("../../ui/popover")),c=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/error-keys"),p=e("../../../contexts/gasFee"),f=v(e("../app-loading-spinner")),m=v(e("../../../helpers/constants/zendesk-url")),h=e("../../component-library"),g=v(e("./edit-gas-item")),y=v(e("./network-statistics"));function v(e){return e&&e.__esModule?e:{default:e}}var b=()=>{const{balanceError:e,editGasMode:t}=(0,p.useGasFeeContext)(),n=(0,o.useI18nContext)(),{closeAllModals:v,closeModal:b,currentModal:_,openModalCount:w}=(0,i.useTransactionModalContext)();if("editGasFee"!==_)return null;let T="editGasFeeModalTitle";return t===a.EditGasModes.cancel?T="editCancellationGasFeeModalTitle":t===a.EditGasModes.speedUp&&(T="editSpeedUpEditGasFeeModalTitle"),r.default.createElement(u.default,{title:n(T),onBack:1===w?undefined:()=>b(["editGasFee"]),onClose:v,className:"edit-gas-fee-popover"},r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,null),r.default.createElement("div",{className:"edit-gas-fee-popover__wrapper"},r.default.createElement("div",{className:"edit-gas-fee-popover__content"},r.default.createElement(s.default,null,e&&r.default.createElement(l.default,{errorKey:d.INSUFFICIENT_FUNDS_ERROR_KEY}),r.default.createElement("div",{className:"edit-gas-fee-popover__content__header"},r.default.createElement("span",{className:"edit-gas-fee-popover__content__header-option"},n("gasOption")),r.default.createElement("span",{className:"edit-gas-fee-popover__content__header-time"},t!==a.EditGasModes.swaps&&n("time")),r.default.createElement("span",{className:"edit-gas-fee-popover__content__header-max-fee"},n("maxFee"))),(t===a.EditGasModes.cancel||t===a.EditGasModes.speedUp)&&r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.tenPercentIncreased}),t===a.EditGasModes.modifyInPlace&&r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.low}),r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.medium}),r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.high}),r.default.createElement("div",{className:"edit-gas-fee-popover__content__separator"}),t===a.EditGasModes.modifyInPlace&&r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.dAppSuggested}),r.default.createElement(g.default,{priorityLevel:a.PriorityLevels.custom})),r.default.createElement(s.default,null,r.default.createElement(y.default,null),r.default.createElement(h.Text,{className:"edit-gas-fee-popover__know-more",align:"center",color:c.TextColor.textAlternative,tag:c.TextVariant.bodyMd,variant:c.TextVariant.bodySm,as:"h6"},n("learnMoreAboutGas",[r.default.createElement("a",{key:"learnMoreLink",target:"_blank",rel:"noopener noreferrer",href:m.default.USER_GUIDE_GAS},n("learnMore"))])))))))};n.default=b}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-fee-popover.js"}],[4502,{"../../../../../shared/constants/gas":4349,"../../../../contexts/gasFee":5068,"../../../../contexts/transaction-modal":5071,"../../../../helpers/constants/common":5090,"../../../../helpers/constants/gas":5094,"../../../../helpers/utils/util":5133,"../../../../hooks/useI18nContext":5156,"../../../../hooks/useTransactionEventFragment":5177,"../../../ui/info-tooltip":4986,"../../../ui/loading-heartbeat":4991,"../../user-preferenced-currency-display":4747,"../edit-gas-tooltip/edit-gas-tooltip":4506,"./useGasItemFeeDetails":4505,classnames:2582,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=b(e("classnames")),a=b(e("prop-types")),o=b(e("react")),i=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/gas"),l=e("../../../../helpers/constants/common"),u=e("../../../../helpers/utils/util"),c=e("../../../../contexts/gasFee"),d=e("../../../../hooks/useI18nContext"),p=e("../../../../hooks/useTransactionEventFragment"),f=e("../../../../contexts/transaction-modal"),m=b(e("../../../ui/info-tooltip")),h=b(e("../../../ui/loading-heartbeat")),g=b(e("../../user-preferenced-currency-display")),y=b(e("../edit-gas-tooltip/edit-gas-tooltip")),v=e("./useGasItemFeeDetails");function b(e){return e&&e.__esModule?e:{default:e}}const _=({priorityLevel:e})=>{const{editGasMode:t,estimateUsed:n,gasLimit:a,updateTransactionToTenPercentIncreasedGasFee:b,updateTransactionUsingDAPPSuggestedValues:_,updateTransactionUsingEstimate:w,transaction:T}=(0,c.useGasFeeContext)(),{updateTransactionEventFragment:x}=(0,p.useTransactionEventFragment)(),E=(0,d.useI18nContext)(),{closeModal:k,openModal:C}=(0,f.useTransactionModalContext)(),{dappSuggestedGasFees:P}=T,{estimateGreaterThanGasUse:O,hexMaximumTransactionFee:S,maxFeePerGas:j,maxPriorityFeePerGas:M,minWaitTime:N}=(0,v.useGasItemFeeDetails)(e);if(!(e!==i.PriorityLevels.dAppSuggested||null!=P&&P.maxFeePerGas||null!=P&&P.gasPrice))return null;const{title:I,icon:R}=((e,t)=>{let n=e,r=e;return e===i.PriorityLevels.dAppSuggested?r="dappSuggestedShortLabel":e===i.PriorityLevels.dappSuggestedHigh?r="dappSuggestedHighShortLabel":e===i.PriorityLevels.tenPercentIncreased?(n=null,r="tenPercentIncreased"):e===i.PriorityLevels.high&&t===i.EditGasModes.swaps&&(n="swapSuggested",r="swapSuggested"),{title:r,icon:n}})(e,t);return o.default.createElement("button",{className:(0,r.default)("edit-gas-item",{"edit-gas-item--selected":e===n,"edit-gas-item--disabled":O}),onClick:()=>{e===i.PriorityLevels.custom?(x({properties:{gas_edit_attempted:"advanced"}}),C("advancedGasFee")):(x({properties:{gas_edit_type:"basic"}}),k(["editGasFee"]),e===i.PriorityLevels.tenPercentIncreased?b():e===i.PriorityLevels.dAppSuggested?_():w(e))},"aria-label":e,autoFocus:e===n,disabled:O,"data-testid":`edit-gas-fee-item-${e}`},o.default.createElement("span",{className:"edit-gas-item__name"},R&&o.default.createElement("span",{className:`edit-gas-item__icon edit-gas-item__icon-${e}`},s.PRIORITY_LEVEL_ICON_MAP[R]),E(I)),o.default.createElement("span",{className:`edit-gas-item__time-estimate edit-gas-item__time-estimate-${e}`},t!==i.EditGasModes.swaps&&(N?(0,u.toHumanReadableTime)(E,N):"--")),o.default.createElement("span",{className:`edit-gas-item__fee-estimate edit-gas-item__fee-estimate-${e}`},S?o.default.createElement("div",{className:"edit-gas-item__maxfee"},o.default.createElement(h.default,{backgroundColor:e===n?"var(--color-background-alternative)":"var(--color-background-default)",estimateUsed:e}),o.default.createElement(g.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:S})):"--"),o.default.createElement("span",{className:"edit-gas-item__tooltip","data-testid":"gas-tooltip"},o.default.createElement(m.default,{contentText:o.default.createElement(y.default,{t:E,priorityLevel:e,maxFeePerGas:j,maxPriorityFeePerGas:M,editGasMode:t,gasLimit:a,transaction:T,estimateGreaterThanGasUse:O}),position:"top"})))};_.propTypes={priorityLevel:a.default.string};var w=_;n.default=w}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/edit-gas-item.js"}],[4503,{"./edit-gas-item":4502},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-gas-item"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/index.js"}],[4504,{"../../../../../shared/constants/gas":4349,"../../../../ducks/metamask/metamask":5084,"../../../../store/actions":5486,"bignumber.js":2428,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCustomTimeEstimate=void 0;var r,a=e("react"),o=e("react-redux"),i=(r=e("bignumber.js"))&&r.__esModule?r:{default:r},s=e("../../../../../shared/constants/gas"),l=e("../../../../ducks/metamask/metamask"),u=e("../../../../store/actions");n.useCustomTimeEstimate=({gasFeeEstimates:e,maxFeePerGas:t,maxPriorityFeePerGas:n})=>{const r=(0,o.useSelector)(l.getGasEstimateType),c=(0,o.useSelector)(l.getIsGasEstimatesLoading),[d,p]=(0,a.useState)(null),f=c||r!==s.GasEstimateTypes.feeMarket||!n,m=(null==e?void 0:e.low)&&Number(n)<Number(e.low.suggestedMaxPriorityFeePerGas);if((0,a.useEffect)((()=>{!c&&r===s.GasEstimateTypes.feeMarket&&n&&m&&(0,u.getGasFeeTimeEstimate)(new i.default(n,10).toString(10),new i.default(t,10).toString(10)).then((e=>{p(e)}))}),[r,m,c,t,n,f]),f)return{};const{low:h={},medium:g={},high:y={}}=e;let v="";return v=m&&d&&"unknown"!==d&&"unknown"!==(null==d?void 0:d.upperTimeBound)?Number(null==d?void 0:d.upperTimeBound):Number(n)>=Number(g.suggestedMaxPriorityFeePerGas)?y.minWaitTimeEstimate:h.maxWaitTimeEstimate,{waitTimeEstimate:v}}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/useCustomTimeEstimate.js"}],[4505,{"../../../../../shared/constants/gas":4349,"../../../../../shared/modules/conversion.utils":4380,"../../../../../shared/modules/gas.utils":4383,"../../../../contexts/gasFee":5068,"../../../../helpers/utils/gas":5118,"../../../../selectors":5478,"./useCustomTimeEstimate":4504,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasItemFeeDetails=void 0;var r=e("react"),a=e("react-redux"),o=e("../../../../../shared/constants/gas"),i=e("../../../../../shared/modules/gas.utils"),s=e("../../../../helpers/utils/gas"),l=e("../../../../selectors"),u=e("../../../../contexts/gasFee"),c=e("../../../../../shared/modules/conversion.utils"),d=e("./useCustomTimeEstimate");n.useGasItemFeeDetails=e=>{const{editGasMode:t,estimateUsed:n,gasFeeEstimates:p,gasLimit:f,maxFeePerGas:m,maxPriorityFeePerGas:h,transaction:g}=(0,u.useGasFeeContext)(),[y,v]=(0,r.useState)(!1),b=(0,a.useSelector)(l.getAdvancedGasFeeValues);let _,w,T;const{dappSuggestedGasFees:x}=g;if(null!=p&&p[e])_=p[e].suggestedMaxFeePerGas,w=p[e].suggestedMaxPriorityFeePerGas;else if(e===o.PriorityLevels.dAppSuggested&&x)_=(0,c.hexWEIToDecGWEI)(x.maxFeePerGas||x.gasPrice),w=(0,c.hexWEIToDecGWEI)(x.maxPriorityFeePerGas||_);else if(e===o.PriorityLevels.custom)n===o.PriorityLevels.custom?(_=m,w=h):b&&t!==o.EditGasModes.swaps&&(_=b.maxBaseFee,w=b.priorityFee);else if(e===o.PriorityLevels.tenPercentIncreased&&g.previousGas){var E,k;_=(0,c.hexWEIToDecGWEI)((0,s.addTenPercentAndRound)(null===(E=g.previousGas)||void 0===E?void 0:E.maxFeePerGas)),w=(0,c.hexWEIToDecGWEI)((0,s.addTenPercentAndRound)(null===(k=g.previousGas)||void 0===k?void 0:k.maxPriorityFeePerGas))}const{waitTimeEstimate:C}=(0,d.useCustomTimeEstimate)({gasFeeEstimates:p,maxFeePerGas:_,maxPriorityFeePerGas:w});T=p[e]?e===o.PriorityLevels.high?null==p?void 0:p.high.minWaitTimeEstimate:null==p?void 0:p.low.maxWaitTimeEstimate:C;const P=_?(0,i.getMaximumGasTotalInHexWei)({gasLimit:(0,c.decimalToHex)(f),maxFeePerGas:(0,c.decGWEIToHexWEI)(_)}):null;return(0,r.useEffect)((()=>{if(!(t!==o.EditGasModes.cancel&&t!==o.EditGasModes.speedUp||e!==o.PriorityLevels.medium&&e!==o.PriorityLevels.high)){const t=!(0,s.gasEstimateGreaterThanGasUsedPlusTenPercent)(g.previousGas||g.txParams,p,e);v(t)}}),[t,p,e,g]),{estimateGreaterThanGasUse:y,maxFeePerGas:_,maxPriorityFeePerGas:w,minWaitTime:T,hexMaximumTransactionFee:P}}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/useGasItemFeeDetails.js"}],[4506,{"../../../../../shared/constants/gas":4349,"../../../../helpers/constants/design-system":5092,"../../../../helpers/utils/gas":5118,"../../../../helpers/utils/util":5133,"../../../component-library":4822,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/gas"),u=e("../../../../helpers/utils/util"),c=e("../../../component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({editGasMode:e,estimateGreaterThanGasUse:t,gasLimit:n,priorityLevel:r,maxFeePerGas:o,maxPriorityFeePerGas:d,transaction:p,t:f})=>{const m=(0,a.useMemo)((()=>{switch(r){case i.PriorityLevels.low:return f("lowGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("low")))]);case i.PriorityLevels.medium:return t?f("disabledGasOptionToolTipMessage",[a.default.createElement("span",{key:`disabled-priority-level-${r}`},f(r))]):f("mediumGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("medium")))]);case i.PriorityLevels.high:return t?f("disabledGasOptionToolTipMessage",[a.default.createElement("span",{key:`disabled-priority-level-${r}`},f(r))]):e===i.EditGasModes.swaps?f("swapSuggestedGasSettingToolTipMessage"):f("highGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("high")))]);case i.PriorityLevels.custom:return f("customGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,f("custom")))]);case i.PriorityLevels.dAppSuggested:return null!=p&&p.origin?f("dappSuggestedGasSettingToolTipMessage",[a.default.createElement("span",{key:null==p?void 0:p.origin},null==p?void 0:p.origin)]):null;default:return""}}),[e,t,r,p,f]);let h;r===i.PriorityLevels.low?h=f("curveLowGasEstimate"):r===i.PriorityLevels.medium?h=f("curveMediumGasEstimate"):r===i.PriorityLevels.high&&(h=f("curveHighGasEstimate"));const g=(0,l.isMetamaskSuggestedGasEstimate)(r)&&!(r===i.PriorityLevels.high&&e===i.EditGasModes.swaps)&&!t;return a.default.createElement("div",{className:"edit-gas-tooltip__container"},g?a.default.createElement("img",{alt:h,src:`./images/curve-${r}.svg`}):null,m&&a.default.createElement("div",{className:"edit-gas-tooltip__container__message"},a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6"},m)),r===i.PriorityLevels.custom||t?null:a.default.createElement("div",{className:"edit-gas-tooltip__container__values"},a.default.createElement("div",null,a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("maxBaseFee")),o&&a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,u.roundToDecimalPlacesRemovingExtraZeroes)(o,4))),a.default.createElement("div",null,a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("priorityFeeProperCase")),d&&a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,u.roundToDecimalPlacesRemovingExtraZeroes)(d,4))),a.default.createElement("div",null,a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("gasLimit")),n&&a.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,u.roundToDecimalPlacesRemovingExtraZeroes)(n,4)))))};p.propTypes={estimateGreaterThanGasUse:o.default.bool,priorityLevel:o.default.string,maxFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),maxPriorityFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),t:o.default.func,editGasMode:o.default.string,gasLimit:o.default.number,transaction:o.default.object};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-tooltip/edit-gas-tooltip.js"}],[4507,{"./edit-gas-fee-popover":4501},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-gas-fee-popover"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/index.js"}],[4508,{"./network-statistics":4509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./network-statistics"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/index.js"}],[4509,{"../../../../contexts/gasFee":5068,"../../../../contexts/i18n":5069,"../../../../helpers/constants/design-system":5092,"../../../../helpers/utils/gas":5118,"../../../../helpers/utils/util":5133,"../../../component-library":4822,"./status-slider":4510,"./tooltips":4512,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=e("../../../../helpers/constants/design-system"),i=e("../../../../helpers/utils/util"),s=e("../../../../helpers/utils/gas"),l=e("../../../../contexts/i18n"),u=e("../../../../contexts/gasFee"),c=e("../../../component-library"),d=e("./tooltips"),p=(r=e("./status-slider"))&&r.__esModule?r:{default:r};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var m=()=>{const e=(0,a.useContext)(l.I18nContext),{gasFeeEstimates:t}=(0,u.useGasFeeContext)(),n=(0,s.formatGasFeeOrFeeRange)(null==t?void 0:t.estimatedBaseFee,{precision:0}),r=(0,s.formatGasFeeOrFeeRange)(null==t?void 0:t.latestPriorityFeeRange,{precision:[1,0]}),f=null==t?void 0:t.networkCongestion;return a.default.createElement("div",{className:"network-statistics"},a.default.createElement(c.Text,{color:o.TextColor.textAlternative,fontWeight:o.FontWeight.Bold,marginTop:3,marginBottom:3,variant:o.TextVariant.bodyXs,as:"h6"},e("networkStatus")),a.default.createElement("div",{className:"network-statistics__info"},(0,i.isNullish)(n)?null:a.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-base-fee"},a.default.createElement(d.BaseFeeTooltip,null,a.default.createElement("span",{className:"network-statistics__field-data"},n),a.default.createElement("span",{className:"network-statistics__field-label"},e("baseFee")))),(0,i.isNullish)(r)?null:a.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-priority-fee-range"},a.default.createElement(d.PriorityFeeTooltip,null,a.default.createElement("span",{className:"network-statistics__field-data"},r),a.default.createElement("span",{className:"network-statistics__field-label"},e("priorityFee")))),(0,i.isNullish)(f)?null:a.default.createElement("div",{className:"network-statistics__field"},a.default.createElement(p.default,null))))};n.default=m}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/network-statistics.js"}],[4510,{"./status-slider":4511},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./status-slider"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/status-slider/index.js"}],[4511,{"../../../../../../shared/constants/gas":4349,"../../../../../contexts/gasFee":5068,"../../../../../hooks/useI18nContext":5156,"../tooltips":4512,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("../../../../../../shared/constants/gas"),i=e("../../../../../contexts/gasFee"),s=e("../../../../../hooks/useI18nContext"),l=e("../tooltips");const u=["#037DD6","#1876C8","#2D70BA","#4369AB","#57629E","#6A5D92","#805683","#9A4D71","#B44561","#C54055","#D73A49"];var c=()=>{const e=(0,s.useI18nContext)(),{gasFeeEstimates:t}=(0,i.useGasFeeContext)(),n=(e=>{const t=e??.5,n=Math.round(10*t),r=u[n],a=10*n;return t>=o.NetworkCongestionThresholds.busy?{statusLabel:"busy",tooltipLabel:"highLowercase",color:r,sliderTickValue:a}:t>=o.NetworkCongestionThresholds.stable?{statusLabel:"stable",tooltipLabel:"stableLowercase",color:r,sliderTickValue:a}:{statusLabel:"notBusy",tooltipLabel:"lowLowercase",color:r,sliderTickValue:a}})(t.networkCongestion);return a.default.createElement(l.NetworkStabilityTooltip,{color:n.color,tooltipLabel:n.tooltipLabel},a.default.createElement("div",{className:"status-slider"},a.default.createElement("div",{className:"status-slider__arrow-container"},a.default.createElement("div",{className:"status-slider__arrow-border",style:{marginLeft:`${n.sliderTickValue}%`},"data-testid":"status-slider-arrow-border"},a.default.createElement("div",{className:"status-slider__arrow",style:{borderTopColor:n.color},"data-testid":"status-slider-arrow"}))),a.default.createElement("div",{className:"status-slider__line"}),a.default.createElement("div",{className:"status-slider__label",style:{color:n.color},"data-testid":"status-slider-label"},e(n.statusLabel))))};n.default=c}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/status-slider/status-slider.js"}],[4512,{"../../../../helpers/constants/design-system":5092,"../../../../hooks/useI18nContext":5156,"../../../ui/box":4931,"../../../ui/tooltip":5057,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityFeeTooltip=n.NetworkStabilityTooltip=n.BaseFeeTooltip=void 0;var r=u(e("react")),a=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=u(e("../../../ui/box")),s=u(e("../../../ui/tooltip")),l=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}const c=({children:e,html:t,title:n})=>r.default.createElement(s.default,{position:"top",html:t,title:n},r.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN},e));c.propTypes={children:a.default.node.isRequired,html:a.default.node,title:a.default.string};const d=({children:e})=>{const t=(0,o.useI18nContext)();return r.default.createElement(c,{html:t("networkStatusBaseFeeTooltip",[r.default.createElement("strong",{key:"base_fee_medium_estimate",className:"network-status__tooltip-label"},t("medium")),r.default.createElement("strong",{key:"base_fee_high_estimate",className:"network-status__tooltip-label"},t("high"))])},e)};n.BaseFeeTooltip=d,d.propTypes={children:a.default.node.isRequired};const p=({children:e})=>{const t=(0,o.useI18nContext)();return r.default.createElement(c,{title:t("networkStatusPriorityFeeTooltip")},e)};n.PriorityFeeTooltip=p,p.propTypes={children:a.default.node.isRequired};const f=({children:e,color:t,tooltipLabel:n})=>{const a=(0,o.useI18nContext)();return r.default.createElement(c,{html:a("networkStatusStabilityFeeTooltip",[r.default.createElement("strong",{key:"network-status__tooltip",className:"network-status__tooltip-label",style:{color:t}},a(n))])},e)};n.NetworkStabilityTooltip=f,f.propTypes={children:a.default.node.isRequired,color:a.default.string.isRequired,tooltipLabel:a.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/tooltips.js"}],[4513,{"../../../../shared/constants/gas":4349,"../../../../shared/modules/conversion.utils":4380,"../../../../shared/modules/transaction.utils":4395,"../../../contexts/i18n":5069,"../../../hooks/gasFeeInput/useGasFeeInputs":5139,"../../../hooks/useIncrementedGasFees":5157,"../../../store/actions":5486,"../../ui/button":4935,"../../ui/loading-heartbeat":4991,"../../ui/popover":5020,"../edit-gas-display":4498,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=y(e("prop-types")),o=e("react-redux"),i=e("../../../hooks/gasFeeInput/useGasFeeInputs"),s=e("../../../../shared/modules/transaction.utils"),l=e("../../../../shared/constants/gas"),u=y(e("../../ui/popover")),c=y(e("../../ui/button")),d=y(e("../edit-gas-display")),p=e("../../../contexts/i18n"),f=e("../../../store/actions"),m=y(e("../../ui/loading-heartbeat")),h=e("../../../hooks/useIncrementedGasFees"),g=e("../../../../shared/modules/conversion.utils");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function _({popoverTitle:e="",confirmButtonText:t="",editGasDisplayProps:n={},transaction:a,mode:y,onClose:v,minimumGasLimit:_=l.GAS_LIMITS.SIMPLE}){const w=(0,r.useContext)(p.I18nContext),T=(0,o.useDispatch)(),[x,E]=(0,r.useState)(!1),k=(0,g.hexToDecimal)(_),C=(0,h.useIncrementedGasFees)(a);let P=a;y!==l.EditGasModes.speedUp&&y!==l.EditGasModes.cancel||(P={...a,userFeeLevel:l.CUSTOM_GAS_ESTIMATE,txParams:{...a.txParams,...C}});const{estimatedMinimumNative:O,gasPrice:S,setGasPrice:j,gasLimit:M,setGasLimit:N,properGasLimit:I,estimateToUse:R,hasGasErrors:D,gasErrors:A,onManualChange:L,balanceError:$}=(0,i.useGasFeeInputs)(l.GasRecommendations.medium,P,_,y),W=R===l.CUSTOM_GAS_ESTIMATE||(0,s.txParamsAreDappSuggested)(P),q=(0,r.useCallback)((()=>{v?v():T((0,f.hideModal)())}),[v,T]),B=(0,r.useCallback)((async()=>{P&&y||q();const e={gas:(0,g.decimalToHex)(M),gasLimit:(0,g.decimalToHex)(M),estimateUsed:R,gasPrice:(0,g.decGWEIToHexWEI)(S)},t={...P.txParams},n={...P,userEditedGasLimit:M!==Number(a.originalGasEstimate),userFeeLevel:R||l.CUSTOM_GAS_ESTIMATE,txParams:{...t,...e}};switch(y){case l.EditGasModes.cancel:T((0,f.createCancelTransaction)(P.id,e));break;case l.EditGasModes.speedUp:T((0,f.createSpeedUpTransaction)(P.id,e));break;case l.EditGasModes.modifyInPlace:e.userEditedGasLimit=n.userEditedGasLimit,e.userFeeLevel=n.userFeeLevel,T((0,f.showLoadingIndication)()),await T((0,f.updateTransactionGasFees)(n.id,e)),T((0,f.hideLoadingIndication)())}q()}),[P,y,T,q,M,S,a.originalGasEstimate,R]);let F=w("editGasTitle");e?F=e:y===l.EditGasModes.speedUp?F=w("speedUpPopoverTitle"):y===l.EditGasModes.cancel&&(F=w("cancelPopoverTitle"));const z=t||w("save");return r.default.createElement(u.default,{title:F,onClose:q,className:"edit-gas-popover__wrapper",footer:r.default.createElement(c.default,{type:"primary",onClick:B,disabled:D||$||!W},z)},r.default.createElement("div",{style:{padding:"0 20px 20px 20px",position:"relative"}},r.default.createElement(m.default,null),r.default.createElement(d.default,b({dappSuggestedGasFeeAcknowledged:x,setDappSuggestedGasFeeAcknowledged:E,estimatedMinimumNative:O,gasPrice:S,setGasPrice:j,gasLimit:M,setGasLimit:N,properGasLimit:I,mode:y,transaction:P,onManualChange:L,minimumGasLimit:k,balanceError:$,txParamsHaveBeenCustomized:W,gasErrors:A},n))))}_.propTypes={popoverTitle:a.default.string,editGasDisplayProps:a.default.object,confirmButtonText:a.default.string,onClose:a.default.func,transaction:a.default.object,mode:a.default.oneOf(Object.values(l.EditGasModes)),minimumGasLimit:a.default.string}}}},{package:"$root$",file:"ui/components/app/edit-gas-popover/edit-gas-popover.component.js"}],[4514,{"./edit-gas-popover.component":4513},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-gas-popover.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/edit-gas-popover/index.js"}],[4515,{"../../../../helpers/constants/design-system":5092,"../../../../hooks/useI18nContext":5156,"../../../../selectors":5478,"../../../component-library":4822,"../../../ui/box":4931,"../../../ui/info-tooltip/info-tooltip":4988,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("react")),a=e("react-redux"),o=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../selectors"),l=d(e("../../../ui/box")),u=d(e("../../../ui/info-tooltip/info-tooltip")),c=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}var p=()=>{const e=(0,i.useI18nContext)(),t=(0,a.useSelector)(s.getIsMainnet);return r.default.createElement(l.default,{display:"flex"},r.default.createElement(l.default,{marginRight:1},e("gas")),r.default.createElement("span",{className:"gas-details-item-title__estimate"},"(",e("transactionDetailGasInfoV2"),")"),r.default.createElement(u.default,{contentText:r.default.createElement(r.default.Fragment,null,r.default.createElement(c.Text,{variant:o.TextVariant.bodySm,as:"h6"},e("transactionDetailGasTooltipIntro",[t?e("networkNameEthereum"):""])),r.default.createElement(c.Text,{variant:o.TextVariant.bodySm,as:"h6"},e("transactionDetailGasTooltipExplanation")),r.default.createElement(c.Text,{variant:o.TextVariant.bodySm,as:"h6"},r.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},e("transactionDetailGasTooltipConversion")))),position:"bottom"}))};n.default=p}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item-title/gas-details-item-title.js"}],[4516,{"./gas-details-item-title":4515},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./gas-details-item-title"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item-title/index.js"}],[4517,{"../../../../shared/constants/gas":4349,"../../../../shared/modules/conversion.utils":4380,"../../../contexts/gasFee":5068,"../../../ducks/send":5086,"../../../helpers/constants/common":5090,"../../../helpers/constants/design-system":5092,"../../../hooks/useDraftTransactionWithTxParams":5152,"../../../hooks/useI18nContext":5156,"../../../selectors":5478,"../../ui/box":4931,"../../ui/loading-heartbeat":4991,"../gas-timing/gas-timing.component":4519,"../transaction-detail-item/transaction-detail-item.component":4733,"../user-preferenced-currency-display":4747,"./gas-details-item-title":4516,classnames:2582,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=T(e("react")),a=T(e("prop-types")),o=T(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/common"),u=e("../../../selectors"),c=e("../../../ducks/send"),d=e("../../../contexts/gasFee"),p=e("../../../hooks/useI18nContext"),f=T(e("../../ui/box")),m=T(e("../../ui/loading-heartbeat")),h=T(e("../gas-timing/gas-timing.component")),g=T(e("../transaction-detail-item/transaction-detail-item.component")),y=T(e("../user-preferenced-currency-display")),v=e("../../../../shared/modules/conversion.utils"),b=e("../../../hooks/useDraftTransactionWithTxParams"),_=e("../../../../shared/constants/gas"),w=T(e("./gas-details-item-title"));function T(e){return e&&e.__esModule?e:{default:e}}const x=({"data-testid":e,userAcknowledgedGasMissing:t=!1})=>{var n,a;const T=(0,p.useI18nContext)(),x=(0,i.useSelector)(c.getCurrentDraftTransaction),E=(0,b.useDraftTransactionWithTxParams)(),{hexMinimumTransactionFee:k,hexMaximumTransactionFee:C}=(0,i.useSelector)((e=>(0,u.transactionFeeSelector)(e,E))),{estimateUsed:P,hasSimulationError:O,maximumCostInHexWei:S,minimumCostInHexWei:j,maxPriorityFeePerGas:M,maxFeePerGas:N}=(0,d.useGasFeeContext)(),{useNativeCurrencyAsPrimaryCurrency:I}=(0,i.useSelector)(u.getPreferences),R=(0,i.useSelector)(u.getUseCurrencyRateCheck);if(O&&!t)return null;const D=(M??(0,v.hexWEIToDecGWEI)((null===(n=E.txParams)||void 0===n?void 0:n.maxPriorityFeePerGas)??"0x0")).toString(),A=(N??(0,v.hexWEIToDecGWEI)((null===(a=E.txParams)||void 0===a?void 0:a.maxFeePerGas)??"0x0")).toString();return r.default.createElement(g.default,{key:"gas-details-item","data-testid":e,detailTitle:r.default.createElement(w.default,null),detailTitleColor:s.TextColor.textDefault,detailText:R&&0===Object.keys(x).length&&r.default.createElement("div",{className:"gas-details-item__currency-container"},r.default.createElement(m.default,{estimateUsed:P}),r.default.createElement(y.default,{type:l.SECONDARY,value:j,hideLabel:Boolean(I)})),detailTotal:r.default.createElement("div",{className:"gas-details-item__currency-container"},r.default.createElement(m.default,{estimateUsed:P}),r.default.createElement(y.default,{type:l.PRIMARY,value:j||k,hideLabel:!I})),subText:r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,{key:"editGasSubTextFeeLabel",display:"inline-flex",className:(0,o.default)("gas-details-item__gasfee-label",{"gas-details-item__gas-fee-warning":P===_.PriorityLevels.high||P===_.PriorityLevels.dappSuggestedHigh})},r.default.createElement(m.default,{estimateUsed:P}),r.default.createElement(f.default,{marginRight:1},r.default.createElement("strong",null,(P===_.PriorityLevels.high||P===_.PriorityLevels.dappSuggestedHigh)&&"âš  ",T("editGasSubTextFeeLabel"))),r.default.createElement("div",{key:"editGasSubTextFeeValue",className:"gas-details-item__currency-container"},r.default.createElement(m.default,{estimateUsed:P}),r.default.createElement(y.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:S||C,hideLabel:!I})))),subTitle:r.default.createElement(h.default,{maxPriorityFeePerGas:D,maxFeePerGas:A})})};x.propTypes={"data-testid":a.default.string,userAcknowledgedGasMissing:a.default.bool};var E=x;n.default=E}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item.js"}],[4518,{"./gas-details-item":4517},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./gas-details-item"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/gas-details-item/index.js"}],[4519,{"../../../../shared/constants/gas":4349,"../../../contexts/gasFee":5068,"../../../contexts/i18n":5069,"../../../ducks/metamask/metamask":5084,"../../../helpers/constants/design-system":5092,"../../../helpers/constants/gas":5094,"../../../hooks/usePrevious":5160,"../../../store/actions":5486,"../../ui/typography/typography":5062,"bignumber.js":2428,classnames:2582,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=y(e("prop-types")),i=y(e("classnames")),s=y(e("bignumber.js")),l=e("../../../../shared/constants/gas"),u=e("../../../hooks/usePrevious"),c=e("../../../contexts/i18n"),d=e("../../../contexts/gasFee"),p=e("../../../ducks/metamask/metamask"),f=y(e("../../ui/typography/typography")),m=e("../../../helpers/constants/design-system"),h=e("../../../store/actions"),g=e("../../../helpers/constants/gas");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const b=(e=1,t)=>{const n=Math.ceil(e/1e3);return n<=90?t("gasTimingSeconds",[n]):t("gasTimingMinutes",[Math.ceil(n/60)])};function _({maxFeePerGas:e=0,maxPriorityFeePerGas:t=0,gasWarnings:n}){const o=(0,a.useSelector)(p.getGasEstimateType),y=(0,a.useSelector)(p.getGasFeeEstimates),v=(0,a.useSelector)(p.getIsGasEstimatesLoading),[_,w]=(0,r.useState)(null),T=(0,r.useContext)(c.I18nContext),{estimateUsed:x}=(0,d.useGasFeeContext)(),E=(null==y?void 0:y.low)&&Number(t)<Number(y.low.suggestedMaxPriorityFeePerGas),k=(0,u.usePrevious)(e),C=(0,u.usePrevious)(t),P=(0,u.usePrevious)(E);if((0,r.useEffect)((()=>{const n=t,r=e;(E||n&&n!==C||r&&r!==k)&&(0,h.getGasFeeTimeEstimate)(new s.default(n,10).toString(10),new s.default(r,10).toString(10)).then((a=>{e===r&&t===n&&w(a)})),!1!==E&&!0===P&&w(null)}),[t,e,E,k,C,P]),(null==n?void 0:n.maxPriorityFee)===g.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW||(null==n?void 0:n.maxFee)===g.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW)return r.default.createElement(f.default,{variant:m.TypographyVariant.H7,fontWeight:m.FONT_WEIGHT.BOLD,className:(0,i.default)("gas-timing","gas-timing--negative")},T("editGasTooLow"));if(v||o!==l.GasEstimateTypes.feeMarket)return null;const{low:O={},medium:S={},high:j={}}=y;let M="",N="positive";return Number(t)>=Number(S.suggestedMaxPriorityFeePerGas)?M=Number(t)<Number(j.suggestedMaxPriorityFeePerGas)?T("gasTimingPositive",[b(O.maxWaitTimeEstimate,T)]):T("gasTimingVeryPositive",[b(j.minWaitTimeEstimate,T)]):("low"===x&&(N="negative"),E?_&&"unknown"!==_&&"unknown"!==(null==_?void 0:_.upperTimeBound)?M=T("gasTimingNegative",[b(Number(null==_?void 0:_.upperTimeBound),T)]):(M=T("editGasTooLow"),N="negative"):M=T("gasTimingNegative",[b(O.maxWaitTimeEstimate,T)])),r.default.createElement(f.default,{variant:m.TypographyVariant.H7,className:(0,i.default)("gas-timing",{[`gas-timing--${N}`]:N})},M)}_.propTypes={maxPriorityFeePerGas:o.default.string,maxFeePerGas:o.default.string,gasWarnings:o.default.object}}}},{package:"$root$",file:"ui/components/app/gas-timing/gas-timing.component.js"}],[4520,{"../../../../shared/constants/metametrics":4353,"../../../contexts/i18n":5069,"../../../contexts/metametrics":5070,"../../../helpers/constants/design-system":5092,"../../component-library":4822,classnames:2582,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=d(e("prop-types")),o=d(e("classnames")),i=e("../../../contexts/i18n"),s=e("../../../helpers/constants/design-system"),l=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),c=e("../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=14,m=f-1;function h({buttonText:e,onLongPressed:t}){const n=(0,r.useContext)(i.I18nContext),a=(0,r.useRef)(!1),[d,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),y=(0,r.useContext)(l.MetaMetricsContext),v=e=>{e.stopPropagation()},b=()=>{a.current&&p(!0)},_=(0,r.useCallback)((e=>{y({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.SrpHoldToRevealCompleted,properties:{key_type:u.MetaMetricsEventKeyType.Srp}}),y({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.SrpRevealViewed,properties:{key_type:u.MetaMetricsEventKeyType.Srp}}),t(),g(!0),v(e)}),[t,y]),w=()=>{p(!1),g(!1)},T=(0,r.useCallback)((()=>r.default.createElement(c.Box,{className:(0,o.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__absolute-fill":d,"hold-to-reveal-button__main-icon-show":h})},r.default.createElement(c.Box,{className:"hold-to-reveal-button__absolute-fill"},r.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},r.default.createElement("circle",{className:"hold-to-reveal-button__circle-background",cx:f,cy:f,r:m}))),r.default.createElement(c.Box,{className:"hold-to-reveal-button__absolute-fill"},r.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},r.default.createElement("circle",{"aria-label":n("holdToRevealLockedLabel"),onTransitionEnd:b,className:"hold-to-reveal-button__circle-foreground",cx:f,cy:f,r:m}))),r.default.createElement(c.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,className:"hold-to-reveal-button__lock-icon-container"},r.default.createElement("img",{src:"images/lock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__lock-icon"})))),[d,h,n]),x=(0,r.useCallback)((()=>d?r.default.createElement("div",{className:(0,o.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__unlock-icon-hide":h}),onAnimationEnd:w},r.default.createElement("div",{onAnimationEnd:v,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-outer-container"},r.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},r.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-outer",cx:14,cy:14,r:14}))),r.default.createElement("div",{onAnimationEnd:v,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-inner-container"},r.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},r.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-inner",cx:14,cy:14,r:12}))),r.default.createElement("div",{"aria-label":n("holdToRevealUnlockedLabel"),className:"hold-to-reveal-button__unlock-icon-container",onAnimationEnd:_},r.default.createElement("img",{src:"images/unlock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__unlock-icon"}))):null),[d,h,_,n]);return r.default.createElement(c.Button,{onPointerDown:()=>{a.current=!0,y({category:u.MetaMetricsEventCategory.Keys,event:u.MetaMetricsEventName.SrpHoldToRevealClickStarted,properties:{key_type:u.MetaMetricsEventKeyType.Srp}})},onPointerUp:()=>{a.current=!1},className:"hold-to-reveal-button__button-hold",textProps:{display:s.Display.Flex,alignItems:s.AlignItems.center}},r.default.createElement(c.Box,{className:"hold-to-reveal-button__icon-container",marginRight:2},T(),x()),e)}h.propTypes={buttonText:a.default.string.isRequired,onLongPressed:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js"}],[4521,{"./hold-to-reveal-button":4520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./hold-to-reveal-button"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/index.js"}],[4522,{"../../../helpers/constants/design-system":5092,"../../component-library":4822,"../../ui/button":4935,"../../ui/check-box":4939,"../../ui/tooltip":5057,classnames:2582,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=d(e("classnames")),o=d(e("prop-types")),i=d(e("../../ui/button")),s=d(e("../../ui/check-box")),l=d(e("../../ui/tooltip")),u=e("../../component-library"),c=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({acceptText:e,checkboxText:t,checkboxTooltipText:n,classNames:o=[],descriptionText:d,ignoreText:p,infoText:f,onAccept:m,onIgnore:h})=>{const[g,y]=(0,r.useState)(!1),v=t&&r.default.createElement(s.default,{id:"homeNotification_checkbox",checked:g,className:"home-notification__checkbox",onClick:()=>y((e=>!e))});return r.default.createElement("div",{className:(0,a.default)("home-notification",...o)},r.default.createElement("div",{className:"home-notification__content"},r.default.createElement("div",{className:"home-notification__content-container"},r.default.createElement("div",{className:"home-notification__text"},d)),f?r.default.createElement(l.default,{position:"top",title:f,wrapperClassName:"home-notification__tooltip-wrapper"},r.default.createElement(u.Icon,{name:u.IconName.Info,color:c.IconColor.iconDefault})):null),r.default.createElement("div",{className:"home-notification__buttons"},m&&e?r.default.createElement(i.default,{type:"primary",className:"home-notification__accept-button",onClick:m},e):null,h&&p?r.default.createElement(i.default,{type:"secondary",className:"home-notification__ignore-button",onClick:()=>h(g)},p):null,t?r.default.createElement("div",{className:"home-notification__checkbox-wrapper"},n?r.default.createElement(l.default,{position:"top",title:n,wrapperClassName:"home-notification__checkbox-label-tooltip"},v):v,r.default.createElement("label",{className:"home-notification__checkbox-label",htmlFor:"homeNotification_checkbox"},t)):null))};f.propTypes={acceptText:o.default.node,checkboxText:o.default.node,checkboxTooltipText:o.default.node,classNames:o.default.array,descriptionText:o.default.node.isRequired,ignoreText:o.default.node,infoText:o.default.node,onAccept:o.default.func,onIgnore:o.default.func};var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/home-notification/home-notification.component.js"}],[4523,{"./home-notification.component":4522},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./home-notification.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/home-notification/index.js"}],[4524,{"./token-list.container":4528},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./token-list.container"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/import-token/token-list/index.js"}],[4525,{"./token-list-placeholder.component":4526},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./token-list-placeholder.component"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list-placeholder/index.js"}],[4526,{"../../../../../helpers/constants/design-system":5092,"../../../../../helpers/constants/zendesk-url":5102,"../../../../component-library":4822,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a,o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),s=d(e("prop-types")),l=d(e("../../../../../helpers/constants/zendesk-url")),u=e("../../../../component-library"),c=e("../../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}class f extends i.Component{render(){return i.default.createElement(u.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column,textAlign:c.TextAlign.Center},i.default.createElement(u.Text,{color:c.TextColor.textAlternative},this.context.t("addAcquiredTokens")),i.default.createElement(u.ButtonLink,{href:l.default.ADD_CUSTOM_TOKENS,externalLink:!0},this.context.t("learnMoreUpperCase")))}}n.default=f,r=f,a="contextTypes",o={t:s.default.func},(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list-placeholder/token-list-placeholder.component.js"}],[4527,{"../../../../helpers/utils/util":5133,"./token-list-placeholder":4525,classnames:2582,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=l(e("prop-types")),o=l(e("classnames")),i=e("../../../../helpers/utils/util"),s=l(e("./token-list-placeholder"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.Component{render(){const{results:e=[],selectedTokens:t={},onToggleToken:n,tokens:a=[]}=this.props;return 0===e.length?r.default.createElement(s.default,null):r.default.createElement("div",{className:"token-list"},r.default.createElement("div",{className:"token-list__title"},this.context.t("searchResults")),r.default.createElement("div",{className:"token-list__tokens-container"},Array(6).fill(undefined).map(((s,l)=>{var u,c,d;const{symbol:p,name:f,address:m}=e[l]||{},h=(0,i.checkExistingAddresses)(m,a),g=()=>!h&&n(e[l]);return Boolean((null===(u=e[l])||void 0===u?void 0:u.iconUrl)||p||f)&&r.default.createElement("div",{className:(0,o.default)("token-list__token",{"token-list__token--selected":t[m],"token-list__token--disabled":h}),onClick:g,onKeyPress:e=>"Enter"===e.key&&g(),key:l,tabIndex:"0"},r.default.createElement("div",{className:"token-list__token-icon",style:{backgroundImage:(null===(c=e[l])||void 0===c?void 0:c.iconUrl)&&`url(${null===(d=e[l])||void 0===d?void 0:d.iconUrl})`}}),r.default.createElement("div",{className:"token-list__token-data"},r.default.createElement("span",{className:"token-list__token-name"},`${f} (${p})`)))}))))}}n.default=d,c(d,"contextTypes",{t:a.default.func}),c(d,"propTypes",{tokens:a.default.array,results:a.default.array,selectedTokens:a.default.object,onToggleToken:a.default.func})}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list.component.js"}],[4528,{"./token-list.component":4527,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=(r=e("./token-list.component"))&&r.__esModule?r:{default:r};var i=(0,a.connect)((e=>{const{tokens:t}=e.metamask;return{tokens:t}}))(o.default);n.default=i}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list.container.js"}],[4529,{"./token-search.component":4530},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./token-search.component"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/import-token/token-search/index.js"}],[4530,{"../../../../../shared/modules/string-utils":4393,"../../../../helpers/constants/design-system":5092,"../../../component-library":4822,"fuse.js":3180,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=u(e("prop-types")),o=u(e("fuse.js")),i=e("../../../../../shared/modules/string-utils"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.Component{constructor(e){super(e),d(this,"state",{searchQuery:""});const{tokenList:t}=this.props;this.tokenList=Object.values(t),this.tokenSearchFuse=new o.default(this.tokenList,{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"name",weight:.5},{name:"symbol",weight:.5}]})}handleSearch(e){this.setState({searchQuery:e});const t=this.tokenSearchFuse.search(e),n=[...this.tokenList.filter((t=>t.address&&e&&(0,i.isEqualCaseInsensitive)(t.address,e))),...t];this.props.onSearch({searchQuery:e,results:n})}render(){const{error:e}=this.props,{searchQuery:t}=this.state;return r.default.createElement(s.TextFieldSearch,{placeholder:this.context.t("search"),value:t,onChange:e=>this.handleSearch(e.target.value),error:e,autoFocus:!0,autoComplete:!1,width:l.BlockSize.Full})}}n.default=p,d(p,"contextTypes",{t:a.default.func}),d(p,"defaultProps",{error:null}),d(p,"propTypes",{onSearch:a.default.func,error:a.default.string,tokenList:a.default.object})}}},{package:"$root$",file:"ui/components/app/import-token/token-search/token-search.component.js"}],[4531,{"../../../../shared/constants/network":4354,"../../../contexts/i18n":5069,"../../../helpers/constants/design-system":5092,"../../component-library":4822,"../../ui/toggle-button":5050,"./network-toggle":4532,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=d(e("prop-types")),o=e("../../../contexts/i18n"),i=d(e("../../ui/toggle-button")),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),u=e("../../../../shared/constants/network"),c=d(e("./network-toggle"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({wrapperRef:e,incomingTransactionsPreferences:t,allNetworks:n,setIncomingTransactionsPreferences:a})=>{const u=(0,r.useContext)(o.I18nContext),[d,p]=(0,r.useState)(h(t,n)),[f,m]=(0,r.useState)(g(t));(0,r.useEffect)((()=>{p(h(t,n))}),[t,n]),(0,r.useEffect)((()=>{m(g(t))}),[t]);const y=(e,t)=>{a(e,t)};return r.default.createElement(s.Box,{ref:e,className:"mm-incoming-transaction-toggle"},r.default.createElement(s.Text,{variant:l.TextVariant.bodyMdMedium},u("showIncomingTransactions")),r.default.createElement(s.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},u("showIncomingTransactionsExplainer")),r.default.createElement(s.Box,{marginTop:3,display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,gap:4,"data-testid":"incoming-transaction-toggle-enable-all"},r.default.createElement(s.Text,{variant:l.TextVariant.bodySmBold},u("enableForAllNetworks")),r.default.createElement(i.default,{value:f,onToggle:e=>{return n=!e,void Object.keys(t).forEach((e=>{t[e]!==n&&a(e,n)}));var n},offLabel:u("off"),onLabel:u("on")})),Object.keys(d).map(((e,t)=>r.default.createElement(c.default,{key:t,chainId:e,networkPreferences:d[e],toggleSingleNetwork:y}))))};var m=f;function h(e,t){const n={};return Object.keys(t).forEach((r=>{var a;const{chainId:o}=t[r];n[o]={isShowIncomingTransactions:e[o],isATestNetwork:u.TEST_CHAINS.includes(o),label:t[r].nickname,imageUrl:null===(a=t[r].rpcPrefs)||void 0===a?void 0:a.imageUrl}})),n}function g(e){return Object.values(e).every(Boolean)}n.default=m,f.propTypes={wrapperRef:a.default.object,incomingTransactionsPreferences:a.default.object.isRequired,allNetworks:a.default.array.isRequired,setIncomingTransactionsPreferences:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/incoming-trasaction-toggle/incoming-transaction-toggle.tsx"}],[4532,{"../../../../shared/constants/network":4354,"../../../contexts/i18n":5069,"../../../helpers/constants/design-system":5092,"../../component-library":4822,"../../ui/toggle-button":5050,"../../ui/tooltip":5057,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=p(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=e("../../../../shared/constants/network"),i=e("../../../contexts/i18n"),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),u=p(e("../../ui/toggle-button")),c=p(e("../../ui/tooltip"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const f=({networkPreferences:e,toggleSingleNetwork:t,chainId:n})=>{var r;const d=(0,a.useContext)(i.I18nContext),{isShowIncomingTransactions:p}=e,f=e.label,m=null===o.ETHERSCAN_SUPPORTED_NETWORKS||void 0===o.ETHERSCAN_SUPPORTED_NETWORKS?void 0:o.ETHERSCAN_SUPPORTED_NETWORKS[n],h=null==m?void 0:m.domain;console.log({ETHERSCAN_SUPPORTED_NETWORKS:o.ETHERSCAN_SUPPORTED_NETWORKS,domain:h,chainId:n});const g=(null==h||null===(r=h.charAt(0))||void 0===r?void 0:r.toUpperCase())+(null==h?void 0:h.slice(1));return a.default.createElement(l.Box,{marginTop:6,marginBottom:6,display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,"data-testid":`network-toggle-${n}`,className:"network-toggle-wrapper"},a.default.createElement(l.Box,{gap:2,backgroundColor:s.BackgroundColor.transparent,display:s.Display.Flex,alignItems:s.AlignItems.center,width:s.BlockSize.Full},a.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Sm,src:e.imageUrl,name:f}),a.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},a.default.createElement(l.Text,{color:s.TextColor.textDefault,backgroundColor:s.BackgroundColor.transparent,variant:s.TextVariant.bodyMd,ellipsis:!0,marginLeft:2},f.length>20?a.default.createElement(c.default,{title:f,position:"bottom"},f):f),a.default.createElement(l.Text,{color:s.TextColor.primaryDefault,backgroundColor:s.BackgroundColor.transparent,variant:s.TextVariant.bodySm,ellipsis:!0,marginLeft:2},h&&a.default.createElement("a",{key:`network_${h}_link`,href:`https://${h}`,rel:"noreferrer",target:"_blank"},g)))),a.default.createElement(u.default,{value:p,onToggle:e=>t(n,!e),offLabel:d("off"),onLabel:d("on")}))};var m=f;n.default=m,f.propTypes={chainId:r.default.string.isRequired,networkPreferences:r.default.object.isRequired,toggleSingleNetwork:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/incoming-trasaction-toggle/network-toggle.tsx"}],[4533,{"./ledger-instruction-field":4534},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./ledger-instruction-field"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/ledger-instruction-field/index.js"}],[4534,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4346,"../../../../shared/constants/hardware-wallets":4350,"../../../ducks/app/app":5076,"../../../ducks/metamask/metamask":5084,"../../../helpers/constants/design-system":5092,"../../../hooks/useI18nContext":5156,"../../../store/actions":5486,"../../component-library":4822,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=e("react-redux"),i=(r=e("prop-types"))&&r.__esModule?r:{default:r},s=e("../../../../shared/constants/hardware-wallets"),l=e("../../../../shared/constants/app"),u=e("../../../ducks/app/app"),c=e("../../component-library"),d=e("../../../hooks/useI18nContext"),p=e("../../../helpers/constants/design-system"),f=e("../../../../app/scripts/lib/util"),m=e("../../../ducks/metamask/metamask"),h=e("../../../store/actions");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const y=(e,t=!0,n=p.TextColor.textDefault)=>t&&a.default.createElement(c.Text,{color:n,as:"h6"},e);function v({showDataInstruction:e}){const t=(0,d.useI18nContext)(),n=(0,o.useDispatch)(),r=(0,o.useSelector)(u.getLedgerWebHidConnectedStatus),i=(0,o.useSelector)(m.getLedgerTransportType),g=(0,o.useSelector)(u.getLedgerTransportStatus),v=(0,f.getEnvironmentType)()===l.ENVIRONMENT_TYPE_FULLSCREEN;(0,a.useEffect)((()=>{(async()=>{if(i===s.LedgerTransportTypes.webhid&&r===s.WebHIDConnectedStatuses.connected&&g===s.HardwareTransportStates.none)try{const e=await(0,h.attemptLedgerTransportCreation)();n((0,u.setLedgerTransportStatus)(e?s.HardwareTransportStates.verified:s.HardwareTransportStates.unknownFailure))}catch(e){e.message.match("Failed to open the device")?n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.deviceOpenFailure)):e.message.match("the device is already open")?n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.verified)):n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.unknownFailure))}})(),(async()=>{if(i===s.LedgerTransportTypes.webhid&&r!==s.WebHIDConnectedStatuses.connected){var e,t;const r=await(null===(e=window.navigator)||void 0===e||null===(t=e.hid)||void 0===t?void 0:t.getDevices()),a=null==r?void 0:r.some((e=>e.vendorId===Number(s.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)(a?s.WebHIDConnectedStatuses.connected:s.WebHIDConnectedStatuses.notConnected))}})()}),[n,i,r,g]),(0,a.useEffect)((()=>()=>{n((0,u.setLedgerTransportStatus)(s.HardwareTransportStates.none))}),[n]);const b=i===s.LedgerTransportTypes.live,_=i===s.LedgerTransportTypes.webhid,w=(0,f.getPlatform)()===l.PLATFORM_FIREFOX;return a.default.createElement("div",null,a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement(c.BannerAlert,{severity:p.SEVERITIES.INFO},a.default.createElement("div",{className:"ledger-live-dialog"},y(t("ledgerConnectionInstructionHeader")),y(`â€¢ ${t("ledgerConnectionInstructionStepOne")}`,!w&&b),y(`â€¢ ${t("ledgerConnectionInstructionStepTwo")}`,!w&&b),y(`â€¢ ${t("ledgerConnectionInstructionStepThree")}`),y(`â€¢ ${t("ledgerConnectionInstructionStepFour")}`,e),y(a.default.createElement("span",null,a.default.createElement(c.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{v?window.location.reload():global.platform.openExtensionInBrowser(null,null,!0)}},t("ledgerConnectionInstructionCloseOtherApps"))),g===s.HardwareTransportStates.deviceOpenFailure),y(a.default.createElement("span",null,a.default.createElement(c.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{if(v){const e=(await window.navigator.hid.requestDevice({filters:[{vendorId:s.LEDGER_USB_VENDOR_ID}]})).some((e=>e.vendorId===Number(s.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)({webHidConnectedStatus:e?s.WebHIDConnectedStatuses.connected:s.WebHIDConnectedStatuses.notConnected}))}else global.platform.openExtensionInBrowser(null,null,!0)}},t(v?"clickToConnectLedgerViaWebHID":"openFullScreenForLedgerWebHid"))),_&&r===s.WebHIDConnectedStatuses.notConnected,p.TextColor.warningDefault)))))}v.propTypes={showDataInstruction:i.default.bool}}}},{package:"$root$",file:"ui/components/app/ledger-instruction-field/ledger-instruction-field.js"}],[4535,{"./loading-network-screen.container":4537},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./loading-network-screen.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/loading-network-screen/index.js"}],[4536,{"../../../../shared/constants/network":4354,"../../../../shared/constants/time":4364,"../../../helpers/constants/design-system":5092,"../../component-library":4822,"../../ui/box/box":4930,"../../ui/loading-screen":4994,"../../ui/popover/popover.component":5021,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=p(e("prop-types")),o=p(e("../../ui/loading-screen")),i=e("../../../../shared/constants/time"),s=e("../../../../shared/constants/network"),l=p(e("../../ui/popover/popover.component")),u=e("../../component-library"),c=e("../../../helpers/constants/design-system"),d=p(e("../../ui/box/box"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.PureComponent{constructor(...e){super(...e),m(this,"state",{showErrorScreen:!1}),m(this,"componentDidMount",(()=>{this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)})),m(this,"getConnectingLabel",(function(e){if(e)return e;const{providerConfig:t,providerId:n}=this.props,r=t.type,{t:a}=this.context;switch(r){case s.NETWORK_TYPES.MAINNET:return a("connectingToMainnet");case s.NETWORK_TYPES.GOERLI:return a("connectingToGoerli");case s.NETWORK_TYPES.SEPOLIA:return a("connectingToSepolia");case s.NETWORK_TYPES.LINEA_GOERLI:return a("connectingToLineaGoerli");case s.NETWORK_TYPES.LINEA_MAINNET:return a("connectingToLineaMainnet");default:return a("connectingTo",[n])}})),m(this,"renderConnectionFailureNotification",((e,t=!1)=>{const{showNetworkDropdown:n,setProviderArgs:a,setProviderType:o}=this.props;return r.default.createElement(l.default,{onClose:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1})},centerTitle:!0,title:r.default.createElement(u.Icon,{name:u.IconName.Danger,size:u.IconSize.Xl,color:c.IconColor.warningDefault})},r.default.createElement(u.Text,{variant:c.TextVariant.bodyLgMedium,textAlign:c.TextAlign.Center,margin:[0,4,4,4]},e),r.default.createElement(d.default,{display:c.DISPLAY.FLEX,padding:4,gap:2},r.default.createElement(u.ButtonSecondary,{onClick:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),n()},variant:c.TextVariant.bodySm,block:!0},this.context.t("switchNetworks")),t?r.default.createElement(u.ButtonPrimary,{onClick:()=>{this.setState({showErrorScreen:!1}),o(...a),window.clearTimeout(this.cancelCallTimeout),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)},variant:c.TextVariant.bodySm,block:!0},this.context.t("tryAgain")):null))})),m(this,"renderDeprecatedRpcUrlWarning",(()=>this.renderConnectionFailureNotification(this.context.t("currentRpcUrlDeprecated"),!1))),m(this,"renderErrorScreenContent",(()=>{const{providerConfig:e}=this.props;return this.renderConnectionFailureNotification(this.context.t("networkSwitchConnectionError",[e.nickname]),!0)})),m(this,"cancelCall",(()=>{const{isNetworkLoading:e}=this.props;e&&this.setState({showErrorScreen:!0})})),m(this,"componentDidUpdate",(e=>{const{providerConfig:t}=this.props,{providerConfig:n}=e;t.type!==n.type&&(window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND))})),m(this,"componentWillUnmount",(()=>{window.clearTimeout(this.cancelCallTimeout)}))}render(){const{rollbackToPreviousProvider:e,showDeprecatedRpcUrlWarning:t}=this.props;let n;return n=this.state.showErrorScreen?this.renderErrorScreenContent():t?this.renderDeprecatedRpcUrlWarning():this.getConnectingLabel(this.props.loadingMessage),r.default.createElement(o.default,{header:r.default.createElement("div",{className:"page-container__header-close",onClick:e}),showLoadingSpinner:!this.state.showErrorScreen,loadingMessage:n})}}n.default=h,m(h,"contextTypes",{t:a.default.func}),m(h,"propTypes",{loadingMessage:a.default.string,cancelTime:a.default.number,providerConfig:a.default.object,providerId:a.default.oneOfType([a.default.string,a.default.number]),showNetworkDropdown:a.default.func,setProviderArgs:a.default.array,setProviderType:a.default.func,rollbackToPreviousProvider:a.default.func,isNetworkLoading:a.default.bool,showDeprecatedRpcUrlWarning:a.default.bool})}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.component.js"}],[4537,{"../../../../shared/constants/network":4354,"../../../ducks/metamask/metamask":5084,"../../../selectors":5478,"../../../store/actions":5486,"./loading-network-screen.component":4536,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../../shared/constants/network"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("../../../store/actions")),s=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),u=(r=e("./loading-network-screen.component"))&&r.__esModule?r:{default:r};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=["0x3","0x2a","0x4"];var p=(0,a.connect)((e=>{const{loadingMessage:t}=e.appState,n=(0,l.getProviderConfig)(e),{rpcUrl:r,chainId:a,ticker:i,nickname:u,type:c}=n,p=c===o.NETWORK_TYPES.RPC?[r,a,i,u]:[c],f=a,m=d.includes(f),h=r&&new URL(r).host.endsWith(".infura.io"),g=m&&h;let y=u;if(y===undefined){const t=(0,s.getAllEnabledNetworks)(e).find((e=>e.chainId===a));t&&(y=t.nickname)}return{isNetworkLoading:(0,s.isNetworkLoading)(e),loadingMessage:t,setProviderArgs:p,providerConfig:{...n,nickname:y},providerId:(0,s.getNetworkIdentifier)(e),showDeprecatedRpcUrlWarning:g}}),(e=>({setProviderType:t=>{e(i.setProviderType(t))},rollbackToPreviousProvider:()=>e(i.rollbackToPreviousProvider()),showNetworkDropdown:()=>e(i.toggleNetworkMenu())})))(u.default);n.default=p}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.container.js"}],[4538,{"./metamask-template-renderer":4539,"./section-shape":4541},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SectionShape",{enumerable:!0,get:function(){return o.SectionShape}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./metamask-template-renderer"))&&r.__esModule?r:{default:r},o=e("./section-shape")}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/index.js"}],[4539,{"./safe-component-list":4540,"./section-shape":4541,lodash:3676,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("lodash"),o=e("./safe-component-list"),i=e("./section-shape");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e){const{element:t}=e,n=o.safeComponentList[t];if(!n)throw new Error(`${t} is not in the safe component list for MetaMask template renderer`);return n}const c=({sections:e})=>{if(!e)return null;if("string"==typeof e)return e;if(e&&"object"==typeof e&&!Array.isArray(e)){const t=u(e);return r.default.createElement(t,e.props,"object"==typeof e.children?r.default.createElement(c,{sections:e.children}):null==e?void 0:e.children)}return r.default.createElement(r.default.Fragment,null,e.reduce(((e,t)=>{if(!0===(null==t?void 0:t.hide))return e;if("string"==typeof t)e.push(t);else{if(!t.key)throw new Error("When using array syntax in MetaMask Template Language, you must specify a key for each child of the array");if("object"==typeof(null==t?void 0:t.children))e.push(r.default.createElement(c,{sections:t,key:t.key}));else{const n=u(t);e.push(r.default.createElement(n,l({key:t.key},t.props),null==t?void 0:t.children))}}return e}),[]))};c.propTypes={sections:i.ValidChildren};var d=(0,r.memo)(c,((e,t)=>(0,a.isEqual)(e.sections,t.sections)));n.default=d}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/metamask-template-renderer.js"}],[4540,{"../../../pages/confirmation/components/confirmation-network-switch":5229,"../../component-library":4822,"../../ui/actionable-message/actionable-message":4927,"../../ui/box":4931,"../../ui/button":4935,"../../ui/chip":4942,"../../ui/definition-list":4951,"../../ui/popover":5020,"../../ui/spinner":5038,"../../ui/text-field":5046,"../../ui/textarea/textarea":5049,"../../ui/tooltip/tooltip":5058,"../../ui/truncated-definition-list":5059,"../../ui/typography":5061,"../../ui/url-icon":5066,"../metamask-translation":4542,"../network-display":4592,"../snaps/copyable":4658,"../snaps/snap-delineator":4667,"../snaps/snap-ui-markdown":4681},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.safeComponentList=void 0;var r=x(e("../../ui/button")),a=x(e("../../ui/chip")),o=x(e("../../ui/definition-list")),i=x(e("../../ui/truncated-definition-list")),s=x(e("../../ui/popover")),l=x(e("../../ui/typography")),u=x(e("../../ui/box")),c=x(e("../metamask-translation")),d=x(e("../network-display")),p=x(e("../../ui/textarea/textarea")),f=x(e("../../ui/text-field")),m=x(e("../../../pages/confirmation/components/confirmation-network-switch")),h=x(e("../../ui/url-icon")),g=x(e("../../ui/tooltip/tooltip")),y=e("../../component-library"),v=x(e("../../ui/actionable-message/actionable-message")),b=e("../snaps/snap-delineator"),_=e("../snaps/copyable"),w=x(e("../../ui/spinner")),T=e("../snaps/snap-ui-markdown");function x(e){return e&&e.__esModule?e:{default:e}}const E={a:"a",ActionableMessage:v.default,AvatarIcon:y.AvatarIcon,b:"b",Box:u.default,Button:r.default,Chip:a.default,ConfirmationNetworkSwitch:m.default,DefinitionList:o.default,div:"div",i:"i",MetaMaskTranslation:c.default,NetworkDisplay:d.default,p:"p",Popover:s.default,span:"span",TextArea:p.default,TextField:f.default,Tooltip:g.default,TruncatedDefinitionList:i.default,Typography:l.default,UrlIcon:h.default,Copyable:_.Copyable,SnapDelineator:b.SnapDelineator,SnapUIMarkdown:T.SnapUIMarkdown,Spinner:w.default};n.safeComponentList=E}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/safe-component-list.js"}],[4541,{"prop-types":3823},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValidChildren=n.SectionShape=void 0;var r,a=(r=e("prop-types"))&&r.__esModule?r:{default:r};const o={props:a.default.object,element:a.default.string,key:a.default.string};n.SectionShape=o;const i=a.default.oneOfType([a.default.string,a.default.shape(o),a.default.arrayOf(a.default.oneOfType([a.default.shape(o),a.default.string]))]);n.ValidChildren=i,o.children=i}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/section-shape.js"}],[4542,{"./metamask-translation":4543},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./metamask-translation"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/metamask-translation/index.js"}],[4543,{"../../../hooks/useI18nContext":5156,"../metamask-template-renderer":4538,"../metamask-template-renderer/section-shape":4541,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../hooks/useI18nContext"),i=l(e("../metamask-template-renderer")),s=e("../metamask-template-renderer/section-shape");function l(e){return e&&e.__esModule?e:{default:e}}function u({translationKey:e,variables:t}){return(0,o.useI18nContext)()(e,null==t?void 0:t.map((t=>{if("object"==typeof t&&!Array.isArray(t)&&t.element){var n,a,o,s;if(!t.key)throw new Error(`When using MetaMask Template Language in a MetaMaskTranslation variable, you must provide a key for the section regardless of syntax.\n            Section with element '${t.element}' for translationKey: '${e}' has no key property`);if(t.children&&Array.isArray(t.children)&&t.children.length>2)throw new Error("MetaMaskTranslation only renders templates with a single section and maximum two children");if((null===(n=t.children)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.children)!==undefined&&"string"!=typeof t.children[0].children||(null===(o=t.children)||void 0===o||null===(s=o[1])||void 0===s?void 0:s.children)!==undefined&&"string"!=typeof t.children[1].children)throw new Error("MetaMaskTranslation does not allow for component trees of non trivial depth");return r.default.createElement(i.default,{key:`${e}-${t.key}`,sections:t})}return t})))}u.propTypes={translationKey:a.default.string.isRequired,variables:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.number,a.default.shape(s.SectionShape)]))}}}},{package:"$root$",file:"ui/components/app/metamask-translation/metamask-translation.js"}],[4544,{"./modal-content":4545,"./modal.component":4547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=o(e("./modal.component")),a=o(e("./modal-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modal/index.js"}],[4545,{"./modal-content.component":4546},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./modal-content.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modal/modal-content/index.js"}],[4546,{"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}class s extends a.PureComponent{render(){const{title:e,description:t}=this.props;return a.default.createElement("div",{className:"modal-content"},e?a.default.createElement("div",{className:"modal-content__title"},e):null,t&&a.default.createElement("div",{className:"modal-content__description"},t))}}n.default=s,function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(s,"propTypes",{title:o.default.string,description:o.default.string})}}},{package:"$root$",file:"ui/components/app/modal/modal-content/modal-content.component.js"}],[4547,{"../../ui/button":4935,classnames:2582,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=s(e("prop-types")),o=s(e("classnames")),i=s(e("../../ui/button"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{render(){const{children:e,headerText:t,onClose:n,onSubmit:a,submitType:s,submitText:l,submitDisabled:u,onCancel:c,cancelType:d,cancelText:p,contentClass:f,containerClass:m,hideFooter:h}=this.props;return r.default.createElement("div",{className:(0,o.default)("modal-container",m)},t&&r.default.createElement("div",{className:"modal-container__header"},r.default.createElement("div",{className:"modal-container__header-text"},t),r.default.createElement("div",{className:"modal-container__header-close","data-testid":"modal-header-close",onClick:n})),r.default.createElement("div",{className:(0,o.default)("modal-container__content",f)},e),h?null:r.default.createElement("div",{className:"modal-container__footer"},c&&r.default.createElement(i.default,{type:d,onClick:c,className:"modal-container__footer-button"},p),r.default.createElement(i.default,{type:s,onClick:a,disabled:u,className:"modal-container__footer-button"},l)))}}n.default=c,u(c,"propTypes",{children:a.default.node,contentClass:a.default.string,containerClass:a.default.string,headerText:a.default.string,onClose:a.default.func,onSubmit:a.default.func,submitType:a.default.string,submitText:a.default.string,submitDisabled:a.default.bool,hideFooter:a.default.bool,onCancel:a.default.func,cancelType:a.default.string,cancelText:a.default.string}),u(c,"defaultProps",{submitType:"primary",cancelType:"secondary"})}}},{package:"$root$",file:"ui/components/app/modal/modal.component.js"}],[4548,{"../../modal":4544,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=l(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(...e){super(...e),u(this,"handleDelete",(async()=>{await this.props.removeNetworkConfiguration(this.props.target),this.props.onConfirm(),this.props.hideModal()}))}render(){const{t:e}=this.context,{networkNickname:t}=this.props;return a.default.createElement(i.default,{onSubmit:this.handleDelete,onCancel:()=>this.props.hideModal(),submitText:e("delete"),cancelText:e("cancel"),submitType:"danger-primary"},a.default.createElement(i.ModalContent,{title:e("deleteNetworkTitle",[t]),description:e("deleteNetworkIntro")}))}}n.default=c,u(c,"propTypes",{hideModal:o.default.func.isRequired,removeNetworkConfiguration:o.default.func.isRequired,onConfirm:o.default.func.isRequired,target:o.default.string.isRequired,networkNickname:o.default.string.isRequired}),u(c,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.component.js"}],[4549,{"../../../../helpers/higher-order-components/with-modal-props":5110,"../../../../selectors":5478,"../../../../store/actions":5486,"./confirm-delete-network.component":4548,"react-redux":4041,redux:4109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=u(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=e("../../../../selectors"),l=u(e("./confirm-delete-network.component"));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.compose)(o.default,(0,r.connect)(((e,t)=>({networkNickname:(0,s.getNetworkConfigurations)(e)[t.target].nickname})),(e=>({removeNetworkConfiguration:t=>e((0,i.removeNetworkConfiguration)(t))}))))(l.default);n.default=c}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.container.js"}],[4550,{"./confirm-delete-network.container":4549},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./confirm-delete-network.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/index.js"}],[4551,{"../../../../../shared/constants/metametrics":4353,"../../../../helpers/constants/zendesk-url":5102,"../../../../helpers/utils/util":5133,"../../../ui/identicon":4985,"../../modal":4544,"@metamask/etherscan-link":1273,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=d(e("prop-types")),o=e("@metamask/etherscan-link"),i=d(e("../../modal")),s=e("../../../../helpers/utils/util"),l=d(e("../../../ui/identicon")),u=e("../../../../../shared/constants/metametrics"),c=d(e("../../../../helpers/constants/zendesk-url"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{constructor(...e){super(...e),f(this,"handleRemove",(()=>{this.props.removeAccount(this.props.identity.address).then((()=>this.props.hideModal()))})),f(this,"handleCancel",(()=>{this.props.hideModal()}))}renderSelectedAccount(){const{t:e}=this.context,{identity:t,rpcPrefs:n,chainId:a}=this.props;return r.default.createElement("div",{className:"confirm-remove-account__account"},r.default.createElement("div",{className:"confirm-remove-account__account__identicon"},r.default.createElement(l.default,{address:t.address,diameter:32})),r.default.createElement("div",{className:"confirm-remove-account__account__name"},r.default.createElement("span",{className:"confirm-remove-account__account__label"},e("name")),r.default.createElement("span",{className:"account_value"},t.name)),r.default.createElement("div",{className:"confirm-remove-account__account__address"},r.default.createElement("span",{className:"confirm-remove-account__account__label"},e("publicAddress")),r.default.createElement("span",{className:"account_value"},(0,s.addressSummary)(t.address,4,4))),r.default.createElement("div",{className:"confirm-remove-account__account__link"},r.default.createElement("a",{onClick:()=>{const e=(0,o.getAccountLink)(t.address,a,n);this.context.trackEvent({category:u.MetaMetricsEventCategory.Accounts,event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Remove Account",block_explorer_domain:(0,s.getURLHostName)(e)}}),global.platform.openTab({url:e})},target:"_blank",rel:"noopener noreferrer",title:e("etherscanView")},r.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-muted)"},title:e("etherscanView")}))))}render(){const{t:e}=this.context;return r.default.createElement(i.default,{headerText:`${e("removeAccount")}?`,onClose:this.handleCancel,onSubmit:this.handleRemove,onCancel:this.handleCancel,submitText:e("remove"),cancelText:e("nevermind")},r.default.createElement("div",null,this.renderSelectedAccount(),r.default.createElement("div",{className:"confirm-remove-account__description"},e("removeAccountDescription"),r.default.createElement("a",{className:"confirm-remove-account__link",rel:"noopener noreferrer",target:"_blank",href:c.default.IMPORTED_ACCOUNTS},e("learnMore")))))}}n.default=m,f(m,"propTypes",{hideModal:a.default.func.isRequired,removeAccount:a.default.func.isRequired,identity:a.default.object.isRequired,chainId:a.default.string.isRequired,rpcPrefs:a.default.object.isRequired}),f(m,"contextTypes",{t:a.default.func,trackEvent:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.component.js"}],[4552,{"../../../../helpers/higher-order-components/with-modal-props":5110,"../../../../selectors":5478,"../../../../store/actions":5486,"./confirm-remove-account.component":4551,"react-redux":4041,redux:4109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=u(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=e("../../../../store/actions"),l=u(e("./confirm-remove-account.component"));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.compose)(o.default,(0,r.connect)((e=>({chainId:(0,i.getCurrentChainId)(e),rpcPrefs:(0,i.getRpcPrefsForCurrentProvider)(e)})),(e=>({removeAccount:t=>e((0,s.removeAccount)(t))}))))(l.default);n.default=c}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.container.js"}],[4553,{"./confirm-remove-account.container":4552},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./confirm-remove-account.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/index.js"}],[4554,{"../../modal":4544,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=l(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(...e){super(...e),u(this,"handleReset",(()=>{this.props.resetAccount().then((()=>this.props.hideModal()))}))}render(){const{t:e}=this.context;return a.default.createElement(i.default,{onSubmit:this.handleReset,onCancel:()=>this.props.hideModal(),submitText:e("clear"),cancelText:e("nevermind"),submitType:"danger-primary"},a.default.createElement(i.ModalContent,{title:`${e("clearActivity")}?`,description:e("clearActivityDescription")}))}}n.default=c,u(c,"propTypes",{hideModal:o.default.func.isRequired,resetAccount:o.default.func.isRequired}),u(c,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.component.js"}],[4555,{"../../../../helpers/higher-order-components/with-modal-props":5110,"../../../../store/actions":5486,"./confirm-reset-account.component":4554,"react-redux":4041,redux:4109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-reset-account.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,a.compose)(o.default,(0,r.connect)(null,(e=>({resetAccount:()=>e((0,i.resetAccount)())}))))(s.default);n.default=u}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.container.js"}],[4556,{"./confirm-reset-account.container":4555},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./confirm-reset-account.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/index.js"}],[4557,{"../../../../../shared/constants/transaction":4366,"../../../../helpers/constants/design-system":5092,"../../../../hooks/useCopyToClipboard":5149,"../../../../hooks/useI18nContext":5156,"../../../../pages/send/send.utils":5339,"../../../../selectors":5478,"../../../component-library":4822,"../../../ui/box":4931,"../../../ui/button/button.component":4934,"../../../ui/identicon":4985,"../../../ui/nft-collection-image/nft-collection-image":5009,"../../../ui/popover":5020,"../../../ui/tooltip/tooltip":5058,"@metamask/etherscan-link":1273,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=w;var r=_(e("react")),a=_(e("prop-types")),o=e("@metamask/etherscan-link"),i=e("react-redux"),s=_(e("../../../ui/box")),l=_(e("../../../ui/button/button.component")),u=_(e("../../../ui/tooltip/tooltip")),c=e("../../../../hooks/useI18nContext"),d=_(e("../../../ui/identicon")),p=e("../../../../pages/send/send.utils"),f=_(e("../../../ui/popover")),m=e("../../../../helpers/constants/design-system"),h=e("../../../../hooks/useCopyToClipboard"),g=e("../../../../selectors"),y=e("../../../../../shared/constants/transaction"),v=_(e("../../../ui/nft-collection-image/nft-collection-image")),b=e("../../../component-library");function _(e){return e&&e.__esModule?e:{default:e}}function w({onClose:e,tokenName:t,tokenAddress:n,toAddress:a,chainId:_,rpcPrefs:w,tokenId:T,assetName:x,assetStandard:E,isContractRequestingSignature:k}){var C,P;const O=(0,c.useI18nContext)(),[S,j]=(0,h.useCopyToClipboard)(),[M,N]=(0,h.useCopyToClipboard)(),I=(0,i.useSelector)((e=>({data:(0,g.getAddressBookEntry)(e,a)}))),R=E===y.TokenStandard.ERC721||E===y.TokenStandard.ERC1155||x&&T||t&&T;return r.default.createElement(f.default,{className:"contract-details-modal"},r.default.createElement(s.default,{paddingTop:6,paddingRight:4,paddingBottom:8,paddingLeft:4,className:"contract-details-modal__content"},r.default.createElement(b.Text,{fontWeight:m.FontWeight.Bold,variant:m.TextVariant.bodyMd,as:"h5",display:m.Display.Flex},O("contractTitle")),r.default.createElement(b.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.Display.Flex,color:m.TextColor.textAlternative,marginTop:2},O("contractDescription")),!k&&r.default.createElement(r.default.Fragment,null,r.default.createElement(b.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.Display.Flex,marginTop:4,marginBottom:2},O(R?"contractNFT":"contractToken")),r.default.createElement(s.default,{display:m.Display.Flex,borderRadius:m.Size.SM,borderStyle:m.BorderStyle.solid,borderColor:m.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},R?r.default.createElement(s.default,{margin:4},r.default.createElement(v.default,{assetName:x,tokenAddress:n})):r.default.createElement(d.default,{className:"contract-details-modal__content__contract__identicon",address:n,diameter:24}),r.default.createElement(s.default,{"data-testid":"recipient"},r.default.createElement(b.Text,{fontWeight:m.FontWeight.Bold,variant:m.TextVariant.bodyMd,as:"h5",marginTop:4},t||(0,p.ellipsify)(n)),t&&r.default.createElement(b.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.Display.Flex,color:m.TextColor.textAlternative,marginBottom:4},(0,p.ellipsify)(n))),r.default.createElement(s.default,{alignItems:m.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},r.default.createElement(u.default,{position:"top",title:O(S?"copiedExclamation":"copyToClipboard")},r.default.createElement(b.ButtonIcon,{display:m.Display.Flex,iconName:S?b.IconName.CopySuccess:b.IconName.Copy,onClick:()=>j(n),color:m.Color.iconMuted,ariaLabel:O(S?"copiedExclamation":"copyToClipboard")})),r.default.createElement(u.default,{position:"top",title:O("openInBlockExplorer")},r.default.createElement(b.ButtonIcon,{display:m.Display.Flex,iconName:b.IconName.Export,color:m.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(n,_,{blockExplorerUrl:(null==w?void 0:w.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:O("openInBlockExplorer")}))))),r.default.createElement(b.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.Display.Flex,marginTop:4,marginBottom:2},R&&O("contractRequestingAccess"),k&&O("contractRequestingSignature"),!R&&!k&&O("contractRequestingSpendingCap")),r.default.createElement(s.default,{display:m.Display.Flex,borderRadius:m.Size.SM,borderStyle:m.BorderStyle.solid,borderColor:m.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},r.default.createElement(d.default,{className:"contract-details-modal__content__contract__identicon",diameter:24,address:a}),r.default.createElement(s.default,{"data-testid":"recipient"},r.default.createElement(b.Text,{fontWeight:m.FontWeight.Bold,variant:m.TextVariant.bodyMd,as:"h5",marginTop:4},(null==I||null===(C=I.data)||void 0===C?void 0:C.name)||(0,p.ellipsify)(a)),(null==I||null===(P=I.data)||void 0===P?void 0:P.name)&&r.default.createElement(b.Text,{variant:m.TextVariant.bodySm,as:"h6",display:m.Display.Flex,color:m.TextColor.textAlternative,marginBottom:4},(0,p.ellipsify)(a))),r.default.createElement(s.default,{alignItems:m.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},r.default.createElement(u.default,{position:"top",title:O(M?"copiedExclamation":"copyToClipboard")},r.default.createElement(b.ButtonIcon,{display:m.Display.Flex,iconName:M?b.IconName.CopySuccess:b.IconName.Copy,onClick:()=>N(a),color:m.Color.iconMuted,ariaLabel:O(S?"copiedExclamation":"copyToClipboard")})),r.default.createElement(u.default,{position:"top",title:O("openInBlockExplorer")},r.default.createElement(b.ButtonIcon,{display:m.Display.Flex,iconName:b.IconName.Export,color:m.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(a,_,{blockExplorerUrl:(null==w?void 0:w.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:O("openInBlockExplorer")}))))),r.default.createElement(s.default,{display:m.Display.Flex,paddingTop:6,paddingRight:4,paddingBottom:6,paddingLeft:4},r.default.createElement(l.default,{type:"primary",onClick:()=>e()},O("recoveryPhraseReminderConfirm"))))}w.propTypes={onClose:a.default.func,tokenName:a.default.string,tokenAddress:a.default.string,toAddress:a.default.string,chainId:a.default.string,rpcPrefs:a.default.object,tokenId:a.default.string,assetStandard:a.default.string,assetName:a.default.string,isContractRequestingSignature:a.default.bool}}}},{package:"$root$",file:"ui/components/app/modals/contract-details-modal/contract-details-modal.js"}],[4558,{"./contract-details-modal":4557},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./contract-details-modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/contract-details-modal/index.js"}],[4559,{"../../../../../shared/modules/string-utils":4393,"../../../../ducks/metamask/metamask":5084,"../../../../helpers/constants/design-system":5092,"../../../../helpers/constants/routes":5097,"../../../../helpers/higher-order-components/with-modal-props":5110,"../../../../hooks/useI18nContext":5156,"../../../../store/actions":5486,"../../../ui/typography":5061,"../../modal":4544,"prop-types":3823,react:4076,"react-redux":4041,"react-router-dom":4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=g(e("react")),a=g(e("prop-types")),o=e("react-router-dom"),i=e("react-redux"),s=g(e("../../modal")),l=g(e("../../../ui/typography")),u=e("../../../../helpers/constants/design-system"),c=g(e("../../../../helpers/higher-order-components/with-modal-props")),d=e("../../../../hooks/useI18nContext"),p=e("../../../../helpers/constants/routes"),f=e("../../../../ducks/metamask/metamask"),m=e("../../../../store/actions"),h=e("../../../../../shared/modules/string-utils");function g(e){return e&&e.__esModule?e:{default:e}}const y=({hideModal:e,tokenAddress:t})=>{const n=(0,o.useHistory)(),a=(0,d.useI18nContext)(),c=(0,i.useDispatch)(),g=(0,i.useSelector)(f.getNfts).find((({address:e})=>(0,h.isEqualCaseInsensitive)(e,t)));return r.default.createElement(s.default,{onSubmit:async()=>{if(g){await c((0,m.ignoreTokens)({tokensToIgnore:t,dontShowLoadingIndicator:!0}));const{tokenId:e}=g;n.push({pathname:`${p.ASSET_ROUTE}/${t}/${e}`})}else c((0,m.showImportNftsModal)());e()},submitText:a("yes"),onCancel:()=>e(),cancelText:a("cancel")},r.default.createElement("div",{className:"convert-token-to-nft-modal"},r.default.createElement(l.default,{variant:u.TypographyVariant.H6,boxProps:{marginTop:2}},a(g?"convertTokenToNFTExistDescription":"convertTokenToNFTDescription"))))};y.propTypes={hideModal:a.default.func.isRequired,tokenAddress:a.default.string};var v=(0,c.default)(y);n.default=v}}},{package:"$root$",file:"ui/components/app/modals/convert-token-to-nft-modal/convert-token-to-nft-modal.js"}],[4560,{"../../../../helpers/constants/design-system":5092,"../../../../helpers/constants/zendesk-url":5102,"../../../../helpers/higher-order-components/with-modal-props":5110,"../../../../hooks/useI18nContext":5156,"../../../component-library":4822,"../../../ui/text-field":5046,"../../modal":4544,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=p(e("prop-types")),o=p(e("../../modal")),i=p(e("../../../ui/text-field")),s=e("../../../../helpers/constants/design-system"),l=p(e("../../../../helpers/higher-order-components/with-modal-props")),u=e("../../../../hooks/useI18nContext"),c=p(e("../../../../helpers/constants/zendesk-url")),d=e("../../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=({hideModal:e,customNonceValue:t,nextNonce:n,updateCustomNonce:a,getNextNonce:l})=>{const[p,f]=(0,r.useState)(""),m=(0,u.useI18nContext)();return r.default.createElement(o.default,{onSubmit:()=>{a(""===p?t:p),l(),e()},submitText:m("save"),onCancel:()=>e(),cancelText:m("cancel"),contentClass:"customize-nonce-modal-content",containerClass:"customize-nonce-modal-container"},r.default.createElement("div",{className:"customize-nonce-modal"},r.default.createElement("div",{className:"customize-nonce-modal__main-header"},r.default.createElement(d.Text,{className:"customize-nonce-modal__main-title",variant:s.TextVariant.headingSm,as:"h4"},m("editNonceField")),r.default.createElement(d.ButtonIcon,{iconName:d.IconName.Close,className:"customize-nonce-modal__close",size:d.ButtonIconSize.Sm,ariaLabel:m("close"),onClick:e})),r.default.createElement(d.Box,{marginTop:2,display:s.Display.InlineFlex,alignItems:s.AlignItems.center},r.default.createElement(d.Text,{variant:s.TextVariant.bodyMd,as:"h6"},m("editNonceMessage"),r.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__link",rel:"noopener noreferrer",target:"_blank",href:c.default.CUSTOMIZE_NONCE},m("learnMoreUpperCase")))),r.default.createElement(d.Box,{marginTop:4},r.default.createElement(d.Box,{alignItems:s.AlignItems.center,display:s.Display.Flex},r.default.createElement(d.Text,{variant:s.TextVariant.bodyMdBold,as:"h6",width:s.BlockSize.FiveSixths},m("editNonceField")),r.default.createElement(d.Box,{width:s.BlockSize.OneSixth},r.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__reset","data-testid":"customize-nonce-reset",onClick:()=>{f(n)}},m("reset")))),r.default.createElement("div",{className:"customize-nonce-modal__input"},r.default.createElement(i.default,{type:"number","data-testid":"custom-nonce-input",min:"0",placeholder:t||"number"==typeof n&&n.toString(),onChange:e=>{f(e.target.value)},fullWidth:!0,margin:"dense",value:p,id:"custom-nonce-id"})))))};m.propTypes={hideModal:a.default.func.isRequired,customNonceValue:a.default.string,nextNonce:a.default.number,updateCustomNonce:a.default.func,getNextNonce:a.default.func};var h=(0,l.default)(m);n.default=h}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/customize-nonce.component.js"}],[4561,{"./customize-nonce.component":4560},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./customize-nonce.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/index.js"}],[4562,{"../../../../../shared/lib/transactions-controller-utils":4374,"../../../component-library":4822,"../../../ui/identicon":4985,"../../../ui/text-field":5046,"../../modal":4544,"bignumber.js":2428,classnames:2582,loglevel:3688,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=f(e("prop-types")),o=f(e("loglevel")),i=f(e("classnames")),s=f(e("bignumber.js")),l=f(e("../../modal")),u=f(e("../../../ui/identicon")),c=f(e("../../../ui/text-field")),d=e("../../../../../shared/lib/transactions-controller-utils"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=new s.default(2).pow(256).minus(1).toString(10);class y extends r.PureComponent{constructor(...e){super(...e),h(this,"state",{customSpendLimit:this.props.customTokenAmount||"",selectedOptionIsUnlimited:!this.props.customTokenAmount})}renderModalContent(e){const{t:t}=this.context,{hideModal:n,selectedIdentity:a,tokenAmount:o,tokenSymbol:l,tokenBalance:f,customTokenAmount:m,origin:h}=this.props,{name:y,address:v}=a||{},{selectedOptionIsUnlimited:b}=this.state;return r.default.createElement("div",{className:"edit-approval-permission"},r.default.createElement("div",{className:"edit-approval-permission__header"},r.default.createElement("div",{className:"edit-approval-permission__title"},t("editPermission")),r.default.createElement(p.ButtonIcon,{iconName:p.IconName.Close,size:p.ButtonIconSize.Lg,className:"edit-approval-permission__header__close",onClick:n})),r.default.createElement("div",{className:"edit-approval-permission__account-info"},r.default.createElement("div",{className:"edit-approval-permission__account-info__account"},r.default.createElement(u.default,{address:v,diameter:32}),r.default.createElement("div",{className:"edit-approval-permission__name-and-balance-container"},r.default.createElement("div",{className:"edit-approval-permission__account-info__name"},y),r.default.createElement("div",null,t("balance")))),r.default.createElement("div",{className:"edit-approval-permission__account-info__balance"},`${(0,d.toPrecisionWithoutTrailingZeros)(f,9)} ${l}`)),r.default.createElement("div",{className:"edit-approval-permission__edit-section"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__title"},t("spendLimitPermission")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__description"},t("allowWithdrawAndSpend",[h])),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!0})},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":!b,"edit-approval-permission__edit-section__radio-button-outline--selected":b})}),r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),b&&r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":!b,"edit-approval-permission__edit-section__option-label--selected":b})},new s.default(o).equals(new s.default(g))?t("unlimited"):t("proposedApprovalLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("spendLimitRequestedBy",[h])),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-value"},`${Number(o)} ${l}`))),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!1})},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":b,"edit-approval-permission__edit-section__radio-button-outline--selected":!b})}),r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),!b&&r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":b,"edit-approval-permission__edit-section__option-label--selected":!b})},t("customSpendLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("enterMaxSpendLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-input"},r.default.createElement(c.default,{type:"number",placeholder:`${Number(m||o)} ${l}`,onChange:e=>{this.setState({customSpendLimit:e.target.value}),b&&this.setState({selectedOptionIsUnlimited:!1})},fullWidth:!0,margin:"dense",value:this.state.customSpendLimit,error:e}))))))}validateSpendLimit(){const{t:e}=this.context,{decimals:t,requiredMinimum:n}=this.props,{selectedOptionIsUnlimited:r,customSpendLimit:a}=this.state;if(r||!a)return undefined;let i;try{i=new s.default(a)}catch(t){return o.default.debug(`Error converting '${a}' to BigNumber:`,t),e("spendLimitInvalid")}if(i.isNegative())return e("spendLimitInvalid");const l=(0,d.calcTokenAmount)(g,t);return i.greaterThan(l)?e("spendLimitTooLarge"):n!==undefined&&i.lessThan(n)?e("spendLimitInsufficient"):undefined}render(){const{t:e}=this.context,{setCustomAmount:t,hideModal:n,customTokenAmount:a}=this.props,{selectedOptionIsUnlimited:o,customSpendLimit:i}=this.state,s=this.validateSpendLimit(),u=Boolean(i===a&&!o||s);return r.default.createElement(l.default,{onSubmit:()=>{t(o?"":i),n()},submitText:e("save"),contentClass:"edit-approval-permission-modal-content",containerClass:"edit-approval-permission-modal-container",submitDisabled:u},this.renderModalContent(s))}}n.default=y,h(y,"propTypes",{decimals:a.default.number,hideModal:a.default.func.isRequired,selectedIdentity:a.default.object,tokenAmount:a.default.string,customTokenAmount:a.default.string,tokenSymbol:a.default.string,tokenBalance:a.default.string,setCustomAmount:a.default.func,origin:a.default.string.isRequired,requiredMinimum:a.default.instanceOf(s.default)}),h(y,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.component.js"}],[4563,{"../../../../helpers/higher-order-components/with-modal-props":5110,"../../../../selectors":5478,"./edit-approval-permission.component":4562,"react-redux":4041,redux:4109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=l(e("./edit-approval-permission.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,a.compose)(o.default,(0,r.connect)((e=>{const t=e.appState.modal.modalState.props||{};return{selectedIdentity:(0,i.getSelectedIdentity)(e),...t}})))(s.default);n.default=u}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.container.js"}],[4564,{"./edit-approval-permission.container":4563},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./edit-approval-permission.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/index.js"}],[4565,{"../../../../../shared/constants/metametrics":4353,"../../../../contexts/metametrics":5070,"../../../../helpers/constants/design-system":5092,"../../../../helpers/higher-order-components/with-modal-props":5110,"../../../../hooks/useI18nContext":5156,"../../../../selectors":5478,"../../../../store/actions":5486,"../../../component-library":4822,"../../../ui/box":4931,"../../../ui/check-box":4939,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=g(e("prop-types")),o=e("react-redux"),i=g(e("../../../../helpers/higher-order-components/with-modal-props")),s=g(e("../../../ui/box")),l=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),d=g(e("../../../ui/check-box")),p=e("../../../../store/actions"),f=e("../../../../selectors"),m=e("../../../../../shared/constants/metametrics"),h=e("../../../../contexts/metametrics");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const v=({hideModal:e})=>{const[t,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[g,y]=(0,r.useState)(""),v=(0,o.useSelector)(f.getDisabledRpcMethodPreferences),b=(0,c.useI18nContext)(),_=(0,o.useDispatch)(),w=(0,r.useContext)(h.MetaMetricsContext),T=g===b("toggleEthSignModalFormValidation");return r.default.createElement(s.default,{className:"eth-sign-modal",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.flexStart,padding:4},r.default.createElement(s.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,marginBottom:4,justifyContent:u.JustifyContent.center},r.default.createElement(l.Icon,{className:"eth-sign-modal__warning-icon",name:l.IconName.Danger,color:u.IconColor.errorDefault,size:l.IconSize.Lg}),r.default.createElement(l.ButtonIcon,{className:"eth-sign-modal__close",iconName:l.IconName.Close,size:u.Size.SM,onClick:()=>e(),ariaLabel:b("close")})),r.default.createElement(l.Text,{variant:u.TextVariant.headingMd,textAlign:u.TextAlign.Center,marginBottom:6},b("toggleEthSignModalTitle")),r.default.createElement(l.Text,{variant:u.TextVariant.bodyMd},b("toggleEthSignModalDescription"),r.default.createElement(l.ButtonLink,{href:"https://support.metamask.io/hc/en-us/articles/14764161421467",externalLink:!0},b("learnMoreUpperCase"))),r.default.createElement(l.BannerAlert,{severity:u.Severity.Danger,marginTop:6,marginBottom:6},b("toggleEthSignModalBannerText"),b("toggleEthSignModalBannerBoldText")),a?r.default.createElement(l.FormTextField,{id:"enter-eth-sign-text",label:b("toggleEthSignModalFormLabel"),error:g.length>0&&!T,helpText:g.length>0&&!T&&b("toggleEthSignModalFormError"),onChange:e=>y(e.target.value),value:g,onPaste:e=>e.preventDefault()}):r.default.createElement(s.default,{flexDirection:u.FlexDirection.Row,alignItems:u.AlignItems.flexStart,gap:2},r.default.createElement(d.default,{id:"eth-sign__checkbox",className:"eth-sign__checkbox",dataTestId:"eth-sign__checkbox",checked:t,onClick:()=>{n(!t)}}),r.default.createElement(l.Label,{htmlFor:"eth-sign__checkbox"},r.default.createElement(l.Text,{variant:u.TextVariant.bodyMd,as:"span"},b("toggleEthSignModalCheckBox")))),r.default.createElement(s.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,gap:4,marginTop:6},r.default.createElement(l.ButtonSecondary,{onClick:()=>e(),size:l.ButtonSecondarySize.Lg,block:!0},b("cancel")),a?r.default.createElement(l.ButtonPrimary,{danger:!0,block:!0,disabled:!T,onClick:()=>{_((0,p.setDisabledRpcMethodPreference)("eth_sign",!v.eth_sign)),e()},size:u.Size.LG},b("enableSnap")):r.default.createElement(l.ButtonPrimary,{block:!0,disabled:!t,size:u.Size.LG,onClick:()=>{i(!0),w({category:m.MetaMetricsEventCategory.Settings,event:m.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{location:"Settings",enable_eth_sign:!0}})}},b("continue"))))};v.propTypes={hideModal:a.default.func};var b=(0,i.default)(v);n.default=b}}},{package:"$root$",file:"ui/components/app/modals/eth-sign-modal/eth-sign-modal.js"}],[4566,{"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l,u=0;const c=e=>{const t=`anim_${++u}${Number(new Date)}`;let n=`@keyframes ${t} {`;return Object.keys(e).forEach((t=>{n+=`${t} {`,Object.keys(e[t]).forEach((r=>{const a=`:${e[t][r]};`;n+=r+a})),n+="}"})),n+="}",(e=>{l||(l=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(l),l=l.sheet||l.styleSheet),l.insertRule(e,(l.cssRules||l.rules).length)})(n),t},d={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:c({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:c({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:c({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:c({"0%":{opacity:.9},"100%":{opacity:0}})},p=["transitionend","animationend"];class f extends a.Component{constructor(...e){super(...e),s(this,"content",null),s(this,"state",{willHide:!0,hidden:!0}),s(this,"addTransitionListener",((e,t)=>{if(e){const n=function(r){r&&r.target!==e||(((e,t)=>{0!==p.length&&p.forEach((function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)}))})(e,n),t())};((e,t)=>{0!==p.length?p.forEach((function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)})):window.setTimeout(t,0)})(e,n)}})),s(this,"handleBackdropClick",(()=>{this.props.closeOnClick&&this.hide()})),s(this,"hasHidden",(()=>this.state.hidden)),s(this,"leave",(()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)})),s(this,"enter",(()=>{this.props.onShow()})),s(this,"show",(()=>{this.state.hidden&&(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))})),s(this,"hide",(()=>{this.hasHidden()||this.setState({willHide:!0})})),s(this,"listenKeyboard",(e=>{"function"==typeof this.props.keyboard?this.props.keyboard(e):this.closeOnEsc(e)})),s(this,"closeOnEsc",(e=>{!this.props.keyboard||"Escape"!==e.key&&27!==e.keyCode||this.hide()})),s(this,"UNSAFE_componentDidMount",(()=>{window.addEventListener("keydown",this.listenKeyboard,!0)})),s(this,"UNSAFE_componentWillUnmount",(()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)}))}render(){if(this.state.hidden)return null;const{willHide:e}=this.state,{modalStyle:t}=this.props,n={animationName:e?d.hideBackdropAnimation:d.showBackdropAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.backdropStyle},r={animationDuration:(e?d.hide:d.show).animationDuration,animationName:e?d.hideContentAnimation:d.showContentAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.contentStyle},o=this.props.backdrop?a.default.createElement("div",{className:"modal__backdrop",style:n,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):undefined;return e&&this.addTransitionListener(this.content,this.leave),a.default.createElement("span",null,a.default.createElement("div",{className:"modal",style:t},a.default.createElement("div",{className:"modal__content",ref:e=>this.content=e,tabIndex:"-1",style:r},this.props.children)),o)}}s(f,"propTypes",{backdrop:o.default.bool,backdropStyle:o.default.object,closeOnClick:o.default.bool,contentStyle:o.default.object,keyboard:o.default.bool,modalStyle:o.default.object,onShow:o.default.func,onHide:o.default.func,children:o.default.node}),s(f,"defaultProps",{onShow:()=>undefined,onHide:()=>undefined,keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/modals/fade-modal.js"}],[4567,{"../../../../helpers/constants/routes":5097,"../../../../store/actions":5486,"../../../ui/button":4935,"../../../ui/identicon":4985,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=p(e("prop-types")),a=d(e("react")),o=e("react-redux"),i=d(e("../../../../store/actions")),s=p(e("../../../ui/identicon")),l=p(e("../../../ui/button")),u=e("../../../../helpers/constants/routes");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{constructor(...e){super(...e),f(this,"state",{})}render(){const{token:e,hideToken:t,hideModal:n,history:r}=this.props,{symbol:o,address:i,image:c}=e;return a.default.createElement("div",{className:"hide-token-confirmation"},a.default.createElement("div",{className:"hide-token-confirmation__container"},a.default.createElement("div",{className:"hide-token-confirmation__title"},this.context.t("hideTokenPrompt")),a.default.createElement(s.default,{className:"hide-token-confirmation__identicon",diameter:45,address:i,image:c}),a.default.createElement("div",{className:"hide-token-confirmation__symbol"},o),a.default.createElement("div",{className:"hide-token-confirmation__copy"},this.context.t("readdToken")),a.default.createElement("div",{className:"hide-token-confirmation__buttons"},a.default.createElement(l.default,{type:"secondary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__cancel",onClick:()=>n()},this.context.t("cancel")),a.default.createElement(l.default,{type:"primary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__hide",onClick:()=>{t(i),r.push(u.DEFAULT_ROUTE)}},this.context.t("hide")))))}}f(m,"contextTypes",{t:r.default.func}),f(m,"propTypes",{hideToken:r.default.func.isRequired,hideModal:r.default.func.isRequired,token:r.default.shape({symbol:r.default.string,address:r.default.string,image:r.default.string}),history:r.default.object});var h=(0,o.connect)((function(e){return{token:e.appState.modal.modalState.props.token,history:e.appState.modal.modalState.props.history}}),(function(e){return{hideModal:()=>e(i.hideModal()),hideToken:t=>{e(i.ignoreTokens({tokensToIgnore:t})).then((()=>{e(i.hideModal())}))}}}))(m);n.default=h}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/hide-token-confirmation-modal.js"}],[4568,{"./hide-token-confirmation-modal":4567},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./hide-token-confirmation-modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/index.js"}],[4569,{"../../../../helpers/constants/design-system":5092,"../../../../helpers/constants/zendesk-url":5102,"../../../../hooks/useI18nContext":5156,"../../../component-library":4822,"../../hold-to-reveal-button":4521,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({isOpen:e,onClose:t,onLongPressed:n,holdToRevealType:u}){const c=(0,i.useI18nContext)(),d="SRP"===u?"holdToRevealSRPTitle":"holdToRevealPrivateKeyTitle",p="SRP"===u?"holdToRevealSRP":"holdToRevealPrivateKey",f="SRP"===u?"holdToRevealContent":"holdToRevealContentPrivateKey",m=`${f}1`,h=`${f}2`;c("holdToRevealContentPrivateKey1"),c("holdToRevealContentPrivateKey2"),c("holdToRevealContent1"),c("holdToRevealContent2");const g=()=>r.default.createElement(s.Box,{display:a.Display.Flex,flexDirection:a.FlexDirection.Column,gap:4,marginTop:6,marginBottom:6},r.default.createElement(s.Text,{variant:a.TextVariant.bodyMd},c(m,[r.default.createElement(s.Text,{key:"hold-to-reveal-2",variant:a.TextVariant.bodyMdBold,as:"span"},c(h))])),r.default.createElement(s.Text,{variant:a.TextVariant.bodyMdBold},c("holdToRevealContent3",[r.default.createElement(s.Text,{key:"hold-to-reveal-4",variant:a.TextVariant.bodyMd,as:"span",display:a.Display.Inline},c("holdToRevealContent4")),r.default.createElement(s.Button,{key:"hold-to-reveal-5",variant:s.ButtonVariant.Link,size:s.ButtonSize.Inherit,href:o.default.NON_CUSTODIAL_WALLET,externalLink:!0},c("holdToRevealContent5"))])));return r.default.createElement(s.Modal,{isOpen:e,onClose:t},r.default.createElement(s.ModalOverlay,null),r.default.createElement(s.ModalContent,null,r.default.createElement(s.ModalHeader,{onClose:t},c(d)),r.default.createElement(s.Box,{display:a.Display.Flex,flexDirection:a.FlexDirection.Column},r.default.createElement(g,null),r.default.createElement(l.default,{buttonText:c(p),onLongPressed:n}))))};var r=u(e("react")),a=e("../../../../helpers/constants/design-system"),o=u(e("../../../../helpers/constants/zendesk-url")),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),l=u(e("../../hold-to-reveal-button"));function u(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.tsx"}],[4570,{"./modal":4571},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/index.js"}],[4571,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4346,"../../../helpers/utils/is-mobile-view":5122,"../../../pages/onboarding-flow/add-network-modal":5264,"../../../store/actions":5486,"./confirm-delete-network":4550,"./confirm-remove-account":4553,"./confirm-reset-account":4556,"./convert-token-to-nft-modal/convert-token-to-nft-modal":4559,"./customize-nonce":4561,"./edit-approval-permission":4564,"./eth-sign-modal/eth-sign-modal":4565,"./fade-modal":4566,"./hide-token-confirmation-modal":4568,"./new-account-modal":4572,"./qr-scanner":4577,"./reject-transactions":4580,"./transaction-confirmed":4583,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=C(e("prop-types")),a=k(e("react")),o=e("react-redux"),i=e("../../../../app/scripts/lib/util"),s=e("../../../../shared/constants/app"),l=C(e("../../../helpers/utils/is-mobile-view")),u=k(e("../../../store/actions")),c=C(e("../../../pages/onboarding-flow/add-network-modal")),d=C(e("./hide-token-confirmation-modal")),p=C(e("./qr-scanner")),f=C(e("./confirm-remove-account")),m=C(e("./confirm-reset-account")),h=C(e("./transaction-confirmed")),g=C(e("./confirm-delete-network")),y=C(e("./convert-token-to-nft-modal/convert-token-to-nft-modal")),v=C(e("./customize-nonce")),b=C(e("./edit-approval-permission")),_=C(e("./eth-sign-modal/eth-sign-modal")),w=C(e("./fade-modal")),T=C(e("./new-account-modal")),x=C(e("./reject-transactions"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function C(e){return e&&e.__esModule?e:{default:e}}const P={transform:"translate3d(-50%, 0, 0px)",border:"1px solid var(--color-border-default)",borderRadius:"8px",backgroundColor:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"},O={...P,width:"344px",top:"15%"},S={...P,width:"309px",top:"12.5%"},j={ONBOARDING_ADD_NETWORK:{contents:a.default.createElement(c.default,null),mobileModalStyle:{width:"95%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"335px",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},contentStyle:{borderRadius:"4px"}},NEW_ACCOUNT:{contents:a.default.createElement(T.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},HIDE_TOKEN_CONFIRMATION:{contents:a.default.createElement(d.default,null),mobileModalStyle:{width:"95%",top:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"52vh":"36.5vh"},laptopModalStyle:{width:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"357px":"449px",top:"calc(33% + 45px)",paddingLeft:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null,paddingRight:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null}},CONFIRM_RESET_ACCOUNT:{contents:a.default.createElement(m.default,null),mobileModalStyle:{...S},laptopModalStyle:{...O},contentStyle:{borderRadius:"8px"}},ETH_SIGN:{contents:a.default.createElement(_.default,null),mobileModalStyle:{...S},laptopModalStyle:{...O},contentStyle:{borderRadius:"8px"}},CONFIRM_REMOVE_ACCOUNT:{contents:a.default.createElement(f.default,null),mobileModalStyle:{...S},laptopModalStyle:{...O},contentStyle:{borderRadius:"8px"}},CONVERT_TOKEN_TO_NFT:{contents:a.default.createElement(y.default,null),mobileModalStyle:{...S},laptopModalStyle:{...O},contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_NETWORK:{contents:a.default.createElement(g.default,null),mobileModalStyle:{...S},laptopModalStyle:{...O},contentStyle:{borderRadius:"8px"}},EDIT_APPROVAL_PERMISSION:{contents:a.default.createElement(b.default,null),mobileModalStyle:{width:"95vw",height:"100vh",top:"50px",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},TRANSACTION_CONFIRMED:{disableBackdropClick:!0,contents:a.default.createElement(h.default,null),mobileModalStyle:{...S},laptopModalStyle:{...O},contentStyle:{borderRadius:"8px"}},QR_SCANNER:{contents:a.default.createElement(p.default,null),mobileModalStyle:{...S},laptopModalStyle:{...O},contentStyle:{borderRadius:"8px"}},REJECT_TRANSACTIONS:{contents:a.default.createElement(x.default,null),mobileModalStyle:{...S},laptopModalStyle:{...O},contentStyle:{borderRadius:"8px"}},CUSTOMIZE_NONCE:{contents:a.default.createElement(v.default,null),mobileModalStyle:{...S},laptopModalStyle:{...O},contentStyle:{borderRadius:"8px"}},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},M={backgroundColor:"var(--color-overlay-default)"};class N extends a.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(e,t){e.active?this.show():this.props.active&&this.hide()}render(){const e=j[this.props.modalState.name||"DEFAULT"],{contents:t,disableBackdropClick:n=!1}=e,r=e[(0,l.default)()?"mobileModalStyle":"laptopModalStyle"],o=e.contentStyle||{};return a.default.createElement(w.default,{keyboard:!1,onHide:()=>{e.onHide&&e.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(e.customOnHideOpts)},ref:e=>{this.modalRef=e},modalStyle:r,contentStyle:o,backdropStyle:M,closeOnClick:!n},t)}}var I,R,D;I=N,R="propTypes",D={active:r.default.bool.isRequired,hideModal:r.default.func.isRequired,hideWarning:r.default.func.isRequired,modalState:r.default.object.isRequired},(R=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(R))in I?Object.defineProperty(I,R,{value:D,enumerable:!0,configurable:!0,writable:!0}):I[R]=D;var A=(0,o.connect)((function(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}}),(function(e){return{hideModal:t=>{e(u.hideModal()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(u.hideWarning())}}}))(N);n.default=A}}},{package:"$root$",file:"ui/components/app/modals/modal.js"}],[4572,{"./new-account-modal.container":4574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./new-account-modal.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/index.js"}],[4573,{"../../../component-library":4822,"../../../ui/button/button.component":4934,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=s(e("prop-types")),o=s(e("../../../ui/button/button.component")),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.Component{constructor(...e){super(...e),u(this,"state",{alias:this.context.t("newAccountNumberName",[this.props.newAccountNumber])}),u(this,"onChange",(e=>{this.setState({alias:e.target.value})})),u(this,"onSubmit",(()=>{this.props.onSave(this.state.alias).then(this.props.hideModal)})),u(this,"onKeyPress",(e=>{"Enter"===e.key&&this.state.alias&&this.onSubmit()}))}render(){const{t:e}=this.context;return r.default.createElement("div",{className:"new-account-modal"},r.default.createElement("div",{className:"new-account-modal__content"},r.default.createElement("div",{className:"new-account-modal__content__header"},e("newAccount"),r.default.createElement(i.ButtonIcon,{className:"new-account-modal__content__header-close",ariaLabel:e("close"),onClick:this.props.hideModal,iconName:i.IconName.Close})),r.default.createElement("div",{className:"new-account-modal__input-label"},e("accountName")),r.default.createElement("input",{type:"text",className:"new-account-modal__input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:this.state.alias,autoFocus:!0})),r.default.createElement("div",{className:"new-account-modal__footer"},r.default.createElement(o.default,{type:"secondary",onClick:this.props.hideModal},e("cancel")),r.default.createElement(o.default,{type:"primary",onClick:this.onSubmit,disabled:!this.state.alias},e("save"))))}}n.default=c,u(c,"contextTypes",{t:a.default.func}),u(c,"propTypes",{hideModal:a.default.func.isRequired,newAccountNumber:a.default.number.isRequired,onSave:a.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.component.js"}],[4574,{"../../../../store/actions":5486,"./new-account-modal.component":4573,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("../../../../store/actions")),i=(r=e("./new-account-modal.component"))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var l=(0,a.connect)((function(e){return{...e.appState.modal.modalState.props||{}}}),(function(e){return{hideModal:()=>e(o.hideModal()),createAccount:t=>e(o.addNewAccount()).then((n=>(t&&e(o.setAccountLabel(n,t)),n)))}}),(function(e,t){const{onCreateNewAccount:n}=e,{createAccount:r}=t;return{...e,...t,onSave:e=>r(e).then((e=>n(e)))}}))(i.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.container.js"}],[4575,{"./nickname-popovers.component":4576},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./nickname-popovers.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/index.js"}],[4576,{"../../../../selectors":5478,"../../../../store/actions":5486,"../../../ui/nickname-popover":5010,"../../../ui/update-nickname-popover/update-nickname-popover":5065,"@metamask/etherscan-link":1273,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=d(e("prop-types")),i=e("@metamask/etherscan-link"),s=e("../../../../store/actions"),l=e("../../../../selectors"),u=d(e("../../../ui/nickname-popover")),c=d(e("../../../ui/update-nickname-popover/update-nickname-popover"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f="SHOW_NICKNAME_POPOVER",m="ADD_NICKNAME_POPOVER",h=({address:e,onClose:t})=>{const n=(0,a.useDispatch)(),[o,d]=(0,r.useState)(f),p=(0,a.useSelector)(l.getAddressBook),h=(0,a.useSelector)(l.getCurrentChainId),g=p.find((t=>t.address===e)),y=null==g?void 0:g.name,v=(0,a.useSelector)(l.getRpcPrefsForCurrentProvider),b=(0,i.getAccountLink)(e,h,{blockExplorerUrl:(null==v?void 0:v.blockExplorerUrl)??null},null);return o===m?r.default.createElement(c.default,{address:e,nickname:y||null,memo:(null==g?void 0:g.memo)||null,onClose:()=>d(f),onAdd:(e,t,r)=>n((0,s.addToAddressBook)(e,t,r))}):r.default.createElement(u.default,{address:e,nickname:y||null,onClose:t,onAdd:()=>d(m),explorerLink:b})};h.propTypes={address:o.default.string,onClose:o.default.func};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/nickname-popovers.component.js"}],[4577,{"./qr-scanner.container":4579},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./qr-scanner.container"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/index.js"}],[4578,{"../../../../../app/scripts/lib/util":82,"../../../../../shared/constants/app":4346,"../../../../../shared/constants/time":4364,"../../../../helpers/utils/util":5133,"../../../../helpers/utils/webcam-utils":5134,"../../../ui/page-container/page-container-footer/page-container-footer.component":5016,"../../../ui/spinner":5038,"@zxing/library":2369,loglevel:3688,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=m(e("prop-types")),o=m(e("loglevel")),i=e("@zxing/library"),s=e("../../../../../app/scripts/lib/util"),l=e("../../../../../shared/constants/app"),u=e("../../../../../shared/constants/time"),c=m(e("../../../ui/spinner")),d=m(e("../../../../helpers/utils/webcam-utils")),p=e("../../../../helpers/utils/util"),f=m(e("../../../ui/page-container/page-container-footer/page-container-footer.component"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y="ACCESSING_CAMERA",v="NEED_TO_ALLOW_ACCESS",b="READY";class _ extends r.Component{constructor(e){super(e),g(this,"checkEnvironment",(async()=>{try{const{environmentReady:e}=await d.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=(0,p.getURL)(window.location.href),t=null==e?void 0:e.hash,n=t?t.substring(1):null;global.platform.openExtensionInBrowser(n)}}catch(e){this.mounted&&this.setState({error:e})}this.initCamera()})),g(this,"checkPermissions",(async()=>{try{const{permissions:e}=await d.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*u.SECOND))),!this.mounted)return;this.setState({ready:b})}else this.mounted&&(this.permissionChecker=setTimeout(this.checkPermissions,u.SECOND))}catch(e){this.mounted&&this.setState({error:e})}})),g(this,"initCamera",(async()=>{this.codeReader||(this.codeReader=new i.BrowserQRCodeReader);try{await this.codeReader.getVideoInputDevices(),this.checkPermissions();const e=await this.codeReader.decodeFromInputVideoDevice(undefined,"video"),t=this.parseContent(e.text);if(!this.mounted)return;"unknown"===t.type?this.setState({error:new Error(this.context.t("unknownQrCode"))}):(this.props.qrCodeDetected(t),this.stopAndClose())}catch(e){if(!this.mounted)return;"NotAllowedError"===e.name?(o.default.info(`Permission denied: '${e}'`),this.setState({ready:v})):this.setState({error:e})}})),g(this,"stopAndClose",(()=>{this.codeReader&&this.teardownCodeReader(),this.props.hideModal()})),g(this,"tryAgain",(()=>{clearTimeout(this.permissionChecker),this.codeReader&&this.teardownCodeReader(),this.setState(this.getInitialState(),(()=>{this.checkEnvironment()}))})),this.state=this.getInitialState(),this.codeReader=null,this.permissionChecker=null,this.mounted=!1,this.props.qrCodeDetected(null)}componentDidMount(){this.mounted=!0,this.checkEnvironment()}componentDidUpdate(e,t){const{ready:n}=this.state;t.ready!==n&&(n===b?this.initCamera():n===v&&this.checkPermissions())}getInitialState(){return{ready:y,error:null}}componentWillUnmount(){this.mounted=!1,clearTimeout(this.permissionChecker),this.teardownCodeReader()}teardownCodeReader(){this.codeReader&&(this.codeReader.reset(),this.codeReader.stop(),this.codeReader=null)}parseContent(e){let t="unknown",n={};return e.split("ethereum:").length>1?(t="address",n={address:e.split("ethereum:")[1]}):"0x"===e.substring(0,2).toLowerCase()&&(t="address",n={address:e}),{type:t,values:n}}renderError(){const{t:e}=this.context,{error:t}=this.state;let n,a;return"NO_WEBCAM_FOUND"===t.type?(n=e("noWebcamFoundTitle"),a=e("noWebcamFound")):t.message===e("unknownQrCode")?a=e("unknownQrCode"):(n=e("unknownCameraErrorTitle"),a=e("unknownCameraError")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__image"},r.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?r.default.createElement("div",{className:"qr-scanner__title"},n):null,r.default.createElement("div",{className:"qr-scanner__error"},a),r.default.createElement(f.default,{onCancel:this.stopAndClose,onSubmit:this.tryAgain,cancelText:e("cancel"),submitText:e("tryAgain")}))}renderVideo(){const{t:e}=this.context,{ready:t}=this.state;let n;return t===y?n=e("accessingYourCamera"):t===b?n=e("scanInstructions"):t===v&&(n=e("youNeedToAllowCameraAccess")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__title"},`${e("scanQrCode")}`),r.default.createElement("div",{className:"qr-scanner__content"},r.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},r.default.createElement("video",{id:"video",style:{display:t===b?"block":"none"}}),t===b?null:r.default.createElement(c.default,{color:"var(--color-warning-default)"}))),r.default.createElement("div",{className:"qr-scanner__status"},n))}render(){const{error:e}=this.state;return r.default.createElement("div",{className:"qr-scanner"},r.default.createElement("div",{className:"qr-scanner__close",onClick:this.stopAndClose}),e?this.renderError():this.renderVideo())}}n.default=_,g(_,"propTypes",{hideModal:a.default.func.isRequired,qrCodeDetected:a.default.func.isRequired}),g(_,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.component.js"}],[4579,{"../../../../store/actions":5486,"./qr-scanner.component":4578,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../../store/actions"),i=(r=e("./qr-scanner.component"))&&r.__esModule?r:{default:r};var s=(0,a.connect)(null,(e=>({hideModal:()=>e((0,o.hideModal)()),qrCodeDetected:t=>e((0,o.qrCodeDetected)(t))})))(i.default);n.default=s}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.container.js"}],[4580,{"./reject-transactions.container":4582},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./reject-transactions.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/index.js"}],[4581,{"../../modal":4544,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=s(e("../../modal"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.PureComponent{constructor(...e){super(...e),l(this,"onSubmit",(async()=>{const{onSubmit:e,hideModal:t}=this.props;await e(),t()}))}render(){const{t:e}=this.context,{hideModal:t,unapprovedTxCount:n,isRequestType:r}=this.props;return a.default.createElement(o.default,{headerText:e(r?"rejectRequestsN":"rejectTxsN",[n]),onClose:t,onSubmit:this.onSubmit,onCancel:t,submitText:e("rejectAll"),cancelText:e("cancel")},a.default.createElement("div",null,a.default.createElement("div",{className:"reject-transactions__description"},e(r?"rejectRequestsDescription":"rejectTxsDescription",[n]))))}}n.default=u,l(u,"contextTypes",{t:r.default.func.isRequired}),l(u,"propTypes",{onSubmit:r.default.func.isRequired,hideModal:r.default.func.isRequired,unapprovedTxCount:r.default.number.isRequired,isRequestType:r.default.bool})}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.component.js"}],[4582,{"../../../../helpers/higher-order-components/with-modal-props":5110,"./reject-transactions.component":4581,"react-redux":4041,redux:4109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),a=e("redux"),o=s(e("../../../../helpers/higher-order-components/with-modal-props")),i=s(e("./reject-transactions.component"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,a.compose)(o.default,(0,r.connect)(((e,t)=>{const{unapprovedTxCount:n}=t;return{unapprovedTxCount:n}})))(i.default);n.default=l}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.container.js"}],[4583,{"./transaction-confirmed.container":4585},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./transaction-confirmed.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/index.js"}],[4584,{"../../../../helpers/constants/design-system":5092,"../../../component-library":4822,"../../modal":4544,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=l(e("prop-types")),o=l(e("../../modal")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.PureComponent{constructor(...e){super(...e),c(this,"handleSubmit",(()=>{const{hideModal:e,onSubmit:t}=this.props;e(),t&&"function"==typeof t&&t()}))}render(){const{t:e}=this.context;return r.default.createElement(o.default,{onSubmit:this.handleSubmit,submitText:e("ok")},r.default.createElement("div",{className:"transaction-confirmed__content"},r.default.createElement(i.Icon,{name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Xl}),r.default.createElement("div",{className:"transaction-confirmed__title"},`${e("confirmed")}!`),r.default.createElement("div",{className:"transaction-confirmed__description"},e("initialTransactionConfirmed"))))}}n.default=d,c(d,"contextTypes",{t:a.default.func}),c(d,"propTypes",{onSubmit:a.default.func,hideModal:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.component.js"}],[4585,{"../../../../helpers/higher-order-components/with-modal-props":5110,"./transaction-confirmed.component":4584},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("../../../../helpers/higher-order-components/with-modal-props")),a=o(e("./transaction-confirmed.component"));function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,r.default)(a.default);n.default=i}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.container.js"}],[4586,{"./multi-layer-fee-message":4587},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./multi-layer-fee-message"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/multilayer-fee-message/index.js"}],[4587,{"../../../../shared/constants/common":4348,"../../../../shared/modules/Numeric":4376,"../../../../shared/modules/conversion.utils":4380,"../../../contexts/i18n":5069,"../../../helpers/constants/common":5090,"../../../helpers/utils/optimism/fetchEstimatedL1Fee":5126,"../../../selectors":5478,"../transaction-detail-item/transaction-detail-item.component":4733,"../user-preferenced-currency-display":4747,"@sentry/browser":1813,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=g(e("prop-types")),i=e("@sentry/browser"),s=g(e("../transaction-detail-item/transaction-detail-item.component")),l=g(e("../user-preferenced-currency-display")),u=g(e("../../../helpers/utils/optimism/fetchEstimatedL1Fee")),c=e("../../../helpers/constants/common"),d=e("../../../contexts/i18n"),p=e("../../../../shared/modules/conversion.utils"),f=e("../../../../shared/constants/common"),m=e("../../../../shared/modules/Numeric"),h=e("../../../selectors");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({transaction:e,layer2fee:t,nativeCurrency:n,plainStyle:o}){var g;const y=(0,r.useContext)(d.I18nContext),[v,b]=(0,r.useState)(null),_=(0,a.useSelector)(h.getUseCurrencyRateCheck);if((0,r.useEffect)((()=>{if(null==e||!e.txParams)return;(async()=>{try{const t=await(0,u.default)(null==e?void 0:e.chainId,e);b(t)}catch(e){(0,i.captureException)(e),b(null)}})()}),[e]),null==e||!e.txParams)return null;let w=y("unknown"),T=y("unknown");if(null!==v){w=`${new m.Numeric(v,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toFixed(12)} ${n}`,T=_?r.default.createElement(l.default,{type:c.SECONDARY,value:v,showFiat:!0,hideLabel:!0}):null}const x=(0,p.sumHexes)(t||"0x0",v||"0x0",(null==e||null===(g=e.txParams)||void 0===g?void 0:g.value)||"0x0"),E=`${new m.Numeric(x,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toFixed(12)} ${n}`,k=_?r.default.createElement(l.default,{type:c.SECONDARY,value:x,showFiat:!0,hideLabel:!0}):null;return r.default.createElement("div",{className:"multi-layer-fee-message"},r.default.createElement(s.default,{key:"multi-layer-fee-message-total-item-gas-fee",detailTitle:y("layer1Fees"),detailTotal:w,detailText:_&&T,noBold:o,flexWidthValues:o}),r.default.createElement(s.default,{key:"multi-layer-fee-message-total-item-total",detailTitle:y("total"),detailTotal:E,detailText:k,subTitle:y("transactionDetailMultiLayerTotalSubtitle"),noBold:o,flexWidthValues:o}))}v.propTypes={transaction:o.default.object,layer2fee:o.default.string,nativeCurrency:o.default.string,plainStyle:o.default.bool}}}},{package:"$root$",file:"ui/components/app/multilayer-fee-message/multi-layer-fee-message.js"}],[4588,{"./multiple-notifications.component":4589},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./multiple-notifications.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/multiple-notifications/index.js"}],[4589,{classnames:2582,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=i(e("classnames")),o=i(e("prop-types"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{constructor(...e){super(...e),l(this,"state",{showAll:!1})}render(){const{showAll:e}=this.state,{children:t,classNames:n}=this.props,o=t.filter(Boolean);return 0===o.length?null:r.default.createElement("div",{className:(0,a.default)(...n,{"home-notification-wrapper--show-all":e,"home-notification-wrapper--show-first":!e})},o,r.default.createElement("div",{className:"home-notification-wrapper__i-container",onClick:()=>this.setState({showAll:!e})},o.length>1?r.default.createElement("i",{className:(0,a.default)("fa fa-sm fa-sort-amount",{flipped:!e})}):null))}}n.default=u,l(u,"defaultProps",{children:[],classNames:[]}),l(u,"propTypes",{children:o.default.array,classNames:o.default.array})}}},{package:"$root$",file:"ui/components/app/multiple-notifications/multiple-notifications.component.js"}],[4590,{"./network-account-balance-header":4591},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./network-account-balance-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/index.js"}],[4591,{"../../../../shared/constants/network":4354,"../../../contexts/i18n":5069,"../../../helpers/constants/design-system":5092,"../../component-library":4822,"../../ui/box/box":4930,"../../ui/icon-with-fallback":4973,"../../ui/identicon":4985,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=p(e("prop-types")),o=p(e("../../ui/icon-with-fallback")),i=p(e("../../ui/identicon")),s=e("../../../helpers/constants/design-system"),l=p(e("../../ui/box/box")),u=e("../../../contexts/i18n"),c=e("../../../../shared/constants/network"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({networkName:e,accountName:t,accountBalance:n,tokenName:a,accountAddress:p,chainId:f}){const m=(0,r.useContext)(u.I18nContext),h=c.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[f],g=h?"network-account-balance-header__network-account__ident-icon-ethereum":"network-account-balance-header__network-account__ident-icon-ethereum--gray";return r.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,padding:4,className:"network-account-balance-header",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},r.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,gap:2},r.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center},r.default.createElement(i.default,{address:p,diameter:32}),r.default.createElement(o.default,{name:e,size:16,icon:h,wrapperClassName:g})),r.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexStart,flexDirection:s.FlexDirection.Column},r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},e),r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold},t))),r.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexEnd,flexDirection:s.FlexDirection.Column},r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},m("balance")),r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold,align:s.TextAlign.End},n," ",a)))}m.propTypes={networkName:a.default.string,accountName:a.default.string,accountBalance:a.default.string,tokenName:a.default.string,accountAddress:a.default.string,chainId:a.default.string}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/network-account-balance-header.js"}],[4592,{"./network-display":4593},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./network-display"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/network-display/index.js"}],[4593,{"../../../../shared/constants/network":4354,"../../../ducks/metamask/metamask":5084,"../../../helpers/constants/design-system":5092,"../../../helpers/utils/i18n-helper":5120,"../../../hooks/useI18nContext":5156,"../../../selectors":5478,"../../component-library":4822,"../../ui/chip/chip":4941,"../../ui/color-indicator":4944,"../../ui/loading-indicator":4992,classnames:2582,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var r=y(e("react")),a=y(e("prop-types")),o=y(e("classnames")),i=e("react-redux"),s=e("../../../../shared/constants/network"),l=y(e("../../ui/loading-indicator")),u=y(e("../../ui/color-indicator")),c=e("../../../helpers/constants/design-system"),d=y(e("../../ui/chip/chip")),p=e("../../../hooks/useI18nContext"),f=e("../../../selectors"),m=e("../../component-library"),h=e("../../../ducks/metamask/metamask"),g=e("../../../helpers/utils/i18n-helper");function y(e){return e&&e.__esModule?e:{default:e}}function v({indicatorSize:e,disabled:t,labelProps:n,targetNetwork:a,onClick:y}){const v=(0,i.useSelector)(f.isNetworkLoading),b=(0,i.useSelector)(h.getProviderConfig),_=(0,p.useI18nContext)(),{nickname:w,type:T}=a??b;return r.default.createElement(d.default,{dataTestId:"network-display",borderColor:y?c.BorderColor.borderDefault:c.BorderColor.borderMuted,onClick:y,leftIcon:r.default.createElement(l.default,{alt:_("attemptingConnect"),title:_("attemptingConnect"),isLoading:v},r.default.createElement(u.default,{color:T===s.NETWORK_TYPES.RPC?c.IconColor.iconMuted:T,size:e,type:u.default.TYPES.FILLED,iconClassName:T===s.NETWORK_TYPES.RPC&&e!==c.Size.XS?"fa fa-question":undefined})),rightIcon:y?r.default.createElement(m.Icon,{name:m.IconName.ArrowDown,size:m.IconSize.Xs}):null,label:T===s.NETWORK_TYPES.RPC?w??_("privateNetwork"):_((0,g.getNetworkLabelKey)(T)),className:(0,o.default)("network-display",{"network-display--disabled":t,"network-display--clickable":"function"==typeof y}),labelProps:{variant:c.TypographyVariant.H7,...n}})}v.propTypes={indicatorSize:a.default.oneOf(Object.values(c.Size)),labelProps:d.default.propTypes.labelProps,targetNetwork:a.default.shape({type:a.default.oneOf([...Object.keys(s.BUILT_IN_NETWORKS),s.NETWORK_TYPES.RPC]),nickname:a.default.string}),disabled:a.default.bool,onClick:a.default.func},v.defaultProps={indicatorSize:c.Size.LG}}}},{package:"$root$",file:"ui/components/app/network-display/network-display.js"}],[4594,{"../../../helpers/constants/design-system":5092,"../../../hooks/useI18nContext":5156,"../../../store/actions":5486,"../../component-library":4822,classnames:2582,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var r=d(e("react")),a=d(e("prop-types")),o=d(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../component-library"),c=e("../../../store/actions");function d(e){return e&&e.__esModule?e:{default:e}}function p({className:e,clickable:t}){const n=(0,l.useI18nContext)(),a=(0,i.useDispatch)();return r.default.createElement(u.Box,{tabIndex:0,"data-testid":"nft-default-image",className:(0,o.default)(e,"nft-default",{"nft-default--clickable":t}),display:s.Display.Flex,alignItems:s.AlignItems.Center,justifyContent:s.JustifyContent.Center,borderRadius:s.BorderRadius.LG},t&&r.default.createElement(u.ButtonLink,{block:!0,className:"nft-default__button",onClick:e=>{e.stopPropagation(),a((0,c.showIpfsModal)())}},n("show")))}p.propTypes={clickable:a.default.bool,className:a.default.string}}}},{package:"$root$",file:"ui/components/app/nft-default-image/nft-default-image.js"}],[4595,{"../../../../shared/constants/network":4354,"../../../helpers/constants/design-system":5092,"../../../hooks/useI18nContext":5156,"../../../store/actions":5486,"../../component-library":4822,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ToggleIpfsModal=void 0;var r=d(e("react")),a=d(e("prop-types")),o=e("react-redux"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),u=e("../../../../shared/constants/network"),c=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}const p=({onClose:e})=>{const t=(0,s.useI18nContext)(),n=(0,o.useDispatch)();return r.default.createElement(i.Modal,{isOpen:!0,onClose:e,className:"toggle-ipfs-modal"},r.default.createElement(i.ModalOverlay,null),r.default.createElement(i.ModalContent,null,r.default.createElement(i.ModalHeader,{onClose:e},t("showNft")),r.default.createElement(i.Box,{className:"toggle-ipfs-modal",marginTop:6},r.default.createElement(i.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative},t("ipfsToggleModalDescriptionOne")),r.default.createElement(i.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,marginTop:6},t("ipfsToggleModalDescriptionTwo",[r.default.createElement(i.Text,{variant:c.TextVariant.bodyMdBold,color:c.TextColor.textAlternative,as:"span",key:"span"},t("ipfsToggleModalSettings"),",")]))),r.default.createElement(i.ButtonPrimary,{block:!0,marginTop:9,onClick:()=>{n((0,l.setIpfsGateway)(u.IPFS_DEFAULT_GATEWAY_URL)),n((0,l.hideIpfsModal)())},size:c.Size.LG},t("confirm"))))};n.ToggleIpfsModal=p,p.propTypes={onClose:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nft-default-image/toggle-ipfs-modal.js"}],[4596,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4346,"../../../../shared/constants/network":4354,"../../../../shared/constants/transaction":4366,"../../../../shared/modules/conversion.utils":4380,"../../../../shared/modules/string-utils":4393,"../../../ducks/metamask/metamask":5084,"../../../ducks/send":5086,"../../../helpers/constants/design-system":5092,"../../../helpers/constants/routes":5097,"../../../helpers/utils/nfts":5124,"../../../helpers/utils/util":5133,"../../../hooks/useCopyToClipboard":5149,"../../../hooks/useI18nContext":5156,"../../../hooks/usePrevious":5160,"../../../pages/asset/components/asset-navigation":5185,"../../../selectors":5478,"../../../store/actions":5486,"../../component-library":4822,"../../multichain/nft-item":4911,"../../ui/box":4931,"../../ui/button":4935,"../../ui/info-tooltip":4986,"../../ui/tooltip":5057,"../nft-options/nft-options":4597,lodash:3676,"prop-types":3823,react:4076,"react-redux":4041,"react-router-dom":4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=D;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=I(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=I(e("../../ui/box")),u=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/util"),p=e("../../../helpers/utils/nfts"),f=e("../../../selectors"),m=I(e("../../../pages/asset/components/asset-navigation")),h=e("../../../ducks/metamask/metamask"),g=e("../../../helpers/constants/routes"),y=e("../../../store/actions"),v=e("../../../../shared/constants/network"),b=e("../../../../app/scripts/lib/util"),_=e("../../../../shared/constants/app"),w=I(e("../nft-options/nft-options")),T=I(e("../../ui/button")),x=e("../../../ducks/send"),E=I(e("../../ui/info-tooltip")),k=e("../../../hooks/usePrevious"),C=e("../../../hooks/useCopyToClipboard"),P=e("../../../../shared/modules/string-utils"),O=e("../../../../shared/constants/transaction"),S=e("../../component-library"),j=I(e("../../ui/tooltip")),M=e("../../../../shared/modules/conversion.utils"),N=e("../../multichain/nft-item");function I(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function D({nft:e}){var t,n;const{image:a,imageOriginal:I,name:R,description:D,address:A,tokenId:L,standard:$,isCurrentlyOwned:W,lastSale:q}=e,B=(0,c.useI18nContext)(),F=(0,i.useHistory)(),z=(0,o.useDispatch)(),U=(0,o.useSelector)(f.getIpfsGateway),G=(0,o.useSelector)(h.getNftContracts),V=(0,o.useSelector)(f.getCurrentChainId),H=(0,o.useSelector)(f.getCurrentNetwork),[Q,K]=(0,C.useCopyToClipboard)(),Y=null===(t=G.find((({address:e})=>(0,P.isEqualCaseInsensitive)(e,A))))||void 0===t?void 0:t.name,J=(0,o.useSelector)((e=>(0,f.getSelectedIdentity)(e).name)),X=(0,p.getNftImageAlt)(e),Z=I??a,ee=(0,d.getAssetImageURL)(I??a,U),te=null==Z?void 0:Z.startsWith("ipfs:"),ne=null==a?void 0:a.startsWith("https:"),re=(0,d.formatDate)(new Date(null==q?void 0:q.event_timestamp).getTime(),"M/d/y"),ae=(0,k.usePrevious)(e);(0,r.useEffect)((()=>{(0,s.isEqual)(ae,e)||(0,y.checkAndUpdateSingleNftOwnershipStatus)(e)}),[e,ae]);const oe=(()=>{switch(V){case v.CHAIN_IDS.MAINNET:return`https://opensea.io/assets/ethereum/${A}/${L}`;case v.CHAIN_IDS.POLYGON:return`https://opensea.io/assets/matic/${A}/${L}`;case v.CHAIN_IDS.GOERLI:return`https://testnets.opensea.io/assets/goerli/${A}/${L}`;case v.CHAIN_IDS.SEPOLIA:return`https://testnets.opensea.io/assets/sepolia/${A}/${L}`;default:return null}})(),ie=$!==O.TokenStandard.ERC721,se=(0,b.getEnvironmentType)()===_.ENVIRONMENT_TYPE_POPUP,le=async()=>{await z((0,x.startNewDraftTransaction)({type:O.AssetType.NFT,details:e})),F.push(g.SEND_ROUTE)},ue=()=>!1===W?r.default.createElement("div",{style:{height:"30px"}}):r.default.createElement(l.default,{display:u.Display.Flex,width:se?u.BlockSize.Full:u.BlockSize.Half,margin:se?[4,0]:null},r.default.createElement(T.default,{type:"primary",onClick:le,disabled:ie,className:"nft-details__send-button","data-testid":"nft-send-button"},B("send")),ie?r.default.createElement(E.default,{position:"top",contentText:B("sendingDisabled")}):null);return r.default.createElement(r.default.Fragment,null,r.default.createElement(m.default,{accountName:J,assetName:Y,onBack:()=>F.push(g.DEFAULT_ROUTE),optionsButton:r.default.createElement(w.default,{onViewOnOpensea:oe?()=>global.platform.openTab({url:oe}):null,onRemove:()=>{z((0,y.removeAndIgnoreNft)(A,L)),z((0,y.setNewNftAddedMessage)("")),z((0,y.setRemoveNftMessage)("success")),F.push(g.DEFAULT_ROUTE)}})}),r.default.createElement(l.default,{className:"nft-details"},r.default.createElement(l.default,{className:"nft-details__top-section",gap:6,flexDirection:u.FlexDirection.Column},r.default.createElement(l.default,{className:"nft-details__nft-item"},r.default.createElement(N.NftItem,{nftImageURL:ee,src:ne?a:ee,alt:a?X:"",name:R,tokenId:L,networkName:H.nickname,networkSrc:null===(n=H.rpcPrefs)||void 0===n?void 0:n.imageUrl,isIpfsURL:te,clickable:!0})),r.default.createElement(l.default,{flexDirection:u.FlexDirection.Column,className:"nft-details__info",marginTop:4,justifyContent:u.JustifyContent.spaceBetween},r.default.createElement("div",null,r.default.createElement(S.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.headingSm,as:"h4",fontWeight:u.FontWeight.Bold,marginBottom:2},R),r.default.createElement(S.Text,{color:u.TextColor.textMuted,variant:u.TextVariant.bodyMd,as:"h5",marginBottom:4,overflowWrap:u.OverflowWrap.BreakWord},"#",L)),D?r.default.createElement("div",null,r.default.createElement(S.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:2,className:"nft-details__description"},B("description")),r.default.createElement(S.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},D)):null,se?null:ue())),r.default.createElement(l.default,{marginBottom:2},q?r.default.createElement(r.default.Fragment,null,r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row},r.default.createElement(S.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},B("lastSold")),r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,className:"nft-details__contract-wrapper"},r.default.createElement(S.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},re))),r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row},r.default.createElement(S.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},B("lastPriceSold")),r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,className:"nft-details__contract-wrapper"},r.default.createElement(S.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},`${Number((0,M.decWEIToDecETH)(q.total_price))} ${q.payment_token.symbol}`)))):null,r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row},r.default.createElement(S.Text,{color:u.TextColor.textDefault,variant:u.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},B("contractAddress")),r.default.createElement(l.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,className:"nft-details__contract-wrapper"},r.default.createElement(S.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6",overflowWrap:u.OverflowWrap.BreakWord,marginBottom:4},(0,d.shortenAddress)(A)),r.default.createElement(j.default,{wrapperClassName:"nft-details__tooltip-wrapper",position:"bottom",title:B(Q?"copiedExclamation":"copyToClipboard")},r.default.createElement(S.ButtonIcon,{ariaLabel:"copy",color:u.IconColor.iconAlternative,className:"nft-details__contract-copy-button","data-testid":"nft-address-copy",onClick:()=>{K(A)},iconName:Q?S.IconName.CopySuccess:S.IconName.Copy})))),se?ue():null,r.default.createElement(S.Text,{color:u.TextColor.textAlternative,variant:u.TextVariant.bodySm,as:"h6"},B("nftDisclaimer")))))}D.propTypes={nft:a.default.shape({address:a.default.string.isRequired,tokenId:a.default.string.isRequired,isCurrentlyOwned:a.default.bool,name:a.default.string,description:a.default.string,image:a.default.string,standard:a.default.string,imageThumbnail:a.default.string,imagePreview:a.default.string,imageOriginal:a.default.string,creator:a.default.shape({address:a.default.string,config:a.default.string,profile_img_url:a.default.string}),lastSale:a.default.shape({event_timestamp:a.default.string,total_price:a.default.string,payment_token:a.default.shape({symbol:a.default.string})})})}}}},{package:"$root$",file:"ui/components/app/nft-details/nft-details.js"}],[4597,{"../../../contexts/i18n":5069,"../../../helpers/constants/design-system":5092,"../../component-library":4822,"../../ui/menu":5002,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../contexts/i18n"),s=e("../../ui/menu"),l=e("../../component-library"),u=e("../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=({onRemove:e,onViewOnOpensea:t})=>{const n=(0,a.useContext)(i.I18nContext),[r,o]=(0,a.useState)(!1),c=(0,a.useRef)(!1);return a.default.createElement("div",{ref:c},a.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,className:"nft-options__button","data-testid":"nft-options__button",onClick:()=>o(!0),color:u.Color.textDefault,size:l.ButtonIconSize.Sm,ariaLabel:n("nftOptions")}),r?a.default.createElement(s.Menu,{"data-testid":"close-nft-options-menu",anchorElement:c.current,onHide:()=>o(!1)},t?a.default.createElement(s.MenuItem,{iconName:l.IconName.Export,"data-testid":"nft-options__view-on-opensea",onClick:()=>{o(!1),t()}},n("viewOnOpensea")):null,a.default.createElement(s.MenuItem,{iconName:l.IconName.Trash,"data-testid":"nft-item-remove",onClick:()=>{o(!1),e()}},n("removeNFT"))):null)};d.propTypes={onRemove:o.default.func.isRequired,onViewOnOpensea:o.default.func};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/nft-options/nft-options.js"}],[4598,{"../../../helpers/constants/routes":5097,"../../../hooks/useI18nContext":5156,"../../component-library":4822,"prop-types":3823,react:4076,"react-router-dom":4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var r=u(e("react")),a=u(e("prop-types")),o=e("react-router-dom"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes");function u(e){return e&&e.__esModule?e:{default:e}}function c({onActionButtonClick:e}){const t=(0,s.useI18nContext)(),n=(0,o.useHistory)();return r.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",actionButtonLabel:t("selectEnableOpenseaAPIPrivacyPreference"),actionButtonOnClick:t=>{t.preventDefault(),n.push(`${l.SECURITY_ROUTE}#opensea-api`),null==e||e()}},t("newNFTDetectedInImportNFTsMessage",[r.default.createElement("b",{key:"new-nft-detected-in-import-nfts-message-strong-text"},t("newNFTDetectedInImportNFTsMessageStrongText"))]))}c.propTypes={onActionButtonClick:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts.js"}],[4599,{"../../../helpers/constants/routes":5097,"../../../hooks/useI18nContext":5156,"../../component-library":4822,react:4076,"react-router-dom":4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useI18nContext)(),t=(0,o.useHistory)();return a.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",title:e("newNFTsAutodetected"),actionButtonLabel:e("selectNFTPrivacyPreference"),actionButtonOnClick:e=>{e.preventDefault(),t.push(`${l.SECURITY_ROUTE}#autodetect-nfts`)}},e("newNFTDetectedInNFTsTabMessage"))};var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("react-router-dom"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes")}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab.js"}],[4600,{"./nfts-items":4601},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./nfts-items"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/nfts-items/index.js"}],[4601,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4346,"../../../ducks/metamask/metamask":5084,"../../../helpers/constants/design-system":5092,"../../../helpers/constants/routes":5097,"../../../helpers/utils/nfts":5124,"../../../helpers/utils/util":5133,"../../../hooks/useI18nContext":5156,"../../../hooks/usePrevious":5160,"../../../selectors":5478,"../../../store/actions":5486,"../../component-library":4822,"../../multichain/nft-item":4911,"../../ui/box":4931,"../../ui/typography/typography":5062,lodash:3676,"prop-types":3823,react:4076,"react-redux":4041,"react-router-dom":4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=P;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=x(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=x(e("../../ui/box")),u=x(e("../../ui/typography/typography")),c=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/app"),p=e("../../../../app/scripts/lib/util"),f=e("../../../selectors"),m=e("../../../helpers/constants/routes"),h=e("../../../helpers/utils/util"),g=e("../../../helpers/utils/nfts"),y=e("../../../store/actions"),v=e("../../../hooks/usePrevious"),b=e("../../../ducks/metamask/metamask"),_=e("../../../hooks/useI18nContext"),w=e("../../component-library"),T=e("../../multichain/nft-item");function x(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const k=(0,p.getEnvironmentType)()===d.ENVIRONMENT_TYPE_POPUP?c.BLOCK_SIZES.ONE_THIRD:c.BLOCK_SIZES.ONE_SIXTH,C="previouslyOwned";function P({collections:e={},previouslyOwnedCollection:t={}}){var n;const a=(0,o.useDispatch)(),d=Object.keys(e),p=(0,o.useSelector)(b.getNftsDropdownState),x=(0,v.usePrevious)(d),E=(0,o.useSelector)(f.getSelectedAddress),P=(0,o.useSelector)(f.getCurrentChainId),O=(0,o.useSelector)(f.getCurrentNetwork),S=(0,_.useI18nContext)(),j=(0,o.useSelector)(f.getIpfsGateway),M=(0,o.useSelector)(f.getOpenSeaEnabled);(0,r.useEffect)((()=>{var e,t;if(P!==undefined&&E!==undefined&&!(0,s.isEqual)(x,d)&&((null==p||null===(e=p[E])||void 0===e?void 0:e[P])===undefined||0===Object.keys(null==p||null===(t=p[E])||void 0===t?void 0:t[P]).length)){const e={};d.forEach((t=>{e[t]=!0}));const t={...p,[E]:{...null==p?void 0:p[E],[P]:e}};a((0,y.updateNftDropDownState)(t))}}),[d,x,p,E,P,a]);const N=(0,i.useHistory)(),I=({nfts:e,collectionName:t,collectionImage:n,key:o})=>{var i,s;if(!e.length)return null;const d=null===(i=p[E])||void 0===i||null===(s=i[P])||void 0===s?void 0:s[o];return r.default.createElement("div",{className:"nfts-items__collection",key:`collection-${o}`},r.default.createElement("button",{className:"nfts-items__collection-wrapper","data-testid":"collection-expander-button",onClick:()=>{((e,t)=>{const n={...p[E][P],[e]:!t},r={...p,[E]:{[P]:n}};a((0,y.updateNftDropDownState)(r))})(o,d)}},r.default.createElement(l.default,{marginBottom:2,display:c.DISPLAY.FLEX,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.spaceBetween,className:"nfts-items__collection-accordion-title"},r.default.createElement(l.default,{alignItems:c.AlignItems.center,className:"nfts-items__collection-header"},((e,t)=>{var n,a,o;return null!=e&&e.startsWith("ipfs")&&!j?r.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(a=t[0])||void 0===a?void 0:a.toUpperCase())??null):M||null!=e&&e.startsWith("ipfs")?e?r.default.createElement("img",{alt:t,src:(0,h.getAssetImageURL)(e,j),className:"nfts-items__collection-image"}):r.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())??null):r.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(o=t[0])||void 0===o?void 0:o.toUpperCase())??null)})(n,t),r.default.createElement(u.default,{color:c.Color.textDefault,variant:c.TypographyVariant.H5,margin:2},`${t??S("unknownCollection")} (${e.length})`)),r.default.createElement(l.default,{alignItems:c.AlignItems.flexEnd},r.default.createElement(w.Icon,{name:d?w.IconName.ArrowDown:w.IconName.ArrowRight,color:c.Color.iconDefault})))),d?r.default.createElement(l.default,{display:c.DISPLAY.FLEX,flexWrap:c.FLEX_WRAP.WRAP,gap:4},e.map(((e,t)=>{var n;const{image:a,address:o,tokenId:i,name:s,imageOriginal:u}=e,c=(0,h.getAssetImageURL)(u??a,j),d=(0,g.getNftImageAlt)(e),p=a.startsWith("https:"),f=null!=u&&u.startsWith("ipfs")?c:a,y=u??a,v=null==y?void 0:y.startsWith("ipfs:");return r.default.createElement(l.default,{"data-testid":"nft-wrapper",width:k,key:`nft-${t}`,className:"nfts-items__item-wrapper"},r.default.createElement(T.NftItem,{nftImageURL:f,alt:d,src:p?a:c,name:s,tokenId:i,networkName:O.nickname,networkSrc:null===(n=O.rpcPrefs)||void 0===n?void 0:n.imageUrl,onClick:()=>N.push(`${m.ASSET_ROUTE}/${o}/${i}`),isIpfsURL:v,clickable:!0}))}))):null)};return r.default.createElement("div",{className:"nfts-items"},r.default.createElement(l.default,{paddingTop:6,paddingBottom:6,paddingLeft:4,paddingRight:4,flexDirection:c.FLEX_DIRECTION.COLUMN},r.default.createElement(r.default.Fragment,null,d.map((t=>{const{nfts:n,collectionName:r,collectionImage:a}=e[t];return I({nfts:n,collectionName:r,collectionImage:a,key:t,isPreviouslyOwnedCollection:!1})})),I({nfts:t.nfts,collectionName:t.collectionName,collectionImage:null===(n=t.nfts[0])||void 0===n?void 0:n.image,isPreviouslyOwnedCollection:!0,key:C}))))}P.propTypes={previouslyOwnedCollection:a.default.shape({nfts:a.default.arrayOf(a.default.shape({address:a.default.string.isRequired,tokenId:a.default.string.isRequired,name:a.default.string,description:a.default.string,image:a.default.string,standard:a.default.string,imageThumbnail:a.default.string,imagePreview:a.default.string,creator:a.default.shape({address:a.default.string,config:a.default.string,profile_img_url:a.default.string})})),collectionName:a.default.string,collectionImage:a.default.string}),collections:a.default.shape({nfts:a.default.arrayOf(a.default.shape({address:a.default.string.isRequired,tokenId:a.default.string.isRequired,name:a.default.string,description:a.default.string,image:a.default.string,standard:a.default.string,imageThumbnail:a.default.string,imagePreview:a.default.string,creator:a.default.shape({address:a.default.string,config:a.default.string,profile_img_url:a.default.string})})),collectionImage:a.default.string,collectionName:a.default.string})}}}},{package:"$root$",file:"ui/components/app/nfts-items/nfts-items.js"}],[4602,{"./nfts-tab":4603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./nfts-tab"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/nfts-tab/index.js"}],[4603,{"../../../helpers/constants/design-system":5092,"../../../helpers/constants/routes":5097,"../../../helpers/constants/zendesk-url":5102,"../../../hooks/useI18nContext":5156,"../../../hooks/useNftsCollections":5158,"../../../selectors":5478,"../../../store/actions":5486,"../../component-library":4822,"../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab":4599,"../nfts-items":4600,react:4076,"react-redux":4041,"react-router-dom":4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useSelector)(d.getUseNftDetection),t=(0,a.useSelector)(d.getIsMainnet),n=(0,o.useHistory)(),g=(0,u.useI18nContext)(),y=(0,a.useDispatch)(),{nftsLoading:v,collections:b,previouslyOwnedCollection:_}=(0,c.useNftsCollections)();if(v)return r.default.createElement("div",{className:"nfts-tab__loading"},g("loadingNFTs"));return r.default.createElement(f.Box,{className:"nfts-tab"},Object.keys(b).length>0||_.nfts.length>0?r.default.createElement(h.default,{collections:b,previouslyOwnedCollection:_}):r.default.createElement(r.default.Fragment,null,t&&!e?r.default.createElement(f.Box,{padding:4},r.default.createElement(m.default,null)):null,r.default.createElement(f.Box,{padding:12,display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},r.default.createElement(f.Box,{justifyContent:i.JustifyContent.center},r.default.createElement("img",{src:"./images/no-nfts.svg"})),r.default.createElement(f.Box,{marginTop:4,marginBottom:12,display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,className:"nfts-tab__link"},r.default.createElement(f.Text,{color:i.TextColor.textMuted,variant:i.TextVariant.headingSm,align:i.TextAlign.Center,as:"h4"},g("noNFTs")),r.default.createElement(f.ButtonLink,{size:i.Size.MD,href:l.default.NFT_TOKENS,externalLink:!0},g("learnMoreUpperCase"))))),r.default.createElement(f.Box,{className:"nfts-tab__buttons",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,margin:4,gap:2,marginBottom:2},r.default.createElement(f.ButtonLink,{size:i.Size.MD,"data-testid":"import-nft-button",startIconName:f.IconName.Add,onClick:()=>{y((0,p.showImportNftsModal)())}},g("importNFT")),!t&&Object.keys(b).length<1?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(f.Box,{className:"nfts-tab__link",justifyContent:i.JustifyContent.flexEnd},t&&!e?r.default.createElement(f.ButtonLink,{size:i.Size.MD,startIconName:f.IconName.Setting,"data-testid":"refresh-list-button",onClick:()=>{n.push(s.SECURITY_ROUTE)}},g("enableAutoDetect")):r.default.createElement(f.ButtonLink,{size:i.Size.MD,startIconName:f.IconName.Refresh,"data-testid":"refresh-list-button",onClick:()=>{t&&y((0,p.detectNfts)()),(0,p.checkAndUpdateAllNftsOwnershipStatus)()}},g("refreshList"))))))};var r=g(e("react")),a=e("react-redux"),o=e("react-router-dom"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/constants/routes"),l=g(e("../../../helpers/constants/zendesk-url")),u=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useNftsCollections"),d=e("../../../selectors"),p=e("../../../store/actions"),f=e("../../component-library"),m=g(e("../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab")),h=g(e("../nfts-items"));function g(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/nfts-tab/nfts-tab.js"}],[4604,{"./permission-cell":4606},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permission-cell"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permission-cell/index.js"}],[4605,{"../../../../shared/constants/snaps/permissions":4360,"../../../helpers/constants/design-system":5092,"../../../hooks/useI18nContext":5156,"../../../store/actions":5486,"../../component-library":4822,"../../ui/box":4931,"../../ui/menu":5002,"../../ui/popover/popover.component":5021,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellOptions=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=m(e("prop-types")),o=e("react-redux"),i=m(e("../../ui/box")),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),u=e("../../ui/menu"),c=e("../../../helpers/constants/design-system"),d=m(e("../../ui/popover/popover.component")),p=e("../../../../shared/constants/snaps/permissions"),f=e("../../../store/actions");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({snapId:e,permissionName:t,description:n})=>{const a=(0,s.useI18nContext)(),m=(0,o.useDispatch)(),h=(0,r.useRef)(!1),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),_=p.DynamicSnapPermissions.includes(t);return r.default.createElement(i.default,{ref:h},r.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,ariaLabel:a("options"),onClick:()=>{y(!0)}}),g&&r.default.createElement(u.Menu,{anchorElement:h.current,onHide:()=>{y(!1)}},r.default.createElement(u.MenuItem,{onClick:()=>{y(!1),b(!0)}},r.default.createElement(l.Text,{variant:c.TextVariant.bodySm,style:{whiteSpace:"nowrap"}},a("details"))),_&&r.default.createElement(u.MenuItem,{onClick:()=>{y(!1),m((0,f.revokeDynamicSnapPermissions)(e,[t]))}},r.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.errorDefault,style:{whiteSpace:"nowrap"}},a("revokePermission")))),v&&r.default.createElement(d.default,{title:a("details"),onClose:()=>{y(!1),b(!1)}},r.default.createElement(i.default,{marginLeft:4,marginRight:4,marginBottom:4},r.default.createElement(l.Text,null,n))))};n.PermissionCellOptions=g,g.propTypes={snapId:a.default.string.isRequired,permissionName:a.default.string.isRequired,description:a.default.oneOfType([a.default.string,a.default.object])}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-options.js"}],[4606,{"../../../helpers/constants/design-system":5092,"../../../helpers/utils/util":5133,"../../../hooks/useI18nContext":5156,"../../component-library":4822,"../../ui/box":4931,"../../ui/tooltip":5057,"./permission-cell-options":4605,classnames:2582,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=f(e("react")),a=f(e("prop-types")),o=f(e("classnames")),i=f(e("../../ui/box")),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),u=e("../../../helpers/utils/util"),c=e("../../../hooks/useI18nContext"),d=f(e("../../ui/tooltip")),p=e("./permission-cell-options");function f(e){return e&&e.__esModule?e:{default:e}}const m=({snapId:e,permissionName:t,title:n,description:a,weight:f,avatarIcon:m,dateApproved:h,revoked:g,showOptions:y})=>{var v;const b=(0,c.useI18nContext)();let _=s.IconColor.iconMuted,w=l.IconName.Info,T=s.IconColor.primaryDefault,x=s.Color.primaryMuted;g||1!==f||(T=s.IconColor.warningDefault,x=s.Color.warningMuted,_=s.IconColor.warningDefault,w=l.IconName.Danger),h&&(T=s.IconColor.iconMuted,x=s.Color.backgroundAlternative),g&&(T=s.IconColor.iconMuted,x=s.Color.backgroundAlternative);let E=m;return"string"!=typeof m&&null!=m&&null!==(v=m.props)&&void 0!==v&&v.iconName&&(E=m.props.iconName),r.default.createElement(i.default,{className:"permission-cell",justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart,marginLeft:4,marginRight:4,paddingTop:2,paddingBottom:2},r.default.createElement(i.default,null,"string"==typeof E?r.default.createElement(l.AvatarIcon,{iconName:E,size:l.AvatarIconSize.Md,iconProps:{size:l.IconSize.Sm},color:T,backgroundColor:x}):E),r.default.createElement(i.default,{width:"full",marginLeft:4,marginRight:4},r.default.createElement(l.Text,{size:s.Size.MD,variant:s.TextVariant.bodyMd,className:(0,o.default)("permission-cell__title",{"permission-cell__title-revoked":g})},n),r.default.createElement(l.Text,{className:"permission-cell__status",variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},!g&&(h?b("approvedOn",[(0,u.formatDate)(h,"yyyy-MM-dd")]):b("permissionRequested")),g?b("permissionRevoked"):"")),r.default.createElement(i.default,null,y&&e?r.default.createElement(p.PermissionCellOptions,{snapId:e,permissionName:t,description:a}):r.default.createElement(d.default,{html:r.default.createElement("div",null,a),position:"bottom"},r.default.createElement(l.Icon,{color:_,name:w,size:l.IconSize.Sm}))))};m.propTypes={snapId:a.default.string,permissionName:a.default.string.isRequired,title:a.default.oneOfType([a.default.string.isRequired,a.default.object.isRequired]),description:a.default.oneOfType([a.default.string,a.default.object]),weight:a.default.number,avatarIcon:a.default.any.isRequired,dateApproved:a.default.number,revoked:a.default.bool,showOptions:a.default.bool};var h=m;n.default=h}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell.js"}],[4607,{"./permission-page-container-content":4608,"./permission-page-container.container":4611},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionPageContainerContent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=o(e("./permission-page-container.container")),a=o(e("./permission-page-container-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/permission-page-container/index.js"}],[4608,{"./permission-page-container-content.component":4609},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permission-page-container-content.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/index.js"}],[4609,{"../../../ui/tooltip":5057,"../../permissions-connect-header":4614,"../../permissions-connect-permission-list":4616,"@metamask/permission-controller":1402,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=c(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=e("@metamask/permission-controller"),i=c(e("../../permissions-connect-header")),s=c(e("../../../ui/tooltip")),l=c(e("../../permissions-connect-permission-list"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.PureComponent{renderRequestedPermissions(){const{selectedPermissions:e,subjectMetadata:t}=this.props;return a.default.createElement("div",{className:"permission-approval-container__content__requested"},a.default.createElement(l.default,{permissions:e,targetSubjectMetadata:t}))}renderAccountTooltip(e){const{selectedIdentities:t}=this.props,{t:n}=this.context;return a.default.createElement(s.default,{key:"all-account-connect-tooltip",position:"bottom",wrapperClassName:"permission-approval-container__bold-title-elements",html:a.default.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.slice(0,6).map(((e,t)=>a.default.createElement("div",{key:`tooltip-identity-${t}`},e.addressLabel))),t.length>6?n("plusXMore",[t.length-6]):null)},e)}getTitle(){var e;const{subjectMetadata:t,selectedIdentities:n,allIdentitiesSelected:r,selectedPermissions:a}=this.props,{t:o}=this.context;return t.extensionId?o("externalExtension",[t.extensionId]):a.eth_accounts?r?o("connectToAll",[this.renderAccountTooltip(o("connectToAllAccounts"))]):n.length>1?o("connectToMultiple",[this.renderAccountTooltip(o("connectToMultipleNumberOfAccounts",[n.length]))]):o("connectTo",[null===(e=n[0])||void 0===e?void 0:e.addressLabel]):o("permissionRequestCapitalized")}getHeaderText(){const{subjectMetadata:e}=this.props,{t:t}=this.context;return e.subjectType===o.SubjectType.Snap?t("allowThisSnapTo"):e.extensionId?t("allowExternalExtensionTo",[e.extensionId]):t("allowThisSiteTo")}render(){const{subjectMetadata:e}=this.props,t=this.getTitle(),n=this.getHeaderText();return a.default.createElement("div",{className:"permission-approval-container__content"},a.default.createElement("div",{className:"permission-approval-container__content-container"},a.default.createElement(i.default,{iconUrl:e.iconUrl,iconName:e.name,headerTitle:t,headerText:n,siteOrigin:e.origin,subjectType:e.subjectType}),a.default.createElement("section",{className:"permission-approval-container__permissions-container"},this.renderRequestedPermissions())))}}n.default=p,d(p,"propTypes",{subjectMetadata:r.default.shape({name:r.default.string.isRequired,origin:r.default.string.isRequired,subjectType:r.default.string.isRequired,extensionId:r.default.string,iconUrl:r.default.string}),selectedPermissions:r.default.object.isRequired,selectedIdentities:r.default.array,allIdentitiesSelected:r.default.bool}),d(p,"defaultProps",{selectedIdentities:[],allIdentitiesSelected:!1}),d(p,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/permission-page-container-content.component.js"}],[4610,{".":4607,"../../../../shared/constants/metametrics":4353,"../../../../shared/constants/permissions":4355,"../../../helpers/utils/util":5133,"../../ui/page-container":5013,"../permissions-connect-footer":4612,"../snaps/snap-privacy-warning":4675,"@metamask/permission-controller":1402,"@metamask/rpc-methods":1439,lodash:3676,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=g(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=e("lodash"),i=e("@metamask/rpc-methods"),s=e("@metamask/permission-controller"),l=e("../../../../shared/constants/metametrics"),u=e("../../ui/page-container"),c=g(e("../permissions-connect-footer")),d=e("../../../../shared/constants/permissions"),p=g(e("../snaps/snap-privacy-warning")),f=e("../../../helpers/utils/util"),m=e(".");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends a.Component{constructor(...e){super(...e),y(this,"state",{selectedPermissions:this.getRequestedMethodState(this.getRequestedMethodNames(this.props))}),y(this,"onCancel",(()=>{const{request:e,rejectPermissionsRequest:t}=this.props;t(e.metadata.id)})),y(this,"onSubmit",(()=>{const{request:e,approvePermissionsRequest:t,rejectPermissionsRequest:n,selectedIdentities:r}=this.props,a={...e,permissions:{...e.permissions},approvedAccounts:r.map((e=>e.address))};Object.keys(this.state.selectedPermissions).forEach((e=>{this.state.selectedPermissions[e]||delete a.permissions[e]})),Object.keys(a.permissions).length>0?t(a):n(a.metadata.id)}))}componentDidUpdate(){const e=this.getRequestedMethodNames(this.props);(0,o.isEqual)(Object.keys(this.state.selectedPermissions),e)||this.setState({selectedPermissions:this.getRequestedMethodState(e)})}getRequestedMethodState(e){return e.reduce(((e,t)=>t===d.RestrictedMethods.wallet_snap?(e[t]=this.getDedupedSnapPermissions(),e):(e[t]=!0,e)),{})}getDedupedSnapPermissions(){var e;const{request:t,currentPermissions:n}=this.props,r=(0,f.getDedupedSnaps)(t,n);return{...(null==t||null===(e=t.permissions)||void 0===e?void 0:e[i.WALLET_SNAP_PERMISSION_KEY])||{},caveats:[{type:i.SnapCaveatType.SnapIds,value:r.reduce(((e,t)=>(e[t]={},e)),{})}]}}showSnapsPrivacyWarning(){this.setState({isShowingSnapsPrivacyWarning:!0})}getRequestedMethodNames(e){return Object.keys(e.request.permissions||{})}componentDidMount(){this.context.trackEvent({category:l.MetaMetricsEventCategory.Auth,event:"Tab Opened",properties:{action:"Connect",legacy_event:!0}}),this.props.request.permissions[i.WALLET_SNAP_PERMISSION_KEY]&&!1===this.props.snapsInstallPrivacyWarningShown&&this.showSnapsPrivacyWarning()}render(){const{requestMetadata:e,targetSubjectMetadata:t,selectedIdentities:n,allIdentitiesSelected:r}=this.props,o=e=>{this.setState({isShowingSnapsPrivacyWarning:e})},i=()=>{o(!1),this.props.setSnapsInstallPrivacyWarningShownStatus(!0)};return a.default.createElement(a.default.Fragment,null,a.default.createElement(a.default.Fragment,null,this.state.isShowingSnapsPrivacyWarning&&a.default.createElement(p.default,{onAccepted:()=>i(),onCanceled:()=>this.onCancel()})),a.default.createElement(m.PermissionPageContainerContent,{requestMetadata:e,subjectMetadata:t,selectedPermissions:this.state.selectedPermissions,selectedIdentities:n,allIdentitiesSelected:r}),a.default.createElement("div",{className:"permission-approval-container__footers"},(null==t?void 0:t.subjectType)!==s.SubjectType.Snap&&a.default.createElement(c.default,null),a.default.createElement(u.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>this.onCancel(),cancelText:this.context.t("cancel"),onSubmit:()=>this.onSubmit(),submitText:this.context.t("connect"),buttonSizeLarge:!1})))}}n.default=v,y(v,"propTypes",{approvePermissionsRequest:r.default.func.isRequired,rejectPermissionsRequest:r.default.func.isRequired,selectedIdentities:r.default.array,allIdentitiesSelected:r.default.bool,currentPermissions:r.default.object,snapsInstallPrivacyWarningShown:r.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:r.default.func,request:r.default.object,requestMetadata:r.default.object,targetSubjectMetadata:r.default.shape({name:r.default.string,origin:r.default.string.isRequired,subjectType:r.default.string.isRequired,extensionId:r.default.string,iconUrl:r.default.string})}),y(v,"defaultProps",{request:{},requestMetadata:{},selectedIdentities:[],allIdentitiesSelected:!1,currentPermissions:{}}),y(v,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.component.js"}],[4611,{"../../../selectors":5478,"./permission-page-container.component":4610,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("../../../selectors"),i=(r=e("./permission-page-container.component"))&&r.__esModule?r:{default:r};var s=(0,a.connect)(((e,t)=>{var n;const{selectedIdentities:r}=t,a=(0,o.getPermissions)(e,null===(n=t.request.metadata)||void 0===n?void 0:n.origin),i=(0,o.getMetaMaskIdentities)(e);return{allIdentitiesSelected:Object.keys(r).length===Object.keys(i).length&&r.length>1,currentPermissions:a}}))(i.default);n.default=s}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.container.js"}],[4612,{"./permissions-connect-footer.component":4613},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permissions-connect-footer.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/index.js"}],[4613,{"../../../helpers/constants/zendesk-url":5102,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a,o,i=c(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),l=c(e("../../../helpers/constants/zendesk-url"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}class d extends s.Component{render(){const{t:e}=this.context;return s.default.createElement("div",{className:"permissions-connect-footer"},s.default.createElement("div",{className:"permissions-connect-footer__text"},s.default.createElement("div",null,e("onlyConnectTrust")),s.default.createElement("div",{className:"permissions-connect-footer__text--link",onClick:()=>{global.platform.openTab({url:l.default.USER_GUIDE_DAPPS})}},e("learnMoreUpperCase"))))}}n.default=d,r=d,a="contextTypes",o={t:i.default.func},(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/permissions-connect-footer.component.js"}],[4614,{"./permissions-connect-header.component":4615},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permissions-connect-header.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/index.js"}],[4615,{"../../../helpers/constants/design-system":5092,"../../ui/box":4931,"../../ui/site-origin":5036,"@metamask/subject-metadata-controller":1698,classnames:2582,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=d(e("classnames")),i=e("@metamask/subject-metadata-controller"),s=d(e("../../ui/site-origin")),l=d(e("../../ui/box")),u=e("../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{renderHeaderIcon(){const{iconUrl:e,iconName:t,siteOrigin:n,leftIcon:r,rightIcon:o,subjectType:l}=this.props;return l===i.SubjectType.Snap?null:a.default.createElement("div",{className:"permissions-connect-header__icon"},a.default.createElement(s.default,{chip:!0,siteOrigin:n,title:n,iconSrc:e,name:t,leftIcon:r,rightIcon:o}))}render(){const{boxProps:e,className:t,headerTitle:n,headerText:r}=this.props;return a.default.createElement(l.default,p({className:(0,o.default)("permissions-connect-header",t),flexDirection:u.FLEX_DIRECTION.COLUMN,justifyContent:u.JustifyContent.center},e),this.renderHeaderIcon(),a.default.createElement("div",{className:"permissions-connect-header__title"},n),a.default.createElement("div",{className:"permissions-connect-header__subtitle"},r))}}n.default=m,f(m,"propTypes",{className:r.default.string,iconUrl:r.default.string,iconName:r.default.string.isRequired,siteOrigin:r.default.string.isRequired,headerTitle:r.default.node,boxProps:r.default.shape({...l.default.propTypes}),headerText:r.default.string,leftIcon:r.default.node,rightIcon:r.default.node,subjectType:r.default.string}),f(m,"defaultProps",{iconUrl:null,headerTitle:"",headerText:"",boxProps:{}})}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/permissions-connect-header.component.js"}],[4616,{"./permissions-connect-permission-list":4617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./permissions-connect-permission-list"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/index.js"}],[4617,{"../../../helpers/utils/permission":5127,"../../../hooks/useI18nContext":5156,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var r=s(e("react")),a=s(e("prop-types")),o=e("../../../helpers/utils/permission"),i=e("../../../hooks/useI18nContext");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){const{label:n,leftIcon:a,permissionName:i}=e;return r.default.createElement("div",{className:"permission",key:`${i}-${t}`},"string"==typeof a?r.default.createElement("i",{className:a}):a,n,(0,o.getRightIcon)(e))}function u({permissions:e,targetSubjectMetadata:t}){const n=(0,i.useI18nContext)();return r.default.createElement("div",{className:"permissions-connect-permission-list"},(0,o.getWeightedPermissions)(n,e,t).map(l))}u.propTypes={permissions:a.default.object.isRequired,targetSubjectMetadata:a.default.object.isRequired}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/permissions-connect-permission-list.js"}],[4618,{"../../../../app/scripts/lib/util":82,"../../../../shared/constants/app":4346,"../../../../shared/constants/time":4364,"../../../helpers/utils/webcam-utils":5134,"../../../hooks/useI18nContext":5156,"../../ui/page-container/page-container-footer/page-container-footer.component":5016,"./enhanced-reader":4619,"@ngraveio/bc-ur":1732,loglevel:3688,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=m(e("loglevel")),o=e("@ngraveio/bc-ur"),i=m(e("prop-types")),s=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),u=m(e("../../../helpers/utils/webcam-utils")),c=m(e("../../ui/page-container/page-container-footer/page-container-footer.component")),d=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/time"),f=m(e("./enhanced-reader"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g="ACCESSING_CAMERA",y="NEED_TO_ALLOW_ACCESS",v="READY",b=({isReadingWallet:e,handleCancel:t,handleSuccess:n,setErrorTitle:i})=>{const m=(0,d.useI18nContext)(),[h,b]=(0,r.useState)(g),[_,w]=(0,r.useState)(null),[T,x]=(0,r.useState)(new o.URDecoder);let E=null;const k=(0,r.useRef)(!1),C=async()=>{try{const{environmentReady:e}=await u.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=new URL(window.location.href).hash,t=e?e.substring(1):null;global.platform.openExtensionInBrowser(t)}}catch(e){k.current&&w(e)}return S()},P=async()=>{try{const{permissions:e}=await u.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*p.SECOND))),!k.current)return;b(v)}else k.current&&(E=setTimeout(P,p.SECOND),b(y))}catch(e){k.current&&w(e)}},O=t=>{try{if(!t)return;if(T.receivePart(t),T.isComplete()){const e=T.resultUR();n(e).catch(w)}}catch(t){i(m(e?"QRHardwareUnknownQRCodeTitle":"QRHardwareInvalidTransactionTitle")),w(new Error(m("unknownQrCode")))}},S=()=>{try{P()}catch(e){if(!k.current)return;"NotAllowedError"===e.name?(a.default.info(`Permission denied: '${e}'`),b(y)):w(e)}};(0,r.useEffect)((()=>(k.current=!0,C(),()=>{k.current=!1,clearTimeout(E)})),[]),(0,r.useEffect)((()=>{h===v?S():h===y&&P()}),[h]);const j=()=>{clearTimeout(E),b(g),w(null),x(new o.URDecoder),C()};return r.default.createElement("div",{className:"qr-scanner"},_?(()=>{let n,a;return"NO_WEBCAM_FOUND"===_.type?(n=m("noWebcamFoundTitle"),a=m("noWebcamFound")):_.message===m("unknownQrCode")?a=m(e?"QRHardwareUnknownWalletQRCode":"unknownQrCode"):_.message===m("QRHardwareMismatchedSignId")?a=m("QRHardwareMismatchedSignId"):(n=m("unknownCameraErrorTitle"),a=m("unknownCameraError")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__image"},r.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?r.default.createElement("div",{className:"qr-scanner__title"},n):null,r.default.createElement("div",{className:"qr-scanner__error"},a),r.default.createElement(c.default,{onCancel:()=>{i(""),t()},onSubmit:()=>{i(""),j()},cancelText:m("cancel"),submitText:m("tryAgain"),submitButtonType:"confirm"}))})():(()=>{let e;return h===g?e=m("accessingYourCamera"):h===v?e=m("QRHardwareScanInstructions"):h===y&&(e=m("youNeedToAllowCameraAccess")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__content"},r.default.createElement(f.default,{handleScan:O})),e&&r.default.createElement("div",{className:"qr-scanner__status"},e))})())};b.propTypes={isReadingWallet:i.default.bool.isRequired,handleCancel:i.default.func.isRequired,handleSuccess:i.default.func.isRequired,setErrorTitle:i.default.func.isRequired};var _=b;n.default=_}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/base-reader.js"}],[4619,{"../../../../shared/constants/time":4364,"../../ui/spinner":5038,"@zxing/browser":2150,"@zxing/library":2369,loglevel:3688,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("@zxing/library"),o=e("@zxing/browser"),i=c(e("loglevel")),s=c(e("prop-types")),l=e("../../../../shared/constants/time"),u=c(e("../../ui/spinner"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({handleScan:e})=>{const[t,n]=(0,r.useState)(!1),s=(0,r.useMemo)((()=>{const e=new Map;return e.set(a.DecodeHintType.POSSIBLE_FORMATS,[a.BarcodeFormat.QR_CODE]),new o.BrowserQRCodeReader(e,{delayBetweenScanAttempts:100*l.MILLISECOND,delayBetweenScanSuccess:100*l.MILLISECOND})}),[]);return(0,r.useEffect)((()=>{const t=document.getElementById("video"),r=()=>{n(!0)};t.addEventListener("canplay",r);const a=s.decodeFromVideoDevice(undefined,"video",(t=>{t&&e(t.getText())}));return()=>{t.removeEventListener("canplay",r),a.then((e=>{e&&e.stop()})).catch(i.default.info)}}),[]),r.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},r.default.createElement("video",{id:"video",style:{display:t?"block":"none",width:"100%",filter:"blur(4px)"}}),t?null:r.default.createElement(u.default,{color:"var(--color-warning-default)"}))};p.propTypes={handleScan:s.default.func.isRequired};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/enhanced-reader.js"}],[4620,{"./qr-hardware-popover":4621},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./qr-hardware-popover"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/index.js"}],[4621,{"../../../hooks/useI18nContext":5156,"../../../selectors":5478,"../../../store/actions":5486,"../../ui/popover":5020,"./qr-hardware-sign-request":4622,"./qr-hardware-wallet-importer":4626,"eth-rpc-errors":2857,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=e("eth-rpc-errors"),i=e("../../../selectors"),s=p(e("../../ui/popover")),l=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),c=p(e("./qr-hardware-wallet-importer")),d=p(e("./qr-hardware-sign-request"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var m=()=>{var e;const t=(0,l.useI18nContext)(),n=(0,a.useSelector)(i.getCurrentQRHardwareState),{sync:p,sign:f}=n,m=null==p?void 0:p.reading,h=null==f?void 0:f.request,g=m||h,[y,v]=(0,r.useState)(""),{txData:b}=(0,a.useSelector)((e=>e.confirmTransaction)),_=(0,r.useMemo)((()=>b),[null==f||null===(e=f.request)||void 0===e?void 0:e.requestId]),w=(0,a.useDispatch)(),T=(0,r.useCallback)((()=>w((0,u.cancelSyncQRHardware)())),[w]),x=(0,r.useCallback)((()=>{w((0,u.rejectPendingApproval)(_.id,(0,o.serializeError)(o.ethErrors.provider.userRejectedRequest()))),w((0,u.cancelTx)(_)),w((0,u.cancelQRHardwareSignRequest)())}),[w,_]),E=(0,r.useMemo)((()=>{let e="";return h?e=t("QRHardwareSignRequestTitle"):m&&(e=t("QRHardwareWalletImporterTitle")),""!==y&&(e=y),e}),[h,m,t,y]);return g?r.default.createElement(s.default,{title:E,onClose:m?T:x},m&&r.default.createElement(c.default,{handleCancel:T,setErrorTitle:v}),h&&r.default.createElement(d.default,{setErrorTitle:v,handleCancel:x,request:f.request})):null};n.default=m}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-popover.js"}],[4622,{"./qr-hardware-sign-request.component":4624},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./qr-hardware-sign-request.component"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/index.js"}],[4623,{"../../../../helpers/constants/design-system":5092,"../../../../hooks/useI18nContext":5156,"../../../component-library":4822,"../../../ui/page-container":5013,"@ngraveio/bc-ur":1732,buffer:2541,"prop-types":3823,"qrcode.react":3909,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=d(e("qrcode.react")),o=e("@ngraveio/bc-ur"),i=d(e("prop-types")),s=e("../../../../hooks/useI18nContext"),l=e("../../../../helpers/constants/design-system"),u=e("../../../ui/page-container"),c=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({type:e,cbor:n,cancelQRHardwareSignRequest:i,toRead:d})=>{const p=(0,s.useI18nContext)(),f=(0,r.useMemo)((()=>new o.UREncoder(new o.UR(t.from(n,"hex"),e),400)),[n,e]),[m,h]=(0,r.useState)(f.nextPart());return(0,r.useEffect)((()=>{const e=setInterval((()=>{h(f.nextPart())}),100);return()=>{clearInterval(e)}}),[f]),r.default.createElement(r.default.Fragment,null,r.default.createElement(c.Box,null,r.default.createElement(c.Text,{align:l.TextAlign.Center},p("QRHardwareSignRequestSubtitle"))),r.default.createElement(c.Box,{paddingTop:4,paddingBottom:4,display:l.Display.Flex,alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column},r.default.createElement("div",{style:{padding:20,backgroundColor:"var(--qr-code-white-background)"}},r.default.createElement(a.default,{value:m.toUpperCase(),size:250}))),r.default.createElement(c.Box,{paddingBottom:4,paddingLeft:4,paddingRight:4},r.default.createElement(c.Text,{align:l.TextAlign.Center},p("QRHardwareSignRequestDescription"))),r.default.createElement(u.PageContainerFooter,{onCancel:i,onSubmit:d,cancelText:p("QRHardwareSignRequestCancel"),submitText:p("QRHardwareSignRequestGetSignature"),submitButtonType:"confirm"}))};f.propTypes={type:i.default.string.isRequired,cbor:i.default.string.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,toRead:i.default.func.isRequired};var m=f;n.default=m}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/player.js"}],[4624,{"../../../../store/actions":5486,"./player":4623,"./reader":4625,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=l(e("prop-types")),o=e("../../../../store/actions"),i=l(e("./player")),s=l(e("./reader"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=({request:e,handleCancel:t,setErrorTitle:n})=>{const[a,l]=(0,r.useState)("play"),u=(0,r.useCallback)((()=>l("read")),[]);return"play"===a?(()=>{const{payload:n}=e;return r.default.createElement(i.default,{type:n.type,cbor:n.cbor,cancelQRHardwareSignRequest:t,toRead:u})})():r.default.createElement(s.default,{cancelQRHardwareSignRequest:t,submitQRHardwareSignature:o.submitQRHardwareSignature,requestId:e.requestId,setErrorTitle:n})};c.propTypes={request:a.default.object.isRequired,handleCancel:a.default.func.isRequired,setErrorTitle:a.default.func.isRequired};var d=c;n.default=d}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/qr-hardware-sign-request.component.js"}],[4625,{"../../../../hooks/useI18nContext":5156,"../base-reader":4618,"@keystonehq/bc-ur-registry-eth":549,"prop-types":3823,react:4076,uuid:4293},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=c(e("react")),a=e("@keystonehq/bc-ur-registry-eth"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("uuid")),i=c(e("prop-types")),s=c(e("../base-reader")),l=e("../../../../hooks/useI18nContext");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}const d=({submitQRHardwareSignature:e,cancelQRHardwareSignRequest:t,requestId:n,setErrorTitle:i})=>{const u=(0,l.useI18nContext)();return r.default.createElement(s.default,{isReadingWallet:!1,handleCancel:()=>{t()},handleSuccess:async t=>{if("eth-signature"===t.type){const r=a.ETHSignature.fromCBOR(t.cbor).getRequestId(),s=o.stringify(r);if(s===n)return await e(s,t.cbor.toString("hex"));throw i(u("QRHardwareInvalidTransactionTitle")),new Error(u("QRHardwareMismatchedSignId"))}throw i(u("QRHardwareInvalidTransactionTitle")),new Error(u("unknownQrCode"))},setErrorTitle:i})};d.propTypes={submitQRHardwareSignature:i.default.func.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,requestId:i.default.string.isRequired,setErrorTitle:i.default.func.isRequired};var p=d;n.default=p}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/reader.js"}],[4626,{"./qr-hardware-wallet-importer.component":4627},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=((r=e("./qr-hardware-wallet-importer.component"))&&r.__esModule?r:{default:r}).default;n.default=a}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/index.js"}],[4627,{"../../../../hooks/useI18nContext":5156,"../../../../store/actions":5486,"../base-reader":4618,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../../store/actions"),i=l(e("../base-reader")),s=e("../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const u=({handleCancel:e,setErrorTitle:t})=>{const n=(0,s.useI18nContext)();return r.default.createElement(i.default,{isReadingWallet:!0,handleCancel:e,handleSuccess:async e=>{if("crypto-hdkey"===e.type)return await(0,o.submitQRHardwareCryptoHDKey)(e.cbor.toString("hex"));if("crypto-account"===e.type)return await(0,o.submitQRHardwareCryptoAccount)(e.cbor.toString("hex"));throw t(n("QRHardwareUnknownQRCodeTitle")),new Error(n("unknownQrCode"))},setErrorTitle:t})};u.propTypes={handleCancel:a.default.func.isRequired,setErrorTitle:a.default.func.isRequired};var c=u;n.default=c}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/qr-hardware-wallet-importer.component.js"}],[4628,{"./recovery-phrase-reminder":4629},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./recovery-phrase-reminder"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/index.js"}],[4629,{"../../../helpers/constants/design-system":5092,"../../../helpers/constants/routes":5097,"../../../hooks/useI18nContext":5156,"../../component-library":4822,"../../ui/box":4931,"../../ui/button":4935,"../../ui/popover":5020,"prop-types":3823,react:4076,"react-router-dom":4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=f(e("react")),a=f(e("prop-types")),o=e("react-router-dom"),i=e("../../../hooks/useI18nContext"),s=f(e("../../ui/box")),l=f(e("../../ui/button")),u=f(e("../../ui/popover")),c=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/routes"),p=e("../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onConfirm:e,hasBackedUp:t}){const n=(0,i.useI18nContext)(),a=(0,o.useHistory)();return r.default.createElement(u.default,{centerTitle:!0,title:n("recoveryPhraseReminderTitle")},r.default.createElement(s.default,{paddingRight:4,paddingBottom:6,paddingLeft:4,className:"recovery-phrase-reminder"},r.default.createElement(p.Text,{color:c.TextColor.textDefault,align:c.TextAlign.Center,variant:c.TextVariant.bodyMd,marginBottom:4},n("recoveryPhraseReminderSubText")),r.default.createElement(s.default,{marginTop:4,marginBottom:8},r.default.createElement("ul",{className:"recovery-phrase-reminder__list"},r.default.createElement(p.Text,{as:"li",color:c.TextColor.textDefault,fontWeight:c.FontWeight.Bold},n("recoveryPhraseReminderItemOne")),r.default.createElement(p.Text,{as:"li"},n("recoveryPhraseReminderItemTwo")),r.default.createElement(p.Text,{as:"li"},t?n("recoveryPhraseReminderHasBackedUp"):r.default.createElement(r.default.Fragment,null,n("recoveryPhraseReminderHasNotBackedUp"),r.default.createElement(s.default,{display:c.DISPLAY.INLINE_BLOCK,marginLeft:1},r.default.createElement(l.default,{type:"link",onClick:()=>{a.push(d.ONBOARDING_UNLOCK_ROUTE)},style:{fontSize:"inherit",padding:0}},n("recoveryPhraseReminderBackupStart"))))))),r.default.createElement(s.default,{justifyContent:c.JustifyContent.center},r.default.createElement(s.default,{width:c.BLOCK_SIZES.TWO_FIFTHS},r.default.createElement(l.default,{type:"primary",onClick:e},n("recoveryPhraseReminderConfirm"))))))}m.propTypes={hasBackedUp:a.default.bool.isRequired,onConfirm:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/recovery-phrase-reminder.js"}],[4630,{"./security-provider-banner-message":4631},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./security-provider-banner-message"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/security-provider-banner-message/index.js"}],[4631,{"../../../../.storybook/i18n":1,"../../../../shared/constants/security-provider":4357,"../../../helpers/constants/design-system":5092,"../../component-library":4822,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../helpers/constants/design-system"),s=e("../../../../shared/constants/security-provider"),l=e("../../../../.storybook/i18n"),u=e("../../component-library");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d({securityProviderResponse:e}){const t=(0,a.useContext)(l.I18nContext);let n,r,o;return e.flagAsDangerous===s.SECURITY_PROVIDER_MESSAGE_SEVERITY.MALICIOUS?(n=""===e.reason_header?t("requestFlaggedAsMaliciousFallbackCopyReasonTitle"):e.reason_header,r=""===e.reason?t("requestFlaggedAsMaliciousFallbackCopyReason"):e.reason,o=i.SEVERITIES.DANGER):e.flagAsDangerous===s.SECURITY_PROVIDER_MESSAGE_SEVERITY.NOT_SAFE?(n=t("requestMayNotBeSafe"),r=t("requestMayNotBeSafeError"),o=i.SEVERITIES.WARNING):(n=t("requestNotVerified"),r=t("requestNotVerifiedError"),o=i.SEVERITIES.WARNING),a.default.createElement(u.BannerAlert,{className:"security-provider-banner-message",marginTop:4,marginRight:4,marginLeft:4,title:n,severity:o},a.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6"},r),a.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.Color.textAlternative},t("securityAlert",[a.default.createElement(u.ButtonLink,{key:"opensea_link",size:i.Size.inherit,href:"https://opensea.io/",target:"_blank"},t("openSeaNew")),a.default.createElement(u.ButtonLink,{key:"blockaid_link",size:i.Size.inherit,href:"https://blockaid.io/",target:"_blank"},t("blockaid"))])))}d.propTypes={securityProviderResponse:o.default.object}}}},{package:"$root$",file:"ui/components/app/security-provider-banner-message/security-provider-banner-message.js"}],[4632,{"./set-approval-for-all-warning":4633},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./set-approval-for-all-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/set-approval-for-all-warning/index.js"}],[4633,{"../../../helpers/constants/design-system":5092,"../../../helpers/utils/util":5133,"../../../hooks/useI18nContext":5156,"../../component-library":4822,"../../ui/box":4931,"../../ui/identicon":4985,"../../ui/popover":5020,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=p(e("react")),a=p(e("prop-types")),o=e("../../../hooks/useI18nContext"),i=p(e("../../ui/popover")),s=p(e("../../ui/box")),l=e("../../../helpers/constants/design-system"),u=p(e("../../ui/identicon")),c=e("../../../helpers/utils/util"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}const f=({collectionName:e,senderAddress:t,name:n,total:a,isERC721:p,onSubmit:f,onCancel:m})=>{const h=(0,o.useI18nContext)(),g=r.default.createElement(s.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,justifyContent:l.JustifyContent.SPACE_BETWEEN,className:"set-approval-for-all-warning__footer",gap:4},r.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__approve-button",variant:d.BUTTON_VARIANT.PRIMARY,danger:!0,onClick:f},h("approveButtonText")),r.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__cancel-button",variant:d.BUTTON_VARIANT.SECONDARY,onClick:m},h("reject")));return r.default.createElement(i.default,{className:"set-approval-for-all-warning__content",footer:g},r.default.createElement(s.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.ROW,padding:4,className:"set-approval-for-all-warning__content__header"},r.default.createElement(d.Icon,{name:d.IconName.Danger,className:"set-approval-for-all-warning__content__header__warning-icon"}),r.default.createElement(d.Text,{variant:l.TextVariant.headingSm,as:"h4"},h("yourNFTmayBeAtRisk"))),r.default.createElement(s.default,{display:l.DISPLAY.FLEX,padding:4,justifyContent:l.JustifyContent.spaceBetween,className:"set-approval-for-all-warning__content__account"},r.default.createElement(s.default,{display:l.DISPLAY.FLEX},r.default.createElement(u.default,{address:t,diameter:32}),r.default.createElement(d.Text,{variant:l.TextVariant.bodyMd,as:"h5",marginLeft:2,className:"set-approval-for-all-warning__content__account-name"},r.default.createElement("strong",null,n)," ",` (${(0,c.shortenAddress)(t)})`)),p&&a&&r.default.createElement(d.Text,null,`${h("total")}: ${a}`)),r.default.createElement(d.Text,{margin:4,marginTop:4,marginBottom:4,variant:l.TextVariant.bodySm,as:"h6"},h("nftWarningContent",[r.default.createElement("strong",{key:"non_custodial_bold"},h("nftWarningContentBold",[e||""])),r.default.createElement("strong",{key:"non_custodial_grey"},h("nftWarningContentGrey"))])))};f.propTypes={collectionName:a.default.string,senderAddress:a.default.string,name:a.default.string,total:a.default.string,isERC721:a.default.bool,onSubmit:a.default.func,onCancel:a.default.func};var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/set-approval-for-all-warning/set-approval-for-all-warning.js"}],[4634,{"./signature-request-header":4635},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request-header/index.js"}],[4635,{"../../../../shared/constants/common":4348,"../../../../shared/modules/Numeric":4376,"../../../../shared/modules/conversion.utils":4380,"../../../ducks/metamask/metamask":5084,"../../../helpers/utils/confirm-tx.util":5115,"../../../helpers/utils/util":5133,"../../../hooks/useI18nContext":5156,"../../../selectors":5478,"../network-account-balance-header":4590,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=h(e("react")),a=h(e("prop-types")),o=e("react-redux"),i=e("../../../hooks/useI18nContext"),s=e("../../../ducks/metamask/metamask"),l=e("../../../selectors"),u=e("../../../helpers/utils/confirm-tx.util"),c=e("../../../helpers/utils/util"),d=e("../../../../shared/constants/common"),p=e("../../../../shared/modules/conversion.utils"),f=e("../../../../shared/modules/Numeric"),m=h(e("../network-account-balance-header"));function h(e){return e&&e.__esModule?e:{default:e}}const g=({txData:e})=>{const t=(0,i.useI18nContext)(),{msgParams:{from:n}}=e,a=(0,o.useSelector)(l.accountsWithSendEtherInfoSelector),h=(0,c.getAccountByAddress)(a,n),g=(0,o.useSelector)(s.getNativeCurrency),y=(0,o.useSelector)(l.getCurrentCurrency),v=(0,o.useSelector)(l.getCurrentChainId),b=(0,o.useSelector)(s.getProviderConfig),_=(0,c.getNetworkNameFromProviderType)(b.type),{useNativeCurrencyAsPrimaryCurrency:w}=(0,o.useSelector)(l.getPreferences),T=(0,o.useSelector)(l.conversionRateSelector),x=w?null:T,E=""===_?b.nickname||t("unknownNetwork"):t(_),k=x?(0,u.formatCurrency)((0,p.getValueFromWeiHex)({value:h.balance,fromCurrency:g,toCurrency:y,conversionRate:x,numberOfDecimals:6,toDenomination:d.EtherDenomination.ETH}),y):new f.Numeric(h.balance,16,d.EtherDenomination.WEI).toDenomination(d.EtherDenomination.ETH).round(6).toBase(10).toString();return r.default.createElement(m.default,{networkName:E,accountName:h.name,accountBalance:k,tokenName:x?null==y?void 0:y.toUpperCase():g,accountAddress:h.address,chainId:v})};g.propTypes={txData:a.default.object.isRequired};var y=g;n.default=y}}},{package:"$root$",file:"ui/components/app/signature-request-header/signature-request-header.js"}],[4636,{"./signature-request-original.container":4640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-original.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request-original/index.js"}],[4637,{"./signature-request-original-warning":4638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-original-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original-warning/index.js"}],[4638,{"../../../../helpers/constants/design-system":5092,"../../../../helpers/utils/util":5133,"../../../../hooks/useI18nContext":5156,"../../../component-library":4822,"../../../ui/identicon":4985,"../../../ui/popover":5020,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("react")),a=d(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=d(e("../../../ui/popover")),s=e("../../../../helpers/constants/design-system"),l=d(e("../../../ui/identicon")),u=e("../../../../helpers/utils/util"),c=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}const p=({senderAddress:e,name:t,onSubmit:n,onCancel:a})=>{const d=(0,o.useI18nContext)();return r.default.createElement(i.default,{className:"signature-request-warning__content"},r.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,padding:4,className:"signature-request-warning__content__header"},r.default.createElement(c.Icon,{name:c.IconName.Danger,color:s.IconColor.errorDefault,className:"signature-request-warning__content__header__warning-icon"}),r.default.createElement(c.Text,{variant:s.TextVariant.headingSm,fontWeight:s.FontWeight.Bold},d("yourFundsMayBeAtRisk"))),r.default.createElement(c.Box,{display:s.Display.Flex,padding:4,justifyContent:s.JustifyContent.spaceBetween,className:"signature-request-warning__content__account"},r.default.createElement(c.Box,{display:s.Display.Flex},r.default.createElement(l.default,{address:e,diameter:32}),r.default.createElement(c.Text,{variant:s.TextVariant.bodyMd,as:"h5",marginLeft:2,className:"signature-request-warning__content__account-name"},r.default.createElement("b",null,t)," ",` (${(0,u.shortenAddress)(e)})`))),r.default.createElement(c.Text,{color:s.TextColor.textAlternative,margin:4,marginTop:4,marginBottom:4,variant:s.TextVariant.bodySm,as:"h6"},d("signatureRequestWarning",[r.default.createElement("a",{href:"https://consensys.net/blog/metamask/the-seal-of-approval-know-what-youre-consenting-to-with-permissions-and-approvals-in-metamask/",target:"_blank",type:"link",key:"non_custodial_link",rel:"noopener noreferrer",style:{color:"var(--color-primary-default)"}},d("learnMoreUpperCase"))])),r.default.createElement(c.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,justifyContent:s.JustifyContent.spaceBetween,padding:4,className:"signature-request-warning__footer"},r.default.createElement(c.Button,{className:"signature-request-warning__footer__sign-button",type:"danger-primary","data-testid":"signature-warning-sign-button",onClick:n},d("sign")),r.default.createElement(c.Button,{className:"signature-request-warning__footer__reject-button",type:"secondary",onClick:a},d("reject"))))};p.propTypes={senderAddress:a.default.string,name:a.default.string,onSubmit:a.default.func,onCancel:a.default.func};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original-warning/signature-request-original-warning.js"}],[4639,{"../../../../shared/constants/app":4346,"../../../../shared/modules/hexstring-utils":4384,"../../../../shared/modules/security-provider.utils":4391,"../../../helpers/constants/design-system":5092,"../../../helpers/utils/util":5133,"../../component-library":4822,"../../ui/page-container":5013,"../../ui/site-origin":5036,"../../ui/typography/typography":5062,"../confirm-page-container/confirm-page-container-navigation":4457,"../ledger-instruction-field":4533,"../security-provider-banner-message/security-provider-banner-message":4631,"../signature-request-header":4634,"../snaps/snap-legacy-authorship-header":4671,"./signature-request-original-warning":4637,"@metamask/permission-controller":1402,buffer:2541,classnames:2582,"eth-rpc-errors":2857,"prop-types":3823,react:4076,"react-inspector":3934},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=E(e("prop-types")),o=E(e("classnames")),i=e("react-inspector"),s=e("eth-rpc-errors"),l=e("@metamask/permission-controller"),u=E(e("../ledger-instruction-field")),c=e("../../../../shared/constants/app"),d=e("../../../helpers/utils/util"),p=e("../../../../shared/modules/hexstring-utils"),f=e("../../../../shared/modules/security-provider.utils"),m=E(e("../../ui/site-origin")),h=E(e("../../ui/typography/typography")),g=e("../../ui/page-container"),y=e("../../../helpers/constants/design-system"),v=e("../../component-library"),b=E(e("../confirm-page-container/confirm-page-container-navigation")),_=E(e("../security-provider-banner-message/security-provider-banner-message")),w=E(e("../signature-request-header")),T=E(e("../snaps/snap-legacy-authorship-header")),x=E(e("./signature-request-original-warning"));function E(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function C(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends r.Component{constructor(...e){super(...e),C(this,"state",{showSignatureRequestWarning:!1}),C(this,"msgHexToText",(e=>{try{const n=(0,p.stripHexPrefix)(e),r=t.from(n,"hex");return 32===r.length?e:r.toString("utf8")}catch(t){return e}})),C(this,"renderTypedData",(e=>{const{t:t}=this.context,{domain:n,message:a}=JSON.parse(e);return r.default.createElement("div",{className:"request-signature__typed-container"},n?r.default.createElement("div",null,r.default.createElement("h1",null,t("domain")),r.default.createElement(i.ObjectInspector,{data:n,expandLevel:1,name:"domain"})):"",a?r.default.createElement("div",null,r.default.createElement("h1",null,t("message")),r.default.createElement(i.ObjectInspector,{data:a,expandLevel:1,name:"message"})):"")})),C(this,"renderBody",(()=>{let e;const t=`${this.context.t("youSign")}:`,{txData:n,subjectMetadata:a}=this.props,{type:i,msgParams:{data:s}}=n;i===c.MESSAGE_TYPE.PERSONAL_SIGN?e=[{name:this.context.t("message"),value:this.msgHexToText(s)}]:i===c.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA?e=s:i===c.MESSAGE_TYPE.ETH_SIGN&&(e=[{name:this.context.t("message"),value:s}]);const u=n.msgParams.origin?null==a?void 0:a[n.msgParams.origin]:null;return r.default.createElement("div",{className:"request-signature__body"},(0,f.isSuspiciousResponse)(null==n?void 0:n.securityProviderResponse)&&r.default.createElement(_.default,{securityProviderResponse:n.securityProviderResponse}),r.default.createElement("div",{className:"request-signature__origin"},(null==u?void 0:u.subjectType)===l.SubjectType.Snap?r.default.createElement(T.default,{snapId:u.origin,marginLeft:4,marginRight:4}):r.default.createElement(m.default,{title:n.msgParams.origin,siteOrigin:n.msgParams.origin,iconSrc:null==u?void 0:u.iconUrl,iconName:(0,d.getURLHostName)(null==u?void 0:u.origin)||(null==u?void 0:u.origin),chip:!0})),r.default.createElement(h.default,{className:"request-signature__content__title",variant:y.TypographyVariant.H3,fontWeight:y.FontWeight.Bold},this.context.t("sigRequest")),r.default.createElement(h.default,{className:"request-signature__content__subtitle",variant:y.TypographyVariant.H7,color:y.TextColor.textAlternative,align:y.TextAlign.Center,margin:12,marginTop:3},this.context.t("signatureRequestGuidance")),r.default.createElement("div",{className:(0,o.default)("request-signature__notice")},t),r.default.createElement("div",{className:"request-signature__rows"},e.map((({name:e,value:t},n)=>("boolean"==typeof t&&(t=t.toString()),r.default.createElement("div",{className:"request-signature__row",key:`request-signature-row-${n}`},r.default.createElement("div",{className:"request-signature__row-title"},(0,d.sanitizeString)(`${e}:`)),r.default.createElement("div",{className:"request-signature__row-value"},(0,d.sanitizeString)(t))))))))})),C(this,"onSubmit",(async()=>{const{resolvePendingApproval:e,completedTx:t,clearConfirmTransaction:n,history:r,mostRecentOverviewPage:a,txData:o}=this.props;await e(o.id),t(o.id),n(),r.push(a)})),C(this,"onCancel",(async()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,rejectPendingApproval:r,txData:{id:a}}=this.props;await r(a,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())),e(),t.push(n)})),C(this,"renderFooter",(()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,txData:a,hardwareWalletRequiresConnection:o,rejectPendingApproval:i,resolvePendingApproval:l}=this.props,{t:u}=this.context;return r.default.createElement(g.PageContainerFooter,{cancelText:u("reject"),submitText:u("sign"),onCancel:async()=>{await i(a.id,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())),e(),t.push(n)},onSubmit:async()=>{a.type===c.MESSAGE_TYPE.ETH_SIGN?this.setState({showSignatureRequestWarning:!0}):(await l(a.id),e(),t.push(n))},disabled:o})})),C(this,"handleCancelAll",(()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,showRejectTransactionsConfirmationModal:r,messagesCount:a,cancelAllApprovals:o}=this.props;r({unapprovedTxCount:a,onSubmit:async()=>{await o(),e(),t.push(n)}})})),C(this,"render",(()=>{const{messagesCount:e,fromAccount:{address:t,name:n},txData:a}=this.props,{showSignatureRequestWarning:o}=this.state,{t:i}=this.context,s=i("rejectRequestsN",[e]);return r.default.createElement("div",{className:"request-signature__container"},r.default.createElement("div",{className:"request-signature__navigation"},r.default.createElement(b.default,null)),r.default.createElement("div",{className:"request-signature__account"},r.default.createElement(w.default,{txData:a})),this.renderBody(),this.props.isLedgerWallet?r.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},r.default.createElement(u.default,{showDataInstruction:!0})):null,o&&r.default.createElement(x.default,{senderAddress:t,name:n,onSubmit:async e=>await this.onSubmit(e),onCancel:async e=>await this.onCancel(e)}),this.renderFooter(),e>1?r.default.createElement(v.ButtonLink,{size:y.Size.inherit,className:"request-signature__container__reject",onClick:()=>this.handleCancelAll()},s):null)}))}}n.default=P,C(P,"contextTypes",{t:a.default.func.isRequired}),C(P,"propTypes",{fromAccount:a.default.shape({address:a.default.string.isRequired,name:a.default.string}).isRequired,txData:a.default.object.isRequired,subjectMetadata:a.default.object,hardwareWalletRequiresConnection:a.default.bool,isLedgerWallet:a.default.bool,messagesCount:a.default.number,showRejectTransactionsConfirmationModal:a.default.func.isRequired,cancelAllApprovals:a.default.func.isRequired,rejectPendingApproval:a.default.func.isRequired,clearConfirmTransaction:a.default.func.isRequired,history:a.default.object.isRequired,mostRecentOverviewPage:a.default.string.isRequired,resolvePendingApproval:a.default.func.isRequired,completedTx:a.default.func.isRequired})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original.component.js"}],[464,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.version=void 0,n.version="hdnode/5.7.0"}}},{package:"@ethersproject/hdnode",file:"node_modules/@ethersproject/hdnode/lib/_version.js"}],[4640,{"../../../ducks/confirm-transaction/confirm-transaction.duck":5077,"../../../ducks/history/history":5081,"../../../ducks/metamask/metamask":5084,"../../../helpers/utils/util":5133,"../../../selectors":5478,"../../../store/actions":5486,"./signature-request-original.component":4639,"react-redux":4041,"react-router-dom":4061,redux:4109},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=e("react-redux"),o=e("redux"),i=e("react-router-dom"),s=e("../../../store/actions"),l=e("../../../selectors"),u=e("../../../helpers/utils/util"),c=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),d=e("../../../ducks/history/history"),p=e("../../../ducks/metamask/metamask"),f=(r=e("./signature-request-original.component"))&&r.__esModule?r:{default:r};let m=null;m=function(e){return{goHome:()=>e((0,s.goHome)()),clearConfirmTransaction:()=>e((0,c.clearConfirmTransaction)()),showRejectTransactionsConfirmationModal:({onSubmit:t,unapprovedTxCount:n})=>e((0,s.showModal)({name:"REJECT_TRANSACTIONS",onSubmit:t,unapprovedTxCount:n,isRequestType:!0})),completedTx:t=>e((0,s.completedTx)(t)),resolvePendingApproval:t=>{e((0,s.resolvePendingApproval)(t))},rejectPendingApproval:(t,n)=>e((0,s.rejectPendingApproval)(t,n)),cancelAllApprovals:t=>{e((0,s.rejectAllMessages)(t))}}};var h=(0,o.compose)(i.withRouter,(0,a.connect)((function(e,t){const{msgParams:{from:n}}=t.txData,r=(0,l.doesAddressRequireLedgerHidConnection)(e,n),a=(0,p.isAddressLedger)(e,n),o=(0,l.unconfirmedMessagesHashSelector)(e),i=(0,l.getTotalUnapprovedMessagesCount)(e);return{requester:null,requesterAddress:null,mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),hardwareWalletRequiresConnection:r,isLedgerWallet:a,allAccounts:(0,l.accountsWithSendEtherInfoSelector)(e),subjectMetadata:(0,l.getSubjectMetadata)(e),messagesList:o,messagesCount:i}}),m,(function(e,t,n){const{txData:r}=n,{allAccounts:a,messagesList:o,...i}=e,{msgParams:{from:s}}=r,l=(0,u.getAccountByAddress)(a,s),{cancelAllApprovals:c}=t;return{...n,...i,...t,fromAccount:l,txData:r,cancelAllApprovals:()=>c((0,u.valuesFor)(o))}})))(f.default);n.default=h}}},{package:"$root$",file:"ui/components/app/signature-request-original/signature-request-original.container.js"}],[4641,{"./signature-request-siwe":4648},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-siwe"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/index.js"}],[4642,{"./signature-request-siwe-header":4643},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-siwe-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-header/index.js"}],[4643,{"../../../../contexts/i18n":5069,"../../../ui/tooltip":5057,"../../account-list-item":4399,"../../permissions-connect-header":4614,"../signature-request-siwe-icon":4644,"../signature-request-siwe-tag":4647,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=d(e("prop-types")),o=d(e("../../account-list-item")),i=e("../../../../contexts/i18n"),s=d(e("../../permissions-connect-header")),l=d(e("../signature-request-siwe-icon")),u=d(e("../signature-request-siwe-tag")),c=d(e("../../../ui/tooltip"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({fromAccount:e,domain:t,isSIWEDomainValid:n,subjectMetadata:a}){const d=(0,r.useContext)(i.I18nContext);return r.default.createElement("div",{className:"signature-request-siwe-header"},r.default.createElement(s.default,{iconUrl:a.iconUrl,iconName:a.name,headerTitle:d("SIWESiteRequestTitle"),headerText:d("SIWESiteRequestSubtitle"),siteOrigin:t,className:n?"":"bad-domain",leftIcon:!n&&r.default.createElement(c.default,{position:"bottom",html:r.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},r.default.createElement(l.default,null)),rightIcon:!n&&r.default.createElement(c.default,{position:"bottom",html:r.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},r.default.createElement(u.default,{text:d("SIWEDomainWarningLabel")}))}),e&&r.default.createElement(o.default,{account:e,className:"signature-request-siwe-header__account-list-item"}))}f.propTypes={fromAccount:a.default.object,domain:a.default.string,isSIWEDomainValid:a.default.bool,subjectMetadata:a.default.object}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-header/signature-request-siwe-header.js"}],[4644,{"../../../../helpers/constants/design-system":5092,"../../../component-library":4822,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library");var s=()=>a.default.createElement(i.Box,{className:"signature-request-siwe-icon",display:o.Display.InlineFlex,alignItems:o.AlignItems.center,backgroundColor:o.Color.errorDefault,justifyContent:o.JustifyContent.center},a.default.createElement(i.Icon,{name:i.IconName.Danger,color:o.Color.errorInverse}));n.default=s}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-icon/index.js"}],[4645,{"./signature-request-siwe-message":4646},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-siwe-message"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-message/index.js"}],[4646,{"../../../../helpers/constants/design-system":5092,"../../../component-library":4822,"../../../ui/box":4931,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=l(e("../../../ui/box")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}const u=({data:e})=>r.default.createElement(o.default,{className:"signature-request-siwe-message"},r.default.createElement(o.default,{flexDirection:s.FLEX_DIRECTION.COLUMN},e.map((({label:e,value:t},n)=>r.default.createElement(o.default,{key:n.toString(),marginTop:2,marginBottom:2},r.default.createElement(i.Text,{as:"h4",variant:s.TextVariant.bodyLgMedium,marginTop:2,marginBottom:2},e),r.default.createElement(i.Text,{className:"signature-request-siwe-message__sub-text",overflowWrap:s.OVERFLOW_WRAP.BREAK_WORD,marginTop:2,marginBottom:2},t))))));u.propTypes={data:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.oneOfType([a.default.string,a.default.number])}))};var c=r.default.memo(u);n.default=c}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-message/signature-request-siwe-message.js"}],[4647,{"../../../../helpers/constants/design-system":5092,"../../../component-library":4822,"../../../ui/box":4931,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=l(e("../../../ui/box")),s=e("../../../component-library");function l(e){return e&&e.__esModule?e:{default:e}}const u=({text:e})=>r.default.createElement(i.default,{className:"signature-request-siwe-tag",marginRight:1,display:o.Display.InlineFlex,alignItems:o.AlignItems.center,backgroundColor:o.BackgroundColor.errorDefault,borderRadius:o.Size.XL,paddingLeft:4,paddingRight:4},r.default.createElement(s.Text,{margin:0,variant:o.TextVariant.bodySmBold,as:"h6",color:o.TextColor.errorInverse},e));var c=u;n.default=c,u.propTypes={text:a.default.string}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe-tag/index.js"}],[4648,{"../../../../shared/modules/security-provider.utils":4391,"../../../../shared/modules/siwe":4392,"../../../contexts/i18n":5069,"../../../ducks/confirm-transaction/confirm-transaction.duck":5077,"../../../ducks/history/history":5081,"../../../ducks/metamask/metamask":5084,"../../../helpers/constants/design-system":5092,"../../../helpers/utils/util":5133,"../../../selectors":5478,"../../../store/actions":5486,"../../component-library":4822,"../../ui/button":4935,"../../ui/check-box":4939,"../../ui/page-container":5013,"../../ui/popover":5020,"../confirm-page-container/confirm-page-container-navigation":4457,"../ledger-instruction-field":4533,"../security-provider-banner-message/security-provider-banner-message":4631,"../signature-request-header":4634,"./signature-request-siwe-header":4642,"./signature-request-siwe-message":4645,"@metamask/controller-utils":1076,"eth-rpc-errors":2857,loglevel:3688,"prop-types":3823,react:4076,"react-redux":4041,"react-router-dom":4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=I;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=M(e("prop-types")),o=e("react-redux"),i=e("react-router-dom"),s=M(e("loglevel")),l=e("@metamask/controller-utils"),u=e("eth-rpc-errors"),c=e("../../component-library"),d=M(e("../../ui/popover")),p=M(e("../../ui/check-box")),f=M(e("../../ui/button")),m=e("../../../contexts/i18n"),h=e("../../ui/page-container"),g=e("../../../ducks/metamask/metamask"),y=e("../../../selectors"),v=e("../../../helpers/utils/util"),b=e("../../../../shared/modules/security-provider.utils"),_=e("../../../../shared/modules/siwe"),w=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),T=e("../../../helpers/constants/design-system"),x=e("../../../store/actions"),E=M(e("../security-provider-banner-message/security-provider-banner-message")),k=M(e("../confirm-page-container/confirm-page-container-navigation")),C=e("../../../ducks/history/history"),P=M(e("../ledger-instruction-field")),O=M(e("../signature-request-header")),S=M(e("./signature-request-siwe-header")),j=M(e("./signature-request-siwe-message"));function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function I({txData:e}){const t=(0,o.useDispatch)(),n=(0,i.useHistory)(),a=(0,r.useContext)(m.I18nContext),M=(0,o.useSelector)(y.accountsWithSendEtherInfoSelector),N=(0,o.useSelector)(y.getSubjectMetadata),I=(0,o.useSelector)(y.getTotalUnapprovedMessagesCount),R=(0,o.useSelector)(y.unconfirmedMessagesHashSelector),D=(0,o.useSelector)(C.getMostRecentOverviewPage),{msgParams:{from:A,origin:L,siwe:{parsedMessage:$}},id:W}=e,q=(0,o.useSelector)((e=>(0,g.isAddressLedger)(e,A))),B=(0,v.getAccountByAddress)(M,A),F=N[L],z=A.toLowerCase()===$.address.toLowerCase(),U=(0,l.isValidSIWEOrigin)(e.msgParams),[G,V]=(0,r.useState)(!1),[H,Q]=(0,r.useState)(!1),K=(0,b.isSuspiciousResponse)(null==e?void 0:e.securityProviderResponse),Y=(0,r.useCallback)((async()=>{try{await t((0,x.resolvePendingApproval)(W,null)),t((0,x.completedTx)(W))}catch(e){s.default.error(e)}}),[W,t]),J=(0,r.useCallback)((async()=>{try{await t((0,x.rejectPendingApproval)(W,(0,u.serializeError)(u.ethErrors.provider.userRejectedRequest())))}catch(e){s.default.error(e)}}),[]),X=a("rejectRequestsN",[I]);return r.default.createElement("div",{className:"signature-request-siwe"},r.default.createElement("div",{className:"request-signature__navigation"},r.default.createElement(k.default,null)),r.default.createElement(O.default,{txData:e}),K&&r.default.createElement(E.default,{securityProviderResponse:e.securityProviderResponse}),r.default.createElement(S.default,{fromAccount:B,domain:L,isSIWEDomainValid:U,subjectMetadata:F}),r.default.createElement(j.default,{data:(0,_.formatMessageParams)($,a)}),!z&&r.default.createElement(c.BannerAlert,{severity:T.SEVERITIES.WARNING,marginLeft:4,marginRight:4,marginBottom:4},a("SIWEAddressInvalid",[$.address,B.address])),q&&r.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},r.default.createElement(P.default,{showDataInstruction:!0})),!U&&r.default.createElement(c.BannerAlert,{severity:T.SEVERITIES.DANGER,marginLeft:4,marginRight:4,marginBottom:4},r.default.createElement(c.Text,{variant:T.TextVariant.bodyMdBold},a("SIWEDomainInvalidTitle"))," ",r.default.createElement(c.Text,null,a("SIWEDomainInvalidText"))),r.default.createElement(h.PageContainerFooter,{footerClassName:"signature-request-siwe__page-container-footer",onCancel:J,onSubmit:U?Y:()=>V(!0),cancelText:a("cancel"),submitText:a("signin"),submitButtonType:U?"primary":"danger-primary"}),I>1?r.default.createElement(f.default,{type:"link",className:"request-signature__container__reject",onClick:e=>{e.preventDefault(),(()=>{const e=I;t((0,x.showModal)({name:"REJECT_TRANSACTIONS",unapprovedTxCount:e,onSubmit:async()=>{await t((0,x.rejectAllMessages)((0,v.valuesFor)(R))),t((0,w.clearConfirmTransaction)()),n.push(D)}}))})()}},X):null,G&&r.default.createElement(d.default,{onClose:()=>V(!1),title:a("SIWEWarningTitle"),subtitle:a("SIWEWarningSubtitle"),className:"signature-request-siwe__warning-popover",footerClassName:"signature-request-siwe__warning-popover__footer",footer:r.default.createElement(h.PageContainerFooter,{footerClassName:"signature-request-siwe__warning-popover__footer__warning-footer",onCancel:()=>V(!1),cancelText:a("cancel"),cancelButtonType:"default",onSubmit:Y,submitText:a("confirm"),submitButtonType:"danger-primary",disabled:!H})},r.default.createElement("div",{className:"signature-request-siwe__warning-popover__checkbox-wrapper"},r.default.createElement(p.default,{id:"signature-request-siwe_domain-checkbox",checked:H,className:"signature-request-siwe__warning-popover__checkbox-wrapper__checkbox",onClick:()=>Q((e=>!e))}),r.default.createElement("label",{className:"signature-request-siwe__warning-popover__checkbox-wrapper__label",htmlFor:"signature-request-siwe_domain-checkbox"},a("SIWEDomainWarningBody",[$.domain])))))}I.propTypes={txData:a.default.object.isRequired}}}},{package:"$root$",file:"ui/components/app/signature-request-siwe/signature-request-siwe.js"}],[4649,{"./signature-request":4656},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request/index.js"}],[465,{"./_version":464,"@ethersproject/basex":441,"@ethersproject/bignumber":445,"@ethersproject/bytes":447,"@ethersproject/logger":476,"@ethersproject/pbkdf2":480,"@ethersproject/properties":482,"@ethersproject/sha2":510,"@ethersproject/signing-key":514,"@ethersproject/strings":520,"@ethersproject/transactions":523,"@ethersproject/wordlists":532},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountPath=n.isValidMnemonic=n.entropyToMnemonic=n.mnemonicToEntropy=n.mnemonicToSeed=n.HDNode=n.defaultPath=void 0;var r=e("@ethersproject/basex"),a=e("@ethersproject/bytes"),o=e("@ethersproject/bignumber"),i=e("@ethersproject/strings"),s=e("@ethersproject/pbkdf2"),l=e("@ethersproject/properties"),u=e("@ethersproject/signing-key"),c=e("@ethersproject/sha2"),d=e("@ethersproject/transactions"),p=e("@ethersproject/wordlists"),f=e("@ethersproject/logger"),m=e("./_version"),h=new f.Logger(m.version),g=o.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),y=(0,i.toUtf8Bytes)("Bitcoin seed"),v=2147483648;function b(e){return(1<<e)-1<<8-e}function _(e){return(0,a.hexZeroPad)((0,a.hexlify)(e),32)}function w(e){return r.Base58.encode((0,a.concat)([e,(0,a.hexDataSlice)((0,c.sha256)((0,c.sha256)(e)),0,4)]))}function T(e){if(null==e)return p.wordlists.en;if("string"==typeof e){var t=p.wordlists[e];return null==t&&h.throwArgumentError("unknown locale","wordlist",e),t}return e}var x={};n.defaultPath="m/44'/60'/0'/0/0";var E=function(){function e(e,t,n,r,o,i,s,p){if(e!==x)throw new Error("HDNode constructor cannot be called directly");if(t){var f=new u.SigningKey(t);(0,l.defineReadOnly)(this,"privateKey",f.privateKey),(0,l.defineReadOnly)(this,"publicKey",f.compressedPublicKey)}else(0,l.defineReadOnly)(this,"privateKey",null),(0,l.defineReadOnly)(this,"publicKey",(0,a.hexlify)(n));(0,l.defineReadOnly)(this,"parentFingerprint",r),(0,l.defineReadOnly)(this,"fingerprint",(0,a.hexDataSlice)((0,c.ripemd160)((0,c.sha256)(this.publicKey)),0,4)),(0,l.defineReadOnly)(this,"address",(0,d.computeAddress)(this.publicKey)),(0,l.defineReadOnly)(this,"chainCode",o),(0,l.defineReadOnly)(this,"index",i),(0,l.defineReadOnly)(this,"depth",s),null==p?((0,l.defineReadOnly)(this,"mnemonic",null),(0,l.defineReadOnly)(this,"path",null)):"string"==typeof p?((0,l.defineReadOnly)(this,"mnemonic",null),(0,l.defineReadOnly)(this,"path",p)):((0,l.defineReadOnly)(this,"mnemonic",p),(0,l.defineReadOnly)(this,"path",p.path))}return Object.defineProperty(e.prototype,"extendedKey",{get:function(){if(this.depth>=256)throw new Error("Depth too large!");return w((0,a.concat)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",(0,a.hexlify)(this.depth),this.parentFingerprint,(0,a.hexZeroPad)((0,a.hexlify)(this.index),4),this.chainCode,null!=this.privateKey?(0,a.concat)(["0x00",this.privateKey]):this.publicKey]))},enumerable:!1,configurable:!0}),e.prototype.neuter=function(){return new e(x,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)},e.prototype._derive=function(t){if(t>4294967295)throw new Error("invalid index - "+String(t));var n=this.path;n&&(n+="/"+(2147483647&t));var r=new Uint8Array(37);if(t&v){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set((0,a.arrayify)(this.privateKey),1),n&&(n+="'")}else r.set((0,a.arrayify)(this.publicKey));for(var i=24;i>=0;i-=8)r[33+(i>>3)]=t>>24-i&255;var s=(0,a.arrayify)((0,c.computeHmac)(c.SupportedAlgorithm.sha512,this.chainCode,r)),l=s.slice(0,32),d=s.slice(32),p=null,f=null;this.privateKey?p=_(o.BigNumber.from(l).add(this.privateKey).mod(g)):f=new u.SigningKey((0,a.hexlify)(l))._addPoint(this.publicKey);var m=n,h=this.mnemonic;return h&&(m=Object.freeze({phrase:h.phrase,path:n,locale:h.locale||"en"})),new e(x,p,f,this.fingerprint,_(d),t,this.depth+1,m)},e.prototype.derivePath=function(e){var t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();for(var n=this,r=0;r<t.length;r++){var a=t[r];if(a.match(/^[0-9]+'$/)){if((o=parseInt(a.substring(0,a.length-1)))>=v)throw new Error("invalid path index - "+a);n=n._derive(v+o)}else{if(!a.match(/^[0-9]+$/))throw new Error("invalid path component - "+a);var o;if((o=parseInt(a))>=v)throw new Error("invalid path index - "+a);n=n._derive(o)}}return n},e._fromSeed=function(t,n){var r=(0,a.arrayify)(t);if(r.length<16||r.length>64)throw new Error("invalid seed");var o=(0,a.arrayify)((0,c.computeHmac)(c.SupportedAlgorithm.sha512,y,r));return new e(x,_(o.slice(0,32)),null,"0x00000000",_(o.slice(32)),0,0,n)},e.fromMnemonic=function(t,n,r){return t=P(C(t,r=T(r)),r),e._fromSeed(k(t,n),{phrase:t,path:"m",locale:r.locale})},e.fromSeed=function(t){return e._fromSeed(t,null)},e.fromExtendedKey=function(t){var n=r.Base58.decode(t);82===n.length&&w(n.slice(0,78))===t||h.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");var o=n[4],i=(0,a.hexlify)(n.slice(5,9)),s=parseInt((0,a.hexlify)(n.slice(9,13)).substring(2),16),l=(0,a.hexlify)(n.slice(13,45)),u=n.slice(45,78);switch((0,a.hexlify)(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new e(x,null,(0,a.hexlify)(u),i,l,s,o,null);case"0x0488ade4":case"0x04358394 ":if(0!==u[0])break;return new e(x,(0,a.hexlify)(u.slice(1)),null,i,l,s,o,null)}return h.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")},e}();function k(e,t){t||(t="");var n=(0,i.toUtf8Bytes)("mnemonic"+t,i.UnicodeNormalizationForm.NFKD);return(0,s.pbkdf2)((0,i.toUtf8Bytes)(e,i.UnicodeNormalizationForm.NFKD),n,2048,64,"sha512")}function C(e,t){t=T(t),h.checkNormalize();var n=t.split(e);if(n.length%3!=0)throw new Error("invalid mnemonic");for(var r=(0,a.arrayify)(new Uint8Array(Math.ceil(11*n.length/8))),o=0,i=0;i<n.length;i++){var s=t.getWordIndex(n[i].normalize("NFKD"));if(-1===s)throw new Error("invalid mnemonic");for(var l=0;l<11;l++)s&1<<10-l&&(r[o>>3]|=1<<7-o%8),o++}var u=32*n.length/3,d=b(n.length/3);if(((0,a.arrayify)((0,c.sha256)(r.slice(0,u/8)))[0]&d)!==(r[r.length-1]&d))throw new Error("invalid checksum");return(0,a.hexlify)(r.slice(0,u/8))}function P(e,t){if(t=T(t),(e=(0,a.arrayify)(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");for(var n=[0],r=11,o=0;o<e.length;o++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=e[o],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=e[o]>>8-r,n.push(e[o]&(1<<8-r)-1),r+=3);var i=e.length/4,s=(0,a.arrayify)((0,c.sha256)(e))[0]&b(i);return n[n.length-1]<<=i,n[n.length-1]|=s>>8-i,t.join(n.map((function(e){return t.getWord(e)})))}n.HDNode=E,n.mnemonicToSeed=k,n.mnemonicToEntropy=C,n.entropyToMnemonic=P,n.isValidMnemonic=function(e,t){try{return C(e,t),!0}catch(e){}return!1},n.getAccountPath=function(e){return("number"!=typeof e||e<0||e>=v||e%1)&&h.throwArgumentError("invalid account index","index",e),"m/44'/60'/"+e+"'/0/0"}}}},{package:"@ethersproject/hdnode",file:"node_modules/@ethersproject/hdnode/lib/index.js"}],[4650,{"./signature-request-data":4651},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-data"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-data/index.js"}],[4651,{"../../../../../shared/modules/hexstring-utils":4384,"../../../../helpers/constants/design-system":5092,"../../../../helpers/utils/util":5133,"../../../../selectors":5478,"../../../component-library":4822,"../../transaction-decoding/components/decoding/address":4723,lodash:3676,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=e("lodash"),i=f(e("prop-types")),s=e("../../../../selectors"),l=f(e("../../transaction-decoding/components/decoding/address")),u=e("../../../../../shared/modules/hexstring-utils"),c=e("../../../../helpers/constants/design-system"),d=e("../../../../helpers/utils/util"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h({data:e}){const t=(0,a.useSelector)(s.getMemoizedMetaMaskIdentities);return r.default.createElement(p.Box,{as:"ul",className:"signature-request-data__node"},Object.entries(e).map((([e,{value:n,type:a}],o)=>r.default.createElement(p.Box,{as:"li",className:"signature-request-data__node",marginBottom:2,key:`${e}-${o}`,paddingLeft:2,display:"object"!=typeof n||null===n?c.Display.Flex:null},r.default.createElement(p.Text,{as:"div",color:c.TextColor.textDefault,marginLeft:4,fontWeight:"object"==typeof n?c.FontWeight.Bold:c.FontWeight.Normal},(0,d.sanitizeString)(e.charAt(0).toUpperCase()+e.slice(1)),":"," "),"object"==typeof n&&null!==n?r.default.createElement(h,{data:n}):r.default.createElement(p.Text,{as:"div",color:c.TextColor.textDefault,marginLeft:4,className:"signature-request-data__node__value"},"address"===a&&(0,u.isValidHexAddress)(n,{mixedCaseUseChecksum:!0})?r.default.createElement(p.Text,{variant:c.TextVariant.bodySm,as:"div",color:c.TextColor.infoDefault,className:"signature-request-data__node__value__address"},r.default.createElement(l.default,{addressOnly:!0,checksummedRecipientAddress:(0,u.toChecksumHexAddress)(n),recipientName:(0,s.getAccountName)(t,n)})):(0,d.sanitizeString)(`${n}`))))))}h.propTypes={data:i.default.oneOfType([i.default.object,i.default.array]).isRequired};var g=(0,r.memo)(h,((e,t)=>(0,o.isEqual)(e.data,t.data)));n.default=g}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-data/signature-request-data.js"}],[4652,{"./signature-request-footer.component":4653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-footer.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-footer/index.js"}],[4653,{"../../../ui/page-container":5013,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../ui/page-container");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.PureComponent{render(){const{cancelAction:e,signAction:t,disabled:n=!1}=this.props;return a.default.createElement(i.PageContainerFooter,{cancelText:this.context.t("reject"),submitText:this.context.t("sign"),onCancel:e,onSubmit:t,disabled:n})}}n.default=u,l(u,"propTypes",{cancelAction:o.default.func.isRequired,signAction:o.default.func.isRequired,disabled:o.default.bool}),l(u,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-footer/signature-request-footer.component.js"}],[4654,{"./signature-request-message":4655},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./signature-request-message"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-message/index.js"}],[4655,{"../../../../contexts/i18n":5069,"../../../../helpers/constants/design-system":5092,"../../../component-library":4822,"../../../ui/box":4931,"../signature-request-data":4650,lodash:3676,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=d(e("prop-types")),o=e("lodash"),i=e("../../../../contexts/i18n"),s=d(e("../../../ui/box")),l=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),c=d(e("../signature-request-data"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({data:e,onMessageScrolled:t,setMessageRootRef:n,messageRootRef:a,messageIsScrollable:d,primaryType:p}){const f=(0,r.useContext)(i.I18nContext),[m,h]=(0,r.useState)(!1);return r.default.createElement(s.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,onScroll:(0,o.debounce)((()=>{if(!a||m)return;const{scrollTop:e,offsetHeight:n,scrollHeight:r}=a;Math.round(e)+n>=r&&(h(!0),t())}),25),className:"signature-request-message"},d?r.default.createElement(s.default,{display:u.Display.Flex,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.center,borderColor:u.BorderColor.borderDefault,backgroundColor:u.BackgroundColor.backgroundDefault,color:u.Color.iconDefault,onClick:()=>{h(!0),t(),null==a||a.scrollTo(0,null==a?void 0:a.scrollHeight)},className:"signature-request-message__scroll-button","data-testid":"signature-request-scroll-button"},r.default.createElement("i",{className:"fa fa-arrow-down","aria-label":f("scrollDown")})):null,r.default.createElement(s.default,{backgroundColor:u.BackgroundColor.backgroundDefault,paddingBottom:3,paddingTop:3,paddingRight:3,margin:2,borderRadius:u.BorderRadius.XL,borderColor:u.BorderColor.borderMuted,className:"signature-request-message__root",ref:n},r.default.createElement(l.Text,{fontWeight:u.FontWeight.Bold,color:u.TextColor.textDefault,marginLeft:4},p),r.default.createElement(c.default,{data:e.value})))}f.propTypes={data:a.default.object.isRequired,onMessageScrolled:a.default.func,setMessageRootRef:a.default.func,messageRootRef:a.default.object,messageIsScrollable:a.default.bool,primaryType:a.default.string}}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request-message/signature-request-message.js"}],[4656,{"../../../../shared/constants/metametrics":4353,"../../../../shared/constants/security-provider":4357,"../../../contexts/metametrics":5070,"../../../ducks/metamask/metamask":5084,"../../../helpers/constants/design-system":5092,"../../../helpers/utils/util":5133,"../../../hooks/useI18nContext":5156,"../../../hooks/useRejectTransactionModal":5161,"../../../selectors":5478,"../../../store/actions":5486,"../../component-library":4822,"../confirm-page-container":4459,"../ledger-instruction-field":4533,"../modals/contract-details-modal":4558,"../security-provider-banner-message":4630,"../signature-request-header/signature-request-header":4635,"./signature-request-footer":4652,"./signature-request-message":4654,"eth-rpc-errors":2857,lodash:3676,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-redux"),o=C(e("prop-types")),i=e("lodash"),s=e("eth-rpc-errors"),l=e("../../../store/actions"),u=e("../../../selectors"),c=e("../../../ducks/metamask/metamask"),d=e("../../../helpers/utils/util"),p=e("../../../hooks/useI18nContext"),f=e("../../../hooks/useRejectTransactionModal"),m=e("../confirm-page-container"),h=C(e("../signature-request-header/signature-request-header")),g=C(e("../security-provider-banner-message")),y=C(e("../ledger-instruction-field")),v=C(e("../modals/contract-details-modal")),b=e("../../../contexts/metametrics"),_=e("../../../../shared/constants/metametrics"),w=e("../../../../shared/constants/security-provider"),T=e("../../../helpers/constants/design-system"),x=e("../../component-library"),E=C(e("./signature-request-message")),k=C(e("./signature-request-footer"));function C(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}const O=({txData:e})=>{var t,n;const o=(0,r.useContext)(b.MetaMetricsContext),C=(0,a.useDispatch)(),P=(0,p.useI18nContext)(),[O,S]=(0,r.useState)(!1),[j,M]=(0,r.useState)(!1),[N,I]=(0,r.useState)(null),[R,D]=(0,r.useState)(!1),{id:A,type:L,msgParams:{from:$,data:W,origin:q,version:B}}=e,F=(0,a.useSelector)((e=>(0,u.doesAddressRequireLedgerHidConnection)(e,$))),{chainId:z,rpcPrefs:U}=(0,a.useSelector)(c.getProviderConfig),G=(0,a.useSelector)(u.getTotalUnapprovedMessagesCount),V=(0,a.useSelector)(u.getSubjectMetadata),H=(0,a.useSelector)((e=>(0,c.isAddressLedger)(e,$))),{handleCancelAll:Q}=(0,f.useRejectTransactionModal)();(0,r.useEffect)((()=>{D((null==N?void 0:N.scrollHeight)>(null==N?void 0:N.clientHeight))}),[N]);const K=(null==V?void 0:V[q])||null,Y=(0,i.memoize)((e=>{const{message:t,domain:n={},primaryType:r,types:a}=JSON.parse(e);return{sanitizedMessage:(0,d.sanitizeMessage)(t,r,a),domain:n,primaryType:r}})),{sanitizedMessage:J,domain:{verifyingContract:X},primaryType:Z}=Y(W);return r.default.createElement("div",{className:"signature-request"},r.default.createElement(m.ConfirmPageContainerNavigation,null),r.default.createElement("div",{className:"request-signature__account","data-testid":"request-signature-account"},r.default.createElement(h.default,{txData:e})),r.default.createElement("div",{className:"signature-request-content"},(null==e||null===(t=e.securityProviderResponse)||void 0===t?void 0:t.flagAsDangerous)!==undefined&&(null==e||null===(n=e.securityProviderResponse)||void 0===n?void 0:n.flagAsDangerous)!==w.SECURITY_PROVIDER_MESSAGE_SEVERITY.NOT_MALICIOUS||null!=e&&e.securityProviderResponse&&0===Object.keys(e.securityProviderResponse).length?r.default.createElement(g.default,{securityProviderResponse:e.securityProviderResponse}):null,r.default.createElement("div",{className:"signature-request__origin"},r.default.createElement(x.TagUrl,{label:q,labelProps:{color:T.TextColor.textAlternative},src:null==K?void 0:K.iconUrl})),r.default.createElement(x.Text,{className:"signature-request__content__title",variant:T.TextVariant.headingLg,marginTop:4},P("sigRequest")),r.default.createElement(x.Text,{className:"request-signature__content__subtitle",variant:T.TextVariant.bodySm,color:T.TextColor.textAlternative,textAlign:T.TextAlign.Center,marginLeft:12,marginRight:12,marginTop:4,as:"h6"},P("signatureRequestGuidance")),X?r.default.createElement("div",null,r.default.createElement(x.Button,{variant:x.BUTTON_VARIANT.LINK,onClick:()=>M(!0),className:"signature-request-content__verify-contract-details","data-testid":"verify-contract-details"},r.default.createElement(x.Text,{variant:T.TextVariant.bodySm,color:T.TextColor.primaryDefault,as:"h6"},P("verifyContractDetails")))):null),H?r.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},r.default.createElement(y.default,{showDataInstruction:!0})):null,r.default.createElement(E.default,{data:J,onMessageScrolled:()=>S(!0),setMessageRootRef:I,messageRootRef:N,messageIsScrollable:R,primaryType:Z}),r.default.createElement(k.default,{cancelAction:async()=>{await C((0,l.rejectPendingApproval)(A,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest()))),o({category:_.MetaMetricsEventCategory.Transactions,event:"Cancel",properties:{action:"Sign Request",legacy_event:!0,type:L,version:B}})},signAction:async()=>{await C((0,l.resolvePendingApproval)(A)),(0,l.completedTx)(A),o({category:_.MetaMetricsEventCategory.Transactions,event:"Confirm",properties:{action:"Sign Request",legacy_event:!0,type:L,version:B}})},disabled:F||R&&!O}),j&&r.default.createElement(v.default,{toAddress:X,chainId:z,rpcPrefs:U,onClose:()=>M(!1),isContractRequestingSignature:!0}),G>1?r.default.createElement(x.ButtonLink,{size:T.Size.inherit,className:"signature-request__reject-all-button","data-testid":"signature-request-reject-all",onClick:Q},P("rejectRequestsN",[G])):null)};O.propTypes={txData:o.default.object};var S=O;n.default=S}}},{package:"$root$",file:"ui/components/app/signature-request/signature-request.js"}],[4657,{"../../../../helpers/constants/design-system":5092,"../../../../hooks/useCopyToClipboard":5149,"../../../component-library":4822,"../../../ui/box":4931,"../../../ui/typography":5061,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Copyable=void 0;var r=c(e("react")),a=c(e("prop-types")),o=c(e("../../../ui/box")),i=c(e("../../../ui/typography")),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useCopyToClipboard"),u=e("../../../component-library");function c(e){return e&&e.__esModule?e:{default:e}}const d=({text:e})=>{const[t,n]=(0,l.useCopyToClipboard)();return r.default.createElement(o.default,{className:"copyable",backgroundColor:s.BackgroundColor.backgroundAlternative,alignItems:s.AlignItems.stretch,justifyContent:s.JustifyContent.spaceBetween,borderRadius:s.BorderRadius.SM,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2},r.default.createElement(i.default,{variant:s.TypographyVariant.H6,color:s.TextColor.textAlternative,marginRight:2,overflowWrap:s.OVERFLOW_WRAP.ANYWHERE},e),r.default.createElement(o.default,{flexDirection:s.FLEX_DIRECTION.COLUMN,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.flexStart,marginTop:2,marginBottom:1},t?r.default.createElement(u.Icon,{name:u.IconName.CopySuccess,size:u.IconSize.Lg,color:s.Color.iconAlternative}):r.default.createElement(u.Icon,{name:u.IconName.Copy,size:u.IconSize.Lg,color:s.Color.iconAlternative,onClick:()=>n(e)})))};n.Copyable=d,d.propTypes={text:a.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/copyable/copyable.js"}],[4658,{"./copyable":4657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Copyable",{enumerable:!0,get:function(){return r.Copyable}});var r=e("./copyable")}}},{package:"$root$",file:"ui/components/app/snaps/copyable/index.js"}],[4659,{"../../../../helpers/constants/design-system":5092,"../../../component-library":4822,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("react")),a=s(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}const l=({title:e,error:t,description:n,iconName:a})=>r.default.createElement(i.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center,height:o.BlockSize.Full,padding:2},a&&r.default.createElement(i.AvatarIcon,{iconName:a,size:i.AvatarIconSize.Xl,color:o.IconColor.errorDefault,backgroundColor:o.BackgroundColor.errorMuted,marginBottom:4}),r.default.createElement(i.Text,{variant:o.TextVariant.headingLg},e),n&&r.default.createElement(i.Text,{textAlign:o.TextAlign.Center},n),t&&r.default.createElement(i.BannerAlert,{marginTop:4,startAccessory:null,severity:o.Severity.Danger},r.default.createElement(i.Text,{variant:o.TextVariant.bodySm},t)));l.propTypes={title:a.default.node.isRequired,error:a.default.string,description:a.default.string,iconName:a.default.string};var u=l;n.default=u}}},{package:"$root$",file:"ui/components/app/snaps/install-error/install-error.js"}],[466,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.version=void 0,n.version="json-wallets/5.7.0"}}},{package:"@truffle/decoder>@truffle/encoder>@ensdomains/ensjs>ethers>@ethersproject/json-wallets",file:"node_modules/@ethersproject/json-wallets/lib/_version.js"}],[4660,{"./snap-authorship-expanded":4661},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-authorship-expanded"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/index.js"}],[4661,{"../../../../helpers/constants/design-system":5092,"../../../../helpers/utils/util":5133,"../../../../hooks/useI18nContext":5156,"../../../../hooks/useOriginMetadata":5159,"../../../../selectors":5478,"../../../../store/actions":5486,"../../../component-library":4822,"../../../ui/box":4931,"../../../ui/toggle-button":5050,"../../../ui/tooltip/tooltip":5058,"../snap-avatar":4664,"../snap-version/snap-version":4685,"@metamask/snaps-utils":1648,classnames:2582,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=_(e("react")),a=_(e("prop-types")),o=_(e("classnames")),i=e("@metamask/snaps-utils"),s=e("react-redux"),l=_(e("../../../ui/box")),u=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/util"),d=e("../../../component-library"),p=e("../../../../selectors"),f=_(e("../snap-avatar")),m=e("../../../../hooks/useI18nContext"),h=_(e("../../../ui/tooltip/tooltip")),g=_(e("../../../ui/toggle-button")),y=e("../../../../store/actions"),v=e("../../../../hooks/useOriginMetadata"),b=_(e("../snap-version/snap-version"));function _(e){return e&&e.__esModule?e:{default:e}}const w=({snapId:e,className:t,snap:n})=>{const a=(0,m.useI18nContext)(),_=(0,s.useDispatch)(),w=e&&(0,i.getSnapPrefix)(e),T=e&&(0,c.removeSnapIdPrefix)(e),x="npm:"===w?`https://www.npmjs.com/package/${T}`:T,E=(0,s.useSelector)((t=>(0,p.getTargetSubjectMetadata)(t,e))),k=e&&(0,c.getSnapName)(e,E),C=(null==n?void 0:n.versionHistory)??[],P=C.length?C[C.length-1]:undefined,O=(0,v.useOriginMetadata)(null==P?void 0:P.origin);return r.default.createElement(l.default,{className:(0,o.default)("snaps-authorship-expanded",t),backgroundColor:u.BackgroundColor.backgroundDefault,borderColor:u.BorderColor.borderDefault,borderWidth:1,width:u.BLOCK_SIZES.FULL,borderRadius:u.BorderRadius.LG},r.default.createElement(l.default,{alignItems:u.AlignItems.center,display:u.DISPLAY.FLEX,width:u.BLOCK_SIZES.FULL,paddingLeft:4,paddingRight:4,paddingTop:3,paddingBottom:3},r.default.createElement(l.default,null,r.default.createElement(f.default,{snapId:e})),r.default.createElement(l.default,{marginLeft:4,marginRight:0,display:u.DISPLAY.FLEX,flexDirection:u.FLEX_DIRECTION.COLUMN,style:{overflow:"hidden"}},r.default.createElement(d.Text,{ellipsis:!0,fontWeight:u.FontWeight.Medium},k),r.default.createElement(d.Text,{ellipsis:!0,variant:u.TextVariant.bodySm,color:u.TextColor.textAlternative},T))),r.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.COLUMN,width:u.BLOCK_SIZES.FULL},r.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.ROW,justifyContent:u.JustifyContent.spaceBetween,paddingLeft:4,paddingTop:4,paddingBottom:4,borderColor:u.BorderColor.borderDefault,width:u.BLOCK_SIZES.FULL,style:{borderLeft:u.BorderStyle.none,borderRight:u.BorderStyle.none}},r.default.createElement(d.Text,{variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},a("enabled")),r.default.createElement(l.default,{style:{maxWidth:"52px"}},r.default.createElement(h.default,{interactive:!0,position:"left",html:a("snapsToggle")},r.default.createElement(g.default,{value:null==n?void 0:n.enabled,onToggle:()=>{null!=n&&n.enabled?_((0,y.disableSnap)(null==n?void 0:n.id)):_((0,y.enableSnap)(null==n?void 0:n.id))}})))),r.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.COLUMN,padding:4,width:u.BLOCK_SIZES.FULL},O&&P&&r.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.ROW,justifyContent:u.JustifyContent.spaceBetween,width:u.BLOCK_SIZES.FULL},r.default.createElement(d.Text,{variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},a("installOrigin")),r.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.COLUMN,alignItems:u.AlignItems.flexEnd},r.default.createElement(d.ButtonLink,{href:O.origin,target:"_blank"},O.host),r.default.createElement(d.Text,{color:u.Color.textMuted},a("installedOn",[(0,c.formatDate)(P.date,"dd MMM yyyy")])))),r.default.createElement(l.default,{flexDirection:u.FLEX_DIRECTION.ROW,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.center,marginTop:4},r.default.createElement(d.Text,{variant:u.TextVariant.bodyMd,fontWeight:u.FontWeight.Medium},a("version")),r.default.createElement(b.default,{version:null==n?void 0:n.version,url:x})))))};w.propTypes={snapId:a.default.string,className:a.default.string,snap:a.default.object};var T=w;n.default=T}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/snap-authorship-expanded.js"}],[4662,{"./snap-authorship-header":4663},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-authorship-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/index.js"}],[4663,{"../../../../helpers/constants/design-system":5092,"../../../../helpers/utils/util":5133,"../../../../selectors":5478,"../../../component-library":4822,"../snap-avatar":4664,"../snap-version/snap-version":4685,"@metamask/snaps-utils":1648,classnames:2582,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=m(e("react")),a=m(e("prop-types")),o=m(e("classnames")),i=e("@metamask/snaps-utils"),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../helpers/utils/util"),c=e("../../../component-library"),d=e("../../../../selectors"),p=m(e("../snap-avatar")),f=m(e("../snap-version/snap-version"));function m(e){return e&&e.__esModule?e:{default:e}}const h=({snapId:e,className:t,boxShadow:n="var(--shadow-size-lg) var(--color-shadow-default)"})=>{const a=e&&(0,i.getSnapPrefix)(e),m=e&&(0,u.removeSnapIdPrefix)(e),h="npm:"===a?`https://www.npmjs.com/package/${m}`:m,g=(0,s.useSelector)((t=>(0,d.getTargetSubjectMetadata)(t,e))),y=e&&(0,u.getSnapName)(e,g);return r.default.createElement(c.Box,{className:(0,o.default)("snaps-authorship-header",t),backgroundColor:l.BackgroundColor.backgroundDefault,width:l.BlockSize.Full,alignItems:l.AlignItems.center,display:l.Display.Flex,padding:4,style:{boxShadow:n}},r.default.createElement(c.Box,null,r.default.createElement(p.default,{snapId:e})),r.default.createElement(c.Box,{marginLeft:4,marginRight:4,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{overflow:"hidden"}},r.default.createElement(c.Text,{ellipsis:!0,fontWeight:l.FontWeight.Medium},y),r.default.createElement(c.Text,{ellipsis:!0,variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},m)),r.default.createElement(c.Box,{marginLeft:"auto"},r.default.createElement(f.default,{version:null==g?void 0:g.version,url:h})))};h.propTypes={snapId:a.default.string,className:a.default.string,boxShadow:a.default.string};var g=h;n.default=g}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/snap-authorship-header.js"}],[4664,{"./snap-avatar":4665},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-avatar"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-avatar/index.js"}],[4665,{"../../../../helpers/constants/design-system":5092,"../../../../helpers/utils/util":5133,"../../../../selectors":5478,"../../../component-library":4822,classnames:2582,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("react")),a=d(e("prop-types")),o=d(e("classnames")),i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/util"),u=e("../../../component-library"),c=e("../../../../selectors");function d(e){return e&&e.__esModule?e:{default:e}}const p=({snapId:e,badgeSize:t=u.IconSize.Sm,avatarSize:n=u.IconSize.Lg,borderWidth:a=2,className:d})=>{var p;const f=(0,i.useSelector)((t=>(0,c.getTargetSubjectMetadata)(t,e))),m=e&&(0,l.getSnapName)(e,f),h=null==f?void 0:f.iconUrl,g=(null==m||null===(p=m.match(/[a-z0-9]/iu))||void 0===p?void 0:p[0])??"?";return r.default.createElement(u.BadgeWrapper,{className:(0,o.default)("snap-avatar",d),badge:r.default.createElement(u.AvatarIcon,{iconName:u.IconName.Snaps,size:t,backgroundColor:s.IconColor.infoDefault,borderColor:s.BackgroundColor.backgroundDefault,borderWidth:a,iconProps:{color:s.IconColor.infoInverse}}),position:u.BadgeWrapperPosition.bottomRight},h?r.default.createElement(u.AvatarFavicon,{size:n,src:h,name:m}):r.default.createElement(u.AvatarBase,{size:n,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,color:s.TextColor.textAlternative,style:{borderWidth:"0px"}},g))};p.propTypes={snapId:a.default.string,badgeSize:a.default.string,avatarSize:a.default.string,borderWidth:a.default.number,className:a.default.string};var f=p;n.default=f}}},{package:"$root$",file:"ui/components/app/snaps/snap-avatar/snap-avatar.js"}],[4666,{"../../../../helpers/constants/design-system":5092,"../../../../helpers/utils/util":5133,"../../../../hooks/useI18nContext":5156,"../../../../selectors":5478,"../../../component-library":4822,"../../../ui/box":4931,"../../../ui/tooltip/tooltip":5058,"../snap-avatar/snap-avatar":4665,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var r=m(e("react")),a=m(e("prop-types")),o=e("react-redux"),i=m(e("../../../ui/box")),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/util"),u=e("../../../component-library"),c=m(e("../../../ui/tooltip/tooltip")),d=e("../../../../hooks/useI18nContext"),p=m(e("../snap-avatar/snap-avatar")),f=e("../../../../selectors");function m(e){return e&&e.__esModule?e:{default:e}}function h({origin:e,snapId:t}){const n=(0,d.useI18nContext)(),a=(0,o.useSelector)((e=>(0,f.getTargetSubjectMetadata)(e,t))),m=(0,l.getSnapName)(t,a);return r.default.createElement(i.default,{alignItems:s.AlignItems.center,paddingTop:2,paddingBottom:2,display:s.Display.Flex},r.default.createElement(p.default,{snapId:t}),r.default.createElement(i.default,{width:"full",marginLeft:4,marginRight:4},r.default.createElement(u.Text,null,n("connectSnap",[r.default.createElement(u.Text,{as:u.ValidTag.Span,key:"1",fontWeight:s.FontWeight.Bold},m)]))),r.default.createElement(i.default,null,r.default.createElement(c.default,{html:r.default.createElement("div",null,n("snapConnectionWarning",[r.default.createElement("b",{key:"0"},e),r.default.createElement("b",{key:"1"},m)])),position:"bottom"},r.default.createElement(u.Icon,{color:s.IconColor.iconMuted,name:u.IconName.Info,size:u.IconSize.Sm}))))}h.propTypes={origin:a.default.string.isRequired,snapId:a.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-connect-cell/snap-connect-cell.js"}],[4667,{"./snap-delineator":4668},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapDelineator",{enumerable:!0,get:function(){return r.SnapDelineator}});var r=e("./snap-delineator")}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/index.js"}],[4668,{"../../../../helpers/constants/design-system":5092,"../../../../helpers/constants/snaps":5100,"../../../../hooks/useI18nContext":5156,"../../../component-library":4822,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapDelineator=void 0;var r=u(e("react")),a=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../../helpers/constants/snaps");function u(e){return e&&e.__esModule?e:{default:e}}const c=({snapName:e,type:t=l.DelineatorType.default,children:n})=>{const a=(0,o.useI18nContext)(),u=t===l.DelineatorType.Error;return r.default.createElement(s.Box,{className:"snap-delineator__wrapper",borderStyle:i.BorderStyle.solid,borderColor:i.BorderColor.borderDefault,borderRadius:i.BorderRadius.LG,backgroundColor:u?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundDefault},r.default.createElement(s.Box,{className:"snap-delineator__header",display:i.Display.Flex,alignItems:i.AlignItems.center,padding:1},r.default.createElement(s.AvatarIcon,{iconName:s.IconName.Snaps,size:s.AvatarIconSize.Sm,backgroundColor:u?i.IconColor.errorDefault:i.IconColor.infoDefault,borderColor:i.BackgroundColor.backgroundDefault,borderWidth:2,iconProps:{color:i.IconColor.infoInverse}}),r.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:u?i.TextColor.errorDefault:i.TextColor.textAlternative,className:"snap-delineator__header__text",marginLeft:1,marginTop:0,marginBottom:0},a((0,l.getDelineatorTitle)(t),[e]))),r.default.createElement(s.Box,{className:"snap-delineator__content",padding:4},n))};n.SnapDelineator=c,c.propTypes={snapName:a.default.string,type:a.default.string,children:a.default.ReactNode}}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/snap-delineator.js"}],[4669,{"./snap-install-warning":4670},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-install-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/index.js"}],[467,{"./_version":466,"./utils":471,"@ethersproject/address":438,"@ethersproject/bytes":447,"@ethersproject/keccak256":473,"@ethersproject/logger":476,"@ethersproject/pbkdf2":480,"@ethersproject/properties":482,"@ethersproject/strings":520,"aes-js":472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.decrypt=n.CrowdsaleAccount=void 0;var i=o(e("aes-js")),s=e("@ethersproject/address"),l=e("@ethersproject/bytes"),u=e("@ethersproject/keccak256"),c=e("@ethersproject/pbkdf2"),d=e("@ethersproject/strings"),p=e("@ethersproject/properties"),f=e("@ethersproject/logger"),m=e("./_version"),h=new f.Logger(m.version),g=e("./utils"),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.isCrowdsaleAccount=function(e){return!(!e||!e._isCrowdsaleAccount)},t}(p.Description);n.CrowdsaleAccount=y,n.decrypt=function(e,t){var n=JSON.parse(e);t=(0,g.getPassword)(t);var r=(0,s.getAddress)((0,g.searchPath)(n,"ethaddr")),a=(0,g.looseArrayify)((0,g.searchPath)(n,"encseed"));a&&a.length%16==0||h.throwArgumentError("invalid encseed","json",e);for(var o=(0,l.arrayify)((0,c.pbkdf2)(t,t,2e3,32,"sha256")).slice(0,16),p=a.slice(0,16),f=a.slice(16),m=new i.default.ModeOfOperation.cbc(o,p),v=i.default.padding.pkcs7.strip((0,l.arrayify)(m.decrypt(f))),b="",_=0;_<v.length;_++)b+=String.fromCharCode(v[_]);var w=(0,d.toUtf8Bytes)(b),T=(0,u.keccak256)(w);return new y({_isCrowdsaleAccount:!0,address:r,privateKey:T})}}}},{package:"@truffle/decoder>@truffle/encoder>@ensdomains/ensjs>ethers>@ethersproject/json-wallets",file:"node_modules/@ethersproject/json-wallets/lib/crowdsale.js"}],[4670,{"../../../../helpers/constants/design-system":5092,"../../../../hooks/useI18nContext":5156,"../../../component-library":4822,"../../../ui/button":4935,"../../../ui/check-box/check-box.component":4938,"../../../ui/popover":5020,classnames:2582,immer:3443,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=f(e("prop-types")),o=e("immer"),i=f(e("classnames")),s=e("../../../../hooks/useI18nContext"),l=f(e("../../../ui/check-box/check-box.component")),u=e("../../../../helpers/constants/design-system"),c=f(e("../../../ui/popover")),d=f(e("../../../ui/button")),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h=(0,o.produce)(((e,t)=>{if("check"!==t.type)throw new Error("You must provide a type when dispatching an action for checkboxState");e[t.checkboxId]=!e[t.checkboxId]||!e[t.checkboxId]}));function g({onCancel:e,onSubmit:t,warnings:n,snapName:a}){const o=(0,s.useI18nContext)(),[f,m]=(0,r.useReducer)(h,{}),g=n.every((e=>f[e.id])),y=(0,r.useCallback)((e=>{m({type:"check",checkboxId:e})}),[]),v=()=>r.default.createElement("div",{className:"snap-install-warning__footer"},r.default.createElement(d.default,{className:"snap-install-warning__footer-button",type:"primary",disabled:!g,onClick:t},o("confirm")));return r.default.createElement(c.default,{className:"snap-install-warning",footer:r.default.createElement(v,null),headerProps:{padding:[6,6,0]},contentProps:{paddingLeft:[6,4],paddingRight:[6,4],paddingTop:0,paddingBottom:[6,4]},footerProps:{padding:[4,6]},onClose:e},r.default.createElement(p.Box,{display:u.Display.Flex,justifyContent:u.JustifyContent.center,marginBottom:6},r.default.createElement(p.AvatarIcon,{iconName:p.IconName.Danger,backgroundColor:u.BackgroundColor.warningMuted,color:u.IconColor.warningDefault,size:p.AvatarIconSize.Xl})),r.default.createElement(p.Text,{paddingBottom:6,textAlign:u.TextAlign.Center,variant:u.TextVariant.headingMd,as:"h2"},o("snapInstallWarningHeading")),r.default.createElement(p.Text,{paddingBottom:6,textAlign:u.TextAlign.Center},n.length>1?o("snapInstallWarningCheckPlural",[r.default.createElement(p.Text,{key:"snapNameInWarningDescription",fontWeight:u.FontWeight.Medium,as:"span"},a)]):o("snapInstallWarningCheck",[r.default.createElement(p.Text,{key:"snapNameInWarningDescription",fontWeight:u.FontWeight.Medium,as:"span"},a)])),n.map(((e,t)=>r.default.createElement("div",{className:(0,i.default)("checkbox-label",{"checkbox-label--first":0===t}),key:e.id},r.default.createElement(l.default,{checked:f[e.id]??!1,id:e.id,onClick:()=>y(e.id)}),r.default.createElement("label",{htmlFor:e.id},r.default.createElement(p.Text,{variant:u.TextVariant.bodyMd},e.message))))))}g.propTypes={onCancel:a.default.func,onSubmit:a.default.func,warnings:a.default.arrayOf({message:a.default.node,id:a.default.string}),snapName:a.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/snap-install-warning.js"}],[4671,{"./snap-legacy-authorship-header":4672},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-legacy-authorship-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-legacy-authorship-header/index.js"}],[4672,{"../../../../helpers/constants/design-system":5092,"../../../../helpers/utils/util":5133,"../../../../selectors":5478,"../../../component-library":4822,"../snap-avatar":4664,classnames:2582,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=p(e("react")),a=p(e("prop-types")),o=p(e("classnames")),i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/util"),u=e("../../../component-library"),c=e("../../../../selectors"),d=p(e("../snap-avatar"));function p(e){return e&&e.__esModule?e:{default:e}}const f=({snapId:e,className:t,marginLeft:n,marginRight:a})=>{const p=e&&(0,l.removeSnapIdPrefix)(e),f=(0,i.useSelector)((t=>(0,c.getTargetSubjectMetadata)(t,e))),m=e&&(0,l.getSnapName)(e,f);return r.default.createElement(u.Box,{className:(0,o.default)("snap-legacy-authorship-header",t),backgroundColor:s.BackgroundColor.backgroundDefault,width:s.BlockSize.Full,alignItems:s.AlignItems.center,display:s.Display.Flex,padding:2,borderColor:s.BorderColor.borderDefault,borderRadius:s.BorderRadius.pill,marginLeft:n,marginRight:a},r.default.createElement(u.Box,null,r.default.createElement(d.default,{snapId:e})),r.default.createElement(u.Box,{marginLeft:4,marginRight:4,display:s.Display.Flex,flexDirection:s.FlexDirection.Column,style:{overflow:"hidden"}},r.default.createElement(u.Text,{ellipsis:!0,fontWeight:s.FontWeight.Medium},m),r.default.createElement(u.Text,{ellipsis:!0,variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},p)))};f.propTypes={snapId:a.default.string,className:a.default.string,marginLeft:a.default.number,marginRight:a.default.number};var m=f;n.default=m}}},{package:"$root$",file:"ui/components/app/snaps/snap-legacy-authorship-header/snap-legacy-authorship-header.js"}],[4673,{"./snap-permissions-list":4674},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-permissions-list"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/index.js"}],[4674,{"../../../../helpers/utils/permission":5127,"../../../../hooks/useI18nContext":5156,"../../../ui/box":4931,"../../permission-cell":4604,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var r=u(e("react")),a=u(e("prop-types")),o=e("../../../../helpers/utils/permission"),i=e("../../../../hooks/useI18nContext"),s=u(e("../../permission-cell")),l=u(e("../../../ui/box"));function u(e){return e&&e.__esModule?e:{default:e}}function c({snapId:e,permissions:t,targetSubjectMetadata:n,showOptions:a}){const u=(0,i.useI18nContext)();return r.default.createElement(l.default,{paddingTop:2,paddingBottom:2,className:"snap-permissions-list"},(0,o.getWeightedPermissions)(u,t,n).map(((t,n)=>{var o;return r.default.createElement(s.default,{snapId:e,permissionName:t.permissionName,title:t.label,description:t.description,weight:t.weight,avatarIcon:t.leftIcon,dateApproved:null==t||null===(o=t.permissionValue)||void 0===o?void 0:o.date,key:`${t.permissionName}-${n}`,showOptions:a})})))}c.propTypes={snapId:a.default.string.isRequired,permissions:a.default.object.isRequired,targetSubjectMetadata:a.default.object.isRequired,showOptions:a.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/snap-permissions-list.js"}],[4675,{"./snap-privacy-warning":4676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-privacy-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/index.js"}],[4676,{"../../../../../shared/constants/terms":4362,"../../../../helpers/constants/design-system":5092,"../../../../hooks/useI18nContext":5156,"../../../../hooks/useScrollRequired":5164,"../../../component-library":4822,"../../../ui/popover":5020,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var r=d(e("react")),a=d(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=d(e("../../../ui/popover")),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useScrollRequired"),c=e("../../../../../shared/constants/terms");function d(e){return e&&e.__esModule?e:{default:e}}function p({onAccepted:e,onCanceled:t}){const n=(0,o.useI18nContext)(),{isScrollable:a,isScrolledToBottom:d,scrollToBottom:p,ref:f,onScroll:m}=(0,u.useScrollRequired)();return r.default.createElement(i.default,{className:"snap-privacy-warning"},r.default.createElement(s.Box,null,r.default.createElement(s.Box,{className:"snap-privacy-warning__header",paddingLeft:4,paddingRight:4},r.default.createElement(s.Box,{marginTop:4,className:"snap-privacy-warning__header__info-icon",display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center},r.default.createElement(s.AvatarIcon,{iconName:s.IconName.Info,color:l.IconColor.infoDefault,backgroundColor:l.BackgroundColor.primaryMuted,size:s.AvatarIconSize.Md})),r.default.createElement(s.Box,{className:"snap-privacy-warning__header__title",marginTop:4,marginBottom:4,display:l.Display.Flex,justifyContent:l.JustifyContent.center,alignItems:l.AlignItems.center},r.default.createElement(s.Text,{variant:l.TextVariant.headingMd,fontWeight:l.FontWeight.Bold},n("thirdPartySoftware")))),r.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,className:"snap-privacy-warning__content",ref:f,onScroll:m},r.default.createElement(s.Box,{className:"snap-privacy-warning__message"},r.default.createElement(s.Text,{variant:l.TextVariant.bodyMd},n("snapsPrivacyWarningFirstMessage",[r.default.createElement(s.ButtonLink,{key:"privacyNoticeTermsOfUseLink",size:s.ButtonLinkSize.Inherit,href:c.TERMS_OF_USE_LINK,target:"_blank"},"Â ",n("snapsTermsOfUse"),"Â ")])),r.default.createElement(s.Text,{variant:l.TextVariant.bodyMd,paddingTop:6},n("snapsPrivacyWarningSecondMessage")),r.default.createElement(s.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Bold,paddingTop:6},n("snapsPrivacyWarningThirdMessage"))),a&&!d?r.default.createElement(s.AvatarIcon,{className:"snap-privacy-warning__content__scroll-button","data-testid":"snap-privacy-warning-scroll",iconName:s.IconName.Arrow2Down,backgroundColor:l.BackgroundColor.infoDefault,color:l.IconColor.primaryInverse,onClick:p,style:{cursor:"pointer"}}):null),r.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4,className:"snap-privacy-warning__footer"},r.default.createElement(s.Box,{className:"snap-privacy-warning__footer",marginTop:6,display:l.Display.Flex},r.default.createElement(s.Button,{variant:s.BUTTON_VARIANT.SECONDARY,size:s.BUTTON_SIZES.LG,width:l.BlockSize.Full,className:"snap-privacy-warning__cancel-button",onClick:t,marginRight:2},n("cancel")),r.default.createElement(s.Button,{variant:s.BUTTON_VARIANT.PRIMARY,size:s.BUTTON_SIZES.LG,width:l.BlockSize.Full,className:"snap-privacy-warning__ok-button",onClick:e,marginLeft:2,disabled:!d},n("accept"))))))}p.propTypes={onAccepted:a.default.func.isRequired,onCanceled:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js"}],[4677,{"./snap-remove-warning":4678},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-remove-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/index.js"}],[4678,{"../../../../helpers/constants/design-system":5092,"../../../../hooks/useI18nContext":5156,"../../../component-library":4822,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function u({isOpen:e,onCancel:t,onSubmit:n,snapName:a}){const l=(0,o.useI18nContext)();return r.default.createElement(i.Modal,{isOpen:e,onClose:t},r.default.createElement(i.ModalOverlay,null),r.default.createElement(i.ModalContent,{modalDialogProps:{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4}},r.default.createElement(i.ModalHeader,{onClose:t},l("pleaseConfirm")),r.default.createElement(i.Text,null,l("removeSnapConfirmation",[a])),r.default.createElement(i.Box,{width:s.BlockSize.Full,display:s.Display.Flex,gap:4},r.default.createElement(i.Button,{block:!0,variant:i.BUTTON_VARIANT.SECONDARY,size:i.BUTTON_SIZES.LG,onClick:t},l("nevermind")),r.default.createElement(i.Button,{block:!0,size:i.BUTTON_SIZES.LG,id:"popoverRemoveSnapButton",danger:!0,onClick:n},l("removeSnap")))))}u.propTypes={onCancel:a.default.func,onSubmit:a.default.func,snapName:a.default.string,isOpen:a.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/snap-remove-warning.js"}],[4679,{"./snap-settings-card":4680},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./snap-settings-card"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-settings-card/index.js"}],[468,{"./crowdsale":467,"./inspect":469,"./keystore":470},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decryptJsonWalletSync=n.decryptJsonWallet=n.getJsonWalletAddress=n.isKeystoreWallet=n.isCrowdsaleWallet=n.encryptKeystore=n.decryptKeystoreSync=n.decryptKeystore=n.decryptCrowdsale=void 0;var r=e("./crowdsale");Object.defineProperty(n,"decryptCrowdsale",{enumerable:!0,get:function(){return r.decrypt}});var a=e("./inspect");Object.defineProperty(n,"getJsonWalletAddress",{enumerable:!0,get:function(){return a.getJsonWalletAddress}}),Object.defineProperty(n,"isCrowdsaleWallet",{enumerable:!0,get:function(){return a.isCrowdsaleWallet}}),Object.defineProperty(n,"isKeystoreWallet",{enumerable:!0,get:function(){return a.isKeystoreWallet}});var o=e("./keystore");Object.defineProperty(n,"decryptKeystore",{enumerable:!0,get:function(){return o.decrypt}}),Object.defineProperty(n,"decryptKeystoreSync",{enumerable:!0,get:function(){return o.decryptSync}}),Object.defineProperty(n,"encryptKeystore",{enumerable:!0,get:function(){return o.encrypt}}),n.decryptJsonWallet=function(e,t,n){if((0,a.isCrowdsaleWallet)(e)){n&&n(0);var i=(0,r.decrypt)(e,t);return n&&n(1),Promise.resolve(i)}return(0,a.isKeystoreWallet)(e)?(0,o.decrypt)(e,t,n):Promise.reject(new Error("invalid JSON wallet"))},n.decryptJsonWalletSync=function(e,t){if((0,a.isCrowdsaleWallet)(e))return(0,r.decrypt)(e,t);if((0,a.isKeystoreWallet)(e))return(0,o.decryptSync)(e,t);throw new Error("invalid JSON wallet")}}}},{package:"@truffle/decoder>@truffle/encoder>@ensdomains/ensjs>ethers>@ethersproject/json-wallets",file:"node_modules/@ethersproject/json-wallets/lib/index.js"}],[4680,{"../../../../helpers/constants/design-system":5092,"../../../component-library":4822,"../snap-avatar":4664,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),s=l(e("../snap-avatar"));function l(e){return e&&e.__esModule?e:{default:e}}const u=({name:e,packageName:t,onClick:n,snapId:a})=>r.default.createElement(i.Box,{className:"snap-settings-card",display:o.Display.Flex,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.spaceBetween,width:o.BlockSize.Full,padding:4},r.default.createElement(i.Box,{className:"snap-settings-card__inner-wrapper",display:o.Display.Flex,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.flexStart,width:o.BlockSize.Full,onClick:n},r.default.createElement(i.Box,null,r.default.createElement(s.default,{snapId:a})),r.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,width:o.BlockSize.Full},r.default.createElement(i.Text,{className:"snap-settings-card__title",color:o.Color.textDefault,variant:o.TextVariant.bodyMd},e),r.default.createElement(i.Text,{className:"snap-settings-card__url",color:o.Color.textAlternative,variant:o.TextVariant.bodySm},t))),r.default.createElement(i.Box,{className:"snap-settings-card__caret",onClick:n},r.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Md,color:o.IconColor.iconMuted})));u.propTypes={name:a.default.string,packageName:a.default.string,onClick:a.default.func,snapId:a.default.string.isRequired};var c=u;n.default=c}}},{package:"$root$",file:"ui/components/app/snaps/snap-settings-card/snap-settings-card.js"}],[4681,{"./snap-ui-markdown":4682},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapUIMarkdown",{enumerable:!0,get:function(){return r.SnapUIMarkdown}});var r=e("./snap-ui-markdown")}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-markdown/index.js"}],[4682,{"../../../../helpers/constants/design-system":5092,"../../../component-library":4822,"prop-types":3823,react:4076,"react-markdown":4018},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIMarkdown=void 0;var r=l(e("react")),a=l(e("prop-types")),o=l(e("react-markdown")),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library");function l(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}const c=e=>r.default.createElement(s.Text,u({},e,{variant:i.TextVariant.bodyMd,className:"snap-ui-markdown__text",overflowWrap:i.OverflowWrap.BreakWord})),d=({children:e,markdown:t})=>!1===t?r.default.createElement(c,null,e):r.default.createElement(o.default,{allowedElements:["p","strong","em"],components:{p:c}},e);n.SnapUIMarkdown=d,d.propTypes={children:a.default.string,markdown:a.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-markdown/snap-ui-markdown.js"}],[4683,{"./snap-ui-renderer":4684},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapUIRenderer",{enumerable:!0,get:function(){return r.SnapUIRenderer}}),Object.defineProperty(n,"mapToTemplate",{enumerable:!0,get:function(){return r.mapToTemplate}});var r=e("./snap-ui-renderer")}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/index.js"}],[4684,{"../../../../helpers/constants/design-system":5092,"../../../../helpers/constants/snaps":5100,"../../../../helpers/utils/util":5133,"../../../../hooks/useI18nContext":5156,"../../../../selectors":5478,"../../../component-library":4822,"../../../ui/box":4931,"../../metamask-template-renderer/metamask-template-renderer":4539,"../copyable":4658,"../snap-delineator":4667,"@metamask/snaps-ui":1618,"prop-types":3823,react:4076,"react-redux":4041},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapToTemplate=n.UI_MAPPING=n.SnapUIRenderer=void 0;var r=y(e("react")),a=y(e("prop-types")),o=e("@metamask/snaps-ui"),i=e("react-redux"),s=y(e("../../metamask-template-renderer/metamask-template-renderer")),l=e("../../../../helpers/constants/design-system"),u=e("../snap-delineator"),c=e("../../../../hooks/useI18nContext"),d=y(e("../../../ui/box")),p=e("../../../../helpers/utils/util"),f=e("../../../../selectors"),m=e("../../../component-library"),h=e("../copyable"),g=e("../../../../helpers/constants/snaps");function y(e){return e&&e.__esModule?e:{default:e}}const v={panel:(e,t)=>({element:"Box",children:e.children.map((e=>b(e,t))),props:{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,className:"snap-ui-renderer__panel"}}),heading:e=>({element:"Typography",children:e.value,props:{variant:l.TypographyVariant.H4,fontWeight:l.FontWeight.Bold,overflowWrap:l.OverflowWrap.BreakWord}}),text:e=>({element:"SnapUIMarkdown",children:e.value,props:{markdown:e.markdown}}),spinner:()=>({element:"Spinner",props:{className:"snap-ui-renderer__spinner"}}),divider:()=>({element:"Box",props:{className:"snap-ui-renderer__divider",backgroundColor:l.BorderColor.borderDefault,marginTop:2,marginBottom:2}}),copyable:e=>({element:"Copyable",props:{text:e.value}})};n.UI_MAPPING=v;const b=(e,t)=>{const{type:n}=e;t.value+=1;const r=`snap_ui_element_${n}__${t.value}`;return{...v[n](e,t),key:r}};n.mapToTemplate=b;const _=({snapId:e,delineatorType:t=g.DelineatorType.Content,data:n})=>{const a=(0,c.useI18nContext)(),y=(0,i.useSelector)((t=>(0,f.getTargetSubjectMetadata)(t,e))),v=(0,p.getSnapName)(e,y);if(!(0,o.isComponent)(n))return r.default.createElement(u.SnapDelineator,{snapName:v,type:g.DelineatorType.Error},r.default.createElement(m.Text,{variant:l.TextVariant.bodySm,marginBottom:4},a("snapsUIError",[r.default.createElement("b",{key:"0"},v)])),r.default.createElement(h.Copyable,{text:a("snapsInvalidUIError")}));const _=b(n,{value:0});return r.default.createElement(u.SnapDelineator,{snapName:v,type:t},r.default.createElement(d.default,{className:"snap-ui-renderer__content"},r.default.createElement(s.default,{sections:_})))};n.SnapUIRenderer=_,_.propTypes={snapId:a.default.string,delineatorType:a.default.string,data:a.default.object}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/snap-ui-renderer.js"}],[4685,{"../../../../helpers/constants/design-system":5092,"../../../component-library":4822,"../../../ui/box":4931,"../../../ui/icon/preloader/preloader-icon.component":4978,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(e("react")),a=u(e("prop-types")),o=e("../../../../helpers/constants/design-system"),i=u(e("../../../ui/box")),s=e("../../../component-library"),l=u(e("../../../ui/icon/preloader/preloader-icon.component"));function u(e){return e&&e.__esModule?e:{default:e}}const c=({version:e,url:t})=>r.default.createElement(s.Button,{variant:s.BUTTON_VARIANT.LINK,href:t,target:"_blank",className:"snap-version"},r.default.createElement(i.default,{className:"snap-version__wrapper",flexDirection:o.FLEX_DIRECTION.ROW,alignItems:o.AlignItems.center,backgroundColor:o.BackgroundColor.backgroundAlternative,borderRadius:o.BorderRadius.pill,paddingTop:1,paddingBottom:1,paddingLeft:2,paddingRight:2},e?r.default.createElement(s.Text,{color:o.Color.textAlternative,variant:o.TextVariant.bodyMd},e):r.default.createElement(l.default,{size:18}),r.default.createElement(s.Icon,{name:s.IconName.Export,color:o.Color.textAlternative,size:s.IconSize.Sm,marginLeft:1})));c.propTypes={version:a.default.string,url:a.default.string};var d=c;n.default=d}}},{package:"$root$",file:"ui/components/app/snaps/snap-version/snap-version.js"}],[4686,{"./update-snap-permission-list":4687},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./update-snap-permission-list"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/update-snap-permission-list/index.js"}],[4687,{"../../../../helpers/utils/permission":5127,"../../../../hooks/useI18nContext":5156,"../../../component-library":4822,"../../permission-cell":4604,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var r=u(e("react")),a=u(e("prop-types")),o=e("../../../../helpers/utils/permission"),i=e("../../../../hooks/useI18nContext"),s=u(e("../../permission-cell")),l=e("../../../component-library");function u(e){return e&&e.__esModule?e:{default:e}}function c({approvedPermissions:e,revokedPermissions:t,newPermissions:n,targetSubjectMetadata:a}){const u=(0,i.useI18nContext)();return r.default.createElement(l.Box,{paddingTop:1},(0,o.getWeightedPermissions)(u,n,a).map(((e,t)=>{var n;return r.default.createElement(s.default,{permissionName:e.permissionName,title:e.label,description:e.description,weight:e.weight,avatarIcon:e.leftIcon,dateApproved:null==e||null===(n=e.permissionValue)||void 0===n?void 0:n.date,key:`${e.permissionName}-${t}`})})),(0,o.getWeightedPermissions)(u,t,a).map(((e,t)=>{var n;return r.default.createElement(s.default,{permissionName:e.permissionName,title:e.label,description:e.description,weight:e.weight,avatarIcon:e.leftIcon,dateApproved:null==e||null===(n=e.permissionValue)||void 0===n?void 0:n.date,key:`${e.permissionName}-${t}`,revoked:!0})})),(0,o.getWeightedPermissions)(u,e,a).map(((e,t)=>{var n;return r.default.createElement(s.default,{permissionName:e.permissionName,title:e.label,description:e.description,weight:e.weight,avatarIcon:e.leftIcon,dateApproved:null==e||null===(n=e.permissionValue)||void 0===n?void 0:n.date,key:`${e.permissionName}-${t}`})})))}c.propTypes={approvedPermissions:a.default.object.isRequired,revokedPermissions:a.default.object.isRequired,newPermissions:a.default.object.isRequired,targetSubjectMetadata:a.default.object.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/update-snap-permission-list/update-snap-permission-list.js"}],[4688,{"./srp-input":4690},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./srp-input"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/srp-input/index.js"}],[4689,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseSecretRecoveryPhrase=void 0;n.parseSecretRecoveryPhrase=e=>{var t;return(null===(t=(e||"").trim().toLowerCase().match(/\w+/gu))||void 0===t?void 0:t.join(" "))||""}}}},{package:"$root$",file:"ui/components/app/srp-input/parse-secret-recovery-phrase.js"}],[469,{"@ethersproject/address":438},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getJsonWalletAddress=n.isKeystoreWallet=n.isCrowdsaleWallet=void 0;var r=e("@ethersproject/address");function a(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function o(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}n.isCrowdsaleWallet=a,n.isKeystoreWallet=o,n.getJsonWalletAddress=function(e){if(a(e))try{return(0,r.getAddress)(JSON.parse(e).ethaddr)}catch(e){return null}if(o(e))try{return(0,r.getAddress)(JSON.parse(e).address)}catch(e){return null}return null}}}},{package:"@truffle/decoder>@truffle/encoder>@ensdomains/ensjs>ethers>@ethersproject/json-wallets",file:"node_modules/@ethersproject/json-wallets/lib/inspect.js"}],[4690,{"../../../helpers/constants/design-system":5092,"../../../helpers/utils/util":5133,"../../../hooks/useI18nContext":5156,"../../component-library":4822,"../../ui/dropdown":4958,"../../ui/show-hide-toggle":5030,"../../ui/text-field":5046,"./parse-secret-recovery-phrase":4689,"@ethersproject/hdnode":465,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var r=e("@ethersproject/hdnode"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),o=m(e("prop-types")),i=e("../../../hooks/useI18nContext"),s=m(e("../../ui/text-field")),l=e("../../../helpers/utils/util"),u=e("../../component-library"),c=m(e("../../ui/dropdown")),d=m(e("../../ui/show-hide-toggle")),p=e("../../../helpers/constants/design-system"),f=e("./parse-secret-recovery-phrase");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=12,y=e=>e!==e.toLowerCase();function v({onChange:e,srpText:t}){const[n,o]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[v,b]=(0,a.useState)(new Array(g).fill("")),[_,w]=(0,a.useState)(new Array(g).fill(!1)),[T,x]=(0,a.useState)(g),E=(0,i.useI18nContext)(),k=(0,a.useCallback)((t=>{let n="";const a=t.join(" ").trim();t.some((e=>""!==e))&&(t.some((e=>""===e))?n=E("seedPhraseReq"):y(a)?n=E("invalidSeedPhraseCaseSensitive"):(0,r.isValidMnemonic)(a)||(n=E("invalidSeedPhrase"))),b(t),o(n),e(n?"":a)}),[b,o,E,e]),C=(0,a.useCallback)((e=>{w((t=>{const n=t.slice();return n[e]?n[e]=!1:(n.fill(!1),n[e]=!0),n}))}),[]),P=(0,a.useCallback)(((e,t)=>{m&&h(!1);const n=v.slice();n[e]=t.trim(),k(n)}),[v,k,m]),O=(0,a.useCallback)((e=>{let t=(0,f.parseSecretRecoveryPhrase)(e).split(" ");if(t.length>24)return void h(!0);m&&h(!1);let n=T;t.length!==T&&(n=t.length<12?12:t.length%3==0?t.length:t.length+(3-t.length%3),x(n)),t.length<n&&(t=t.concat(new Array(n-t.length).fill(""))),w(new Array(n).fill(!1)),k(t),(0,l.clearClipboard)()}),[T,k,m,h]),S=[];for(let e=12;e<=24;e+=3)S.push({name:E("srpInputNumberOfWords",[`${e}`]),value:`${e}`});return a.default.createElement("div",{className:"import-srp__container"},a.default.createElement("label",{className:"import-srp__srp-label"},a.default.createElement(u.Text,{align:p.TextAlign.Left,variant:p.TextVariant.headingSm,as:"h4"},t)),a.default.createElement(u.BannerAlert,{className:"import-srp__paste-tip",severity:p.Severity.Info,description:E("srpPasteTip"),descriptionProps:{className:"import-srp__banner-alert-text"}}),a.default.createElement(c.default,{className:"import-srp__number-of-words-dropdown",onChange:e=>{const t=parseInt(e,10);if(Number.isNaN(t))throw new Error("Unable to parse option as integer");let n=v.slice(0,t);n.length<t&&(n=n.concat(new Array(t-n.length).fill(""))),x(t),w(new Array(t).fill(!1)),k(n)},options:S,selectedOption:`${T}`}),a.default.createElement("div",{className:"import-srp__srp"},[...Array(T).keys()].map((e=>{const t=`import-srp__srp-word-${e}`;return a.default.createElement("div",{key:e,className:"import-srp__srp-word"},a.default.createElement("label",{htmlFor:t,className:"import-srp__srp-word-label"},a.default.createElement(u.Text,null,`${e+1}.`)),a.default.createElement(s.default,{id:t,"data-testid":t,type:_[e]?"text":"password",onChange:t=>{t.preventDefault(),P(e,t.target.value)},value:v[e],autoComplete:"off",onPaste:e=>{const t=e.clipboardData.getData("text");t.trim().match(/\s/u)&&(e.preventDefault(),O(t))}}),a.default.createElement(d.default,{id:`${t}-checkbox`,ariaLabelHidden:E("srpWordHidden"),ariaLabelShown:E("srpWordShown"),shown:_[e],"data-testid":`${t}-checkbox`,onChange:()=>C(e),title:E("srpToggleShow")}))}))),n?a.default.createElement(u.BannerAlert,{className:"import-srp__srp-error",severity:p.Severity.Danger,description:n,descriptionProps:{className:"import-srp__banner-alert-text"}}):null,m?a.default.createElement(u.BannerAlert,{className:"import-srp__srp-too-many-words-error",severity:p.Severity.Danger,actionButtonLabel:E("dismiss"),actionButtonOnClick:()=>h(!1),description:E("srpPasteFailedTooManyWords"),descriptionProps:{className:"import-srp__banner-alert-text"}}):null)}v.propTypes={onChange:o.default.func.isRequired,srpText:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/srp-input/srp-input.js"}],[4691,{"../../../../helpers/constants/design-system":5092,"../../../../hooks/useI18nContext":5156,"../../../component-library":4822,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({icon:e,image:t,content:n,moreContent:r,buttons:l}){const u=(0,i.useI18nContext)();return a.default.createElement(a.default.Fragment,null,e&&a.default.createElement(s.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Row,alignItems:o.AlignItems.center,justifyContent:o.JustifyContent.center},e),t&&a.default.createElement(s.Box,{display:o.Display.Flex,margin:"auto",textAlign:o.TextAlign.Center},a.default.createElement("img",{src:t,alt:u("srpSecurityQuizImgAlt"),width:"300",style:{maxWidth:"100%"}})),a.default.createElement(s.Text,{variant:o.TextVariant.bodyLgMedium,textAlign:o.TextAlign.Center,color:null==e?void 0:e.props.color},n),r&&a.default.createElement(s.Text,{variant:o.TextVariant.bodyMd,textAlign:o.TextAlign.Center},r),l.map(((e,t)=>a.default.createElement(s.Button,{key:t,size:e.size,onClick:e.onClick,variant:e.variant,width:o.BlockSize.Full,"data-testid":e["data-testid"]},e.label))))};var r,a=(r=e("react"))&&r.__esModule?r:{default:r},o=e("../../../../helpers/constants/design-system"),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library")}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/QuizContent/QuizContent.tsx"}],[4692,{"./QuizContent":4691},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./QuizContent"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/QuizContent/index.ts"}],[4693,{"../../../../../shared/constants/metametrics":4353,"../../../../contexts/metametrics":5070,"../../../../helpers/constants/design-system":5092,"../../../../helpers/constants/routes":5097,"../../../../helpers/constants/zendesk-url":5102,"../../../../hooks/useI18nContext":5156,"../../../component-library":4822,"../QuizContent":4692,"../types":4695,react:4076,"react-router-dom":4061},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const[t,n]=(0,r.useState)(f.QuizStage.introduction),u=(0,r.useContext)(i.MetaMetricsContext),m=(0,a.useHistory)(),h=(0,c.useI18nContext)();let b="";const _={};_[f.QuizStage.introduction]=()=>(b=h("srpSecurityQuizTitle"),r.default.createElement(p.default,{image:"images/reveal-srp.png",content:h("srpSecurityQuizIntroduction"),buttons:[{label:h("srpSecurityQuizGetStarted"),onClick:()=>n(f.QuizStage.questionOne),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-get-started"},{label:h("learnMoreUpperCase"),onClick:v,variant:d.ButtonVariant.Link,"data-testid":"srp-quiz-learn-more"}]})),_[f.QuizStage.questionOne]=()=>(b=`1 ${h("ofTextNofM")} 2`,r.default.createElement(p.default,{content:h("srpSecurityQuizQuestionOneQuestion"),buttons:[{label:h("srpSecurityQuizQuestionOneWrongAnswer"),onClick:()=>n(f.QuizStage.wrongAnswerQuestionOne),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-wrong-answer"},{label:h("srpSecurityQuizQuestionOneRightAnswer"),onClick:()=>n(f.QuizStage.rightAnswerQuestionOne),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-right-answer"},{label:h("learnMoreUpperCase"),onClick:v,variant:d.ButtonVariant.Link}]})),_[f.QuizStage.rightAnswerQuestionOne]=()=>(b=`1 ${h("ofTextNofM")} 2`,r.default.createElement(p.default,{icon:y,content:h("srpSecurityQuizQuestionOneRightAnswerTitle"),moreContent:h("srpSecurityQuizQuestionOneRightAnswerDescription"),buttons:[{label:h("continue"),onClick:()=>n(f.QuizStage.questionTwo),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-continue"},{label:h("learnMoreUpperCase"),onClick:v,variant:d.ButtonVariant.Link}]})),_[f.QuizStage.wrongAnswerQuestionOne]=()=>(b=`1 ${h("ofTextNofM")} 2`,r.default.createElement(p.default,{icon:g,content:h("srpSecurityQuizQuestionOneWrongAnswerTitle"),moreContent:h("srpSecurityQuizQuestionOneWrongAnswerDescription"),buttons:[{label:h("tryAgain"),onClick:()=>n(f.QuizStage.questionOne),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-try-again"},{label:h("learnMoreUpperCase"),onClick:v,variant:d.ButtonVariant.Link}]})),_[f.QuizStage.questionTwo]=()=>(b=`2 ${h("ofTextNofM")} 2`,r.default.createElement(p.default,{content:h("srpSecurityQuizQuestionTwoQuestion"),buttons:[{label:h("srpSecurityQuizQuestionTwoRightAnswer"),onClick:()=>n(f.QuizStage.rightAnswerQuestionTwo),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-right-answer"},{label:h("srpSecurityQuizQuestionTwoWrongAnswer"),onClick:()=>n(f.QuizStage.wrongAnswerQuestionTwo),variant:d.ButtonVariant.Secondary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-wrong-answer"},{label:h("learnMoreUpperCase"),onClick:v,variant:d.ButtonVariant.Link}]})),_[f.QuizStage.rightAnswerQuestionTwo]=()=>(b=`2 ${h("ofTextNofM")} 2`,r.default.createElement(p.default,{icon:y,content:h("srpSecurityQuizQuestionTwoRightAnswerTitle"),moreContent:h("srpSecurityQuizQuestionTwoRightAnswerDescription"),buttons:[{label:h("continue"),onClick:()=>m.push(l.REVEAL_SEED_ROUTE),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-continue"},{label:h("learnMoreUpperCase"),onClick:v,variant:d.ButtonVariant.Link}]})),_[f.QuizStage.wrongAnswerQuestionTwo]=()=>(b=`2 ${h("ofTextNofM")} 2`,r.default.createElement(p.default,{icon:g,content:h("srpSecurityQuizQuestionTwoWrongAnswerTitle"),moreContent:h("srpSecurityQuizQuestionTwoWrongAnswerDescription"),buttons:[{label:h("tryAgain"),onClick:()=>n(f.QuizStage.questionTwo),variant:d.ButtonVariant.Primary,size:d.ButtonSize.Lg,"data-testid":"srp-quiz-try-again"},{label:h("learnMoreUpperCase"),onClick:v,variant:d.ButtonVariant.Link}]}));const w=(0,r.useCallback)((e=>{u({category:o.MetaMetricsEventCategory.Keys,event:o.MetaMetricsEventName.KeyExportSelected,properties:{key_type:o.MetaMetricsEventKeyType.Srp,location:e}},{})}),[]);(0,r.useEffect)((()=>{w(`stage_${t}`)}),[t]);const T=_[t]();return r.default.createElement(d.Modal,{isOpen:e.isOpen,onClose:e.onClose},r.default.createElement(d.ModalOverlay,null),r.default.createElement(d.ModalContent,{modalDialogProps:{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4}},r.default.createElement(d.ModalHeader,{onClose:e.onClose,"data-testid":"srp-quiz-header"},b),r.default.createElement("span",{"data-testid":`srp_stage_${t}`}),T))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(e("react")),a=e("react-router-dom"),o=e("../../../../../shared/constants/metametrics"),i=e("../../../../contexts/metametrics"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/constants/routes"),u=m(e("../../../../helpers/constants/zendesk-url")),c=e("../../../../hooks/useI18nContext"),d=e("../../../component-library"),p=m(e("../QuizContent")),f=e("../types");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=r.default.createElement(d.Icon,{size:d.IconSize.Xl,name:d.IconName.Warning,color:s.IconColor.errorDefault,textAlign:s.TextAlign.Center,width:s.BlockSize.OneTwelfth}),y=r.default.createElement(d.Icon,{size:d.IconSize.Xl,name:d.IconName.Confirmation,color:s.IconColor.successDefault,textAlign:s.TextAlign.Center,width:s.BlockSize.OneTwelfth}),v=()=>{global.platform.openTab({url:u.default.PASSWORD_AND_SRP_ARTICLE})}}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/SRPQuiz/SRPQuiz.tsx"}],[4694,{"./SRPQuiz":4693},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./SRPQuiz"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/SRPQuiz/index.ts"}],[4695,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QuizStage=void 0;let r=function(e){return e.introduction="introduction",e.questionOne="question_one",e.wrongAnswerQuestionOne="wrong_answer_question_one",e.rightAnswerQuestionOne="right_answer_question_one",e.questionTwo="question_two",e.wrongAnswerQuestionTwo="wrong_answer_question_two",e.rightAnswerQuestionTwo="right_answer_question_two",e}({});n.QuizStage=r}}},{package:"$root$",file:"ui/components/app/srp-quiz-modal/types.ts"}],[4696,{"./step-progress-bar":4697},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ThreeStepProgressBar",{enumerable:!0,get:function(){return r.ThreeStepProgressBar}}),Object.defineProperty(n,"TwoStepProgressBar",{enumerable:!0,get:function(){return r.TwoStepProgressBar}}),Object.defineProperty(n,"threeStepStages",{enumerable:!0,get:function(){return r.threeStepStages}}),Object.defineProperty(n,"twoStepStages",{enumerable:!0,get:function(){return r.twoStepStages}});var r=e("./step-progress-bar")}}},{package:"$root$",file:"ui/components/app/step-progress-bar/index.js"}],[4697,{"../../../helpers/constants/design-system":5092,"../../../hooks/useI18nContext":5156,"../../ui/box":4931,classnames:2582,lodash:3676,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ThreeStepProgressBar=p,n.TwoStepProgressBar=f,n.twoStepStages=n.threeStepStages=void 0;var r=c(e("react")),a=c(e("classnames")),o=c(e("prop-types")),i=e("lodash"),s=e("../../../hooks/useI18nContext"),l=c(e("../../ui/box")),u=e("../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}n.threeStepStages={PASSWORD_CREATE:1,RECOVERY_PHRASE_VIDEO:2,RECOVERY_PHRASE_REVIEW:3,RECOVERY_PHRASE_CONFIRM:4,ONBOARDING_COMPLETE:5};function p({stage:e,...t}){const n=(0,s.useI18nContext)();return r.default.createElement(l.default,t,r.default.createElement("ul",{className:"progressbar"},r.default.createElement("li",{className:(0,a.default)({active:e>=1,complete:e>1})},(0,i.capitalize)(n("createPassword"))),r.default.createElement("li",{className:(0,a.default)({active:e>=2,complete:e>3})},(0,i.capitalize)(n("secureWallet"))),r.default.createElement("li",{className:(0,a.default)({active:e>=4,complete:e>5})},(0,i.capitalize)(n("confirmRecoveryPhrase")))))}function f({stage:e,...t}){const n=(0,s.useI18nContext)();return r.default.createElement(l.default,d({width:u.BLOCK_SIZES.FULL},t),r.default.createElement("ul",{className:"progressbar two-steps"},r.default.createElement("li",{className:(0,a.default)({active:e>=1,complete:e>1})},(0,i.capitalize)(n("confirmRecoveryPhrase"))),r.default.createElement("li",{className:(0,a.default)("two-steps",{active:e>=2,complete:e>2})},(0,i.capitalize)(n("createPassword")))))}n.twoStepStages={RECOVERY_PHRASE_CONFIRM:1,PASSWORD_CREATE:2},p.propTypes={stage:o.default.number,...l.default.propTypes},f.propTypes={stage:o.default.number,...l.default.propTypes}}}},{package:"$root$",file:"ui/components/app/step-progress-bar/step-progress-bar.js"}],[4698,{"./tab-bar":4699},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./tab-bar"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/tab-bar/index.js"}],[4699,{"../../../helpers/constants/design-system":5092,"../../component-library":4822,classnames:2582,"prop-types":3823,react:4076},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),a=l(e("prop-types")),o=l(e("classnames")),i=e("../../component-library"),s=e("../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}const u=e=>{const{tabs:t=[],onSelect:n,isActive:a}=e;return r.default.createElement("div",{className:"tab-bar"},t.map((({key:e,content:t,icon:l})=>r.default.createElement(i.Box,{as:"button",key:e,paddingTop:5,paddingBottom:5,paddingLeft:4,paddingRight:4,className:(0,o.default)("tab-bar__tab pointer",{"tab-bar__tab--active":a(e,t)}),onClick:()=>n(e)},a(e,t)&&r.default.createElement(i.Box,{className:"tab-bar__tab__selected-indicator",borderRadius:s.BorderRadius.pill,backgroundColor:s.Color.primaryDefault,display:[s.Display.None,s.Display.Block]}),r.default.createElement("div",{className:"tab-bar__tab__content"},r.default.createElement("div",{className:"tab-bar__tab__content__icon"},l),r.default.createElement("div",{className:"tab-bar__tab__content__title"},t)),r.default.createElement(i.Icon,{name:i.IconName.ArrowRight,size:i.IconSize.Sm,className:"tab-bar__tab__caret"})))))};u.propTypes={isActive:a.default.func.isRequired,tabs:a.default.array,onSelect:a.default.func};var c=u;n.default=c}}},{package:"$root$",file:"ui/components/app/tab-bar/tab-bar.js"}],[470,{"./_version":466,"./utils":471,"@ethersproject/address":438,"@ethersproject/bytes":447,"@ethersproject/hdnode":465,"@ethersproject/keccak256":473,"@ethersproject/logger":476,"@ethersproject/pbkdf2":480,"@ethersproject/properties":482,"@ethersproject/random":504,"@ethersproject/transactions":523,"aes-js":472,"scrypt-js":4134},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.encrypt=n.decrypt=n.decryptSync=n.KeystoreAccount=void 0;var l=s(e("aes-js")),u=s(e("scrypt-js")),c=e("@ethersproject/address"),d=e("@ethersproject/bytes"),p=e("@ethersproject/hdnode"),f=e("@ethersproject/keccak256"),m=e("@ethersproject/pbkdf2"),h=e("@ethersproject/random"),g=e("@ethersproject/properties"),y=e("@ethersproject/transactions"),v=e("./utils"),b=e("@ethersproject/logger"),_=e("./_version"),w=new b.Logger(_.version);function T(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.isKeystoreAccount=function(e){return!(!e||!e._isKeystoreAccount)},t}(g.Description);function E(e,t){var n=(0,v.looseArrayify)((0,v.searchPath)(e,"crypto/ciphertext"));if((0,d.hexlify)((0,f.keccak256)((0,d.concat)([t.slice(16,32),n]))).substring(2)!==(0,v.searchPath)(e,"crypto/mac").toLowerCase())throw new Error("invalid password");var r=function(e,t,n){if("aes-128-ctr"===(0,v.searchPath)(e,"crypto/cipher")){var r=(0,v.looseArrayify)((0,v.searchPath)(e,"crypto/cipherparams/iv")),a=new l.default.Counter(r),o=new l.default.ModeOfOperation.ctr(t,a);return(0,d.arrayify)(o.decrypt(n))}return null}(e,t.slice(0,16),n);r||w.throwError("unsupported cipher",b.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});var a=t.slice(32,64),o=(0,y.computeAddress)(r);if(e.address){var i=e.address.toLowerCase();if("0x"!==i.substring(0,2)&&(i="0x"+i),(0,c.getAddress)(i)!==o)throw new Error("address mismatch")}var s={_isKeystoreAccount:!0,address:o,privateKey:(0,d.hexlify)(r)};if("0.1"===(0,v.searchPath)(e,"x-ethers/version")){var u=(0,v.looseArrayify)((0,v.searchPath)(e,"x-ethers/mnemonicCiphertext")),m=(0,v.looseArrayify)((0,v.searchPath)(e,"x-ethers/mnemonicCounter")),h=new l.default.Counter(m),g=new l.default.ModeOfOperation.ctr(a,h),_=(0,v.searchPath)(e,"x-ethers/path")||p.defaultPath,T=(0,v.searchPath)(e,"x-ethers/locale")||"en",E=(0,d.arrayify)(g.decrypt(u));try{var k=(0,p.entropyToMnemonic)(E,T),C=p.HDNode.fromMnemonic(k,null,T).derivePath(_);if(C.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=C.mnemonic}catch(e){if(e.code!==b.Logger.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new x(s)}function k(e,t,n,r,a){return(0,d.arrayify)((0,m.pbkdf2)(e,t,n,r,a))}function C(e,t,n,r,a){return Promise.resolve(k(e,t,n,r,a))}function P(e,t,n,r,a){var o=(0,v.getPassword)(t),i=(0,v.searchPath)(e,"crypto/kdf");if(i&&"string"==typeof i){var s=function(e,t){return w.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===i.toLowerCase()){var l=(0,v.looseArrayify)((0,v.searchPath)(e,"crypto/kdfparams/salt")),u=parseInt((0,v.searchPath)(e,"crypto/kdfparams/n")),c=parseInt((0,v.searchPath)(e,"crypto/kdfparams/r")),d=parseInt((0,v.searchPath)(e,"crypto/kdfparams/p"));return u&&c&&d||s("kdf",i),0!=(u&u-1)&&s("N",u),32!==(m=parseInt((0,v.searchPath)(e,"crypto/kdfparams/dklen")))&&s("dklen",m),r(o,l,u,c,d,64,a)}if("pbkdf2"===i.toLowerCase()){l=(0,v.looseArrayify)((0,v.searchPath)(e,"crypto/kdfparams/salt"));var p=null,f=(0,v.searchPath)(e,"crypto/kdfparams/prf");"hmac-sha256"===f?p="sha256":"hmac-sha512"===f?p="sha512":s("prf",f);var m,h=parseInt((0,v.searchPath)(e,"crypto/kdfparams/c"));return 32!==(m=parseInt((0,v.searchPath)(e,"crypto/kdfparams/dklen")))&&s("dklen",m),n(o,l,h,m,p)}}return w.throwArgumentError("unsupported key-derivation function","kdf",i)}n.KeystoreAccount=x,n.decryptSync=function(e,t){var n=JSON.parse(e);return E(n,P(n,t,k,u.default.syncScrypt))},n.decrypt=function(e,t,n){return o(this,void 0,void 0,(function(){var r,a;return i(this,(function(o){switch(o.label){case 0:return[4,P(r=JSON.parse(e),t,C,u.default.scrypt,n)];case 1:return a=o.sent(),[2,E(r,a)]}}))}))},n.encrypt=function(e,t,n,r){try{if((0,c.getAddress)(e.address)!==(0,y.computeAddress)(e.privateKey))throw new Error("address/privateKey mismatch");if(T(e)){var a=e.mnemonic;if(p.HDNode.fromMnemonic(a.phrase,null,a.locale).derivePath(a.path||p.defaultPath).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof n||r||(r=n,n={}),n||(n={});var o=(0,d.arrayify)(e.privateKey),i=(0,v.getPassword)(t),s=null,m=null,g=null;if(T(e)){var b=e.mnemonic;s=(0,d.arrayify)((0,p.mnemonicToEntropy)(b.phrase,b.locale||"en")),m=b.path||p.defaultPath,g=b.locale||"en"}var _=n.client;_||(_="ethers.js");var w=null;w=n.salt?(0,d.arrayify)(n.salt):(0,h.randomBytes)(32);var x=null;if(n.iv){if(16!==(x=(0,d.arrayify)(n.iv)).length)throw new Error("invalid iv")}else x=(0,h.randomBytes)(16);var E=null;if(n.uuid){if(16!==(E=(0,d.arrayify)(n.uuid)).length)throw new Error("invalid uuid")}else E=(0,h.randomBytes)(16);var k=1<<17,C=8,P=1;return n.scrypt&&(n.scrypt.N&&(k=n.scrypt.N),n.scrypt.r&&(C=n.scrypt.r),n.scrypt.p&&(P=n.scrypt.p)),u.default.scrypt(i,w,k,C,P,64,r).then((function(t){var n=(t=(0,d.arrayify)(t)).slice(0,16),r=t.slice(16,32),a=t.slice(32,64),i=new l.default.Counter(x),u=new l.default.ModeOfOperation.ctr(n,i),c=(0,d.arrayify)(u.encrypt(o)),p=(0,f.keccak256)((0,d.concat)([r,c])),y={address:e.address.substring(2).toLowerCase(),id:(0,v.uuidV4)(E),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,d.hexlify)(x).substring(2)},ciphertext:(0,d.hexlify)(c).substring(2),kdf:"scrypt",kdfparams:{salt:(0,d.hexlify)(w).substring(2),n:k,dklen:32,p:P,r:C},mac:p.substring(2)}};if(s){var b=(0,h.randomBytes)(16),T=new l.default.Counter(b),O=new l.default.ModeOfOperation.ctr(a,T),S=(0,d.arrayify)(O.encrypt(s)),j=new Date,M=j.getUTCFullYear()+"-"+(0,v.zpad)(j.getUTCMonth()+1,2)+"-"+(0,v.zpad)(j.getUTCDate(),2)+"T"+(0,v.zpad)(j.getUTCHours(),2)+"-"+(0,v.zpad)(j.getUTCMinutes(),2)+"-"+(0,v.zpad)(j.getUTCSeconds(),2)+".0Z";y["x-ethers"]={client:_,gethFilename:"UTC--"+M+"--"+y.address,mnemonicCounter:(0,d.hexlify)(b).substring(2),mnemonicCiphertext:(0,d.hexlify)(S).substring(2),path:m,locale:g,version:"0.1"}}return JSON.stringify(y)}))}}}},{package:"@truffle/decoder>@truffle/encoder>@ensdomains/ensjs>ethers>@ethersproject/json-wallets",file:"node_modules/@ethersproject/json-wallets/lib/keystore.js"}],[4700,{"./terms-of-use-popup":4701},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var r,a=(r=e("./terms-of-use-popup"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/terms-of-use-popup/index.js"}]],[],{});