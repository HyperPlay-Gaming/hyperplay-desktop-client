LavaPack.loadBundle([[1712,{"./bytes":1715,"./constants":1716,"./helpers":1718,"./internal":1720,"@ethereumjs/rlp":383,buffer:2634,"ethereum-cryptography/keccak":2868,"ethereum-cryptography/secp256k1":2885,"ethereum-cryptography/utils":2887},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.accountBodyToRLP=r.accountBodyToSlim=r.accountBodyFromSlim=r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const n=e("@ethereumjs/rlp"),i=e("ethereum-cryptography/keccak"),o=e("ethereum-cryptography/secp256k1"),s=e("ethereum-cryptography/utils"),a=e("./bytes"),l=e("./constants"),c=e("./helpers"),u=e("./internal"),d=BigInt(0);class p{constructor(e=d,t=d,r=l.KECCAK256_RLP,n=l.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:n,codeHash:i}=e;return new p(t!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(t)):undefined,r!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(r)):undefined,n!==undefined?(0,a.toBuffer)(n):undefined,i!==undefined?(0,a.toBuffer)(i):undefined)}static fromRlpSerializedAccount(e){const t=(0,a.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new p((0,a.bufferToBigInt)(t),(0,a.bufferToBigInt)(r),n,i)}_validate(){if(this.nonce<d)throw new Error("nonce must be greater than zero");if(this.balance<d)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return t.from(n.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(l.KECCAK256_NULL)}isEmpty(){return this.balance===d&&this.nonce===d&&this.codeHash.equals(l.KECCAK256_NULL)}}r.Account=p;r.isValidAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};r.toChecksumAddress=function(e,r){(0,c.assertIsHexString)(e);const n=(0,u.stripHexPrefix)(e).toLowerCase();let o="";if(r!==undefined){o=(0,a.bufferToBigInt)((0,a.toBuffer)(r)).toString()+"0x"}const l=t.from(o+n,"utf8"),d=(0,s.bytesToHex)((0,i.keccak256)(l));let p="0x";for(let e=0;e<n.length;e++)parseInt(d[e],16)>=8?p+=n[e].toUpperCase():p+=n[e];return p};r.isValidChecksumAddress=function(e,t){return(0,r.isValidAddress)(e)&&(0,r.toChecksumAddress)(e,t)===e};r.generateAddress=function(e,r){return(0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(r),(0,a.bufferToBigInt)(r)===BigInt(0)?t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,null])))).slice(-20):t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,r])))).slice(-20)};r.generateAddress2=function(e,r,n){if((0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(r),(0,c.assertIsBuffer)(n),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==r.length)throw new Error("Expected salt to be of length 32");const o=(0,i.keccak256)(t.concat([t.from("ff","hex"),e,r,(0,i.keccak256)(n)]));return(0,a.toBuffer)(o).slice(-20)};r.isValidPrivate=function(e){return o.secp256k1.utils.isValidPrivateKey(e)};r.isValidPublic=function(e,r=!1){if((0,c.assertIsBuffer)(e),64===e.length)try{return o.secp256k1.ProjectivePoint.fromHex(t.concat([t.from([4]),e])),!0}catch(e){return!1}if(!r)return!1;try{return o.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};r.pubToAddress=function(e,r=!1){if((0,c.assertIsBuffer)(e),r&&64!==e.length&&(e=t.from(o.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return t.from((0,i.keccak256)(e)).slice(-20)},r.publicToAddress=r.pubToAddress;r.privateToPublic=function(e){return(0,c.assertIsBuffer)(e),t.from(o.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};r.privateToAddress=function(e){return(0,r.publicToAddress)((0,r.privateToPublic)(e))};r.importPublic=function(e){return(0,c.assertIsBuffer)(e),64!==e.length&&(e=t.from(o.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};r.zeroAddress=function(){const e=(0,a.zeros)(20);return(0,a.bufferToHex)(e)};function h(e){const[t,r,n,i]=e;return[t,r,0===(0,a.arrToBufArr)(n).length?l.KECCAK256_RLP:n,0===(0,a.arrToBufArr)(i).length?l.KECCAK256_NULL:i]}r.isZeroAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return(0,r.zeroAddress)()===e},r.accountBodyFromSlim=h;const f=new Uint8Array(0);r.accountBodyToSlim=function(e){const[t,r,n,i]=e;return[t,r,(0,a.arrToBufArr)(n).equals(l.KECCAK256_RLP)?f:n,(0,a.arrToBufArr)(i).equals(l.KECCAK256_NULL)?f:i]},r.accountBodyToRLP=function(e,t=!0){const r=t?h(e):e;return(0,a.arrToBufArr)(n.RLP.encode(r))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/account.js"}],[1713,{"./account":1712,"./bytes":1715,buffer:2634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("./account"),i=e("./bytes");class o{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new o((0,i.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new o((0,i.toBuffer)(e))}static fromPublicKey(e){if(!t.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,n.pubToAddress)(e);return new o(r)}static fromPrivateKey(e){if(!t.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,n.privateToAddress)(e);return new o(r)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new o((0,n.generateAddress)(e.buf,(0,i.bigIntToBuffer)(t)))}static generate2(e,r,i){if(!t.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!t.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new o((0,n.generateAddress2)(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(o.zero())}isPrecompileOrSystemAddress(){const e=(0,i.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=o}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/address.js"}],[1714,{events:2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncEventEmitter=void 0;const n=e("events");class i extends n.EventEmitter{emit(e,...t){let[r,n]=t;const i=this;let o=i._events[e]??[];return n===undefined&&"function"==typeof r&&(n=r,r=undefined),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=undefined),o=Array.isArray(o)?o:[o],async function(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise(((t,n)=>{i.call(e,r,(e=>{e?n(e):t()}))}))}catch(e){n=e}if(n)throw n}(i,o.slice(),r).then(n).catch(n),i.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(i,o){r.removeListener(e,n),t(i,o)}:function(i){r.removeListener(e,n),t(i,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let i,o,s=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(s)||(this._events[e]=s=[s]),o=s.length,i=s.length;i--;)if(s[i]===t){o=i+a;break}return s.splice(o,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}r.AsyncEventEmitter=i}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[1715,{"./helpers":1718,"./internal":1720,buffer:2634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.intToUnpaddedBuffer=r.bigIntToUnpaddedBuffer=r.bigIntToHex=r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.short=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToInt=r.bigIntToBuffer=r.bufferToBigInt=r.bufferToHex=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;const n=e("./helpers"),i=e("./internal");r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};r.intToBuffer=function(e){const n=(0,r.intToHex)(e);return t.from((0,i.padToEven)(n.slice(2)),"hex")};r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const o=function(e,t,n){const i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),o(e,t,!1)};r.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),o(e,t,!0)};const s=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),s(e)};r.unpadArray=function(e){return(0,n.assertIsArray)(e),s(e)};r.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),"0x"+s(e)};r.toBuffer=function(e){if(null===e||e===undefined)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!(0,i.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from((0,i.padToEven)((0,i.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,r.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let r=e.toString(16);return r.length%2&&(r="0"+r),t.from(r,"hex")}if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")};function a(e){const t=(0,r.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function l(e){return(0,r.toBuffer)("0x"+e.toString(16))}r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")},r.bufferToBigInt=a,r.bigIntToBuffer=l;r.bufferToInt=function(e){const t=Number(a(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};r.fromSigned=function(e){return BigInt.asIntN(256,a(e))};r.toUnsigned=function(e){return l(BigInt.asUintN(256,e))};r.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e},r.short=function(e,r=50){const n=t.isBuffer(e)?e.toString("hex"):e;return n.length<=r?n:n.slice(0,r)+"…"};r.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return t.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push((0,r.baToJSON)(e[n]));return t}};r.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(r!==undefined&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map((t=>e(t))):t.from(r)},r.bufArrToArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):Uint8Array.from(t??[])};r.bigIntToHex=e=>"0x"+e.toString(16),r.bigIntToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)(l(e))},r.intToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)((0,r.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/bytes.js"}],[1716,{buffer:2634,"ethereum-cryptography/secp256k1":2885},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_WITHDRAWALS_PER_PAYLOAD=r.RLP_EMPTY_STRING=r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.SECP256K1_ORDER_DIV_2=r.SECP256K1_ORDER=r.MAX_INTEGER_BIGINT=r.MAX_INTEGER=r.MAX_UINT64=void 0;const n=e("buffer"),i=e("ethereum-cryptography/secp256k1");r.MAX_UINT64=BigInt("0xffffffffffffffff"),r.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),r.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),r.SECP256K1_ORDER=i.secp256k1.CURVE.n,r.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),r.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex"),r.RLP_EMPTY_STRING=n.Buffer.from([128]),r.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/constants.js"}],[1717,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compactBytesToNibbles=r.bytesToNibbles=r.nibblesToCompactBytes=r.nibblesToBytes=r.hasTerminator=void 0;r.hasTerminator=e=>e.length>0&&16===e[e.length-1];r.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};r.nibblesToCompactBytes=e=>{let t=0;(0,r.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=t<<5,1&~e.length||(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,r.nibblesToBytes)(e,n.subarray(1)),n};r.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r};r.compactBytesToNibbles=e=>{if(0===e.length)return e;let t=(0,r.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));const n=2-(1&t[0]);return t.subarray(n)}}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/encoding.js"}],[1718,{"../../../../../../../../../is-buffer/index.js":3264,"./internal":1720},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;const n=e("./internal");r.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};r.assertIsBuffer=function(e){if(!t.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};r.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};r.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../../../../is-buffer/index.js")})}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/helpers.js"}],[1719,{"./account":1712,"./address":1713,"./asyncEventEmitter":1714,"./bytes":1715,"./constants":1716,"./encoding":1717,"./internal":1720,"./lock":1721,"./provider":1722,"./signature":1723,"./types":1724,"./units":1725,"./withdrawal":1726},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.toAscii=r.stripHexPrefix=r.padToEven=r.isHexString=r.isHexPrefixed=r.getKeys=r.getBinarySize=r.fromUtf8=r.fromAscii=r.arrayContainsArray=void 0,i(e("./constants"),r),i(e("./units"),r),i(e("./account"),r),i(e("./address"),r),i(e("./withdrawal"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./types"),r),i(e("./encoding"),r),i(e("./asyncEventEmitter"),r);var o=e("./internal");Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return o.arrayContainsArray}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return o.fromAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return o.fromUtf8}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return o.getBinarySize}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return o.getKeys}}),Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return o.isHexPrefixed}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return o.isHexString}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return o.padToEven}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return o.stripHexPrefix}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return o.toAscii}}),i(e("./lock"),r),i(e("./provider"),r)}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/index.js"}],[172,{"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if((0,n.hasProperty)(e,"NftController")&&(0,n.isObject)(e.NftController)){const t=e.NftController;if((0,n.hasProperty)(t,"allNftContracts")&&(0,n.isObject)(t.allNftContracts)){const{allNftContracts:e}=t;Object.keys(e).every((t=>(0,n.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const r=e[t];if((0,n.isObject)(r)&&i(r))for(const e of Object.keys(r))(0,n.isStrictHexString)(e)||delete r[e]}))}if((0,n.hasProperty)(t,"allNfts")&&(0,n.isObject)(t.allNfts)){const{allNfts:e}=t;Object.keys(e).every((t=>(0,n.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const r=e[t];if((0,n.isObject)(r)&&i(r))for(const e of Object.keys(r))(0,n.isStrictHexString)(e)||delete r[e]}))}e.NftController=t}if((0,n.hasProperty)(e,"TokenListController")&&(0,n.isObject)(e.TokenListController)){const t=e.TokenListController;if((0,n.hasProperty)(t,"tokensChainsCache")&&(0,n.isObject)(t.tokensChainsCache)&&i(t.tokensChainsCache))for(const e of Object.keys(t.tokensChainsCache))(0,n.isStrictHexString)(e)||delete t.tokensChainsCache[e]}if((0,n.hasProperty)(e,"TokensController")&&(0,n.isObject)(e.TokensController)){const t=e.TokensController;if((0,n.hasProperty)(t,"allTokens")&&(0,n.isObject)(t.allTokens)&&i(t.allTokens)){const{allTokens:e}=t;for(const r of Object.keys(e))(0,n.isStrictHexString)(r)||delete t.allTokens[r]}if((0,n.hasProperty)(t,"allIgnoredTokens")&&(0,n.isObject)(t.allIgnoredTokens)&&i(t.allIgnoredTokens)){const{allIgnoredTokens:e}=t;for(const r of Object.keys(e))(0,n.isStrictHexString)(r)||delete t.allIgnoredTokens[r]}if((0,n.hasProperty)(t,"allDetectedTokens")&&(0,n.isObject)(t.allDetectedTokens)&&i(t.allDetectedTokens)){const{allDetectedTokens:e}=t;for(const r of Object.keys(e))(0,n.isStrictHexString)(r)||delete t.allDetectedTokens[r]}e.TokensController=t}return e};var n=e("@metamask/utils");function i(e){return Object.keys(e).some((e=>(0,n.isStrictHexString)(e)))}}}},{package:"$root$",file:"app/scripts/migrations/077-supplements/077-supplement-for-088.ts"}],[1720,{buffer:2634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function t(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=t;function n(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}r.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return t(e)?e.slice(2):e},r.padToEven=n,r.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return e.byteLength(t,"utf8")},r.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"]((t=>e.indexOf(t)>=0))},r.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},r.fromUtf8=function(t){return`0x${n(e.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},r.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},r.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let i=0;i<e.length;i++){let o=e[i][t];if(!0!==r||o){if("string"!=typeof o)throw new Error("invalid abi - expected type 'string', received "+typeof o)}else o="";n.push(o)}return n},r.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/internal.js"}],[1721,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Lock=void 0;r.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise((e=>this.promiseResolverQueue.push(e)))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/lock.js"}],[1722,{"micro-ftch":3520},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getProvider=r.fetchFromProvider=void 0;const n=e("micro-ftch");r.fetchFromProvider=async(e,t)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;r.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/provider.js"}],[1723,{"./bytes":1715,"./constants":1716,"./helpers":1718,buffer:2634,"ethereum-cryptography/keccak":2868,"ethereum-cryptography/secp256k1":2885},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const n=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),o=e("./bytes"),s=e("./constants"),a=e("./helpers");function l(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===undefined?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function c(e){return e===BigInt(0)||e===BigInt(1)}r.ecsign=function(e,r,n){const o=i.secp256k1.sign(e,r),s=o.toCompactRawBytes();return{r:t.from(s.slice(0,32)),s:t.from(s.slice(32,64)),v:n===undefined?BigInt(o.recovery+27):BigInt(o.recovery+35)+BigInt(n)*BigInt(2)}};r.ecrecover=function(e,r,n,s,a){const u=t.concat([(0,o.setLengthLeft)(n,32),(0,o.setLengthLeft)(s,32)],64),d=l(r,a);if(!c(d))throw new Error("Invalid signature v value");const p=i.secp256k1.Signature.fromCompact(u).addRecoveryBit(Number(d)).recoverPublicKey(e);return t.from(p.toRawBytes(!1).slice(1))};r.toRpcSig=function(e,r,n,i){if(!c(l(e,i)))throw new Error("Invalid signature v value");return(0,o.bufferToHex)(t.concat([(0,o.setLengthLeft)(r,32),(0,o.setLengthLeft)(n,32),(0,o.toBuffer)(e)]))};r.toCompactSig=function(e,r,n,i){if(!c(l(e,i)))throw new Error("Invalid signature v value");let s=n;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(s=t.from(n),s[0]|=128),(0,o.bufferToHex)(t.concat([(0,o.setLengthLeft)(r,32),(0,o.setLengthLeft)(s,32)]))};r.fromRpcSig=function(e){const t=(0,o.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,o.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,o.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:r,s:n}};r.isValidSignature=function(e,t,r,n=!0,i){if(32!==t.length||32!==r.length)return!1;if(!c(l(e,i)))return!1;const a=(0,o.bufferToBigInt)(t),u=(0,o.bufferToBigInt)(r);return!(a===BigInt(0)||a>=s.SECP256K1_ORDER||u===BigInt(0)||u>=s.SECP256K1_ORDER)&&!(n&&u>=s.SECP256K1_ORDER_DIV_2)};r.hashPersonalMessage=function(e){(0,a.assertIsBuffer)(e);const r=t.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return t.from((0,n.keccak256)(t.concat([r,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/signature.js"}],[1724,{"./bytes":1715,"./internal":1720},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=void 0;const n=e("./bytes"),i=e("./internal");var o;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(o=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(e);switch(t){case o.Buffer:return r;case o.BigInt:return(0,n.bufferToBigInt)(r);case o.Number:{const e=(0,n.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case o.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/types.js"}],[1725,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GWEI_TO_WEI=void 0,r.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/units.js"}],[1726,{"./address":1713,"./bytes":1715,"./types":1724,buffer:2634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Withdrawal=void 0;const n=e("./address"),i=e("./bytes"),o=e("./types");class s{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:i,amount:a}=e,l=(0,o.toType)(t,o.TypeOutput.BigInt),c=(0,o.toType)(r,o.TypeOutput.BigInt),u=new n.Address((0,o.toType)(i,o.TypeOutput.Buffer)),d=(0,o.toType)(a,o.TypeOutput.BigInt);return new s(l,c,u,d)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,i]=e;return s.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:i})}static toBufferArray(e){const{index:r,validatorIndex:i,address:s,amount:a}=e,l=(0,o.toType)(r,o.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,o.toType)(r,o.TypeOutput.Buffer),c=(0,o.toType)(i,o.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,o.toType)(i,o.TypeOutput.Buffer);let u;u=s instanceof n.Address?s.buf:(0,o.toType)(s,o.TypeOutput.Buffer);return[l,c,u,(0,o.toType)(a,o.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,o.toType)(a,o.TypeOutput.Buffer)]}raw(){return s.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i.bigIntToHex)(this.index),validatorIndex:(0,i.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i.bigIntToHex)(this.amount)}}}r.Withdrawal=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@ethereumjs/util",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[1727,{"./chunk-Z4BLTVTB.js":1731,immer:3256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./chunk-Z4BLTVTB.js"),o=e("immer");o.enablePatches.call(void 0);function s(e,t,r){return Object.keys(e).reduce(((n,i)=>{try{const o=t[i];if(!o)throw new Error(`No metadata found for '${String(i)}'`);const s=o[r],a=e[i];return"function"==typeof s?n[i]=s(a):s&&(n[i]=a),n}catch(e){return setTimeout((()=>{throw e})),n}}),{})}n=new WeakMap,r.BaseController=class{constructor({messenger:e,metadata:t,name:r,state:s}){i.__privateAdd.call(void 0,this,n,void 0),this.messagingSystem=e,this.name=r,i.__privateSet.call(void 0,this,n,o.freeze.call(void 0,s,!0)),this.metadata=t,this.messagingSystem.registerActionHandler(`${r}:getState`,(()=>this.state)),this.messagingSystem.registerInitialEventPayload({eventType:`${r}:stateChange`,getPayload:()=>[this.state,[]]})}get state(){return i.__privateGet.call(void 0,this,n)}set state(e){throw new Error("Controller state cannot be directly mutated; use 'update' method instead.")}update(e){const[t,r,s]=o.produceWithPatches.call(void 0,i.__privateGet.call(void 0,this,n),e);return i.__privateSet.call(void 0,this,n,t),this.messagingSystem.publish(`${this.name}:stateChange`,t,r),{nextState:t,patches:r,inversePatches:s}}applyPatches(e){const t=o.applyPatches.call(void 0,i.__privateGet.call(void 0,this,n),e);i.__privateSet.call(void 0,this,n,t),this.messagingSystem.publish(`${this.name}:stateChange`,t,e)}destroy(){this.messagingSystem.clearEventSubscriptions(`${this.name}:stateChange`)}},r.getAnonymizedState=function(e,t){return s(e,t,"anonymous")},r.getPersistentState=function(e,t){return s(e,t,"persist")}}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/chunk-DV5LNY3P.js"}],[1728,{"./chunk-UJFCPTF3.js":1730,"./chunk-Z4BLTVTB.js":1731},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a=e("./chunk-UJFCPTF3.js"),l=e("./chunk-Z4BLTVTB.js");n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,r.ControllerMessenger=class{constructor(){l.__privateAdd.call(void 0,this,n,new Map),l.__privateAdd.call(void 0,this,i,new Map),l.__privateAdd.call(void 0,this,o,new Map),l.__privateAdd.call(void 0,this,s,new Map)}registerActionHandler(e,t){if(l.__privateGet.call(void 0,this,n).has(e))throw new Error(`A handler for ${e} has already been registered`);l.__privateGet.call(void 0,this,n).set(e,t)}unregisterActionHandler(e){l.__privateGet.call(void 0,this,n).delete(e)}clearActions(){l.__privateGet.call(void 0,this,n).clear()}call(e,...t){const r=l.__privateGet.call(void 0,this,n).get(e);if(!r)throw new Error(`A handler for ${e} has not been registered`);return r(...t)}registerInitialEventPayload({eventType:e,getPayload:t}){l.__privateGet.call(void 0,this,o).set(e,t)}publish(e,...t){const r=l.__privateGet.call(void 0,this,i).get(e);if(r)for(const[e,n]of r.entries())try{if(n){const r=l.__privateGet.call(void 0,this,s).get(e),i=n(...t);i!==r&&(l.__privateGet.call(void 0,this,s).set(e,i),e(i,r))}else e(...t)}catch(e){setTimeout((()=>{throw e}))}}subscribe(e,t,r){let n=l.__privateGet.call(void 0,this,i).get(e);if(n||(n=new Map,l.__privateGet.call(void 0,this,i).set(e,n)),n.set(t,r),r){const n=l.__privateGet.call(void 0,this,o).get(e);if(n){const e=r(...n());l.__privateGet.call(void 0,this,s).set(t,e)}}}unsubscribe(e,t){const r=l.__privateGet.call(void 0,this,i).get(e);if(!r||!r.has(t))throw new Error(`Subscription not found for event: ${e}`);r.get(t)&&l.__privateGet.call(void 0,this,s).delete(t),r.delete(t)}clearEventSubscriptions(e){l.__privateGet.call(void 0,this,i).delete(e)}clearSubscriptions(){l.__privateGet.call(void 0,this,i).clear()}getRestricted({name:e,allowedActions:t,allowedEvents:r}){return new(0,a.RestrictedControllerMessenger)({controllerMessenger:this,name:e,allowedActions:t,allowedEvents:r})}}}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/chunk-G42723LG.js"}],[1729,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=class{constructor(e={},t={}){this.defaultConfig={},this.defaultState={},this.disabled=!1,this.name="BaseController",this.internalConfig=this.defaultConfig,this.internalState=this.defaultState,this.internalListeners=[],this.initialState=t,this.initialConfig=e}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,t=!1,r=!0){if(r){this.internalConfig=t?e:Object.assign(this.internalConfig,e);for(const e of Object.keys(this.internalConfig)){const t=this.internalConfig[e];void 0!==t&&(this[e]=t)}}else for(const t of Object.keys(e))if(void 0!==this.internalConfig[t]){const r=e[t];this.internalConfig[t]=r,this[t]=r}}notify(){this.disabled||this.internalListeners.forEach((e=>{e(this.internalState)}))}subscribe(e){this.internalListeners.push(e)}unsubscribe(e){const t=this.internalListeners.findIndex((t=>e===t));return t>-1&&this.internalListeners.splice(t,1),t>-1}update(e,t=!1){this.internalState=t?Object.assign({},e):Object.assign({},this.internalState,e),this.notify()}},i=n;r.BaseControllerV1=n,r.BaseControllerV1_default=i}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/chunk-NINOM2XQ.js"}],[173,{"./077-supplements/077-supplement-for-082":169,"./077-supplements/077-supplement-for-084":170,"./077-supplements/077-supplement-for-086":171,"./077-supplements/077-supplement-for-088":172,"@metamask/utils":1982,lodash:3477,loglevel:3483},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash"),i=u(e("loglevel")),o=e("@metamask/utils"),s=u(e("./077-supplements/077-supplement-for-082")),a=u(e("./077-supplements/077-supplement-for-084")),l=u(e("./077-supplements/077-supplement-for-086")),c=u(e("./077-supplements/077-supplement-for-088"));function u(e){return e&&e.__esModule?e:{default:e}}r.default={version:77,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=77;let r=function(e){if(!(0,o.hasProperty)(e,"TokenListController"))return i.default.warn("Skipping migration, TokenListController state is missing"),e;var t,r;if(!(0,o.isObject)(e.TokenListController))return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.TokenListController is "+typeof e.TokenListController)),e;if(!(0,o.hasProperty)(e.TokenListController,"tokensChainsCache"))return i.default.warn("Skipping migration, TokenListController.tokensChainsCache state is missing"),e;const{TokenListController:n}=e,{tokensChainsCache:s}=n;let a,l;for(const e in s){var c,u;if(a=s[e].data||{},l={},Array.isArray(a))for(const e of a)l[e.address]=e;else if((null===(c=Object.keys(a)[0])||void 0===c?void 0:c.toLowerCase())!==(null===(u=a[Object.keys(a)[0]])||void 0===u||null===(u=u.address)||void 0===u?void 0:u.toLowerCase()))for(const e in a)l[a[e].address]=a[e];s[e].data=Object.keys(l).length>0?l:a}return n.tokensChainsCache=s,{...e,TokenListController:{...n}}}(t.data);return r=(0,s.default)(r),r=(0,a.default)(r),r=(0,l.default)(r),r=(0,c.default)(r),t.data=r,t}}}}},{package:"$root$",file:"app/scripts/migrations/077.js"}],[1730,{"./chunk-Z4BLTVTB.js":1731},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a,l,c,u,d,p,h=e("./chunk-Z4BLTVTB.js");n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakSet,l=function(e){const t=h.__privateGet.call(void 0,this,s);return h.__privateMethod.call(void 0,this,d,p).call(this,e)||null!==t&&t.includes(e)},c=new WeakSet,u=function(e){const t=h.__privateGet.call(void 0,this,o);return h.__privateMethod.call(void 0,this,d,p).call(this,e)||null!==t&&t.includes(e)},d=new WeakSet,p=function(e){return e.startsWith(`${h.__privateGet.call(void 0,this,i)}:`)},r.RestrictedControllerMessenger=class{constructor({controllerMessenger:e,name:t,allowedActions:r,allowedEvents:l}){h.__privateAdd.call(void 0,this,a),h.__privateAdd.call(void 0,this,c),h.__privateAdd.call(void 0,this,d),h.__privateAdd.call(void 0,this,n,void 0),h.__privateAdd.call(void 0,this,i,void 0),h.__privateAdd.call(void 0,this,o,void 0),h.__privateAdd.call(void 0,this,s,void 0),h.__privateSet.call(void 0,this,n,e),h.__privateSet.call(void 0,this,i,t),h.__privateSet.call(void 0,this,o,r),h.__privateSet.call(void 0,this,s,l)}registerActionHandler(e,t){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed registering action handlers prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).registerActionHandler(e,t)}unregisterActionHandler(e){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed unregistering action handlers prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).unregisterActionHandler(e)}call(e,...t){if(!h.__privateMethod.call(void 0,this,c,u).call(this,e))throw new Error(`Action missing from allow list: ${e}`);return h.__privateGet.call(void 0,this,n).call(e,...t)}registerInitialEventPayload({eventType:e,getPayload:t}){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).registerInitialEventPayload({eventType:e,getPayload:t})}publish(e,...t){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).publish(e,...t)}subscribe(e,t,r){if(!h.__privateMethod.call(void 0,this,a,l).call(this,e))throw new Error(`Event missing from allow list: ${e}`);return r?h.__privateGet.call(void 0,this,n).subscribe(e,t,r):h.__privateGet.call(void 0,this,n).subscribe(e,t)}unsubscribe(e,t){if(!h.__privateMethod.call(void 0,this,a,l).call(this,e))throw new Error(`Event missing from allow list: ${e}`);h.__privateGet.call(void 0,this,n).unsubscribe(e,t)}clearEventSubscriptions(e){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed clearing events prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).clearEventSubscriptions(e)}}}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/chunk-UJFCPTF3.js"}],[1731,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};r.__privateGet=(e,t,r)=>(n(e,t,"read from private field"),r?r.call(e):t.get(e)),r.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},r.__privateSet=(e,t,r,i)=>(n(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),r.__privateMethod=(e,t,r)=>(n(e,t,"access private method"),r)}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/chunk-Z4BLTVTB.js"}],[1732,{"./chunk-DV5LNY3P.js":1727,"./chunk-G42723LG.js":1728,"./chunk-NINOM2XQ.js":1729,"./chunk-UJFCPTF3.js":1730,"./chunk-Z4BLTVTB.js":1731},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-NINOM2XQ.js"),i=e("./chunk-DV5LNY3P.js"),o=e("./chunk-G42723LG.js"),s=e("./chunk-UJFCPTF3.js");e("./chunk-Z4BLTVTB.js"),r.BaseController=i.BaseController,r.BaseControllerV1=n.BaseControllerV1,r.ControllerMessenger=o.ControllerMessenger,r.RestrictedControllerMessenger=s.RestrictedControllerMessenger,r.getAnonymizedState=i.getAnonymizedState,r.getPersistentState=i.getPersistentState}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/base-controller",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/base-controller/dist/index.js"}],[1733,{"./chunk-LGGBBU6G.js":1736},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-LGGBBU6G.js"),i={[n.NetworkType.goerli]:{chainId:n.ChainId.goerli,ticker:"GoerliETH",rpcPrefs:{blockExplorerUrl:`https://${n.NetworkType.goerli}.etherscan.io`}},[n.NetworkType.sepolia]:{chainId:n.ChainId.sepolia,ticker:"SepoliaETH",rpcPrefs:{blockExplorerUrl:`https://${n.NetworkType.sepolia}.etherscan.io`}},[n.NetworkType.mainnet]:{chainId:n.ChainId.mainnet,ticker:"ETH",rpcPrefs:{blockExplorerUrl:"https://etherscan.io"}},[n.NetworkType["linea-goerli"]]:{chainId:n.ChainId["linea-goerli"],ticker:"LineaETH",rpcPrefs:{blockExplorerUrl:"https://goerli.lineascan.build"}},[n.NetworkType["linea-sepolia"]]:{chainId:n.ChainId["linea-sepolia"],ticker:"LineaETH",rpcPrefs:{blockExplorerUrl:"https://sepolia.lineascan.build"}},[n.NetworkType["linea-mainnet"]]:{chainId:n.ChainId["linea-mainnet"],ticker:"ETH",rpcPrefs:{blockExplorerUrl:"https://lineascan.build"}},[n.NetworkType.rpc]:{chainId:void 0,blockExplorerUrl:void 0,ticker:void 0,rpcPrefs:void 0}},o=(e=>(e.AddEthereumChain="wallet_addEthereumChain",e.ConnectAccounts="connect_accounts",e.EthDecrypt="eth_decrypt",e.EthGetEncryptionPublicKey="eth_getEncryptionPublicKey",e.EthSign="eth_sign",e.EthSignTypedData="eth_signTypedData",e.PersonalSign="personal_sign",e.ResultError="result_error",e.ResultSuccess="result_success",e.SnapDialogAlert="snap_dialog:alert",e.SnapDialogConfirmation="snap_dialog:confirmation",e.SnapDialogPrompt="snap_dialog:prompt",e.SwitchEthereumChain="wallet_switchEthereumChain",e.Transaction="transaction",e.Unlock="unlock",e.WalletConnect="wallet_connect",e.WalletRequestPermissions="wallet_requestPermissions",e.WatchAsset="wallet_watchAsset",e))(o||{}),s={[n.ChainId.goerli]:"goerli",[n.ChainId.sepolia]:"sepolia",[n.ChainId.mainnet]:"mainnet",[n.ChainId["linea-goerli"]]:"linea-goerli",[n.ChainId["linea-sepolia"]]:"linea-sepolia",[n.ChainId["linea-mainnet"]]:"linea-mainnet",[n.ChainId.aurora]:"aurora"};r.RPC="rpc",r.FALL_BACK_VS_CURRENCY="ETH",r.IPFS_DEFAULT_GATEWAY_URL="https://cloudflare-ipfs.com/ipfs/",r.GANACHE_CHAIN_ID="0x539",r.MAX_SAFE_CHAIN_ID=0xfffffffffffec,r.ERC721="ERC721",r.ERC1155="ERC1155",r.ERC20="ERC20",r.ERC721_INTERFACE_ID="0x80ac58cd",r.ERC721_METADATA_INTERFACE_ID="0x5b5e139f",r.ERC721_ENUMERABLE_INTERFACE_ID="0x780e9d63",r.ERC1155_INTERFACE_ID="0xd9b67a26",r.ERC1155_METADATA_URI_INTERFACE_ID="0x0e89341c",r.ERC1155_TOKEN_RECEIVER_INTERFACE_ID="0x4e2312e0",r.GWEI="gwei",r.ASSET_TYPES={NATIVE:"NATIVE",TOKEN:"TOKEN",NFT:"NFT",UNKNOWN:"UNKNOWN"},r.TESTNET_TICKER_SYMBOLS={GOERLI:"GoerliETH",SEPOLIA:"SepoliaETH",LINEA_GOERLI:"LineaETH",LINEA_SEPOLIA:"LineaETH"},r.BUILT_IN_NETWORKS=i,r.OPENSEA_PROXY_URL="https://proxy.metafi.codefi.network/opensea/v1/api/v2",r.ORIGIN_METAMASK="metamask",r.ApprovalType=o,r.CHAIN_ID_TO_ETHERS_NETWORK_NAME_MAP=s}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/chunk-AEMFFAHN.js"}],[1734,{"./chunk-AEMFFAHN.js":1733,"@ethereumjs/util":1719,"@metamask/ethjs-unit":1226,"@metamask/utils":1982,"bn.js":2586,buffer:2634,"eth-ens-namehash":2833,"fast-deep-equal":2964},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./chunk-AEMFFAHN.js"),o=e("@ethereumjs/util"),s=e("@metamask/ethjs-unit"),a=e("@metamask/utils"),l=n(e("bn.js")),c=n(e("eth-ens-namehash")),u=n(e("fast-deep-equal")),d=new Error("timeout");function p(e){return e?new(0,l.default)(a.remove0x.call(void 0,e),16):new(0,l.default)(0)}async function h(e,t){const r=await fetch(e,t);if(!r.ok)throw new Error(`Fetch failed with status '${r.status}' for request '${String(e)}'`);return r}async function f(e,t){const r=await h(e,t);return await r.json()}r.isSafeChainId=function(e){if(!a.isHexString.call(void 0,e))return!1;const t=Number.parseInt(e,a.isStrictHexString.call(void 0,e)?16:10);return Number.isSafeInteger(t)&&t>0&&t<=i.MAX_SAFE_CHAIN_ID},r.BNToHex=function(e){return a.add0x.call(void 0,e.toString(16))},r.fractionBN=function(e,t,r){const n=new(0,l.default)(t),i=new(0,l.default)(r);return e.mul(n).div(i)},r.gweiDecToWEIBN=function(e){if(Number.isNaN(e))return new(0,l.default)(0);const t=e.toString().split("."),r=t[0]||"0";let n=t[1]||"";if(!n)return s.toWei.call(void 0,r,"gwei");if(n.length<=9)return s.toWei.call(void 0,`${r}.${n}`,"gwei");const i=n.slice(9)[0];n=n.slice(0,9);let o=s.toWei.call(void 0,`${r}.${n}`,"gwei");return Number(i)>=5&&(o=o.add(new(0,l.default)(1))),o},r.weiHexToGweiDec=function(e){const t=new(0,l.default)(a.remove0x.call(void 0,e),16);return s.fromWei.call(void 0,t,"gwei")},r.getBuyURL=function(e="1",t,r=5){switch(e){case"1":return`https://buy.coinbase.com/?code=9ec56d01-7e81-5017-930c-513daa27bb6a&amount=${r}&address=${t}&crypto_currency=ETH`;case"5":return"https://goerli-faucet.slock.it/";case"11155111":return"https://sepoliafaucet.net/";default:return}},r.hexToBN=p,r.hexToText=function(e){try{const r=a.remove0x.call(void 0,e);return t.from(r,"hex").toString("utf8")}catch(t){return e}},r.fromHex=function(e){return l.default.isBN(e)?e:new(0,l.default)(p(e).toString(10))},r.toHex=function(e){return"string"==typeof e&&a.isStrictHexString.call(void 0,e)?e:`0x${l.default.isBN(e)?e.toString(16):new(0,l.default)(e.toString(),10).toString(16)}`},r.safelyExecute=async function(e,t=!1){try{return await e()}catch(e){return void(t&&console.error(e))}},r.safelyExecuteWithTimeout=async function(e,t=!1,r=500){try{return await Promise.race([e(),new Promise(((e,t)=>setTimeout((()=>{t(d)}),r)))])}catch(e){return void(t&&console.error(e))}},r.toChecksumHexAddress=function(e){if("string"!=typeof e)return e;const t=a.add0x.call(void 0,e);return a.isHexString.call(void 0,t)?o.toChecksumAddress.call(void 0,t):t},r.isValidHexAddress=function(e,{allowNonPrefixed:t=!0}={}){const r=t?a.add0x.call(void 0,e):e;return!!a.isStrictHexString.call(void 0,r)&&o.isValidAddress.call(void 0,r)},r.isSmartContractCode=function(e){return!!e&&("0x"!==e&&"0x0"!==e)},r.successfulFetch=h,r.handleFetch=f,r.fetchWithErrorHandling=async function({url:e,options:t,timeout:r,errorCodesToCatch:n}){let i;try{i=r?Promise.race([await f(e,t),new Promise(((e,t)=>setTimeout((()=>{t(d)}),r)))]):await f(e,t)}catch(e){!function(e,t=[]){if(!e)return;if(!(e instanceof Error))throw e;if(!t.some((t=>e.message.includes(`Fetch failed with status '${t}'`)))&&!e.message.includes("Failed to fetch")&&e!==d)throw e;console.error(e)}(e,n)}return i},r.timeoutFetch=async function(e,t,r=500){return Promise.race([h(e,t),new Promise(((e,t)=>setTimeout((()=>{t(d)}),r)))])},r.normalizeEnsName=function(e){if("."===e)return e;if(e&&"string"==typeof e)try{const t=c.default.normalize(e.trim());if(t.match(/^(([\w\d-]+)\.)*[\w\d-]{7,}\.(eth|test)$/u))return t}catch(e){}return null},r.query=function(e,t,r=[]){return new Promise(((n,i)=>{const o=(e,t)=>{e?i(e):n(t)};t in e&&"function"==typeof e[t]?e[t](...r,o):e.sendAsync({method:t,params:r},o)}))},r.convertHexToDecimal=(e="0x0")=>a.isStrictHexString.call(void 0,e)?parseInt(e,16):Number(e)?Number(e):0,r.isPlainObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)},r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isValidJson=function(e){try{return u.default.call(void 0,e,JSON.parse(JSON.stringify(e)))}catch(e){return!1}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/chunk-CQEHTNYT.js"}],[1735,{"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils"),i=n.createProjectLogger.call(void 0,"controller-utils");r.createModuleLogger=n.createModuleLogger,r.projectLogger=i}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/chunk-DBJSLKNR.js"}],[1736,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n={mainnet:"mainnet",goerli:"goerli",sepolia:"sepolia","linea-goerli":"linea-goerli","linea-sepolia":"linea-sepolia","linea-mainnet":"linea-mainnet"},i={...n,rpc:"rpc"};var o=(e=>(e.Mainnet="mainnet",e.Goerli="goerli",e.Sepolia="sepolia",e.LineaGoerli="linea-goerli",e.LineaSepolia="linea-sepolia",e.LineaMainnet="linea-mainnet",e.Aurora="aurora",e))(o||{}),s={mainnet:"0x1",goerli:"0x5",sepolia:"0xaa36a7",aurora:"0x4e454152","linea-goerli":"0xe704","linea-sepolia":"0xe705","linea-mainnet":"0xe708"},a=(e=>(e.mainnet="ETH",e.goerli="GoerliETH",e.sepolia="SepoliaETH",e["linea-goerli"]="LineaETH",e["linea-sepolia"]="LineaETH",e["linea-mainnet"]="ETH",e.rpc="",e))(a||{});r.InfuraNetworkType=n,r.NetworkType=i,r.isNetworkType=function(e){return Object.values(i).includes(e)},r.isInfuraNetworkType=function(e){return Object.keys(n).includes(e)},r.BuiltInNetworkName=o,r.ChainId=s,r.NetworksTicker=a}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/chunk-LGGBBU6G.js"}],[1737,{"./chunk-DBJSLKNR.js":1735,"@metamask/utils":1982,"@spruceid/siwe-parser":2189,buffer:2634},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-DBJSLKNR.js"),i=e("@metamask/utils"),o=e("@spruceid/siwe-parser"),s=n.createModuleLogger.call(void 0,n.projectLogger,"detect-siwe");function a(e){try{const n="string"!=typeof(r=e)?r:i.remove0x.call(void 0,r),o=t.from(n,"hex");return 32===o.length?e:o.toString("utf8")}catch(t){return s(t),e}var r}var l={"http:":"80","https:":"443"},c=(e,t)=>e.match(/^[^/:]*:\/\//u)?new URL(e):new URL(`${t}//${e}`);r.parseDomainParts=c,r.isValidSIWEOrigin=e=>{try{const{origin:t,siwe:r}=e;if(!t||!r?.parsedMessage?.domain)return!1;const n=new URL(t),i=c(r.parsedMessage.domain,n.protocol);return 0===i.hostname.localeCompare(n.hostname,void 0,{sensitivity:"accent"})&&(""!==i.port&&i.port!==n.port?""===n.port&&i.port===l[n.protocol]:""===i.username||i.username===n.username)}catch(e){return s(e),!1}},r.detectSIWE=e=>{try{const{data:t}=e,r=a(t);return{isSIWEMessage:!0,parsedMessage:new(0,o.ParsedMessage)(r)}}catch(e){return{isSIWEMessage:!1,parsedMessage:null}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/chunk-M6G3ISXG.js"}],[1738,{"./chunk-AEMFFAHN.js":1733,"./chunk-CQEHTNYT.js":1734,"./chunk-DBJSLKNR.js":1735,"./chunk-LGGBBU6G.js":1736,"./chunk-M6G3ISXG.js":1737},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-M6G3ISXG.js");e("./chunk-DBJSLKNR.js");var i=e("./chunk-CQEHTNYT.js"),o=e("./chunk-AEMFFAHN.js"),s=e("./chunk-LGGBBU6G.js");r.ASSET_TYPES=o.ASSET_TYPES,r.ApprovalType=o.ApprovalType,r.BNToHex=i.BNToHex,r.BUILT_IN_NETWORKS=o.BUILT_IN_NETWORKS,r.BuiltInNetworkName=s.BuiltInNetworkName,r.CHAIN_ID_TO_ETHERS_NETWORK_NAME_MAP=o.CHAIN_ID_TO_ETHERS_NETWORK_NAME_MAP,r.ChainId=s.ChainId,r.ERC1155=o.ERC1155,r.ERC1155_INTERFACE_ID=o.ERC1155_INTERFACE_ID,r.ERC1155_METADATA_URI_INTERFACE_ID=o.ERC1155_METADATA_URI_INTERFACE_ID,r.ERC1155_TOKEN_RECEIVER_INTERFACE_ID=o.ERC1155_TOKEN_RECEIVER_INTERFACE_ID,r.ERC20=o.ERC20,r.ERC721=o.ERC721,r.ERC721_ENUMERABLE_INTERFACE_ID=o.ERC721_ENUMERABLE_INTERFACE_ID,r.ERC721_INTERFACE_ID=o.ERC721_INTERFACE_ID,r.ERC721_METADATA_INTERFACE_ID=o.ERC721_METADATA_INTERFACE_ID,r.FALL_BACK_VS_CURRENCY=o.FALL_BACK_VS_CURRENCY,r.GANACHE_CHAIN_ID=o.GANACHE_CHAIN_ID,r.GWEI=o.GWEI,r.IPFS_DEFAULT_GATEWAY_URL=o.IPFS_DEFAULT_GATEWAY_URL,r.InfuraNetworkType=s.InfuraNetworkType,r.MAX_SAFE_CHAIN_ID=o.MAX_SAFE_CHAIN_ID,r.NetworkType=s.NetworkType,r.NetworksTicker=s.NetworksTicker,r.OPENSEA_PROXY_URL=o.OPENSEA_PROXY_URL,r.ORIGIN_METAMASK=o.ORIGIN_METAMASK,r.RPC=o.RPC,r.TESTNET_TICKER_SYMBOLS=o.TESTNET_TICKER_SYMBOLS,r.convertHexToDecimal=i.convertHexToDecimal,r.detectSIWE=n.detectSIWE,r.fetchWithErrorHandling=i.fetchWithErrorHandling,r.fractionBN=i.fractionBN,r.fromHex=i.fromHex,r.getBuyURL=i.getBuyURL,r.gweiDecToWEIBN=i.gweiDecToWEIBN,r.handleFetch=i.handleFetch,r.hexToBN=i.hexToBN,r.hexToText=i.hexToText,r.isInfuraNetworkType=s.isInfuraNetworkType,r.isNetworkType=s.isNetworkType,r.isNonEmptyArray=i.isNonEmptyArray,r.isPlainObject=i.isPlainObject,r.isSafeChainId=i.isSafeChainId,r.isSmartContractCode=i.isSmartContractCode,r.isValidHexAddress=i.isValidHexAddress,r.isValidJson=i.isValidJson,r.isValidSIWEOrigin=n.isValidSIWEOrigin,r.normalizeEnsName=i.normalizeEnsName,r.parseDomainParts=n.parseDomainParts,r.query=i.query,r.safelyExecute=i.safelyExecute,r.safelyExecuteWithTimeout=i.safelyExecuteWithTimeout,r.successfulFetch=i.successfulFetch,r.timeoutFetch=i.timeoutFetch,r.toChecksumHexAddress=i.toChecksumHexAddress,r.toHex=i.toHex,r.weiHexToGweiDec=i.weiHexToGweiDec}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>@metamask/controller-utils",file:"node_modules/@metamask/smart-transactions-controller/node_modules/@metamask/transaction-controller/node_modules/@metamask/controller-utils/dist/index.js"}],[1739,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){!function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,u=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,h=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(t=e[n++]+"",r=c-t.length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function y(e,t){var r,n,i=e.c,o=t.c,s=e.s,a=t.s,l=e.e,c=t.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=l==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return l>c^r?1:-1;for(a=(l=i.length)<(c=o.length)?l:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return l==c?0:l>c^r?1:-1}function g(e,t,r,n){if(e<t||e>r||e!==o(e))throw Error(s+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function v(e){var t=e.c.length-1;return f(e.e/c)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function T(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}r=function e(t){var r,w,_,S,E,k,O,P,A,x,C=V.prototype={constructor:V,toString:null,valueOf:null},I=new V(1),j=20,B=4,M=-7,N=21,R=-1e7,L=1e7,U=!1,D=1,F=0,G={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz",$=!0;function V(e,t){var r,i,s,l,d,p,h,f,m=this;if(!(m instanceof V))return new V(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>L?m.c=m.e=null:e.e<R?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((p="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,d=e;d>=10;d/=10,l++);return void(l>L?m.c=m.e=null:(m.e=l,m.c=[e]))}f=String(e)}else{if(!n.test(f=String(e)))return _(m,f,p);m.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(l=f.indexOf("."))>-1&&(f=f.replace(".","")),(d=f.search(/e/i))>0?(l<0&&(l=d),l+=+f.slice(d+1),f=f.substring(0,d)):l<0&&(l=f.length)}else{if(g(t,2,H.length,"Base"),10==t&&$)return K(m=new V(e),j+m.e+1,B);if(f=String(e),p="number"==typeof e){if(0*e!=0)return _(m,f,p,t);if(m.s=1/e<0?(f=f.slice(1),-1):1,V.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else m.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=H.slice(0,t),l=d=0,h=f.length;d<h;d++)if(r.indexOf(i=f.charAt(d))<0){if("."==i){if(d>l){l=h;continue}}else if(!s&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){s=!0,d=-1,l=0;continue}return _(m,String(e),p,t)}p=!1,(l=(f=w(f,t,10,m.s)).indexOf("."))>-1?f=f.replace(".",""):l=f.length}for(d=0;48===f.charCodeAt(d);d++);for(h=f.length;48===f.charCodeAt(--h););if(f=f.slice(d,++h)){if(h-=d,p&&V.DEBUG&&h>15&&(e>u||e!==o(e)))throw Error(a+m.s*e);if((l=l-d-1)>L)m.c=m.e=null;else if(l<R)m.c=[m.e=0];else{if(m.e=l,m.c=[],d=(l+1)%c,l<0&&(d+=c),d<h){for(d&&m.c.push(+f.slice(0,d)),h-=c;d<h;)m.c.push(+f.slice(d,d+=c));d=c-(f=f.slice(d)).length}else d-=h;for(;d--;f+="0");m.c.push(+f)}}else m.c=[m.e=0]}function z(e,t,r,n){var i,o,s,a,l;if(null==r?r=B:g(r,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)l=m(e.c),l=1==n||2==n&&(s<=M||s>=N)?b(l,s):T(l,s,"0");else if(o=(e=K(new V(e),t,r)).e,a=(l=m(e.c)).length,1==n||2==n&&(t<=o||o<=M)){for(;a<t;l+="0",a++);l=b(l,o)}else if(t-=s,l=T(l,o,"0"),o+1>a){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=o-a)>0)for(o+1==a&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function W(e,t){for(var r,n,i=1,o=new V(e[0]);i<e.length;i++)(!(n=new V(e[i])).s||(r=y(o,n))===t||0===r&&o.s===t)&&(o=n);return o}function q(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*c-1)>L?e.c=e.e=null:r<R?e.c=[e.e=0]:(e.e=r,e.c=t),e}function K(e,t,r,n){var s,a,u,p,h,f,m,y=e.c,g=d;if(y){e:{for(s=1,p=y[0];p>=10;p/=10,s++);if((a=t-s)<0)a+=c,u=t,h=y[f=0],m=o(h/g[s-u-1]%10);else if((f=i((a+1)/c))>=y.length){if(!n)break e;for(;y.length<=f;y.push(0));h=m=0,s=1,u=(a%=c)-c+1}else{for(h=p=y[f],s=1;p>=10;p/=10,s++);m=(u=(a%=c)-c+s)<0?0:o(h/g[s-u-1]%10)}if(n=n||t<0||null!=y[f+1]||(u<0?h:h%g[s-u-1]),n=r<4?(m||n)&&(0==r||r==(e.s<0?3:2)):m>5||5==m&&(4==r||n||6==r&&(a>0?u>0?h/g[s-u]:0:y[f-1])%10&1||r==(e.s<0?8:7)),t<1||!y[0])return y.length=0,n?(t-=e.e+1,y[0]=g[(c-t%c)%c],e.e=-t||0):y[0]=e.e=0,e;if(0==a?(y.length=f,p=1,f--):(y.length=f+1,p=g[c-a],y[f]=u>0?o(h/g[s-u]%g[u])*p:0),n)for(;;){if(0==f){for(a=1,u=y[0];u>=10;u/=10,a++);for(u=y[0]+=p,p=1;u>=10;u/=10,p++);a!=p&&(e.e++,y[0]==l&&(y[0]=1));break}if(y[f]+=p,y[f]!=l)break;y[f--]=0,p=1}for(a=y.length;0===y[--a];y.pop());}e.e>L?e.c=e.e=null:e.e<R&&(e.c=[e.e=0])}return e}function Y(e){var t,r=e.e;return null===r?e.toString():(t=m(e.c),t=r<=M||r>=N?b(t,r):T(t,r,"0"),e.s<0?"-"+t:t)}return V.clone=e,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(g(r=e[t],0,h,t),j=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(g(r=e[t],0,8,t),B=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(g(r[0],-h,0,t),g(r[1],0,h,t),M=r[0],N=r[1]):(g(r,-h,h,t),M=-(N=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)g(r[0],-h,-1,t),g(r[1],1,h,t),R=r[0],L=r[1];else{if(g(r,-h,h,t),!r)throw Error(s+t+" cannot be zero: "+r);R=-(L=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(s+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!r,Error(s+"crypto unavailable");U=r}else U=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(g(r=e[t],0,9,t),D=r),e.hasOwnProperty(t="POW_PRECISION")&&(g(r=e[t],0,h,t),F=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(s+t+" not an object: "+r);G=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(s+t+" invalid: "+r);$="0123456789"==r.slice(0,10),H=r}}return{DECIMAL_PLACES:j,ROUNDING_MODE:B,EXPONENTIAL_AT:[M,N],RANGE:[R,L],CRYPTO:U,MODULO_MODE:D,POW_PRECISION:F,FORMAT:G,ALPHABET:H}},V.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!V.DEBUG)return!0;var t,r,n=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-h&&i<=h&&i===o(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%c)<1&&(t+=c),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=l||r!==o(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},V.maximum=V.max=function(){return W(arguments,-1)},V.minimum=V.min=function(){return W(arguments,1)},V.random=(S=9007199254740992,E=Math.random()*S&2097151?function(){return o(Math.random()*S)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,a,l,u=0,p=[],f=new V(I);if(null==e?e=j:g(e,0,h),a=i(e/c),U)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));u<a;)(l=131072*t[u]+(t[u+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[u]=r[0],t[u+1]=r[1]):(p.push(l%1e14),u+=2);u=a/2}else{if(!crypto.randomBytes)throw U=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);u<a;)(l=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(p.push(l%1e14),u+=7);u=a/7}if(!U)for(;u<a;)(l=E())<9e15&&(p[u++]=l%1e14);for(a=p[--u],e%=c,a&&e&&(l=d[c-e],p[u]=o(a/l)*l);0===p[u];p.pop(),u--);if(u<0)p=[n=0];else{for(n=-1;0===p[0];p.splice(0,1),n-=c);for(u=1,l=p[0];l>=10;l/=10,u++);u<c&&(n-=c-u)}return f.e=n,f.c=p,f}),V.sum=function(){for(var e=1,t=arguments,r=new V(t[0]);e<t.length;)r=r.plus(t[e++]);return r},w=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,s=[0],a=0,l=e.length;a<l;){for(o=s.length;o--;s[o]*=t);for(s[0]+=n.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var l,c,u,d,p,h,f,y,g=n.indexOf("."),v=j,b=B;for(g>=0&&(d=F,F=0,n=n.replace(".",""),h=(y=new V(i)).pow(n.length-g),F=d,y.c=t(T(m(h.c),h.e,"0"),10,o,e),y.e=y.c.length),u=d=(f=t(n,i,o,a?(l=H,e):(l=e,H))).length;0==f[--d];f.pop());if(!f[0])return l.charAt(0);if(g<0?--u:(h.c=f,h.e=u,h.s=s,f=(h=r(h,y,v,b,o)).c,p=h.r,u=h.e),g=f[c=u+v+1],d=o/2,p=p||c<0||null!=f[c+1],p=b<4?(null!=g||p)&&(0==b||b==(h.s<0?3:2)):g>d||g==d&&(4==b||p||6==b&&1&f[c-1]||b==(h.s<0?8:7)),c<1||!f[0])n=p?T(l.charAt(1),-v,l.charAt(0)):l.charAt(0);else{if(f.length=c,p)for(--o;++f[--c]>o;)f[c]=0,c||(++u,f=[1].concat(f));for(d=f.length;!f[--d];);for(g=0,n="";g<=d;n+=l.charAt(f[g++]));n=T(n,u,l.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,o,s,a=0,l=e.length,c=t%p,u=t/p|0;for(e=e.slice();l--;)a=((i=c*(o=e[l]%p)+(n=u*o+(s=e[l]/p|0)*c)%p*p+a)/r|0)+(n/p|0)+u*s,e[l]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,s,a,u){var d,p,h,m,y,g,v,b,T,w,_,S,E,k,O,P,A,x=n.s==i.s?1:-1,C=n.c,I=i.c;if(!(C&&C[0]&&I&&I[0]))return new V(n.s&&i.s&&(C?!I||C[0]!=I[0]:I)?C&&0==C[0]||!I?0*x:x/0:NaN);for(T=(b=new V(x)).c=[],x=s+(p=n.e-i.e)+1,u||(u=l,p=f(n.e/c)-f(i.e/c),x=x/c|0),h=0;I[h]==(C[h]||0);h++);if(I[h]>(C[h]||0)&&p--,x<0)T.push(1),m=!0;else{for(k=C.length,P=I.length,h=0,x+=2,(y=o(u/(I[0]+1)))>1&&(I=e(I,y,u),C=e(C,y,u),P=I.length,k=C.length),E=P,_=(w=C.slice(0,P)).length;_<P;w[_++]=0);A=I.slice(),A=[0].concat(A),O=I[0],I[1]>=u/2&&O++;do{if(y=0,(d=t(I,w,P,_))<0){if(S=w[0],P!=_&&(S=S*u+(w[1]||0)),(y=o(S/O))>1)for(y>=u&&(y=u-1),v=(g=e(I,y,u)).length,_=w.length;1==t(g,w,v,_);)y--,r(g,P<v?A:I,v,u),v=g.length,d=1;else 0==y&&(d=y=1),v=(g=I.slice()).length;if(v<_&&(g=[0].concat(g)),r(w,g,_,u),_=w.length,-1==d)for(;t(I,w,P,_)<1;)y++,r(w,P<_?A:I,_,u),_=w.length}else 0===d&&(y++,w=[0]);T[h++]=y,w[0]?w[_++]=C[E]||0:(w=[C[E]],_=1)}while((E++<k||null!=w[0])&&x--);m=null!=w[0],T[0]||T.splice(0,1)}if(u==l){for(h=1,x=T[0];x>=10;x/=10,h++);K(b,s+(b.e=h+p*c-1)+1,a,m)}else b.e=p,b.r=+m;return b}}(),k=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,P=/^\.([^.]+)$/,A=/^-?(Infinity|NaN)$/,x=/^\s*\+(?=[\w.])|^\s+|\s+$/g,_=function(e,t,r,n){var i,o=r?t:t.replace(x,"");if(A.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(k,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,o=o.replace(O,"$1").replace(P,"0.$1")),t!=o))return new V(o,i);if(V.DEBUG)throw Error(s+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},C.absoluteValue=C.abs=function(){var e=new V(this);return e.s<0&&(e.s=1),e},C.comparedTo=function(e,t){return y(this,new V(e,t))},C.decimalPlaces=C.dp=function(e,t){var r,n,i,o=this;if(null!=e)return g(e,0,h),null==t?t=B:g(t,0,8),K(new V(o),e+o.e+1,t);if(!(r=o.c))return null;if(n=((i=r.length-1)-f(this.e/c))*c,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},C.dividedBy=C.div=function(e,t){return r(this,new V(e,t),j,B)},C.dividedToIntegerBy=C.idiv=function(e,t){return r(this,new V(e,t),0,1)},C.exponentiatedBy=C.pow=function(e,t){var r,n,a,l,u,d,p,h,f=this;if((e=new V(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new V(t)),u=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return h=new V(Math.pow(+Y(f),u?e.s*(2-v(e)):+Y(e))),t?h.mod(t):h;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new V(NaN);(n=!d&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||u&&f.c[1]>=24e7:f.c[0]<8e13||u&&f.c[0]<=9999975e7)))return l=f.s<0&&v(e)?-0:0,f.e>-1&&(l=1/l),new V(d?1/l:l);F&&(l=i(F/c+2))}for(u?(r=new V(.5),d&&(e.s=1),p=v(e)):p=(a=Math.abs(+Y(e)))%2,h=new V(I);;){if(p){if(!(h=h.times(f)).c)break;l?h.c.length>l&&(h.c.length=l):n&&(h=h.mod(t))}if(a){if(0===(a=o(a/2)))break;p=a%2}else if(K(e=e.times(r),e.e+1,1),e.e>14)p=v(e);else{if(0===(a=+Y(e)))break;p=a%2}f=f.times(f),l?f.c&&f.c.length>l&&(f.c.length=l):n&&(f=f.mod(t))}return n?h:(d&&(h=I.div(h)),t?h.mod(t):l?K(h,F,B,undefined):h)},C.integerValue=function(e){var t=new V(this);return null==e?e=B:g(e,0,8),K(t,t.e+1,e)},C.isEqualTo=C.eq=function(e,t){return 0===y(this,new V(e,t))},C.isFinite=function(){return!!this.c},C.isGreaterThan=C.gt=function(e,t){return y(this,new V(e,t))>0},C.isGreaterThanOrEqualTo=C.gte=function(e,t){return 1===(t=y(this,new V(e,t)))||0===t},C.isInteger=function(){return!!this.c&&f(this.e/c)>this.c.length-2},C.isLessThan=C.lt=function(e,t){return y(this,new V(e,t))<0},C.isLessThanOrEqualTo=C.lte=function(e,t){return-1===(t=y(this,new V(e,t)))||0===t},C.isNaN=function(){return!this.s},C.isNegative=function(){return this.s<0},C.isPositive=function(){return this.s>0},C.isZero=function(){return!!this.c&&0==this.c[0]},C.minus=function(e,t){var r,n,i,o,s=this,a=s.s;if(t=(e=new V(e,t)).s,!a||!t)return new V(NaN);if(a!=t)return e.s=-t,s.plus(e);var u=s.e/c,d=e.e/c,p=s.c,h=e.c;if(!u||!d){if(!p||!h)return p?(e.s=-t,e):new V(h?s:NaN);if(!p[0]||!h[0])return h[0]?(e.s=-t,e):new V(p[0]?s:3==B?-0:0)}if(u=f(u),d=f(d),p=p.slice(),a=u-d){for((o=a<0)?(a=-a,i=p):(d=u,i=h),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=p.length)<(t=h.length))?a:t,a=t=0;t<n;t++)if(p[t]!=h[t]){o=p[t]<h[t];break}if(o&&(i=p,p=h,h=i,e.s=-e.s),(t=(n=h.length)-(r=p.length))>0)for(;t--;p[r++]=0);for(t=l-1;n>a;){if(p[--n]<h[n]){for(r=n;r&&!p[--r];p[r]=t);--p[r],p[n]+=l}p[n]-=h[n]}for(;0==p[0];p.splice(0,1),--d);return p[0]?q(e,p,d):(e.s=3==B?-1:1,e.c=[e.e=0],e)},C.modulo=C.mod=function(e,t){var n,i,o=this;return e=new V(e,t),!o.c||!e.s||e.c&&!e.c[0]?new V(NaN):!e.c||o.c&&!o.c[0]?new V(o):(9==D?(i=e.s,e.s=1,n=r(o,e,0,3),e.s=i,n.s*=i):n=r(o,e,0,D),(e=o.minus(n.times(e))).c[0]||1!=D||(e.s=o.s),e)},C.multipliedBy=C.times=function(e,t){var r,n,i,o,s,a,u,d,h,m,y,g,v,b,T,w=this,_=w.c,S=(e=new V(e,t)).c;if(!(_&&S&&_[0]&&S[0]))return!w.s||!e.s||_&&!_[0]&&!S||S&&!S[0]&&!_?e.c=e.e=e.s=null:(e.s*=w.s,_&&S?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=f(w.e/c)+f(e.e/c),e.s*=w.s,(u=_.length)<(m=S.length)&&(v=_,_=S,S=v,i=u,u=m,m=i),i=u+m,v=[];i--;v.push(0));for(b=l,T=p,i=m;--i>=0;){for(r=0,y=S[i]%T,g=S[i]/T|0,o=i+(s=u);o>i;)r=((d=y*(d=_[--s]%T)+(a=g*d+(h=_[s]/T|0)*y)%T*T+v[o]+r)/b|0)+(a/T|0)+g*h,v[o--]=d%b;v[o]=r}return r?++n:v.splice(0,1),q(e,v,n)},C.negated=function(){var e=new V(this);return e.s=-e.s||null,e},C.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new V(e,t)).s,!i||!t)return new V(NaN);if(i!=t)return e.s=-t,n.minus(e);var o=n.e/c,s=e.e/c,a=n.c,u=e.c;if(!o||!s){if(!a||!u)return new V(i/0);if(!a[0]||!u[0])return u[0]?e:new V(a[0]?n:0*i)}if(o=f(o),s=f(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=u.length)<0&&(r=u,u=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+u[t]+i)/l|0,a[t]=l===a[t]?0:a[t]%l;return i&&(a=[i].concat(a),++s),q(e,a,s)},C.precision=C.sd=function(e,t){var r,n,i,o=this;if(null!=e&&e!==!!e)return g(e,1,h),null==t?t=B:g(t,0,8),K(new V(o),e,t);if(!(r=o.c))return null;if(n=(i=r.length-1)*c+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&o.e+1>n&&(n=o.e+1),n},C.shiftedBy=function(e){return g(e,-9007199254740991,u),this.times("1e"+e)},C.squareRoot=C.sqrt=function(){var e,t,n,i,o,s=this,a=s.c,l=s.s,c=s.e,u=j+4,d=new V("0.5");if(1!==l||!a||!a[0])return new V(!l||l<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(l=Math.sqrt(+Y(s)))||l==1/0?(((t=m(a)).length+c)%2==0&&(t+="0"),l=Math.sqrt(+t),c=f((c+1)/2)-(c<0||c%2),n=new V(t=l==1/0?"5e"+c:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+c)):n=new V(l+""),n.c[0])for((l=(c=n.e)+u)<3&&(l=0);;)if(o=n,n=d.times(o.plus(r(s,o,u,1))),m(o.c).slice(0,l)===(t=m(n.c)).slice(0,l)){if(n.e<c&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(K(n,n.e+j+2,1),e=!n.times(n).eq(s));break}if(!i&&(K(o,o.e+j+2,0),o.times(o).eq(s))){n=o;break}u+=4,l+=4,i=1}return K(n,n.e+j+1,B,e)},C.toExponential=function(e,t){return null!=e&&(g(e,0,h),e++),z(this,e,t,1)},C.toFixed=function(e,t){return null!=e&&(g(e,0,h),e=e+this.e+1),z(this,e,t)},C.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=G;else if("object"!=typeof r)throw Error(s+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var o,a=n.split("."),l=+r.groupSize,c=+r.secondaryGroupSize,u=r.groupSeparator||"",d=a[0],p=a[1],h=i.s<0,f=h?d.slice(1):d,m=f.length;if(c&&(o=l,l=c,c=o,m-=o),l>0&&m>0){for(o=m%l||l,d=f.substr(0,o);o<m;o+=l)d+=u+f.substr(o,l);c>0&&(d+=u+f.slice(o)),h&&(d="-"+d)}n=p?d+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?p.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):p):d}return(r.prefix||"")+n+(r.suffix||"")},C.toFraction=function(e){var t,n,i,o,a,l,u,p,h,f,y,g,v=this,b=v.c;if(null!=e&&(!(u=new V(e)).isInteger()&&(u.c||1!==u.s)||u.lt(I)))throw Error(s+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+Y(u));if(!b)return new V(v);for(t=new V(I),h=n=new V(I),i=p=new V(I),g=m(b),a=t.e=g.length-v.e-1,t.c[0]=d[(l=a%c)<0?c+l:l],e=!e||u.comparedTo(t)>0?a>0?t:h:u,l=L,L=1/0,u=new V(g),p.c[0]=0;f=r(u,t,0,1),1!=(o=n.plus(f.times(i))).comparedTo(e);)n=i,i=o,h=p.plus(f.times(o=h)),p=o,t=u.minus(f.times(o=t)),u=o;return o=r(e.minus(n),i,0,1),p=p.plus(o.times(h)),n=n.plus(o.times(i)),p.s=h.s=v.s,y=r(h,i,a*=2,B).minus(v).abs().comparedTo(r(p,n,a,B).minus(v).abs())<1?[h,i]:[p,n],L=l,y},C.toNumber=function(){return+Y(this)},C.toPrecision=function(e,t){return null!=e&&g(e,1,h),z(this,e,t,2)},C.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=M||i>=N?b(m(r.c),i):T(m(r.c),i,"0"):10===e&&$?t=T(m((r=K(new V(r),j+i+1,B)).c),r.e,"0"):(g(e,2,H.length,"Base"),t=w(T(m(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},C.valueOf=C.toJSON=function(){return Y(this)},C._isBigNumber=!0,null!=t&&V.set(t),V}(),r.default=r.BigNumber=r,"function"==typeof define&&define.amd?define((function(){return r})):void 0!==t&&t.exports?t.exports=r:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=r)}(this)}}},{package:"@metamask/smart-transactions-controller>bignumber.js",file:"node_modules/@metamask/smart-transactions-controller/node_modules/bignumber.js/bignumber.js"}],[174,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!(0,i.hasProperty)(e,"PhishingController")||!(0,i.isObject)(e.PhishingController))return e;const{PhishingController:t}=e;return delete t.phishing,delete t.lastFetched,e}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=r.version=78}}},{package:"$root$",file:"app/scripts/migrations/078.ts"}],[1740,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=[{constant:!1,inputs:[{name:"_new",type:"address"}],name:"setOwner",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSignatures",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[],name:"drain",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"",type:"bytes4"}],name:"entries",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_method",type:"string"}],name:"register",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{inputs:[],type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"creator",type:"address"},{indexed:!0,name:"signature",type:"bytes4"},{indexed:!1,name:"method",type:"string"}],name:"Registered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"old",type:"address"},{indexed:!0,name:"current",type:"address"}],name:"NewOwner",type:"event"}]}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>eth-method-registry",file:"node_modules/@metamask/smart-transactions-controller/node_modules/eth-method-registry/dist/abi.json"}],[1741,{"./abi.json":1740,"./registry-map.json":1742,"@metamask/ethjs-contract":1670,"@metamask/ethjs-query":1673},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.MethodRegistry=void 0;const i=n(e("@metamask/ethjs-query")),o=n(e("@metamask/ethjs-contract")),s=n(e("./registry-map.json")),a=n(e("./abi.json"));r.MethodRegistry=class{constructor(e){if(!e.provider)throw new Error("Missing required 'provider' option");const t=s.default[e.network||"1"];if(!t)throw new Error("No method registry found on the requested network.");const r=new i.default(e.provider),n=(0,o.default)(r);this.registry=n(a.default).at(t)}async lookup(e){const t=await this.registry.entries(e);return t?t[0]:undefined}parse(e){const t=e.match(/^([^)(]*)\((.*)\)([^)(]*)$/u);let r;if(r=t?t[1].charAt(0).toUpperCase()+t[1].slice(1).split(/(?=[A-Z])/u).join(" "):"",t){const n=e.match(new RegExp(`${t[1]}\\(+([a-z1-9,()\\[\\]]+)\\)`,"u"));let i,o=[];return n&&(i=n[1].match(/[A-z1-9]+/gu),i&&(o=i.map((e=>({type:e}))))),{name:r,args:o}}return{}}}}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>eth-method-registry",file:"node_modules/@metamask/smart-transactions-controller/node_modules/eth-method-registry/dist/index.js"}],[1742,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={1:"0x44691B39d1a75dC4E0A0346CBB15E310e6ED1E86"}}}},{package:"@metamask/smart-transactions-controller>@metamask/transaction-controller>eth-method-registry",file:"node_modules/@metamask/smart-transactions-controller/node_modules/eth-method-registry/dist/registry-map.json"}],[1743,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={name:"@metamask/smart-transactions-controller",version:"8.1.0",description:"Improves success rates for swaps by trialing transactions privately and finding minimum fees",repository:{type:"git",url:"https://github.com/MetaMask/smart-transactions-controller.git"},license:"SEE LICENSE IN LICENSE",main:"dist/index.js",types:"dist/index.d.ts",files:["dist/"],scripts:{build:"tsc --project .","build:clean":"rm -rf dist && yarn build","build:link":"yarn build && cd dist && yarn link && rm -rf node_modules && cd ..",lint:"yarn lint:eslint && yarn lint:misc --check","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' '**/*.yml' '!.yarnrc.yml' --ignore-path .gitignore",prepack:"./scripts/prepack.sh",test:"jest","test:watch":"jest --watchAll"},dependencies:{"@babel/runtime":"^7.24.1","@ethereumjs/tx":"^5.2.1","@ethereumjs/util":"^9.0.2","@ethersproject/bytes":"^5.7.0","@metamask/base-controller":"^4.0.0","@metamask/controller-utils":"^8.0.2","@metamask/eth-query":"^4.0.0","@metamask/network-controller":"^17.2.0","@metamask/polling-controller":"^5.0.0","@metamask/transaction-controller":"^25.1.0","bignumber.js":"^9.0.1",events:"^3.3.0","fast-json-patch":"^3.1.0",lodash:"^4.17.21"},devDependencies:{"@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"^3.1.0","@metamask/eslint-config":"^12.2.0","@metamask/eslint-config-jest":"^12.1.0","@metamask/eslint-config-nodejs":"^12.1.0","@metamask/eslint-config-typescript":"^12.1.0","@types/jest":"^26.0.24","@types/lodash":"^4.14.194","@types/node":"^18.19.17","@types/sinon":"^9.0.10","@typescript-eslint/eslint-plugin":"^5.33.0","@typescript-eslint/parser":"^5.33.0",eslint:"^8.48.0","eslint-config-prettier":"^8.8.0","eslint-plugin-import":"^2.27.5","eslint-plugin-jest":"^27.1.5","eslint-plugin-jsdoc":"^39.2.9","eslint-plugin-n":"^15.7.0","eslint-plugin-prettier":"^4.2.1","eslint-plugin-promise":"^6.1.1","isomorphic-fetch":"^3.0.0",jest:"^26.4.2",nock:"^13.3.1",prettier:"^2.8.8","prettier-plugin-packagejson":"^2.4.3",sinon:"^9.2.4","ts-jest":"^26.5.6",typescript:"~4.8.4"},packageManager:"yarn@3.2.1",engines:{node:"^18.18 || >=20"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"@lavamoat/preinstall-always-fail":!1,"@metamask/controller-utils>ethereumjs-util>ethereum-cryptography>keccak":!1,"@metamask/controller-utils>ethereumjs-util>ethereum-cryptography>secp256k1":!1,"@metamask/controller-utils>babel-runtime>core-js":!1}}}}}},{package:"@metamask/smart-transactions-controller",file:"node_modules/@metamask/smart-transactions-controller/package.json"}],[1744,{"./chunk-54TYYPAN.js":1747,"./chunk-7Y6P5FRN.js":1750,"./chunk-EXN2TFDJ.js":1756,"@metamask/post-message-stream":1505,"@metamask/snaps-utils":1898,"@metamask/utils":1982,nanoid:1796},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o=e("./chunk-54TYYPAN.js"),s=e("./chunk-7Y6P5FRN.js"),a=e("./chunk-EXN2TFDJ.js"),l=e("@metamask/post-message-stream"),c=e("@metamask/snaps-utils"),u=e("@metamask/utils"),d=e("nanoid"),p="snaps-worker-pool",h=class extends o.AbstractExecutionService{constructor({documentUrl:e,messenger:t,setupSnapProvider:r}){super({messenger:t,setupSnapProvider:r}),a.__privateAdd.call(void 0,this,n,void 0),a.__privateAdd.call(void 0,this,i,void 0),a.__privateSet.call(void 0,this,n,e)}async terminateJob(e){u.assert.call(void 0,a.__privateGet.call(void 0,this,i),"Runtime stream not initialized."),a.__privateGet.call(void 0,this,i).write({jobId:e.id,data:{jsonrpc:"2.0",method:"terminateJob",id:d.nanoid.call(void 0)}})}async initEnvStream(e){await this.createDocument(),u.assert.call(void 0,a.__privateGet.call(void 0,this,i),"Runtime stream not initialized.");return{worker:e,stream:new(0,s.ProxyPostMessageStream)({stream:a.__privateGet.call(void 0,this,i),jobId:e})}}async createDocument(){if(document.getElementById(p))return;const e=await c.createWindow.call(void 0,a.__privateGet.call(void 0,this,n).href,p,!1);a.__privateSet.call(void 0,this,i,new(0,l.WindowPostMessageStream)({name:"parent",target:"child",targetWindow:e,targetOrigin:"*"}))}};n=new WeakMap,i=new WeakMap,r.WORKER_POOL_ID=p,r.WebWorkerExecutionService=h}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-3ZC4LB7T.js"}],[1745,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e=>(e[e.Unverified=0]="Unverified",e[e.Blocked=1]="Blocked",e[e.Verified=2]="Verified",e[e.Unavailable=3]="Unavailable",e))(n||{});r.SnapsRegistryStatus=n}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-4CA3O64H.js"}],[1746,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-4URGXJP7.js"}],[1747,{"./chunk-EXN2TFDJ.js":1756,"./chunk-NXZVKBSV.js":1765,"./chunk-XE5IWVNV.js":1773,"@metamask/json-rpc-engine":1791,"@metamask/json-rpc-middleware-stream":1794,"@metamask/object-multiplex":1433,"@metamask/rpc-errors":1566,"@metamask/snaps-utils":1898,"@metamask/utils":1982,nanoid:1796,"readable-stream":1812},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a,l,c,u,d,p,h,f,m,y,g,v=e("./chunk-NXZVKBSV.js"),b=e("./chunk-XE5IWVNV.js"),T=e("./chunk-EXN2TFDJ.js"),w=e("@metamask/json-rpc-engine"),_=e("@metamask/json-rpc-middleware-stream"),S=e("@metamask/object-multiplex"),E=(n=S)&&n.__esModule?n:{default:n},k=e("@metamask/rpc-errors"),O=e("@metamask/snaps-utils"),P=e("@metamask/utils"),A=e("nanoid"),x=e("readable-stream"),C="ExecutionService";function I(e,t){const r=new(0,E.default);return x.pipeline.call(void 0,e,r,e,(e=>{e&&(t?O.logError.call(void 0,`"${t}" stream failure.`,e):O.logError.call(void 0,e))})),r}i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakSet,d=function(e){T.__privateGet.call(void 0,this,i).delete(e)},p=new WeakSet,h=function(e,t){T.__privateGet.call(void 0,this,i).set(e,(async({origin:r,handler:n,request:i})=>await this.command(t,{id:A.nanoid.call(void 0),jsonrpc:"2.0",method:"snapRpc",params:{origin:r,handler:n,request:i,target:e}})))},f=new WeakSet,m=function(e,t){T.__privateGet.call(void 0,this,o).set(e,t),T.__privateGet.call(void 0,this,s).set(t,e)},y=new WeakSet,g=function(e){const t=T.__privateGet.call(void 0,this,s).get(e);if(!t)throw new Error(`job: "${e}" has no mapped snap.`);T.__privateGet.call(void 0,this,s).delete(e),T.__privateGet.call(void 0,this,o).delete(t),T.__privateMethod.call(void 0,this,u,d).call(this,t)},r.AbstractExecutionService=class{constructor({setupSnapProvider:e,messenger:t,pingTimeout:r=P.inMilliseconds.call(void 0,2,P.Duration.Second),terminationTimeout:n=P.inMilliseconds.call(void 0,1,P.Duration.Second)}){T.__privateAdd.call(void 0,this,u),T.__privateAdd.call(void 0,this,p),T.__privateAdd.call(void 0,this,f),T.__privateAdd.call(void 0,this,y),T.__privateAdd.call(void 0,this,i,void 0),T.__privateAdd.call(void 0,this,o,void 0),T.__privateAdd.call(void 0,this,s,void 0),T.__privateAdd.call(void 0,this,a,void 0),T.__privateAdd.call(void 0,this,l,void 0),T.__privateAdd.call(void 0,this,c,void 0),T.__privateSet.call(void 0,this,i,new Map),this.jobs=new Map,this.setupSnapProvider=e,T.__privateSet.call(void 0,this,o,new Map),T.__privateSet.call(void 0,this,s,new Map),T.__privateSet.call(void 0,this,a,t),T.__privateSet.call(void 0,this,l,r),T.__privateSet.call(void 0,this,c,n),this.registerMessageHandlers()}registerMessageHandlers(){T.__privateGet.call(void 0,this,a).registerActionHandler(`${C}:handleRpcRequest`,(async(e,t)=>this.handleRpcRequest(e,t))),T.__privateGet.call(void 0,this,a).registerActionHandler(`${C}:executeSnap`,(async e=>this.executeSnap(e))),T.__privateGet.call(void 0,this,a).registerActionHandler(`${C}:terminateSnap`,(async e=>this.terminateSnap(e))),T.__privateGet.call(void 0,this,a).registerActionHandler(`${C}:terminateAllSnaps`,(async()=>this.terminateAllSnaps()))}async terminate(e){const t=this.jobs.get(e);if(!t)throw new Error(`Job with id "${e}" not found.`);const r=await b.withTimeout.call(void 0,this.command(e,{jsonrpc:"2.0",method:"terminate",params:[],id:A.nanoid.call(void 0)}),T.__privateGet.call(void 0,this,c));r!==b.hasTimedOut&&"OK"===r||O.logError.call(void 0,`Job "${e}" failed to terminate gracefully.`,r),Object.values(t.streams).forEach((e=>{try{!e.destroyed&&e.destroy(),e.removeAllListeners()}catch(e){O.logError.call(void 0,"Error while destroying stream",e)}})),this.terminateJob(t),T.__privateMethod.call(void 0,this,y,g).call(this,e),this.jobs.delete(e),v.log.call(void 0,`Job "${e}" terminated.`)}async initJob(){const e=A.nanoid.call(void 0),{streams:t,worker:r}=await this.initStreams(e),n=new(0,w.JsonRpcEngine),i=_.createStreamMiddleware.call(void 0);x.pipeline.call(void 0,i.stream,t.command,i.stream,(e=>{e&&O.logError.call(void 0,"Command stream failure.",e)})),n.push(i.middleware);const o={id:e,streams:t,rpcEngine:n,worker:r};return this.jobs.set(e,o),o}async initStreams(e){const{worker:t,stream:r}=await this.initEnvStream(e),n=I(r,`Job: "${e}"`),i=n.createStream(O.SNAP_STREAM_NAMES.COMMAND),o=t=>{if(!P.isJsonRpcNotification.call(void 0,t))return;const r=T.__privateGet.call(void 0,this,s).get(e);"OutboundRequest"===t.method?T.__privateGet.call(void 0,this,a).publish("ExecutionService:outboundRequest",r):"OutboundResponse"===t.method?T.__privateGet.call(void 0,this,a).publish("ExecutionService:outboundResponse",r):"UnhandledError"===t.method?P.isObject.call(void 0,t.params)&&t.params.error?(T.__privateGet.call(void 0,this,a).publish("ExecutionService:unhandledError",r,t.params.error),i.removeListener("data",o)):O.logError.call(void 0,new Error(`Received malformed "${t.method}" command stream notification.`)):O.logError.call(void 0,new Error(`Received unexpected command stream notification "${t.method}".`))};i.on("data",o);const l=n.createStream(O.SNAP_STREAM_NAMES.JSON_RPC);return{streams:{command:i,rpc:l,_connection:r},worker:t}}async terminateSnap(e){const t=T.__privateGet.call(void 0,this,o).get(e);t&&await this.terminate(t)}async terminateAllSnaps(){await Promise.all([...this.jobs.keys()].map((async e=>this.terminate(e)))),T.__privateGet.call(void 0,this,i).clear()}getRpcRequestHandler(e){return T.__privateGet.call(void 0,this,i).get(e)}async executeSnap(e){if(T.__privateGet.call(void 0,this,o).has(e.snapId))throw new Error(`Snap "${e.snapId}" is already being executed.`);const t=await this.initJob();T.__privateMethod.call(void 0,this,f,m).call(this,e.snapId,t.id);if(await b.withTimeout.call(void 0,this.command(t.id,{jsonrpc:"2.0",method:"ping",id:A.nanoid.call(void 0)}),T.__privateGet.call(void 0,this,l))===b.hasTimedOut)throw new Error("The Snaps execution environment failed to start.");const r=t.streams.rpc;this.setupSnapProvider(e.snapId,r);const n=await this.command(t.id,{jsonrpc:"2.0",method:"executeSnap",params:e,id:A.nanoid.call(void 0)});return T.__privateMethod.call(void 0,this,p,h).call(this,e.snapId,t.id),n}async command(e,t){P.assertIsJsonRpcRequest.call(void 0,t);const r=this.jobs.get(e);if(!r)throw new Error(`Job with id "${e}" not found.`);v.log.call(void 0,"Parent: Sending Command",t);const n=await r.rpcEngine.handle(t);if(n.error)throw new(0,k.JsonRpcError)(n.error.code,n.error.message,n.error.data);return n.result}async handleRpcRequest(e,t){const r=this.getRpcRequestHandler(e);if(!r)throw new Error(`Snap execution service returned no RPC handler for running snap "${e}".`);return r(t)}},r.setupMultiplex=I}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-54TYYPAN.js"}],[1748,{"@metamask/snaps-rpc-methods":1861},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/snaps-rpc-methods"),i=Object.freeze(["snap_dialog","snap_manageState","snap_notify","snap_getLocale",n.SnapEndowments.Cronjob,n.SnapEndowments.HomePage,n.SnapEndowments.LifecycleHooks,n.SnapEndowments.EthereumProvider,n.SnapEndowments.TransactionInsight,n.SnapEndowments.SignatureInsight]);r.ALLOWED_PERMISSIONS=i}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-5YBORD3A.js"}],[1749,{"./chunk-LWBPKSU2.js":1761,"./chunk-RDBT3ZJQ.js":1769,"./chunk-XWDEGRM5.js":1774,"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-XWDEGRM5.js"),i=e("./chunk-LWBPKSU2.js"),o=e("./chunk-RDBT3ZJQ.js"),s=e("@metamask/utils");r.detectSnapLocation=function(e,t){const r=t?.allowHttp??!1,a=t?.allowLocal??!1,l=new URL(e);switch(l.protocol){case"npm:":return new(0,n.NpmLocation)(l,t);case"local:":return s.assert.call(void 0,a,new TypeError("Fetching local snaps is disabled.")),new(0,i.LocalLocation)(l,t);case"http:":case"https:":return s.assert.call(void 0,r,new TypeError("Fetching snaps through http/https is disabled.")),new(0,o.HttpLocation)(l,t);default:throw new TypeError(`Unrecognized "${l.protocol}" snap location protocol.`)}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-7WOG63YY.js"}],[175,{lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:79,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=79;const r=function(e){var t,r;(null==e||null===(t=e.AppStateController)||void 0===t?void 0:t.collectiblesDetectionNoticeDismissed)!==undefined&&delete e.AppStateController.collectiblesDetectionNoticeDismissed;(null==e||null===(r=e.metamask)||void 0===r?void 0:r.collectiblesDropdownState)!==undefined&&delete e.metamask.collectiblesDropdownState;return e}(t.data);return t.data=r,t}}}}},{package:"$root$",file:"app/scripts/migrations/079.js"}],[1750,{"./chunk-EXN2TFDJ.js":1756,"@metamask/post-message-stream":1505},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a=e("./chunk-EXN2TFDJ.js"),l=e("@metamask/post-message-stream"),c=class extends l.BasePostMessageStream{constructor({stream:e,jobId:t}){super(),a.__privateAdd.call(void 0,this,o),a.__privateAdd.call(void 0,this,n,void 0),a.__privateAdd.call(void 0,this,i,void 0),a.__privateSet.call(void 0,this,n,e),a.__privateSet.call(void 0,this,i,t),a.__privateGet.call(void 0,this,n).on("data",a.__privateMethod.call(void 0,this,o,s).bind(this))}_postMessage(e){a.__privateGet.call(void 0,this,n).write({jobId:a.__privateGet.call(void 0,this,i),data:e})}};n=new WeakMap,i=new WeakMap,o=new WeakSet,s=function(e){e.jobId===a.__privateGet.call(void 0,this,i)&&this.push(e.data)},r.ProxyPostMessageStream=c}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-7Y6P5FRN.js"}],[1751,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});r.RequestQueue=class{constructor(e){this.maxQueueSize=e,this.queueSizes=new Map}increment(e){const t=this.queueSizes.get(e)??0;if(t>=this.maxQueueSize)throw new Error("Maximum number of requests reached. Try again later.");this.queueSizes.set(e,t+1)}decrement(e){const t=this.queueSizes.get(e)??0;if(0===t)throw new Error(`Cannot decrement, ${e} does not have any outstanding requests.`);this.queueSizes.set(e,t-1)}get(e){return this.queueSizes.get(e)??0}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-AP7CJ6DA.js"}],[1752,{"./chunk-5YBORD3A.js":1748,"./chunk-7WOG63YY.js":1749,"./chunk-AP7CJ6DA.js":1751,"./chunk-BO2ZDPWV.js":1753,"./chunk-EXN2TFDJ.js":1756,"./chunk-NOLPMHXS.js":1763,"./chunk-NXZVKBSV.js":1765,"./chunk-XE5IWVNV.js":1773,"@metamask/base-controller":1783,"@metamask/permission-controller":1469,"@metamask/rpc-errors":1566,"@metamask/snaps-rpc-methods":1861,"@metamask/snaps-sdk":1862,"@metamask/snaps-utils":1898,"@metamask/utils":1982,"@xstate/fsm":2254,nanoid:1796},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-7WOG63YY.js"),i=e("./chunk-AP7CJ6DA.js"),o=e("./chunk-5YBORD3A.js"),s=e("./chunk-BO2ZDPWV.js"),a=e("./chunk-NXZVKBSV.js"),l=e("./chunk-XE5IWVNV.js"),c=e("./chunk-NOLPMHXS.js"),u=e("./chunk-EXN2TFDJ.js"),d=e("@metamask/base-controller"),p=e("@metamask/permission-controller"),h=e("@metamask/rpc-errors"),f=e("@metamask/snaps-rpc-methods"),m=e("@metamask/snaps-sdk"),y=e("@metamask/snaps-utils"),g=e("@metamask/utils"),v=e("@xstate/fsm"),b=e("nanoid"),T="SnapController",w="wallet_installSnap",_="wallet_updateSnap",S="wallet_installSnapResult",E=new Set(["initialPermissions","id","version","enabled","blocked"]),k={snaps:{},snapStates:{},unencryptedSnapStates:{}};function O(e){return Object.keys(e).reduce(((t,r)=>(E.has(r)&&(t[r]=e[r]),t)),{})}var P,A,x,C,I,j,B,M,N,R,L,U,D,F,G,H,$,V,z,W,q,K,Y,Q,J,Z,X,ee,te,re,ne,ie,oe,se,ae,le,ce,ue,de,pe,he,fe,me,ye,ge,ve,be,Te,we,_e,Se,Ee,ke,Oe,Pe,Ae,xe,Ce,Ie,je,Be,Me,Ne,Re,Le,Ue,De,Fe,Ge,He,$e,Ve,ze,We,qe,Ke,Ye,Qe,Je,Ze,Xe,et,tt,rt,nt,it,ot,st,at,lt,ct,ut,dt,pt,ht,ft,mt=class extends d.BaseController{constructor({closeAllConnections:e,messenger:t,state:r,dynamicPermissions:i=["eth_accounts"],environmentEndowmentPermissions:o=[],excludedPermissions:s={},idleTimeCheckInterval:a=g.inMilliseconds.call(void 0,5,g.Duration.Second),maxIdleTime:l=g.inMilliseconds.call(void 0,30,g.Duration.Second),maxRequestTime:c=g.inMilliseconds.call(void 0,60,g.Duration.Second),maxInitTime:d=g.inMilliseconds.call(void 0,60,g.Duration.Second),fetchFunction:p=globalThis.fetch.bind(globalThis),featureFlags:h={},detectSnapLocation:f=n.detectSnapLocation,preinstalledSnaps:v}){super({messenger:t,metadata:{snapStates:{persist:!0,anonymous:!1},unencryptedSnapStates:{persist:!0,anonymous:!1},snaps:{persist:e=>Object.values(e).filter((e=>e.status!==y.SnapStatus.Installing)).map((e=>({...e,status:y.SnapStatus.Stopped}))).reduce(((e,t)=>(e[t.id]=t,e)),{}),anonymous:!1}},name:"SnapController",state:{...k,...r}}),u.__privateAdd.call(void 0,this,G),u.__privateAdd.call(void 0,this,$),u.__privateAdd.call(void 0,this,z),u.__privateAdd.call(void 0,this,q),u.__privateAdd.call(void 0,this,Y),u.__privateAdd.call(void 0,this,J),u.__privateAdd.call(void 0,this,X),u.__privateAdd.call(void 0,this,te),u.__privateAdd.call(void 0,this,ne),u.__privateAdd.call(void 0,this,oe),u.__privateAdd.call(void 0,this,ae),u.__privateAdd.call(void 0,this,ce),u.__privateAdd.call(void 0,this,de),u.__privateAdd.call(void 0,this,he),u.__privateAdd.call(void 0,this,me),u.__privateAdd.call(void 0,this,ge),u.__privateAdd.call(void 0,this,be),u.__privateAdd.call(void 0,this,we),u.__privateAdd.call(void 0,this,Se),u.__privateAdd.call(void 0,this,ke),u.__privateAdd.call(void 0,this,Pe),u.__privateAdd.call(void 0,this,xe),u.__privateAdd.call(void 0,this,Ie),u.__privateAdd.call(void 0,this,Be),u.__privateAdd.call(void 0,this,Ne),u.__privateAdd.call(void 0,this,Le),u.__privateAdd.call(void 0,this,De),u.__privateAdd.call(void 0,this,Ge),u.__privateAdd.call(void 0,this,$e),u.__privateAdd.call(void 0,this,ze),u.__privateAdd.call(void 0,this,qe),u.__privateAdd.call(void 0,this,Ye),u.__privateAdd.call(void 0,this,Je),u.__privateAdd.call(void 0,this,Xe),u.__privateAdd.call(void 0,this,tt),u.__privateAdd.call(void 0,this,nt),u.__privateAdd.call(void 0,this,ot),u.__privateAdd.call(void 0,this,at),u.__privateAdd.call(void 0,this,ct),u.__privateAdd.call(void 0,this,dt),u.__privateAdd.call(void 0,this,ht),u.__privateAdd.call(void 0,this,P,void 0),u.__privateAdd.call(void 0,this,A,void 0),u.__privateAdd.call(void 0,this,x,void 0),u.__privateAdd.call(void 0,this,C,void 0),u.__privateAdd.call(void 0,this,I,void 0),u.__privateAdd.call(void 0,this,j,void 0),u.__privateAdd.call(void 0,this,B,void 0),u.__privateAdd.call(void 0,this,M,void 0),u.__privateAdd.call(void 0,this,N,void 0),u.__privateAdd.call(void 0,this,R,void 0),u.__privateAdd.call(void 0,this,L,void 0),u.__privateAdd.call(void 0,this,U,void 0),u.__privateAdd.call(void 0,this,D,void 0),u.__privateAdd.call(void 0,this,F,void 0),u.__privateSet.call(void 0,this,P,e),u.__privateSet.call(void 0,this,A,i),u.__privateSet.call(void 0,this,x,o),u.__privateSet.call(void 0,this,C,s),u.__privateSet.call(void 0,this,I,h),u.__privateSet.call(void 0,this,j,p),u.__privateSet.call(void 0,this,B,a),u.__privateSet.call(void 0,this,M,l),this.maxRequestTime=c,u.__privateSet.call(void 0,this,N,d),u.__privateSet.call(void 0,this,R,f),this._onUnhandledSnapError=this._onUnhandledSnapError.bind(this),this._onOutboundRequest=this._onOutboundRequest.bind(this),this._onOutboundResponse=this._onOutboundResponse.bind(this),u.__privateSet.call(void 0,this,U,new Map),u.__privateSet.call(void 0,this,L,new Map),u.__privateMethod.call(void 0,this,q,K).call(this),this.messagingSystem.subscribe("ExecutionService:unhandledError",this._onUnhandledSnapError),this.messagingSystem.subscribe("ExecutionService:outboundRequest",this._onOutboundRequest),this.messagingSystem.subscribe("ExecutionService:outboundResponse",this._onOutboundResponse),this.messagingSystem.subscribe("SnapController:snapInstalled",(({id:e})=>{u.__privateMethod.call(void 0,this,ht,ft).call(this,e,y.HandlerType.OnInstall).catch((t=>{y.logError.call(void 0,`Error when calling \`onInstall\` lifecycle hook for snap "${e}": ${m.getErrorMessage.call(void 0,t)}`)}))})),this.messagingSystem.subscribe("SnapController:snapUpdated",(({id:e})=>{u.__privateMethod.call(void 0,this,ht,ft).call(this,e,y.HandlerType.OnUpdate).catch((t=>{y.logError.call(void 0,`Error when calling \`onUpdate\` lifecycle hook for snap "${e}": ${m.getErrorMessage.call(void 0,t)}`)}))})),u.__privateMethod.call(void 0,this,G,H).call(this),u.__privateMethod.call(void 0,this,$,V).call(this),v&&u.__privateMethod.call(void 0,this,z,W).call(this,v),Object.values(this.state?.snaps??{}).forEach((e=>u.__privateMethod.call(void 0,this,ot,st).call(this,e.id)))}async updateBlockedSnaps(){await this.messagingSystem.call("SnapsRegistry:update");const e=await this.messagingSystem.call("SnapsRegistry:get",Object.values(this.state.snaps).reduce(((e,t)=>(e[t.id]={version:t.version,checksum:t.manifest.source.shasum},e)),{}));await Promise.all(Object.entries(e).map((async([e,{status:t,reason:r}])=>1===t?u.__privateMethod.call(void 0,this,Y,Q).call(this,e,r):u.__privateMethod.call(void 0,this,J,Z).call(this,e))))}_onUnhandledSnapError(e,t){this.stopSnap(e,y.SnapStatusEvents.Crash).catch((e=>{y.logError.call(void 0,e)}))}_onOutboundRequest(e){const t=u.__privateMethod.call(void 0,this,nt,it).call(this,e);t.pendingInboundRequests.filter((e=>"running"===e.timer.status)).forEach((e=>e.timer.pause())),t.pendingOutboundRequests+=1}_onOutboundResponse(e){const t=u.__privateMethod.call(void 0,this,nt,it).call(this,e);t.pendingOutboundRequests-=1,0===t.pendingOutboundRequests&&t.pendingInboundRequests.filter((e=>"paused"===e.timer.status)).forEach((e=>e.timer.resume()))}async startSnap(e){const t=this.state.snaps[e];if(!1===t.enabled)throw new Error(`Snap "${e}" is disabled.`);await u.__privateMethod.call(void 0,this,Se,Ee).call(this,{snapId:e,sourceCode:t.sourceCode})}enableSnap(e){if(this.getExpect(e),this.state.snaps[e].blocked)throw new Error(`Snap "${e}" is blocked and cannot be enabled.`);this.update((t=>{t.snaps[e].enabled=!0})),this.messagingSystem.publish("SnapController:snapEnabled",this.getTruncatedExpect(e))}async disableSnap(e){if(!this.has(e))throw new Error(`Snap "${e}" not found.`);this.update((t=>{t.snaps[e].enabled=!1})),this.isRunning(e)&&await this.stopSnap(e,y.SnapStatusEvents.Stop),this.messagingSystem.publish("SnapController:snapDisabled",this.getTruncatedExpect(e))}async stopSnap(e,t=y.SnapStatusEvents.Stop){var r;const n=u.__privateMethod.call(void 0,this,tt,rt).call(this,e);if(!n)throw new Error(`The snap "${e}" is not running.`);n.lastRequest=null,n.pendingInboundRequests=[],n.pendingOutboundRequests=0;try{this.isRunning(e)&&(null==(r=u.__privateGet.call(void 0,this,P))||r.call(this,e),await u.__privateMethod.call(void 0,this,oe,se).call(this,e))}finally{this.isRunning(e)&&u.__privateMethod.call(void 0,this,ne,ie).call(this,e,t)}}isRunning(e){return"running"===this.getExpect(e).status}has(e){return Boolean(this.get(e))}get(e){return this.state.snaps[e]}getExpect(e){const t=this.get(e);return g.assert.call(void 0,void 0!==t,new Error(`Snap "${e}" not found.`)),t}getTruncated(e){const t=this.get(e);return t?O(t):null}getTruncatedExpect(e){return O(this.getExpect(e))}updateSnapState(e,t,r){this.update((n=>{r?n.snapStates[e]=t:n.unencryptedSnapStates[e]=t}))}clearSnapState(e,t){this.update((r=>{t?r.snapStates[e]=null:r.unencryptedSnapStates[e]=null}))}getSnapState(e,t){return(t?this.state.snapStates[e]:this.state.unencryptedSnapStates[e])??null}async getSnapFile(e,t,r=m.AuxiliaryFileEncoding.Base64){const n=this.getExpect(e),i=y.normalizeRelative.call(void 0,t),o=n.auxiliaryFiles?.find((e=>e.path===i))?.value;return o?y.encodeAuxiliaryFile.call(void 0,o,r):null}async clearState(){const e=Object.keys(this.state.snaps);u.__privateGet.call(void 0,this,P)&&e.forEach((e=>{var t;null==(t=u.__privateGet.call(void 0,this,P))||t.call(this,e)})),await this.messagingSystem.call("ExecutionService:terminateAllSnaps"),e.forEach((e=>u.__privateMethod.call(void 0,this,he,fe).call(this,e))),this.update((e=>{e.snaps={},e.snapStates={}}))}async removeSnap(e){return this.removeSnaps([e])}async removeSnaps(e){if(!Array.isArray(e))throw new Error("Expected array of snap ids.");e.forEach((e=>{const t=this.getExpect(e);g.assert.call(void 0,!1!==t.removable,`${e} is not removable.`)})),await Promise.all(e.map((async e=>{const t=this.getExpect(e),r=this.getTruncatedExpect(e);await this.disableSnap(e),u.__privateMethod.call(void 0,this,he,fe).call(this,e),u.__privateMethod.call(void 0,this,de,pe).call(this,e),u.__privateGet.call(void 0,this,L).delete(e),this.update((t=>{delete t.snaps[e],delete t.snapStates[e]})),t.status!==y.SnapStatus.Installing&&this.messagingSystem.publish("SnapController:snapUninstalled",r)})))}removeSnapFromSubject(e,t){const r=this.messagingSystem.call("PermissionController:getPermissions",e),n=r?.[f.WALLET_SNAP_PERMISSION_KEY]?.caveats?.find((e=>e.type===y.SnapCaveatType.SnapIds));if(!n)return;if(Boolean(n.value?.[t])){const r={...n.value};delete r[t],Object.keys(r).length>0?this.messagingSystem.call("PermissionController:updateCaveat",e,f.WALLET_SNAP_PERMISSION_KEY,y.SnapCaveatType.SnapIds,r):this.messagingSystem.call("PermissionController:revokePermissions",{[e]:[f.WALLET_SNAP_PERMISSION_KEY]})}}revokeDynamicSnapPermissions(e,t){g.assert.call(void 0,t.every((e=>u.__privateGet.call(void 0,this,A).includes(e))),"Non-dynamic permissions cannot be revoked"),this.messagingSystem.call("PermissionController:revokePermissions",{[e]:t})}incrementActiveReferences(e){u.__privateMethod.call(void 0,this,nt,it).call(this,e).activeReferences+=1}decrementActiveReferences(e){const t=u.__privateMethod.call(void 0,this,nt,it).call(this,e);g.assert.call(void 0,t.activeReferences>0,"SnapController reference management is in an invalid state."),t.activeReferences-=1}getAllSnaps(){return Object.values(this.state.snaps).map(O)}getPermittedSnaps(e){const t=this.messagingSystem.call("PermissionController:getPermissions",e)??{},r=t[f.WALLET_SNAP_PERMISSION_KEY]?.caveats?.find((e=>e.type===y.SnapCaveatType.SnapIds))?.value??{};return Object.keys(r).reduce(((e,t)=>{const r=this.get(t),n=this.getTruncated(t);return n&&r?.status!==y.SnapStatus.Installing&&(e[t]=n),e}),{})}async installSnaps(e,t){const r={},n=Object.keys(t),i=[],o=[];try{for(const[n,{version:s}]of Object.entries(t)){y.assertIsValidSnapId.call(void 0,n);const[t,a]=y.resolveVersionRange.call(void 0,s);if(t)throw h.rpcErrors.invalidParams(`The "version" field must be a valid SemVer version range if specified. Received: "${s}".`);const l=u.__privateGet.call(void 0,this,R).call(this,n,{versionRange:a,fetch:u.__privateGet.call(void 0,this,j),allowLocal:u.__privateGet.call(void 0,this,I).allowLocalSnaps,resolveVersion:async e=>u.__privateGet.call(void 0,this,I).requireAllowlist?await u.__privateMethod.call(void 0,this,be,Te).call(this,n,e):e}),c=this.has(n)&&!l.shouldAlwaysReload;if(c&&u.__privateMethod.call(void 0,this,dt,pt).call(this,n,a)){const e=this.getExpect(n);i.push({snapId:n,oldVersion:e.version});let t=u.__privateMethod.call(void 0,this,qe,Ke).call(this,n);if(void 0!==t)throw new Error("This snap is already being updated.");t=u.__privateMethod.call(void 0,this,Ye,Qe).call(this,n),t.newVersion=a}else c||o.push(n);r[n]=await this.processRequestedSnap(e,n,l,a)}o.forEach((t=>this.messagingSystem.publish("SnapController:snapInstalled",this.getTruncatedExpect(t),e))),i.forEach((({snapId:t,oldVersion:r})=>this.messagingSystem.publish("SnapController:snapUpdated",this.getTruncatedExpect(t),r,e))),n.forEach((e=>u.__privateGet.call(void 0,this,U).delete(e)))}catch(e){const t=o.filter((e=>this.has(e)));await this.removeSnaps(t);const r=[...u.__privateGet.call(void 0,this,U).keys()],n=i.map((({snapId:e})=>e)).filter((e=>r.includes(e)));throw await u.__privateMethod.call(void 0,this,Xe,et).call(this,n),e}return r}async processRequestedSnap(e,t,r,n){const i=this.getTruncated(t);if(i&&!r.shouldAlwaysReload)return g.satisfiesVersionRange.call(void 0,i.version,n)?i:await this.updateSnap(e,t,r,n,!1);let o=u.__privateMethod.call(void 0,this,me,ye).call(this,{origin:e,snapId:t,type:w});this.messagingSystem.publish("SnapController:snapInstallStarted",t,e,!1),i&&this.isRunning(t)&&await this.stopSnap(t,y.SnapStatusEvents.Stop),i&&r.shouldAlwaysReload&&u.__privateMethod.call(void 0,this,he,fe).call(this,t);try{const{sourceCode:i}=await u.__privateMethod.call(void 0,this,we,_e).call(this,{origin:e,id:t,location:r,versionRange:n});await this.authorize(t,o),o=u.__privateMethod.call(void 0,this,me,ye).call(this,{origin:e,snapId:t,type:S}),await u.__privateMethod.call(void 0,this,Se,Ee).call(this,{snapId:t,sourceCode:i});const s=this.getTruncatedExpect(t);return u.__privateMethod.call(void 0,this,ge,ve).call(this,o.id,{loading:!1,type:w}),s}catch(r){y.logError.call(void 0,`Error when adding ${t}.`,r);const n=r instanceof Error?r.message:r.toString();throw u.__privateMethod.call(void 0,this,ge,ve).call(this,o.id,{loading:!1,type:w,error:n}),this.messagingSystem.publish("SnapController:snapInstallFailed",t,e,!1,n),r}}async updateSnap(e,t,r,n=y.DEFAULT_REQUESTED_SNAP_VERSION,i=!0){if(!g.isValidSemVerRange.call(void 0,n))throw new Error(`Received invalid snap version range: "${n}".`);let o=u.__privateMethod.call(void 0,this,me,ye).call(this,{origin:e,snapId:t,type:_});try{this.messagingSystem.publish("SnapController:snapInstallStarted",t,e,!0);const s=this.getExpect(t),a=s.manifest,c=await l.fetchSnap.call(void 0,t,r),{sourceCode:d,manifest:p}=c,m=p.result,v=m.version;if(!g.gtVersion.call(void 0,v,s.version))throw h.rpcErrors.invalidParams(`Snap "${t}@${s.version}" is already installed. Couldn't update to a version inside requested "${n}" range.`);if(!g.satisfiesVersionRange.call(void 0,v,n))throw new Error(`Version mismatch. Manifest for "${t}" specifies version "${v}" which doesn't satisfy requested version range "${n}".`);await u.__privateMethod.call(void 0,this,X,ee).call(this,t,{version:v,checksum:m.source.shasum,permissions:m.initialPermissions});const b=f.processSnapPermissions.call(void 0,m.initialPermissions);u.__privateMethod.call(void 0,this,xe,Ce).call(this,b);const{newPermissions:T,unusedPermissions:w,approvedPermissions:E}=u.__privateMethod.call(void 0,this,at,lt).call(this,t,b);u.__privateMethod.call(void 0,this,ge,ve).call(this,o.id,{permissions:T,newVersion:m.version,newPermissions:T,approvedPermissions:E,unusedPermissions:w,loading:!1});const{permissions:k,...O}=await o.promise;o=u.__privateMethod.call(void 0,this,me,ye).call(this,{origin:e,snapId:t,type:S}),this.isRunning(t)&&await this.stopSnap(t,y.SnapStatusEvents.Stop),u.__privateMethod.call(void 0,this,ne,ie).call(this,t,y.SnapStatusEvents.Update),u.__privateMethod.call(void 0,this,Pe,Ae).call(this,{origin:e,id:t,files:c,isUpdate:!0}),u.__privateMethod.call(void 0,this,ct,ut).call(this,{snapId:t,unusedPermissions:w,newPermissions:k,requestData:O}),m.initialConnections&&u.__privateMethod.call(void 0,this,ae,le).call(this,t,a.initialConnections??null,m.initialConnections);const P=u.__privateMethod.call(void 0,this,qe,Ke).call(this,t);void 0!==P&&(P.permissions.revoked=w,P.permissions.granted=k,P.permissions.requestData=O);const A=d.toString();g.assert.call(void 0,"string"==typeof A&&A.length>0,`Invalid source code for snap "${t}".`);try{await u.__privateMethod.call(void 0,this,Se,Ee).call(this,{snapId:t,sourceCode:A})}catch{throw new Error(`Snap ${t} crashed with updated source code.`)}const x=this.getTruncatedExpect(t);return i&&this.messagingSystem.publish("SnapController:snapUpdated",x,s.version,e),u.__privateMethod.call(void 0,this,ge,ve).call(this,o.id,{loading:!1,type:_}),x}catch(r){y.logError.call(void 0,`Error when updating ${t},`,r);const n=r instanceof Error?r.message:r.toString();throw u.__privateMethod.call(void 0,this,ge,ve).call(this,o.id,{loading:!1,error:n,type:_}),this.messagingSystem.publish("SnapController:snapInstallFailed",t,e,!0,n),r}}async getRegistryMetadata(e){return await this.messagingSystem.call("SnapsRegistry:getMetadata",e)}async authorize(e,t){a.log.call(void 0,`Authorizing snap: ${e}`);const r=this.state.snaps[e],{initialPermissions:n}=r;try{const i=f.processSnapPermissions.call(void 0,n);u.__privateMethod.call(void 0,this,xe,Ce).call(this,i),u.__privateMethod.call(void 0,this,ge,ve).call(this,t.id,{loading:!1,permissions:i});const{permissions:o,...s}=await t.promise;u.__privateMethod.call(void 0,this,ct,ut).call(this,{snapId:e,newPermissions:o,requestData:s}),r.manifest.initialConnections&&u.__privateMethod.call(void 0,this,ae,le).call(this,e,null,r.manifest.initialConnections)}finally{u.__privateMethod.call(void 0,this,nt,it).call(this,e).installPromise=null}}destroy(){super.destroy(),u.__privateGet.call(void 0,this,D)&&clearTimeout(u.__privateGet.call(void 0,this,D)),this.messagingSystem.unsubscribe("ExecutionService:unhandledError",this._onUnhandledSnapError),this.messagingSystem.unsubscribe("ExecutionService:outboundRequest",this._onOutboundRequest),this.messagingSystem.unsubscribe("ExecutionService:outboundResponse",this._onOutboundResponse),this.messagingSystem.clearEventSubscriptions("SnapController:snapInstalled"),this.messagingSystem.clearEventSubscriptions("SnapController:snapUpdated")}async handleRequest({snapId:e,origin:t,handler:r,request:n}){const i={jsonrpc:"2.0",id:b.nanoid.call(void 0),...n};g.assertIsJsonRpcRequest.call(void 0,i);const o=f.handlerEndowments[r];g.assert.call(void 0,"string"==typeof o||null===o,"'permissionName' must be either a string or null.");const s=this.messagingSystem.call("PermissionController:getPermissions",e);if(!(null===o||s&&g.hasProperty.call(void 0,s,o)))throw new Error(`Snap "${e}" is not permitted to use "${o}".`);const a=o?s[o]:void 0;if(o===f.SnapEndowments.Rpc||o===f.SnapEndowments.Keyring){g.assert.call(void 0,a);const r=this.messagingSystem.call("SubjectMetadataController:getSubjectMetadata",t),n=o===f.SnapEndowments.Rpc?f.getRpcCaveatOrigins.call(void 0,a):f.getKeyringCaveatOrigins.call(void 0,a);if(g.assert.call(void 0,n),!y.isOriginAllowed.call(void 0,n,r?.subjectType??p.SubjectType.Website,t))throw new Error(`Snap "${e}" is not permitted to handle requests from "${t}".`)}const l=u.__privateMethod.call(void 0,this,Be,Me).call(this,e);if(!l)throw new Error(`Snap RPC message handler not found for snap "${e}".`);return l({origin:t,handler:r,request:i,timeout:u.__privateMethod.call(void 0,this,Ie,je).call(this,a)})}};P=new WeakMap,A=new WeakMap,x=new WeakMap,C=new WeakMap,I=new WeakMap,j=new WeakMap,B=new WeakMap,M=new WeakMap,N=new WeakMap,R=new WeakMap,L=new WeakMap,U=new WeakMap,D=new WeakMap,F=new WeakMap,G=new WeakSet,H=function(){const e=({snapId:e})=>this.getExpect(e).enabled,t={initial:y.SnapStatus.Installing,states:{[y.SnapStatus.Installing]:{on:{[y.SnapStatusEvents.Start]:{target:y.SnapStatus.Running,cond:e}}},[y.SnapStatus.Updating]:{on:{[y.SnapStatusEvents.Start]:{target:y.SnapStatus.Running,cond:e},[y.SnapStatusEvents.Stop]:y.SnapStatus.Stopped}},[y.SnapStatus.Running]:{on:{[y.SnapStatusEvents.Stop]:y.SnapStatus.Stopped,[y.SnapStatusEvents.Crash]:y.SnapStatus.Crashed}},[y.SnapStatus.Stopped]:{on:{[y.SnapStatusEvents.Start]:{target:y.SnapStatus.Running,cond:e},[y.SnapStatusEvents.Update]:y.SnapStatus.Updating}},[y.SnapStatus.Crashed]:{on:{[y.SnapStatusEvents.Start]:{target:y.SnapStatus.Running,cond:e},[y.SnapStatusEvents.Update]:y.SnapStatus.Updating}}}};u.__privateSet.call(void 0,this,F,v.createMachine.call(void 0,t)),s.validateMachine.call(void 0,u.__privateGet.call(void 0,this,F))},$=new WeakSet,V=function(){this.messagingSystem.registerActionHandler(`${T}:clearSnapState`,((...e)=>this.clearSnapState(...e))),this.messagingSystem.registerActionHandler(`${T}:get`,((...e)=>this.get(...e))),this.messagingSystem.registerActionHandler(`${T}:getSnapState`,((...e)=>this.getSnapState(...e))),this.messagingSystem.registerActionHandler(`${T}:handleRequest`,(async(...e)=>this.handleRequest(...e))),this.messagingSystem.registerActionHandler(`${T}:has`,((...e)=>this.has(...e))),this.messagingSystem.registerActionHandler(`${T}:updateBlockedSnaps`,(async()=>this.updateBlockedSnaps())),this.messagingSystem.registerActionHandler(`${T}:updateSnapState`,((...e)=>this.updateSnapState(...e))),this.messagingSystem.registerActionHandler(`${T}:enable`,((...e)=>this.enableSnap(...e))),this.messagingSystem.registerActionHandler(`${T}:disable`,(async(...e)=>this.disableSnap(...e))),this.messagingSystem.registerActionHandler(`${T}:remove`,(async(...e)=>this.removeSnap(...e))),this.messagingSystem.registerActionHandler(`${T}:getPermitted`,((...e)=>this.getPermittedSnaps(...e))),this.messagingSystem.registerActionHandler(`${T}:install`,(async(...e)=>this.installSnaps(...e))),this.messagingSystem.registerActionHandler(`${T}:getAll`,((...e)=>this.getAllSnaps(...e))),this.messagingSystem.registerActionHandler(`${T}:incrementActiveReferences`,((...e)=>this.incrementActiveReferences(...e))),this.messagingSystem.registerActionHandler(`${T}:decrementActiveReferences`,((...e)=>this.decrementActiveReferences(...e))),this.messagingSystem.registerActionHandler(`${T}:getRegistryMetadata`,(async(...e)=>this.getRegistryMetadata(...e))),this.messagingSystem.registerActionHandler(`${T}:disconnectOrigin`,((...e)=>this.removeSnapFromSubject(...e))),this.messagingSystem.registerActionHandler(`${T}:revokeDynamicPermissions`,((...e)=>this.revokeDynamicSnapPermissions(...e))),this.messagingSystem.registerActionHandler(`${T}:getFile`,(async(...e)=>this.getSnapFile(...e)))},z=new WeakSet,W=function(e){for(const{snapId:t,manifest:r,files:n,removable:i}of e){const e=this.get(t),o=void 0!==e,s=o&&g.gtVersion.call(void 0,r.version,e.version);if(o&&(!s||!0!==e.preinstalled))continue;const a=new(0,y.VirtualFile)({path:y.NpmSnapFileNames.Manifest,value:JSON.stringify(r),result:r}),l=n.map((({path:e,value:t})=>new(0,y.VirtualFile)({value:t,path:e}))),{filePath:c,iconPath:d}=r.source.location.npm,p=l.find((e=>e.path===c)),h=d?l.find((e=>e.path===d)):void 0;g.assert.call(void 0,p,"Source code not provided for preinstalled snap."),g.assert.call(void 0,!d||d&&h,"Icon not provided for preinstalled snap."),g.assert.call(void 0,void 0===r.source.files,"Auxiliary files are not currently supported for preinstalled snaps.");const m=r.source.locales?.map((e=>l.find((t=>t.path===e))))??[],v=y.getValidatedLocalizationFiles.call(void 0,m.filter(Boolean));g.assert.call(void 0,m.length===v.length,"Missing localization files for preinstalled snap.");const b={manifest:a,sourceCode:p,svgIcon:h,auxiliaryFiles:[],localizationFiles:v};u.__privateMethod.call(void 0,this,Pe,Ae).call(this,{id:t,origin:"metamask",files:b,removable:i,preinstalled:!0});const T=f.processSnapPermissions.call(void 0,r.initialPermissions);u.__privateMethod.call(void 0,this,xe,Ce).call(this,T);const{newPermissions:w,unusedPermissions:_}=u.__privateMethod.call(void 0,this,at,lt).call(this,t,T);u.__privateMethod.call(void 0,this,ct,ut).call(this,{snapId:t,newPermissions:w,unusedPermissions:_}),this.update((e=>{e.snaps[t].status=y.SnapStatus.Stopped}))}},q=new WeakSet,K=function(){u.__privateSet.call(void 0,this,D,setTimeout((()=>{u.__privateMethod.call(void 0,this,te,re).call(this).catch((e=>{y.logError.call(void 0,e)})),u.__privateMethod.call(void 0,this,q,K).call(this)}),u.__privateGet.call(void 0,this,B)))},Y=new WeakSet,Q=async function(e,t){if(this.has(e)){try{this.update((r=>{r.snaps[e].blocked=!0,r.snaps[e].blockInformation=t})),await this.disableSnap(e)}catch(t){y.logError.call(void 0,`Encountered error when stopping blocked snap "${e}".`,t)}this.messagingSystem.publish(`${T}:snapBlocked`,e,t)}},J=new WeakSet,Z=function(e){this.has(e)&&this.state.snaps[e].blocked&&(this.update((t=>{t.snaps[e].blocked=!1,delete t.snaps[e].blockInformation})),this.messagingSystem.publish(`${T}:snapUnblocked`,e))},X=new WeakSet,ee=async function(e,t){const r=(await this.messagingSystem.call("SnapsRegistry:get",{[e]:t}))[e];if(1===r.status)throw new Error(`Cannot install version "${t.version}" of snap "${e}": The version is blocked. ${r.reason?.explanation??""}`);const n=Object.keys(t.permissions).some((e=>!o.ALLOWED_PERMISSIONS.includes(e)));if(u.__privateGet.call(void 0,this,I).requireAllowlist&&n&&2!==r.status)throw new Error(`Cannot install version "${t.version}" of snap "${e}": ${3===r.status?"The registry is temporarily unavailable.":"The snap is not on the allowlist."}`)},te=new WeakSet,re=async function(){const e=[...u.__privateGet.call(void 0,this,L).entries()];return Promise.all(e.filter((([e,t])=>0===t.activeReferences&&0===t.pendingInboundRequests.length&&t.lastRequest&&u.__privateGet.call(void 0,this,M)&&g.timeSince.call(void 0,t.lastRequest)>u.__privateGet.call(void 0,this,M))).map((async([e])=>this.stopSnap(e,y.SnapStatusEvents.Stop))))},ne=new WeakSet,ie=function(e,t){const{interpreter:r}=u.__privateMethod.call(void 0,this,nt,it).call(this,e);r.send(t),this.update((t=>{t.snaps[e].status=r.state.value}))},oe=new WeakSet,se=async function(e){await this.messagingSystem.call("ExecutionService:terminateSnap",e),this.messagingSystem.publish("SnapController:snapTerminated",this.getTruncatedExpect(e))},ae=new WeakSet,le=function(e,t,r){if(t){const n=l.setDiff.call(void 0,t,r);for(const t of Object.keys(n))this.removeSnapFromSubject(t,e)}for(const t of Object.keys(r))u.__privateMethod.call(void 0,this,ce,ue).call(this,t,e)},ce=new WeakSet,ue=function(e,t){const r=this.messagingSystem.call("PermissionController:getPermissions",e),n=r?.[f.WALLET_SNAP_PERMISSION_KEY]?.caveats?.find((e=>e.type===y.SnapCaveatType.SnapIds));if(Boolean(n?.value?.[t]))return;if(n)return void this.messagingSystem.call("PermissionController:updateCaveat",e,f.WALLET_SNAP_PERMISSION_KEY,y.SnapCaveatType.SnapIds,{...n,[t]:{}});const i={[f.WALLET_SNAP_PERMISSION_KEY]:{caveats:[{type:y.SnapCaveatType.SnapIds,value:{[t]:{}}}]}};this.messagingSystem.call("PermissionController:grantPermissions",{approvedPermissions:i,subject:{origin:e}})},de=new WeakSet,pe=function(e){const t=this.messagingSystem.call("PermissionController:getSubjectNames");for(const r of t)this.removeSnapFromSubject(r,e)},he=new WeakSet,fe=function(e){this.messagingSystem.call("PermissionController:hasPermissions",e)&&this.messagingSystem.call("PermissionController:revokeAllPermissions",e)},me=new WeakSet,ye=function({origin:e,snapId:t,type:r}){const n=b.nanoid.call(void 0);return{id:n,promise:this.messagingSystem.call("ApprovalController:addRequest",{origin:e,id:n,type:r,requestData:{metadata:{id:n,origin:t,dappOrigin:e},snapId:t},requestState:{loading:!0}},!0)}},ge=new WeakSet,ve=function(e,t){try{this.messagingSystem.call("ApprovalController:updateRequestState",{id:e,requestState:t})}catch{}},be=new WeakSet,Te=async function(e,t){return await this.messagingSystem.call("SnapsRegistry:resolveVersion",e,t)},we=new WeakSet,_e=async function(e){const{id:t,location:r,versionRange:n}=e;u.__privateMethod.call(void 0,this,ot,st).call(this,t);const i=u.__privateMethod.call(void 0,this,nt,it).call(this,t);i.installPromise||(a.log.call(void 0,`Adding snap: ${t}`),i.installPromise=(async()=>{const i=await l.fetchSnap.call(void 0,t,r),o=i.manifest.result;if(!g.satisfiesVersionRange.call(void 0,o.version,n))throw new Error(`Version mismatch. Manifest for "${t}" specifies version "${o.version}" which doesn't satisfy requested version range "${n}".`);return await u.__privateMethod.call(void 0,this,X,ee).call(this,t,{version:o.version,checksum:o.source.shasum,permissions:o.initialPermissions}),u.__privateMethod.call(void 0,this,Pe,Ae).call(this,{...e,files:i,id:t})})());try{return await i.installPromise}catch(e){throw i.installPromise=null,e}},Se=new WeakSet,Ee=async function(e){const{snapId:t}=e;if(this.isRunning(t))throw new Error(`Snap "${t}" is already started.`);try{const r=u.__privateMethod.call(void 0,this,nt,it).call(this,t),n=await l.withTimeout.call(void 0,this.messagingSystem.call("ExecutionService:executeSnap",{...e,endowments:await u.__privateMethod.call(void 0,this,ke,Oe).call(this,t)}),u.__privateGet.call(void 0,this,N));if(n===l.hasTimedOut)throw new Error(`${t} failed to start.`);return u.__privateMethod.call(void 0,this,ne,ie).call(this,t,y.SnapStatusEvents.Start),r.lastRequest=Date.now(),n}catch(e){throw await u.__privateMethod.call(void 0,this,oe,se).call(this,t),e}},ke=new WeakSet,Oe=async function(e){let t=[];for(const r of u.__privateGet.call(void 0,this,x))if(this.messagingSystem.call("PermissionController:hasPermission",e,r)){const n=await this.messagingSystem.call("PermissionController:getEndowments",e,r);if(n){if(!Array.isArray(n)||n.some((e=>"string"!=typeof e)))throw new Error("Expected an array of string endowment names.");t=t.concat(n)}}const r=[...new Set([...y.DEFAULT_ENDOWMENTS,...t])];return r.length<y.DEFAULT_ENDOWMENTS.length+t.length&&y.logError.call(void 0,`Duplicate endowments found for ${e}. Default endowments should not be requested.`,t),r},Pe=new WeakSet,Ae=function(e){const{id:t,origin:r,files:n,isUpdate:i=!1,removable:o,preinstalled:s}=e,{manifest:a,sourceCode:l,svgIcon:c,auxiliaryFiles:d,localizationFiles:h}=n;y.assertIsSnapManifest.call(void 0,a.result);const{version:f}=a.result,m=l.toString();g.assert.call(void 0,"string"==typeof m&&m.length>0,`Invalid source code for snap "${t}".`);const v=d.map((e=>(g.assert.call(void 0,"string"==typeof e.data.base64),{path:e.path,value:e.data.base64}))),b=this.state.snaps[t],T=[...b?.versionHistory??[],{version:f,date:Date.now(),origin:r}],w=h.map((e=>e.result)),_={...b,blocked:!1,enabled:!0,removable:o,preinstalled:s,id:t,initialPermissions:a.result.initialPermissions,manifest:a.result,status:u.__privateGet.call(void 0,this,F).config.initial,sourceCode:m,version:f,versionHistory:T,auxiliaryFiles:v,localizationFiles:w};delete _.blockInformation;const{inversePatches:S}=this.update((e=>{e.snaps[t]=_}));if(i){const e=u.__privateMethod.call(void 0,this,qe,Ke).call(this,t);void 0!==e&&(e.statePatches=S)}const{proposedName:E}=y.getLocalizedSnapManifest.call(void 0,a.result,"en",w);return this.messagingSystem.call("SubjectMetadataController:addSubjectMetadata",{subjectType:p.SubjectType.Snap,name:E,origin:_.id,version:f,svgIcon:c?.toString()??null}),{..._,sourceCode:m}},xe=new WeakSet,Ce=function(e){const t=Object.keys(e),r=Array.from(new Set(Object.values(f.handlerEndowments)));g.assert.call(void 0,t.some((e=>r.includes(e))),`A snap must request at least one of the following permissions: ${r.filter((e=>null!==e)).join(", ")}.`);const n=t.reduce(((e,t)=>(g.hasProperty.call(void 0,u.__privateGet.call(void 0,this,C),t)&&e.push(u.__privateGet.call(void 0,this,C)[t]),e)),[]);g.assert.call(void 0,0===n.length,`One or more permissions are not allowed:\n${n.join("\n")}`)},Ie=new WeakSet,je=function(e){return f.getMaxRequestTimeCaveat.call(void 0,e)??this.maxRequestTime},Be=new WeakSet,Me=function(e){const t=u.__privateMethod.call(void 0,this,nt,it).call(this,e),r=t.rpcHandler;if(r)return r;const n=new(0,i.RequestQueue)(5),o=new Map,s=async({origin:t,handler:r,request:i,timeout:s})=>{if(!1===this.state.snaps[e].enabled)throw new Error(`Snap "${e}" is disabled.`);if(this.state.snaps[e].status===y.SnapStatus.Installing)throw new Error(`Snap "${e}" is currently being installed. Please try again later.`);if(!this.isRunning(e)){let r=o.get(e);if(r){if(n.get(t)>=n.maxQueueSize)throw new Error("Exceeds maximum number of requests waiting to be resolved, please try again.")}else r=this.startSnap(e),o.set(e,r);n.increment(t);try{await r}finally{n.decrement(t),o.get(e)===r&&o.delete(e)}}const a=new(0,c.Timer)(s);u.__privateMethod.call(void 0,this,$e,Ve).call(this,e,i.id,a);const d=this.messagingSystem.call("ExecutionService:handleRpcRequest",e,{origin:t,handler:r,request:i});try{const t=await l.withTimeout.call(void 0,d,a);if(t===l.hasTimedOut)throw new Error(`${e} failed to respond to the request in time.`);return await u.__privateMethod.call(void 0,this,Ge,He).call(this,e,r,t),u.__privateMethod.call(void 0,this,De,Fe).call(this,e,r,t)}catch(t){const[r,n]=y.unwrapError.call(void 0,t);throw n||await this.stopSnap(e,y.SnapStatusEvents.Crash),r}finally{u.__privateMethod.call(void 0,this,ze,We).call(this,e,i.id)}};return t.rpcHandler=s,s},Ne=new WeakSet,Re=async function(e,t){return this.messagingSystem.call("SnapInterfaceController:createInterface",e,t)},Le=new WeakSet,Ue=function(e,t){g.assert.call(void 0,this.messagingSystem.call("SnapInterfaceController:getInterface",e,t))},De=new WeakSet,Fe=async function(e,t,r){switch(t){case y.HandlerType.OnTransaction:case y.HandlerType.OnSignature:case y.HandlerType.OnHomePage:{const t=r;if(t&&g.hasProperty.call(void 0,t,"content")){const{content:r,...n}=t;return{...n,id:await u.__privateMethod.call(void 0,this,Ne,Re).call(this,e,r)}}return r}default:return r}},Ge=new WeakSet,He=async function(e,t,r){switch(t){case y.HandlerType.OnTransaction:g.assertStruct.call(void 0,r,y.OnTransactionResponseStruct),r&&g.hasProperty.call(void 0,r,"id")&&u.__privateMethod.call(void 0,this,Le,Ue).call(this,e,r.id);break;case y.HandlerType.OnSignature:g.assertStruct.call(void 0,r,y.OnSignatureResponseStruct),r&&g.hasProperty.call(void 0,r,"id")&&u.__privateMethod.call(void 0,this,Le,Ue).call(this,e,r.id);break;case y.HandlerType.OnHomePage:g.assertStruct.call(void 0,r,y.OnHomePageResponseStruct),r&&g.hasProperty.call(void 0,r,"id")&&u.__privateMethod.call(void 0,this,Le,Ue).call(this,e,r.id);break;case y.HandlerType.OnNameLookup:g.assertStruct.call(void 0,r,y.OnNameLookupResponseStruct)}},$e=new WeakSet,Ve=function(e,t,r){const n=u.__privateMethod.call(void 0,this,nt,it).call(this,e);n.pendingInboundRequests.push({requestId:t,timer:r}),n.lastRequest=null},ze=new WeakSet,We=function(e,t){const r=u.__privateMethod.call(void 0,this,nt,it).call(this,e);r.pendingInboundRequests=r.pendingInboundRequests.filter((e=>e.requestId!==t)),0===r.pendingInboundRequests.length&&(r.lastRequest=Date.now())},qe=new WeakSet,Ke=function(e){return u.__privateGet.call(void 0,this,U).get(e)},Ye=new WeakSet,Qe=function(e){g.assert.call(void 0,void 0===u.__privateGet.call(void 0,this,U).get(e),new Error(`Snap "${e}" rollback snapshot already exists.`)),u.__privateGet.call(void 0,this,U).set(e,{statePatches:[],permissions:{},newVersion:""});const t=u.__privateGet.call(void 0,this,U).get(e);return g.assert.call(void 0,void 0!==t,new Error(`Snapshot creation failed for ${e}.`)),t},Je=new WeakSet,Ze=async function(e){const t=u.__privateMethod.call(void 0,this,qe,Ke).call(this,e);if(!t)throw new Error("A snapshot does not exist for this snap.");await this.stopSnap(e,y.SnapStatusEvents.Stop),this.get(e)?.status!==y.SnapStatus.Stopped&&u.__privateMethod.call(void 0,this,ne,ie).call(this,e,y.SnapStatusEvents.Stop);const{statePatches:r,permissions:n}=t;r?.length&&this.applyPatches(r),this.get(e)?.status!==y.SnapStatus.Stopped&&this.update((t=>{t.snaps[e].status=y.SnapStatus.Stopped})),u.__privateMethod.call(void 0,this,ct,ut).call(this,{snapId:e,unusedPermissions:n.granted,newPermissions:n.revoked,requestData:n.requestData});const i=this.getTruncatedExpect(e);this.messagingSystem.publish("SnapController:snapRolledback",i,t.newVersion),u.__privateGet.call(void 0,this,U).delete(e)},Xe=new WeakSet,et=async function(e){for(const t of e)await u.__privateMethod.call(void 0,this,Je,Ze).call(this,t)},tt=new WeakSet,rt=function(e){return u.__privateGet.call(void 0,this,L).get(e)},nt=new WeakSet,it=function(e){const t=u.__privateMethod.call(void 0,this,tt,rt).call(this,e);return g.assert.call(void 0,void 0!==t,new Error(`Snap "${e}" runtime data not found`)),t},ot=new WeakSet,st=function(e){if(u.__privateGet.call(void 0,this,L).has(e))return;const t=this.get(e),r=v.interpret.call(void 0,u.__privateGet.call(void 0,this,F));r.start({context:{snapId:e},value:t?.status??u.__privateGet.call(void 0,this,F).config.initial}),s.forceStrict.call(void 0,r),u.__privateGet.call(void 0,this,L).set(e,{lastRequest:null,rpcHandler:null,installPromise:null,activeReferences:0,pendingInboundRequests:[],pendingOutboundRequests:0,interpreter:r})},at=new WeakSet,lt=function(e,t){const r=this.messagingSystem.call("PermissionController:getPermissions",e)??{},n=l.setDiff.call(void 0,t,r),i=l.setDiff.call(void 0,r,t);return{newPermissions:n,unusedPermissions:i,approvedPermissions:l.setDiff.call(void 0,r,i)}},ct=new WeakSet,ut=function({snapId:e,unusedPermissions:t={},newPermissions:r={},requestData:n}){const i=Object.keys(t);g.isNonEmptyArray.call(void 0,i)&&this.messagingSystem.call("PermissionController:revokePermissions",{[e]:i}),g.isNonEmptyArray.call(void 0,Object.keys(r))&&this.messagingSystem.call("PermissionController:grantPermissions",{approvedPermissions:r,subject:{origin:e},requestData:n})},dt=new WeakSet,pt=function(e,t){const r=this.getExpect(e);return!g.satisfiesVersionRange.call(void 0,r.version,t)&&!g.gtRange.call(void 0,r.version,t)},ht=new WeakSet,ft=async function(e,t){const r=f.handlerEndowments[t];g.assert.call(void 0,r,"Lifecycle hook must have an endowment.");this.messagingSystem.call("PermissionController:hasPermission",e,r)&&await this.handleRequest({snapId:e,handler:t,origin:"",request:{jsonrpc:"2.0",method:t}})},r.controllerName=T,r.SNAP_APPROVAL_INSTALL=w,r.SNAP_APPROVAL_UPDATE=_,r.SNAP_APPROVAL_RESULT=S,r.SnapController=mt}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-APQVOL5T.js"}],[1753,{"@metamask/utils":1982,"@xstate/fsm":2254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils"),i=e("@xstate/fsm");r.validateMachine=function(e){n.assert.call(void 0,"_options"in e,"The machine is not an @xstate/fsm machine");const t=e,r=new Set,i=e=>{return(t=e,Array.isArray(t)?t:null==t?[]:[t]).flatMap((e=>"string"==typeof e?[e]:(n.assert.call(void 0,"function"==typeof e),[]))).forEach(r.add.bind(r));var t};for(const e of Object.values(t.config.states)){i(e.entry),i(e.exit);for(const t of Object.values(e.on??{}))i(t.actions)}r.forEach((e=>n.assert.call(void 0,void 0!==t._options.actions&&e in t._options.actions,`Action "${e}" doesn't have an implementation`)))},r.forceStrict=function(e){let t=!1;e.subscribe((e=>{n.assert.call(void 0,!t||e.changed,"Invalid state transition"),t=!0}));const r=e.send.bind(e);e.send=(...t)=>(n.assert.call(void 0,e.status===i.InterpreterStatus.Running,"Interpreter is stopped"),r(...t))}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-BO2ZDPWV.js"}],[1754,{"./chunk-EXN2TFDJ.js":1756,"@metamask/base-controller":1783,"@metamask/snaps-registry":1813,"@metamask/snaps-utils":1898,"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a,l,c,u,d,p,h,f,m,y,g,v,b,T,w,_,S,E,k,O,P,A,x=e("./chunk-EXN2TFDJ.js"),C=e("@metamask/base-controller"),I=e("@metamask/snaps-registry"),j=e("@metamask/snaps-utils"),B=e("@metamask/utils"),M={database:null,lastUpdated:null,databaseUnavailable:!1},N=class extends C.BaseController{constructor({messenger:e,state:t,url:r={registry:"https://acl.execution.metamask.io/latest/registry.json",signature:"https://acl.execution.metamask.io/latest/signature.json"},publicKey:u="0x025b65308f0f0fb8bc7f7ff87bfc296e0330eee5d3c1d1ee4a048b2fd6a86fa0a6",fetchFunction:f=globalThis.fetch.bind(globalThis),recentFetchThreshold:y=B.inMilliseconds.call(void 0,5,B.Duration.Minute),refetchOnAllowlistMiss:v=!0}){super({messenger:e,metadata:{database:{persist:!0,anonymous:!1},lastUpdated:{persist:!0,anonymous:!1},databaseUnavailable:{persist:!0,anonymous:!1}},name:"SnapsRegistry",state:{...M,...t}}),x.__privateAdd.call(void 0,this,c),x.__privateAdd.call(void 0,this,d),x.__privateAdd.call(void 0,this,h),x.__privateAdd.call(void 0,this,m),x.__privateAdd.call(void 0,this,g),x.__privateAdd.call(void 0,this,b),x.__privateAdd.call(void 0,this,w),x.__privateAdd.call(void 0,this,S),x.__privateAdd.call(void 0,this,k),x.__privateAdd.call(void 0,this,P),x.__privateAdd.call(void 0,this,n,void 0),x.__privateAdd.call(void 0,this,i,void 0),x.__privateAdd.call(void 0,this,o,void 0),x.__privateAdd.call(void 0,this,s,void 0),x.__privateAdd.call(void 0,this,a,void 0),x.__privateAdd.call(void 0,this,l,void 0),x.__privateSet.call(void 0,this,n,r),x.__privateSet.call(void 0,this,i,u),x.__privateSet.call(void 0,this,o,f),x.__privateSet.call(void 0,this,s,y),x.__privateSet.call(void 0,this,a,v),x.__privateSet.call(void 0,this,l,null),this.messagingSystem.registerActionHandler("SnapsRegistry:get",(async(...e)=>x.__privateMethod.call(void 0,this,b,T).call(this,...e))),this.messagingSystem.registerActionHandler("SnapsRegistry:getMetadata",(async(...e)=>x.__privateMethod.call(void 0,this,S,E).call(this,...e))),this.messagingSystem.registerActionHandler("SnapsRegistry:resolveVersion",(async(...e)=>x.__privateMethod.call(void 0,this,w,_).call(this,...e))),this.messagingSystem.registerActionHandler("SnapsRegistry:update",(async()=>x.__privateMethod.call(void 0,this,d,p).call(this)))}};n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakSet,u=function(){return this.state.lastUpdated&&Date.now()-this.state.lastUpdated<x.__privateGet.call(void 0,this,s)},d=new WeakSet,p=async function(){x.__privateGet.call(void 0,this,l)?await x.__privateGet.call(void 0,this,l):(null===x.__privateGet.call(void 0,this,l)&&x.__privateSet.call(void 0,this,l,x.__privateMethod.call(void 0,this,h,f).call(this)),await x.__privateGet.call(void 0,this,l),x.__privateSet.call(void 0,this,l,null))},h=new WeakSet,f=async function(){if(!x.__privateMethod.call(void 0,this,c,u).call(this))try{const e=await x.__privateMethod.call(void 0,this,P,A).call(this,x.__privateGet.call(void 0,this,n).registry),t=await x.__privateMethod.call(void 0,this,P,A).call(this,x.__privateGet.call(void 0,this,n).signature);x.__privateMethod.call(void 0,this,k,O).call(this,e,t),this.update((t=>{t.database=JSON.parse(e),t.lastUpdated=Date.now(),t.databaseUnavailable=!1}))}catch{this.update((e=>{e.databaseUnavailable=!0}))}},m=new WeakSet,y=async function(){return null===this.state.database&&await x.__privateMethod.call(void 0,this,d,p).call(this),this.state.database},g=new WeakSet,v=async function(e,t,r=!1){const n=await x.__privateMethod.call(void 0,this,m,y).call(this),i=n?.blockedSnaps.find((r=>"id"in r?r.id===e&&B.satisfiesVersionRange.call(void 0,t.version,r.versionRange):r.checksum===t.checksum));if(i)return{status:1,reason:i.reason};const o=n?.verifiedSnaps[e],s=o?.versions?.[t.version];return s&&s.checksum===t.checksum?{status:2}:x.__privateGet.call(void 0,this,a)&&!r?(await x.__privateMethod.call(void 0,this,d,p).call(this),x.__privateMethod.call(void 0,this,g,v).call(this,e,t,!0)):{status:this.state.databaseUnavailable?3:0}},b=new WeakSet,T=async function(e){return Object.entries(e).reduce((async(e,[t,r])=>{const n=await x.__privateMethod.call(void 0,this,g,v).call(this,t,r),i=await e;return i[t]=n,i}),Promise.resolve({}))},w=new WeakSet,_=async function(e,t,r=!1){const n=await x.__privateMethod.call(void 0,this,m,y).call(this),i=n?.verifiedSnaps[e]?.versions??null;if(!i&&x.__privateGet.call(void 0,this,a)&&!r)return await x.__privateMethod.call(void 0,this,d,p).call(this),x.__privateMethod.call(void 0,this,w,_).call(this,e,t,!0);if(!i)return t;const o=j.getTargetVersion.call(void 0,Object.keys(i),t);return o||!x.__privateGet.call(void 0,this,a)||r?o?(B.assertIsSemVerRange.call(void 0,o),o):t:(await x.__privateMethod.call(void 0,this,d,p).call(this),x.__privateMethod.call(void 0,this,w,_).call(this,e,t,!0))},S=new WeakSet,E=async function(e){const t=await x.__privateMethod.call(void 0,this,m,y).call(this);return t?.verifiedSnaps[e]?.metadata??null},k=new WeakSet,O=function(e,t){B.assert.call(void 0,x.__privateGet.call(void 0,this,i),"No public key provided.");const r=I.verify.call(void 0,{registry:e,signature:JSON.parse(t),publicKey:x.__privateGet.call(void 0,this,i)});B.assert.call(void 0,r,"Invalid registry signature.")},P=new WeakSet,A=async function(e){const t=await x.__privateGet.call(void 0,this,o).call(this,e);if(!t.ok)throw new Error(`Failed to fetch ${e}.`);return await t.text()},r.JsonSnapsRegistry=N}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-CPUUURMT.js"}],[1755,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-D74XJG2L.js"}],[1756,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(t=>void 0!==e?e:"undefined"!=typeof Proxy?new Proxy(t,{get:(t,r)=>(void 0!==e?e:t)[r]}):t)((function(t){if(void 0!==e)return e.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')})),i=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};r.__require=n,r.__privateGet=(e,t,r)=>(i(e,t,"read from private field"),r?r.call(e):t.get(e)),r.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},r.__privateSet=(e,t,r,n)=>(i(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),r.__privateMethod=(e,t,r)=>(i(e,t,"access private method"),r)}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-EXN2TFDJ.js"}],[1757,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-G66GQJS6.js"}],[1758,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-HOY6NKQR.js"}],[1759,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-JAUAKTUL.js"}],[176,{lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e("lodash");r.default={version:80,async migrate(e){const t=(0,n.cloneDeep)(e);t.meta.version=80;const r=function(e){var t;(null==e||null===(t=e.metamask)||void 0===t?void 0:t.showPortfolioTooltip)!==undefined&&delete e.metamask.showPortfolioTooltip;return e}(t.data);return t.data=r,t}}}}},{package:"$root$",file:"app/scripts/migrations/080.js"}],[1760,{"@metamask/snaps-sdk":1862},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/snaps-sdk"),i=(e,t)=>t.value??e[t.name]??null,o=(e,t,r)=>{const n=e[r],i=n?.[t.name];return t.value??i??null},s=(e,t)=>{n.assert.call(void 0,void 0===e[t],`Duplicate component names are not allowed, found multiple instances of: "${t}".`)},a=(e,t,r={})=>{const{type:l}=t;return l===n.NodeType.Panel?t.children.reduce(((t,r)=>a(e,r,t)),r):(l===n.NodeType.Form&&(s(r,t.name),r[t.name]=t.children.reduce(((r,i)=>(i.type===n.NodeType.Input&&(s(r,i.name),r[i.name]=o(e,i,t.name)),r)),{})),l===n.NodeType.Input&&(s(r,t.name),r[t.name]=i(e,t)),r)};r.constructInputState=i,r.constructFormInputState=o,r.assertNameIsUnique=s,r.constructState=a}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-KLK7ZRMH.js"}],[1761,{"./chunk-EXN2TFDJ.js":1756,"./chunk-RDBT3ZJQ.js":1769,"@metamask/snaps-utils":1898,"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./chunk-RDBT3ZJQ.js"),o=e("./chunk-EXN2TFDJ.js"),s=e("@metamask/snaps-utils"),a=e("@metamask/utils");function l(e){return a.assert.call(void 0,void 0!==e.data.canonicalPath),e.data.canonicalPath=`local:${e.data.canonicalPath}`,e}n=new WeakMap,r.LocalLocation=class{constructor(e,t={}){o.__privateAdd.call(void 0,this,n,void 0),a.assertStruct.call(void 0,e.toString(),s.LocalSnapIdStruct,"Invalid Snap Id"),a.assert.call(void 0,void 0===t.fetchOptions,"Currently adding fetch options to local: is unsupported."),o.__privateSet.call(void 0,this,n,new(0,i.HttpLocation)(new URL(e.toString().slice(s.SnapIdPrefixes.local.length)),{...t,fetchOptions:{cache:"no-cache"}}))}async manifest(){return l(await o.__privateGet.call(void 0,this,n).manifest())}async fetch(e){return l(await o.__privateGet.call(void 0,this,n).fetch(e))}get shouldAlwaysReload(){return!0}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-LWBPKSU2.js"}],[1762,{"./chunk-EXN2TFDJ.js":1756,"./chunk-NOLPMHXS.js":1763,"./chunk-YYPUPKQY.js":1775,"@metamask/base-controller":1783,"@metamask/snaps-rpc-methods":1861,"@metamask/snaps-utils":1898,"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a=e("./chunk-YYPUPKQY.js"),l=e("./chunk-NOLPMHXS.js"),c=e("./chunk-EXN2TFDJ.js"),u=e("@metamask/base-controller"),d=e("@metamask/snaps-rpc-methods"),p=e("@metamask/snaps-utils"),h=e("@metamask/utils"),f=h.inMilliseconds.call(void 0,24,h.Duration.Hour),m=class extends u.BaseController{constructor({messenger:e,state:t}){super({messenger:e,metadata:{jobs:{persist:!0,anonymous:!1}},name:"CronjobController",state:{jobs:{},...t}}),c.__privateAdd.call(void 0,this,n,void 0),c.__privateAdd.call(void 0,this,i,void 0),c.__privateAdd.call(void 0,this,o,void 0),c.__privateAdd.call(void 0,this,s,void 0),c.__privateSet.call(void 0,this,o,new Map),c.__privateSet.call(void 0,this,s,new Map),c.__privateSet.call(void 0,this,n,e),this._handleSnapRegisterEvent=this._handleSnapRegisterEvent.bind(this),this._handleSnapUnregisterEvent=this._handleSnapUnregisterEvent.bind(this),this._handleEventSnapUpdated=this._handleEventSnapUpdated.bind(this),this.messagingSystem.subscribe("SnapController:snapInstalled",this._handleSnapRegisterEvent),this.messagingSystem.subscribe("SnapController:snapUninstalled",this._handleSnapUnregisterEvent),this.messagingSystem.subscribe("SnapController:snapEnabled",this._handleSnapRegisterEvent),this.messagingSystem.subscribe("SnapController:snapDisabled",this._handleSnapUnregisterEvent),this.messagingSystem.subscribe("SnapController:snapUpdated",this._handleEventSnapUpdated),this.dailyCheckIn().catch((e=>{p.logError.call(void 0,e)}))}getAllJobs(){const e=this.messagingSystem.call("SnapController:getAll");return a.getRunnableSnaps.call(void 0,e).map((e=>this.getSnapJobs(e.id))).flat().filter((e=>void 0!==e))}getSnapJobs(e){const t=c.__privateGet.call(void 0,this,n).call("PermissionController:getPermissions",e),r=t?.[d.SnapEndowments.Cronjob],i=d.getCronjobCaveatJobs.call(void 0,r);return i?.map(((t,r)=>({...t,id:`${e}-${r}`,snapId:e})))}register(e){const t=this.getSnapJobs(e);t?.forEach((e=>this.schedule(e)))}schedule(e){if(c.__privateGet.call(void 0,this,o).has(e.id))return;const t=p.parseCronExpression.call(void 0,e.expression).next(),r=new Date,n=t.getTime()-r.getTime();if(n>f)return;const i=new(0,l.Timer)(n);i.start((()=>{this.executeCronjob(e).catch((e=>{p.logError.call(void 0,e)})),c.__privateGet.call(void 0,this,o).delete(e.id),this.schedule(e)})),this.state.jobs[e.id]?.lastRun||this.updateJobLastRunState(e.id,0),c.__privateGet.call(void 0,this,o).set(e.id,i),c.__privateGet.call(void 0,this,s).set(e.id,e.snapId)}async executeCronjob(e){this.updateJobLastRunState(e.id,Date.now()),await c.__privateGet.call(void 0,this,n).call("SnapController:handleRequest",{snapId:e.snapId,origin:"",handler:p.HandlerType.OnCronjob,request:e.request})}unregister(e){const t=[...c.__privateGet.call(void 0,this,s).entries()].filter((([t,r])=>r===e));t.length&&t.forEach((([e])=>{const t=c.__privateGet.call(void 0,this,o).get(e);t&&(t.cancel(),c.__privateGet.call(void 0,this,o).delete(e),c.__privateGet.call(void 0,this,s).delete(e))}))}updateJobLastRunState(e,t){this.update((r=>{r.jobs[e]={lastRun:t}}))}async dailyCheckIn(){const e=this.getAllJobs();for(const t of e){const e=p.parseCronExpression.call(void 0,t.expression),r=this.state.jobs[t.id]?.lastRun;void 0!==r&&e.hasPrev()&&e.prev().getTime()>r&&await this.executeCronjob(t),this.schedule(t)}c.__privateSet.call(void 0,this,i,new(0,l.Timer)(f)),c.__privateGet.call(void 0,this,i).start((()=>{this.dailyCheckIn().catch((e=>{p.logError.call(void 0,e)}))}))}destroy(){super.destroy(),this.messagingSystem.unsubscribe("SnapController:snapInstalled",this._handleSnapRegisterEvent),this.messagingSystem.unsubscribe("SnapController:snapUninstalled",this._handleSnapUnregisterEvent),this.messagingSystem.unsubscribe("SnapController:snapEnabled",this._handleSnapRegisterEvent),this.messagingSystem.unsubscribe("SnapController:snapDisabled",this._handleSnapUnregisterEvent),this.messagingSystem.unsubscribe("SnapController:snapUpdated",this._handleEventSnapUpdated),c.__privateGet.call(void 0,this,s).forEach((e=>{this.unregister(e)}))}_handleSnapRegisterEvent(e){this.register(e.id)}_handleSnapUnregisterEvent(e){this.unregister(e.id)}_handleEventSnapUpdated(e){this.unregister(e.id),this.register(e.id)}};n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,r.DAILY_TIMEOUT=f,r.CronjobController=m}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-MYWDTEX2.js"}],[1763,{"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils");r.Timer=class{constructor(e){n.assert.call(void 0,!Number.isNaN(e),new TypeError("Can't start a timer with NaN time")),n.assert.call(void 0,e>=0,new TypeError("Can't start a timer with negative time")),this.state={value:"stopped",remaining:e}}get status(){return this.state.value}cancel(){n.assert.call(void 0,"paused"===this.status||"running"===this.status,new Error("Tried to cancel a not running Timer")),this.onFinish(!1)}pause(){n.assert.call(void 0,"running"===this.state.value,new Error("Tried to pause a not running Timer"));const{callback:e,start:t,timeout:r,remaining:i}=this.state;void 0!==r&&clearTimeout(r),this.state={value:"paused",callback:e,remaining:i-(Date.now()-t)}}start(e){n.assert.call(void 0,"stopped"===this.state.value,new Error("Tried to start an already running Timer"));const{remaining:t}=this.state;this.state={value:"paused",remaining:t,callback:e},this.resume()}resume(){n.assert.call(void 0,"paused"===this.state.value,new Error("Tried to resume not paused Timer"));const{remaining:e,callback:t}=this.state,r=Date.now();let i;e!==Number.POSITIVE_INFINITY&&(i=setTimeout((()=>this.onFinish(!0)),e)),this.state={value:"running",callback:t,remaining:e,start:r,timeout:i}}onFinish(e){n.assert.call(void 0,"running"===this.state.value||"paused"===this.state.value),"running"===this.state.value&&void 0!==this.state.timeout&&clearTimeout(this.state.timeout);const{callback:t}=this.state;this.state={value:"finished"},e&&t()}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-NOLPMHXS.js"}],[1764,{"./chunk-54TYYPAN.js":1747,"./chunk-7Y6P5FRN.js":1750,"./chunk-EXN2TFDJ.js":1756,nanoid:1796},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./chunk-54TYYPAN.js"),o=e("./chunk-7Y6P5FRN.js"),s=e("./chunk-EXN2TFDJ.js"),a=e("nanoid"),l=class extends i.AbstractExecutionService{constructor({stream:e,messenger:t,setupSnapProvider:r}){super({messenger:t,setupSnapProvider:r}),s.__privateAdd.call(void 0,this,n,void 0),s.__privateSet.call(void 0,this,n,e)}async terminateJob(e){s.__privateGet.call(void 0,this,n).write({jobId:e.id,data:{jsonrpc:"2.0",method:"terminateJob",id:a.nanoid.call(void 0)}})}async initEnvStream(e){return{worker:e,stream:new(0,o.ProxyPostMessageStream)({stream:s.__privateGet.call(void 0,this,n),jobId:e})}}};n=new WeakMap,r.ProxyExecutionService=l}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-NSLYI2LS.js"}],[1765,{"@metamask/snaps-utils":1898,"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/snaps-utils"),i=e("@metamask/utils").createModuleLogger.call(void 0,n.snapsLogger,"snaps-controllers");r.log=i}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-NXZVKBSV.js"}],[1766,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-OHMCPTOI.js"}],[1767,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-OIEUL55W.js"}],[1768,{"./chunk-EXN2TFDJ.js":1756,"./chunk-KLK7ZRMH.js":1760,"@metamask/base-controller":1783,"@metamask/snaps-utils":1898,"@metamask/utils":1982,nanoid:1796},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a,l,c,u,d,p,h=e("./chunk-KLK7ZRMH.js"),f=e("./chunk-EXN2TFDJ.js"),m=e("@metamask/base-controller"),y=e("@metamask/snaps-utils"),g=e("@metamask/utils"),v=e("nanoid"),b=25e4,T="SnapInterfaceController",w=class extends m.BaseController{constructor({messenger:e,state:t}){super({messenger:e,metadata:{interfaces:{persist:!1,anonymous:!1}},name:T,state:{interfaces:{},...t}}),f.__privateAdd.call(void 0,this,n),f.__privateAdd.call(void 0,this,o),f.__privateAdd.call(void 0,this,a),f.__privateAdd.call(void 0,this,c),f.__privateAdd.call(void 0,this,d),f.__privateMethod.call(void 0,this,n,i).call(this)}async createInterface(e,t){await f.__privateMethod.call(void 0,this,d,p).call(this,t);const r=v.nanoid.call(void 0),n=h.constructState.call(void 0,{},t);return this.update((i=>{i.interfaces[r]={snapId:e,content:t,state:n}})),r}getInterface(e,t){return f.__privateMethod.call(void 0,this,o,s).call(this,e,t),this.state.interfaces[t]}async updateInterface(e,t,r){f.__privateMethod.call(void 0,this,o,s).call(this,e,t),await f.__privateMethod.call(void 0,this,d,p).call(this,r);const n=this.state.interfaces[t].state,i=h.constructState.call(void 0,n,r);this.update((e=>{e.interfaces[t].state=i,e.interfaces[t].content=r}))}deleteInterface(e){this.update((t=>{delete t.interfaces[e]}))}updateInterfaceState(e,t){this.update((r=>{r.interfaces[e].state=t}))}};n=new WeakSet,i=function(){this.messagingSystem.registerActionHandler(`${T}:createInterface`,this.createInterface.bind(this)),this.messagingSystem.registerActionHandler(`${T}:getInterface`,this.getInterface.bind(this)),this.messagingSystem.registerActionHandler(`${T}:updateInterface`,this.updateInterface.bind(this)),this.messagingSystem.registerActionHandler(`${T}:deleteInterface`,this.deleteInterface.bind(this)),this.messagingSystem.registerActionHandler(`${T}:updateInterfaceState`,this.updateInterfaceState.bind(this))},o=new WeakSet,s=function(e,t){const r=this.state.interfaces[t];g.assert.call(void 0,void 0!==r,`Interface with id '${t}' not found.`),g.assert.call(void 0,r.snapId===e,`Interface not created by ${e}.`)},a=new WeakSet,l=async function(){await this.messagingSystem.call("PhishingController:maybeUpdateState")},c=new WeakSet,u=function(e){return this.messagingSystem.call("PhishingController:testOrigin",e).result},d=new WeakSet,p=async function(e){const t=g.getJsonSize.call(void 0,e);g.assert.call(void 0,t<=b,"A Snap UI may not be larger than 250 kB.");const r=y.getTotalTextLength.call(void 0,e);g.assert.call(void 0,r<=5e4,"The text in a Snap UI may not be larger than 50 kB."),await f.__privateMethod.call(void 0,this,a,l).call(this),y.validateComponentLinks.call(void 0,e,f.__privateMethod.call(void 0,this,c,u).bind(this))},r.SnapInterfaceController=w}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-Q2ON6SMV.js"}],[1769,{"@metamask/snaps-utils":1898,"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/snaps-utils"),i=e("@metamask/utils");r.HttpLocation=class{constructor(e,t={}){this.cache=new Map,i.assertStruct.call(void 0,e.toString(),n.HttpSnapIdStruct,"Invalid Snap Id: "),this.fetchFn=t.fetch??globalThis.fetch.bind(globalThis),this.fetchOptions=t.fetchOptions,this.url=e}async manifest(){if(this.validatedManifest)return this.validatedManifest.clone();const e=new URL(n.NpmSnapFileNames.Manifest,this.url).toString(),t=await this.fetchFn(e,this.fetchOptions);if(!t.ok)throw new Error(`Failed to fetch "${e}". Status code: ${t.status}.`);const r=await t.text(),i=n.parseJson.call(void 0,r),o=new(0,n.VirtualFile)({value:r,result:n.createSnapManifest.call(void 0,i),path:n.NpmSnapFileNames.Manifest,data:{canonicalPath:e}});return this.validatedManifest=o,this.manifest()}async fetch(e){const t=n.normalizeRelative.call(void 0,e),r=this.cache.get(t);if(void 0!==r){const{file:e,contents:t}=r,n=new Uint8Array(await t.arrayBuffer()),i=e.clone();return i.value=n,i}const o=this.toCanonical(t).toString(),s=await this.fetchFn(o,this.fetchOptions);if(!s.ok)throw new Error(`Failed to fetch "${o}". Status code: ${s.status}.`);const a=new(0,n.VirtualFile)({value:"",path:t,data:{canonicalPath:o}}),l=await s.blob();return i.assert.call(void 0,!this.cache.has(t),"Corrupted cache, multiple files with same path."),this.cache.set(t,{file:a,contents:l}),this.fetch(t)}get root(){return new URL(this.url)}toCanonical(e){return i.assert.call(void 0,!e.startsWith("/"),"Tried to parse absolute path."),new URL(e,this.url)}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-RDBT3ZJQ.js"}],[177,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);t.meta.version=o;const r=function(e){if(!(0,i.hasProperty)(e,"SnapController")||!(0,i.hasProperty)(e,"PermissionController")||!(0,i.isObject)(e.PermissionController))return e;const{PermissionController:t}=e,{subjects:r}=t;if(!(0,i.isObject)(r))return e;const o="wallet_snap_";for(const[t,s]of Object.entries(r)){if(!(0,i.isObject)(s)||!(0,i.isObject)(s.permissions))return e;let r,a=1;const{permissions:l}=s,c={...l};for(const[s,u]of Object.entries(l))if(s.startsWith(o)){if(!(0,i.isObject)(u)||!(0,i.hasProperty)(u,"id")||!(0,i.hasProperty)(u,"date"))return e;if((0,i.hasProperty)(c,"wallet_snap")||(c.wallet_snap={caveats:[{type:"snapIds",value:{}}],invoker:t,parentCapability:"wallet_snap"}),!(0,i.isObject)(c.wallet_snap))return e;if(!(0,n.isArray)(c.wallet_snap.caveats))return e;const l=s.slice(o.length),d=c.wallet_snap.caveats[0];if(!(0,i.isObject)(d))return e;if(!(0,i.hasProperty)(d,"type")||"snapIds"!==d.type||!(0,i.hasProperty)(d,"value")||!(0,i.isObject)(d.value))return e;if(d.value[l]={},"number"!=typeof u.date||"string"!=typeof u.id)return e;u.date>a&&(a=u.date,r=u.id),delete c[s]}c.wallet_snap&&(c.wallet_snap.date=a,c.wallet_snap.id=r,s.permissions=c)}return e}(t.data);return t.data=r,t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=r.version=81}}},{package:"$root$",file:"app/scripts/migrations/081.ts"}],[1770,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-VNOCJWOK.js"}],[1771,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-WEY7ICES.js"}],[1772,{"./chunk-EXN2TFDJ.js":1756,"./chunk-NSLYI2LS.js":1764,"@metamask/post-message-stream":1505},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o=e("./chunk-NSLYI2LS.js"),s=e("./chunk-EXN2TFDJ.js"),a=e("@metamask/post-message-stream"),l=class extends o.ProxyExecutionService{constructor({documentUrl:e,messenger:t,setupSnapProvider:r}){super({messenger:t,setupSnapProvider:r,stream:new(0,a.BrowserRuntimePostMessageStream)({name:"parent",target:"child"})}),s.__privateAdd.call(void 0,this,n),this.documentUrl=e}async initEnvStream(e){return await s.__privateMethod.call(void 0,this,n,i).call(this),super.initEnvStream(e)}};n=new WeakSet,i=async function(){await chrome.offscreen.hasDocument()||await chrome.offscreen.createDocument({justification:"MetaMask Snaps Execution Environment",reasons:["IFRAME_SCRIPTING"],url:this.documentUrl.toString()})},r.OffscreenExecutionService=l}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-WQYMF7QP.js"}],[1773,{"./chunk-NOLPMHXS.js":1763,"@metamask/snaps-sdk":1862,"@metamask/snaps-utils":1898},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-NOLPMHXS.js"),i=e("@metamask/snaps-sdk"),o=e("@metamask/snaps-utils");function s(e,t){let r;const n=new Promise(((n,i)=>{e.start((()=>{void 0===t?n():n(t)})),r=i}));return n.cancel=()=>{"finished"!==e.status&&(e.cancel(),r(new Error("The delay has been canceled.")))},n}var a=Symbol("Used to check if the requested promise has timeout (see withTimeout)");async function l(e,t){return t&&0!==t.length?await Promise.all(t.map((async t=>e.fetch(t)))):[]}r.setDiff=function(e,t){return Object.entries(e).reduce(((e,[r,n])=>(r in t||(e[r]=n),e)),{})},r.delay=function(e,t){return s(new(0,n.Timer)(e),t)},r.delayWithTimer=s,r.hasTimedOut=a,r.withTimeout=async function(e,t){const r=s("number"==typeof t?new(0,n.Timer)(t):t,a);try{return await Promise.race([e,r])}finally{r.cancel()}},r.getSnapFiles=l,r.fetchSnap=async function(e,t){try{const e=await t.manifest(),r=await t.fetch(e.result.source.location.npm.filePath),{iconPath:n}=e.result.source.location.npm,i=n?await t.fetch(n):void 0,s=await l(t,e.result.source.files);await Promise.all(s.map((async e=>{e.data.base64=await o.encodeBase64.call(void 0,e)})));const a=await l(t,e.result.source.locales),c={manifest:e,sourceCode:r,svgIcon:i,auxiliaryFiles:s,localizationFiles:o.getValidatedLocalizationFiles.call(void 0,a)};return await o.validateFetchedSnap.call(void 0,c),c}catch(t){throw new Error(`Failed to fetch snap "${e}": ${i.getErrorMessage.call(void 0,t)}.`)}}}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-XE5IWVNV.js"}],[1774,{"./chunk-EXN2TFDJ.js":1756,"@metamask/snaps-utils":1898,"@metamask/utils":1982,"browserify-zlib":2628,"concat-stream":1795,"get-npm-tarball-url":3014,"readable-stream":1812,"readable-web-to-node-stream":3859,"tar-stream":4006},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i,o,s,a,l=e("./chunk-EXN2TFDJ.js"),c=e("@metamask/snaps-utils"),u=e("@metamask/utils"),d=e("browserify-zlib"),p=n(e("concat-stream")),h=n(e("get-npm-tarball-url")),f=e("readable-stream"),m=e("readable-web-to-node-stream"),y=e("tar-stream"),g=new URL("https://registry.npmjs.org"),v=class{constructor(e,t={}){l.__privateAdd.call(void 0,this,s),l.__privateAdd.call(void 0,this,i,void 0),l.__privateAdd.call(void 0,this,o,void 0);const r=t.allowCustomRegistries??!1,n=t.fetch??globalThis.fetch.bind(globalThis),a=t.versionRange??c.DEFAULT_REQUESTED_SNAP_VERSION,d=t.resolveVersion??(async e=>e);let p;u.assertStruct.call(void 0,e.toString(),c.NpmSnapIdStruct,"Invalid Snap Id: "),""===e.host&&""===e.port&&""===e.username&&""===e.password?p=g:(p="https://",e.username&&(p+=e.username,e.password&&(p+=`:${e.password}`),p+="@"),p+=e.host,p=new URL(p),u.assert.call(void 0,r,new TypeError(`Custom NPM registries are disabled, tried to use "${p.toString()}".`))),u.assert.call(void 0,"/"===p.pathname&&""===p.search&&""===p.hash),u.assert.call(void 0,""!==e.pathname&&"/"!==e.pathname,new TypeError("The package name in NPM location is empty."));let h=e.pathname;h.startsWith("/")&&(h=h.slice(1)),this.meta={requestedRange:a,registry:p,packageName:h,fetch:n,resolveVersion:d}}async manifest(){if(l.__privateGet.call(void 0,this,i))return l.__privateGet.call(void 0,this,i).clone();const e=await this.fetch("snap.manifest.json"),t=c.parseJson.call(void 0,e.toString());return e.result=c.createSnapManifest.call(void 0,t),l.__privateSet.call(void 0,this,i,e),this.manifest()}async fetch(e){const t=c.normalizeRelative.call(void 0,e);l.__privateGet.call(void 0,this,o)||(await l.__privateMethod.call(void 0,this,s,a).call(this),u.assert.call(void 0,void 0!==l.__privateGet.call(void 0,this,o)));const r=l.__privateGet.call(void 0,this,o).get(t);return u.assert.call(void 0,void 0!==r,new TypeError(`File "${e}" not found in package.`)),r.clone()}get packageName(){return this.meta.packageName}get version(){return u.assert.call(void 0,void 0!==this.meta.version,"Tried to access version without first fetching NPM package."),this.meta.version}get registry(){return this.meta.registry}get versionRange(){return this.meta.requestedRange}};i=new WeakMap,o=new WeakMap,s=new WeakSet,a=async function(){u.assert.call(void 0,void 0===l.__privateGet.call(void 0,this,o));const e=await this.meta.resolveVersion(this.meta.requestedRange),{tarballURL:t,targetVersion:r}=await async function(e,t,r,n){if(_(r)&&u.isValidSemVerVersion.call(void 0,t))return{tarballURL:h.default.call(void 0,e,t),targetVersion:t};const i=await T(e,r,n),o=Object.keys(i?.versions??{}).map((e=>(u.assertIsSemVerVersion.call(void 0,e),e))),s=c.getTargetVersion.call(void 0,o,t);if(null===s)throw new Error(`Failed to find a matching version in npm metadata for package "${e}" and requested semver range "${t}".`);const a=i?.versions?.[s]?.dist?.tarball;return{tarballURL:a,targetVersion:s}}(this.meta.packageName,e,this.meta.registry,this.meta.fetch);if(!c.isValidUrl.call(void 0,t)||!t.toString().endsWith(".tgz"))throw new Error(`Failed to find valid tarball URL in NPM metadata for package "${this.meta.packageName}".`);const n=new URL(t);n.hostname=this.meta.registry.hostname,n.protocol=this.meta.registry.protocol;const i=await this.fetchNpmTarball(n);l.__privateSet.call(void 0,this,o,i),this.meta.version=r};var b=262144e3;async function T(e,t,r){const n=await r(new URL(e,t).toString(),{headers:{accept:_(t)?"application/vnd.npm.install-v1+json; q=1.0, application/json; q=0.8, */*":"application/json"}});if(!n.ok)throw new Error(`Failed to fetch NPM registry entry. Status code: ${n.status}.`);const i=await n.json();if(!u.isObject.call(void 0,i))throw new Error(`Failed to fetch package "${e}" metadata from npm.`);return i}function w(e,t){let r="npm://";return""!==e.username&&(r+=e.username,""!==e.password&&(r+=`:${e.password}`),r+="@"),`${r}${e.host}/${t}/`}function _(e){return e.toString()===g.toString()}var S=/^package\//u;function E(e){return"function"!=typeof e.getReader?e:new(0,m.ReadableWebToNodeStream)(e)}r.DEFAULT_NPM_REGISTRY=g,r.BaseNpmLocation=v,r.TARBALL_SIZE_SAFETY_LIMIT=b,r.NpmLocation=class extends v{async fetchNpmTarball(e){const t=await this.meta.fetch(e.toString());if(!t.ok||!t.body)throw new Error(`Failed to fetch tarball for package "${this.meta.packageName}".`);const r=t.headers.get("content-length");u.assert.call(void 0,r,"Snap tarball has invalid content-length");const n=parseInt(r,10);return u.assert.call(void 0,n<=b,"Snap tarball exceeds size limit"),new Promise(((e,r)=>{const n=new Map,i=function(e,t){u.assert.call(void 0,e.endsWith("/"),"Base needs to end with '/' for relative paths to be added as children instead of siblings."),u.assert.call(void 0,e.startsWith("npm:"),'Protocol mismatch, expected "npm:".');const r=y.extract.call(void 0);let n=0;return r.on("entry",((i,o,s)=>{const{name:a,type:l}=i;if("file"===l){const i=a.replace(S,"");return o.pipe(p.default.call(void 0,{encoding:"uint8array"},(o=>{try{n+=o.byteLength,u.assert.call(void 0,n<b,"Snap tarball exceeds limit of 262144000 bytes.");const r=new(0,c.VirtualFile)({value:o,path:i,data:{canonicalPath:new URL(i,e).toString()}});return u.assert.call(void 0,!t.has(i),"Malformed tarball, multiple files with the same path."),t.set(i,r),s()}catch(e){return r.destroy(e)}})))}return o.on("end",(()=>s())),o.resume()})),r}(w(this.meta.registry,this.meta.packageName),n),o=t.body;if("pipeThrough"in o&&"DecompressionStream"in globalThis){const t=new DecompressionStream("gzip"),s=o.pipeThrough(t);f.pipeline.call(void 0,E(s),i,(t=>{t?r(t):e(n)}))}else f.pipeline.call(void 0,E(o),d.createGunzip.call(void 0),i,(t=>{t?r(t):e(n)}))}))}},r.fetchNpmMetadata=T,r.getNpmCanonicalBasePath=w}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-XWDEGRM5.js"}],[1775,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});r.getRunnableSnaps=e=>e.filter((e=>e.enabled&&!e.blocked))}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-YYPUPKQY.js"}],[1776,{"./chunk-54TYYPAN.js":1747,"@metamask/post-message-stream":1505,"@metamask/snaps-utils":1898},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-54TYYPAN.js"),i=e("@metamask/post-message-stream"),o=e("@metamask/snaps-utils"),s=class extends n.AbstractExecutionService{constructor({iframeUrl:e,messenger:t,setupSnapProvider:r}){super({messenger:t,setupSnapProvider:r}),this.iframeUrl=e}terminateJob(e){document.getElementById(e.id)?.remove()}async initEnvStream(e){const t=await o.createWindow.call(void 0,this.iframeUrl.toString(),e);return{worker:t,stream:new(0,i.WindowPostMessageStream)({name:"parent",target:"child",targetWindow:t,targetOrigin:"*"})}}};r.IframeExecutionService=s}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/chunk-Z6SOB3SY.js"}],[1777,{"./chunk-3ZC4LB7T.js":1744,"./chunk-4CA3O64H.js":1745,"./chunk-4URGXJP7.js":1746,"./chunk-54TYYPAN.js":1747,"./chunk-5YBORD3A.js":1748,"./chunk-7WOG63YY.js":1749,"./chunk-7Y6P5FRN.js":1750,"./chunk-AP7CJ6DA.js":1751,"./chunk-APQVOL5T.js":1752,"./chunk-BO2ZDPWV.js":1753,"./chunk-CPUUURMT.js":1754,"./chunk-D74XJG2L.js":1755,"./chunk-EXN2TFDJ.js":1756,"./chunk-G66GQJS6.js":1757,"./chunk-HOY6NKQR.js":1758,"./chunk-JAUAKTUL.js":1759,"./chunk-KLK7ZRMH.js":1760,"./chunk-LWBPKSU2.js":1761,"./chunk-MYWDTEX2.js":1762,"./chunk-NOLPMHXS.js":1763,"./chunk-NSLYI2LS.js":1764,"./chunk-NXZVKBSV.js":1765,"./chunk-OHMCPTOI.js":1766,"./chunk-OIEUL55W.js":1767,"./chunk-Q2ON6SMV.js":1768,"./chunk-RDBT3ZJQ.js":1769,"./chunk-VNOCJWOK.js":1770,"./chunk-WEY7ICES.js":1771,"./chunk-WQYMF7QP.js":1772,"./chunk-XE5IWVNV.js":1773,"./chunk-XWDEGRM5.js":1774,"./chunk-YYPUPKQY.js":1775,"./chunk-Z6SOB3SY.js":1776},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-MYWDTEX2.js");e("./chunk-JAUAKTUL.js");var i=e("./chunk-APQVOL5T.js");e("./chunk-G66GQJS6.js");var o=e("./chunk-CPUUURMT.js"),s=e("./chunk-4CA3O64H.js");e("./chunk-WEY7ICES.js");var a=e("./chunk-7WOG63YY.js"),l=e("./chunk-XWDEGRM5.js"),c=e("./chunk-LWBPKSU2.js"),u=e("./chunk-RDBT3ZJQ.js");e("./chunk-AP7CJ6DA.js"),e("./chunk-5YBORD3A.js");var d=e("./chunk-YYPUPKQY.js");e("./chunk-VNOCJWOK.js");var p=e("./chunk-Q2ON6SMV.js");e("./chunk-KLK7ZRMH.js"),e("./chunk-4URGXJP7.js"),e("./chunk-D74XJG2L.js");var h=e("./chunk-3ZC4LB7T.js");e("./chunk-HOY6NKQR.js");var f=e("./chunk-Z6SOB3SY.js");e("./chunk-OHMCPTOI.js");var m=e("./chunk-WQYMF7QP.js");e("./chunk-NSLYI2LS.js");var y=e("./chunk-54TYYPAN.js");e("./chunk-OIEUL55W.js");var g=e("./chunk-7Y6P5FRN.js");e("./chunk-BO2ZDPWV.js"),e("./chunk-NXZVKBSV.js");var v=e("./chunk-XE5IWVNV.js");e("./chunk-NOLPMHXS.js"),e("./chunk-EXN2TFDJ.js"),r.AbstractExecutionService=y.AbstractExecutionService,r.BaseNpmLocation=l.BaseNpmLocation,r.CronjobController=n.CronjobController,r.DAILY_TIMEOUT=n.DAILY_TIMEOUT,r.DEFAULT_NPM_REGISTRY=l.DEFAULT_NPM_REGISTRY,r.HttpLocation=u.HttpLocation,r.IframeExecutionService=f.IframeExecutionService,r.JsonSnapsRegistry=o.JsonSnapsRegistry,r.LocalLocation=c.LocalLocation,r.NpmLocation=l.NpmLocation,r.OffscreenExecutionService=m.OffscreenExecutionService,r.ProxyPostMessageStream=g.ProxyPostMessageStream,r.SNAP_APPROVAL_INSTALL=i.SNAP_APPROVAL_INSTALL,r.SNAP_APPROVAL_RESULT=i.SNAP_APPROVAL_RESULT,r.SNAP_APPROVAL_UPDATE=i.SNAP_APPROVAL_UPDATE,r.SnapController=i.SnapController,r.SnapInterfaceController=p.SnapInterfaceController,r.SnapsRegistryStatus=s.SnapsRegistryStatus,r.TARBALL_SIZE_SAFETY_LIMIT=l.TARBALL_SIZE_SAFETY_LIMIT,r.WebWorkerExecutionService=h.WebWorkerExecutionService,r.controllerName=i.controllerName,r.delay=v.delay,r.delayWithTimer=v.delayWithTimer,r.detectSnapLocation=a.detectSnapLocation,r.fetchNpmMetadata=l.fetchNpmMetadata,r.fetchSnap=v.fetchSnap,r.getNpmCanonicalBasePath=l.getNpmCanonicalBasePath,r.getRunnableSnaps=d.getRunnableSnaps,r.getSnapFiles=v.getSnapFiles,r.hasTimedOut=v.hasTimedOut,r.setDiff=v.setDiff,r.setupMultiplex=y.setupMultiplex,r.withTimeout=v.withTimeout}}},{package:"@metamask/snaps-controllers",file:"node_modules/@metamask/snaps-controllers/dist/index.js"}],[1778,{"./chunk-Z4BLTVTB.js":1782,immer:3256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./chunk-Z4BLTVTB.js"),o=e("immer");o.enablePatches.call(void 0);function s(e,t,r){return Object.keys(e).reduce(((n,i)=>{try{const o=t[i];if(!o)throw new Error(`No metadata found for '${String(i)}'`);const s=o[r],a=e[i];return"function"==typeof s?n[i]=s(a):s&&(n[i]=a),n}catch(e){return setTimeout((()=>{throw e})),n}}),{})}n=new WeakMap,r.BaseController=class{constructor({messenger:e,metadata:t,name:r,state:s}){i.__privateAdd.call(void 0,this,n,void 0),this.messagingSystem=e,this.name=r,i.__privateSet.call(void 0,this,n,o.freeze.call(void 0,s,!0)),this.metadata=t,this.messagingSystem.registerActionHandler(`${r}:getState`,(()=>this.state)),this.messagingSystem.registerInitialEventPayload({eventType:`${r}:stateChange`,getPayload:()=>[this.state,[]]})}get state(){return i.__privateGet.call(void 0,this,n)}set state(e){throw new Error("Controller state cannot be directly mutated; use 'update' method instead.")}update(e){const[t,r,s]=o.produceWithPatches.call(void 0,i.__privateGet.call(void 0,this,n),e);return i.__privateSet.call(void 0,this,n,t),this.messagingSystem.publish(`${this.name}:stateChange`,t,r),{nextState:t,patches:r,inversePatches:s}}applyPatches(e){const t=o.applyPatches.call(void 0,i.__privateGet.call(void 0,this,n),e);i.__privateSet.call(void 0,this,n,t),this.messagingSystem.publish(`${this.name}:stateChange`,t,e)}destroy(){this.messagingSystem.clearEventSubscriptions(`${this.name}:stateChange`)}},r.getAnonymizedState=function(e,t){return s(e,t,"anonymous")},r.getPersistentState=function(e,t){return s(e,t,"persist")}}}},{package:"@metamask/snaps-controllers>@metamask/base-controller",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/base-controller/dist/chunk-DV5LNY3P.js"}],[1779,{"./chunk-UJFCPTF3.js":1781,"./chunk-Z4BLTVTB.js":1782},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a=e("./chunk-UJFCPTF3.js"),l=e("./chunk-Z4BLTVTB.js");n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,r.ControllerMessenger=class{constructor(){l.__privateAdd.call(void 0,this,n,new Map),l.__privateAdd.call(void 0,this,i,new Map),l.__privateAdd.call(void 0,this,o,new Map),l.__privateAdd.call(void 0,this,s,new Map)}registerActionHandler(e,t){if(l.__privateGet.call(void 0,this,n).has(e))throw new Error(`A handler for ${e} has already been registered`);l.__privateGet.call(void 0,this,n).set(e,t)}unregisterActionHandler(e){l.__privateGet.call(void 0,this,n).delete(e)}clearActions(){l.__privateGet.call(void 0,this,n).clear()}call(e,...t){const r=l.__privateGet.call(void 0,this,n).get(e);if(!r)throw new Error(`A handler for ${e} has not been registered`);return r(...t)}registerInitialEventPayload({eventType:e,getPayload:t}){l.__privateGet.call(void 0,this,o).set(e,t)}publish(e,...t){const r=l.__privateGet.call(void 0,this,i).get(e);if(r)for(const[e,n]of r.entries())try{if(n){const r=l.__privateGet.call(void 0,this,s).get(e),i=n(...t);i!==r&&(l.__privateGet.call(void 0,this,s).set(e,i),e(i,r))}else e(...t)}catch(e){setTimeout((()=>{throw e}))}}subscribe(e,t,r){let n=l.__privateGet.call(void 0,this,i).get(e);if(n||(n=new Map,l.__privateGet.call(void 0,this,i).set(e,n)),n.set(t,r),r){const n=l.__privateGet.call(void 0,this,o).get(e);if(n){const e=r(...n());l.__privateGet.call(void 0,this,s).set(t,e)}}}unsubscribe(e,t){const r=l.__privateGet.call(void 0,this,i).get(e);if(!r||!r.has(t))throw new Error(`Subscription not found for event: ${e}`);r.get(t)&&l.__privateGet.call(void 0,this,s).delete(t),r.delete(t)}clearEventSubscriptions(e){l.__privateGet.call(void 0,this,i).delete(e)}clearSubscriptions(){l.__privateGet.call(void 0,this,i).clear()}getRestricted({name:e,allowedActions:t,allowedEvents:r}){return new(0,a.RestrictedControllerMessenger)({controllerMessenger:this,name:e,allowedActions:t,allowedEvents:r})}}}}},{package:"@metamask/snaps-controllers>@metamask/base-controller",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/base-controller/dist/chunk-G42723LG.js"}],[178,{"@metamask/utils":1982,lodash:3477,loglevel:3483,uuid:4067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=l,t.data=function(e){if(!(0,o.hasProperty)(e,"PreferencesController"))return a.default.warn("state.PreferencesController is undefined"),e;if(!(0,o.isObject)(e.PreferencesController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.PreferencesController is "+typeof e.PreferencesController)),e}if(!(0,o.hasProperty)(e,"NetworkController")||!(0,o.isObject)(e.NetworkController)){var n,i;return null===(n=global.sentry)||void 0===n||null===(i=n.captureException)||void 0===i||i.call(n,new Error("typeof state.NetworkController is "+typeof e.NetworkController)),e}if(!(0,o.hasProperty)(e.PreferencesController,"frequentRpcListDetail")||!Array.isArray(e.PreferencesController.frequentRpcListDetail)){var l,c;if(!(e.NetworkController.networkConfigurations&&e.PreferencesController.frequentRpcListDetail===undefined))null===(l=global.sentry)||void 0===l||null===(c=l.captureException)||void 0===c||c.call(l,new Error("typeof state.PreferencesController.frequentRpcListDetail is "+typeof e.PreferencesController.frequentRpcListDetail));return e}if(!e.PreferencesController.frequentRpcListDetail.every(o.isObject)){var u,d;const t=e.PreferencesController.frequentRpcListDetail.find((e=>!(0,o.isObject)(e)));return null===(u=global.sentry)||void 0===u||null===(d=u.captureException)||void 0===d||d.call(u,new Error("state.PreferencesController.frequentRpcListDetail contains an element of type "+typeof t)),e}const{PreferencesController:p,NetworkController:h}=e,{frequentRpcListDetail:f}=p;if(!Array.isArray(f))return e;const m=f.reduce(((e,{rpcUrl:t,chainId:r,ticker:n,nickname:i,rpcPrefs:o})=>({...e,[(0,s.v4)()]:{rpcUrl:t,chainId:r,ticker:n,rpcPrefs:o,nickname:i}})),{});return delete p.frequentRpcListDetail,{...e,NetworkController:{...h,networkConfigurations:m},PreferencesController:{...p}}}(t.data),t},r.version=void 0;var n,i=e("lodash"),o=e("@metamask/utils"),s=e("uuid"),a=(n=e("loglevel"))&&n.__esModule?n:{default:n};const l=r.version=82}}},{package:"$root$",file:"app/scripts/migrations/082.ts"}],[1780,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=class{constructor(e={},t={}){this.defaultConfig={},this.defaultState={},this.disabled=!1,this.name="BaseController",this.internalConfig=this.defaultConfig,this.internalState=this.defaultState,this.internalListeners=[],this.initialState=t,this.initialConfig=e}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,t=!1,r=!0){if(r){this.internalConfig=t?e:Object.assign(this.internalConfig,e);for(const e of Object.keys(this.internalConfig)){const t=this.internalConfig[e];void 0!==t&&(this[e]=t)}}else for(const t of Object.keys(e))if(void 0!==this.internalConfig[t]){const r=e[t];this.internalConfig[t]=r,this[t]=r}}notify(){this.disabled||this.internalListeners.forEach((e=>{e(this.internalState)}))}subscribe(e){this.internalListeners.push(e)}unsubscribe(e){const t=this.internalListeners.findIndex((t=>e===t));return t>-1&&this.internalListeners.splice(t,1),t>-1}update(e,t=!1){this.internalState=t?Object.assign({},e):Object.assign({},this.internalState,e),this.notify()}},i=n;r.BaseControllerV1=n,r.BaseControllerV1_default=i}}},{package:"@metamask/snaps-controllers>@metamask/base-controller",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/base-controller/dist/chunk-NINOM2XQ.js"}],[1781,{"./chunk-Z4BLTVTB.js":1782},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a,l,c,u,d,p,h=e("./chunk-Z4BLTVTB.js");n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakSet,l=function(e){const t=h.__privateGet.call(void 0,this,s);return h.__privateMethod.call(void 0,this,d,p).call(this,e)||null!==t&&t.includes(e)},c=new WeakSet,u=function(e){const t=h.__privateGet.call(void 0,this,o);return h.__privateMethod.call(void 0,this,d,p).call(this,e)||null!==t&&t.includes(e)},d=new WeakSet,p=function(e){return e.startsWith(`${h.__privateGet.call(void 0,this,i)}:`)},r.RestrictedControllerMessenger=class{constructor({controllerMessenger:e,name:t,allowedActions:r,allowedEvents:l}){h.__privateAdd.call(void 0,this,a),h.__privateAdd.call(void 0,this,c),h.__privateAdd.call(void 0,this,d),h.__privateAdd.call(void 0,this,n,void 0),h.__privateAdd.call(void 0,this,i,void 0),h.__privateAdd.call(void 0,this,o,void 0),h.__privateAdd.call(void 0,this,s,void 0),h.__privateSet.call(void 0,this,n,e),h.__privateSet.call(void 0,this,i,t),h.__privateSet.call(void 0,this,o,r),h.__privateSet.call(void 0,this,s,l)}registerActionHandler(e,t){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed registering action handlers prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).registerActionHandler(e,t)}unregisterActionHandler(e){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed unregistering action handlers prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).unregisterActionHandler(e)}call(e,...t){if(!h.__privateMethod.call(void 0,this,c,u).call(this,e))throw new Error(`Action missing from allow list: ${e}`);return h.__privateGet.call(void 0,this,n).call(e,...t)}registerInitialEventPayload({eventType:e,getPayload:t}){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).registerInitialEventPayload({eventType:e,getPayload:t})}publish(e,...t){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).publish(e,...t)}subscribe(e,t,r){if(!h.__privateMethod.call(void 0,this,a,l).call(this,e))throw new Error(`Event missing from allow list: ${e}`);return r?h.__privateGet.call(void 0,this,n).subscribe(e,t,r):h.__privateGet.call(void 0,this,n).subscribe(e,t)}unsubscribe(e,t){if(!h.__privateMethod.call(void 0,this,a,l).call(this,e))throw new Error(`Event missing from allow list: ${e}`);h.__privateGet.call(void 0,this,n).unsubscribe(e,t)}clearEventSubscriptions(e){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed clearing events prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).clearEventSubscriptions(e)}}}}},{package:"@metamask/snaps-controllers>@metamask/base-controller",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/base-controller/dist/chunk-UJFCPTF3.js"}],[1782,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};r.__privateGet=(e,t,r)=>(n(e,t,"read from private field"),r?r.call(e):t.get(e)),r.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},r.__privateSet=(e,t,r,i)=>(n(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),r.__privateMethod=(e,t,r)=>(n(e,t,"access private method"),r)}}},{package:"@metamask/snaps-controllers>@metamask/base-controller",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/base-controller/dist/chunk-Z4BLTVTB.js"}],[1783,{"./chunk-DV5LNY3P.js":1778,"./chunk-G42723LG.js":1779,"./chunk-NINOM2XQ.js":1780,"./chunk-UJFCPTF3.js":1781,"./chunk-Z4BLTVTB.js":1782},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-NINOM2XQ.js"),i=e("./chunk-DV5LNY3P.js"),o=e("./chunk-G42723LG.js"),s=e("./chunk-UJFCPTF3.js");e("./chunk-Z4BLTVTB.js"),r.BaseController=i.BaseController,r.BaseControllerV1=n.BaseControllerV1,r.ControllerMessenger=o.ControllerMessenger,r.RestrictedControllerMessenger=s.RestrictedControllerMessenger,r.getAnonymizedState=i.getAnonymizedState,r.getPersistentState=i.getPersistentState}}},{package:"@metamask/snaps-controllers>@metamask/base-controller",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/base-controller/dist/index.js"}],[1784,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createScaffoldMiddleware=function(e){return(t,r,n,i)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,i):(r.result=o,i())}}}}},{package:"@metamask/snaps-controllers>@metamask/json-rpc-engine",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/json-rpc-engine/dist/chunk-3AC2MIND.js"}],[1785,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsyncMiddleware=function(e){return async(t,r,n,i)=>{let o;const s=new Promise((e=>{o=e}));let a=null,l=!1;const c=async()=>(l=!0,n((e=>{a=e,o()})),s);try{await e(t,r,c),l?(await s,a(null)):i(null)}catch(e){a?a(e):i(e)}}}}}},{package:"@metamask/snaps-controllers>@metamask/json-rpc-engine",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/json-rpc-engine/dist/chunk-ENMR2SJC.js"}],[1786,{"./chunk-IPW2SZMY.js":1787},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-IPW2SZMY.js");r.mergeMiddleware=function(e){const t=new(0,n.JsonRpcEngine);return e.forEach((e=>t.push(e))),t.asMiddleware()}}}},{package:"@metamask/snaps-controllers>@metamask/json-rpc-engine",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/json-rpc-engine/dist/chunk-I2BVUFWR.js"}],[1787,{"./chunk-Z4BLTVTB.js":1790,"@metamask/rpc-errors":1566,"@metamask/safe-event-emitter":1567,"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a,l,c,u,d,p,h,f,m,y,g,v,b,T,w,_,S=e("./chunk-Z4BLTVTB.js"),E=e("@metamask/rpc-errors"),k=e("@metamask/safe-event-emitter"),O=(n=k)&&n.__esModule?n:{default:n},P=e("@metamask/utils"),A=class e extends O.default{constructor({notificationHandler:e}={}){super(),S.__privateAdd.call(void 0,this,a),S.__privateAdd.call(void 0,this,c),S.__privateAdd.call(void 0,this,d),S.__privateAdd.call(void 0,this,i,!1),S.__privateAdd.call(void 0,this,o,void 0),S.__privateAdd.call(void 0,this,s,void 0),S.__privateSet.call(void 0,this,o,[]),S.__privateSet.call(void 0,this,s,e)}destroy(){S.__privateGet.call(void 0,this,o).forEach((e=>{"destroy"in e&&"function"==typeof e.destroy&&e.destroy()})),S.__privateSet.call(void 0,this,o,[]),S.__privateSet.call(void 0,this,i,!0)}push(e){S.__privateMethod.call(void 0,this,a,l).call(this),S.__privateGet.call(void 0,this,o).push(e)}handle(e,t){if(S.__privateMethod.call(void 0,this,a,l).call(this),t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?S.__privateMethod.call(void 0,this,c,u).call(this,e,t):S.__privateMethod.call(void 0,this,c,u).call(this,e):t?S.__privateMethod.call(void 0,this,d,p).call(this,e,t):this._promiseHandle(e)}asMiddleware(){return S.__privateMethod.call(void 0,this,a,l).call(this),async(t,r,n,i)=>{var s,a;try{const[l,c,u]=await S.__privateMethod.call(void 0,s=e,m,y).call(s,t,r,S.__privateGet.call(void 0,this,o));return c?(await S.__privateMethod.call(void 0,a=e,b,T).call(a,u),i(l)):n((async t=>{var r;try{await S.__privateMethod.call(void 0,r=e,b,T).call(r,u)}catch(e){return t(e)}return t()}))}catch(e){return i(e)}}}async _promiseHandle(e){return new Promise(((t,r)=>{S.__privateMethod.call(void 0,this,d,p).call(this,e,((e,n)=>{e&&void 0===n?r(e):t(n)})).catch(r)}))}};i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakSet,l=function(){if(S.__privateGet.call(void 0,this,i))throw new Error("This engine is destroyed and can no longer be used.")},c=new WeakSet,u=async function(e,t){try{if(0===e.length){const e=[{id:null,jsonrpc:"2.0",error:new(0,E.JsonRpcError)(E.errorCodes.rpc.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return t?t(null,e):e}const r=(await Promise.all(e.map(this._promiseHandle.bind(this)))).filter((e=>void 0!==e));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}},d=new WeakSet,p=async function(e,t){var r;if(!e||Array.isArray(e)||"object"!=typeof e){const r=new(0,E.JsonRpcError)(E.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:null,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new(0,E.JsonRpcError)(E.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return S.__privateGet.call(void 0,this,s)&&!P.isJsonRpcRequest.call(void 0,e)?t(null):t(r,{id:e.id??null,jsonrpc:"2.0",error:r})}if(S.__privateGet.call(void 0,this,s)&&!P.isJsonRpcRequest.call(void 0,e)){try{await S.__privateGet.call(void 0,this,s).call(this,e)}catch(e){return t(e)}return t(null)}let n=null;const i={...e},a={id:i.id,jsonrpc:i.jsonrpc};try{await S.__privateMethod.call(void 0,r=A,h,f).call(r,i,a,S.__privateGet.call(void 0,this,o))}catch(e){n=e}return n&&(delete a.result,a.error||(a.error=E.serializeError.call(void 0,n))),t(n,a)},h=new WeakSet,f=async function(e,t,r){var n,i,o;const[s,a,l]=await S.__privateMethod.call(void 0,n=A,m,y).call(n,e,t,r);if(S.__privateMethod.call(void 0,i=A,w,_).call(i,e,t,a),await S.__privateMethod.call(void 0,o=A,b,T).call(o,l),s)throw s},m=new WeakSet,y=async function(e,t,r){var n;const i=[];let o=null,s=!1;for(const a of r)if([o,s]=await S.__privateMethod.call(void 0,n=A,g,v).call(n,e,t,a,i),s)break;return[o,s,i.reverse()]},g=new WeakSet,v=async function(e,t,r,n){return new Promise((i=>{const o=e=>{const r=e||t.error;r&&(t.error=E.serializeError.call(void 0,r)),i([r,!0])},s=r=>{t.error?o(t.error):(r&&("function"!=typeof r&&o(new(0,E.JsonRpcError)(E.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${C(e)}`,{request:e})),n.push(r)),i([null,!1]))};try{r(e,t,s,o)}catch(e){o(e)}}))},b=new WeakSet,T=async function(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))},w=new WeakSet,_=function(e,t,r){if(!P.hasProperty.call(void 0,t,"result")&&!P.hasProperty.call(void 0,t,"error"))throw new(0,E.JsonRpcError)(E.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${C(e)}`,{request:e});if(!r)throw new(0,E.JsonRpcError)(E.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${C(e)}`,{request:e})},S.__privateAdd.call(void 0,A,h),S.__privateAdd.call(void 0,A,m),S.__privateAdd.call(void 0,A,g),S.__privateAdd.call(void 0,A,b),S.__privateAdd.call(void 0,A,w);var x=A;function C(e){return JSON.stringify(e,null,2)}r.JsonRpcEngine=x}}},{package:"@metamask/snaps-controllers>@metamask/json-rpc-engine",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/json-rpc-engine/dist/chunk-IPW2SZMY.js"}],[1788,{"./chunk-XDGWQHNY.js":1789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-XDGWQHNY.js");r.createIdRemapMiddleware=function(){return(e,t,r,i)=>{const o=e.id,s=n.getUniqueId.call(void 0);e.id=s,t.id=s,r((r=>{e.id=o,t.id=o,r()}))}}}}},{package:"@metamask/snaps-controllers>@metamask/json-rpc-engine",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/json-rpc-engine/dist/chunk-PBQXMZM5.js"}],[1789,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=4294967295,i=Math.floor(Math.random()*n);r.getUniqueId=function(){return i=(i+1)%n}}}},{package:"@metamask/snaps-controllers>@metamask/json-rpc-engine",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/json-rpc-engine/dist/chunk-XDGWQHNY.js"}],[179,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!(0,i.isObject)(e.NetworkController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController)),e}const{NetworkController:n}=e;if(!(0,i.isObject)(n.networkConfigurations)){var o,s;return null===(o=global.sentry)||void 0===o||null===(s=o.captureException)||void 0===s||s.call(o,new Error("typeof NetworkController.networkConfigurations is "+typeof n.networkConfigurations)),e}const{networkConfigurations:a}=n,l={};for(const t of Object.keys(a)){const r=a[t];if(!(0,i.isObject)(r))return e;l[t]={...r,id:t}}return{...e,NetworkController:{...n,networkConfigurations:l}}}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=r.version=83}}},{package:"$root$",file:"app/scripts/migrations/083.ts"}],[1790,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};r.__privateGet=(e,t,r)=>(n(e,t,"read from private field"),r?r.call(e):t.get(e)),r.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},r.__privateSet=(e,t,r,i)=>(n(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),r.__privateMethod=(e,t,r)=>(n(e,t,"access private method"),r)}}},{package:"@metamask/snaps-controllers>@metamask/json-rpc-engine",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/json-rpc-engine/dist/chunk-Z4BLTVTB.js"}],[1791,{"./chunk-3AC2MIND.js":1784,"./chunk-ENMR2SJC.js":1785,"./chunk-I2BVUFWR.js":1786,"./chunk-IPW2SZMY.js":1787,"./chunk-PBQXMZM5.js":1788,"./chunk-XDGWQHNY.js":1789,"./chunk-Z4BLTVTB.js":1790},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-ENMR2SJC.js"),i=e("./chunk-3AC2MIND.js"),o=e("./chunk-PBQXMZM5.js"),s=e("./chunk-XDGWQHNY.js"),a=e("./chunk-I2BVUFWR.js"),l=e("./chunk-IPW2SZMY.js");e("./chunk-Z4BLTVTB.js"),r.JsonRpcEngine=l.JsonRpcEngine,r.createAsyncMiddleware=n.createAsyncMiddleware,r.createIdRemapMiddleware=o.createIdRemapMiddleware,r.createScaffoldMiddleware=i.createScaffoldMiddleware,r.getUniqueId=s.getUniqueId,r.mergeMiddleware=a.mergeMiddleware}}},{package:"@metamask/snaps-controllers>@metamask/json-rpc-engine",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/json-rpc-engine/dist/index.js"}],[1792,{"@metamask/safe-event-emitter":1567,"readable-stream":1812},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("@metamask/safe-event-emitter"),o=(n=i)&&n.__esModule?n:{default:n},s=e("readable-stream");r.createStreamMiddleware=function(e={}){const t={},r=new(0,s.Duplex)({objectMode:!0,read:()=>{},write:function(r,o,s){let a=null;try{!r.id?function(r){e?.retryOnMessage&&r.method===e.retryOnMessage&&Object.values(t).forEach((({req:e,retryCount:r=0})=>{if(!e.id)return;if(r>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${e.id}"`);const n=t[e.id];n&&(n.retryCount=r+1),i(e)}));n.emit("notification",r)}(r):function(e){const{id:r}=e;if(null===r)return;const n=t[r];if(!n)return void console.warn(`StreamMiddleware - Unknown response id "${r}"`);delete t[r],Object.assign(n.res,e),setTimeout(n.end)}(r)}catch(e){a=e}s(a)}}),n=new(0,o.default);return{events:n,middleware:(e,r,n,o)=>{t[e.id]={req:e,res:r,next:n,end:o},i(e)},stream:r};function i(e){r.push(e)}}}}},{package:"@metamask/snaps-controllers>@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/json-rpc-middleware-stream/dist/chunk-3SFZPJR3.js"}],[1793,{"readable-stream":1812},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("readable-stream");r.createEngineStream=function(e){if(!e?.engine)throw new Error("Missing engine parameter!");const{engine:t}=e,r=new(0,n.Duplex)({objectMode:!0,read:()=>{},write:function(e,n,i){t.handle(e,((e,t)=>{r.push(t)})),i()}});return t.on&&t.on("notification",(e=>{r.push(e)})),r}}}},{package:"@metamask/snaps-controllers>@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/json-rpc-middleware-stream/dist/chunk-IDTAZSDC.js"}],[1794,{"./chunk-3SFZPJR3.js":1792,"./chunk-IDTAZSDC.js":1793},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-IDTAZSDC.js"),i=e("./chunk-3SFZPJR3.js");r.createEngineStream=n.createEngineStream,r.createStreamMiddleware=i.createStreamMiddleware}}},{package:"@metamask/snaps-controllers>@metamask/json-rpc-middleware-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/@metamask/json-rpc-middleware-stream/dist/index.js"}],[1795,{buffer:2634,"buffer-from":2639,inherits:3257,"readable-stream":1812,typedarray:4025},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("readable-stream").Writable,i=e("inherits"),o=e("buffer-from");if("undefined"==typeof Uint8Array)var s=e("typedarray").Uint8Array;else s=Uint8Array;function a(e,t){if(!(this instanceof a))return new a(e,t);"function"==typeof e&&(t=e,e={}),e||(e={});var r=e.encoding,i=!1;r?"u8"!==(r=String(r).toLowerCase())&&"uint8"!==r||(r="uint8array"):i=!0,n.call(this,{objectMode:!0}),this.encoding=r,this.shouldInferEncoding=i,t&&this.on("finish",(function(){t(this.getBody())})),this.body=[]}t.exports=a,i(a,n),a.prototype._write=function(e,t,r){this.body.push(e),r()},a.prototype.inferEncoding=function(e){var t=e===undefined?this.body[0]:e;return r.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},a.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(e){for(var t=[],r=0;r<e.length;r++)t.push.apply(t,e[r]);return t}(this.body):"string"===this.encoding?function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];"string"==typeof i||r.isBuffer(i)?t.push(i):l(i)?t.push(o(i)):t.push(o(String(i)))}t=r.isBuffer(e[0])?(t=r.concat(t)).toString("utf8"):t.join("");return t}(this.body):"buffer"===this.encoding?function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];r.isBuffer(i)?t.push(i):l(i)?t.push(o(i)):t.push(o(String(i)))}return r.concat(t)}(this.body):"uint8array"===this.encoding?function(e){for(var t=0,r=0;r<e.length;r++)"string"==typeof e[r]&&(e[r]=o(e[r])),t+=e[r].length;for(var n=new s(t),i=(r=0,0);r<e.length;r++)for(var a=e[r],l=0;l<a.length;l++)n[i++]=a[l];return n}(this.body):this.body):[]};Array.isArray;function l(e){return"string"==typeof e||(t=e,/Array\]$/.test(Object.prototype.toString.call(t)))||e&&"function"==typeof e.subarray;var t}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/snaps-controllers>concat-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/concat-stream/index.js"}],[1796,{"./url-alphabet/index.cjs":1797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){let{urlAlphabet:n}=e("./url-alphabet/index.cjs"),i=e=>crypto.getRandomValues(new Uint8Array(e)),o=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return(o=t)=>{let s="";for(;;){let t=r(i),a=i;for(;a--;)if(s+=e[t[a]&n]||"",s.length===o)return s}}};t.exports={nanoid:(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""),customAlphabet:(e,t=21)=>o(e,t,i),customRandom:o,urlAlphabet:n,random:i}}}},{package:"@metamask/snaps-controllers>nanoid",file:"node_modules/@metamask/snaps-controllers/node_modules/nanoid/index.browser.cjs"}],[1797,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}}}},{package:"@metamask/snaps-controllers>nanoid",file:"node_modules/@metamask/snaps-controllers/node_modules/nanoid/url-alphabet/index.cjs"}],[1798,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,s,a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(r===undefined||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(o(t,"type"));else{var l=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(l," ").concat(n," ").concat(o(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/errors-browser.js"}],[1799,{"./_stream_readable":1801,"./_stream_writable":1803,_process:3628,inherits:3257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(c,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var l=s[a];c.prototype[l]||(c.prototype[l]=o.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/_stream_duplex.js"}],[18,{"../../../../shared/constants/permissions":4134,nanoid:3570},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPermissionBackgroundApiMethods=function(e){return{addPermittedAccount:(t,r)=>{const n=e.getCaveat(t,o.RestrictedMethods.eth_accounts,o.CaveatTypes.restrictReturnedAccounts);n.value.includes(r)||e.updateCaveat(t,o.RestrictedMethods.eth_accounts,o.CaveatTypes.restrictReturnedAccounts,[...n.value,r])},addMorePermittedAccounts:(t,r)=>{const n=e.getCaveat(t,o.RestrictedMethods.eth_accounts,o.CaveatTypes.restrictReturnedAccounts);e.updateCaveat(t,o.RestrictedMethods.eth_accounts,o.CaveatTypes.restrictReturnedAccounts,[...n.value,...r])},removePermittedAccount:(t,r)=>{const n=e.getCaveat(t,o.RestrictedMethods.eth_accounts,o.CaveatTypes.restrictReturnedAccounts);if(!n.value.includes(r))return;const i=n.value.filter((e=>e!==r));0===i.length?e.revokePermission(t,o.RestrictedMethods.eth_accounts):e.updateCaveat(t,o.RestrictedMethods.eth_accounts,o.CaveatTypes.restrictReturnedAccounts,i)},requestAccountsPermissionWithId:async t=>{const r=(0,i.default)();return e.requestPermissions({origin:t},{eth_accounts:{}},{id:r}),r}}};var n,i=(n=e("nanoid"))&&n.__esModule?n:{default:n},o=e("../../../../shared/constants/permissions")}}},{package:"$root$",file:"app/scripts/controllers/permissions/background-api.js"}],[180,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!(0,i.hasProperty)(e,"NetworkController")||!(0,i.isObject)(e.NetworkController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController)),e}if(!(0,i.hasProperty)(e.NetworkController,"network")){var n,o;if(e.NetworkController.networkId===undefined)null===(n=global.sentry)||void 0===n||null===(o=n.captureException)||void 0===o||o.call(n,new Error("typeof state.NetworkController.network is "+typeof e.NetworkController.network));return e}const s={...e.NetworkController};"loading"===s.network?(s.networkId=null,s.networkStatus="unknown"):(s.networkId=s.network,s.networkStatus="available");return delete s.network,{...e,NetworkController:s}}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=r.version=84}}},{package:"$root$",file:"app/scripts/migrations/084.ts"}],[1800,{"./_stream_transform":1802,inherits:3257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/_stream_passthrough.js"}],[1801,{"../errors":1798,"./_stream_duplex":1799,"./internal/streams/async_iterator":1804,"./internal/streams/buffer_list":1805,"./internal/streams/destroy":1806,"./internal/streams/from":1808,"./internal/streams/state":1810,"./internal/streams/stream":1811,_process:3628,buffer:2634,events:2936,inherits:3257,"string_decoder/":3998,util:2599},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=E,E.ReadableState=S;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},o=e("./internal/streams/stream"),s=e("buffer").Buffer,a=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l,c=e("util");l=c&&c.debuglog?c.debuglog("stream"):function(){};var u,d,p,h=e("./internal/streams/buffer_list"),f=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,g=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,T=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(E,o);var w=f.errorOrDestroy,_=["error","close","destroy","pause","resume"];function S(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=e("string_decoder/").StringDecoder),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function E(t){if(n=n||e("./_stream_duplex"),!(this instanceof E))return new E(t);var r=this instanceof n;this._readableState=new S(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function k(e,t,r,n,i){l("readableAddChunk",t);var o,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}(e,c);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||t===undefined||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(c,t)),o)w(e,o);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)c.endEmitted?w(e,new T):O(e,c,t,!0);else if(c.ended)w(e,new v);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?O(e,c,t,!1):I(e,c)):O(e,c,t,!1)}else n||(c.reading=!1,I(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function O(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),I(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=f.destroy,E.prototype._undestroy=f.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),k(this,e,t,!1,r)},E.prototype.unshift=function(e){return k(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){u||(u=e("string_decoder/").StringDecoder);var r=new u(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(C,e))}function C(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,R(e)}function I(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(j,e,t))}function j(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(l("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){l("readable nexttick read 0"),e.read(0)}function N(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(D,t,e))}function D(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):x(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){w(this,new b("_read()"))},E.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,l("pipe count=%d opts=%j",o.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:y;function a(t,r){l("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",f),e.removeListener("finish",m),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",p),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function c(){l("onend"),e.end()}o.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",a);var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,R(e))}}(n);e.on("drain",u);var d=!1;function p(t){l("ondata");var r=e.write(t);l("dest.write",r),!1===r&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==F(o.pipes,e))&&!d&&(l("false write response, pause",o.awaitDrain),o.awaitDrain++),n.pause())}function h(t){l("onerror",t),y(),e.removeListener("error",h),0===i(e,"error")&&w(e,t)}function f(){e.removeListener("finish",m),y()}function m(){l("onfinish"),e.removeListener("close",f),y()}function y(){l("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",f),e.once("finish",m),e.emit("pipe",n),o.flowing||(l("pipe resume"),n.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?x(this):i.reading||r.nextTick(M,this))),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(B,this),n},E.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(B,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(N,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<_.length;o++)e.on(_[o],this.emit.bind(this,_[o]));return this._read=function(t){l("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return d===undefined&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=L,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,r){return p===undefined&&(p=e("./internal/streams/from")),p(E,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/_stream_readable.js"}],[1802,{"../errors":1798,"./_stream_duplex":1799,inherits:3257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=u;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush((function(t,r){p(e,t,r)}))}function p(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e("inherits")(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i("_transform()"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/_stream_transform.js"}],[1803,{"../errors":1798,"./_stream_duplex":1799,"./internal/streams/destroy":1806,"./internal/streams/state":1810,"./internal/streams/stream":1811,_process:3628,buffer:2634,inherits:3257,"util-deprecate":4063},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=E,E.WritableState=S;var o={deprecate:e("util-deprecate")},s=e("./internal/streams/stream"),a=e("buffer").Buffer,l=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,u=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,p=e("../errors").codes,h=p.ERR_INVALID_ARG_TYPE,f=p.ERR_METHOD_NOT_IMPLEMENTED,m=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,g=p.ERR_STREAM_DESTROYED,v=p.ERR_STREAM_NULL_VALUES,b=p.ERR_STREAM_WRITE_AFTER_END,T=p.ERR_UNKNOWN_ENCODING,w=u.errorOrDestroy;function _(){}function S(t,o,s){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof s&&(s=o instanceof i),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(C,e,t),e._writableState.errorEmitted=!0,w(e,i)):(o(i),e._writableState.errorEmitted=!0,w(e,i),C(e,t))}(e,n,i,t,o);else{var s=A(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||P(e,n),i?r.nextTick(O,e,n,s,o):O(e,n,s,o)}}(o,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function E(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!c.call(E,this))return new E(t);this._writableState=new S(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),s.call(this)}function k(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function O(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,l=!0;r;)o[a]=r,r.isBuf||(l=!1),r=r.next,a+=1;o.allBuffers=l,k(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,d=r.callback;if(k(e,t,!1,t.objectMode?1:c.length,c,u,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),C(e,t)}))}function C(e,t){var n=A(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(E,s),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===E&&(e&&e._writableState instanceof S)}})):c=function(e){return e instanceof this},E.prototype.pipe=function(){w(this,new y)},E.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,c=!o.objectMode&&(i=e,a.isBuffer(i)||i instanceof l);return c&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),c?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=_),o.ending?function(e,t){var n=new b;w(e,n),r.nextTick(t,n)}(this,n):(c||function(e,t,n,i){var o;return null===n?o=new v:"string"==typeof n||t.objectMode||(o=new h("chunk",["string","Buffer"],n)),!o||(w(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var l=t.objectMode?1:n.length;t.length+=l;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,l,n,i,o);return c}(this,o,c,e,t,n)),s},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new T(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new f("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,C(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=u.destroy,E.prototype._undestroy=u.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/_stream_writable.js"}],[1804,{"./end-of-stream":1807,_process:3628},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function h(e,t){return{value:e,done:t}}function f(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[u]=null,e[s]=null,e[a]=null,t(h(r,!1)))}}function m(e){r.nextTick(f,e)}var y=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(n={get stream(){return this[p]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(h(undefined,!0));if(this[p].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[l]?n(e[l]):t(h(undefined,!0))}))}));var n,i=this[u];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[c]?r(h(undefined,!0)):t[d](r,n)}),n)}}(i,this));else{var o=this[p].read();if(null!==o)return Promise.resolve(h(o,!1));n=new Promise(this[d])}return this[u]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[p].destroy(null,(function(e){e?r(e):t(h(undefined,!0))}))}))})),n),y);t.exports=function(e){var t,r=Object.create(g,(i(t={},p,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[p].read();n?(r[u]=null,r[s]=null,r[a]=null,e(h(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[u]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[u]=null,r[s]=null,r[a]=null,t(e)),void(r[l]=e)}var n=r[s];null!==n&&(r[u]=null,r[s]=null,r[a]=null,n(h(undefined,!0))),r[c]=!0})),e.on("readable",m.bind(null,r)),r}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[1805,{buffer:2634,util:2599},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var l=e("buffer").Buffer,c=e("util").inspect,u=c&&c.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t,r,n,i=l.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,l.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return c(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[1806,{_process:3628},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var s=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(n,s):(s._writableState.errorEmitted=!0,e.nextTick(r,s,t)):e.nextTick(r,s,t):o?(e.nextTick(n,s),o(t)):e.nextTick(n,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[1807,{"../../../errors":1798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||u()},c=t._writableState&&t._writableState.finished,u=function(){a=!1,c=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,p=function(){s=!1,d=!0,a||o.call(t)},h=function(e){o.call(t,e)},f=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",u)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",l),t.on("close",l)):(t.on("complete",u),t.on("abort",f),t.req?m():t.on("request",m)),t.on("end",p),t.on("finish",u),!1!==r.error&&t.on("error",h),t.on("close",f),function(){t.removeListener("complete",u),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",p),t.removeListener("error",h),t.removeListener("close",f)}}}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[1808,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[1809,{"../../../errors":1798,"./end-of-stream":1807},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function l(e){e()}function c(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var u,d=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new o("streams");var p=r.map((function(t,i){var o=i<r.length-1;return function(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var l=!1;return function(e){if(!a&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}(t,o,i>0,(function(e){u||(u=e),e&&p.forEach(l),o||(p.forEach(l),d(u))}))}));return r.reduce(c)}}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[181,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!(0,i.isObject)(e.NetworkController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController)),e}return delete e.NetworkController.previousProviderStore,e}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=r.version=85}}},{package:"$root$",file:"app/scripts/migrations/085.ts"}],[1810,{"../../../errors":1798},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/internal/streams/state.js"}],[1811,{events:2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=e("events").EventEmitter}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[1812,{"./lib/_stream_duplex.js":1799,"./lib/_stream_passthrough.js":1800,"./lib/_stream_readable.js":1801,"./lib/_stream_transform.js":1802,"./lib/_stream_writable.js":1803,"./lib/internal/streams/end-of-stream.js":1807,"./lib/internal/streams/pipeline.js":1809},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"@metamask/snaps-controllers>readable-stream",file:"node_modules/@metamask/snaps-controllers/node_modules/readable-stream/readable-browser.js"}],[1813,{"./verify":1814,"@metamask/utils":1982,superstruct:4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.SnapsRegistryDatabaseStruct=r.BlockedSnapStruct=r.BlockReasonStruct=r.VerifiedSnapStruct=r.AdditionalSourceCodeStruct=r.SupportStruct=r.AuditStruct=r.AuthorStruct=void 0;const o=e("@metamask/utils"),s=e("superstruct"),a=(0,s.refine)((0,s.string)(),"Npm ID",(e=>e.startsWith("npm:"))),l=(0,s.object)({checksum:o.ChecksumStruct});r.AuthorStruct=(0,s.object)({name:(0,s.string)(),website:(0,s.string)()}),r.AuditStruct=(0,s.object)({auditor:(0,s.string)(),report:(0,s.string)()}),r.SupportStruct=(0,s.object)({knowledgeBase:(0,s.optional)((0,s.string)()),faq:(0,s.optional)((0,s.string)()),contact:(0,s.optional)((0,s.string)()),keyRecovery:(0,s.optional)((0,s.string)())}),r.AdditionalSourceCodeStruct=(0,s.object)({name:(0,s.string)(),url:(0,s.string)()}),r.VerifiedSnapStruct=(0,s.object)({id:a,metadata:(0,s.object)({name:(0,s.string)(),type:(0,s.optional)((0,s.enums)(["account"])),author:(0,s.optional)(r.AuthorStruct),website:(0,s.optional)((0,s.string)()),onboard:(0,s.optional)((0,s.boolean)()),summary:(0,s.optional)((0,s.string)()),description:(0,s.optional)((0,s.string)()),audits:(0,s.optional)((0,s.array)(r.AuditStruct)),category:(0,s.optional)((0,s.enums)(["interoperability","notifications","transaction insights","account management"])),tags:(0,s.optional)((0,s.array)((0,s.string)())),support:(0,s.optional)(r.SupportStruct),sourceCode:(0,s.optional)((0,s.string)()),hidden:(0,s.optional)((0,s.boolean)()),privateCode:(0,s.optional)((0,s.boolean)()),privacyPolicy:(0,s.optional)((0,s.string)()),termsOfUse:(0,s.optional)((0,s.string)()),additionalSourceCode:(0,s.optional)((0,s.array)(r.AdditionalSourceCodeStruct))}),versions:(0,s.record)(o.VersionStruct,l)}),r.BlockReasonStruct=(0,s.object)({explanation:(0,s.optional)((0,s.string)()),url:(0,s.optional)((0,s.string)())}),r.BlockedSnapStruct=(0,s.union)([(0,s.object)({id:a,versionRange:o.VersionRangeStruct,reason:(0,s.optional)(r.BlockReasonStruct)}),(0,s.object)({checksum:o.ChecksumStruct,reason:(0,s.optional)(r.BlockReasonStruct)})]),r.SnapsRegistryDatabaseStruct=(0,s.object)({verifiedSnaps:(0,s.record)(a,r.VerifiedSnapStruct),blockedSnaps:(0,s.array)(r.BlockedSnapStruct)}),i(e("./verify"),r)}}},{package:"@metamask/snaps-utils>@metamask/snaps-registry",file:"node_modules/@metamask/snaps-registry/dist/index.js"}],[1814,{"@metamask/utils":1982,"@noble/curves/secp256k1":2003,"@noble/hashes/sha256":2011,superstruct:4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.verify=r.SignatureStruct=void 0;const n=e("@metamask/utils"),i=e("@noble/curves/secp256k1"),o=e("@noble/hashes/sha256"),s=e("superstruct");r.SignatureStruct=(0,s.object)({signature:n.StrictHexStruct,curve:(0,s.literal)("secp256k1"),format:(0,s.literal)("DER")}),r.verify=function({registry:e,signature:t,publicKey:s}){(0,n.assertStruct)(t,r.SignatureStruct,"Invalid signature object");const a=(0,n.hexToBytes)(s);return i.secp256k1.verify((0,n.remove0x)(t.signature),(0,o.sha256)((0,n.stringToBytes)(e)),a)}}}},{package:"@metamask/snaps-utils>@metamask/snaps-registry",file:"node_modules/@metamask/snaps-registry/dist/verify.js"}],[182,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if((0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,n.hasProperty)(e.NetworkController,"provider")){const t=e.NetworkController;return t.providerConfig=t.provider,delete t.provider,{...e,NetworkController:t}}var t,r;if((0,n.isObject)(e.NetworkController)){if(!(0,n.hasProperty)(e.NetworkController,"provider")){var i,o;if(e.NetworkController.providerConfig===undefined)null===(i=global.sentry)||void 0===i||null===(o=i.captureException)||void 0===o||o.call(i,new Error("typeof state.NetworkController.provider is "+typeof e.NetworkController.provider))}}else null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=r.version=86}}},{package:"$root$",file:"app/scripts/migrations/086.ts"}],[183,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!(0,n.isObject)(e.TokensController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.TokensController is "+typeof e.TokensController)),e}return delete e.TokensController.suggestedAssets,e}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=r.version=87}}},{package:"$root$",file:"app/scripts/migrations/087.ts"}],[184,{"@metamask/utils":1982,"ethereumjs-util":2896,lodash:3477,loglevel:3483},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=l,function(e){if((0,i.hasProperty)(e,"NftController")&&(0,i.isObject)(e.NftController)){const l=e.NftController;if((0,i.hasProperty)(l,"allNftContracts")&&(0,i.isObject)(l.allNftContracts)){const{allNftContracts:e}=l;Object.keys(e).every((t=>(0,i.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const r=e[t];if((0,i.isObject)(r)){for(const e of Object.keys(r))"undefined"!==e&&e!==undefined||delete r[e];e[t]=(0,s.mapKeys)(r,((e,t)=>c(t)))}}))}else if((0,i.hasProperty)(l,"allNftContracts")){var t,r;null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NftController.allNftContracts is "+typeof l.allNftContracts))}else a.default.warn("typeof state.NftController.allNftContracts is "+typeof l.allNftContracts);if((0,i.hasProperty)(l,"allNfts")&&(0,i.isObject)(l.allNfts)){const{allNfts:e}=l;Object.keys(e).every((t=>(0,i.isObject)(e[t])))&&Object.keys(e).forEach((t=>{const r=e[t];if((0,i.isObject)(r)){for(const e of Object.keys(r))"undefined"!==e&&e!==undefined||delete r[e];e[t]=(0,s.mapKeys)(r,((e,t)=>c(t)))}}))}else if((0,i.hasProperty)(l,"allNfts")){var n,o;null===(n=global.sentry)||void 0===n||null===(o=n.captureException)||void 0===o||o.call(n,new Error("typeof state.NftController.allNfts is "+typeof l.allNfts))}else a.default.warn("typeof state.NftController.allNfts is "+typeof l.allNfts);e.NftController=l}else if((0,i.hasProperty)(e,"NftController")){var l,u;null===(l=global.sentry)||void 0===l||null===(u=l.captureException)||void 0===u||u.call(l,new Error("typeof state.NftController is "+typeof e.NftController))}else a.default.warn("typeof state.NftController is undefined");if((0,i.hasProperty)(e,"TokenListController")&&(0,i.isObject)(e.TokenListController)){const t=e.TokenListController;if((0,i.hasProperty)(t,"tokensChainsCache")&&(0,i.isObject)(t.tokensChainsCache)){for(const e of Object.keys(t.tokensChainsCache))"undefined"!==e&&e!==undefined||delete t.tokensChainsCache[e];t.tokensChainsCache=(0,s.mapKeys)(t.tokensChainsCache,((e,t)=>c(t)))}else if((0,i.hasProperty)(t,"tokensChainsCache")){var d,p;null===(d=global.sentry)||void 0===d||null===(p=d.captureException)||void 0===p||p.call(d,new Error("typeof state.TokenListController.tokensChainsCache is "+typeof e.TokenListController.tokensChainsCache))}else a.default.warn("typeof state.TokenListController.tokensChainsCache is undefined")}else a.default.warn("typeof state.TokenListController is "+typeof e.TokenListController);if((0,i.hasProperty)(e,"TokensController")&&(0,i.isObject)(e.TokensController)){const t=e.TokensController;if((0,i.hasProperty)(t,"allTokens")&&(0,i.isObject)(t.allTokens)){const{allTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined||delete e[t];t.allTokens=(0,s.mapKeys)(e,((e,t)=>c(t)))}else if((0,i.hasProperty)(t,"allTokens")){var h,f;null===(h=global.sentry)||void 0===h||null===(f=h.captureException)||void 0===f||f.call(h,new Error("typeof state.TokensController.allTokens is "+typeof t.allTokens))}else a.default.warn("typeof state.TokensController.allTokens is "+typeof t.allTokens);if((0,i.hasProperty)(t,"allIgnoredTokens")&&(0,i.isObject)(t.allIgnoredTokens)){const{allIgnoredTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined||delete e[t];t.allIgnoredTokens=(0,s.mapKeys)(e,((e,t)=>c(t)))}else if((0,i.hasProperty)(t,"allIgnoredTokens")){var m,y;null===(m=global.sentry)||void 0===m||null===(y=m.captureException)||void 0===y||y.call(m,new Error("typeof state.TokensController.allIgnoredTokens is "+typeof t.allIgnoredTokens))}else a.default.warn("typeof state.TokensController.allIgnoredTokens is "+typeof t.allIgnoredTokens);if((0,i.hasProperty)(t,"allDetectedTokens")&&(0,i.isObject)(t.allDetectedTokens)){const{allDetectedTokens:e}=t;for(const t of Object.keys(e))"undefined"!==t&&t!==undefined||delete e[t];t.allDetectedTokens=(0,s.mapKeys)(e,((e,t)=>c(t)))}else if((0,i.hasProperty)(t,"allDetectedTokens")){var g,v;null===(g=global.sentry)||void 0===g||null===(v=g.captureException)||void 0===v||v.call(g,new Error("typeof state.TokensController.allDetectedTokens is "+typeof t.allDetectedTokens))}else a.default.warn("typeof state.TokensController.allDetectedTokens is "+typeof t.allDetectedTokens);e.TokensController=t}else{var b,T;null===(b=global.sentry)||void 0===b||null===(T=b.captureException)||void 0===T||T.call(b,new Error("typeof state.TokensController is "+typeof e.TokensController))}}(t.data),t},r.version=void 0;var n,i=e("@metamask/utils"),o=e("ethereumjs-util"),s=e("lodash"),a=(n=e("loglevel"))&&n.__esModule?n:{default:n};const l=r.version=88;function c(e){if("string"==typeof e&&(0,i.isStrictHexString)(e))return e;return`0x${o.BN.isBN(e)?e.toString(16):new o.BN(e.toString(),10).toString(16)}`}}}},{package:"$root$",file:"app/scripts/migrations/088.ts"}],[185,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if((0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,n.hasProperty)(e.NetworkController,"providerConfig")&&(0,n.isObject)(e.NetworkController.providerConfig)){const{networkConfigurations:t,providerConfig:r}=e.NetworkController;if(!(0,n.isObject)(t))return e;if(r.id)return e;let i;for(const o of Object.keys(t)){const s=t[o];if(!(0,n.isObject)(s))return e;if(s.rpcUrl===r.rpcUrl){i=s.id;break}}return i?(e.NetworkController.providerConfig={...r,id:i},{...e,NetworkController:e.NetworkController}):e}var t,r;if((0,n.isObject)(e.NetworkController)){if(!(0,n.isObject)(e.NetworkController.providerConfig)){var i,o;null===(i=global.sentry)||void 0===i||null===(o=i.captureException)||void 0===o||o.call(i,new Error("typeof state.NetworkController.providerConfig is "+typeof e.NetworkController.providerConfig))}}else null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=r.version=89}}},{package:"$root$",file:"app/scripts/migrations/089.ts"}],[186,{"@metamask/utils":1982,lodash:3477,loglevel:3483},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=a,t.data=function(e){if(!(0,o.hasProperty)(e,"PhishingController"))return s.default.warn("typeof state.PhishingController is undefined"),e;if(!(0,o.isObject)(e.PhishingController)){var t,r;return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.PhishingController is "+typeof e.PhishingController)),e}if(!(0,o.hasProperty)(e.PhishingController,"listState"))return s.default.warn("typeof state.PhishingController.listState is "+typeof e.PhishingController),e;return delete e.PhishingController.listState,e}(t.data),t},r.version=void 0;var n,i=e("lodash"),o=e("@metamask/utils"),s=(n=e("loglevel"))&&n.__esModule?n:{default:n};const a=r.version=90}}},{package:"$root$",file:"app/scripts/migrations/090.ts"}],[187,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if((0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,n.hasProperty)(e.NetworkController,"networkConfigurations")&&(0,n.isObject)(e.NetworkController.networkConfigurations)){const{networkConfigurations:t}=e.NetworkController;for(const[e,r]of Object.entries(t))(0,n.isObject)(r)&&(r.chainId||delete t[e]);return e.NetworkController={...e.NetworkController,networkConfigurations:t},{...e,NetworkController:e.NetworkController}}var t,r;if((0,n.isObject)(e.NetworkController)){if(!(0,n.isObject)(e.NetworkController.networkConfigurations)){var i,o;null===(i=global.sentry)||void 0===i||null===(o=i.captureException)||void 0===o||o.call(i,new Error("typeof state.NetworkController.networkConfigurations is "+typeof e.NetworkController.networkConfigurations))}}else null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=r.version=91}}},{package:"$root$",file:"app/scripts/migrations/091.ts"}],[188,{"@metamask/utils":1982,lodash:3477,loglevel:3483},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=a,t.data=function(e){if(!(0,o.hasProperty)(e,"TokenListController"))return s.default.warn("Skipping migration, TokenListController state is missing"),e;var t,r;if(!(0,o.isObject)(e.TokenListController))return null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.TokenListController is "+typeof e.TokenListController)),e;if(!(0,o.hasProperty)(e.TokenListController,"tokensChainsCache"))return s.default.warn("Skipping migration, TokenListController.tokensChainsCache state is missing"),e;e.TokenListController.tokensChainsCache===undefined&&delete e.TokenListController.tokensChainsCache;return e}(t.data),t},r.version=void 0;var n,i=e("lodash"),o=e("@metamask/utils"),s=(n=e("loglevel"))&&n.__esModule?n:{default:n};const a=r.version=92.1}}},{package:"$root$",file:"app/scripts/migrations/092.1.ts"}],[189,{"@metamask/utils":1982,"@sentry/browser":2072,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,o.cloneDeep)(e);return t.meta.version=s,t.data=function(e){return function(e){const t=["networkId","networkStatus","providerConfig","networkDetails","networkConfigurations"];if(!(0,n.hasProperty)(e,"NetworkController")||!(0,o.isObject)(e.NetworkController))return(0,i.captureException)(`Migration ${s}: Invalid NetworkController state: ${typeof e.NetworkController}`),e;const r=e.NetworkController,a=(0,o.pick)(r,t);return{...e,NetworkController:a}}(e)}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("@sentry/browser"),o=e("lodash");const s=r.version=92.2}}},{package:"$root$",file:"app/scripts/migrations/092.2.ts"}],[19,{"../../../../shared/constants/permissions":4134,"@metamask/permission-controller":1469,"ethereumjs-util":2896},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CaveatMutatorFactories=void 0;var n=e("@metamask/permission-controller"),i=e("ethereumjs-util"),o=e("../../../../shared/constants/permissions");r.CaveatMutatorFactories={[o.CaveatTypes.restrictReturnedAccounts]:{removeAccount:function(e,t){const r=(0,i.toChecksumAddress)(e),o=t.filter((e=>(0,i.toChecksumAddress)(e)!==r));if(o.length===t.length)return{operation:n.CaveatMutatorOperation.noop};if(o.length>0)return{operation:n.CaveatMutatorOperation.updateValue,value:o};return{operation:n.CaveatMutatorOperation.revokePermission}}}}}}},{package:"$root$",file:"app/scripts/controllers/permissions/caveat-mutators.js"}],[190,{"@metamask/utils":1982,lodash:3477,loglevel:3483},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,o.cloneDeep)(e);return t.meta.version=a,function(e){!function(e){if((0,i.isNullOrUndefined)(e.PreferencesController))return void s.default.warn(`Migration #${a}: preferences controller null or undefined, skipping migration`);if((0,i.hasProperty)(e,"AppStateController")&&(0,i.isObject)(e.AppStateController)&&(0,i.hasProperty)(e,"PreferencesController")&&(0,i.isObject)(e.PreferencesController)){var t;const r=null===(t=e.PreferencesController)||void 0===t?void 0:t.advancedGasFee,n=(0,i.isObject)(r)&&l(r);e.AppStateController.hadAdvancedGasFeesSetPriorToMigration92_3=n,(null===e.PreferencesController.advancedGasFee||(0,i.isObject)(e.PreferencesController.advancedGasFee)&&l(e.PreferencesController.advancedGasFee))&&(e.PreferencesController.advancedGasFee={})}else if(!1===(0,i.isObject)(e.AppStateController)){var r,n;null===(r=global.sentry)||void 0===r||null===(n=r.captureException)||void 0===n||n.call(r,new Error("typeof state.AppStateController is "+typeof e.AppStateController))}else if(!1===(0,i.isObject)(e.PreferencesController)){var o,c;null===(o=global.sentry)||void 0===o||null===(c=o.captureException)||void 0===c||c.call(o,new Error("typeof state.PreferencesController is "+typeof e.PreferencesController))}}(e)}(t.data),t},r.version=void 0;var n,i=e("@metamask/utils"),o=e("lodash"),s=(n=e("loglevel"))&&n.__esModule?n:{default:n};const a=r.version=92.3;function l(e){const t=Object.keys(e);return!(!t.includes("maxBaseFee")&&!t.includes("priorityFee"))}}}},{package:"$root$",file:"app/scripts/migrations/092.3.ts"}],[191,{"@metamask/utils":1982,lodash:3477,loglevel:3483},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=a,t.data=function(e){if((0,o.hasProperty)(e,"PhishingController")&&(0,o.isObject)(e.PhishingController))delete e.PhishingController.stalelistLastFetched,delete e.PhishingController.hotlistLastFetched;else if((0,o.hasProperty)(e,"PhishingController")){var t,r;null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.PhishingController is "+typeof e.PhishingController))}else s.default.warn("typeof state.PhishingController is undefined");return e}(t.data),t},r.version=void 0;var n,i=e("lodash"),o=e("@metamask/utils"),s=(n=e("loglevel"))&&n.__esModule?n:{default:n};const a=r.version=92}}},{package:"$root$",file:"app/scripts/migrations/092.ts"}],[192,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if((0,i.hasProperty)(e,"NetworkController")&&(0,i.isObject)(e.NetworkController)&&(0,i.hasProperty)(e.NetworkController,"providerConfig")&&(0,i.isObject)(e.NetworkController.providerConfig)){const{providerConfig:t}=e.NetworkController;return t.ticker?e:(e.NetworkController.providerConfig={ticker:"ETH",...t},{...e,NetworkController:e.NetworkController})}var t,r;if((0,i.isObject)(e.NetworkController)){if((0,i.isObject)(e.NetworkController)&&!(0,i.isObject)(e.NetworkController.providerConfig)){var n,o;null===(n=global.sentry)||void 0===n||null===(o=n.captureException)||void 0===o||o.call(n,new Error("typeof state.NetworkController.providerConfig is "+typeof e.NetworkController.providerConfig))}}else null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=r.version=93}}},{package:"$root$",file:"app/scripts/migrations/093.ts"}],[193,{"@metamask/controller-utils":1077,"@metamask/network-controller":1385,"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=a,t.data=function(e){if((0,i.hasProperty)(e,"NetworkController")&&(0,i.isObject)(e.NetworkController)&&(0,i.hasProperty)(e.NetworkController,"providerConfig")&&(0,i.isObject)(e.NetworkController.providerConfig)&&((0,i.hasProperty)(e.NetworkController.providerConfig,"id")||(0,i.hasProperty)(e.NetworkController.providerConfig,"type")&&e.NetworkController.providerConfig.type!==s.NetworkType.rpc)){const t=e.NetworkController.providerConfig.id||e.NetworkController.providerConfig.type;if(!t||"string"!=typeof t)return e;const r={[t]:{EIPS:{},status:o.NetworkStatus.Unknown}};if((0,i.hasProperty)(e.NetworkController,"networkDetails")&&(0,i.isObject)(e.NetworkController.networkDetails)){const{networkDetails:n}=e.NetworkController;n.EIPS&&(0,i.isObject)(n.EIPS)&&(r[t].EIPS={...n.EIPS}),delete e.NetworkController.networkDetails}return(0,i.hasProperty)(e.NetworkController,"networkStatus")&&"string"==typeof e.NetworkController.networkStatus&&(r[t].status=e.NetworkController.networkStatus,delete e.NetworkController.networkStatus),{...e,NetworkController:{...e.NetworkController,networksMetadata:r,selectedNetworkClientId:t}}}var t,r;if((0,i.isObject)(e.NetworkController)){if((0,i.isObject)(e.NetworkController)&&!(0,i.isObject)(e.NetworkController.providerConfig)){var n,a;null===(n=global.sentry)||void 0===n||null===(a=n.captureException)||void 0===a||a.call(n,new Error("typeof state.NetworkController.providerConfig is "+typeof e.NetworkController.providerConfig))}else if((0,i.isObject)(e.NetworkController)&&(0,i.isObject)(e.NetworkController.providerConfig)){var l,c;null===(l=global.sentry)||void 0===l||null===(c=l.captureException)||void 0===c||c.call(l,new Error(`typeof state.NetworkController.providerConfig.id is ${typeof e.NetworkController.providerConfig.id} and state.NetworkController.providerConfig.type is ${e.NetworkController.providerConfig.type}`))}}else null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController));return e}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils"),o=e("@metamask/network-controller"),s=e("@metamask/controller-utils");const a=r.version=94}}},{package:"$root$",file:"app/scripts/migrations/094.ts"}],[1938,{"./chunk-BTR56Y3F.js":1940,"./chunk-K6XMMCKJ.js":1941,"./chunk-KQMYR73X.js":1942,"@metamask/controller-utils":1077,"@metamask/utils":1982,"bn.js":2586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./chunk-K6XMMCKJ.js"),o=e("./chunk-KQMYR73X.js"),s=e("./chunk-BTR56Y3F.js"),a=e("@metamask/controller-utils"),l=e("@metamask/utils"),c=e("bn.js"),u=(n=c)&&n.__esModule?n:{default:n},d=o.createModuleLogger.call(void 0,o.projectLogger,"gas"),p=1.5;function h(e){const t=("string"==typeof e?a.hexToBN.call(void 0,e):new(0,u.default)(e)).muln(p);return l.add0x.call(void 0,t.toString(16))}r.updateGas=async function(e,t,r){const{userOperation:n}=e;if(t.gas)return n.callGasLimit=t.gas.callGasLimit,n.preVerificationGas=t.gas.preVerificationGas,n.verificationGasLimit=t.gas.verificationGasLimit,void d("Using gas values from smart contract account",{callGasLimit:n.callGasLimit,preVerificationGas:n.preVerificationGas,verificationGasLimit:n.verificationGasLimit});const o={...n,maxFeePerGas:s.VALUE_ZERO,maxPriorityFeePerGas:s.VALUE_ZERO,callGasLimit:s.VALUE_ZERO,preVerificationGas:s.VALUE_ZERO,verificationGasLimit:"0xF4240"},a=new(0,i.Bundler)(e.bundlerUrl),l=await a.estimateUserOperationGas(o,r);n.callGasLimit=h(l.callGasLimit),n.preVerificationGas=h(l.preVerificationGas),n.verificationGasLimit=h(l.verificationGasLimit??l.verificationGas),d("Using buffered gas values from bundler estimate",{callGasLimit:n.callGasLimit,preVerificationGas:n.preVerificationGas,verificationGasLimit:n.verificationGasLimit,multiplier:p,estimate:l})}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-7JPKNM2X.js"}],[1939,{"./chunk-K6XMMCKJ.js":1941,"./chunk-KQMYR73X.js":1942,"./chunk-Z4BLTVTB.js":1949,"@metamask/controller-utils":1077,"@metamask/eth-query":1149,"@metamask/polling-controller":1960,"@metamask/utils":1982,events:2936},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i,o,s,a,l,c,u,d,p,h,f,m,y,g,v,b,T=e("./chunk-K6XMMCKJ.js"),w=e("./chunk-KQMYR73X.js"),_=e("./chunk-Z4BLTVTB.js"),S=e("@metamask/controller-utils"),E=n(e("@metamask/eth-query")),k=e("@metamask/polling-controller"),O=e("@metamask/utils"),P=n(e("events")),A=O.createModuleLogger.call(void 0,w.projectLogger,"pending-user-operations"),x=class extends k.BlockTrackerPollingControllerOnly{constructor({getUserOperations:e,messenger:t}){super(),_.__privateAdd.call(void 0,this,s),_.__privateAdd.call(void 0,this,l),_.__privateAdd.call(void 0,this,u),_.__privateAdd.call(void 0,this,p),_.__privateAdd.call(void 0,this,f),_.__privateAdd.call(void 0,this,y),_.__privateAdd.call(void 0,this,v),_.__privateAdd.call(void 0,this,i,void 0),_.__privateAdd.call(void 0,this,o,void 0),this.hub=new(0,P.default),_.__privateSet.call(void 0,this,i,e),_.__privateSet.call(void 0,this,o,t)}async _executePoll(e,t){try{const{blockTracker:t,configuration:r,provider:n}=this._getNetworkClientById(e);A("Polling",{blockNumber:t.getCurrentBlock(),chainId:r.chainId}),await _.__privateMethod.call(void 0,this,s,a).call(this,r.chainId,n)}catch(e){A("Failed to check user operations",e)}}_getNetworkClientById(e){return _.__privateGet.call(void 0,this,o).call("NetworkController:getNetworkClientById",e)}};i=new WeakMap,o=new WeakMap,s=new WeakSet,a=async function(e,t){const r=_.__privateMethod.call(void 0,this,f,m).call(this).filter((t=>t.chainId===e));r.length?(A("Found pending user operations to check",{count:r.length,ids:r.map((e=>e.id))}),await Promise.all(r.map((e=>_.__privateMethod.call(void 0,this,l,c).call(this,e,t))))):A("No pending user operations to check")},l=new WeakSet,c=async function(e,t){const{bundlerUrl:r,hash:n,id:i}=e;if(n&&r)try{const o=await _.__privateMethod.call(void 0,this,v,b).call(this,n,r),s=o?.success;if(o&&!s)return void _.__privateMethod.call(void 0,this,p,h).call(this,e,o);if(s)return void await _.__privateMethod.call(void 0,this,u,d).call(this,e,o,t);A("No receipt found for user operation",{id:i,hash:n})}catch(e){A("Failed to check user operation",i,e)}else A("Skipping user operation as missing hash or bundler",i)},u=new WeakSet,d=async function(e,t,r){const{id:n}=e,{actualGasCost:i,actualGasUsed:o,receipt:{blockHash:s,transactionHash:a}}=t;A("User operation confirmed",n,a);const{baseFeePerGas:l}=await S.query.call(void 0,new(0,E.default)(r),"getBlockByHash",[s,!1]);e.actualGasCost=i,e.actualGasUsed=o,e.baseFeePerGas=l,e.status="confirmed",e.transactionHash=a,_.__privateMethod.call(void 0,this,y,g).call(this,e),this.hub.emit("user-operation-confirmed",e)},p=new WeakSet,h=function(e,t){const{id:r}=e;A("User operation failed",r),e.status="failed",_.__privateMethod.call(void 0,this,y,g).call(this,e),this.hub.emit("user-operation-failed",e,new Error("User operation receipt has failed status"))},f=new WeakSet,m=function(){return _.__privateGet.call(void 0,this,i).call(this).filter((e=>"submitted"===e.status))},y=new WeakSet,g=function(e){this.hub.emit("user-operation-updated",e)},v=new WeakSet,b=async function(e,t){return new(0,T.Bundler)(t).getUserOperationReceipt(e)},r.PendingUserOperationTracker=x}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-B7GI5EWI.js"}],[194,{lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=i,function(e){(function(e){var t,r;const n=(null===(t=e.IncomingTransactionsController)||void 0===t?void 0:t.incomingTransactions)||{};if(0===Object.keys(n).length)return;const i=(null===(r=e.TransactionController)||void 0===r?void 0:r.transactions)||{},o=Object.values(n).reduce(((e,t)=>(e[t.id]=t,e)),i);e.TransactionController={...e.TransactionController||{},transactions:o}})(e),function(e){var t;const r=(null===(t=e.IncomingTransactionsController)||void 0===t?void 0:t.incomingTransactions)||{};if(0===Object.keys(r).length)return;const n={};for(const e of Object.values(r)){if(!e.blockNumber||!e.chainId||!e.txParams.to)continue;const t=parseInt(e.blockNumber,10),r=`${e.chainId}#${e.txParams.to.toLowerCase()}`,i=n[r]||-1;n[r]=Math.max(i,t)}e.TransactionController={...e.TransactionController,lastFetchedBlockNumbers:n}}(e),function(e){delete e.IncomingTransactionsController}(e)}(t.data),t},r.version=void 0;var n=e("lodash");const i=r.version=95}}},{package:"$root$",file:"app/scripts/migrations/095.ts"}],[1940,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});r.EMPTY_BYTES="0x",r.ADDRESS_ZERO="0x0000000000000000000000000000000000000000",r.VALUE_ZERO="0x0"}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-BTR56Y3F.js"}],[1941,{"./chunk-KQMYR73X.js":1942,"./chunk-Z4BLTVTB.js":1949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s=e("./chunk-KQMYR73X.js"),a=e("./chunk-Z4BLTVTB.js"),l=s.createModuleLogger.call(void 0,s.projectLogger,"bundler");n=new WeakMap,i=new WeakSet,o=async function(e,t){const r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:e,params:t})},i=await fetch(a.__privateGet.call(void 0,this,n),r),o=await i.json();if(o.error){const e=new Error(o.error.message||o.error);throw e.code=o.error.code,e}return o.result},r.Bundler=class{constructor(e){a.__privateAdd.call(void 0,this,i),a.__privateAdd.call(void 0,this,n,void 0),a.__privateSet.call(void 0,this,n,e)}async estimateUserOperationGas(e,t){l("Estimating gas",{url:a.__privateGet.call(void 0,this,n),userOperation:e,entrypoint:t});const r=await a.__privateMethod.call(void 0,this,i,o).call(this,"eth_estimateUserOperationGas",[e,t]);return l("Estimated gas",{response:r}),r}async getUserOperationReceipt(e){return l("Getting user operation receipt",{url:a.__privateGet.call(void 0,this,n),hash:e}),await a.__privateMethod.call(void 0,this,i,o).call(this,"eth_getUserOperationReceipt",[e])}async sendUserOperation(e,t){l("Sending user operation",{url:a.__privateGet.call(void 0,this,n),userOperation:e,entrypoint:t});const r=await a.__privateMethod.call(void 0,this,i,o).call(this,"eth_sendUserOperation",[e,t]);return l("Sent user operation",r),r}}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-K6XMMCKJ.js"}],[1942,{"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("@metamask/utils"),i=n.createProjectLogger.call(void 0,"user-operation-controller");r.createModuleLogger=n.createModuleLogger,r.projectLogger=i}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-KQMYR73X.js"}],[1943,{"./chunk-BTR56Y3F.js":1940,"@metamask/transaction-controller":1931,"@metamask/utils":1982,superstruct:4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-BTR56Y3F.js"),i=e("@metamask/transaction-controller"),o=e("@metamask/utils"),s=e("superstruct");function a(e,t,r){try{s.assert.call(void 0,e,t,r)}catch(e){const t=e.failures().map((e=>e.path.length?`${e.path.join(".")} - ${e.message}`:e.message)).join("\n");throw new Error(`${r}\n${t}`)}}function l(){return s.define.call(void 0,"Hexadecimal String",(e=>o.isStrictHexString.call(void 0,e)))}function c(){return s.define.call(void 0,"Hexadecimal String or 0x",(e=>o.isStrictHexString.call(void 0,e)||e===n.EMPTY_BYTES))}r.validateAddUserOperationRequest=function(e){const t=l(),r=c();a(e,s.object.call(void 0,{data:s.optional.call(void 0,r),from:t,maxFeePerGas:s.optional.call(void 0,t),maxPriorityFeePerGas:s.optional.call(void 0,t),to:s.optional.call(void 0,t),value:s.optional.call(void 0,t)}),"Invalid request to add user operation")},r.validateAddUserOperationOptions=function(e){a(e,s.object.call(void 0,{networkClientId:s.string.call(void 0),origin:s.string.call(void 0),requireApproval:s.optional.call(void 0,s.boolean.call(void 0)),smartContractAccount:s.optional.call(void 0,s.object.call(void 0,{prepareUserOperation:s.func.call(void 0),updateUserOperation:s.func.call(void 0),signUserOperation:s.func.call(void 0)})),swaps:s.optional.call(void 0,s.object.call(void 0,{approvalTxId:s.optional.call(void 0,s.string.call(void 0)),destinationTokenAddress:s.optional.call(void 0,s.string.call(void 0)),destinationTokenDecimals:s.optional.call(void 0,s.number.call(void 0)),destinationTokenSymbol:s.optional.call(void 0,s.string.call(void 0)),estimatedBaseFee:s.optional.call(void 0,s.string.call(void 0)),sourceTokenSymbol:s.optional.call(void 0,s.string.call(void 0)),swapMetaData:s.optional.call(void 0,s.object.call(void 0)),swapTokenValue:s.optional.call(void 0,s.string.call(void 0))})),type:s.optional.call(void 0,s.enums.call(void 0,Object.values(i.TransactionType)))}),"Invalid options to add user operation")},r.validatePrepareUserOperationResponse=function(e){const t=l(),r=c();a(e,s.refine.call(void 0,s.object.call(void 0,{bundler:s.string.call(void 0),callData:t,dummyPaymasterAndData:s.optional.call(void 0,r),dummySignature:s.optional.call(void 0,r),gas:s.optional.call(void 0,s.object.call(void 0,{callGasLimit:t,preVerificationGas:t,verificationGasLimit:t})),initCode:s.optional.call(void 0,r),nonce:t,sender:t}),"ValidPrepareUserOperationResponse",(({gas:e,dummySignature:t})=>!!(e||t&&t!==n.EMPTY_BYTES)||"Must specify dummySignature if not specifying gas")),"Invalid response when preparing user operation")},r.validateUpdateUserOperationResponse=function(e){const t=l();a(e,s.optional.call(void 0,s.object.call(void 0,{paymasterAndData:s.optional.call(void 0,t)})),"Invalid response when updating user operation")},r.validateSignUserOperationResponse=function(e){const t=l();a(e,s.object.call(void 0,{signature:t}),"Invalid response when signing user operation")}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-OH6WM4Z6.js"}],[1944,{"./chunk-BTR56Y3F.js":1940,"./chunk-Z4BLTVTB.js":1949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./chunk-BTR56Y3F.js"),o=e("./chunk-Z4BLTVTB.js");n=new WeakMap,r.SnapSmartContractAccount=class{constructor(e){o.__privateAdd.call(void 0,this,n,void 0),o.__privateSet.call(void 0,this,n,e)}async prepareUserOperation(e){const{data:t,from:r,to:s,value:a}=e,l=t??i.EMPTY_BYTES,c=s??i.ADDRESS_ZERO,u=a??i.VALUE_ZERO,d=await o.__privateGet.call(void 0,this,n).call("KeyringController:prepareUserOperation",r,[{data:l,to:c,value:u}]),{bundlerUrl:p,callData:h,dummyPaymasterAndData:f,dummySignature:m,gasLimits:y,initCode:g,nonce:v}=d;return{bundler:p,callData:h,dummyPaymasterAndData:f,dummySignature:m,gas:y,initCode:g,nonce:v,sender:r}}async updateUserOperation(e){const{userOperation:t}=e,{sender:r}=t,{paymasterAndData:s}=await o.__privateGet.call(void 0,this,n).call("KeyringController:patchUserOperation",r,t);return{paymasterAndData:s===i.EMPTY_BYTES?void 0:s}}async signUserOperation(e){const{userOperation:t}=e,{sender:r}=t;return{signature:await o.__privateGet.call(void 0,this,n).call("KeyringController:signUserOperation",r,t)}}}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-QVY5Q2VX.js"}],[1945,{"./chunk-BTR56Y3F.js":1940,"./chunk-KQMYR73X.js":1942,"@metamask/controller-utils":1077,"@metamask/eth-query":1149,"@metamask/gas-fee-controller":1238,"@metamask/transaction-controller":1931,"@metamask/utils":1982},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./chunk-KQMYR73X.js"),o=e("./chunk-BTR56Y3F.js"),s=e("@metamask/controller-utils"),a=e("@metamask/eth-query"),l=(n=a)&&n.__esModule?n:{default:n},c=e("@metamask/gas-fee-controller"),u=e("@metamask/transaction-controller"),d=e("@metamask/utils"),p=i.createModuleLogger.call(void 0,i.projectLogger,"gas-fees");function h(e){return s.toHex.call(void 0,s.gweiDecToWEIBN.call(void 0,e))}function f(e){return!e||e===o.EMPTY_BYTES}r.updateGasFees=async function(e){const{metadata:t,originalRequest:r,transaction:n}=e,{userOperation:i}=t;let o;const a=async()=>(o||(o=await async function(e){const{getGasFeeEstimates:t,provider:r}=e;try{const{gasFeeEstimates:e,gasEstimateType:r}=await t();if(r===c.GAS_ESTIMATE_TYPES.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:t,suggestedMaxFeePerGas:r}={}}=e;if(t&&r){const e={maxFeePerGas:h(r),maxPriorityFeePerGas:h(t)};return p("Using medium values from fee market estimate",e),e}}if(r===c.GAS_ESTIMATE_TYPES.LEGACY){const t=h(e.medium);return p("Using medium value from legacy estimate",t),{maxFeePerGas:t}}if(r===c.GAS_ESTIMATE_TYPES.ETH_GASPRICE){const t=h(e.gasPrice);return p("Using gasPrice from estimate",t),{maxFeePerGas:t}}}catch(e){p("Failed to get estimate",e)}const n=await s.query.call(void 0,new(0,l.default)(r),"gasPrice");if(!n)return{};const i=d.add0x.call(void 0,n.toString(16));return p("Using gasPrice from network as fallback",i),{maxFeePerGas:i}}(e)),o);i.maxFeePerGas=await async function(e,t,r){const{maxFeePerGas:n,maxPriorityFeePerGas:i}=e,{gasPrice:o}=r??{};if(!f(n))return p("Using maxFeePerGas from request",n),n;if(f(i)&&o)return p("Setting maxFeePerGas to transaction gasPrice",o),o;const{maxFeePerGas:s}=await t();if(!s)throw new Error("Failed to get gas fee estimate for maxFeePerGas");return p("Using maxFeePerGas from estimate",s),s}(r,a,n),i.maxPriorityFeePerGas=await async function(e,t,r,n){const{maxFeePerGas:i,maxPriorityFeePerGas:o}=e,{gasPrice:s}=n??{},{maxFeePerGas:a}=r;if(!f(o))return p("Using maxPriorityFeePerGas from request",o),o;if(f(i)&&s)return p("Setting maxPriorityFeePerGas to transaction gasPrice",s),s;const{maxPriorityFeePerGas:l}=await t();if(l)return p("Using maxPriorityFeePerGas from estimate",l),l;return p("Setting maxPriorityFeePerGas to maxFeePerGas",a),a}(r,a,i,n),t.userFeeLevel=function(e,t,r,n){const{origin:i}=e,{maxFeePerGas:o,maxPriorityFeePerGas:a}=t,{maxFeePerGas:l,maxPriorityFeePerGas:c}=r||{};if(f(o)&&f(a)&&n?.gasPrice)return i===s.ORIGIN_METAMASK?u.UserFeeLevel.CUSTOM:u.UserFeeLevel.DAPP_SUGGESTED;if(f(o)&&f(a)&&l&&c)return u.UserFeeLevel.MEDIUM;if(i===s.ORIGIN_METAMASK)return u.UserFeeLevel.CUSTOM;return u.UserFeeLevel.DAPP_SUGGESTED}(t,r,o,n)}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-SSHRMBLI.js"}],[1946,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e=>(e.Unapproved="unapproved",e.Approved="approved",e.Signed="signed",e.Submitted="submitted",e.Failed="failed",e.Confirmed="confirmed",e))(n||{});r.UserOperationStatus=n}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-W4DFKKZT.js"}],[1947,{"./chunk-7JPKNM2X.js":1938,"./chunk-B7GI5EWI.js":1939,"./chunk-BTR56Y3F.js":1940,"./chunk-K6XMMCKJ.js":1941,"./chunk-KQMYR73X.js":1942,"./chunk-OH6WM4Z6.js":1943,"./chunk-QVY5Q2VX.js":1944,"./chunk-SSHRMBLI.js":1945,"./chunk-WF3VLEGJ.js":1948,"./chunk-Z4BLTVTB.js":1949,"@metamask/base-controller":1956,"@metamask/controller-utils":1077,"@metamask/eth-query":1149,"@metamask/rpc-errors":1566,"@metamask/transaction-controller":1931,"@metamask/utils":1982,events:2936,lodash:3477,uuid:4067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i,o,s,a,l,c,u,d,p,h,f,m,y,g,v,b,T,w,_,S,E,k,O,P,A,x,C,I,j,B,M,N,R,L,U,D,F,G,H,$,V,z,W,q=e("./chunk-SSHRMBLI.js"),K=e("./chunk-7JPKNM2X.js"),Y=e("./chunk-WF3VLEGJ.js"),Q=e("./chunk-OH6WM4Z6.js"),J=e("./chunk-B7GI5EWI.js"),Z=e("./chunk-K6XMMCKJ.js"),X=e("./chunk-KQMYR73X.js"),ee=e("./chunk-QVY5Q2VX.js"),te=e("./chunk-BTR56Y3F.js"),re=e("./chunk-Z4BLTVTB.js"),ne=e("@metamask/base-controller"),ie=e("@metamask/controller-utils"),oe=n(e("@metamask/eth-query")),se=e("@metamask/rpc-errors"),ae=e("@metamask/transaction-controller"),le=e("@metamask/utils"),ce=n(e("events")),ue=e("lodash"),de=e("uuid"),pe={userOperations:{persist:!0,anonymous:!1}},he=class extends ne.BaseController{constructor({entrypoint:e,getGasFeeEstimates:t,messenger:r,state:n}){super({name:"UserOperationController",metadata:pe,messenger:r,state:{userOperations:{},...n}}),re.__privateAdd.call(void 0,this,a),re.__privateAdd.call(void 0,this,c),re.__privateAdd.call(void 0,this,d),re.__privateAdd.call(void 0,this,h),re.__privateAdd.call(void 0,this,m),re.__privateAdd.call(void 0,this,g),re.__privateAdd.call(void 0,this,b),re.__privateAdd.call(void 0,this,w),re.__privateAdd.call(void 0,this,S),re.__privateAdd.call(void 0,this,k),re.__privateAdd.call(void 0,this,P),re.__privateAdd.call(void 0,this,x),re.__privateAdd.call(void 0,this,I),re.__privateAdd.call(void 0,this,B),re.__privateAdd.call(void 0,this,N),re.__privateAdd.call(void 0,this,L),re.__privateAdd.call(void 0,this,D),re.__privateAdd.call(void 0,this,G),re.__privateAdd.call(void 0,this,$),re.__privateAdd.call(void 0,this,z),re.__privateAdd.call(void 0,this,i,void 0),re.__privateAdd.call(void 0,this,o,void 0),re.__privateAdd.call(void 0,this,s,void 0),this.hub=new(0,ce.default),re.__privateSet.call(void 0,this,i,e),re.__privateSet.call(void 0,this,o,t),re.__privateSet.call(void 0,this,s,new(0,J.PendingUserOperationTracker)({getUserOperations:()=>ue.cloneDeep.call(void 0,Object.values(this.state.userOperations)),messenger:r})),re.__privateMethod.call(void 0,this,N,R).call(this)}async addUserOperation(e,t){return Q.validateAddUserOperationRequest.call(void 0,e),Q.validateAddUserOperationOptions.call(void 0,t),await re.__privateMethod.call(void 0,this,a,l).call(this,e,t)}async addUserOperationFromTransaction(e,t){Q.validateAddUserOperationOptions.call(void 0,t);const{data:r,from:n,maxFeePerGas:i,maxPriorityFeePerGas:o,to:s,value:c}=e,u={data:""===r?void 0:r,from:n,maxFeePerGas:i,maxPriorityFeePerGas:o,to:s,value:c};return Q.validateAddUserOperationRequest.call(void 0,u),await re.__privateMethod.call(void 0,this,a,l).call(this,u,{...t,transaction:e})}startPollingByNetworkClientId(e){return re.__privateGet.call(void 0,this,s).startPollingByNetworkClientId(e)}};i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakSet,l=async function(e,t){X.projectLogger.call(void 0,"Adding user operation",{request:e,options:t});const{networkClientId:r,origin:n,smartContractAccount:i,swaps:o,transaction:s}=t,{chainId:a,provider:l}=await re.__privateMethod.call(void 0,this,G,H).call(this,r),m=await re.__privateMethod.call(void 0,this,h,f).call(this,a,n,s,o),y=i??new(0,ee.SnapSmartContractAccount)(this.messagingSystem),g={chainId:a,metadata:m,options:{...t,smartContractAccount:y},provider:l,request:e,transaction:s},{id:v}=m;let b=!1;const T=(async()=>{try{return await re.__privateMethod.call(void 0,this,c,u).call(this,g)}catch(e){if(re.__privateMethod.call(void 0,this,k,O).call(this,m,e),b)throw e;return}})(),w=async()=>(b=!0,await T);return{id:v,hash:w,transactionHash:async()=>{await w();const{transactionHash:e}=await re.__privateMethod.call(void 0,this,d,p).call(this,m);return e}}},c=new WeakSet,u=async function(e){const{metadata:t,options:r}=e,{requireApproval:n,smartContractAccount:i}=r;let o;try{return await re.__privateMethod.call(void 0,this,m,y).call(this,e),await re.__privateMethod.call(void 0,this,g,v).call(this,t,i),this.hub.emit("user-operation-added",t),!1!==n&&(o=await re.__privateMethod.call(void 0,this,b,T).call(this,e)),await re.__privateMethod.call(void 0,this,w,_).call(this,t,i),await re.__privateMethod.call(void 0,this,S,E).call(this,t),o?.success(),t.hash}catch(e){throw o?.error(e),e}},d=new WeakSet,p=async function(e){const{id:t,hash:r}=e;return X.projectLogger.call(void 0,"Waiting for confirmation",t,r),new Promise(((e,r)=>{this.hub.once(`${t}:confirmed`,(t=>{e(t)})),this.hub.once(`${t}:failed`,((e,t)=>{r(t)}))}))},h=new WeakSet,f=async function(e,t,r,n){const i={actualGasCost:null,actualGasUsed:null,baseFeePerGas:null,bundlerUrl:null,chainId:e,error:null,hash:null,id:de.v1.call(void 0),origin:t,status:"unapproved",swapsMetadata:n?{approvalTxId:n.approvalTxId??null,destinationTokenAddress:n.destinationTokenAddress??null,destinationTokenDecimals:n.destinationTokenDecimals??null,destinationTokenSymbol:n.destinationTokenSymbol??null,estimatedBaseFee:n.estimatedBaseFee??null,sourceTokenSymbol:n.sourceTokenSymbol??null,swapMetaData:n.swapMetaData??null,swapTokenValue:n.swapTokenValue??null}:null,time:Date.now(),transactionHash:null,transactionParams:r??null,transactionType:null,userFeeLevel:null,userOperation:re.__privateMethod.call(void 0,this,P,A).call(this,r)};return re.__privateMethod.call(void 0,this,x,C).call(this,i),X.projectLogger.call(void 0,"Added user operation",i.id),i},m=new WeakSet,y=async function(e){const{chainId:t,metadata:r,options:n,provider:s,request:a,transaction:l}=e,{data:c,from:u,to:d,value:p}=a,{id:h,transactionParams:f,userOperation:m}=r,{smartContractAccount:y}=n;X.projectLogger.call(void 0,"Preparing user operation",{id:h});const g=await re.__privateMethod.call(void 0,this,D,F).call(this,l,s,n);r.transactionType=g??null,X.projectLogger.call(void 0,"Determined transaction type",g),await q.updateGasFees.call(void 0,{getGasFeeEstimates:re.__privateGet.call(void 0,this,o),metadata:r,originalRequest:a,provider:s,transaction:f??void 0});const v=await y.prepareUserOperation({chainId:t,data:c,from:u,to:d,value:p});Q.validatePrepareUserOperationResponse.call(void 0,v);const{bundler:b,callData:T,dummyPaymasterAndData:w,dummySignature:_,initCode:S,nonce:E,sender:k}=v;m.callData=T,m.initCode=S??te.EMPTY_BYTES,m.nonce=E,m.paymasterAndData=w??te.EMPTY_BYTES,m.sender=k,m.signature=_??te.EMPTY_BYTES,r.bundlerUrl=b,await K.updateGas.call(void 0,r,v,re.__privateGet.call(void 0,this,i)),re.__privateMethod.call(void 0,this,x,C).call(this,r)},g=new WeakSet,v=async function(e,t){const{id:r,userOperation:n}=e;X.projectLogger.call(void 0,"Requesting paymaster data",{id:r});const i=await t.updateUserOperation({userOperation:n});Q.validateUpdateUserOperationResponse.call(void 0,i),n.paymasterAndData=i.paymasterAndData??te.EMPTY_BYTES,re.__privateMethod.call(void 0,this,x,C).call(this,e)},b=new WeakSet,T=async function(e){X.projectLogger.call(void 0,"Requesting approval");const{metadata:t}=e,{resultCallbacks:r,value:n}=await re.__privateMethod.call(void 0,this,L,U).call(this,t),i=n?.txMeta;return i&&await re.__privateMethod.call(void 0,this,$,V).call(this,e,i),t.status="approved",re.__privateMethod.call(void 0,this,x,C).call(this,t),r},w=new WeakSet,_=async function(e,t){const{id:r,chainId:n,userOperation:i}=e;X.projectLogger.call(void 0,"Signing user operation",r,i);const o=await t.signUserOperation({userOperation:i,chainId:n});Q.validateSignUserOperationResponse.call(void 0,o);const{signature:s}=o;i.signature=s,X.projectLogger.call(void 0,"Signed user operation",s),e.status="signed",re.__privateMethod.call(void 0,this,x,C).call(this,e)},S=new WeakSet,E=async function(e){const{userOperation:t}=e;X.projectLogger.call(void 0,"Submitting user operation",t);const r=new(0,Z.Bundler)(e.bundlerUrl),n=await r.sendUserOperation(t,re.__privateGet.call(void 0,this,i));e.hash=n,e.status="submitted",re.__privateMethod.call(void 0,this,x,C).call(this,e)},k=new WeakSet,O=function(e,t){const{id:r}=e,n=t;X.projectLogger.call(void 0,"User operation failed",r,t),e.error={name:n.name,message:n.message,stack:n.stack,code:n.code,rpc:n.value},e.status="failed",re.__privateMethod.call(void 0,this,x,C).call(this,e),String(n.code)===String(se.errorCodes.provider.userRejectedRequest)&&re.__privateMethod.call(void 0,this,I,j).call(this,r)},P=new WeakSet,A=function(e){return{callData:te.EMPTY_BYTES,callGasLimit:te.EMPTY_BYTES,initCode:te.EMPTY_BYTES,maxFeePerGas:e?.maxFeePerGas??te.EMPTY_BYTES,maxPriorityFeePerGas:e?.maxPriorityFeePerGas??te.EMPTY_BYTES,nonce:te.EMPTY_BYTES,paymasterAndData:te.EMPTY_BYTES,preVerificationGas:te.EMPTY_BYTES,sender:te.ADDRESS_ZERO,signature:te.EMPTY_BYTES,verificationGasLimit:te.EMPTY_BYTES}},x=new WeakSet,C=function(e){const{id:t}=e;this.update((r=>{r.userOperations[t]=ue.cloneDeep.call(void 0,e)})),re.__privateMethod.call(void 0,this,B,M).call(this,e)},I=new WeakSet,j=function(e){this.update((t=>{delete t.userOperations[e]}))},B=new WeakSet,M=function(e){if(!e.transactionParams)return;const t=Y.getTransactionMetadata.call(void 0,e);this.hub.emit("transaction-updated",t)},N=new WeakSet,R=function(){re.__privateGet.call(void 0,this,s).hub.on("user-operation-confirmed",(e=>{X.projectLogger.call(void 0,"In listener..."),this.hub.emit("user-operation-confirmed",e),this.hub.emit(`${e.id}:confirmed`,e)})),re.__privateGet.call(void 0,this,s).hub.on("user-operation-failed",((e,t)=>{this.hub.emit("user-operation-failed",e,t),this.hub.emit(`${e.id}:failed`,e,t)})),re.__privateGet.call(void 0,this,s).hub.on("user-operation-updated",(e=>{re.__privateMethod.call(void 0,this,x,C).call(this,e)}))},L=new WeakSet,U=async function(e){const{id:t,origin:r}=e,n=ie.ApprovalType.Transaction,i={txId:t};return await this.messagingSystem.call("ApprovalController:addRequest",{id:t,origin:r,type:n,requestData:i,expectsResult:!0},!0)},D=new WeakSet,F=async function(e,t,r){if(!e)return;if(r.type)return r.type;const n=new(0,oe.default)(t),i=ae.determineTransactionType.call(void 0,e,n);return(await i).type},G=new WeakSet,H=async function(e){const{provider:t,configuration:r}=this.messagingSystem.call("NetworkController:getNetworkClientById",e),{chainId:n}=r;return{provider:t,chainId:n}},$=new WeakSet,V=async function(e,t){X.projectLogger.call(void 0,"Found updated transaction in approval",{updatedTransaction:t});const{metadata:r,request:n}=e,{userOperation:i}=r,o=i.paymasterAndData!==te.EMPTY_BYTES,s=le.add0x.call(void 0,t.txParams.maxFeePerGas),a=le.add0x.call(void 0,t.txParams.maxPriorityFeePerGas);let l=!1;const c=i.maxFeePerGas,u=i.maxPriorityFeePerGas;c===s&&u===a||(X.projectLogger.call(void 0,"Gas fees updated during approval",{previousMaxFeePerGas:c,previousMaxPriorityFeePerGas:u,updatedMaxFeePerGas:s,updatedMaxPriorityFeePerGas:a}),i.maxFeePerGas=s,i.maxPriorityFeePerGas=a,l=o);const d=n.data??te.EMPTY_BYTES,p=t.txParams.data??te.EMPTY_BYTES;d!==p&&(X.projectLogger.call(void 0,"Data updated during approval",{previousData:d,updatedData:p}),l=!0);const h=n.value??te.VALUE_ZERO,f=t.txParams.value??te.VALUE_ZERO;if(h!==f&&(X.projectLogger.call(void 0,"Value updated during approval",{previousValue:h,updatedValue:f}),l=!0),l){const t={...n,data:p,maxFeePerGas:s,maxPriorityFeePerGas:a,value:f};await re.__privateMethod.call(void 0,this,z,W).call(this,{...e,request:t})}},z=new WeakSet,W=async function(e){X.projectLogger.call(void 0,"Regenerating user operation as parameters were updated during approval");const{options:{smartContractAccount:t},metadata:r}=e;await re.__privateMethod.call(void 0,this,m,y).call(this,e),await re.__privateMethod.call(void 0,this,g,v).call(this,r,t),X.projectLogger.call(void 0,"Regenerated user operation",r.userOperation)},r.UserOperationController=he}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-W63SSGH2.js"}],[1948,{"./chunk-BTR56Y3F.js":1940,"@metamask/transaction-controller":1931,"@metamask/utils":1982,"bn.js":2586},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./chunk-BTR56Y3F.js"),o=e("@metamask/transaction-controller"),s=e("@metamask/utils"),a=e("bn.js"),l=(n=a)&&n.__esModule?n:{default:n};r.getTransactionMetadata=function(e){const{actualGasCost:t,actualGasUsed:r,baseFeePerGas:n,chainId:a,error:c,origin:u,transactionHash:d,id:p,swapsMetadata:h,time:f,transactionParams:m,transactionType:y,userFeeLevel:g,userOperation:v}=e;if(!m)return;const b=t&&r?s.add0x.call(void 0,new(0,l.default)(s.remove0x.call(void 0,t),16).div(new(0,l.default)(s.remove0x.call(void 0,r),16)).toString(16)):void 0,T=c?{name:c.name,message:c.message,stack:c.stack,code:c.code,rpc:c.rpc}:void 0,w={unapproved:o.TransactionStatus.unapproved,approved:o.TransactionStatus.approved,signed:o.TransactionStatus.signed,submitted:o.TransactionStatus.submitted,confirmed:o.TransactionStatus.confirmed,failed:o.TransactionStatus.failed}[e.status],_=function(...e){const t=new(0,l.default)(0);for(const r of e)r&&t.iadd(new(0,l.default)(s.remove0x.call(void 0,r),16));return s.add0x.call(void 0,t.toString(16))}(v.preVerificationGas,v.verificationGasLimit,v.callGasLimit),S=v.paymasterAndData!==i.EMPTY_BYTES,E=S?i.VALUE_ZERO:v.maxFeePerGas,k=S?i.VALUE_ZERO:v.maxPriorityFeePerGas,O=v.nonce===i.EMPTY_BYTES?void 0:v.nonce,P={...m,from:v.sender,gas:_,nonce:O,maxFeePerGas:E,maxPriorityFeePerGas:k};delete P.gasPrice;const A={approvalTxId:h?.approvalTxId??void 0,destinationTokenAddress:h?.destinationTokenAddress??void 0,destinationTokenDecimals:h?.destinationTokenDecimals??void 0,destinationTokenSymbol:h?.destinationTokenSymbol??void 0,estimatedBaseFee:h?.estimatedBaseFee??void 0,sourceTokenSymbol:h?.sourceTokenSymbol??void 0,swapMetaData:h?.swapMetaData??void 0,swapTokenValue:h?.swapTokenValue??void 0};return{baseFeePerGas:n??void 0,chainId:a,error:T,hash:d??void 0,id:p,isUserOperation:!0,origin:u,status:w,time:f,txParams:P,txReceipt:{effectiveGasPrice:b??void 0,gasUsed:r??void 0},type:y??void 0,userFeeLevel:S?o.UserFeeLevel.CUSTOM:g,...A}}}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-WF3VLEGJ.js"}],[1949,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};r.__privateGet=(e,t,r)=>(n(e,t,"read from private field"),r?r.call(e):t.get(e)),r.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},r.__privateSet=(e,t,r,i)=>(n(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),r.__privateMethod=(e,t,r)=>(n(e,t,"access private method"),r)}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/chunk-Z4BLTVTB.js"}],[195,{"../../../shared/constants/network":4131,"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=s,function(e){if(!((0,i.hasProperty)(e,"PreferencesController")&&(0,i.isObject)(e.PreferencesController)&&(0,i.isObject)(e.NetworkController)&&(0,i.hasProperty)(e.PreferencesController,"featureFlags")&&(0,i.hasProperty)(e.NetworkController,"networkConfigurations")))return e;const{PreferencesController:t,NetworkController:r}=e,{featureFlags:s}=t,{showIncomingTransactions:a}=s,{networkConfigurations:l}=r,c=Object.values(l).map((e=>e.chainId)),u=[o.CHAIN_IDS.MAINNET,o.CHAIN_IDS.LINEA_MAINNET],d=[o.CHAIN_IDS.GOERLI,o.CHAIN_IDS.SEPOLIA,o.CHAIN_IDS.LINEA_GOERLI],p=[...u,...c,...d],h=(0,n.fromPairs)((0,n.map)(p,(e=>[e,a])));(null==s?void 0:s.showIncomingTransactions)!==undefined&&delete s.showIncomingTransactions;e.PreferencesController.incomingTransactionsPreferences=h}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils"),o=e("../../../shared/constants/network");const s=r.version=96}}},{package:"$root$",file:"app/scripts/migrations/096.ts"}],[1950,{"./chunk-7JPKNM2X.js":1938,"./chunk-B7GI5EWI.js":1939,"./chunk-BTR56Y3F.js":1940,"./chunk-K6XMMCKJ.js":1941,"./chunk-KQMYR73X.js":1942,"./chunk-OH6WM4Z6.js":1943,"./chunk-QVY5Q2VX.js":1944,"./chunk-SSHRMBLI.js":1945,"./chunk-W4DFKKZT.js":1946,"./chunk-W63SSGH2.js":1947,"./chunk-WF3VLEGJ.js":1948,"./chunk-Z4BLTVTB.js":1949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-W63SSGH2.js");e("./chunk-SSHRMBLI.js"),e("./chunk-7JPKNM2X.js"),e("./chunk-WF3VLEGJ.js"),e("./chunk-OH6WM4Z6.js"),e("./chunk-B7GI5EWI.js");var i=e("./chunk-W4DFKKZT.js");e("./chunk-K6XMMCKJ.js"),e("./chunk-KQMYR73X.js"),e("./chunk-QVY5Q2VX.js"),e("./chunk-BTR56Y3F.js"),e("./chunk-Z4BLTVTB.js"),r.UserOperationController=n.UserOperationController,r.UserOperationStatus=i.UserOperationStatus}}},{package:"@metamask/user-operation-controller",file:"node_modules/@metamask/user-operation-controller/dist/index.js"}],[1951,{"./chunk-Z4BLTVTB.js":1955,immer:3256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("./chunk-Z4BLTVTB.js"),o=e("immer");o.enablePatches.call(void 0);function s(e,t,r){return Object.keys(e).reduce(((n,i)=>{try{const o=t[i];if(!o)throw new Error(`No metadata found for '${String(i)}'`);const s=o[r],a=e[i];return"function"==typeof s?n[i]=s(a):s&&(n[i]=a),n}catch(e){return setTimeout((()=>{throw e})),n}}),{})}n=new WeakMap,r.BaseController=class{constructor({messenger:e,metadata:t,name:r,state:s}){i.__privateAdd.call(void 0,this,n,void 0),this.messagingSystem=e,this.name=r,i.__privateSet.call(void 0,this,n,o.freeze.call(void 0,s,!0)),this.metadata=t,this.messagingSystem.registerActionHandler(`${r}:getState`,(()=>this.state)),this.messagingSystem.registerInitialEventPayload({eventType:`${r}:stateChange`,getPayload:()=>[this.state,[]]})}get state(){return i.__privateGet.call(void 0,this,n)}set state(e){throw new Error("Controller state cannot be directly mutated; use 'update' method instead.")}update(e){const[t,r,s]=o.produceWithPatches.call(void 0,i.__privateGet.call(void 0,this,n),e);return i.__privateSet.call(void 0,this,n,t),this.messagingSystem.publish(`${this.name}:stateChange`,t,r),{nextState:t,patches:r,inversePatches:s}}applyPatches(e){const t=o.applyPatches.call(void 0,i.__privateGet.call(void 0,this,n),e);i.__privateSet.call(void 0,this,n,t),this.messagingSystem.publish(`${this.name}:stateChange`,t,e)}destroy(){this.messagingSystem.clearEventSubscriptions(`${this.name}:stateChange`)}},r.getAnonymizedState=function(e,t){return s(e,t,"anonymous")},r.getPersistentState=function(e,t){return s(e,t,"persist")}}}},{package:"@metamask/user-operation-controller>@metamask/base-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/base-controller/dist/chunk-DV5LNY3P.js"}],[1952,{"./chunk-UJFCPTF3.js":1954,"./chunk-Z4BLTVTB.js":1955},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a=e("./chunk-UJFCPTF3.js"),l=e("./chunk-Z4BLTVTB.js");n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,r.ControllerMessenger=class{constructor(){l.__privateAdd.call(void 0,this,n,new Map),l.__privateAdd.call(void 0,this,i,new Map),l.__privateAdd.call(void 0,this,o,new Map),l.__privateAdd.call(void 0,this,s,new Map)}registerActionHandler(e,t){if(l.__privateGet.call(void 0,this,n).has(e))throw new Error(`A handler for ${e} has already been registered`);l.__privateGet.call(void 0,this,n).set(e,t)}unregisterActionHandler(e){l.__privateGet.call(void 0,this,n).delete(e)}clearActions(){l.__privateGet.call(void 0,this,n).clear()}call(e,...t){const r=l.__privateGet.call(void 0,this,n).get(e);if(!r)throw new Error(`A handler for ${e} has not been registered`);return r(...t)}registerInitialEventPayload({eventType:e,getPayload:t}){l.__privateGet.call(void 0,this,o).set(e,t)}publish(e,...t){const r=l.__privateGet.call(void 0,this,i).get(e);if(r)for(const[e,n]of r.entries())try{if(n){const r=l.__privateGet.call(void 0,this,s).get(e),i=n(...t);i!==r&&(l.__privateGet.call(void 0,this,s).set(e,i),e(i,r))}else e(...t)}catch(e){setTimeout((()=>{throw e}))}}subscribe(e,t,r){let n=l.__privateGet.call(void 0,this,i).get(e);if(n||(n=new Map,l.__privateGet.call(void 0,this,i).set(e,n)),n.set(t,r),r){const n=l.__privateGet.call(void 0,this,o).get(e);if(n){const e=r(...n());l.__privateGet.call(void 0,this,s).set(t,e)}}}unsubscribe(e,t){const r=l.__privateGet.call(void 0,this,i).get(e);if(!r||!r.has(t))throw new Error(`Subscription not found for event: ${e}`);r.get(t)&&l.__privateGet.call(void 0,this,s).delete(t),r.delete(t)}clearEventSubscriptions(e){l.__privateGet.call(void 0,this,i).delete(e)}clearSubscriptions(){l.__privateGet.call(void 0,this,i).clear()}getRestricted({name:e,allowedActions:t,allowedEvents:r}){return new(0,a.RestrictedControllerMessenger)({controllerMessenger:this,name:e,allowedActions:t,allowedEvents:r})}}}}},{package:"@metamask/user-operation-controller>@metamask/base-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/base-controller/dist/chunk-G42723LG.js"}],[1953,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=class{constructor(e={},t={}){this.defaultConfig={},this.defaultState={},this.disabled=!1,this.name="BaseController",this.internalConfig=this.defaultConfig,this.internalState=this.defaultState,this.internalListeners=[],this.initialState=t,this.initialConfig=e}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,t=!1,r=!0){if(r){this.internalConfig=t?e:Object.assign(this.internalConfig,e);for(const e of Object.keys(this.internalConfig)){const t=this.internalConfig[e];void 0!==t&&(this[e]=t)}}else for(const t of Object.keys(e))if(void 0!==this.internalConfig[t]){const r=e[t];this.internalConfig[t]=r,this[t]=r}}notify(){this.disabled||this.internalListeners.forEach((e=>{e(this.internalState)}))}subscribe(e){this.internalListeners.push(e)}unsubscribe(e){const t=this.internalListeners.findIndex((t=>e===t));return t>-1&&this.internalListeners.splice(t,1),t>-1}update(e,t=!1){this.internalState=t?Object.assign({},e):Object.assign({},this.internalState,e),this.notify()}},i=n;r.BaseControllerV1=n,r.BaseControllerV1_default=i}}},{package:"@metamask/user-operation-controller>@metamask/base-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/base-controller/dist/chunk-NINOM2XQ.js"}],[1954,{"./chunk-Z4BLTVTB.js":1955},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i,o,s,a,l,c,u,d,p,h=e("./chunk-Z4BLTVTB.js");n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakSet,l=function(e){const t=h.__privateGet.call(void 0,this,s);return h.__privateMethod.call(void 0,this,d,p).call(this,e)||null!==t&&t.includes(e)},c=new WeakSet,u=function(e){const t=h.__privateGet.call(void 0,this,o);return h.__privateMethod.call(void 0,this,d,p).call(this,e)||null!==t&&t.includes(e)},d=new WeakSet,p=function(e){return e.startsWith(`${h.__privateGet.call(void 0,this,i)}:`)},r.RestrictedControllerMessenger=class{constructor({controllerMessenger:e,name:t,allowedActions:r,allowedEvents:l}){h.__privateAdd.call(void 0,this,a),h.__privateAdd.call(void 0,this,c),h.__privateAdd.call(void 0,this,d),h.__privateAdd.call(void 0,this,n,void 0),h.__privateAdd.call(void 0,this,i,void 0),h.__privateAdd.call(void 0,this,o,void 0),h.__privateAdd.call(void 0,this,s,void 0),h.__privateSet.call(void 0,this,n,e),h.__privateSet.call(void 0,this,i,t),h.__privateSet.call(void 0,this,o,r),h.__privateSet.call(void 0,this,s,l)}registerActionHandler(e,t){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed registering action handlers prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).registerActionHandler(e,t)}unregisterActionHandler(e){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed unregistering action handlers prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).unregisterActionHandler(e)}call(e,...t){if(!h.__privateMethod.call(void 0,this,c,u).call(this,e))throw new Error(`Action missing from allow list: ${e}`);return h.__privateGet.call(void 0,this,n).call(e,...t)}registerInitialEventPayload({eventType:e,getPayload:t}){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).registerInitialEventPayload({eventType:e,getPayload:t})}publish(e,...t){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed publishing events prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).publish(e,...t)}subscribe(e,t,r){if(!h.__privateMethod.call(void 0,this,a,l).call(this,e))throw new Error(`Event missing from allow list: ${e}`);return r?h.__privateGet.call(void 0,this,n).subscribe(e,t,r):h.__privateGet.call(void 0,this,n).subscribe(e,t)}unsubscribe(e,t){if(!h.__privateMethod.call(void 0,this,a,l).call(this,e))throw new Error(`Event missing from allow list: ${e}`);h.__privateGet.call(void 0,this,n).unsubscribe(e,t)}clearEventSubscriptions(e){if(!h.__privateMethod.call(void 0,this,d,p).call(this,e))throw new Error(`Only allowed clearing events prefixed by '${h.__privateGet.call(void 0,this,i)}:'`);h.__privateGet.call(void 0,this,n).clearEventSubscriptions(e)}}}}},{package:"@metamask/user-operation-controller>@metamask/base-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/base-controller/dist/chunk-UJFCPTF3.js"}],[1955,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};r.__privateGet=(e,t,r)=>(n(e,t,"read from private field"),r?r.call(e):t.get(e)),r.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},r.__privateSet=(e,t,r,i)=>(n(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),r.__privateMethod=(e,t,r)=>(n(e,t,"access private method"),r)}}},{package:"@metamask/user-operation-controller>@metamask/base-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/base-controller/dist/chunk-Z4BLTVTB.js"}],[1956,{"./chunk-DV5LNY3P.js":1951,"./chunk-G42723LG.js":1952,"./chunk-NINOM2XQ.js":1953,"./chunk-UJFCPTF3.js":1954,"./chunk-Z4BLTVTB.js":1955},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-NINOM2XQ.js"),i=e("./chunk-DV5LNY3P.js"),o=e("./chunk-G42723LG.js"),s=e("./chunk-UJFCPTF3.js");e("./chunk-Z4BLTVTB.js"),r.BaseController=i.BaseController,r.BaseControllerV1=n.BaseControllerV1,r.ControllerMessenger=o.ControllerMessenger,r.RestrictedControllerMessenger=s.RestrictedControllerMessenger,r.getAnonymizedState=i.getAnonymizedState,r.getPersistentState=i.getPersistentState}}},{package:"@metamask/user-operation-controller>@metamask/base-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/base-controller/dist/index.js"}],[1957,{"fast-json-stable-stringify":2971,uuid:4067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},o=(e,t,r)=>(i(e,t,"read from private field"),r?r.call(e):t.get(e)),s=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},a=e("fast-json-stable-stringify"),l=(n=a)&&n.__esModule?n:{default:n},c=e("uuid"),u=(e,t)=>`${e}:${l.default.call(void 0,t)}`;r.__privateGet=o,r.__privateAdd=s,r.__privateSet=(e,t,r,n)=>(i(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),r.getKey=u,r.AbstractPollingControllerBaseMixin=function(e){var t,r;return t=new WeakMap,r=new WeakMap,class extends e{constructor(){super(...arguments),s(this,t,new Map),s(this,r,new Map)}startPollingByNetworkClientId(e,r={}){const n=c.v4.call(void 0),i=u(e,r),s=o(this,t).get(i)??new Set;return s.add(n),o(this,t).set(i,s),1===s.size&&this._startPollingByNetworkClientId(e,r),n}stopAllPolling(){o(this,t).forEach(((e,t)=>{e.forEach((e=>{this.stopPollingByPollingToken(e)}))}))}stopPollingByPollingToken(e){if(!e)throw new Error("pollingToken required");let n=null;for(const[r,i]of o(this,t))if(i.delete(e)){0===i.size&&(n=r);break}if(n){this._stopPollingByPollingTokenSetId(n),o(this,t).delete(n);const e=o(this,r).get(n);if(e){for(const t of e)t(n);e.clear()}}}onPollingCompleteByNetworkClientId(e,t,n={}){const i=u(e,n),s=o(this,r).get(i)??new Set;s.add(t),o(this,r).set(i,s)}}}}}},{package:"@metamask/user-operation-controller>@metamask/polling-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/polling-controller/dist/chunk-4HJ6GRV5.js"}],[1958,{"./chunk-4HJ6GRV5.js":1957,"@metamask/base-controller":1956},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-4HJ6GRV5.js"),i=e("@metamask/base-controller");function o(e){var t;class r extends(n.AbstractPollingControllerBaseMixin.call(void 0,e)){constructor(){super(...arguments),n.__privateAdd.call(void 0,this,t,{})}_startPollingByNetworkClientId(e,r){const i=n.getKey.call(void 0,e,r);if(n.__privateGet.call(void 0,this,t)[i])return;const o=this._getNetworkClientById(e);if(!o)throw new Error(`Unable to retrieve blockTracker for networkClientId ${e}`);{const s=this._executePoll.bind(this,e,r);o.blockTracker.addListener("latest",s),n.__privateGet.call(void 0,this,t)[i]=s}}_stopPollingByPollingTokenSetId(e){const[r]=e.split(":"),i=this._getNetworkClientById(r);if(i&&n.__privateGet.call(void 0,this,t)[e]){const r=n.__privateGet.call(void 0,this,t)[e];r&&(i.blockTracker.removeListener("latest",r),delete n.__privateGet.call(void 0,this,t)[e])}}}return t=new WeakMap,r}var s=o(class{}),a=o(i.BaseController),l=o(i.BaseControllerV1);r.BlockTrackerPollingControllerOnly=s,r.BlockTrackerPollingController=a,r.BlockTrackerPollingControllerV1=l}}},{package:"@metamask/user-operation-controller>@metamask/polling-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/polling-controller/dist/chunk-JEAX4QNH.js"}],[1959,{"./chunk-4HJ6GRV5.js":1957,"@metamask/base-controller":1956},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-4HJ6GRV5.js"),i=e("@metamask/base-controller");function o(e){var t,r;class i extends(n.AbstractPollingControllerBaseMixin.call(void 0,e)){constructor(){super(...arguments),n.__privateAdd.call(void 0,this,t,{}),n.__privateAdd.call(void 0,this,r,1e3)}setIntervalLength(e){n.__privateSet.call(void 0,this,r,e)}getIntervalLength(){return n.__privateGet.call(void 0,this,r)}_startPollingByNetworkClientId(e,i){if(!n.__privateGet.call(void 0,this,r))throw new Error("intervalLength must be defined and greater than 0");const o=n.getKey.call(void 0,e,i),s=n.__privateGet.call(void 0,this,t)[o];this._stopPollingByPollingTokenSetId(o),n.__privateGet.call(void 0,this,t)[o]=setTimeout((async()=>{try{await this._executePoll(e,i)}catch(e){console.error(e)}this._startPollingByNetworkClientId(e,i)}),s?n.__privateGet.call(void 0,this,r):0)}_stopPollingByPollingTokenSetId(e){const r=n.__privateGet.call(void 0,this,t)[e];r&&(clearTimeout(r),delete n.__privateGet.call(void 0,this,t)[e])}}return t=new WeakMap,r=new WeakMap,i}var s=o(class{}),a=o(i.BaseController),l=o(i.BaseControllerV1);r.StaticIntervalPollingControllerOnly=s,r.StaticIntervalPollingController=a,r.StaticIntervalPollingControllerV1=l}}},{package:"@metamask/user-operation-controller>@metamask/polling-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/polling-controller/dist/chunk-LNXPCWKH.js"}],[196,{lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=i,function(e){const t=(null==e?void 0:e.TransactionController)||{},r=(null==t?void 0:t.transactions)||{};if((0,n.isEmpty)(r))return;const i=Object.keys(r).reduce(((e,t)=>{const n=r[t];return null!=n&&n.nonceDetails&&delete n.nonceDetails,{...e,[t]:n}}),{});e.TransactionController={...t,transactions:i}}(t.data),t},r.version=void 0;var n=e("lodash");const i=r.version=97}}},{package:"$root$",file:"app/scripts/migrations/097.ts"}],[1960,{"./chunk-4HJ6GRV5.js":1957,"./chunk-JEAX4QNH.js":1958,"./chunk-LNXPCWKH.js":1959},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./chunk-JEAX4QNH.js"),i=e("./chunk-LNXPCWKH.js");e("./chunk-4HJ6GRV5.js"),r.BlockTrackerPollingController=n.BlockTrackerPollingController,r.BlockTrackerPollingControllerOnly=n.BlockTrackerPollingControllerOnly,r.BlockTrackerPollingControllerV1=n.BlockTrackerPollingControllerV1,r.StaticIntervalPollingController=i.StaticIntervalPollingController,r.StaticIntervalPollingControllerOnly=i.StaticIntervalPollingControllerOnly,r.StaticIntervalPollingControllerV1=i.StaticIntervalPollingControllerV1}}},{package:"@metamask/user-operation-controller>@metamask/polling-controller",file:"node_modules/@metamask/user-operation-controller/node_modules/@metamask/polling-controller/dist/index.js"}],[197,{lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=i,function(e){const t=(null==e?void 0:e.TransactionController)||{},r=(null==t?void 0:t.transactions)||{};if((0,n.isEmpty)(r))return;const i=Object.keys(r).reduce(((e,t)=>{const n=r[t];return n.verifiedOnBlockchain=Boolean(n.txReceipt),{...e,[t]:n}}),{});e.TransactionController={...t,transactions:i}}(t.data),t},r.version=void 0;var n=e("lodash");const i=r.version=98}}},{package:"$root$",file:"app/scripts/migrations/098.ts"}],[198,{lodash:3477,uuid:4067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,function(e){const t=(null==e?void 0:e.TransactionController)||{},r=(null==t?void 0:t.transactions)||{};if((0,n.isEmpty)(r))return;const o=Object.keys(r).reduce(((e,t)=>{const o=(0,n.cloneDeep)(r[t]),s=(0,i.v1)();return o.id=s,{...e,[s]:o}}),{});e.TransactionController={...t,transactions:o}}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("uuid");const o=r.version=99}}},{package:"$root$",file:"app/scripts/migrations/099.ts"}],[1983,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var r=0;if(" "!==e[r]){for(var n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*l+1>>>0,c=new Uint8Array(o);e[r];){var u=t[e.charCodeAt(r)];if(255===u)return;for(var d=0,p=o-1;(0!==u||d<i)&&-1!==p;p--,d++)u+=s*c[p]>>>0,c[p]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,r++}if(" "!==e[r]){for(var h=o-i;h!==o&&0===c[h];)h++;for(var f=new Uint8Array(n+(o-h)),m=n;h!==o;)f[m++]=c[h++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var l=(o-i)*c+1>>>0,u=new Uint8Array(l);i!==o;){for(var d=t[i],p=0,h=l-1;(0!==d||p<n)&&-1!==h;h--,p++)d+=256*u[h]>>>0,u[h]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");n=p,i++}for(var f=l-n;f!==l&&0===u[f];)f++;for(var m=a.repeat(r);f<l;++f)m+=e.charAt(u[f]);return m},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}}}},{package:"@ensdomains/content-hash>cids>multibase>@multiformats/base-x",file:"node_modules/@multiformats/base-x/src/index.js"}],[199,{lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=i,function(e){var t,r;const i=(null==e||null===(t=e.AddressBookController)||void 0===t?void 0:t.addressBook)??{},o=(null==e||null===(r=e.NameController)||void 0===r||null===(r=r.names)||void 0===r?void 0:r.ethereumAddress)??{};if((0,n.isEmpty)(Object.keys(i)))return;for(const e of Object.keys(i)){const t=i[e];for(const r of Object.keys(t)){var s,a;const n=t[r],i=r.toLowerCase(),l=o[i]??{};null!==(s=(l[e]??{}).name)&&void 0!==s&&s.length||null===(a=n.name)||void 0===a||!a.length||null==i||!i.length||(o[i]=l,l[e]={name:n.name,sourceId:n.isEns?"ens":null,proposedNames:{}})}}e.NameController={...e.NameController,names:{ethereumAddress:o}}}(t.data),t},r.version=void 0;var n=e("lodash");const i=r.version=100}}},{package:"$root$",file:"app/scripts/migrations/100.ts"}],[1997,{"./abstract/weierstrass.js":2002,"@noble/hashes/hmac":2009,"@noble/hashes/utils":2014},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCurve=r.getHash=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/hmac"),i=e("@noble/hashes/utils"),o=e("./abstract/weierstrass.js");function s(e){return{hash:e,hmac:(t,...r)=>(0,n.hmac)(e,t,(0,i.concatBytes)(...r)),randomBytes:i.randomBytes}}r.getHash=s,r.createCurve=function(e,t){const r=t=>(0,o.weierstrass)({...e,...s(t)});return Object.freeze({...r(t),create:r})}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/_shortw_utils.js"}],[1998,{"./modular.js":2e3,"./utils.js":2001},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateBasic=r.wNAF=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),i=e("./utils.js"),o=BigInt(0),s=BigInt(1);r.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>o;)r&s&&(n=n.add(i)),i=i.double(),r>>=s;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),o=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:l}=n(t);let c=e.ZERO,u=e.BASE;const d=BigInt(2**t-1),p=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*l;let n=Number(o&d);o>>=h,n>l&&(n-=p,o+=s);const a=t,f=t+Math.abs(n)-1,m=e%2!=0,y=n<0;0===n?u=u.add(r(m,i[a])):c=c.add(r(y,i[f]))}return{p:c,f:u}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}},r.validateBasic=function(e){return(0,n.validateField)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/curve.js"}],[1999,{"./modular.js":2e3,"./utils.js":2001},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHasher=r.isogenyMap=r.hash_to_field=r.expand_message_xof=r.expand_message_xmd=void 0;const n=e("./modular.js"),i=e("./utils.js"),o=i.bytesToNumberBE;function s(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function a(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function l(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function c(e,t,r,n){(0,i.abytes)(e),(0,i.abytes)(t),l(r),t.length>255&&(t=n((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:o,blockLen:c}=n,u=Math.ceil(r/o);if(u>255)throw new Error("Invalid xmd length");const d=(0,i.concatBytes)(t,s(t.length,1)),p=s(0,c),h=s(r,2),f=new Array(u),m=n((0,i.concatBytes)(p,e,h,s(0,1),d));f[0]=n((0,i.concatBytes)(m,s(1,1),d));for(let e=1;e<=u;e++){const t=[a(m,f[e-1]),s(e+1,1),d];f[e]=n((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...f).slice(0,r)}function u(e,t,r,n,o){if((0,i.abytes)(e),(0,i.abytes)(t),l(r),t.length>255){const e=Math.ceil(2*n/8);t=o.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(e).update(s(r,2)).update(t).update(s(t.length,1)).digest()}function d(e,t,r){(0,i.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:s,k:a,m:d,hash:p,expand:h,DST:f}=r;(0,i.abytes)(e),l(t);const m="string"==typeof f?(0,i.utf8ToBytes)(f):f,y=s.toString(2).length,g=Math.ceil((y+a)/8),v=t*d*g;let b;if("xmd"===h)b=c(e,m,v,p);else if("xof"===h)b=u(e,m,v,a,p);else{if("_internal_pass"!==h)throw new Error('expand must be "xmd" or "xof"');b=e}const T=new Array(t);for(let e=0;e<t;e++){const t=new Array(d);for(let r=0;r<d;r++){const i=g*(r+e*d),a=b.subarray(i,i+g);t[r]=(0,n.mod)(o(a),s)}T[e]=t}return T}r.expand_message_xmd=c,r.expand_message_xof=u,r.hash_to_field=d,r.isogenyMap=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[i,o,s,a]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n)))));return t=e.div(i,o),n=e.mul(n,e.div(s,a)),{x:t,y:n}}},r.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const o=d(n,2,{...r,DST:r.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),l=s.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(n,i){const o=d(n,1,{...r,DST:r.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s}}}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/hash-to-curve.js"}],[20,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NOTIFICATION_NAMES=void 0;r.NOTIFICATION_NAMES={accountsChanged:"metamask_accountsChanged",unlockStateChanged:"metamask_unlockStateChanged",chainChanged:"metamask_chainChanged"}}}},{package:"$root$",file:"app/scripts/controllers/permissions/enums.js"}],[200,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=o,function(e){if((0,n.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,n.hasProperty)(e.NetworkController,"networkId")){const t=e.NetworkController;return delete t.networkId,{...e,NetworkController:t}}var t,r;(0,n.isObject)(e.NetworkController)||null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("typeof state.NetworkController is "+typeof e.NetworkController))}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash");const o=r.version=101}}},{package:"$root$",file:"app/scripts/migrations/101.ts"}],[2e3,{"./utils.js":2001},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapHashToField=r.getMinHashLength=r.getFieldBytesLength=r.hashToPrivateScalar=r.FpSqrtEven=r.FpSqrtOdd=r.Field=r.nLength=r.FpIsSquare=r.FpDiv=r.FpInvertBatch=r.FpPow=r.validateField=r.isNegativeLE=r.FpSqrt=r.tonelliShanks=r.invert=r.pow2=r.pow=r.mod=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./utils.js"),i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),l=BigInt(4),c=BigInt(5),u=BigInt(8);BigInt(9),BigInt(16);function d(e,t){const r=e%t;return r>=i?r:t+r}function p(e,t,r){if(r<=i||t<i)throw new Error("Expected power/modulo > 0");if(r===o)return i;let n=o;for(;t>i;)t&o&&(n=n*e%r),e=e*e%r,t>>=o;return n}function h(e,t){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=d(e,t),n=t,s=i,a=o,l=o,c=i;for(;r!==i;){const e=n/r,t=n%r,i=s-l*e,o=a-c*e;n=r,r=t,s=l,a=c,l=i,c=o}if(n!==o)throw new Error("invert: does not exist");return d(s,t)}function f(e){const t=(e-o)/s;let r,n,a;for(r=e-o,n=0;r%s===i;r/=s,n++);for(a=s;a<e&&p(a,t,e)!==e-o;a++);if(1===n){const t=(e+o)/l;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const c=(r+o)/s;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=n,l=e.pow(e.mul(e.ONE,a),r),u=e.pow(i,c),d=e.pow(i,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(l,o<<BigInt(s-t-1));l=e.sqr(r),u=e.mul(u,r),d=e.mul(d,l),s=t}return u}}function m(e){if(e%l===a){const t=(e+o)/l;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%u===c){const t=(e-c)/u;return function(e,r){const n=e.mul(r,s),i=e.pow(n,t),o=e.mul(r,i),a=e.mul(e.mul(o,s),i),l=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(l),r))throw new Error("Cannot find square root");return l}}return f(e)}r.mod=d,r.pow=p,r.pow2=function(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n},r.invert=h,r.tonelliShanks=f,r.FpSqrt=m;r.isNegativeLE=(e,t)=>(d(e,t)&o)===o;const y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(e,t,r){if(r<i)throw new Error("Expected power > 0");if(r===i)return e.ONE;if(r===o)return t;let n=e.ONE,s=t;for(;r>i;)r&o&&(n=e.mul(n,s)),s=e.sqr(s),r>>=o;return n}function v(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}function b(e,t){const r=t!==undefined?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function T(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function w(e){const t=T(e);return t+Math.ceil(t/2)}r.validateField=function(e){const t=y.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(e,t)},r.FpPow=g,r.FpInvertBatch=v,r.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?h(r,e.ORDER):e.inv(r))},r.FpIsSquare=function(e){const t=(e.ORDER-o)/s;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},r.nLength=b,r.Field=function(e,t,r=!1,s={}){if(e<=i)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:l}=b(e,t);if(l>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=m(e),u=Object.freeze({ORDER:e,BITS:a,BYTES:l,MASK:(0,n.bitMask)(a),ZERO:i,ONE:o,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&o)===o,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,r)=>d(t+r,e),sub:(t,r)=>d(t-r,e),mul:(t,r)=>d(t*r,e),pow:(e,t)=>g(u,e,t),div:(t,r)=>d(t*h(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>h(t,e),sqrt:s.sqrt||(e=>c(u,e)),invertBatch:e=>v(u,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.numberToBytesLE)(e,l):(0,n.numberToBytesBE)(e,l),fromBytes:e=>{if(e.length!==l)throw new Error(`Fp.fromBytes: expected ${l}, got ${e.length}`);return r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(u)},r.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},r.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},r.hashToPrivateScalar=function(e,t,r=!1){const i=(e=(0,n.ensureBytes)("privateHash",e)).length,s=b(t).nByteLength+8;if(s<24||i<s||i>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${i}`);return d(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-o)+o},r.getFieldBytesLength=T,r.getMinHashLength=w,r.mapHashToField=function(e,t,r=!1){const i=e.length,s=T(t),a=w(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const l=d(r?(0,n.bytesToNumberBE)(e):(0,n.bytesToNumberLE)(e),t-o)+o;return r?(0,n.numberToBytesLE)(l,s):(0,n.numberToBytesBE)(l,s)}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/modular.js"}],[2001,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateObject=r.createHmacDrbg=r.bitMask=r.bitSet=r.bitGet=r.bitLen=r.utf8ToBytes=r.equalBytes=r.concatBytes=r.ensureBytes=r.numberToVarBytesBE=r.numberToBytesLE=r.numberToBytesBE=r.bytesToNumberLE=r.bytesToNumberBE=r.hexToBytes=r.hexToNumber=r.numberToHexUnpadded=r.bytesToHex=r.abytes=r.isBytes=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=BigInt(0),i=BigInt(1),o=BigInt(2);function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function a(e){if(!s(e))throw new Error("Uint8Array expected")}r.isBytes=s,r.abytes=a;const l=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function c(e){a(e);let t="";for(let r=0;r<e.length;r++)t+=l[e[r]];return t}function u(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function d(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}r.bytesToHex=c,r.numberToHexUnpadded=u,r.hexToNumber=d;const p={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function h(e){return e>=p._0&&e<=p._9?e-p._0:e>=p._A&&e<=p._F?e-(p._A-10):e>=p._a&&e<=p._f?e-(p._a-10):void 0}function f(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=h(e.charCodeAt(i)),o=h(e.charCodeAt(i+1));if(r===undefined||o===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n}function m(e,t){return f(e.toString(16).padStart(2*t,"0"))}function y(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];a(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}r.hexToBytes=f,r.bytesToNumberBE=function(e){return d(c(e))},r.bytesToNumberLE=function(e){return a(e),d(c(Uint8Array.from(e).reverse()))},r.numberToBytesBE=m,r.numberToBytesLE=function(e,t){return m(e,t).reverse()},r.numberToVarBytesBE=function(e){return f(u(e))},r.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=f(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!s(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n},r.concatBytes=y,r.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},r.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},r.bitLen=function(e){let t;for(t=0;e>n;e>>=i,t+=1);return t},r.bitGet=function(e,t){return e>>BigInt(t)&i},r.bitSet=function(e,t,r){return e|(r?i:n)<<BigInt(t)};r.bitMask=e=>(o<<BigInt(e-1))-i;const g=e=>new Uint8Array(e),v=e=>Uint8Array.from(e);r.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=g(e),i=g(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),l=(e=g())=>{i=a(v([0]),e),n=a(),0!==e.length&&(i=a(v([1]),e),n=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return y(...r)};return(e,t)=>{s(),l(e);let r=undefined;for(;!(r=t(c()));)l();return s(),r}};const b={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||s(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};r.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const i=b[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if(!(n&&o===undefined||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/utils.js"}],[2002,{"./curve.js":1998,"./modular.js":2e3,"./utils.js":2001},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapToCurveSimpleSWU=r.SWUFpSqrtRatio=r.weierstrass=r.weierstrassPoints=r.DER=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),i=e("./utils.js"),o=e("./utils.js"),s=e("./curve.js");const{bytesToNumberBE:a,hexToBytes:l}=i;r.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=r.DER;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:a(i),l:e.subarray(n+2)}},toSig(e){const{Err:t}=r.DER,n="string"==typeof e?l(e):e;i.abytes(n);let o=n.length;if(o<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==o-2)throw new t("Invalid signature: incorrect length");const{d:s,l:a}=r.DER._parseInt(n.subarray(2)),{d:c,l:u}=r.DER._parseInt(a);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:c}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${a}${n}`}};const c=BigInt(0),u=BigInt(1),d=BigInt(2),p=BigInt(3),h=BigInt(4);function f(e){const t=function(e){const t=(0,s.validateBasic)(e);i.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:o}=t;if(r){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,a=t.toBytes||((e,t,n)=>{const o=t.toAffine();return i.concatBytes(Uint8Array.from([4]),r.toBytes(o.x),r.toBytes(o.y))}),l=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function d(e){const{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),d(t.Gx)))throw new Error("bad generator point: equation left != right");function h(e){return"bigint"==typeof e&&c<e&&e<t.n}function f(e){if(!h(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(e){const{allowedPrivateKeyLengths:r,nByteLength:s,wrapPrivateKey:a,n:l}=t;if(r&&"bigint"!=typeof e){if(i.isBytes(e)&&(e=i.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*s,"0")}let c;try{c="bigint"==typeof e?e:i.bytesToNumberBE((0,o.ensureBytes)("private key",e,s))}catch(t){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return a&&(c=n.mod(c,l)),f(c),c}const y=new Map;function g(e){if(!(e instanceof v))throw new Error("ProjectivePoint expected")}class v{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof v)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?v.ZERO:new v(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(v.fromAffine)}static fromHex(e){const t=v.fromAffine(l((0,o.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return v.BASE.multiply(m(e))}_setWindowSize(e){this._WINDOW_SIZE=e,y.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),o=d(e);if(!r.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){g(e);const{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,l=r.eql(r.mul(t,a),r.mul(o,i)),c=r.eql(r.mul(n,a),r.mul(s,i));return l&&c}negate(){return new v(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,p),{px:o,py:s,pz:a}=this;let l=r.ZERO,c=r.ZERO,u=r.ZERO,d=r.mul(o,o),h=r.mul(s,s),f=r.mul(a,a),m=r.mul(o,s);return m=r.add(m,m),u=r.mul(o,a),u=r.add(u,u),l=r.mul(e,u),c=r.mul(i,f),c=r.add(l,c),l=r.sub(h,c),c=r.add(h,c),c=r.mul(l,c),l=r.mul(m,l),u=r.mul(i,u),f=r.mul(e,f),m=r.sub(d,f),m=r.mul(e,m),m=r.add(m,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,f),d=r.mul(d,m),c=r.add(c,d),f=r.mul(s,a),f=r.add(f,f),d=r.mul(f,m),l=r.sub(l,d),u=r.mul(f,h),u=r.add(u,u),u=r.add(u,u),new v(l,c,u)}add(e){g(e);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:l}=e;let c=r.ZERO,u=r.ZERO,d=r.ZERO;const h=t.a,f=r.mul(t.b,p);let m=r.mul(n,s),y=r.mul(i,a),b=r.mul(o,l),T=r.add(n,i),w=r.add(s,a);T=r.mul(T,w),w=r.add(m,y),T=r.sub(T,w),w=r.add(n,o);let _=r.add(s,l);return w=r.mul(w,_),_=r.add(m,b),w=r.sub(w,_),_=r.add(i,o),c=r.add(a,l),_=r.mul(_,c),c=r.add(y,b),_=r.sub(_,c),d=r.mul(h,w),c=r.mul(f,b),d=r.add(c,d),c=r.sub(y,d),d=r.add(y,d),u=r.mul(c,d),y=r.add(m,m),y=r.add(y,m),b=r.mul(h,b),w=r.mul(f,w),y=r.add(y,b),b=r.sub(m,b),b=r.mul(h,b),w=r.add(w,b),m=r.mul(y,w),u=r.add(u,m),m=r.mul(_,w),c=r.mul(T,c),c=r.sub(c,m),m=r.mul(T,y),d=r.mul(_,d),d=r.add(d,m),new v(c,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(v.ZERO)}wNAF(e){return T.wNAFCached(this,y,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(v.fromAffine)}))}multiplyUnsafe(e){const n=v.ZERO;if(e===c)return n;if(f(e),e===u)return this;const{endo:i}=t;if(!i)return T.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:a,k2:l}=i.splitScalar(e),d=n,p=n,h=this;for(;s>c||l>c;)s&u&&(d=d.add(h)),l&u&&(p=p.add(h)),h=h.double(),s>>=u,l>>=u;return o&&(d=d.negate()),a&&(p=p.negate()),p=new v(r.mul(p.px,i.beta),p.py,p.pz),d.add(p)}multiply(e){f(e);let n,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:l}=s.splitScalar(o);let{p:c,f:u}=this.wNAF(t),{p:d,f:p}=this.wNAF(l);c=T.constTimeNegate(e,c),d=T.constTimeNegate(a,d),d=new v(r.mul(d.px,s.beta),d.py,d.pz),n=c.add(d),i=u.add(p)}else{const{p:e,f:t}=this.wNAF(o);n=e,i=t}return v.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=v.BASE,i=(e,t)=>t!==c&&t!==u&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?undefined:o}toAffine(e){const{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));const s=r.mul(t,e),a=r.mul(n,e),l=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===u)return!0;if(r)return r(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===u?this:r?r(v,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(v,this,e)}toHex(e=!0){return i.bytesToHex(this.toRawBytes(e))}}v.BASE=new v(t.Gx,t.Gy,r.ONE),v.ZERO=new v(r.ZERO,r.ONE,r.ZERO);const b=t.nBitLength,T=(0,s.wNAF)(v,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:v,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:h}}function m(e,t){const r=e.ORDER;let n=c;for(let e=r-u;e%d===c;e/=d)n+=u;const i=n,o=d<<i-u-u,s=o*d,a=(r-u)/s,l=(a-u)/d,f=s-u,m=o,y=e.pow(t,a),g=e.pow(t,(a+u)/d);let v=(t,r)=>{let n=y,o=e.pow(r,f),s=e.sqr(o);s=e.mul(s,r);let a=e.mul(t,s);a=e.pow(a,l),a=e.mul(a,o),o=e.mul(a,r),s=e.mul(a,t);let c=e.mul(s,o);a=e.pow(c,m);let p=e.eql(a,e.ONE);o=e.mul(s,g),a=e.mul(c,n),s=e.cmov(o,s,p),c=e.cmov(a,c,p);for(let t=i;t>u;t--){let r=t-d;r=d<<r-u;let i=e.pow(c,r);const a=e.eql(i,e.ONE);o=e.mul(s,n),n=e.mul(n,n),i=e.mul(c,n),s=e.cmov(o,s,a),c=e.cmov(i,c,a)}return{isValid:p,value:s}};if(e.ORDER%h===p){const r=(e.ORDER-p)/h,n=e.sqrt(e.neg(t));v=(t,i)=>{let o=e.sqr(i);const s=e.mul(t,i);o=e.mul(o,s);let a=e.pow(o,r);a=e.mul(a,s);const l=e.mul(a,n),c=e.mul(e.sqr(a),i),u=e.eql(c,t);return{isValid:u,value:e.cmov(l,a,u)}}}return v}r.weierstrassPoints=f,r.weierstrass=function(e){const t=function(e){const t=(0,s.validateBasic)(e);return i.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:a,n:l}=t,d=a.BYTES+1,p=2*a.BYTES+1;function h(e){return n.mod(e,l)}function m(e){return n.invert(e,l)}const{ProjectivePoint:y,normPrivateKeyToScalar:g,weierstrassEquation:v,isWithinCurveOrder:b}=f({...t,toBytes(e,t,r){const n=t.toAffine(),o=a.toBytes(n.x),s=i.concatBytes;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,a.toBytes(n.y))},fromBytes(e){const t=e.length,r=e[0],n=e.subarray(1);if(t!==d||2!==r&&3!==r){if(t===p&&4===r){return{x:a.fromBytes(n.subarray(0,a.BYTES)),y:a.fromBytes(n.subarray(a.BYTES,2*a.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${d} compressed bytes or ${p} uncompressed bytes`)}{const e=i.bytesToNumberBE(n);if(!(c<(o=e)&&o<a.ORDER))throw new Error("Point is not on curve");const t=v(e);let s;try{s=a.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!==((s&u)===u)&&(s=a.neg(s)),{x:e,y:s}}var o}}),T=e=>i.bytesToHex(i.numberToBytesBE(e,t.nByteLength));function w(e){return e>l>>u}const _=(e,t,r)=>i.bytesToNumberBE(e.slice(t,r));class S{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=(0,o.ensureBytes)("compactSignature",e,2*r),new S(_(e,0,r),_(e,r,2*r))}static fromDER(e){const{r:t,s:n}=r.DER.toSig((0,o.ensureBytes)("DER",e));return new S(t,n)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new S(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:n,recovery:i}=this,s=P((0,o.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const l=2===i||3===i?r+t.n:r;if(l>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=1&i?"03":"02",u=y.fromHex(c+T(l)),d=m(l),p=h(-s*d),f=h(n*d),g=y.BASE.multiplyAndAddUnsafe(u,p,f);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return i.hexToBytes(this.toDERHex())}toDERHex(){return r.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return i.hexToBytes(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}const E={isValidPrivateKey(e){try{return g(e),!0}catch(e){return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const e=n.getMinHashLength(t.n);return n.mapHashToField(t.randomBytes(e),t.n)},precompute:(e=8,t=y.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function k(e){const t=i.isBytes(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===d||n===p:r?n===2*d||n===2*p:e instanceof y}const O=t.bits2int||function(e){const r=i.bytesToNumberBE(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},P=t.bits2int_modN||function(e){return h(O(e))},A=i.bitMask(t.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(c<=e&&e<A))throw new Error(`bigint expected < 2^${t.nBitLength}`);return i.numberToBytesBE(e,t.nByteLength)}function C(e,r,n=I){if(["recovered","canonical"].some((e=>e in n)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:l}=t;let{lowS:d,prehash:p,extraEntropy:f}=n;null==d&&(d=!0),e=(0,o.ensureBytes)("msgHash",e),p&&(e=(0,o.ensureBytes)("prehashed msgHash",s(e)));const v=P(e),T=g(r),_=[x(T),x(v)];if(null!=f&&!1!==f){const e=!0===f?l(a.BYTES):f;_.push((0,o.ensureBytes)("extraEntropy",e))}const E=i.concatBytes(..._),k=v;return{seed:E,k2sig:function(e){const t=O(e);if(!b(t))return;const r=m(t),n=y.BASE.multiply(t).toAffine(),i=h(n.x);if(i===c)return;const o=h(r*h(k+i*T));if(o===c)return;let s=(n.x===i?0:2)|Number(n.y&u),a=o;return d&&w(o)&&(a=function(e){return w(e)?h(-e):e}(o),s^=1),new S(i,a,s)}}}const I={lowS:t.lowS,prehash:!1},j={lowS:t.lowS,prehash:!1};return y.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return y.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(k(e))throw new Error("first arg must be private key");if(!k(t))throw new Error("second arg must be public key");return y.fromHex(t).multiply(g(e)).toRawBytes(r)},sign:function(e,r,n=I){const{seed:o,k2sig:s}=C(e,r,n),a=t;return i.createHmacDrbg(a.hash.outputLen,a.nByteLength,a.hmac)(o,s)},verify:function(e,n,s,a=j){const l=e;if(n=(0,o.ensureBytes)("msgHash",n),s=(0,o.ensureBytes)("publicKey",s),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:u}=a;let d,p=undefined;try{if("string"==typeof l||i.isBytes(l))try{p=S.fromDER(l)}catch(e){if(!(e instanceof r.DER.Err))throw e;p=S.fromCompact(l)}else{if("object"!=typeof l||"bigint"!=typeof l.r||"bigint"!=typeof l.s)throw new Error("PARSE");{const{r:e,s:t}=l;p=new S(e,t)}}d=y.fromHex(s)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&p.hasHighS())return!1;u&&(n=t.hash(n));const{r:f,s:g}=p,v=P(n),b=m(g),T=h(v*b),w=h(f*b),_=y.BASE.multiplyAndAddUnsafe(d,T,w)?.toAffine();return!!_&&h(_.x)===f},ProjectivePoint:y,Signature:S,utils:E}},r.SWUFpSqrtRatio=m,r.mapToCurveSimpleSWU=function(e,t){if(n.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=m(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,o,s,a,l,c,u,d;i=e.sqr(n),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),c=e.sqr(a),l=e.mul(c,t.A),o=e.add(o,l),o=e.mul(o,s),c=e.mul(c,a),l=e.mul(c,t.B),o=e.add(o,l),u=e.mul(i,s);const{isValid:p,value:h}=r(o,c);d=e.mul(i,n),d=e.mul(d,h),u=e.cmov(u,s,p),d=e.cmov(d,h,p);const f=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,f),u=e.div(u,a),{x:u,y:d}}}}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/abstract/weierstrass.js"}],[2003,{"./_shortw_utils.js":1997,"./abstract/hash-to-curve.js":1999,"./abstract/modular.js":2e3,"./abstract/utils.js":2001,"./abstract/weierstrass.js":2002,"@noble/hashes/sha256":2011,"@noble/hashes/utils":2014},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeToCurve=r.hashToCurve=r.schnorr=r.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/sha256"),i=e("@noble/hashes/utils"),o=e("./abstract/modular.js"),s=e("./abstract/weierstrass.js"),a=e("./abstract/utils.js"),l=e("./abstract/hash-to-curve.js"),c=e("./_shortw_utils.js"),u=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),p=BigInt(1),h=BigInt(2),f=(e,t)=>(e+t/h)/t;function m(e){const t=u,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),d=e*e*e%t,p=d*d*e%t,f=(0,o.pow2)(p,r,t)*p%t,m=(0,o.pow2)(f,r,t)*p%t,g=(0,o.pow2)(m,h,t)*d%t,v=(0,o.pow2)(g,i,t)*g%t,b=(0,o.pow2)(v,s,t)*v%t,T=(0,o.pow2)(b,l,t)*b%t,w=(0,o.pow2)(T,c,t)*T%t,_=(0,o.pow2)(w,l,t)*b%t,S=(0,o.pow2)(_,r,t)*p%t,E=(0,o.pow2)(S,a,t)*v%t,k=(0,o.pow2)(E,n,t)*d%t,O=(0,o.pow2)(k,h,t);if(!y.eql(y.sqr(O),e))throw new Error("Cannot find square root");return O}const y=(0,o.Field)(u,undefined,undefined,{sqrt:m});r.secp256k1=(0,c.createCurve)({a:BigInt(0),b:BigInt(7),Fp:y,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-p*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),l=f(s*e,t),c=f(-n*e,t);let u=(0,o.mod)(e-l*r-c*i,t),h=(0,o.mod)(-l*n-c*s,t);const m=u>a,y=h>a;if(m&&(u=t-u),y&&(h=t-h),u>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:u,k2neg:y,k2:h}}}},n.sha256);const g=BigInt(0),v=e=>"bigint"==typeof e&&g<e&&e<u,b=e=>"bigint"==typeof e&&g<e&&e<d,T={};function w(e,...t){let r=T[e];if(r===undefined){const t=(0,n.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=(0,a.concatBytes)(t,t),T[e]=r}return(0,n.sha256)((0,a.concatBytes)(r,...t))}const _=e=>e.toRawBytes(!0).slice(1),S=e=>(0,a.numberToBytesBE)(e,32),E=e=>(0,o.mod)(e,u),k=e=>(0,o.mod)(e,d),O=r.secp256k1.ProjectivePoint,P=(e,t,r)=>O.BASE.multiplyAndAddUnsafe(e,t,r);function A(e){let t=r.secp256k1.utils.normPrivateKeyToScalar(e),n=O.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:k(-t),bytes:_(n)}}function x(e){if(!v(e))throw new Error("bad x: need 0 < x < p");const t=E(e*e);let r=m(E(t*e+BigInt(7)));r%h!==g&&(r=E(-r));const n=new O(e,r,p);return n.assertValidity(),n}function C(...e){return k((0,a.bytesToNumberBE)(w("BIP0340/challenge",...e)))}function I(e){return A(e).bytes}function j(e,t,r=(0,i.randomBytes)(32)){const n=(0,a.ensureBytes)("message",e),{bytes:o,scalar:s}=A(t),l=(0,a.ensureBytes)("auxRand",r,32),c=S(s^(0,a.bytesToNumberBE)(w("BIP0340/aux",l))),u=w("BIP0340/nonce",c,o,n),d=k((0,a.bytesToNumberBE)(u));if(d===g)throw new Error("sign failed: k is zero");const{bytes:p,scalar:h}=A(d),f=C(p,o,n),m=new Uint8Array(64);if(m.set(p,0),m.set(S(k(h+f*s)),32),!B(m,n,o))throw new Error("sign: Invalid signature produced");return m}function B(e,t,r){const n=(0,a.ensureBytes)("signature",e,64),i=(0,a.ensureBytes)("message",t),o=(0,a.ensureBytes)("publicKey",r,32);try{const e=x((0,a.bytesToNumberBE)(o)),t=(0,a.bytesToNumberBE)(n.subarray(0,32));if(!v(t))return!1;const r=(0,a.bytesToNumberBE)(n.subarray(32,64));if(!b(r))return!1;const s=C(S(t),_(e),i),l=P(e,r,k(-s));return!(!l||!l.hasEvenY()||l.toAffine().x!==t)}catch(e){return!1}}r.schnorr={getPublicKey:I,sign:j,verify:B,utils:{randomPrivateKey:r.secp256k1.utils.randomPrivateKey,lift_x:x,pointToBytes:_,numberToBytesBE:a.numberToBytesBE,bytesToNumberBE:a.bytesToNumberBE,taggedHash:w,mod:o.mod}};const M=(()=>(0,l.isogenyMap)(y,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),N=(()=>(0,s.mapToCurveSimpleSWU)(y,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:y.create(BigInt("-11"))}))(),R=(()=>(0,l.createHasher)(r.secp256k1.ProjectivePoint,(e=>{const{x:t,y:r}=N(y.create(e[0]));return M(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:y.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}))();r.hashToCurve=R.hashToCurve,r.encodeToCurve=R.encodeToCurve}}},{package:"@metamask/message-signing-snap>@noble/curves",file:"node_modules/@noble/curves/secp256k1.js"}],[201,{lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=i,function(e){const t=(null==e?void 0:e.TransactionController)||{},r=(null==t?void 0:t.transactions)||{};if((0,n.isEmpty)(r))return;const i=Object.keys(r).reduce(((e,t)=>{const i=(0,n.cloneDeep)(r[t]);return null!=i&&i.err&&(i.error=i.err,delete i.err),{...e,[t]:i}}),{});e.TransactionController={...t,transactions:i}}(t.data),t},r.version=void 0;var n=e("lodash");const i=r.version=102}}},{package:"$root$",file:"app/scripts/migrations/102.ts"}],[202,{"../../../shared/constants/hardware-wallets":4126,"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,i.cloneDeep)(e);return t.meta.version=s,t.data=function(e){if((0,n.hasProperty)(e,"PreferencesController")&&(0,n.isObject)(e.PreferencesController)&&window.navigator.userAgent.includes("Chrome")){const t=e.PreferencesController;return t.ledgerTransportType=o.LedgerTransportTypes.webhid,{...e,PreferencesController:t}}return e}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("lodash"),o=e("../../../shared/constants/hardware-wallets");const s=r.version=103}}},{package:"$root$",file:"app/scripts/migrations/103.ts"}],[2022,{"@noble/curves/abstract/modular":2026,"@noble/curves/secp256k1":2029,"@noble/hashes/_assert":2030,"@noble/hashes/hmac":2034,"@noble/hashes/ripemd160":2035,"@noble/hashes/sha256":2036,"@noble/hashes/sha512":2037,"@noble/hashes/utils":2038,"@scure/base":2021},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HDKey=r.HARDENED_OFFSET=void 0;
/*! scure-bip32 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/hmac"),i=e("@noble/hashes/ripemd160"),o=e("@noble/hashes/sha256"),s=e("@noble/hashes/sha512"),a=e("@noble/hashes/_assert"),l=e("@noble/hashes/utils"),c=e("@noble/curves/secp256k1"),u=e("@noble/curves/abstract/modular"),d=e("@scure/base"),p=c.secp256k1.ProjectivePoint,h=(0,d.createBase58check)(o.sha256);function f(e){return BigInt(`0x${(0,l.bytesToHex)(e)}`)}const m=(0,l.utf8ToBytes)("Bitcoin seed"),y={private:76066276,public:76067358};r.HARDENED_OFFSET=2147483648;const g=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,l.createView)(t).setUint32(0,e,!1),t};class v{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,(0,l.createView)(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return h.encode(this.serialize(this.versions.private,(0,l.concatBytes)(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return h.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=y){if((0,a.bytes)(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const r=(0,n.hmac)(s.sha512,m,e);return new v({versions:t,chainCode:r.slice(32),privateKey:r.slice(0,32)})}static fromExtendedKey(e,t=y){const r=h.decode(e),n=(0,l.createView)(r),i=n.getUint32(0,!1),o={versions:t,depth:r[4],parentFingerprint:n.getUint32(5,!1),index:n.getUint32(9,!1),chainCode:r.slice(13,45)},s=r.slice(45),a=0===s[0];if(i!==t[a?"private":"public"])throw new Error("Version mismatch");return new v(a?{...o,privateKey:s.slice(1)}:{...o,publicKey:s})}static fromJSON(e){return v.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||y,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!c.secp256k1.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:f(e.privateKey),this.privKeyBytes=(t=this.privKey,(0,l.hexToBytes)(t.toString(16).padStart(64,"0"))),this.pubKey=c.secp256k1.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=p.fromHex(e.publicKey).toRawBytes(!0)}var t,r;this.pubHash=(r=this.pubKey,(0,i.ripemd160)((0,o.sha256)(r)))}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const e of t){const t=/^(\d+)('?)$/.exec(e),i=t&&t[1];if(!t||3!==t.length||"string"!=typeof i)throw new Error(`Invalid child index: ${e}`);let o=+i;if(!Number.isSafeInteger(o)||o>=r.HARDENED_OFFSET)throw new Error("Invalid index");"'"===t[2]&&(o+=r.HARDENED_OFFSET),n=n.deriveChild(o)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=g(e);if(e>=r.HARDENED_OFFSET){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=(0,l.concatBytes)(new Uint8Array([0]),e,t)}else t=(0,l.concatBytes)(this.pubKey,t);const i=(0,n.hmac)(s.sha512,this.chainCode,t),o=f(i.slice(0,32)),a=i.slice(32);if(!c.secp256k1.utils.isValidPrivateKey(o))throw new Error("Tweak bigger than curve order");const d={versions:this.versions,chainCode:a,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=(0,u.mod)(this.privKey+o,c.secp256k1.CURVE.n);if(!c.secp256k1.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");d.privateKey=e}else{const e=p.fromHex(this.pubKey).add(p.fromPrivateKey(o));if(e.equals(p.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");d.publicKey=e.toRawBytes(!0)}return new v(d)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return(0,a.bytes)(e,32),c.secp256k1.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if((0,a.bytes)(e,32),(0,a.bytes)(t,64),!this.publicKey)throw new Error("No publicKey set!");let r;try{r=c.secp256k1.Signature.fromCompact(t)}catch(e){return!1}return c.secp256k1.verify(r,e,this.publicKey)}wipePrivateData(){return this.privKey=undefined,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=undefined),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return(0,a.bytes)(t,33),(0,l.concatBytes)(g(e),new Uint8Array([this.depth]),g(this.parentFingerprint),g(this.index),this.chainCode,t)}}r.HDKey=v}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32",file:"node_modules/@scure/bip32/lib/index.js"}],[2023,{"./abstract/weierstrass.js":2028,"@noble/hashes/hmac":2034,"@noble/hashes/utils":2038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCurve=r.getHash=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/hmac"),i=e("@noble/hashes/utils"),o=e("./abstract/weierstrass.js");function s(e){return{hash:e,hmac:(t,...r)=>(0,n.hmac)(e,t,(0,i.concatBytes)(...r)),randomBytes:i.randomBytes}}r.getHash=s,r.createCurve=function(e,t){const r=t=>(0,o.weierstrass)({...e,...s(t)});return Object.freeze({...r(t),create:r})}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/_shortw_utils.js"}],[2024,{"./modular.js":2026,"./utils.js":2027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateBasic=r.wNAF=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),i=e("./utils.js"),o=BigInt(0),s=BigInt(1);r.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>o;)r&s&&(n=n.add(i)),i=i.double(),r>>=s;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),o=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:l}=n(t);let c=e.ZERO,u=e.BASE;const d=BigInt(2**t-1),p=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*l;let n=Number(o&d);o>>=h,n>l&&(n-=p,o+=s);const a=t,f=t+Math.abs(n)-1,m=e%2!=0,y=n<0;0===n?u=u.add(r(m,i[a])):c=c.add(r(y,i[f]))}return{p:c,f:u}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}},r.validateBasic=function(e){return(0,n.validateField)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/curve.js"}],[2025,{"./modular.js":2026,"./utils.js":2027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHasher=r.isogenyMap=r.hash_to_field=r.expand_message_xof=r.expand_message_xmd=void 0;const n=e("./modular.js"),i=e("./utils.js");const o=i.bytesToNumberBE;function s(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function a(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function l(e){if(!(0,i.isBytes)(e))throw new Error("Uint8Array expected")}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e,t,r,n){l(e),l(t),c(r),t.length>255&&(t=n((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:o,blockLen:u}=n,d=Math.ceil(r/o);if(d>255)throw new Error("Invalid xmd length");const p=(0,i.concatBytes)(t,s(t.length,1)),h=s(0,u),f=s(r,2),m=new Array(d),y=n((0,i.concatBytes)(h,e,f,s(0,1),p));m[0]=n((0,i.concatBytes)(y,s(1,1),p));for(let e=1;e<=d;e++){const t=[a(y,m[e-1]),s(e+1,1),p];m[e]=n((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...m).slice(0,r)}function d(e,t,r,n,o){if(l(e),l(t),c(r),t.length>255){const e=Math.ceil(2*n/8);t=o.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(e).update(s(r,2)).update(t).update(s(t.length,1)).digest()}function p(e,t,r){(0,i.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:s,k:a,m:p,hash:h,expand:f,DST:m}=r;l(e),c(t);const y=function(e){if((0,i.isBytes)(e))return e;if("string"==typeof e)return(0,i.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}(m),g=s.toString(2).length,v=Math.ceil((g+a)/8),b=t*p*v;let T;if("xmd"===f)T=u(e,y,b,h);else if("xof"===f)T=d(e,y,b,a,h);else{if("_internal_pass"!==f)throw new Error('expand must be "xmd" or "xof"');T=e}const w=new Array(t);for(let e=0;e<t;e++){const t=new Array(p);for(let r=0;r<p;r++){const i=v*(r+e*p),a=T.subarray(i,i+v);t[r]=(0,n.mod)(o(a),s)}w[e]=t}return w}r.expand_message_xmd=u,r.expand_message_xof=d,r.hash_to_field=p,r.isogenyMap=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[i,o,s,a]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n)))));return t=e.div(i,o),n=e.mul(n,e.div(s,a)),{x:t,y:n}}},r.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const o=p(n,2,{...r,DST:r.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),l=s.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(n,i){const o=p(n,1,{...r,DST:r.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s}}}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/hash-to-curve.js"}],[2026,{"./utils.js":2027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapHashToField=r.getMinHashLength=r.getFieldBytesLength=r.hashToPrivateScalar=r.FpSqrtEven=r.FpSqrtOdd=r.Field=r.nLength=r.FpIsSquare=r.FpDiv=r.FpInvertBatch=r.FpPow=r.validateField=r.isNegativeLE=r.FpSqrt=r.tonelliShanks=r.invert=r.pow2=r.pow=r.mod=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./utils.js"),i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),l=BigInt(4),c=BigInt(5),u=BigInt(8);BigInt(9),BigInt(16);function d(e,t){const r=e%t;return r>=i?r:t+r}function p(e,t,r){if(r<=i||t<i)throw new Error("Expected power/modulo > 0");if(r===o)return i;let n=o;for(;t>i;)t&o&&(n=n*e%r),e=e*e%r,t>>=o;return n}function h(e,t){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=d(e,t),n=t,s=i,a=o,l=o,c=i;for(;r!==i;){const e=n/r,t=n%r,i=s-l*e,o=a-c*e;n=r,r=t,s=l,a=c,l=i,c=o}if(n!==o)throw new Error("invert: does not exist");return d(s,t)}function f(e){const t=(e-o)/s;let r,n,a;for(r=e-o,n=0;r%s===i;r/=s,n++);for(a=s;a<e&&p(a,t,e)!==e-o;a++);if(1===n){const t=(e+o)/l;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const c=(r+o)/s;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=n,l=e.pow(e.mul(e.ONE,a),r),u=e.pow(i,c),d=e.pow(i,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(l,o<<BigInt(s-t-1));l=e.sqr(r),u=e.mul(u,r),d=e.mul(d,l),s=t}return u}}function m(e){if(e%l===a){const t=(e+o)/l;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%u===c){const t=(e-c)/u;return function(e,r){const n=e.mul(r,s),i=e.pow(n,t),o=e.mul(r,i),a=e.mul(e.mul(o,s),i),l=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(l),r))throw new Error("Cannot find square root");return l}}return f(e)}r.mod=d,r.pow=p,r.pow2=function(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n},r.invert=h,r.tonelliShanks=f,r.FpSqrt=m;r.isNegativeLE=(e,t)=>(d(e,t)&o)===o;const y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(e,t,r){if(r<i)throw new Error("Expected power > 0");if(r===i)return e.ONE;if(r===o)return t;let n=e.ONE,s=t;for(;r>i;)r&o&&(n=e.mul(n,s)),s=e.sqr(s),r>>=o;return n}function v(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}function b(e,t){const r=t!==undefined?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function T(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function w(e){const t=T(e);return t+Math.ceil(t/2)}r.validateField=function(e){const t=y.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(e,t)},r.FpPow=g,r.FpInvertBatch=v,r.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?h(r,e.ORDER):e.inv(r))},r.FpIsSquare=function(e){const t=(e.ORDER-o)/s;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},r.nLength=b,r.Field=function(e,t,r=!1,s={}){if(e<=i)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:l}=b(e,t);if(l>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=m(e),u=Object.freeze({ORDER:e,BITS:a,BYTES:l,MASK:(0,n.bitMask)(a),ZERO:i,ONE:o,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&o)===o,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,r)=>d(t+r,e),sub:(t,r)=>d(t-r,e),mul:(t,r)=>d(t*r,e),pow:(e,t)=>g(u,e,t),div:(t,r)=>d(t*h(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>h(t,e),sqrt:s.sqrt||(e=>c(u,e)),invertBatch:e=>v(u,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.numberToBytesLE)(e,l):(0,n.numberToBytesBE)(e,l),fromBytes:e=>{if(e.length!==l)throw new Error(`Fp.fromBytes: expected ${l}, got ${e.length}`);return r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(u)},r.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},r.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},r.hashToPrivateScalar=function(e,t,r=!1){const i=(e=(0,n.ensureBytes)("privateHash",e)).length,s=b(t).nByteLength+8;if(s<24||i<s||i>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${i}`);return d(r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e),t-o)+o},r.getFieldBytesLength=T,r.getMinHashLength=w,r.mapHashToField=function(e,t,r=!1){const i=e.length,s=T(t),a=w(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const l=d(r?(0,n.bytesToNumberBE)(e):(0,n.bytesToNumberLE)(e),t-o)+o;return r?(0,n.numberToBytesLE)(l,s):(0,n.numberToBytesBE)(l,s)}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/modular.js"}],[2027,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.validateObject=r.createHmacDrbg=r.bitMask=r.bitSet=r.bitGet=r.bitLen=r.utf8ToBytes=r.equalBytes=r.concatBytes=r.ensureBytes=r.numberToVarBytesBE=r.numberToBytesLE=r.numberToBytesBE=r.bytesToNumberLE=r.bytesToNumberBE=r.hexToBytes=r.hexToNumber=r.numberToHexUnpadded=r.bytesToHex=r.isBytes=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=BigInt(0),i=BigInt(1),o=BigInt(2);function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}r.isBytes=s;const a=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function l(e){if(!s(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=a[e[r]];return t}function c(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function u(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}r.bytesToHex=l,r.numberToHexUnpadded=c,r.hexToNumber=u;const d={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function p(e){return e>=d._0&&e<=d._9?e-d._0:e>=d._A&&e<=d._F?e-(d._A-10):e>=d._a&&e<=d._f?e-(d._a-10):void 0}function h(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=p(e.charCodeAt(i)),o=p(e.charCodeAt(i+1));if(r===undefined||o===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n}function f(e,t){return h(e.toString(16).padStart(2*t,"0"))}function m(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!s(n))throw new Error("Uint8Array expected");t+=n.length}let r=new Uint8Array(t),n=0;for(let t=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}r.hexToBytes=h,r.bytesToNumberBE=function(e){return u(l(e))},r.bytesToNumberLE=function(e){if(!s(e))throw new Error("Uint8Array expected");return u(l(Uint8Array.from(e).reverse()))},r.numberToBytesBE=f,r.numberToBytesLE=function(e,t){return f(e,t).reverse()},r.numberToVarBytesBE=function(e){return h(c(e))},r.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=h(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!s(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n},r.concatBytes=m,r.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},r.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},r.bitLen=function(e){let t;for(t=0;e>n;e>>=i,t+=1);return t},r.bitGet=function(e,t){return e>>BigInt(t)&i};r.bitSet=(e,t,r)=>e|(r?i:n)<<BigInt(t);r.bitMask=e=>(o<<BigInt(e-1))-i;const y=e=>new Uint8Array(e),g=e=>Uint8Array.from(e);r.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=y(e),i=y(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),l=(e=y())=>{i=a(g([0]),e),n=a(),0!==e.length&&(i=a(g([1]),e),n=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return m(...r)};return(e,t)=>{s(),l(e);let r=undefined;for(;!(r=t(c()));)l();return s(),r}};const v={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||s(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};r.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const i=v[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if(!(n&&o===undefined||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/utils.js"}],[2028,{"./curve.js":2024,"./modular.js":2026,"./utils.js":2027},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapToCurveSimpleSWU=r.SWUFpSqrtRatio=r.weierstrass=r.weierstrassPoints=r.DER=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("./modular.js"),i=e("./utils.js"),o=e("./utils.js"),s=e("./curve.js");const{bytesToNumberBE:a,hexToBytes:l}=i;r.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=r.DER;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:a(i),l:e.subarray(n+2)}},toSig(e){const{Err:t}=r.DER,n="string"==typeof e?l(e):e;if(!i.isBytes(n))throw new Error("ui8a expected");let o=n.length;if(o<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==o-2)throw new t("Invalid signature: incorrect length");const{d:s,l:a}=r.DER._parseInt(n.subarray(2)),{d:c,l:u}=r.DER._parseInt(a);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:c}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${a}${n}`}};const c=BigInt(0),u=BigInt(1),d=BigInt(2),p=BigInt(3),h=BigInt(4);function f(e){const t=function(e){const t=(0,s.validateBasic)(e);i.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:o}=t;if(r){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,a=t.toBytes||((e,t,n)=>{const o=t.toAffine();return i.concatBytes(Uint8Array.from([4]),r.toBytes(o.x),r.toBytes(o.y))}),l=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function d(e){const{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),d(t.Gx)))throw new Error("bad generator point: equation left != right");function h(e){return"bigint"==typeof e&&c<e&&e<t.n}function f(e){if(!h(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(e){const{allowedPrivateKeyLengths:r,nByteLength:s,wrapPrivateKey:a,n:l}=t;if(r&&"bigint"!=typeof e){if(i.isBytes(e)&&(e=i.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*s,"0")}let c;try{c="bigint"==typeof e?e:i.bytesToNumberBE((0,o.ensureBytes)("private key",e,s))}catch(t){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return a&&(c=n.mod(c,l)),f(c),c}const y=new Map;function g(e){if(!(e instanceof v))throw new Error("ProjectivePoint expected")}class v{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof v)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?v.ZERO:new v(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(v.fromAffine)}static fromHex(e){const t=v.fromAffine(l((0,o.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return v.BASE.multiply(m(e))}_setWindowSize(e){this._WINDOW_SIZE=e,y.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),o=d(e);if(!r.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){g(e);const{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,l=r.eql(r.mul(t,a),r.mul(o,i)),c=r.eql(r.mul(n,a),r.mul(s,i));return l&&c}negate(){return new v(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,p),{px:o,py:s,pz:a}=this;let l=r.ZERO,c=r.ZERO,u=r.ZERO,d=r.mul(o,o),h=r.mul(s,s),f=r.mul(a,a),m=r.mul(o,s);return m=r.add(m,m),u=r.mul(o,a),u=r.add(u,u),l=r.mul(e,u),c=r.mul(i,f),c=r.add(l,c),l=r.sub(h,c),c=r.add(h,c),c=r.mul(l,c),l=r.mul(m,l),u=r.mul(i,u),f=r.mul(e,f),m=r.sub(d,f),m=r.mul(e,m),m=r.add(m,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,f),d=r.mul(d,m),c=r.add(c,d),f=r.mul(s,a),f=r.add(f,f),d=r.mul(f,m),l=r.sub(l,d),u=r.mul(f,h),u=r.add(u,u),u=r.add(u,u),new v(l,c,u)}add(e){g(e);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:l}=e;let c=r.ZERO,u=r.ZERO,d=r.ZERO;const h=t.a,f=r.mul(t.b,p);let m=r.mul(n,s),y=r.mul(i,a),b=r.mul(o,l),T=r.add(n,i),w=r.add(s,a);T=r.mul(T,w),w=r.add(m,y),T=r.sub(T,w),w=r.add(n,o);let _=r.add(s,l);return w=r.mul(w,_),_=r.add(m,b),w=r.sub(w,_),_=r.add(i,o),c=r.add(a,l),_=r.mul(_,c),c=r.add(y,b),_=r.sub(_,c),d=r.mul(h,w),c=r.mul(f,b),d=r.add(c,d),c=r.sub(y,d),d=r.add(y,d),u=r.mul(c,d),y=r.add(m,m),y=r.add(y,m),b=r.mul(h,b),w=r.mul(f,w),y=r.add(y,b),b=r.sub(m,b),b=r.mul(h,b),w=r.add(w,b),m=r.mul(y,w),u=r.add(u,m),m=r.mul(_,w),c=r.mul(T,c),c=r.sub(c,m),m=r.mul(T,y),d=r.mul(_,d),d=r.add(d,m),new v(c,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(v.ZERO)}wNAF(e){return T.wNAFCached(this,y,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(v.fromAffine)}))}multiplyUnsafe(e){const n=v.ZERO;if(e===c)return n;if(f(e),e===u)return this;const{endo:i}=t;if(!i)return T.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:a,k2:l}=i.splitScalar(e),d=n,p=n,h=this;for(;s>c||l>c;)s&u&&(d=d.add(h)),l&u&&(p=p.add(h)),h=h.double(),s>>=u,l>>=u;return o&&(d=d.negate()),a&&(p=p.negate()),p=new v(r.mul(p.px,i.beta),p.py,p.pz),d.add(p)}multiply(e){f(e);let n,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:l}=s.splitScalar(o);let{p:c,f:u}=this.wNAF(t),{p:d,f:p}=this.wNAF(l);c=T.constTimeNegate(e,c),d=T.constTimeNegate(a,d),d=new v(r.mul(d.px,s.beta),d.py,d.pz),n=c.add(d),i=u.add(p)}else{const{p:e,f:t}=this.wNAF(o);n=e,i=t}return v.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=v.BASE,i=(e,t)=>t!==c&&t!==u&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?undefined:o}toAffine(e){const{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));const s=r.mul(t,e),a=r.mul(n,e),l=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===u)return!0;if(r)return r(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===u?this:r?r(v,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(v,this,e)}toHex(e=!0){return i.bytesToHex(this.toRawBytes(e))}}v.BASE=new v(t.Gx,t.Gy,r.ONE),v.ZERO=new v(r.ZERO,r.ONE,r.ZERO);const b=t.nBitLength,T=(0,s.wNAF)(v,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:v,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:h}}function m(e,t){const r=e.ORDER;let n=c;for(let e=r-u;e%d===c;e/=d)n+=u;const i=n,o=d<<i-u-u,s=o*d,a=(r-u)/s,l=(a-u)/d,f=s-u,m=o,y=e.pow(t,a),g=e.pow(t,(a+u)/d);let v=(t,r)=>{let n=y,o=e.pow(r,f),s=e.sqr(o);s=e.mul(s,r);let a=e.mul(t,s);a=e.pow(a,l),a=e.mul(a,o),o=e.mul(a,r),s=e.mul(a,t);let c=e.mul(s,o);a=e.pow(c,m);let p=e.eql(a,e.ONE);o=e.mul(s,g),a=e.mul(c,n),s=e.cmov(o,s,p),c=e.cmov(a,c,p);for(let t=i;t>u;t--){let r=t-d;r=d<<r-u;let i=e.pow(c,r);const a=e.eql(i,e.ONE);o=e.mul(s,n),n=e.mul(n,n),i=e.mul(c,n),s=e.cmov(o,s,a),c=e.cmov(i,c,a)}return{isValid:p,value:s}};if(e.ORDER%h===p){const r=(e.ORDER-p)/h,n=e.sqrt(e.neg(t));v=(t,i)=>{let o=e.sqr(i);const s=e.mul(t,i);o=e.mul(o,s);let a=e.pow(o,r);a=e.mul(a,s);const l=e.mul(a,n),c=e.mul(e.sqr(a),i),u=e.eql(c,t);return{isValid:u,value:e.cmov(l,a,u)}}}return v}r.weierstrassPoints=f,r.weierstrass=function(e){const t=function(e){const t=(0,s.validateBasic)(e);return i.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:a,n:l}=t,d=a.BYTES+1,p=2*a.BYTES+1;function h(e){return n.mod(e,l)}function m(e){return n.invert(e,l)}const{ProjectivePoint:y,normPrivateKeyToScalar:g,weierstrassEquation:v,isWithinCurveOrder:b}=f({...t,toBytes(e,t,r){const n=t.toAffine(),o=a.toBytes(n.x),s=i.concatBytes;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,a.toBytes(n.y))},fromBytes(e){const t=e.length,r=e[0],n=e.subarray(1);if(t!==d||2!==r&&3!==r){if(t===p&&4===r){return{x:a.fromBytes(n.subarray(0,a.BYTES)),y:a.fromBytes(n.subarray(a.BYTES,2*a.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${d} compressed bytes or ${p} uncompressed bytes`)}{const e=i.bytesToNumberBE(n);if(!(c<(o=e)&&o<a.ORDER))throw new Error("Point is not on curve");const t=v(e);let s=a.sqrt(t);return!(1&~r)!==((s&u)===u)&&(s=a.neg(s)),{x:e,y:s}}var o}}),T=e=>i.bytesToHex(i.numberToBytesBE(e,t.nByteLength));function w(e){return e>l>>u}const _=(e,t,r)=>i.bytesToNumberBE(e.slice(t,r));class S{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=(0,o.ensureBytes)("compactSignature",e,2*r),new S(_(e,0,r),_(e,r,2*r))}static fromDER(e){const{r:t,s:n}=r.DER.toSig((0,o.ensureBytes)("DER",e));return new S(t,n)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new S(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:n,recovery:i}=this,s=P((0,o.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const l=2===i||3===i?r+t.n:r;if(l>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=1&i?"03":"02",u=y.fromHex(c+T(l)),d=m(l),p=h(-s*d),f=h(n*d),g=y.BASE.multiplyAndAddUnsafe(u,p,f);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return i.hexToBytes(this.toDERHex())}toDERHex(){return r.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return i.hexToBytes(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}const E={isValidPrivateKey(e){try{return g(e),!0}catch(e){return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const e=n.getMinHashLength(t.n);return n.mapHashToField(t.randomBytes(e),t.n)},precompute:(e=8,t=y.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function k(e){const t=i.isBytes(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===d||n===p:r?n===2*d||n===2*p:e instanceof y}const O=t.bits2int||function(e){const r=i.bytesToNumberBE(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},P=t.bits2int_modN||function(e){return h(O(e))},A=i.bitMask(t.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(c<=e&&e<A))throw new Error(`bigint expected < 2^${t.nBitLength}`);return i.numberToBytesBE(e,t.nByteLength)}function C(e,r,n=I){if(["recovered","canonical"].some((e=>e in n)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:l}=t;let{lowS:d,prehash:p,extraEntropy:f}=n;null==d&&(d=!0),e=(0,o.ensureBytes)("msgHash",e),p&&(e=(0,o.ensureBytes)("prehashed msgHash",s(e)));const v=P(e),T=g(r),_=[x(T),x(v)];if(null!=f){const e=!0===f?l(a.BYTES):f;_.push((0,o.ensureBytes)("extraEntropy",e))}const E=i.concatBytes(..._),k=v;return{seed:E,k2sig:function(e){const t=O(e);if(!b(t))return;const r=m(t),n=y.BASE.multiply(t).toAffine(),i=h(n.x);if(i===c)return;const o=h(r*h(k+i*T));if(o===c)return;let s=(n.x===i?0:2)|Number(n.y&u),a=o;return d&&w(o)&&(a=function(e){return w(e)?h(-e):e}(o),s^=1),new S(i,a,s)}}}const I={lowS:t.lowS,prehash:!1},j={lowS:t.lowS,prehash:!1};return y.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return y.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(k(e))throw new Error("first arg must be private key");if(!k(t))throw new Error("second arg must be public key");return y.fromHex(t).multiply(g(e)).toRawBytes(r)},sign:function(e,r,n=I){const{seed:o,k2sig:s}=C(e,r,n),a=t;return i.createHmacDrbg(a.hash.outputLen,a.nByteLength,a.hmac)(o,s)},verify:function(e,n,s,a=j){const l=e;if(n=(0,o.ensureBytes)("msgHash",n),s=(0,o.ensureBytes)("publicKey",s),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:u}=a;let d,p=undefined;try{if("string"==typeof l||i.isBytes(l))try{p=S.fromDER(l)}catch(e){if(!(e instanceof r.DER.Err))throw e;p=S.fromCompact(l)}else{if("object"!=typeof l||"bigint"!=typeof l.r||"bigint"!=typeof l.s)throw new Error("PARSE");{const{r:e,s:t}=l;p=new S(e,t)}}d=y.fromHex(s)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&p.hasHighS())return!1;u&&(n=t.hash(n));const{r:f,s:g}=p,v=P(n),b=m(g),T=h(v*b),w=h(f*b),_=y.BASE.multiplyAndAddUnsafe(d,T,w)?.toAffine();return!!_&&h(_.x)===f},ProjectivePoint:y,Signature:S,utils:E}},r.SWUFpSqrtRatio=m,r.mapToCurveSimpleSWU=function(e,t){if(n.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=m(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,o,s,a,l,c,u,d;i=e.sqr(n),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),c=e.sqr(a),l=e.mul(c,t.A),o=e.add(o,l),o=e.mul(o,s),c=e.mul(c,a),l=e.mul(c,t.B),o=e.add(o,l),u=e.mul(i,s);const{isValid:p,value:h}=r(o,c);d=e.mul(i,n),d=e.mul(d,h),u=e.cmov(u,s,p),d=e.cmov(d,h,p);const f=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,f),u=e.div(u,a),{x:u,y:d}}}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/abstract/weierstrass.js"}],[2029,{"./_shortw_utils.js":2023,"./abstract/hash-to-curve.js":2025,"./abstract/modular.js":2026,"./abstract/utils.js":2027,"./abstract/weierstrass.js":2028,"@noble/hashes/sha256":2036,"@noble/hashes/utils":2038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeToCurve=r.hashToCurve=r.schnorr=r.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=e("@noble/hashes/sha256"),i=e("@noble/hashes/utils"),o=e("./abstract/modular.js"),s=e("./abstract/weierstrass.js"),a=e("./abstract/utils.js"),l=e("./abstract/hash-to-curve.js"),c=e("./_shortw_utils.js"),u=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),p=BigInt(1),h=BigInt(2),f=(e,t)=>(e+t/h)/t;function m(e){const t=u,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),d=e*e*e%t,p=d*d*e%t,f=(0,o.pow2)(p,r,t)*p%t,m=(0,o.pow2)(f,r,t)*p%t,g=(0,o.pow2)(m,h,t)*d%t,v=(0,o.pow2)(g,i,t)*g%t,b=(0,o.pow2)(v,s,t)*v%t,T=(0,o.pow2)(b,l,t)*b%t,w=(0,o.pow2)(T,c,t)*T%t,_=(0,o.pow2)(w,l,t)*b%t,S=(0,o.pow2)(_,r,t)*p%t,E=(0,o.pow2)(S,a,t)*v%t,k=(0,o.pow2)(E,n,t)*d%t,O=(0,o.pow2)(k,h,t);if(!y.eql(y.sqr(O),e))throw new Error("Cannot find square root");return O}const y=(0,o.Field)(u,undefined,undefined,{sqrt:m});r.secp256k1=(0,c.createCurve)({a:BigInt(0),b:BigInt(7),Fp:y,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-p*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),l=f(s*e,t),c=f(-n*e,t);let u=(0,o.mod)(e-l*r-c*i,t),h=(0,o.mod)(-l*n-c*s,t);const m=u>a,y=h>a;if(m&&(u=t-u),y&&(h=t-h),u>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:m,k1:u,k2neg:y,k2:h}}}},n.sha256);const g=BigInt(0),v=e=>"bigint"==typeof e&&g<e&&e<u,b=e=>"bigint"==typeof e&&g<e&&e<d,T={};function w(e,...t){let r=T[e];if(r===undefined){const t=(0,n.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=(0,a.concatBytes)(t,t),T[e]=r}return(0,n.sha256)((0,a.concatBytes)(r,...t))}const _=e=>e.toRawBytes(!0).slice(1),S=e=>(0,a.numberToBytesBE)(e,32),E=e=>(0,o.mod)(e,u),k=e=>(0,o.mod)(e,d),O=r.secp256k1.ProjectivePoint,P=(e,t,r)=>O.BASE.multiplyAndAddUnsafe(e,t,r);function A(e){let t=r.secp256k1.utils.normPrivateKeyToScalar(e),n=O.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:k(-t),bytes:_(n)}}function x(e){if(!v(e))throw new Error("bad x: need 0 < x < p");const t=E(e*e);let r=m(E(t*e+BigInt(7)));r%h!==g&&(r=E(-r));const n=new O(e,r,p);return n.assertValidity(),n}function C(...e){return k((0,a.bytesToNumberBE)(w("BIP0340/challenge",...e)))}function I(e){return A(e).bytes}function j(e,t,r=(0,i.randomBytes)(32)){const n=(0,a.ensureBytes)("message",e),{bytes:o,scalar:s}=A(t),l=(0,a.ensureBytes)("auxRand",r,32),c=S(s^(0,a.bytesToNumberBE)(w("BIP0340/aux",l))),u=w("BIP0340/nonce",c,o,n),d=k((0,a.bytesToNumberBE)(u));if(d===g)throw new Error("sign failed: k is zero");const{bytes:p,scalar:h}=A(d),f=C(p,o,n),m=new Uint8Array(64);if(m.set(p,0),m.set(S(k(h+f*s)),32),!B(m,n,o))throw new Error("sign: Invalid signature produced");return m}function B(e,t,r){const n=(0,a.ensureBytes)("signature",e,64),i=(0,a.ensureBytes)("message",t),o=(0,a.ensureBytes)("publicKey",r,32);try{const e=x((0,a.bytesToNumberBE)(o)),t=(0,a.bytesToNumberBE)(n.subarray(0,32));if(!v(t))return!1;const r=(0,a.bytesToNumberBE)(n.subarray(32,64));if(!b(r))return!1;const s=C(S(t),_(e),i),l=P(e,r,k(-s));return!(!l||!l.hasEvenY()||l.toAffine().x!==t)}catch(e){return!1}}r.schnorr={getPublicKey:I,sign:j,verify:B,utils:{randomPrivateKey:r.secp256k1.utils.randomPrivateKey,lift_x:x,pointToBytes:_,numberToBytesBE:a.numberToBytesBE,bytesToNumberBE:a.bytesToNumberBE,taggedHash:w,mod:o.mod}};const M=(()=>(0,l.isogenyMap)(y,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),N=(()=>(0,s.mapToCurveSimpleSWU)(y,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:y.create(BigInt("-11"))}))(),R=(()=>(0,l.createHasher)(r.secp256k1.ProjectivePoint,(e=>{const{x:t,y:r}=N(y.create(e[0]));return M(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:y.ORDER,m:1,k:128,expand:"xmd",hash:n.sha256}))();r.hashToCurve=R.hashToCurve,r.encodeToCurve=R.encodeToCurve}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/curves",file:"node_modules/@scure/bip32/node_modules/@noble/curves/secp256k1.js"}],[203,{lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=i,function(e){const t=null==e?void 0:e.TransactionController;if(!t)return;const r=(null==t?void 0:t.transactions)||{},n=Object.values(r).sort(((e,t)=>e.time>t.time?-1:1));e.TransactionController={...t,transactions:n}}(t.data),t},r.version=void 0;var n=e("lodash");const i=r.version=104}}},{package:"$root$",file:"app/scripts/migrations/104.ts"}],[2030,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function o(e,...t){if(!((r=e)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Expected Uint8Array");var r;if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function l(e,t){o(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=void 0,r.number=n,r.bool=i,r.bytes=o,r.hash=s,r.exists=a,r.output=l;const c={number:n,bool:i,bytes:o,hash:s,exists:a,output:l};r.default=c}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/_assert.js"}],[2031,{"./_assert.js":2030,"./utils.js":2038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SHA2=void 0;const n=e("./_assert.js"),i=e("./utils.js");class o extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:o}=this,s=(e=(0,i.toBytes)(e)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=s-n;n+=o)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),l=n?4:0,c=n?0:4;e.setUint32(t+l,s,n),e.setUint32(t+c,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const l=(0,i.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)l.setUint32(4*e,d[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}r.SHA2=o}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/_sha2.js"}],[2032,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.add5L=r.add5H=r.add4H=r.add4L=r.add3H=r.add3L=r.add=r.rotlBL=r.rotlBH=r.rotlSL=r.rotlSH=r.rotr32L=r.rotr32H=r.rotrBL=r.rotrBH=r.rotrSL=r.rotrSH=r.shrSL=r.shrSH=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),i=BigInt(32);function o(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function s(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=o(e[i],t);[r[i],n[i]]=[s,a]}return[r,n]}r.fromBig=o,r.split=s;const a=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);r.toBig=a;const l=(e,t,r)=>e>>>r;r.shrSH=l;const c=(e,t,r)=>e<<32-r|t>>>r;r.shrSL=c;const u=(e,t,r)=>e>>>r|t<<32-r;r.rotrSH=u;const d=(e,t,r)=>e<<32-r|t>>>r;r.rotrSL=d;const p=(e,t,r)=>e<<64-r|t>>>r-32;r.rotrBH=p;const h=(e,t,r)=>e>>>r-32|t<<64-r;r.rotrBL=h;const f=(e,t)=>t;r.rotr32H=f;const m=(e,t)=>e;r.rotr32L=m;const y=(e,t,r)=>e<<r|t>>>32-r;r.rotlSH=y;const g=(e,t,r)=>t<<r|e>>>32-r;r.rotlSL=g;const v=(e,t,r)=>t<<r-32|e>>>64-r;r.rotlBH=v;const b=(e,t,r)=>e<<r-32|t>>>64-r;function T(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}r.rotlBL=b,r.add=T;const w=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);r.add3L=w;const _=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;r.add3H=_;const S=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);r.add4L=S;const E=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;r.add4H=E;const k=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);r.add5L=k;const O=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;r.add5H=O;const P={fromBig:o,split:s,toBig:a,shrSH:l,shrSL:c,rotrSH:u,rotrSL:d,rotrBH:p,rotrBL:h,rotr32H:f,rotr32L:m,rotlSH:y,rotlSL:g,rotlBH:v,rotlBL:b,add:T,add3L:w,add3H:_,add4L:S,add4H:E,add5H:O,add5L:k};r.default=P}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/_u64.js"}],[2033,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:undefined}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/crypto.js"}],[2034,{"./_assert.js":2030,"./utils.js":2038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hmac=r.HMAC=void 0;const n=e("./_assert.js"),i=e("./utils.js");class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}r.HMAC=o;r.hmac=(e,t,r)=>new o(e,t).update(r).digest(),r.hmac.create=(e,t)=>new o(e,t)}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/hmac.js"}],[2035,{"./_sha2.js":2031,"./utils.js":2038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ripemd160=r.RIPEMD160=void 0;const n=e("./_sha2.js"),i=e("./utils.js"),o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),s=Uint8Array.from({length:16},((e,t)=>t));let a=[s],l=[s.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[a,l])t.push(t[e].map((e=>o[e])));const c=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),u=a.map(((e,t)=>e.map((e=>c[t][e])))),d=l.map(((e,t)=>e.map((e=>c[t][e])))),p=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),h=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),f=(e,t)=>e<<t|e>>>32-t;function m(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const y=new Uint32Array(16);class g extends n.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)y[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,o=i,s=0|this.h2,c=s,g=0|this.h3,v=g,b=0|this.h4,T=b;for(let e=0;e<5;e++){const t=4-e,w=p[e],_=h[e],S=a[e],E=l[e],k=u[e],O=d[e];for(let t=0;t<16;t++){const n=f(r+m(e,i,s,g)+y[S[t]]+w,k[t])+b|0;r=b,b=g,g=0|f(s,10),s=i,i=n}for(let e=0;e<16;e++){const r=f(n+m(t,o,c,v)+y[E[e]]+_,O[e])+T|0;n=T,T=v,v=0|f(c,10),c=o,o=r}}this.set(this.h1+s+v|0,this.h2+g+T|0,this.h3+b+n|0,this.h4+r+o|0,this.h0+i+c|0)}roundClean(){y.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}r.RIPEMD160=g,r.ripemd160=(0,i.wrapConstructor)((()=>new g))}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/ripemd160.js"}],[2036,{"./_sha2.js":2031,"./utils.js":2038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha224=r.sha256=void 0;const n=e("./_sha2.js"),i=e("./utils.js"),o=(e,t,r)=>e&t^e&r^t&r,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),l=new Uint32Array(64);class c extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)l[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=l[e-15],r=l[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;l[e]=o+l[e-7]+n+l[e-16]|0}let{A:r,B:n,C:a,D:c,E:u,F:d,G:p,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.rotr)(u,6)^(0,i.rotr)(u,11)^(0,i.rotr)(u,25))+((f=u)&d^~f&p)+s[e]+l[e]|0,m=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+o(r,n,a)|0;h=p,p=d,d=u,u=c+t|0,c=a,a=n,n=r,r=t+m|0}var f;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,d=d+this.F|0,p=p+this.G|0,h=h+this.H|0,this.set(r,n,a,c,u,d,p,h)}roundClean(){l.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}r.sha256=(0,i.wrapConstructor)((()=>new c)),r.sha224=(0,i.wrapConstructor)((()=>new u))}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/sha256.js"}],[2037,{"./_sha2.js":2031,"./_u64.js":2032,"./utils.js":2038},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sha384=r.sha512_256=r.sha512_224=r.sha512=r.SHA512=void 0;const n=e("./_sha2.js"),i=e("./_u64.js"),o=e("./utils.js"),[s,a]=(()=>i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),l=new Uint32Array(80),c=new Uint32Array(80);class u extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:l,El:c,Fh:u,Fl:d,Gh:p,Gl:h,Hh:f,Hl:m}=this;return[e,t,r,n,i,o,s,a,l,c,u,d,p,h,f,m]}set(e,t,r,n,i,o,s,a,l,c,u,d,p,h,f,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|p,this.Gl=0|h,this.Hh=0|f,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)l[r]=e.getUint32(t),c[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|l[e-15],r=0|c[e-15],n=i.default.rotrSH(t,r,1)^i.default.rotrSH(t,r,8)^i.default.shrSH(t,r,7),o=i.default.rotrSL(t,r,1)^i.default.rotrSL(t,r,8)^i.default.shrSL(t,r,7),s=0|l[e-2],a=0|c[e-2],u=i.default.rotrSH(s,a,19)^i.default.rotrBH(s,a,61)^i.default.shrSH(s,a,6),d=i.default.rotrSL(s,a,19)^i.default.rotrBL(s,a,61)^i.default.shrSL(s,a,6),p=i.default.add4L(o,d,c[e-7],c[e-16]),h=i.default.add4H(p,n,u,l[e-7],l[e-16]);l[e]=0|h,c[e]=0|p}let{Ah:r,Al:n,Bh:o,Bl:u,Ch:d,Cl:p,Dh:h,Dl:f,Eh:m,El:y,Fh:g,Fl:v,Gh:b,Gl:T,Hh:w,Hl:_}=this;for(let e=0;e<80;e++){const t=i.default.rotrSH(m,y,14)^i.default.rotrSH(m,y,18)^i.default.rotrBH(m,y,41),S=i.default.rotrSL(m,y,14)^i.default.rotrSL(m,y,18)^i.default.rotrBL(m,y,41),E=m&g^~m&b,k=y&v^~y&T,O=i.default.add5L(_,S,k,a[e],c[e]),P=i.default.add5H(O,w,t,E,s[e],l[e]),A=0|O,x=i.default.rotrSH(r,n,28)^i.default.rotrBH(r,n,34)^i.default.rotrBH(r,n,39),C=i.default.rotrSL(r,n,28)^i.default.rotrBL(r,n,34)^i.default.rotrBL(r,n,39),I=r&o^r&d^o&d,j=n&u^n&p^u&p;w=0|b,_=0|T,b=0|g,T=0|v,g=0|m,v=0|y,({h:m,l:y}=i.default.add(0|h,0|f,0|P,0|A)),h=0|d,f=0|p,d=0|o,p=0|u,o=0|r,u=0|n;const B=i.default.add3L(A,C,j);r=i.default.add3H(B,P,x,I),n=0|B}({h:r,l:n}=i.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:o,l:u}=i.default.add(0|this.Bh,0|this.Bl,0|o,0|u)),({h:d,l:p}=i.default.add(0|this.Ch,0|this.Cl,0|d,0|p)),({h:h,l:f}=i.default.add(0|this.Dh,0|this.Dl,0|h,0|f)),({h:m,l:y}=i.default.add(0|this.Eh,0|this.El,0|m,0|y)),({h:g,l:v}=i.default.add(0|this.Fh,0|this.Fl,0|g,0|v)),({h:b,l:T}=i.default.add(0|this.Gh,0|this.Gl,0|b,0|T)),({h:w,l:_}=i.default.add(0|this.Hh,0|this.Hl,0|w,0|_)),this.set(r,n,o,u,d,p,h,f,m,y,g,v,b,T,w,_)}roundClean(){l.fill(0),c.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}r.SHA512=u;class d extends u{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class p extends u{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class h extends u{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}r.sha512=(0,o.wrapConstructor)((()=>new u)),r.sha512_224=(0,o.wrapConstructor)((()=>new d)),r.sha512_256=(0,o.wrapConstructor)((()=>new p)),r.sha384=(0,o.wrapConstructor)((()=>new h))}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/sha512.js"}],[2038,{"@noble/hashes/crypto":2033},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.isLE=r.rotr=r.createView=r.u32=r.u8=void 0;const n=e("@noble/hashes/crypto");r.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}r.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));r.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.rotr=(e,t)=>e<<32-t|e>>>t,r.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!r.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));r.bytesToHex=function(e){if(!i(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t};const s={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=s._0&&e<=s._9?e-s._0:e>=s._A&&e<=s._F?e-(s._A-10):e>=s._a&&e<=s._f?e-(s._a-10):void 0}r.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=a(e.charCodeAt(i)),o=a(e.charCodeAt(i+1));if(r===undefined||o===undefined){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n};function l(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function c(e){if("string"==typeof e&&(e=l(e)),!i(e))throw new Error("expected Uint8Array, got "+typeof e);return e}r.nextTick=async()=>{},r.asyncLoop=async function(e,t,n){let i=Date.now();for(let o=0;o<e;o++){n(o);const e=Date.now()-i;e>=0&&e<t||(await(0,r.nextTick)(),i+=e)}},r.utf8ToBytes=l,r.toBytes=c,r.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!i(n))throw new Error("Uint8Array expected");t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};r.Hash=class{clone(){return this._cloneInto()}};const u={}.toString;r.checkOpts=function(e,t){if(t!==undefined&&"[object Object]"!==u.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},r.wrapConstructor=function(e){const t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},r.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(c(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(c(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},r.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}}},{package:"@ethereumjs/tx>ethereum-cryptography>@scure/bip32>@noble/hashes",file:"node_modules/@scure/bip32/node_modules/@noble/hashes/utils.js"}],[2039,{assert:2630,buffer:2634,"component-type":2695,"join-component":3287},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("component-type"),i=e("join-component"),o=e("assert"),s=32768;t.exports=function(e,t){switch(l(e),t=t||e.type,o(t,"You must pass an event type."),t){case"track":return function(e){o(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".'),o(e.event,'You must pass an "event".')}(e);case"group":return function(e){o(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".'),o(e.groupId,'You must pass a "groupId".')}(e);case"identify":case"page":case"screen":return function(e){o(e.anonymousId||e.userId,'You must pass either an "anonymousId" or a "userId".')}(e);case"alias":return function(e){o(e.userId,'You must pass a "userId".'),o(e.previousId,'You must pass a "previousId".')}(e);default:o(0,'Invalid event type: "'+t+'"')}};var a={anonymousId:["string","number"],category:"string",context:"object",event:"string",groupId:["string","number"],integrations:"object",name:"string",previousId:["string","number"],timestamp:"date",userId:["string","number"],type:"string"};function l(e){o("object"===n(e),"You must pass a message object.");var t=JSON.stringify(e);for(var l in o(r.byteLength(t,"utf8")<s,"Your message must be < 32kb."),a){var c=e[l];if(c){var u=a[l];"array"!==n(u)&&(u=[u]);var d="object"===u[0]?"an":"a";o(u.some((function(e){return n(c)===e})),'"'+l+'" must be '+d+" "+i(u,"or")+".")}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@segment/loosely-validate-event",file:"node_modules/@segment/loosely-validate-event/index.js"}],[204,{"@metamask/keyring-api":1303,"ethereumjs-util":2896,lodash:3477,uuid:4067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,s.cloneDeep)(e);return t.meta.version=a,function(e){(function(e){e.AccountsController={internalAccounts:{accounts:{},selectedAccount:""}}})(e),function(e){var t;const r=(null===(t=e.PreferencesController)||void 0===t?void 0:t.identities)||{};if(0===Object.keys(r).length)return;const s={};Object.values(r).forEach((e=>{const t=(0,o.v4)({random:(0,i.sha256FromString)(e.address).slice(0,16)});s[t]={address:e.address,id:t,options:{},metadata:{name:e.name,lastSelected:e.lastSelected??undefined,keyring:{type:"HD Key Tree"}},methods:[...Object.values(n.EthMethod)],type:n.EthAccountType.Eoa}})),e.AccountsController.internalAccounts.accounts=s}(e),function(e){var t;const r=null===(t=e.PreferencesController)||void 0===t?void 0:t.selectedAddress;var n,i;"string"!=typeof r&&(null===(n=global.sentry)||void 0===n||null===(i=n.captureException)||void 0===i||i.call(n,new Error(`state.PreferencesController?.selectedAddress is ${r}`)));const o=Object.values(e.AccountsController.internalAccounts.accounts).find((e=>e.address.toLowerCase()===r.toLowerCase()));o&&(e.AccountsController.internalAccounts={...e.AccountsController.internalAccounts,selectedAccount:o.id??""})}(e)}(t.data),t},r.version=void 0;var n=e("@metamask/keyring-api"),i=e("ethereumjs-util"),o=e("uuid"),s=e("lodash");const a=r.version=105}}},{package:"$root$",file:"app/scripts/migrations/105.ts"}],[205,{lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);t.meta.version=i;const r=function(e){const t=(null==e?void 0:e.PreferencesController)||{};return{...e,PreferencesController:{...t,securityAlertsEnabled:!0!==t.transactionSecurityCheckEnabled}}}(t.data);return t.data=r,t},r.version=void 0;var n=e("lodash");const i=r.version=106}}},{package:"$root$",file:"app/scripts/migrations/106.js"}],[206,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,t.data=function(e){if(!((0,i.hasProperty)(e,"CachedBalancesController")&&(0,i.isObject)(e.CachedBalancesController)&&(0,i.hasProperty)(e.CachedBalancesController,"cachedBalances")&&(0,i.isObject)(e.CachedBalancesController.cachedBalances)&&(0,i.hasProperty)(e,"AccountTracker")&&(0,i.isObject)(e.AccountTracker)))return e;e.AccountTracker.accountsByChainId||(e.AccountTracker.accountsByChainId={});const t=e.AccountTracker,r=e.CachedBalancesController.cachedBalances;return Object.keys(r).forEach((e=>{t.accountsByChainId[e]||(t.accountsByChainId[e]={}),Object.keys(r[e]).forEach((n=>{if(t.accountsByChainId[e][n]===undefined){const i=r[e][n];t.accountsByChainId[e][n]={address:n,balance:i}}}))})),delete e.CachedBalancesController,e.AccountTracker=t,e}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=r.version=107}}},{package:"$root$",file:"app/scripts/migrations/107.ts"}],[207,{lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=i,function(e){var t,r;const i=(null==e||null===(t=e.AddressBookController)||void 0===t?void 0:t.addressBook)??{},o=(null==e||null===(r=e.NameController)||void 0===r||null===(r=r.names)||void 0===r?void 0:r.ethereumAddress)??{};if((0,n.isEmpty)(Object.keys(i)))return;for(const e of Object.keys(i)){const t=i[e];for(const r of Object.keys(t)){var s,a;const n=t[r],i=r.toLowerCase(),l=o[i]??{};null!==(s=(l[e]??{}).name)&&void 0!==s&&s.length||null===(a=n.name)||void 0===a||!a.length||null==i||!i.length||(o[i]=l,l[e]={name:n.name,sourceId:n.isEns?"ens":null,proposedNames:{}})}}e.NameController={...e.NameController,names:{ethereumAddress:o}}}(t.data),t},r.version=void 0;var n=e("lodash");const i=r.version=108}}},{package:"$root$",file:"app/scripts/migrations/108.ts"}],[208,{"@metamask/name-controller":1370,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,function(e){var t,r;const o=(null==e||null===(t=e.PreferencesController)||void 0===t?void 0:t.identities)??{},s=(null==e||null===(r=e.NameController)||void 0===r||null===(r=r.names)||void 0===r?void 0:r.ethereumAddress)??{};if((0,n.isEmpty)(Object.keys(o)))return;let a=!1;for(const e of Object.keys(o)){var l,c,u;const t=o[e],r=e.toLowerCase(),n=s[r]??{};!Boolean(null===(l=n[i.FALLBACK_VARIATION])||void 0===l?void 0:l.name)&&null!==(c=t.name)&&void 0!==c&&c.length&&null!==(u=t.address)&&void 0!==u&&u.length&&null!=r&&r.length&&(s[r]=n,n[i.FALLBACK_VARIATION]={name:t.name,sourceId:null,proposedNames:{},origin:i.NameOrigin.ACCOUNT_IDENTITY},a=!0)}a&&(e.NameController={...e.NameController,names:{ethereumAddress:s}})}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/name-controller");const o=r.version=109}}},{package:"$root$",file:"app/scripts/migrations/109.ts"}],[209,{"../../../shared/constants/network":4131,"@metamask/controller-utils":1077,"@metamask/network-controller":1385,"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=l,function(e){const t=(null==e?void 0:e.NetworkController)||{},r=(null==t?void 0:t.providerConfig)||{};if((null==r?void 0:r.chainId)!==a.CHAIN_IDS.GOERLI)return e;const l=e.NetworkController;(0,o.hasProperty)(e,"NetworkController")&&(0,n.isObject)(e.NetworkController)&&(0,o.hasProperty)(e.NetworkController,"providerConfig")&&(0,n.isObject)(e.NetworkController.providerConfig)&&(0,o.hasProperty)(e.NetworkController.providerConfig,"chainId")&&e.NetworkController.providerConfig.chainId===a.CHAIN_IDS.GOERLI&&(l.providerConfig={type:i.NetworkType.sepolia,rpcPrefs:{},chainId:a.CHAIN_IDS.SEPOLIA,nickname:a.SEPOLIA_DISPLAY_NAME,rpcUrl:a.CHAIN_ID_TO_RPC_URL_MAP[a.CHAIN_IDS.SEPOLIA],providerType:a.NETWORK_TYPES.SEPOLIA,ticker:a.TEST_NETWORK_TICKER_MAP[a.NETWORK_TYPES.SEPOLIA],id:a.NETWORK_TYPES.SEPOLIA,removable:!1},l.selectedNetworkClientId=a.NETWORK_TYPES.SEPOLIA,l.networksMetadata={...l.networksMetadata,sepolia:{EIPS:{1559:!0},status:s.NetworkStatus.Available}})}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/controller-utils"),o=e("@metamask/utils"),s=e("@metamask/network-controller"),a=e("../../../shared/constants/network");const l=r.version=110}}},{package:"$root$",file:"app/scripts/migrations/110.ts"}],[21,{"./background-api":18,"./caveat-mutators":19,"./enums":20,"./selectors":22,"./specifications":23},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./caveat-mutators");Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===n[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return n[e]}}))}));var i=e("./background-api");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===i[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=e("./enums");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===o[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=e("./specifications");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===s[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}}))}));var a=e("./selectors");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===a[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"app/scripts/controllers/permissions/index.js"}],[210,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,function(e){if(!(0,i.hasProperty)(e,"SelectedNetworkController"))return e;if((0,i.isObject)(e.SelectedNetworkController))if((0,i.hasProperty)(e.SelectedNetworkController,"domains")){if(!(0,i.isObject)(e.SelectedNetworkController.domains)){var t,r;null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("state.SelectedNetworkController.domains is type: "+typeof e.SelectedNetworkController.domains))}}else{var n,o;null===(n=global.sentry)||void 0===n||null===(o=n.captureException)||void 0===o||o.call(n,new Error("state.SelectedNetworkController.domains is missing from SelectedNetworkController state"))}else{var s,a;null===(s=global.sentry)||void 0===s||null===(a=s.captureException)||void 0===a||a.call(s,new Error("state.SelectedNetworkController is type: "+typeof e.SelectedNetworkController)),e.SelectedNetworkController={}}e.SelectedNetworkController.domains={}}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=r.version=111}}},{package:"$root$",file:"app/scripts/migrations/111.ts"}],[211,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,function(e){if(!(0,i.hasProperty)(e,"SelectedNetworkController"))return e;if((0,i.isObject)(e.SelectedNetworkController))if((0,i.hasProperty)(e.SelectedNetworkController,"perDomainNetwork")){if("boolean"!=typeof e.SelectedNetworkController.perDomainNetwork){var t,r;null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("state.SelectedNetworkController.perDomainNetwork is type: "+typeof e.SelectedNetworkController.perDomainNetwork))}}else{var n,o;null===(n=global.sentry)||void 0===n||null===(o=n.captureException)||void 0===o||o.call(n,new Error("state.SelectedNetworkController.perDomainNetwork is missing from SelectedNetworkController state"))}else{var s,a;null===(s=global.sentry)||void 0===s||null===(a=s.captureException)||void 0===a||a.call(s,new Error("state.SelectedNetworkController is type: "+typeof e.SelectedNetworkController)),e.SelectedNetworkController={}}delete e.SelectedNetworkController.perDomainNetwork}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=r.version=112}}},{package:"$root$",file:"app/scripts/migrations/112.ts"}],[212,{"@metamask/utils":1982,"@sentry/browser":2072,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,o.cloneDeep)(e);return t.meta.version=s,function(e){if(!(0,n.hasProperty)(e,"PreferencesController")||!(0,n.isObject)(e.PreferencesController))return(0,i.captureException)(`Migration ${s}: Invalid PreferencesController state: ${typeof e.PreferencesController}`),e;(0,n.hasProperty)(e.PreferencesController,"isLineaMainnetReleased")&&delete e.PreferencesController.isLineaMainnetReleased}(t.data),t},r.version=void 0;var n=e("@metamask/utils"),i=e("@sentry/browser"),o=e("lodash");const s=r.version=113}}},{package:"$root$",file:"app/scripts/migrations/113.ts"}],[213,{"@metamask/utils":1982,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=async function(e){const t=(0,n.cloneDeep)(e);return t.meta.version=o,function(e){if(!(0,i.hasProperty)(e,"PreferencesController"))return e;if((0,i.isObject)(e.PreferencesController))(0,i.hasProperty)(e.PreferencesController,"transactionSecurityCheckEnabled")&&(e.PreferencesController.transactionSecurityCheckEnabled&&(e.PreferencesController.securityAlertsEnabled=!0,e.PreferencesController.hasMigratedFromOpenSeaToBlockaid=!0),delete e.PreferencesController.transactionSecurityCheckEnabled);else{var t,r;null===(t=global.sentry)||void 0===t||null===(r=t.captureException)||void 0===r||r.call(t,new Error("state.PreferencesController is type: "+typeof e.PreferencesController)),e.PreferencesController={}}}(t.data),t},r.version=void 0;var n=e("lodash"),i=e("@metamask/utils");const o=r.version=114}}},{package:"$root$",file:"app/scripts/migrations/114.ts"}],[214,{"@metamask/transaction-controller":1931,lodash:3477},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){return function(o){const s=(0,n.cloneDeep)(o);s.meta.version=e;try{const e=function(e,t,r){const n=e,{TransactionController:o}=n;if(o&&o.transactions){const{transactions:e}=o;n.TransactionController.transactions=e.map((e=>t(e)?(e.status=i.TransactionStatus.failed,e.err={message:r,note:`Tx automatically failed by migration because ${r}`},e):e))}return n}(s.data,r,t);s.data=e}catch(t){console.warn(`MetaMask Migration #${e}${t.stack}`)}return Promise.resolve(s)}};var n=e("lodash"),i=e("@metamask/transaction-controller")}}},{package:"$root$",file:"app/scripts/migrations/fail-tx.js"}],[215,{"./002":94,"./003":95,"./004":96,"./005":97,"./006":98,"./007":99,"./008":100,"./009":101,"./010":102,"./011":103,"./012":104,"./013":105,"./014":106,"./015":107,"./016":108,"./017":109,"./018":110,"./019":111,"./020":112,"./021":113,"./022":114,"./023":115,"./024":116,"./025":117,"./026":118,"./027":119,"./028":120,"./029":121,"./030":122,"./031":123,"./032":124,"./033":125,"./034":126,"./035":127,"./036":128,"./037":129,"./038":130,"./039":131,"./040":132,"./041":133,"./042":134,"./043":135,"./044":136,"./045":137,"./046":138,"./047":139,"./048":140,"./049":141,"./050":142,"./051":143,"./052":144,"./053":145,"./054":146,"./055":147,"./056":148,"./057":149,"./058":150,"./059":151,"./060":152,"./061":153,"./062":154,"./063":155,"./064":156,"./065":157,"./066":158,"./067":159,"./068":160,"./069":161,"./070":162,"./071":163,"./072":164,"./073":165,"./074":166,"./075":167,"./076":168,"./077":173,"./078":174,"./079":175,"./080":176,"./081":177,"./082":178,"./083":179,"./084":180,"./085":181,"./086":182,"./087":183,"./088":184,"./089":185,"./090":186,"./091":187,"./092":191,"./092.1":188,"./092.2":189,"./092.3":190,"./093":192,"./094":193,"./095":194,"./096":195,"./097":196,"./098":197,"./099":198,"./100":199,"./101":200,"./102":201,"./103":202,"./104":203,"./105":204,"./106":205,"./107":206,"./108":207,"./109":208,"./110":209,"./111":210,"./112":211,"./113":212,"./114":213},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const n=[e("./002").default,e("./003").default,e("./004").default,e("./005").default,e("./006").default,e("./007").default,e("./008").default,e("./009").default,e("./010").default,e("./011").default,e("./012").default,e("./013").default,e("./014").default,e("./015").default,e("./016").default,e("./017").default,e("./018").default,e("./019").default,e("./020").default,e("./021").default,e("./022").default,e("./023").default,e("./024").default,e("./025").default,e("./026").default,e("./027").default,e("./028").default,e("./029").default,e("./030").default,e("./031").default,e("./032").default,e("./033").default,e("./034").default,e("./035").default,e("./036").default,e("./037").default,e("./038").default,e("./039").default,e("./040").default,e("./041").default,e("./042").default,e("./043").default,e("./044").default,e("./045").default,e("./046").default,e("./047").default,e("./048").default,e("./049").default,e("./050").default,e("./051").default,e("./052").default,e("./053").default,e("./054").default,e("./055").default,e("./056").default,e("./057").default,e("./058").default,e("./059").default,e("./060").default,e("./061").default,e("./062").default,e("./063").default,e("./064").default,e("./065").default,e("./066").default,e("./067").default,e("./068").default,e("./069").default,e("./070").default,e("./071").default,e("./072").default,e("./073").default,e("./074").default,e("./075").default,e("./076").default,e("./077").default,e("./078"),e("./079").default,e("./080").default,e("./081"),e("./082"),e("./083"),e("./084"),e("./085"),e("./086"),e("./087"),e("./088"),e("./089"),e("./090"),e("./091"),e("./092"),e("./092.1"),e("./092.2"),e("./092.3"),e("./093"),e("./094"),e("./095"),e("./096"),e("./097"),e("./098"),e("./099"),e("./100"),e("./101"),e("./102"),e("./103"),e("./104"),e("./105"),e("./106"),e("./107"),e("./108"),e("./109"),e("./110"),e("./111"),e("./112"),e("./113"),e("./114")];r.default=n}}},{package:"$root$",file:"app/scripts/migrations/index.js"}],[217,{"@metamask/message-signing-snap/dist/preinstalled-snap.json":1362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("@metamask/message-signing-snap/dist/preinstalled-snap.json"))&&n.__esModule?n:{default:n};const o=Object.freeze([i.default]);r.default=o}}},{package:"$root$",file:"app/scripts/snaps/preinstalled-snaps.ts"}],[2181,{"../system/system":2183,"../typebox":2184,"../value/deref":2185,"../value/guard":2186,"../value/hash":2187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Errors=r.ValueErrorIterator=r.EscapeKey=r.ValueErrorsUnknownTypeError=r.ValueErrorType=void 0;const n=e("../value/guard"),i=e("../system/system"),o=e("../value/deref"),s=e("../value/hash"),a=e("../typebox");var l;!function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.StringFormatUnknown=48]="StringFormatUnknown",e[e.StringFormat=49]="StringFormat",e[e.StringMaxLength=50]="StringMaxLength",e[e.StringMinLength=51]="StringMinLength",e[e.StringPattern=52]="StringPattern",e[e.String=53]="String",e[e.Symbol=54]="Symbol",e[e.TupleLength=55]="TupleLength",e[e.Tuple=56]="Tuple",e[e.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",e[e.Uint8Array=59]="Uint8Array",e[e.Undefined=60]="Undefined",e[e.Union=61]="Union",e[e.Void=62]="Void"}(l||(r.ValueErrorType=l={}));class c extends a.TypeBoxError{constructor(e){super("Unknown type"),this.schema=e}}function u(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function d(e){return e!==undefined}r.ValueErrorsUnknownTypeError=c,r.EscapeKey=u;class p{constructor(e){this.iterator=e}[Symbol.iterator](){return this.iterator}First(){const e=this.iterator.next();return e.done?undefined:e.value}}function h(e,t,r,n){return{type:e,schema:t,path:r,value:n,message:i.TypeSystemErrorFunction.Get()(t,e)}}function*f(e,t,r,p){const m=d(e.$id)?[...t,e]:t,y=e;switch(y[a.Kind]){case"Any":case"Unknown":return yield*function*(e,t,r,n){}();case"Array":return yield*function*(e,t,r,i){if(!(0,n.IsArray)(i))return yield h(l.Array,e,r,i);!d(e.minItems)||i.length>=e.minItems||(yield h(l.ArrayMinItems,e,r,i)),!d(e.maxItems)||i.length<=e.maxItems||(yield h(l.ArrayMaxItems,e,r,i));for(let n=0;n<i.length;n++)yield*f(e.items,t,`${r}/${n}`,i[n]);if(!0!==e.uniqueItems||function(){const e=new Set;for(const t of i){const r=(0,s.Hash)(t);if(e.has(r))return!1;e.add(r)}return!0}()||(yield h(l.ArrayUniqueItems,e,r,i)),!(d(e.contains)||d(e.minContains)||d(e.maxContains)))return;const o=d(e.contains)?e.contains:a.Type.Never(),c=i.reduce(((e,n,i)=>!0===f(o,t,`${r}${i}`,n).next().done?e+1:e),0);0===c&&(yield h(l.ArrayContains,e,r,i)),(0,n.IsNumber)(e.minContains)&&c<e.minContains&&(yield h(l.ArrayMinContains,e,r,i)),(0,n.IsNumber)(e.maxContains)&&c>e.maxContains&&(yield h(l.ArrayMaxContains,e,r,i))}(y,m,r,p);case"AsyncIterator":return yield*function*(e,t,r,i){(0,n.IsAsyncIterator)(i)||(yield h(l.AsyncIterator,e,r,i))}(y,0,r,p);case"BigInt":return yield*function*(e,t,r,i){if(!(0,n.IsBigInt)(i))return yield h(l.BigInt,e,r,i);!d(e.exclusiveMaximum)||i<e.exclusiveMaximum||(yield h(l.BigIntExclusiveMaximum,e,r,i)),!d(e.exclusiveMinimum)||i>e.exclusiveMinimum||(yield h(l.BigIntExclusiveMinimum,e,r,i)),!d(e.maximum)||i<=e.maximum||(yield h(l.BigIntMaximum,e,r,i)),!d(e.minimum)||i>=e.minimum||(yield h(l.BigIntMinimum,e,r,i)),d(e.multipleOf)&&i%e.multipleOf!==BigInt(0)&&(yield h(l.BigIntMultipleOf,e,r,i))}(y,0,r,p);case"Boolean":return yield*function*(e,t,r,i){(0,n.IsBoolean)(i)||(yield h(l.Boolean,e,r,i))}(y,0,r,p);case"Constructor":return yield*function*(e,t,r,n){yield*f(e.returns,t,r,n.prototype)}(y,m,r,p);case"Date":return yield*function*(e,t,r,i){if(!(0,n.IsDate)(i))return yield h(l.Date,e,r,i);!d(e.exclusiveMaximumTimestamp)||i.getTime()<e.exclusiveMaximumTimestamp||(yield h(l.DateExclusiveMaximumTimestamp,e,r,i)),!d(e.exclusiveMinimumTimestamp)||i.getTime()>e.exclusiveMinimumTimestamp||(yield h(l.DateExclusiveMinimumTimestamp,e,r,i)),!d(e.maximumTimestamp)||i.getTime()<=e.maximumTimestamp||(yield h(l.DateMaximumTimestamp,e,r,i)),!d(e.minimumTimestamp)||i.getTime()>=e.minimumTimestamp||(yield h(l.DateMinimumTimestamp,e,r,i)),d(e.multipleOfTimestamp)&&i.getTime()%e.multipleOfTimestamp!=0&&(yield h(l.DateMultipleOfTimestamp,e,r,i))}(y,0,r,p);case"Function":return yield*function*(e,t,r,i){(0,n.IsFunction)(i)||(yield h(l.Function,e,r,i))}(y,0,r,p);case"Integer":return yield*function*(e,t,r,i){if(!(0,n.IsInteger)(i))return yield h(l.Integer,e,r,i);!d(e.exclusiveMaximum)||i<e.exclusiveMaximum||(yield h(l.IntegerExclusiveMaximum,e,r,i)),!d(e.exclusiveMinimum)||i>e.exclusiveMinimum||(yield h(l.IntegerExclusiveMinimum,e,r,i)),!d(e.maximum)||i<=e.maximum||(yield h(l.IntegerMaximum,e,r,i)),!d(e.minimum)||i>=e.minimum||(yield h(l.IntegerMinimum,e,r,i)),d(e.multipleOf)&&i%e.multipleOf!=0&&(yield h(l.IntegerMultipleOf,e,r,i))}(y,0,r,p);case"Intersect":return yield*function*(e,t,r,n){for(const i of e.allOf){const o=f(i,t,r,n).next();o.done||(yield h(l.Intersect,e,r,n),yield o.value)}if(!1===e.unevaluatedProperties){const t=new RegExp(a.KeyResolver.ResolvePattern(e));for(const i of Object.getOwnPropertyNames(n))t.test(i)||(yield h(l.IntersectUnevaluatedProperties,e,`${r}/${i}`,n))}if("object"==typeof e.unevaluatedProperties){const i=new RegExp(a.KeyResolver.ResolvePattern(e));for(const o of Object.getOwnPropertyNames(n))if(!i.test(o)){const i=f(e.unevaluatedProperties,t,`${r}/${o}`,n[o]).next();i.done||(yield i.value)}}}(y,m,r,p);case"Iterator":return yield*function*(e,t,r,i){(0,n.IsIterator)(i)||(yield h(l.Iterator,e,r,i))}(y,0,r,p);case"Literal":return yield*function*(e,t,r,n){n!==e.const&&(yield h(l.Literal,e,r,n))}(y,0,r,p);case"Never":return yield*function*(e,t,r,n){yield h(l.Never,e,r,n)}(y,0,r,p);case"Not":return yield*function*(e,t,r,n){!0===f(e.not,t,r,n).next().done&&(yield h(l.Not,e,r,n))}(y,m,r,p);case"Null":return yield*function*(e,t,r,i){(0,n.IsNull)(i)||(yield h(l.Null,e,r,i))}(y,0,r,p);case"Number":return yield*function*(e,t,r,n){if(!i.TypeSystemPolicy.IsNumberLike(n))return yield h(l.Number,e,r,n);!d(e.exclusiveMaximum)||n<e.exclusiveMaximum||(yield h(l.NumberExclusiveMaximum,e,r,n)),!d(e.exclusiveMinimum)||n>e.exclusiveMinimum||(yield h(l.NumberExclusiveMinimum,e,r,n)),!d(e.maximum)||n<=e.maximum||(yield h(l.NumberMaximum,e,r,n)),!d(e.minimum)||n>=e.minimum||(yield h(l.NumberMinimum,e,r,n)),d(e.multipleOf)&&n%e.multipleOf!=0&&(yield h(l.NumberMultipleOf,e,r,n))}(y,0,r,p);case"Object":return yield*function*(e,t,r,n){if(!i.TypeSystemPolicy.IsObjectLike(n))return yield h(l.Object,e,r,n);!d(e.minProperties)||Object.getOwnPropertyNames(n).length>=e.minProperties||(yield h(l.ObjectMinProperties,e,r,n)),!d(e.maxProperties)||Object.getOwnPropertyNames(n).length<=e.maxProperties||(yield h(l.ObjectMaxProperties,e,r,n));const o=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),c=Object.getOwnPropertyNames(n);for(const t of o)c.includes(t)||(yield h(l.ObjectRequiredProperty,e.properties[t],`${r}/${u(t)}`,undefined));if(!1===e.additionalProperties)for(const t of c)s.includes(t)||(yield h(l.ObjectAdditionalProperties,e,`${r}/${u(t)}`,n[t]));if("object"==typeof e.additionalProperties)for(const i of c)s.includes(i)||(yield*f(e.additionalProperties,t,`${r}/${u(i)}`,n[i]));for(const o of s){const s=e.properties[o];e.required&&e.required.includes(o)?(yield*f(s,t,`${r}/${u(o)}`,n[o]),a.ExtendsUndefined.Check(e)&&!(o in n)&&(yield h(l.ObjectRequiredProperty,s,`${r}/${u(o)}`,undefined))):i.TypeSystemPolicy.IsExactOptionalProperty(n,o)&&(yield*f(s,t,`${r}/${u(o)}`,n[o]))}}(y,m,r,p);case"Promise":return yield*function*(e,t,r,i){(0,n.IsPromise)(i)||(yield h(l.Promise,e,r,i))}(y,0,r,p);case"Record":return yield*function*(e,t,r,n){if(!i.TypeSystemPolicy.IsRecordLike(n))return yield h(l.Object,e,r,n);!d(e.minProperties)||Object.getOwnPropertyNames(n).length>=e.minProperties||(yield h(l.ObjectMinProperties,e,r,n)),!d(e.maxProperties)||Object.getOwnPropertyNames(n).length<=e.maxProperties||(yield h(l.ObjectMaxProperties,e,r,n));const[o,s]=Object.entries(e.patternProperties)[0],a=new RegExp(o);for(const[e,i]of Object.entries(n))a.test(e)&&(yield*f(s,t,`${r}/${u(e)}`,i));if("object"==typeof e.additionalProperties)for(const[i,o]of Object.entries(n))a.test(i)||(yield*f(e.additionalProperties,t,`${r}/${u(i)}`,o));if(!1===e.additionalProperties)for(const[t,i]of Object.entries(n))if(!a.test(t))return yield h(l.ObjectAdditionalProperties,e,`${r}/${u(t)}`,i)}(y,m,r,p);case"Ref":case"This":return yield*function*(e,t,r,n){yield*f((0,o.Deref)(e,t),t,r,n)}(y,m,r,p);case"String":return yield*function*(e,t,r,i){if(!(0,n.IsString)(i))return yield h(l.String,e,r,i);!d(e.minLength)||i.length>=e.minLength||(yield h(l.StringMinLength,e,r,i)),!d(e.maxLength)||i.length<=e.maxLength||(yield h(l.StringMaxLength,e,r,i)),(0,n.IsString)(e.pattern)&&(new RegExp(e.pattern).test(i)||(yield h(l.StringPattern,e,r,i)));(0,n.IsString)(e.format)&&(a.FormatRegistry.Has(e.format)?a.FormatRegistry.Get(e.format)(i)||(yield h(l.StringFormat,e,r,i)):yield h(l.StringFormatUnknown,e,r,i))}(y,0,r,p);case"Symbol":return yield*function*(e,t,r,i){(0,n.IsSymbol)(i)||(yield h(l.Symbol,e,r,i))}(y,0,r,p);case"TemplateLiteral":return yield*function*(e,t,r,i){if(!(0,n.IsString)(i))return yield h(l.String,e,r,i);new RegExp(e.pattern).test(i)||(yield h(l.StringPattern,e,r,i))}(y,0,r,p);case"Tuple":return yield*function*(e,t,r,i){if(!(0,n.IsArray)(i))return yield h(l.Tuple,e,r,i);if(e.items===undefined&&0!==i.length)return yield h(l.TupleLength,e,r,i);if(i.length!==e.maxItems)return yield h(l.TupleLength,e,r,i);if(e.items)for(let n=0;n<e.items.length;n++)yield*f(e.items[n],t,`${r}/${n}`,i[n])}(y,m,r,p);case"Undefined":return yield*function*(e,t,r,i){(0,n.IsUndefined)(i)||(yield h(l.Undefined,e,r,i))}(y,0,r,p);case"Union":return yield*function*(e,t,r,n){let i=0;for(const o of e.anyOf){const e=[...f(o,t,r,n)];if(0===e.length)return;i+=e.length}i>0&&(yield h(l.Union,e,r,n))}(y,m,r,p);case"Uint8Array":return yield*function*(e,t,r,i){if(!(0,n.IsUint8Array)(i))return yield h(l.Uint8Array,e,r,i);!d(e.maxByteLength)||i.length<=e.maxByteLength||(yield h(l.Uint8ArrayMaxByteLength,e,r,i)),!d(e.minByteLength)||i.length>=e.minByteLength||(yield h(l.Uint8ArrayMinByteLength,e,r,i))}(y,0,r,p);case"Void":return yield*function*(e,t,r,n){i.TypeSystemPolicy.IsVoidLike(n)||(yield h(l.Void,e,r,n))}(y,0,r,p);default:if(!a.TypeRegistry.Has(y[a.Kind]))throw new c(e);return yield*function*(e,t,r,n){a.TypeRegistry.Get(e[a.Kind])(e,n)||(yield h(l.Kind,e,r,n))}(y,0,r,p)}}r.ValueErrorIterator=p,r.Errors=function(...e){const t=3===e.length?f(e[0],e[1],"",e[2]):f(e[0],[],"",e[1]);return new p(t)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@sinclair/typebox/errors/errors.js"}],[2182,{"./errors":2181},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./errors"),r)}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@sinclair/typebox/errors/index.js"}],[2183,{"../errors/errors":2181,"../typebox":2184,"../value/guard":2186},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultErrorFunction=r.TypeSystemPolicy=r.TypeSystemErrorFunction=r.TypeSystem=r.TypeSystemDuplicateFormat=r.TypeSystemDuplicateTypeKind=void 0;const n=e("../value/guard"),i=e("../errors/errors"),o=e("../typebox");class s extends o.TypeBoxError{constructor(e){super(`Duplicate type kind '${e}' detected`)}}r.TypeSystemDuplicateTypeKind=s;class a extends o.TypeBoxError{constructor(e){super(`Duplicate string format '${e}' detected`)}}var l,c,u;function d(e,t){switch(t){case i.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case i.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case i.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case i.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case i.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case i.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case i.ValueErrorType.Array:return"Expected array";case i.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case i.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case i.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case i.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case i.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case i.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case i.ValueErrorType.BigInt:return"Expected bigint";case i.ValueErrorType.Boolean:return"Expected boolean";case i.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case i.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case i.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case i.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case i.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case i.ValueErrorType.Date:return"Expected Date";case i.ValueErrorType.Function:return"Expected function";case i.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case i.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case i.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case i.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case i.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case i.ValueErrorType.Integer:return"Expected integer";case i.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case i.ValueErrorType.Intersect:return"Expected all values to match";case i.ValueErrorType.Iterator:return"Expected Iterator";case i.ValueErrorType.Literal:return`Expected ${"string"==typeof e.const?`'${e.const}'`:e.const}`;case i.ValueErrorType.Never:return"Never";case i.ValueErrorType.Not:return"Value should not match";case i.ValueErrorType.Null:return"Expected null";case i.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case i.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case i.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case i.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case i.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case i.ValueErrorType.Number:return"Expected number";case i.ValueErrorType.Object:return"Expected object";case i.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case i.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case i.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case i.ValueErrorType.ObjectRequiredProperty:return"Required property";case i.ValueErrorType.Promise:return"Expected Promise";case i.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case i.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case i.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case i.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case i.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case i.ValueErrorType.String:return"Expected string";case i.ValueErrorType.Symbol:return"Expected symbol";case i.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case i.ValueErrorType.Tuple:return"Expected tuple";case i.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case i.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case i.ValueErrorType.Uint8Array:return"Expected Uint8Array";case i.ValueErrorType.Undefined:return"Expected undefined";case i.ValueErrorType.Union:return"Expected union value";case i.ValueErrorType.Void:return"Expected void";case i.ValueErrorType.Kind:return`Expected kind '${e[o.Kind]}'`;default:return"Unknown error type"}}r.TypeSystemDuplicateFormat=a,function(e){e.Type=function(e,t){if(o.TypeRegistry.Has(e))throw new s(e);return o.TypeRegistry.Set(e,t),(t={})=>o.Type.Unsafe({...t,[o.Kind]:e})},e.Format=function(e,t){if(o.FormatRegistry.Has(e))throw new a(e);return o.FormatRegistry.Set(e,t),e}}(l||(r.TypeSystem=l={})),function(e){let t=d;e.Reset=function(){t=d},e.Set=function(e){t=e},e.Get=function(){return t}}(c||(r.TypeSystemErrorFunction=c={})),function(e){function t(t){const r=(0,n.IsObject)(t);return e.AllowArrayObject?r:r&&!(0,n.IsArray)(t)}e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1,e.IsExactOptionalProperty=function(t,r){return e.ExactOptionalPropertyTypes?r in t:t[r]!==undefined},e.IsObjectLike=t,e.IsRecordLike=function(e){return t(e)&&!(e instanceof Date)&&!(e instanceof Uint8Array)},e.IsNumberLike=function(t){const r=(0,n.IsNumber)(t);return e.AllowNaN?r:r&&Number.isFinite(t)},e.IsVoidLike=function(t){const r=(0,n.IsUndefined)(t);return e.AllowNullVoid?r||null===t:r}}(u||(r.TypeSystemPolicy=u={})),r.DefaultErrorFunction=d}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@sinclair/typebox/system/system.js"}],[2184,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,o,s,a,l,c,u,d,p,h,f,m,y,g,v,b,T,w,_;Object.defineProperty(r,"__esModule",{value:!0}),r.Type=r.JsonType=r.JavaScriptTypeBuilder=r.JsonTypeBuilder=r.TypeBuilder=r.TypeBuilderError=r.TransformEncodeBuilder=r.TransformDecodeBuilder=r.TemplateLiteralDslParser=r.TemplateLiteralGenerator=r.TemplateLiteralGeneratorError=r.TemplateLiteralFinite=r.TemplateLiteralFiniteError=r.TemplateLiteralParser=r.TemplateLiteralParserError=r.TemplateLiteralResolver=r.TemplateLiteralPattern=r.TemplateLiteralPatternError=r.UnionResolver=r.KeyArrayResolver=r.KeyArrayResolverError=r.KeyResolver=r.ObjectMap=r.Intrinsic=r.IndexedAccessor=r.TypeClone=r.TypeExtends=r.TypeExtendsResult=r.TypeExtendsError=r.ExtendsUndefined=r.TypeGuard=r.TypeGuardUnknownTypeError=r.ValueGuard=r.FormatRegistry=r.TypeBoxError=r.TypeRegistry=r.PatternStringExact=r.PatternNumberExact=r.PatternBooleanExact=r.PatternString=r.PatternNumber=r.PatternBoolean=r.Kind=r.Hint=r.Optional=r.Readonly=r.Transform=void 0,r.Transform=Symbol.for("TypeBox.Transform"),r.Readonly=Symbol.for("TypeBox.Readonly"),r.Optional=Symbol.for("TypeBox.Optional"),r.Hint=Symbol.for("TypeBox.Hint"),r.Kind=Symbol.for("TypeBox.Kind"),r.PatternBoolean="(true|false)",r.PatternNumber="(0|[1-9][0-9]*)",r.PatternString="(.*)",r.PatternBooleanExact=`^${r.PatternBoolean}$`,r.PatternNumberExact=`^${r.PatternNumber}$`,r.PatternStringExact=`^${r.PatternString}$`,function(e){const t=new Map;e.Entries=function(){return new Map(t)},e.Clear=function(){return t.clear()},e.Delete=function(e){return t.delete(e)},e.Has=function(e){return t.has(e)},e.Set=function(e,r){t.set(e,r)},e.Get=function(e){return t.get(e)}}(n||(r.TypeRegistry=n={}));class S extends Error{constructor(e){super(e)}}r.TypeBoxError=S,function(e){const t=new Map;e.Entries=function(){return new Map(t)},e.Clear=function(){return t.clear()},e.Delete=function(e){return t.delete(e)},e.Has=function(e){return t.has(e)},e.Set=function(e,r){t.set(e,r)},e.Get=function(e){return t.get(e)}}(i||(r.FormatRegistry=i={})),function(e){e.IsArray=function(e){return Array.isArray(e)},e.IsBigInt=function(e){return"bigint"==typeof e},e.IsBoolean=function(e){return"boolean"==typeof e},e.IsDate=function(e){return e instanceof globalThis.Date},e.IsNull=function(e){return null===e},e.IsNumber=function(e){return"number"==typeof e},e.IsObject=function(e){return"object"==typeof e&&null!==e},e.IsString=function(e){return"string"==typeof e},e.IsUint8Array=function(e){return e instanceof globalThis.Uint8Array},e.IsUndefined=function(e){return e===undefined}}(o||(r.ValueGuard=o={}));r.TypeGuardUnknownTypeError=class extends S{},function(e){function t(e){try{return new RegExp(e),!0}catch{return!1}}function i(e){if(!o.IsString(e))return!1;for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r>=7&&r<=13||27===r||127===r)return!1}return!0}function s(e){return c(e)||K(e)}function a(e){return o.IsUndefined(e)||o.IsBigInt(e)}function l(e){return o.IsUndefined(e)||o.IsNumber(e)}function c(e){return o.IsUndefined(e)||o.IsBoolean(e)}function u(e){return o.IsUndefined(e)||o.IsString(e)}function d(e){return o.IsUndefined(e)||K(e)}function p(e){return S(e,"Any")&&u(e.$id)}function h(e){return S(e,"Array")&&"array"===e.type&&u(e.$id)&&K(e.items)&&l(e.minItems)&&l(e.maxItems)&&c(e.uniqueItems)&&d(e.contains)&&l(e.minContains)&&l(e.maxContains)}function f(e){return S(e,"AsyncIterator")&&"AsyncIterator"===e.type&&u(e.$id)&&K(e.items)}function m(e){return S(e,"BigInt")&&"bigint"===e.type&&u(e.$id)&&a(e.exclusiveMaximum)&&a(e.exclusiveMinimum)&&a(e.maximum)&&a(e.minimum)&&a(e.multipleOf)}function y(e){return S(e,"Boolean")&&"boolean"===e.type&&u(e.$id)}function g(e){return S(e,"Constructor")&&"Constructor"===e.type&&u(e.$id)&&o.IsArray(e.parameters)&&e.parameters.every((e=>K(e)))&&K(e.returns)}function v(e){return S(e,"Date")&&"Date"===e.type&&u(e.$id)&&l(e.exclusiveMaximumTimestamp)&&l(e.exclusiveMinimumTimestamp)&&l(e.maximumTimestamp)&&l(e.minimumTimestamp)&&l(e.multipleOfTimestamp)}function b(e){return S(e,"Function")&&"Function"===e.type&&u(e.$id)&&o.IsArray(e.parameters)&&e.parameters.every((e=>K(e)))&&K(e.returns)}function T(e){return S(e,"Integer")&&"integer"===e.type&&u(e.$id)&&l(e.exclusiveMaximum)&&l(e.exclusiveMinimum)&&l(e.maximum)&&l(e.minimum)&&l(e.multipleOf)}function w(e){return S(e,"Intersect")&&(!o.IsString(e.type)||"object"===e.type)&&o.IsArray(e.allOf)&&e.allOf.every((e=>K(e)&&!F(e)))&&u(e.type)&&(c(e.unevaluatedProperties)||d(e.unevaluatedProperties))&&u(e.$id)}function _(e){return S(e,"Iterator")&&"Iterator"===e.type&&u(e.$id)&&K(e.items)}function S(e,t){return E(e)&&e[r.Kind]===t}function E(e){return o.IsObject(e)&&r.Kind in e&&o.IsString(e[r.Kind])}function k(e){return P(e)&&o.IsString(e.const)}function O(e){return P(e)&&o.IsNumber(e.const)}function P(e){return S(e,"Literal")&&u(e.$id)&&(o.IsBoolean(e.const)||o.IsNumber(e.const)||o.IsString(e.const))}function A(e){return S(e,"Never")&&o.IsObject(e.not)&&0===Object.getOwnPropertyNames(e.not).length}function x(e){return S(e,"Not")&&K(e.not)}function C(e){return S(e,"Null")&&"null"===e.type&&u(e.$id)}function I(e){return S(e,"Number")&&"number"===e.type&&u(e.$id)&&l(e.exclusiveMaximum)&&l(e.exclusiveMinimum)&&l(e.maximum)&&l(e.minimum)&&l(e.multipleOf)}function j(e){return S(e,"Object")&&"object"===e.type&&u(e.$id)&&o.IsObject(e.properties)&&s(e.additionalProperties)&&l(e.minProperties)&&l(e.maxProperties)&&Object.entries(e.properties).every((([e,t])=>i(e)&&K(t)))}function B(e){return S(e,"Promise")&&"Promise"===e.type&&u(e.$id)&&K(e.item)}function M(e){return S(e,"Record")&&"object"===e.type&&u(e.$id)&&s(e.additionalProperties)&&o.IsObject(e.patternProperties)&&(e=>{const r=Object.getOwnPropertyNames(e.patternProperties);return 1===r.length&&t(r[0])&&o.IsObject(e.patternProperties)&&K(e.patternProperties[r[0]])})(e)}function N(e){return S(e,"Ref")&&u(e.$id)&&o.IsString(e.$ref)}function R(e){return S(e,"String")&&"string"===e.type&&u(e.$id)&&l(e.minLength)&&l(e.maxLength)&&(r=e.pattern,o.IsUndefined(r)||o.IsString(r)&&i(r)&&t(r))&&function(e){return o.IsUndefined(e)||o.IsString(e)&&i(e)}(e.format);var r}function L(e){return S(e,"Symbol")&&"symbol"===e.type&&u(e.$id)}function U(e){return S(e,"TemplateLiteral")&&"string"===e.type&&o.IsString(e.pattern)&&"^"===e.pattern[0]&&"$"===e.pattern[e.pattern.length-1]}function D(e){return S(e,"This")&&u(e.$id)&&o.IsString(e.$ref)}function F(e){return o.IsObject(e)&&r.Transform in e}function G(e){return S(e,"Tuple")&&"array"===e.type&&u(e.$id)&&o.IsNumber(e.minItems)&&o.IsNumber(e.maxItems)&&e.minItems===e.maxItems&&(o.IsUndefined(e.items)&&o.IsUndefined(e.additionalItems)&&0===e.minItems||o.IsArray(e.items)&&e.items.every((e=>K(e))))}function H(e){return S(e,"Undefined")&&"undefined"===e.type&&u(e.$id)}function $(e){return S(e,"Union")&&u(e.$id)&&o.IsObject(e)&&o.IsArray(e.anyOf)&&e.anyOf.every((e=>K(e)))}function V(e){return S(e,"Uint8Array")&&"Uint8Array"===e.type&&u(e.$id)&&l(e.minByteLength)&&l(e.maxByteLength)}function z(e){return S(e,"Unknown")&&u(e.$id)}function W(e){return S(e,"Unsafe")}function q(e){return S(e,"Void")&&"void"===e.type&&u(e.$id)}function K(e){return o.IsObject(e)&&(p(e)||h(e)||y(e)||m(e)||f(e)||g(e)||v(e)||b(e)||T(e)||w(e)||_(e)||P(e)||A(e)||x(e)||C(e)||I(e)||j(e)||B(e)||M(e)||N(e)||R(e)||L(e)||U(e)||D(e)||G(e)||H(e)||$(e)||V(e)||z(e)||W(e)||q(e)||E(e)&&n.Has(e[r.Kind]))}e.TAny=p,e.TArray=h,e.TAsyncIterator=f,e.TBigInt=m,e.TBoolean=y,e.TConstructor=g,e.TDate=v,e.TFunction=b,e.TInteger=T,e.TIntersect=w,e.TIterator=_,e.TKindOf=S,e.TKind=E,e.TLiteralString=k,e.TLiteralNumber=O,e.TLiteralBoolean=function(e){return P(e)&&o.IsBoolean(e.const)},e.TLiteral=P,e.TNever=A,e.TNot=x,e.TNull=C,e.TNumber=I,e.TObject=j,e.TPromise=B,e.TRecord=M,e.TRecursive=function(e){return o.IsObject(e)&&r.Hint in e&&"Recursive"===e[r.Hint]},e.TRef=N,e.TString=R,e.TSymbol=L,e.TTemplateLiteral=U,e.TThis=D,e.TTransform=F,e.TTuple=G,e.TUndefined=H,e.TUnionLiteral=function(e){return $(e)&&e.anyOf.every((e=>k(e)||O(e)))},e.TUnion=$,e.TUint8Array=V,e.TUnknown=z,e.TUnsafe=W,e.TVoid=q,e.TReadonly=function(e){return o.IsObject(e)&&"Readonly"===e[r.Readonly]},e.TOptional=function(e){return o.IsObject(e)&&"Optional"===e[r.Optional]},e.TSchema=K}(s||(r.TypeGuard=s={})),function(e){e.Check=function e(t){return"Intersect"===t[r.Kind]?t.allOf.every((t=>e(t))):"Union"===t[r.Kind]?t.anyOf.some((t=>e(t))):"Undefined"===t[r.Kind]||"Not"===t[r.Kind]&&!e(t.not)}}(a||(r.ExtendsUndefined=a={}));class E extends S{}r.TypeExtendsError=E,function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"}(l||(r.TypeExtendsResult=l={})),function(e){function t(e){return e===l.False?e:l.True}function n(e){throw new E(e)}function i(e){return s.TNever(e)||s.TIntersect(e)||s.TUnion(e)||s.TUnknown(e)||s.TAny(e)}function a(e,t){return s.TNever(t)?h(e,t):s.TIntersect(t)?p(e,t):s.TUnion(t)?B(e,t):s.TUnknown(t)?M(e,t):s.TAny(t)?c(e,t):n("StructuralRight")}function c(e,t){return l.True}function u(e,t){return s.TLiteral(e)&&o.IsBoolean(e.const)||s.TBoolean(e)?l.True:l.False}function d(e,t){return s.TLiteral(e)&&o.IsNumber(e.const)||s.TNumber(e)||s.TInteger(e)?l.True:l.False}function p(e,t){return t.allOf.every((t=>R(e,t)===l.True))?l.True:l.False}function h(e,t){return l.False}function f(e){let[t,n]=[e,0];for(;s.TNot(t);)t=t.not,n+=1;return n%2==0?t:r.Type.Unknown()}function m(e,t){return s.TLiteralNumber(e)||s.TNumber(e)||s.TInteger(e)?l.True:l.False}function y(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function g(e){return _(e)}function b(e){return y(e,0)||y(e,1)&&"description"in e.properties&&s.TUnion(e.properties.description)&&2===e.properties.description.anyOf.length&&(s.TString(e.properties.description.anyOf[0])&&s.TUndefined(e.properties.description.anyOf[1])||s.TString(e.properties.description.anyOf[1])&&s.TUndefined(e.properties.description.anyOf[0]))}function T(e){return y(e,0)}function w(e){return y(e,0)}function _(e){const n=r.Type.Number();return y(e,0)||y(e,1)&&"length"in e.properties&&t(R(e.properties.length,n))===l.True}function S(e,t){return R(e,t)===l.False||s.TOptional(e)&&!s.TOptional(t)?l.False:l.True}function k(e,n){return s.TUnknown(e)?l.False:s.TAny(e)?l.Union:s.TNever(e)||s.TLiteralString(e)&&g(n)||s.TLiteralNumber(e)&&T(n)||s.TLiteralBoolean(e)&&w(n)||s.TSymbol(e)&&b(n)||s.TBigInt(e)&&y(n,0)||s.TString(e)&&g(n)||s.TSymbol(e)&&b(n)||s.TNumber(e)&&T(n)||s.TInteger(e)&&T(n)||s.TBoolean(e)&&w(n)||s.TUint8Array(e)&&function(e){return _(e)}(n)||s.TDate(e)&&function(e){return y(e,0)}(n)||s.TConstructor(e)&&function(e){return y(e,0)}(n)||s.TFunction(e)&&function(e){const n=r.Type.Number();return y(e,0)||y(e,1)&&"length"in e.properties&&t(R(e.properties.length,n))===l.True}(n)?l.True:s.TRecord(e)&&s.TString(P(e))?"Record"===n[r.Hint]?l.True:l.False:s.TRecord(e)&&s.TNumber(P(e))&&y(n,0)?l.True:l.False}function O(e,n){return i(n)?a(e,n):s.TObject(n)&&function(e){const n=r.Type.Function([r.Type.Any()],r.Type.Any());return y(e,0)||y(e,1)&&"then"in e.properties&&t(R(e.properties.then,n))===l.True}(n)?l.True:s.TPromise(n)?t(R(e.item,n.item)):l.False}function P(e){return r.PatternNumberExact in e.patternProperties?r.Type.Number():r.PatternStringExact in e.patternProperties?r.Type.String():n("Unknown record key pattern")}function A(e){return r.PatternNumberExact in e.patternProperties?e.patternProperties[r.PatternNumberExact]:r.PatternStringExact in e.patternProperties?e.patternProperties[r.PatternStringExact]:n("Unable to get record value schema")}function x(e,r){const[n,i]=[P(r),A(r)];return s.TLiteralString(e)&&s.TNumber(n)&&t(R(e,i))===l.True?l.True:s.TUint8Array(e)&&s.TNumber(n)||s.TString(e)&&s.TNumber(n)||s.TArray(e)&&s.TNumber(n)?R(e,i):s.TObject(e)?(()=>{for(const t of Object.getOwnPropertyNames(e.properties))if(S(i,e.properties[t])===l.False)return l.False;return l.True})():l.False}function C(e,t){return s.TLiteral(e)&&o.IsString(e.const)||s.TString(e)?l.True:l.False}function I(e,t){return i(t)?a(e,t):s.TObject(t)&&_(t)||s.TArray(t)&&function(e,t){return s.TArray(t)&&e.items!==undefined&&e.items.every((e=>R(e,t.items)===l.True))}(e,t)?l.True:s.TTuple(t)?o.IsUndefined(e.items)&&!o.IsUndefined(t.items)||!o.IsUndefined(e.items)&&o.IsUndefined(t.items)?l.False:o.IsUndefined(e.items)&&!o.IsUndefined(t.items)||e.items.every(((e,r)=>R(e,t.items[r])===l.True))?l.True:l.False:l.False}function j(e,t){return i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?x(e,t):s.TVoid(t)?function(e,t){return s.TUndefined(e)||s.TUndefined(e)?l.True:l.False}(e):s.TUndefined(t)?l.True:l.False}function B(e,t){return t.anyOf.some((t=>R(e,t)===l.True))?l.True:l.False}function M(e,t){return l.True}function N(e,t){return s.TNever(t)?h():s.TIntersect(t)?p(e,t):s.TUnion(t)?B(e,t):s.TAny(t)?c():s.TString(t)?C(e):s.TNumber(t)?m(e):s.TInteger(t)?d(e):s.TBoolean(t)?u(e):s.TArray(t)?function(e,t){return s.TUnknown(e)?l.False:s.TAny(e)?l.Union:s.TNever(e)?l.True:l.False}(e):s.TTuple(t)?function(e,t){return s.TNever(e)?l.True:s.TUnknown(e)?l.False:s.TAny(e)?l.Union:l.False}(e):s.TObject(t)?k(e,t):s.TUnknown(t)?l.True:l.False}function R(e,o){return s.TTemplateLiteral(e)||s.TTemplateLiteral(o)?function(e,t){return s.TTemplateLiteral(e)?R(v.Resolve(e),t):s.TTemplateLiteral(t)?R(e,v.Resolve(t)):n("Invalid fallthrough for TemplateLiteral")}(e,o):s.TNot(e)||s.TNot(o)?function(e,t){return s.TNot(e)?R(f(e),t):s.TNot(t)?R(e,f(t)):n("Invalid fallthrough for Not")}(e,o):s.TAny(e)?function(e,t){return s.TIntersect(t)?p(e,t):s.TUnion(t)&&t.anyOf.some((e=>s.TAny(e)||s.TUnknown(e)))?l.True:s.TUnion(t)?l.Union:s.TUnknown(t)||s.TAny(t)?l.True:l.Union}(e,o):s.TArray(e)?function(e,r){return s.TObject(r)&&_(r)?l.True:i(r)?a(e,r):s.TArray(r)?t(R(e.items,r.items)):l.False}(e,o):s.TBigInt(e)?function(e,t){return i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?x(e,t):s.TBigInt(t)?l.True:l.False}(e,o):s.TBoolean(e)?function(e,t){return i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?x(e,t):s.TBoolean(t)?l.True:l.False}(e,o):s.TAsyncIterator(e)?function(e,r){return i(r)?a(e,r):s.TAsyncIterator(r)?t(R(e.items,r.items)):l.False}(e,o):s.TConstructor(e)?function(e,r){return i(r)?a(e,r):s.TObject(r)?k(e,r):s.TConstructor(r)?e.parameters.length>r.parameters.length?l.False:e.parameters.every(((e,n)=>t(R(r.parameters[n],e))===l.True))?t(R(e.returns,r.returns)):l.False:l.False}(e,o):s.TDate(e)?function(e,t){return i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?x(e,t):s.TDate(t)?l.True:l.False}(e,o):s.TFunction(e)?function(e,r){return i(r)?a(e,r):s.TObject(r)?k(e,r):s.TFunction(r)?e.parameters.length>r.parameters.length?l.False:e.parameters.every(((e,n)=>t(R(r.parameters[n],e))===l.True))?t(R(e.returns,r.returns)):l.False:l.False}(e,o):s.TInteger(e)?function(e,t){return s.TInteger(t)||s.TNumber(t)?l.True:i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?x(e,t):l.False}(e,o):s.TIntersect(e)?function(e,t){return e.allOf.some((e=>R(e,t)===l.True))?l.True:l.False}(e,o):s.TIterator(e)?function(e,r){return i(r)?a(e,r):s.TIterator(r)?t(R(e.items,r.items)):l.False}(e,o):s.TLiteral(e)?function(e,t){return s.TLiteral(t)&&t.const===e.const?l.True:i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?x(e,t):s.TString(t)?C(e):s.TNumber(t)?m(e):s.TInteger(t)?d(e):s.TBoolean(t)?u(e):l.False}(e,o):s.TNever(e)?l.True:s.TNull(e)?function(e,t){return i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?x(e,t):s.TNull(t)?l.True:l.False}(e,o):s.TNumber(e)?function(e,t){return i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?x(e,t):s.TInteger(t)||s.TNumber(t)?l.True:l.False}(e,o):s.TObject(e)?function(e,t){return i(t)?a(e,t):s.TRecord(t)?x(e,t):s.TObject(t)?(()=>{for(const r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!s.TOptional(t.properties[r]))return l.False;if(s.TOptional(t.properties[r]))return l.True;if(S(e.properties[r],t.properties[r])===l.False)return l.False}return l.True})():l.False}(e,o):s.TRecord(e)?function(e,t){return i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?R(A(e),A(t)):l.False}(e,o):s.TString(e)?function(e,t){return i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?x(e,t):s.TString(t)?l.True:l.False}(e,o):s.TSymbol(e)?function(e,t){return i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?x(e,t):s.TSymbol(t)?l.True:l.False}(e,o):s.TTuple(e)?I(e,o):s.TPromise(e)?O(e,o):s.TUint8Array(e)?function(e,t){return i(t)?a(e,t):s.TObject(t)?k(e,t):s.TRecord(t)?x(e,t):s.TUint8Array(t)?l.True:l.False}(e,o):s.TUndefined(e)?j(e,o):s.TUnion(e)?function(e,t){return e.anyOf.every((e=>R(e,t)===l.True))?l.True:l.False}(e,o):s.TUnknown(e)?N(e,o):s.TVoid(e)?function(e,t){return s.TIntersect(t)?p(e,t):s.TUnion(t)?B(e,t):s.TUnknown(t)?M():s.TAny(t)?c():s.TObject(t)?k(e,t):s.TVoid(t)?l.True:l.False}(e,o):n(`Unknown left type operand '${e[r.Kind]}'`)}e.Extends=function(e,t){return R(e,t)}}(c||(r.TypeExtends=c={})),function(e){function t(e){return o.IsArray(e)?function(e){return e.map((e=>t(e)))}(e):o.IsDate(e)?function(e){return new Date(e.getTime())}(e):o.IsUint8Array(e)?function(e){return new Uint8Array(e)}(e):o.IsObject(e)?function(e){return{...Object.getOwnPropertyNames(e).reduce(((r,n)=>({...r,[n]:t(e[n])})),{}),...Object.getOwnPropertySymbols(e).reduce(((r,n)=>({...r,[n]:t(e[n])})),{})}}(e):e}function r(e,r={}){return{...t(e),...r}}e.Rest=function(e){return e.map((e=>r(e)))},e.Type=r}(u||(r.TypeClone=u={})),function(e){function t(e){return e.map((e=>{const{[r.Optional]:t,...n}=u.Type(e);return n}))}function n(e){return function(e){return e.every((e=>s.TOptional(e)))}(e.allOf)?r.Type.Optional(r.Type.Intersect(t(e.allOf))):e}function i(e){return function(e){return e.some((e=>s.TOptional(e)))}(e.anyOf)?r.Type.Optional(r.Type.Union(t(e.anyOf))):e}function a(e){return"Intersect"===e[r.Kind]?n(e):"Union"===e[r.Kind]?i(e):e}function l(e,t){return"Intersect"===e[r.Kind]?function(e,t){const n=e.allOf.reduce(((e,n)=>{const i=l(n,t);return"Never"===i[r.Kind]?e:[...e,i]}),[]);return a(r.Type.Intersect(n))}(e,t):"Union"===e[r.Kind]?function(e,t){const n=e.anyOf.map((e=>l(e,t)));return a(r.Type.Union(n))}(e,t):"Object"===e[r.Kind]?function(e,t){const n=e.properties[t];return o.IsUndefined(n)?r.Type.Never():r.Type.Union([n])}(e,t):"Tuple"===e[r.Kind]?function(e,t){const n=e.items;if(o.IsUndefined(n))return r.Type.Never();const i=n[t];return o.IsUndefined(i)?r.Type.Never():i}(e,t):r.Type.Never()}e.Resolve=function(e,t,n={}){const i=t.map((t=>l(e,t.toString())));return a(r.Type.Union(i,n))}}(d||(r.IndexedAccessor=d={})),function(e){function t(e,t){return"string"==typeof e?"Uncapitalize"===t?function(e){const[t,r]=[e.slice(0,1),e.slice(1)];return`${t.toLowerCase()}${r}`}(e):"Capitalize"===t?function(e){const[t,r]=[e.slice(0,1),e.slice(1)];return`${t.toUpperCase()}${r}`}(e):"Uppercase"===t?function(e){return e.toUpperCase()}(e):"Lowercase"===t?function(e){return e.toLowerCase()}(e):e:e.toString()}function n(e,t){if(0===e.length)return[];const[r,...i]=e;return[o(r,t),...n(i,t)]}function i(e,i){return s.TTemplateLiteral(e)?function(e,i){const o=b.ParseExact(e.pattern);if(!T.Check(o))return{...e,pattern:t(e.pattern,i)};const s=n([...w.Generate(o)].map((e=>r.Type.Literal(e))),i),a=r.Type.Union(s);return r.Type.TemplateLiteral([a])}(e,i):s.TUnion(e)?r.Type.Union(n(e.anyOf,i)):s.TLiteral(e)?r.Type.Literal(t(e.const,i)):e}function o(e,t){return i(e,t)}e.Map=o}(p||(r.Intrinsic=p={})),function(e){function t(e,n){return"Intersect"===e[r.Kind]?function(e,n){return r.Type.Intersect(e.allOf.map((e=>t(e,n))),{...e})}(e,n):"Union"===e[r.Kind]?function(e,n){return r.Type.Union(e.anyOf.map((e=>t(e,n))),{...e})}(e,n):"Object"===e[r.Kind]?function(e,t){return t(e)}(e,n):e}e.Map=function(e,r,n){return{...t(u.Type(e),r),...n}}}(h||(r.ObjectMap=h={})),function(e){function t(e,r){return s.TIntersect(e)?function(e,r){return e.allOf.reduce(((e,n)=>[...e,...t(n,r)]),[])}(e,r):s.TUnion(e)?function(e,r){const n=e.anyOf.map((e=>t(e,r)));return[...n.reduce(((e,t)=>t.map((t=>n.every((e=>e.includes(t)))?e.add(t):e))[0]),new Set)]}(e,r):s.TObject(e)?function(e,t){return Object.getOwnPropertyNames(e.properties)}(e):s.TRecord(e)?function(e,t){return t.includePatterns?Object.getOwnPropertyNames(e.patternProperties):[]}(e,r):[]}function r(e,r){return[...new Set(t(e,r))]}e.ResolveKeys=r,e.ResolvePattern=function(e){return`^(${r(e,{includePatterns:!0}).map((e=>`(${function(e){return"^"===e[0]&&"$"===e[e.length-1]?e.slice(1,e.length-1):e}(e)})`)).join("|")})$`}}(f||(r.KeyResolver=f={}));class k extends S{}r.KeyArrayResolverError=k,function(e){e.Resolve=function(e){return Array.isArray(e)?e:s.TUnionLiteral(e)?e.anyOf.map((e=>e.const.toString())):s.TLiteral(e)?[e.const]:s.TTemplateLiteral(e)?(()=>{const t=b.ParseExact(e.pattern);if(!T.Check(t))throw new k("Cannot resolve keys from infinite template expression");return[...w.Generate(t)]})():[]}}(m||(r.KeyArrayResolver=m={})),function(e){function*t(e){for(const n of e.anyOf)"Union"===n[r.Kind]?yield*t(n):yield n}e.Resolve=function(e){return r.Type.Union([...t(e)],{...e})}}(y||(r.UnionResolver=y={}));class O extends S{}r.TemplateLiteralPatternError=O,function(e){function t(e,n){return s.TTemplateLiteral(e)?e.pattern.slice(1,e.pattern.length-1):s.TUnion(e)?`(${e.anyOf.map((e=>t(e,n))).join("|")})`:s.TNumber(e)||s.TInteger(e)||s.TBigInt(e)?`${n}${r.PatternNumber}`:s.TString(e)?`${n}${r.PatternString}`:s.TLiteral(e)?`${n}${i=e.const.toString(),i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}`:s.TBoolean(e)?`${n}${r.PatternBoolean}`:function(e){throw new O(e)}(`Unexpected Kind '${e[r.Kind]}'`);var i}e.Create=function(e){return`^${e.map((e=>t(e,""))).join("")}$`}}(g||(r.TemplateLiteralPattern=g={})),function(e){e.Resolve=function(e){const t=b.ParseExact(e.pattern);if(!T.Check(t))return r.Type.String();const n=[...w.Generate(t)].map((e=>r.Type.Literal(e)));return r.Type.Union(n)}}(v||(r.TemplateLiteralResolver=v={}));class P extends S{}r.TemplateLiteralParserError=P,function(e){function t(e,t,r){return e[t]===r&&92!==e.charCodeAt(t-1)}function r(e,r){return t(e,r,"(")}function n(e,r){return t(e,r,")")}function i(e,r){return t(e,r,"|")}function o(e){return function(e){if(!r(e,0)||!n(e,e.length-1))return!1;let t=0;for(let i=0;i<e.length;i++)if(r(e,i)&&(t+=1),n(e,i)&&(t-=1),0===t&&i!==e.length-1)return!1;return!0}(e)?o(function(e){return e.slice(1,e.length-1)}(e)):function(e){let t=0;for(let o=0;o<e.length;o++)if(r(e,o)&&(t+=1),n(e,o)&&(t-=1),i(e,o)&&0===t)return!0;return!1}(e)?function(e){let[t,s]=[0,0];const a=[];for(let l=0;l<e.length;l++)if(r(e,l)&&(t+=1),n(e,l)&&(t-=1),i(e,l)&&0===t){const t=e.slice(s,l);t.length>0&&a.push(o(t)),s=l+1}const l=e.slice(s);return l.length>0&&a.push(o(l)),0===a.length?{type:"const",const:""}:1===a.length?a[0]:{type:"or",expr:a}}(e):function(e){for(let t=0;t<e.length;t++)if(r(e,t))return!0;return!1}(e)?function(e){function t(e,t){if(!r(e,t))throw new P("TemplateLiteralParser: Index must point to open parens");let i=0;for(let o=t;o<e.length;o++)if(r(e,o)&&(i+=1),n(e,o)&&(i-=1),0===i)return[t,o];throw new P("TemplateLiteralParser: Unclosed group parens in expression")}function i(e,t){for(let n=t;n<e.length;n++)if(r(e,n))return[t,n];return[t,e.length]}const s=[];for(let n=0;n<e.length;n++)if(r(e,n)){const[r,i]=t(e,n),a=e.slice(r,i+1);s.push(o(a)),n=i}else{const[t,r]=i(e,n),a=e.slice(t,r);a.length>0&&s.push(o(a)),n=r-1}return 0===s.length?{type:"const",const:""}:1===s.length?s[0]:{type:"and",expr:s}}(e):{type:"const",const:e}}e.Parse=o,e.ParseExact=function(e){return o(e.slice(1,e.length-1))}}(b||(r.TemplateLiteralParser=b={}));class A extends S{}r.TemplateLiteralFiniteError=A,function(e){e.Check=function e(t){return!!function(e){return"or"===e.type&&2===e.expr.length&&"const"===e.expr[0].type&&"true"===e.expr[0].const&&"const"===e.expr[1].type&&"false"===e.expr[1].const}(t)||!function(e){return"or"===e.type&&2===e.expr.length&&"const"===e.expr[0].type&&"0"===e.expr[0].const&&"const"===e.expr[1].type&&"[1-9][0-9]*"===e.expr[1].const}(t)&&!function(e){return"const"===e.type&&".*"===e.const}(t)&&("and"===t.type||"or"===t.type?t.expr.every((t=>e(t))):"const"===t.type||function(e){throw new A(e)}("Unknown expression type"))}}(T||(r.TemplateLiteralFinite=T={}));class x extends S{}r.TemplateLiteralGeneratorError=x,function(e){function*t(e){if(1===e.length)return yield*e[0];for(const r of e[0])for(const n of t(e.slice(1)))yield`${r}${n}`}function*r(e){return yield*t(e.expr.map((e=>[...n(e)])))}function*n(e){return"and"===e.type?yield*r(e):"or"===e.type?yield*function*(e){for(const t of e.expr)yield*n(t)}(e):"const"===e.type?yield*function*(e){return yield e.const}(e):(()=>{throw new x("Unknown expression")})()}e.Generate=n}(w||(r.TemplateLiteralGenerator=w={})),function(e){function*t(e){const t=e.trim().replace(/"|'/g,"");return"boolean"===t?yield r.Type.Boolean():"number"===t?yield r.Type.Number():"bigint"===t?yield r.Type.BigInt():"string"===t?yield r.Type.String():yield(()=>{const e=t.split("|").map((e=>r.Type.Literal(e.trim())));return 0===e.length?r.Type.Never():1===e.length?e[0]:r.Type.Union(e)})()}function*n(e){if("{"!==e[1]){const t=r.Type.Literal("$"),n=i(e.slice(1));return yield*[t,...n]}for(let r=2;r<e.length;r++)if("}"===e[r]){const n=t(e.slice(2,r)),o=i(e.slice(r+1));return yield*[...n,...o]}yield r.Type.Literal(e)}function*i(e){for(let t=0;t<e.length;t++)if("$"===e[t]){const i=r.Type.Literal(e.slice(0,t)),o=n(e.slice(t));return yield*[i,...o]}yield r.Type.Literal(e)}e.Parse=function(e){return[...i(e)]}}(_||(r.TemplateLiteralDslParser=_={}));class C{constructor(e){this.schema=e}Decode(e){return new I(this.schema,e)}}r.TransformDecodeBuilder=C;class I{constructor(e,t){this.schema=e,this.decode=t}Encode(e){const t=u.Type(this.schema);return s.TTransform(t)?(()=>{const n={Encode:n=>t[r.Transform].Encode(e(n)),Decode:e=>this.decode(t[r.Transform].Decode(e))};return{...t,[r.Transform]:n}})():(()=>{const n={Decode:this.decode,Encode:e};return{...t,[r.Transform]:n}})()}}r.TransformEncodeBuilder=I;let j=0;class B extends S{}r.TypeBuilderError=B;class M{Create(e){return e}Throw(e){throw new B(e)}Discard(e,t){return t.reduce(((e,t)=>{const{[t]:r,...n}=e;return n}),e)}Strict(e){return JSON.parse(JSON.stringify(e))}}r.TypeBuilder=M;class N extends M{ReadonlyOptional(e){return this.Readonly(this.Optional(e))}Readonly(e){return{...u.Type(e),[r.Readonly]:"Readonly"}}Optional(e){return{...u.Type(e),[r.Optional]:"Optional"}}Any(e={}){return this.Create({...e,[r.Kind]:"Any"})}Array(e,t={}){return this.Create({...t,[r.Kind]:"Array",type:"array",items:u.Type(e)})}Boolean(e={}){return this.Create({...e,[r.Kind]:"Boolean",type:"boolean"})}Capitalize(e,t={}){return{...p.Map(u.Type(e),"Capitalize"),...t}}Composite(e,t){const n=r.Type.Intersect(e,{}),i=f.ResolveKeys(n,{includePatterns:!1}).reduce(((e,t)=>({...e,[t]:r.Type.Index(n,[t])})),{});return r.Type.Object(i,t)}Enum(e,t={}){if(o.IsUndefined(e))return this.Throw("Enum undefined or empty");const n=Object.getOwnPropertyNames(e).filter((e=>isNaN(e))).map((t=>e[t])),i=[...new Set(n)].map((e=>r.Type.Literal(e)));return this.Union(i,{...t,[r.Hint]:"Enum"})}Extends(e,t,r,n,i={}){switch(c.Extends(e,t)){case l.Union:return this.Union([u.Type(r,i),u.Type(n,i)]);case l.True:return u.Type(r,i);case l.False:return u.Type(n,i)}}Exclude(e,t,r={}){return s.TTemplateLiteral(e)?this.Exclude(v.Resolve(e),t,r):s.TTemplateLiteral(t)?this.Exclude(e,v.Resolve(t),r):s.TUnion(e)?(()=>{const n=e.anyOf.filter((e=>c.Extends(e,t)===l.False));return 1===n.length?u.Type(n[0],r):this.Union(n,r)})():c.Extends(e,t)!==l.False?this.Never(r):u.Type(e,r)}Extract(e,t,r={}){return s.TTemplateLiteral(e)?this.Extract(v.Resolve(e),t,r):s.TTemplateLiteral(t)?this.Extract(e,v.Resolve(t),r):s.TUnion(e)?(()=>{const n=e.anyOf.filter((e=>c.Extends(e,t)!==l.False));return 1===n.length?u.Type(n[0],r):this.Union(n,r)})():c.Extends(e,t)!==l.False?u.Type(e,r):this.Never(r)}Index(e,t,r={}){return s.TArray(e)&&s.TNumber(t)?u.Type(e.items,r):s.TTuple(e)&&s.TNumber(t)?(()=>{const t=(o.IsUndefined(e.items)?[]:e.items).map((e=>u.Type(e)));return this.Union(t,r)})():(()=>{const n=m.Resolve(t),i=u.Type(e);return d.Resolve(i,n,r)})()}Integer(e={}){return this.Create({...e,[r.Kind]:"Integer",type:"integer"})}Intersect(e,t={}){if(0===e.length)return r.Type.Never();if(1===e.length)return u.Type(e[0],t);e.some((e=>s.TTransform(e)))&&this.Throw("Cannot intersect transform types");const n=e.every((e=>s.TObject(e))),i=u.Rest(e),o=s.TSchema(t.unevaluatedProperties)?{unevaluatedProperties:u.Type(t.unevaluatedProperties)}:{};return!1===t.unevaluatedProperties||s.TSchema(t.unevaluatedProperties)||n?this.Create({...t,...o,[r.Kind]:"Intersect",type:"object",allOf:i}):this.Create({...t,...o,[r.Kind]:"Intersect",allOf:i})}KeyOf(e,t={}){return s.TRecord(e)?(()=>{const n=Object.getOwnPropertyNames(e.patternProperties)[0];return n===r.PatternNumberExact?this.Number(t):n===r.PatternStringExact?this.String(t):this.Throw("Unable to resolve key type from Record key pattern")})():s.TTuple(e)?(()=>{const n=(o.IsUndefined(e.items)?[]:e.items).map(((e,t)=>r.Type.Literal(t.toString())));return this.Union(n,t)})():s.TArray(e)?(()=>this.Number(t))():(()=>{const r=f.ResolveKeys(e,{includePatterns:!1});if(0===r.length)return this.Never(t);const n=r.map((e=>this.Literal(e)));return this.Union(n,t)})()}Literal(e,t={}){return this.Create({...t,[r.Kind]:"Literal",const:e,type:typeof e})}Lowercase(e,t={}){return{...p.Map(u.Type(e),"Lowercase"),...t}}Never(e={}){return this.Create({...e,[r.Kind]:"Never",not:{}})}Not(e,t){return this.Create({...t,[r.Kind]:"Not",not:u.Type(e)})}Null(e={}){return this.Create({...e,[r.Kind]:"Null",type:"null"})}Number(e={}){return this.Create({...e,[r.Kind]:"Number",type:"number"})}Object(e,t={}){const n=Object.getOwnPropertyNames(e),i=n.filter((t=>s.TOptional(e[t]))),o=n.filter((e=>!i.includes(e))),a=s.TSchema(t.additionalProperties)?{additionalProperties:u.Type(t.additionalProperties)}:{},l=n.reduce(((t,r)=>({...t,[r]:u.Type(e[r])})),{});return o.length>0?this.Create({...t,...a,[r.Kind]:"Object",type:"object",properties:l,required:o}):this.Create({...t,...a,[r.Kind]:"Object",type:"object",properties:l})}Omit(e,t,n={}){const i=m.Resolve(t);return h.Map(this.Discard(u.Type(e),["$id",r.Transform]),(e=>{o.IsArray(e.required)&&(e.required=e.required.filter((e=>!i.includes(e))),0===e.required.length&&delete e.required);for(const t of Object.getOwnPropertyNames(e.properties))i.includes(t)&&delete e.properties[t];return this.Create(e)}),n)}Partial(e,t={}){return h.Map(this.Discard(u.Type(e),["$id",r.Transform]),(e=>{const t=Object.getOwnPropertyNames(e.properties).reduce(((t,r)=>({...t,[r]:this.Optional(e.properties[r])})),{});return this.Object(t,this.Discard(e,["required"]))}),t)}Pick(e,t,n={}){const i=m.Resolve(t);return h.Map(this.Discard(u.Type(e),["$id",r.Transform]),(e=>{o.IsArray(e.required)&&(e.required=e.required.filter((e=>i.includes(e))),0===e.required.length&&delete e.required);for(const t of Object.getOwnPropertyNames(e.properties))i.includes(t)||delete e.properties[t];return this.Create(e)}),n)}Record(e,t,n={}){return s.TTemplateLiteral(e)?(()=>{const i=b.ParseExact(e.pattern);return T.Check(i)?this.Object([...w.Generate(i)].reduce(((e,r)=>({...e,[r]:u.Type(t)})),{}),n):this.Create({...n,[r.Kind]:"Record",type:"object",patternProperties:{[e.pattern]:u.Type(t)}})})():s.TUnion(e)?(()=>{const i=y.Resolve(e);if(s.TUnionLiteral(i)){const e=i.anyOf.reduce(((e,r)=>({...e,[r.const]:u.Type(t)})),{});return this.Object(e,{...n,[r.Hint]:"Record"})}this.Throw("Record key of type union contains non-literal types")})():s.TLiteral(e)?(()=>o.IsString(e.const)||o.IsNumber(e.const)?this.Object({[e.const]:u.Type(t)},n):this.Throw("Record key of type literal is not of type string or number"))():s.TInteger(e)||s.TNumber(e)?(()=>this.Create({...n,[r.Kind]:"Record",type:"object",patternProperties:{[r.PatternNumberExact]:u.Type(t)}}))():s.TString(e)?(()=>{const i=o.IsUndefined(e.pattern)?r.PatternStringExact:e.pattern;return this.Create({...n,[r.Kind]:"Record",type:"object",patternProperties:{[i]:u.Type(t)}})})():this.Never()}Recursive(e,t={}){o.IsUndefined(t.$id)&&(t.$id="T"+j++);const n=e({[r.Kind]:"This",$ref:`${t.$id}`});return n.$id=t.$id,this.Create({...t,[r.Hint]:"Recursive",...n})}Ref(e,t={}){return o.IsString(e)?this.Create({...t,[r.Kind]:"Ref",$ref:e}):(o.IsUndefined(e.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...t,[r.Kind]:"Ref",$ref:e.$id}))}Required(e,t={}){return h.Map(this.Discard(u.Type(e),["$id",r.Transform]),(e=>{const t=Object.getOwnPropertyNames(e.properties).reduce(((t,n)=>({...t,[n]:this.Discard(e.properties[n],[r.Optional])})),{});return this.Object(t,e)}),t)}Rest(e){return s.TTuple(e)&&!o.IsUndefined(e.items)?u.Rest(e.items):s.TIntersect(e)?u.Rest(e.allOf):s.TUnion(e)?u.Rest(e.anyOf):[]}String(e={}){return this.Create({...e,[r.Kind]:"String",type:"string"})}TemplateLiteral(e,t={}){const n=o.IsString(e)?g.Create(_.Parse(e)):g.Create(e);return this.Create({...t,[r.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(e){return new C(e)}Tuple(e,t={}){const[n,i,o]=[!1,e.length,e.length],s=u.Rest(e),a=e.length>0?{...t,[r.Kind]:"Tuple",type:"array",items:s,additionalItems:n,minItems:i,maxItems:o}:{...t,[r.Kind]:"Tuple",type:"array",minItems:i,maxItems:o};return this.Create(a)}Uncapitalize(e,t={}){return{...p.Map(u.Type(e),"Uncapitalize"),...t}}Union(e,t={}){return s.TTemplateLiteral(e)?v.Resolve(e):(()=>{const n=e;if(0===n.length)return this.Never(t);if(1===n.length)return this.Create(u.Type(n[0],t));const i=u.Rest(n);return this.Create({...t,[r.Kind]:"Union",anyOf:i})})()}Unknown(e={}){return this.Create({...e,[r.Kind]:"Unknown"})}Unsafe(e={}){return this.Create({...e,[r.Kind]:e[r.Kind]||"Unsafe"})}Uppercase(e,t={}){return{...p.Map(u.Type(e),"Uppercase"),...t}}}r.JsonTypeBuilder=N;class R extends N{AsyncIterator(e,t={}){return this.Create({...t,[r.Kind]:"AsyncIterator",type:"AsyncIterator",items:u.Type(e)})}Awaited(e,t={}){const n=e=>e.length>0?(()=>{const[t,...r]=e;return[this.Awaited(t),...n(r)]})():e;return s.TIntersect(e)?r.Type.Intersect(n(e.allOf)):s.TUnion(e)?r.Type.Union(n(e.anyOf)):s.TPromise(e)?this.Awaited(e.item):u.Type(e,t)}BigInt(e={}){return this.Create({...e,[r.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(e,t={}){return this.Tuple([...e.parameters],{...t})}Constructor(e,t,n){const[i,o]=[u.Rest(e),u.Type(t)];return this.Create({...n,[r.Kind]:"Constructor",type:"Constructor",parameters:i,returns:o})}Date(e={}){return this.Create({...e,[r.Kind]:"Date",type:"Date"})}Function(e,t,n){const[i,o]=[u.Rest(e),u.Type(t)];return this.Create({...n,[r.Kind]:"Function",type:"Function",parameters:i,returns:o})}InstanceType(e,t={}){return u.Type(e.returns,t)}Iterator(e,t={}){return this.Create({...t,[r.Kind]:"Iterator",type:"Iterator",items:u.Type(e)})}Parameters(e,t={}){return this.Tuple(e.parameters,{...t})}Promise(e,t={}){return this.Create({...t,[r.Kind]:"Promise",type:"Promise",item:u.Type(e)})}RegExp(e,t={}){const n=o.IsString(e)?e:e.source;return this.Create({...t,[r.Kind]:"String",type:"string",pattern:n})}RegEx(e,t={}){return this.RegExp(e,t)}ReturnType(e,t={}){return u.Type(e.returns,t)}Symbol(e){return this.Create({...e,[r.Kind]:"Symbol",type:"symbol"})}Undefined(e={}){return this.Create({...e,[r.Kind]:"Undefined",type:"undefined"})}Uint8Array(e={}){return this.Create({...e,[r.Kind]:"Uint8Array",type:"Uint8Array"})}Void(e={}){return this.Create({...e,[r.Kind]:"Void",type:"void"})}}r.JavaScriptTypeBuilder=R,r.JsonType=new N,r.Type=new R}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@sinclair/typebox/typebox.js"}],[2185,{"../typebox":2184},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Deref=r.TypeDereferenceError=void 0;const n=e("../typebox");class i extends n.TypeBoxError{constructor(e){super(`Unable to dereference schema with $id '${e.$id}'`),this.schema=e}}r.TypeDereferenceError=i,r.Deref=function(e,t){const r=t.findIndex((t=>t.$id===e.$ref));if(-1===r)throw new i(e);return t[r]}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@sinclair/typebox/value/deref.js"}],[2186,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return null!==e&&"object"==typeof e}function i(e){return e===undefined}function o(e){return null===e}function s(e){return"boolean"==typeof e}function a(e){return"number"==typeof e}function l(e){return"bigint"==typeof e}function c(e){return"string"==typeof e}function u(e){return"function"==typeof e}function d(e){return"symbol"==typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r.IsValueType=r.IsSymbol=r.IsFunction=r.IsString=r.IsBigInt=r.IsInteger=r.IsNumber=r.IsBoolean=r.IsNull=r.IsUndefined=r.IsArray=r.IsObject=r.IsPlainObject=r.HasPropertyKey=r.IsDate=r.IsUint8Array=r.IsPromise=r.IsTypedArray=r.IsIterator=r.IsAsyncIterator=void 0,r.IsAsyncIterator=function(e){return n(e)&&Symbol.asyncIterator in e},r.IsIterator=function(e){return n(e)&&Symbol.iterator in e},r.IsTypedArray=function(e){return ArrayBuffer.isView(e)},r.IsPromise=function(e){return e instanceof Promise},r.IsUint8Array=function(e){return e instanceof Uint8Array},r.IsDate=function(e){return e instanceof Date&&Number.isFinite(e.getTime())},r.HasPropertyKey=function(e,t){return t in e},r.IsPlainObject=function(e){return n(e)&&u(e.constructor)&&"Object"===e.constructor.name},r.IsObject=n,r.IsArray=function(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)},r.IsUndefined=i,r.IsNull=o,r.IsBoolean=s,r.IsNumber=a,r.IsInteger=function(e){return a(e)&&Number.isInteger(e)},r.IsBigInt=l,r.IsString=c,r.IsFunction=u,r.IsSymbol=d,r.IsValueType=function(e){return l(e)||s(e)||o(e)||a(e)||c(e)||d(e)||i(e)}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@sinclair/typebox/value/guard.js"}],[2187,{"./guard":2186},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Hash=r.ByteMarker=r.ValueHashError=void 0;const n=e("./guard");class i extends Error{constructor(e){super("Unable to hash value"),this.value=e}}var o;r.ValueHashError=i,function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"}(o||(r.ByteMarker=o={}));let s=BigInt("14695981039346656037");const[a,l]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],c=Array.from({length:256}).map(((e,t)=>BigInt(t))),u=new Float64Array(1),d=new DataView(u.buffer),p=new Uint8Array(u.buffer);function*h(e){const t=0===e?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}function f(e){if((0,n.IsArray)(e))return function(e){m(o.Array);for(const t of e)f(t)}(e);if((0,n.IsBoolean)(e))return function(e){m(o.Boolean),m(e?1:0)}(e);if((0,n.IsBigInt)(e))return function(e){m(o.BigInt),d.setBigInt64(0,e);for(const e of p)m(e)}(e);if((0,n.IsDate)(e))return function(e){m(o.Date),f(e.getTime())}(e);if(!(0,n.IsNull)(e)){if((0,n.IsNumber)(e))return function(e){m(o.Number),d.setFloat64(0,e);for(const e of p)m(e)}(e);if((0,n.IsPlainObject)(e))return function(e){m(o.Object);for(const t of globalThis.Object.keys(e).sort())f(t),f(e[t])}(e);if((0,n.IsString)(e))return function(e){m(o.String);for(let t=0;t<e.length;t++)for(const r of h(e.charCodeAt(t)))m(r)}(e);if((0,n.IsSymbol)(e))return function(e){m(o.Symbol),f(e.description)}(e);if((0,n.IsUint8Array)(e))return function(e){m(o.Uint8Array);for(let t=0;t<e.length;t++)m(e[t])}(e);if((0,n.IsUndefined)(e))return m(o.Undefined);throw new i(e)}m(o.Null)}function m(e){s^=c[e],s=s*a%l}r.Hash=function(e){return s=BigInt("14695981039346656037"),f(e),s}}}},{package:"@trezor/connect-web>@trezor/connect>@trezor/schema-utils>@sinclair/typebox",file:"node_modules/@sinclair/typebox/value/hash.js"}],[2191,{"@metamask/eth-sig-util":1151,tslib:4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.transformTypedData=void 0;const n=e("tslib").__importStar(e("@metamask/eth-sig-util"));function i(e){switch(Object.prototype.toString.call(e)){case"[object Object]":{const t=Object.keys(e).map((t=>[t,i(e[t])]));return Object.fromEntries(t)}case"[object Array]":return e.map((e=>i(e)));case"[object BigInt]":return e.toString();default:return e}}r.transformTypedData=(e,t)=>{if(!t)throw new Error("Trezor: Only version 4 of typed data signing is supported");const r=n.SignTypedDataVersion.V4,{types:o,primaryType:s,domain:a,message:l}=n.TypedDataUtils.sanitizeData(e),c=n.TypedDataUtils.hashStruct("EIP712Domain",i(a),o,r).toString("hex");let u=null;return"EIP712Domain"!==s&&(u=n.TypedDataUtils.hashStruct(s,i(l),o,r).toString("hex")),Object.assign({domain_separator_hash:c,message_hash:u},e)},r.default=r.transformTypedData}}},{package:"@metamask/eth-trezor-keyring>@trezor/connect-plugin-ethereum",file:"node_modules/@trezor/connect-plugin-ethereum/lib/index.js"}],[2192,{"@trezor/connect/lib/data/connectSettings":2205},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseConnectSettings=r.getEnv=void 0;const n=e("@trezor/connect/lib/data/connectSettings");r.getEnv=()=>{var e;if("undefined"!=typeof chrome&&void 0!==(null===(e=chrome.runtime)||void 0===e?void 0:e.onConnect))return"webextension";if("undefined"!=typeof navigator){if("string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"};r.parseConnectSettings=(e={})=>{var t;const i=Object.assign({popup:!0},e);let o;if("undefined"!=typeof window?o=window.__TREZOR_CONNECT_SRC:"undefined"!=typeof global&&(o=global.__TREZOR_CONNECT_SRC),"string"==typeof o&&(i.connectSrc=o,i.debug=!0),"undefined"!=typeof window&&"string"==typeof(null===(t=window.location)||void 0===t?void 0:t.search)){const e=((e,t)=>{const r=new URLSearchParams(e),n={};return Array.from(r.entries()).forEach((([e,r])=>{t.includes(e)&&(n[e]=decodeURIComponent(r))})),n})(window.location.search,["trezor-connect-src"]);e["trezor-connect-src"]&&(i.debug=!0,i.connectSrc=e["trezor-connect-src"])}return"string"!=typeof e.env&&(i.env=(0,r.getEnv)()),(0,n.parseConnectSettings)(i)}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/connectSettings.js"}],[2193,{"./inlineStyles":2194,"@trezor/connect/lib/constants/errors":2200,"@trezor/connect/lib/events":2212,"@trezor/connect/lib/utils/debug":2239,"@trezor/connect/lib/utils/urlUtils":2240,"@trezor/utils/lib/createDeferred":2251,tslib:4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.initIframeLogger=r.clearTimeout=r.postMessage=r.init=r.dispose=r.error=r.timeout=r.initPromise=r.origin=r.instance=void 0;const n=e("tslib"),i=e("@trezor/utils/lib/createDeferred"),o=n.__importStar(e("@trezor/connect/lib/constants/errors")),s=e("@trezor/connect/lib/events"),a=e("@trezor/connect/lib/utils/urlUtils"),l=e("@trezor/connect/lib/utils/debug"),c=n.__importDefault(e("./inlineStyles"));r.initPromise=(0,i.createDeferred)(),r.timeout=0;r.dispose=()=>{if(r.instance&&r.instance.parentNode)try{r.instance.parentNode.removeChild(r.instance)}catch(e){}r.instance=null,r.timeout=0};r.init=async e=>{r.initPromise=(0,i.createDeferred)();const t=document.getElementById("trezorconnect");let n;if(t?r.instance=t:(r.instance=document.createElement("iframe"),r.instance.frameBorder="0",r.instance.width="0px",r.instance.height="0px",r.instance.style.position="absolute",r.instance.style.display="none",r.instance.style.border="0px",r.instance.style.width="0px",r.instance.style.height="0px",r.instance.id="trezorconnect"),"web"===e.env){const t=e.manifest?JSON.stringify(e.manifest):"undefined",r=`version=${e.version}&manifest=${encodeURIComponent(btoa(JSON.stringify(t)))}`;n=`${e.iframeSrc}?${r}`}else n=e.iframeSrc;r.instance.setAttribute("src",n),e.webusb&&console.warn('webusb option is deprecated. use `transports: ["WebUsbTransport"] instead`'),navigator.usb&&r.instance.setAttribute("allow","usb"),r.origin=(0,a.getOrigin)(r.instance.src),r.timeout=window.setTimeout((()=>{r.initPromise.reject(o.TypedError("Init_IframeTimeout"))}),1e4);const l=()=>{var t,n;if(!r.instance)return void r.initPromise.reject(o.TypedError("Init_IframeBlocked"));try{const e=null===(t=r.instance.contentWindow)||void 0===t?void 0:t.location.origin;if(!e||"null"===e)return window.clearTimeout(r.timeout),r.error=o.TypedError("Init_IframeBlocked"),(0,r.dispose)(),void r.initPromise.reject(r.error)}catch(e){}let i;"undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect&&(chrome.runtime.onConnect.addListener((()=>{})),i=chrome.runtime.id),null===(n=r.instance.contentWindow)||void 0===n||n.postMessage({type:s.IFRAME.INIT,payload:{settings:e,extension:i}},r.origin),r.instance.onload=null};r.instance.attachEvent?r.instance.attachEvent("onload",l):r.instance.onload=l,document.body&&(document.body.appendChild(r.instance),(()=>{if(!r.instance)throw o.TypedError("Init_IframeBlocked");const e=r.instance.ownerDocument,t=e.head||e.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id","TrezorConnectStylesheet"),n.styleSheet?(n.styleSheet.cssText=c.default,t.appendChild(n)):(n.appendChild(document.createTextNode(c.default)),t.append(n))})());try{await r.initPromise.promise}catch(e){throw r.instance&&(r.instance.parentNode&&r.instance.parentNode.removeChild(r.instance),r.instance=null),e}finally{window.clearTimeout(r.timeout),r.timeout=0}};r.postMessage=e=>{var t;if(!r.instance)throw o.TypedError("Init_IframeBlocked");null===(t=r.instance.contentWindow)||void 0===t||t.postMessage(e,r.origin)};r.clearTimeout=()=>{window.clearTimeout(r.timeout)};r.initIframeLogger=()=>{(0,l.setLogWriter)((()=>({add:e=>{(0,r.postMessage)({type:s.IFRAME.LOG,payload:e})}})))}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/index.js"}],[2194,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});r.default='.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */'}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/iframe/inlineStyles.js"}],[2195,{"./connectSettings":2192,"./iframe":2193,"./popup":2196,"./webusb/button":2198,"@trezor/connect/lib/constants/errors":2200,"@trezor/connect/lib/data/config":2204,"@trezor/connect/lib/events":2212,"@trezor/connect/lib/exports":2219,"@trezor/connect/lib/factory":2220,"@trezor/connect/lib/utils/debug":2239,"@trezor/utils/lib/createDeferredManager":2252,events:2936,tslib:4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("tslib"),i=n.__importDefault(e("events")),o=n.__importStar(e("@trezor/connect/lib/constants/errors")),s=e("@trezor/connect/lib/events"),a=e("@trezor/connect/lib/factory"),l=e("@trezor/connect/lib/utils/debug"),c=e("@trezor/connect/lib/data/config"),u=e("@trezor/utils/lib/createDeferredManager"),d=n.__importStar(e("./iframe")),p=n.__importStar(e("./popup")),h=n.__importDefault(e("./webusb/button")),f=e("./connectSettings"),m=new i.default,y=(0,l.initLog)("@trezor/connect-web");let g,v=(0,f.parseConnectSettings)();const b=(0,u.createDeferredManager)({initialId:1}),T=()=>{const e=new p.PopupManager(v);return e.on(s.POPUP.CLOSED,(e=>{d.postMessage({type:s.POPUP.CLOSED,payload:e?{error:e}:null})})),e},w=()=>(m.removeAllListeners(),d.dispose(),v=(0,f.parseConnectSettings)(),g&&g.close(),Promise.resolve(undefined)),_=e=>{if(e.origin!==d.origin)return;const t=(0,s.parseMessage)(e.data);switch(y.log("handleMessage",t),t.event){case s.RESPONSE_EVENT:{const{id:e=0,success:r,payload:n}=t;b.resolve(e,{id:e,success:r,payload:n})||y.warn(`Unknown message id ${e}`);break}case s.DEVICE_EVENT:case s.TRANSPORT_EVENT:case s.BLOCKCHAIN_EVENT:m.emit(t.event,t),m.emit(t.type,t.payload);break;case s.UI_EVENT:if(t.type===s.IFRAME.BOOTSTRAP){d.clearTimeout();break}t.type===s.IFRAME.LOADED&&d.initPromise.resolve(),t.type===s.IFRAME.ERROR&&d.initPromise.reject(t.payload.error),m.emit(t.event,t),m.emit(t.type,t.payload);break;default:y.log("Undefined message",e.data)}},S=async(e={})=>{var t;if(d.instance)throw o.TypedError("Init_AlreadyInitialized");if(v=(0,f.parseConnectSettings)(Object.assign(Object.assign({},v),e)),!v.manifest)throw o.TypedError("Init_ManifestMissing");(null===(t=v.transports)||void 0===t?void 0:t.length)||(v.transports=["BridgeTransport","WebUsbTransport"]),v.lazyLoad?v.lazyLoad=!1:(g||(g=T()),y.enabled=!!v.debug,window.addEventListener("message",_),window.addEventListener("unload",w),await d.init(v),!1!==v.sharedLogger&&d.initIframeLogger())},E=async e=>{if(!d.instance&&!d.timeout){if(v=(0,f.parseConnectSettings)(v),!v.manifest)return(0,s.createErrorMessage)(o.TypedError("Init_ManifestMissing"));g||(g=T()),g.request();try{await S(v)}catch(e){return g&&(["Init_IframeBlocked","Init_IframeTimeout"].includes(e.code)?g.postMessage((0,s.createUiMessage)(s.UI.IFRAME_FAILURE)):g.clear()),(0,s.createErrorMessage)(e)}}if(d.timeout)return(0,s.createErrorMessage)(o.TypedError("Init_ManifestMissing"));if(d.error)return(0,s.createErrorMessage)(d.error);v.popup&&g&&g.request();try{const{promiseId:t,promise:r}=b.create();d.postMessage({id:t,type:s.IFRAME.CALL,payload:e});const n=await r;return n?(!n.success&&"Device_CallInProgress"!==n.payload.code&&g&&g.unlock(),n):(g&&g.unlock(),(0,s.createErrorMessage)(o.TypedError("Method_NoResponse")))}catch(e){return y.error("__call error",e),g&&g.clear(),(0,s.createErrorMessage)(e)}},k=(0,a.factory)({eventEmitter:m,manifest:e=>{v=(0,f.parseConnectSettings)(Object.assign(Object.assign({},v),{manifest:e}))},init:S,call:E,requestLogin:async e=>{if("function"==typeof e.callback){const{callback:t}=e,r=async e=>{const{data:r}=e;if(r&&r.type===s.UI.LOGIN_CHALLENGE_REQUEST)try{const e=await t();d.postMessage({type:s.UI.LOGIN_CHALLENGE_RESPONSE,payload:e})}catch(e){d.postMessage({type:s.UI.LOGIN_CHALLENGE_RESPONSE,payload:e.message})}};window.addEventListener("message",r,!1);const n=await E(Object.assign(Object.assign({method:"requestLogin"},e),{asyncChallenge:!0,callback:null}));return window.removeEventListener("message",r),n}return E(Object.assign({method:"requestLogin"},e))},uiResponse:e=>{if(!d.instance)throw o.TypedError("Init_NotInitialized");d.postMessage(e)},renderWebUSBButton:e=>{(0,h.default)(e,v.webusbSrc)},disableWebUSB:()=>{if(!d.instance)throw o.TypedError("Init_NotInitialized");d.postMessage({type:s.TRANSPORT.DISABLE_WEBUSB})},requestWebUSBDevice:async()=>{try{await window.navigator.usb.requestDevice({filters:c.config.webusb}),d.postMessage({type:s.TRANSPORT.REQUEST_DEVICE})}catch(e){}},cancel:e=>{g&&g.emit(s.POPUP.CLOSED,e)},dispose:w});r.default=k,n.__exportStar(e("@trezor/connect/lib/exports"),r)}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/index.js"}],[2196,{"./showPopupRequest":2197,"@trezor/connect/lib/events":2212,"@trezor/connect/lib/utils/urlUtils":2240,"@trezor/utils/lib/createDeferred":2251,events:2936,tslib:4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupManager=void 0;const n=e("tslib").__importDefault(e("events")),i=e("@trezor/utils/lib/createDeferred"),o=e("@trezor/connect/lib/events"),s=e("@trezor/connect/lib/utils/urlUtils"),a=e("./showPopupRequest");class l extends n.default{constructor(e){super(),this.locked=!1,this.requestTimeout=0,this.closeInterval=0,this.extensionTabId=0,this.settings=e,this.origin=(0,s.getOrigin)(e.popupSrc),this.handleMessage=this.handleMessage.bind(this),this.iframeHandshake=(0,i.createDeferred)(o.IFRAME.LOADED),"webextension"===this.settings.env&&(this.handleExtensionConnect=this.handleExtensionConnect.bind(this),this.handleExtensionMessage=this.handleExtensionMessage.bind(this),chrome.runtime.onConnect.addListener(this.handleExtensionConnect)),window.addEventListener("message",this.handleMessage,!1)}request(){if(this.locked)return void(this.popupWindow&&("webextension"===this.settings.env?chrome.tabs.update(this.popupWindow.id,{active:!0}):this.popupWindow.focus()));this.popupWindow&&!this.locked&&this.close();const e=this.open.bind(this);this.locked=!0;const t="webextension"===this.settings.env?1:850;this.requestTimeout=window.setTimeout((()=>{this.requestTimeout=0,e()}),t)}unlock(){this.locked=!1}open(){const e=this.settings.popupSrc;this.popupPromise=(0,i.createDeferred)(o.POPUP.LOADED),this.openWrapper(e),this.closeInterval=window.setInterval((()=>{this.popupWindow&&("webextension"===this.settings.env?chrome.tabs.get(this.popupWindow.id,(e=>{e||(this.emit(o.POPUP.CLOSED),this.clear())})):this.popupWindow.closed&&(this.clear(),this.emit(o.POPUP.CLOSED)))}),500),this.openTimeout=setTimeout((()=>{this.clear(),(0,a.showPopupRequest)(this.open.bind(this),(()=>{this.emit(o.POPUP.CLOSED)}))}),3e3)}openWrapper(e){"webextension"===this.settings.env?chrome.windows.getCurrent((t=>{"normal"!==t.type?chrome.windows.create({url:e},(e=>{chrome.tabs.query({windowId:null==e?void 0:e.id,active:!0},(e=>{this.popupWindow=e[0]}))})):chrome.tabs.query({currentWindow:!0,active:!0},(t=>{this.extensionTabId=t[0].id,chrome.tabs.create({url:e,index:t[0].index+1},(e=>{this.popupWindow=e}))}))})):"electron"===this.settings.env?this.popupWindow=window.open(e,"modal"):(this.popupWindow=window.open("","_blank"),this.popupWindow&&(this.popupWindow.location.href=e))}handleExtensionConnect(e){var t,r;"trezor-connect"===e.name&&(!this.popupWindow||this.popupWindow&&this.popupWindow.id!==(null===(r=null===(t=e.sender)||void 0===t?void 0:t.tab)||void 0===r?void 0:r.id)||(this.openTimeout&&clearTimeout(this.openTimeout),this.extensionPort=e,this.extensionPort.onMessage.addListener(this.handleExtensionMessage)))}handleExtensionMessage(e){if(!this.extensionPort)return;const t=this.extensionPort,{data:r}=e;if(r&&"object"==typeof r)if(r.type===o.POPUP.ERROR){const e=r.payload&&"string"==typeof r.payload.error?r.payload.error:null;this.emit(o.POPUP.CLOSED,e?`Popup error: ${e}`:null),this.clear()}else r.type===o.POPUP.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then((e=>{t.postMessage({type:o.POPUP.INIT,payload:Object.assign(Object.assign({},e),{settings:this.settings})})}))):r.type===o.POPUP.EXTENSION_USB_PERMISSIONS?chrome.tabs.query({currentWindow:!0,active:!0},(e=>{chrome.tabs.create({url:"trezor-usb-permissions.html",index:e[0].index+1},(e=>{}))})):r.type===o.POPUP.CLOSE_WINDOW&&this.clear()}handleMessage(e){const{data:t}=e;if((0,s.getOrigin)(e.origin)===this.origin&&t&&"object"==typeof t)if(t.type===o.IFRAME.LOADED)this.iframeHandshake.resolve(t.payload);else if(t.type===o.POPUP.BOOTSTRAP)this.openTimeout&&clearTimeout(this.openTimeout);else if(t.type===o.POPUP.ERROR&&this.popupWindow){const e=t.payload&&"string"==typeof t.payload.error?t.payload.error:null;this.emit(o.POPUP.CLOSED,e?`Popup error: ${e}`:null),this.clear()}else t.type===o.POPUP.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then((e=>{this.popupWindow.postMessage({type:o.POPUP.INIT,payload:Object.assign(Object.assign({},e),{settings:this.settings})},this.origin)}))):t.type!==o.POPUP.CANCEL_POPUP_REQUEST&&t.type!==o.UI.CLOSE_UI_WINDOW||this.clear(!1)}clear(e=!0){this.locked=!1,this.popupPromise=undefined,this.requestTimeout&&(window.clearTimeout(this.requestTimeout),this.requestTimeout=0),this.openTimeout&&(clearTimeout(this.openTimeout),this.openTimeout=undefined),this.closeInterval&&(window.clearInterval(this.closeInterval),this.closeInterval=0),this.extensionPort&&(this.extensionPort.disconnect(),this.extensionPort=undefined),e&&this.extensionTabId&&(chrome.tabs.update(this.extensionTabId,{active:!0}),this.extensionTabId=0)}close(){if(this.popupWindow)if("webextension"!==this.settings.env)this.popupWindow.close(),this.popupWindow=null;else{let e=chrome.runtime.lastError;chrome.tabs.remove(this.popupWindow.id,(()=>{e=chrome.runtime.lastError}))}}async postMessage(e){if(!this.popupWindow&&e.type!==o.UI.REQUEST_UI_WINDOW&&this.openTimeout)return this.clear(),void(0,a.showPopupRequest)(this.open.bind(this),(()=>{this.emit(o.POPUP.CLOSED)}));this.popupPromise&&await this.popupPromise.promise,this.popupWindow&&this.popupWindow.postMessage(e,this.origin)}}r.PopupManager=l}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/popup/index.js"}],[2197,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.showPopupRequest=void 0;const n="TrezorConnectInteractionLayer",i=`\n    <div class="trezorconnect-container" id="${n}">\n        <div class="trezorconnect-window">\n            <div class="trezorconnect-head">\n                <svg class="trezorconnect-logo" x="0px" y="0px" viewBox="0 0 163.7 41.9" width="78px" height="20px" preserveAspectRatio="xMinYMin meet">\n                    <polygon points="101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1"/>\n                    <path d="M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z"/>\n                    <path d="M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z"/>\n                    <polygon points="82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 "/>\n                    <path d="M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z"/>\n                    <path d="M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z"/>\n                    <polygon points="40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 "/>\n                </svg>\n                <div class="trezorconnect-close">\n                    <svg x="0px" y="0px" viewBox="24 24 60 60" width="24px" height="24px" preserveAspectRatio="xMinYMin meet">\n                        <polygon class="st0" points="40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 "/>\n                    </svg>\n                </div>\n            </div>\n            <div class="trezorconnect-body">\n                <h3>Popup was blocked</h3>\n                <p>Please click to "Continue" to open popup manually</p>\n                <button class="trezorconnect-open">Continue</button>\n            </div>\n        </div>\n    </div>\n`;r.showPopupRequest=(e,t)=>{if(document.getElementById(n))return;const r=document.createElement("div");r.id=n,r.className="trezorconnect-container",r.innerHTML=i,document.body&&document.body.appendChild(r);r.getElementsByClassName("trezorconnect-open")[0].onclick=()=>{e(),document.body&&document.body.removeChild(r)};r.getElementsByClassName("trezorconnect-close")[0].onclick=()=>{t(),document.body&&document.body.removeChild(r)}}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/popup/showPopupRequest.js"}],[2198,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});r.default=(e="",t)=>{const r=e||".trezor-webusb-button",n=document.querySelectorAll(r),i=`${t}?${Date.now()}`;n.forEach((e=>{if(e.getElementsByTagName("iframe").length<1){const t=e.getBoundingClientRect(),r=document.createElement("iframe");r.frameBorder="0",r.width=`${Math.round(t.width)}px`,r.height=`${Math.round(t.height)}px`,r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.zIndex="1",r.setAttribute("allow","usb"),r.setAttribute("scrolling","no"),r.src=i,e.append(r)}}))}}}},{package:"@trezor/connect-web",file:"node_modules/@trezor/connect-web/lib/webusb/button.js"}],[2199,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i;Object.defineProperty(r,"__esModule",{value:!0}),r.NETWORK_IDS=r.PROTOCOL_MAGICS=void 0,function(e){e[e.mainnet=764824073]="mainnet",e[e.testnet_preprod=1]="testnet_preprod",e[e.testnet_preview=2]="testnet_preview",e[e.testnet_legacy=1097911063]="testnet_legacy"}(n||(r.PROTOCOL_MAGICS=n={})),function(e){e[e.mainnet=1]="mainnet",e[e.testnet=0]="testnet"}(i||(r.NETWORK_IDS=i={}))}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/cardano.js"}],[22,{"../../../../shared/constants/permissions":4134,reselect:3884},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPermittedAccountsByOrigin=r.getChangedAccounts=void 0;var n=e("reselect"),i=e("../../../../shared/constants/permissions");r.getPermittedAccountsByOrigin=(0,n.createSelector)((e=>e.subjects),(e=>Object.values(e).reduce(((e,t)=>{var r;const n=((null===(r=t.permissions)||void 0===r||null===(r=r.eth_accounts)||void 0===r?void 0:r.caveats)||[]).find((({type:e})=>e===i.CaveatTypes.restrictReturnedAccounts));return n&&e.set(t.origin,n.value),e}),new Map)));r.getChangedAccounts=(e,t)=>{if(t===undefined)return e;const r=new Map;if(e===t)return r;const n=new Set([...e.keys()]);for(const i of t.keys()){const o=e.get(i)??[];t.get(i)!==o&&r.set(i,o),n.delete(i)}for(const t of n.keys())r.set(t,e.get(t));return r}}}},{package:"$root$",file:"app/scripts/controllers/permissions/selectors.js"}],[2200,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LIBUSB_ERROR_MESSAGE=r.serializeError=r.TypedError=r.TrezorError=r.ERROR_CODES=void 0,r.ERROR_CODES={Init_NotInitialized:"TrezorConnect not initialized",Init_AlreadyInitialized:"TrezorConnect has been already initialized",Init_IframeBlocked:"Iframe blocked",Init_IframeTimeout:"Iframe timeout",Init_ManifestMissing:"Manifest not set. Read more at https://github.com/trezor/trezor-suite/blob/develop/docs/packages/connect/index.md",Popup_ConnectionMissing:"Unable to establish connection with iframe",Transport_Missing:"Transport is missing",Transport_InvalidProtobuf:"",Method_InvalidPackage:"This package is not suitable to work with browser. Use @trezor/connect-web package instead",Method_InvalidParameter:"",Method_NotAllowed:"Method not allowed for this configuration",Method_PermissionsNotGranted:"Permissions not granted",Method_Cancel:"Cancelled",Method_Interrupted:"Popup closed",Method_UnknownCoin:"Coin not found",Method_AddressNotMatch:"Addresses do not match",Method_FirmwareUpdate_DownloadFailed:"Failed to download firmware binary",Method_Discovery_BundleException:"",Method_Override:"override",Method_NoResponse:"Call resolved without response",Backend_NotSupported:"BlockchainLink settings not found in coins.json",Backend_WorkerMissing:"",Backend_Disconnected:"Backend disconnected",Backend_Invalid:"Invalid backend",Backend_Error:"",Runtime:"",Device_NotFound:"Device not found",Device_InitializeFailed:"",Device_FwException:"",Device_ModeException:"",Device_Disconnected:"Device disconnected",Device_UsedElsewhere:"Device is used in another window",Device_InvalidState:"Passphrase is incorrect",Device_CallInProgress:"Device call in progress"};class n extends Error{constructor(e,t){super(t),this.code=e,this.message=t}}r.TrezorError=n;r.TypedError=(e,t)=>new n(e,t||r.ERROR_CODES[e]);r.serializeError=e=>e&&e.error instanceof Error?{error:e.error.message,code:e.error.code}:e,r.LIBUSB_ERROR_MESSAGE="LIBUSB_ERROR"}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/errors.js"}],[2201,{"./cardano":2199,"./errors":2200,"./nem":2202,"./network":2203,"@trezor/protobuf/lib/messages-schema":2241,tslib:4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PROTO=r.NEM=r.CARDANO=r.NETWORK=r.ERRORS=void 0;const n=e("tslib");r.ERRORS=n.__importStar(e("./errors")),r.NETWORK=n.__importStar(e("./network")),r.CARDANO=n.__importStar(e("./cardano")),r.NEM=n.__importStar(e("./nem")),r.PROTO=n.__importStar(e("@trezor/protobuf/lib/messages-schema"))}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/index.js"}],[2202,{"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EnumTxVersion=r.TxVersion=r.EnumTxType=r.TxType=r.EnumNetworks=r.Networks=void 0;const n=e("@trezor/schema-utils");var i,o,s;!function(e){e[e.mainnet=104]="mainnet",e[e.testnet=152]="testnet",e[e.mijin=96]="mijin"}(i||(r.Networks=i={})),r.EnumNetworks=n.Type.Enum(i),function(e){e[e.TRANSFER=257]="TRANSFER",e[e.COSIGNING=258]="COSIGNING",e[e.IMPORTANCE_TRANSFER=2049]="IMPORTANCE_TRANSFER",e[e.AGGREGATE_MODIFICATION=4097]="AGGREGATE_MODIFICATION",e[e.MULTISIG_SIGNATURE=4098]="MULTISIG_SIGNATURE",e[e.MULTISIG=4100]="MULTISIG",e[e.PROVISION_NAMESPACE=8193]="PROVISION_NAMESPACE",e[e.MOSAIC_CREATION=16385]="MOSAIC_CREATION",e[e.SUPPLY_CHANGE=16386]="SUPPLY_CHANGE"}(o||(r.TxType=o={})),r.EnumTxType=n.Type.Enum(o),function(e){e[e.mainnet=1744830464]="mainnet",e[e.testnet=-1744830464]="testnet",e[e.mijin=1610612736]="mijin"}(s||(r.TxVersion=s={})),r.EnumTxVersion=n.Type.Enum(s)}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/nem.js"}],[2203,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MODULES=r.TYPES=void 0,r.TYPES={bitcoin:"Bitcoin",ethereum:"Ethereum",eos:"Eos",nem:"NEM",stellar:"Stellar",cardano:"Cardano",ripple:"Ripple",tezos:"Tezos",binance:"Binance",solana:"Solana"},r.MODULES=["binance","cardano","eos","ethereum","nem","ripple","solana","stellar","tezos"]}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/constants/network.js"}],[2204,{"@trezor/transport/lib/constants":2250},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.config=void 0;const n=e("@trezor/transport/lib/constants");r.config={webusb:n.TREZOR_USB_DESCRIPTORS,whitelist:[{origin:"chrome-extension://imloifkgjagghnncjkhggdhalmcnfklk",priority:1},{origin:"chrome-extension://niebkpllfhmpfbffbfifagfgoamhpflf",priority:1},{origin:"file://",priority:2},{origin:"trezor.io",priority:0},{origin:"sldev.cz",priority:0},{origin:"localhost",priority:0},{origin:"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion",priority:0}],management:[{origin:"trezor.io"},{origin:"sldev.cz"},{origin:"localhost"}],knownHosts:[{origin:"imloifkgjagghnncjkhggdhalmcnfklk",label:"Trezor Password Manager (Develop)",icon:""},{origin:"niebkpllfhmpfbffbfifagfgoamhpflf",label:"Trezor Password Manager",icon:""},{origin:"mnpfhpndmjholfdlhpkjfmjkgppmodaf",label:"MetaMask",icon:""},{origin:"webextension@metamask.io",label:"MetaMask",icon:""},{origin:"nkbihfbeogaeaoehlefnkodbefgpgknn",label:"MetaMask",icon:""},{origin:"file://",label:" ",icon:""}],onionDomains:{"trezor.io":"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion"},assets:[{name:"coins",url:"./data/coins.json"},{name:"coinsEth",url:"./data/coins-eth.json"},{name:"bridge",url:"./data/bridge/releases.json"},{name:"firmware-t1b1",url:"./data/firmware/t1b1/releases.json"},{name:"firmware-t2t1",url:"./data/firmware/t2t1/releases.json"},{name:"firmware-t2b1",url:"./data/firmware/t2b1/releases.json"}],messages:"./data/messages/messages.json",supportedBrowsers:{chrome:{version:59,download:"https://www.google.com/chrome/",update:"https://support.google.com/chrome/answer/95414"},chromium:{version:59,download:"https://www.chromium.org/",update:"https://www.chromium.org/"},electron:{version:0,download:"https://www.electronjs.org/",update:"https://www.electronjs.org/"},firefox:{version:54,download:"https://www.mozilla.org/en-US/firefox/new/",update:"https://support.mozilla.org/en-US/kb/update-firefox-latest-version"}},supportedFirmware:[{coin:["xrp","txrp"],methods:["getAccountInfo"],min:{T1B1:"0",T2T1:"2.1.0"},max:undefined,comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{coin:["bnb"],min:{T1B1:"1.9.0",T2T1:"2.3.0"},comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{coin:["eth","tsep","tgor","thol"],min:{T1B1:"1.8.0",T2T1:"2.1.0"},comment:["There were protobuf backwards incompatible changes."]},{coin:["ada","tada"],min:{T1B1:"0",T2T1:"2.4.3"},comment:["Since 2.4.3 there is initialize.derive_cardano message"]},{methods:["rippleGetAddress","rippleSignTransaction"],min:{T1B1:"0",T2T1:"2.1.0"},comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{methods:["cardanoGetAddress","cardanoGetPublicKey"],min:{T1B1:"0",T2T1:"2.3.2"},comment:["Shelley fork support since firmware 2.3.2"]},{methods:["cardanoSignTransaction"],min:{T1B1:"0",T2T1:"2.4.2"},comment:["Non-streamed signing no longer supported"]},{methods:["cardanoGetNativeScriptHash"],min:{T1B1:"0",T2T1:"2.4.3"},comment:["Cardano GetNativeScriptHash call added in 2.4.3"]},{methods:["tezosSignTransaction"],min:{T1B1:"0",T2T1:"2.1.8"},comment:["Since 2.1.8 there are new protobuf fields in tezos transaction (Babylon fork)"]},{methods:["stellarSignTransaction"],min:{T1B1:"1.9.0",T2T1:"2.3.0"},comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{capabilities:["replaceTransaction","amountUnit"],min:{T1B1:"1.9.4",T2T1:"2.3.5"},comment:["new sign tx process since 1.9.4/2.3.5"]},{capabilities:["decreaseOutput"],min:{T1B1:"1.10.0",T2T1:"2.4.0"},comment:["allow reduce output in RBF transaction since 1.10.0/2.4.0"]},{capabilities:["eip1559"],min:{T1B1:"1.10.4",T2T1:"2.4.2"},comment:["new eth transaction pricing mechanism (EIP1559) since 1.10.4/2.4.2"]},{capabilities:["taproot","signMessageNoScriptType"],min:{T1B1:"1.10.4",T2T1:"2.4.3"},comment:["new btc accounts taproot since 1.10.4/2.4.3 (BTC + TEST only)","SignMessage with no_script_type support"]},{coin:["dcr","tdcr"],methods:["signTransaction"],min:{T1B1:"1.10.1",T2T1:"2.4.0"},comment:[""]},{methods:["ethereumSignTypedData"],min:{T1B1:"1.10.5",T2T1:"2.4.3"},comment:["EIP-712 typed signing support added in 1.10.5/2.4.3"]},{capabilities:["eip712-domain-only"],min:{T1B1:"1.10.6",T2T1:"2.4.4"},comment:["EIP-712 domain-only signing, when primaryType=EIP712Domain"]},{capabilities:["coinjoin"],methods:["authorizeCoinjoin","cancelCoinjoinAuthorization","getOwnershipId","getOwnershipProof","setBusy","unlockPath"],min:{T1B1:"1.12.1",T2T1:"2.5.3"}},{methods:["showDeviceTutorial","authenticateDevice"],min:{T1B1:"0",T2T1:"0",T2B1:"2.6.1"},comment:["Only on T2B1"]},{methods:["rebootToBootloader"],min:{T1B1:"1.11.0",T2T1:"2.6.0"}},{methods:["getFirmwareHash"],min:{T1B1:"1.11.1",T2T1:"2.5.1"}},{methods:["solanaGetPublicKey","solanaGetAddress","solanaSignTransaction"],min:{T1B1:"0",T2T1:"2.6.4",T2B1:"2.6.4"}},{capabilities:["chunkify"],min:{T1B1:"0",T2T1:"2.6.3",T2B1:"2.6.3"},comment:["Since firmware 2.6.3 there is a new protobuf field 'chunkify' in almost all getAddress and signTx methods"]}]}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/config.js"}],[2205,{"./version":2206},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseConnectSettings=r.corsValidator=r.DEFAULT_PRIORITY=void 0;const n=e("./version");r.DEFAULT_PRIORITY=2;const i={configSrc:"./data/config.json",version:n.VERSION,debug:!1,priority:r.DEFAULT_PRIORITY,trustedHost:!0,connectSrc:n.DEFAULT_DOMAIN,iframeSrc:`${n.DEFAULT_DOMAIN}iframe.html`,popup:!1,popupSrc:`${n.DEFAULT_DOMAIN}popup.html`,webusbSrc:`${n.DEFAULT_DOMAIN}webusb.html`,transports:undefined,pendingTransportEvent:!0,env:"node",lazyLoad:!1,timestamp:(new Date).getTime(),interactionTimeout:600,sharedLogger:!0};r.corsValidator=e=>{if("string"==typeof e)return e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*trezor\.io\//)||e.match(/^https?:\/\/localhost:[58][0-9]{3}\//)||e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*sldev\.cz\//)||e.match(/^https?:\/\/([A-Za-z0-9\-_]+\.)*trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad\.onion\//)?e:void 0};r.parseConnectSettings=(e={})=>{var t;const o={...i};"debug"in e&&("boolean"==typeof e.debug?o.debug=e.debug:"string"==typeof e.debug&&(o.debug="true"===e.debug)),!1===e.trustedHost&&(o.trustedHost=e.trustedHost),"string"==typeof e.connectSrc&&(null===(t=e.connectSrc)||void 0===t?void 0:t.startsWith("http"))?o.connectSrc=(0,r.corsValidator)(e.connectSrc):o.trustedHost&&(o.connectSrc=e.connectSrc);const s=o.connectSrc||n.DEFAULT_DOMAIN;return o.iframeSrc=`${s}iframe.html`,o.popupSrc=`${s}popup.html`,o.webusbSrc=`${s}webusb.html`,"boolean"==typeof e.transportReconnect&&(o.transportReconnect=e.transportReconnect),"boolean"==typeof e.webusb&&(o.webusb=e.webusb),Array.isArray(e.transports)&&(o.transports=e.transports),"boolean"==typeof e.popup&&(o.popup=e.popup),"boolean"==typeof e.lazyLoad&&(o.lazyLoad=e.lazyLoad),"boolean"==typeof e.pendingTransportEvent&&(o.pendingTransportEvent=e.pendingTransportEvent),"string"==typeof e.extension&&(o.extension=e.extension),"string"==typeof e.env&&(o.env=e.env),"number"==typeof e.timestamp&&(o.timestamp=e.timestamp),"number"==typeof e.interactionTimeout&&(o.interactionTimeout=e.interactionTimeout),"object"==typeof e.manifest&&(o.manifest=(e=>{if(e&&"string"==typeof e.email&&"string"==typeof e.appUrl)return{email:e.email,appUrl:e.appUrl}})(e.manifest)),"boolean"==typeof e.sharedLogger&&(o.sharedLogger=e.sharedLogger),o}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/connectSettings.js"}],[2206,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_DOMAIN=r.VERSION=void 0,r.VERSION="9.1.12";const n=r.VERSION.split(".").map((e=>parseInt(e,10)));r.DEFAULT_DOMAIN=`https://connect.trezor.io/${n[0]}/`}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/data/version.js"}],[2207,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockchainMessage=r.BLOCKCHAIN=r.BLOCKCHAIN_EVENT=void 0,r.BLOCKCHAIN_EVENT="BLOCKCHAIN_EVENT",r.BLOCKCHAIN={CONNECT:"blockchain-connect",ERROR:"blockchain-error",BLOCK:"blockchain-block",NOTIFICATION:"blockchain-notification",FIAT_RATES_UPDATE:"fiat-rates-update"};r.createBlockchainMessage=(e,t)=>({event:r.BLOCKCHAIN_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/blockchain.js"}],[2208,{"../constants/errors":2200},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createResponseMessage=r.RESPONSE_EVENT=void 0;const n=e("../constants/errors");r.RESPONSE_EVENT="RESPONSE_EVENT";r.createResponseMessage=(e,t,i)=>({event:r.RESPONSE_EVENT,type:r.RESPONSE_EVENT,id:e,success:t,payload:t?i:(0,n.serializeError)(i)})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/call.js"}],[2209,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createErrorMessage=r.parseMessage=r.CORE_EVENT=void 0,r.CORE_EVENT="CORE_EVENT";r.parseMessage=e=>{const t={event:e.event,type:e.type,payload:e.payload};return"number"==typeof e.id&&(t.id=e.id),"boolean"==typeof e.success&&(t.success=e.success),t};r.createErrorMessage=e=>({success:!1,payload:{error:e.message,code:e.code}})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/core.js"}],[2210,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeviceMessage=r.DEVICE=r.DEVICE_EVENT=void 0,r.DEVICE_EVENT="DEVICE_EVENT",r.DEVICE={CONNECT:"device-connect",CONNECT_UNACQUIRED:"device-connect_unacquired",DISCONNECT:"device-disconnect",CHANGED:"device-changed",ACQUIRE:"device-acquire",RELEASE:"device-release",ACQUIRED:"device-acquired",RELEASED:"device-released",USED_ELSEWHERE:"device-used_elsewhere",LOADING:"device-loading",BUTTON:"button",PIN:"pin",PASSPHRASE:"passphrase",PASSPHRASE_ON_DEVICE:"passphrase_on_device",WORD:"word"};r.createDeviceMessage=(e,t)=>({event:r.DEVICE_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/device.js"}],[2211,{"./ui-request":2216},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIFrameMessage=r.IFRAME=void 0;const n=e("./ui-request");r.IFRAME={BOOTSTRAP:"iframe-bootstrap",LOADED:"iframe-loaded",INIT:"iframe-init",ERROR:"iframe-error",CALL:"iframe-call",LOG:"iframe-log"};r.createIFrameMessage=(e,t)=>({event:n.UI_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/iframe.js"}],[2212,{"./blockchain":2207,"./call":2208,"./core":2209,"./device":2210,"./iframe":2211,"./popup":2213,"./transport":2214,"./ui-promise":2215,"./ui-request":2216,"./ui-response":2217,"./webextension":2218,tslib:4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.UI=void 0;const n=e("tslib"),i=e("./ui-request"),o=e("./ui-response");n.__exportStar(e("./blockchain"),r),n.__exportStar(e("./call"),r),n.__exportStar(e("./core"),r),n.__exportStar(e("./device"),r),n.__exportStar(e("./iframe"),r),n.__exportStar(e("./popup"),r),n.__exportStar(e("./transport"),r),n.__exportStar(e("./ui-promise"),r),n.__exportStar(e("./ui-request"),r),n.__exportStar(e("./ui-response"),r),n.__exportStar(e("./webextension"),r),r.UI={...i.UI_REQUEST,...o.UI_RESPONSE}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/index.js"}],[2213,{"./ui-request":2216},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPopupMessage=r.POPUP=void 0;const n=e("./ui-request");r.POPUP={BOOTSTRAP:"popup-bootstrap",LOADED:"popup-loaded",CORE_LOADED:"popup-core-loaded",INIT:"popup-init",ERROR:"popup-error",EXTENSION_USB_PERMISSIONS:"open-usb-permissions",HANDSHAKE:"popup-handshake",CLOSED:"popup-closed",CANCEL_POPUP_REQUEST:"ui-cancel-popup-request",CLOSE_WINDOW:"window.close",ANALYTICS_RESPONSE:"popup-analytics-response",CONTENT_SCRIPT_LOADED:"popup-content-script-loaded",METHOD_INFO:"popup-method-info"};r.createPopupMessage=(e,t)=>({event:n.UI_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/popup.js"}],[2214,{"../constants/errors":2200,"@trezor/transport/lib/constants":2250},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTransportMessage=r.TRANSPORT_EVENT=r.TRANSPORT=void 0;const n=e("../constants/errors");var i=e("@trezor/transport/lib/constants");Object.defineProperty(r,"TRANSPORT",{enumerable:!0,get:function(){return i.TRANSPORT}}),r.TRANSPORT_EVENT="TRANSPORT_EVENT";r.createTransportMessage=(e,t)=>({event:r.TRANSPORT_EVENT,type:e,payload:"error"in t?(0,n.serializeError)(t):t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/transport.js"}],[2215,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-promise.js"}],[2216,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUiMessage=r.UI_REQUEST=r.UI_EVENT=void 0,r.UI_EVENT="UI_EVENT",r.UI_REQUEST={TRANSPORT:"ui-no_transport",BOOTLOADER:"ui-device_bootloader_mode",NOT_IN_BOOTLOADER:"ui-device_not_in_bootloader_mode",REQUIRE_MODE:"ui-device_require_mode",INITIALIZE:"ui-device_not_initialized",SEEDLESS:"ui-device_seedless",FIRMWARE_OLD:"ui-device_firmware_old",FIRMWARE_OUTDATED:"ui-device_firmware_outdated",FIRMWARE_NOT_SUPPORTED:"ui-device_firmware_unsupported",FIRMWARE_NOT_COMPATIBLE:"ui-device_firmware_not_compatible",FIRMWARE_NOT_INSTALLED:"ui-device_firmware_not_installed",FIRMWARE_PROGRESS:"ui-firmware-progress",DEVICE_NEEDS_BACKUP:"ui-device_needs_backup",REQUEST_UI_WINDOW:"ui-request_window",CLOSE_UI_WINDOW:"ui-close_window",REQUEST_PERMISSION:"ui-request_permission",REQUEST_CONFIRMATION:"ui-request_confirmation",REQUEST_PIN:"ui-request_pin",INVALID_PIN:"ui-invalid_pin",REQUEST_PASSPHRASE:"ui-request_passphrase",REQUEST_PASSPHRASE_ON_DEVICE:"ui-request_passphrase_on_device",INVALID_PASSPHRASE:"ui-invalid_passphrase",CONNECT:"ui-connect",LOADING:"ui-loading",SET_OPERATION:"ui-set_operation",SELECT_DEVICE:"ui-select_device",SELECT_ACCOUNT:"ui-select_account",SELECT_FEE:"ui-select_fee",UPDATE_CUSTOM_FEE:"ui-update_custom_fee",INSUFFICIENT_FUNDS:"ui-insufficient_funds",REQUEST_BUTTON:"ui-button",REQUEST_WORD:"ui-request_word",LOGIN_CHALLENGE_REQUEST:"ui-login_challenge_request",BUNDLE_PROGRESS:"ui-bundle_progress",ADDRESS_VALIDATION:"ui-address_validation",IFRAME_FAILURE:"ui-iframe_failure"};r.createUiMessage=(e,t)=>({event:r.UI_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-request.js"}],[2217,{"./ui-request":2216},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUiResponse=r.UI_RESPONSE=void 0;const n=e("./ui-request");r.UI_RESPONSE={RECEIVE_PERMISSION:"ui-receive_permission",RECEIVE_CONFIRMATION:"ui-receive_confirmation",RECEIVE_PIN:"ui-receive_pin",RECEIVE_PASSPHRASE:"ui-receive_passphrase",RECEIVE_DEVICE:"ui-receive_device",RECEIVE_ACCOUNT:"ui-receive_account",RECEIVE_FEE:"ui-receive_fee",RECEIVE_WORD:"ui-receive_word",INVALID_PASSPHRASE_ACTION:"ui-invalid_passphrase_action",CHANGE_SETTINGS:"ui-change_settings",LOGIN_CHALLENGE_RESPONSE:"ui-login_challenge_response"};r.createUiResponse=(e,t)=>({event:n.UI_EVENT,type:e,payload:t})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/ui-response.js"}],[2218,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.WEBEXTENSION=void 0,r.WEBEXTENSION={USB_PERMISSIONS_BROADCAST:"usb-permissions",USB_PERMISSIONS_INIT:"usb-permissions-init",USB_PERMISSIONS_CLOSE:"usb-permissions-close",USB_PERMISSIONS_FINISHED:"usb-permissions-finished"}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/events/webextension.js"}],[2219,{"./constants":2201,"./data/connectSettings":2205,"./events":2212,"./types":2236,tslib:4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseConnectSettings=void 0;const n=e("tslib");n.__exportStar(e("./constants"),r),n.__exportStar(e("./events"),r),n.__exportStar(e("./types"),r);var i=e("./data/connectSettings");Object.defineProperty(r,"parseConnectSettings",{enumerable:!0,get:function(){return i.parseConnectSettings}})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/exports.js"}],[2220,{"./events":2212},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.factory=void 0;const n=e("./events");r.factory=({eventEmitter:e,manifest:t,init:r,call:i,requestLogin:o,uiResponse:s,renderWebUSBButton:a,disableWebUSB:l,requestWebUSBDevice:c,cancel:u,dispose:d})=>({manifest:t,init:r,getSettings:()=>i({method:"getSettings"}),on:(t,r)=>{e.on(t,r)},off:(t,r)=>{e.removeListener(t,r)},removeAllListeners:t=>{"string"==typeof t?e.removeAllListeners(t):e.removeAllListeners()},uiResponse:s,blockchainGetAccountBalanceHistory:e=>i({...e,method:"blockchainGetAccountBalanceHistory"}),blockchainGetCurrentFiatRates:e=>i({...e,method:"blockchainGetCurrentFiatRates"}),blockchainGetFiatRatesForTimestamps:e=>i({...e,method:"blockchainGetFiatRatesForTimestamps"}),blockchainDisconnect:e=>i({...e,method:"blockchainDisconnect"}),blockchainEstimateFee:e=>i({...e,method:"blockchainEstimateFee"}),blockchainGetTransactions:e=>i({...e,method:"blockchainGetTransactions"}),blockchainSetCustomBackend:e=>i({...e,method:"blockchainSetCustomBackend"}),blockchainSubscribe:e=>i({...e,method:"blockchainSubscribe"}),blockchainSubscribeFiatRates:e=>i({...e,method:"blockchainSubscribeFiatRates"}),blockchainUnsubscribe:e=>i({...e,method:"blockchainUnsubscribe"}),blockchainUnsubscribeFiatRates:e=>i({...e,method:"blockchainUnsubscribeFiatRates"}),requestLogin:e=>o(e),cardanoGetAddress:t=>i({...t,method:"cardanoGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),cardanoGetNativeScriptHash:e=>i({...e,method:"cardanoGetNativeScriptHash"}),cardanoGetPublicKey:e=>i({...e,method:"cardanoGetPublicKey"}),cardanoSignTransaction:e=>i({...e,method:"cardanoSignTransaction"}),cardanoComposeTransaction:e=>i({...e,method:"cardanoComposeTransaction"}),cipherKeyValue:e=>i({...e,method:"cipherKeyValue"}),composeTransaction:e=>i({...e,method:"composeTransaction"}),ethereumGetAddress:t=>i({...t,method:"ethereumGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),ethereumGetPublicKey:e=>i({...e,method:"ethereumGetPublicKey"}),ethereumSignMessage:e=>i({...e,method:"ethereumSignMessage"}),ethereumSignTransaction:e=>i({...e,method:"ethereumSignTransaction"}),ethereumSignTypedData:e=>i({...e,method:"ethereumSignTypedData"}),ethereumVerifyMessage:e=>i({...e,method:"ethereumVerifyMessage"}),getAccountDescriptor:e=>i({...e,method:"getAccountDescriptor"}),getAccountInfo:e=>i({...e,method:"getAccountInfo"}),getAddress:t=>i({...t,method:"getAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),getDeviceState:e=>i({...e,method:"getDeviceState"}),getFeatures:e=>i({...e,method:"getFeatures"}),getFirmwareHash:e=>i({...e,method:"getFirmwareHash"}),getOwnershipId:e=>i({...e,method:"getOwnershipId"}),getOwnershipProof:e=>i({...e,method:"getOwnershipProof"}),getPublicKey:e=>i({...e,method:"getPublicKey"}),nemGetAddress:t=>i({...t,method:"nemGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),nemSignTransaction:e=>i({...e,method:"nemSignTransaction"}),pushTransaction:e=>i({...e,method:"pushTransaction"}),rippleGetAddress:t=>i({...t,method:"rippleGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),rippleSignTransaction:e=>i({...e,method:"rippleSignTransaction"}),signMessage:e=>i({...e,method:"signMessage"}),signTransaction:e=>i({...e,method:"signTransaction"}),solanaGetPublicKey:e=>i({...e,method:"solanaGetPublicKey"}),solanaGetAddress:e=>i({...e,method:"solanaGetAddress"}),solanaSignTransaction:e=>i({...e,method:"solanaSignTransaction"}),stellarGetAddress:t=>i({...t,method:"stellarGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),stellarSignTransaction:e=>i({...e,method:"stellarSignTransaction"}),tezosGetAddress:t=>i({...t,method:"tezosGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),tezosGetPublicKey:e=>i({...e,method:"tezosGetPublicKey"}),tezosSignTransaction:e=>i({...e,method:"tezosSignTransaction"}),unlockPath:e=>i({...e,method:"unlockPath"}),eosGetPublicKey:e=>i({...e,method:"eosGetPublicKey"}),eosSignTransaction:e=>i({...e,method:"eosSignTransaction"}),binanceGetAddress:t=>i({...t,method:"binanceGetAddress",useEventListener:e.listenerCount(n.UI.ADDRESS_VALIDATION)>0}),binanceGetPublicKey:e=>i({...e,method:"binanceGetPublicKey"}),binanceSignTransaction:e=>i({...e,method:"binanceSignTransaction"}),verifyMessage:e=>i({...e,method:"verifyMessage"}),resetDevice:e=>i({...e,method:"resetDevice"}),wipeDevice:e=>i({...e,method:"wipeDevice"}),checkFirmwareAuthenticity:e=>i({...e,method:"checkFirmwareAuthenticity"}),applyFlags:e=>i({...e,method:"applyFlags"}),applySettings:e=>i({...e,method:"applySettings"}),authenticateDevice:e=>i({...e,method:"authenticateDevice"}),authorizeCoinjoin:e=>i({...e,method:"authorizeCoinjoin"}),cancelCoinjoinAuthorization:e=>i({...e,method:"cancelCoinjoinAuthorization"}),showDeviceTutorial:e=>i({...e,method:"showDeviceTutorial"}),backupDevice:e=>i({...e,method:"backupDevice"}),changePin:e=>i({...e,method:"changePin"}),changeWipeCode:e=>i({...e,method:"changeWipeCode"}),firmwareUpdate:e=>i({...e,method:"firmwareUpdate"}),recoveryDevice:e=>i({...e,method:"recoveryDevice"}),getCoinInfo:e=>i({...e,method:"getCoinInfo"}),rebootToBootloader:e=>i({...e,method:"rebootToBootloader"}),setBusy:e=>i({...e,method:"setBusy"}),setProxy:e=>i({...e,method:"setProxy"}),dispose:d,cancel:u,renderWebUSBButton:a,disableWebUSB:l,requestWebUSBDevice:c})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/factory.js"}],[2221,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/account.js"}],[2222,{"../../../constants":2201,"../../params":2237,"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BinanceSignTransaction=r.BinancePreparedTransaction=r.BinancePreparedMessage=r.BinanceSDKTransaction=void 0;const n=e("../../../constants"),i=e("../../params"),o=e("@trezor/schema-utils");r.BinanceSDKTransaction=o.Type.Object({chain_id:o.Type.String(),account_number:o.Type.Optional(o.Type.Number()),memo:o.Type.Optional(o.Type.String()),sequence:o.Type.Optional(o.Type.Number()),source:o.Type.Optional(o.Type.Number()),transfer:o.Type.Optional(n.PROTO.BinanceTransferMsg),placeOrder:o.Type.Optional(n.PROTO.BinanceOrderMsg),cancelOrder:o.Type.Optional(n.PROTO.BinanceCancelMsg)}),r.BinancePreparedMessage=o.Type.Union([o.Type.Intersect([n.PROTO.BinanceTransferMsg,o.Type.Object({type:o.Type.Literal("BinanceTransferMsg")})]),o.Type.Intersect([n.PROTO.BinanceOrderMsg,o.Type.Object({type:o.Type.Literal("BinanceOrderMsg")})]),o.Type.Intersect([n.PROTO.BinanceCancelMsg,o.Type.Object({type:o.Type.Literal("BinanceCancelMsg")})])]),r.BinancePreparedTransaction=o.Type.Intersect([r.BinanceSDKTransaction,o.Type.Object({messages:o.Type.Array(r.BinancePreparedMessage),account_number:o.Type.Number(),sequence:o.Type.Number(),source:o.Type.Number()})]),r.BinanceSignTransaction=o.Type.Object({path:i.DerivationPath,transaction:r.BinanceSDKTransaction,chunkify:o.Type.Optional(o.Type.Boolean())})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/binance/index.js"}],[2223,{"../../params":2237,"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.VerifyMessage=r.SignMessage=void 0;const n=e("../../params"),i=e("@trezor/schema-utils");r.SignMessage=i.Type.Object({path:n.DerivationPath,coin:i.Type.Optional(i.Type.String()),message:i.Type.String(),hex:i.Type.Optional(i.Type.Boolean()),no_script_type:i.Type.Optional(i.Type.Boolean())}),r.VerifyMessage=i.Type.Object({address:i.Type.String(),signature:i.Type.String(),message:i.Type.String(),coin:i.Type.String(),hex:i.Type.Optional(i.Type.Boolean())})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/bitcoin/index.js"}],[2224,{"../../../constants":2201,"../../params":2237,"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CardanoSignedTxData=r.CardanoAuxiliaryDataSupplement=r.CardanoSignedTxWitness=r.CardanoSignTransactionExtended=r.CardanoSignTransaction=r.CardanoAuxiliaryData=r.CardanoCVoteRegistrationParameters=r.CardanoCVoteRegistrationDelegation=r.CardanoReferenceInput=r.CardanoRequiredSigner=r.CardanoCollateralInput=r.CardanoMint=r.CardanoWithdrawal=r.CardanoCertificate=r.CardanoPoolParameters=r.CardanoPoolMargin=r.CardanoPoolMetadata=r.CardanoPoolRelay=r.CardanoPoolOwner=r.CardanoOutput=r.CardanoAssetGroup=r.CardanoToken=r.CardanoInput=r.CardanoGetPublicKey=r.CardanoNativeScriptHash=r.CardanoGetNativeScriptHash=r.CardanoNativeScript=r.CardanoGetAddress=r.CardanoAddressParameters=r.CardanoCertificatePointer=void 0;const n=e("@trezor/schema-utils"),i=e("../../../constants"),o=e("../../params");r.CardanoCertificatePointer=n.Type.Object({blockIndex:n.Type.Number(),txIndex:n.Type.Number(),certificateIndex:n.Type.Number()}),r.CardanoAddressParameters=n.Type.Object({addressType:i.PROTO.EnumCardanoAddressType,path:n.Type.Optional(o.DerivationPath),stakingPath:n.Type.Optional(o.DerivationPath),stakingKeyHash:n.Type.Optional(n.Type.String()),certificatePointer:n.Type.Optional(r.CardanoCertificatePointer),paymentScriptHash:n.Type.Optional(n.Type.String()),stakingScriptHash:n.Type.Optional(n.Type.String())}),r.CardanoGetAddress=n.Type.Object({addressParameters:r.CardanoAddressParameters,protocolMagic:n.Type.Number(),networkId:n.Type.Number(),address:n.Type.Optional(n.Type.String()),showOnTrezor:n.Type.Optional(n.Type.Boolean()),derivationType:n.Type.Optional(i.PROTO.EnumCardanoDerivationType),chunkify:n.Type.Optional(n.Type.Boolean())}),r.CardanoNativeScript=n.Type.Recursive((e=>n.Type.Object({type:i.PROTO.EnumCardanoNativeScriptType,scripts:n.Type.Optional(n.Type.Array(e)),keyHash:n.Type.Optional(n.Type.String()),keyPath:n.Type.Optional(o.DerivationPath),requiredSignaturesCount:n.Type.Optional(n.Type.Number()),invalidBefore:n.Type.Optional(n.Type.String()),invalidHereafter:n.Type.Optional(n.Type.String())}))),r.CardanoGetNativeScriptHash=n.Type.Object({script:r.CardanoNativeScript,displayFormat:i.PROTO.EnumCardanoNativeScriptHashDisplayFormat,derivationType:n.Type.Optional(i.PROTO.EnumCardanoDerivationType)}),r.CardanoNativeScriptHash=n.Type.Object({scriptHash:n.Type.String()}),r.CardanoGetPublicKey=n.Type.Intersect([o.GetPublicKey,n.Type.Object({derivationType:n.Type.Optional(i.PROTO.EnumCardanoDerivationType)})]),r.CardanoInput=n.Type.Object({path:n.Type.Optional(o.DerivationPath),prev_hash:n.Type.String(),prev_index:n.Type.Number()}),r.CardanoToken=n.Type.Object({assetNameBytes:n.Type.String(),amount:n.Type.Optional(n.Type.String()),mintAmount:n.Type.Optional(n.Type.String())}),r.CardanoAssetGroup=n.Type.Object({policyId:n.Type.String(),tokenAmounts:n.Type.Array(r.CardanoToken)}),r.CardanoOutput=n.Type.Intersect([n.Type.Union([n.Type.Object({addressParameters:r.CardanoAddressParameters}),n.Type.Object({address:n.Type.String()})]),n.Type.Object({amount:n.Type.String(),tokenBundle:n.Type.Optional(n.Type.Array(r.CardanoAssetGroup)),datumHash:n.Type.Optional(n.Type.String()),format:n.Type.Optional(i.PROTO.EnumCardanoTxOutputSerializationFormat),inlineDatum:n.Type.Optional(n.Type.String()),referenceScript:n.Type.Optional(n.Type.String())})]),r.CardanoPoolOwner=n.Type.Object({stakingKeyPath:n.Type.Optional(o.DerivationPath),stakingKeyHash:n.Type.Optional(n.Type.String())}),r.CardanoPoolRelay=n.Type.Object({type:i.PROTO.EnumCardanoPoolRelayType,ipv4Address:n.Type.Optional(n.Type.String()),ipv6Address:n.Type.Optional(n.Type.String()),port:n.Type.Optional(n.Type.Number()),hostName:n.Type.Optional(n.Type.String())}),r.CardanoPoolMetadata=n.Type.Object({url:n.Type.String(),hash:n.Type.String()}),r.CardanoPoolMargin=n.Type.Object({numerator:n.Type.String(),denominator:n.Type.String()}),r.CardanoPoolParameters=n.Type.Object({poolId:n.Type.String(),vrfKeyHash:n.Type.String(),pledge:n.Type.String(),cost:n.Type.String(),margin:r.CardanoPoolMargin,rewardAccount:n.Type.String(),owners:n.Type.Array(r.CardanoPoolOwner,{minItems:1}),relays:n.Type.Array(r.CardanoPoolRelay),metadata:n.Type.Optional(r.CardanoPoolMetadata)}),r.CardanoCertificate=n.Type.Object({type:i.PROTO.EnumCardanoCertificateType,path:n.Type.Optional(o.DerivationPath),pool:n.Type.Optional(n.Type.String()),poolParameters:n.Type.Optional(r.CardanoPoolParameters),scriptHash:n.Type.Optional(n.Type.String()),keyHash:n.Type.Optional(n.Type.String())}),r.CardanoWithdrawal=n.Type.Object({path:n.Type.Optional(o.DerivationPath),amount:n.Type.String(),scriptHash:n.Type.Optional(n.Type.String()),keyHash:n.Type.Optional(n.Type.String())}),r.CardanoMint=n.Type.Array(r.CardanoAssetGroup),r.CardanoCollateralInput=n.Type.Object({path:n.Type.Optional(o.DerivationPath),prev_hash:n.Type.String(),prev_index:n.Type.Number()}),r.CardanoRequiredSigner=n.Type.Object({keyPath:n.Type.Optional(o.DerivationPath),keyHash:n.Type.Optional(n.Type.String())}),r.CardanoReferenceInput=n.Type.Object({prev_hash:n.Type.String(),prev_index:n.Type.Number()}),r.CardanoCVoteRegistrationDelegation=n.Type.Object({votePublicKey:n.Type.String(),weight:n.Type.Number()}),r.CardanoCVoteRegistrationParameters=n.Type.Object({votePublicKey:n.Type.Optional(n.Type.String()),stakingPath:o.DerivationPath,paymentAddressParameters:n.Type.Optional(r.CardanoAddressParameters),nonce:n.Type.String(),format:n.Type.Optional(i.PROTO.EnumCardanoCVoteRegistrationFormat),delegations:n.Type.Optional(n.Type.Array(r.CardanoCVoteRegistrationDelegation)),votingPurpose:n.Type.Optional(n.Type.Number()),paymentAddress:n.Type.Optional(n.Type.String())}),r.CardanoAuxiliaryData=n.Type.Object({hash:n.Type.Optional(n.Type.String()),cVoteRegistrationParameters:n.Type.Optional(r.CardanoCVoteRegistrationParameters)}),r.CardanoSignTransaction=n.Type.Object({inputs:n.Type.Array(r.CardanoInput),outputs:n.Type.Array(r.CardanoOutput),fee:n.Type.Uint(),ttl:n.Type.Optional(n.Type.Uint()),certificates:n.Type.Optional(n.Type.Array(r.CardanoCertificate)),withdrawals:n.Type.Optional(n.Type.Array(r.CardanoWithdrawal)),validityIntervalStart:n.Type.Optional(n.Type.String()),auxiliaryData:n.Type.Optional(r.CardanoAuxiliaryData),mint:n.Type.Optional(r.CardanoMint),scriptDataHash:n.Type.Optional(n.Type.String()),collateralInputs:n.Type.Optional(n.Type.Array(r.CardanoCollateralInput)),requiredSigners:n.Type.Optional(n.Type.Array(r.CardanoRequiredSigner)),collateralReturn:n.Type.Optional(r.CardanoOutput),totalCollateral:n.Type.Optional(n.Type.String()),referenceInputs:n.Type.Optional(n.Type.Array(r.CardanoReferenceInput)),additionalWitnessRequests:n.Type.Optional(n.Type.Array(o.DerivationPath)),protocolMagic:n.Type.Number(),networkId:n.Type.Number(),signingMode:i.PROTO.EnumCardanoTxSigningMode,derivationType:n.Type.Optional(i.PROTO.EnumCardanoDerivationType),includeNetworkId:n.Type.Optional(n.Type.Boolean()),chunkify:n.Type.Optional(n.Type.Boolean())}),r.CardanoSignTransactionExtended=n.Type.Intersect([r.CardanoSignTransaction,n.Type.Object({unsignedTx:n.Type.Object({body:n.Type.String(),hash:n.Type.String()}),testnet:n.Type.Boolean()})]),r.CardanoSignedTxWitness=n.Type.Object({type:i.PROTO.EnumCardanoTxWitnessType,pubKey:n.Type.String(),signature:n.Type.String(),chainCode:n.Type.Optional(n.Type.String())}),r.CardanoAuxiliaryDataSupplement=n.Type.Object({type:i.PROTO.EnumCardanoTxAuxiliaryDataSupplementType,auxiliaryDataHash:n.Type.String(),cVoteRegistrationSignature:n.Type.Optional(n.Type.String())}),r.CardanoSignedTxData=n.Type.Object({hash:n.Type.String(),witnesses:n.Type.Array(r.CardanoSignedTxWitness),auxiliaryDataSupplement:n.Type.Optional(r.CardanoAuxiliaryDataSupplement)})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/cardano/index.js"}],[2225,{"../../../constants":2201,"../../params":2237,"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EosSignTransaction=r.EosSDKTransaction=r.EosTxAction=r.EosTxActionCommon=r.EosAuthorization=r.EosTxHeader=r.EosPublicKey=void 0;const n=e("../../../constants"),i=e("../../params"),o=e("@trezor/schema-utils");r.EosPublicKey=o.Type.Object({wifPublicKey:o.Type.String(),rawPublicKey:o.Type.String(),path:o.Type.Array(o.Type.Number()),serializedPath:o.Type.String()}),r.EosTxHeader=o.Type.Object({expiration:o.Type.Union([o.Type.Uint(),o.Type.String()]),refBlockNum:o.Type.Number(),refBlockPrefix:o.Type.Number(),maxNetUsageWords:o.Type.Number(),maxCpuUsageMs:o.Type.Number(),delaySec:o.Type.Number()}),r.EosAuthorization=o.Type.Object({threshold:o.Type.Number(),keys:o.Type.Array(n.PROTO.EosAuthorizationKey),accounts:o.Type.Array(o.Type.Object({permission:n.PROTO.EosPermissionLevel,weight:o.Type.Number()})),waits:o.Type.Array(n.PROTO.EosAuthorizationWait)}),r.EosTxActionCommon=o.Type.Object({account:o.Type.String(),authorization:o.Type.Array(n.PROTO.EosPermissionLevel)}),r.EosTxAction=o.Type.Union([o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("transfer"),data:o.Type.Object({from:o.Type.String(),to:o.Type.String(),quantity:o.Type.String(),memo:o.Type.String()})})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("delegatebw"),data:o.Type.Object({from:o.Type.String(),receiver:o.Type.String(),stake_net_quantity:o.Type.String(),stake_cpu_quantity:o.Type.String(),transfer:o.Type.Boolean()})})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("undelegatebw"),data:o.Type.Object({from:o.Type.String(),receiver:o.Type.String(),unstake_net_quantity:o.Type.String(),unstake_cpu_quantity:o.Type.String()})})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("buyram"),data:o.Type.Object({payer:o.Type.String(),receiver:o.Type.String(),quant:o.Type.String()})})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("buyrambytes"),data:n.PROTO.EosActionBuyRamBytes})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("sellram"),data:n.PROTO.EosActionSellRam})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("voteproducer"),data:o.Type.Object({voter:o.Type.String(),proxy:o.Type.String(),producers:o.Type.Array(o.Type.String())})})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("refund"),data:n.PROTO.EosActionRefund})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("updateauth"),data:o.Type.Object({account:o.Type.String(),permission:o.Type.String(),parent:o.Type.String(),auth:r.EosAuthorization})})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("deleteauth"),data:n.PROTO.EosActionDeleteAuth})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("linkauth"),data:n.PROTO.EosActionLinkAuth})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("unlinkauth"),data:n.PROTO.EosActionUnlinkAuth})]),o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.Literal("newaccount"),data:o.Type.Object({creator:o.Type.String(),name:o.Type.String(),owner:r.EosAuthorization,active:r.EosAuthorization})})])]),r.EosSDKTransaction=o.Type.Object({chainId:o.Type.String(),header:r.EosTxHeader,actions:o.Type.Array(o.Type.Union([r.EosTxAction,o.Type.Intersect([r.EosTxActionCommon,o.Type.Object({name:o.Type.String(),data:o.Type.String()})])]))}),r.EosSignTransaction=o.Type.Object({path:i.DerivationPath,transaction:r.EosSDKTransaction,chunkify:o.Type.Optional(o.Type.Boolean())})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/eos/index.js"}],[2226,{"../../params":2237,"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EthereumVerifyMessage=r.EthereumSignTypedHash=r.EthereumSignTypedData=r.EthereumSignTypedDataMessage=r.EthereumSignTypedDataTypes=r.EthereumSignedTx=r.EthereumSignTransaction=r.EthereumTransactionEIP1559=r.EthereumAccessList=r.EthereumTransaction=r.EthereumSignMessage=void 0;const n=e("@trezor/schema-utils"),i=e("../../params");r.EthereumSignMessage=n.Type.Object({path:i.DerivationPath,message:n.Type.String(),hex:n.Type.Optional(n.Type.Boolean())}),r.EthereumTransaction=n.Type.Object({to:n.Type.String(),value:n.Type.String(),gasPrice:n.Type.String(),gasLimit:n.Type.String(),maxFeePerGas:n.Type.Optional(n.Type.Undefined()),maxPriorityFeePerGas:n.Type.Optional(n.Type.Undefined()),nonce:n.Type.String(),data:n.Type.Optional(n.Type.String()),chainId:n.Type.Number(),txType:n.Type.Optional(n.Type.Number())}),r.EthereumAccessList=n.Type.Object({address:n.Type.String(),storageKeys:n.Type.Array(n.Type.String())}),r.EthereumTransactionEIP1559=n.Type.Object({to:n.Type.String(),value:n.Type.String(),gasLimit:n.Type.String(),gasPrice:n.Type.Optional(n.Type.Undefined()),nonce:n.Type.String(),data:n.Type.Optional(n.Type.String()),chainId:n.Type.Number(),maxFeePerGas:n.Type.String(),maxPriorityFeePerGas:n.Type.String(),accessList:n.Type.Optional(n.Type.Array(r.EthereumAccessList))}),r.EthereumSignTransaction=n.Type.Object({path:i.DerivationPath,transaction:n.Type.Union([r.EthereumTransaction,r.EthereumTransactionEIP1559]),chunkify:n.Type.Optional(n.Type.Boolean())}),r.EthereumSignedTx=n.Type.Object({v:n.Type.String(),r:n.Type.String(),s:n.Type.String(),serializedTx:n.Type.String()});const o=n.Type.Object({name:n.Type.String(),type:n.Type.String()});r.EthereumSignTypedDataTypes=n.Type.Object({EIP712Domain:n.Type.Array(o)},{additionalProperties:n.Type.Array(o)}),r.EthereumSignTypedDataMessage=n.Type.Object({types:r.EthereumSignTypedDataTypes,primaryType:n.Type.String(),domain:n.Type.Object({name:n.Type.Optional(n.Type.String()),version:n.Type.Optional(n.Type.String()),chainId:n.Type.Optional(n.Type.Union([n.Type.Number(),n.Type.BigInt(),n.Type.String()])),verifyingContract:n.Type.Optional(n.Type.String()),salt:n.Type.Optional(n.Type.Union([n.Type.ArrayBuffer(),n.Type.String()]))}),message:n.Type.Object({},{additionalProperties:n.Type.Any()})}),r.EthereumSignTypedData=n.Type.Object({path:i.DerivationPath,data:r.EthereumSignTypedDataMessage,metamask_v4_compat:n.Type.Boolean(),domain_separator_hash:n.Type.Optional(n.Type.Undefined()),message_hash:n.Type.Optional(n.Type.Undefined())}),r.EthereumSignTypedHash=n.Type.Object({path:i.DerivationPath,data:r.EthereumSignTypedDataMessage,metamask_v4_compat:n.Type.Boolean(),domain_separator_hash:n.Type.String(),message_hash:n.Type.Optional(n.Type.String())}),r.EthereumVerifyMessage=n.Type.Object({address:n.Type.String(),message:n.Type.String(),hex:n.Type.Optional(n.Type.Boolean()),signature:n.Type.String()})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/ethereum/index.js"}],[2227,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/index.js"}],[2228,{"../../params":2237,"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RippleSignedTx=r.RippleSignTransaction=r.RippleTransaction=r.RipplePayment=void 0;const n=e("../../params"),i=e("@trezor/schema-utils");r.RipplePayment=i.Type.Object({amount:i.Type.String(),destination:i.Type.String(),destinationTag:i.Type.Optional(i.Type.Number())}),r.RippleTransaction=i.Type.Object({fee:i.Type.String(),flags:i.Type.Optional(i.Type.Number()),sequence:i.Type.Number(),maxLedgerVersion:i.Type.Optional(i.Type.Number()),payment:r.RipplePayment}),r.RippleSignTransaction=i.Type.Object({path:n.DerivationPath,transaction:r.RippleTransaction,chunkify:i.Type.Optional(i.Type.Boolean())}),r.RippleSignedTx=i.Type.Object({serializedTx:i.Type.String(),signature:i.Type.String()})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/ripple/index.js"}],[2229,{"../../params":2237,"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SolanaSignedTransaction=r.SolanaSignTransaction=r.SolanaTxAdditionalInfo=r.SolanaTxTokenAccountInfo=r.SolanaPublicKey=void 0;const n=e("../../params"),i=e("@trezor/schema-utils");r.SolanaPublicKey=i.Type.Intersect([n.PublicKey,i.Type.Object({publicKey:i.Type.String()})]),r.SolanaTxTokenAccountInfo=i.Type.Object({baseAddress:i.Type.String(),tokenProgram:i.Type.String(),tokenMint:i.Type.String(),tokenAccount:i.Type.String()}),r.SolanaTxAdditionalInfo=i.Type.Object({tokenAccountsInfos:i.Type.Optional(i.Type.Array(r.SolanaTxTokenAccountInfo,{minItems:1}))}),r.SolanaSignTransaction=i.Type.Object({path:i.Type.Union([i.Type.String(),i.Type.Array(i.Type.Number())]),serializedTx:i.Type.String(),additionalInfo:i.Type.Optional(r.SolanaTxAdditionalInfo)}),r.SolanaSignedTransaction=i.Type.Object({signature:i.Type.String()})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/solana/index.js"}],[2230,{"../../../constants":2201,"../../params":2237,"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.StellarOperationMessage=r.StellarSignedTx=r.StellarSignTransaction=r.StellarTransaction=r.StellarOperation=r.StellarInflationOperation=r.StellarBumpSequenceOperation=r.StellarManageDataOperation=r.StellarAccountMergeOperation=r.StellarAllowTrustOperation=r.StellarChangeTrustOperation=r.StellarSetOptionsOperation=r.StellarManageBuyOfferOperation=r.StellarManageSellOfferOperation=r.StellarPassiveSellOfferOperation=r.StellarPathPaymentStrictSendOperation=r.StellarPathPaymentStrictReceiveOperation=r.StellarPaymentOperation=r.StellarCreateAccountOperation=r.StellarAsset=void 0;const n=e("../../../constants"),i=e("../../params"),o=e("@trezor/schema-utils");r.StellarAsset=o.Type.Object({type:o.Type.Union([n.PROTO.EnumStellarAssetType,o.Type.KeyOfEnum(n.PROTO.StellarAssetType)]),code:o.Type.Optional(o.Type.String()),issuer:o.Type.Optional(o.Type.String())}),r.StellarCreateAccountOperation=o.Type.Object({type:o.Type.Literal("createAccount"),source:o.Type.Optional(o.Type.String()),destination:o.Type.String(),startingBalance:o.Type.String()}),r.StellarPaymentOperation=o.Type.Object({type:o.Type.Literal("payment"),source:o.Type.Optional(o.Type.String()),destination:o.Type.String(),asset:r.StellarAsset,amount:o.Type.String()}),r.StellarPathPaymentStrictReceiveOperation=o.Type.Object({type:o.Type.Literal("pathPaymentStrictReceive"),source:o.Type.Optional(o.Type.String()),sendAsset:r.StellarAsset,sendMax:o.Type.Uint(),destination:o.Type.String(),destAsset:r.StellarAsset,destAmount:o.Type.Uint(),path:o.Type.Optional(o.Type.Array(r.StellarAsset))}),r.StellarPathPaymentStrictSendOperation=o.Type.Object({type:o.Type.Literal("pathPaymentStrictSend"),source:o.Type.Optional(o.Type.String()),sendAsset:r.StellarAsset,sendAmount:o.Type.Uint(),destination:o.Type.String(),destAsset:r.StellarAsset,destMin:o.Type.Uint(),path:o.Type.Optional(o.Type.Array(r.StellarAsset))}),r.StellarPassiveSellOfferOperation=o.Type.Object({type:o.Type.Literal("createPassiveSellOffer"),source:o.Type.Optional(o.Type.String()),buying:r.StellarAsset,selling:r.StellarAsset,amount:o.Type.Uint(),price:o.Type.Object({n:o.Type.Number(),d:o.Type.Number()})}),r.StellarManageSellOfferOperation=o.Type.Object({type:o.Type.Literal("manageSellOffer"),source:o.Type.Optional(o.Type.String()),buying:r.StellarAsset,selling:r.StellarAsset,amount:o.Type.Uint(),offerId:o.Type.Optional(o.Type.Uint()),price:o.Type.Object({n:o.Type.Number(),d:o.Type.Number()})}),r.StellarManageBuyOfferOperation=o.Type.Object({type:o.Type.Literal("manageBuyOffer"),source:o.Type.Optional(o.Type.String()),buying:r.StellarAsset,selling:r.StellarAsset,amount:o.Type.Uint(),offerId:o.Type.Optional(o.Type.Uint()),price:o.Type.Object({n:o.Type.Number(),d:o.Type.Number()})}),r.StellarSetOptionsOperation=o.Type.Object({type:o.Type.Literal("setOptions"),source:o.Type.Optional(o.Type.String()),signer:o.Type.Optional(o.Type.Object({type:n.PROTO.EnumStellarSignerType,key:o.Type.Union([o.Type.String(),o.Type.Buffer()]),weight:o.Type.Optional(o.Type.Number())})),inflationDest:o.Type.Optional(o.Type.String()),clearFlags:o.Type.Optional(o.Type.Number()),setFlags:o.Type.Optional(o.Type.Number()),masterWeight:o.Type.Optional(o.Type.Uint()),lowThreshold:o.Type.Optional(o.Type.Uint()),medThreshold:o.Type.Optional(o.Type.Uint()),highThreshold:o.Type.Optional(o.Type.Uint()),homeDomain:o.Type.Optional(o.Type.String())}),r.StellarChangeTrustOperation=o.Type.Object({type:o.Type.Literal("changeTrust"),source:o.Type.Optional(o.Type.String()),line:r.StellarAsset,limit:o.Type.String()}),r.StellarAllowTrustOperation=o.Type.Object({type:o.Type.Literal("allowTrust"),source:o.Type.Optional(o.Type.String()),trustor:o.Type.String(),assetCode:o.Type.String(),assetType:n.PROTO.EnumStellarAssetType,authorize:o.Type.Optional(o.Type.Union([o.Type.Boolean(),o.Type.Undefined()]))}),r.StellarAccountMergeOperation=o.Type.Object({type:o.Type.Literal("accountMerge"),source:o.Type.Optional(o.Type.String()),destination:o.Type.String()}),r.StellarManageDataOperation=o.Type.Object({type:o.Type.Literal("manageData"),source:o.Type.Optional(o.Type.String()),name:o.Type.String(),value:o.Type.Optional(o.Type.Union([o.Type.String(),o.Type.Buffer()]))}),r.StellarBumpSequenceOperation=o.Type.Object({type:o.Type.Literal("bumpSequence"),source:o.Type.Optional(o.Type.String()),bumpTo:o.Type.Uint()}),r.StellarInflationOperation=o.Type.Object({type:o.Type.Literal("inflation"),source:o.Type.Optional(o.Type.String())}),r.StellarOperation=o.Type.Union([r.StellarCreateAccountOperation,r.StellarPaymentOperation,r.StellarPathPaymentStrictReceiveOperation,r.StellarPathPaymentStrictSendOperation,r.StellarPassiveSellOfferOperation,r.StellarManageSellOfferOperation,r.StellarManageBuyOfferOperation,r.StellarSetOptionsOperation,r.StellarChangeTrustOperation,r.StellarAllowTrustOperation,r.StellarAccountMergeOperation,r.StellarInflationOperation,r.StellarManageDataOperation,r.StellarBumpSequenceOperation]),r.StellarTransaction=o.Type.Object({source:o.Type.String(),fee:o.Type.Number(),sequence:o.Type.Uint(),timebounds:o.Type.Optional(o.Type.Object({minTime:o.Type.Number(),maxTime:o.Type.Number()})),memo:o.Type.Optional(o.Type.Object({type:n.PROTO.EnumStellarMemoType,id:o.Type.Optional(o.Type.Uint()),text:o.Type.Optional(o.Type.String()),hash:o.Type.Optional(o.Type.Union([o.Type.String(),o.Type.Buffer()]))})),operations:o.Type.Array(r.StellarOperation)}),r.StellarSignTransaction=o.Type.Object({path:i.DerivationPath,networkPassphrase:o.Type.String(),transaction:r.StellarTransaction}),r.StellarSignedTx=o.Type.Object({publicKey:o.Type.String(),signature:o.Type.String()}),r.StellarOperationMessage=o.Type.Union([o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarCreateAccountOp")}),n.PROTO.StellarCreateAccountOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarPaymentOp")}),n.PROTO.StellarPaymentOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarPathPaymentStrictReceiveOp")}),n.PROTO.StellarPathPaymentStrictReceiveOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarPathPaymentStrictSendOp")}),n.PROTO.StellarPathPaymentStrictSendOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarManageSellOfferOp")}),n.PROTO.StellarManageSellOfferOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarManageBuyOfferOp")}),n.PROTO.StellarManageBuyOfferOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarCreatePassiveSellOfferOp")}),n.PROTO.StellarCreatePassiveSellOfferOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarSetOptionsOp")}),n.PROTO.StellarSetOptionsOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarChangeTrustOp")}),n.PROTO.StellarChangeTrustOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarAllowTrustOp")}),n.PROTO.StellarAllowTrustOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarAccountMergeOp")}),n.PROTO.StellarAccountMergeOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarManageDataOp")}),n.PROTO.StellarManageDataOp]),o.Type.Intersect([o.Type.Object({type:o.Type.Literal("StellarBumpSequenceOp")}),n.PROTO.StellarBumpSequenceOp])])}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/stellar/index.js"}],[2231,{"../../params":2237,"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.TezosSignTransaction=r.TezosOperation=r.TezosDelegationOperation=r.TezosOriginationOperation=r.TezosTransactionOperation=r.TezosParametersManager=r.TezosManagerTransfer=r.TezosRevealOperation=void 0;const n=e("../../params"),i=e("@trezor/schema-utils");r.TezosRevealOperation=i.Type.Object({source:i.Type.String(),fee:i.Type.Number(),counter:i.Type.Number(),gas_limit:i.Type.Number(),storage_limit:i.Type.Number(),public_key:i.Type.String()}),r.TezosManagerTransfer=i.Type.Object({destination:i.Type.String(),amount:i.Type.Number()}),r.TezosParametersManager=i.Type.Object({set_delegate:i.Type.Optional(i.Type.String()),cancel_delegate:i.Type.Optional(i.Type.Boolean()),transfer:i.Type.Optional(r.TezosManagerTransfer)}),r.TezosTransactionOperation=i.Type.Object({source:i.Type.String(),destination:i.Type.String(),amount:i.Type.Number(),counter:i.Type.Number(),fee:i.Type.Number(),gas_limit:i.Type.Number(),storage_limit:i.Type.Number(),parameters:i.Type.Optional(i.Type.Array(i.Type.Number())),parameters_manager:i.Type.Optional(r.TezosParametersManager)}),r.TezosOriginationOperation=i.Type.Object({source:i.Type.String(),balance:i.Type.Number(),delegate:i.Type.Optional(i.Type.String()),script:n.DerivationPath,fee:i.Type.Number(),counter:i.Type.Number(),gas_limit:i.Type.Number(),storage_limit:i.Type.Number()}),r.TezosDelegationOperation=i.Type.Object({source:i.Type.String(),delegate:i.Type.String(),fee:i.Type.Number(),counter:i.Type.Number(),gas_limit:i.Type.Number(),storage_limit:i.Type.Number()}),r.TezosOperation=i.Type.Object({reveal:i.Type.Optional(r.TezosRevealOperation),transaction:i.Type.Optional(r.TezosTransactionOperation),origination:i.Type.Optional(r.TezosOriginationOperation),delegation:i.Type.Optional(r.TezosDelegationOperation)}),r.TezosSignTransaction=i.Type.Object({path:n.DerivationPath,branch:i.Type.String(),operation:r.TezosOperation,chunkify:i.Type.Optional(i.Type.Boolean())})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/api/tezos/index.js"}],[2232,{"./fees":2234,"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.CoinInfo=r.MiscNetworkInfo=r.EthereumNetworkInfo=r.BitcoinNetworkInfo=r.BlockchainLink=r.CoinSupport=r.CoinObj=r.Network=r.Bip32=void 0;const n=e("@trezor/schema-utils"),i=e("./fees");r.Bip32=n.Type.Object({public:n.Type.Number(),private:n.Type.Number()}),r.Network=n.Type.Object({messagePrefix:n.Type.String(),bech32:n.Type.String(),bip32:r.Bip32,pubKeyHash:n.Type.Number(),scriptHash:n.Type.Number(),wif:n.Type.Number(),forkId:n.Type.Optional(n.Type.Number())}),r.CoinObj=n.Type.Object({coin:n.Type.String()}),r.CoinSupport=n.Type.Object({connect:n.Type.Boolean(),T1B1:n.Type.Union([n.Type.String(),n.Type.Literal(!1)]),T2T1:n.Type.Union([n.Type.String(),n.Type.Literal(!1)]),T2B1:n.Type.Union([n.Type.String(),n.Type.Literal(!1)])}),r.BlockchainLink=n.Type.Object({type:n.Type.String(),url:n.Type.Array(n.Type.String())});const o=n.Type.Object({label:n.Type.String(),name:n.Type.String(),shortcut:n.Type.String(),slip44:n.Type.Number(),support:r.CoinSupport,decimals:n.Type.Number(),blockchainLink:n.Type.Optional(r.BlockchainLink),blockTime:n.Type.Number(),minFee:n.Type.Number(),maxFee:n.Type.Number(),defaultFees:n.Type.Array(i.FeeLevel)});r.BitcoinNetworkInfo=n.Type.Intersect([o,n.Type.Object({type:n.Type.Literal("bitcoin"),cashAddrPrefix:n.Type.Optional(n.Type.String()),curveName:n.Type.String(),dustLimit:n.Type.Number(),forceBip143:n.Type.Boolean(),hashGenesisBlock:n.Type.String(),maxAddressLength:n.Type.Number(),maxFeeSatoshiKb:n.Type.Number(),minAddressLength:n.Type.Number(),minFeeSatoshiKb:n.Type.Number(),segwit:n.Type.Boolean(),xPubMagic:n.Type.Number(),xPubMagicSegwitNative:n.Type.Optional(n.Type.Number()),xPubMagicSegwit:n.Type.Optional(n.Type.Number()),taproot:n.Type.Optional(n.Type.Boolean()),network:r.Network,isBitcoin:n.Type.Boolean()})]),r.EthereumNetworkInfo=n.Type.Intersect([o,n.Type.Object({type:n.Type.Literal("ethereum"),chainId:n.Type.Number(),network:n.Type.Optional(n.Type.Undefined())})]),r.MiscNetworkInfo=n.Type.Intersect([o,n.Type.Object({type:n.Type.Union([n.Type.Literal("misc"),n.Type.Literal("nem")]),curve:n.Type.String(),network:n.Type.Optional(n.Type.Undefined())})]),r.CoinInfo=n.Type.Union([r.BitcoinNetworkInfo,r.EthereumNetworkInfo,r.MiscNetworkInfo])}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/coinInfo.js"}],[2233,{"@trezor/protobuf/lib/messages-schema":2241},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n;Object.defineProperty(r,"__esModule",{value:!0}),r.DeviceModelInternal=r.FirmwareType=void 0,function(e){e.BitcoinOnly="bitcoin-only",e.Regular="regular"}(n||(r.FirmwareType=n={}));var i=e("@trezor/protobuf/lib/messages-schema");Object.defineProperty(r,"DeviceModelInternal",{enumerable:!0,get:function(){return i.DeviceModelInternal}})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/device.js"}],[2234,{"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SelectFeeLevel=r.FeeLevel=r.FeeInfo=void 0;const n=e("@trezor/schema-utils");r.FeeInfo=n.Type.Object({blockTime:n.Type.Number(),minFee:n.Type.Number(),maxFee:n.Type.Number(),dustLimit:n.Type.Number()}),r.FeeLevel=n.Type.Object({label:n.Type.Union([n.Type.Literal("high"),n.Type.Literal("normal"),n.Type.Literal("economy"),n.Type.Literal("low"),n.Type.Literal("custom")]),feePerUnit:n.Type.String(),blocks:n.Type.Number(),feeLimit:n.Type.Optional(n.Type.String()),feePerTx:n.Type.Optional(n.Type.String())}),r.SelectFeeLevel=n.Type.Union([n.Type.Object({name:n.Type.String(),fee:n.Type.Literal("0"),feePerByte:n.Type.Optional(n.Type.Undefined()),disabled:n.Type.Literal(!0)}),n.Type.Object({name:n.Type.String(),fee:n.Type.String(),feePerByte:n.Type.String(),minutes:n.Type.Number(),total:n.Type.String()})])}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/fees.js"}],[2235,{"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.IntermediaryVersion=void 0;const n=e("@trezor/schema-utils");r.IntermediaryVersion=n.Type.Union([n.Type.Literal(1),n.Type.Literal(2),n.Type.Literal(3)])}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/firmware.js"}],[2236,{"./account":2221,"./api":2227,"./api/binance":2222,"./api/bitcoin":2223,"./api/cardano":2224,"./api/eos":2225,"./api/ethereum":2226,"./api/ripple":2228,"./api/solana":2229,"./api/stellar":2230,"./api/tezos":2231,"./coinInfo":2232,"./device":2233,"./fees":2234,"./firmware":2235,"./params":2237,"./settings":2238,tslib:4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("tslib");n.__exportStar(e("./api"),r),n.__exportStar(e("./account"),r),n.__exportStar(e("./coinInfo"),r),n.__exportStar(e("./device"),r),n.__exportStar(e("./fees"),r),n.__exportStar(e("./firmware"),r),n.__exportStar(e("./params"),r),n.__exportStar(e("./settings"),r),n.__exportStar(e("./api/cardano"),r),n.__exportStar(e("./api/binance"),r),n.__exportStar(e("./api/bitcoin"),r),n.__exportStar(e("./api/eos"),r),n.__exportStar(e("./api/ripple"),r),n.__exportStar(e("./api/ethereum"),r),n.__exportStar(e("./api/solana"),r),n.__exportStar(e("./api/stellar"),r),n.__exportStar(e("./api/tezos"),r)}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/index.js"}],[2237,{"@trezor/schema-utils":2248},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PublicKey=r.GetPublicKey=r.GetAddress=r.DerivationPath=r.Bundle=void 0;const n=e("@trezor/schema-utils");r.Bundle=e=>n.Type.Object({bundle:n.Type.Array(e,{minItems:1})}),r.DerivationPath=n.Type.Union([n.Type.String(),n.Type.Array(n.Type.Number())]),r.GetAddress=n.Type.Object({path:r.DerivationPath,address:n.Type.Optional(n.Type.String()),showOnTrezor:n.Type.Optional(n.Type.Boolean()),chunkify:n.Type.Optional(n.Type.Boolean()),useEventListener:n.Type.Optional(n.Type.Boolean())}),r.GetPublicKey=n.Type.Object({path:r.DerivationPath,showOnTrezor:n.Type.Optional(n.Type.Boolean()),suppressBackupWarning:n.Type.Optional(n.Type.Boolean()),chunkify:n.Type.Optional(n.Type.Boolean())}),r.PublicKey=n.Type.Object({publicKey:n.Type.String(),path:n.Type.Array(n.Type.Number()),serializedPath:n.Type.String()})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/params.js"}],[2238,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/types/settings.js"}],[2239,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getLog=r.enableLogByPrefix=r.enableLog=r.setLogWriter=r.initLog=r.Log=void 0;const n="#bada55",i="#20abd8",o="#f4a744",s={"@trezor/connect":`color: ${i}; background: #000;`,"@trezor/connect-web":`color: ${i}; background: #000;`,"@trezor/connect-webextension":`color: ${i}; background: #000;`,IFrame:`color: ${o}; background: #000;`,Core:`color: ${o}; background: #000;`,DeviceList:`color: ${n}; background: #000;`,Device:`color: ${n}; background: #000;`,DeviceCommands:`color: ${n}; background: #000;`,"@trezor/transport":`color: ${n}; background: #000;`,InteractionTimeout:`color: ${n}; background: #000;`,"@trezor/connect-popup":"color: #fbd948; background: #000;"};class a{constructor(e,t,r){this.prefix=e,this.enabled=t,this.messages=[],this.css="undefined"!=typeof window&&s[e]?s[e]:"",r&&(this.logWriter=r)}addMessage({level:e,prefix:t,timestamp:r},...n){const i={level:e,prefix:t,css:this.css,message:n,timestamp:r||Date.now()};if(this.messages.push(i),this.logWriter)try{this.logWriter.add(i)}catch(e){console.error("There was an error adding log message",e,i)}this.messages.length>100&&this.messages.shift()}setWriter(e){this.logWriter=e}log(...e){this.addMessage({level:"log",prefix:this.prefix},...e),this.enabled&&console.log(`%c${this.prefix}`,this.css,...e)}error(...e){this.addMessage({level:"error",prefix:this.prefix},...e),this.enabled&&console.error(`%c${this.prefix}`,this.css,...e)}warn(...e){this.addMessage({level:"warn",prefix:this.prefix},...e),this.enabled&&console.warn(`%c${this.prefix}`,this.css,...e)}debug(...e){this.addMessage({level:"debug",prefix:this.prefix},...e),this.enabled&&(this.css?console.log(`%c${this.prefix}`,this.css,...e):console.log(this.prefix,...e))}}r.Log=a;const l={};let c;r.initLog=(e,t,r)=>{const n=new a(e,!!t,r||c);return l[e]=n,n};r.setLogWriter=e=>{Object.keys(l).forEach((t=>{if(c=e(),c){l[t].setWriter(c);const{messages:e}=l[t];e.forEach((e=>{null==c||c.add(e)}))}}))};r.enableLog=e=>{Object.keys(l).forEach((t=>{l[t].enabled=!!e}))};r.enableLogByPrefix=(e,t)=>{l[e]&&(l[e].enabled=t)};r.getLog=()=>{let e=[];return Object.keys(l).forEach((t=>{e=e.concat(l[t].messages)})),e.sort(((e,t)=>e.timestamp-t.timestamp)),e}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/utils/debug.js"}],[2240,{"@trezor/utils/lib/urlToOnion":2253},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getOnionDomain=r.getHost=r.getOrigin=void 0;const n=e("@trezor/utils/lib/urlToOnion");r.getOrigin=e=>{var t;if("string"!=typeof e)return"unknown";if(0===e.indexOf("file://"))return"file://";const[r]=null!==(t=e.match(/^https?:\/\/[^/]+/))&&void 0!==t?t:[];return null!=r?r:"unknown"};r.getHost=e=>{var t;if("string"!=typeof e)return;const[,,r]=null!==(t=e.match(/^(https?):\/\/([^:/]+)?/i))&&void 0!==t?t:[];if(r){const e=r.split(".");return e.length>2?e.slice(e.length-2,e.length).join("."):r}};r.getOnionDomain=(e,t)=>{var r;return Array.isArray(e)?e.map((e=>{var r;return null!==(r=(0,n.urlToOnion)(e,t))&&void 0!==r?r:e})):"string"==typeof e&&null!==(r=(0,n.urlToOnion)(e,t))&&void 0!==r?r:e}}}},{package:"@trezor/connect-web>@trezor/connect",file:"node_modules/@trezor/connect/lib/utils/urlUtils.js"}]],[],{});