LavaPack.loadBundle([[632,{"@firebase/app":628,"@firebase/component":629,"@firebase/installations":630,"@firebase/util":634,idb:4188},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.deleteToken=function(e){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e){if(!navigator)throw R.create("only-available-in-window");e.swRegistration||await K(e);return async function(e){const t=await O(e.firebaseDependencies);t&&(await k(e.firebaseDependencies,t.token),await async function(e){const t=b(e),n=(await C()).transaction(A,"readwrite");await n.objectStore(A).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();if(n)return n.unsubscribe();return!0}(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=(0,s.getModularInstance)(e))},n.getMessaging=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e=(0,a.getApp)()){return Q().then((e=>{if(!e)throw R.create("unsupported-browser")}),(e=>{throw R.create("indexed-db-unsupported")})),(0,a._getProvider)((0,s.getModularInstance)(e),"messaging").getImmediate()},n.getToken=async function(e,t){return G(e=(0,s.getModularInstance)(e),t)},n.isSupported=Q,n.onMessage=function(e,t){return function(e,t){if(!navigator)throw R.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=(0,s.getModularInstance)(e),t)},e("@firebase/installations");var r=e("@firebase/component"),i=e("idb"),s=e("@firebase/util"),a=e("@firebase/app");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const o="/firebase-messaging-sw.js",c="/firebase-cloud-messaging-push-scope",u="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",l="https://fcmregistrations.googleapis.com/v1",d="google.c.a.c_id",p="google.c.a.c_l",h="google.c.a.ts";var f,g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function m(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function T(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(f||(f={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(g||(g={}));const y="fcm_token_details_db",E=5,_="fcm_token_object_Store";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const S="firebase-messaging-database",I=1,A="firebase-messaging-store";let v=null;function C(){return v||(v=(0,i.openDB)(S,I,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(A)}})),v}async function O(e){const t=b(e),n=await C(),r=await n.transaction(A).objectStore(A).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(y))return null}let t=null;return(await(0,i.openDB)(y,E,{upgrade:async(n,r,i,s)=>{var a;if(r<2)return;if(!n.objectStoreNames.contains(_))return;const o=s.objectStore(_),c=await o.index("fcmSenderId").get(e);if(await o.clear(),c)if(2===r){const e=c;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(a=e.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:m(e.vapidKey)}}}else if(3===r){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:m(e.auth),p256dh:m(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:m(e.vapidKey)}}}else if(4===r){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:m(e.auth),p256dh:m(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:m(e.vapidKey)}}}}})).close(),await(0,i.deleteDB)(y),await(0,i.deleteDB)("fcm_vapid_details_db"),await(0,i.deleteDB)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await N(e,t),t}}async function N(e,t){const n=b(e),r=(await C()).transaction(A,"readwrite");return await r.objectStore(A).put(t,n),await r.done,t}function b({appConfig:e}){return e.appId}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},R=new s.ErrorFactory("messaging","Messaging",D);async function k(e,t){const n={method:"DELETE",headers:await P(e)};try{const r=await fetch(`${w(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw R.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw R.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function w({projectId:e}){return`${l}/projects/${e}/registrations`}async function P({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function M({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==u&&(i.web.applicationPubKey=r),i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=6048e5;async function x(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:T(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:m(t.getKey("auth")),p256dh:m(t.getKey("p256dh"))},r=await O(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r.subscriptionOptions,n))return Date.now()>=r.createTime+L?async function(e,t){try{const n=await async function(e,t){const n=await P(e),r=M(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=await fetch(`${w(e.appConfig)}/${t.token}`,i);s=await n.json()}catch(e){throw R.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(s.error){const e=s.error.message;throw R.create("token-update-failed",{errorInfo:e})}if(!s.token)throw R.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await N(e.firebaseDependencies,r),n}catch(e){throw e}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await k(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return F(e.firebaseDependencies,n)}return F(e.firebaseDependencies,n)}async function F(e,t){const n=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */await async function(e,t){const n=await P(e),r=M(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=await fetch(w(e.appConfig),i);s=await t.json()}catch(e){throw R.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(s.error){const e=s.error.message;throw R.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw R.create("token-subscribe-no-token");return s.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await N(e,r),r.token}function B(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,s,a;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const o=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=t.notification)||void 0===s?void 0:s.click_action;o&&(e.fcmOptions.link=o);const c=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),t}function U(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e){return R.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
U("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),U("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class j{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw H("App Configuration Object");if(!e.name)throw H("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw H(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K(e){try{e.swRegistration=await navigator.serviceWorker.register(o,{scope:c}),e.swRegistration.update().catch((()=>{}))}catch(e){throw R.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function G(e,t){if(!navigator)throw R.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw R.create("permission-blocked");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=u)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await K(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw R.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),x(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W(e,t,n){const r=function(e){switch(e){case g.NOTIFICATION_CLICKED:return"notification_open";case g.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[d],message_name:n[p],message_time:n[h],message_device_time:Math.floor(Date.now()/1e3)})}async function q(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===g.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(B(n)):e.onMessageHandler.next(B(n)));const r=n.data;var i;"object"==typeof(i=r)&&i&&d in i&&"1"===r["google.c.a.e"]&&await W(e,n.messageType,r)}const V="@firebase/messaging",$="0.12.8",Y=e=>{const t=new j(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>q(t,e))),t},z=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>G(t,e)}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Q(){try{await(0,s.validateIndexedDBOpenable)()}catch(e){return!1}return"undefined"!=typeof window&&(0,s.isIndexedDBAvailable)()&&(0,s.areCookiesEnabled)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}(0,a._registerComponent)(new r.Component("messaging",Y,"PUBLIC")),(0,a._registerComponent)(new r.Component("messaging-internal",z,"PRIVATE")),(0,a.registerVersion)(V,$),(0,a.registerVersion)(V,$,"esm2017")}}},{package:"@metamask/notification-services-controller>firebase>@firebase/messaging",file:"node_modules/@firebase/messaging/dist/esm/index.esm2017.js"}],[6324,{"../../shared/constants/common":5250,"../../shared/constants/network":5264,"../../shared/modules/Numeric":5294,"../../shared/modules/conversion.utils":5301,"../helpers/utils/confirm-tx.util":6275,"../helpers/utils/token-util":6294,"../selectors/multichain":6990,"./useMultichainSelector":6340,"bignumber.js":3465,react:4776},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MIN_AMOUNT=n.DEFAULT_PRECISION=void 0,n.useCurrencyDisplay=function(e,{account:t,displayValue:n,prefix:r,numberOfDecimals:s,denomination:f,currency:T,isAggregatedFiatOverviewBalance:y,...E}){const _=(0,h.useMultichainSelector)(o.getMultichainIsEvm,t),S=(0,h.useMultichainSelector)(o.getMultichainCurrentCurrency,t),I=(0,h.useMultichainSelector)(o.getMultichainNativeCurrency,t),A=(0,h.useMultichainSelector)(o.getMultichainConversionRate,t),v=T===S,C=T===I,O=(0,i.useMemo)((()=>n||(_?y?(0,a.formatCurrency)(e,T):function({isNativeCurrency:e,isUserPreferredCurrency:t,currency:n,nativeCurrency:r,inputValue:i,conversionRate:s,denomination:o,numberOfDecimals:u}){if(e||!t&&!r){const e=new l.Numeric(i,16,d.EtherDenomination.WEI).toDenomination(o||d.EtherDenomination.ETH).round(u||m).toBase(10).toString();return"0"===e&&i&&0!==Number(i)?g:e}if(t&&s)return(0,a.formatCurrency)((0,c.getValueFromWeiHex)({value:i,fromCurrency:r,toCurrency:n,conversionRate:s,numberOfDecimals:u||2,toDenomination:o}),n);return null}({isNativeCurrency:C,isUserPreferredCurrency:v,currency:T,nativeCurrency:I,inputValue:e,conversionRate:A,denomination:f,numberOfDecimals:s}):function({tokenSymbol:e,isNativeCurrency:t,isUserPreferredCurrency:n,currency:r,currentCurrency:i,nativeCurrency:s,inputValue:o,conversionRate:c}){if(t||!n&&!s)return new l.Numeric(o,10).toString();if(n&&c){const t=(0,p.getTokenFiatAmount)(1,Number(c),i,o,e,!1,!1)??"0";return(0,a.formatCurrency)(t,r)}return null}({tokenSymbol:I,isNativeCurrency:C,isUserPreferredCurrency:v,currency:T,currentCurrency:S,nativeCurrency:I,inputValue:e,conversionRate:A}))),[n,_,C,v,T,I,e,A,f,s,S,y]);let N;if(!E.hideLabel){const e=Object.values(u.TEST_NETWORK_TICKER_MAP).includes(T)?T:null==T?void 0:T.toUpperCase();N=E.suffix||e}return[`${r||""}${O}${N?` ${N}`:""}`,{prefix:r,value:O,suffix:N}]};var r,i=e("react"),s=(r=e("bignumber.js"))&&r.__esModule?r:{default:r},a=e("../helpers/utils/confirm-tx.util"),o=e("../selectors/multichain"),c=e("../../shared/modules/conversion.utils"),u=e("../../shared/constants/network"),l=e("../../shared/modules/Numeric"),d=e("../../shared/constants/common"),p=e("../helpers/utils/token-util"),h=e("./useMultichainSelector");const f=n.MIN_AMOUNT=1e-6,g=`<${f}`,m=n.DEFAULT_PRECISION=new s.default(f).decimalPlaces()}}},{package:"$root$",file:"ui/hooks/useCurrencyDisplay.js"}],[633,{"@firebase/app":628,"@firebase/component":629,"@firebase/installations":630,"@firebase/util":634,idb:4188,tslib:5129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),e("@firebase/installations");var r,i,s=e("@firebase/component"),a=e("tslib"),o=e("idb"),c=e("@firebase/util"),u=e("@firebase/app"),l="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",d="https://fcmregistrations.googleapis.com/v1",p="FCM_MSG",h="google.c.a.c_id",f=3,g=1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function m(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,a.__spreadArray([],a.__read(t),!1))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function T(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(r||(r={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(i||(i={}));var y="fcm_token_details_db",E=5,_="fcm_token_object_Store";function S(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i=this;return a.__generator(this,(function(s){switch(s.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=s.sent(),n=t.map((function(e){return e.name})),!n.includes(y))return[2,null];s.label=2;case 2:return r=null,[4,o.openDB(y,E,{upgrade:function(t,n,s,o){return a.__awaiter(i,void 0,void 0,(function(){var i,s,c,u;return a.__generator(this,(function(a){switch(a.label){case 0:return n<2?[2]:t.objectStoreNames.contains(_)?[4,(i=o.objectStore(_)).index("fcmSenderId").get(e)]:[2];case 1:return s=a.sent(),[4,i.clear()];case 2:if(a.sent(),!s)return[2];if(2===n){if(!(c=s).auth||!c.p256dh||!c.endpoint)return[2];r={token:c.fcmToken,createTime:null!==(u=c.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:"string"==typeof c.vapidKey?c.vapidKey:m(c.vapidKey)}}}else(3===n||4===n)&&(r={token:(c=s).fcmToken,createTime:c.createTime,subscriptionOptions:{auth:m(c.auth),p256dh:m(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:m(c.vapidKey)}});return[2]}}))}))}})];case 3:return s.sent().close(),[4,o.deleteDB(y)];case 4:return s.sent(),[4,o.deleteDB("fcm_vapid_details_db")];case 5:return s.sent(),[4,o.deleteDB("undefined")];case 6:return s.sent(),[2,I(r)?r:null]}}))}))}function I(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A,v="firebase-messaging-database",C=1,O="firebase-messaging-store",N=null;function b(){return N||(N=o.openDB(v,C,{upgrade:function(e,t){if(0===t)e.createObjectStore(O)}})),N}function D(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r;return a.__generator(this,(function(i){switch(i.label){case 0:return t=w(e),[4,b()];case 1:return[4,i.sent().transaction(O).objectStore(O).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,S(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,R(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function R(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i;return a.__generator(this,(function(s){switch(s.label){case 0:return n=w(e),[4,b()];case 1:return r=s.sent(),[4,(i=r.transaction(O,"readwrite")).objectStore(O).put(t,n)];case 2:return s.sent(),[4,i.done];case 3:return s.sent(),[2,t]}}))}))}function k(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r;return a.__generator(this,(function(i){switch(i.label){case 0:return t=w(e),[4,b()];case 1:return n=i.sent(),[4,(r=n.transaction(O,"readwrite")).objectStore(O).delete(t)];case 2:return i.sent(),[4,r.done];case 3:return i.sent(),[2]}}))}))}function w(e){return e.appConfig.appId}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P=((A={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',A["only-available-in-window"]="This method is available in a Window context.",A["only-available-in-sw"]="This method is available in a service worker context.",A["permission-default"]="The notification permission was not granted and dismissed instead.",A["permission-blocked"]="The notification permission was not granted and blocked instead.",A["unsupported-browser"]="This browser doesn't support the API's required to use the Firebase SDK.",A["indexed-db-unsupported"]="This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",A["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",A["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",A["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",A["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",A["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",A["token-update-no-token"]="FCM returned no token when updating the user to push.",A["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",A["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",A["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",A["invalid-vapid-key"]="The public VAPID key must be a string.",A["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",A),M=new c.ErrorFactory("messaging","Messaging",P);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function L(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,o,c;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,U(e)];case 1:n=a.sent(),r=H(t),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(B(e.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return s=a.sent(),[3,6];case 5:throw o=a.sent(),M.create("token-subscribe-failed",{errorInfo:null==o?void 0:o.toString()});case 6:if(s.error)throw c=s.error.message,M.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw M.create("token-subscribe-no-token");return[2,s.token]}}))}))}function x(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,o,c;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,U(e)];case 1:n=a.sent(),r=H(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch("".concat(B(e.appConfig),"/").concat(t.token),i)];case 3:return[4,a.sent().json()];case 4:return s=a.sent(),[3,6];case 5:throw o=a.sent(),M.create("token-update-failed",{errorInfo:null==o?void 0:o.toString()});case 6:if(s.error)throw c=s.error.message,M.create("token-update-failed",{errorInfo:c});if(!s.token)throw M.create("token-update-no-token");return[2,s.token]}}))}))}function F(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,o;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,U(e)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch("".concat(B(e.appConfig),"/").concat(t),r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw s=i.error.message,M.create("token-unsubscribe-failed",{errorInfo:s});return[3,6];case 5:throw o=a.sent(),M.create("token-unsubscribe-failed",{errorInfo:null==o?void 0:o.toString()});case 6:return[2]}}))}))}function B(e){var t=e.projectId;return"".concat(d,"/projects/").concat(t,"/registrations")}function U(e){var t=e.appConfig,n=e.installations;return a.__awaiter(this,void 0,void 0,(function(){var e;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(e)})]}}))}))}function H(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==l&&(s.web.applicationPubKey=i),s}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j=6048e5;function K(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return a.__generator(this,(function(s){switch(s.label){case 0:return[4,V(e.swRegistration,e.vapidKey)];case 1:return t=s.sent(),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:m(t.getKey("auth")),p256dh:m(t.getKey("p256dh"))},[4,D(e.firebaseDependencies)];case 2:return(r=s.sent())?[3,3]:[2,q(e.firebaseDependencies,n)];case 3:if(a=r.subscriptionOptions,c=(o=n).vapidKey===a.vapidKey,u=o.endpoint===a.endpoint,l=o.auth===a.auth,d=o.p256dh===a.p256dh,c&&u&&l&&d)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,F(e.firebaseDependencies,r.token)];case 5:return s.sent(),[3,7];case 6:return i=s.sent(),console.warn(i),[3,7];case 7:return[2,q(e.firebaseDependencies,n)];case 8:return Date.now()>=r.createTime+j?[2,W(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n})]:[2,r.token];case 9:return[2]}var a,o,c,u,l,d;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function G(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,D(e.firebaseDependencies)];case 1:return(t=r.sent())?[4,F(e.firebaseDependencies,t.token)]:[3,4];case 2:return r.sent(),[4,k(e.firebaseDependencies)];case 3:r.sent(),r.label=4;case 4:return[4,e.swRegistration.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))}function W(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r;return a.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,x(e.firebaseDependencies,t)];case 1:return n=i.sent(),r=a.__assign(a.__assign({},t),{token:n,createTime:Date.now()}),[4,R(e.firebaseDependencies,r)];case 2:return i.sent(),[2,n];case 3:throw i.sent();case 4:return[2]}}))}))}function q(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r;return a.__generator(this,(function(i){switch(i.label){case 0:return[4,L(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,R(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function V(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:T(t)})]}}))}))}function $(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i;return a.__generator(this,(function(s){switch(s.label){case 0:return r=Y,i=[t],[4,e.firebaseDependencies.installations.getId()];case 1:return n=r.apply(void 0,i.concat([s.sent()])),function(e,t,n){var r={};r.event_time_ms=Math.floor(Date.now()).toString(),r.source_extension_json_proto3=JSON.stringify(t),!n||(r.compliance_data=function(e){var t={privacy_context:{prequest:{origin_associated_product_id:e}}};return t}(n));e.logEvents.push(r)}(e,n,t.productId),[2]}}))}))}function Y(e,t){var n,i,s={};return e.from&&(s.project_number=e.from),e.fcmMessageId&&(s.message_id=e.fcmMessageId),s.instance_id=t,e.notification?s.message_type=r.DISPLAY_NOTIFICATION.toString():s.message_type=r.DATA_MESSAGE.toString(),s.sdk_platform=f.toString(),s.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(s.collapse_key=e.collapse_key),s.event=g.toString(),(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)&&(s.analytics_label=null===(i=e.fcmOptions)||void 0===i?void 0:i.analytics_label),s}function z(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e){var t,n;return a.__awaiter(this,void 0,void 0,(function(){var r,s,o,c,u;return a.__generator(this,(function(a){switch(a.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[p])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),s=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return s=e.data,"object"==typeof s&&s&&h in s?self.location.origin:null;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var s;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r),s?(o=new URL(s,self.location.href),c=new URL(self.location.origin),o.host!==c.host?[2]:[4,J(o)]):[2]):[2];case 1:return(u=a.sent())?[3,4]:[4,self.clients.openWindow(s)];case 2:return u=a.sent(),[4,(l=3e3,new Promise((function(e){setTimeout(e,l)})))];case 3:return a.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=a.sent(),a.label=6;case 6:return u?(r.messageType=i.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,u.postMessage(r)]):[2]}var l;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function X(e){var t,n=a.__assign({},e.notification);return n.data=((t={})[p]=e,t),n}function J(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s,o,c;return a.__generator(this,(function(u){switch(u.label){case 0:return[4,ee()];case 1:t=u.sent();try{for(n=a.__values(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(e){o={error:e}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(o)throw o.error}}return[2,null]}}))}))}function Z(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=i.PUSH_RECEIVED;try{for(var s=a.__values(e),o=s.next();!o.done;o=s.next()){o.value.postMessage(t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function ee(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function te(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports ".concat(r," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function ne(e){return M.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */z("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),z("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var re=function(){function e(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var r=function(e){var t,n;if(!e||!e.options)throw ne("App Configuration Object");if(!e.name)throw ne("App Name");var r=e.options;try{for(var i=a.__values(["projectId","apiKey","appId","messagingSenderId"]),s=i.next();!s.done;s=i.next()){var o=s.value;if(!r[o])throw ne(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}return e.prototype._delete=function(){return Promise.resolve()},e}(),ie=function(e){var t=new re(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(function(e){e.waitUntil(function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i;return a.__generator(this,(function(s){switch(s.label){case 0:return n=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e),n?t.deliveryMetricsExportedToBigQueryEnabled?[4,$(t,n)]:[3,2]:[2];case 1:s.sent(),s.label=2;case 2:return[4,ee()];case 3:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(r=s.sent())?[2,Z(r,n)]:n.notification?[4,te(X(n))]:[3,5];case 4:s.sent(),s.label=5;case 5:return t?t.onBackgroundMessageHandler?(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var s=t.notification.icon;s&&(e.notification.icon=s)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){var n,r,i,s,a;if(t.fcmOptions||(null===(n=t.notification)||void 0===n?void 0:n.click_action)){e.fcmOptions={};var o=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=t.notification)||void 0===s?void 0:s.click_action;o&&(e.fcmOptions.link=o);var c=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}}(t,e),t}(n),"function"!=typeof t.onBackgroundMessageHandler?[3,7]:[4,t.onBackgroundMessageHandler(i)]):[3,8]:[2];case 6:return s.sent(),[3,8];case 7:t.onBackgroundMessageHandler.next(i),s.label=8;case 8:return[2]}}))}))}(e,t))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(function(e,t){var n,r;return a.__awaiter(this,void 0,void 0,(function(){var i;return a.__generator(this,(function(s){switch(s.label){case 0:return e.newSubscription?[3,2]:[4,G(t)];case 1:case 5:return s.sent(),[2];case 2:return[4,D(t.firebaseDependencies)];case 3:return i=s.sent(),[4,G(t)];case 4:return s.sent(),t.vapidKey=null!==(r=null===(n=null==i?void 0:i.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==r?r:l,[4,K(t)]}}))}))}(e,t))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(Q(e))})),t};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function se(){return a.__awaiter(this,void 0,void 0,(function(){var e;return a.__generator(this,(function(t){switch(t.label){case 0:return(e=c.isIndexedDBAvailable())?[4,c.validateIndexedDBOpenable()]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return[2,e&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")]}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */u._registerComponent(new s.Component("messaging-sw",ie,"PUBLIC")),n.experimentalSetDeliveryMetricsExportedToBigQueryEnabled=function(e,t){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(e,t){e.deliveryMetricsExportedToBigQueryEnabled=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=c.getModularInstance(e),t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.getMessaging=function(e){return void 0===e&&(e=u.getApp()),se().then((function(e){if(!e)throw M.create("unsupported-browser")}),(function(e){throw M.create("indexed-db-unsupported")})),u._getProvider(c.getModularInstance(e),"messaging-sw").getImmediate()},n.isSupported=se,n.onBackgroundMessage=function(e,t){return function(e,t){if(self.document!==undefined)throw M.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,function(){e.onBackgroundMessageHandler=null}}(e=c.getModularInstance(e),t)}}}},{package:"@metamask/notification-services-controller>firebase>@firebase/messaging",file:"node_modules/@firebase/messaging/dist/index.sw.cjs"}],[6334,{"../contexts/i18n":6211,react:4776},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useI18nContext=function(){return(0,r.useContext)(i.I18nContext)};var r=e("react"),i=e("../contexts/i18n")}}},{package:"$root$",file:"ui/hooks/useI18nContext.js"}],[634,{_process:4523},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.Sha1=n.RANDOM_FACTOR=n.MAX_VALUE_MILLIS=n.FirebaseError=n.ErrorFactory=n.Deferred=n.DecodeBase64StringError=n.CONSTANTS=void 0,n.areCookiesEnabled=function(){if("undefined"==typeof navigator||!navigator.cookieEnabled)return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.assertionError=n.assert=void 0,n.async=function(e,t){return(...n)=>{Promise.resolve(!0).then((()=>{e(...n)})).catch((e=>{t&&t(e)}))}},n.base64urlEncodeWithoutPadding=n.base64Encode=n.base64Decode=n.base64=void 0,n.calculateBackoffMillis=function(e,t=N,n=b){const r=t*Math.pow(n,e),i=Math.round(R*r*(Math.random()-.5)*2);return Math.min(D,r+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.createMockUserToken=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.createSubscribe=function(e,t){const n=new v(e,t);return n.subscribe.bind(n)},n.decode=void 0,n.deepCopy=function(e){return d(undefined,e)},n.deepEqual=function e(t,n){if(t===n)return!0;const r=Object.keys(t),i=Object.keys(n);for(const s of r){if(!i.includes(s))return!1;const r=t[s],a=n[s];if(A(r)&&A(a)){if(!e(r,a))return!1}else if(r!==a)return!1}for(const e of i)if(!r.includes(e))return!1;return!0},n.deepExtend=d,n.errorPrefix=O,n.extractQuerystring=function(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:undefined)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.getExperimentalSetting=n.getDefaults=n.getDefaultEmulatorHostnameAndPort=n.getDefaultEmulatorHost=n.getDefaultAppConfig=void 0,n.getGlobal=p,n.getModularInstance=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return e&&e._delegate?e._delegate:e},n.getUA=m,n.isAdmin=void 0,n.isBrowser=function(){return"object"==typeof self&&self.self===self},n.isBrowserExtension=function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:undefined;return"object"==typeof e&&e.id!==undefined},n.isElectron=function(){return m().indexOf("Electron/")>=0},n.isEmpty=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},n.isIE=function(){const e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},n.isIndexedDBAvailable=function(){try{return"object"==typeof indexedDB}catch(e){return!1}},n.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())},n.isNode=T,n.isNodeSdk=function(){return!0===t.NODE_CLIENT||!0===t.NODE_ADMIN},n.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},n.isSafari=function(){return!T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},n.isUWP=function(){return m().indexOf("MSAppHost/")>=0},n.issuedAtTime=n.isValidTimestamp=n.isValidFormat=void 0,n.jsonEval=S,n.map=function(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},n.ordinal=function(e){if(!Number.isFinite(e))return`${e}`;return e+function(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20)return"th";const n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e)},n.promiseWithTimeout=
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t=2e3){const n=new g;return setTimeout((()=>n.reject("timeout!")),t),e.then(n.resolve,n.reject),n.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.querystring=function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""},n.querystringDecode=function(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t},n.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:undefined},n.stringToByteArray=n.stringLength=void 0,n.stringify=function(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.validateArgCount=n.uuidv4=void 0,n.validateCallback=function(e,t,n,r){if(r&&!n)return;if("function"!=typeof n)throw new Error(O(e,t)+"must be a valid function.")},n.validateContextObject=function(e,t,n,r){if(r&&!n)return;if("object"!=typeof n||null===n)throw new Error(O(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,n.validateIndexedDBOpenable=function(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))},n.validateNamespace=function(e,t,n){if(n&&!t)return;if("string"!=typeof t)throw new Error(O(e,"namespace")+"must be a valid firebase namespace.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const t=n.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(e,t){if(!e)throw i(t)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.assert=r;const i=function(e){return new Error("Firebase Database ("+t.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.assertionError=i;const s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a=n.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,c=o?e[t+2]:0,u=i>>2,l=(3&i)<<4|a>>4;let d=(15&a)<<2|c>>6,p=63&c;o||(p=64,s||(d=64)),r.push(n[u],n[l],n[d],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const c=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==c)throw new o;const u=i<<2|s>>4;if(r.push(u),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==c){const e=a<<6&192|c;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}n.DecodeBase64StringError=o;const c=function(e){const t=s(e);return a.encodeByteArray(t,!0)};n.base64Encode=c;const u=function(e){return c(e).replace(/\./g,"")};n.base64urlEncodeWithoutPadding=u;const l=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:e===undefined&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function p(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.base64Decode=l;const h=()=>{try{return p().__FIREBASE_DEFAULTS__||(()=>{if(void 0===e||void 0===e.env)return})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}};n.getDefaults=h;const f=e=>{var t,n;return null===(n=null===(t=h())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]};n.getDefaultEmulatorHost=f;n.getDefaultEmulatorHostnameAndPort=e=>{const t=f(e);if(!t)return undefined;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]};n.getDefaultAppConfig=()=>{var e;return null===(e=h())||void 0===e?void 0:e.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n.getExperimentalSetting=e=>{var t;return null===(t=h())||void 0===t?void 0:t[`_${e}`]};class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function T(){var e;const t=null===(e=h())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}n.Deferred=g;class y extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E.prototype.create)}}n.FirebaseError=y;class E{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(_,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new y(r,a,n)}}n.ErrorFactory=E;const _=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(e){return JSON.parse(e)}const I=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=S(l(s[0])||""),n=S(l(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};n.decode=I;n.isValidTimestamp=function(e){const t=I(e).claims,n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i};n.issuedAtTime=function(e){const t=I(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null};n.isValidFormat=function(e){const t=I(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")};function A(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n.isAdmin=function(e){const t=I(e).claims;return"object"==typeof t&&!0===t.admin};n.Sha1=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,s=this.chain_[0],a=this.chain_[1],o=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=c^a&(o^c),i=1518500249):(r=a^o^c,i=1859775393):e<60?(r=a&o|c&(a|o),i=2400959708):(r=a^o^c,i=3395469782);const t=(s<<5|s>>>27)+r+u+i+n[e]&4294967295;u=c,c=o,o=4294967295&(a<<30|a>>>2),a=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;t===undefined&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}};class v{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(e===undefined&&t===undefined&&n===undefined)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},r.next===undefined&&(r.next=C),r.error===undefined&&(r.error=C),r.complete===undefined&&(r.complete=C);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){this.observers!==undefined&&this.observers[e]!==undefined&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&this.onNoObservers!==undefined&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(this.observers!==undefined&&this.observers[e]!==undefined)try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,e!==undefined&&(this.finalError=e),this.task.then((()=>{this.observers=undefined,this.onNoObservers=undefined})))}}function C(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(e,t){return`${e} failed: ${t} argument `}n.validateArgCount=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}};n.stringToByteArray=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);if(s>=55296&&s<=56319){const t=s-55296;i++,r(i<e.length,"Surrogate pair missing trail surrogate.");s=65536+(t<<10)+(e.charCodeAt(i)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n.stringLength=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))};const N=1e3,b=2,D=n.MAX_VALUE_MILLIS=144e5,R=n.RANDOM_FACTOR=.5}).call(this)}).call(this,e("_process"))}}},{package:"@metamask/notification-services-controller>firebase>@firebase/util",file:"node_modules/@firebase/util/dist/index.esm2017.js"}],[6340,{"../selectors":6985,"react-redux":4734},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainSelector=function(e,t){return(0,r.useSelector)((n=>e(n,t||(0,i.getSelectedInternalAccount)(n))))};var r=e("react-redux"),i=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useMultichainSelector.ts"}],[635,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){var r=Math.floor(n()*e.prob.length);return t[n()<e.prob[r]?r:e.alias[r]]};n.default=function(e,t,n){if(void 0===n&&(n=Math.random),!Array.isArray(e))throw new Error("Probabilities must be an array.");if(0===e.length)throw new Error("Probabilities array must not be empty.");var i=e.length,s=null!=t?t:Array.from({length:i},(function(e,t){return t})),a=function(e,t){var n=e.reduce((function(t,n){if(n<0)throw new Error("Probability must be a positive: p["+e.indexOf(n)+"]="+n);return t+n}),0);if(0===n)throw new Error("Probability sum must be greater than zero.");for(var r=e.map((function(e){return e*t/n})),i={prob:new Array(t),alias:new Array(t)},s=[],a=[],o=t-1;o>=0;o--)r[o]<1?s.push(o):a.push(o);for(;s.length>0&&a.length>0;){var c=s.pop(),u=a.pop();i.prob[c]=r[c],i.alias[c]=u,r[u]=r[u]+r[c]-1,r[u]<1?s.push(u):a.push(u)}for(;a.length>0;)i.prob[a.pop()]=1;for(;s.length>0;)i.prob[s.pop()]=1;return i}(e,i);return{next:function(e){return void 0===e&&(e=1),function(e,t,n,i){if(void 0===i&&(i=1),1===i)return r(e,t,n);for(var s=[],a=0;a<i;a++)s.push(r(e,t,n));return s}(a,s,n,e)}}}}}},{package:"@ngraveio/bc-ur>@keystonehq/alias-sampling",file:"node_modules/@keystonehq/alias-sampling/dist/cjs/index.js"}],[6383,{"../../../app/scripts/controllers/bridge/constants":19,"../../../app/scripts/controllers/bridge/types":20,"../../../shared/constants/bridge":5249,"../../../shared/constants/network":5264,"../../../shared/constants/swaps":5274,"../../../shared/constants/time":5276,"../../../shared/lib/fetch-with-cache":5283,"../../../shared/modules/conversion.utils":5301,"../../../shared/modules/swaps.utils":5325,"./types":6400,"./utils/validators":6402,"@ethersproject/contracts":523,"@metamask/metamask-eth-abis":1944,"@metamask/utils":2761},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchBridgeFeatureFlags=async function(){const e=`${c.BRIDGE_API_BASE_URL}/getAllFeatureFlags`,t=await(0,l.default)({url:e,fetchOptions:{method:"GET",headers:y},cacheOptions:{cacheRefreshTime:E},functionName:"fetchBridgeFeatureFlags"});if((0,T.validateResponse)(T.FEATURE_FLAG_VALIDATORS,t,e))return{[o.BridgeFeatureFlagsKey.EXTENSION_CONFIG]:t[m.BridgeFlag.EXTENSION_CONFIG],[o.BridgeFeatureFlagsKey.EXTENSION_SUPPORT]:t[m.BridgeFlag.EXTENSION_SUPPORT],[o.BridgeFeatureFlagsKey.NETWORK_SRC_ALLOWLIST]:t[m.BridgeFlag.NETWORK_SRC_ALLOWLIST].map((e=>(0,s.add0x)((0,d.decimalToHex)(e)))),[o.BridgeFeatureFlagsKey.NETWORK_DEST_ALLOWLIST]:t[m.BridgeFlag.NETWORK_DEST_ALLOWLIST].map((e=>(0,s.add0x)((0,d.decimalToHex)(e))))};return{[o.BridgeFeatureFlagsKey.EXTENSION_CONFIG]:{refreshRate:f.REFRESH_INTERVAL_MS,maxRefreshCount:5},[o.BridgeFeatureFlagsKey.EXTENSION_SUPPORT]:!1,[o.BridgeFeatureFlagsKey.NETWORK_SRC_ALLOWLIST]:[],[o.BridgeFeatureFlagsKey.NETWORK_DEST_ALLOWLIST]:[]}},n.fetchBridgeQuotes=async function(e,t){const n=new URLSearchParams({walletAddress:e.walletAddress,srcChainId:e.srcChainId.toString(),destChainId:e.destChainId.toString(),srcTokenAddress:e.srcTokenAddress,destTokenAddress:e.destTokenAddress,srcTokenAmount:e.srcTokenAmount,slippage:e.slippage.toString(),insufficientBal:e.insufficientBal?"true":"false",resetApproval:e.resetApproval?"true":"false"}),r=`${c.BRIDGE_API_BASE_URL}/getQuote?${n}`,i=await(0,l.default)({url:r,fetchOptions:{method:"GET",headers:y,signal:t},cacheOptions:{cacheRefreshTime:0},functionName:"fetchBridgeQuotes"});return i.filter((e=>{const{quote:t,approval:n,trade:i}=e;return(0,T.validateResponse)(T.QUOTE_RESPONSE_VALIDATORS,e,r)&&(0,T.validateResponse)(T.QUOTE_VALIDATORS,t,r)&&(0,T.validateResponse)(T.TOKEN_VALIDATORS,t.srcAsset,r)&&(0,T.validateResponse)(T.TOKEN_VALIDATORS,t.destAsset,r)&&(0,T.validateResponse)(T.TX_DATA_VALIDATORS,i,r)&&(0,T.validateResponse)(T.FEE_DATA_VALIDATORS,t.feeData[m.FeeType.METABRIDGE],r)&&(!n||(0,T.validateResponse)(T.TX_DATA_VALIDATORS,n,r))}))},n.fetchBridgeTokens=async function(e){const t=`${c.BRIDGE_API_BASE_URL}/getTokens?chainId=${(0,d.hexToDecimal)(e)}`,n=await(0,l.default)({url:t,fetchOptions:{method:"GET",headers:y},cacheOptions:{cacheRefreshTime:E},functionName:"fetchBridgeTokens"}),r=p.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e],i={};r&&(i[r.address]=r);return n.forEach((n=>{!(0,T.validateResponse)(T.TOKEN_VALIDATORS,n,t)||(0,h.isSwapsDefaultTokenSymbol)(n.symbol,e)||(0,h.isSwapsDefaultTokenAddress)(n.address,e)||(i[n.address]=n)})),i},n.isEthUsdt=n.getEthUsdtResetData=void 0;var r,i=e("@ethersproject/contracts"),s=e("@metamask/utils"),a=e("@metamask/metamask-eth-abis"),o=e("../../../app/scripts/controllers/bridge/types"),c=e("../../../shared/constants/bridge"),u=e("../../../shared/constants/time"),l=(r=e("../../../shared/lib/fetch-with-cache"))&&r.__esModule?r:{default:r},d=e("../../../shared/modules/conversion.utils"),p=e("../../../shared/constants/swaps"),h=e("../../../shared/modules/swaps.utils"),f=e("../../../app/scripts/controllers/bridge/constants"),g=e("../../../shared/constants/network"),m=e("./types"),T=e("./utils/validators");const y={"X-Client-Id":c.BRIDGE_CLIENT_ID},E=10*u.MINUTE;n.getEthUsdtResetData=()=>new i.Contract(c.ETH_USDT_ADDRESS,a.abiERC20).interface.encodeFunctionData("approve",[c.METABRIDGE_ETHEREUM_ADDRESS,"0"]);n.isEthUsdt=(e,t)=>e===g.CHAIN_IDS.MAINNET&&t.toLowerCase()===c.ETH_USDT_ADDRESS.toLowerCase()}}},{package:"$root$",file:"ui/pages/bridge/bridge.util.ts"}],[639,{"@ethereumjs/util":478,"@keystonehq/bc-ur-registry":661,buffer:3561,hdkey:4178,uuid:5175},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("@keystonehq/bc-ur-registry"),s=e("uuid"),a=(r=e("hdkey"))&&"object"==typeof r&&"default"in r?r.default:r,o=e("@ethereumjs/util");const c={ETH_SIGN_REQUEST:new i.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new i.RegistryType("eth-signature",402),ETH_NFT_ITEM:new i.RegistryType("eth-nft-item",403)},{decodeToDataItem:u,RegistryTypes:l}=i.extend;var d,p;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(d||(d={})),(p=n.DataType||(n.DataType={}))[p.transaction=1]="transaction",p[p.typedData=2]="typedData",p[p.personalMessage=3]="personalMessage",p[p.typedTransaction=4]="typedTransaction";class h extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[d.requestId]=new i.DataItem(this.requestId,l.UUID.getTag())),this.address&&(e[d.address]=this.address),this.chainId&&(e[d.chainId]=Number(this.chainId)),this.origin&&(e[d.origin]=this.origin),e[d.signData]=this.signData,e[d.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[d.derivationPath]=t,new i.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,n,r,a,o,c,u,l){const d=r.replace(/[m|M]\//,"").split("/"),p=new i.CryptoKeypath(d.map((e=>{const t=parseInt(e.replace("'",""));let n=!1;return e.endsWith("'")&&(n=!0),new i.PathComponent({index:t,hardened:n})})),t.from(a,"hex"));return new h({requestId:o?t.from(s.parse(o)):undefined,signData:e,dataType:n,derivationPath:p,chainId:c,address:u?t.from(u.replace("0x",""),"hex"):undefined,origin:l||undefined})}}h.fromDataItem=e=>{const t=e.getData(),n=t[d.signData],r=t[d.dataType],s=i.CryptoKeypath.fromDataItem(t[d.derivationPath]),a=t[d.chainId]?t[d.chainId]:undefined,o=t[d.address]?t[d.address]:undefined,c=t[d.requestId]?t[d.requestId].getData():undefined,u=t[d.origin]?t[d.origin]:undefined;return new h({requestId:c,signData:n,dataType:r,chainId:a,derivationPath:s,address:o,origin:u})},h.fromCBOR=e=>{const t=u(e);return h.fromDataItem(t)};const{RegistryTypes:f,decodeToDataItem:g}=i.extend;var m;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(m||(m={}));class T extends i.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>c.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[m.requestId]=new i.DataItem(this.requestId,f.UUID.getTag())),this.origin&&(e[m.origin]=this.origin),e[m.signature]=this.signature,new i.DataItem(e)},this.signature=e,this.requestId=t,this.origin=n}}T.fromDataItem=e=>{const t=e.getData(),n=t[m.signature],r=t[m.requestId]?t[m.requestId].getData():undefined;return new T(n,r,t[m.origin])},T.fromCBOR=e=>{const t=g(e);return T.fromDataItem(t)};const{decodeToDataItem:y}=i.extend;var E;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(E||(E={}));class _ extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[E.chainId]=this.chainId,e[E.name]=this.name,e[E.contractAddress]=this.contractAddress,e[E.contractName]=this.contractName,e[E.mediaData]=this.mediaData,new i.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,r,i){return new _({chainId:e,contractAddress:t,contractName:n,mediaData:i,name:r})}}_.fromDataItem=e=>{const t=e.getData(),n=t[E.chainId],r=t[E.name],i=t[E.mediaData],s=t[E.contractAddress],a=t[E.contractName];return new _({chainId:n,name:r,contractAddress:s,contractName:a,mediaData:i})},_.fromCBOR=e=>{const t=y(e);return _.fromDataItem(t)};const S=(e,t)=>{const n=a.fromExtendedKey(e).derive(t),r="0x"+o.publicToAddress(n.publicKey,!0).toString("hex");return o.toChecksumAddress(r)};i.patchTags(Object.values(c).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(i).forEach((function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}})})),n.ETHNFTItem=_,n.ETHSignature=T,n.EthSignRequest=h,n.findHDPathFromAddress=(e,t,n,r)=>{for(let i=0;i<n;i++){const n=S(t,`M/0/${i}`);if(e.toLowerCase()==n.toLowerCase())return`${r}/0/${i}`}return null},n.generateAddressFromXpub=S}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js"}],[640,{"@ethereumjs/util":478,"@keystonehq/bc-ur-registry":661,buffer:3561,hdkey:4178,uuid:5175},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("@keystonehq/bc-ur-registry"),s=e("uuid"),a=(r=e("hdkey"))&&"object"==typeof r&&"default"in r?r.default:r,o=e("@ethereumjs/util");const c={ETH_SIGN_REQUEST:new i.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new i.RegistryType("eth-signature",402),ETH_NFT_ITEM:new i.RegistryType("eth-nft-item",403)},{decodeToDataItem:u,RegistryTypes:l}=i.extend;var d,p;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(d||(d={})),(p=n.DataType||(n.DataType={}))[p.transaction=1]="transaction",p[p.typedData=2]="typedData",p[p.personalMessage=3]="personalMessage",p[p.typedTransaction=4]="typedTransaction";class h extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[d.requestId]=new i.DataItem(this.requestId,l.UUID.getTag())),this.address&&(e[d.address]=this.address),this.chainId&&(e[d.chainId]=Number(this.chainId)),this.origin&&(e[d.origin]=this.origin),e[d.signData]=this.signData,e[d.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[d.derivationPath]=t,new i.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,n,r,a,o,c,u,l){const d=r.replace(/[m|M]\//,"").split("/"),p=new i.CryptoKeypath(d.map((e=>{const t=parseInt(e.replace("'",""));let n=!1;return e.endsWith("'")&&(n=!0),new i.PathComponent({index:t,hardened:n})})),t.from(a,"hex"));return new h({requestId:o?t.from(s.parse(o)):void 0,signData:e,dataType:n,derivationPath:p,chainId:c,address:u?t.from(u.replace("0x",""),"hex"):void 0,origin:l||void 0})}}h.fromDataItem=e=>{const t=e.getData(),n=t[d.signData],r=t[d.dataType],s=i.CryptoKeypath.fromDataItem(t[d.derivationPath]),a=t[d.chainId]?t[d.chainId]:void 0,o=t[d.address]?t[d.address]:void 0,c=t[d.requestId]?t[d.requestId].getData():void 0;return new h({requestId:c,signData:n,dataType:r,chainId:a,derivationPath:s,address:o,origin:t[d.origin]?t[d.origin]:void 0})},h.fromCBOR=e=>{const t=u(e);return h.fromDataItem(t)};const{RegistryTypes:f,decodeToDataItem:g}=i.extend;var m;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(m||(m={}));class T extends i.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>c.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[m.requestId]=new i.DataItem(this.requestId,f.UUID.getTag())),this.origin&&(e[m.origin]=this.origin),e[m.signature]=this.signature,new i.DataItem(e)},this.signature=e,this.requestId=t,this.origin=n}}T.fromDataItem=e=>{const t=e.getData(),n=t[m.signature],r=t[m.requestId]?t[m.requestId].getData():void 0;return new T(n,r,t[m.origin])},T.fromCBOR=e=>{const t=g(e);return T.fromDataItem(t)};const{decodeToDataItem:y}=i.extend;var E;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(E||(E={}));class _ extends i.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[E.chainId]=this.chainId,e[E.name]=this.name,e[E.contractAddress]=this.contractAddress,e[E.contractName]=this.contractName,e[E.mediaData]=this.mediaData,new i.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,r,i){return new _({chainId:e,contractAddress:t,contractName:n,mediaData:i,name:r})}}_.fromDataItem=e=>{const t=e.getData();return new _({chainId:t[E.chainId],name:t[E.name],contractAddress:t[E.contractAddress],contractName:t[E.contractName],mediaData:t[E.mediaData]})},_.fromCBOR=e=>{const t=y(e);return _.fromDataItem(t)};const S=(e,t)=>{const n=a.fromExtendedKey(e).derive(t),r="0x"+o.publicToAddress(n.publicKey,!0).toString("hex");return o.toChecksumAddress(r)};i.patchTags(Object.values(c).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(i).forEach((function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}})})),n.ETHNFTItem=_,n.ETHSignature=T,n.EthSignRequest=h,n.findHDPathFromAddress=(e,t,n,r)=>{for(let i=0;i<n;i++){const n=S(t,"M/0/"+i);if(e.toLowerCase()==n.toLowerCase())return`${r}/0/${i}`}return null},n.generateAddressFromXpub=S}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.production.min.js"}],[6400,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SortOrder=n.FeeType=n.ChainId=n.BridgeFlag=void 0;n.SortOrder=function(e){return e[e.COST_ASC=0]="COST_ASC",e[e.ETA_ASC=1]="ETA_ASC",e}({}),n.BridgeFlag=function(e){return e.EXTENSION_CONFIG="extension-config",e.EXTENSION_SUPPORT="extension-support",e.NETWORK_SRC_ALLOWLIST="src-network-allowlist",e.NETWORK_DEST_ALLOWLIST="dest-network-allowlist",e}({});n.ChainId=function(e){return e[e.ETH=1]="ETH",e[e.OPTIMISM=10]="OPTIMISM",e[e.BSC=56]="BSC",e[e.POLYGON=137]="POLYGON",e[e.ZKSYNC=324]="ZKSYNC",e[e.BASE=8453]="BASE",e[e.ARBITRUM=42161]="ARBITRUM",e[e.AVALANCHE=43114]="AVALANCHE",e[e.LINEA=59144]="LINEA",e}({}),n.FeeType=function(e){return e.METABRIDGE="metabridge",e.REFUEL="refuel",e}({})}}},{package:"$root$",file:"ui/pages/bridge/types.ts"}],[6401,{"../../../../shared/constants/common":5250,"../../../../shared/lib/transactions-controller-utils":5292,"../../../../shared/modules/Numeric":5294,"../../../../shared/modules/conversion.utils":5301,"../../../helpers/utils/confirm-tx.util":6275,"../../../hooks/useCurrencyDisplay":6324,"bignumber.js":3465,"ethereumjs-util":3796},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isValidQuoteRequest=n.isNativeAddress=n.formatTokenAmount=n.formatFiatAmount=n.formatEtaInMinutes=n.calcTotalGasFee=n.calcToAmount=n.calcSwapRate=n.calcSentAmount=n.calcRelayerFee=n.calcCost=n.calcAdjustedReturn=void 0;var r=e("ethereumjs-util"),i=e("bignumber.js"),s=e("../../../../shared/lib/transactions-controller-utils"),a=e("../../../../shared/modules/conversion.utils"),o=e("../../../helpers/utils/confirm-tx.util"),c=e("../../../../shared/modules/Numeric"),u=e("../../../../shared/constants/common"),l=e("../../../hooks/useCurrencyDisplay");const d=e=>e===(0,r.zeroAddress)();n.isNativeAddress=d;n.isValidQuoteRequest=(e,t=!0)=>{const n=["srcTokenAddress","destTokenAddress"];t&&n.push("srcTokenAmount");return n.every((t=>t in e&&"string"==typeof e[t]&&e[t]!==undefined&&""!==e[t]&&null!==e[t]))&&["srcChainId","destChainId","slippage"].every((t=>t in e&&"number"==typeof e[t]&&e[t]!==undefined&&!isNaN(Number(e[t]))&&null!==e[t]))};n.calcToAmount=({destTokenAmount:e,destAsset:t},n)=>{const r=(0,s.calcTokenAmount)(e,t.decimals);return{amount:r,fiat:n?r.mul(n.toString()):null}};n.calcSentAmount=({srcTokenAmount:e,srcAsset:t,feeData:n},r)=>{const a=(0,s.calcTokenAmount)(new i.BigNumber(e).plus(n.metabridge.amount),t.decimals);return{amount:a,fiat:r?a.mul(r.toString()):null}};n.calcRelayerFee=(e,t)=>{const{quote:{srcAsset:n,srcTokenAmount:r,feeData:o},trade:c}=e,u=(0,s.calcTokenAmount)(new i.BigNumber((0,a.hexToDecimal)(c.value)).minus(d(n.address)?new i.BigNumber(r).plus(o.metabridge.amount):0),18);return{amount:u,fiat:t?u.mul(t.toString()):null}};n.calcTotalGasFee=(e,t,n,r)=>{var s,o;const{approval:l,trade:d,l1GasFeesInHexWei:p}=e,h=(0,a.sumDecimals)((null===(s=d.gasLimit)||void 0===s?void 0:s.toString())??"0",(null==l||null===(o=l.gasLimit)||void 0===o?void 0:o.toString())??"0"),f=(0,a.sumDecimals)(t,n),g=c.Numeric.from(p??"0",16,u.EtherDenomination.WEI).toDenomination(u.EtherDenomination.GWEI),m=h.times(f).add(g),T=new i.BigNumber(m.shiftedBy(9).toString()),y=r?T.times(r.toString()):null;return{amount:T,fiat:y}};n.calcAdjustedReturn=(e,t)=>({fiat:e&&t?e.minus(t):null});n.calcSwapRate=(e,t)=>t.div(e);n.calcCost=(e,t)=>({fiat:e&&t?t.minus(e):null});n.formatEtaInMinutes=e=>(e/60).toFixed();n.formatTokenAmount=(e,t,n=2)=>`${e.toFixed(n)} ${t}`;n.formatFiatAmount=(e,t,n=l.DEFAULT_PRECISION)=>{if(!e)return undefined;if(0===n){if(e.lt(.01))return`<${(0,o.formatCurrency)("0",t,n)}`;if(e.lt(1))return(0,o.formatCurrency)(e.toString(),t,2)}return(0,o.formatCurrency)(e.toString(),t,n)}}}},{package:"$root$",file:"ui/pages/bridge/utils/quote.ts"}],[6402,{"../../../../shared/lib/swaps-utils":5288,"../types":6400,"@metamask/controller-utils":1422,"@metamask/utils":2761},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateResponse=n.isValidNumber=n.TX_DATA_VALIDATORS=n.TOKEN_VALIDATORS=n.QUOTE_VALIDATORS=n.QUOTE_RESPONSE_VALIDATORS=n.FEE_DATA_VALIDATORS=n.FEATURE_FLAG_VALIDATORS=void 0;var r=e("@metamask/utils"),i=e("@metamask/controller-utils"),s=e("../../../../shared/lib/swaps-utils"),a=e("../types");n.validateResponse=(e,t,n)=>(0,s.validateData)(e,t,n);const o=e=>"number"==typeof e;n.isValidNumber=o;const c=e=>"object"==typeof e&&null!==e,u=e=>"string"==typeof e&&e.length>0,l=e=>u(e)&&(0,i.isValidHexAddress)(e,{allowNonPrefixed:!1});n.FEATURE_FLAG_VALIDATORS=[{property:a.BridgeFlag.EXTENSION_CONFIG,type:"object",validator:e=>c(e)&&"refreshRate"in e&&o(e.refreshRate)&&"maxRefreshCount"in e&&o(e.maxRefreshCount)},{property:a.BridgeFlag.EXTENSION_SUPPORT,type:"boolean"},{property:a.BridgeFlag.NETWORK_SRC_ALLOWLIST,type:"object",validator:e=>c(e)&&Object.values(e).every(o)},{property:a.BridgeFlag.NETWORK_DEST_ALLOWLIST,type:"object",validator:e=>c(e)&&Object.values(e).every(o)}],n.TOKEN_VALIDATORS=[{property:"decimals",type:"number"},{property:"address",type:"string",validator:l},{property:"symbol",type:"string",validator:e=>u(e)&&e.length<=12}],n.QUOTE_RESPONSE_VALIDATORS=[{property:"quote",type:"object",validator:c},{property:"estimatedProcessingTimeInSeconds",type:"number"},{property:"approval",type:"object|undefined",validator:e=>e===undefined||c(e)},{property:"trade",type:"object",validator:c}],n.QUOTE_VALIDATORS=[{property:"requestId",type:"string"},{property:"srcTokenAmount",type:"string"},{property:"destTokenAmount",type:"string"},{property:"bridgeId",type:"string"},{property:"bridges",type:"object",validator:c},{property:"srcChainId",type:"number"},{property:"destChainId",type:"number"},{property:"srcAsset",type:"object",validator:c},{property:"destAsset",type:"object",validator:c},{property:"feeData",type:"object",validator:c}],n.FEE_DATA_VALIDATORS=[{property:"amount",type:"string",validator:s.truthyDigitString},{property:"asset",type:"object",validator:c}],n.TX_DATA_VALIDATORS=[{property:"chainId",type:"number"},{property:"value",type:"string",validator:r.isStrictHexString},{property:"gasLimit",type:"number"},{property:"to",type:"string",validator:l},{property:"from",type:"string",validator:l},{property:"data",type:"string",validator:r.isStrictHexString}]}}},{package:"$root$",file:"ui/pages/bridge/utils/validators.ts"}],[641,{"./bc-ur-registry-eth.cjs.development.js":639,"./bc-ur-registry-eth.cjs.production.min.js":640},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./bc-ur-registry-eth.cjs.production.min.js")}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js"}],[642,{"./RegistryItem":653,"./RegistryType":654,"./lib":664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Bytes=void 0;const r=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");class a extends i.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>s.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new r.DataItem(this.bytes)}}n.Bytes=a,a.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new a(t)},a.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return a.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js"}],[643,{".":661,"./RegistryItem":653,"./RegistryType":654,"./lib":664,buffer:3561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoAccount=void 0;const r=e("."),i=e("./lib"),s=e("./RegistryItem"),a=e("./RegistryType");var o;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"}(o||(o={}));class c extends s.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>a.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[o.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(e[o.outputDescriptors]=this.outputDescriptors.map((e=>e.toDataItem()))),new i.DataItem(e)}}}n.CryptoAccount=c,c.fromDataItem=e=>{const n=e.getData(),i=t.alloc(4),s=n[o.masterFingerprint];s&&i.writeUInt32BE(s,0);const a=n[o.outputDescriptors].map((e=>r.CryptoOutput.fromDataItem(e)));return new c(i,a)},c.fromCBOR=e=>{const t=(0,i.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js"}],[644,{"./RegistryItem":653,"./RegistryType":654,"./lib":664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoCoinInfo=n.Network=n.Type=void 0;const r=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");var a,o,c;!function(e){e.type="1",e.network="2"}(a||(a={})),function(e){e[e.bitcoin=0]="bitcoin"}(o=n.Type||(n.Type={})),function(e){e[e.mainnet=0]="mainnet",e[e.testnet=1]="testnet"}(c=n.Network||(n.Network={}));class u extends i.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||o.bitcoin,this.getNetwork=()=>this.network||c.mainnet,this.toDataItem=()=>{const e={};return this.type&&(e[a.type]=this.type),this.network&&(e[a.network]=this.network),new r.DataItem(e)}}}n.CryptoCoinInfo=u,u.fromDataItem=e=>{const t=e.getData(),n=t[a.type],r=t[a.network];return new u(n,r)},u.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js"}],[645,{"./RegistryItem":653,"./RegistryType":654,"./lib":664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoECKey=void 0;const r=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");var a;!function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"}(a||(a={}));class o extends i.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const e={};return this.curve&&(e[a.curve]=this.curve),this.privateKey!==undefined&&(e[a.private]=this.privateKey),e[a.data]=this.data,new r.DataItem(e)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||undefined}}n.CryptoECKey=o,o.fromDataItem=e=>{const t=e.getData(),n=t[a.curve],r=t[a.private],i=t[a.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new o({data:i,curve:n,privateKey:r})},o.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return o.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js"}],[646,{"./CryptoCoinInfo":644,"./CryptoKeypath":647,"./RegistryItem":653,"./RegistryType":654,"./lib":664,bs58check:3565,buffer:3561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoHDKey=void 0;const r=e("bs58check"),i=e("./CryptoCoinInfo"),s=e("./CryptoKeypath"),a=e("./lib"),o=e("./RegistryItem"),c=e("./RegistryType");var u;!function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"}(u||(u={}));class l extends o.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var e,n,i;let s,a,o=0,c=t.alloc(4).fill(0);if(this.isMaster())s=t.from("0488ADE4","hex"),a=0,o=0;else{a=(null===(e=this.getOrigin())||void 0===e?void 0:e.getComponents().length)||(null===(n=this.getOrigin())||void 0===n?void 0:n.getDepth());const r=null===(i=this.getOrigin())||void 0===i?void 0:i.getComponents(),u=r[r.length-1];u&&(o=u.isHardened()?u.getIndex()+2147483648:u.getIndex(),this.getParentFingerprint()&&(c=this.getParentFingerprint())),s=this.isPrivateKey()?t.from("0488ADE4","hex"):t.from("0488B21E","hex")}const u=t.alloc(1);u.writeUInt8(a,0);const l=t.alloc(4);l.writeUInt32BE(o,0);const d=this.getChainCode(),p=this.getKey();return(0,r.encode)(t.concat([s,u,c,l,d,p]))},this.getRegistryType=()=>c.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var e,t,n,r,i,s,a;let o="";return this.getOrigin()&&(null===(e=this.getOrigin())||void 0===e?void 0:e.getSourceFingerprint())&&(null===(t=this.getOrigin())||void 0===t?void 0:t.getPath())&&(o+=`${null===(r=null===(n=this.getOrigin())||void 0===n?void 0:n.getSourceFingerprint())||void 0===r?void 0:r.toString("hex")}/${null===(i=this.getOrigin())||void 0===i?void 0:i.getPath()}`),o+=this.getBip32Key(),this.getChildren()&&(null===(s=this.getChildren())||void 0===s?void 0:s.getPath())&&(o+=`/${null===(a=this.getChildren())||void 0===a?void 0:a.getPath()}`),o},this.setupMasterKey=e=>{this.master=!0,this.key=e.key,this.chainCode=e.chainCode},this.setupDeriveKey=e=>{this.master=!1,this.privateKey=e.isPrivateKey,this.key=e.key,this.chainCode=e.chainCode,this.useInfo=e.useInfo,this.origin=e.origin,this.children=e.children,this.parentFingerprint=e.parentFingerprint,this.name=e.name,this.note=e.note},this.toDataItem=()=>{const e={};if(this.master)e[u.is_master]=!0,e[u.key_data]=this.key,e[u.chain_code]=this.chainCode;else{if(this.privateKey!==undefined&&(e[u.is_private]=this.privateKey),e[u.key_data]=this.key,this.chainCode&&(e[u.chain_code]=this.chainCode),this.useInfo){const t=this.useInfo.toDataItem();t.setTag(this.useInfo.getRegistryType().getTag()),e[u.use_info]=t}if(this.origin){const t=this.origin.toDataItem();t.setTag(this.origin.getRegistryType().getTag()),e[u.origin]=t}if(this.children){const t=this.children.toDataItem();t.setTag(this.children.getRegistryType().getTag()),e[u.children]=t}this.parentFingerprint&&(e[u.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==undefined&&(e[u.name]=this.name),this.note!==undefined&&(e[u.note]=this.note)}return new a.DataItem(e)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}}n.CryptoHDKey=l,l.fromDataItem=e=>{const n=e.getData(),r=!!n[u.is_master],a=n[u.is_private],o=n[u.key_data],c=n[u.chain_code],d=n[u.use_info]?i.CryptoCoinInfo.fromDataItem(n[u.use_info]):undefined,p=n[u.origin]?s.CryptoKeypath.fromDataItem(n[u.origin]):undefined,h=n[u.children]?s.CryptoKeypath.fromDataItem(n[u.children]):undefined,f=n[u.parent_fingerprint];let g=undefined;f&&(g=t.alloc(4),g.writeUInt32BE(f,0));const m=n[u.name],T=n[u.note];return new l({isMaster:r,isPrivateKey:a,key:o,chainCode:c,useInfo:d,origin:p,children:h,parentFingerprint:g,name:m,note:T})},l.fromCBOR=e=>{const t=(0,a.decodeToDataItem)(e);return l.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js"}],[647,{"./PathComponent":652,"./RegistryItem":653,"./RegistryType":654,"./lib":664,buffer:3561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoKeypath=void 0;const r=e("./lib"),i=e("./PathComponent"),s=e("./RegistryItem"),a=e("./RegistryType");var o;!function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"}(o||(o={}));class c extends s.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>a.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return undefined;return this.components.map((e=>`${e.isWildcard()?"*":e.getIndex()}${e.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const e={},t=[];return this.components&&this.components.forEach((e=>{e.isWildcard()?t.push([]):t.push(e.getIndex()),t.push(e.isHardened())})),e[o.components]=t,this.sourceFingerprint&&(e[o.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==undefined&&(e[o.depth]=this.depth),new r.DataItem(e)}}}n.CryptoKeypath=c,c.fromDataItem=e=>{const n=e.getData(),r=[],s=n[o.components];if(s)for(let e=0;e<s.length;e+=2){const t=s[e+1],n=s[e];"number"==typeof n?r.push(new i.PathComponent({index:n,hardened:t})):r.push(new i.PathComponent({hardened:t}))}const a=n[o.source_fingerprint];let u;a&&(u=t.alloc(4),u.writeUInt32BE(a,0));const l=n[o.depth];return new c(r,u,l)},c.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js"}],[648,{"./CryptoECKey":645,"./CryptoHDKey":646,"./MultiKey":651,"./RegistryItem":653,"./RegistryType":654,"./ScriptExpression":655,"./lib":664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoOutput=void 0;const r=e("./CryptoECKey"),i=e("./CryptoHDKey"),s=e("./lib"),a=e("./MultiKey"),o=e("./RegistryItem"),c=e("./RegistryType"),u=e("./ScriptExpression");class l extends o.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>c.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof i.CryptoHDKey?this.cryptoKey:undefined,this.getECKey=()=>this.cryptoKey instanceof r.CryptoECKey?this.cryptoKey:undefined,this.getMultiKey=()=>this.cryptoKey instanceof a.MultiKey?this.cryptoKey:undefined,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=e=>e>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[e].getExpression()}(${this._toOutputDescriptor(e+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let e=this.cryptoKey.toDataItem();(this.cryptoKey instanceof r.CryptoECKey||this.cryptoKey instanceof i.CryptoHDKey)&&e.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((t=>{const n=t.getTag();e.getTag()===undefined?e.setTag(n):e=new s.DataItem(e,n)})),e}}}n.CryptoOutput=l,l.fromDataItem=e=>{const t=[];let n=e;for(;;){let e=n.getTag();const r=u.ScriptExpression.fromTag(e);if(!r)break;if(t.push(r),!(n.getData()instanceof s.DataItem))break;n=n.getData(),e=n.getTag()}const o=t.length;if(o>0&&(t[o-1].getExpression()===u.ScriptExpressions.MULTISIG.getExpression()||t[o-1].getExpression()===u.ScriptExpressions.SORTED_MULTISIG.getExpression())){const e=a.MultiKey.fromDataItem(n);return new l(t,e)}if(n.getTag()===c.RegistryTypes.CRYPTO_HDKEY.getTag()){const e=i.CryptoHDKey.fromDataItem(n);return new l(t,e)}{const e=r.CryptoECKey.fromDataItem(n);return new l(t,e)}},l.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return l.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js"}],[649,{"./RegistryItem":653,"./RegistryType":654,"./lib":664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoPSBT=void 0;const r=e("./lib"),i=e("./RegistryItem"),s=e("./RegistryType");class a extends i.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>s.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new r.DataItem(this.psbt)}}n.CryptoPSBT=a,a.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new a(t)},a.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return a.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js"}],[650,{"..":661,"../RegistryType":654,"../errors":656,"@ngraveio/bc-ur":2779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.URRegistryDecoder=void 0;const r=e("@ngraveio/bc-ur"),i=e(".."),s=e("../RegistryType"),a=e("../errors");class o extends r.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case s.RegistryTypes.BYTES.getType():return i.Bytes.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_HDKEY.getType():return i.CryptoHDKey.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_KEYPATH.getType():return i.CryptoKeypath.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_COIN_INFO.getType():return i.CryptoCoinInfo.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_ECKEY.getType():return i.CryptoECKey.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_OUTPUT.getType():return i.CryptoOutput.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_PSBT.getType():return i.CryptoPSBT.fromCBOR(e.cbor);case s.RegistryTypes.CRYPTO_ACCOUNT.getType():return i.CryptoAccount.fromCBOR(e.cbor);default:throw new a.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}n.URRegistryDecoder=o}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js"}],[651,{"./CryptoECKey":645,"./CryptoHDKey":646,"./RegistryItem":653,"./RegistryType":654,"./lib/DataItem":662},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultiKey=void 0;const r=e("./CryptoECKey"),i=e("./CryptoHDKey"),s=e("./lib/DataItem"),a=e("./RegistryItem"),o=e("./RegistryType");var c;!function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"}(c||(c={}));class u extends a.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const e={};e[c.threshold]=this.threshold;const t=this.keys.map((e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t}));return e[c.keys]=t,new s.DataItem(e)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((e=>e.getOutputDescriptorContent())).join(",")].join(",")}}n.MultiKey=u,u.fromDataItem=e=>{const t=e.getData(),n=t[c.threshold],s=t[c.keys],a=[];return s.forEach((e=>{e.getTag()===o.RegistryTypes.CRYPTO_HDKEY.getTag()?a.push(i.CryptoHDKey.fromDataItem(e)):e.getTag()===o.RegistryTypes.CRYPTO_ECKEY.getTag()&&a.push(r.CryptoECKey.fromDataItem(e))})),new u(n,a)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js"}],[652,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PathComponent=void 0;class r{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==undefined?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&r.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}n.PathComponent=r,r.HARDENED_BIT=2147483648}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js"}],[653,{"./lib":664,"@ngraveio/bc-ur":2779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RegistryItem=void 0;const r=e("@ngraveio/bc-ur"),i=e("./lib");n.RegistryItem=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===undefined)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,i.encodeDataItem)(this.toDataItem())},this.toUR=()=>new r.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{const i=this.toUR();return new r.UREncoder(i,e,t,n)}}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js"}],[654,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RegistryTypes=n.RegistryType=void 0;class r{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}}n.RegistryType=r,n.RegistryTypes={UUID:new r("uuid",37),BYTES:new r("bytes",undefined),CRYPTO_HDKEY:new r("crypto-hdkey",303),CRYPTO_KEYPATH:new r("crypto-keypath",304),CRYPTO_COIN_INFO:new r("crypto-coin-info",305),CRYPTO_ECKEY:new r("crypto-eckey",306),CRYPTO_OUTPUT:new r("crypto-output",308),CRYPTO_PSBT:new r("crypto-psbt",310),CRYPTO_ACCOUNT:new r("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new r("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new r("qr-hardware-call",1201),KEY_DERIVATION_CALL:new r("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new r("key-derivation-schema",1302)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js"}],[655,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptExpressions=n.ScriptExpression=void 0;class r{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}n.ScriptExpression=r,r.fromTag=e=>Object.values(n.ScriptExpressions).find((t=>t.getTag()===e)),n.ScriptExpressions={SCRIPT_HASH:new r(400,"sh"),WITNESS_SCRIPT_HASH:new r(401,"wsh"),PUBLIC_KEY:new r(402,"pk"),PUBLIC_KEY_HASH:new r(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new r(404,"wpkh"),COMBO:new r(405,"combo"),MULTISIG:new r(406,"multi"),SORTED_MULTISIG:new r(407,"sortedmulti"),ADDRESS:new r(307,"addr"),RAW_SCRIPT:new r(408,"raw")}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js"}],[656,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UnknownURTypeError=void 0;class r extends Error{constructor(e){super(e)}}n.UnknownURTypeError=r}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/errors/index.js"}],[657,{"../CryptoHDKey":646,"../RegistryItem":653,"../RegistryType":654,"../lib":664,buffer:3561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoMultiAccounts=void 0;const r=e("../RegistryType"),i=e("../CryptoHDKey"),s=e("../RegistryItem"),a=e("../lib");var o;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device",e[e.deviceId=4]="deviceId",e[e.version=5]="version"}(o||(o={}));class c extends s.RegistryItem{constructor(e,t,n,i,s){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.deviceId=i,this.version=s,this.getRegistryType=()=>r.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[o.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(e[o.keys]=this.keys.map((e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t}))),this.device&&(e[o.device]=this.device),this.deviceId&&(e[o.deviceId]=this.deviceId),this.version&&(e[o.version]=this.version),new a.DataItem(e)}}}n.CryptoMultiAccounts=c,c.fromDataItem=e=>{const n=e.getData(),r=t.alloc(4),s=n[o.masterFingerprint];s&&r.writeUInt32BE(s,0);const a=n[o.keys].map((e=>i.CryptoHDKey.fromDataItem(e))),u=n[o.device],l=n[o.deviceId],d=n[o.version];return new c(r,a,u,l,d)},c.fromCBOR=e=>{const t=(0,a.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/CryptoMultiAccounts.js"}],[658,{"../CryptoKeypath":647,"../RegistryItem":653,"../RegistryType":654,"../lib":664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyDerivationSchema=n.DerivationAlgorithm=n.Curve=void 0;const r=e("../RegistryType"),i=e("../RegistryItem"),s=e("../lib"),a=e("../CryptoKeypath");var o,c,u;!function(e){e[e.keyPath=1]="keyPath",e[e.curve=2]="curve",e[e.algo=3]="algo"}(o||(o={})),function(e){e[e.secp256k1=0]="secp256k1",e[e.ed25519=1]="ed25519"}(c=n.Curve||(n.Curve={})),function(e){e[e.slip10=0]="slip10",e[e.bip32ed25519=1]="bip32ed25519"}(u=n.DerivationAlgorithm||(n.DerivationAlgorithm={}));class l extends i.RegistryItem{constructor(e,t=c.secp256k1,n=u.slip10){super(),this.keypath=e,this.curve=t,this.algo=n,this.getRegistryType=()=>r.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{const e={},t=this.getKeypath().toDataItem();return t.setTag(this.getKeypath().getRegistryType().getTag()),e[o.keyPath]=t,e[o.curve]=this.curve,e[o.algo]=this.algo,new s.DataItem(e)}}}n.KeyDerivationSchema=l,l.fromDataItem=e=>{const t=e.getData(),n=a.CryptoKeypath.fromDataItem(t[o.keyPath]),r=t[o.curve],i=t[o.algo];return new l(n,r,i)},l.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return l.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/DerivationSchema.js"}],[659,{"../RegistryItem":653,"../RegistryType":654,"../lib":664,"./DerivationSchema":658},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyDerivation=void 0;const r=e("../RegistryType"),i=e("../RegistryItem"),s=e("../lib"),a=e("./DerivationSchema");var o;!function(e){e[e.schemas=1]="schemas"}(o||(o={}));class c extends i.RegistryItem{constructor(e){super(),this.schemas=e,this.getRegistryType=()=>r.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const e={};return e[o.schemas]=this.schemas.map((e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t})),new s.DataItem(e)}}}n.KeyDerivation=c,c.fromDataItem=e=>{const t=e.getData()[o.schemas].map((e=>a.KeyDerivationSchema.fromDataItem(e)));return new c(t)},c.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return c.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/KeyDerivation.js"}],[660,{"../RegistryItem":653,"../RegistryType":654,"../lib":664,"./KeyDerivation":659},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.QRHardwareCall=n.QRHardwareCallType=void 0;const r=e("../RegistryType"),i=e("../RegistryItem"),s=e("../lib"),a=e("./KeyDerivation");var o,c;!function(e){e[e.type=1]="type",e[e.params=2]="params",e[e.origin=3]="origin"}(o||(o={})),function(e){e[e.KeyDerivation=0]="KeyDerivation"}(c=n.QRHardwareCallType||(n.QRHardwareCallType={}));class u extends i.RegistryItem{constructor(e,t,n){super(),this.type=e,this.params=t,this.origin=n,this.getRegistryType=()=>r.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};e[o.type]=this.type;const t=this.params.toDataItem();return t.setTag(this.params.getRegistryType().getTag()),e[o.params]=t,this.origin&&(e[o.origin]=this.origin),new s.DataItem(e)}}}n.QRHardwareCall=u,u.fromDataItem=e=>{const t=e.getData(),n=t[o.type]||c.KeyDerivation;let r;if(n===c.KeyDerivation)r=a.KeyDerivation.fromDataItem(t[o.params]);const i=t[o.origin];return new u(n,r,i)},u.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/extended/QRHardwareCall.js"}],[661,{"./Bytes":642,"./CryptoAccount":643,"./CryptoCoinInfo":644,"./CryptoECKey":645,"./CryptoHDKey":646,"./CryptoKeypath":647,"./CryptoOutput":648,"./CryptoPSBT":649,"./Decoder":650,"./MultiKey":651,"./PathComponent":652,"./RegistryItem":653,"./RegistryType":654,"./ScriptExpression":655,"./errors":656,"./extended/CryptoMultiAccounts":657,"./extended/DerivationSchema":658,"./extended/KeyDerivation":659,"./extended/QRHardwareCall":660,"./lib":664,"./patchCBOR":665,"./types":666,"./utils":667,"buffer/":3568,tslib:5129},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Buffer=n.extend=n.PathComponent=n.ScriptExpressions=n.MultiKey=n.CryptoPSBT=n.CryptoOutput=n.CryptoECKey=n.CryptoCoinInfoNetwork=n.CryptoCoinInfoType=n.CryptoCoinInfo=n.CryptoKeypath=n.CryptoMultiAccounts=n.CryptoHDKey=n.CryptoAccount=n.Bytes=n.URRegistryDecoder=n.DataItem=void 0;const r=e("tslib");e("./patchCBOR");const i=e("buffer/");Object.defineProperty(n,"Buffer",{enumerable:!0,get:function(){return i.Buffer}});const s=e("./CryptoHDKey");Object.defineProperty(n,"CryptoHDKey",{enumerable:!0,get:function(){return s.CryptoHDKey}});const a=e("./CryptoKeypath");Object.defineProperty(n,"CryptoKeypath",{enumerable:!0,get:function(){return a.CryptoKeypath}});const o=e("./CryptoCoinInfo");Object.defineProperty(n,"CryptoCoinInfo",{enumerable:!0,get:function(){return o.CryptoCoinInfo}}),Object.defineProperty(n,"CryptoCoinInfoType",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(n,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return o.Network}});const c=e("./CryptoECKey");Object.defineProperty(n,"CryptoECKey",{enumerable:!0,get:function(){return c.CryptoECKey}});const u=e("./Bytes");Object.defineProperty(n,"Bytes",{enumerable:!0,get:function(){return u.Bytes}});const l=e("./CryptoOutput");Object.defineProperty(n,"CryptoOutput",{enumerable:!0,get:function(){return l.CryptoOutput}});const d=e("./CryptoPSBT");Object.defineProperty(n,"CryptoPSBT",{enumerable:!0,get:function(){return d.CryptoPSBT}});const p=e("./CryptoAccount");Object.defineProperty(n,"CryptoAccount",{enumerable:!0,get:function(){return p.CryptoAccount}});const h=e("./Decoder");Object.defineProperty(n,"URRegistryDecoder",{enumerable:!0,get:function(){return h.URRegistryDecoder}});const f=e("./MultiKey");Object.defineProperty(n,"MultiKey",{enumerable:!0,get:function(){return f.MultiKey}});const g=e("./ScriptExpression");Object.defineProperty(n,"ScriptExpressions",{enumerable:!0,get:function(){return g.ScriptExpressions}});const m=e("./PathComponent");Object.defineProperty(n,"PathComponent",{enumerable:!0,get:function(){return m.PathComponent}});const T=e("./RegistryItem"),y=e("./RegistryType"),E=e("./lib");var _=e("./lib");Object.defineProperty(n,"DataItem",{enumerable:!0,get:function(){return _.DataItem}});const S=e("./utils"),I=e("./extended/CryptoMultiAccounts");Object.defineProperty(n,"CryptoMultiAccounts",{enumerable:!0,get:function(){return I.CryptoMultiAccounts}});const A={URRegistryDecoder:h.URRegistryDecoder,Bytes:u.Bytes,CryptoAccount:p.CryptoAccount,CryptoHDKey:s.CryptoHDKey,CryptoMultiAccounts:I.CryptoMultiAccounts,CryptoKeypath:a.CryptoKeypath,CryptoCoinInfo:o.CryptoCoinInfo,CryptoCoinInfoType:o.Type,CryptoCoinInfoNetwork:o.Network,CryptoECKey:c.CryptoECKey,CryptoOutput:l.CryptoOutput,CryptoPSBT:d.CryptoPSBT,MultiKey:f.MultiKey,ScriptExpressions:g.ScriptExpressions,PathComponent:m.PathComponent},v={addReader:E.addReader,addSemanticDecode:E.addSemanticDecode,addSemanticEncode:E.addSemanticEncode,addWriter:E.addWriter,patchTags:S.patchTags},C={RegistryTypes:y.RegistryTypes,RegistryItem:T.RegistryItem,RegistryType:y.RegistryType,decodeToDataItem:E.decodeToDataItem,encodeDataItem:E.encodeDataItem,cbor:v};n.extend=C,(0,r.__exportStar)(e("./errors"),n),(0,r.__exportStar)(e("./Decoder"),n),(0,r.__exportStar)(e("./lib"),n),(0,r.__exportStar)(e("./CryptoAccount"),n),(0,r.__exportStar)(e("./CryptoPSBT"),n),(0,r.__exportStar)(e("./CryptoHDKey"),n),(0,r.__exportStar)(e("./extended/CryptoMultiAccounts"),n),(0,r.__exportStar)(e("./extended/QRHardwareCall"),n),(0,r.__exportStar)(e("./extended/KeyDerivation"),n),(0,r.__exportStar)(e("./extended/DerivationSchema"),n),(0,r.__exportStar)(e("./CryptoOutput"),n),(0,r.__exportStar)(e("./CryptoCoinInfo"),n),(0,r.__exportStar)(e("./CryptoECKey"),n),(0,r.__exportStar)(e("./MultiKey"),n),(0,r.__exportStar)(e("./CryptoKeypath"),n),(0,r.__exportStar)(e("./patchCBOR"),n),(0,r.__exportStar)(e("./PathComponent"),n),(0,r.__exportStar)(e("./RegistryItem"),n),(0,r.__exportStar)(e("./RegistryType"),n),(0,r.__exportStar)(e("./types"),n),(0,r.__exportStar)(e("./utils"),n),n.default=A}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/index.js"}],[662,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DataItem=void 0;n.DataItem=class{constructor(e,t){this.setTag=e=>{this.tag=e},this.clearTag=()=>{this.tag=undefined},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/DataItem.js"}],[663,{"./DataItem":662,buffer:3561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(n){(function(){!function(e,n){"function"==typeof define&&define.amd?define([],n):void 0!==t&&t.exports?t.exports=n():e.CBOR=n()}(this,(function(){const{DataItem:t}=e("./DataItem");var r=function(){function e(e){this.$hex=e}e.prototype={length:function(){return this.$hex.length/2},toString:function(e){if(!e||"hex"===e||16===e)return this.$hex;if("utf-8"===e){for(var t="",n=0;n<this.$hex.length;n+=2)t+="%"+this.$hex.substring(n,n+2);return decodeURIComponent(t)}if("latin"===e){for(t=[],n=0;n<this.$hex.length;n+=2)t.push(parseInt(this.$hex.substring(n,n+2),16));return String.fromCharCode.apply(String,t)}throw new Error("Unrecognised format: "+e)}},e.fromLatinString=function(t){for(var n="",r=0;r<t.length;r++){var i=t.charCodeAt(r).toString(16);1===i.length&&(i="0"+i),n+=i}return new e(n)},e.fromUtf8String=function(t){for(var n=encodeURIComponent(t),r="",i=0;i<n.length;i++)if("%"===n.charAt(i))r+=n.substring(i+1,i+3),i+=2;else{var s=n.charCodeAt(i).toString(16);s.length<2&&(s="0"+s),r+=s}return new e(r)};var r=[],i={},s=function(e){return function(){throw new Error(e+" not implemented")}};function a(){}function o(){}function c(e,t){var n=e.value;return n<24?n:24==n?t.readByte():25==n?t.readUint16():26==n?t.readUint32():27==n?t.readUint64():31==n?null:void s("Additional info: "+n)()}function u(e,t,n){var r=e<<5;t<24?n.writeByte(r|t):t<256?(n.writeByte(24|r),n.writeByte(t)):t<65536?(n.writeByte(25|r),n.writeUint16(t)):t<4294967296?(n.writeByte(26|r),n.writeUint32(t)):(n.writeByte(27|r),n.writeUint64(t))}a.prototype={peekByte:s("peekByte"),readByte:s("readByte"),readChunk:s("readChunk"),readFloat16:function(){var e=this.readUint16(),t=(32767&e)>>10,n=1023&e,r=32768&e;if(31===t)return 0===n?r?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-25)*(1024+n):Math.pow(2,-24)*n;return r?-i:i},readFloat32:function(){var e=this.readUint32(),t=(2147483647&e)>>23,n=8388607&e,r=2147483648&e;if(255===t)return 0===n?r?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-23-127)*(8388608+n):Math.pow(2,-149)*n;return r?-i:i},readFloat64:function(){var e=this.readUint32(),t=e>>20&2047,n=4294967296*(1048575&e)+this.readUint32(),r=2147483648&e;if(2047===t)return 0===n?r?-Infinity:Infinity:NaN;var i=t?Math.pow(2,t-52-1023)*(4503599627370496+n):Math.pow(2,-1074)*n;return r?-i:i},readUint16:function(){return 256*this.readByte()+this.readByte()},readUint32:function(){return 65536*this.readUint16()+this.readUint16()},readUint64:function(){return 4294967296*this.readUint32()+this.readUint32()}},o.prototype={writeByte:s("writeByte"),result:s("result"),writeFloat16:s("writeFloat16"),writeFloat32:s("writeFloat32"),writeFloat64:s("writeFloat64"),writeUint16:function(e){this.writeByte(e>>8&255),this.writeByte(255&e)},writeUint32:function(e){this.writeUint16(e>>16&65535),this.writeUint16(65535&e)},writeUint64:function(e){if(e>=9007199254740992||e<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+e+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(e/4294967296)),this.writeUint32(e%4294967296)},writeString:s("writeString"),canWriteBinary:function(e){return!1},writeBinary:s("writeChunk")};var l=new Error;function d(e){var t=function(e){var t=e.readByte();return{type:t>>5,value:31&t}}(e);switch(t.type){case 0:return c(t,e);case 1:return-1-c(t,e);case 2:return e.readChunk(c(t,e));case 3:return e.readChunk(c(t,e)).toString("utf-8");case 4:case 5:var n=c(t,e),r=[];if(null!==n){5===t.type&&(n*=2);for(var s=0;s<n;s++)r[s]=d(e)}else for(var a;(a=d(e))!==l;)r.push(a);if(5===t.type){var o={};for(s=0;s<r.length;s+=2)o[r[s]]=r[s+1];return o}return r;case 6:var u=c(t,e),p=i[u];r=d(e);return p?p(r):r;case 7:if(25===t.value)return e.readFloat16();if(26===t.value)return e.readFloat32();if(27===t.value)return e.readFloat64();switch(c(t,e)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return undefined;case null:return l;default:throw new Error("Unknown fixed value: "+t.value)}default:throw new Error("Unsupported header: "+JSON.stringify(t))}throw new Error("not implemented yet")}function p(e,t){for(var n=0;n<r.length;n++){var i=r[n].fn(e);if(i!==undefined)return u(6,r[n].tag,t),p(i,t)}if(e&&"function"==typeof e.toCBOR&&(e=e.toCBOR()),!1===e)u(7,20,t);else if(!0===e)u(7,21,t);else if(null===e)u(7,22,t);else if(e===undefined)u(7,23,t);else if("number"==typeof e)Math.floor(e)===e&&e<9007199254740992&&e>-9007199254740992?e<0?u(1,-1-e,t):u(0,e,t):(!function(e,t,n){n.writeByte(e<<5|t)}(7,27,t),t.writeFloat64(e));else if("string"==typeof e)t.writeString(e,(function(e){u(3,e,t)}));else if(t.canWriteBinary(e))t.writeBinary(e,(function(e){u(2,e,t)}));else{if("object"!=typeof e)throw new Error("CBOR encoding not supported: "+e);if(g.config.useToJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),Array.isArray(e)){u(4,e.length,t);for(n=0;n<e.length;n++)p(e[n],t)}else{var s=Object.keys(e);u(5,s.length,t);for(n=0;n<s.length;n++){const r=parseInt(s[n]);isNaN(r)?(p(s[n],t),p(e[s[n]],t)):(p(r,t),p(e[s[n]],t))}}}}var h=[],f=[],g={config:{useToJSON:!0},addWriter:function(e,t){"string"==typeof e?f.push((function(n){if(e===n)return t(n)})):f.push(e)},addReader:function(e,t){"string"==typeof e?h.push((function(n,r){if(e===r)return t(n,r)})):h.push(e)},encode:function(e,t){for(var n=0;n<f.length;n++){var r=(0,f[n])(t);if(r)return p(e,r),r.result()}throw new Error("Unsupported output format: "+t)},encodeDataItem:function(e,t){for(var n=0;n<f.length;n++){var r=(0,f[n])(t);if(r)return e.getTag()!==undefined?(p(e,r),r.result()):(p(e.getData(),r),r.result())}throw new Error("Unsupported output format: "+t)},decode:function(e,t){for(var n=0;n<h.length;n++){var r=(0,h[n])(e,t);if(r)return d(r)}throw new Error("Unsupported input format: "+t)},decodeToDataItem:function(e,n){for(var r=0;r<h.length;r++){var i=(0,h[r])(e,n);if(i){const e=d(i);return e instanceof t?e:new t(e)}}throw new Error("Unsupported input format: "+n)},addSemanticEncode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return r.push({tag:e,fn:t}),this},addSemanticDecode:function(e,t){if("number"!=typeof e||e%1!=0||e<0)throw new Error("Tag must be a positive integer");return i[e]=t,this}};function m(e){this.buffer=e,this.pos=0}function T(e){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=e}function y(e){this.hex=e,this.pos=0}function E(e){this.$hex="",this.finalFormat=e||"hex"}return m.prototype=Object.create(a.prototype),m.prototype.peekByte=function(){return this.buffer[this.pos]},m.prototype.readByte=function(){return this.buffer[this.pos++]},m.prototype.readUint16=function(){var e=this.buffer.readUInt16BE(this.pos);return this.pos+=2,e},m.prototype.readUint32=function(){var e=this.buffer.readUInt32BE(this.pos);return this.pos+=4,e},m.prototype.readFloat32=function(){var e=this.buffer.readFloatBE(this.pos);return this.pos+=4,e},m.prototype.readFloat64=function(){var e=this.buffer.readDoubleBE(this.pos);return this.pos+=8,e},m.prototype.readChunk=function(e){var t=n.alloc(e);return this.buffer.copy(t,0,this.pos,this.pos+=e),t},T.prototype=Object.create(o.prototype),T.prototype.writeByte=function(e){this.latestBuffer[this.latestBufferOffset++]=e,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},T.prototype.writeFloat32=function(e){var t=n.alloc(4);t.writeFloatBE(e,0),this.writeBuffer(t)},T.prototype.writeFloat64=function(e){var t=n.alloc(8);t.writeDoubleBE(e,0),this.writeBuffer(t)},T.prototype.writeString=function(e,t){var r=n.from(e,"utf-8");t(r.length),this.writeBuffer(r)},T.prototype.canWriteBinary=function(e){return e instanceof n},T.prototype.writeBinary=function(e,t){t(e.length),this.writeBuffer(e)},T.prototype.writeBuffer=function(e){if(!(e instanceof n))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=e.length?(e.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=e.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(e),this.latestBuffer=n.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(e),this.byteLength+=e.length},T.prototype.result=function(){for(var e=n.alloc(this.byteLength),t=0,r=0;r<this.completeBuffers.length;r++){var i=this.completeBuffers[r];i.copy(e,t,0,i.length),t+=i.length}return this.latestBufferOffset&&this.latestBuffer.copy(e,t,0,this.latestBufferOffset),this.stringFormat?e.toString(this.stringFormat):e},"function"==typeof n&&(g.addReader((function(e,t){return n.isBuffer(e)?new m(e):"hex"===t||"base64"===t?new m(n.from(e,t)):void 0})),g.addWriter((function(e){return e&&"buffer"!==e?"hex"===e||"base64"===e?new T(e):void 0:new T}))),y.prototype=Object.create(a.prototype),y.prototype.peekByte=function(){var e=this.hex.substring(this.pos,2);return parseInt(e,16)},y.prototype.readByte=function(){var e=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(e,16)},y.prototype.readChunk=function(t){var r=this.hex.substring(this.pos,this.pos+2*t);return this.pos+=2*t,"function"==typeof n?n.from(r,"hex"):new e(r)},E.prototype=Object.create(o.prototype),E.prototype.writeByte=function(e){if(e<0||e>255)throw new Error("Byte value out of range: "+e);var t=e.toString(16);1==t.length&&(t="0"+t),this.$hex+=t},E.prototype.canWriteBinary=function(t){return t instanceof e||"function"==typeof n&&t instanceof n},E.prototype.writeBinary=function(t,r){if(t instanceof e)r(t.length()),this.$hex+=t.$hex;else{if(!("function"==typeof n&&t instanceof n))throw new TypeError("HexWriter only accepts BinaryHex or Buffers");r(t.length),this.$hex+=t.toString("hex")}},E.prototype.result=function(){return"buffer"===this.finalFormat&&"function"==typeof n?n.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},E.prototype.writeString=function(t,n){var r=e.fromUtf8String(t);n(r.length()),this.$hex+=r.$hex},g.addReader((function(t,n){return t instanceof e||t.$hex?new y(t.$hex):"hex"===n?new y(t):void 0})),g.addWriter((function(e){if("hex"===e)return new E})),g}();return r.addSemanticEncode(0,(function(e){if(e instanceof Date)return e.toISOString()})).addSemanticDecode(0,(function(e){return new Date(e)})).addSemanticDecode(1,(function(e){return new Date(e)})),r}))}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/cbor-sync.js"}],[664,{"./DataItem":662,"./cbor-sync":663},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DataItem=n.addWriter=n.addReader=n.addSemanticEncode=n.addSemanticDecode=n.decodeToDataItem=n.encodeDataItem=void 0;var r=e("./cbor-sync");Object.defineProperty(n,"encodeDataItem",{enumerable:!0,get:function(){return r.encodeDataItem}}),Object.defineProperty(n,"decodeToDataItem",{enumerable:!0,get:function(){return r.decodeToDataItem}}),Object.defineProperty(n,"addSemanticDecode",{enumerable:!0,get:function(){return r.addSemanticDecode}}),Object.defineProperty(n,"addSemanticEncode",{enumerable:!0,get:function(){return r.addSemanticEncode}}),Object.defineProperty(n,"addReader",{enumerable:!0,get:function(){return r.addReader}}),Object.defineProperty(n,"addWriter",{enumerable:!0,get:function(){return r.addWriter}});var i=e("./DataItem");Object.defineProperty(n,"DataItem",{enumerable:!0,get:function(){return i.DataItem}})}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/lib/index.js"}],[665,{"./RegistryType":654,"./ScriptExpression":655,"./utils":667},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});const r=e("./utils"),i=e("./RegistryType"),s=e("./ScriptExpression"),a=Object.values(i.RegistryTypes).filter((e=>!!e.getTag())).map((e=>e.getTag())),o=Object.values(s.ScriptExpressions).map((e=>e.getTag()));(0,r.patchTags)(a.concat(o))}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/patchCBOR.js"}],[666,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/types.js"}],[6666,{"../../../components/component-library":5806,"../../../helpers/constants/design-system":6248,"./util":6689,"@metamask/controller-utils":1422},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ResultTemplate=void 0;var r=e("@metamask/controller-utils"),i=e("../../../components/component-library"),s=e("../../../helpers/constants/design-system"),a=e("./util");function o(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var u=new WeakMap,l=new WeakSet;function d(e,t){const{error:n,header:o,icon:l,message:d,title:p}=e,h=(g=this,(f=u).get(c(f,g))===r.ApprovalType.ResultSuccess);var f,g;return[...(0,a.processHeader)(o)??[],{key:"container",element:"Box",props:{flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,height:s.BlockSize.Full,padding:4},children:[{key:"content",element:"Box",props:{flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,height:s.BlockSize.Full,style:{alignSelf:s.AlignItems.stretch}},children:[null===l?undefined:{key:"icon",element:"AvatarIcon",props:{iconName:l??(h?i.IconName.Confirmation:i.IconName.Warning),size:i.IconSize.Xl,iconProps:{size:i.IconSize.Xl},color:h?s.IconColor.successDefault:s.IconColor.errorDefault,backgroundColor:h?s.BackgroundColor.successMuted:s.BackgroundColor.errorMuted},children:"Icon"},null===p?undefined:{key:"title",element:"Typography",props:{variant:s.TypographyVariant.H3,fontWeight:s.FontWeight.Bold},children:p??t(h?"resultPageSuccess":"resultPageError")},{key:"message",element:"Box",props:{alignItems:s.AlignItems.center,textAlign:s.TextAlign.Center,flexDirection:s.FlexDirection.Column,width:s.BlockSize.Full},children:h?(0,a.processString)(d,t("resultPageSuccessDefaultMessage")):(0,a.processError)(n,t("resultPageErrorDefaultMessage"))}]}]}]}n.ResultTemplate=class{constructor(e){var t,n;o(t=this,n=l),n.add(t),function(e,t,n){o(e,t),t.set(e,n)}(this,u,void 0),function(e,t,n){e.set(c(e,t),n)}(u,this,e)}getValues(e,t,n){return{content:c(l,this,d).call(this,e.requestData||{},t),submitText:t("ok"),onSubmit:()=>n.resolvePendingApproval(e.id,e.requestData),networkDisplay:!1}}}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/ResultTemplate.ts"}],[667,{"./lib":664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.patchTags=void 0;const r=e("./lib"),i=[];n.patchTags=e=>{e.forEach((e=>{i.find((t=>t===e))||((0,r.addSemanticEncode)(e,(t=>{if(t instanceof r.DataItem&&t.getTag()===e)return t.getData()})),(0,r.addSemanticDecode)(e,(t=>new r.DataItem(t,e))),i.push(e))}))}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/utils.js"}],[6675,{"../../../../../shared/constants/network":5264,"../../../../../shared/modules/rpc.utils":5315,"../../../../helpers/constants/design-system":6248,"../../../../helpers/constants/routes":6254,"../../../../helpers/constants/zendesk-url":6261,"../../utils/confirm":6755,"@metamask/network-controller":1990,"@metamask/rpc-errors":2304},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=e("@metamask/rpc-errors"),s=e("@metamask/network-controller"),a=e("../../../../../shared/constants/network"),o=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/constants/routes"),u=(r=e("../../../../helpers/constants/zendesk-url"))&&r.__esModule?r:{default:r},l=e("../../../../../shared/modules/rpc.utils"),d=e("../../utils/confirm");const p={id:"UNRECOGNIZED_CHAIN",severity:o.Severity.Warning,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"unrecognizedChain"}}}},h={id:"SAFE_CHAIN_LIST_PROVIDER_ERROR",severity:o.Severity.Warning,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"errorGettingSafeChainList"}}}},f={id:"MISMATCHED_CHAIN_RECOMMENDATION",severity:o.Severity.Warning,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"mismatchedChainRecommendation",variables:[{element:"a",key:"mismatchedChainLink",props:{href:u.default.VERIFY_CUSTOM_NETWORK,target:"__blank",tabIndex:0},children:{element:"MetaMaskTranslation",props:{translationKey:"mismatchedChainLinkText"}}}]}}}},g={id:"DEPRECATED_CHAIN_ALERT",severity:o.Severity.Warning,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"deprecatedNetwork"}}}},m={id:"MISMATCHED_NETWORK_NAME",severity:o.Severity.Warning,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"mismatchedNetworkName"}}}},T={id:"MISMATCHED_NETWORK_SYMBOL",severity:o.Severity.Danger,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"mismatchedNetworkSymbol"}}}},y={id:"MISMATCHED_NETWORK_RPC",severity:o.Severity.Danger,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"mismatchedRpcUrl"}}}},E={id:"MISMATCHED_NETWORK_RPC_CHAIN_ID",severity:o.Severity.Danger,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"mismatchedRpcChainId"}}}},_={id:"ERROR_CONNECTING_TO_RPC",severity:o.Severity.Danger,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"errorWhileConnectingToRPC"}}}};const S={getAlerts:async function(e,t){const n=[];if("metamask"===e.origin&&Boolean(t.matchedChain))return[];if(t.matchedChain){var r,i,s,o;(null===(r=t.matchedChain.name)||void 0===r?void 0:r.toLowerCase())!==e.requestData.chainName.toLowerCase()&&n.push(m),(null===(i=t.matchedChain.nativeCurrency)||void 0===i||null===(i=i.symbol)||void 0===i?void 0:i.toLowerCase())!==(null===(s=e.requestData.ticker)||void 0===s?void 0:s.toLowerCase())&&n.push(T);const{origin:c}=new URL(e.requestData.rpcUrl);null!==(o=t.matchedChain.rpc)&&void 0!==o&&o.map((e=>new URL(e).origin)).includes(c)||n.push(y),a.DEPRECATED_NETWORKS.includes(e.requestData.chainId)&&n.push(g)}return!t.matchedChain&&t.useSafeChainsListValidation&&(t.providerError?n.push(h):n.push(p)),n.length&&n.push(f),n},getValues:function(e,t,n,r,p){var h;const f="metamask"===e.origin,g=e.requestData.rpcUrl;let m,T;return m=f?t("wantToAddThisNetwork"):p.existingNetworkConfiguration?t("updateNetworkConfirmationTitle",[p.existingNetworkConfiguration.name]):t("addNetworkConfirmationTitle",[e.requestData.chainName]),T=p.existingNetworkConfiguration?t("updateEthereumChainConfirmationDescription"):t("multichainAddEthereumChainConfirmationDescription"),{content:[{element:"Typography",key:"title",children:m,props:{variant:o.TypographyVariant.H3,align:"center",fontWeight:"bold",boxProps:{margin:[0,0,4]}}},{element:"Typography",key:"description",children:T,props:{variant:o.TypographyVariant.H6,align:"center",boxProps:{margin:f?[0,8,4]:[0,0,4]}}},{element:"TruncatedDefinitionList",key:"network-details",props:{title:t("networkDetails"),tooltips:{[t("currencySymbol")]:t("currencySymbolDefinition"),[t("networkURL")]:t("networkURLDefinition"),[t("chainId")]:t("chainIdDefinition"),[t("networkName")]:t("networkNameDefinition"),[t("blockExplorerUrl")]:t("blockExplorerUrlDefinition")},warnings:{[t("networkURL")]:(0,d.isValidASCIIURL)(g)?undefined:t("networkUrlErrorWarning",[(0,d.toPunycodeURL)(g)]),[t("currencySymbol")]:p.currencySymbolWarning},dictionary:{[t("currencySymbol")]:e.requestData.ticker,[t("networkURL")]:null!==(h=g.toLowerCase())&&void 0!==h&&h.includes(`/v3/${a.infuraProjectId}`)?g.replace(`/v3/${a.infuraProjectId}`,"").toLowerCase():g.toLowerCase(),[t("chainId")]:parseInt(e.requestData.chainId,16),[t("networkName")]:e.requestData.chainName,[t("blockExplorerUrl")]:e.requestData.rpcPrefs.blockExplorerUrl},prefaceKeys:[t("currencySymbol"),t("networkURL")]}},{element:"Typography",key:"only-add-networks-you-trust",children:[{element:"MetaMaskTranslation",key:"learn-about-risks",props:{translationKey:"watchOutMessage",variables:[{element:"a",children:t("securityMessageLinkForNetworks"),key:"securityMessageLinkForNetworks",props:{href:u.default.USER_GUIDE_CUSTOM_NETWORKS,target:"__blank"}}]}}],props:{variant:o.TypographyVariant.H6,boxProps:{margin:f?[0,8]:0,display:o.Display.Flex,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.center}}}],cancelText:t("cancel"),submitText:t("approveButtonText"),loadingText:t("addingCustomNetwork"),onSubmit:async()=>{let t;try{t=await(0,l.jsonRpcRequest)(g,"eth_chainId")}catch(e){return console.error(`Request for method 'eth_chainId on ${g} failed`),[_]}if(e.requestData.chainId!==t)return console.error(`Chain ID returned by RPC URL ${g} does not match ${t}`),[E];if(await n.resolvePendingApproval(e.id,e.requestData),f){const t=e.requestData.rpcPrefs.blockExplorerUrl,i=await n.addNetwork({chainId:e.requestData.chainId,name:e.requestData.chainName,nativeCurrency:e.requestData.ticker,blockExplorerUrls:t?[t]:[],defaultBlockExplorerUrlIndex:t?0:undefined,defaultRpcEndpointIndex:0,rpcEndpoints:[{url:e.requestData.rpcUrl,type:s.RpcEndpointType.Custom}]});await n.setNewNetworkAdded({networkConfigurationId:i.rpcEndpoints[0].networkClientId,nickname:e.requestData.chainName});document.location.hash.replace("#","/")===c.ONBOARDING_PRIVACY_SETTINGS_ROUTE||r.push(c.DEFAULT_ROUTE)}return[]},onCancel:()=>n.rejectPendingApproval(e.id,i.providerErrors.userRejectedRequest().serialize()),networkDisplay:!f}},getState:function(e){return 1===parseInt(e.requestData.chainId,16)?{useWarningModal:!0}:{}}};n.default=S}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/add-ethereum-chain.js"}],[6676,{"../../../../../shared/constants/metametrics":5260},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../shared/constants/metametrics");const i={getValues:function(e,t,n,i,s,a){const{origin:o,snapName:c,requestData:u}=e,{snapSuggestedAccountName:l}=u,{trackEvent:d}=a,p=e=>{d({event:e,category:r.MetaMetricsEventCategory.Accounts,properties:{account_type:r.MetaMetricsEventAccountType.Snap,snap_id:o,snap_name:c}})};return{content:[{element:"CreateNamedSnapAccount",key:"create-named-snap-account",props:{onActionComplete:async t=>{t.success?(p(r.MetaMetricsEventName.AddSnapAccountConfirmed),n.resolvePendingApproval(e.id,t)):(p(r.MetaMetricsEventName.AddSnapAccountCanceled),n.resolvePendingApproval(e.id,!1))},snapSuggestedAccountName:l}}],loadingText:t("addingAccount"),hideSubmitButton:!0,onLoad:()=>p(r.MetaMetricsEventName.AddSnapAccountViewed)}}};n.default=i}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/create-named-snap-account.js"}],[6677,{"../../../../../shared/constants/metametrics":5260},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../shared/constants/metametrics");const i={getValues:function(e,t,n,i,s,a){const{origin:o,snapName:c}=e,{trackEvent:u}=a,l=e=>{u({event:e,category:r.MetaMetricsEventCategory.Accounts,properties:{account_type:r.MetaMetricsEventAccountType.Snap,snap_id:o,snap_name:c}})},d=()=>{l(r.MetaMetricsEventName.AddSnapAccountCanceled),n.resolvePendingApproval(e.id,!1)};return{content:[{element:"CreateSnapAccount",key:"create-snap-account",props:{snapId:o,snapName:c,onCancel:d}}],cancelText:t("cancel"),submitText:t("create"),onLoad:()=>l(r.MetaMetricsEventName.AddSnapAccountViewed),onSubmit:()=>{l(r.MetaMetricsEventName.AddSnapAccountConfirmed),n.resolvePendingApproval(e.id,!0)},onCancel:d}}};n.default=i}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/create-snap-account.js"}],[6678,{"../ResultTemplate":6666,"@metamask/controller-utils":1422},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/controller-utils");const i=new(e("../ResultTemplate").ResultTemplate)(r.ApprovalType.ResultError),s={getValues:i.getValues.bind(i)};n.default=s}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/error.js"}],[6679,{"../../../../../shared/constants/app":5248,"../../../../store/actions":7e3,"./add-ethereum-chain":6675,"./create-named-snap-account":6676,"./create-snap-account":6677,"./error":6678,"./remove-snap-account":6680,"./smart-transaction-status-page":6681,"./snap-account-redirect":6682,"./snaps/snap-alert/snap-alert":6683,"./snaps/snap-confirmation/snap-confirmation":6684,"./snaps/snap-default/snap-default":6685,"./snaps/snap-prompt/snap-prompt":6686,"./success":6687,"./switch-ethereum-chain":6688,"@metamask/controller-utils":1422,lodash:4380},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TEMPLATED_CONFIRMATION_APPROVAL_TYPES=n.PRIORITY_APPROVAL_TEMPLATE_TYPES=void 0,n.getTemplateAlerts=async function(e,t){var n;const r=null===(n=S[e.type])||void 0===n?void 0:n.getAlerts,i=r?await r(e,t):[];if(!Array.isArray(i))throw new Error(`Template alerts must be an array, received: ${i}`);if(i.some((e=>(null==e?void 0:e.id)===undefined)))throw new Error(`Template alert entries must be objects with an id key. Received: ${i}`);return i},n.getTemplateState=async function(e){var t;const n=(null===(t=S[e.type])||void 0===t?void 0:t.getState)??A,r=await n(e);if("object"!=typeof r||Array.isArray(r))throw new Error(`Template state must be an object, received: ${r}`);if(null===r||r===undefined)return{};return r},n.getTemplateValues=function(e,t,n,i,a,o){var c;const u=null===(c=S[e.type])||void 0===c?void 0:c.getValues;if(!u)throw new Error(`MESSAGE_TYPE: '${e.type}' is not specified in approval templates`);const l=function(e){return{rejectPendingApproval:(...t)=>e((0,s.rejectPendingApproval)(...t)),resolvePendingApproval:(...t)=>e((0,s.resolvePendingApproval)(...t)),addNetwork:(...t)=>e((0,s.addNetwork)(...t)),setNewNetworkAdded:(...t)=>e((0,s.setNewNetworkAdded)(...t)),deleteInterface:(...t)=>e((0,s.deleteInterface)(...t))}}(n),d=u(e,t,l,i,a,o),p=(0,r.omit)(d,I),h=(0,r.pick)(d,I);if(p.length>0)throw new Error(`Received extraneous keys from ${e.type}.getValues. These keys are not passed to the confirmation page: ${Object.keys(p)}`);return h};var r=e("lodash"),i=e("@metamask/controller-utils"),s=e("../../../../store/actions"),a=e("../../../../../shared/constants/app"),o=_(e("./smart-transaction-status-page")),c=_(e("./create-snap-account")),u=_(e("./remove-snap-account")),l=_(e("./snap-account-redirect")),d=_(e("./create-named-snap-account")),p=_(e("./add-ethereum-chain")),h=_(e("./switch-ethereum-chain")),f=_(e("./success")),g=_(e("./error")),m=_(e("./snaps/snap-alert/snap-alert")),T=_(e("./snaps/snap-confirmation/snap-confirmation")),y=_(e("./snaps/snap-prompt/snap-prompt")),E=_(e("./snaps/snap-default/snap-default"));function _(e){return e&&e.__esModule?e:{default:e}}n.PRIORITY_APPROVAL_TEMPLATE_TYPES=[a.SMART_TRANSACTION_CONFIRMATION_TYPES.showSmartTransactionStatusPage];const S={[i.ApprovalType.AddEthereumChain]:p.default,[i.ApprovalType.SwitchEthereumChain]:h.default,[i.ApprovalType.ResultSuccess]:f.default,[i.ApprovalType.ResultError]:g.default,[a.SMART_TRANSACTION_CONFIRMATION_TYPES.showSmartTransactionStatusPage]:o.default,[i.ApprovalType.SnapDialogAlert]:m.default,[i.ApprovalType.SnapDialogConfirmation]:T.default,[i.ApprovalType.SnapDialogPrompt]:y.default,[i.ApprovalType.SnapDialogDefault]:E.default,[a.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountCreation]:c.default,[a.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.confirmAccountRemoval]:u.default,[a.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showNameSnapAccount]:d.default,[a.SNAP_MANAGE_ACCOUNTS_CONFIRMATION_TYPES.showSnapAccountRedirect]:l.default},I=(n.TEMPLATED_CONFIRMATION_APPROVAL_TYPES=Object.keys(S),["cancelText","content","onLoad","onCancel","onSubmit","networkDisplay","submitText","loadingText","hideSubmitButton"]);async function A(){return{}}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/index.js"}],[6680,{"../../../../../shared/constants/metametrics":5260},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../shared/constants/metametrics");const i={getValues:function(e,t,n,i,s,a){const{origin:o,snapName:c}=e,{publicAddress:u}=e.requestData,{trackEvent:l}=a,d=e=>{l({event:e,category:r.MetaMetricsEventCategory.Accounts,properties:{account_type:r.MetaMetricsEventAccountType.Snap,snap_id:o,snap_name:c}})},p=()=>{d(r.MetaMetricsEventName.RemoveSnapAccountCanceled),n.resolvePendingApproval(e.id,!1)};return{content:[{element:"RemoveSnapAccount",key:"remove-snap-account",props:{snapId:o,snapName:c,publicAddress:u,onCancel:p}}],cancelText:t("cancel"),submitText:t("remove"),onLoad:()=>d(r.MetaMetricsEventName.RemoveSnapAccountViewed),onSubmit:()=>{d(r.MetaMetricsEventName.RemoveSnapAccountConfirmed),n.resolvePendingApproval(e.id,!0)},onCancel:p}}};n.default=i}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/remove-snap-account.js"}],[6681,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const r={getValues:function(e,t,n,r){const{id:i,requestState:s}=e;return{content:[{element:"SmartTransactionStatusPage",key:"smart-transaction-status-page",props:{requestState:s,onCloseExtension:()=>{n.resolvePendingApproval(i,!0)},onViewActivity:()=>{n.resolvePendingApproval(i,!0)}}}],hideSubmitButton:!0}}};n.default=r}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/smart-transaction-status-page.js"}],[6682,{"../../../../../shared/constants/metametrics":5260},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../../../../../shared/constants/metametrics");const i={getValues:function(e,t,n,i,s,a){const{origin:o,snapName:c}=e,{url:u,message:l,isBlockedUrl:d}=e.requestData,{trackEvent:p}=a,h=e=>{p({event:e,category:r.MetaMetricsEventCategory.Transactions,properties:{account_type:r.MetaMetricsEventAccountType.Snap,snap_id:o,snap_name:c}})},f=r=>u!==undefined&&null!==u&&u.length>0&&!1===d?{submitText:t("goToSite"),onSubmit:()=>{h(r),n.resolvePendingApproval(e.id,!0)}}:{};return{content:[{element:"SnapAccountRedirect",key:"snap-account-redirect",props:{url:u,message:l,snapId:o,snapName:c,isBlockedUrl:d,...f(r.MetaMetricsEventName.SnapAccountTransactionFinalizeRedirectSnapUrlClicked)}}],cancelText:t("close"),onLoad:()=>h(r.MetaMetricsEventName.SnapAccountTransactionFinalizeViewed),onCancel:()=>{h(r.MetaMetricsEventName.SnapAccountTransactionFinalizeClosed),n.resolvePendingApproval(e.id,!1)},...f(r.MetaMetricsEventName.SnapAccountTransactionFinalizeRedirectGoToSiteClicked)}}};n.default=i}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/snap-account-redirect.js"}],[6683,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const r={getValues:function(e,t,n){const{requestData:{id:r}}=e;return{submitText:t("ok").toUpperCase(),onSubmit:()=>{n.resolvePendingApproval(e.id,null),n.deleteInterface(r)}}}};n.default=r}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/snaps/snap-alert/snap-alert.js"}],[6684,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const r={getValues:function(e,t,n){const{requestData:{id:r}}=e;return{cancelText:t("reject"),submitText:t("approveButtonText"),onSubmit:()=>{n.resolvePendingApproval(e.id,!0),n.deleteInterface(r)},onCancel:()=>{n.resolvePendingApproval(e.id,!1),n.deleteInterface(r)}}}};n.default=r}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/snaps/snap-confirmation/snap-confirmation.js"}],[6685,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const r={getValues:function(e,t,n){const{requestData:{id:r}}=e;return{onCancel:()=>{n.resolvePendingApproval(e.id,null),n.deleteInterface(r)}}}};n.default=r}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/snaps/snap-default/snap-default.js"}],[6686,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const r={getValues:function(e,t,n){const{requestData:{id:r}}=e;return{cancelText:t("cancel"),submitText:t("submit"),onSubmit:t=>{n.resolvePendingApproval(e.id,t),n.deleteInterface(r)},onCancel:()=>{n.resolvePendingApproval(e.id,null),n.deleteInterface(r)}}}};n.default=r}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/snaps/snap-prompt/snap-prompt.js"}],[6687,{"../ResultTemplate":6666,"@metamask/controller-utils":1422},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/controller-utils");const i=new(e("../ResultTemplate").ResultTemplate)(r.ApprovalType.ResultSuccess),s={getValues:i.getValues.bind(i)};n.default=s}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/success.js"}],[6688,{"../../../../helpers/constants/design-system":6248,"@metamask/rpc-errors":2304},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/rpc-errors"),i=e("../../../../helpers/constants/design-system");const s={id:"PENDING_TX_DROP_NOTICE",severity:i.SEVERITIES.WARNING,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"switchingNetworksCancelsPendingConfirmations"}}}};const a={getAlerts:async function(e,t){const n=[];return t.unapprovedTxsCount>0&&n.push(s),n},getValues:function(e,t,n){return{content:[{element:"Typography",key:"title",children:t("switchEthereumChainConfirmationTitle"),props:{variant:i.TypographyVariant.H3,align:"center",fontWeight:"normal",boxProps:{margin:[0,0,2],padding:[0,4,0,4]}}},{element:"Typography",key:"description",children:t("switchEthereumChainConfirmationDescription"),props:{variant:i.TypographyVariant.H7,color:i.TextColor.textAlternative,align:"center",boxProps:{padding:[0,4,0,4]}}},{element:"Box",key:"status-box",props:{justifyContent:i.JustifyContent.center},children:{element:"ConfirmationNetworkSwitch",key:"network-being-switched",props:{toNetwork:e.requestData.toNetworkConfiguration,fromNetwork:e.requestData.fromNetworkConfiguration}}}],cancelText:t("cancel"),submitText:t("switchNetwork"),onSubmit:()=>n.resolvePendingApproval(e.id,e.requestData.toNetworkConfiguration),onCancel:()=>n.rejectPendingApproval(e.id,r.providerErrors.userRejectedRequest().serialize()),networkDisplay:!0}}};n.default=a}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/templates/switch-ethereum-chain.js"}],[6689,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){function r(e){return e===undefined?undefined:"string"==typeof e?e:Array.isArray(e)?e.map(r):{key:e.key,element:e.name,props:e.properties,children:r(e.children)}}Object.defineProperty(n,"__esModule",{value:!0}),n.processError=function(e,t){const n=r(e)||t;if("string"!=typeof n)return n;return{key:"error",element:"ActionableMessage",props:{type:"danger",message:n}}},n.processHeader=function(e){return r(e)},n.processString=function(e,t){const n=r(e)||t;if("string"!=typeof n)return n;return i=n,function(e,t,n){let r=0,i=0;const s=Array.from(e.matchAll(t)),a=[];for(const t of s){const s=e.substring(r,t.index);s.length&&a.push(s);const o=n(t[1],i);a.push(o),r=t.index+t[0].length,i+=1}const o=e.substring(r);return o.length&&a.push(o),a}(i,/\*\*(.+?)\*\*/gu,((e,t)=>({key:`bold-${t}`,element:"b",children:e})));var i}}}},{package:"$root$",file:"ui/pages/confirmations/confirmation/util.ts"}],[6690,{"../../../../shared/constants/network":5264},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TypedSignSignaturePrimaryTypes=n.TYPED_SIGNATURE_VERSIONS=n.SPENDING_CAP_UNLIMITED_MSG=n.IGNORE_GAS_LIMIT_CHAIN_IDS=void 0;var r=e("../../../../shared/constants/network");n.IGNORE_GAS_LIMIT_CHAIN_IDS=[r.CHAINLIST_CHAIN_IDS_MAP.MANTLE],n.TYPED_SIGNATURE_VERSIONS={V1:"V1",V3:"V3",V4:"V4"},n.SPENDING_CAP_UNLIMITED_MSG="UNLIMITED MESSAGE",n.TypedSignSignaturePrimaryTypes={PERMIT:"Permit",ORDER:"Order"}}}},{package:"$root$",file:"ui/pages/confirmations/constants/index.ts"}],[6747,{"../../../../shared/modules/selectors/util":5322,"../../../selectors/approvals":6981,"../../../selectors/selectors":6993,"@metamask/controller-utils":1422,reselect:4801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsRedesignedConfirmationsDeveloperEnabled=function(e){return(0,a.getPreferences)(e).isRedesignedConfirmationsDeveloperEnabled},n.oldestPendingConfirmationSelector=void 0,n.pendingConfirmationsSelector=function(e){return(0,s.getPendingApprovals)(e).filter((({type:e})=>c.includes(e)))},n.pendingConfirmationsSortedSelector=u;var r=e("@metamask/controller-utils"),i=e("reselect"),s=e("../../../selectors/approvals"),a=e("../../../selectors/selectors"),o=e("../../../../shared/modules/selectors/util");const c=[r.ApprovalType.PersonalSign,r.ApprovalType.EthSignTypedData,r.ApprovalType.Transaction];function u(e){return(0,s.getPendingApprovals)(e).filter((({type:e})=>c.includes(e))).sort(((e,t)=>e.time-t.time))}const l=(0,i.createSelector)(u,(e=>e[0]));n.oldestPendingConfirmationSelector=(0,o.createDeepEqualSelector)(l,(e=>e))}}},{package:"$root$",file:"ui/pages/confirmations/selectors/confirm.ts"}],[6752,{"../../../../shared/constants/common":5250,"../../../../shared/constants/gas":5255,"../../../../shared/modules/Numeric":5294},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TOKEN_TRANSFER_FUNCTION_SIGNATURE=n.SWAPS_QUOTES_ERROR=n.SWAPS_NO_QUOTES=n.REQUIRED_ERROR=n.RECIPIENT_TYPES=n.NO_RESOLUTION_FOR_DOMAIN=n.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE=n.NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE=n.NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR=n.NEGATIVE_ETH_ERROR=n.MIN_GAS_TOTAL=n.MIN_GAS_PRICE_HEX=n.MIN_GAS_PRICE_GWEI=n.MIN_GAS_PRICE_DEC=n.MIN_GAS_LIMIT_DEC=n.MAX_GAS_LIMIT_DEC=n.KNOWN_RECIPIENT_ADDRESS_WARNING=n.INVALID_RECIPIENT_ADDRESS_ERROR=n.INSUFFICIENT_TOKENS_ERROR=n.INSUFFICIENT_FUNDS_FOR_GAS_ERROR=n.INSUFFICIENT_FUNDS_ERROR=n.HIGH_FEE_WARNING_MULTIPLIER=n.FLOAT_TOKENS_ERROR=n.ENS_UNKNOWN_ERROR=n.CONTRACT_ADDRESS_ERROR=n.CONFUSING_ENS_ERROR=void 0;var r=e("../../../../shared/constants/gas"),i=e("../../../../shared/modules/Numeric"),s=e("../../../../shared/constants/common");const a=n.MIN_GAS_PRICE_DEC="0",o=n.MIN_GAS_PRICE_HEX=parseInt(a,10).toString(16);n.MIN_GAS_LIMIT_DEC=new i.Numeric("21000",10),n.MAX_GAS_LIMIT_DEC="7920027",n.HIGH_FEE_WARNING_MULTIPLIER=1.5,n.MIN_GAS_PRICE_GWEI=new i.Numeric(o,16,s.EtherDenomination.WEI).toDenomination(s.EtherDenomination.GWEI).round(1).toPrefixedHexString(),n.MIN_GAS_TOTAL=new i.Numeric(r.MIN_GAS_LIMIT_HEX,16).times(new i.Numeric(o,16,s.EtherDenomination.WEI)).toPrefixedHexString(),n.TOKEN_TRANSFER_FUNCTION_SIGNATURE="0xa9059cbb",n.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE="0x23b872dd",n.NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE="0xf242432a",n.INSUFFICIENT_FUNDS_ERROR="insufficientFunds",n.INSUFFICIENT_FUNDS_FOR_GAS_ERROR="insufficientFundsForGas",n.INSUFFICIENT_TOKENS_ERROR="insufficientTokens",n.NEGATIVE_ETH_ERROR="negativeETH",n.NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR="negativeOrZeroAmountToken",n.FLOAT_TOKENS_ERROR="floatAmountToken",n.INVALID_RECIPIENT_ADDRESS_ERROR="invalidAddressRecipient",n.REQUIRED_ERROR="required",n.KNOWN_RECIPIENT_ADDRESS_WARNING="knownAddressRecipient",n.CONTRACT_ADDRESS_ERROR="contractAddressError",n.CONFUSING_ENS_ERROR="confusingEnsDomain",n.ENS_UNKNOWN_ERROR="ensUnknownError",n.NO_RESOLUTION_FOR_DOMAIN="noDomainResolution",n.SWAPS_NO_QUOTES="swapQuotesNotAvailableErrorTitle",n.SWAPS_QUOTES_ERROR="swapFetchingQuotesErrorTitle",n.RECIPIENT_TYPES={SMART_CONTRACT:"SMART_CONTRACT",NON_CONTRACT:"NON_CONTRACT"}}}},{package:"$root$",file:"ui/pages/confirmations/send/send.constants.js"}],[6753,{"../../../../app/scripts/lib/util":135,"../../../../shared/constants/transaction":5278,"../../../../shared/modules/Numeric":5294,"./send.constants":6752,"@metamask/abi-utils":1307},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addGasBuffer=function(e,t,n=1.5){const r=new a.Numeric(e,16),i=new a.Numeric(t,16).times(new a.Numeric(.9,10)).round(0),s=r.times(new a.Numeric(n,10)).round(0);if(r.greaterThanOrEqualTo(i))return e;if(s.lessThan(i))return s.toString();return i.toString()},n.ellipsify=function(e,t=6,n=4){if(!e)return"";return`${e.slice(0,t)}...${e.slice(-n)}`},n.generateERC1155TransferData=l,n.generateERC20TransferData=c,n.generateERC721TransferData=u,n.getAssetTransferData=function({sendToken:e,fromAddress:t,toAddress:n,amount:r}){switch(e.standard){case s.TokenStandard.ERC721:return u({toAddress:n,fromAddress:t,tokenId:e.tokenId});case s.TokenStandard.ERC1155:return l({toAddress:n,fromAddress:t,tokenId:e.tokenId});case s.TokenStandard.ERC20:default:return c({toAddress:n,amount:r,sendToken:e})}},n.isBalanceSufficient=function({amount:e="0x0",balance:t="0x0",conversionRate:n=1,gasTotal:r="0x0",primaryCurrency:i=undefined}){let s=new a.Numeric(e,16).add(new a.Numeric(r,16)),o=new a.Numeric(t,16);null!=i&&(s=s.applyConversionRate(n),o=o.applyConversionRate(n));return o.greaterThanOrEqualTo(s)},n.isERC1155BalanceSufficient=function({amount:e="0",tokenBalance:t}){const n=new a.Numeric(e,16);return new a.Numeric(t,10).greaterThanOrEqualTo(n)},n.isTokenBalanceSufficient=function({amount:e="0x0",tokenBalance:t,decimals:n}){const r=new a.Numeric(e,16).shiftedBy(n);return new a.Numeric(t,16).greaterThanOrEqualTo(r)};var r=e("@metamask/abi-utils"),i=e("../../../../app/scripts/lib/util"),s=e("../../../../shared/constants/transaction"),a=e("../../../../shared/modules/Numeric"),o=e("./send.constants");function c({toAddress:e="0x0",amount:t="0x0",sendToken:n}){return n?o.TOKEN_TRANSFER_FUNCTION_SIGNATURE+Array.prototype.map.call((0,r.encode)(["address","uint256"],[(0,i.addHexPrefix)(e),(0,i.addHexPrefix)(t)]),(e=>`00${e.toString(16)}`.slice(-2))).join(""):undefined}function u({toAddress:e="0x0",fromAddress:t="0x0",tokenId:n}){return n?o.NFT_TRANSFER_FROM_FUNCTION_SIGNATURE+Array.prototype.map.call((0,r.encode)(["address","address","uint256"],[(0,i.addHexPrefix)(t),(0,i.addHexPrefix)(e),BigInt(n)]),(e=>`00${e.toString(16)}`.slice(-2))).join(""):undefined}function l({toAddress:e="0x0",fromAddress:t="0x0",tokenId:n,amount:s="1",data:a="0"}){return n?o.NFT_SAFE_TRANSFER_FROM_FUNCTION_SIGNATURE+Array.prototype.map.call((0,r.encode)(["address","address","uint256","uint256","bytes"],[(0,i.addHexPrefix)(t),(0,i.addHexPrefix)(e),BigInt(n),(0,i.addHexPrefix)(s),(0,i.addHexPrefix)(a)]),(e=>`00${e.toString(16)}`.slice(-2))).join(""):undefined}}}},{package:"$root$",file:"ui/pages/confirmations/send/send.utils.js"}],[6755,{"../../../../shared/constants/signatures":5271,"../../../../shared/modules/transaction.utils":5326,"../../../helpers/utils/util":6297,"../constants":6690,"@metamask/transaction-controller":2698},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.toPunycodeURL=n.parseSanitizeTypedDataMessage=n.isValidASCIIURL=n.isSignatureTransactionType=n.isSIWESignatureRequest=n.isPermitSignatureRequest=n.isOrderSignatureRequest=n.SIGNATURE_TRANSACTION_TYPES=void 0;var r=e("@metamask/transaction-controller"),i=e("../../../../shared/constants/signatures"),s=e("../../../../shared/modules/transaction.utils"),a=e("../../../helpers/utils/util"),o=e("../constants");const c=n.SIGNATURE_TRANSACTION_TYPES=[r.TransactionType.personalSign,r.TransactionType.signTypedData],u=e=>e&&c.includes(e.type);n.isSignatureTransactionType=u;n.parseSanitizeTypedDataMessage=e=>{const{message:t,primaryType:n,types:r}=(0,s.parseTypedDataMessage)(e);return{sanitizedMessage:(0,a.sanitizeMessage)(t,n,r),primaryType:n}};n.isSIWESignatureRequest=e=>{var t;return Boolean(null==e||null===(t=e.msgParams)||void 0===t||null===(t=t.siwe)||void 0===t?void 0:t.isSIWEMessage)};n.isOrderSignatureRequest=e=>{var t,n;if(!e||!u(e)||"eth_signTypedData"!==e.type||(null===(t=e.msgParams)||void 0===t||null===(t=t.version)||void 0===t?void 0:t.toUpperCase())===o.TYPED_SIGNATURE_VERSIONS.V1)return!1;const{primaryType:r}=(0,s.parseTypedDataMessage)(null===(n=e.msgParams)||void 0===n?void 0:n.data);return i.PRIMARY_TYPES_ORDER.includes(r)};n.isPermitSignatureRequest=e=>{var t,n;if(!e||!u(e)||"eth_signTypedData"!==e.type||(null===(t=e.msgParams)||void 0===t||null===(t=t.version)||void 0===t?void 0:t.toUpperCase())===o.TYPED_SIGNATURE_VERSIONS.V1)return!1;const{primaryType:r}=(0,s.parseTypedDataMessage)(null===(n=e.msgParams)||void 0===n?void 0:n.data);return i.PRIMARY_TYPES_PERMIT.includes(r)};n.isValidASCIIURL=e=>{try{return null==e?void 0:e.includes(new URL(e).host)}catch(e){return console.error(e),!1}};n.toPunycodeURL=e=>{try{return new URL(e).href}catch(e){return console.error(`Failed to convert URL to Punycode: ${e}`),undefined}}}}},{package:"$root$",file:"ui/pages/confirmations/utils/confirm.ts"}],[6970,{"../../../shared/constants/common":5250,"../../../shared/constants/network":5264,"../../../shared/constants/swaps":5274,"../../../shared/lib/fetch-with-cache":5283,"../../../shared/lib/swaps-utils":5288,"../../../shared/lib/transactions-controller-utils":5292,"../../../shared/modules/conversion.utils":5301,"../../../shared/modules/hexstring-utils":5307,"../../../shared/modules/swaps.utils":5325,"../../helpers/utils/confirm-tx.util":6275,"../../store/actions":7e3,"bignumber.js":3465},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.countDecimals=n.TOKEN_VALIDATORS=n.StxErrorTypes=void 0,n.fetchAggregatorMetadata=async function(e){const t=(0,p.getBaseApi)("aggregatorMetadata",e),n=await(0,u.default)({url:t,fetchOptions:{method:"GET",headers:y},cacheOptions:{cacheRefreshTime:m},functionName:"fetchAggregatorMetadata"}),r={};for(const e in n)(0,p.validateData)(S,n[e],t)&&(r[e]=n[e]);return r},n.fetchBlockedTokens=async function(e){const t=(0,p.getBaseApi)("blockedTokens",e);return await(0,u.default)({url:`${t}`,fetchOptions:{method:"GET",headers:y},cacheOptions:{cacheRefreshTime:m},functionName:"fetchBlockedTokens"})},n.fetchSwapsFeatureFlags=async function(){const e=s.SWAPS_API_V2_BASE_URL;return await(0,u.default)({url:`${e}/featureFlags`,fetchOptions:{method:"GET",headers:y},cacheOptions:{cacheRefreshTime:6e5},functionName:"fetchSwapsFeatureFlags"})},n.fetchSwapsGasPrices=async function(e){const t=(0,p.getBaseApi)("gasPrices",e),n=await(0,u.default)({url:t,fetchOptions:{method:"GET",headers:y},cacheOptions:{cacheRefreshTime:3e4},functionName:"fetchSwapsGasPrices"});if(!(0,p.validateData)(A,n,t))throw new Error(`${t} response is invalid`);const{SafeGasPrice:r,ProposeGasPrice:i,FastGasPrice:s}=n;return{safeLow:r,average:i,fast:s}},n.fetchToken=async function(e,t){const n=(0,p.getBaseApi)("token",t);return await(0,u.default)({url:`${n}?address=${e}`,fetchOptions:{method:"GET",headers:y},cacheOptions:{cacheRefreshTime:m},functionName:"fetchToken"})},n.fetchTokenPrice=async function(e){var t;const n=`spot-prices?tokenAddresses=${e}&vsCurrency=eth&includeMarketData=false`,r=await(0,u.default)({url:`https://price.api.cx.metamask.io/v2/chains/1/${n}`,fetchOptions:{method:"GET"},cacheOptions:{cacheRefreshTime:6e4},functionName:"fetchTokenPrice"});return null==r||null===(t=r[e])||void 0===t?void 0:t.eth},n.fetchTokens=async function(e){const t=(0,p.getBaseApi)("tokens",e),n=await(0,u.default)({url:t,fetchOptions:{method:"GET",headers:y},cacheOptions:{cacheRefreshTime:m},functionName:"fetchTokens"});return[s.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e]||null,...n.filter((n=>(0,p.validateData)(E,n,t,false)&&!((0,a.isSwapsDefaultTokenSymbol)(n.symbol,e)||(0,a.isSwapsDefaultTokenAddress)(n.address,e))))]},n.fetchTopAssets=async function(e){const t=await v(e);return t.reduce(((e,t,n)=>({...e,[t.address]:{index:String(n)}})),{})},n.fetchTopAssetsList=v,n.formatSwapsValueForDisplay=N,n.getNetworkNameByChainId=n.getFeeForSmartTransaction=n.getClassNameForCharLength=void 0,n.getRenderableNetworkFeesForQuote=O,n.getSwapsLivenessForNetwork=n.getSwap1559GasFeeEstimates=void 0,n.getTransaction1559GasFeeEstimates=R,n.parseSmartTransactionsError=n.isContractAddressValid=n.getTranslatedStxErrorMessage=void 0,n.quotesToRenderableData=function({quotes:e,gasPriceTrade:t,gasPriceApprove:n,conversionRate:r,currentCurrency:s,approveGas:o,tokenConversionRates:c,chainId:u,smartTransactionEstimatedGas:l,nativeCurrencySymbol:p,multiLayerL1ApprovalFeeTotal:f}){return Object.values(e).map((e=>{const{destinationAmount:g=0,sourceAmount:m=0,sourceTokenInfo:T,destinationTokenInfo:y,slippage:E,aggType:_,aggregator:S,gasEstimateWithRefund:I,averageGas:A,fee:v,trade:b,multiLayerL1TradeFeeTotal:D}=e;let R=null;null!==D&&null!==f?R=(0,h.sumHexes)(D||"0x0",f||"0x0"):null!==D&&(R=D);const k=(0,d.calcTokenAmount)(m,T.decimals).toString(10),w=(0,d.calcTokenAmount)(g,y.decimals).toPrecision(8);let P=null,M=null,L=null,x=null;({feeInFiat:P,feeInEth:M,rawNetworkFees:L,rawEthFee:x}=O({tradeGas:I||(0,h.decimalToHex)(A||8e5),approveGas:o,gasPriceTrade:t,gasPriceApprove:n,currentCurrency:s,conversionRate:r,tradeValue:b.value,sourceSymbol:T.symbol,sourceAmount:m,chainId:u,multiLayerL1FeeTotal:R})),l&&({feeInFiat:P,feeInEth:M}=C({chainId:u,currentCurrency:s,conversionRate:r,nativeCurrencySymbol:p,feeInWeiDec:l.feeEstimate}));const F=new i.BigNumber(100-E).div(100),B=new i.BigNumber(w).times(F).toFixed(6),U=c[y.address],H=(0,a.isSwapsDefaultTokenSymbol)(y.symbol,u)?(0,d.calcTokenAmount)(g,y.decimals).minus(x,10):new i.BigNumber(U||0,10).times((0,d.calcTokenAmount)(g,y.decimals),10).minus(x,10);let j,K=E;return"AGG"===_?j="swapAggregator":"RFQ"===_?(j="swapRequestForQuotation",K=0):j="DEX"===_?"swapDecentralizedExchange":"CONTRACT"===_?"swapDirectContract":"swapUnknown",{aggId:S,amountReceiving:`${w} ${y.symbol}`,destinationTokenDecimals:y.decimals,destinationTokenSymbol:y.symbol,destinationTokenValue:N(w),destinationIconUrl:y.iconUrl,isBestQuote:e.isBestQuote,liquiditySourceKey:j,feeInEth:M,detailedNetworkFees:`${M} (${P})`,networkFees:P,quoteSource:_,rawNetworkFees:L,slippage:K,sourceTokenDecimals:T.decimals,sourceTokenSymbol:T.symbol,sourceTokenValue:k,sourceTokenIconUrl:T.iconUrl,ethValueOfTrade:H,minimumAmountReceived:B,metaMaskFee:v}}))},n.showRemainingTimeInMinAndSec=void 0;var r,i=e("bignumber.js"),s=e("../../../shared/constants/swaps"),a=e("../../../shared/modules/swaps.utils"),o=e("../../../shared/constants/network"),c=e("../../helpers/utils/confirm-tx.util"),u=(r=e("../../../shared/lib/fetch-with-cache"))&&r.__esModule?r:{default:r},l=e("../../../shared/modules/hexstring-utils"),d=e("../../../shared/lib/transactions-controller-utils"),p=e("../../../shared/lib/swaps-utils"),h=e("../../../shared/modules/conversion.utils"),f=e("../../../shared/constants/common"),g=e("../../store/actions");const m=3e5,T="usd",y={"X-Client-Id":s.SWAPS_CLIENT_ID},E=n.TOKEN_VALIDATORS=[{property:"address",type:"string",validator:e=>(0,l.isValidHexAddress)(e,{allowNonPrefixed:!1})},{property:"symbol",type:"string",validator:e=>(0,p.truthyString)(e)&&e.length<=12},{property:"decimals",type:"string|number",validator:e=>Number(e)>=0&&Number(e)<=36}],_=E.slice(0,2),S=[{property:"color",type:"string",validator:e=>Boolean(e.match(/^#[A-Fa-f0-9]+$/u))},{property:"title",type:"string",validator:p.truthyString},{property:"icon",type:"string",validator:e=>Boolean(e.match(/^data:image/u))}],I=e=>!isNaN(e)&&e.match(/^[.0-9]+$/u)&&!isNaN(parseFloat(e)),A=[{property:"SafeGasPrice",type:"string",validator:I},{property:"ProposeGasPrice",type:"string",validator:I},{property:"FastGasPrice",type:"string",validator:I}];async function v(e){const t=(0,p.getBaseApi)("topAssets",e);return(await(0,u.default)({url:t,functionName:"fetchTopAssets",fetchOptions:{method:"GET",headers:y},cacheOptions:{cacheRefreshTime:m}})||[]).filter((e=>(0,p.validateData)(_,e,t)))}const C=({chainId:e,currentCurrency:t,conversionRate:n,USDConversionRate:r,nativeCurrencySymbol:i,feeInWeiDec:a})=>{var o;const u=(0,h.decimalToHex)(a),l=(0,h.getValueFromWeiHex)({value:u,toDenomination:f.EtherDenomination.ETH,numberOfDecimals:5}),d=(0,h.getValueFromWeiHex)({value:u,toCurrency:t,conversionRate:n,numberOfDecimals:2});let p;p=t===T?d:(0,h.getValueFromWeiHex)({value:u,toCurrency:T,conversionRate:r,numberOfDecimals:2});return{feeInUsd:p,feeInFiat:(0,c.formatCurrency)(d,t),feeInEth:`${l} ${i||(null===(o=s.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e])||void 0===o?void 0:o.symbol)}`,rawEthFee:l}};function O({tradeGas:e,approveGas:t,gasPriceTrade:n,gasPriceApprove:r,currentCurrency:o,conversionRate:u,USDConversionRate:l,tradeValue:p,sourceSymbol:g,sourceAmount:m,chainId:y,nativeCurrencySymbol:E,multiLayerL1FeeTotal:_}){const S=(0,d.calcGasTotal)(e,n),I=t?(0,d.calcGasTotal)(t,r):"0x0",A=(0,h.sumHexes)(S,I,_||"0x0"),v=new i.BigNumber(p,16).minus((0,a.isSwapsDefaultTokenSymbol)(g,y)?m:0,10).toString(16),C=new i.BigNumber(A,16).plus(v,16).toString(16),O=(0,h.getValueFromWeiHex)({value:C,toDenomination:f.EtherDenomination.ETH,numberOfDecimals:5}),N=(0,h.getValueFromWeiHex)({value:C,toCurrency:o,conversionRate:u,numberOfDecimals:2}),b=(0,c.formatCurrency)(N,o);let D;D=o===T?N:(0,h.getValueFromWeiHex)({value:C,toCurrency:T,conversionRate:l,numberOfDecimals:2});return{rawNetworkFees:N,feeInUsd:D,rawEthFee:O,feeInFiat:b,feeInEth:`${O} ${E||s.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[y].symbol}`,nonGasFee:v}}function N(e){let t;return t="string"==typeof e&&e.includes("...")?e:(0,d.toPrecisionWithoutTrailingZeros)(e,12),t.match(/e[+-]/u)&&(t=new i.BigNumber(t).toFixed()),t}n.getFeeForSmartTransaction=C;n.getClassNameForCharLength=(e,t)=>{let n;return n=!e||e.length<=10?"lg":e.length>10&&e.length<=13?"md":"sm",`${t}--${n}`};n.isContractAddressValid=(e,t)=>!(!e||!s.ALLOWED_CONTRACT_ADDRESSES[t])&&s.ALLOWED_CONTRACT_ADDRESSES[t].some((t=>e.toLowerCase()===t.toLowerCase()));const b=e=>{switch(e){case o.CHAIN_IDS.MAINNET:return s.ETHEREUM;case o.CHAIN_IDS.BSC:return s.BSC;case o.CHAIN_IDS.POLYGON:return s.POLYGON;case o.CHAIN_IDS.GOERLI:return s.GOERLI;case o.CHAIN_IDS.AVALANCHE:return s.AVALANCHE;case o.CHAIN_IDS.OPTIMISM:return s.OPTIMISM;case o.CHAIN_IDS.ARBITRUM:return s.ARBITRUM;case o.CHAIN_IDS.ZKSYNC_ERA:return s.ZKSYNC_ERA;case o.CHAIN_IDS.LINEA_MAINNET:return s.LINEA;case o.CHAIN_IDS.BASE:return s.BASE;default:return""}};n.getNetworkNameByChainId=b;n.getSwapsLivenessForNetwork=(e,t={})=>{const n=b(e);if([o.CHAIN_IDS.LOCALHOST,o.CHAIN_IDS.GOERLI].includes(e))return{swapsFeatureIsLive:!0};if(!t[n])return{swapsFeatureIsLive:!1};return t[n].extensionActive?{swapsFeatureIsLive:!0}:{swapsFeatureIsLive:t[n].fallbackToV1}};n.countDecimals=e=>{var t;return e&&Math.floor(e)!==e&&(null===(t=e.toString().split(".")[1])||void 0===t?void 0:t.length)||0};n.showRemainingTimeInMinAndSec=e=>{if(!Number.isInteger(e))return"0:00";return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`};let D=n.StxErrorTypes=function(e){return e.unavailable="unavailable",e.notEnoughFunds="not_enough_funds",e.regularTxPending="regular_tx_pending",e}({});n.getTranslatedStxErrorMessage=(e,t)=>{switch(e){case D.unavailable:case D.regularTxPending:return t("smartSwapsErrorUnavailable");case D.notEnoughFunds:return t("smartSwapsErrorNotEnoughFunds");default:return t("smartSwapsErrorUnavailable")}};n.parseSmartTransactionsError=e=>{const t=e.slice(12);return JSON.parse(t.trim())};async function R(e,t,n){const r=await(0,g.estimateGasFee)({transactionParams:e,chainId:n}),i=null==r?void 0:r.estimates,{maxFeePerGas:s}=(null==i?void 0:i.high)??{},{maxPriorityFeePerGas:a}=(null==i?void 0:i.high)??{};return{baseAndPriorityFeePerGas:a?(0,h.addHexes)(t,a):undefined,maxFeePerGas:s,maxPriorityFeePerGas:a}}n.getSwap1559GasFeeEstimates=async(e,t,n,r)=>{const i=(0,h.decGWEIToHexWEI)(n);return{tradeGasFeeEstimates:await R(e,i,r),approveGasFeeEstimates:t?await R(t,i,r):undefined,estimatedBaseFee:i}}}}},{package:"$root$",file:"ui/pages/swaps/swaps.util.ts"}],[6979,{"../../shared/lib/multichain":5286,"@metamask/keyring-api":1843},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getInternalAccounts=a,n.getSelectedInternalAccount=o,n.hasCreatedBtcMainnetAccount=function(e){return c(e,i.isBtcMainnetAddress)},n.hasCreatedBtcTestnetAccount=function(e){return c(e,i.isBtcTestnetAddress)},n.isSelectedInternalAccountBtc=function(e){return s(o(e))},n.isSelectedInternalAccountEth=function(e){const t=o(e),{Eoa:n,Erc4337:i}=r.EthAccountType;return Boolean(t&&(t.type===n||t.type===i))};var r=e("@metamask/keyring-api"),i=e("../../shared/lib/multichain");function s(e){const{P2wpkh:t}=r.BtcAccountType;return Boolean(e&&e.type===t)}function a(e){return Object.values(e.metamask.internalAccounts.accounts)}function o(e){const t=e.metamask.internalAccounts.selectedAccount;return e.metamask.internalAccounts.accounts[t]}function c(e,t){return a(e).some((e=>s(e)&&t(e.address)))}}}},{package:"$root$",file:"ui/selectors/accounts.ts"}],[6981,{"../../shared/modules/selectors/util":5322,reselect:4801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getApprovalFlows=function(e){return e.metamask.approvalFlows},n.getApprovalRequestsByType=void 0,n.getPendingApprovals=s,n.hasPendingApprovals=function(e,t,n){const r=Object.values(e.metamask.pendingApprovals).filter((({type:e})=>t.includes(e)));if(n)return r.some(n);return r.length>0},n.pendingApprovalsSortedSelector=function(e){return s(e).sort(((e,t)=>e.time-t.time))},n.selectPendingApproval=void 0;var r=e("reselect"),i=e("../../shared/modules/selectors/util");function s(e){return Object.values(e.metamask.pendingApprovals??[])}n.getApprovalRequestsByType=(e,t,n)=>{const r=Object.values(e.metamask.pendingApprovals).filter((({type:e})=>e===t));return n?r.filter(n):r};const a=(0,r.createSelector)(s,((e,t)=>t),((e,t)=>e.find((({id:e})=>e===t))));n.selectPendingApproval=(0,i.createDeepEqualSelector)(a,(e=>e))}}},{package:"$root$",file:"ui/selectors/approvals.ts"}],[6982,{"../../shared/constants/gas":5255,"../../shared/lib/transactions-controller-utils":5292,"../../shared/modules/conversion.utils":5301,"../../shared/modules/gas.utils":5306,"../../shared/modules/selectors/networks":5320,"../../shared/modules/string-utils":5324,"../ducks/metamask/metamask":6236,"../helpers/utils/confirm-tx.util":6275,"../helpers/utils/tx-helper":6296,"./custom-gas":6983,"./selectors":6993,"./transactions":6998,"@metamask/transaction-controller":2698,reselect:4801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.currentCurrencySelector=n.conversionRateSelector=n.contractExchangeRateSelector=void 0,n.selectIsMaxValueEnabled=P,n.selectMaxValue=void 0,n.selectTransactionAvailableBalance=w,n.selectTransactionFeeById=k,n.use4ByteResolutionSelector=n.unconfirmedTransactionsListSelector=n.unconfirmedTransactionsHashSelector=n.unconfirmedMessagesHashSelector=n.txDataSelector=n.transactionFeeSelector=n.tokenAddressSelector=n.sendTokenTokenAmountAndToAddressSelector=n.selectTransactionValue=void 0;var r,i=e("reselect"),s=e("@metamask/transaction-controller"),a=(r=e("../helpers/utils/tx-helper"))&&r.__esModule?r:{default:r},o=e("../helpers/utils/confirm-tx.util"),c=e("../ducks/metamask/metamask"),u=e("../../shared/constants/gas"),l=e("../../shared/modules/gas.utils"),d=e("../../shared/modules/string-utils"),p=e("../../shared/lib/transactions-controller-utils"),h=e("../../shared/modules/conversion.utils"),f=e("../../shared/modules/selectors/networks"),g=e("./custom-gas"),m=e("./selectors"),T=e("./transactions");const y=e=>(0,T.getUnapprovedTransactions)(e),E=e=>e.metamask.unapprovedPersonalMsgs,_=e=>e.metamask.unapprovedDecryptMsgs,S=e=>e.metamask.unapprovedEncryptionPublicKeyMsgs,I=e=>e.metamask.unapprovedTypedMessages;n.unconfirmedTransactionsListSelector=(0,i.createSelector)(y,E,_,S,I,f.getCurrentChainId,((e={},t={},n={},r={},i={},s)=>(0,a.default)(e,t,n,r,i,s)||[])),n.unconfirmedTransactionsHashSelector=(0,i.createSelector)(y,E,_,S,I,f.getCurrentChainId,((e={},t={},n={},r={},i={},s)=>({...Object.keys(e).reduce(((t,n)=>{const r={...t};return e[n].chainId===s&&(r[n]=e[n]),r}),{}),...t,...n,...r,...i}))),n.unconfirmedMessagesHashSelector=(0,i.createSelector)(E,_,S,I,((e={},t={},n={},r={})=>({...e,...t,...n,...r})));n.use4ByteResolutionSelector=e=>e.metamask.use4ByteResolution;const A=e=>e.metamask.currentCurrency;n.currentCurrencySelector=A;const v=e=>{var t;return null===(t=e.metamask.currencyRates[(0,f.getProviderConfig)(e).ticker])||void 0===t?void 0:t.conversionRate};n.conversionRateSelector=v;const C=e=>e.confirmTransaction.txData;n.txDataSelector=C;const O=(0,i.createSelector)((e=>e.confirmTransaction.tokenProps),(e=>e&&e.decimals)),N=(0,i.createSelector)((e=>e.confirmTransaction.tokenData),(e=>e&&e.args||[])),b=(0,i.createSelector)(C,(e=>e&&e.txParams||{})),D=n.tokenAddressSelector=(0,i.createSelector)(b,(e=>e&&e.to)),R=(n.sendTokenTokenAmountAndToAddressSelector=(0,i.createSelector)(N,O,((e,t)=>{let n="",r="0";if(e&&e.length){n=e._to;let i=e._value.toString();t&&(i=(0,p.calcTokenAmount)(i,t).toFixed()),r=(0,o.roundExponential)(i)}return{toAddress:n,tokenAmount:r}})),n.contractExchangeRateSelector=(0,i.createSelector)((e=>(0,m.getTokenExchangeRates)(e)),D,((e,t)=>e[Object.keys(e).find((e=>(0,d.isEqualCaseInsensitive)(e,t)))])),function(e,t){var n,r,i,a;const d=A(e),p=v(e),f=(0,c.getNativeCurrency)(e),T=(0,c.getGasFeeEstimates)(e)||{},y=(0,c.getGasEstimateType)(e),E=(0,m.checkNetworkAndAccountSupports1559)(e),_={gasLimit:(null===(n=t.txParams)||void 0===n?void 0:n.gas)??"0x0"};if(E){var S;const{gasPrice:e="0"}=T,n=T[t.userFeeLevel]||{};if((null===(S=t.txParams)||void 0===S?void 0:S.type)===s.TransactionEnvelopeType.legacy){var I;_.gasPrice=(null===(I=t.txParams)||void 0===I?void 0:I.gasPrice)??(0,h.decGWEIToHexWEI)(e)}else{var C,O,N,b;const{suggestedMaxPriorityFeePerGas:r,suggestedMaxFeePerGas:i}=n;_.maxFeePerGas=null===(C=t.txParams)||void 0===C||!C.maxFeePerGas||t.userFeeLevel!==u.CUSTOM_GAS_ESTIMATE&&i?(0,h.decGWEIToHexWEI)(i||e):null===(O=t.txParams)||void 0===O?void 0:O.maxFeePerGas,_.maxPriorityFeePerGas=null===(N=t.txParams)||void 0===N||!N.maxPriorityFeePerGas||t.userFeeLevel!==u.CUSTOM_GAS_ESTIMATE&&r?r&&(0,h.decGWEIToHexWEI)(r)||_.maxFeePerGas:null===(b=t.txParams)||void 0===b?void 0:b.maxPriorityFeePerGas,_.baseFeePerGas=(0,h.decGWEIToHexWEI)(T.estimatedBaseFee)}}else switch(y){case u.GasEstimateTypes.feeMarket:case u.GasEstimateTypes.none:_.gasPrice=(null===(r=t.txParams)||void 0===r?void 0:r.gasPrice)??"0x0";break;case u.GasEstimateTypes.ethGasPrice:_.gasPrice=(null===(i=t.txParams)||void 0===i?void 0:i.gasPrice)??(0,h.decGWEIToHexWEI)(T.gasPrice);break;case u.GasEstimateTypes.legacy:_.gasPrice=(null===(a=t.txParams)||void 0===a?void 0:a.gasPrice)??(0,g.getAveragePriceEstimateInHexWEI)(e)}const{txParams:{value:D="0x0"}={}}=t,R=(0,h.getValueFromWeiHex)({value:D,fromCurrency:f,toCurrency:d,conversionRate:p,numberOfDecimals:2}),k=(0,h.getValueFromWeiHex)({value:D,fromCurrency:f,toCurrency:f,conversionRate:p,numberOfDecimals:6}),w=(0,l.getMinimumGasTotalInHexWei)(_),P=(0,l.getMaximumGasTotalInHexWei)(_),M=(0,o.getTransactionFee)({value:w,fromCurrency:f,toCurrency:d,numberOfDecimals:2,conversionRate:p}),L=(0,o.getTransactionFee)({value:P,fromCurrency:f,toCurrency:d,numberOfDecimals:2,conversionRate:p}),x=(0,o.getTransactionFee)({value:w,fromCurrency:f,toCurrency:f,numberOfDecimals:6,conversionRate:p});return{hexTransactionAmount:D,fiatTransactionAmount:R,ethTransactionAmount:k,hexMinimumTransactionFee:w,fiatMinimumTransactionFee:M,hexMaximumTransactionFee:P,fiatMaximumTransactionFee:L,ethTransactionFee:x,fiatTransactionTotal:(0,o.addFiat)(M,R),ethTransactionTotal:(0,o.addEth)(x,k),hexTransactionTotal:(0,h.sumHexes)(D,w),gasEstimationObject:_}});function k(e,t){const n=(0,T.selectTransactionMetadata)(e,t);return R(e,n??{})}function w(e,t){var n;return null===(n=(0,m.getMetaMaskAccounts)(e)[(0,T.selectTransactionSender)(e,t)])||void 0===n?void 0:n.balance}function P(e,t){var n;return(null===(n=e.confirmTransaction.maxValueMode)||void 0===n?void 0:n[t])??!1}n.transactionFeeSelector=R;const M=n.selectMaxValue=(0,i.createSelector)(k,w,((e,t)=>t&&e.hexMaximumTransactionFee?(0,h.subtractHexes)(t,e.hexMaximumTransactionFee):undefined));n.selectTransactionValue=(0,i.createSelector)(P,M,T.selectTransactionMetadata,((e,t,n)=>{var r;return e?t:null==n||null===(r=n.txParams)||void 0===r?void 0:r.value}))}}},{package:"$root$",file:"ui/selectors/confirm-transaction.js"}],[6983,{"../../app/scripts/lib/util":135,"../../shared/constants/common":5250,"../../shared/constants/gas":5255,"../../shared/lib/transactions-controller-utils":5292,"../../shared/modules/Numeric":5294,"../../shared/modules/conversion.utils":5301,"../ducks/metamask/metamask":6236,"../ducks/send":6241,"../helpers/utils/confirm-tx.util":6275,"../helpers/utils/formatters":6277,"./selectors":6993},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.basicPriceEstimateToETHTotal=y,n.getAverageEstimate=m,n.getAveragePriceEstimateInHexWEI=function(e){return _(m(e))},n.getBasicGasEstimateLoadingStatus=function(e){return!1===S(e)},n.getCustomGasLimit=function(e){return e.gas.customData.limit},n.getCustomGasPrice=f,n.getDefaultActiveButtonIndex=function(e,t,n){return e.map((({priceInHexWei:e})=>e)).lastIndexOf((0,r.addHexPrefix)(t||n))},n.getFastPriceEstimate=T,n.getFastPriceEstimateInHexWEI=function(e){return _(T(e)||"0x0")},n.getGasPriceInHexWei=_,n.getIsCustomNetworkGasPriceFetched=function(e){return(0,u.getGasEstimateType)(e)===c.GasEstimateTypes.ethGasPrice&&!(0,h.getIsMainnet)(e)},n.getIsEthGasPriceFetched=function(e){return(0,u.getGasEstimateType)(e)===c.GasEstimateTypes.ethGasPrice&&(0,h.getIsMainnet)(e)},n.getIsGasEstimatesFetched=S,n.getNoGasPriceFetched=function(e){return(0,u.getGasEstimateType)(e)===c.GasEstimateTypes.none},n.getRenderableConvertedCurrencyFee=function(e,t,n,r){const a=y(new d.Numeric(e,10).toBase(16).toString(),t),o=(0,i.decEthToConvertedCurrency)(a,n,r);return(0,s.formatCurrency)(o,n)},n.getRenderableEthFee=function(e,t,n=9,r="ETH"){const i=y(new d.Numeric(e,10).toBase(16).toString(),t,n);return(0,a.formatETHFee)(i,r)},n.getSafeLowEstimate=g,n.isCustomPriceExcessive=function(e,t=!1){const n=t?(0,o.getGasPrice)(e):f(e),r=T(e);if(!n||!r)return!1;return new d.Numeric(n,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.GWEI).greaterThan(Math.floor(1.5*r),10)},n.isCustomPriceSafe=function(e){const t=g(e),n=f(e);if(!n)return!0;if(!t)return!1;return new d.Numeric(n,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.GWEI).greaterThan(t,10)},n.isCustomPriceSafeForCustomNetwork=function(e){const t=m(e),n=f(e);if(!n)return!0;if(!t)return!1;return new d.Numeric(n,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.GWEI).greaterThan(t,10)},n.priceEstimateToWei=E;var r=e("../../app/scripts/lib/util"),i=e("../../shared/modules/conversion.utils"),s=e("../helpers/utils/confirm-tx.util"),a=e("../helpers/utils/formatters"),o=e("../ducks/send"),c=e("../../shared/constants/gas"),u=e("../ducks/metamask/metamask"),l=e("../../shared/lib/transactions-controller-utils"),d=e("../../shared/modules/Numeric"),p=e("../../shared/constants/common"),h=e("./selectors");function f(e){return e.gas.customData.price}function g(e){const t=(0,u.getGasFeeEstimates)(e);return(0,u.getGasEstimateType)(e)===c.GasEstimateTypes.legacy?null==t?void 0:t.low:null}function m(e){const t=(0,u.getGasFeeEstimates)(e);return(0,u.getGasEstimateType)(e)===c.GasEstimateTypes.legacy?null==t?void 0:t.medium:null}function T(e){const t=(0,u.getGasFeeEstimates)(e);return(0,u.getGasEstimateType)(e)===c.GasEstimateTypes.legacy?null==t?void 0:t.high:null}function y(e,t,n=9){return new d.Numeric((0,l.calcGasTotal)(t,e),16,p.EtherDenomination.GWEI).round(n).toBase(10).toString()}function E(e){return new d.Numeric(e,16,p.EtherDenomination.GWEI).toDenomination(p.EtherDenomination.WEI).round(9).toString()}function _(e){const t=new d.Numeric(e,10).toBase(16).toString();return(0,r.addHexPrefix)(E(t))}function S(e){const t=(0,u.getGasEstimateType)(e);return!(0,u.isEIP1559Network)(e)&&t!==c.GasEstimateTypes.none}}}},{package:"$root$",file:"ui/selectors/custom-gas.js"}],[6984,{"../../shared/constants/onboarding":5267,"../helpers/constants/routes":6254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getFirstTimeFlowType=void 0,n.getFirstTimeFlowTypeRouteAfterMetaMetricsOptIn=function(e){const{firstTimeFlowType:t}=e.metamask;if(t===r.FirstTimeFlowType.create)return i.ONBOARDING_CREATE_PASSWORD_ROUTE;if(t===r.FirstTimeFlowType.import)return i.ONBOARDING_IMPORT_WITH_SRP_ROUTE;if(t===r.FirstTimeFlowType.restore)return i.ONBOARDING_SECURE_YOUR_WALLET_ROUTE;return i.DEFAULT_ROUTE},n.getFirstTimeFlowTypeRouteAfterUnlock=function(e){const{firstTimeFlowType:t}=e.metamask;if(t===r.FirstTimeFlowType.create)return i.ONBOARDING_CREATE_PASSWORD_ROUTE;if(t===r.FirstTimeFlowType.import)return i.ONBOARDING_IMPORT_WITH_SRP_ROUTE;if(t===r.FirstTimeFlowType.restore)return i.ONBOARDING_METAMETRICS;return i.DEFAULT_ROUTE},n.getOnboardingInitiator=void 0;var r=e("../../shared/constants/onboarding"),i=e("../helpers/constants/routes");n.getFirstTimeFlowType=e=>e.metamask.firstTimeFlowType;n.getOnboardingInitiator=e=>{const{onboardingTabs:t}=e.metamask;if(!t||1!==Object.keys(t).length)return null;const n=Object.keys(t)[0];return{location:n,tabId:t[n]}}}}},{package:"$root$",file:"ui/selectors/first-time-flow.js"}],[6985,{"../pages/confirmations/selectors/confirm":6747,"./accounts":6979,"./approvals":6981,"./confirm-transaction":6982,"./custom-gas":6983,"./first-time-flow":6984,"./metametrics":6989,"./permissions":6992,"./selectors":6993,"./transactions":6998},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("../pages/confirmations/selectors/confirm");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=e("./confirm-transaction");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))}));var s=e("./custom-gas");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}));var a=e("./first-time-flow");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=e("./metametrics");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}));var c=e("./permissions");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===c[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=e("./selectors");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===u[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return u[e]}}))}));var l=e("./transactions");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===l[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return l[e]}}))}));var d=e("./approvals");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===d[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=e("./accounts");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===p[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return p[e]}}))}))}}},{package:"$root$",file:"ui/selectors/index.js"}],[6989,{reselect:4801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.selectMatchingFragment=n.selectFragments=n.selectFragmentBySuccessEvent=n.selectFragmentById=n.getParticipateInMetaMetrics=n.getLatestMetricsEventTimestamp=n.getDataCollectionForMarketing=void 0;var r=e("reselect");const i=e=>e.metamask.fragments;n.selectFragments=i;n.getDataCollectionForMarketing=e=>e.metamask.dataCollectionForMarketing;n.getParticipateInMetaMetrics=e=>Boolean(e.metamask.participateInMetaMetrics);n.getLatestMetricsEventTimestamp=e=>e.metamask.latestNonAnonymousEventTimestamp;const s=n.selectFragmentBySuccessEvent=(0,r.createSelector)(i,((e,t)=>t),((e,t)=>t.persist?Object.values(e).find((e=>e.successEvent===t.successEvent)):undefined)),a=n.selectFragmentById=(0,r.createSelector)(i,((e,t)=>t),((e,t)=>t&&null!=e&&e[t]?e[t]:undefined));n.selectMatchingFragment=(0,r.createSelector)(((e,t)=>s(e,t.fragmentOptions)),((e,t)=>a(e,t.existingId)),((e,t)=>t??e))}}},{package:"$root$",file:"ui/selectors/metametrics.js"}],[6990,{"../../shared/constants/multichain/assets":5262,"../../shared/constants/multichain/networks":5263,"../../shared/constants/network":5264,"../../shared/modules/Numeric":5294,"../../shared/modules/selectors/networks":5320,"../ducks/metamask/metamask":6236,"./accounts":6979,"./selectors":6993,"@metamask/keyring-api":1843,"@metamask/utils":2761,"prop-types":4528,reselect:4801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainNetworkPropType=n.InternalAccountPropType=void 0,n.getImageForChainId=function(e){const t=e;return p.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[t]},n.getMultichainBalances=v,n.getMultichainCoinRates=void 0,n.getMultichainConversionRate=function(e,t){var n;const{ticker:r}=E(e,t);return y(e,t)?(0,l.getConversionRate)(e):null===(n=C(e))||void 0===n||null===(n=n[r.toLowerCase()])||void 0===n?void 0:n.conversionRate},n.getMultichainCurrencyImage=S,n.getMultichainCurrentChainId=function(e){const{chainId:t}=E(e);return t},n.getMultichainCurrentCurrency=function(e,t){const n=(0,g.getCurrentCurrency)(e);if(y(e,t))return n;return n&&"usd"===n.toLowerCase()?"usd":E(e,t).ticker},n.getMultichainCurrentNetwork=_,n.getMultichainDefaultToken=I,n.getMultichainIsBitcoin=function(e,t){const n=y(e,t),{symbol:r}=I(e,t);return!n&&"BTC"===r},n.getMultichainIsEvm=y,n.getMultichainIsMainnet=function(e,t){const n=t??(0,f.getSelectedInternalAccount)(e),r=E(e,n);if(y(e,t))return(0,g.getIsMainnet)(e);const i=u.MULTICHAIN_ACCOUNT_TYPE_TO_MAINNET[n.type];return r.chainId===i??!1},n.getMultichainIsTestnet=A,n.getMultichainNativeCurrency=function(e,t){return y(e,t)?(0,l.getNativeCurrency)(e):E(e,t).ticker},n.getMultichainNativeCurrencyImage=function(e,t){return S(e,t)},n.getMultichainNetwork=T,n.getMultichainNetworkProviders=m,n.getMultichainProviderConfig=E,n.getMultichainSelectedAccountCachedBalance=O,n.getMultichainSelectedAccountCachedBalanceIsZero=void 0,n.getMultichainShouldShowFiat=function(e,t){const n=t??(0,f.getSelectedInternalAccount)(e),r=A(e,n),i=!r;return y(e,n)?(0,g.getShouldShowFiat)(e):i||r&&(0,g.getShowFiatInTestnets)(e)},n.isChainIdMainnet=function(e){return e===p.CHAIN_IDS.MAINNET};var r,i=(r=e("prop-types"))&&r.__esModule?r:{default:r},s=e("@metamask/keyring-api"),a=e("@metamask/utils"),o=e("reselect"),c=e("../../shared/modules/Numeric"),u=e("../../shared/constants/multichain/networks"),l=e("../ducks/metamask/metamask"),d=e("../../shared/constants/multichain/assets"),p=e("../../shared/constants/network"),h=e("../../shared/modules/selectors/networks"),f=e("./accounts"),g=e("./selectors");n.MultichainNetworkPropType=i.default.shape({nickname:i.default.string.isRequired,isEvmNetwork:i.default.bool.isRequired,chainId:i.default.string,network:i.default.oneOfType([i.default.shape({rpcUrl:i.default.string,type:i.default.string.isRequired,chainId:i.default.string.isRequired,ticker:i.default.string.isRequired,rpcPrefs:i.default.shape({blockExplorerUrl:i.default.string,imageUrl:i.default.string}),nickname:i.default.string,id:i.default.string}),i.default.shape({chainId:i.default.string.isRequired,ticker:i.default.string.isRequired,rpcPrefs:i.default.shape({blockExplorerUrl:i.default.string,imageUrl:i.default.string})})]).isRequired}),n.InternalAccountPropType=i.default.shape({id:i.default.string.isRequired,address:i.default.string.isRequired,metadata:i.default.shape({name:i.default.string.isRequired,snap:i.default.shape({id:i.default.string.isRequired,name:i.default.string,enabled:i.default.bool}),keyring:i.default.shape({type:i.default.string.isRequired}).isRequired}).isRequired,type:i.default.string.isRequired});function m(e){return Object.values(u.MULTICHAIN_PROVIDER_CONFIGS)}function T(e,t){if(y(e,t)){var n;const t=(0,h.getCurrentChainId)(e),r=(0,h.getProviderConfig)(e),i=t;r.rpcPrefs={...r.rpcPrefs,imageUrl:p.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[i]};return{nickname:(null===(n=(0,h.getNetworkConfigurationsByChainId)(e)[t])||void 0===n?void 0:n.name)??r.rpcUrl,isEvmNetwork:!0,chainId:`${a.KnownCaipNamespace.Eip155}:${Number(t)}`,network:r}}const r=t??(0,f.getSelectedInternalAccount)(e),i=m().find((e=>e.isAddressCompatible(r.address)));if(!i)throw new Error("Could not find non-EVM provider for the current configuration. This should never happen.");return{nickname:i.nickname,isEvmNetwork:!1,chainId:null==i?void 0:i.chainId,network:i}}function y(e,t){const n=(0,l.getCompletedOnboarding)(e),r=t??(0,g.getMaybeSelectedInternalAccount)(e);return!n||!r||(0,s.isEvmAccountType)(r.type)}function E(e,t){return T(e,t).network}function _(e,t){return E(e,t)}function S(e,t){var n;if(y(e,t))return(0,g.getNativeCurrencyImage)(e);return null===(n=E(e,t).rpcPrefs)||void 0===n?void 0:n.imageUrl}function I(e,t){var n;return{symbol:y(e,t)?(null===(n=(0,h.getProviderConfig)(e))||void 0===n?void 0:n.ticker)??"ETH":E(e,t).ticker}}function A(e,t){const n=E(e,t??(0,f.getSelectedInternalAccount)(e));return y(e,t)?p.TEST_NETWORK_IDS.includes(n.chainId):n.chainId===u.MultichainNetworks.BITCOIN_TESTNET}function v(e){return e.metamask.balances}const C=e=>e.metamask.rates;function O(e){return y(e)?(0,g.getSelectedAccountCachedBalance)(e):function(e){var t,n;const r=v(e),i=(0,f.getSelectedInternalAccount)(e),s=_(e),a=null===(t=d.MULTICHAIN_NETWORK_TO_ASSET_TYPES[s.chainId])||void 0===t?void 0:t[0];return null==r||null===(n=r[i.id])||void 0===n||null===(n=n[a])||void 0===n?void 0:n.amount}(e)}n.getMultichainCoinRates=C;n.getMultichainSelectedAccountCachedBalanceIsZero=(0,o.createSelector)([y,O],((e,t)=>{const n=e?16:10;return new c.Numeric(t,n).isZero()}))}}},{package:"$root$",file:"ui/selectors/multichain.ts"}],[6992,{"../../app/scripts/controllers/permissions":30,"../../shared/constants/permissions":5268,"../../shared/modules/selectors/util":5322,"./accounts":6979,"./approvals":6981,"./selectors":6993,"@metamask/controller-utils":1422,"@metamask/keyring-api":1843,"@metamask/snaps-rpc-methods":2479},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.activeTabHasPermissions=function(e){var t;const{activeTab:n,metamask:r}=e,{subjects:i={}}=r;return Boolean(Object.keys((null===(t=i[n.origin])||void 0===t?void 0:t.permissions)||{}).length>0)},n.getAccountToConnectToActiveTab=function(e){const t=(0,d.getSelectedInternalAccount)(e),n=g(e),{metamask:{internalAccounts:{accounts:r}}}=e,i=Object.keys(r).length;if(n.length&&n.length!==i&&-1===n.findIndex((e=>e===t.address)))return(0,l.getInternalAccount)(e,t.id);return undefined},n.getAddressConnectedSubjectMap=function(e){const t=y(e),n=T(e),r={};return Object.keys(n).forEach((e=>{const{iconUrl:i,name:s}=t[e]||{};n[e].forEach((t=>{const n=s||e;r[t]=r[t]?{...r[t],[e]:{iconUrl:i,name:n}}:{[e]:{iconUrl:i,name:n}}}))})),r},n.getConnectedSubjectsForAllAddresses=void 0,n.getConnectedSubjectsForSelectedAddress=function(e){const t=(0,d.getSelectedInternalAccount)(e),n=p(e),r=y(e),i=[];return Object.entries(n).forEach((([e,n])=>{if(!E(n).includes(t.address))return;const{extensionId:s,name:a,iconUrl:o}=r[e]||{};i.push({extensionId:s,origin:e,name:a,iconUrl:o})})),i},n.getFirstPermissionRequest=function(e){const t=O(e);return t&&t[0]?t[0]:null},n.getFirstSnapInstallOrUpdateRequest=function(e){var t;return(null===(t=C(e))||void 0===t?void 0:t[0])??null},n.getLastConnectedInfo=function(e){const{permissionHistory:t={}}=e.metamask;return Object.keys(t).reduce(((e,n)=>(t[n].eth_accounts&&(e[n]=JSON.parse(JSON.stringify(t[n].eth_accounts))),e)),{})},n.getOrderedConnectedAccountsForActiveTab=function(e){var t;const{activeTab:n,metamask:{permissionHistory:r}}=e,i=null===(t=r[n.origin])||void 0===t||null===(t=t.eth_accounts)||void 0===t?void 0:t.accounts,a=(0,l.getMetaMaskAccountsOrdered)(e),o=g(e);return a.filter((e=>o.includes(e.address))).filter((e=>(0,s.isEvmAccountType)(e.type))).map((e=>({...e,metadata:{...e.metadata,lastActive:null==i?void 0:i[e.address]}}))).sort((({lastSelected:e},{lastSelected:t})=>e===t?0:e===undefined?1:t===undefined?-1:t-e))},n.getOrderedConnectedAccountsForConnectedDapp=function(e,t){var n;const{metamask:{permissionHistory:r}}=e,i=null===(n=r[t.origin])||void 0===n||null===(n=n.eth_accounts)||void 0===n?void 0:n.accounts,a=(0,l.getMetaMaskAccountsOrdered)(e),o=m(e,t);return a.filter((e=>o.includes(e.address))).filter((e=>(0,s.isEvmAccountType)(e.type))).map((e=>({...e,metadata:{...e.metadata,lastActive:null==i?void 0:i[e.address]}}))).sort((({lastSelected:e},{lastSelected:t})=>e===t?0:e===undefined?1:t===undefined?-1:t-e))},n.getPermissionSubjects=p,n.getPermissionSubjectsDeepEqual=void 0,n.getPermissions=function(e,t){var n;return null===(n=p(e)[t])||void 0===n?void 0:n.permissions},n.getPermissionsForActiveTab=function(e){var t;const{activeTab:n,metamask:r}=e,{subjects:i={}}=r,s=(null===(t=i[n.origin])||void 0===t?void 0:t.permissions)??{};return Object.keys(s).map((e=>({key:e,value:s[e]})))},n.getPermissionsRequests=O,n.getPermittedAccounts=h,n.getPermittedAccountsByOrigin=T,n.getPermittedAccountsForCurrentTab=g,n.getPermittedAccountsForSelectedTab=m,n.getPermittedChains=f,n.getPermittedChainsByOrigin=function(e){const t=p(e);return Object.keys(t).reduce(((e,n)=>{const r=A(S(t[n]));return r.length>0&&(e[n]=r),e}),{})},n.getPermittedChainsForCurrentTab=function(e){return h(e,(0,l.getOriginOfCurrentTab)(e))},n.getPermittedChainsForSelectedTab=function(e,t){return f(e,t)},n.getRequestState=function(e,t){var n;return null===(n=e.metamask.pendingApprovals[t])||void 0===n?void 0:n.requestState},n.getRequestType=function(e,t){var n;return null===(n=e.metamask.pendingApprovals[t])||void 0===n?void 0:n.type},n.getSnapInstallOrUpdateRequests=C,n.getSubjectMetadata=y,n.getSubjectMetadataDeepEqual=void 0,n.getSubjectsWithPermission=function(e,t){const n=p(e),r=[];return Object.entries(n).forEach((([n,{permissions:i}])=>{if(i[t]){const{extensionId:t,name:i,iconUrl:s}=(0,l.getTargetSubjectMetadata)(e,n)||{};r.push({extensionId:t,origin:n,name:i,iconUrl:s})}})),r},n.getSubjectsWithSnapPermission=function(e,t){const n=p(e);return Object.entries(n).filter((([e,{permissions:n}])=>{var r;return null===(r=n[i.WALLET_SNAP_PERMISSION_KEY])||void 0===r?void 0:r.caveats[0].value[t]})).map((([t,n])=>{const{extensionId:r,name:i,iconUrl:s}=(0,l.getTargetSubjectMetadata)(e,t)||{};return{extensionId:r,origin:t,name:i,iconUrl:s}}))},n.isAccountConnectedToCurrentTab=void 0;var r=e("@metamask/controller-utils"),i=e("@metamask/snaps-rpc-methods"),s=e("@metamask/keyring-api"),a=e("../../shared/constants/permissions"),o=e("../../app/scripts/controllers/permissions"),c=e("../../shared/modules/selectors/util"),u=e("./approvals"),l=e("./selectors"),d=e("./accounts");n.getPermissionSubjectsDeepEqual=(0,c.createDeepEqualSelector)((e=>e.metamask.subjects||{}),(e=>e)),n.getSubjectMetadataDeepEqual=(0,c.createDeepEqualSelector)((e=>e.metamask.subjectMetadata),(e=>e));function p(e){return e.metamask.subjects||{}}function h(e,t){return I(_(v(e,t)))}function f(e,t){return A(S(v(e,t)))}function g(e){return h(e,(0,l.getOriginOfCurrentTab)(e))}function m(e,t){return h(e,t)}function T(e){const t=p(e);return Object.keys(t).reduce(((e,n)=>{const r=E(t[n]);return r.length>0&&(e[n]=r),e}),{})}function y(e){return e.metamask.subjectMetadata}n.getConnectedSubjectsForAllAddresses=(0,c.createDeepEqualSelector)(p,y,((e,t)=>{const n={};return Object.entries(e).forEach((([e,r])=>{E(r).forEach((r=>{n[r]||(n[r]=[]);const i=t[e];n[r].push({origin:e,...i})}))})),n}));n.isAccountConnectedToCurrentTab=(0,c.createDeepEqualSelector)(g,((e,t)=>t),((e,t)=>e.some((e=>e===t))));function E(e){return I(_(e))}function _(e={}){var t;return(null===(t=e.permissions)||void 0===t?void 0:t.eth_accounts)||{}}function S(e={}){var t;return(null===(t=e.permissions)||void 0===t?void 0:t[o.PermissionNames.permittedChains])||{}}function I(e){const t=function(e={}){return Array.isArray(e.caveats)&&e.caveats.find((e=>e.type===a.CaveatTypes.restrictReturnedAccounts))}(e);return t&&Array.isArray(t.value)?t.value:[]}function A(e){const t=function(e={}){return Array.isArray(e.caveats)&&e.caveats.find((e=>e.type===a.CaveatTypes.restrictNetworkSwitching))}(e);return t&&Array.isArray(t.value)?t.value:[]}function v(e,t){var n;return t&&(null===(n=e.metamask.subjects)||void 0===n?void 0:n[t])}function C(e){return Object.values(e.metamask.pendingApprovals).filter((({type:e})=>"wallet_installSnap"===e||"wallet_updateSnap"===e||"wallet_installSnapResult"===e)).map((({requestData:e})=>e))}function O(e){var t;return null===(t=(0,u.getApprovalRequestsByType)(e,r.ApprovalType.WalletRequestPermissions))||void 0===t?void 0:t.map((({requestData:e})=>e))}}}},{package:"$root$",file:"ui/selectors/permissions.js"}],[6993,{"../../app/scripts/controllers/bridge/types":20,"../../app/scripts/lib/util":135,"../../shared/constants/app":5248,"../../shared/constants/bridge":5249,"../../shared/constants/hardware-wallets":5256,"../../shared/constants/keyring":5257,"../../shared/constants/labels":5258,"../../shared/constants/multichain/assets":5262,"../../shared/constants/network":5264,"../../shared/constants/swaps":5274,"../../shared/constants/terms":5275,"../../shared/constants/time":5276,"../../shared/constants/tokens":5277,"../../shared/constants/transaction":5278,"../../shared/modules/conversion.utils":5301,"../../shared/modules/hexstring-utils":5307,"../../shared/modules/selectors":5319,"../../shared/modules/selectors/networks":5320,"../../shared/modules/selectors/util":5322,"../../shared/modules/string-utils":5324,"../../shared/modules/transaction.utils":5326,"../../shared/notifications":5328,"../ducks/app/app":6223,"../ducks/metamask/metamask":6236,"../helpers/constants/design-system":6248,"../helpers/utils/util":6297,"../pages/confirmations/confirmation/templates":6679,"./accounts":6979,"./multichain":6990,"./permissions":6992,"./transactions":6998,"@metamask/controller-utils":1422,"@metamask/keyring-api":1843,"@metamask/name-controller":1955,"@metamask/network-controller":1990,"@metamask/permission-controller":2133,"@metamask/snaps-utils":2647,"@metamask/transaction-controller":2698,lodash:4380,reselect:4801,semver:5064},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.accountSupportsSmartTx=function(e){const t=$(e);return Boolean("snap"!==t)},n.accountsWithSendEtherInfoSelector=de,n.checkIfMethodIsEnabled=function(e,t){const n=(0,G.getSelectedInternalAccount)(e);return Boolean(n.methods.includes(t))},n.checkNetworkAndAccountSupports1559=function(e,t){return(0,D.isEIP1559Network)(e,t)},n.checkNetworkOrAccountNotSupports1559=function(e){return(0,D.isNotEIP1559Network)(e)},n.doesAddressRequireLedgerHidConnection=function(e,t){const n=(0,D.isAddressLedger)(e,t),r=(0,D.getLedgerTransportType)(e)===T.LedgerTransportTypes.webhid,i=(0,R.getLedgerWebHidConnectedStatus)(e)!==T.WebHIDConnectedStatuses.connected,s=(0,R.getLedgerTransportStatus)(e)!==T.HardwareTransportStates.verified;return n&&r&&(i||s)},n.getAccountName=function(e,t){const n=e.find((e=>(0,k.isEqualCaseInsensitive)(e.address,t)));return n&&""!==n.metadata.name?n.metadata.name:""},n.getAccountType=$,n.getAccountTypeForKeyring=Y,n.getAccountsWithLabels=function(e){return ie(e).map((e=>{const{address:t,metadata:{name:n},balance:r}=e;return{...e,addressLabel:`${n.length<_.TRUNCATED_NAME_CHAR_LIMIT?n:`${n.slice(0,_.TRUNCATED_NAME_CHAR_LIMIT-1)}...`} (${(0,v.shortenAddress)(t)})`,label:n,balance:r}}))},n.getAddressBook=ue,n.getAddressBookEntry=le,n.getAddressBookEntryOrAccountName=function(e,t){const n=le(e,t);if(n&&""!==n.name)return n.name;const r=Object.values((0,G.getInternalAccounts)(e)).find((e=>(0,k.isEqualCaseInsensitive)(e.address,t)));return(null==r?void 0:r.metadata.name)||t},n.getAdvancedGasFeeValues=function(e){return e.metamask.advancedGasFee[(0,f.getCurrentChainId)(e)]},n.getAdvancedInlineGasShown=function(e){return Boolean(e.metamask.featureFlags.advancedInlineGas)},n.getAllAccountsOnNetworkAreEmpty=function(e){const t=ne(e)??{},n=Object.values(t).every((e=>"0x0"===e||"0x00"===e)),r=0===Z(e);return n&&r},n.getAllConnectedAccounts=n.getAllChainsToPoll=void 0,n.getAllDetectedTokens=function(e){return e.metamask.allDetectedTokens},n.getAllDetectedTokensForSelectedAddress=function(e){if(!(0,D.getCompletedOnboarding)(e))return{};const{address:t}=(0,G.getSelectedInternalAccount)(e);return Object.entries(e.metamask.allDetectedTokens||{}).reduce(((e,[n,r])=>{const i=r[t];return i&&(e[n]=i.map((e=>({...e,chainId:n})))),e}),{})},n.getAllDomains=oe,n.getAllSnapAvailableUpdates=n.getAllEnabledNetworks=void 0,n.getAllTokens=ae,n.getAnySnapUpdateAvailable=void 0,n.getAppIsLoading=function(e){return e.appState.isLoading},n.getBlockExplorerLinkText=function(e,t=!1){const n=ut(e),r=Fe(e);let i={firstPart:"addBlockExplorer",secondPart:""};r.blockExplorerUrl?i=t?{firstPart:"blockExplorerView",secondPart:(0,v.getURLHostName)(r.blockExplorerUrl)}:{firstPart:"viewinExplorer",secondPart:"blockExplorerAccountAction"}:!1===n&&(i=t?{firstPart:"etherscanViewOn",secondPart:""}:{firstPart:"viewOnEtherscan",secondPart:"blockExplorerAccountAction"});return i},n.getConnectedSnapsList=n.getConnectedSitesListWithNetworkInfo=n.getConnectedSitesList=n.getConfirmationExchangeRates=n.getChainIdsToPoll=void 0,n.getCrossChainMetaMaskCachedBalances=function(e){const t=e.metamask.accountsByChainId;return Object.keys(t).reduce(((e,n)=>(e[n]=Object.keys(t[n]).reduce(((e,r)=>(e[r]=t[n][r].balance,e)),{}),e)),{})},n.getCrossChainTokenExchangeRates=void 0,n.getCurrencyRates=function(e){return e.metamask.currencyRates},n.getCurrentAccountWithSendEtherInfo=pe,n.getCurrentCurrency=function(e){return e.metamask.currentCurrency},n.getCurrentEthBalance=he,n.getCurrentKeyring=q,n.getCurrentNetwork=void 0,n.getCurrentQRHardwareState=function(e){const{qrHardware:t}=e.metamask;return t||{}},n.getCustomNonceValue=function(e){return String(e.metamask.customNonceValue)},n.getCustomTokenAmount=function(e){return e.appState.customTokenAmount},n.getDefaultHomeActiveTabName=function(e){return e.metamask.defaultHomeActiveTabName},n.getDetectedTokensInCurrentNetwork=function(e){var t;const n=(0,f.getCurrentChainId)(e),{address:r}=(0,G.getSelectedInternalAccount)(e);return null===(t=e.metamask.allDetectedTokens)||void 0===t||null===(t=t[n])||void 0===t?void 0:t[r]},n.getEditedNetwork=function(e){return e.appState.editedNetwork},n.getEnabledSnaps=void 0,n.getEnsResolutionByAddress=function(e,t){if(e.metamask.ensResolutionsByAddress[t])return e.metamask.ensResolutionsByAddress[t];const n=le(e,t)||Q(e,t);return(null==n?void 0:n.name)||""},n.getEthereumAddressNames=function(e){var t;return(null===(t=e.metamask.names)||void 0===t?void 0:t[l.NameType.ETHEREUM_ADDRESS])||{}},n.getEvmInternalAccounts=void 0,n.getExternalServicesOnboardingToggleState=function(e){return e.appState.externalServicesOnboardingToggleState},n.getFeatureFlags=function(e){return e.metamask.featureFlags},n.getFeatureNotificationsEnabled=function(e){const{featureNotificationsEnabled:t=!1}=Se(e);return t},n.getFullTxData=void 0,n.getGasIsLoading=function(e){return e.appState.gasIsLoading},n.getHardwareWalletType=function(e){const t=q(e);return V(e)?t.type:undefined},n.getHiddenAccountsList=nt,n.getInterfaceContent=n.getInterface=n.getInsightSnaps=n.getInsightSnapIds=n.getHideSnapBranding=void 0,n.getInternalAccount=function(e,t){return e.metamask.internalAccounts.accounts[t]},n.getInternalAccountByAddress=Q,n.getInternalAccountsSortedByKeyring=void 0,n.getIpfsGateway=function(e){return e.metamask.ipfsGateway},n.getIsAddSnapAccountEnabled=function(e){return e.metamask.addSnapAccountEnabled},n.getIsAddingNewNetwork=function(e){return e.appState.isAddingNewNetwork},n.getIsBitcoinSupportEnabled=function(e){return e.metamask.bitcoinSupportEnabled},n.getIsBitcoinTestnetSupportEnabled=function(e){return e.metamask.bitcoinTestnetSupportEnabled},n.getIsBridgeChain=function(e,t){const n=(0,f.getCurrentChainId)(e),r=t??n;return I.ALLOWED_BRIDGE_CHAIN_IDS.includes(r)},n.getIsBridgeEnabled=void 0,n.getIsCustomNetwork=ut,n.getIsDynamicTokenListAvailable=at,n.getIsLineaMainnet=function(e){return(0,f.getCurrentChainId)(e)===m.CHAIN_IDS.LINEA_MAINNET},n.getIsMainnet=Ee,n.getIsMultiRpcOnboarding=function(e){return e.appState.isMultiRpcOnboarding},n.getIsNetworkUsed=function(e){const t=(0,f.getCurrentChainId)(e),{usedNetworks:n}=e.metamask;return Boolean(n[t])},n.getIsNonStandardEthChain=function(e){return!(Ee(e)||_e(e))},n.getIsSecurityAlertsEnabled=function(e){return e.metamask.securityAlertsEnabled},n.getIsSigningQRHardwareTransaction=function(e){var t;return(null===(t=e.metamask.qrHardware)||void 0===t||null===(t=t.sign)||void 0===t?void 0:t.request)!==undefined},n.getIsSwapsChain=function(e,t){const n=(0,f.getCurrentChainId)(e),r=t??n;return S.ALLOWED_PROD_SWAPS_CHAIN_IDS.includes(r)},n.getIsTestnet=_e,n.getIsTokenDetectionInactiveOnMainnet=ot,n.getIsTokenDetectionSupported=function(e){const t=st(e),n=at(e);return t&&n},n.getIsTokenNetworkFilterEqualCurrentNetwork=Ae,n.getIsWatchEthereumAccountEnabled=function(e){return e.metamask.watchEthereumAccountEnabled},n.getIstokenDetectionInactiveOnNonMainnetSupportedNetwork=function(e){const t=st(e),n=Ee(e);return at(e)&&!t&&!n},n.getKeyringSnapAccounts=function(e){const t=(0,G.getInternalAccounts)(e);return Object.values(t).filter((e=>{const{keyring:t}=e.metadata;return t.type===y.KeyringType.snap}))},n.getKeyringSnapRemovalResult=function(e){return e.appState.keyringRemovalSnapModal},n.getKnownMethodData=function(e,t){const{knownMethodData:n,use4ByteResolution:r}=e.metamask;if(!r||!(0,B.hasTransactionData)(t))return null;const i=(0,g.addHexPrefix)(t).slice(0,10);if(i.length<10)return null;return(null==n?void 0:n[i])??null},n.getLastViewedUserSurvey=function(e){return e.metamask.lastViewedUserSurvey},n.getLocale=ze,n.getMarketData=void 0,n.getMaybeSelectedInternalAccount=function(e){var t,n;const r=null===(t=e.metamask.internalAccounts)||void 0===t?void 0:t.selectedAccount;return r?null===(n=e.metamask.internalAccounts)||void 0===n?void 0:n.accounts[r]:undefined},n.getMemoizedInterfaces=n.getMemoizedInterfaceContent=n.getMemoizedInterface=n.getMemoizedCurrentChainId=n.getMemoizedAddressBook=void 0,n.getMemoizedUnapprovedTypedMessages=n.getMemoizedUnapprovedTemplatedConfirmations=n.getMemoizedUnapprovedPersonalMessages=n.getMemoizedUnapprovedConfirmations=n.getMemoizedTxId=n.getMemoizedTargetSubjectMetadata=n.getMemoizedMetadataContract=n.getMemoizedMetaMaskInternalAccounts=void 0,n.getMetaMaskAccountBalances=te,n.getMetaMaskAccountsOrdered=n.getMetaMaskAccountsConnected=n.getMetaMaskAccounts=void 0,n.getMetaMaskCachedBalances=ne,n.getMetaMaskKeyrings=ee,n.getMetaMetricsDataDeletionId=function(e){return e.metamask.metaMetricsDataDeletionId},n.getMetaMetricsDataDeletionStatus=function(e){return e.metamask.metaMetricsDataDeletionStatus},n.getMetaMetricsDataDeletionTimestamp=function(e){return e.metamask.metaMetricsDataDeletionTimestamp},n.getMetaMetricsId=function(e){const{metaMetricsId:t}=e.metamask;return t},n.getNameLookupSnapsIds=n.getMultipleTargetsSubjectMetadata=n.getMetadataContractName=void 0,n.getNameSources=function(e){return e.metamask.nameSources||{}},n.getNames=function(e){return e.metamask.names||{}},n.getNativeCurrencyForChain=function(e){return m.CHAIN_ID_TOKEN_IMAGE_MAP[e]??undefined},n.getNativeCurrencyImage=function(e){const t=(0,f.getCurrentChainId)(e);return m.CHAIN_ID_TOKEN_IMAGE_MAP[t]},n.getNetworkConfigurationIdByChainId=n.getNetworkClientIdsToPoll=void 0,n.getNetworkIdentifier=function(e){const{type:t,nickname:n,rpcUrl:r}=(0,f.getProviderConfig)(e);return n||r||t},n.getNetworkToAutomaticallySwitchTo=function(e){const t=rt(e),n=Be(e),r=ct(e);if((0,g.getEnvironmentType)()===L.ENVIRONMENT_TYPE_POPUP&&(0,D.getIsUnlocked)(e)&&r&&n&&0===t){const t=oe(e)[n],r=it(e);if(t&&r.id!==t)return t}return null},n.getNetworksTabSelectedNetworkConfigurationId=function(e){return e.appState.selectedNetworkConfigurationId},n.getNewNetworkAdded=function(e){return e.appState.newNetworkAddedName},n.getNewNftAddedMessage=function(e){return e.appState.newNftAddedMessage},n.getNewTokensImported=function(e){return e.appState.newTokensImported},n.getNewTokensImportedError=function(e){return e.appState.newTokensImportedError},n.getNextSuggestedNonce=function(e){return Number(e.metamask.nextNonce)},n.getNftIsStillFetchingIndication=function(e){return e.appState.isNftStillFetchingIndication},n.getNotifySnaps=void 0,n.getNumberOfAllUnapprovedTransactionsAndMessages=rt,n.getNumberOfTokens=Z,n.getOnboardedInThisUISession=function(e){return e.appState.onboardedInThisUISession},n.getOnboardingDate=function(e){return e.metamask.onboardingDate},n.getOpenSeaEnabled=function(e){return Boolean(e.metamask.openSeaEnabled)},n.getOrderedNetworksList=function(e){return e.metamask.orderedNetworkList},n.getOriginOfCurrentTab=Be,n.getPetnamesEnabled=function(e){const{petnamesEnabled:t=!0}=Se(e);return t},n.getPinnedAccountsList=tt,n.getPreferences=Se,n.getPrioritizedUnapprovedTemplatedConfirmations=n.getPreinstalledSnaps=void 0,n.getQueuedRequestCount=me,n.getRedesignedConfirmationsEnabled=function(e){const{redesignedConfirmationsEnabled:t}=Se(e);return t},n.getRedesignedTransactionsEnabled=function(e){const{redesignedTransactionsEnabled:t}=Se(e);return t},n.getRemoveNftMessage=function(e){return e.appState.removeNftMessage},n.getRequestingNetworkInfo=function(e,t){let n=t===undefined?[]:t;"string"==typeof n&&(n=[n]);const r=n.flat();return Object.values((0,f.getNetworkConfigurationsByChainId)(e)).filter((e=>!m.TEST_CHAINS.includes(e.chainId)&&r.includes(e.chainId)))},n.getRpcPrefsForCurrentProvider=Fe,n.getSelectedAccount=void 0,n.getSelectedAccountCachedBalance=se,n.getSelectedAccountNativeTokenCachedBalanceByChainId=re,n.getSelectedAccountTokensAcrossChains=function(e){const{allTokens:t}=e.metamask,n=(0,G.getSelectedInternalAccount)(e).address,r={},i=re(e);return new Set([...Object.keys(t||{}),...Object.keys(i||{})]).forEach((s=>{var a;r[s]||(r[s]=[]),null!==(a=t[s])&&void 0!==a&&a[n]&&t[s][n].forEach((e=>{const t={...e,chainId:s,isNative:!1};r[s].push(t)}));const o=i[s];if(o){const t=function(e,t){const{networkConfigurationsByChainId:n}=e.metamask,r=null==n?void 0:n[t];if(r){return{symbol:r.nativeCurrency||A.AssetType.native,decimals:18,name:r.name||"Native Token"}}const{provider:i}=e.metamask;if((null==i?void 0:i.chainId)===t){var s;return{symbol:i.ticker||A.AssetType.native,decimals:(null===(s=i.nativeCurrency)||void 0===s?void 0:s.decimals)||18,name:i.nickname||"Native Token"}}return{symbol:A.AssetType.native,decimals:18,name:"Native Token"}}(e,s);r[s].push({...t,address:"",balance:o,chainId:s,isNative:!0})}})),r},n.getSelectedAddress=function(e){var t;return null===(t=(0,G.getSelectedInternalAccount)(e))||void 0===t?void 0:t.address},n.getSelectedEvmInternalAccount=void 0,n.getSelectedInternalAccountWithBalance=function(e){const t=(0,G.getSelectedInternalAccount)(e),n=te(e)[t.address];return{...t,balance:n?n.balance:"0x0"}},n.getSelectedNetwork=void 0,n.getSendInputCurrencySwitched=function({appState:e}){return e.sendInputCurrencySwitched},n.getShouldHideZeroBalanceTokens=function(e){const{hideZeroBalanceTokens:t}=Se(e);return t},n.getShouldShowAggregatedBalancePopover=function(e){const{shouldShowAggregatedBalancePopover:t}=Se(e);return t},n.getShouldShowFiat=function(e){const t=(0,f.getCurrentChainId)(e),n=m.TEST_NETWORK_IDS.includes(t),{showFiatInTestnets:r}=Se(e),i=(0,D.getConversionRate)(e),s=lt(e),a=Boolean(s&&i);if(n)return r&&a;return a},n.getShouldShowSeedPhraseReminder=function(e){const{tokens:t,seedPhraseBackedUp:n,dismissSeedBackUpReminder:r}=e.metamask,i=(0,G.getSelectedInternalAccount)(e)?he(e):0;return!1===n&&(parseInt(i,16)>0||t.length>0)&&!1===r},n.getShowAccountBanner=function(e){return e.metamask.showAccountBanner},n.getShowBasicFunctionalityModal=function(e){return e.appState.showBasicFunctionalityModal},n.getShowBetaHeader=function(e){return e.metamask.showBetaHeader},n.getShowDataDeletionErrorModal=function(e){return e.appState.showDataDeletionErrorModal},n.getShowDeleteMetaMetricsDataModal=function(e){return e.appState.showDeleteMetaMetricsDataModal},n.getShowExtensionInFullSizeView=function(e){const{showExtensionInFullSizeView:t}=Se(e);return Boolean(t)},n.getShowFiatInTestnets=function(e){const{showFiatInTestnets:t}=Se(e);return t},n.getShowNetworkBanner=function(e){return e.metamask.showNetworkBanner},n.getShowOutdatedBrowserWarning=function(e){const{outdatedBrowserWarningLastShown:t}=e.metamask;if(!t)return!0;return(new Date).getTime()-t>=2*N.DAY},n.getShowPermissionsTour=function(e){return e.metamask.showPermissionsTour},n.getShowPermittedNetworkToastOpen=function(e){return e.appState.showPermittedNetworkToastOpen},n.getShowRecoveryPhraseReminder=function(e){const{recoveryPhraseReminderLastShown:t,recoveryPhraseReminderHasBeenShown:n}=e.metamask,r=(new Date).getTime(),i=n?90*N.DAY:2*N.DAY;return r-t>=i},n.getShowTermsOfUse=function(e){const{termsOfUseLastAgreed:t}=e.metamask;if(!t)return!0;return new Date(t).getTime()<new Date(b.TERMS_OF_USE_LAST_UPDATED).getTime()},n.getShowTestNetworks=Ie,n.getShowWhatsNewPopup=function(e){return e.appState.showWhatsNewPopup},n.getSnapMetadata=n.getSnapLatestVersion=n.getSnapInsights=n.getSnap=n.getSignatureInsightSnaps=n.getSignatureInsightSnapIds=void 0,n.getSnapRegistry=function(e){const{snapRegistryList:t}=e.metamask;return t},n.getSnapRegistryData=void 0,n.getSnaps=Ye,n.getSnapsInstallPrivacyWarningShown=function(e){const{snapsInstallPrivacyWarningShown:t}=e.metamask;if(t===undefined||null===t)return!1;return t},n.getSnapsList=dt,n.getSnapsMetadata=void 0,n.getSortedAnnouncementsToShow=function(e){const t=Object.values(e.metamask.announcements),n=function(e){const t=q(e),n=(null==t?void 0:t.type)===y.KeyringType.ledger,r=window.navigator.userAgent.includes("Firefox");return{[M.NOTIFICATION_DROP_LEDGER_FIREFOX]:n&&r}}(e),r=t.filter((e=>!e.isShown&&n[e.id]));return r.sort(((e,t)=>new Date(t.date)-new Date(e.date)))},n.getSuggestedNfts=function(e){var t;return(null===(t=Te(e))||void 0===t?void 0:t.filter((({requestData:e,type:t})=>{var n;return t===s.ApprovalType.WatchAsset&&(null==e||null===(n=e.asset)||void 0===n?void 0:n.tokenId)!==undefined})))||[]},n.getSuggestedTokens=function(e){var t;return(null===(t=Te(e))||void 0===t?void 0:t.filter((({type:e,requestData:t})=>{var n;return e===s.ApprovalType.WatchAsset&&(null==t||null===(n=t.asset)||void 0===n?void 0:n.tokenId)===undefined})))||[]},n.getSwapsDefaultToken=function(e,t=null){const n=ce(e),r=null==n?void 0:n.balance,i=(0,f.getCurrentChainId)(e),s=t??i;return{...S.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[s],balance:(0,w.hexToDecimal)(r),string:(0,w.getValueFromWeiHex)({value:r,numberOfDecimals:4,toDenomination:"ETH"})}},n.getSwitchedNetworkDetails=function(e){const{switchedNetworkDetails:t}=e.metamask,n=(0,f.getNetworkConfigurationsByChainId)(e);if(t){const e=Object.values(n).find((e=>e.rpcEndpoints.some((e=>e.networkClientId===t.networkClientId))));return{nickname:null==e?void 0:e.name,imageUrl:m.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[null==e?void 0:e.chainId],origin:null==t?void 0:t.origin}}return null},n.getTargetAccount=function(e,t){return z(e)[t]},n.getTargetAccountWithSendEtherInfo=function(e,t){const n=de(e);return(0,v.getAccountByAddress)(n,t)},n.getTargetSubjectMetadata=Oe,n.getTestNetworkBackgroundColor=function(e){const t=(0,f.getProviderConfig)(e).ticker;switch(!0){case null==t?void 0:t.includes(m.GOERLI_DISPLAY_NAME):return P.BackgroundColor.goerli;case null==t?void 0:t.includes(m.SEPOLIA_DISPLAY_NAME):return P.BackgroundColor.sepolia;default:return undefined}},n.getTheme=function(e){return e.metamask.theme},n.getTokenList=n.getTokenExchangeRates=n.getTokenDetectionSupportNetworkByChainId=void 0,n.getTokenNetworkFilter=ve,n.getTokensMarketData=void 0,n.getTotalUnapprovedCount=function(e){return e.metamask.pendingApprovalCount??0},n.getTotalUnapprovedMessagesCount=function(e){const{unapprovedPersonalMsgCount:t=0,unapprovedDecryptMsgCount:n=0,unapprovedEncryptionPublicKeyMsgCount:r=0,unapprovedTypedMessagesCount:i=0}=e.metamask;return t+n+r+i},n.getTotalUnapprovedSignatureRequestCount=function(e){const{unapprovedPersonalMsgCount:t=0,unapprovedTypedMessagesCount:n=0}=e.metamask;return t+n},n.getTxData=n.getTransaction=void 0,n.getUSDConversionRate=function(e){var t;return null===(t=e.metamask.currencyRates[(0,f.getProviderConfig)(e).ticker])||void 0===t?void 0:t.usdConversionRate},n.getUnapprovedConfirmations=void 0,n.getUnapprovedTemplatedConfirmations=ye,n.getUnapprovedTransaction=void 0,n.getUnapprovedTxCount=function(e){const t=(0,j.getUnapprovedTransactions)(e);return Object.keys(t).length},n.getUnconnectedAccounts=function(e,t){const n=ie(e),r=(0,K.getOrderedConnectedAccountsForConnectedDapp)(e,t);return n.filter((e=>!r.some((t=>t.address===e.address))))},n.getUpdatedAndSortedAccounts=void 0,n.getUseBlockie=function(e){return Boolean(e.metamask.useBlockie)},n.getUseCurrencyRateCheck=lt,n.getUseExternalServices=Ue,n.getUseNftDetection=function(e){return Boolean(e.metamask.useNftDetection)},n.getUseNonceField=function(e){const t=(0,E.getIsSmartTransaction)(e);return Boolean(!t&&e.metamask.useNonceField)},n.getUseRequestQueue=ct,n.getUseTokenDetection=st,n.getUseTransactionSimulations=function(e){return Boolean(e.metamask.useTransactionSimulations)},n.getWatchedToken=void 0,n.getWeb3ShimUsageStateForOrigin=function(e,t){return e.metamask.web3ShimUsageOrigins[t]},n.getsnapsAddSnapAccountModalDismissed=function(e){const{snapsAddSnapAccountModalDismissed:t}=e.metamask;return t},n.isBalanceCached=function(e){var t;const{address:n}=(0,G.getSelectedInternalAccount)(e),r=null===(t=te(e)[n])||void 0===t?void 0:t.balance,i=se(e);return Boolean(!r&&i)},n.isCurrentProviderCustom=function(e){const t=(0,f.getProviderConfig)(e);return t.type===m.NETWORK_TYPES.RPC&&!Object.values(m.CHAIN_IDS).includes(t.chainId)},n.isHardwareWallet=V,n.useSafeChainsListValidationSelector=n.selectNftsByChainId=n.selectNftContractsByChainId=n.selectNetworkIdentifierByChainId=n.selectNetworkConfigurationByChainId=n.selectInstalledSnaps=n.selectERC20TokensByChain=n.selectERC20Tokens=n.selectDefaultRpcEndpointByChainId=n.selectConversionRateByChainId=n.selectAllTokensFlat=n.rawStateSelector=void 0;var r,i=e("@metamask/permission-controller"),s=e("@metamask/controller-utils"),a=e("@metamask/snaps-utils"),o=e("lodash"),c=(r=e("semver"))&&r.__esModule?r:{default:r},u=e("reselect"),l=e("@metamask/name-controller"),d=e("@metamask/transaction-controller"),p=e("@metamask/keyring-api"),h=e("@metamask/network-controller"),f=e("../../shared/modules/selectors/networks"),g=e("../../app/scripts/lib/util"),m=e("../../shared/constants/network"),T=e("../../shared/constants/hardware-wallets"),y=e("../../shared/constants/keyring"),E=e("../../shared/modules/selectors"),_=e("../../shared/constants/labels"),S=e("../../shared/constants/swaps"),I=e("../../shared/constants/bridge"),A=e("../../shared/constants/transaction"),v=e("../helpers/utils/util"),C=e("../pages/confirmations/confirmation/templates"),O=e("../../shared/constants/tokens"),N=e("../../shared/constants/time"),b=e("../../shared/constants/terms"),D=e("../ducks/metamask/metamask"),R=e("../ducks/app/app"),k=e("../../shared/modules/string-utils"),w=e("../../shared/modules/conversion.utils"),P=e("../helpers/constants/design-system"),M=e("../../shared/notifications"),L=e("../../shared/constants/app"),x=e("../../shared/constants/multichain/assets"),F=e("../../app/scripts/controllers/bridge/types"),B=e("../../shared/modules/transaction.utils"),U=e("../../shared/modules/hexstring-utils"),H=e("../../shared/modules/selectors/util"),j=e("./transactions"),K=e("./permissions"),G=e("./accounts"),W=e("./multichain");function q(e){const t=(0,G.getSelectedInternalAccount)(e);return t?t.metadata.keyring:null}function V(e){var t;const n=q(e);return Boolean(null==n||null===(t=n.type)||void 0===t?void 0:t.includes("Hardware"))}function $(e){return Y(q(e))}function Y(e){if(!e)return"";const{type:t}=e;switch(t){case y.KeyringType.trezor:case y.KeyringType.ledger:case y.KeyringType.lattice:case y.KeyringType.qr:return"hardware";case y.KeyringType.imported:return"imported";case y.KeyringType.snap:return"snap";default:return"default"}}const z=n.getMetaMaskAccounts=(0,u.createSelector)(G.getInternalAccounts,te,ne,W.getMultichainBalances,W.getMultichainNetwork,((e,t,n,r,i)=>Object.values(e).reduce(((e,s)=>{let a=s;var o;(0,p.isEvmAccountType)(s.type)?null!=t&&t[s.address]&&(a={...a,...t[s.address]}):a={...a,balance:(null==r||null===(o=r[s.id])||void 0===o||null===(o=o[x.MultichainNativeAssets[i.chainId]])||void 0===o?void 0:o.amount)??"0"};return null!==a.balance&&a.balance!==undefined||(a={...a,balance:(n&&n[s.address])??"0x0"}),{...e,[s.address]:a}}),{})));function Q(e,t){return Object.values(e.metamask.internalAccounts.accounts).find((e=>(0,k.isEqualCaseInsensitive)(e.address,t)))}const X=n.getEvmInternalAccounts=(0,u.createSelector)(G.getInternalAccounts,(e=>e.filter((e=>(0,p.isEvmAccountType)(e.type))))),J=(n.getSelectedEvmInternalAccount=(0,u.createSelector)(X,(e=>{const[t]=(0,v.sortSelectedInternalAccounts)(e);return t})),n.getInternalAccountsSortedByKeyring=(0,u.createSelector)(ee,z,((e,t)=>e.map((({accounts:e})=>e)).flat().map((e=>t[e])))));function Z(e){const{tokens:t}=e.metamask;return t?t.length:0}function ee(e){return e.metamask.keyrings}function te(e){return e.metamask.accounts}function ne(e){var t;const n=(0,f.getCurrentChainId)(e);return null!==(t=e.metamask.accountsByChainId)&&void 0!==t&&t[n]?Object.entries(e.metamask.accountsByChainId[n]).reduce(((e,[t,n])=>(e[t]=n.balance,e)),{}):{}}function re(e){const{accountsByChainId:t}=e.metamask,{address:n}=(0,G.getSelectedInternalAccount)(e),r={};for(const[e,i]of Object.entries(t||{}))i[n]&&(r[e]=i[n].balance);return r}const ie=n.getMetaMaskAccountsOrdered=(0,u.createSelector)(J,z,((e,t)=>e.map((e=>({...e,...t[e.address]})))));n.getMetaMaskAccountsConnected=(0,u.createSelector)(ie,(e=>e.map((({address:e})=>e.toLowerCase()))));function se(e){const t=ne(e),{address:n}=(0,G.getSelectedInternalAccount)(e);return null==t?void 0:t[n]}function ae(e){return e.metamask.allTokens}n.selectAllTokensFlat=(0,u.createSelector)(ae,(e=>Object.values(e).reduce(((e,t)=>{const n=Object.values(t);return e.concat(...n)}),[])));function oe(e){return e.metamask.domains}n.getConfirmationExchangeRates=e=>e.metamask.confirmationExchangeRates;const ce=n.getSelectedAccount=(0,H.createDeepEqualSelector)(z,G.getSelectedInternalAccount,((e,t)=>t?{...t,...e[t.address]}:undefined));n.getWatchedToken=e=>(0,u.createSelector)([ce,ae],((t,n)=>{var r;const{chainId:i}=e;return null==n||null===(r=n[i])||void 0===r||null===(r=r[t.address])||void 0===r?void 0:r.find((t=>(0,U.toChecksumHexAddress)(t.address)===(0,U.toChecksumHexAddress)(e.txParams.to)))}));n.getTokenExchangeRates=e=>{var t;const n=(0,f.getCurrentChainId)(e),r=(null===(t=e.metamask.marketData)||void 0===t?void 0:t[n])??{};return Object.entries(r).reduce(((e,[t,n])=>(e[t]=(null==n?void 0:n.price)??null,e)),{})};n.getCrossChainTokenExchangeRates=e=>{const t=e.metamask.marketData??{};return Object.keys(t).reduce(((e,n)=>(e[n]=Object.keys(t[n]).reduce(((e,r)=>{var i;return e[r]=null===(i=t[n][r])||void 0===i?void 0:i.price,e}),{}),e)),{})};n.getTokensMarketData=e=>{var t;const n=(0,f.getCurrentChainId)(e);return null===(t=e.metamask.marketData)||void 0===t?void 0:t[n]};function ue(e){const t=(0,f.getCurrentChainId)(e);return e.metamask.addressBook[t]?Object.values(e.metamask.addressBook[t]):[]}function le(e,t){return ue(e).find((e=>(0,k.isEqualCaseInsensitive)(e.address,t)))}function de(e){const t=z(e),n=(0,G.getInternalAccounts)(e);return Object.values(n).map((e=>({...e,...t[e.address]})))}function pe(e){const{address:t}=(0,G.getSelectedInternalAccount)(e),n=de(e);return(0,v.getAccountByAddress)(n,t)}function he(e){var t;return null===(t=pe(e))||void 0===t?void 0:t.balance}n.getMarketData=e=>e.metamask.marketData;n.getNetworkConfigurationIdByChainId=(0,H.createDeepEqualSelector)((e=>e.metamask.networkConfigurationsByChainId),(e=>Object.entries(e).reduce(((e,[t,n])=>{const r=n.rpcEndpoints[n.defaultRpcEndpointIndex];return e[t]=r.networkClientId,e}),{})));const fe=n.selectNetworkConfigurationByChainId=(0,u.createSelector)(f.getNetworkConfigurationsByChainId,((e,t)=>t),((e,t)=>e[t])),ge=n.selectDefaultRpcEndpointByChainId=(0,u.createSelector)(fe,(e=>{if(!e)return undefined;const{defaultRpcEndpointIndex:t,rpcEndpoints:n}=e;return n[t]}));n.selectConversionRateByChainId=(0,u.createSelector)(fe,(e=>e),((e,t)=>{var n;if(!e)return undefined;const{nativeCurrency:r}=e;return null===(n=t.metamask.currencyRates[r])||void 0===n?void 0:n.conversionRate})),n.selectNftsByChainId=(0,u.createSelector)(G.getSelectedInternalAccount,(e=>e.metamask.allNfts),((e,t)=>t),((e,t,n)=>{var r;return(null==t||null===(r=t[e.address])||void 0===r?void 0:r[n])??[]})),n.selectNftContractsByChainId=(0,u.createSelector)(G.getSelectedInternalAccount,(e=>e.metamask.allNftContracts),((e,t)=>t),((e,t,n)=>{var r;return(null==t||null===(r=t[e.address])||void 0===r?void 0:r[n])??[]})),n.selectNetworkIdentifierByChainId=(0,u.createSelector)(fe,ge,((e,t)=>{const{name:n}=e??{},{url:r,networkClientId:i}=t??{};return n||r||i}));function me(e){return e.metamask.queuedRequestCount??0}const Te=n.getUnapprovedConfirmations=(0,H.createDeepEqualSelector)((e=>e.metamask.pendingApprovals||{}),(e=>Object.values(e)));function ye(e){return Te(e).filter((e=>C.TEMPLATED_CONFIRMATION_APPROVAL_TYPES.includes(e.type)))}n.getPrioritizedUnapprovedTemplatedConfirmations=(0,u.createSelector)(ye,(e=>e.filter((({type:e})=>C.PRIORITY_APPROVAL_TEMPLATE_TYPES.includes(e)))));function Ee(e){return(0,f.getCurrentChainId)(e)===m.CHAIN_IDS.MAINNET}function _e(e){const t=(0,f.getCurrentChainId)(e);return m.TEST_CHAINS.includes(t)}function Se({metamask:e}){return e.preferences}function Ie(e){const{showTestNetworks:t}=Se(e);return Boolean(t)}function Ae(e){const t=(0,f.getCurrentChainId)(e),n=ve(e);return 1===Object.keys(n).length&&Object.keys(n)[0]===t}function ve(e){const t=(0,f.getCurrentChainId)(e),{tokenNetworkFilter:n}=Se(e);return m.FEATURED_NETWORK_CHAIN_IDS.includes(t)?Object.entries(n||{}).reduce(((e,[t,n])=>(m.FEATURED_NETWORK_CHAIN_IDS.includes(t)&&(e[t]=n),e)),{}):{[t]:!0}}const Ce=(0,o.memoize)((e=>`data:image/svg+xml;utf8,${encodeURIComponent(e)}`));function Oe(e,t){const n=(0,K.getSubjectMetadata)(e)[t];if((null==n?void 0:n.subjectType)===i.SubjectType.Snap){const{svgIcon:e,...t}=n;return{...t,iconUrl:e?Ce(e):null}}return n}const Ne=e=>e;n.rawStateSelector=Ne;const be=(e,t)=>t,De=e=>e.metamask.snaps;n.selectInstalledSnaps=De;const Re=n.getSnapRegistryData=(0,u.createSelector)([e=>{var t;return null===(t=e.metamask.database)||void 0===t?void 0:t.verifiedSnaps},be],((e,t)=>e?e[t]:null)),ke=n.getSnapLatestVersion=(0,u.createSelector)([Re],(e=>e?Object.keys(e.versions).reduce(((e,t)=>c.default.gt(t,e)?t:e),"0.0.0"):null)),we=n.getAllSnapAvailableUpdates=(0,u.createSelector)([De,Ne],((e,t)=>{const n=new Map;return Object.keys(e).forEach((r=>{const i=ke(t,r);n.set(r,!!i&&c.default.gt(i,e[r].version))})),n})),Pe=(n.getAnySnapUpdateAvailable=(0,u.createSelector)([we],(e=>[...e.values()].some((e=>!0===e)))),n.getHideSnapBranding=(0,u.createSelector)([De,be],((e,t)=>{var n;return null===(n=e[t])||void 0===n?void 0:n.hideSnapBranding})),n.getMemoizedTargetSubjectMetadata=(0,H.createDeepEqualSelector)(Oe,(e=>e)),n.getMemoizedUnapprovedConfirmations=(0,H.createDeepEqualSelector)(Te,(e=>e)),n.getMemoizedUnapprovedTemplatedConfirmations=(0,H.createDeepEqualSelector)(ye,(e=>e)),(e,t)=>t),Me=n.getMemoizedInterfaces=(0,H.createDeepEqualSelector)((e=>e.metamask.interfaces),(e=>e)),Le=n.getInterface=(0,u.createSelector)([Me,Pe],((e,t)=>e[t])),xe=(n.getMemoizedInterface=(0,H.createDeepEqualSelector)(Le,(e=>e)),n.getInterfaceContent=(0,u.createSelector)([Me,Pe],((e,t)=>{var n;return null===(n=e[t])||void 0===n?void 0:n.content})));n.getMemoizedInterfaceContent=(0,H.createDeepEqualSelector)(xe,(e=>e)),n.getMultipleTargetsSubjectMetadata=(0,H.createDeepEqualSelector)([Ne,(e,t)=>t],((e,t)=>Object.keys(t??{}).reduce(((t,n)=>(t[n]=Oe(e,n),t)),{})));function Fe(e){const{rpcPrefs:t}=(0,f.getProviderConfig)(e);return t}function Be(e){return e.activeTab.origin}function Ue(e){return e.metamask.useExternalServices}n.getIsBridgeEnabled=(0,u.createSelector)([function(e){var t;return null===(t=e.metamask.bridgeState)||void 0===t?void 0:t.bridgeFeatureFlags},Ue],((e,t)=>(t&&(null==e?void 0:e[F.BridgeFeatureFlagsKey.EXTENSION_SUPPORT]))??!1));n.getMemoizedMetaMaskInternalAccounts=(0,H.createDeepEqualSelector)(G.getInternalAccounts,(e=>e)),n.getMemoizedAddressBook=(0,H.createDeepEqualSelector)(ue,(e=>e)),n.selectERC20TokensByChain=(0,H.createDeepEqualSelector)((e=>e.metamask.tokensChainsCache),(e=>e));const He=n.selectERC20Tokens=(0,H.createDeepEqualSelector)((e=>e.metamask.tokenList),(e=>e)),je=n.getTokenList=(0,u.createSelector)(He,ot,((e,t)=>t?O.STATIC_MAINNET_TOKEN_LIST:e)),Ke=n.getMemoizedMetadataContract=(0,u.createSelector)(((e,t)=>je(e)),((e,t)=>t),((e,t)=>e[null==t?void 0:t.toLowerCase()])),Ge=(n.getMetadataContractName=(0,u.createSelector)(Ke,(e=>(null==e?void 0:e.name)??"")),e=>e.confirmTransaction.txData);n.getTxData=Ge;const We=n.getUnapprovedTransaction=(0,H.createDeepEqualSelector)((e=>(0,j.getUnapprovedTransactions)(e)),((e,t)=>t),((e,t)=>Object.values(e).find((({id:e})=>e===t)))),qe=n.getTransaction=(0,H.createDeepEqualSelector)((e=>(0,j.getCurrentNetworkTransactions)(e)),((e,t)=>t),((e,t)=>Object.values(e).find((({id:e})=>e===t))||{})),Ve=(n.getFullTxData=(0,H.createDeepEqualSelector)(Ge,((e,t,n)=>n===d.TransactionStatus.unapproved?We(e,t)??{}:qe(e,t)),((e,t,n,r,i)=>({customTxParamsData:r,hexTransactionAmount:i})),((e,t,{customTxParamsData:n,hexTransactionAmount:r})=>{let i={...e,...t};return t&&t.simulationFails&&(i.simulationFails={...t.simulationFails}),n&&(i={...i,txParams:{...i.txParams,data:n}}),r&&(i={...i,txParams:{...i.txParams,value:r}}),i})),n.getAllConnectedAccounts=(0,H.createDeepEqualSelector)(K.getConnectedSubjectsForAllAddresses,(e=>Object.keys(e)))),$e=n.getConnectedSitesList=(0,H.createDeepEqualSelector)(K.getConnectedSubjectsForAllAddresses,G.getInternalAccounts,Ve,((e,t,n)=>{const r={};return n.forEach((n=>{e[n].forEach((e=>{const i=e.origin,s=t.find((e=>(0,k.isEqualCaseInsensitive)(e.address,n)));r[i]?(r[i].addresses.push(n),r[i].addressToNameMap[n]=(null==s?void 0:s.metadata.name)||""):r[i]={...e,addresses:[n],addressToNameMap:{[n]:(null==s?void 0:s.metadata.name)||""}}}))})),r}));n.getConnectedSnapsList=(0,H.createDeepEqualSelector)(dt,(e=>{const t={};return Object.values(e).forEach((e=>{t[e.name]||(t[e.name]=e)})),t})),n.getMemoizedCurrentChainId=(0,H.createDeepEqualSelector)(f.getCurrentChainId,(e=>e)),n.getMemoizedTxId=(0,H.createDeepEqualSelector)((e=>e.appState.txId),(e=>e)),n.getMemoizedUnapprovedPersonalMessages=(0,H.createDeepEqualSelector)((e=>e.metamask.unapprovedPersonalMsgs),(e=>e)),n.getMemoizedUnapprovedTypedMessages=(0,H.createDeepEqualSelector)((e=>e.metamask.unapprovedTypedMessages),(e=>e));function Ye(e){return e.metamask.snaps}function ze(e){return e.metamask.currentLocale}n.getSnap=(0,H.createDeepEqualSelector)(Ye,((e,t)=>t),((e,t)=>e[t]));const Qe=n.getSnapsMetadata=(0,H.createDeepEqualSelector)(ze,Ye,((e,t)=>Object.values(t).reduce(((t,n)=>{const r=n.id,i=n.localizationFiles?(0,a.getLocalizedSnapManifest)(n.manifest,e,n.localizationFiles):n.manifest;return t[r]={name:i.proposedName,description:i.description,hidden:n.hidden},t}),{}))),Xe=n.getSnapMetadata=(0,H.createDeepEqualSelector)(Qe,((e,t)=>t),((e,t)=>e[t]??{name:t?(0,a.stripSnapPrefix)(t):null})),Je=n.getEnabledSnaps=(0,H.createDeepEqualSelector)(Ye,(e=>Object.values(e).reduce(((e,t)=>(t.enabled&&(e[t.id]=t),e)),{}))),Ze=(n.getPreinstalledSnaps=(0,H.createDeepEqualSelector)(Ye,(e=>Object.values(e).reduce(((e,t)=>(t.preinstalled&&(e[t.id]=t),e)),{}))),n.getInsightSnaps=(0,H.createDeepEqualSelector)(Je,K.getPermissionSubjects,((e,t)=>Object.values(e).filter((({id:e})=>{var n;return null===(n=t[e])||void 0===n?void 0:n.permissions["endowment:transaction-insight"]}))))),et=n.getSignatureInsightSnaps=(0,H.createDeepEqualSelector)(Je,K.getPermissionSubjects,((e,t)=>Object.values(e).filter((({id:e})=>{var n;return null===(n=t[e])||void 0===n?void 0:n.permissions["endowment:signature-insight"]}))));n.getSignatureInsightSnapIds=(0,H.createDeepEqualSelector)(et,(e=>e.map((e=>e.id)))),n.getInsightSnapIds=(0,H.createDeepEqualSelector)(Ze,(e=>e.map((e=>e.id)))),n.getNameLookupSnapsIds=(0,H.createDeepEqualSelector)(Je,K.getPermissionSubjects,((e,t)=>Object.values(e).filter((({id:e})=>{var n;return null===(n=t[e])||void 0===n?void 0:n.permissions["endowment:name-lookup"]})).map((e=>e.id)))),n.getNotifySnaps=(0,H.createDeepEqualSelector)(Je,K.getPermissionSubjects,((e,t)=>Object.values(e).filter((({id:e})=>{var n;return null===(n=t[e])||void 0===n?void 0:n.permissions.snap_notify}))));n.getSnapInsights=(0,H.createDeepEqualSelector)((function(e){return e.metamask.insights}),((e,t)=>t),((e,t)=>null==e?void 0:e[t]));function tt(e){return e.metamask.pinnedAccountList}function nt(e){return e.metamask.hiddenAccountList}function rt(e){const t=(0,j.getAllUnapprovedTransactions)(e),n=me(e),r={...t,...e.metamask.unapprovedDecryptMsgs,...e.metamask.unapprovedPersonalMsgs,...e.metamask.unapprovedEncryptionPublicKeyMsgs,...e.metamask.unapprovedTypedMessages};return Object.keys(r).length+n}const it=n.getCurrentNetwork=(0,H.createDeepEqualSelector)(f.getNetworkConfigurationsByChainId,f.getCurrentChainId,((e,t)=>{var n;const r=e[t],i=r.rpcEndpoints[r.defaultRpcEndpointIndex],s=null===(n=r.blockExplorerUrls)||void 0===n?void 0:n[r.defaultBlockExplorerUrlIndex];return{chainId:r.chainId,id:i.networkClientId,nickname:r.name,rpcUrl:i.url,ticker:r.nativeCurrency,blockExplorerUrl:s,rpcPrefs:{blockExplorerUrl:s,imageUrl:m.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[r.chainId]},...i.type===h.RpcEndpointType.Infura&&{providerType:i.networkClientId}}}));n.getSelectedNetwork=(0,H.createDeepEqualSelector)(f.getSelectedNetworkClientId,f.getNetworkConfigurationsByChainId,((e,t)=>{if(e===undefined)throw new Error("No network is selected");const n=Object.values(t).find((t=>t.rpcEndpoints.some((t=>t.networkClientId===e))));if(n===undefined)throw new Error("Could not find network configuration for selected network client");return{configuration:n,clientId:e}})),n.getConnectedSitesListWithNetworkInfo=(0,H.createDeepEqualSelector)($e,oe,f.getNetworkConfigurationsByChainId,it,((e,t,n,r)=>(Object.keys(e).forEach((i=>{const s=Object.values(n).find((e=>e.rpcEndpoints.some((e=>e.networkClientId===t[i]))));e[i].networkIconUrl=m.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[null==s?void 0:s.chainId]||"",e[i].networkName=(null==s?void 0:s.name)||(null==r?void 0:r.nickname)||""})),e)));function st(e){return Boolean(e.metamask.useTokenDetection)}n.getAllEnabledNetworks=(0,H.createDeepEqualSelector)(f.getNetworkConfigurationsByChainId,Ie,((e,t)=>Object.entries(e).reduce(((e,[n,r])=>(!t&&m.TEST_CHAINS.includes(n)||(e[n]=r),e)),{}))),n.getAllChainsToPoll=(0,H.createDeepEqualSelector)(f.getNetworkConfigurationsByChainId,f.getCurrentChainId,((e,t)=>Object.keys(e).filter((e=>e===t||m.FEATURED_NETWORK_CHAIN_IDS.includes(e))))),n.getChainIdsToPoll=(0,H.createDeepEqualSelector)(f.getNetworkConfigurationsByChainId,f.getCurrentChainId,Ae,((e,t,n)=>n?[t]:Object.keys(e).filter((e=>e===t||m.FEATURED_NETWORK_CHAIN_IDS.includes(e))))),n.getNetworkClientIdsToPoll=(0,H.createDeepEqualSelector)(f.getNetworkConfigurationsByChainId,f.getCurrentChainId,Ae,((e,t,n)=>{if(n){const n=e[t];return[n.rpcEndpoints[n.defaultRpcEndpointIndex].networkClientId]}return Object.entries(e).reduce(((e,[n,r])=>((n===t||m.FEATURED_NETWORK_CHAIN_IDS.includes(n))&&e.push(r.rpcEndpoints[r.defaultRpcEndpointIndex].networkClientId),e)),[])}));function at(e){const t=(0,f.getCurrentChainId)(e);return[m.CHAIN_IDS.MAINNET,m.CHAIN_IDS.BSC,m.CHAIN_IDS.POLYGON,m.CHAIN_IDS.AVALANCHE,m.CHAIN_IDS.LINEA_GOERLI,m.CHAIN_IDS.LINEA_SEPOLIA,m.CHAIN_IDS.LINEA_MAINNET,m.CHAIN_IDS.ARBITRUM,m.CHAIN_IDS.OPTIMISM,m.CHAIN_IDS.BASE,m.CHAIN_IDS.ZKSYNC_ERA,m.CHAIN_IDS.CRONOS,m.CHAIN_IDS.CELO,m.CHAIN_IDS.GNOSIS,m.CHAIN_IDS.FANTOM,m.CHAIN_IDS.POLYGON_ZKEVM,m.CHAIN_IDS.MOONBEAM,m.CHAIN_IDS.MOONRIVER].includes(t)}function ot(e){const t=Ee(e);return!st(e)&&t}function ct(e){return e.metamask.useRequestQueue}function ut(e){const t=(0,f.getCurrentChainId)(e);return!m.CHAIN_ID_TO_RPC_URL_MAP[t]}n.getTokenDetectionSupportNetworkByChainId=e=>{switch((0,f.getCurrentChainId)(e)){case m.CHAIN_IDS.MAINNET:return m.MAINNET_DISPLAY_NAME;case m.CHAIN_IDS.BSC:return m.BSC_DISPLAY_NAME;case m.CHAIN_IDS.POLYGON:return m.POLYGON_DISPLAY_NAME;case m.CHAIN_IDS.AVALANCHE:return m.AVALANCHE_DISPLAY_NAME;case m.CHAIN_IDS.LINEA_GOERLI:return m.LINEA_GOERLI_DISPLAY_NAME;case m.CHAIN_IDS.LINEA_SEPOLIA:return m.LINEA_SEPOLIA_DISPLAY_NAME;case m.CHAIN_IDS.LINEA_MAINNET:return m.LINEA_MAINNET_DISPLAY_NAME;case m.CHAIN_IDS.ARBITRUM:return m.ARBITRUM_DISPLAY_NAME;case m.CHAIN_IDS.OPTIMISM:return m.OPTIMISM_DISPLAY_NAME;case m.CHAIN_IDS.BASE:return m.BASE_DISPLAY_NAME;case m.CHAIN_IDS.ZKSYNC_ERA:return m.ZK_SYNC_ERA_DISPLAY_NAME;case m.CHAIN_IDS.CRONOS:return m.CRONOS_DISPLAY_NAME;case m.CHAIN_IDS.CELO:return m.CELO_DISPLAY_NAME;case m.CHAIN_IDS.GNOSIS:return m.GNOSIS_DISPLAY_NAME;case m.CHAIN_IDS.FANTOM:return m.FANTOM_DISPLAY_NAME;case m.CHAIN_IDS.POLYGON_ZKEVM:return m.POLYGON_ZKEVM_DISPLAY_NAME;case m.CHAIN_IDS.MOONBEAM:return m.MOONBEAM_DISPLAY_NAME;case m.CHAIN_IDS.MOONRIVER:return m.MOONRIVER_DISPLAY_NAME;default:return""}};n.getUpdatedAndSortedAccounts=(0,H.createDeepEqualSelector)(ie,tt,nt,K.getOrderedConnectedAccountsForActiveTab,((e,t,n,r)=>{r.forEach((t=>{const n=e.find((e=>e.id===t.id));n&&t.metadata&&(n.connections=!0,n.lastSelected=t.metadata.lastSelected)}));const i=e.filter((e=>e.connections&&e.lastSelected)),s=i.length>0?i.reduce(((e,t)=>e.lastSelected>t.lastSelected?e:t)):null;e.forEach((e=>{e.pinned=Boolean(t.includes(e.address)),e.hidden=Boolean(n.includes(e.address)),e.active=Boolean(s&&e.id===s.id)}));return[...null==t?void 0:t.map((t=>e.find((e=>e.address===t)))).filter((e=>Boolean(e&&t.includes(e.address)&&!(null!=n&&n.includes(e.address))))),...e.filter((e=>!t.includes(e.address)&&!n.includes(e.address))),...e.filter((e=>n.includes(e.address)))]}));function lt(e){return Boolean(e.metamask.useCurrencyRateCheck)}function dt(e){const t=Ye(e);return Object.entries(t).filter((([e,t])=>t.status!==a.SnapStatus.Installing&&(!t.preinstalled||!1===t.hidden))).map((([t,n])=>{const r=Oe(e,null==n?void 0:n.id);return{key:t,id:n.id,iconUrl:null==r?void 0:r.iconUrl,subjectType:null==r?void 0:r.subjectType,packageName:(0,a.stripSnapPrefix)(n.id),name:Xe(e,n.id).name}}))}n.useSafeChainsListValidationSelector=e=>e.metamask.useSafeChainsListValidation}}},{package:"$root$",file:"ui/selectors/selectors.js"}],[6998,{"../../shared/constants/transaction":5278,"../../shared/modules/conversion.utils":5301,"../../shared/modules/selectors/networks":5320,"../../shared/modules/selectors/util":5322,"../helpers/constants/transactions":6260,"../helpers/utils/tx-helper":6296,"./accounts":6979,"./approvals":6981,"@metamask/controller-utils":1422,"@metamask/smart-transactions-controller/dist/types":2358,"@metamask/transaction-controller":2698,reselect:4801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUnapprovedTransactions=n.getTransactions=n.getCurrentNetworkTransactions=n.getApprovedAndSignedTransactions=n.getAllUnapprovedTransactions=void 0,n.hasTransactionPendingApprovals=function(e){return(0,g.getApprovalRequestsByType)(e,i.ApprovalType.Transaction).length>0||(0,g.hasPendingApprovals)(e,w)},n.nonceSortedTransactionsSelector=n.nonceSortedPendingTransactionsSelector=n.nonceSortedCompletedTransactionsSelector=n.incomingTxListSelector=void 0,n.selectTransactionMetadata=P,n.unapprovedTypedMessagesSelector=n.unapprovedPersonalMsgsSelector=n.unapprovedMessagesSelector=n.unapprovedEncryptionPublicKeyMsgsSelector=n.unapprovedDecryptMsgsSelector=n.transactionsSelector=n.transactionSubSelector=n.submittedPendingTransactionsSelector=n.smartTransactionsListSelector=n.selectedAddressTxListSelector=n.selectTransactionSender=void 0;var r,i=e("@metamask/controller-utils"),s=e("reselect"),a=e("@metamask/transaction-controller"),o=e("@metamask/smart-transactions-controller/dist/types"),c=e("../helpers/constants/transactions"),u=(r=e("../helpers/utils/tx-helper"))&&r.__esModule?r:{default:r},l=e("../../shared/constants/transaction"),d=e("../../shared/modules/conversion.utils"),p=e("../../shared/modules/selectors/networks"),h=e("../../shared/modules/selectors/util"),f=e("./accounts"),g=e("./approvals");const m=[a.TransactionType.cancel,a.TransactionType.retry],T=[o.SmartTransactionStatuses.PENDING,o.SmartTransactionStatuses.UNKNOWN,o.SmartTransactionStatuses.RESOLVED,o.SmartTransactionStatuses.CANCELLED],y=n.getTransactions=(0,h.createDeepEqualSelector)((e=>{const{transactions:t}=e.metamask??{};return null!=t&&t.length?[...t].sort(((e,t)=>e.time-t.time)):[]}),(e=>e)),E=n.getCurrentNetworkTransactions=(0,h.createDeepEqualSelector)((e=>{const t=y(e);if(!t.length)return[];const{chainId:n}=(0,p.getProviderConfig)(e);return t.filter((e=>e.chainId===n))}),(e=>e)),_=(n.getUnapprovedTransactions=(0,h.createDeepEqualSelector)((e=>{const t=E(e);return(0,h.filterAndShapeUnapprovedTransactions)(t)}),(e=>e)),n.getAllUnapprovedTransactions=(0,h.createDeepEqualSelector)((e=>{const{transactions:t}=e.metamask||[];if(null==t||!t.length)return[];const n=[...t].sort(((e,t)=>e.time-t.time));return(0,h.filterAndShapeUnapprovedTransactions)(n)}),(e=>e)),n.getApprovedAndSignedTransactions=(0,h.createDeepEqualSelector)((e=>y(e).filter((e=>[a.TransactionStatus.approved,a.TransactionStatus.signed].includes(e.status)))),(e=>e)),n.incomingTxListSelector=(0,h.createDeepEqualSelector)((e=>{const{incomingTransactionsPreferences:t}=e.metamask;if(!t)return[];const n=E(e),{address:r}=(0,f.getSelectedInternalAccount)(e);return n.filter((e=>e.type===a.TransactionType.incoming&&e.txParams.to===r))}),(e=>e))),S=e=>e.metamask.unapprovedPersonalMsgs;n.unapprovedPersonalMsgsSelector=S;const I=e=>e.metamask.unapprovedDecryptMsgs;n.unapprovedDecryptMsgsSelector=I;const A=e=>e.metamask.unapprovedEncryptionPublicKeyMsgs;n.unapprovedEncryptionPublicKeyMsgsSelector=A;const v=e=>e.metamask.unapprovedTypedMessages;n.unapprovedTypedMessagesSelector=v;const C=e=>{var t;const{address:n}=(0,f.getSelectedInternalAccount)(e);return null===(t=e.metamask.smartTransactionsState)||void 0===t||null===(t=t.smartTransactions)||void 0===t||null===(t=t[(0,p.getCurrentChainId)(e)])||void 0===t?void 0:t.filter((e=>{var t;return(null===(t=e.txParams)||void 0===t?void 0:t.from)===n&&!e.confirmed&&(e.status===o.SmartTransactionStatuses.PENDING||(e.type===a.TransactionType.swap||e.type===a.TransactionType.swapApproval)&&T.includes(e.status))})).map((e=>{var t;return{...e,isSmartTransaction:!0,status:null!==(t=e.status)&&void 0!==t&&t.startsWith("cancelled")?l.SmartTransactionStatus.cancelled:e.status}}))};n.smartTransactionsListSelector=C;const O=n.selectedAddressTxListSelector=(0,s.createSelector)(f.getSelectedInternalAccount,E,C,((e,t=[],n=[])=>t.filter((({txParams:t})=>t.from===e.address)).filter((({type:e})=>e!==a.TransactionType.incoming)).concat(n))),N=n.unapprovedMessagesSelector=(0,s.createSelector)(S,I,A,v,p.getCurrentChainId,((e={},t={},n={},r={},i)=>(0,u.default)({},e,t,n,r,i)||[])),b=n.transactionSubSelector=(0,s.createSelector)(N,_,((e=[],t=[])=>e.concat(t))),D=n.transactionsSelector=(0,s.createSelector)(b,O,((e=[],t=[])=>[...t.concat(e)].sort(((e,t)=>t.time-e.time)))),R=(e,t)=>{const{primaryTransaction:{time:n}={}}=t;let r=e.length;for(let t=0;t<e.length;t++){const i=e[t],{primaryTransaction:{time:s}={}}=i;if(s>n){r=t;break}}e.splice(r,0,t)},k=n.nonceSortedTransactionsSelector=(0,s.createSelector)(D,((e=[])=>{const t=[],n=[],r=[],i={};e.forEach((e=>{const{txParams:{nonce:s}={},status:o,type:u,time:l,txReceipt:p}=e;if(void 0===s||u===a.TransactionType.incoming){const r={transactions:[e],initialTransaction:e,primaryTransaction:e,hasRetried:!1,hasCancelled:!1,nonce:s};u===a.TransactionType.incoming?n.push(r):R(t,r)}else if(s in i){var h,f;const t=i[s];((e,t)=>{const{time:n}=t;let r=e.length;for(let t=0;t<e.length;t++)if(e[t].time>n){r=t;break}e.splice(r,0,t)})(t.transactions,e);const{primaryTransaction:{time:n=0}={},initialTransaction:{time:r=0}={}}=t,d={isOnChainFailure:"0x0"===(null==p?void 0:p.status),isEphemeral:o===a.TransactionStatus.failed&&"0x0"!==(null==p?void 0:p.status),isRetryOrCancel:m.includes(u),occurredAfterPrimary:l>n,hasPriorityStatus:o in c.PRIORITY_STATUS_HASH,isConfirmed:o===a.TransactionStatus.confirmed,occurredBeforeInitial:l<r,isValidRetry:u===a.TransactionType.retry&&(o in c.PRIORITY_STATUS_HASH||o===a.TransactionStatus.dropped),isValidCancel:u===a.TransactionType.cancel&&(o in c.PRIORITY_STATUS_HASH||o===a.TransactionStatus.dropped)};d.eligibleForInitial=!d.isRetryOrCancel&&!d.isEphemeral,d.shouldBePrimary=d.isConfirmed||d.isOnChainFailure;const g={isEphemeral:t.primaryTransaction.status===a.TransactionStatus.failed&&"0x0"!==(null===(h=t.primaryTransaction)||void 0===h||null===(h=h.txReceipt)||void 0===h?void 0:h.status)},T={isEphemeral:t.initialTransaction.status===a.TransactionStatus.failed&&"0x0"!==(null===(f=t.initialTransaction.txReceipt)||void 0===f?void 0:f.status)};(d.shouldBePrimary||g.isEphemeral||d.occurredAfterPrimary&&d.hasPriorityStatus)&&(t.primaryTransaction=e),(d.occurredBeforeInitial&&d.eligibleForInitial||T.isEphemeral&&d.eligibleForInitial)&&(t.initialTransaction=e),d.isValidRetry&&(t.hasRetried=!0),d.isValidCancel&&(t.hasCancelled=!0)}else i[s]={nonce:s,transactions:[e],initialTransaction:e,primaryTransaction:e,hasRetried:e.type===a.TransactionType.retry&&(e.status in c.PRIORITY_STATUS_HASH||e.status===a.TransactionStatus.dropped),hasCancelled:e.type===a.TransactionType.cancel&&(e.status in c.PRIORITY_STATUS_HASH||e.status===a.TransactionStatus.dropped)},((e,t)=>{let n=e.length;for(let r=0;r<e.length;r++){const i=e[r];if(Number((0,d.hexToDecimal)(i))>Number((0,d.hexToDecimal)(t))){n=r;break}}e.splice(n,0,t)})(r,s)}));const s=r.map((e=>i[e]));return((e,t)=>{t.forEach((t=>{R(e,t)}))})(s,n),t.concat(s).map((e=>{var t;if(m.includes(null===(t=e.initialTransaction)||void 0===t?void 0:t.type)){const t=e.transactions.find((e=>!m.includes(e.type)));if(t)return{...e,initialTransaction:t}}return e}))})),w=(n.nonceSortedPendingTransactionsSelector=(0,s.createSelector)(k,((e=[])=>e.filter((({primaryTransaction:e})=>e.status in c.PENDING_STATUS_HASH)))),n.nonceSortedCompletedTransactionsSelector=(0,s.createSelector)(k,((e=[])=>e.filter((({primaryTransaction:e})=>!(e.status in c.PENDING_STATUS_HASH))).reverse())),n.submittedPendingTransactionsSelector=(0,s.createSelector)(D,((e=[])=>e.filter((e=>e.status===a.TransactionStatus.submitted)))),[i.ApprovalType.EthDecrypt,i.ApprovalType.EthGetEncryptionPublicKey,i.ApprovalType.EthSignTypedData,i.ApprovalType.PersonalSign]);function P(e,t){return e.metamask.transactions.find((e=>e.id===t))}n.selectTransactionSender=(0,s.createSelector)(((e,t)=>P(e,t)),(e=>{var t;return null==e||null===(t=e.txParams)||void 0===t?void 0:t.from}))}}},{package:"$root$",file:"ui/selectors/transactions.js"}],[6999,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UPDATE_METAMASK_STATE=n.UPDATE_CUSTOM_NONCE=n.UNLOCK_SUCCEEDED=n.UNLOCK_IN_PROGRESS=n.UNLOCK_FAILED=n.TRANSACTION_ERROR=n.TOKEN_SORT_CRITERIA=n.TOGGLE_NETWORK_MENU=n.TOGGLE_GAS_LOADING_ANIMATION=n.TOGGLE_CURRENCY_INPUT_SWITCH=n.TOGGLE_ACCOUNT_MENU=n.SHOW_SETTINGS_PAGE_ERROR=n.SHOW_SEND_TOKEN_PAGE=n.SHOW_PRIVATE_KEY=n.SHOW_PERMITTED_NETWORK_TOAST_OPEN=n.SHOW_PERMITTED_NETWORK_TOAST_CLOSE=n.SHOW_NFT_STILL_FETCHING_INDICATION=n.SHOW_NFT_DETECTION_ENABLEMENT_TOAST=n.SHOW_LOADING=n.SHOW_KEYRING_SNAP_REMOVAL_RESULT=n.SHOW_IPFS_MODAL_OPEN=n.SHOW_IPFS_MODAL_CLOSE=n.SHOW_CONF_TX_PAGE=n.SHOW_BASIC_FUNCTIONALITY_MODAL_OPEN=n.SHOW_BASIC_FUNCTIONALITY_MODAL_CLOSE=n.SHOW_ACCOUNTS_PAGE=n.SET_WEBHID_CONNECTED_STATUS=n.SET_SMART_TRANSACTIONS_ERROR=n.SET_SHOW_NFT_AUTO_DETECT_MODAL_UPGRADE=n.SET_SELECTED_NETWORK_CONFIGURATION_ID=n.SET_SELECTED_NETWORKS_FOR_DAPP_CONNECTIONS=n.SET_SELECTED_ACCOUNTS_FOR_DAPP_CONNECTIONS=n.SET_REQUEST_ACCOUNT_TABS=n.SET_REMOVE_NFT_MESSAGE=n.SET_PENDING_TOKENS=n.SET_PARTICIPATE_IN_METAMETRICS=n.SET_OPEN_METAMASK_TAB_IDS=n.SET_NEXT_NONCE=n.SET_NEW_TOKENS_IMPORTED_ERROR=n.SET_NEW_TOKENS_IMPORTED=n.SET_NEW_NFT_ADDED_MESSAGE=n.SET_NEW_NETWORK_ADDED=n.SET_LEDGER_TRANSPORT_STATUS=n.SET_HARDWARE_WALLET_DEFAULT_HD_PATH=n.SET_FIRST_TIME_FLOW_TYPE=n.SET_EDIT_NETWORK=n.SET_DATA_COLLECTION_FOR_MARKETING=n.SET_CUSTOM_TOKEN_AMOUNT=n.SET_CURRENT_LOCALE=n.SET_CONFIRMATION_EXCHANGE_RATES=n.SET_ACCOUNT_LABEL=n.SET_ACCOUNT_DETAILS_ADDRESS=n.SELECTED_ADDRESS_CHANGED=n.SELECTED_ACCOUNT_CHANGED=n.RESET_ONBOARDING=n.QR_CODE_DETECTED=n.ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_ON=n.ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_OFF=n.ONBOARDED_IN_THIS_UI_SESSION=n.NETWORK_DROPDOWN_OPEN=n.NETWORK_DROPDOWN_CLOSE=n.MODAL_OPEN=n.MODAL_CLOSE=n.LOCK_METAMASK=n.LOADING_METHOD_DATA_STARTED=n.LOADING_METHOD_DATA_FINISHED=n.IMPORT_TOKENS_POPOVER_OPEN=n.IMPORT_TOKENS_POPOVER_CLOSE=n.IMPORT_NFTS_MODAL_OPEN=n.IMPORT_NFTS_MODAL_CLOSE=n.HIDE_WHATS_NEW_POPUP=n.HIDE_WARNING=n.HIDE_SETTINGS_PAGE_ERROR=n.HIDE_NFT_STILL_FETCHING_INDICATION=n.HIDE_LOADING=n.HIDE_KEYRING_SNAP_REMOVAL_RESULT=n.GO_HOME=n.GAS_FEE_ESTIMATES_UPDATED=n.DISPLAY_WARNING=n.DISMISS_SMART_TRANSACTIONS_ERROR_MESSAGE=n.DEPRECATED_NETWORK_POPOVER_OPEN=n.DEPRECATED_NETWORK_POPOVER_CLOSE=n.DELETE_METAMETRICS_DATA_MODAL_OPEN=n.DELETE_METAMETRICS_DATA_MODAL_CLOSE=n.DATA_DELETION_ERROR_MODAL_OPEN=n.DATA_DELETION_ERROR_MODAL_CLOSE=n.CONNECT_ACCOUNTS_MODAL_OPEN=n.CONNECT_ACCOUNTS_MODAL_CLOSE=n.COMPLETE_ONBOARDING=n.COMPLETED_TX=n.CLOSE_WELCOME_SCREEN=n.CLEAR_SWAP_AND_SEND_STATE=n.CLEAR_PENDING_TOKENS=n.CLEAR_ACCOUNT_DETAILS=n.CHAIN_CHANGED=n.CAPTURE_SINGLE_EXCEPTION=n.ALERT_OPEN=n.ALERT_CLOSE=n.ADDRESS_BOOK_UPDATED=n.ACCOUNT_CHANGED=void 0,n.UPDATE_TRANSACTION_PARAMS=void 0;n.GO_HOME="GO_HOME",n.MODAL_OPEN="UI_MODAL_OPEN",n.MODAL_CLOSE="UI_MODAL_CLOSE",n.SET_CONFIRMATION_EXCHANGE_RATES="SET_CONFIRMATION_EXCHANGE_RATES",n.ALERT_OPEN="UI_ALERT_OPEN",n.ALERT_CLOSE="UI_ALERT_CLOSE",n.QR_CODE_DETECTED="UI_QR_CODE_DETECTED",n.NETWORK_DROPDOWN_OPEN="UI_NETWORK_DROPDOWN_OPEN",n.NETWORK_DROPDOWN_CLOSE="UI_NETWORK_DROPDOWN_CLOSE",n.IMPORT_NFTS_MODAL_OPEN="UI_IMPORT_NFTS_MODAL_OPEN",n.IMPORT_NFTS_MODAL_CLOSE="UI_IMPORT_NFTS_MODAL_CLOSE",n.SHOW_IPFS_MODAL_OPEN="UI_IPFS_MODAL_OPEN",n.SHOW_PERMITTED_NETWORK_TOAST_OPEN="UI_PERMITTED_NETWORK_TOAST_OPEN",n.SHOW_PERMITTED_NETWORK_TOAST_CLOSE="UI_PERMITTED_NETWORK_TOAST_CLOSE",n.SHOW_IPFS_MODAL_CLOSE="UI_IPFS_MODAL_CLOSE",n.IMPORT_TOKENS_POPOVER_OPEN="UI_IMPORT_TOKENS_POPOVER_OPEN",n.IMPORT_TOKENS_POPOVER_CLOSE="UI_IMPORT_TOKENS_POPOVER_CLOSE",n.SHOW_BASIC_FUNCTIONALITY_MODAL_OPEN="SHOW_BASIC_FUNCTIONALITY_MODAL_OPEN",n.SHOW_BASIC_FUNCTIONALITY_MODAL_CLOSE="SHOW_BASIC_FUNCTIONALITY_MODAL_CLOSE",n.ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_ON="ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_ON",n.ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_OFF="ONBOARDING_TOGGLE_BASIC_FUNCTIONALITY_OFF",n.UPDATE_METAMASK_STATE="UPDATE_METAMASK_STATE",n.SELECTED_ADDRESS_CHANGED="SELECTED_ADDRESS_CHANGED",n.SELECTED_ACCOUNT_CHANGED="SELECTED_ACCOUNT_CHANGED",n.ACCOUNT_CHANGED="ACCOUNT_CHANGED",n.CHAIN_CHANGED="CHAIN_CHANGED",n.ADDRESS_BOOK_UPDATED="ADDRESS_BOOK_UPDATED",n.GAS_FEE_ESTIMATES_UPDATED="GAS_FEE_ESTIMATES_UPDATED",n.CLOSE_WELCOME_SCREEN="CLOSE_WELCOME_SCREEN",n.CLEAR_SWAP_AND_SEND_STATE="CLEAR_SWAP_AND_SEND_STATE",n.UNLOCK_IN_PROGRESS="UNLOCK_IN_PROGRESS",n.UNLOCK_FAILED="UNLOCK_FAILED",n.UNLOCK_SUCCEEDED="UNLOCK_SUCCEEDED",n.LOCK_METAMASK="LOCK_METAMASK",n.DISPLAY_WARNING="DISPLAY_WARNING",n.HIDE_WARNING="HIDE_WARNING",n.SHOW_SETTINGS_PAGE_ERROR="SHOW_SETTINGS_PAGE_ERROR",n.HIDE_SETTINGS_PAGE_ERROR="HIDE_SETTINGS_PAGE_ERROR",n.CAPTURE_SINGLE_EXCEPTION="CAPTURE_SINGLE_EXCEPTION",n.SHOW_ACCOUNTS_PAGE="SHOW_ACCOUNTS_PAGE",n.SHOW_CONF_TX_PAGE="SHOW_CONF_TX_PAGE",n.SHOW_SEND_TOKEN_PAGE="SHOW_SEND_TOKEN_PAGE",n.SHOW_PRIVATE_KEY="SHOW_PRIVATE_KEY",n.SET_ACCOUNT_LABEL="SET_ACCOUNT_LABEL",n.CLEAR_ACCOUNT_DETAILS="CLEAR_ACCOUNT_DETAILS",n.SET_ACCOUNT_DETAILS_ADDRESS="SET_ACCOUNT_DETAILS_ADDRESS",n.COMPLETED_TX="COMPLETED_TX",n.TRANSACTION_ERROR="TRANSACTION_ERROR",n.UPDATE_TRANSACTION_PARAMS="UPDATE_TRANSACTION_PARAMS",n.SET_NEXT_NONCE="SET_NEXT_NONCE",n.SET_HARDWARE_WALLET_DEFAULT_HD_PATH="SET_HARDWARE_WALLET_DEFAULT_HD_PATH",n.SHOW_LOADING="SHOW_LOADING_INDICATION",n.HIDE_LOADING="HIDE_LOADING_INDICATION",n.SHOW_NFT_STILL_FETCHING_INDICATION="SHOW_NFT_STILL_FETCHING_INDICATION",n.HIDE_NFT_STILL_FETCHING_INDICATION="HIDE_NFT_STILL_FETCHING_INDICATION",n.SHOW_NFT_DETECTION_ENABLEMENT_TOAST="SHOW_NFT_DETECTION_ENABLEMENT_TOAST",n.TOGGLE_ACCOUNT_MENU="TOGGLE_ACCOUNT_MENU",n.TOGGLE_NETWORK_MENU="TOGGLE_NETWORK_MENU",n.SET_SELECTED_ACCOUNTS_FOR_DAPP_CONNECTIONS="SET_SELECTED_ACCOUNTS_FOR_DAPP_CONNECTIONS",n.SET_SELECTED_NETWORKS_FOR_DAPP_CONNECTIONS="SET_SELECTED_NETWORKS_FOR_DAPP_CONNECTIONS",n.DEPRECATED_NETWORK_POPOVER_OPEN="DEPRECATED_NETWORK_POPOVER_OPEN",n.DEPRECATED_NETWORK_POPOVER_CLOSE="DEPRECATED_NETWORK_POPOVER_CLOSE",n.UPDATE_CUSTOM_NONCE="UPDATE_CUSTOM_NONCE",n.SET_PARTICIPATE_IN_METAMETRICS="SET_PARTICIPATE_IN_METAMETRICS",n.SET_DATA_COLLECTION_FOR_MARKETING="SET_DATA_COLLECTION_FOR_MARKETING",n.DELETE_METAMETRICS_DATA_MODAL_OPEN="DELETE_METAMETRICS_DATA_MODAL_OPEN",n.DELETE_METAMETRICS_DATA_MODAL_CLOSE="DELETE_METAMETRICS_DATA_MODAL_CLOSE",n.DATA_DELETION_ERROR_MODAL_OPEN="DELETE_METAMETRICS_DATA_ERROR_MODAL_OPEN",n.DATA_DELETION_ERROR_MODAL_CLOSE="DELETE_METAMETRICS_DATA_ERROR_MODAL_CLOSE",n.SET_CURRENT_LOCALE="SET_CURRENT_LOCALE",n.COMPLETE_ONBOARDING="COMPLETE_ONBOARDING",n.RESET_ONBOARDING="RESET_ONBOARDING",n.ONBOARDED_IN_THIS_UI_SESSION="ONBOARDED_IN_THIS_UI_SESSION",n.SET_WEBHID_CONNECTED_STATUS="SET_WEBHID_CONNECTED_STATUS",n.SET_LEDGER_TRANSPORT_STATUS="SET_LEDGER_TRANSPORT_STATUS",n.SET_PENDING_TOKENS="SET_PENDING_TOKENS",n.CLEAR_PENDING_TOKENS="CLEAR_PENDING_TOKENS",n.SET_FIRST_TIME_FLOW_TYPE="SET_FIRST_TIME_FLOW_TYPE",n.SET_SELECTED_NETWORK_CONFIGURATION_ID="SET_SELECTED_NETWORK_CONFIGURATION_ID",n.SET_NEW_NETWORK_ADDED="SET_NEW_NETWORK_ADDED",n.SET_EDIT_NETWORK="SET_EDIT_NETWORK",n.SET_NEW_NFT_ADDED_MESSAGE="SET_NEW_NFT_ADDED_MESSAGE",n.SET_REMOVE_NFT_MESSAGE="SET_REMOVE_NFT_MESSAGE",n.LOADING_METHOD_DATA_STARTED="LOADING_METHOD_DATA_STARTED",n.LOADING_METHOD_DATA_FINISHED="LOADING_METHOD_DATA_FINISHED",n.SET_REQUEST_ACCOUNT_TABS="SET_REQUEST_ACCOUNT_TABS",n.SET_OPEN_METAMASK_TAB_IDS="SET_OPEN_METAMASK_TAB_IDS",n.HIDE_WHATS_NEW_POPUP="HIDE_WHATS_NEW_POPUP",n.TOGGLE_GAS_LOADING_ANIMATION="TOGGLE_GAS_LOADING_ANIMATION",n.SET_SMART_TRANSACTIONS_ERROR="SET_SMART_TRANSACTIONS_ERROR",n.DISMISS_SMART_TRANSACTIONS_ERROR_MESSAGE="DISMISS_SMART_TRANSACTIONS_ERROR_MESSAGE",n.TOGGLE_CURRENCY_INPUT_SWITCH="TOGGLE_CURRENCY_INPUT_SWITCH",n.SET_NEW_TOKENS_IMPORTED="SET_NEW_TOKENS_IMPORTED",n.SET_NEW_TOKENS_IMPORTED_ERROR="SET_NEW_TOKENS_IMPORTED_ERROR",n.SET_CUSTOM_TOKEN_AMOUNT="SET_CUSTOM_TOKEN_AMOUNT",n.CONNECT_ACCOUNTS_MODAL_OPEN="UI_CONNECT_ACCOUNTS_MODAL_OPEN",n.CONNECT_ACCOUNTS_MODAL_CLOSE="UI_CONNECT_ACCOUNTS_MODAL_CLOSE",n.SHOW_KEYRING_SNAP_REMOVAL_RESULT="SHOW_KEYRING_SNAP_REMOVAL_RESULT",n.HIDE_KEYRING_SNAP_REMOVAL_RESULT="HIDE_KEYRING_SNAP_REMOVAL_RESULT",n.SET_SHOW_NFT_AUTO_DETECT_MODAL_UPGRADE="SET_SHOW_NFT_AUTO_DETECT_MODAL_UPGRADE",n.TOKEN_SORT_CRITERIA="TOKEN_SORT_CRITERIA"}}},{package:"$root$",file:"ui/store/actionConstants.ts"}],[7,{"../../../shared/modules/object.utils":5312},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SENTRY_UI_STATE=n.SENTRY_BACKGROUND_STATE=n.MMI_SENTRY_BACKGROUND_STATE=void 0;var r=e("../../../shared/modules/object.utils");n.MMI_SENTRY_BACKGROUND_STATE={MMIController:{opts:!0},CustodyController:{store:!0},MmiConfigurationController:{store:!0,configurationClient:!0}};const i=n.SENTRY_BACKGROUND_STATE={AccountsController:{internalAccounts:{accounts:!1,selectedAccount:!1}},AccountTracker:{accounts:!1,accountsByChainId:!1,currentBlockGasLimit:!0,currentBlockGasLimitByChainId:!0},AddressBookController:{addressBook:!1},AlertController:{alertEnabledness:!0,unconnectedAccountAlertShownOrigins:!1,web3ShimUsageOrigins:!1},AnnouncementController:{announcements:!1},AuthenticationController:{isSignedIn:!1},NetworkOrderController:{orderedNetworkList:[]},AccountOrderController:{pinnedAccountList:[],hiddenAccountList:[]},AppMetadataController:{currentAppVersion:!0,currentMigrationVersion:!0,previousAppVersion:!0,previousMigrationVersion:!0},ApprovalController:{approvalFlows:!1,pendingApprovals:!1,pendingApprovalCount:!1},AppStateController:{browserEnvironment:!0,connectedStatusPopoverHasBeenShown:!0,currentPopupId:!1,onboardingDate:!1,currentExtensionPopupId:!1,defaultHomeActiveTabName:!0,fullScreenGasPollTokens:!0,hadAdvancedGasFeesSetPriorToMigration92_3:!0,nftsDetectionNoticeDismissed:!0,nftsDropdownState:!0,notificationGasPollTokens:!0,outdatedBrowserWarningLastShown:!0,popupGasPollTokens:!0,qrHardware:!0,recoveryPhraseReminderHasBeenShown:!0,recoveryPhraseReminderLastShown:!0,showBetaHeader:!0,showPermissionsTour:!0,showNetworkBanner:!0,showAccountBanner:!0,switchedNetworkDetails:!1,switchedNetworkNeverShowMessage:!1,showTestnetMessageInDropdown:!0,surveyLinkLastClickedOrClosed:!0,snapsInstallPrivacyWarningShown:!0,termsOfUseLastAgreed:!0,timeoutMinutes:!0,trezorModel:!0,usedNetworks:!0},MultichainBalancesController:{balances:!1},BridgeController:{bridgeState:{bridgeFeatureFlags:{extensionConfig:!1,extensionSupport:!1,destNetworkAllowlist:[],srcNetworkAllowlist:[]},destTokens:{},destTopAssets:[],srcTokens:{},srcTopAssets:[],quoteRequest:{walletAddress:!1,srcTokenAddress:!0,slippage:!0,srcChainId:!0,destChainId:!0,destTokenAddress:!0,srcTokenAmount:!0},quotes:[],quotesLastFetched:!0,quotesLoadingStatus:!0,quotesRefreshCount:!0}},BridgeStatusController:{bridgeStatusState:{txHistory:!1}},CronjobController:{jobs:!1},CurrencyController:{currentCurrency:!0,currencyRates:!0},DecryptMessageController:{unapprovedDecryptMsgs:!1,unapprovedDecryptMsgCount:!0},EncryptionPublicKeyController:{unapprovedEncryptionPublicKeyMsgs:!1,unapprovedEncryptionPublicKeyMsgCount:!0},EnsController:{ensResolutionsByAddress:!1,ensEntries:!1},GasFeeController:{estimatedGasFeeTimeBounds:!0,gasEstimateType:!0,gasFeeEstimates:!0,gasFeeEstimatesByChainId:!0,nonRPCGasFeeApisDisabled:!1},KeyringController:{isUnlocked:!0,keyrings:!1},LoggingController:{logs:!1},NotificationServicesController:{subscriptionAccountsSeen:!1,isMetamaskNotificationsFeatureSeen:!1,isNotificationServicesEnabled:!1,isFeatureAnnouncementsEnabled:!1,metamaskNotificationsList:!1,metamaskNotificationsReadList:!1,isCheckingAccountsPresence:!1,isFetchingMetamaskNotifications:!1,isUpdatingMetamaskNotifications:!1,isUpdatingMetamaskNotificationsAccount:!1},MetaMetricsController:{eventsBeforeMetricsOptIn:!1,fragments:!1,metaMetricsId:!0,participateInMetaMetrics:!0,previousUserTraits:!1,segmentApiCalls:!1,traits:!1,dataCollectionForMarketing:!1,marketingCampaignCookieId:!0,latestNonAnonymousEventTimestamp:!0},MetaMetricsDataDeletionController:{metaMetricsDataDeletionId:!0,metaMetricsDataDeletionTimestamp:!0},NameController:{names:!1,nameSources:!1,useExternalNameSources:!1},NetworkController:{networkConfigurations:!1,networksMetadata:!0,selectedNetworkClientId:!1},NftController:{allNftContracts:!1,allNfts:!1,ignoredNfts:!1},OnboardingController:{completedOnboarding:!0,firstTimeFlowType:!0,onboardingTabs:!1,seedPhraseBackedUp:!0},PPOMController:{securityAlertsEnabled:!1,storageMetadata:[],versionInfo:[]},PermissionController:{subjects:!1},PermissionLogController:{permissionActivityLog:!1,permissionHistory:!1},PhishingController:{},PreferencesController:{advancedGasFee:!0,currentLocale:!0,dismissSeedBackUpReminder:!0,overrideContentSecurityPolicyHeader:!0,featureFlags:!0,forgottenPassword:!0,identities:!1,incomingTransactionsPreferences:!0,isIpfsGatewayEnabled:!1,ipfsGateway:!1,knownMethodData:!1,ledgerTransportType:!0,lostIdentities:!1,openSeaEnabled:!0,preferences:{autoLockTimeLimit:!0,hideZeroBalanceTokens:!0,redesignedConfirmationsEnabled:!0,redesignedTransactionsEnabled:!1,isRedesignedConfirmationsDeveloperEnabled:!1,showExtensionInFullSizeView:!0,showFiatInTestnets:!0,showTestNetworks:!0,smartTransactionsOptInStatus:!0,tokenNetworkFilter:{},showNativeTokenAsMainBalance:!0,petnamesEnabled:!0,showConfirmationAdvancedDetails:!0,privacyMode:!1},useExternalServices:!1,selectedAddress:!1,snapRegistryList:!1,theme:!0,signatureSecurityAlertResponses:!1,use4ByteResolution:!0,useAddressBarEnsResolution:!0,useBlockie:!0,useCurrencyRateCheck:!0,useMultiAccountBalanceChecker:!0,useNftDetection:!0,useNonceField:!0,usePhishDetect:!0,useTokenDetection:!0,useRequestQueue:!0,useTransactionSimulations:!0,enableMV3TimestampSave:!0},NotificationServicesPushController:{fcmToken:!1},MultichainRatesController:{fiatCurrency:!0,rates:!0,cryptocurrencies:!0},QueuedRequestController:{queuedRequestCount:!0},SelectedNetworkController:{domains:!1},SignatureController:{unapprovedPersonalMsgCount:!0,unapprovedPersonalMsgs:!1,unapprovedTypedMessages:!1,unapprovedTypedMessagesCount:!0},SmartTransactionsController:{smartTransactionsState:{fees:{approvalTxFees:!0,tradeTxFees:!0},liveness:!0,smartTransactions:!1,userOptIn:!0,userOptInV2:!0}},SnapController:{snaps:!1},SnapInterfaceController:{interfaces:!1},SnapInsightsController:{insights:!1},SnapsRegistry:{database:!1,lastUpdated:!1,databaseUnavailable:!1},SubjectMetadataController:{subjectMetadata:!1},SwapsController:{swapsState:{approveTxId:!1,customApproveTxData:!1,customGasPrice:!0,customMaxFeePerGas:!0,customMaxGas:!0,customMaxPriorityFeePerGas:!0,errorKey:!0,fetchParams:!0,quotes:!1,quotesLastFetched:!0,quotesPollingLimitEnabled:!0,routeState:!0,saveFetchedQuotes:!0,selectedAggId:!0,swapsFeatureFlags:!0,swapsFeatureIsLive:!0,swapsQuotePrefetchingRefreshTime:!0,swapsQuoteRefreshTime:!0,swapsStxBatchStatusRefreshTime:!0,swapsStxStatusDeadline:!0,swapsStxGetTransactionsRefreshTime:!0,swapsStxMaxFeeMultiplier:!0,swapsUserFeeLevel:!0,tokens:!1,topAggId:!1,tradeTxId:!1}},TokenDetectionController:{[r.AllProperties]:!1},TokenListController:{preventPollingOnNetworkRestart:!0,tokenList:!1,tokensChainsCache:{[r.AllProperties]:!1}},TokenBalancesController:{tokenBalances:!1},TokenRatesController:{marketData:!1},TokensController:{allDetectedTokens:{[r.AllProperties]:!1},allIgnoredTokens:{[r.AllProperties]:!1},allTokens:{[r.AllProperties]:!1},detectedTokens:!1,ignoredTokens:!1,tokens:!1},TransactionController:{transactions:!1,lastFetchedBlockNumbers:!1,methodData:!1},TxController:{transactions:!1},UserOperationController:{userOperations:!1},UserStorageController:{isProfileSyncingEnabled:!0,isProfileSyncingUpdateLoading:!1,hasAccountSyncingSyncedAtLeastOnce:!1,isAccountSyncingReadyToBeDispatched:!1}},s=Object.values(i).reduce(((e,t)=>({...e,...t})),{});n.SENTRY_UI_STATE={gas:!0,history:!0,metamask:{...s,isInitialized:!0,customNonceValue:!0,isAccountMenuOpen:!0,isNetworkMenuOpen:!0,nextNonce:!0,pendingTokens:!1,welcomeScreenSeen:!0,confirmationExchangeRates:!0,useSafeChainsListValidation:!0,watchEthereumAccountEnabled:!1,bitcoinSupportEnabled:!1,bitcoinTestnetSupportEnabled:!1,addSnapAccountEnabled:!1,snapsAddSnapAccountModalDismissed:!1,switchedNetworkDetails:!1,switchedNetworkNeverShowMessage:!1,newPrivacyPolicyToastClickedOrClosed:!1,newPrivacyPolicyToastShownDate:!1},unconnectedAccount:!0}}}},{package:"$root$",file:"app/scripts/constants/sentry-state.ts"}]],[],{});