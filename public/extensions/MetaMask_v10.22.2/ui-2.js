LavaPack.loadBundle([[4197,{"../../../../shared/constants/gas":4125,"../../../contexts/gasFee":4886,"../../../contexts/transaction-modal":4892,"../../../helpers/constants/design-system":4914,"../../../helpers/utils/gas":4941,"../../../hooks/useI18nContext":4976,"../../../pages/confirmations/components/gas-details-item":5117,"../../../selectors":5513,"../../component-library":4543,"../../component-library/modal-content/deprecated":4551,"../../component-library/modal-header/deprecated":4560,"../../ui/box":4752,"../../ui/info-tooltip":4807,"../app-loading-spinner":4192,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("../../../../shared/constants/gas"),i=e("../../../helpers/constants/design-system"),s=e("../../../selectors"),l=e("../../../helpers/utils/gas"),c=e("../../../contexts/gasFee"),u=e("../../../hooks/useI18nContext"),d=e("../../../contexts/transaction-modal"),p=v(e("../../../pages/confirmations/components/gas-details-item")),f=v(e("../../ui/box")),m=v(e("../../ui/info-tooltip")),h=v(e("../app-loading-spinner")),g=e("../../component-library"),y=e("../../component-library/modal-content/deprecated"),b=e("../../component-library/modal-header/deprecated");function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}n.default=()=>{const{cancelTransaction:e,editGasMode:t,gasFeeEstimates:n,speedUpTransaction:v,transaction:_,updateTransaction:k,updateTransactionToTenPercentIncreasedGasFee:w,updateTransactionUsingEstimate:x}=(0,c.useGasFeeContext)(),T=(0,u.useI18nContext)(),{closeModal:E,currentModal:C}=(0,d.useTransactionModalContext)(),O=(0,r.useSelector)(s.getAppIsLoading);if((0,o.useEffect)((()=>{if(_.previousGas||O||"cancelSpeedUpTransaction"!==C)return;n&&(0,l.gasEstimateGreaterThanGasUsedPlusTenPercent)(_.txParams,n,a.PriorityLevels.medium)?x(a.PriorityLevels.medium):w(!0)}),[O,C,t,n,_,k,w,x]),"cancelSpeedUpTransaction"!==C)return null;return o.default.createElement(g.Modal,{isOpen:!0,onClose:()=>E(["cancelSpeedUpTransaction"]),className:"cancel-speedup-popover"},o.default.createElement(g.ModalOverlay,null),o.default.createElement(y.ModalContent,null,o.default.createElement(b.ModalHeader,{onClose:()=>E(["cancelSpeedUpTransaction"]),marginBottom:4},t===a.EditGasModes.cancel?`âŒ${T("cancel")}`:`ðŸš€${T("speedUp")}`),o.default.createElement(h.default,{className:"cancel-speedup-popover__spinner"}),o.default.createElement("div",{className:"cancel-speedup-popover__wrapper"},o.default.createElement(g.Text,{alignItems:i.AlignItems.center,display:i.Display.Flex,variant:i.TextVariant.bodySm,marginBottom:2,paddingBottom:2,className:"cancel-speedup-popover__description"},T("cancelSpeedUpLabel",[o.default.createElement("strong",{key:"cancelSpeedupReplace"},T("replace"))]),o.default.createElement(m.default,{position:"top",contentText:o.default.createElement(o.default.Fragment,null,o.default.createElement(g.Text,{variant:i.TextVariant.bodySm},T("cancelSpeedUpTransactionTooltip",[t===a.EditGasModes.cancel?T("cancel"):T("speedUp")])),o.default.createElement(g.ButtonLink,{variant:i.TextVariant.bodySm,href:"https://community.metamask.io/t/how-to-speed-up-or-cancel-transactions-on-metamask/3296",target:"_blank"},T("learnMoreUpperCase")))})),o.default.createElement(f.default,{display:i.Display.Flex,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,marginTop:2},o.default.createElement("div",{className:"cancel-speedup-popover__gas-details"},o.default.createElement(p.default,null))),o.default.createElement(g.Button,{onClick:()=>{t===a.EditGasModes.cancel?e():v(),E(["cancelSpeedUpTransaction"])}},T("submit")))))}}}},{package:"$root$",file:"ui/components/app/cancel-speedup-popover/cancel-speedup-popover.js"}],[4198,{"./cancel-speedup-popover":4197},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./cancel-speedup-popover"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/cancel-speedup-popover/index.js"}],[4199,{"../../../../../helpers/constants/design-system":4914,"../../../../../selectors":5513,"../../../../component-library":4543,"../../../modals/nickname-popovers":4289,"../../../name/name":4307,"./hook":4202,"@metamask/name-controller":1370,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowAddress=void 0;var r=e("@metamask/name-controller"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("react-redux"),i=e("../../../../../helpers/constants/design-system"),s=e("../../../../../selectors"),l=e("../../../../component-library"),c=p(e("../../../modals/nickname-popovers")),u=p(e("../../../name/name")),d=e("./hook");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.ConfirmInfoRowAddress=({address:e,isSnapUsingThis:t})=>{const n=(0,a.useSelector)(s.getPetnamesEnabled),{displayName:p,hexAddress:f}=(0,d.useFallbackDisplayName)(e),[m,h]=(0,o.useState)(!1);return o.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center},n&&!t?o.default.createElement(u.default,{value:f,type:r.NameType.ETHEREUM_ADDRESS}):o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,onClick:()=>h(!0)},o.default.createElement(l.AvatarAccount,{address:e,size:l.AvatarAccountSize.Xs,borderColor:i.BorderColor.transparent}),o.default.createElement(l.Text,{marginLeft:2,color:i.TextColor.inherit,"data-testid":"confirm-info-row-display-name"},p)),m?o.default.createElement(c.default,{onClose:()=>h(!1),address:f}):null))}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/address.tsx"}],[4200,{"../../../../../helpers/constants/design-system":4914,"../../../../component-library":4543,"../../../../ui/currency-display/currency-display.component":4768,"../../../user-preferenced-currency-display/user-preferenced-currency-display.component":4463,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowCurrency=void 0;var r=l(e("react")),o=e("../../../../../helpers/constants/design-system"),a=e("../../../../component-library"),i=l(e("../../../user-preferenced-currency-display/user-preferenced-currency-display.component")),s=l(e("../../../../ui/currency-display/currency-display.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.ConfirmInfoRowCurrency=({value:e,currency:t})=>r.default.createElement(a.Box,{display:o.Display.Flex,alignItems:o.AlignItems.center,flexWrap:o.FlexWrap.Wrap,style:{columnGap:"8px",fontSize:"var(--font-size-3)"}},t?r.default.createElement(s.default,{currency:t,value:`${e}`}):r.default.createElement(i.default,{value:`${e}`}))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/currency.tsx"}],[4201,{react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowDivider=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r};n.ConfirmInfoRowDivider=()=>o.default.createElement("div",{style:{height:"1px",backgroundColor:"var(--color-border-muted)"}})}}},{package:"$root$",file:"ui/components/app/confirm/info/row/divider.tsx"}],[4202,{"../../../../../../shared/modules/hexstring-utils":4164,"../../../../../helpers/utils/util":4957,"../../../../../selectors":5513,"./row":4204,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRowContext=n.useFallbackDisplayName=void 0;var r=e("react"),o=e("react-redux"),a=e("../../../../../../shared/modules/hexstring-utils"),i=e("../../../../../helpers/utils/util"),s=e("../../../../../selectors"),l=e("./row");n.useRowContext=()=>(0,r.useContext)(l.ConfirmInfoRowContext);n.useFallbackDisplayName=function(e){const t=(0,a.toChecksumHexAddress)(e),n=(0,o.useSelector)(s.getInternalAccounts),r=(0,s.getAccountName)(n,t),l=(0,o.useSelector)((e=>(0,s.getAddressBookEntry)(e,t))),c=null==l?void 0:l.name,u=(0,o.useSelector)((e=>(0,s.getMetadataContractName)(e,t))),d=(0,o.useSelector)((t=>(0,s.getEnsResolutionByAddress)(t,e)));return{displayName:r||c||u||d||(0,i.shortenAddress)(t),hexAddress:t}}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/hook.ts"}],[4203,{"./address":4199,"./divider":4201,"./row":4204,"./text":4205,"./url":4206,"./value-double":4207},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./address");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=e("./divider");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=e("./row");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=e("./text");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))}));var s=e("./url");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=e("./value-double");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===l[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return l[e]}}))}))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/index.ts"}],[4204,{"../../../../../helpers/constants/design-system":4914,"../../../../component-library":4543,"../../../../ui/tooltip/tooltip":4876,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowVariant=n.ConfirmInfoRowContext=n.ConfirmInfoRow=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=(r=e("../../../../ui/tooltip/tooltip"))&&r.__esModule?r:{default:r},i=e("../../../../component-library"),s=e("../../../../../helpers/constants/design-system");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}let c=n.ConfirmInfoRowVariant=function(e){return e.Default="default",e.Critical="critical",e.Warning="warning",e}({});const u={[c.Default]:undefined,[c.Critical]:s.BackgroundColor.errorMuted,[c.Warning]:s.BackgroundColor.warningMuted},d={[c.Default]:s.TextColor.textDefault,[c.Critical]:s.Color.errorAlternative,[c.Warning]:s.Color.warningAlternative},p={[c.Default]:i.IconName.Question,[c.Critical]:i.IconName.Warning,[c.Warning]:i.IconName.Warning},f={[c.Default]:s.Color.iconMuted,[c.Critical]:s.Color.errorAlternative,[c.Warning]:s.Color.warningAlternative},m=n.ConfirmInfoRowContext=(0,o.createContext)({variant:c.Default});n.ConfirmInfoRow=({label:e,children:t,variant:n=c.Default,tooltip:r,style:l})=>o.default.createElement(m.Provider,{value:{variant:n}},o.default.createElement(i.Box,{className:"confirm-info-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,flexWrap:s.FlexWrap.Wrap,backgroundColor:u[n],borderRadius:s.BorderRadius.LG,marginTop:2,marginBottom:2,paddingLeft:2,paddingRight:2,color:d[n],style:{overflowWrap:s.OverflowWrap.Anywhere,minHeight:"24px",...l}},o.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},o.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium,color:s.TextColor.inherit},e),r&&r.length>0&&o.default.createElement(a.default,{title:r,style:{display:"flex"}},o.default.createElement(i.Icon,{name:p[n],marginLeft:1,color:f[n]}))),"string"==typeof t?o.default.createElement(i.Text,{color:s.TextColor.inherit},t):t))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/row.tsx"}],[4205,{"../../../../../helpers/constants/design-system":4914,"../../../../component-library":4543,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowText=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system");n.ConfirmInfoRowText=({text:e})=>o.default.createElement(a.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,flexWrap:i.FlexWrap.Wrap,gap:2},o.default.createElement(a.Text,{color:i.TextColor.inherit},e))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/text.tsx"}],[4206,{"../../../../../helpers/constants/design-system":4914,"../../../../component-library":4543,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowUrl=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system");n.ConfirmInfoRowUrl=({url:e})=>{var t;let n;try{n=new URL(e)}catch(t){console.log(`ConfirmInfoRowUrl: new URL(url) cannot parse ${e}`)}const r="http:"===(null===(t=n)||void 0===t?void 0:t.protocol);return o.default.createElement(a.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,flexWrap:i.FlexWrap.Wrap,gap:2},r&&o.default.createElement(a.Text,{variant:i.TextVariant.bodySm,display:i.Display.Flex,alignItems:i.AlignItems.center,borderRadius:i.BorderRadius.SM,backgroundColor:i.BackgroundColor.warningMuted,paddingLeft:1,paddingRight:1,color:i.TextColor.warningDefault},o.default.createElement(a.Icon,{name:a.IconName.Danger,color:i.IconColor.warningDefault,size:a.IconSize.Sm,marginInlineEnd:1}),"HTTP"),o.default.createElement(a.Text,{color:i.TextColor.inherit},e))}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/url.tsx"}],[4207,{"../../../../../helpers/constants/design-system":4914,"../../../../component-library":4543,"./hook":4202,"./row":4204,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowValueDouble=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system"),s=e("./hook"),l=e("./row");const c={[l.ConfirmInfoRowVariant.Default]:i.TextColor.textMuted,[l.ConfirmInfoRowVariant.Critical]:i.Color.errorAlternative,[l.ConfirmInfoRowVariant.Warning]:i.Color.warningAlternative};n.ConfirmInfoRowValueDouble=({left:e,right:t})=>{const{variant:n}=(0,s.useRowContext)();return o.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,flexWrap:i.FlexWrap.Wrap,gap:2},o.default.createElement(a.Text,{color:c[n]},e),o.default.createElement(a.Text,{color:i.TextColor.inherit},t))}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/value-double.tsx"}],[4208,{"../../../../helpers/constants/design-system":4914,"../../../../helpers/utils/util":4957,"../../../../selectors":5513,"../../../component-library":4543,classnames:2655,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var r=d(e("react")),o=d(e("classnames")),a=d(e("prop-types")),i=e("react-redux"),s=e("../../../../helpers/utils/util"),l=e("../../../component-library"),c=e("../../../../selectors"),u=e("../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p({address:e,className:t=null,name:n,status:a,action:d=null,options:p=null,backgroundColor:f}){const m=(0,i.useSelector)(c.getUseBlockie),h=f??u.BackgroundColor.backgroundDefault;return r.default.createElement(l.Box,{className:(0,o.default)("connected-accounts-list__row",t),padding:4,backgroundColor:h,display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.center},r.default.createElement(l.Box,{className:"connected-accounts-list__row-content",gap:4},r.default.createElement(l.AvatarAccount,{variant:m?l.AvatarAccountVariant.Blockies:l.AvatarAccountVariant.Jazzicon,address:e,size:l.AvatarAccountSize.Md}),r.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column},r.default.createElement(l.Box,null,r.default.createElement(l.Text,{variant:u.TextVariant.bodyLgMedium,className:"connected-accounts-list__account-name"},n),r.default.createElement(l.Text,{variant:u.TextVariant.bodyMd},(0,s.shortenAddress)(e)),a?r.default.createElement(l.Text,{variant:u.TextVariant.bodyMd,className:"connected-accounts-list__account-status",color:u.TextColor.successDefault},a):null),r.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column},d))),p)}p.propTypes={address:a.default.string.isRequired,className:a.default.string,name:a.default.node.isRequired,status:a.default.string,action:a.default.node,options:a.default.node,backgroundColor:a.default.string}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-item/connected-accounts-list-item.component.js"}],[4209,{"./connected-accounts-list-item.component":4208},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./connected-accounts-list-item.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-item/index.js"}],[4210,{"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"../../../ui/menu":4823,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("prop-types"))&&r.__esModule?r:{default:r},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),i=e("../../../ui/menu"),s=e("../../../component-library"),l=e("../../../../hooks/useI18nContext");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=({children:e,onShowOptions:t,onHideOptions:n,show:r})=>{const o=(0,a.useRef)(!1),c=(0,l.useI18nContext)();return a.default.createElement("div",{ref:o},a.default.createElement(s.ButtonIcon,{iconName:s.IconName.MoreVertical,className:"connected-accounts-options__button",onClick:t,ariaLabel:c("options")}),r?a.default.createElement(i.Menu,{anchorElement:o.current,onHide:n,popperOptions:{modifiers:[{name:"preventOverflow",options:{altBoundary:!0}}]}},e):null)};u.propTypes={children:o.default.node.isRequired,onHideOptions:o.default.func.isRequired,onShowOptions:o.default.func.isRequired,show:o.default.bool.isRequired};n.default=u}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-options/connected-accounts-list-options.component.js"}],[4211,{"./connected-accounts-list-options.component":4210},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./connected-accounts-list-options.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-options/index.js"}],[4212,{"../../../helpers/constants/design-system":4914,"../../component-library":4543,"../../ui/menu":4823,"./connected-accounts-list-item":4209,"./connected-accounts-list-options":4211,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("../../../helpers/constants/design-system"),i=e("../../component-library"),s=e("../../ui/menu"),l=d(e("./connected-accounts-list-item")),c=d(e("./connected-accounts-list-options"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.PureComponent{constructor(...e){super(...e),p(this,"state",{accountWithOptionsShown:null}),p(this,"disconnectAccount",(()=>{this.hideAccountOptions(),this.props.removePermittedAccount(this.state.accountWithOptionsShown)})),p(this,"switchAccount",(e=>{this.hideAccountOptions(),this.props.setSelectedAddress(e)})),p(this,"hideAccountOptions",(()=>{this.setState({accountWithOptionsShown:null})})),p(this,"showAccountOptions",(e=>{this.setState({accountWithOptionsShown:e})}))}renderUnconnectedAccount(){const{accountToConnect:e,connectAccount:t}=this.props,{t:n}=this.context;if(!e)return null;const{address:r,metadata:{name:s}}=e;return o.default.createElement(l.default,{className:"connected-accounts-list__row--highlight",backgroundColor:a.BackgroundColor.warningMuted,address:r,name:s,status:n("statusNotConnected"),action:o.default.createElement(i.Text,{variant:a.TextVariant.bodyMd},o.default.createElement(i.ButtonLink,{className:"connected-accounts-list__account-status-link",onClick:()=>t(r),size:i.ButtonLinkSize.Inherit},n("connect")))})}renderListItemOptions(e){const{accountWithOptionsShown:t}=this.state,{t:n}=this.context;return o.default.createElement(c.default,{onHideOptions:this.hideAccountOptions,onShowOptions:this.showAccountOptions.bind(null,e),show:t===e},o.default.createElement(s.MenuItem,{iconName:i.IconName.Logout,onClick:this.disconnectAccount},n("disconnectThisAccount")))}renderListItemAction(e){const{t:t}=this.context;return o.default.createElement(i.Text,{variant:a.TextVariant.bodyMd},o.default.createElement(i.ButtonLink,{className:"connected-accounts-list__account-status-link",onClick:()=>this.switchAccount(e),size:i.ButtonLinkSize.Inherit},t("switchToThisAccount")))}render(){const{connectedAccounts:e,selectedAddress:t,shouldRenderListOptions:n}=this.props,{t:r}=this.context;return o.default.createElement(o.default.Fragment,null,o.default.createElement("main",{className:"connected-accounts-list"},this.renderUnconnectedAccount(),e.map((({address:e,name:a},i)=>o.default.createElement(l.default,{key:e,address:e,name:a,status:0===i?r("active"):null,options:n?this.renderListItemOptions(e):null,action:e===t?null:this.renderListItemAction(e)})))))}}n.default=f,p(f,"contextTypes",{t:r.default.func.isRequired}),p(f,"defaultProps",{accountToConnect:null}),p(f,"propTypes",{accountToConnect:r.default.shape({id:r.default.string.isRequired,address:r.default.string.isRequired,metadata:r.default.shape({name:r.default.string.isRequired,keyring:r.default.shape({type:r.default.string.isRequired}).isRequired}).isRequired,options:r.default.object.isRequired,methods:r.default.arrayOf(r.default.string).isRequired,type:r.default.string.isRequired}),connectedAccounts:r.default.arrayOf(r.default.shape({address:r.default.string.isRequired,name:r.default.string.isRequired,lastActive:r.default.number})).isRequired,connectAccount:r.default.func.isRequired,selectedAddress:r.default.string.isRequired,removePermittedAccount:r.default.func,setSelectedAddress:r.default.func.isRequired,shouldRenderListOptions:(e,t,n)=>"boolean"!=typeof e[t]?new Error(`Warning: Failed prop type: '${t}' of component '${n}' must be a boolean. Received: ${typeof e[t]}`):e[t]&&!e.removePermittedAccount?new Error(`Warning: Failed prop type: '${t}' of component '${n}' requires prop 'removePermittedAccount'.`):undefined})}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list.component.js"}],[4213,{"./connected-accounts-list.component":4212},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./connected-accounts-list.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/index.js"}],[4214,{"../../../helpers/constants/design-system":4914,"../../../helpers/utils/permission":4951,"../../../helpers/utils/util":4957,"../../../hooks/useI18nContext":4976,"../../../selectors":5513,"../../component-library":4543,classnames:2655,lodash:3477,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=h(e("classnames")),o=h(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),i=e("lodash"),s=e("react-redux"),l=e("../../component-library"),c=e("../../../hooks/useI18nContext"),u=e("../../../helpers/utils/permission"),d=e("../../../helpers/constants/design-system"),p=e("../../../helpers/utils/util"),f=e("../../../selectors");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}const g=({permissions:e})=>{const t=(0,c.useI18nContext)(),[n,o]=(0,a.useState)(!1),m=(0,s.useSelector)(f.getSnapsMetadata),h=()=>{o((e=>!e))};if(!e.length)return null;const g=(0,i.flatten)(e.map((({key:e,value:n})=>(0,u.getPermissionDescription)({t:t,permissionName:e,permissionValue:n,getSubjectName:(0,p.getSnapName)(m)}))));return a.default.createElement(l.Box,{className:"connected-accounts-permissions",width:d.BlockSize.Full},a.default.createElement(l.Box,{display:d.Display.Flex,flexDirection:d.FlexDirection.Row,as:"button",onClick:h,width:d.BlockSize.Full,justifyContent:d.JustifyContent.spaceBetween,className:"connected-accounts-permissions__header",padding:0,backgroundColor:d.BackgroundColor.backgroundDefault},a.default.createElement(l.Text,{onClick:h,as:"h6",variant:d.TextVariant.bodyMdMedium},t("permissions")),a.default.createElement(l.ButtonIcon,{size:l.ButtonIconSize.Sm,iconName:n?l.IconName.ArrowUp:l.IconName.ArrowDown,ariaLabel:t("showPermissions")})),n?a.default.createElement(l.Box,{className:(0,r.default)("connected-accounts-permissions__list-container-expanded"),marginTop:4},a.default.createElement(l.Text,{as:"h6",variant:d.TextVariant.bodySm},t("authorizedPermissions"),":"),a.default.createElement("ul",{className:"connected-accounts-permissions__list"},g.map((({label:e},t)=>a.default.createElement("li",{key:`connected-permission-${t}`,className:"connected-accounts-permissions__list-item"},a.default.createElement(l.Checkbox,{isChecked:!0,isDisabled:!0,id:`connected-permission-${t}`,label:e})))))):null)};g.propTypes={permissions:o.default.arrayOf(o.default.shape({key:o.default.string.isRequired}))},g.defaultProps={permissions:[]},g.displayName="ConnectedAccountsPermissions";n.default=a.default.memo(g)}}},{package:"$root$",file:"ui/components/app/connected-accounts-permissions/connected-accounts-permissions.js"}],[4215,{"./connected-accounts-permissions":4214},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./connected-accounts-permissions"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/connected-accounts-permissions/index.js"}],[4216,{"../../../helpers/constants/design-system":4914,"../../../helpers/utils/util":4957,"../../component-library":4543,"../../ui/button":4756,"../../ui/site-origin":4854,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=u(e("prop-types")),a=u(e("../../ui/button")),i=e("../../component-library"),s=e("../../../helpers/utils/util"),l=u(e("../../ui/site-origin")),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends r.Component{render(){const{connectedSubjects:e,onDisconnect:t}=this.props,{t:n}=this.context;return r.default.createElement("main",{className:"connected-sites-list__content-rows"},e.map((e=>r.default.createElement("div",{key:e.origin,className:"connected-sites-list__content-row"},r.default.createElement("div",{className:"connected-sites-list__subject-info"},r.default.createElement(i.AvatarFavicon,{className:"connected-sites-list__subject-icon",name:e.name,size:c.Size.MD,src:e.iconUrl}),r.default.createElement(l.default,{className:"connected-sites-list__subject-name",title:e.extensionId||e.origin,siteOrigin:this.getSubjectDisplayName(e)})),r.default.createElement(a.default,{className:"connected-sites-list__content-row-link-button",onClick:()=>t(e.origin),type:"link"},n("disconnect"))))))}getSubjectDisplayName(e){return e.extensionId?this.context.t("externalExtension"):(0,s.stripHttpsSchemeWithoutPort)(e.origin)}}n.default=f,p(f,"contextTypes",{t:o.default.func}),p(f,"propTypes",{connectedSubjects:o.default.arrayOf(o.default.shape({name:o.default.string,iconUrl:o.default.string,origin:o.default.string})).isRequired,onDisconnect:o.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/connected-sites-list/connected-sites-list.component.js"}],[4217,{"../../../helpers/constants/design-system":4914,"../../../helpers/utils/util":4957,"../../../hooks/useI18nContext":4976,"../../../selectors":5513,"../../../store/actions":5521,"../../component-library":4543,"../../ui/menu":4823,"../connected-accounts-list/connected-accounts-list-options":4211,"../snaps/snap-avatar":4364,"prop-types":3633,react:3846,"react-redux":3811,"react-router-dom":3831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=g(e("prop-types")),a=e("react-router-dom"),i=e("react-redux"),s=e("../../component-library"),l=e("../../../hooks/useI18nContext"),c=e("../../ui/menu"),u=g(e("../snaps/snap-avatar")),d=e("../../../helpers/constants/design-system"),p=g(e("../connected-accounts-list/connected-accounts-list-options")),f=e("../../../selectors"),m=e("../../../store/actions"),h=e("../../../helpers/utils/util");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b({connectedSubjects:e}){const[t,n]=(0,r.useState)(),o=(0,l.useI18nContext)(),g=(0,a.useHistory)(),y=(0,i.useDispatch)(),b=(0,i.useSelector)(f.getOriginOfCurrentTab),v=e=>r.default.createElement(p.default,{onHideOptions:()=>n(),onShowOptions:()=>n(e),show:t===e},r.default.createElement(c.MenuItem,{iconName:s.IconName.Logout,onClick:t=>{t.preventDefault(),(e=>{y((0,m.disconnectOriginFromSnap)(b,e))})(e)}},o("disconnect")),r.default.createElement(c.MenuItem,{iconName:s.IconName.Setting,onClick:()=>g.push((0,h.getSnapRoute)(e))},o("snapsSettings")));return r.default.createElement(s.Box,{className:"connected-snaps-list__content-rows",width:d.BlockSize.Full},e.map((e=>r.default.createElement(s.Box,{key:e.origin,className:"connected-snaps-list__content-row",width:d.BlockSize.Full,display:d.Display.Flex,flexDirection:d.FlexDirection.Row,padding:4,justifyContent:d.JustifyContent.spaceBetween},r.default.createElement(s.Box,{className:"connected-snaps-list__subject-info",gap:4,display:d.Display.Flex,alignItems:d.AlignItems.center},r.default.createElement(u.default,{snapId:e.origin,badgeSize:s.IconSize.Xs,avatarSize:s.IconSize.Md}),r.default.createElement(s.Text,{variant:d.TextVariant.bodyLgMedium,className:"connected-accounts-list__account-name"},e.name)),v(e.origin)))))}b.propTypes={connectedSubjects:o.default.arrayOf(o.default.shape({name:o.default.string,origin:o.default.string})).isRequired}}}},{package:"$root$",file:"ui/components/app/connected-sites-list/connected-snaps.js"}],[4218,{"./connected-sites-list.component":4216},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./connected-sites-list.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/connected-sites-list/index.js"}],[4219,{"../../../helpers/constants/connected-sites":4913,"../../../helpers/constants/design-system":4914,"../../../hooks/useI18nContext":4976,"../../../selectors":5513,"../../multichain":4669,"@metamask/snaps-utils":1898,lodash:3477,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=f(e("react")),o=f(e("prop-types")),a=e("react-redux"),i=e("lodash"),s=e("@metamask/snaps-utils"),l=e("../../../helpers/constants/connected-sites"),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../selectors"),p=e("../../multichain");function f(e){return e&&e.__esModule?e:{default:e}}function m({onClick:e}){const t=(0,u.useI18nContext)(),{address:n}=(0,a.useSelector)(d.getSelectedInternalAccount),o=(0,a.useSelector)(d.getPermissionsForActiveTab).map((e=>e.key)).includes(s.WALLET_SNAP_PERMISSION_KEY),f=(0,a.useSelector)(d.getAddressConnectedSubjectMap),m=(0,a.useSelector)(d.getOriginOfCurrentTab),h=f[n];let g;g=Boolean(h&&h[m])?l.STATUS_CONNECTED:(0,i.findKey)(f,m)?l.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT:o?l.STATUS_CONNECTED_TO_SNAP:l.STATUS_NOT_CONNECTED;let y=c.Color.iconAlternative;g===l.STATUS_CONNECTED?y=c.Color.successDefault:g!==l.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT&&g!==l.STATUS_CONNECTED_TO_SNAP||(y=c.BackgroundColor.backgroundDefault);const b=g===l.STATUS_CONNECTED?t("tooltipSatusConnected"):t("tooltipSatusNotConnected");return r.default.createElement(p.ConnectedSiteMenu,{status:g,globalMenuColor:y,text:b,as:"button",onClick:e})}m.propTypes={onClick:o.default.func}}}},{package:"$root$",file:"ui/components/app/connected-status-indicator/connected-status-indicator.js"}],[4220,{"./connected-status-indicator":4219},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./connected-status-indicator"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/connected-status-indicator/index.js"}],[4221,{"../../ui/button":4756,"./recipient-group/recipient-group.component":4223,lodash:3477,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=l(e("prop-types")),a=e("lodash"),i=l(e("../../ui/button")),s=l(e("./recipient-group/recipient-group.component"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.PureComponent{constructor(...e){super(...e),u(this,"state",{isShowingAllRecent:!1})}renderRecents(){const{t:e}=this.context,{isShowingAllRecent:t}=this.state,n=this.props.searchForRecents(),o=!t&&n.length>2;return r.default.createElement("div",{className:"send__select-recipient-wrapper__recent-group-wrapper"},o&&r.default.createElement(i.default,{type:"link",className:"send__select-recipient-wrapper__recent-group-wrapper__load-more",onClick:()=>this.setState({isShowingAllRecent:!0})},e("loadMore")))}renderAddressBook(){const e=this.props.searchForContacts().reduce(((e,t)=>{const n=t.name[0].toUpperCase();return{...e,[n]:[...e[n]||[],t]}}),{});return Object.keys(e).sort().map((t=>[t,(0,a.sortBy)(e[t],(e=>e.name.toLowerCase()))])).map((([e,t])=>r.default.createElement(s.default,{key:`${e}-contact-group`,label:e,items:t,onSelect:this.props.selectRecipient,selectedAddress:this.props.selectedAddress})))}renderMyAccounts(){const e=this.props.searchForMyAccounts();return r.default.createElement(s.default,{items:e,onSelect:this.props.selectRecipient,selectedAddress:this.props.selectedAddress})}render(){const{children:e,searchForRecents:t,searchForContacts:n,searchForMyAccounts:o}=this.props;return r.default.createElement("div",{className:"send__select-recipient-wrapper__list"},e||null,t?this.renderRecents():null,n?this.renderAddressBook():null,o?this.renderMyAccounts():null)}}n.default=d,u(d,"propTypes",{searchForContacts:o.default.func,searchForRecents:o.default.func,searchForMyAccounts:o.default.func,selectRecipient:o.default.func,children:o.default.node,selectedAddress:o.default.string}),u(d,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/contact-list/contact-list.component.js"}],[4222,{"./contact-list.component":4221},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./contact-list.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/contact-list/index.js"}],[4223,{"../../../../helpers/constants/design-system":4914,"../../../../pages/confirmations/send/send.utils":5293,"../../../component-library":4543,"../../../multichain":4669,"../../../ui/box":4752,"../../../ui/identicon":4806,classnames:2655,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r=d(e("react")),o=d(e("prop-types")),a=d(e("classnames")),i=d(e("../../../ui/identicon")),s=e("../../../../pages/confirmations/send/send.utils"),l=d(e("../../../ui/box")),c=e("../../../../helpers/constants/design-system"),u=e("../../../component-library");e("../../../multichain");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return String(e).toLowerCase()===String(t).toLowerCase()}function f({label:e,items:t,onSelect:n,selectedAddress:o}){return t&&t.length?r.default.createElement(l.default,{className:"send__select-recipient-wrapper__group","data-testid":"recipient-group"},e&&r.default.createElement(l.default,{className:"send__select-recipient-wrapper__group-label",marginTop:2,marginBottom:2,marginLeft:4,marginRight:4},r.default.createElement(u.Text,{variant:c.TextVariant.bodyMd},e)),t.map((({address:e,name:t})=>r.default.createElement(l.default,{key:e,onClick:()=>n(e,t),className:(0,a.default)({"send__select-recipient-wrapper__group-item":!p(e,o),"send__select-recipient-wrapper__group-item--selected":p(e,o)}),padding:4},r.default.createElement(i.default,{address:e,diameter:28}),r.default.createElement(l.default,{className:"send__select-recipient-wrapper__group-item__content","data-testid":"recipient"},r.default.createElement(u.Text,{variant:c.TextVariant.bodyLgMedium,className:"send__select-recipient-wrapper__group-item__title"},t||(0,s.ellipsify)(e)),t&&r.default.createElement(u.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,className:"send__select-recipient-wrapper__group-item__subtitle"},(0,s.ellipsify)(e))))))):null}f.propTypes={label:o.default.string,items:o.default.arrayOf(o.default.shape({address:o.default.string.isRequired,name:o.default.string})),onSelect:o.default.func.isRequired,selectedAddress:o.default.string}}}},{package:"$root$",file:"ui/components/app/contact-list/recipient-group/recipient-group.component.js"}],[4224,{"../../../helpers/constants/common":4912,"../../../hooks/useI18nContext":4976,"../../component-library":4543,"../../ui/text-field":4864,"../srp-input":4419,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=u(e("prop-types")),a=e("../../../hooks/useI18nContext"),i=u(e("../../ui/text-field")),s=e("../../component-library"),l=u(e("../srp-input")),c=e("../../../helpers/constants/common");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({disabled:e=!1,includeTerms:t=!1,onSubmit:n,submitText:o}){const[u,d]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[g,y]=(0,r.useState)(""),[b,v]=(0,r.useState)(""),[_,k]=(0,r.useState)(!1),w=(0,a.useI18nContext)(),x=(0,r.useCallback)((e=>{let t="",n="";e&&e.length<c.PASSWORD_MIN_LENGTH&&(n=w("passwordNotLongEnough")),u&&e!==u&&(t=w("passwordsDontMatch")),h(e),y(n),f(t)}),[u,w]),T=(0,r.useCallback)((e=>{let t="";m!==e&&(t=w("passwordsDontMatch")),d(e),f(t)}),[m,w]),E=!e&&m&&u&&m===u&&b&&(!t||_)&&!g&&!p,C=(0,r.useCallback)((async e=>{e.preventDefault(),E&&await n(m,b)}),[E,n,m,b]),O=(0,r.useCallback)((()=>{k((e=>!e))}),[]),M=w("acceptTermsOfUse",[r.default.createElement("a",{className:"create-new-vault__terms-link",key:"create-new-vault__link-text",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer"},w("terms"))]);return r.default.createElement("form",{className:"create-new-vault__form",onSubmit:C},r.default.createElement(l.default,{onChange:v,srpText:w("secretRecoveryPhrase")}),r.default.createElement("div",{className:"create-new-vault__create-password"},r.default.createElement(i.default,{"data-testid":"create-vault-password",id:"password",label:w("newPassword"),type:"password",value:m,onChange:e=>x(e.target.value),error:g,autoComplete:"new-password",margin:"normal",largeLabel:!0}),r.default.createElement(i.default,{"data-testid":"create-vault-confirm-password",id:"confirm-password",label:w("confirmPassword"),type:"password",value:u,onChange:e=>T(e.target.value),error:p,autoComplete:"new-password",margin:"normal",largeLabel:!0})),t?r.default.createElement("div",{className:"create-new-vault__terms"},r.default.createElement(s.Checkbox,{id:"create-new-vault-terms-checkbox","data-testid":"create-new-vault-terms-checkbox",isChecked:_,onChange:O,label:M})):null,r.default.createElement(s.Button,{"data-testid":"create-new-vault-submit-button",className:"create-new-vault__submit-button",variant:s.ButtonVariant.Primary,disabled:!E,type:"submit"},o))}p.propTypes={disabled:o.default.bool,includeTerms:o.default.bool,onSubmit:o.default.func.isRequired,submitText:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/create-new-vault/create-new-vault.js"}],[4225,{"./create-new-vault":4224},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./create-new-vault"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/create-new-vault/index.js"}],[4226,{"../../../../shared/constants/common":4122,"../../../../shared/modules/Numeric":4154,"../../../contexts/i18n":4887,"../../../ducks/metamask/metamask":4906,"../../../helpers/utils/confirm-tx.util":4938,"../../../hooks/useIsOriginalNativeTokenSymbol":4977,"../../../selectors":5513,"../../ui/currency-display":4769,"../../ui/unit-input":4881,"./hooks/useProcessNewDecimalValue":4227,"./hooks/useTokenExchangeRate":4228,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=y(e("prop-types")),a=e("react-redux"),i=y(e("../../ui/unit-input")),s=y(e("../../ui/currency-display")),l=e("../../../contexts/i18n"),c=e("../../../ducks/metamask/metamask"),u=e("../../../selectors"),d=e("../../../../shared/constants/common"),p=e("../../../../shared/modules/Numeric"),f=e("../../../hooks/useIsOriginalNativeTokenSymbol"),m=e("../../../helpers/utils/confirm-tx.util"),h=y(e("./hooks/useTokenExchangeRate")),g=y(e("./hooks/useProcessNewDecimalValue"));function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const v=18,_=7;function k({hexValue:e,isFiatPreferred:t,onChange:n,onPreferenceToggle:o,swapIcon:y,className:b="",asset:k}){const w=(0,r.useContext)(l.I18nContext),x=(null==k?void 0:k.decimals)||v,T=(0,a.useSelector)(c.getNativeCurrency),E=(0,a.useSelector)(u.getCurrentCurrency),C=(null==k?void 0:k.symbol)||T||d.EtherDenomination.ETH,O=E.toUpperCase(),M=((null==C?void 0:C.length)||0)>_,S=(0,a.useSelector)(u.getShouldShowFiat),j=!(S&&t),[P,I]=(0,r.useState)("0"),[N,D]=(0,r.useState)("0"),R=(0,a.useSelector)(u.getCurrentChainId),{ticker:A,type:B}=(0,a.useSelector)(c.getProviderConfig),$=(0,f.useIsOriginalNativeTokenSymbol)(R,A,B),W=(0,h.default)(null==k?void 0:k.address),F=(0,g.default)(x,j,W),L=async()=>{await o()};(0,r.useEffect)((()=>{j||W||o()}),[W,j,o]);(0,r.useEffect)((()=>{const t=new p.Numeric(e,16).toBase(10).shiftedBy(x).toString();if(Number(t)===Number(P))return;const{newTokenDecimalValue:n,newFiatDecimalValue:r}=F(t,!0);I(n),D(r)}),[e,null==k?void 0:k.address,F,j,x]);return r.default.createElement(i.default,{hideSuffix:j&&M,dataTestId:"currency-input",suffix:j?C:O,onChange:e=>{const{newTokenDecimalValue:t,newFiatDecimalValue:r}=F(e);I(t),D(r),n(new p.Numeric(t,10).times(Math.pow(10,x),10).toPrefixedHexString())},value:j?P:N,className:b,actionComponent:S&&W?y?y(L):$?r.default.createElement("button",{className:"currency-input__swap-component","data-testid":"currency-swap",onClick:L},r.default.createElement("i",{className:"fa fa-retweet fa-lg"})):null:undefined},(()=>{let e,t;return S&&W?$?(j?t=(0,m.formatCurrency)(new p.Numeric(N,10).toString(),E):(e=C,t=new p.Numeric(P,10).toString()),r.default.createElement(s.default,{hideLabel:j||M,suffix:e,className:"currency-input__conversion-component",displayValue:t})):null:r.default.createElement("div",{className:"currency-input__conversion-component"},w("noConversionRateAvailable"))})())}k.propTypes={hexValue:o.default.string,isFiatPreferred:o.default.bool,onChange:o.default.func,onPreferenceToggle:o.default.func,swapIcon:o.default.func,className:o.default.string,asset:o.default.shape({address:o.default.string,symbol:o.default.string,decimals:o.default.number,isERC721:o.default.bool})}}}},{package:"$root$",file:"ui/components/app/currency-input/currency-input.js"}],[4227,{"../../../../../shared/modules/Numeric":4154,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return(0,r.useCallback)(((r,i)=>{let s,l;const c=(t,n=e)=>{const r=t.toString().split(".")[1]||"",o=Math.min(n,e),a=Math.min(r.length,o);return t.toFixed(a)},u=new o.Numeric(r,10);return i??t?(s=n?u.times(n).toFixed(2):undefined,l=c(u)):(s=u.toFixed(2),l=n?c(u.divide(n),a):undefined),{newFiatDecimalValue:s,newTokenDecimalValue:l}}),[null==n?void 0:n.toString(),t,e])};var r=e("react"),o=e("../../../../../shared/modules/Numeric");const a=6}}},{package:"$root$",file:"ui/components/app/currency-input/hooks/useProcessNewDecimalValue.tsx"}],[4228,{"../../../../../shared/modules/Numeric":4154,"../../../../ducks/metamask/metamask":4906,"../../../../selectors":5513,"ethereumjs-util":2896,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,a.useSelector)(l.getConversionRate),n=new s.Numeric(t,10),c=(0,a.useSelector)(i.getTokenExchangeRates,a.shallowEqual);return(0,r.useMemo)((()=>{if(!e)return n;const t=c[(0,o.toChecksumAddress)(e)];return t?new s.Numeric(t,10).times(n):undefined}),[e,n,c])};var r=e("react"),o=e("ethereumjs-util"),a=e("react-redux"),i=e("../../../../selectors"),s=e("../../../../../shared/modules/Numeric"),l=e("../../../../ducks/metamask/metamask")}}},{package:"$root$",file:"ui/components/app/currency-input/hooks/useTokenExchangeRate.tsx"}],[4229,{"./currency-input":4226},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./currency-input"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/currency-input/index.js"}],[4230,{"../../../../helpers/constants/design-system":4914,"../../../../helpers/utils/util":4957,"../../../../hooks/useCopyToClipboard":4967,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"../../../ui/tooltip":4875,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("react")),o=d(e("prop-types")),a=e("../../../../hooks/useI18nContext"),i=e("../../../../hooks/useCopyToClipboard"),s=d(e("../../../ui/tooltip")),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/util"),u=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}const p=({tokenAddress:e})=>{const t=(0,a.useI18nContext)(),[n,o]=(0,i.useCopyToClipboard)();return r.default.createElement(u.Box,{display:l.Display.InlineFlex,className:"detected-token-address"},r.default.createElement(u.Text,{color:l.TextColor.textDefault},`${t("tokenAddress")}:`),r.default.createElement(s.default,{position:"bottom",title:t(n?"copiedExclamation":"copyToClipboard")},r.default.createElement(u.ButtonLink,{className:"detected-token-address__copy-link",onClick:()=>{o(e)},endIconName:u.IconName.Copy,marginLeft:2,marginRight:2},(0,c.shortenAddress)(e))))};p.propTypes={tokenAddress:o.default.string};n.default=p}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-address/detected-token-address.js"}],[4231,{"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../../hooks/useI18nContext"),s=e("../../../../helpers/constants/design-system"),l=e("../../../component-library");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=({aggregators:e})=>{const t=(0,i.useI18nContext)(),n=parseInt(e.length,10)-2,[r,a]=(0,o.useState)(!1);return o.default.createElement(l.Box,{display:s.Display.InlineFlex,className:"detected-token-aggregators"},o.default.createElement(l.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Normal},t("fromTokenLists",[n>0&&!r?o.default.createElement(l.Text,{as:"h6",fontWeight:s.FontWeight.Normal,key:"detected-token-aggrgators-with-more"},`${e.slice(0,2).join(", ")}`,o.default.createElement(l.ButtonLink,{className:"detected-token-aggregators__link",onClick:()=>a(!0),key:"detected-token-aggrgators-link"},t("plusXMore",[n]))):o.default.createElement(l.Text,{as:"h6",fontWeight:s.FontWeight.Normal,key:"detected-token-aggrgators-without-more"},`${e.join(", ")}.`)])))};u.propTypes={aggregators:a.default.array.isRequired};n.default=u}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-aggregators/detected-token-aggregators.js"}],[4232,{"../../../../helpers/constants/design-system":4914,"../../../../selectors":5513,"../../../component-library":4543,"../../../ui/identicon":4806,"../detected-token-address/detected-token-address":4230,"../detected-token-aggregators/detected-token-aggregators":4231,"../detected-token-values/detected-token-values":4235,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=f(e("react")),o=f(e("prop-types")),a=e("react-redux"),i=e("../../../component-library"),s=f(e("../../../ui/identicon")),l=f(e("../detected-token-values/detected-token-values")),c=f(e("../detected-token-address/detected-token-address")),u=f(e("../detected-token-aggregators/detected-token-aggregators")),d=e("../../../../helpers/constants/design-system"),p=e("../../../../selectors");function f(e){return e&&e.__esModule?e:{default:e}}const m=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var o;const f=(0,a.useSelector)(p.getTokenList)[null===(o=e.address)||void 0===o?void 0:o.toLowerCase()];return r.default.createElement(i.Box,{display:d.Display.Flex,className:"detected-token-details",marginBottom:4},r.default.createElement(s.default,{className:"detected-token-details__identicon",address:e.address,diameter:40}),r.default.createElement(i.Box,{display:d.Display.Grid,marginLeft:2,className:"detected-token-details__data"},r.default.createElement(l.default,{token:e,handleTokenSelection:t,tokensListDetected:n}),r.default.createElement(c.default,{tokenAddress:e.address}),(null==f?void 0:f.aggregators.length)>0&&r.default.createElement(u.default,{aggregators:null==f?void 0:f.aggregators})))};m.propTypes={token:o.default.shape({address:o.default.string.isRequired,decimals:o.default.number,symbol:o.default.string,iconUrl:o.default.string,aggregators:o.default.array}),handleTokenSelection:o.default.func.isRequired,tokensListDetected:o.default.object};n.default=m}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-details/detected-token-details.js"}],[4233,{"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"../../../component-library/modal-content/deprecated":4551,"../../../component-library/modal-header/deprecated":4560,classnames:2655,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("react")),o=d(e("prop-types")),a=d(e("classnames")),i=e("../../../../hooks/useI18nContext"),s=e("../../../../helpers/constants/design-system"),l=e("../../../component-library"),c=e("../../../component-library/modal-content/deprecated"),u=e("../../../component-library/modal-header/deprecated");function d(e){return e&&e.__esModule?e:{default:e}}const p=({partiallyIgnoreDetectedTokens:e,onCancelIgnore:t,handleClearTokensSelection:n,isOpen:o})=>{const d=(0,i.useI18nContext)();return r.default.createElement(l.Modal,{isOpen:o,className:(0,a.default)("detected-token-ignored-popover",{"detected-token-ignored-popover--import":e,"detected-token-ignored-popover--ignore":!e}),onClose:t,autoFocus:!1},r.default.createElement(l.ModalOverlay,null),r.default.createElement(c.ModalContent,null,r.default.createElement(u.ModalHeader,{marginBottom:4},d(e?"importSelectedTokens":"areYouSure")),r.default.createElement(l.Text,{marginBottom:4},d(e?"importSelectedTokensDescription":"ignoreTokenWarning")),r.default.createElement(l.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.center,gap:4},r.default.createElement(l.Button,{className:"detected-token-ignored-popover__ignore-button",block:!0,variant:l.BUTTON_VARIANT.SECONDARY,onClick:t,size:l.BUTTON_SIZES.LG},d("cancel")),r.default.createElement(l.Button,{className:"detected-token-ignored-popover__import-button",block:!0,variant:l.BUTTON_VARIANT.PRIMARY,onClick:n,size:l.BUTTON_SIZES.LG},d("confirm")))))};p.propTypes={partiallyIgnoreDetectedTokens:o.default.bool.isRequired,onCancelIgnore:o.default.func.isRequired,handleClearTokensSelection:o.default.func.isRequired,isOpen:o.default.bool.isRequired};n.default=p}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-ignored-popover/detected-token-ignored-popover.js"}],[4234,{"../../../../../shared/constants/metametrics":4130,"../../../../contexts/metametrics":4888,"../../../../hooks/useI18nContext":4976,"../../../../selectors":5513,"../../../ui/box":4752,"../../../ui/button":4756,"../../../ui/popover":4841,"../detected-token-details/detected-token-details":4232,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=m(e("prop-types")),a=e("react-redux"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../contexts/metametrics"),l=e("../../../../../shared/constants/metametrics"),c=e("../../../../selectors"),u=m(e("../../../ui/popover")),d=m(e("../../../ui/box")),p=m(e("../../../ui/button")),f=m(e("../detected-token-details/detected-token-details"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({tokensListDetected:e,handleTokenSelection:t,onImport:n,onIgnoreAll:o,setShowDetectedTokens:m,sortingBasedOnTokenSelection:h})=>{const g=(0,i.useI18nContext)(),y=(0,r.useContext)(s.MetaMetricsContext),b=(0,a.useSelector)(c.getCurrentChainId),v=(0,a.useSelector)(c.getDetectedTokensInCurrentNetwork),{selected:_=[]}=h(e),k=r.default.createElement(r.default.Fragment,null,r.default.createElement(p.default,{className:"detected-token-selection-popover__ignore-button",type:"secondary",onClick:()=>o()},g("ignoreAll")),r.default.createElement(p.default,{className:"detected-token-selection-popover__import-button",type:"primary",onClick:n,disabled:0===_.length},g("importWithCount",[`(${_.length})`])));return r.default.createElement(u.default,{className:"detected-token-selection-popover",title:1===v.length?g("tokenFoundTitle"):g("tokensFoundTitle",[v.length]),onClose:()=>{m(!1);const e=v.map((({address:e,symbol:t})=>`${t} - ${e}`));y({event:l.MetaMetricsEventName.TokenImportCanceled,category:l.MetaMetricsEventCategory.Wallet,properties:{source_connection_method:l.MetaMetricsTokenEventSource.Detected,chain_id:b,tokens:e}})},footer:k},r.default.createElement(d.default,{margin:3},v.map(((n,o)=>r.default.createElement(f.default,{key:o,token:n,handleTokenSelection:t,tokensListDetected:e})))))};g.propTypes={tokensListDetected:o.default.object,handleTokenSelection:o.default.func.isRequired,onIgnoreAll:o.default.func.isRequired,onImport:o.default.func.isRequired,setShowDetectedTokens:o.default.func.isRequired,sortingBasedOnTokenSelection:o.default.func.isRequired};n.default=g}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-selection-popover/detected-token-selection-popover.js"}],[4235,{"../../../../helpers/constants/design-system":4914,"../../../../hooks/useTokenFiatAmount":4995,"../../../../hooks/useTokenTracker":4996,"../../../../selectors":5513,"../../../component-library":4543,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useTokenTracker"),c=e("../../../../hooks/useTokenFiatAmount"),u=e("../../../../selectors"),d=e("../../../component-library");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var r;const[a,p]=(0,o.useState)((()=>{var t;return null===(t=n[e.address])||void 0===t?void 0:t.selected})),{tokensWithBalances:f}=(0,l.useTokenTracker)({tokens:[e]}),m=null===(r=f[0])||void 0===r?void 0:r.string,h=(0,c.useTokenFiatAmount)(e.address,m,e.symbol),g=(0,i.useSelector)(u.getUseCurrencyRateCheck);(0,o.useEffect)((()=>{var t;p(null===(t=n[e.address])||void 0===t?void 0:t.selected)}),[n,e.address,a,p]);return o.default.createElement(d.Box,{display:s.Display.InlineFlex,className:"detected-token-values"},o.default.createElement(d.Box,{marginBottom:1},o.default.createElement(d.Text,{variant:s.TextVariant.bodyLgMedium,as:"h4"},`${m||"0"} ${e.symbol}`),o.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},g?h||"$0":h)),o.default.createElement(d.Box,{className:"detected-token-values__checkbox"},o.default.createElement(d.Checkbox,{isChecked:a,onClick:()=>{p(!a),t(e)}})))};f.propTypes={token:a.default.shape({address:a.default.string.isRequired,decimals:a.default.number,symbol:a.default.string,iconUrl:a.default.string,aggregators:a.default.array}),handleTokenSelection:a.default.func.isRequired,tokensListDetected:a.default.object};n.default=f}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-values/detected-token-values.js"}],[4236,{"../../../../shared/constants/metametrics":4130,"../../../../shared/constants/transaction":4143,"../../../contexts/metametrics":4888,"../../../selectors":5513,"../../../store/actions":5521,"./detected-token-ignored-popover/detected-token-ignored-popover":4233,"./detected-token-selection-popover/detected-token-selection-popover":4234,lodash:3477,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=m(e("prop-types")),a=e("react-redux"),i=e("lodash"),s=e("../../../store/actions"),l=e("../../../selectors"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/transaction"),d=e("../../../../shared/constants/metametrics"),p=m(e("./detected-token-selection-popover/detected-token-selection-popover")),f=m(e("./detected-token-ignored-popover/detected-token-ignored-popover"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=e=>(0,i.chain)(e).values().groupBy((e=>e.selected?"selected":"deselected")).mapValues((e=>e.map((({token:e})=>{const{address:t,symbol:n,decimals:r,aggregators:o}=e;return{address:t,symbol:n,decimals:r,aggregators:o}})))).value(),y=({setShowDetectedTokens:e})=>{const t=(0,a.useDispatch)(),n=(0,r.useContext)(c.MetaMetricsContext),o=(0,a.useSelector)(l.getCurrentChainId),i=(0,a.useSelector)(l.getDetectedTokensInCurrentNetwork),m=(0,a.useSelector)(l.getSelectedNetworkClientId),[h,y]=(0,r.useState)((()=>i.reduce(((e,t)=>(e[t.address]={token:t,selected:!0},e)),{}))),[b,v]=(0,r.useState)(!1),[_,k]=(0,r.useState)(!1),w=async e=>{e.forEach((e=>{n({event:d.MetaMetricsEventName.TokenAdded,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,source:d.MetaMetricsTokenEventSource.Detected,token_standard:u.TokenStandard.ERC20,asset_type:u.AssetType.token,token_added_type:"detected",chain_id:o}})})),await t((0,s.addImportedTokens)(e,m));const r=e.map((({symbol:e})=>e));t((0,s.setNewTokensImported)(r.join(", ")))};return r.default.createElement(r.default.Fragment,null,b&&r.default.createElement(f.default,{isOpen:!0,onCancelIgnore:()=>{v(!1),k(!1)},handleClearTokensSelection:async()=>{const{selected:r=[],deselected:o=[]}=g(h);o.length<i.length&&await w(r);const a=o.map((({symbol:e,address:t})=>`${e} - ${t}`));n({event:d.MetaMetricsEventName.TokenHidden,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{tokens:a,location:d.MetaMetricsEventLocation.TokenDetection,token_standard:u.TokenStandard.ERC20,asset_type:u.AssetType.token}});const l=o.map((({address:e})=>e));await t((0,s.ignoreTokens)({tokensToIgnore:l,dontShowLoadingIndicator:!0})),e(!1),k(!1)},partiallyIgnoreDetectedTokens:_}),i.length>0&&r.default.createElement(p.default,{detectedTokens:i,tokensListDetected:h,handleTokenSelection:e=>{y((t=>({...t,[e.address]:{...t[e.address],selected:!t[e.address].selected}})))},onImport:async()=>{const{selected:t=[]}=g(h);t.length<i.length?(v(!0),k(!0)):(await w(t),e(!1))},onIgnoreAll:()=>{const e={...h};for(const t of Object.keys(h))e[t].selected=!1;y(e),v(!0)},setShowDetectedTokens:e,sortingBasedOnTokenSelection:g}))};y.propTypes={setShowDetectedTokens:o.default.func.isRequired};n.default=y}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token.js"}],[4237,{"../../../../shared/constants/metametrics":4130,"../../../contexts/i18n":4887,"../../../contexts/metametrics":4888,"../../../helpers/constants/design-system":4914,"../../component-library":4543,classnames:2655,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var r=p(e("classnames")),o=p(e("prop-types")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),i=e("../../../../shared/constants/metametrics"),s=e("../../../contexts/i18n"),l=e("../../../contexts/metametrics"),c=e("../../../helpers/constants/design-system"),u=e("../../component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const f=14,m=f-1;function h({buttonText:e,onLongPressed:t}){const n=(0,a.useContext)(s.I18nContext),o=(0,a.useRef)(!1),[d,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),y=(0,a.useContext)(l.MetaMetricsContext),b=e=>{e.stopPropagation()},v=()=>{o.current&&p(!0)},_=(0,a.useCallback)((e=>{y({category:i.MetaMetricsEventCategory.Keys,event:i.MetaMetricsEventName.SrpHoldToRevealCompleted,properties:{key_type:i.MetaMetricsEventKeyType.Srp}}),y({category:i.MetaMetricsEventCategory.Keys,event:i.MetaMetricsEventName.SrpRevealViewed,properties:{key_type:i.MetaMetricsEventKeyType.Srp}}),t(),g(!0),b(e)}),[t,y]),k=()=>{p(!1),g(!1)},w=(0,a.useCallback)((()=>a.default.createElement(u.Box,{className:(0,r.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__absolute-fill":d,"hold-to-reveal-button__main-icon-show":h})},a.default.createElement(u.Box,{className:"hold-to-reveal-button__absolute-fill"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-background",cx:f,cy:f,r:m}))),a.default.createElement(u.Box,{className:"hold-to-reveal-button__absolute-fill"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{"aria-label":n("holdToRevealLockedLabel"),onTransitionEnd:v,className:"hold-to-reveal-button__circle-foreground",cx:f,cy:f,r:m}))),a.default.createElement(u.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,className:"hold-to-reveal-button__lock-icon-container"},a.default.createElement("img",{src:"images/lock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__lock-icon"})))),[d,h,n]),x=(0,a.useCallback)((()=>d?a.default.createElement("div",{className:(0,r.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__unlock-icon-hide":h}),onAnimationEnd:k},a.default.createElement("div",{onAnimationEnd:b,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-outer-container"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-outer",cx:14,cy:14,r:14}))),a.default.createElement("div",{onAnimationEnd:b,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-inner-container"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-inner",cx:14,cy:14,r:12}))),a.default.createElement("div",{"aria-label":n("holdToRevealUnlockedLabel"),className:"hold-to-reveal-button__unlock-icon-container",onAnimationEnd:_},a.default.createElement("img",{src:"images/unlock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__unlock-icon"}))):null),[d,h,_,n]);return a.default.createElement(u.Button,{width:c.BlockSize.Full,onPointerDown:()=>{o.current=!0,y({category:i.MetaMetricsEventCategory.Keys,event:i.MetaMetricsEventName.SrpHoldToRevealClickStarted,properties:{key_type:i.MetaMetricsEventKeyType.Srp}})},onPointerUp:()=>{o.current=!1},className:"hold-to-reveal-button__button-hold",textProps:{display:c.Display.Flex,alignItems:c.AlignItems.center}},a.default.createElement(u.Box,{className:"hold-to-reveal-button__icon-container",marginRight:2},w(),x()),e)}h.propTypes={buttonText:o.default.string.isRequired,onLongPressed:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js"}],[4238,{"../../../helpers/constants/design-system":4914,"../../component-library":4543,"../../ui/button":4756,"../../ui/check-box":4760,"../../ui/tooltip":4875,classnames:2655,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=d(e("classnames")),a=d(e("prop-types")),i=d(e("../../ui/button")),s=d(e("../../ui/check-box")),l=d(e("../../ui/tooltip")),c=e("../../component-library"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({acceptText:e,checkboxText:t,checkboxTooltipText:n,classNames:a=[],descriptionText:d,ignoreText:p,infoText:f,onAccept:m,onIgnore:h})=>{const[g,y]=(0,r.useState)(!1),b=t&&r.default.createElement(s.default,{id:"homeNotification_checkbox",checked:g,className:"home-notification__checkbox",onClick:()=>y((e=>!e))});return r.default.createElement("div",{className:(0,o.default)("home-notification",...a)},r.default.createElement("div",{className:"home-notification__content"},r.default.createElement("div",{className:"home-notification__content-container"},r.default.createElement("div",{className:"home-notification__text"},d)),f?r.default.createElement(l.default,{position:"top",title:f,wrapperClassName:"home-notification__tooltip-wrapper"},r.default.createElement(c.Icon,{name:c.IconName.Info,color:u.IconColor.iconDefault})):null),r.default.createElement("div",{className:"home-notification__buttons"},m&&e?r.default.createElement(i.default,{type:"primary",className:"home-notification__accept-button",onClick:m},e):null,h&&p?r.default.createElement(i.default,{type:"secondary",className:"home-notification__ignore-button",onClick:()=>h(g)},p):null,t?r.default.createElement("div",{className:"home-notification__checkbox-wrapper"},n?r.default.createElement(l.default,{position:"top",title:n,wrapperClassName:"home-notification__checkbox-label-tooltip"},b):b,r.default.createElement("label",{className:"home-notification__checkbox-label",htmlFor:"homeNotification_checkbox"},t)):null))};f.propTypes={acceptText:a.default.node,checkboxText:a.default.node,checkboxTooltipText:a.default.node,classNames:a.default.array,descriptionText:a.default.node.isRequired,ignoreText:a.default.node,infoText:a.default.node,onAccept:a.default.func,onIgnore:a.default.func};n.default=f}}},{package:"$root$",file:"ui/components/app/home-notification/home-notification.component.js"}],[4239,{"./home-notification.component":4238},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./home-notification.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/home-notification/index.js"}],[4240,{"./token-list.container":4244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("./token-list.container"))&&r.__esModule?r:{default:r};n.default=o.default}}},{package:"$root$",file:"ui/components/app/import-token/token-list/index.js"}],[4241,{"./token-list-placeholder.component":4242},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("./token-list-placeholder.component"))&&r.__esModule?r:{default:r};n.default=o.default}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list-placeholder/index.js"}],[4242,{"../../../../../helpers/constants/design-system":4914,"../../../../../helpers/constants/zendesk-url":4925,"../../../../component-library":4543,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o,a,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),s=d(e("prop-types")),l=d(e("../../../../../helpers/constants/zendesk-url")),c=e("../../../../component-library"),u=e("../../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}class f extends i.Component{render(){return i.default.createElement(c.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,textAlign:u.TextAlign.Center},i.default.createElement(c.Text,{color:u.TextColor.textAlternative},this.context.t("addAcquiredTokens")),i.default.createElement(c.ButtonLink,{href:l.default.ADD_CUSTOM_TOKENS,externalLink:!0},this.context.t("learnMoreUpperCase")))}}n.default=f,r=f,o="contextTypes",a={t:s.default.func},(o=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(o))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list-placeholder/token-list-placeholder.component.js"}],[4243,{"../../../../helpers/constants/design-system":4914,"../../../../helpers/utils/util":4957,"../../../component-library":4543,"./token-list-placeholder":4241,classnames:2655,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=u(e("prop-types")),a=u(e("classnames")),i=e("../../../../helpers/utils/util"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=u(e("./token-list-placeholder"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends r.Component{render(){const{results:e=[],selectedTokens:t={},onToggleToken:n,tokens:o=[],currentNetwork:u,testNetworkBackgroundColor:d}=this.props;return r.default.createElement(s.Box,{className:"token-list"},0===e.length?r.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,className:"token-list__empty-list"},r.default.createElement(c.default,null)):r.default.createElement(s.Box,{className:"token-list__tokens-container"},Array(12).fill(undefined).map(((c,p)=>{var f,m,h;const{symbol:g,name:y,address:b}=e[p]||{},v=(0,i.checkExistingAddresses)(b,o),_=()=>!v&&n(e[p]);return Boolean((null===(f=e[p])||void 0===f?void 0:f.iconUrl)||g||y)&&r.default.createElement(s.Box,{key:b,display:l.Display.Flex,className:(0,a.default)("token-list__token_component",{"token-list__token_component--selected":t[b],"token-list__token_component--disabled":v}),onClick:_},r.default.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},r.default.createElement(s.Checkbox,{isChecked:t[b]||v,marginRight:2,onClick:_}),r.default.createElement(s.Box,null,r.default.createElement(s.BadgeWrapper,{badge:r.default.createElement(s.AvatarNetwork,{size:s.AvatarNetworkSize.Xs,name:null==u?void 0:u.nickname,src:null==u||null===(m=u.rpcPrefs)||void 0===m?void 0:m.imageUrl,backgroundColor:d}),marginRight:4,marginTop:1},r.default.createElement(s.AvatarToken,{name:g,src:null===(h=e[p])||void 0===h?void 0:h.iconUrl,showHalo:!0}))),r.default.createElement(s.Box,null,r.default.createElement(s.Text,{fontWeight:l.FontWeight.Medium,variant:l.TextVariant.bodyMd},y),r.default.createElement(s.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},g))))}))))}}n.default=f,p(f,"contextTypes",{t:o.default.func}),p(f,"propTypes",{tokens:o.default.array,results:o.default.array,selectedTokens:o.default.object,onToggleToken:o.default.func,currentNetwork:o.default.object,testNetworkBackgroundColor:o.default.object})}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list.component.js"}],[4244,{"./token-list.component":4243,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=e("react-redux"),a=(r=e("./token-list.component"))&&r.__esModule?r:{default:r};n.default=(0,o.connect)((e=>{const{tokens:t}=e.metamask;return{tokens:t}}))(a.default)}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list.container.js"}],[4245,{"./token-search.component":4246},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("./token-search.component"))&&r.__esModule?r:{default:r};n.default=o.default}}},{package:"$root$",file:"ui/components/app/import-token/token-search/index.js"}],[4246,{"../../../../../shared/modules/string-utils":4177,"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../component-library/text-field-search/deprecated":4588,"fuse.js":3012,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=u(e("prop-types")),a=u(e("fuse.js")),i=e("../../../../../shared/modules/string-utils"),s=e("../../../component-library/text-field-search/deprecated"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=e=>Object.values(e),f=e=>new a.default(p(e),{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"name",weight:.5},{name:"symbol",weight:.5}]});function m({onSearch:e,error:t,tokenList:n,searchClassName:o}){const a=(0,c.useI18nContext)(),[u,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(f(n));(0,r.useEffect)((()=>{h(f(n))}),[n]);return r.default.createElement(s.TextFieldSearch,{className:o,placeholder:a("searchTokens"),value:u,onChange:t=>(t=>{d(t);const r=m.search(t),o=[...p(n).filter((e=>e.address&&t&&(0,i.isEqualCaseInsensitive)(e.address,t))),...r];e({newSearchQuery:t,results:o})})(t.target.value),error:t,autoFocus:!0,autoComplete:!1,width:l.BlockSize.Full,clearButtonOnClick:()=>{d("")},clearButtonProps:{size:l.Size.SM}})}m.propTypes={onSearch:o.default.func.isRequired,error:o.default.object,tokenList:o.default.object.isRequired,searchClassName:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/import-token/token-search/token-search.component.js"}],[4247,{"../../../../shared/constants/network":4131,"../../../contexts/i18n":4887,"../../../helpers/constants/design-system":4914,"../../component-library":4543,"./network-toggle":4248,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=u(e("prop-types")),a=e("../../../contexts/i18n"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../../shared/constants/network"),c=u(e("./network-toggle"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({wrapperRef:e,incomingTransactionsPreferences:t,allNetworks:n,setIncomingTransactionsPreferences:o})=>{const l=(0,r.useContext)(a.I18nContext),[u,d]=(0,r.useState)(f(t,n));(0,r.useEffect)((()=>{d(f(t,n))}),[t,n]);const p=(e,t)=>{o(e,t)};return r.default.createElement(i.Box,{ref:e,className:"mm-incoming-transaction-toggle"},r.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},l("showIncomingTransactions")),r.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},l("showIncomingTransactionsExplainer")),Object.keys(u).map(((e,t)=>r.default.createElement(c.default,{key:t,chainId:e,networkPreferences:u[e],toggleSingleNetwork:p}))))};n.default=p;function f(e,t){const n={};return Object.keys(t).forEach((r=>{var o;const{chainId:a}=t[r];n[a]={isShowIncomingTransactions:e[a],isATestNetwork:l.TEST_CHAINS.includes(a),label:t[r].nickname,imageUrl:null===(o=t[r].rpcPrefs)||void 0===o?void 0:o.imageUrl}})),n}p.propTypes={wrapperRef:o.default.object,incomingTransactionsPreferences:o.default.object.isRequired,allNetworks:o.default.array.isRequired,setIncomingTransactionsPreferences:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/incoming-trasaction-toggle/incoming-transaction-toggle.tsx"}],[4248,{"../../../../shared/constants/network":4131,"../../../contexts/i18n":4887,"../../../helpers/constants/design-system":4914,"../../component-library":4543,"../../ui/toggle-button":4868,"../../ui/tooltip":4875,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=p(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("../../../../shared/constants/network"),i=e("../../../contexts/i18n"),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),c=p(e("../../ui/toggle-button")),u=p(e("../../ui/tooltip"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const f=({networkPreferences:e,toggleSingleNetwork:t,chainId:n})=>{var r;const d=(0,o.useContext)(i.I18nContext),{isShowIncomingTransactions:p}=e,f=e.label,m=null===a.ETHERSCAN_SUPPORTED_NETWORKS||void 0===a.ETHERSCAN_SUPPORTED_NETWORKS?void 0:a.ETHERSCAN_SUPPORTED_NETWORKS[n],h=null==m?void 0:m.domain,g=(null==h||null===(r=h.charAt(0))||void 0===r?void 0:r.toUpperCase())+(null==h?void 0:h.slice(1));return o.default.createElement(l.Box,{marginTop:6,marginBottom:6,display:s.Display.Flex,flexDirection:s.FlexDirection.Row,gap:4,justifyContent:s.JustifyContent.spaceBetween,"data-testid":`network-toggle-${n}`,className:"network-toggle-wrapper"},o.default.createElement(l.Box,{backgroundColor:s.BackgroundColor.transparent,display:s.Display.Flex,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4,className:"network-toggle-wrapper__overflow-container"},o.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Sm,src:e.imageUrl,name:f}),o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,className:"network-toggle-wrapper__overflow-container"},f.length>20?o.default.createElement(u.default,{position:"bottom"},o.default.createElement(l.Text,{color:s.TextColor.textDefault,backgroundColor:s.BackgroundColor.transparent,variant:s.TextVariant.bodyMd,ellipsis:!0},f)):o.default.createElement(l.Text,{color:s.TextColor.textDefault,backgroundColor:s.BackgroundColor.transparent,variant:s.TextVariant.bodyMd,ellipsis:!0},f),o.default.createElement(l.Text,{color:s.TextColor.primaryDefault,backgroundColor:s.BackgroundColor.transparent,variant:s.TextVariant.bodySm,ellipsis:!0},h&&o.default.createElement("a",{key:`network_${h}_link`,href:`https://${h}`,rel:"noreferrer",target:"_blank"},g)))),o.default.createElement(l.Box,{marginLeft:"auto"},o.default.createElement(c.default,{value:p,onToggle:e=>t(n,!e),offLabel:d("off"),onLabel:d("on")})))};n.default=f;f.propTypes={chainId:r.default.string.isRequired,networkPreferences:r.default.object.isRequired,toggleSingleNetwork:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/incoming-trasaction-toggle/network-toggle.tsx"}],[4249,{"./loading-network-screen.container":4251},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./loading-network-screen.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/loading-network-screen/index.js"}],[4250,{"../../../../shared/constants/network":4131,"../../../../shared/constants/time":4141,"../../../helpers/constants/design-system":4914,"../../component-library":4543,"../../ui/box/box":4751,"../../ui/loading-screen":4815,"../../ui/popover/popover.component":4842,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=p(e("prop-types")),a=p(e("../../ui/loading-screen")),i=e("../../../../shared/constants/time"),s=e("../../../../shared/constants/network"),l=p(e("../../ui/popover/popover.component")),c=e("../../component-library"),u=e("../../../helpers/constants/design-system"),d=p(e("../../ui/box/box"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.PureComponent{constructor(...e){super(...e),m(this,"state",{showErrorScreen:!1}),m(this,"componentDidMount",(()=>{this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)})),m(this,"getConnectingLabel",(function(e){if(e)return e;const{providerConfig:t,providerId:n}=this.props,r=t.type,{t:o}=this.context;if(s.DEPRECATED_NETWORKS.includes(t.chainId)){return o("connectingToDeprecatedNetwork",[t.nickname||t.type])}switch(r){case s.NETWORK_TYPES.MAINNET:return o("connectingToMainnet");case s.NETWORK_TYPES.GOERLI:return o("connectingToGoerli");case s.NETWORK_TYPES.SEPOLIA:return o("connectingToSepolia");case s.NETWORK_TYPES.LINEA_GOERLI:return o("connectingToLineaGoerli");case s.NETWORK_TYPES.LINEA_SEPOLIA:return o("connectingToLineaSepolia");case s.NETWORK_TYPES.LINEA_MAINNET:return o("connectingToLineaMainnet");default:return o("connectingTo",[n])}})),m(this,"renderConnectionFailureNotification",((e,t=!1)=>{const{showNetworkDropdown:n,setProviderArgs:o,setProviderType:a}=this.props;return r.default.createElement(l.default,{onClose:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1})},centerTitle:!0,title:r.default.createElement(c.Icon,{name:c.IconName.Danger,size:c.IconSize.Xl,color:u.IconColor.warningDefault})},r.default.createElement(c.Text,{variant:u.TextVariant.bodyLgMedium,textAlign:u.TextAlign.Center,margin:[0,4,4,4]},e),r.default.createElement(d.default,{display:u.DISPLAY.FLEX,padding:4,gap:2},r.default.createElement(c.ButtonSecondary,{onClick:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),n()},variant:u.TextVariant.bodySm,block:!0},this.context.t("switchNetworks")),t?r.default.createElement(c.ButtonPrimary,{onClick:()=>{this.setState({showErrorScreen:!1}),a(...o),window.clearTimeout(this.cancelCallTimeout),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)},variant:u.TextVariant.bodySm,block:!0},this.context.t("tryAgain")):null))})),m(this,"renderDeprecatedRpcUrlWarning",(()=>this.renderConnectionFailureNotification(this.context.t("currentRpcUrlDeprecated"),!1))),m(this,"renderErrorScreenContent",(()=>{const{providerConfig:e}=this.props;return this.renderConnectionFailureNotification(this.context.t("networkSwitchConnectionError",[e.nickname]),!0)})),m(this,"cancelCall",(()=>{const{isNetworkLoading:e}=this.props;e&&this.setState({showErrorScreen:!0})})),m(this,"componentDidUpdate",(e=>{const{providerConfig:t}=this.props,{providerConfig:n}=e;t.type!==n.type&&(window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND))})),m(this,"componentWillUnmount",(()=>{window.clearTimeout(this.cancelCallTimeout)}))}render(){const{rollbackToPreviousProvider:e,showDeprecatedRpcUrlWarning:t}=this.props;let n;return n=this.state.showErrorScreen?this.renderErrorScreenContent():t?this.renderDeprecatedRpcUrlWarning():this.getConnectingLabel(this.props.loadingMessage),r.default.createElement(a.default,{header:r.default.createElement("div",{className:"page-container__header-close",onClick:e}),showLoadingSpinner:!this.state.showErrorScreen,loadingMessage:n})}}n.default=h,m(h,"contextTypes",{t:o.default.func}),m(h,"propTypes",{loadingMessage:o.default.string,cancelTime:o.default.number,providerConfig:o.default.object,providerId:o.default.oneOfType([o.default.string,o.default.number]),showNetworkDropdown:o.default.func,setProviderArgs:o.default.array,setProviderType:o.default.func,rollbackToPreviousProvider:o.default.func,isNetworkLoading:o.default.bool,showDeprecatedRpcUrlWarning:o.default.bool})}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.component.js"}],[4251,{"../../../../shared/constants/network":4131,"../../../ducks/metamask/metamask":4906,"../../../selectors":5513,"../../../store/actions":5521,"./loading-network-screen.component":4250,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=e("react-redux"),a=e("../../../../shared/constants/network"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("../../../store/actions")),s=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),c=(r=e("./loading-network-screen.component"))&&r.__esModule?r:{default:r};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=["0x3","0x2a","0x4"];n.default=(0,o.connect)((e=>{const{loadingMessage:t}=e.appState,n=(0,l.getProviderConfig)(e),{rpcUrl:r,chainId:o,ticker:i,nickname:c,type:u}=n,p=u===a.NETWORK_TYPES.RPC?[r,o,i,c]:[u],f=o,m=d.includes(f),h=r&&new URL(r).host.endsWith(".infura.io"),g=m&&h;let y=c;if(y===undefined){const t=(0,s.getAllEnabledNetworks)(e).find((e=>e.chainId===o));t&&(y=t.nickname)}return{isNetworkLoading:(0,s.isNetworkLoading)(e),loadingMessage:t,setProviderArgs:p,providerConfig:{...n,nickname:y},providerId:(0,s.getNetworkIdentifier)(e),showDeprecatedRpcUrlWarning:g}}),(e=>({setProviderType:t=>{e(i.setProviderType(t))},rollbackToPreviousProvider:()=>e(i.rollbackToPreviousProvider()),showNetworkDropdown:()=>e(i.toggleNetworkMenu())})))(c.default)}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.container.js"}],[4252,{"./metamask-template-renderer":4253,"./section-shape":4255},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SectionShape",{enumerable:!0,get:function(){return a.SectionShape}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./metamask-template-renderer"))&&r.__esModule?r:{default:r},a=e("./section-shape")}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/index.js"}],[4253,{"./safe-component-list":4254,"./section-shape":4255,lodash:3477,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("lodash"),a=e("./safe-component-list"),i=e("./section-shape");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e){const{element:t}=e,n=a.safeComponentList[t];if(!n)throw new Error(`${t} is not in the safe component list for MetaMask template renderer`);return n}const u=({sections:e})=>{if(!e)return null;if("string"==typeof e)return e;if(e&&"object"==typeof e&&!Array.isArray(e)){const t=c(e);return r.default.createElement(t,e.props,"object"==typeof e.children?r.default.createElement(u,{sections:e.children}):null==e?void 0:e.children)}return r.default.createElement(r.default.Fragment,null,e.reduce(((e,t)=>{if(t===undefined||!0===(null==t?void 0:t.hide))return e;if("string"==typeof t)e.push(t);else{if(!t.key)throw new Error("When using array syntax in MetaMask Template Language, you must specify a key for each child of the array");if("object"==typeof(null==t?void 0:t.children))e.push(r.default.createElement(u,{sections:t,key:t.key}));else{const n=c(t);e.push(r.default.createElement(n,l({key:t.key},t.props),null==t?void 0:t.children))}}return e}),[]))};u.propTypes={sections:i.ValidChildren};n.default=(0,r.memo)(u,((e,t)=>(0,o.isEqual)(e.sections,t.sections)))}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/metamask-template-renderer.js"}],[4254,{"../../../pages/confirmations/components/snap-account-error-message":5169,"../../../pages/confirmations/components/snap-account-success-message":5171,"../../../pages/confirmations/confirmation/components/confirmation-network-switch":5213,"../../../pages/create-snap-account":5308,"../../../pages/remove-snap-account":5356,"../../../pages/smart-transactions/smart-transaction-status-page":5413,"../../../pages/snap-account-redirect":5420,"../../component-library":4543,"../../multichain":4669,"../../ui/actionable-message/actionable-message":4748,"../../ui/box":4752,"../../ui/button":4756,"../../ui/chip":4763,"../../ui/definition-list":4771,"../../ui/popover":4841,"../../ui/spinner":4856,"../../ui/text-field":4864,"../../ui/textarea/textarea":4867,"../../ui/tooltip/tooltip":4876,"../../ui/truncated-definition-list":4877,"../../ui/typography":4879,"../../ui/url-icon":4884,"../confirm/info/row":4203,"../metamask-translation":4256,"../network-display":4310,"../snaps/copyable":4353,"../snaps/snap-authorship-header":4362,"../snaps/snap-delineator":4367,"../snaps/snap-ui-button":4388,"../snaps/snap-ui-form":4390,"../snaps/snap-ui-image":4392,"../snaps/snap-ui-input":4394,"../snaps/snap-ui-markdown":4396},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.safeComponentList=void 0;var r=A(e("../../ui/button")),o=A(e("../../ui/chip")),a=A(e("../../ui/definition-list")),i=A(e("../../ui/truncated-definition-list")),s=A(e("../../ui/popover")),l=A(e("../../ui/typography")),c=A(e("../../ui/box")),u=A(e("../metamask-translation")),d=A(e("../network-display")),p=A(e("../../ui/textarea/textarea")),f=A(e("../../ui/text-field")),m=A(e("../../../pages/confirmations/confirmation/components/confirmation-network-switch")),h=A(e("../../ui/url-icon")),g=A(e("../../ui/tooltip/tooltip")),y=e("../../component-library"),b=A(e("../../ui/actionable-message/actionable-message")),v=e("../../multichain"),_=e("../confirm/info/row"),k=e("../snaps/snap-delineator"),w=e("../snaps/copyable"),x=A(e("../../ui/spinner")),T=e("../snaps/snap-ui-markdown"),E=e("../../../pages/smart-transactions/smart-transaction-status-page"),C=e("../snaps/snap-ui-image"),O=e("../snaps/snap-ui-input"),M=e("../snaps/snap-ui-form"),S=e("../snaps/snap-ui-button"),j=e("../../../pages/confirmations/components/snap-account-success-message"),P=e("../../../pages/confirmations/components/snap-account-error-message"),I=e("../../../pages/create-snap-account"),N=e("../../../pages/remove-snap-account"),D=e("../../../pages/snap-account-redirect"),R=A(e("../snaps/snap-authorship-header"));function A(e){return e&&e.__esModule?e:{default:e}}n.safeComponentList={a:"a",ActionableMessage:b.default,AccountListItem:v.AccountListItem,AvatarIcon:y.AvatarIcon,b:"b",Box:c.default,Button:r.default,Chip:o.default,ConfirmationNetworkSwitch:m.default,DefinitionList:a.default,div:"div",i:"i",MetaMaskTranslation:u.default,NetworkDisplay:d.default,p:"p",Popover:s.default,span:"span",Text:y.Text,TextArea:p.default,TextField:f.default,Tooltip:g.default,TruncatedDefinitionList:i.default,Typography:l.default,SmartTransactionStatusPage:E.SmartTransactionStatusPage,UrlIcon:h.default,Copyable:w.Copyable,SnapDelineator:k.SnapDelineator,SnapUIMarkdown:T.SnapUIMarkdown,SnapUIImage:C.SnapUIImage,Spinner:x.default,ConfirmInfoRow:_.ConfirmInfoRow,ConfirmInfoRowAddress:_.ConfirmInfoRowAddress,SnapUIInput:O.SnapUIInput,SnapUIButton:S.SnapUIButton,SnapUIForm:M.SnapUIForm,CreateSnapAccount:I.CreateSnapAccount,RemoveSnapAccount:N.RemoveSnapAccount,SnapAccountSuccessMessage:j.SnapAccountSuccessMessage,SnapAccountErrorMessage:P.SnapAccountErrorMessage,SnapAuthorshipHeader:R.default,SnapAccountRedirect:D.SnapAccountRedirect,SnapAccountCard:N.SnapAccountCard}}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/safe-component-list.js"}],[4255,{"prop-types":3633},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValidChildren=n.SectionShape=void 0;var r,o=(r=e("prop-types"))&&r.__esModule?r:{default:r};const a=n.SectionShape={props:o.default.object,element:o.default.string,key:o.default.string},i=n.ValidChildren=o.default.oneOfType([o.default.string,o.default.shape(a),o.default.arrayOf(o.default.oneOfType([o.default.shape(a),o.default.string]))]);a.children=i}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/section-shape.js"}],[4256,{"./metamask-translation":4257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./metamask-translation"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/metamask-translation/index.js"}],[4257,{"../../../hooks/useI18nContext":4976,"../metamask-template-renderer":4252,"../metamask-template-renderer/section-shape":4255,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var r=l(e("react")),o=l(e("prop-types")),a=e("../../../hooks/useI18nContext"),i=l(e("../metamask-template-renderer")),s=e("../metamask-template-renderer/section-shape");function l(e){return e&&e.__esModule?e:{default:e}}function c({translationKey:e,variables:t}){return(0,a.useI18nContext)()(e,null==t?void 0:t.map((t=>{if("object"==typeof t&&!Array.isArray(t)&&t.element){var n,o;if(!t.key)throw new Error(`When using MetaMask Template Language in a MetaMaskTranslation variable, you must provide a key for the section regardless of syntax.\n            Section with element '${t.element}' for translationKey: '${e}' has no key property`);if(t.children&&Array.isArray(t.children)&&t.children.length>2)throw new Error("MetaMaskTranslation only renders templates with a single section and maximum two children");if((null===(n=t.children)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.children)!==undefined&&"string"!=typeof t.children[0].children||(null===(o=t.children)||void 0===o||null===(o=o[1])||void 0===o?void 0:o.children)!==undefined&&"string"!=typeof t.children[1].children)throw new Error("MetaMaskTranslation does not allow for component trees of non trivial depth");return r.default.createElement(i.default,{key:`${e}-${t.key}`,sections:t})}return t})))}c.propTypes={translationKey:o.default.string.isRequired,variables:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.number,o.default.shape(s.SectionShape)]))}}}},{package:"$root$",file:"ui/components/app/metamask-translation/metamask-translation.js"}],[4258,{"./modal-content":4259,"./modal.component":4261},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./modal.component")),o=a(e("./modal-content"));function a(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modal/index.js"}],[4259,{"./modal-content.component":4260},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./modal-content.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modal/modal-content/index.js"}],[4260,{"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=(r=e("prop-types"))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}class s extends o.PureComponent{render(){const{title:e,description:t}=this.props;return o.default.createElement("div",{className:"modal-content"},e?o.default.createElement("div",{className:"modal-content__title"},e):null,t&&o.default.createElement("div",{className:"modal-content__description"},t))}}n.default=s,function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(s,"propTypes",{title:a.default.string,description:a.default.string})}}},{package:"$root$",file:"ui/components/app/modal/modal-content/modal-content.component.js"}],[4261,{"../../ui/button":4756,classnames:2655,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=s(e("prop-types")),a=s(e("classnames")),i=s(e("../../ui/button"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{render(){const{children:e,headerText:t,onClose:n,onSubmit:o,submitType:s,submitText:l,submitDisabled:c,onCancel:u,cancelType:d,cancelText:p,contentClass:f,containerClass:m,hideFooter:h,testId:g}=this.props;return r.default.createElement("div",{className:(0,a.default)("modal-container",m),"data-testid":g},t&&r.default.createElement("div",{className:"modal-container__header"},r.default.createElement("div",{className:"modal-container__header-text"},t),r.default.createElement("div",{className:"modal-container__header-close","data-testid":"modal-header-close",onClick:n})),r.default.createElement("div",{className:(0,a.default)("modal-container__content",f)},e),h?null:r.default.createElement("div",{className:"modal-container__footer"},u&&r.default.createElement(i.default,{type:d,onClick:u,className:"modal-container__footer-button"},p),r.default.createElement(i.default,{type:s,onClick:o,disabled:c,className:"modal-container__footer-button"},l)))}}n.default=u,c(u,"propTypes",{children:o.default.node,contentClass:o.default.string,containerClass:o.default.string,testId:o.default.string,headerText:o.default.string,onClose:o.default.func,onSubmit:o.default.func,submitType:o.default.string,submitText:o.default.string,submitDisabled:o.default.bool,hideFooter:o.default.bool,onCancel:o.default.func,cancelType:o.default.string,cancelText:o.default.string}),c(u,"defaultProps",{submitType:"primary",cancelType:"secondary"})}}},{package:"$root$",file:"ui/components/app/modal/modal.component.js"}],[4262,{"../../modal":4258,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=l(e("react")),a=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.PureComponent{constructor(...e){super(...e),c(this,"handleDelete",(async()=>{await this.props.removeNetworkConfiguration(this.props.target),this.props.onConfirm(),this.props.hideModal()}))}render(){const{t:e}=this.context,{networkNickname:t}=this.props;return o.default.createElement(i.default,{onSubmit:this.handleDelete,onCancel:()=>this.props.hideModal(),submitText:e("delete"),cancelText:e("cancel"),submitType:"danger-primary",testId:"confirm-delete-network-modal"},o.default.createElement(i.ModalContent,{title:e("deleteNetworkTitle",[t]),description:e("deleteNetworkIntro")}))}}n.default=u,c(u,"propTypes",{hideModal:a.default.func.isRequired,removeNetworkConfiguration:a.default.func.isRequired,onConfirm:a.default.func.isRequired,target:a.default.string.isRequired,networkNickname:a.default.string.isRequired}),c(u,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.component.js"}],[4263,{"../../../../helpers/higher-order-components/with-modal-props":4933,"../../../../selectors":5513,"../../../../store/actions":5521,"./confirm-delete-network.component":4262,"react-redux":3811,redux:3876},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),o=e("redux"),a=c(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=e("../../../../selectors"),l=c(e("./confirm-delete-network.component"));function c(e){return e&&e.__esModule?e:{default:e}}n.default=(0,o.compose)(a.default,(0,r.connect)(((e,t)=>({networkNickname:(0,s.getNetworkConfigurations)(e)[t.target].nickname})),(e=>({removeNetworkConfiguration:t=>e((0,i.removeNetworkConfiguration)(t))}))))(l.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.container.js"}],[4264,{"./confirm-delete-network.container":4263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./confirm-delete-network.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/index.js"}],[4265,{"../../../../../shared/constants/metametrics":4130,"../../../../helpers/constants/zendesk-url":4925,"../../../../helpers/utils/util":4957,"../../../ui/identicon":4806,"../../modal":4258,"@metamask/etherscan-link":1214,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=d(e("prop-types")),a=e("@metamask/etherscan-link"),i=d(e("../../modal")),s=e("../../../../helpers/utils/util"),l=d(e("../../../ui/identicon")),c=e("../../../../../shared/constants/metametrics"),u=d(e("../../../../helpers/constants/zendesk-url"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{constructor(...e){super(...e),f(this,"handleRemove",(()=>{this.props.removeAccount(this.props.identity.address).then((()=>this.props.hideModal()))})),f(this,"handleCancel",(()=>{this.props.hideModal()}))}renderSelectedAccount(){const{t:e}=this.context,{identity:t,rpcPrefs:n,chainId:o}=this.props;return r.default.createElement("div",{className:"confirm-remove-account__account"},r.default.createElement("div",{className:"confirm-remove-account__account__identicon"},r.default.createElement(l.default,{address:t.address,diameter:32})),r.default.createElement("div",{className:"confirm-remove-account__account__name"},r.default.createElement("span",{className:"confirm-remove-account__account__label"},e("name")),r.default.createElement("span",{className:"account_value"},t.metadata.name)),r.default.createElement("div",{className:"confirm-remove-account__account__address"},r.default.createElement("span",{className:"confirm-remove-account__account__label"},e("publicAddress")),r.default.createElement("span",{className:"account_value"},(0,s.addressSummary)(t.address,4,4))),r.default.createElement("div",{className:"confirm-remove-account__account__link"},r.default.createElement("a",{onClick:()=>{const e=(0,a.getAccountLink)(t.address,o,n);this.context.trackEvent({category:c.MetaMetricsEventCategory.Accounts,event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Remove Account",block_explorer_domain:(0,s.getURLHostName)(e)}}),global.platform.openTab({url:e})},target:"_blank",rel:"noopener noreferrer",title:e("etherscanView")},r.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-muted)"},title:e("etherscanView")}))))}render(){const{t:e}=this.context;return r.default.createElement(i.default,{headerText:`${e("removeAccount")}?`,onClose:this.handleCancel,onSubmit:this.handleRemove,onCancel:this.handleCancel,submitText:e("remove"),cancelText:e("nevermind")},r.default.createElement("div",null,this.renderSelectedAccount(),r.default.createElement("div",{className:"confirm-remove-account__description"},e("removeAccountDescription"),r.default.createElement("a",{className:"confirm-remove-account__link",rel:"noopener noreferrer",target:"_blank",href:u.default.IMPORTED_ACCOUNTS},e("learnMore")))))}}n.default=m,f(m,"propTypes",{hideModal:o.default.func.isRequired,removeAccount:o.default.func.isRequired,identity:o.default.shape({id:o.default.string.isRequired,address:o.default.string.isRequired,metadata:o.default.shape({name:o.default.string.isRequired,snap:o.default.shape({id:o.default.string.isRequired,name:o.default.string,enabled:o.default.bool}),keyring:o.default.shape({type:o.default.string.isRequired}).isRequired}).isRequired}).isRequired,chainId:o.default.string.isRequired,rpcPrefs:o.default.object.isRequired}),f(m,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.component.js"}],[4266,{"../../../../helpers/higher-order-components/with-modal-props":4933,"../../../../selectors":5513,"../../../../store/actions":5521,"./confirm-remove-account.component":4265,"react-redux":3811,redux:3876},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),o=e("redux"),a=c(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=e("../../../../store/actions"),l=c(e("./confirm-remove-account.component"));function c(e){return e&&e.__esModule?e:{default:e}}n.default=(0,o.compose)(a.default,(0,r.connect)((e=>({chainId:(0,i.getCurrentChainId)(e),rpcPrefs:(0,i.getRpcPrefsForCurrentProvider)(e)})),(e=>({removeAccount:t=>e((0,s.removeAccount)(t))}))))(l.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.container.js"}],[4267,{"./confirm-remove-account.container":4266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./confirm-remove-account.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/index.js"}],[4268,{"../../modal":4258,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=l(e("react")),a=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.PureComponent{constructor(...e){super(...e),c(this,"handleReset",(()=>{this.props.resetAccount().then((()=>this.props.hideModal()))}))}render(){const{t:e}=this.context;return o.default.createElement(i.default,{onSubmit:this.handleReset,onCancel:()=>this.props.hideModal(),submitText:e("clear"),cancelText:e("nevermind"),submitType:"danger-primary"},o.default.createElement(i.ModalContent,{title:`${e("clearActivity")}?`,description:e("clearActivityDescription")}))}}n.default=u,c(u,"propTypes",{hideModal:a.default.func.isRequired,resetAccount:a.default.func.isRequired}),c(u,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.component.js"}],[4269,{"../../../../helpers/higher-order-components/with-modal-props":4933,"../../../../store/actions":5521,"./confirm-reset-account.component":4268,"react-redux":3811,redux:3876},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),o=e("redux"),a=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-reset-account.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=(0,o.compose)(a.default,(0,r.connect)(null,(e=>({resetAccount:()=>e((0,i.resetAccount)())}))))(s.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.container.js"}],[4270,{"./confirm-reset-account.container":4269},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./confirm-reset-account.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/index.js"}],[4271,{"../../../../../shared/modules/string-utils":4177,"../../../../ducks/metamask/metamask":4906,"../../../../helpers/constants/design-system":4914,"../../../../helpers/constants/routes":4918,"../../../../helpers/higher-order-components/with-modal-props":4933,"../../../../hooks/useI18nContext":4976,"../../../../store/actions":5521,"../../../ui/typography":4879,"../../modal":4258,"prop-types":3633,react:3846,"react-redux":3811,"react-router-dom":3831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=g(e("react")),o=g(e("prop-types")),a=e("react-router-dom"),i=e("react-redux"),s=g(e("../../modal")),l=g(e("../../../ui/typography")),c=e("../../../../helpers/constants/design-system"),u=g(e("../../../../helpers/higher-order-components/with-modal-props")),d=e("../../../../hooks/useI18nContext"),p=e("../../../../helpers/constants/routes"),f=e("../../../../ducks/metamask/metamask"),m=e("../../../../store/actions"),h=e("../../../../../shared/modules/string-utils");function g(e){return e&&e.__esModule?e:{default:e}}const y=({hideModal:e,tokenAddress:t})=>{const n=(0,a.useHistory)(),o=(0,d.useI18nContext)(),u=(0,i.useDispatch)(),g=(0,i.useSelector)(f.getNfts).find((({address:e})=>(0,h.isEqualCaseInsensitive)(e,t)));return r.default.createElement(s.default,{onSubmit:async()=>{if(g){await u((0,m.ignoreTokens)({tokensToIgnore:t,dontShowLoadingIndicator:!0}));const{tokenId:e}=g;n.push({pathname:`${p.ASSET_ROUTE}/${t}/${e}`})}else u((0,m.showImportNftsModal)({tokenAddress:t,ignoreErc20Token:!0}));e()},submitText:o("yes"),onCancel:()=>e(),cancelText:o("cancel")},r.default.createElement("div",{className:"convert-token-to-nft-modal"},r.default.createElement(l.default,{variant:c.TypographyVariant.H6,boxProps:{marginTop:2}},o(g?"convertTokenToNFTExistDescription":"convertTokenToNFTDescription"))))};y.propTypes={hideModal:o.default.func.isRequired,tokenAddress:o.default.string};n.default=(0,u.default)(y)}}},{package:"$root$",file:"ui/components/app/modals/convert-token-to-nft-modal/convert-token-to-nft-modal.js"}],[4272,{"../../../../helpers/constants/design-system":4914,"../../../../helpers/constants/zendesk-url":4925,"../../../../helpers/higher-order-components/with-modal-props":4933,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"../../../ui/text-field":4864,"../../modal":4258,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=p(e("prop-types")),a=p(e("../../modal")),i=p(e("../../../ui/text-field")),s=e("../../../../helpers/constants/design-system"),l=p(e("../../../../helpers/higher-order-components/with-modal-props")),c=e("../../../../hooks/useI18nContext"),u=p(e("../../../../helpers/constants/zendesk-url")),d=e("../../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=({hideModal:e,customNonceValue:t,nextNonce:n,updateCustomNonce:o,getNextNonce:l})=>{const[p,f]=(0,r.useState)(""),m=(0,c.useI18nContext)();return r.default.createElement(a.default,{onSubmit:()=>{o(""===p?t:p),l(),e()},submitText:m("save"),onCancel:()=>e(),cancelText:m("cancel"),contentClass:"customize-nonce-modal-content",containerClass:"customize-nonce-modal-container"},r.default.createElement("div",{className:"customize-nonce-modal"},r.default.createElement("div",{className:"customize-nonce-modal__main-header"},r.default.createElement(d.Text,{className:"customize-nonce-modal__main-title",variant:s.TextVariant.headingSm,as:"h4"},m("editNonceField")),r.default.createElement(d.ButtonIcon,{iconName:d.IconName.Close,className:"customize-nonce-modal__close",size:d.ButtonIconSize.Sm,ariaLabel:m("close"),onClick:e})),r.default.createElement(d.Box,{marginTop:2,display:s.Display.InlineFlex,alignItems:s.AlignItems.center},r.default.createElement(d.Text,{variant:s.TextVariant.bodyMd,as:"h6"},m("editNonceMessage"),r.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__link",rel:"noopener noreferrer",target:"_blank",href:u.default.CUSTOMIZE_NONCE},m("learnMoreUpperCase")))),r.default.createElement(d.Box,{marginTop:4},r.default.createElement(d.Box,{alignItems:s.AlignItems.center,display:s.Display.Flex},r.default.createElement(d.Text,{variant:s.TextVariant.bodyMdBold,as:"h6",width:s.BlockSize.FiveSixths},m("editNonceField")),r.default.createElement(d.Box,{width:s.BlockSize.OneSixth},r.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__reset","data-testid":"customize-nonce-reset",onClick:()=>{f(n)}},m("reset")))),r.default.createElement("div",{className:"customize-nonce-modal__input"},r.default.createElement(i.default,{type:"number","data-testid":"custom-nonce-input",min:"0",placeholder:t||"number"==typeof n&&n.toString(),onChange:e=>{f(e.target.value)},fullWidth:!0,margin:"dense",value:p,id:"custom-nonce-id"})))))};m.propTypes={hideModal:o.default.func.isRequired,customNonceValue:o.default.string,nextNonce:o.default.number,updateCustomNonce:o.default.func,getNextNonce:o.default.func};n.default=(0,l.default)(m)}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/customize-nonce.component.js"}],[4273,{"./customize-nonce.component":4272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./customize-nonce.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/index.js"}],[4274,{"../../../../../shared/lib/transactions-controller-utils":4152,"../../../component-library":4543,"../../../ui/identicon":4806,"../../../ui/text-field":4864,"../../modal":4258,"bignumber.js":2539,classnames:2655,loglevel:3483,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=f(e("prop-types")),a=f(e("loglevel")),i=f(e("classnames")),s=f(e("bignumber.js")),l=f(e("../../modal")),c=f(e("../../../ui/identicon")),u=f(e("../../../ui/text-field")),d=e("../../../../../shared/lib/transactions-controller-utils"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=new s.default(2).pow(256).minus(1).toString(10);class y extends r.PureComponent{constructor(...e){super(...e),h(this,"state",{customSpendLimit:this.props.customTokenAmount||"",selectedOptionIsUnlimited:!this.props.customTokenAmount})}renderModalContent(e){const{t:t}=this.context,{hideModal:n,selectedAccount:o,tokenAmount:a,tokenSymbol:l,tokenBalance:f,customTokenAmount:m,origin:h}=this.props,{name:y,address:b}=o||{},{selectedOptionIsUnlimited:v}=this.state;return r.default.createElement("div",{className:"edit-approval-permission"},r.default.createElement("div",{className:"edit-approval-permission__header"},r.default.createElement("div",{className:"edit-approval-permission__title"},t("editPermission")),r.default.createElement(p.ButtonIcon,{iconName:p.IconName.Close,size:p.ButtonIconSize.Lg,className:"edit-approval-permission__header__close",onClick:n})),r.default.createElement("div",{className:"edit-approval-permission__account-info"},r.default.createElement("div",{className:"edit-approval-permission__account-info__account"},r.default.createElement(c.default,{address:b,diameter:32}),r.default.createElement("div",{className:"edit-approval-permission__name-and-balance-container"},r.default.createElement("div",{className:"edit-approval-permission__account-info__name"},y),r.default.createElement("div",null,t("balance")))),r.default.createElement("div",{className:"edit-approval-permission__account-info__balance"},`${(0,d.toPrecisionWithoutTrailingZeros)(f,9)} ${l}`)),r.default.createElement("div",{className:"edit-approval-permission__edit-section"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__title"},t("spendLimitPermission")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__description"},t("allowWithdrawAndSpend",[h])),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!0})},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":!v,"edit-approval-permission__edit-section__radio-button-outline--selected":v})}),r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),v&&r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":!v,"edit-approval-permission__edit-section__option-label--selected":v})},new s.default(a).equals(new s.default(g))?t("unlimited"):t("proposedApprovalLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("spendLimitRequestedBy",[h])),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-value"},`${Number(a)} ${l}`))),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!1})},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":v,"edit-approval-permission__edit-section__radio-button-outline--selected":!v})}),r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),!v&&r.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},r.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":v,"edit-approval-permission__edit-section__option-label--selected":!v})},t("customSpendLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("enterMaxSpendLimit")),r.default.createElement("div",{className:"edit-approval-permission__edit-section__option-input"},r.default.createElement(u.default,{type:"number",placeholder:`${Number(m||a)} ${l}`,onChange:e=>{this.setState({customSpendLimit:e.target.value}),v&&this.setState({selectedOptionIsUnlimited:!1})},fullWidth:!0,margin:"dense",value:this.state.customSpendLimit,error:e}))))))}validateSpendLimit(){const{t:e}=this.context,{decimals:t,requiredMinimum:n}=this.props,{selectedOptionIsUnlimited:r,customSpendLimit:o}=this.state;if(r||!o)return undefined;let i;try{i=new s.default(o)}catch(t){return a.default.debug(`Error converting '${o}' to BigNumber:`,t),e("spendLimitInvalid")}if(i.isNegative())return e("spendLimitInvalid");const l=(0,d.calcTokenAmount)(g,t);return i.greaterThan(l)?e("spendLimitTooLarge"):n!==undefined&&i.lessThan(n)?e("spendLimitInsufficient"):undefined}render(){const{t:e}=this.context,{setCustomAmount:t,hideModal:n,customTokenAmount:o}=this.props,{selectedOptionIsUnlimited:a,customSpendLimit:i}=this.state,s=this.validateSpendLimit(),c=Boolean(i===o&&!a||s);return r.default.createElement(l.default,{onSubmit:()=>{t(a?"":i),n()},submitText:e("save"),contentClass:"edit-approval-permission-modal-content",containerClass:"edit-approval-permission-modal-container",submitDisabled:c},this.renderModalContent(s))}}n.default=y,h(y,"propTypes",{decimals:o.default.number,hideModal:o.default.func.isRequired,selectedAccount:o.default.object,tokenAmount:o.default.string,customTokenAmount:o.default.string,tokenSymbol:o.default.string,tokenBalance:o.default.string,setCustomAmount:o.default.func,origin:o.default.string.isRequired,requiredMinimum:o.default.instanceOf(s.default)}),h(y,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.component.js"}],[4275,{"../../../../helpers/higher-order-components/with-modal-props":4933,"../../../../selectors":5513,"./edit-approval-permission.component":4274,"react-redux":3811,redux:3876},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),o=e("redux"),a=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=l(e("./edit-approval-permission.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=(0,o.compose)(a.default,(0,r.connect)((e=>{const t=e.appState.modal.modalState.props||{};return{selectedAccount:(0,i.getSelectedInternalAccount)(e),...t}})))(s.default)}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.container.js"}],[4276,{"./edit-approval-permission.container":4275},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./edit-approval-permission.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/index.js"}],[4277,{"../../../../../shared/constants/metametrics":4130,"../../../../contexts/metametrics":4888,"../../../../helpers/constants/design-system":4914,"../../../../helpers/higher-order-components/with-modal-props":4933,"../../../../hooks/useI18nContext":4976,"../../../../selectors":5513,"../../../../store/actions":5521,"../../../component-library":4543,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=m(e("prop-types")),a=e("react-redux"),i=m(e("../../../../helpers/higher-order-components/with-modal-props")),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),u=e("../../../../store/actions"),d=e("../../../../selectors"),p=e("../../../../../shared/constants/metametrics"),f=e("../../../../contexts/metametrics");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({hideModal:e})=>{const[t,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)(!1),[m,h]=(0,r.useState)(""),g=(0,a.useSelector)(d.getDisabledRpcMethodPreferences),y=(0,c.useI18nContext)(),b=(0,a.useDispatch)(),v=(0,r.useContext)(f.MetaMetricsContext),_=m===y("toggleEthSignModalFormValidation");return r.default.createElement(s.Box,{className:"eth-sign-modal",display:l.Display.Flex,flexDirection:l.FlexDirection.Column,justifyContent:l.JustifyContent.flexStart,padding:4},r.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,marginBottom:4,justifyContent:l.JustifyContent.center},r.default.createElement(s.Icon,{className:"eth-sign-modal__warning-icon",name:s.IconName.Danger,color:l.IconColor.errorDefault,size:s.IconSize.Lg}),r.default.createElement(s.ButtonIcon,{className:"eth-sign-modal__close",iconName:s.IconName.Close,size:l.Size.SM,onClick:()=>e(),ariaLabel:y("close")})),r.default.createElement(s.Text,{variant:l.TextVariant.headingMd,textAlign:l.TextAlign.Center,marginBottom:6},y("toggleEthSignModalTitle")),r.default.createElement(s.Text,{variant:l.TextVariant.bodyMd},y("toggleEthSignModalDescription"),r.default.createElement(s.ButtonLink,{href:"https://support.metamask.io/hc/en-us/articles/14764161421467",externalLink:!0},y("learnMoreUpperCase"))),r.default.createElement(s.BannerAlert,{severity:l.Severity.Danger,marginTop:6,marginBottom:6},y("toggleEthSignModalBannerText"),y("toggleEthSignModalBannerBoldText")),o?r.default.createElement(s.FormTextField,{id:"enter-eth-sign-text",label:y("toggleEthSignModalFormLabel"),error:m.length>0&&!_,helpText:m.length>0&&!_&&y("toggleEthSignModalFormError"),onChange:e=>h(e.target.value),value:m,onPaste:e=>e.preventDefault()}):r.default.createElement(s.Box,{flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.flexStart,gap:2},r.default.createElement(s.Checkbox,{id:"eth-sign-checkbox",className:"eth-sign__checkbox","data-testid":"eth-sign-checkbox",isChecked:t,onChange:()=>{n(!t)},label:y("toggleEthSignModalCheckBox")})),r.default.createElement(s.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,gap:4,marginTop:6},r.default.createElement(s.ButtonSecondary,{onClick:()=>e(),size:s.ButtonSecondarySize.Lg,block:!0},y("cancel")),o?r.default.createElement(s.ButtonPrimary,{danger:!0,block:!0,disabled:!_,onClick:()=>{b((0,u.setDisabledRpcMethodPreference)("eth_sign",!g.eth_sign)),e()},size:l.Size.LG},y("enableSnap")):r.default.createElement(s.ButtonPrimary,{block:!0,disabled:!t,size:l.Size.LG,onClick:()=>{i(!0),v({category:p.MetaMetricsEventCategory.Settings,event:p.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{location:"Settings",enable_eth_sign:!0}})}},y("continue"))))};g.propTypes={hideModal:o.default.func};n.default=(0,i.default)(g)}}},{package:"$root$",file:"ui/components/app/modals/eth-sign-modal/eth-sign-modal.js"}],[4278,{"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=(r=e("prop-types"))&&r.__esModule?r:{default:r};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l,c=0;const u=e=>{const t=`anim_${++c}${Number(new Date)}`;let n=`@keyframes ${t} {`;return Object.keys(e).forEach((t=>{n+=`${t} {`,Object.keys(e[t]).forEach((r=>{const o=`:${e[t][r]};`;n+=r+o})),n+="}"})),n+="}",(e=>{l||(l=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(l),l=l.sheet||l.styleSheet),l.insertRule(e,(l.cssRules||l.rules).length)})(n),t},d={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:u({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:u({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:u({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:u({"0%":{opacity:.9},"100%":{opacity:0}})},p=["transitionend","animationend"];class f extends o.Component{constructor(...e){super(...e),s(this,"content",null),s(this,"state",{willHide:!0,hidden:!0}),s(this,"addTransitionListener",((e,t)=>{if(e){const n=function(r){r&&r.target!==e||(((e,t)=>{0!==p.length&&p.forEach((function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)}))})(e,n),t())};((e,t)=>{0!==p.length?p.forEach((function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)})):window.setTimeout(t,0)})(e,n)}})),s(this,"handleBackdropClick",(()=>{this.props.closeOnClick&&this.hide()})),s(this,"hasHidden",(()=>this.state.hidden)),s(this,"leave",(()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)})),s(this,"enter",(()=>{this.props.onShow()})),s(this,"show",(()=>{this.state.hidden&&(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))})),s(this,"hide",(()=>{this.hasHidden()||this.setState({willHide:!0})})),s(this,"listenKeyboard",(e=>{"function"==typeof this.props.keyboard?this.props.keyboard(e):this.closeOnEsc(e)})),s(this,"closeOnEsc",(e=>{!this.props.keyboard||"Escape"!==e.key&&27!==e.keyCode||this.hide()})),s(this,"UNSAFE_componentDidMount",(()=>{window.addEventListener("keydown",this.listenKeyboard,!0)})),s(this,"UNSAFE_componentWillUnmount",(()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)}))}render(){if(this.state.hidden)return null;const{willHide:e}=this.state,{modalStyle:t,testId:n}=this.props,r={animationName:e?d.hideBackdropAnimation:d.showBackdropAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.backdropStyle},a={animationDuration:(e?d.hide:d.show).animationDuration,animationName:e?d.hideContentAnimation:d.showContentAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.contentStyle},i=this.props.backdrop?o.default.createElement("div",{className:"modal__backdrop",style:r,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):undefined;return e&&this.addTransitionListener(this.content,this.leave),o.default.createElement("span",null,o.default.createElement("div",{className:"modal",style:t,"data-testid":n},o.default.createElement("div",{className:"modal__content",ref:e=>this.content=e,tabIndex:"-1",style:a},this.props.children)),i)}}s(f,"propTypes",{backdrop:a.default.bool,backdropStyle:a.default.object,closeOnClick:a.default.bool,contentStyle:a.default.object,keyboard:a.default.bool,modalStyle:a.default.object,onShow:a.default.func,onHide:a.default.func,children:a.default.node,testId:a.default.string}),s(f,"defaultProps",{testId:"",onShow:()=>undefined,onHide:()=>undefined,keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});n.default=f}}},{package:"$root$",file:"ui/components/app/modals/fade-modal.js"}],[4279,{"../../../../helpers/constants/routes":4918,"../../../../store/actions":5521,"../../../ui/button":4756,"../../../ui/identicon":4806,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=p(e("prop-types")),o=d(e("react")),a=e("react-redux"),i=d(e("../../../../store/actions")),s=p(e("../../../ui/identicon")),l=p(e("../../../ui/button")),c=e("../../../../helpers/constants/routes");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.Component{constructor(...e){super(...e),f(this,"state",{})}render(){const{token:e,hideToken:t,hideModal:n,history:r}=this.props,{symbol:a,address:i,image:u}=e;return o.default.createElement("div",{className:"hide-token-confirmation__container"},o.default.createElement("div",{className:"hide-token-confirmation__title"},this.context.t("hideTokenPrompt")),o.default.createElement(s.default,{className:"hide-token-confirmation__identicon",diameter:45,address:i,image:u}),o.default.createElement("div",{className:"hide-token-confirmation__symbol"},a),o.default.createElement("div",{className:"hide-token-confirmation__copy"},this.context.t("readdToken")),o.default.createElement("div",{className:"hide-token-confirmation__buttons"},o.default.createElement(l.default,{type:"secondary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__cancel",onClick:()=>n()},this.context.t("cancel")),o.default.createElement(l.default,{type:"primary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__hide",onClick:()=>{t(i),r.push(c.DEFAULT_ROUTE)}},this.context.t("hide"))))}}f(m,"contextTypes",{t:r.default.func}),f(m,"propTypes",{hideToken:r.default.func.isRequired,hideModal:r.default.func.isRequired,token:r.default.shape({symbol:r.default.string,address:r.default.string,image:r.default.string}),history:r.default.object});n.default=(0,a.connect)((function(e){return{token:e.appState.modal.modalState.props.token,history:e.appState.modal.modalState.props.history}}),(function(e){return{hideModal:()=>e(i.hideModal()),hideToken:t=>{e(i.ignoreTokens({tokensToIgnore:t})).then((()=>{e(i.hideModal())}))}}}))(m)}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/hide-token-confirmation-modal.js"}],[4280,{"./hide-token-confirmation-modal":4279},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./hide-token-confirmation-modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/index.js"}],[4281,{"../../../../helpers/constants/design-system":4914,"../../../../helpers/constants/zendesk-url":4925,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"../../hold-to-reveal-button/hold-to-reveal-button":4237,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({isOpen:e,onClose:t,onLongPressed:n,holdToRevealType:c}){const u=(0,i.useI18nContext)(),d="SRP"===c?"holdToRevealSRPTitle":"holdToRevealPrivateKeyTitle",p="SRP"===c?"holdToRevealSRP":"holdToRevealPrivateKey",f="SRP"===c?"holdToRevealContent":"holdToRevealContentPrivateKey",m=`${f}1`,h=`${f}2`;u("holdToRevealContentPrivateKey1"),u("holdToRevealContentPrivateKey2"),u("holdToRevealContent1"),u("holdToRevealContent2");const g=()=>r.default.createElement(s.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,gap:4,marginTop:4,marginBottom:6},r.default.createElement(s.Text,{variant:o.TextVariant.bodyMd},u(m,[r.default.createElement(s.Text,{key:"hold-to-reveal-2",variant:o.TextVariant.bodyMdBold,as:"span"},u(h))])),r.default.createElement(s.Text,{variant:o.TextVariant.bodyMdBold},u("holdToRevealContent3",[r.default.createElement(s.Text,{key:"hold-to-reveal-4",variant:o.TextVariant.bodyMd,as:"span",display:o.Display.Inline},u("holdToRevealContent4")),r.default.createElement(s.Button,{key:"hold-to-reveal-5",variant:s.ButtonVariant.Link,size:s.ButtonSize.Inherit,href:a.default.NON_CUSTODIAL_WALLET,externalLink:!0},u("holdToRevealContent5"))])));return r.default.createElement(s.Modal,{isOpen:e,onClose:t},r.default.createElement(s.ModalOverlay,null),r.default.createElement(s.ModalContent,null,r.default.createElement(s.ModalHeader,{onClose:t},u(d)),r.default.createElement(s.Container,{paddingLeft:4,paddingRight:4},r.default.createElement(g,null),r.default.createElement(l.default,{buttonText:u(p),onLongPressed:n}))))};var r=c(e("react")),o=e("../../../../helpers/constants/design-system"),a=c(e("../../../../helpers/constants/zendesk-url")),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),l=c(e("../../hold-to-reveal-button/hold-to-reveal-button"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.tsx"}],[4282,{"./modal":4285},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/index.js"}],[4283,{"./keyring-snap-removal-result-modal":4284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./keyring-snap-removal-result-modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/keyring-snap-removal-modal/index.ts"}],[4284,{"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../../selectors":5513,"../../../component-library":4543,"../../../component-library/modal-content/deprecated":4551,"../../../component-library/modal-header/deprecated":4560,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("react-redux"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../component-library/modal-content/deprecated"),c=e("../../../component-library/modal-header/deprecated"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../selectors");n.default=({isOpen:e,onClose:t})=>{const n=(0,u.useI18nContext)(),r=(0,a.useSelector)(d.getKeyringSnapRemovalResult);return o.default.createElement(o.default.Fragment,null,o.default.createElement(s.Modal,{isOpen:e,onClose:()=>t()},o.default.createElement(s.ModalOverlay,null),o.default.createElement(l.ModalContent,{modalDialogProps:{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4}},o.default.createElement(c.ModalHeader,{onClose:t},""),o.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},o.default.createElement(s.Icon,{name:"success"===r.result?s.IconName.Confirmation:s.IconName.Danger,color:"success"===r.result?i.IconColor.successDefault:i.IconColor.errorDefault,size:s.IconSize.Xl,marginBottom:4}),o.default.createElement(s.Text,{variant:i.TextVariant.bodyMdBold,textAlign:i.TextAlign.Center},n("keyringSnapRemovalResult1",[r.snapName,"failed"===r.result?n("keyringSnapRemovalResultNotSuccessful"):""]))))))}}}},{package:"$root$",file:"ui/components/app/modals/keyring-snap-removal-modal/keyring-snap-removal-result-modal.tsx"}],[4285,{"../../../../app/scripts/lib/util":92,"../../../../shared/constants/app":4120,"../../../helpers/utils/is-mobile-view":4945,"../../../pages/onboarding-flow/add-network-modal":5322,"../../../store/actions":5521,"./confirm-delete-network":4264,"./confirm-remove-account":4267,"./confirm-reset-account":4270,"./convert-token-to-nft-modal/convert-token-to-nft-modal":4271,"./customize-nonce":4273,"./edit-approval-permission":4276,"./eth-sign-modal/eth-sign-modal":4277,"./fade-modal":4278,"./hide-token-confirmation-modal":4280,"./new-account-modal":4286,"./qr-scanner":4291,"./reject-transactions":4294,"./transaction-already-confirmed":4297,"./transaction-confirmed":4299,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=O(e("prop-types")),o=C(e("react")),a=e("react-redux"),i=e("../../../../app/scripts/lib/util"),s=e("../../../../shared/constants/app"),l=O(e("../../../helpers/utils/is-mobile-view")),c=C(e("../../../store/actions")),u=O(e("../../../pages/onboarding-flow/add-network-modal")),d=O(e("./hide-token-confirmation-modal")),p=O(e("./qr-scanner")),f=O(e("./confirm-remove-account")),m=O(e("./confirm-reset-account")),h=O(e("./transaction-confirmed")),g=O(e("./confirm-delete-network")),y=O(e("./convert-token-to-nft-modal/convert-token-to-nft-modal")),b=O(e("./customize-nonce")),v=O(e("./edit-approval-permission")),_=O(e("./eth-sign-modal/eth-sign-modal")),k=O(e("./fade-modal")),w=O(e("./new-account-modal")),x=O(e("./reject-transactions")),T=O(e("./transaction-already-confirmed"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function O(e){return e&&e.__esModule?e:{default:e}}const M={transform:"translate3d(-50%, 0, 0px)",border:"1px solid var(--color-border-default)",borderRadius:"8px",backgroundColor:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"},S={...M,width:"344px",top:"15%"},j={...M,width:"309px",top:"12.5%"},P={ONBOARDING_ADD_NETWORK:{contents:o.default.createElement(u.default,null),testId:"add-network-modal",mobileModalStyle:{width:"95%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"335px",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},contentStyle:{borderRadius:"4px"}},NEW_ACCOUNT:{contents:o.default.createElement(w.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},HIDE_TOKEN_CONFIRMATION:{contents:o.default.createElement(d.default,null),testId:"hide-token-confirmation-modal",mobileModalStyle:{width:"95%",top:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"52vh":"36.5vh"},laptopModalStyle:{width:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"357px":"449px",top:"calc(33% + 45px)",paddingLeft:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null,paddingRight:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null}},CONFIRM_RESET_ACCOUNT:{contents:o.default.createElement(m.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},ETH_SIGN:{contents:o.default.createElement(_.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},CONFIRM_REMOVE_ACCOUNT:{contents:o.default.createElement(f.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},CONVERT_TOKEN_TO_NFT:{contents:o.default.createElement(y.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_NETWORK:{contents:o.default.createElement(g.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},EDIT_APPROVAL_PERMISSION:{contents:o.default.createElement(v.default,null),mobileModalStyle:{width:"95vw",height:"100vh",top:"50px",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},TRANSACTION_CONFIRMED:{disableBackdropClick:!0,contents:o.default.createElement(h.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},TRANSACTION_ALREADY_CONFIRMED:{disableBackdropClick:!0,contents:o.default.createElement(T.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S}},QR_SCANNER:{contents:o.default.createElement(p.default,null),testId:"qr-scanner-modal",mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},REJECT_TRANSACTIONS:{contents:o.default.createElement(x.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},CUSTOMIZE_NONCE:{contents:o.default.createElement(b.default,null),mobileModalStyle:{...j},laptopModalStyle:{...S},contentStyle:{borderRadius:"8px"}},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},I={backgroundColor:"var(--color-overlay-default)"};class N extends o.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(e,t){e.active?this.show():this.props.active&&this.hide()}render(){const e=P[this.props.modalState.name||"DEFAULT"],{contents:t,disableBackdropClick:n=!1,testId:r}=e,a=e[(0,l.default)()?"mobileModalStyle":"laptopModalStyle"],i=e.contentStyle||{};return o.default.createElement(k.default,{keyboard:!1,onHide:()=>{e.onHide&&e.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(e.customOnHideOpts)},ref:e=>{this.modalRef=e},modalStyle:a,contentStyle:i,backdropStyle:I,closeOnClick:!n,testId:r},t)}}var D,R,A;D=N,R="propTypes",A={active:r.default.bool.isRequired,hideModal:r.default.func.isRequired,hideWarning:r.default.func.isRequired,modalState:r.default.object.isRequired},(R=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(R))in D?Object.defineProperty(D,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):D[R]=A;n.default=(0,a.connect)((function(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}}),(function(e){return{hideModal:t=>{e(c.hideModal()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(c.hideWarning())}}}))(N)}}},{package:"$root$",file:"ui/components/app/modals/modal.js"}],[4286,{"./new-account-modal.container":4288},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./new-account-modal.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/index.js"}],[4287,{"../../../component-library":4543,"../../../ui/button/button.component":4755,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=s(e("prop-types")),a=s(e("../../../ui/button/button.component")),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.Component{constructor(...e){super(...e),c(this,"state",{alias:this.context.t("newAccountNumberName",[this.props.newAccountNumber])}),c(this,"onChange",(e=>{this.setState({alias:e.target.value})})),c(this,"onSubmit",(()=>{this.props.onSave(this.state.alias).then(this.props.hideModal)})),c(this,"onKeyPress",(e=>{"Enter"===e.key&&this.state.alias&&this.onSubmit()}))}render(){const{t:e}=this.context;return r.default.createElement("div",{className:"new-account-modal"},r.default.createElement("div",{className:"new-account-modal__content"},r.default.createElement("div",{className:"new-account-modal__content__header"},e("newAccount"),r.default.createElement(i.ButtonIcon,{className:"new-account-modal__content__header-close",ariaLabel:e("close"),onClick:this.props.hideModal,iconName:i.IconName.Close})),r.default.createElement("div",{className:"new-account-modal__input-label"},e("accountName")),r.default.createElement("input",{type:"text",className:"new-account-modal__input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:this.state.alias,autoFocus:!0})),r.default.createElement("div",{className:"new-account-modal__footer"},r.default.createElement(a.default,{type:"secondary",onClick:this.props.hideModal},e("cancel")),r.default.createElement(a.default,{type:"primary",onClick:this.onSubmit,disabled:!this.state.alias},e("save"))))}}n.default=u,c(u,"contextTypes",{t:o.default.func}),c(u,"propTypes",{hideModal:o.default.func.isRequired,newAccountNumber:o.default.number.isRequired,onSave:o.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.component.js"}],[4288,{"../../../../store/actions":5521,"./new-account-modal.component":4287,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=e("react-redux"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("../../../../store/actions")),i=(r=e("./new-account-modal.component"))&&r.__esModule?r:{default:r};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}n.default=(0,o.connect)((function(e){return{...e.appState.modal.modalState.props||{}}}),(function(e){return{hideModal:()=>e(a.hideModal()),createAccount:t=>e(a.addNewAccount()).then((n=>(t&&e(a.setAccountLabel(n,t)),n)))}}),(function(e,t){const{onCreateNewAccount:n}=e,{createAccount:r}=t;return{...e,...t,onSave:e=>r(e).then((e=>n(e)))}}))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.container.js"}],[4289,{"./nickname-popovers.component":4290},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./nickname-popovers.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/index.js"}],[4290,{"../../../../selectors":5513,"../../../../store/actions":5521,"../../../ui/nickname-popover":4831,"../../../ui/update-nickname-popover/update-nickname-popover":4883,"@metamask/etherscan-link":1214,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=d(e("prop-types")),i=e("@metamask/etherscan-link"),s=e("../../../../store/actions"),l=e("../../../../selectors"),c=d(e("../../../ui/nickname-popover")),u=d(e("../../../ui/update-nickname-popover/update-nickname-popover"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f="SHOW_NICKNAME_POPOVER",m="ADD_NICKNAME_POPOVER",h=({address:e,onClose:t})=>{const n=(0,o.useDispatch)(),[a,d]=(0,r.useState)(f),p=(0,o.useSelector)(l.getAddressBook),h=(0,o.useSelector)(l.getCurrentChainId),g=p.find((t=>t.address===e)),y=null==g?void 0:g.name,b=(0,o.useSelector)(l.getRpcPrefsForCurrentProvider),v=(0,i.getAccountLink)(e,h,{blockExplorerUrl:(null==b?void 0:b.blockExplorerUrl)??null},null);return a===m?r.default.createElement(u.default,{address:e,nickname:y||null,memo:(null==g?void 0:g.memo)||null,onClose:()=>d(f),onAdd:(e,t,r)=>n((0,s.addToAddressBook)(e,t,r))}):r.default.createElement(c.default,{address:e,nickname:y||null,onClose:t,onAdd:()=>d(m),explorerLink:v})};h.propTypes={address:a.default.string,onClose:a.default.func};n.default=h}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/nickname-popovers.component.js"}],[4291,{"./qr-scanner.container":4293},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("./qr-scanner.container"))&&r.__esModule?r:{default:r};n.default=o.default}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/index.js"}],[4292,{"../../../../../app/scripts/lib/util":92,"../../../../../shared/constants/app":4120,"../../../../../shared/constants/time":4141,"../../../../helpers/utils/util":4957,"../../../../helpers/utils/webcam-utils":4958,"../../../../hooks/useI18nContext":4976,"../../../../hooks/usePrevious":4985,"../../../ui/page-container/page-container-footer/page-container-footer.component":4837,"../../../ui/spinner":4856,"@zxing/browser":2260,loglevel:3483,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=g(e("prop-types")),a=g(e("loglevel")),i=e("@zxing/browser"),s=e("../../../../hooks/usePrevious"),l=e("../../../../hooks/useI18nContext"),c=e("../../../../../app/scripts/lib/util"),u=e("../../../../helpers/utils/util"),d=g(e("../../../../helpers/utils/webcam-utils")),p=g(e("../../../ui/page-container/page-container-footer/page-container-footer.component")),f=g(e("../../../ui/spinner")),m=e("../../../../../shared/constants/app"),h=e("../../../../../shared/constants/time");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const b={ACCESSING_CAMERA:"ACCESSING_CAMERA",NEED_TO_ALLOW_ACCESS:"NEED_TO_ALLOW_ACCESS",READY:"READY"},v=e=>{let t="unknown",n={};return e.split("ethereum:").length>1?(t="address",n={address:e.split("ethereum:")[1]}):"0x"===e.substring(0,2).toLowerCase()&&(t="address",n={address:e}),{type:t,values:n}};function _({hideModal:e,qrCodeDetected:t}){const n=(0,l.useI18nContext)(),[o,g]=(0,r.useState)(b.ACCESSING_CAMERA),y=(0,s.usePrevious)(o),[_,k]=(0,r.useState)(null),[w,x]=(0,r.useState)(!1),[T,E]=(0,r.useState)(null),[C,O]=(0,r.useState)(null),M=(0,r.useCallback)((async()=>{try{const{permissions:e}=await d.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*h.SECOND))),!w)return;g(b.READY)}else w&&O(setTimeout(this.checkPermissions,h.SECOND))}catch(e){w&&k({error:e})}}),[w]),S=(0,r.useCallback)((()=>{T&&(T.constructor.cleanVideoSource(),T.constructor.releaseAllStreams(),E(null))}),[T]),j=(0,r.useCallback)((()=>{T&&S(e),e()}),[T,e,S]),P=(0,r.useCallback)((async()=>{T||E(new i.BrowserQRCodeReader)}),[T]);(0,r.useEffect)((()=>{(async()=>{if(T)try{await M(),await T.constructor.listVideoInputDevices();const e=await T.decodeOnceFromVideoDevice(undefined,"video"),r=v(e.text);w&&("unknown"===r.type?k(new Error(n("unknownQrCode"))):(t(r),j()))}catch(e){if(w)return;"NotAllowedError"===e.name?(a.default.info(`Permission denied: '${e}'`),g(b.NEED_TO_ALLOW_ACCESS)):k(e)}})()}),[M,T,w,t,j,n]);const I=async()=>{try{const{environmentReady:e}=await d.default.checkStatus();if(!e&&(0,c.getEnvironmentType)()!==m.ENVIRONMENT_TYPE_FULLSCREEN){const e=(0,u.getURL)(window.location.href),t=null==e?void 0:e.hash,n=t?t.substring(1):null;global.platform.openExtensionInBrowser(n)}}catch(e){w&&k({error:e})}await P()};(0,r.useEffect)((()=>{x(!0),(async()=>{await I()})()}),[]),(0,r.useEffect)((()=>{(async()=>{y!==o&&(o===b.READY?await P():o===b.NEED_TO_ALLOW_ACCESS&&await M())})()}),[y,o,P,M]);const N=async()=>{clearTimeout(C),T&&S(),g(b.ACCESSING_CAMERA),k(null),await I()};return r.default.createElement("div",{className:"qr-scanner"},r.default.createElement("div",{className:"qr-scanner__close",onClick:j}),_?(()=>{let e,t;return"NO_WEBCAM_FOUND"===_.type?(e=n("noWebcamFoundTitle"),t=n("noWebcamFound")):_.message===n("unknownQrCode")?t=n("unknownQrCode"):(e=n("generalCameraErrorTitle"),t=n("generalCameraError")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__image"},r.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),e&&r.default.createElement("div",{className:"qr-scanner__title"},e),r.default.createElement("div",{className:"qr-scanner__error"},t),r.default.createElement(p.default,{onCancel:j,onSubmit:N,cancelText:n("cancel"),submitText:n("tryAgain")}))})():r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__title"},`${n("scanQrCode")}`),r.default.createElement("div",{className:"qr-scanner__content"},r.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},r.default.createElement("video",{id:"video",style:{display:o===b.READY?"block":"none"}}),o!==b.READY&&r.default.createElement(f.default,{color:"var(--color-warning-default)"}))),r.default.createElement("div",{className:"qr-scanner__status"},(e=>{let t;switch(e){case b.ACCESSING_CAMERA:t=n("accessingYourCamera");break;case b.READY:t=n("scanInstructions");break;case b.NEED_TO_ALLOW_ACCESS:t=n("youNeedToAllowCameraAccess");break;default:t=n("accessingYourCamera")}return t})(o))))}_.propTypes={hideModal:o.default.func.isRequired,qrCodeDetected:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.component.js"}],[4293,{"../../../../store/actions":5521,"./qr-scanner.component":4292,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=e("react-redux"),a=e("../../../../store/actions"),i=(r=e("./qr-scanner.component"))&&r.__esModule?r:{default:r};n.default=(0,o.connect)(null,(e=>({hideModal:()=>e((0,a.hideModal)()),qrCodeDetected:t=>e((0,a.qrCodeDetected)(t))})))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.container.js"}],[4294,{"./reject-transactions.container":4296},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./reject-transactions.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/index.js"}],[4295,{"../../modal":4258,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=s(e("../../modal"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.PureComponent{constructor(...e){super(...e),l(this,"onSubmit",(async()=>{const{onSubmit:e,hideModal:t}=this.props;await e(),t()}))}render(){const{t:e}=this.context,{hideModal:t,unapprovedTxCount:n,isRequestType:r}=this.props;return o.default.createElement(a.default,{headerText:e(r?"rejectRequestsN":"rejectTxsN",[n]),onClose:t,onSubmit:this.onSubmit,onCancel:t,submitText:e("rejectAll"),cancelText:e("cancel")},o.default.createElement("div",null,o.default.createElement("div",{className:"reject-transactions__description"},e(r?"rejectRequestsDescription":"rejectTxsDescription",[n]))))}}n.default=c,l(c,"contextTypes",{t:r.default.func.isRequired}),l(c,"propTypes",{onSubmit:r.default.func.isRequired,hideModal:r.default.func.isRequired,unapprovedTxCount:r.default.number.isRequired,isRequestType:r.default.bool})}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.component.js"}],[4296,{"../../../../helpers/higher-order-components/with-modal-props":4933,"./reject-transactions.component":4295,"react-redux":3811,redux:3876},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),o=e("redux"),a=s(e("../../../../helpers/higher-order-components/with-modal-props")),i=s(e("./reject-transactions.component"));function s(e){return e&&e.__esModule?e:{default:e}}n.default=(0,o.compose)(a.default,(0,r.connect)(((e,t)=>{const{unapprovedTxCount:n}=t;return{unapprovedTxCount:n}})))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.container.js"}],[4297,{"./transaction-already-confirmed":4298},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./transaction-already-confirmed"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/transaction-already-confirmed/index.ts"}],[4298,{"../../../../contexts/i18n":4887,"../../../../helpers/constants/design-system":4914,"../../../../hooks/useModalProps":4979,"../../../../selectors":5513,"../../../component-library":4543,"@metamask/etherscan-link":1214,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{hideModal:e,props:{originalTransactionId:t}}=(0,s.useModalProps)(),n=(0,r.useContext)(u.I18nContext),d=(0,o.useDispatch)(),p=(0,o.useSelector)((e=>(0,i.getTransaction)(e,t))),f=(0,o.useSelector)(i.getRpcPrefsForCurrentProvider);return r.default.createElement(l.Modal,{isOpen:!0,onClose:e},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,null,r.default.createElement(l.ModalHeader,{onClose:e},n("yourTransactionConfirmed")),r.default.createElement(l.ModalBody,null,r.default.createElement(l.Text,null,n("yourTransactionJustConfirmed"))),r.default.createElement(l.ModalFooter,{onSubmit:e,onCancel:()=>{const t=(0,a.getBlockExplorerLink)(p,f);global.platform.openTab({url:t}),d(e())},submitButtonProps:{children:n("gotIt")},cancelButtonProps:{children:n("viewOnBlockExplorer")},containerProps:{flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.stretch}})))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("@metamask/etherscan-link"),i=e("../../../../selectors"),s=e("../../../../hooks/useModalProps"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../contexts/i18n");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/modals/transaction-already-confirmed/transaction-already-confirmed.tsx"}],[4299,{"./transaction-confirmed.container":4301},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./transaction-confirmed.container"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/index.js"}],[4300,{"../../../../helpers/constants/design-system":4914,"../../../component-library":4543,"../../modal":4258,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=l(e("prop-types")),a=l(e("../../modal")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.PureComponent{constructor(...e){super(...e),u(this,"handleSubmit",(()=>{const{hideModal:e,onSubmit:t}=this.props;e(),t&&"function"==typeof t&&t()}))}render(){const{t:e}=this.context;return r.default.createElement(a.default,{onSubmit:this.handleSubmit,submitText:e("ok")},r.default.createElement("div",{className:"transaction-confirmed__content"},r.default.createElement(i.Icon,{name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Xl}),r.default.createElement("div",{className:"transaction-confirmed__title"},`${e("confirmed")}!`),r.default.createElement("div",{className:"transaction-confirmed__description"},e("initialTransactionConfirmed"))))}}n.default=d,u(d,"contextTypes",{t:o.default.func}),u(d,"propTypes",{onSubmit:o.default.func,hideModal:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.component.js"}],[4301,{"../../../../helpers/higher-order-components/with-modal-props":4933,"./transaction-confirmed.component":4300},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("../../../../helpers/higher-order-components/with-modal-props")),o=a(e("./transaction-confirmed.component"));function a(e){return e&&e.__esModule?e:{default:e}}n.default=(0,r.default)(o.default)}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.container.js"}],[4302,{"./multiple-notifications.component":4303},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./multiple-notifications.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/multiple-notifications/index.js"}],[4303,{classnames:2655,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=i(e("classnames")),a=i(e("prop-types"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{constructor(...e){super(...e),l(this,"state",{showAll:!1})}render(){const{showAll:e}=this.state,{children:t,classNames:n}=this.props,a=t.filter(Boolean);return 0===a.length?null:r.default.createElement("div",{className:(0,o.default)(...n,{"home-notification-wrapper--show-all":e,"home-notification-wrapper--show-first":!e,"home-notification-wrapper--multichain":Boolean("")})},a,r.default.createElement("div",{className:"home-notification-wrapper__i-container",onClick:()=>this.setState({showAll:!e})},a.length>1?r.default.createElement("i",{className:(0,o.default)("fa fa-sm fa-sort-amount",{flipped:!e})}):null))}}n.default=c,l(c,"defaultProps",{children:[],classNames:[]}),l(c,"propTypes",{children:a.default.array,classNames:a.default.array})}}},{package:"$root$",file:"ui/components/app/multiple-notifications/multiple-notifications.component.js"}],[4304,{"./name":4307},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./name"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/name/index.ts"}],[4305,{"../../../../../shared/constants/metametrics":4130,"../../../../contexts/metametrics":4888,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePetnamesMetrics=function({initialSources:e,name:t,proposedNameOptions:n,savedName:i,savedSourceId:s,selectedSourceId:l,type:c}){const u=(0,r.useContext)(o.MetaMetricsContext),d=(0,r.useCallback)(((e,t={})=>{const r=[...new Set(n.map((e=>e.sourceId)))],o={petname_category:c,suggested_names_sources:r,...t};u({event:e,category:a.MetaMetricsEventCategory.Petnames,properties:o})}),[u,c,n]),p=(0,r.useCallback)((()=>{const e=l??null,n=(null==i?void 0:i.length)&&!(null!=t&&t.length),r=(null==i?void 0:i.length)&&(null==t?void 0:t.length)&&t!==i,o=!(null!=i&&i.length)&&(null==t?void 0:t.length);let c=null,u={};n&&(c=a.MetaMetricsEventName.PetnameDeleted,u={petname_previous_source:s}),r&&(c=a.MetaMetricsEventName.PetnameUpdated,u={petname_previous_source:s,petname_source:e}),o&&(c=a.MetaMetricsEventName.PetnameCreated,u={petname_source:e}),c&&d(c,u)}),[d,t,l,i,s]);return{trackPetnamesOpenEvent:(0,r.useCallback)((()=>{d(a.MetaMetricsEventName.PetnameModalOpened,{has_petname:Boolean(null==i?void 0:i.length),suggested_names_sources:e})}),[d,i,e]),trackPetnamesSaveEvent:p}};var r=e("react"),o=e("../../../../contexts/metametrics"),a=e("../../../../../shared/constants/metametrics")}}},{package:"$root$",file:"ui/components/app/name/name-details/metrics.ts"}],[4306,{"../../../../helpers/constants/design-system":4914,"../../../../hooks/useCopyToClipboard":4967,"../../../../hooks/useDisplayName":4970,"../../../../hooks/useI18nContext":4976,"../../../../hooks/useName":4980,"../../../../selectors":5513,"../../../../store/actions":5521,"../../../component-library":4543,"../../../ui/form-combo-field/form-combo-field":4784,"../name":4307,"./metrics":4305,"@metamask/name-controller":1370,"ethereumjs-util":2896,lodash:3477,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,type:t,value:n}){const v=(0,a.useSelector)(p.getCurrentChainId),{name:_,sourceId:w}=(0,h.useName)(n,t),{name:T,hasPetname:E}=(0,g.useDisplayName)(n,t),C=(0,a.useSelector)(p.getNameSources,i.isEqual),[O,M]=(0,r.useState)(""),[S,j]=(0,r.useState)(!1),[P,I]=(0,r.useState)(),[N,D]=(0,r.useState)(),R=(0,a.useDispatch)(),A=(0,y.useI18nContext)(),B=!E&&Boolean(T),$=function(e,t){if(t===o.NameType.ETHEREUM_ADDRESS)return(0,s.toChecksumAddress)(e);return e}(n,t),{proposedNames:W,initialSources:F}=function(e,t,n){const o=(0,a.useDispatch)(),{proposedNames:i}=(0,h.useName)(e,t),s=(0,r.useRef)(),[l,c]=(0,r.useState)();return(0,r.useEffect)((()=>{const r=()=>{s.current&&clearInterval(s.current)},a=async()=>{const r=await o((0,f.updateProposedNames)({value:e,type:t,onlyUpdateAfterDelay:!0,variation:n}));l||c(function(e,t){const n=Object.keys(e).filter((t=>{var n;return null===(n=e[t].proposedNames)||void 0===n?void 0:n.length})),r=Object.keys(t).filter((n=>{var r,o;return!(null!==(r=e[n])&&void 0!==r&&r.proposedNames)&&(null===(o=t[n].proposedNames)||void 0===o?void 0:o.length)}));return[...n,...r].sort()}((null==r?void 0:r.results)??{},i))};return r(),a(),s.current=setInterval(a,k),r}),[e,t,n,o,l,c]),{proposedNames:i,initialSources:l}}(n,t,v),[L,q]=(0,m.useCopyToClipboard)();(0,r.useEffect)((()=>{M(_??""),I(w??undefined),D(w?_??undefined:undefined)}),[_,w,M,I]);const U=(0,r.useMemo)((()=>function(e,t,n){const r=Object.keys(e),o=r.filter((t=>{var n;return null===(n=e[t])||void 0===n||null===(n=n.proposedNames)||void 0===n?void 0:n.length})).map((r=>{var o;return((null===(o=e[r])||void 0===o?void 0:o.proposedNames)??[]).map((e=>({value:e,primaryLabel:t("nameModalMaybeProposedName",[e]),secondaryLabel:t("nameProviderProposedBy",[x(r,t,n)]),sourceId:r})))})).flat();return o.sort(((e,t)=>e.secondaryLabel.toLowerCase().localeCompare(t.secondaryLabel.toLowerCase())))}(W,A,C)),[W,C]),{trackPetnamesOpenEvent:z,trackPetnamesSaveEvent:V}=(0,b.usePetnamesMetrics)({initialSources:F,name:O,proposedNameOptions:U,savedName:_,savedSourceId:w,selectedSourceId:P,type:t});(0,r.useEffect)((()=>{F&&!S&&(z(),j(!0))}),[F,S,z]);const H=(0,r.useCallback)((async()=>{V(),await R((0,f.setName)({value:n,type:t,name:null!=O&&O.length?O:null,sourceId:P,variation:v})),e()}),[O,P,e,V,v]),K=(0,r.useCallback)((()=>{e()}),[e]),J=(0,r.useCallback)((e=>{M(e),e!==N&&(I(undefined),D(undefined))}),[M,P,I,D]),G=(0,r.useCallback)((e=>{I(e.sourceId),D(e.value)}),[I,D]),Y=(0,r.useCallback)((()=>{q($)}),[q,$]),[Q,X]=E?[A("nameModalTitleSaved"),A("nameInstructionsSaved")]:B?[A("nameModalTitleRecognized"),A("nameInstructionsRecognized")]:[A("nameModalTitleNew"),A("nameInstructionsNew")];return r.default.createElement(l.Box,null,r.default.createElement(l.Modal,{isOpen:!0,onClose:K},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,null,r.default.createElement(l.ModalHeader,{onClose:K},Q),r.default.createElement(l.ModalBody,{className:"name-details__modal-body"},r.default.createElement("div",{style:{textAlign:"center",marginBottom:16,marginTop:8}},r.default.createElement(u.default,{value:n,type:o.NameType.ETHEREUM_ADDRESS,disableEdit:!0,internal:!0})),r.default.createElement(l.Text,{marginBottom:4,justifyContent:c.JustifyContent.spaceBetween},X),r.default.createElement(l.FormTextField,{id:"address",className:"name-details__address",label:A("nameAddressLabel"),value:$,marginBottom:4,disabled:!0,endAccessory:r.default.createElement(l.ButtonIcon,{display:c.Display.Flex,iconName:L?l.IconName.CopySuccess:l.IconName.Copy,size:l.ButtonIconSize.Sm,onClick:Y,color:c.IconColor.iconMuted,ariaLabel:A("copyAddress")})}),r.default.createElement(l.Label,{flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.flexStart,marginBottom:2,className:"name-details__display-name"},A("nameLabel"),r.default.createElement(d.default,{hideDropdownIfNoOptions:!0,value:O,options:U,placeholder:A("nameSetPlaceholder"),onChange:J,onOptionClick:G}))),r.default.createElement(l.ModalFooter,null,r.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,startIconName:l.IconName.Save,width:c.BlockSize.Full,onClick:H,size:l.ButtonSize.Lg},A("save"))))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("@metamask/name-controller"),a=e("react-redux"),i=e("lodash"),s=e("ethereumjs-util"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=v(e("../name")),d=v(e("../../../ui/form-combo-field/form-combo-field")),p=e("../../../../selectors"),f=e("../../../../store/actions"),m=e("../../../../hooks/useCopyToClipboard"),h=e("../../../../hooks/useName"),g=e("../../../../hooks/useDisplayName"),y=e("../../../../hooks/useI18nContext"),b=e("./metrics");function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const k=2e3;const w=["ens","etherscan","lens","token"];function x(e,t,n){var r;if(w.includes(e)){return t(`nameProvider_${e}`)}return(null===(r=n[e])||void 0===r?void 0:r.label)??e}}}},{package:"$root$",file:"ui/components/app/name/name-details/name-details.tsx"}],[4307,{"../../../../shared/constants/metametrics":4130,"../../../contexts/metametrics":4888,"../../../helpers/constants/design-system":4914,"../../../helpers/utils/util":4957,"../../../hooks/useDisplayName":4970,"../../component-library":4543,"../../ui/identicon":4806,"./name-details/name-details":4306,"@metamask/name-controller":1370,classnames:2655,"ethereumjs-util":2896,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({value:e,type:t,disableEdit:n,internal:h,preferContractSymbol:g=!1}){const[y,b]=(0,r.useState)(!1),v=(0,r.useContext)(c.MetaMetricsContext),{name:_,hasPetname:k}=(0,p.useDisplayName)(e,t,g);(0,r.useEffect)((()=>{h||v({event:u.MetaMetricsEventName.PetnameDisplayed,category:u.MetaMetricsEventCategory.Petnames,properties:{petname_category:t,has_petname:Boolean(null==_?void 0:_.length)}})}),[]);const w=(0,r.useCallback)((()=>{b(!0)}),[b]),x=(0,r.useCallback)((()=>{b(!1)}),[b]),T=function(e,t){if(t===o.NameType.ETHEREUM_ADDRESS)return(0,l.shortenAddress)((0,i.toChecksumAddress)(e));return e}(e,t),E=Boolean(_);return r.default.createElement("div",null,!n&&y&&r.default.createElement(m.default,{value:e,type:t,onClose:x}),r.default.createElement("div",{className:(0,a.default)({name:!0,name__saved:k,name__recognized_unsaved:!k&&E,name__missing:!E}),onClick:w},E?r.default.createElement(f.default,{address:e,diameter:16}):r.default.createElement(s.Icon,{name:s.IconName.Question,className:"name__icon",size:s.IconSize.Md}),E?r.default.createElement(s.Text,{className:"name__name",variant:d.TextVariant.bodyMd},_):r.default.createElement(s.Text,{className:"name__value",variant:d.TextVariant.bodyMd},T)))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("@metamask/name-controller"),a=h(e("classnames")),i=e("ethereumjs-util"),s=e("../../component-library"),l=e("../../../helpers/utils/util"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/constants/design-system"),p=e("../../../hooks/useDisplayName"),f=h(e("../../ui/identicon")),m=h(e("./name-details/name-details"));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/name/name.tsx"}],[4308,{"./network-account-balance-header":4309},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./network-account-balance-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/index.js"}],[4309,{"../../../../shared/constants/network":4131,"../../../contexts/i18n":4887,"../../../helpers/constants/design-system":4914,"../../component-library":4543,"../../ui/box/box":4751,"../../ui/icon-with-fallback":4794,"../../ui/identicon":4806,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=p(e("prop-types")),a=p(e("../../ui/icon-with-fallback")),i=p(e("../../ui/identicon")),s=e("../../../helpers/constants/design-system"),l=p(e("../../ui/box/box")),c=e("../../../contexts/i18n"),u=e("../../../../shared/constants/network"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({networkName:e,accountName:t,accountBalance:n,tokenName:o,accountAddress:p,chainId:f}){const m=(0,r.useContext)(c.I18nContext),h=u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[f],g=h?"network-account-balance-header__network-account__ident-icon-ethereum":"network-account-balance-header__network-account__ident-icon-ethereum--gray";return r.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,padding:4,className:"network-account-balance-header",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},r.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,gap:2},r.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center},r.default.createElement(i.default,{address:p,diameter:32}),r.default.createElement(a.default,{name:e,size:16,icon:h,wrapperClassName:g})),r.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexStart,flexDirection:s.FlexDirection.Column},r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},e),r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold},t))),r.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexEnd,flexDirection:s.FlexDirection.Column},r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},m("balance")),r.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold,align:s.TextAlign.End},n," ",o)))}m.propTypes={networkName:o.default.string,accountName:o.default.string,accountBalance:o.default.string,tokenName:o.default.string,accountAddress:o.default.string,chainId:o.default.string}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/network-account-balance-header.js"}],[4310,{"./network-display":4311},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./network-display"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/network-display/index.js"}],[4311,{"../../../../shared/constants/network":4131,"../../../ducks/metamask/metamask":4906,"../../../helpers/constants/design-system":4914,"../../../helpers/utils/i18n-helper":4943,"../../../hooks/useI18nContext":4976,"../../../selectors":5513,"../../component-library":4543,"../../ui/chip/chip":4762,"../../ui/color-indicator":4765,"../../ui/loading-indicator":4813,classnames:2655,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var r=y(e("react")),o=y(e("prop-types")),a=y(e("classnames")),i=e("react-redux"),s=e("../../../../shared/constants/network"),l=y(e("../../ui/loading-indicator")),c=y(e("../../ui/color-indicator")),u=e("../../../helpers/constants/design-system"),d=y(e("../../ui/chip/chip")),p=e("../../../hooks/useI18nContext"),f=e("../../../selectors"),m=e("../../component-library"),h=e("../../../ducks/metamask/metamask"),g=e("../../../helpers/utils/i18n-helper");function y(e){return e&&e.__esModule?e:{default:e}}function b({indicatorSize:e,disabled:t,labelProps:n,targetNetwork:o,onClick:y}){const b=(0,i.useSelector)(f.isNetworkLoading),v=(0,i.useSelector)(h.getProviderConfig),_=(0,p.useI18nContext)(),{nickname:k,type:w}=o??v;return r.default.createElement(d.default,{dataTestId:"network-display",borderColor:y?u.BorderColor.borderDefault:u.BorderColor.borderMuted,onClick:y,leftIcon:r.default.createElement(l.default,{alt:_("attemptingConnect"),title:_("attemptingConnect"),isLoading:b},r.default.createElement(c.default,{color:w===s.NETWORK_TYPES.RPC?u.IconColor.iconMuted:w,size:e,type:c.default.TYPES.FILLED,iconClassName:w===s.NETWORK_TYPES.RPC&&e!==u.Size.XS?"fa fa-question":undefined})),rightIcon:y?r.default.createElement(m.Icon,{name:m.IconName.ArrowDown,size:m.IconSize.Xs}):null,label:w===s.NETWORK_TYPES.RPC?k??_("privateNetwork"):_((0,g.getNetworkLabelKey)(w)),className:(0,a.default)("network-display",{"network-display--disabled":t,"network-display--clickable":"function"==typeof y}),labelProps:{variant:u.TypographyVariant.H7,...n}})}b.propTypes={indicatorSize:o.default.oneOf(Object.values(u.Size)),labelProps:d.default.propTypes.labelProps,targetNetwork:o.default.shape({type:o.default.oneOf([...Object.keys(s.BUILT_IN_NETWORKS),s.NETWORK_TYPES.RPC]),nickname:o.default.string}),disabled:o.default.bool,onClick:o.default.func},b.defaultProps={indicatorSize:u.Size.LG}}}},{package:"$root$",file:"ui/components/app/network-display/network-display.js"}],[4312,{"../../../helpers/constants/design-system":4914,"../../../hooks/useI18nContext":4976,"../../../store/actions":5521,"../../component-library":4543,classnames:2655,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var r=d(e("react")),o=d(e("prop-types")),a=d(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=e("../../component-library"),u=e("../../../store/actions");function d(e){return e&&e.__esModule?e:{default:e}}function p({className:e,clickable:t}){const n=(0,l.useI18nContext)(),o=(0,i.useDispatch)();return r.default.createElement(c.Box,{tabIndex:0,"data-testid":"nft-default-image",className:(0,a.default)(e,"nft-default",{"nft-default--clickable":t}),display:s.Display.Flex,alignItems:s.AlignItems.Center,justifyContent:s.JustifyContent.Center,borderRadius:s.BorderRadius.LG},t&&r.default.createElement(c.ButtonLink,{block:!0,className:"nft-default__button",onClick:e=>{e.stopPropagation(),o((0,u.showIpfsModal)())}},n("show")))}p.propTypes={clickable:o.default.bool,className:o.default.string}}}},{package:"$root$",file:"ui/components/app/nft-default-image/nft-default-image.js"}],[4313,{"../../../../shared/constants/network":4131,"../../../helpers/constants/design-system":4914,"../../../hooks/useI18nContext":4976,"../../../store/actions":5521,"../../component-library":4543,"../../component-library/modal-content/deprecated":4551,"../../component-library/modal-header/deprecated":4560,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ToggleIpfsModal=void 0;var r=f(e("react")),o=f(e("prop-types")),a=e("react-redux"),i=e("../../component-library"),s=e("../../component-library/modal-content/deprecated"),l=e("../../component-library/modal-header/deprecated"),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../../shared/constants/network"),p=e("../../../helpers/constants/design-system");function f(e){return e&&e.__esModule?e:{default:e}}const m=({onClose:e})=>{const t=(0,c.useI18nContext)(),n=(0,a.useDispatch)();return r.default.createElement(i.Modal,{isOpen:!0,onClose:e,className:"toggle-ipfs-modal"},r.default.createElement(i.ModalOverlay,null),r.default.createElement(s.ModalContent,null,r.default.createElement(l.ModalHeader,{onClose:e},t("showNft")),r.default.createElement(i.Box,{className:"toggle-ipfs-modal",marginTop:6},r.default.createElement(i.Text,{variant:p.TextVariant.bodyMd,color:p.TextColor.textAlternative},t("ipfsToggleModalDescriptionOne")),r.default.createElement(i.Text,{variant:p.TextVariant.bodyMd,color:p.TextColor.textAlternative,marginTop:6},t("ipfsToggleModalDescriptionTwo",[r.default.createElement(i.Text,{variant:p.TextVariant.bodyMdBold,color:p.TextColor.textAlternative,as:"span",key:"span"},t("ipfsToggleModalSettings"),",")]))),r.default.createElement(i.ButtonPrimary,{block:!0,marginTop:9,onClick:()=>{n((0,u.setIpfsGateway)(d.IPFS_DEFAULT_GATEWAY_URL)),n((0,u.setIsIpfsGatewayEnabled)(!0)),n((0,u.hideIpfsModal)())},size:p.Size.LG},t("confirm"))))};n.ToggleIpfsModal=m,m.propTypes={onClose:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nft-default-image/toggle-ipfs-modal.js"}],[4314,{"../../../../app/scripts/lib/util":92,"../../../../shared/constants/app":4120,"../../../../shared/constants/metametrics":4130,"../../../../shared/constants/network":4131,"../../../../shared/constants/transaction":4143,"../../../../shared/modules/conversion.utils":4158,"../../../../shared/modules/string-utils":4177,"../../../contexts/metametrics":4888,"../../../ducks/metamask/metamask":4906,"../../../ducks/send":4908,"../../../helpers/constants/design-system":4914,"../../../helpers/constants/routes":4918,"../../../helpers/utils/nfts":4947,"../../../helpers/utils/util":4957,"../../../hooks/useCopyToClipboard":4967,"../../../hooks/useI18nContext":4976,"../../../hooks/usePrevious":4985,"../../../pages/asset/components/asset-navigation":5004,"../../../selectors":5513,"../../../store/actions":5521,"../../component-library":4543,"../../multichain/nft-item":4677,"../../ui/box":4752,"../../ui/button":4756,"../../ui/info-tooltip":4807,"../../ui/tooltip":4875,"../nft-options/nft-options":4315,lodash:3477,"prop-types":3633,react:3846,"react-redux":3811,"react-router-dom":3831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=B;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=R(e("prop-types")),a=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=R(e("../../ui/box")),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/util"),p=e("../../../helpers/utils/nfts"),f=e("../../../selectors"),m=R(e("../../../pages/asset/components/asset-navigation")),h=e("../../../ducks/metamask/metamask"),g=e("../../../helpers/constants/routes"),y=e("../../../store/actions"),b=e("../../../../shared/constants/network"),v=e("../../../../app/scripts/lib/util"),_=e("../../../../shared/constants/app"),k=R(e("../nft-options/nft-options")),w=R(e("../../ui/button")),x=e("../../../ducks/send"),T=R(e("../../ui/info-tooltip")),E=e("../../../hooks/usePrevious"),C=e("../../../hooks/useCopyToClipboard"),O=e("../../../../shared/modules/string-utils"),M=e("../../../../shared/constants/transaction"),S=e("../../component-library"),j=R(e("../../ui/tooltip")),P=e("../../../../shared/modules/conversion.utils"),I=e("../../multichain/nft-item"),N=e("../../../../shared/constants/metametrics"),D=e("../../../contexts/metametrics");function R(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function B({nft:e}){var t,n;const{image:o,imageOriginal:R,name:A,description:B,address:$,tokenId:W,standard:F,isCurrentlyOwned:L,lastSale:q}=e,U=(0,u.useI18nContext)(),z=(0,i.useHistory)(),V=(0,a.useDispatch)(),H=(0,a.useSelector)(f.getIpfsGateway),K=(0,a.useSelector)(h.getNftContracts),J=(0,a.useSelector)(f.getCurrentChainId),G=(0,a.useSelector)(f.getCurrentNetwork),Y=(0,r.useContext)(D.MetaMetricsContext),[Q,X]=(0,C.useCopyToClipboard)(),Z=null===(t=K.find((({address:e})=>(0,O.isEqualCaseInsensitive)(e,$))))||void 0===t?void 0:t.name,{metadata:{name:ee}}=(0,a.useSelector)(f.getSelectedInternalAccount),te=(0,p.getNftImageAlt)(e),ne=R??o,re=(0,d.getAssetImageURL)(R??o,H),oe=null==ne?void 0:ne.startsWith("ipfs:"),ae=null==o?void 0:o.startsWith("https:"),ie=(0,d.formatDate)(new Date(null==q?void 0:q.event_timestamp).getTime(),"M/d/y"),se=(0,E.usePrevious)(e);(0,r.useEffect)((()=>{(0,s.isEqual)(se,e)||(0,y.checkAndUpdateSingleNftOwnershipStatus)(e)}),[e,se]);const le=(()=>{switch(J){case b.CHAIN_IDS.MAINNET:return`https://opensea.io/assets/ethereum/${$}/${W}`;case b.CHAIN_IDS.POLYGON:return`https://opensea.io/assets/matic/${$}/${W}`;case b.CHAIN_IDS.GOERLI:return`https://testnets.opensea.io/assets/goerli/${$}/${W}`;case b.CHAIN_IDS.SEPOLIA:return`https://testnets.opensea.io/assets/sepolia/${$}/${W}`;default:return null}})(),ce=F!==M.TokenStandard.ERC721&&F!==M.TokenStandard.ERC1155,ue=(0,v.getEnvironmentType)()===_.ENVIRONMENT_TYPE_POPUP,de=async()=>{await V((0,x.startNewDraftTransaction)({type:M.AssetType.NFT,details:e})),z.push(g.SEND_ROUTE)},pe=()=>!1===L?r.default.createElement("div",{style:{height:"30px"}}):r.default.createElement(l.default,{display:c.Display.Flex,margin:ue?[4,0]:null},r.default.createElement(w.default,{type:"primary",onClick:de,disabled:ce,className:"nft-details__send-button","data-testid":"nft-send-button"},U("send")),ce?r.default.createElement(T.default,{position:"top",contentText:U("sendingDisabled")}):null);return r.default.createElement(r.default.Fragment,null,r.default.createElement(m.default,{accountName:ee,assetName:Z,onBack:()=>z.push(g.DEFAULT_ROUTE),optionsButton:r.default.createElement(k.default,{onViewOnOpensea:le?()=>global.platform.openTab({url:le}):null,onRemove:async()=>{let e=!1;try{await V((0,y.removeAndIgnoreNft)($,W)),V((0,y.setNewNftAddedMessage)("")),V((0,y.setRemoveNftMessage)("success")),e=!0}catch(e){V((0,y.setNewNftAddedMessage)("")),V((0,y.setRemoveNftMessage)("error"))}finally{Y({event:N.MetaMetricsEventName.NFTRemoved,category:"Wallet",sensitiveProperties:{token_contract_address:$,tokenId:W.toString(),asset_type:M.AssetType.NFT,token_standard:F,chain_id:J,isSuccessful:e}}),z.push(g.DEFAULT_ROUTE)}}})}),r.default.createElement(l.default,{className:"nft-details"},r.default.createElement(l.default,{className:"nft-details__top-section",gap:6,flexDirection:c.FlexDirection.Column},r.default.createElement(l.default,{className:"nft-details__nft-item"},r.default.createElement(I.NftItem,{nftImageURL:re,src:ae?o:re,alt:o?te:"",name:A,tokenId:W,networkName:G.nickname,networkSrc:null===(n=G.rpcPrefs)||void 0===n?void 0:n.imageUrl,isIpfsURL:oe,clickable:!0})),r.default.createElement(l.default,{flexDirection:c.FlexDirection.Column,className:"nft-details__info",marginTop:4,justifyContent:c.JustifyContent.spaceBetween},r.default.createElement("div",null,r.default.createElement(S.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.headingSm,as:"h4",fontWeight:c.FontWeight.Bold,marginBottom:2},A),r.default.createElement(S.Text,{color:c.TextColor.textMuted,variant:c.TextVariant.bodyMd,as:"h5",marginBottom:4,overflowWrap:c.OverflowWrap.BreakWord},"#",W)),B?r.default.createElement("div",null,r.default.createElement(S.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:2,className:"nft-details__description"},U("description")),r.default.createElement(S.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},B)):null,ue?null:pe())),r.default.createElement(l.default,{marginBottom:2},q?r.default.createElement(r.default.Fragment,null,r.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row},r.default.createElement(S.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},U("lastSold")),r.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,className:"nft-details__contract-wrapper"},r.default.createElement(S.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},ie))),r.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row},r.default.createElement(S.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},U("lastPriceSold")),r.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,className:"nft-details__contract-wrapper"},r.default.createElement(S.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},`${Number((0,P.decWEIToDecETH)(q.total_price))} ${q.payment_token.symbol}`)))):null,r.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row},r.default.createElement(S.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},U("contractAddress")),r.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,className:"nft-details__contract-wrapper"},r.default.createElement(S.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},(0,d.shortenAddress)($)),r.default.createElement(j.default,{wrapperClassName:"nft-details__tooltip-wrapper",position:"bottom",title:U(Q?"copiedExclamation":"copyToClipboard")},r.default.createElement(S.ButtonIcon,{ariaLabel:"copy",color:c.IconColor.iconAlternative,className:"nft-details__contract-copy-button","data-testid":"nft-address-copy",onClick:()=>{X($)},iconName:Q?S.IconName.CopySuccess:S.IconName.Copy})))),ue?pe():null,r.default.createElement(S.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6"},U("nftDisclaimer")))))}B.propTypes={nft:o.default.shape({address:o.default.string.isRequired,tokenId:o.default.string.isRequired,isCurrentlyOwned:o.default.bool,name:o.default.string,description:o.default.string,image:o.default.string,standard:o.default.string,imageThumbnail:o.default.string,imagePreview:o.default.string,imageOriginal:o.default.string,creator:o.default.shape({address:o.default.string,config:o.default.string,profile_img_url:o.default.string}),lastSale:o.default.shape({event_timestamp:o.default.string,total_price:o.default.string,payment_token:o.default.shape({symbol:o.default.string})})})}}}},{package:"$root$",file:"ui/components/app/nft-details/nft-details.js"}],[4315,{"../../../contexts/i18n":4887,"../../../helpers/constants/design-system":4914,"../../component-library":4543,"../../ui/menu":4823,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("../../../contexts/i18n"),s=e("../../ui/menu"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=({onRemove:e,onViewOnOpensea:t})=>{const n=(0,o.useContext)(i.I18nContext),[r,a]=(0,o.useState)(!1),u=(0,o.useRef)(!1);return o.default.createElement("div",{ref:u},o.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,className:"nft-options__button","data-testid":"nft-options__button",onClick:()=>a(!0),color:c.Color.textDefault,size:l.ButtonIconSize.Sm,ariaLabel:n("nftOptions")}),r?o.default.createElement(s.Menu,{"data-testid":"close-nft-options-menu",anchorElement:u.current,onHide:()=>a(!1)},t?o.default.createElement(s.MenuItem,{iconName:l.IconName.Export,"data-testid":"nft-options__view-on-opensea",onClick:()=>{a(!1),t()}},n("viewOnOpensea")):null,o.default.createElement(s.MenuItem,{iconName:l.IconName.Trash,"data-testid":"nft-item-remove",onClick:()=>{a(!1),e()}},n("removeNFT"))):null)};d.propTypes={onRemove:a.default.func.isRequired,onViewOnOpensea:a.default.func};n.default=d}}},{package:"$root$",file:"ui/components/app/nft-options/nft-options.js"}],[4316,{"../../../helpers/constants/routes":4918,"../../../hooks/useI18nContext":4976,"../../component-library":4543,"prop-types":3633,react:3846,"react-router-dom":3831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var r=c(e("react")),o=c(e("prop-types")),a=e("react-router-dom"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes");function c(e){return e&&e.__esModule?e:{default:e}}function u({onActionButtonClick:e}){const t=(0,s.useI18nContext)(),n=(0,a.useHistory)();return r.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",actionButtonLabel:t("selectEnableDisplayMediaPrivacyPreference"),actionButtonOnClick:t=>{t.preventDefault(),n.push(`${l.SECURITY_ROUTE}#display-nft-media`),null==e||e()}},t("newNFTDetectedInImportNFTsMsg",[r.default.createElement("b",{key:"new-nft-detected-in-import-nfts-message-strong-text"},t("newNFTDetectedInImportNFTsMessageStrongText"))]))}u.propTypes={onActionButtonClick:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts.js"}],[4317,{"../../../helpers/constants/routes":4918,"../../../hooks/useI18nContext":4976,"../../component-library":4543,react:3846,"react-router-dom":3831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useI18nContext)(),t=(0,a.useHistory)();return o.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",title:e("newNFTsAutodetected"),actionButtonLabel:e("selectNFTPrivacyPreference"),actionButtonOnClick:e=>{e.preventDefault(),t.push(`${l.SECURITY_ROUTE}#autodetect-nfts`)}},e("newNFTDetectedInNFTsTabMessage"))};var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("react-router-dom"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes")}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab.js"}],[4318,{"./nfts-items":4319},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./nfts-items"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/nfts-items/index.js"}],[4319,{"../../../../app/scripts/lib/util":92,"../../../../shared/constants/app":4120,"../../../../shared/constants/transaction":4143,"../../../ducks/metamask/metamask":4906,"../../../ducks/send":4908,"../../../helpers/constants/design-system":4914,"../../../helpers/constants/routes":4918,"../../../helpers/utils/nfts":4947,"../../../helpers/utils/util":4957,"../../../hooks/useI18nContext":4976,"../../../hooks/usePrevious":4985,"../../../selectors":5513,"../../../store/actions":5521,"../../component-library":4543,"../../multichain/nft-item":4677,"../../ui/box":4752,"../../ui/typography/typography":4880,lodash:3477,"prop-types":3633,react:3846,"react-redux":3811,"react-router-dom":3831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=S;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=E(e("prop-types")),a=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=E(e("../../ui/box")),c=E(e("../../ui/typography/typography")),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/app"),p=e("../../../../app/scripts/lib/util"),f=e("../../../selectors"),m=e("../../../helpers/constants/routes"),h=e("../../../helpers/utils/util"),g=e("../../../helpers/utils/nfts"),y=e("../../../store/actions"),b=e("../../../hooks/usePrevious"),v=e("../../../ducks/metamask/metamask"),_=e("../../../hooks/useI18nContext"),k=e("../../component-library"),w=e("../../multichain/nft-item"),x=e("../../../ducks/send"),T=e("../../../../shared/constants/transaction");function E(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}const O=e=>{const t=(0,p.getEnvironmentType)()===d.ENVIRONMENT_TYPE_POPUP;return e||t===d.ENVIRONMENT_TYPE_POPUP?u.BLOCK_SIZES.ONE_THIRD:u.BLOCK_SIZES.ONE_SIXTH},M="previouslyOwned";function S({collections:e={},previouslyOwnedCollection:t={},isModal:n=!1,onCloseModal:o={},showTokenId:d=!1,displayPreviouslyOwnedCollection:p=!0}){var E;const C=(0,a.useDispatch)(),S=Object.keys(e),j=(0,a.useSelector)(v.getNftsDropdownState),P=(0,b.usePrevious)(S),{address:I}=(0,a.useSelector)(f.getSelectedInternalAccount),N=(0,a.useSelector)(f.getCurrentChainId),D=(0,a.useSelector)(f.getCurrentNetwork),R=(0,_.useI18nContext)(),A=(0,a.useSelector)(f.getIpfsGateway),B=(0,a.useSelector)(f.getOpenSeaEnabled);(0,r.useEffect)((()=>{var e,t;if(N!==undefined&&I!==undefined&&!(0,s.isEqual)(P,S)&&((null==j||null===(e=j[I])||void 0===e?void 0:e[N])===undefined||0===Object.keys(null==j||null===(t=j[I])||void 0===t?void 0:t[N]).length)){const e={};S.forEach((t=>{e[t]=!0}));const t={...j,[I]:{...null==j?void 0:j[I],[N]:e}};C((0,y.updateNftDropDownState)(t))}}),[S,P,j,I,N,C]);const $=(0,i.useHistory)(),W=({nfts:e,collectionName:t,collectionImage:a,key:i})=>{var s;if(!e.length)return null;const p=null===(s=j[I])||void 0===s||null===(s=s[N])||void 0===s?void 0:s[i];return r.default.createElement("div",{className:"nfts-items__collection",key:`collection-${i}`},r.default.createElement("button",{className:"nfts-items__collection-wrapper","data-testid":"collection-expander-button",onClick:()=>{((e,t)=>{const n={...j[I][N],[e]:!t},r={...j,[I]:{[N]:n}};C((0,y.updateNftDropDownState)(r))})(i,p)}},r.default.createElement(l.default,{marginBottom:2,display:u.DISPLAY.FLEX,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.spaceBetween,className:"nfts-items__collection-accordion-title"},r.default.createElement(l.default,{alignItems:u.AlignItems.center,className:"nfts-items__collection-header"},((e,t)=>{var n,o,a;return null!=e&&e.startsWith("ipfs")&&!A?r.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(o=t[0])||void 0===o?void 0:o.toUpperCase())??null):B||null!=e&&e.startsWith("ipfs")?e?r.default.createElement("img",{alt:t,src:(0,h.getAssetImageURL)(e,A),className:"nfts-items__collection-image"}):r.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())??null):r.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(a=t[0])||void 0===a?void 0:a.toUpperCase())??null)})(a,t),r.default.createElement(c.default,{color:u.Color.textDefault,variant:u.TypographyVariant.H5,margin:2},`${t??R("unknownCollection")} (${e.length})`)),r.default.createElement(l.default,{alignItems:u.AlignItems.flexEnd},r.default.createElement(k.Icon,{name:p?k.IconName.ArrowDown:k.IconName.ArrowRight,color:u.Color.iconDefault})))),p?r.default.createElement(l.default,{display:u.DISPLAY.FLEX,flexWrap:u.FLEX_WRAP.WRAP,gap:4},e.map(((e,t)=>{var a,i;const{image:s,address:c,tokenId:u,name:p,imageOriginal:f,tokenURI:y}=e,b=(0,h.getAssetImageURL)(f??s,A),v=(0,g.getNftImageAlt)(e),_=null==s?void 0:s.startsWith("https:"),E=null!=f&&f.startsWith("ipfs")?b:s,M=null===(a=f??s??y)||void 0===a?void 0:a.startsWith("ipfs:");return r.default.createElement(l.default,{"data-testid":"nft-wrapper",width:O(n),key:`nft-${t}`,className:"nfts-items__item-wrapper"},r.default.createElement(w.NftItem,{nftImageURL:E,alt:v,src:_?s:b,name:p,tokenId:u,networkName:D.nickname,networkSrc:null===(i=D.rpcPrefs)||void 0===i?void 0:i.imageUrl,onClick:()=>n?(async e=>{await C((0,x.updateSendAsset)({type:T.AssetType.NFT,details:e,skipComputeEstimatedGasLimit:!0})),$.push(m.SEND_ROUTE),o()})(e):$.push(`${m.ASSET_ROUTE}/${c}/${u}`),isIpfsURL:M,clickable:!0}),d?r.default.createElement(k.Text,null,`${R("id")}: ${u}`):null)}))):null)};return r.default.createElement("div",{className:"nfts-items"},r.default.createElement(l.default,{paddingTop:6,paddingBottom:6,paddingLeft:4,paddingRight:4,flexDirection:u.FLEX_DIRECTION.COLUMN},r.default.createElement(r.default.Fragment,null,S.map((t=>{const{nfts:n,collectionName:r,collectionImage:o}=e[t];return W({nfts:n,collectionName:r,collectionImage:o,key:t,isPreviouslyOwnedCollection:!1})})),p?W({nfts:t.nfts,collectionName:t.collectionName,collectionImage:null===(E=t.nfts[0])||void 0===E?void 0:E.image,isPreviouslyOwnedCollection:!0,key:M}):null)))}S.propTypes={previouslyOwnedCollection:o.default.shape({nfts:o.default.arrayOf(o.default.shape({address:o.default.string.isRequired,tokenId:o.default.string.isRequired,name:o.default.string,description:o.default.string,image:o.default.string,standard:o.default.string,imageThumbnail:o.default.string,imagePreview:o.default.string,creator:o.default.shape({address:o.default.string,config:o.default.string,profile_img_url:o.default.string})})),collectionName:o.default.string,collectionImage:o.default.string}),collections:o.default.shape({nfts:o.default.arrayOf(o.default.shape({address:o.default.string.isRequired,tokenId:o.default.string.isRequired,name:o.default.string,description:o.default.string,image:o.default.string,standard:o.default.string,imageThumbnail:o.default.string,imagePreview:o.default.string,creator:o.default.shape({address:o.default.string,config:o.default.string,profile_img_url:o.default.string})})),collectionImage:o.default.string,collectionName:o.default.string}),isModal:o.default.bool,onCloseModal:o.default.func,showTokenId:o.default.bool,displayPreviouslyOwnedCollection:o.default.bool}}}},{package:"$root$",file:"ui/components/app/nfts-items/nfts-items.js"}],[4320,{"./nfts-tab":4321},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./nfts-tab"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/nfts-tab/index.js"}],[4321,{"../../../../shared/constants/app":4120,"../../../../shared/constants/metametrics":4130,"../../../contexts/metametrics":4888,"../../../ducks/locale/locale":4905,"../../../helpers/constants/design-system":4914,"../../../helpers/constants/routes":4918,"../../../helpers/constants/zendesk-url":4925,"../../../hooks/useAccountTotalFiatBalance":4964,"../../../hooks/useI18nContext":4976,"../../../hooks/useNftsCollections":4981,"../../../selectors":5513,"../../../store/actions":5521,"../../component-library":4543,"../../multichain/ramps-card/ramps-card":4736,"../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab":4317,"../nfts-items":4318,react:3846,"react-redux":3811,"react-router-dom":3831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useSelector)(u.getUseNftDetection),t=(0,o.useSelector)(u.getIsMainnet),n=(0,a.useHistory)(),w=(0,l.useI18nContext)(),x=(0,o.useDispatch)(),T=(0,r.useContext)(g.MetaMetricsContext),{address:E}=(0,o.useSelector)(u.getSelectedAccount),C=(0,o.useSelector)(u.getShouldHideZeroBalanceTokens),{totalFiatBalance:O}=(0,k.useAccountTotalFiatBalance)(E,C),M=0===Number(O),S=(0,o.useSelector)(u.getIsBuyableChain)&&M,{nftsLoading:j,collections:P,previouslyOwnedCollection:I}=(0,c.useNftsCollections)(),N=Object.keys(P).length>0,D=!1===N,{chainId:R,nickname:A}=(0,o.useSelector)(u.getCurrentNetwork),B=(0,o.useSelector)(v.getCurrentLocale);if((0,r.useEffect)((()=>{D&&T({event:b.MetaMetricsEventName.EmptyNftsBannerDisplayed,category:b.MetaMetricsEventCategory.Navigation,properties:{chain_id:R,locale:B,network:A,referrer:y.ORIGIN_METAMASK}})}),[D,T,R,A,B]),j)return r.default.createElement("div",{className:"nfts-tab__loading"},w("loadingNFTs"));return r.default.createElement(r.default.Fragment,null,S?r.default.createElement(_.RampsCard,{variant:_.RAMPS_CARD_VARIANT_TYPES.NFT}):null,r.default.createElement(p.Box,{className:"nfts-tab"},N>0||I.nfts.length>0?r.default.createElement(m.default,{collections:P,previouslyOwnedCollection:I}):r.default.createElement(r.default.Fragment,null,t&&!e?r.default.createElement(p.Box,{paddingTop:4,paddingInlineStart:4,paddingInlineEnd:4},r.default.createElement(f.default,null)):null,r.default.createElement(p.Box,{padding:12,display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},r.default.createElement(p.Box,{justifyContent:i.JustifyContent.center},r.default.createElement("img",{src:"./images/no-nfts.svg"})),r.default.createElement(p.Box,{marginTop:4,marginBottom:12,display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,className:"nfts-tab__link"},r.default.createElement(p.Text,{color:i.TextColor.textMuted,variant:i.TextVariant.headingSm,align:i.TextAlign.Center,as:"h4"},w("noNFTs")),r.default.createElement(p.ButtonLink,{size:i.Size.MD,href:h.default.NFT_TOKENS,externalLink:!0},w("learnMoreUpperCase"))))),r.default.createElement(p.Box,{className:"nfts-tab__buttons",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,margin:4,gap:2,marginBottom:2},r.default.createElement(p.ButtonLink,{size:i.Size.MD,"data-testid":"import-nft-button",startIconName:p.IconName.Add,onClick:()=>{x((0,d.showImportNftsModal)())}},w("importNFT")),!t&&Object.keys(P).length<1?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(p.Box,{className:"nfts-tab__link",justifyContent:i.JustifyContent.flexEnd},t&&!e?r.default.createElement(p.ButtonLink,{size:i.Size.MD,startIconName:p.IconName.Setting,"data-testid":"refresh-list-button",onClick:()=>{n.push(s.SECURITY_ROUTE)}},w("enableAutoDetect")):r.default.createElement(p.ButtonLink,{size:i.Size.MD,startIconName:p.IconName.Refresh,"data-testid":"refresh-list-button",onClick:()=>{t&&x((0,d.detectNfts)()),(0,d.checkAndUpdateAllNftsOwnershipStatus)()}},w("refreshList")))))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("react-router-dom"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/constants/routes"),l=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useNftsCollections"),u=e("../../../selectors"),d=e("../../../store/actions"),p=e("../../component-library"),f=w(e("../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab")),m=w(e("../nfts-items")),h=w(e("../../../helpers/constants/zendesk-url")),g=e("../../../contexts/metametrics"),y=e("../../../../shared/constants/app"),b=e("../../../../shared/constants/metametrics"),v=e("../../../ducks/locale/locale"),_=e("../../multichain/ramps-card/ramps-card"),k=e("../../../hooks/useAccountTotalFiatBalance");function w(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/nfts-tab/nfts-tab.js"}],[4322,{"./permission-cell":4325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./permission-cell"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permission-cell/index.js"}],[4323,{"../../../../shared/constants/snaps/permissions":4138,"../../../helpers/constants/design-system":4914,"../../../hooks/useI18nContext":4976,"../../../store/actions":5521,"../../component-library":4543,"../../ui/box":4752,"../../ui/menu":4823,"../../ui/popover/popover.component":4842,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellOptions=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=m(e("prop-types")),a=e("react-redux"),i=m(e("../../ui/box")),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),c=e("../../ui/menu"),u=e("../../../helpers/constants/design-system"),d=m(e("../../ui/popover/popover.component")),p=e("../../../../shared/constants/snaps/permissions"),f=e("../../../store/actions");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({snapId:e,permissionName:t,description:n})=>{const o=(0,s.useI18nContext)(),m=(0,a.useDispatch)(),h=(0,r.useRef)(!1),[g,y]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),_=p.DynamicSnapPermissions.includes(t);return r.default.createElement(i.default,{ref:h},r.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,ariaLabel:o("options"),onClick:()=>{y(!0)},"data-testid":t}),g&&r.default.createElement(c.Menu,{anchorElement:h.current,onHide:()=>{y(!1)}},r.default.createElement(c.MenuItem,{onClick:()=>{y(!1),v(!0)}},r.default.createElement(l.Text,{variant:u.TextVariant.bodySm,style:{whiteSpace:"nowrap"}},o("details"))),_&&r.default.createElement(c.MenuItem,{onClick:()=>{y(!1),m((0,f.revokeDynamicSnapPermissions)(e,[t]))}},r.default.createElement(l.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.errorDefault,style:{whiteSpace:"nowrap"}},o("revokePermission")))),b&&r.default.createElement(d.default,{title:o("details"),onClose:()=>{y(!1),v(!1)}},r.default.createElement(i.default,{marginLeft:4,marginRight:4,marginBottom:4},r.default.createElement(l.Text,null,n))))};n.PermissionCellOptions=g,g.propTypes={snapId:o.default.string.isRequired,permissionName:o.default.string.isRequired,description:o.default.oneOfType([o.default.string,o.default.object])}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-options.js"}],[4324,{"../../../helpers/constants/design-system":4914,"../../../helpers/utils/util":4957,"../../../hooks/useI18nContext":4976,"../../component-library":4543,"../../multichain":4669,"../../multichain/avatar-group/avatar-group.types":4638,"../../ui/tooltip":4875,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellStatus=void 0;var r=p(e("react")),o=p(e("prop-types")),a=e("../../component-library"),i=e("../../../helpers/constants/design-system"),s=p(e("../../ui/tooltip")),l=e("../../multichain"),c=e("../../multichain/avatar-group/avatar-group.types"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/util");function p(e){return e&&e.__esModule?e:{default:e}}const f=({revoked:e,dateApproved:t,accounts:n})=>{const o=(0,u.useI18nContext)(),p=()=>r.default.createElement(a.Box,{as:"span",className:"permission-cell__status__accounts-group-box",display:i.Display.InlineFlex},r.default.createElement(s.default,{position:"bottom",html:r.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},r.default.createElement(a.Text,{variant:i.TextVariant.headingSm,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},o("accounts")),r.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},n.map(((e,t)=>r.default.createElement(a.Box,{key:`${e.avatarValue}_${t}`,display:i.Display.Flex,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,marginTop:2},r.default.createElement(a.AvatarAccount,{address:e.avatarValue,size:a.AvatarAccountSize.Xs,borderColor:i.BorderColor.backgroundDefault}),r.default.createElement(a.Text,{variant:i.TextVariant.bodyMdMedium,marginLeft:2},e.avatarName))))))},r.default.createElement(l.AvatarGroup,{limit:3,members:n,avatarType:c.AvatarType.ACCOUNT,size:a.AvatarTokenSize.Xs,width:i.BlockSize.Min,borderColor:i.BorderColor.backgroundDefault,marginLeft:4,paddingLeft:4}))),f=n&&n.length?o("approvedOnForAccounts",[(0,d.formatDate)(t,"yyyy-MM-dd"),p()]):o("approvedOn",[(0,d.formatDate)(t,"yyyy-MM-dd")]),m=n&&n.length?o("permissionRevokedForAccounts",[p()]):o("permissionRevoked"),h=n&&n.length?o("permissionRequestedForAccounts",[p()]):o("permissionRequested");return r.default.createElement(a.Text,{as:"div",className:"permission-cell__status",variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative,display:i.Display.Flex},!e&&(t?f:h),e?m:"")};n.PermissionCellStatus=f,f.propTypes={revoked:o.default.bool,dateApproved:o.default.number,accounts:o.default.array}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-status.js"}],[4325,{"../../../helpers/constants/design-system":4914,"../../component-library":4543,"../../ui/tooltip":4875,"./permission-cell-options":4323,"./permission-cell-status":4324,classnames:2655,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("react")),o=d(e("prop-types")),a=d(e("classnames")),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=d(e("../../ui/tooltip")),c=e("./permission-cell-options"),u=e("./permission-cell-status");function d(e){return e&&e.__esModule?e:{default:e}}const p=({snapId:e,permissionName:t,title:n,description:o,weight:d,avatarIcon:p,dateApproved:f,revoked:m,showOptions:h,hideStatus:g,accounts:y})=>{var b;const v=s.IconName.Info;let _=i.IconColor.iconMuted,k=i.IconColor.primaryDefault,w=i.Color.primaryMuted;!m&&d<=2&&(k=i.IconColor.warningDefault,w=i.Color.warningMuted,_=i.IconColor.warningDefault),f&&(k=i.IconColor.iconMuted,w=i.Color.backgroundAlternative),m&&(k=i.IconColor.iconMuted,w=i.Color.backgroundAlternative);let x=p;return"string"!=typeof p&&null!=p&&null!==(b=p.props)&&void 0!==b&&b.iconName&&(x=p.props.iconName),r.default.createElement(s.Box,{className:"permission-cell",display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.flexStart,paddingTop:2,paddingBottom:2},r.default.createElement(s.Box,{display:i.Display.Flex},"string"==typeof x?r.default.createElement(s.AvatarIcon,{iconName:x,size:s.AvatarIconSize.Md,iconProps:{size:s.IconSize.Sm},color:k,backgroundColor:w}):x),r.default.createElement(s.Box,{display:i.Display.Flex,flexWrap:i.FlexWrap.Wrap,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,marginLeft:4,marginRight:4},r.default.createElement(s.Text,{size:i.Size.MD,variant:i.TextVariant.bodyMd,className:(0,a.default)("permission-cell__title",{"permission-cell__title-revoked":m})},n),!g&&r.default.createElement(u.PermissionCellStatus,{revoked:m,dateApproved:f,accounts:y})),r.default.createElement(s.Box,{display:i.Display.Flex},h&&e?r.default.createElement(c.PermissionCellOptions,{snapId:e,permissionName:t,description:o}):o&&r.default.createElement(l.default,{html:r.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative},o),position:"bottom"},r.default.createElement(s.Icon,{color:_,name:v,size:s.IconSize.Sm}))))};p.propTypes={snapId:o.default.string,permissionName:o.default.oneOfType([o.default.string,o.default.element]).isRequired,title:o.default.oneOfType([o.default.string.isRequired,o.default.object.isRequired]),description:o.default.oneOfType([o.default.string,o.default.object]),weight:o.default.number,avatarIcon:o.default.any.isRequired,dateApproved:o.default.number,revoked:o.default.bool,showOptions:o.default.bool,hideStatus:o.default.bool,accounts:o.default.array};n.default=p}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell.js"}],[4326,{"./permission-page-container-content":4327,"./permission-page-container.container":4330},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionPageContainerContent",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var r=a(e("./permission-page-container.container")),o=a(e("./permission-page-container-content"));function a(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/permission-page-container/index.js"}],[4327,{"./permission-page-container-content.component":4328},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./permission-page-container-content.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/index.js"}],[4328,{"../../../ui/tooltip":4875,"../../permissions-connect-header":4333,"../../permissions-connect-permission-list":4335,"@metamask/permission-controller":1469,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("@metamask/permission-controller"),i=u(e("../../permissions-connect-header")),s=u(e("../../../ui/tooltip")),l=u(e("../../permissions-connect-permission-list"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.PureComponent{renderRequestedPermissions(){const{selectedPermissions:e,subjectMetadata:t}=this.props;return o.default.createElement("div",{className:"permission-approval-container__content__requested"},o.default.createElement(l.default,{permissions:e,subjectName:t.origin}))}renderAccountTooltip(e){const{selectedAccounts:t}=this.props,{t:n}=this.context;return o.default.createElement(s.default,{key:"all-account-connect-tooltip",position:"bottom",wrapperClassName:"permission-approval-container__bold-title-elements",html:o.default.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.slice(0,6).map(((e,t)=>o.default.createElement("div",{key:`tooltip-account-${t}`},e.addressLabel))),t.length>6?n("plusXMore",[t.length-6]):null)},e)}getTitle(){var e;const{subjectMetadata:t,selectedAccounts:n,allAccountsSelected:r,selectedPermissions:o}=this.props,{t:a}=this.context;return t.extensionId?a("externalExtension",[t.extensionId]):o.eth_accounts?r?a("connectToAll",[this.renderAccountTooltip(a("connectToAllAccounts"))]):n.length>1?a("connectToMultiple",[this.renderAccountTooltip(a("connectToMultipleNumberOfAccounts",[n.length]))]):a("connectTo",[null===(e=n[0])||void 0===e?void 0:e.addressLabel]):a("permissionRequestCapitalized")}getHeaderText(){const{subjectMetadata:e}=this.props,{t:t}=this.context;return e.subjectType===a.SubjectType.Snap?t("allowThisSnapTo"):e.extensionId?t("allowExternalExtensionTo",[e.extensionId]):t("allowThisSiteTo")}render(){const{subjectMetadata:e}=this.props,t=this.getTitle(),n=this.getHeaderText();return o.default.createElement("div",{className:"permission-approval-container__content"},o.default.createElement("div",{className:"permission-approval-container__content-container"},o.default.createElement(i.default,{iconUrl:e.iconUrl,iconName:e.name,headerTitle:t,headerText:n,siteOrigin:e.origin,subjectType:e.subjectType}),o.default.createElement("section",{className:"permission-approval-container__permissions-container"},this.renderRequestedPermissions())))}}n.default=p,d(p,"propTypes",{subjectMetadata:r.default.shape({name:r.default.string.isRequired,origin:r.default.string.isRequired,subjectType:r.default.string.isRequired,extensionId:r.default.string,iconUrl:r.default.string}),selectedPermissions:r.default.object.isRequired,selectedAccounts:r.default.array,allAccountsSelected:r.default.bool}),d(p,"defaultProps",{selectedAccounts:[],allAccountsSelected:!1}),d(p,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/permission-page-container-content.component.js"}],[4329,{".":4326,"../../../../shared/constants/metametrics":4130,"../../../../shared/constants/permissions":4134,"../../../helpers/utils/util":4957,"../../ui/page-container":4834,"../permissions-connect-footer":4331,"../snaps/snap-privacy-warning":4384,"@metamask/permission-controller":1469,"@metamask/snaps-rpc-methods":1861,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=h(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("@metamask/snaps-rpc-methods"),i=e("@metamask/permission-controller"),s=e("../../../../shared/constants/metametrics"),l=e("../../ui/page-container"),c=h(e("../permissions-connect-footer")),u=e("../../../../shared/constants/permissions"),d=h(e("../snaps/snap-privacy-warning")),p=e("../../../helpers/utils/util"),f=e(".");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends o.Component{constructor(...e){super(...e),g(this,"state",{}),g(this,"onCancel",(()=>{const{request:e,rejectPermissionsRequest:t}=this.props;t(e.metadata.id)})),g(this,"onSubmit",(()=>{const{request:e,approvePermissionsRequest:t,rejectPermissionsRequest:n,selectedAccounts:r}=this.props,o={...e,permissions:{...e.permissions},approvedAccounts:r.map((e=>e.address))};Object.keys(o.permissions).length>0?t(o):n(o.metadata.id)}))}getRequestedPermissions(){return Object.entries(this.props.request.permissions??{}).reduce(((e,[t,n])=>t===u.RestrictedMethods.wallet_snap?(e[t]=this.getDedupedSnapPermissions(),e):(e[t]=n,e)),{})}getDedupedSnapPermissions(){var e;const{request:t,currentPermissions:n}=this.props,r=(0,p.getDedupedSnaps)(t,n);return{...(null==t||null===(e=t.permissions)||void 0===e?void 0:e[a.WALLET_SNAP_PERMISSION_KEY])||{},caveats:[{type:a.SnapCaveatType.SnapIds,value:r.reduce(((e,t)=>(e[t]={},e)),{})}]}}showSnapsPrivacyWarning(){this.setState({isShowingSnapsPrivacyWarning:!0})}componentDidMount(){this.context.trackEvent({category:s.MetaMetricsEventCategory.Auth,event:"Tab Opened",properties:{action:"Connect",legacy_event:!0}}),this.props.request.permissions[a.WALLET_SNAP_PERMISSION_KEY]&&!1===this.props.snapsInstallPrivacyWarningShown&&this.showSnapsPrivacyWarning()}render(){const{requestMetadata:e,targetSubjectMetadata:t,selectedAccounts:n,allAccountsSelected:r}=this.props,a=this.getRequestedPermissions(),s=e=>{this.setState({isShowingSnapsPrivacyWarning:e})},u=()=>{s(!1),this.props.setSnapsInstallPrivacyWarningShownStatus(!0)};return o.default.createElement(o.default.Fragment,null,o.default.createElement(o.default.Fragment,null,this.state.isShowingSnapsPrivacyWarning&&o.default.createElement(d.default,{onAccepted:()=>u(),onCanceled:()=>this.onCancel()})),o.default.createElement(f.PermissionPageContainerContent,{requestMetadata:e,subjectMetadata:t,selectedPermissions:a,selectedAccounts:n,allAccountsSelected:r}),o.default.createElement("div",{className:"permission-approval-container__footers"},(null==t?void 0:t.subjectType)!==i.SubjectType.Snap&&o.default.createElement(c.default,null),o.default.createElement(l.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>this.onCancel(),cancelText:this.context.t("cancel"),onSubmit:()=>this.onSubmit(),submitText:this.context.t("connect"),buttonSizeLarge:!1})))}}n.default=y,g(y,"propTypes",{approvePermissionsRequest:r.default.func.isRequired,rejectPermissionsRequest:r.default.func.isRequired,selectedAccounts:r.default.array,allAccountsSelected:r.default.bool,currentPermissions:r.default.object,snapsInstallPrivacyWarningShown:r.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:r.default.func,request:r.default.object,requestMetadata:r.default.object,targetSubjectMetadata:r.default.shape({name:r.default.string,origin:r.default.string.isRequired,subjectType:r.default.string.isRequired,extensionId:r.default.string,iconUrl:r.default.string})}),g(y,"defaultProps",{request:{},requestMetadata:{},selectedAccounts:[],allAccountsSelected:!1,currentPermissions:{}}),g(y,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.component.js"}],[4330,{"../../../selectors":5513,"./permission-page-container.component":4329,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=e("react-redux"),a=e("../../../selectors"),i=(r=e("./permission-page-container.component"))&&r.__esModule?r:{default:r};n.default=(0,o.connect)(((e,t)=>{var n;const{selectedAccounts:r}=t,o=(0,a.getPermissions)(e,null===(n=t.request.metadata)||void 0===n?void 0:n.origin),i=(0,a.getInternalAccounts)(e);return{allInternalAccountsSelected:Object.keys(r).length===Object.keys(i).length&&r.length>1,currentPermissions:o}}))(i.default)}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.container.js"}],[4331,{"./permissions-connect-footer.component":4332},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./permissions-connect-footer.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/index.js"}],[4332,{"../../../helpers/constants/zendesk-url":4925,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o,a,i=u(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),l=u(e("../../../helpers/constants/zendesk-url"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}class d extends s.Component{render(){const{t:e}=this.context;return s.default.createElement("div",{className:"permissions-connect-footer"},s.default.createElement("div",{className:"permissions-connect-footer__text"},s.default.createElement("div",null,e("onlyConnectTrust")),s.default.createElement("div",{className:"permissions-connect-footer__text--link",onClick:()=>{global.platform.openTab({url:l.default.USER_GUIDE_DAPPS})}},e("learnMoreUpperCase"))))}}n.default=d,r=d,o="contextTypes",a={t:i.default.func},(o=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(o))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/permissions-connect-footer.component.js"}],[4333,{"./permissions-connect-header.component":4334},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./permissions-connect-header.component"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/index.js"}],[4334,{"../../../helpers/constants/design-system":4914,"../../ui/box":4752,"../../ui/site-origin":4854,"@metamask/permission-controller":1469,classnames:2655,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=d(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=d(e("classnames")),i=e("@metamask/permission-controller"),s=d(e("../../ui/site-origin")),l=d(e("../../ui/box")),c=e("../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.Component{renderHeaderIcon(){const{iconUrl:e,iconName:t,siteOrigin:n,leftIcon:r,rightIcon:a,subjectType:l}=this.props;return l===i.SubjectType.Snap?null:o.default.createElement("div",{className:"permissions-connect-header__icon"},o.default.createElement(s.default,{chip:!0,siteOrigin:n,title:n,iconSrc:e,name:t,leftIcon:r,rightIcon:a}))}render(){const{boxProps:e,className:t,headerTitle:n,headerText:r}=this.props;return o.default.createElement(l.default,p({className:(0,a.default)("permissions-connect-header",t),flexDirection:c.FLEX_DIRECTION.COLUMN,justifyContent:c.JustifyContent.center},e),this.renderHeaderIcon(),o.default.createElement("div",{className:"permissions-connect-header__title"},n),o.default.createElement("div",{className:"permissions-connect-header__subtitle"},r))}}n.default=m,f(m,"propTypes",{className:r.default.string,iconUrl:r.default.string,iconName:r.default.string.isRequired,siteOrigin:r.default.string.isRequired,headerTitle:r.default.node,boxProps:r.default.shape({...l.default.propTypes}),headerText:r.default.string,leftIcon:r.default.node,rightIcon:r.default.node,subjectType:r.default.string}),f(m,"defaultProps",{iconUrl:null,headerTitle:"",headerText:"",boxProps:{}})}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/permissions-connect-header.component.js"}],[4335,{"./permissions-connect-permission-list":4336},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./permissions-connect-permission-list"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/index.js"}],[4336,{"../../../helpers/utils/permission":4951,"../../../helpers/utils/util":4957,"../../../hooks/useI18nContext":4976,"../../../selectors":5513,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var r=u(e("react")),o=u(e("prop-types")),a=e("react-redux"),i=e("../../../helpers/utils/permission"),s=e("../../../hooks/useI18nContext"),l=e("../../../selectors"),c=e("../../../helpers/utils/util");function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){const{label:n,leftIcon:o,permissionName:a}=e;return r.default.createElement("div",{className:"permission",key:`${a}-${t}`},"string"==typeof o?r.default.createElement("i",{className:o}):o,n,(0,i.getRightIcon)(e))}function p({permissions:e,subjectName:t}){const n=(0,s.useI18nContext)(),o=(0,a.useSelector)(l.getSnapsMetadata);return r.default.createElement("div",{className:"permissions-connect-permission-list"},(0,i.getWeightedPermissions)({t:n,permissions:e,getSubjectName:(0,c.getSnapName)(o),subjectName:t}).map(d))}p.propTypes={permissions:o.default.object.isRequired,subjectName:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/permissions-connect-permission-list.js"}],[4337,{"../../../../app/scripts/lib/util":92,"../../../../shared/constants/app":4120,"../../../../shared/constants/time":4141,"../../../helpers/utils/webcam-utils":4958,"../../../hooks/useI18nContext":4976,"../../ui/page-container/page-container-footer/page-container-footer.component":4837,"./enhanced-reader":4338,"@ngraveio/bc-ur":1990,loglevel:3483,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=m(e("loglevel")),a=e("@ngraveio/bc-ur"),i=m(e("prop-types")),s=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),c=m(e("../../../helpers/utils/webcam-utils")),u=m(e("../../ui/page-container/page-container-footer/page-container-footer.component")),d=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/time"),f=m(e("./enhanced-reader"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g="ACCESSING_CAMERA",y="NEED_TO_ALLOW_ACCESS",b="READY",v=({isReadingWallet:e,handleCancel:t,handleSuccess:n,setErrorTitle:i})=>{const m=(0,d.useI18nContext)(),[h,v]=(0,r.useState)(g),[_,k]=(0,r.useState)(null),[w,x]=(0,r.useState)(new a.URDecoder),[T,E]=(0,r.useState)(0);let C=null;const O=(0,r.useRef)(!1),M=async()=>{try{const{environmentReady:e}=await c.default.checkStatus();if(!e&&(0,s.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=new URL(window.location.href).hash,t=e?e.substring(1):null;global.platform.openExtensionInBrowser(t)}}catch(e){O.current&&k(e)}return P()},S=async()=>{try{const{permissions:e}=await c.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*p.SECOND))),!O.current)return;v(b)}else O.current&&(C=setTimeout(S,p.SECOND),v(y))}catch(e){O.current&&k(e)}},j=t=>{try{if(!t)return;if(w.receivePart(t),E(w.estimatedPercentComplete()),w.isComplete()){const e=w.resultUR();n(e).catch(k)}}catch(t){i(m(e?"QRHardwareUnknownQRCodeTitle":"QRHardwareInvalidTransactionTitle")),k(new Error(m("unknownQrCode")))}},P=()=>{try{S()}catch(e){if(!O.current)return;"NotAllowedError"===e.name?(o.default.info(`Permission denied: '${e}'`),v(y)):k(e)}};(0,r.useEffect)((()=>(O.current=!0,M(),()=>{O.current=!1,clearTimeout(C)})),[]),(0,r.useEffect)((()=>{h===b?P():h===y&&S()}),[h]);const I=()=>{clearTimeout(C),v(g),k(null),x(new a.URDecoder),E(0),M()};return r.default.createElement("div",{className:"qr-scanner"},_?(()=>{let n,o;return"NO_WEBCAM_FOUND"===_.type?(n=m("noWebcamFoundTitle"),o=m("noWebcamFound")):_.message===m("unknownQrCode")?o=m(e?"QRHardwareUnknownWalletQRCode":"unknownQrCode"):_.message===m("QRHardwareMismatchedSignId")?o=m("QRHardwareMismatchedSignId"):(n=m("generalCameraErrorTitle"),o=m("generalCameraError")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__image"},r.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?r.default.createElement("div",{className:"qr-scanner__title"},n):null,r.default.createElement("div",{className:"qr-scanner__error","data-testid":"qr-scanner__error"},o),r.default.createElement(u.default,{onCancel:()=>{i(""),t()},onSubmit:()=>{i(""),I()},cancelText:m("cancel"),submitText:m("tryAgain"),submitButtonType:"confirm"}))})():(()=>{let e;return h===g?e=m("accessingYourCamera"):h===b?e=m("QRHardwareScanInstructions"):h===y&&(e=m("youNeedToAllowCameraAccess")),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"qr-scanner__content"},r.default.createElement(f.default,{handleScan:j})),T>0&&r.default.createElement("div",{className:"qr-scanner__progress","data-testid":"qr-reader-progress-bar",style:{"--progress":`${Math.floor(100*T)}%`}}),e&&r.default.createElement("div",{className:"qr-scanner__status"},e))})())};v.propTypes={isReadingWallet:i.default.bool.isRequired,handleCancel:i.default.func.isRequired,handleSuccess:i.default.func.isRequired,setErrorTitle:i.default.func.isRequired};n.default=v}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/base-reader.js"}],[4338,{"../../../../shared/constants/time":4141,"../../ui/spinner":4856,"@zxing/browser":2260,"@zxing/library":2479,loglevel:3483,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("@zxing/library"),a=e("@zxing/browser"),i=u(e("loglevel")),s=u(e("prop-types")),l=e("../../../../shared/constants/time"),c=u(e("../../ui/spinner"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({handleScan:e})=>{const[t,n]=(0,r.useState)(!1),s=(0,r.useMemo)((()=>{const e=new Map;return e.set(o.DecodeHintType.POSSIBLE_FORMATS,[o.BarcodeFormat.QR_CODE]),new a.BrowserQRCodeReader(e,{delayBetweenScanAttempts:100*l.MILLISECOND,delayBetweenScanSuccess:100*l.MILLISECOND})}),[]);return(0,r.useEffect)((()=>{const t=document.getElementById("video"),r=()=>{n(!0)};t.addEventListener("canplay",r);const o=s.decodeFromVideoDevice(undefined,"video",(t=>{t&&e(t.getText())}));return()=>{t.removeEventListener("canplay",r),o.then((e=>{e&&e.stop()})).catch(i.default.info)}}),[]),r.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},r.default.createElement("video",{id:"video",style:{display:t?"block":"none",width:"100%",filter:"blur(4px)"}}),t?null:r.default.createElement(c.default,{color:"var(--color-warning-default)"}))};p.propTypes={handleScan:s.default.func.isRequired};n.default=p}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/enhanced-reader.js"}],[4339,{"./qr-hardware-popover":4340},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("./qr-hardware-popover"))&&r.__esModule?r:{default:r};n.default=o.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/index.js"}],[4340,{"../../../hooks/useI18nContext":4976,"../../../selectors":5513,"../../../store/actions":5521,"../../ui/popover":4841,"./qr-hardware-sign-request":4341,"./qr-hardware-wallet-importer":4345,"eth-rpc-errors":2865,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("eth-rpc-errors"),i=e("../../../selectors"),s=p(e("../../ui/popover")),l=e("../../../hooks/useI18nContext"),c=e("../../../store/actions"),u=p(e("./qr-hardware-wallet-importer")),d=p(e("./qr-hardware-sign-request"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,l.useI18nContext)(),n=(0,o.useSelector)(i.getCurrentQRHardwareState),{sync:p,sign:f}=n,m=null==p?void 0:p.reading,h=null==f?void 0:f.request,g=m||h,[y,b]=(0,r.useState)(""),{txData:v}=(0,o.useSelector)((e=>e.confirmTransaction)),_=(0,r.useMemo)((()=>v),[null==f||null===(e=f.request)||void 0===e?void 0:e.requestId]),k=(0,o.useDispatch)(),w=(0,r.useCallback)((()=>k((0,c.cancelSyncQRHardware)())),[k]),x=(0,r.useCallback)((()=>{k((0,c.rejectPendingApproval)(_.id,(0,a.serializeError)(a.ethErrors.provider.userRejectedRequest()))),k((0,c.cancelTx)(_)),k((0,c.cancelQRHardwareSignRequest)())}),[k,_]),T=(0,r.useMemo)((()=>{let e="";return h?e=t("QRHardwareSignRequestTitle"):m&&(e=t("QRHardwareWalletImporterTitle")),""!==y&&(e=y),e}),[h,m,t,y]);return g?r.default.createElement(s.default,{title:T,onClose:m?w:x},m&&r.default.createElement(u.default,{handleCancel:w,setErrorTitle:b}),h&&r.default.createElement(d.default,{setErrorTitle:b,handleCancel:x,request:f.request})):null}}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-popover.js"}],[4341,{"./qr-hardware-sign-request.component":4343},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("./qr-hardware-sign-request.component"))&&r.__esModule?r:{default:r};n.default=o.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/index.js"}],[4342,{"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"../../../ui/page-container":4834,"@ngraveio/bc-ur":1990,buffer:2634,"prop-types":3633,"qrcode.react":3673,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=d(e("qrcode.react")),a=e("@ngraveio/bc-ur"),i=d(e("prop-types")),s=e("../../../../hooks/useI18nContext"),l=e("../../../../helpers/constants/design-system"),c=e("../../../ui/page-container"),u=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({type:e,cbor:n,cancelQRHardwareSignRequest:i,toRead:d})=>{const p=(0,s.useI18nContext)(),f=(0,r.useMemo)((()=>new a.UREncoder(new a.UR(t.from(n,"hex"),e),200)),[n,e]),[m,h]=(0,r.useState)(f.nextPart());return(0,r.useEffect)((()=>{const e=setInterval((()=>{h(f.nextPart())}),100);return()=>{clearInterval(e)}}),[f]),r.default.createElement(r.default.Fragment,null,r.default.createElement(u.Box,null,r.default.createElement(u.Text,{align:l.TextAlign.Center},p("QRHardwareSignRequestSubtitle"))),r.default.createElement(u.Box,{paddingTop:4,paddingBottom:4,display:l.Display.Flex,alignItems:l.AlignItems.center,flexDirection:l.FlexDirection.Column},r.default.createElement("div",{style:{padding:20,backgroundColor:"var(--qr-code-white-background)"}},r.default.createElement(o.default,{value:m.toUpperCase(),size:250}))),r.default.createElement(u.Box,{paddingBottom:4,paddingLeft:4,paddingRight:4},r.default.createElement(u.Text,{align:l.TextAlign.Center},p("QRHardwareSignRequestDescription"))),r.default.createElement(c.PageContainerFooter,{onCancel:i,onSubmit:d,cancelText:p("QRHardwareSignRequestCancel"),submitText:p("QRHardwareSignRequestGetSignature"),submitButtonType:"confirm"}))};f.propTypes={type:i.default.string.isRequired,cbor:i.default.string.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,toRead:i.default.func.isRequired};n.default=f}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/player.js"}],[4343,{"../../../../store/actions":5521,"./player":4342,"./reader":4344,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=l(e("prop-types")),a=e("../../../../store/actions"),i=l(e("./player")),s=l(e("./reader"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=({request:e,handleCancel:t,setErrorTitle:n})=>{const[o,l]=(0,r.useState)("play"),c=(0,r.useCallback)((()=>l("read")),[]);return"play"===o?(()=>{const{payload:n}=e;return r.default.createElement(i.default,{type:n.type,cbor:n.cbor,cancelQRHardwareSignRequest:t,toRead:c})})():r.default.createElement(s.default,{cancelQRHardwareSignRequest:t,submitQRHardwareSignature:a.submitQRHardwareSignature,requestId:e.requestId,setErrorTitle:n})};u.propTypes={request:o.default.object.isRequired,handleCancel:o.default.func.isRequired,setErrorTitle:o.default.func.isRequired};n.default=u}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/qr-hardware-sign-request.component.js"}],[4344,{"../../../../hooks/useI18nContext":4976,"../base-reader":4337,"@keystonehq/bc-ur-registry-eth":527,"prop-types":3633,react:3846,uuid:4067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(e("react")),o=e("@keystonehq/bc-ur-registry-eth"),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("uuid")),i=u(e("prop-types")),s=u(e("../base-reader")),l=e("../../../../hooks/useI18nContext");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}const d=({submitQRHardwareSignature:e,cancelQRHardwareSignRequest:t,requestId:n,setErrorTitle:i})=>{const c=(0,l.useI18nContext)();return r.default.createElement(s.default,{isReadingWallet:!1,handleCancel:()=>{t()},handleSuccess:async t=>{if("eth-signature"===t.type){const r=o.ETHSignature.fromCBOR(t.cbor).getRequestId(),s=a.stringify(r);if(s===n)return await e(s,t.cbor.toString("hex"));throw i(c("QRHardwareInvalidTransactionTitle")),new Error(c("QRHardwareMismatchedSignId"))}throw i(c("QRHardwareInvalidTransactionTitle")),new Error(c("unknownQrCode"))},setErrorTitle:i})};d.propTypes={submitQRHardwareSignature:i.default.func.isRequired,cancelQRHardwareSignRequest:i.default.func.isRequired,requestId:i.default.string.isRequired,setErrorTitle:i.default.func.isRequired};n.default=d}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-sign-request/reader.js"}],[4345,{"./qr-hardware-wallet-importer.component":4346},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=(r=e("./qr-hardware-wallet-importer.component"))&&r.__esModule?r:{default:r};n.default=o.default}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/index.js"}],[4346,{"../../../../hooks/useI18nContext":4976,"../../../../store/actions":5521,"../base-reader":4337,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),o=l(e("prop-types")),a=e("../../../../store/actions"),i=l(e("../base-reader")),s=e("../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const c=({handleCancel:e,setErrorTitle:t})=>{const n=(0,s.useI18nContext)();return r.default.createElement(i.default,{isReadingWallet:!0,handleCancel:e,handleSuccess:async e=>{if("crypto-hdkey"===e.type)return await(0,a.submitQRHardwareCryptoHDKey)(e.cbor.toString("hex"));if("crypto-account"===e.type)return await(0,a.submitQRHardwareCryptoAccount)(e.cbor.toString("hex"));throw t(n("QRHardwareUnknownQRCodeTitle")),new Error(n("unknownQrCode"))},setErrorTitle:t})};c.propTypes={handleCancel:o.default.func.isRequired,setErrorTitle:o.default.func.isRequired};n.default=c}}},{package:"$root$",file:"ui/components/app/qr-hardware-popover/qr-hardware-wallet-importer/qr-hardware-wallet-importer.component.js"}],[4347,{"./recovery-phrase-reminder":4348},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./recovery-phrase-reminder"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/index.js"}],[4348,{"../../../helpers/constants/design-system":4914,"../../../helpers/constants/routes":4918,"../../../hooks/useI18nContext":4976,"../../component-library":4543,"../../ui/box":4752,"../../ui/button":4756,"../../ui/popover":4841,"prop-types":3633,react:3846,"react-router-dom":3831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=f(e("react")),o=f(e("prop-types")),a=e("react-router-dom"),i=e("../../../hooks/useI18nContext"),s=f(e("../../ui/box")),l=f(e("../../ui/button")),c=f(e("../../ui/popover")),u=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/routes"),p=e("../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onConfirm:e,hasBackedUp:t}){const n=(0,i.useI18nContext)(),o=(0,a.useHistory)();return r.default.createElement(c.default,{centerTitle:!0,title:n("recoveryPhraseReminderTitle")},r.default.createElement(s.default,{paddingRight:4,paddingBottom:6,paddingLeft:4,className:"recovery-phrase-reminder"},r.default.createElement(p.Text,{color:u.TextColor.textDefault,align:u.TextAlign.Center,variant:u.TextVariant.bodyMd,marginBottom:4},n("recoveryPhraseReminderSubText")),r.default.createElement(s.default,{marginTop:4,marginBottom:8},r.default.createElement("ul",{className:"recovery-phrase-reminder__list"},r.default.createElement(p.Text,{as:"li",color:u.TextColor.textDefault,fontWeight:u.FontWeight.Bold},n("recoveryPhraseReminderItemOne")),r.default.createElement(p.Text,{as:"li"},n("recoveryPhraseReminderItemTwo")),r.default.createElement(p.Text,{as:"li"},t?n("recoveryPhraseReminderHasBackedUp"):r.default.createElement(r.default.Fragment,null,n("recoveryPhraseReminderHasNotBackedUp"),r.default.createElement(s.default,{display:u.DISPLAY.INLINE_BLOCK,marginLeft:1},r.default.createElement(l.default,{type:"link",onClick:()=>{o.push(d.ONBOARDING_UNLOCK_ROUTE)},style:{fontSize:"inherit",padding:0}},n("recoveryPhraseReminderBackupStart"))))))),r.default.createElement(s.default,{justifyContent:u.JustifyContent.center},r.default.createElement(s.default,{width:u.BLOCK_SIZES.TWO_FIFTHS},r.default.createElement(l.default,{type:"primary",onClick:e},n("recoveryPhraseReminderConfirm"))))))}m.propTypes={hasBackedUp:o.default.bool.isRequired,onConfirm:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/recovery-phrase-reminder/recovery-phrase-reminder.js"}],[4349,{"./reveal-SRP-modal":4350},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./reveal-SRP-modal"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/reveal-SRP-modal/index.js"}],[4350,{"../../../helpers/constants/design-system":4914,"../../../hooks/useI18nContext":4976,"../../../store/actions":5521,"../../component-library":4543,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r,o=(r=e("prop-types"))&&r.__esModule?r:{default:r},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),i=e("../../../helpers/constants/design-system"),s=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),c=e("../../component-library");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({setSecretRecoveryPhrase:e,onClose:t,isOpen:n}){const r=(0,s.useI18nContext)(),[o,u]=(0,a.useState)(""),d=(0,a.useCallback)((async t=>{const n=await(0,l.getSeedPhrase)(t);e(n)}),[e]);return a.default.createElement(c.Modal,{isOpen:n,onClose:t,"data-testid":"reveal-srp-modal"},a.default.createElement(c.ModalOverlay,null),a.default.createElement(c.ModalContent,null,a.default.createElement(c.ModalHeader,{onClose:t},r("revealSeedWords")),a.default.createElement(c.Box,{paddingLeft:4,paddingRight:4},a.default.createElement("form",{onSubmit:e=>{e.preventDefault(),d(o)}},a.default.createElement(c.FormTextField,{marginTop:6,id:"account-details-authenticate",label:r("enterYourPassword"),placeholder:r("password"),onChange:e=>u(e.target.value),value:o,variant:i.TextVariant.bodySm,type:"password",labelProps:{fontWeight:i.FontWeight.Medium},autoFocus:!0})),a.default.createElement(c.Box,{display:i.Display.Flex,marginTop:6,gap:2},a.default.createElement(c.ButtonSecondary,{onClick:t,block:!0},r("cancel")),a.default.createElement(c.ButtonPrimary,{onClick:()=>d(o),disabled:""===o,block:!0},r("confirm"))))))}d.propTypes={setSecretRecoveryPhrase:o.default.func.isRequired,onClose:o.default.func.isRequired,isOpen:o.default.bool.isRequired}}}},{package:"$root$",file:"ui/components/app/reveal-SRP-modal/reveal-SRP-modal.js"}],[4351,{"../../../../shared/constants/smartTransactions":4137,"../../../helpers/constants/design-system":4914,"../../../hooks/useI18nContext":4976,"../../../store/actions":5521,"../../component-library":4543,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({isOpen:e,hideWhatsNewPopup:t}){const n=(0,a.useI18nContext)(),c=(0,o.useDispatch)(),u=(0,r.useCallback)((()=>{c((0,l.setSmartTransactionsOptInStatus)(!0))}),[c]),d=(0,r.useCallback)((()=>{c((0,l.setSmartTransactionsOptInStatus)(!1))}),[c]);return(0,r.useEffect)((()=>{e&&t()}),[e,t]),r.default.createElement(s.Modal,{isOpen:e,onClose:u,isClosedOnOutsideClick:!1,isClosedOnEscapeKey:!1,className:"mm-modal__custom-scrollbar mm-smart-transactions-opt-in-modal",autoFocus:!1},r.default.createElement(s.ModalOverlay,null),r.default.createElement(s.ModalContent,null,r.default.createElement(s.ModalHeader,{alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},n("introducingSmartTransactions")),r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,paddingLeft:4,paddingRight:4},r.default.createElement(g,null),r.default.createElement(m,null),r.default.createElement(p,{handleEnableButtonClick:u}),r.default.createElement(f,{handleNotRightNowLinkClick:d}))))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("react-redux"),a=e("../../../hooks/useI18nContext"),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=e("../../../store/actions"),c=e("../../../../shared/constants/smartTransactions");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=()=>{const e=(0,a.useI18nContext)();return r.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Inherit,textProps:{variant:i.TextVariant.bodyMd,alignItems:i.AlignItems.flexStart},as:"a",href:c.SMART_TRANSACTIONS_LEARN_MORE_URL,target:"_blank",rel:"noopener noreferrer"},e("learnMoreUpperCaseWithDot"))},p=({handleEnableButtonClick:e})=>{const t=(0,a.useI18nContext)();return r.default.createElement(s.Button,{marginTop:8,variant:s.ButtonVariant.Primary,onClick:e,width:i.BlockSize.Full},t("enableSmartTransactions"))},f=({handleNotRightNowLinkClick:e})=>{const t=(0,a.useI18nContext)();return r.default.createElement(s.Button,{marginTop:2,type:"link",variant:s.ButtonVariant.Link,onClick:e,width:i.BlockSize.Full},t("notRightNow"))},m=()=>{const e=(0,a.useI18nContext)();return r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},r.default.createElement(s.Text,{variant:i.TextVariant.bodyMd,marginTop:4},e("smartTransactionsDescription")),r.default.createElement(s.Text,{variant:i.TextVariant.bodyMd,marginTop:4},e("smartTransactionsDescription2")),r.default.createElement(s.Text,{variant:i.TextVariant.bodyMd,marginTop:4},e("smartTransactionsDescription3",[r.default.createElement(d,null)])))},h=({text:e,iconName:t})=>r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,className:"mm-smart-transactions-opt-in-modal__benefit",textAlign:i.TextAlign.Center,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.flexStart},r.default.createElement(s.Icon,{name:t,size:s.IconSize.Xl,color:i.IconColor.primaryDefault}),r.default.createElement(s.Text,{variant:i.TextVariant.bodyXs,color:i.TextColor.textAlternative,marginTop:1},e)),g=()=>{const e=(0,a.useI18nContext)();return r.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.center,marginTop:4,paddingLeft:5,paddingRight:5},r.default.createElement(h,{text:e("smartTransactionsBenefit1"),iconName:s.IconName.Confirmation}),r.default.createElement(h,{text:e("smartTransactionsBenefit2"),iconName:s.IconName.SecurityTick}),r.default.createElement(h,{text:e("smartTransactionsBenefit3"),iconName:s.IconName.Clock}))}}}},{package:"$root$",file:"ui/components/app/smart-transactions/smart-transactions-opt-in-modal.tsx"}],[4352,{"../../../../../shared/constants/time":4141,"../../../../helpers/constants/design-system":4914,"../../../../hooks/useCopyToClipboard":4967,"../../../../hooks/useI18nContext":4976,"../../../../hooks/useTimeout":4992,"../../../component-library":4543,"../../../ui/tooltip":4875,"../show-more":4358,classnames:2655,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Copyable=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=m(e("prop-types")),a=m(e("classnames")),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useCopyToClipboard"),l=e("../../../component-library"),c=e("../../../../hooks/useI18nContext"),u=m(e("../../../ui/tooltip")),d=e("../show-more"),p=e("../../../../../shared/constants/time"),f=e("../../../../hooks/useTimeout");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=({text:e,sensitive:t=!1,marginTop:n,marginBottom:o})=>{const m=(0,c.useI18nContext)(),[,h]=(0,s.useCopyToClipboard)(),[g,y]=(0,r.useState)(!t),[b,v]=(0,r.useState)(!1),_=(0,f.useTimeout)((()=>v(!1)),3*p.SECOND,!1),k=e=>{e.stopPropagation(),y((e=>!e))};return r.default.createElement(l.Box,{display:i.Display.Flex,onClick:t&&!g?k:t=>{t.stopPropagation(),h(e),v(!0),_()},className:(0,a.default)("copyable",{sensitive:t,clicked:b,visible:g}),backgroundColor:g&&t?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundAlternative,borderRadius:i.BorderRadius.LG,padding:2,marginTop:n,marginBottom:o},t&&r.default.createElement(l.Box,{marginRight:2,className:"copyable__icon"},r.default.createElement(u.default,{wrapperClassName:"copyable__tooltip",html:r.default.createElement(l.Text,null,m(g?"hideSentitiveInfo":"doNotShare")),position:"bottom"},r.default.createElement(l.Icon,{name:g?l.IconName.EyeSlash:l.IconName.Eye,onClick:k,color:g&&t?i.Color.errorAlternative:i.IconColor.iconAlternative,"data-testid":"reveal-icon"}))),t&&!g&&r.default.createElement(l.Text,{color:i.Color.textAlternative,marginRight:2,marginBottom:0,overflowWrap:i.OverflowWrap.Anywhere},m("revealSensitiveContent")),g&&r.default.createElement(d.ShowMore,{marginRight:2,buttonBackground:g&&t?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundAlternative},r.default.createElement(l.Text,{color:g&&t?i.Color.errorAlternative:i.TextColor.textAlternative,marginBottom:0,overflowWrap:i.OverflowWrap.Anywhere},e)),g&&r.default.createElement(l.Icon,{className:"copyable__icon",name:b?l.IconName.CopySuccess:l.IconName.Copy,color:g&&t?i.Color.errorAlternative:i.IconColor.iconAlternative,marginLeft:"auto","data-testid":"copy-icon"}))};n.Copyable=g,g.propTypes={text:o.default.string,sensitive:o.default.bool,marginTop:o.default.number,marginBottom:o.default.number}}}},{package:"$root$",file:"ui/components/app/snaps/copyable/copyable.js"}],[4353,{"./copyable":4352},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Copyable",{enumerable:!0,get:function(){return r.Copyable}});var r=e("./copyable")}}},{package:"$root$",file:"ui/components/app/snaps/copyable/index.js"}],[4354,{"../../../../helpers/constants/design-system":4914,"../../../component-library":4543,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("react")),o=s(e("prop-types")),a=e("../../../../helpers/constants/design-system"),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}const l=({title:e,error:t,description:n,iconName:o})=>r.default.createElement(i.Box,{display:a.Display.Flex,flexDirection:a.FlexDirection.Column,alignItems:a.AlignItems.center,justifyContent:a.JustifyContent.center,height:a.BlockSize.Full,padding:2},o&&r.default.createElement(i.AvatarIcon,{iconName:o,size:i.AvatarIconSize.Xl,color:a.IconColor.errorDefault,backgroundColor:a.BackgroundColor.errorMuted,marginBottom:4}),r.default.createElement(i.Text,{variant:a.TextVariant.headingLg},e),n&&r.default.createElement(i.Text,{textAlign:a.TextAlign.Center},n),t&&r.default.createElement(i.BannerAlert,{marginTop:4,startAccessory:null,severity:a.Severity.Danger},r.default.createElement(i.Text,{variant:a.TextVariant.bodySm},t)));l.propTypes={title:o.default.node.isRequired,error:o.default.string,description:o.default.string,iconName:o.default.string};n.default=l}}},{package:"$root$",file:"ui/components/app/snaps/install-error/install-error.js"}],[4355,{"./keyring-snap-removal-warning":4357},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./keyring-snap-removal-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/index.ts"}],[4356,{"../../../../../shared/modules/hexstring-utils":4164,"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyringAccountListItem=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../../shared/modules/hexstring-utils"),l=e("../../../../hooks/useI18nContext");n.KeyringAccountListItem=({account:e,snapUrl:t})=>{const n=(0,l.useI18nContext)();return o.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,justifyContent:i.JustifyContent.spaceBetween,borderRadius:i.BorderRadius.MD,borderColor:i.BorderColor.borderDefault,padding:3,width:i.BlockSize.Full,"data-testid":"keyring-account-list-item"},o.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.TenTwelfths},o.default.createElement(a.Box,{flexDirection:i.FlexDirection.Column,marginBottom:2},o.default.createElement(a.Text,{color:i.TextColor.textMuted},n("keyringAccountName")),o.default.createElement(a.Text,null,e.name)),o.default.createElement(a.Box,{flexDirection:i.FlexDirection.Column},o.default.createElement(a.Text,{color:i.TextColor.textMuted},n("keyringAccountPublicAddress")),o.default.createElement(a.Text,{overflowWrap:i.OverflowWrap.Anywhere},(0,s.toChecksumHexAddress)(e.address)))),o.default.createElement(a.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center},o.default.createElement(a.ButtonIcon,{ariaLabel:"snap-url-export","data-testid":"keyring-account-link",iconName:a.IconName.Export,color:i.IconColor.primaryDefault,onClick:()=>{global.platform.openTab({url:t})}})))}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/keyring-account-list-item.tsx"}],[4357,{"../../../../ducks/metamask/metamask":4906,"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"../../../component-library/modal-content/deprecated":4551,"../../../component-library/modal-header/deprecated":4560,"../../../ui/info-tooltip":4807,"./keyring-account-list-item":4356,"@metamask/etherscan-link":1214,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({snap:e,keyringAccounts:t,onCancel:n,onClose:r,onSubmit:h,onBack:g,isOpen:y}){const b=(0,d.useI18nContext)(),[v,_]=(0,o.useState)(!1),[k,w]=(0,o.useState)(!1),[x,T]=(0,o.useState)(""),[E,C]=(0,o.useState)(!1),{chainId:O}=(0,i.useSelector)(f.getProviderConfig);(0,o.useEffect)((()=>{_(0===t.length)}),[t]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(s.Modal,{isOpen:y,onClose:r},o.default.createElement(s.ModalOverlay,null),o.default.createElement(l.ModalContent,{modalDialogProps:{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,gap:4}},o.default.createElement(c.ModalHeader,{onBack:()=>{v?_(!1):g()},onClose:()=>{_(!1),r()}},b("removeSnap")),!1===v?o.default.createElement(o.default.Fragment,null,o.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Warning,className:""},b("backupKeyringSnapReminder")),o.default.createElement(s.Box,{display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween},o.default.createElement(s.Text,null,b("removeKeyringSnap")),o.default.createElement(p.default,{contentText:b("removeKeyringSnapToolTip"),position:"top"})),t.map(((e,t)=>o.default.createElement(m.KeyringAccountListItem,{key:t,account:e,snapUrl:(0,a.getAccountLink)(e.address,O)})))):o.default.createElement(o.default.Fragment,null,o.default.createElement(s.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column,marginTop:6},o.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Warning,className:"",marginBottom:4},b("backupKeyringSnapReminder")),o.default.createElement(s.Text,{marginBottom:4},b("keyringSnapRemoveConfirmation",[o.default.createElement(s.Text,{key:"keyringSnapRemoveConfirmation2",fontWeight:u.FontWeight.Bold,as:"span"},e.manifest.proposedName)])),o.default.createElement(s.TextField,{marginBottom:4,value:x,onChange:t=>{var n;T(t.target.value),w((n=t.target.value,C(!1),n===e.manifest.proposedName||(C(!0),!1)))},error:E,inputProps:{"data-testid":"remove-snap-confirmation-input"}}))),o.default.createElement(s.Box,{width:u.BlockSize.Full,display:u.Display.Flex,gap:4},o.default.createElement(s.Button,{block:!0,variant:s.ButtonVariant.Secondary,size:s.ButtonSize.Lg,onClick:n},b("cancel")),o.default.createElement(s.Button,{block:!0,size:s.ButtonSize.Lg,id:"popoverRemoveSnapButton",danger:v,disabled:v&&!k,onClick:async()=>{v?k&&h():_(!0)}},b(v?"removeSnap":"continue"))))))};var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=e("@metamask/etherscan-link"),i=e("react-redux"),s=e("../../../component-library"),l=e("../../../component-library/modal-content/deprecated"),c=e("../../../component-library/modal-header/deprecated"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../hooks/useI18nContext"),p=(r=e("../../../ui/info-tooltip"))&&r.__esModule?r:{default:r},f=e("../../../../ducks/metamask/metamask"),m=e("./keyring-account-list-item");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/snaps/keyring-snap-removal-warning/keyring-snap-removal-warning.tsx"}],[4358,{"./show-more":4359},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ShowMore",{enumerable:!0,get:function(){return r.ShowMore}});var r=e("./show-more")}}},{package:"$root$",file:"ui/components/app/snaps/show-more/index.js"}],[4359,{"../../../../helpers/constants/design-system":4914,"../../../../hooks/snaps/useIsOverflowing":4961,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ShowMore=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=c(e("prop-types")),a=c(e("../../../../hooks/snaps/useIsOverflowing")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const p=({children:e,...t})=>{const n=(0,l.useI18nContext)(),{contentRef:o,isOverflowing:c}=(0,a.default)(),[u,p]=(0,r.useState)(!1),f=c&&!u;return r.default.createElement(i.Box,d({className:"show-more",style:{position:"relative",overflow:"hidden",maxHeight:u?"none":undefined},ref:o},t),e,f&&r.default.createElement(i.Box,{style:{position:"absolute",bottom:0,right:0,background:`linear-gradient(90deg, transparent 0%, var(--color-${s.BackgroundColor.backgroundDefault}) 33%)`}},r.default.createElement(i.Button,{className:"show-more__button",padding:0,paddingLeft:8,variant:i.ButtonVariant.Link,onClick:e=>{e.stopPropagation(),p(!0)}},r.default.createElement(i.Text,{color:s.TextColor.infoDefault},n("more")))))};n.ShowMore=p,p.propTypes={children:o.default.node,buttonBackground:o.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/show-more/show-more.js"}],[4360,{"./snap-authorship-expanded":4361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./snap-authorship-expanded"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/index.js"}],[4361,{"../../../../helpers/constants/design-system":4914,"../../../../helpers/utils/util":4957,"../../../../hooks/snaps/useSafeWebsite":4962,"../../../../hooks/useI18nContext":4976,"../../../../hooks/useOriginMetadata":4982,"../../../../selectors":5513,"../../../../store/actions":5521,"../../../component-library":4543,"../../../ui/toggle-button":4868,"../../../ui/tooltip/tooltip":4876,"../snap-avatar":4364,"../snap-version/snap-external-pill":4416,"@metamask/snaps-utils":1898,classnames:2655,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@metamask/snaps-utils"),o=_(e("classnames")),a=_(e("prop-types")),i=_(e("react")),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/util"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../hooks/useOriginMetadata"),p=e("../../../../selectors"),f=e("../../../../store/actions"),m=e("../../../component-library"),h=_(e("../../../ui/toggle-button")),g=_(e("../../../ui/tooltip/tooltip")),y=_(e("../snap-avatar")),b=_(e("../snap-version/snap-external-pill")),v=e("../../../../hooks/snaps/useSafeWebsite");function _(e){return e&&e.__esModule?e:{default:e}}const k=({snapId:e,className:t,snap:n})=>{const a=(0,u.useI18nContext)(),_=(0,s.useDispatch)(),k=e&&(0,r.getSnapPrefix)(e),w=e&&(0,r.stripSnapPrefix)(e),x="npm:"===k,T=null!=n&&n.version?`/v/${null==n?void 0:n.version}`:"",E=x?`https://www.npmjs.com/package/${w}${T}`:w,C=(0,s.useSelector)((t=>(0,p.getSnapRegistryData)(t,e))),{name:O}=(0,s.useSelector)((t=>(0,p.getSnapMetadata)(t,e))),{website:M=undefined}=(null==C?void 0:C.metadata)??{},S=(0,v.useSafeWebsite)(M),j=(null==n?void 0:n.versionHistory)??[],P=j.length?j[j.length-1]:undefined,I=(0,d.useOriginMetadata)(null==P?void 0:P.origin);return i.default.createElement(m.Box,{className:(0,o.default)("snaps-authorship-expanded",t),backgroundColor:l.BackgroundColor.backgroundDefault,borderColor:l.BorderColor.borderDefault,borderWidth:1,width:l.BlockSize.Full,borderRadius:l.BorderRadius.LG},i.default.createElement(m.Box,{alignItems:l.AlignItems.center,display:l.Display.Flex,width:l.BlockSize.Full,paddingLeft:4,paddingRight:4,paddingTop:3,paddingBottom:3},i.default.createElement(m.Box,null,i.default.createElement(y.default,{snapId:e})),i.default.createElement(m.Box,{marginLeft:4,marginRight:0,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{overflow:"hidden"}},i.default.createElement(m.Text,{ellipsis:!0,fontWeight:l.FontWeight.Medium},O),i.default.createElement(m.Text,{ellipsis:!0,variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},w))),i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,paddingLeft:4,paddingTop:4,paddingBottom:4,borderColor:l.BorderColor.borderDefault,width:l.BlockSize.Full,style:{borderLeft:l.BorderStyle.none,borderRight:l.BorderStyle.none}},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},a("enabled")),i.default.createElement(m.Box,{style:{maxWidth:"52px"}},i.default.createElement(g.default,{interactive:!0,position:"left",html:a("snapsToggle")},i.default.createElement(h.default,{value:null==n?void 0:n.enabled,onToggle:()=>{null!=n&&n.enabled?_((0,f.disableSnap)(null==n?void 0:n.id)):_((0,f.enableSnap)(null==n?void 0:n.id))}})))),i.default.createElement(m.Box,{padding:4,width:l.BlockSize.Full},S&&i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full,marginBottom:4},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},a("snapDetailWebsite")),i.default.createElement(m.Box,{paddingLeft:8,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexEnd},i.default.createElement(m.ButtonLink,{href:S.toString(),target:"_blank",overflowWrap:l.OverflowWrap.Anywhere},S.host))),I&&P&&i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,width:l.BlockSize.Full},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},a("installOrigin")),i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.flexEnd},i.default.createElement(m.Text,null,I.host),i.default.createElement(m.Text,{color:l.Color.textMuted},a("installedOn",[(0,c.formatDate)(P.date,"dd MMM yyyy")])))),i.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,marginTop:4},i.default.createElement(m.Text,{variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Medium},a("version")),i.default.createElement(b.default,{value:null==n?void 0:n.version,url:E}))))};k.propTypes={snapId:a.default.string,className:a.default.string,snap:a.default.object};n.default=k}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-expanded/snap-authorship-expanded.js"}],[4362,{"./snap-authorship-header":4363},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./snap-authorship-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/index.js"}],[4363,{"../../../../helpers/constants/design-system":4914,"../../../../selectors":5513,"../../../component-library":4543,"../snap-avatar":4364,"../snap-metadata-modal":4380,"@metamask/snaps-utils":1898,classnames:2655,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=f(e("prop-types")),a=f(e("classnames")),i=e("@metamask/snaps-utils"),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../selectors"),u=e("../../../component-library"),d=f(e("../snap-avatar")),p=e("../snap-metadata-modal");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const h=({snapId:e,className:t,boxShadow:n="var(--shadow-size-lg) var(--color-shadow-default)"})=>{const[o,f]=(0,r.useState)(!1),m=e&&(0,i.stripSnapPrefix)(e),{name:h}=(0,s.useSelector)((t=>(0,c.getSnapMetadata)(t,e)));return r.default.createElement(u.Box,{className:(0,a.default)("snaps-authorship-header",t),backgroundColor:l.BackgroundColor.backgroundDefault,width:l.BlockSize.Full,alignItems:l.AlignItems.center,display:l.Display.Flex,padding:4,style:{boxShadow:n}},e&&r.default.createElement(p.SnapMetadataModal,{snapId:e,isOpen:o,onClose:()=>f(!1)}),r.default.createElement(u.Box,null,r.default.createElement(d.default,{snapId:e})),r.default.createElement(u.Box,{marginLeft:4,marginRight:4,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{overflow:"hidden"}},r.default.createElement(u.Text,{ellipsis:!0,fontWeight:l.FontWeight.Medium},h),r.default.createElement(u.Text,{ellipsis:!0,variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},m)),r.default.createElement(u.Box,{marginLeft:"auto"},r.default.createElement(u.AvatarIcon,{className:"snaps-authorship-header__button",iconName:u.IconName.Info,onClick:()=>f(!0),color:l.IconColor.iconMuted,backgroundColor:l.BackgroundColor.backgroundAlternative})))};h.propTypes={snapId:o.default.string,className:o.default.string,boxShadow:o.default.string};n.default=h}}},{package:"$root$",file:"ui/components/app/snaps/snap-authorship-header/snap-authorship-header.js"}],[4364,{"./snap-avatar":4365},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./snap-avatar"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-avatar/index.js"}],[4365,{"../../../../helpers/constants/design-system":4914,"../../../../selectors":5513,"../../../component-library":4543,classnames:2655,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(e("react")),o=u(e("prop-types")),a=u(e("classnames")),i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../component-library"),c=e("../../../../selectors");function u(e){return e&&e.__esModule?e:{default:e}}const d=({snapId:e,badgeSize:t=l.IconSize.Sm,avatarSize:n=l.IconSize.Lg,borderWidth:o=2,className:u})=>{var d;const p=(0,i.useSelector)((t=>(0,c.getTargetSubjectMetadata)(t,e))),{name:f}=(0,i.useSelector)((t=>(0,c.getSnapMetadata)(t,e))),m=null==p?void 0:p.iconUrl,h=(null==f||null===(d=f.match(/[a-z0-9]/iu))||void 0===d?void 0:d[0])??"?";return r.default.createElement(l.BadgeWrapper,{className:(0,a.default)("snap-avatar",u),badge:r.default.createElement(l.AvatarIcon,{iconName:l.IconName.Snaps,size:t,backgroundColor:s.IconColor.infoDefault,borderColor:s.BackgroundColor.backgroundDefault,borderWidth:o,iconProps:{color:s.IconColor.infoInverse}}),position:l.BadgeWrapperPosition.bottomRight},m?r.default.createElement(l.AvatarFavicon,{backgroundColor:s.BackgroundColor.backgroundAlternative,size:n,src:m,name:f}):r.default.createElement(l.AvatarBase,{size:n,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,color:s.TextColor.textAlternative,style:{borderWidth:"0px"},backgroundColor:s.BackgroundColor.backgroundAlternative},h))};d.propTypes={snapId:o.default.string,badgeSize:o.default.string,avatarSize:o.default.string,borderWidth:o.default.number,className:o.default.string};n.default=d}}},{package:"$root$",file:"ui/components/app/snaps/snap-avatar/snap-avatar.js"}],[4366,{"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../../selectors":5513,"../../../component-library":4543,"../../../ui/box":4752,"../../../ui/tooltip/tooltip":4876,"../snap-avatar/snap-avatar":4365,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var r=f(e("react")),o=f(e("prop-types")),a=e("react-redux"),i=f(e("../../../ui/box")),s=e("../../../../helpers/constants/design-system"),l=e("../../../component-library"),c=f(e("../../../ui/tooltip/tooltip")),u=e("../../../../hooks/useI18nContext"),d=f(e("../snap-avatar/snap-avatar")),p=e("../../../../selectors");function f(e){return e&&e.__esModule?e:{default:e}}function m({origin:e,snapId:t}){const n=(0,u.useI18nContext)(),{name:o}=(0,a.useSelector)((e=>(0,p.getSnapMetadata)(e,t)));return r.default.createElement(i.default,{alignItems:s.AlignItems.center,paddingTop:2,paddingBottom:2,display:s.Display.Flex},r.default.createElement(d.default,{snapId:t}),r.default.createElement(i.default,{width:"full",marginLeft:4,marginRight:4},r.default.createElement(l.Text,null,n("connectSnap",[r.default.createElement(l.Text,{as:l.ValidTag.Span,key:"1",fontWeight:s.FontWeight.Bold},o)]))),r.default.createElement(i.default,null,r.default.createElement(c.default,{html:r.default.createElement("div",null,n("snapConnectionWarning",[r.default.createElement("b",{key:"0"},e),r.default.createElement("b",{key:"1"},o)])),position:"bottom"},r.default.createElement(l.Icon,{color:s.IconColor.iconMuted,name:l.IconName.Info,size:l.IconSize.Sm}))))}m.propTypes={origin:o.default.string.isRequired,snapId:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-connect-cell/snap-connect-cell.js"}],[4367,{"./snap-delineator":4368},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapDelineator",{enumerable:!0,get:function(){return r.SnapDelineator}});var r=e("./snap-delineator")}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/index.js"}],[4368,{"../../../../helpers/constants/design-system":4914,"../../../../helpers/constants/snaps":4921,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"../../../ui/pulse-loader/pulse-loader":4844,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapDelineator=void 0;var r=u(e("react")),o=u(e("prop-types")),a=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../../helpers/constants/snaps"),c=u(e("../../../ui/pulse-loader/pulse-loader"));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const p=({snapName:e,type:t=l.DelineatorType.default,isLoading:n=!1,isCollapsable:o=!1,isCollapsed:u=!1,children:p,onClick:f,boxProps:m})=>{const h=(0,a.useI18nContext)(),g=t===l.DelineatorType.Error||t===l.DelineatorType.Warning;return r.default.createElement(s.Box,d({className:"snap-delineator__wrapper",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,borderStyle:i.BorderStyle.solid,borderColor:i.BorderColor.borderDefault,borderRadius:i.BorderRadius.LG,backgroundColor:g?i.BackgroundColor.errorMuted:i.BackgroundColor.backgroundDefault},m,{style:{minHeight:n&&"180px",...null==m?void 0:m.style}}),r.default.createElement(s.Box,{className:"snap-delineator__header",display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,padding:1,style:{borderBottomWidth:u?0:1}},r.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,className:"snap-delineator__header__container"},r.default.createElement(s.AvatarIcon,{iconName:s.IconName.Snaps,className:"snap-delineator__header__icon",size:s.AvatarIconSize.Xs,backgroundColor:g?i.IconColor.errorDefault:i.IconColor.infoDefault,iconProps:{color:i.IconColor.infoInverse}}),r.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textDefault,className:"snap-delineator__header__text",marginLeft:1,marginTop:0,marginBottom:0,marginRight:1,display:"block"},h((0,l.getDelineatorTitle)(t),[e]))),o&&r.default.createElement(s.Icon,{name:u?s.IconName.ArrowDown:s.IconName.ArrowUp,size:s.IconSize.Sm,color:i.IconColor.iconMuted,className:"snap-delineator__expansion-icon",onClick:f})),r.default.createElement(s.Box,{className:"snap-delineator__content",padding:4,display:o&&u?i.Display.None:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:n&&i.AlignItems.center,justifyContent:n&&i.JustifyContent.center,style:{flexGrow:n&&"1"}},n?r.default.createElement(c.default,null):p))};n.SnapDelineator=p,p.propTypes={snapName:o.default.string,type:o.default.string,isCollapsable:o.default.bool,isCollapsed:o.default.bool,isLoading:o.default.bool,onClick:o.default.func,boxProps:o.default.object,children:o.default.node}}}},{package:"$root$",file:"ui/components/app/snaps/snap-delineator/snap-delineator.js"}],[4369,{"../../../../helpers/constants/design-system":4914,"../../../../helpers/constants/routes":4918,"../../../../helpers/constants/snaps":4921,"../../../../hooks/useI18nContext":4976,"../../../../selectors":5513,"../../../../store/actions":5521,"../../../component-library":4543,"../copyable":4353,"../snap-delineator":4367,"../snap-ui-renderer":4411,"./useSnapHome":4370,"prop-types":3633,react:3846,"react-redux":3811,"react-router-dom":3831},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapHomeRenderer=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),a=(r=e("prop-types"))&&r.__esModule?r:{default:r},i=e("react-router-dom"),s=e("react-redux"),l=e("../../../component-library"),c=e("../snap-ui-renderer"),u=e("../../../../selectors"),d=e("../snap-delineator"),p=e("../../../../helpers/constants/snaps"),f=e("../../../../helpers/constants/design-system"),m=e("../copyable"),h=e("../../../../hooks/useI18nContext"),g=e("../../../../store/actions"),y=e("../../../../helpers/constants/routes"),b=e("./useSnapHome");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const _=({snapId:e})=>{const t=(0,s.useDispatch)(),n=(0,h.useI18nContext)(),{name:r}=(0,s.useSelector)((t=>(0,u.getSnapMetadata)(t,e))),a=(0,s.useSelector)(u.getMemoizedUnapprovedTemplatedConfirmations),v=(0,s.useSelector)(u.getMemoizedUnapprovedConfirmations),_=(0,i.useHistory)(),{data:k,error:w,loading:x}=(0,b.useSnapHome)({snapId:e}),T=x||w?undefined:null==k?void 0:k.id;return(0,o.useEffect)((()=>()=>T&&t((0,g.deleteInterface)(T))),[T]),(0,o.useEffect)((()=>{const t=a.find((t=>t.origin===e)),n=v.find((t=>t.origin===e));t?_.push(`${y.CONFIRMATION_V_NEXT_ROUTE}/${t.id}`):n&&_.push(`${y.CONFIRM_TRANSACTION_ROUTE}/${n.id}`)}),[a,v,_]),o.default.createElement(l.Box,null,w&&o.default.createElement(d.SnapDelineator,{snapName:r,type:p.DelineatorType.Error},o.default.createElement(l.Text,{variant:f.TextVariant.bodySm,marginBottom:4},n("snapsUIError",[o.default.createElement("b",{key:"0"},r)])),o.default.createElement(m.Copyable,{text:w.message})),(T||x)&&o.default.createElement(c.SnapUIRenderer,{snapId:e,interfaceId:T,isLoading:x}))};n.SnapHomeRenderer=_,_.propTypes={snapId:a.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-home-page/snap-home-renderer.js"}],[4370,{"../../../../store/actions":5521,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapHome=function({snapId:e}){const[t,n]=(0,r.useState)(!0),[a,i]=(0,r.useState)(undefined),[s,l]=(0,r.useState)(undefined);return(0,r.useEffect)((()=>{let t=!1;return async function(){try{l(undefined),n(!0);const r=await(0,o.handleSnapRequest)({snapId:e,origin:"",handler:"onHomePage",request:{jsonrpc:"2.0",method:" "}});t||i(r)}catch(e){t||l(e)}finally{t||n(!1)}}(),()=>t=!0}),[e]),{data:a,error:s,loading:t}};var r=e("react"),o=e("../../../../store/actions")}}},{package:"$root$",file:"ui/components/app/snaps/snap-home-page/useSnapHome.js"}],[4371,{"../../../../helpers/constants/design-system":4914,"../../../../helpers/constants/snaps":4921,"../../../../hooks/snaps/useTransactionInsightSnaps":4963,"../../../../hooks/useI18nContext":4976,"../../../../selectors":5513,"../../../../store/actions":5521,"../../../component-library":4543,"../../../ui/box/box":4751,"../copyable":4353,"../snap-delineator":4367,"../snap-ui-renderer":4411,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapInsight=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=y(e("prop-types")),a=e("react-redux"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),c=y(e("../../../ui/box/box")),u=e("../snap-ui-renderer"),d=e("../snap-delineator"),p=e("../../../../helpers/constants/snaps"),f=e("../copyable"),m=e("../../../../selectors"),h=e("../../../../store/actions"),g=e("../../../../hooks/snaps/useTransactionInsightSnaps");function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const v=({snapId:e,loading:t,insightHookParams:n})=>{var o,y;const b=(0,a.useDispatch)(),v=(0,l.useI18nContext)();let _,k,w=t;const x=(0,g.useTransactionInsightSnaps)(n);_=null===(o=x.data)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.error,k=null===(y=x.data)||void 0===y||null===(y=y[0])||void 0===y||null===(y=y.response)||void 0===y?void 0:y.id,w=x.loading,(0,r.useEffect)((()=>()=>{k&&b((0,h.deleteInterface)(k))}),[k]);const{name:T}=(0,a.useSelector)((t=>(0,m.getSnapMetadata)(t,e))),E=!_&&!w&&!k;return r.default.createElement(c.default,{flexDirection:s.FLEX_DIRECTION.COLUMN,height:"full",marginTop:E&&12,marginBottom:E&&12,alignItems:E&&s.AlignItems.center,justifyContent:E&&s.JustifyContent.center,textAlign:E&&s.TextAlign.Center,className:"snap-insight"},!_&&r.default.createElement(c.default,{height:"full",width:"full",flexDirection:s.FLEX_DIRECTION.COLUMN,className:"snap-insight__container"},w||k?r.default.createElement(u.SnapUIRenderer,{snapId:e,interfaceId:k,delineatorType:p.DelineatorType.Insights,isLoading:w}):r.default.createElement(i.Text,{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySm,as:"h6"},v("snapsNoInsight"))),!w&&_&&r.default.createElement(c.default,{padding:4,className:"snap-insight__container__error"},r.default.createElement(d.SnapDelineator,{snapName:T,type:p.DelineatorType.Error},r.default.createElement(i.Text,{variant:s.TextVariant.bodySm,marginBottom:4},v("snapsUIError",[r.default.createElement("b",{key:"0"},T)])),r.default.createElement(f.Copyable,{text:_.message}))))};n.SnapInsight=v,v.propTypes={snapId:o.default.string,loading:o.default.bool,insightHookParams:o.default.object}}}},{package:"$root$",file:"ui/components/app/snaps/snap-insight/snap-insight.js"}],[4372,{"./snap-install-warning":4373},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./snap-install-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/index.js"}],[4373,{"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"../../permission-cell":4322,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=c(e("prop-types")),a=e("../../../../hooks/useI18nContext"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=c(e("../../permission-cell"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({onCancel:e,onSubmit:t,warnings:n,snapName:o}){const c=(0,a.useI18nContext)(),[u,d]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!0);function m(e,t){const n=function(e){if(1===e.length)return[r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,as:"span",key:"warningMessageSubject"},e[0].warningMessageSubject)];if(2===e.length){const t=e[0].warningMessageSubject,n=e[1].warningMessageSubject;return[r.default.createElement(s.Text,{fontWeight:i.FontWeight.Normal,as:"span",key:"warningMessageSubject"},c("andForTwoItems",[r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t}_and_first`},t),r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${n}_and_second`},n)]))]}return e.map(((t,n)=>e.length-1===n?[]:e.length-2===n?[r.default.createElement(s.Text,{fontWeight:i.FontWeight.Normal,as:"span",key:`${t.permissionName}_and_${n}`},c("andForListItems",[r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t.permissionName}_and_first_${n}`},t.warningMessageSubject),r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,variant:i.TextVariant.inherit,key:`${t.permissionName}_and_second_first_${n}`},e[e.length-1].warningMessageSubject)]))]:[r.default.createElement("span",{key:`${t.permissionName}_${n}`},r.default.createElement(s.Text,{fontWeight:i.FontWeight.Medium,as:"span"},t.warningMessageSubject,", "))]))}(e);return r.default.createElement(s.Box,{as:"span",marginBottom:4},r.default.createElement(l.default,{permissionName:r.default.createElement(s.Text,null,c(t.name,[n])),title:r.default.createElement(s.Text,null,c(t.title,[n])),description:c(t.description,[r.default.createElement(s.Text,{color:i.TextColor.inherit,variant:i.TextVariant.inherit,fontWeight:i.FontWeight.Medium,key:"1"},o)]),weight:1,avatarIcon:s.IconName.Key,key:`snapInstallWarningPermissionCellKeyEntropy_${t.permissionName}`,hideStatus:!0,margin:0}))}const h={name:"snapInstallWarningPermissionNameForViewPublicKey",title:"snapInstallWarningPermissionNameForViewPublicKey",description:"snapInstallWarningPermissionDescriptionForBip32View"},g={name:"snapInstallWarningPermissionNameForEntropy",title:"snapInstallWarningPermissionNameForEntropy",description:"snapInstallWarningPermissionDescriptionForEntropy"},y=n.filter((e=>"snap_getBip32PublicKey"===e.permissionName)),b=n.filter((e=>"snap_getBip32Entropy"===e.permissionName||"snap_getBip44Entropy"===e.permissionName));return r.default.createElement(s.Modal,{onClose:e,isOpen:p,className:"snap-install-warning"},r.default.createElement(s.ModalContent,null,r.default.createElement(s.ModalHeader,{onClose:e},r.default.createElement(s.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.center,marginBottom:4},r.default.createElement(s.AvatarIcon,{iconName:s.IconName.Danger,backgroundColor:i.BackgroundColor.warningMuted,color:i.IconColor.warningDefault,size:s.AvatarIconSize.Xl}))),r.default.createElement(s.ModalBody,null,r.default.createElement(s.Text,{paddingBottom:4,textAlign:i.TextAlign.Center,variant:i.TextVariant.headingMd,as:"h2"},c("snapInstallWarningHeading")),r.default.createElement(s.Text,{paddingBottom:4,textAlign:i.TextAlign.Left},c("snapInstallWarningCheck",[r.default.createElement(s.Text,{key:"snapNameInWarningDescription",fontWeight:i.FontWeight.Medium,as:"span"},o)])),b.length>0&&m(b,g),y.length>0&&m(y,h),r.default.createElement(s.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.flexStart,alignItems:i.AlignItems.center,marginTop:4,padding:4,borderRadius:i.BorderRadius.SM,backgroundColor:u?i.BackgroundColor.infoMuted:i.BackgroundColor.backgroundAlternative},r.default.createElement(s.Checkbox,{isRequired:!0,onChange:()=>d((e=>!e)),isChecked:u,label:r.default.createElement(s.Text,{as:"span"},"Install"," ",r.default.createElement(s.Text,{as:"span",fontWeight:i.FontWeight.Medium},o))}))),r.default.createElement(s.ModalFooter,{onSubmit:function(){f(!1),t()},submitButtonProps:{children:c("confirm"),disabled:!u}})))}d.propTypes={onCancel:o.default.func,onSubmit:o.default.func,warnings:o.default.arrayOf({id:o.default.string,permissionName:o.default.string,warningMessageSubject:o.default.oneOfType([o.default.string,o.default.element])}),snapName:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-install-warning/snap-install-warning.js"}],[4374,{"./snap-legacy-authorship-header":4375},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./snap-legacy-authorship-header"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-legacy-authorship-header/index.js"}],[4375,{"../../../../helpers/constants/design-system":4914,"../../../../selectors":5513,"../../../component-library":4543,"../snap-avatar":4364,"@metamask/snaps-utils":1898,classnames:2655,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=p(e("react")),o=p(e("prop-types")),a=p(e("classnames")),i=e("@metamask/snaps-utils"),s=e("react-redux"),l=e("../../../../helpers/constants/design-system"),c=e("../../../component-library"),u=e("../../../../selectors"),d=p(e("../snap-avatar"));function p(e){return e&&e.__esModule?e:{default:e}}const f=({snapId:e,className:t,marginLeft:n,marginRight:o})=>{const p=e&&(0,i.stripSnapPrefix)(e),{name:f}=(0,s.useSelector)((t=>(0,u.getSnapMetadata)(t,e)));return r.default.createElement(c.Box,{className:(0,a.default)("snap-legacy-authorship-header",t),backgroundColor:l.BackgroundColor.backgroundDefault,width:l.BlockSize.Full,alignItems:l.AlignItems.center,display:l.Display.Flex,padding:2,borderColor:l.BorderColor.borderDefault,borderRadius:l.BorderRadius.pill,marginLeft:n,marginRight:o},r.default.createElement(c.Box,null,r.default.createElement(d.default,{snapId:e})),r.default.createElement(c.Box,{marginLeft:4,marginRight:4,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{overflow:"hidden"}},r.default.createElement(c.Text,{ellipsis:!0,fontWeight:l.FontWeight.Medium},f),r.default.createElement(c.Text,{ellipsis:!0,variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},p)))};f.propTypes={snapId:o.default.string,className:o.default.string,marginLeft:o.default.number,marginRight:o.default.number};n.default=f}}},{package:"$root$",file:"ui/components/app/snaps/snap-legacy-authorship-header/snap-legacy-authorship-header.js"}],[4376,{"./snap-link-warning":4377},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./snap-link-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-link-warning/index.js"}],[4377,{"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"../../../component-library/modal-content/deprecated":4551,"../../../component-library/modal-header/deprecated":4560,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r=u(e("react")),o=u(e("prop-types")),a=e("../../../component-library"),i=e("../../../component-library/modal-content/deprecated"),s=e("../../../component-library/modal-header/deprecated"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext");function u(e){return e&&e.__esModule?e:{default:e}}function d({isOpen:e,onClose:t,url:n}){const o=(0,c.useI18nContext)(),u=n&&new URL(n),d=u&&n.split(u.host);return r.default.createElement(a.Modal,{isOpen:e,onClose:t},r.default.createElement(a.ModalOverlay,null),r.default.createElement(i.ModalContent,{modalDialogProps:{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:4}},r.default.createElement(s.ModalHeader,{onClose:t,childrenWrapperProps:{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,alignItems:l.AlignItems.center,gap:2}},r.default.createElement(a.Icon,{name:a.IconName.Danger,color:l.IconColor.warningDefault,size:a.AvatarIconSize.Xl}),r.default.createElement(a.Text,{variant:l.TextVariant.headingMd},o("leaveMetaMask")),r.default.createElement(a.Text,{textAlign:l.TextAlign.Center},o("leaveMetaMaskDesc"))),r.default.createElement(a.ButtonLink,{externalLink:!0,href:n,width:l.BlockSize.Full,textProps:{width:l.BlockSize.Full}},r.default.createElement(a.Box,{display:l.Display.Flex,FlexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center,backgroundColor:l.BackgroundColor.backgroundAlternative,borderColor:l.BorderColor.borderDefault,borderStyle:l.BorderStyle.solid,borderRadius:l.BorderRadius.MD,paddingTop:3,paddingBottom:3,paddingRight:4,paddingLeft:4,width:l.BlockSize.Full},u&&r.default.createElement(a.Text,{ellipsis:!0,style:{overflow:"hidden"},color:l.TextColor.primaryDefault},d[0],r.default.createElement("b",null,u.host),d[1]),r.default.createElement(a.Icon,{name:a.IconName.Export,color:l.IconColor.iconAlternative,marginLeft:2}))),r.default.createElement(a.Box,{width:l.BlockSize.Full,display:l.Display.Flex,gap:4},r.default.createElement(a.Button,{block:!0,variant:a.ButtonVariant.Secondary,size:a.ButtonSize.Lg,onClick:t},o("back")),r.default.createElement(a.Button,{block:!0,size:a.ButtonSize.Lg,"data-testid":"modalSnapLinkButton",href:n,externalLink:!0,onClick:t},o("visitSite")))))}d.propTypes={isOpen:o.default.bool,onClose:o.default.func,url:o.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-link-warning/snap-link-warning.js"}],[4378,{"./snap-list-item":4379},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./snap-list-item"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-list-item/index.js"}],[4379,{"../../../../helpers/constants/design-system":4914,"../../../component-library":4543,"../snap-avatar":4364,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=l(e("react")),o=l(e("prop-types")),a=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),s=l(e("../snap-avatar"));function l(e){return e&&e.__esModule?e:{default:e}}const c=({name:e,packageName:t,onClick:n,snapId:o,showUpdateDot:l})=>r.default.createElement(i.Box,{className:"snap-list-item","data-testid":o,display:a.Display.Flex,alignItems:a.AlignItems.center,justifyContent:a.JustifyContent.spaceBetween,width:a.BlockSize.Full,padding:4,onClick:n},r.default.createElement(i.Box,{className:"snap-list-item__inner-wrapper",display:a.Display.Flex,alignItems:a.AlignItems.center,justifyContent:a.JustifyContent.flexStart,width:a.BlockSize.Full},r.default.createElement(i.Box,null,r.default.createElement(s.default,{snapId:o})),r.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,width:a.BlockSize.Full,style:{overflow:"hidden"}},r.default.createElement(i.Text,{className:"snap-list-item__title",color:a.Color.textDefault,variant:a.TextVariant.bodyMd,ellipsis:!0},e),r.default.createElement(i.Text,{className:"snap-list-item__url",color:a.Color.textAlternative,variant:a.TextVariant.bodySm,ellipsis:!0},t))),l&&r.default.createElement(i.Box,{display:a.Display.Flex},r.default.createElement(i.Icon,{name:i.IconName.FullCircle,size:i.IconSize.Xs,color:a.IconColor.primaryDefault})));c.propTypes={name:o.default.string,packageName:o.default.string,onClick:o.default.func,snapId:o.default.string.isRequired,showUpdateDot:o.default.bool};n.default=c}}},{package:"$root$",file:"ui/components/app/snaps/snap-list-item/snap-list-item.js"}],[4380,{"./snap-metadata-modal":4381},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapMetadataModal",{enumerable:!0,get:function(){return r.SnapMetadataModal}});var r=e("./snap-metadata-modal")}}},{package:"$root$",file:"ui/components/app/snaps/snap-metadata-modal/index.js"}],[4381,{"../../../../helpers/constants/design-system":4914,"../../../../helpers/constants/snaps":4921,"../../../../helpers/utils/util":4957,"../../../../hooks/snaps/useSafeWebsite":4962,"../../../../hooks/useI18nContext":4976,"../../../../hooks/useOriginMetadata":4982,"../../../../selectors":5513,"../../../component-library":4543,"../../../ui/tooltip":4875,"../show-more":4358,"../snap-avatar":4364,"../snap-delineator":4367,"../snap-version/snap-external-pill":4416,"@metamask/snaps-utils":1898,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapMetadataModal=void 0;var r=_(e("react")),o=_(e("prop-types")),a=e("react-redux"),i=e("@metamask/snaps-utils"),s=e("../../../../selectors"),l=e("../../../component-library"),c=e("../../../../helpers/constants/design-system"),u=_(e("../snap-avatar")),d=e("../../../../helpers/utils/util"),p=e("../../../../hooks/useI18nContext"),f=e("../../../../hooks/useOriginMetadata"),m=e("../snap-delineator"),h=e("../../../../helpers/constants/snaps"),g=e("../show-more"),y=_(e("../snap-version/snap-external-pill")),b=e("../../../../hooks/snaps/useSafeWebsite"),v=_(e("../../../ui/tooltip"));function _(e){return e&&e.__esModule?e:{default:e}}const k=({snapId:e,isOpen:t,onClose:n})=>{const o=(0,p.useI18nContext)(),_=(0,a.useSelector)((t=>(0,s.getTargetSubjectMetadata)(t,e))),{name:k,description:w}=(0,a.useSelector)((t=>(0,s.getSnapMetadata)(t,e))),x=(0,a.useSelector)((t=>(0,s.getSnap)(t,e))),T=(null==x?void 0:x.versionHistory)??[],E=T.length?T[T.length-1]:undefined,C=(0,f.useOriginMetadata)(null==E?void 0:E.origin),O=(0,i.getSnapPrefix)(e),M=(0,i.stripSnapPrefix)(e),S="npm:"===O,j=null!=_&&_.version?`/v/${null==_?void 0:_.version}`:"",P=S?`https://www.npmjs.com/package/${M}${j}`:M,I=(0,a.useSelector)((t=>(0,s.getSnapRegistryData)(t,e))),{website:N=undefined}=(null==I?void 0:I.metadata)??{},D=(0,b.useSafeWebsite)(N);return r.default.createElement(l.Modal,{isOpen:t,onClose:n,className:"snap-metadata-modal"},r.default.createElement(l.ModalOverlay,null),r.default.createElement(l.ModalContent,{modalDialogProps:{display:c.Display.Flex,flexDirection:c.FlexDirection.Column}},r.default.createElement(l.ModalHeader,{onClose:n,childrenWrapperProps:{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.center,gap:2,marginBottom:6}},r.default.createElement(l.Box,null,r.default.createElement(u.default,{snapId:e})),r.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,textAlign:c.TextAlign.Center},k)),r.default.createElement(l.Box,{marginLeft:4,marginRight:4},D&&r.default.createElement(l.Box,{display:c.Display.Flex,FlexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap},r.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:4},o("snapDetailWebsite")),r.default.createElement(l.ButtonLink,{overflowWrap:c.OverflowWrap.Anywhere,href:D.toString(),target:"_blank",externalLink:!0,textAlign:c.TextAlign.End,ellipsis:!0},D.host)),C&&r.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap,marginTop:4},r.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,marginRight:4},r.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:1},o("installOrigin")),E&&r.default.createElement(v.default,{html:o("installedOn",[(0,d.formatDate)(E.date,"dd MMM yyyy")]),position:"bottom"},r.default.createElement(l.Icon,{color:c.IconColor.iconMuted,name:l.IconName.Info,size:l.IconSize.Sm}))),r.default.createElement(l.Text,{ellipsis:!0},C.host)),r.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap,marginTop:4},r.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,marginRight:4},r.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:1},o("source")),r.default.createElement(v.default,{html:o("metadataModalSourceTooltip",[r.default.createElement(l.Text,{key:"snap-name",fontWeight:c.FontWeight.Medium,variant:c.TextVariant.inherit},k),r.default.createElement(l.Text,{key:"snap-id",fontWeight:c.FontWeight.Medium,variant:c.TextVariant.inherit},M)]),position:"bottom"},r.default.createElement(l.Icon,{color:c.IconColor.iconMuted,name:l.IconName.Info,size:l.IconSize.Sm}))),r.default.createElement(y.default,{value:M,url:P})),r.default.createElement(l.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,flexWrap:c.FlexWrap.NoWrap,marginTop:4},r.default.createElement(l.Text,{variant:c.TextVariant.bodyMdMedium,marginRight:4},o("version")),r.default.createElement(l.Text,{ellipsis:!0},null==_?void 0:_.version)),r.default.createElement(m.SnapDelineator,{type:h.DelineatorType.Description,snapName:k,boxProps:{marginTop:4}},r.default.createElement(g.ShowMore,null,r.default.createElement(l.Text,null,w))))))};n.SnapMetadataModal=k,k.propTypes={snapId:o.default.string,isOpen:o.default.bool,onClose:o.default.func}}}},{package:"$root$",file:"ui/components/app/snaps/snap-metadata-modal/snap-metadata-modal.js"}],[4382,{"./snap-permissions-list":4383},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./snap-permissions-list"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/index.js"}],[4383,{"../../../../helpers/utils/permission":4951,"../../../../helpers/utils/util":4957,"../../../../hooks/useI18nContext":4976,"../../../../selectors":5513,"../../../component-library":4543,"../../permission-cell":4322,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var r=p(e("react")),o=p(e("prop-types")),a=e("react-redux"),i=e("../../../../helpers/utils/permission"),s=e("../../../../hooks/useI18nContext"),l=p(e("../../permission-cell")),c=e("../../../component-library"),u=e("../../../../selectors"),d=e("../../../../helpers/utils/util");function p(e){return e&&e.__esModule?e:{default:e}}function f({snapId:e,snapName:t,permissions:n,showOptions:o}){const p=(0,s.useI18nContext)(),f=(0,a.useSelector)(u.getSnapsMetadata);return r.default.createElement(c.Box,{paddingTop:2,paddingBottom:2,className:"snap-permissions-list"},(0,i.getWeightedPermissions)({t:p,permissions:n,subjectName:t,getSubjectName:(0,d.getSnapName)(f)}).map(((t,n)=>{var a;return r.default.createElement(l.default,{snapId:e,permissionName:t.permissionName,title:t.label,description:t.description,weight:t.weight,avatarIcon:t.leftIcon,dateApproved:null==t||null===(a=t.permissionValue)||void 0===a?void 0:a.date,key:`${t.permissionName}-${n}`,showOptions:o})})))}f.propTypes={snapId:o.default.string.isRequired,snapName:o.default.string.isRequired,permissions:o.default.object.isRequired,showOptions:o.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-permissions-list/snap-permissions-list.js"}],[4384,{"./snap-privacy-warning":4385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./snap-privacy-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/index.js"}],[4385,{"../../../../../shared/constants/terms":4140,"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../../hooks/useScrollRequired":4986,"../../../component-library":4543,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r=u(e("react")),o=u(e("prop-types")),a=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useScrollRequired"),c=e("../../../../../shared/constants/terms");function u(e){return e&&e.__esModule?e:{default:e}}function d({onAccepted:e,onCanceled:t}){const n=(0,a.useI18nContext)(),{isScrollable:o,isScrolledToBottom:u,scrollToBottom:d,ref:p,onScroll:f}=(0,l.useScrollRequired)();return r.default.createElement(i.Modal,{onClose:()=>null,isOpen:!0,className:"snap-install-warning"},r.default.createElement(i.ModalContent,null,r.default.createElement(i.ModalBody,{className:"snap-privacy-warning"},r.default.createElement(i.Box,null,r.default.createElement(i.Box,{className:"snap-privacy-warning__header"},r.default.createElement(i.Box,{marginTop:4,className:"snap-privacy-warning__header__info-icon",display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},r.default.createElement(i.AvatarIcon,{iconName:i.IconName.Info,color:s.IconColor.infoDefault,backgroundColor:s.BackgroundColor.primaryMuted,size:i.AvatarIconSize.Md})),r.default.createElement(i.Box,{className:"snap-privacy-warning__header__title",marginTop:4,marginBottom:4,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},r.default.createElement(i.Text,{variant:s.TextVariant.headingMd,fontWeight:s.FontWeight.Bold},n("thirdPartySoftware")))),r.default.createElement(i.Box,{className:"snap-privacy-warning__content",ref:p,onScroll:f},r.default.createElement(i.Box,{className:"snap-privacy-warning__message"},r.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},n("snapsPrivacyWarningFirstMessage",[r.default.createElement(i.ButtonLink,{className:"snap-privacy-warning__content__terms-link",key:"privacyNoticeTermsOfUseLink",size:i.ButtonLinkSize.Inherit,href:c.TERMS_OF_USE_LINK,target:"_blank"},"Â ",n("snapsTermsOfUse"),"Â ")])),r.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,paddingTop:6},n("snapsPrivacyWarningSecondMessage")),r.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Bold,paddingTop:6},n("snapsPrivacyWarningThirdMessage"))),o&&!u?r.default.createElement(i.AvatarIcon,{className:"snap-privacy-warning__content__scroll-button","data-testid":"snap-privacy-warning-scroll",iconName:i.IconName.Arrow2Down,backgroundColor:s.BackgroundColor.infoDefault,color:s.IconColor.primaryInverse,onClick:d,style:{cursor:"pointer"}}):null))),r.default.createElement(i.ModalFooter,{onSubmit:e,onCancel:t,submitButtonProps:{children:n("accept"),disabled:!u},cancelButtonProps:{children:n("cancel")}})))}d.propTypes={onAccepted:o.default.func.isRequired,onCanceled:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js"}],[4386,{"./snap-remove-warning":4387},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=e("./snap-remove-warning"))&&r.__esModule?r:{default:r}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/index.js"}],[4387,{"../../../../helpers/constants/design-system":4914,"../../../../hooks/useI18nContext":4976,"../../../component-library":4543,"../../../component-library/modal-content/deprecated":4551,"../../../component-library/modal-header/deprecated":4560,"prop-types":3633,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var r=u(e("react")),o=u(e("prop-types")),a=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../component-library/modal-content/deprecated"),l=e("../../../component-library/modal-header/deprecated"),c=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d({isOpen:e,onCancel:t,onSubmit:n,snapName:o}){const u=(0,a.useI18nContext)();return r.default.createElement(i.Modal,{isOpen:e,onClose:t},r.default.createElement(i.ModalOverlay,null),r.default.createElement(s.ModalContent,{modalDialogProps:{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:4}},r.default.createElement(l.ModalHeader,{onClose:t},u("pleaseConfirm")),r.default.createElement(i.Text,null,u("removeSnapConfirmation",[o])),r.default.createElement(i.Box,{width:c.BlockSize.Full,display:c.Display.Flex,gap:4},r.default.createElement(i.Button,{block:!0,variant:i.BUTTON_VARIANT.SECONDARY,size:i.BUTTON_SIZES.LG,onClick:t},u("cancel")),r.default.createElement(i.Button,{block:!0,size:i.BUTTON_SIZES.LG,id:"popoverRemoveSnapButton",danger:!0,onClick:n},u("removeSnap")))))}d.propTypes={onCancel:o.default.func,onSubmit:o.default.func,snapName:o.default.string,isOpen:o.default.bool}}}},{package:"$root$",file:"ui/components/app/snaps/snap-remove-warning/snap-remove-warning.js"}],[4388,{"./snap-ui-button":4389},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-button");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-button/index.ts"}],[4389,{"../../../../contexts/snaps":4889,"../../../component-library":4543,"@metamask/snaps-sdk":1862,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIButton=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("@metamask/snaps-sdk"),i=e("../../../component-library"),s=e("../../../../contexts/snaps");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}n.SnapUIButton=({name:e,children:t,type:n,...r})=>{const{handleEvent:c}=(0,s.useSnapInterfaceContext)();return o.default.createElement(i.Button,l({className:"snap-ui-renderer__button",id:e,type:n,onClick:t=>{n===a.ButtonType.Button&&t.preventDefault(),c({event:a.UserInputEventType.ButtonClickEvent,name:e})},block:!0},r),t)}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-button/snap-ui-button.tsx"}],[4390,{"./snap-ui-form":4391},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-form");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-form/index.ts"}],[4391,{"../../../../contexts/snaps":4889,"../../../../helpers/constants/design-system":4914,"../../../component-library":4543,"@metamask/snaps-sdk":1862,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIForm=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r},a=e("@metamask/snaps-sdk"),i=e("../../../../contexts/snaps"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system");n.SnapUIForm=({children:e,name:t})=>{const{handleEvent:n}=(0,i.useSnapInterfaceContext)();return o.default.createElement(s.Box,{as:"form",className:"snap-ui-renderer__form",onSubmit:e=>{e.preventDefault(),n({event:a.UserInputEventType.FormSubmitEvent,name:t})},id:t,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:2},e)}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-form/snap-ui-form.tsx"}],[4392,{"./snap-ui-image":4393},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-image");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-image/index.ts"}],[4393,{react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIImage=void 0;var r,o=(r=e("react"))&&r.__esModule?r:{default:r};n.SnapUIImage=({value:e})=>{const t=`data:image/svg+xml;utf8,${encodeURIComponent(e)}`;return o.default.createElement("img",{src:t})}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-image/snap-ui-image.tsx"}],[4394,{"./snap-ui-input":4395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./snap-ui-input");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-input/index.ts"}],[4395,{"../../../../contexts/snaps":4889,"../../../component-library":4543,react:3846},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIInput=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=e("../../../../contexts/snaps"),a=e("../../../component-library");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}n.SnapUIInput=({name:e,form:t,...n})=>{const{handleInputChange:i,getValue:l}=(0,o.useSnapInterfaceContext)(),c=l(e,t),[u,d]=(0,r.useState)(c??"");(0,r.useEffect)((()=>{c&&d(c)}),[c]);return r.default.createElement(a.FormTextField,s({className:"snap-ui-renderer__input",id:e,value:u,onChange:n=>{d(n.target.value),i(e,n.target.value??null,t)}},n))}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-input/snap-ui-input.tsx"}],[4396,{"./snap-ui-markdown":4397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapUIMarkdown",{enumerable:!0,get:function(){return r.SnapUIMarkdown}});var r=e("./snap-ui-markdown")}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-markdown/index.js"}],[4397,{"../../../../helpers/constants/design-system":4914,"../../../component-library":4543,"../snap-link-warning":4376,"prop-types":3633,react:3846,"react-markdown":3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIMarkdown=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=c(e("prop-types")),a=c(e("react-markdown")),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=c(e("../snap-link-warning"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const p=e=>r.default.createElement(s.Text,d({},e,{variant:i.TextVariant.bodyMd,className:"snap-ui-markdown__text",overflowWrap:i.OverflowWrap.Anywhere,color:i.TextColor.inherit})),f=({onClick:e,children:t,...n})=>r.default.createElement(s.ButtonLink,d({},n,{as:"a",onClick:e,externalLink:!0,size:s.ButtonLinkSize.Inherit,display:i.Display.Inline,className:"snap-ui-markdown__link"}),t,r.default.createElement(s.Icon,{name:s.IconName.Export,size:s.IconSize.Inherit,marginLeft:1})),m=({children:e,markdown:t})=>{const[n,o]=(0,r.useState)(undefined);if(!1===t)return r.default.createElement(p,null,e);return r.default.createElement(r.default.Fragment,null,r.default.createElement(l.default,{isOpen:Boolean(n),onClose:()=>{o(undefined)},url:n}),r.default.createElement(a.default,{allowedElements:["p","strong","em","a"],components:{p:p,a:({children:e,href:t})=>r.default.createElement(f,{onClick:()=>{o(t)}},e??t)}},e))};n.SnapUIMarkdown=m,m.propTypes={children:o.default.string,markdown:o.default.bool},f.propTypes={onClick:o.default.func,children:o.default.node}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-markdown/snap-ui-markdown.js"}],[4398,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.address=void 0;n.address=({element:e})=>({element:"ConfirmInfoRowAddress",props:{address:e.value,isSnapUsingThis:!0}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/address.ts"}],[4399,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.button=void 0;n.button=({element:e})=>({element:"SnapUIButton",props:{type:e.buttonType,variant:e.variant,name:e.name},children:e.value})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/button.ts"}],[4400,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.copyable=void 0;n.copyable=({element:e})=>({element:"Copyable",props:{text:e.value,sensitive:e.sensitive}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/copyable.ts"}],[4401,{"../../../../../helpers/constants/design-system":4914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.divider=void 0;var r=e("../../../../../helpers/constants/design-system");n.divider=()=>({element:"Box",props:{className:"snap-ui-renderer__divider",backgroundColor:r.BorderColor.borderDefault}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/divider.ts"}],[4402,{"../utils":4413},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.form=void 0;var r=e("../utils");n.form=({element:e,...t})=>({element:"SnapUIForm",children:e.children.map((n=>(0,r.mapToTemplate)({element:n,form:e.name,...t}))),props:{name:e.name}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/form.ts"}],[4403,{"../../../../../helpers/constants/design-system":4914},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.heading=void 0;var r=e("../../../../../helpers/constants/design-system");n.heading=({element:e})=>({element:"Text",children:e.value,props:{variant:r.TextVariant.headingSm,overflowWrap:r.OverflowWrap.Anywhere}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/heading.ts"}],[4404,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.image=void 0;n.image=({element:e})=>({element:"SnapUIImage",props:{value:e.value}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/image.ts"}],[4405,{"./address":4398,"./button":4399,"./copyable":4400,"./divider":4401,"./form":4402,"./heading":4403,"./image":4404,"./input":4406,"./panel":4407,"./row":4408,"./spinner":4409,"./text":4410},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.COMPONENT_MAPPING=void 0;var r=e("./panel"),o=e("./heading"),a=e("./text"),i=e("./divider"),s=e("./spinner"),l=e("./image"),c=e("./row"),u=e("./address"),d=e("./copyable"),p=e("./button"),f=e("./form"),m=e("./input");n.COMPONENT_MAPPING={panel:r.panel,heading:o.heading,text:a.text,divider:i.divider,spinner:s.spinner,image:l.image,copyable:d.copyable,row:c.row,address:u.address,button:p.button,form:f.form,input:m.input}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/index.ts"}],[4406,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.input=void 0;n.input=({element:e,form:t})=>({element:"SnapUIInput",props:{id:e.name,placeholder:e.placeholder,label:e.label,textFieldProps:{type:e.inputType},name:e.name,form:t,error:e.error!==undefined,helpText:e.error}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/input.ts"}],[4407,{"../../../../../helpers/constants/design-system":4914,"../utils":4413},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.panel=void 0;var r=e("../../../../../helpers/constants/design-system"),o=e("../utils");n.panel=({element:e,...t})=>({element:"Box",children:e.children.map((e=>(0,o.mapToTemplate)({...t,element:e}))),props:{display:r.Display.Flex,flexDirection:r.FlexDirection.Column,className:"snap-ui-renderer__panel",color:r.TextColor.textDefault}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/panel.ts"}],[4408,{"../utils":4413},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.row=void 0;var r=e("../utils");n.row=({element:e,...t})=>({element:"ConfirmInfoRow",children:[(0,r.mapToTemplate)({element:e.value,...t})],props:{label:e.label,variant:e.variant,style:{marginLeft:"-8px",marginRight:"-8px",marginTop:"0px",marginBottom:"0px"}}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/row.ts"}],[4409,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.spinner=void 0;n.spinner=()=>({element:"Spinner",props:{className:"snap-ui-renderer__spinner"}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/spinner.ts"}],[4410,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.text=void 0;n.text=({element:e})=>({element:"SnapUIMarkdown",children:e.value,props:{markdown:e.markdown}})}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/components/text.ts"}],[4411,{"./snap-ui-renderer":4412},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapUIRenderer",{enumerable:!0,get:function(){return r.SnapUIRenderer}});var r=e("./snap-ui-renderer")}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/index.js"}],[4412,{"../../../../contexts/snaps":4889,"../../../../helpers/constants/design-system":4914,"../../../../helpers/constants/snaps":4921,"../../../../hooks/useI18nContext":4976,"../../../../selectors":5513,"../../../component-library":4543,"../../metamask-template-renderer/metamask-template-renderer":4253,"../copyable":4353,"../snap-delineator":4367,"./utils":4413,"@metamask/snaps-sdk":1862,lodash:3477,"prop-types":3633,react:3846,"react-redux":3811},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapUIRenderer=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(e("react")),o=b(e("prop-types")),a=e("@metamask/snaps-sdk"),i=e("react-redux"),s=e("lodash"),l=b(e("../../metamask-template-renderer/metamask-template-renderer")),c=e("../../../../helpers/constants/design-system"),u=e("../snap-delineator"),d=e("../../../../hooks/useI18nContext"),p=e("../../../../selectors"),f=e("../../../component-library"),m=e("../copyable"),h=e("../../../../helpers/constants/snaps"),g=e("../../../../contexts/snaps"),y=e("./utils");function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const _=({snapId:e,delineatorType:t=h.DelineatorType.Content,isCollapsable:n=!1,isCollapsed:o=!1,isLoading:s=!1,isPrompt:b=!1,inputValue:v,onInputChange:_,placeholder:k,onClick:w,boxProps:x,interfaceId:T})=>{const E=(0,d.useI18nContext)(),{name:C}=(0,i.useSelector)((t=>(0,p.getSnapMetadata)(t,e))),O=(0,i.useSelector)((e=>(0,p.getMemoizedInterfaceContent)(e,T))),M=O&&(0,a.isComponent)(O),S=(0,r.useMemo)((()=>M&&(0,y.mapToTemplate)({map:{},element:O})),[O,M]);return s||!O?r.default.createElement(u.SnapDelineator,{snapName:C,type:t,isCollapsable:n,isCollapsed:o,onClick:w,boxProps:x,isLoading:!0}):M?r.default.createElement(u.SnapDelineator,{snapName:C,type:t,isCollapsable:n,isCollapsed:o,onClick:w,boxProps:x},r.default.createElement(f.Box,{className:"snap-ui-renderer__content"},r.default.createElement(g.SnapInterfaceContextProvider,{snapId:e,interfaceId:T},r.default.createElement(l.default,{sections:S})),b&&r.default.createElement(f.FormTextField,{marginTop:4,className:"snap-prompt-input",maxLength:300,value:v,onChange:_,placeholder:k}))):r.default.createElement(u.SnapDelineator,{isCollapsable:n,isCollapsed:o,snapName:C,type:h.DelineatorType.Error,onClick:w,boxProps:x},r.default.createElement(f.Text,{variant:c.TextVariant.bodySm,marginBottom:4},E("snapsUIError",[r.default.createElement("b",{key:"0"},C)])),r.default.createElement(m.Copyable,{text:E("snapsInvalidUIError")}))};n.SnapUIRenderer=(0,r.memo)(_,((e,t)=>(0,s.isEqual)(e,t)));_.propTypes={snapId:o.default.string,delineatorType:o.default.string,isCollapsable:o.default.bool,isCollapsed:o.default.bool,isLoading:o.default.bool,isPrompt:o.default.bool,inputValue:o.default.string,onInputChange:o.default.func,placeholder:o.default.string,onClick:o.default.func,boxProps:o.default.object,interfaceId:o.default.string}}}},{package:"$root$",file:"ui/components/app/snaps/snap-ui-renderer/snap-ui-renderer.js"}]],[],{});