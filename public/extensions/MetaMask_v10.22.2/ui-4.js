LavaPack.loadBundle([[5436,{"../../../../helpers/constants/design-system":5953,"../../../component-library":5534,"../transaction-activity-log.constants":5438,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ACTIVITY_ICONS=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=l(e("prop-types")),r=l(e("classnames")),i=e("../transaction-activity-log.constants"),s=e("../../../component-library"),c=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=n.ACTIVITY_ICONS={[i.TRANSACTION_CREATED_EVENT]:s.IconName.Add,[i.TRANSACTION_SUBMITTED_EVENT]:s.IconName.ArrowUp,[i.TRANSACTION_RESUBMITTED_EVENT]:s.IconName.ProgrammingArrows,[i.TRANSACTION_CONFIRMED_EVENT]:s.IconName.Check,[i.TRANSACTION_DROPPED_EVENT]:s.IconName.Close,[i.TRANSACTION_ERRORED_EVENT]:s.IconName.Danger,[i.TRANSACTION_CANCEL_ATTEMPTED_EVENT]:s.IconName.Close,[i.TRANSACTION_CANCEL_SUCCESS_EVENT]:s.IconName.Close};class m extends a.PureComponent{render(){const{className:e,eventKey:t}=this.props,n=p[t];return a.default.createElement("div",{className:(0,r.default)("transaction-activity-log-icon",e)},n?a.default.createElement(s.Icon,{name:n,color:c.Color.iconDefault,size:s.IconSize.Sm}):null)}}n.default=m,d(m,"contextTypes",{t:o.default.func}),d(m,"propTypes",{className:o.default.string,eventKey:o.default.oneOf(Object.keys(p))})}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/transaction-activity-log-icon/transaction-activity-log-icon.component.js"}],[5437,{"../../../../shared/constants/metametrics":5043,"../../../../shared/modules/conversion.utils":5081,"../../../helpers/utils/util":6001,"./transaction-activity-log-icon":5435,"./transaction-activity-log.constants":5438,"@metamask/etherscan-link":1460,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=p(e("prop-types")),r=p(e("classnames")),i=e("@metamask/etherscan-link"),s=e("../../../helpers/utils/util"),c=e("../../../../shared/constants/metametrics"),l=e("../../../../shared/modules/conversion.utils"),u=p(e("./transaction-activity-log-icon")),d=e("./transaction-activity-log.constants");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.PureComponent{constructor(...e){super(...e),f(this,"handleActivityClick",(e=>{const{rpcPrefs:t}=this.props,n=(0,i.getBlockExplorerLink)(e,t);this.context.trackEvent({category:c.MetaMetricsEventCategory.Transactions,event:"Clicked Block Explorer Link",properties:{link_type:"Transaction Block Explorer",action:"Activity Details",block_explorer_domain:(0,s.getURLHostName)(n)}}),global.platform.openTab({url:n})}))}renderInlineRetry(e){const{t:t}=this.context,{inlineRetryIndex:n,primaryTransaction:o={},onRetry:r,isEarliestNonce:i}=this.props,{status:s}=o;return i&&s!==d.CONFIRMED_STATUS&&e===n?a.default.createElement("div",{className:"transaction-activity-log__action-link",onClick:r},t("speedUpTransaction")):null}renderInlineCancel(e){const{t:t}=this.context,{inlineCancelIndex:n,primaryTransaction:o={},onCancel:r,isEarliestNonce:i}=this.props,{status:s}=o;return i&&s!==d.CONFIRMED_STATUS&&e===n?a.default.createElement("div",{className:"transaction-activity-log__action-link",onClick:r},t("speedUpCancellation")):null}renderActivity(e,t){const{conversionRate:n,nativeCurrency:o}=this.props,{eventKey:r,value:i,timestamp:c}=e,d=`${(0,l.getValueFromWeiHex)({value:i,fromCurrency:"ETH",toCurrency:"ETH",conversionRate:n,numberOfDecimals:6})} ${o}`,p=(0,s.formatDate)(c,"T 'on' M/d/y"),m=this.context.t(r,[d,p]);return a.default.createElement("div",{key:t,className:"transaction-activity-log__activity"},a.default.createElement(u.default,{className:"transaction-activity-log__activity-icon",eventKey:r}),a.default.createElement("div",{className:"transaction-activity-log__entry-container"},a.default.createElement("div",{className:"transaction-activity-log__activity-text",title:m,onClick:()=>this.handleActivityClick(e)},m),this.renderInlineRetry(t),this.renderInlineCancel(t)))}render(){const{t:e}=this.context,{className:t,activities:n}=this.props;return 0===n.length?null:a.default.createElement("div",{className:(0,r.default)("transaction-activity-log",t)},a.default.createElement("div",{className:"transaction-activity-log__title"},e("activityLog")),a.default.createElement("div",{className:"transaction-activity-log__activities-container"},n.map(((e,t)=>this.renderActivity(e,t)))))}}n.default=h,f(h,"contextTypes",{t:o.default.func,trackEvent:o.default.func}),f(h,"propTypes",{activities:o.default.array,className:o.default.string,conversionRate:o.default.number,inlineRetryIndex:o.default.number,inlineCancelIndex:o.default.number,nativeCurrency:o.default.string,onCancel:o.default.func,onRetry:o.default.func,primaryTransaction:o.default.object,isEarliestNonce:o.default.bool,rpcPrefs:o.default.object})}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/transaction-activity-log.component.js"}],[5438,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TRANSACTION_UPDATED_EVENT=n.TRANSACTION_SUBMITTED_EVENT=n.TRANSACTION_RESUBMITTED_EVENT=n.TRANSACTION_ERRORED_EVENT=n.TRANSACTION_DROPPED_EVENT=n.TRANSACTION_CREATED_EVENT=n.TRANSACTION_CONFIRMED_EVENT=n.TRANSACTION_CANCEL_SUCCESS_EVENT=n.TRANSACTION_CANCEL_ATTEMPTED_EVENT=n.SUBMITTED_STATUS=n.DROPPED_STATUS=n.CONFIRMED_STATUS=void 0;n.TRANSACTION_CREATED_EVENT="transactionCreated",n.TRANSACTION_SUBMITTED_EVENT="transactionSubmitted",n.TRANSACTION_RESUBMITTED_EVENT="transactionResubmitted",n.TRANSACTION_CONFIRMED_EVENT="transactionConfirmed",n.TRANSACTION_DROPPED_EVENT="transactionDropped",n.TRANSACTION_UPDATED_EVENT="transactionUpdated",n.TRANSACTION_ERRORED_EVENT="transactionErrored",n.TRANSACTION_CANCEL_ATTEMPTED_EVENT="transactionCancelAttempted",n.TRANSACTION_CANCEL_SUCCESS_EVENT="transactionCancelSuccess",n.SUBMITTED_STATUS="submitted",n.CONFIRMED_STATUS="confirmed",n.DROPPED_STATUS="dropped"}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/transaction-activity-log.constants.js"}],[5439,{"../../../ducks/metamask/metamask":5941,"../../../selectors":6639,"./transaction-activity-log.component":5437,"./transaction-activity-log.constants":5438,"./transaction-activity-log.util":5440,lodash:4382,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("lodash"),i=e("../../../selectors"),s=e("../../../ducks/metamask/metamask"),c=(a=e("./transaction-activity-log.component"))&&a.__esModule?a:{default:a},l=e("./transaction-activity-log.util"),u=e("./transaction-activity-log.constants");const d=e=>({eventKey:t})=>t===e;n.default=(0,o.connect)((e=>({conversionRate:(0,i.conversionRateSelector)(e),nativeCurrency:(0,s.getNativeCurrency)(e),rpcPrefs:(0,i.getRpcPrefsForCurrentProvider)(e)})),null,((e,t,n)=>{const{transactionGroup:{transactions:a=[],primaryTransaction:o}={},...i}=n,s=(0,l.combineTransactionHistories)(a);return{...e,...t,...i,activities:s,inlineRetryIndex:(0,r.findLastIndex)(s,d(u.TRANSACTION_RESUBMITTED_EVENT)),inlineCancelIndex:(0,r.findLastIndex)(s,d(u.TRANSACTION_CANCEL_ATTEMPTED_EVENT)),primaryTransaction:o}}))(c.default)}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/transaction-activity-log.container.js"}],[5440,{"../../../../shared/modules/conversion.utils":5081,"../../../helpers/utils/confirm-tx.util":5980,"./transaction-activity-log.constants":5438,"@metamask/transaction-controller":2685},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.combineTransactionHistories=function(e=[]){if(!e.length)return[];const t=[];e.forEach(((e,n)=>{const a=h(e,0===n);t.push(...a)}));return function(e){const t=[],n=Boolean(e.find((({eventKey:e})=>e===i.TRANSACTION_CONFIRMED_EVENT||e===i.TRANSACTION_CANCEL_SUCCESS_EVENT)));let a=!1;return e.forEach((e=>{e.eventKey===i.TRANSACTION_DROPPED_EVENT?n||a||(t.push(e),a=!0):t.push(e)})),t}(t.sort(((e,t)=>e.timestamp-t.timestamp)))},n.getActivities=h;var a=e("@metamask/transaction-controller"),o=e("../../../../shared/modules/conversion.utils"),r=e("../../../helpers/utils/confirm-tx.util"),i=e("./transaction-activity-log.constants");const s="/status",c="/txParams/gasPrice",l="/txParams/gas",u="/estimatedBaseFee",d="/blockTimestamp",p="replace",m={[s]:!0,[c]:!0,[l]:!0,[d]:!0},f={[i.SUBMITTED_STATUS]:i.TRANSACTION_SUBMITTED_EVENT,[i.CONFIRMED_STATUS]:i.TRANSACTION_CONFIRMED_EVENT,[i.DROPPED_STATUS]:i.TRANSACTION_DROPPED_EVENT};function h(e,t=!1){const{id:n,chainId:h,hash:y,history:g=[],txParams:{gas:b,gasPrice:v,maxPriorityFeePerGas:k},txReceipt:{status:T}={},type:x,estimatedBaseFee:C}=e,_=C&&k&&(0,o.sumHexes)(C,k);let w="0x0",E="0x0";const M=g.reduce(((e,g,k)=>{if(0===k&&!Array.isArray(g)&&g.txParams){const{time:a,estimatedBaseFee:r,txParams:{value:s,gas:c="0x0",gasPrice:l,maxPriorityFeePerGas:u}={}}=g,d=r&&u&&(0,o.sumHexes)(r,u);if(w=c,E=d||l||v||"0x0",t)return e.concat({id:n,hash:y,chainId:h,eventKey:i.TRANSACTION_CREATED_EVENT,timestamp:a,value:s})}else if(Array.isArray(g)){const t=[];return g.forEach((o=>{const{op:k,path:T,value:C,timestamp:M}=o,N=M||g[0]&&g[0].timestamp;if(T in m&&k===p||T===u&&"add"===k)switch(T){case s:{const e="0x0"===w&&"0x0"===E?(0,r.getHexGasTotal)({gasLimit:b,gasPrice:_||v}):(0,r.getHexGasTotal)({gasLimit:w,gasPrice:E});if(C in f){let o=f[C];C===i.SUBMITTED_STATUS?x===a.TransactionType.retry?o=i.TRANSACTION_RESUBMITTED_EVENT:x===a.TransactionType.cancel&&(o=i.TRANSACTION_CANCEL_ATTEMPTED_EVENT):C===i.CONFIRMED_STATUS&&x===a.TransactionType.cancel&&(o=i.TRANSACTION_CANCEL_SUCCESS_EVENT),t.push({id:n,hash:y,eventKey:o,timestamp:N,chainId:h,value:e})}break}case c:case l:case u:{const e=t[t.length-1]||{},{lastEventKey:n}=e;if(T===l)w=C;else if(T===c)E=C;else if(T===u){var O;E=_||(null==g||null===(O=g.txParams)||void 0===O?void 0:O.gasPrice),e.value=(0,r.getHexGasTotal)({gasLimit:b,gasPrice:E})}n!==i.TRANSACTION_SUBMITTED_EVENT&&n!==i.TRANSACTION_RESUBMITTED_EVENT||(e.value=(0,r.getHexGasTotal)({gasLimit:w,gasPrice:E}));break}case d:{const t=e.find((e=>e.eventKey===i.TRANSACTION_CONFIRMED_EVENT));t!==undefined&&(t.timestamp=new Date(1e3*parseInt(o.value,16)).getTime());break}default:t.push({id:n,hash:y,chainId:h,eventKey:i.TRANSACTION_UPDATED_EVENT,timestamp:N})}})),e.concat(t)}return e}),[]);return"0x0"===T?M.concat({id:n,hash:y,chainId:h,eventKey:i.TRANSACTION_ERRORED_EVENT}):M}}}},{package:"$root$",file:"ui/components/app/transaction-activity-log/transaction-activity-log.util.js"}],[5441,{"./transaction-breakdown.container":5445},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./transaction-breakdown.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-breakdown/index.js"}],[5442,{"./transaction-breakdown-row.component":5443},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./transaction-breakdown-row.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-breakdown/transaction-breakdown-row/index.js"}],[5443,{classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o,r,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=l(e("prop-types")),c=l(e("classnames"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}class d extends i.PureComponent{render(){const{title:e,children:t,className:n,divider:a=!1}=this.props;return i.default.createElement("div",{className:(0,c.default)("transaction-breakdown-row",a?"transaction-breakdown-row--with-bottom-border":"",n),"data-testid":"transaction-breakdown-row"},i.default.createElement("div",{className:"transaction-breakdown-row__title","data-testid":"transaction-breakdown-row-title"},e),i.default.createElement("div",{className:"transaction-breakdown-row__value","data-testid":"transaction-breakdown-row-value"},t))}}n.default=d,a=d,o="propTypes",r={title:s.default.string,children:s.default.node,className:s.default.string,divider:s.default.bool},(o=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(o))in a?Object.defineProperty(a,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[o]=r}}},{package:"$root$",file:"ui/components/app/transaction-breakdown/transaction-breakdown-row/transaction-breakdown-row.component.js"}],[5444,{"../../../../shared/constants/common":5033,"../../../helpers/constants/common":5951,"../../ui/currency-display":5804,"../../ui/hex-to-decimal":5823,"../user-preferenced-currency-display":5457,"./transaction-breakdown-row":5442,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=p(e("prop-types")),r=p(e("classnames")),i=p(e("../../ui/currency-display")),s=p(e("../user-preferenced-currency-display")),c=p(e("../../ui/hex-to-decimal")),l=e("../../../helpers/constants/common"),u=e("../../../../shared/constants/common"),d=p(e("./transaction-breakdown-row"));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.PureComponent{render(){const{t:e}=this.context,{gas:t,gasPrice:n,maxFeePerGas:o,primaryCurrency:p,className:m,nonce:f,nativeCurrency:h,showFiat:y,totalInHex:g,gasUsed:b,isTokenApprove:v,baseFee:k,priorityFee:T,hexGasTotal:x,isEIP1559Transaction:C,l1HexGasTotal:_,sourceAmountFormatted:w,destinationAmountFormatted:E}=this.props;return a.default.createElement("div",{className:(0,r.default)("transaction-breakdown",m)},a.default.createElement("div",{className:"transaction-breakdown__title"},e("transaction")),a.default.createElement(d.default,{divider:!0,title:e("nonce")},void 0===f?null:a.default.createElement(c.default,{className:"transaction-breakdown__value",value:f})),w&&a.default.createElement(d.default,{title:e("amountSent")},a.default.createElement("span",{className:"transaction-breakdown__value transaction-breakdown__value--amount","data-testid":"transaction-breakdown-value-amount"},w)),E&&a.default.createElement(d.default,{title:e("amountReceived")},a.default.createElement("span",{className:"transaction-breakdown__value transaction-breakdown__value--amount","data-testid":"transaction-breakdown-value-amount"},E)),!w&&a.default.createElement(d.default,{title:e(v?"spendingCap":"amount")},a.default.createElement("span",{className:"transaction-breakdown__value transaction-breakdown__value--amount","data-testid":"transaction-breakdown-value-amount"},p)),a.default.createElement(d.default,{title:_?e("transactionHistoryL2GasLimitLabel"):`${e("gasLimit")} (${e("units")})`,className:"transaction-breakdown__row-title"},void 0===t?"?":a.default.createElement(c.default,{className:"transaction-breakdown__value",value:t})),"string"==typeof b&&a.default.createElement(d.default,{title:`${e("gasUsed")} (${e("units")})`,className:"transaction-breakdown__row-title"},a.default.createElement(c.default,{className:"transaction-breakdown__value",value:b})),C&&void 0!==k?a.default.createElement(d.default,{title:e("transactionHistoryBaseFee")},a.default.createElement(i.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__base-fee",currency:h,denomination:u.EtherDenomination.GWEI,value:k,numberOfDecimals:10,hideLabel:!0})):null,C&&void 0!==T?a.default.createElement(d.default,{title:e("transactionHistoryPriorityFee")},a.default.createElement(i.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__priority-fee",currency:h,denomination:u.EtherDenomination.GWEI,value:T,numberOfDecimals:10,hideLabel:!0})):null,!C&&a.default.createElement(d.default,{title:e(_?"transactionHistoryL2GasPriceLabel":"advancedGasPriceTitle")},void 0===n?"?":a.default.createElement(i.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__gas-price",currency:h,denomination:u.EtherDenomination.GWEI,value:n,numberOfDecimals:9,hideLabel:!0})),C&&a.default.createElement(d.default,{title:e("transactionHistoryTotalGasFee")},a.default.createElement(s.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__effective-gas-price",currency:h,denomination:u.EtherDenomination.ETH,numberOfDecimals:6,value:x,type:l.PRIMARY}),y&&a.default.createElement(s.default,{className:"transaction-breakdown__value",type:l.SECONDARY,value:x})),C&&a.default.createElement(d.default,{divider:!0,title:e("transactionHistoryMaxFeePerGas")},a.default.createElement(s.default,{className:"transaction-breakdown__value",currency:h,denomination:u.EtherDenomination.ETH,numberOfDecimals:9,value:o,type:l.PRIMARY}),y&&a.default.createElement(s.default,{className:"transaction-breakdown__value",type:l.SECONDARY,value:o})),_&&a.default.createElement(d.default,{title:e("transactionHistoryL1GasLabel")},a.default.createElement(s.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__l1-gas-total",numberOfDecimals:18,value:_,type:l.PRIMARY}),y&&a.default.createElement(s.default,{className:"transaction-breakdown__value",type:l.SECONDARY,value:_})),a.default.createElement(d.default,{title:e("total")},a.default.createElement(s.default,{className:"transaction-breakdown__value transaction-breakdown__value--eth-total",type:l.PRIMARY,value:g,numberOfDecimals:_?18:null}),y&&a.default.createElement(s.default,{className:"transaction-breakdown__value",type:l.SECONDARY,value:g})))}}n.default=h,f(h,"contextTypes",{t:o.default.func}),f(h,"propTypes",{className:o.default.string,nativeCurrency:o.default.string,showFiat:o.default.bool,nonce:o.default.string,primaryCurrency:o.default.string,isTokenApprove:o.default.bool,gas:o.default.oneOfType([o.default.string,o.default.number]),gasPrice:o.default.oneOfType([o.default.string,o.default.number]),maxFeePerGas:o.default.oneOfType([o.default.string,o.default.number]),gasUsed:o.default.oneOfType([o.default.string,o.default.number]),totalInHex:o.default.oneOfType([o.default.string,o.default.number]),baseFee:o.default.oneOfType([o.default.string,o.default.number]),priorityFee:o.default.oneOfType([o.default.string,o.default.number]),hexGasTotal:o.default.string,isEIP1559Transaction:o.default.bool,l1HexGasTotal:o.default.string,sourceAmountFormatted:o.default.string,destinationAmountFormatted:o.default.string}),f(h,"defaultProps",{showFiat:!0})}}},{package:"$root$",file:"ui/components/app/transaction-breakdown/transaction-breakdown.component.js"}],[5445,{"../../../../shared/lib/transactions-controller-utils":5074,"../../../../shared/modules/conversion.utils":5081,"../../../../shared/modules/transaction.utils":5105,"../../../ducks/metamask/metamask":5941,"../../../helpers/utils/confirm-tx.util":5980,"../../../selectors":6639,"../transaction-activity-log/transaction-activity-log.constants":5438,"./transaction-breakdown.component":5444,"@metamask/transaction-controller":2685,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("@metamask/transaction-controller"),i=e("../../../selectors"),s=e("../../../ducks/metamask/metamask"),c=e("../../../helpers/utils/confirm-tx.util"),l=e("../../../../shared/modules/transaction.utils"),u=e("../../../../shared/modules/conversion.utils"),d=e("../../../../shared/lib/transactions-controller-utils"),p=e("../transaction-activity-log/transaction-activity-log.constants"),m=(a=e("./transaction-breakdown.component"))&&a.__esModule?a:{default:a};n.default=(0,o.connect)(((e,t)=>{const{transaction:n,isTokenApprove:a}=t,{txParams:{gas:o,gasPrice:m,maxFeePerGas:f,value:h}={},txReceipt:{gasUsed:y,effectiveGasPrice:g,l1Fee:b}={},baseFeePerGas:v,sourceTokenAmount:k,sourceTokenDecimals:T,sourceTokenSymbol:x,destinationTokenAddress:C,destinationTokenAmount:_,destinationTokenDecimals:w,destinationTokenSymbol:E,status:M,type:N}=n,O=k&&T?(0,d.calcTokenAmount)(k,T).toFixed():undefined;let A;if(N===r.TransactionType.swapAndSend&&_&&w&&E)try{if(A=(0,d.getSwapsTokensReceivedFromTxMeta)(E,n,C,undefined,w,undefined,undefined,null),!A)throw new Error("Actual destination token amount not found")}catch(e){A=_&&w?(0,d.calcTokenAmount)(_,w).toFixed():undefined}const S=O&&T&&x?`${O} ${x}`:undefined,I=A&&M===p.CONFIRMED_STATUS?`${A} ${E}`:undefined,P="string"==typeof y?y:o,j=g&&v&&(0,u.subtractHexes)(g,v),D=m||g,B=P&&D&&(0,c.getHexGasTotal)({gasLimit:P,gasPrice:D})||"0x0",R=(0,u.sumHexes)(B,h,b??0);return{nativeCurrency:(0,s.getNativeCurrency)(e),showFiat:(0,i.getShouldShowFiat)(e),totalInHex:R,gas:o,gasPrice:m,maxFeePerGas:f,gasUsed:y,isTokenApprove:a,hexGasTotal:B,priorityFee:j,baseFee:v,isEIP1559Transaction:(0,l.isEIP1559Transaction)(n),l1HexGasTotal:b,sourceAmountFormatted:S,destinationAmountFormatted:I}}))(m.default)}}},{package:"$root$",file:"ui/components/app/transaction-breakdown/transaction-breakdown.container.js"}],[5446,{"./transaction-icon":5447},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./transaction-icon"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-icon/index.js"}],[5447,{"../../../../shared/constants/transaction":5061,"../../../helpers/constants/design-system":5953,"../../../store/actions":6652,"../../component-library":5534,"@metamask/transaction-controller":2685,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=d(e("react")),o=e("react-redux"),r=d(e("prop-types")),i=e("@metamask/transaction-controller"),s=e("../../../../shared/constants/transaction"),c=e("../../../store/actions"),l=e("../../component-library"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}const p={[s.TransactionGroupCategory.approval]:l.IconName.Check,[s.TransactionGroupCategory.interaction]:l.IconName.ProgrammingArrows,[s.TransactionGroupCategory.receive]:l.IconName.Received,[s.TransactionGroupCategory.send]:l.IconName.Arrow2UpRight,[s.TransactionGroupCategory.signatureRequest]:l.IconName.SecurityTick,[s.TransactionGroupCategory.swap]:l.IconName.SwapHorizontal,[s.TransactionGroupCategory.swapAndSend]:l.IconName.Arrow2UpRight},m={[s.TransactionGroupStatus.pending]:u.IconColor.primaryDefault,[s.TransactionGroupStatus.cancelled]:u.IconColor.errorDefault,[i.TransactionStatus.approved]:u.IconColor.primaryDefault,[i.TransactionStatus.dropped]:u.IconColor.errorDefault,[i.TransactionStatus.failed]:u.IconColor.errorDefault,[i.TransactionStatus.rejected]:u.IconColor.errorDefault,[i.TransactionStatus.submitted]:u.IconColor.primaryDefault,[i.TransactionStatus.unapproved]:u.IconColor.primaryDefault},f={[s.TransactionGroupStatus.pending]:u.BackgroundColor.primaryMuted,[s.TransactionGroupStatus.cancelled]:u.BackgroundColor.errorMuted,[i.TransactionStatus.approved]:u.BackgroundColor.primaryMuted,[i.TransactionStatus.dropped]:u.BackgroundColor.errorMuted,[i.TransactionStatus.failed]:u.BackgroundColor.errorMuted,[i.TransactionStatus.rejected]:u.BackgroundColor.errorMuted,[i.TransactionStatus.submitted]:u.BackgroundColor.primaryMuted,[i.TransactionStatus.unapproved]:u.BackgroundColor.primaryMuted};function h({status:e,category:t}){const n=(0,o.useDispatch)(),r=m[e]||u.IconColor.primaryDefault,i=f[e]||u.BackgroundColor.primaryMuted,s=p[t];return s?a.default.createElement(l.AvatarIcon,{backgroundColor:i,iconName:s,size:l.AvatarIconSize.Md,color:r}):(n((0,c.captureSingleException)(`The category prop passed to TransactionIcon is not supported. The prop is: ${t}`)),a.default.createElement(l.AvatarIcon,{backgroundColor:u.BackgroundColor.backgroundAlternative,size:l.AvatarIconSize.Md}))}h.propTypes={status:r.default.oneOf([s.TransactionGroupStatus.cancelled,s.TransactionGroupStatus.pending,i.TransactionStatus.approved,i.TransactionStatus.confirmed,i.TransactionStatus.dropped,i.TransactionStatus.failed,i.TransactionStatus.rejected,i.TransactionStatus.submitted,i.TransactionStatus.unapproved]).isRequired,category:r.default.oneOf([s.TransactionGroupCategory.approval,s.TransactionGroupCategory.interaction,s.TransactionGroupCategory.receive,s.TransactionGroupCategory.send,s.TransactionGroupCategory.signatureRequest,s.TransactionGroupCategory.swap,s.TransactionGroupCategory.swapAndSend]).isRequired}}}},{package:"$root$",file:"ui/components/app/transaction-icon/transaction-icon.js"}],[5448,{"./transaction-list-item-details.container":5450},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./transaction-list-item-details.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-list-item-details/index.js"}],[5449,{"../../../../shared/constants/copy":5034,"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/time":5059,"../../../helpers/constants/routes":5959,"../../../helpers/utils/util":6001,"../../component-library/box":5497,"../../ui/button":5793,"../../ui/disclosure":5811,"../../ui/popover":5874,"../../ui/sender-to-recipient":5880,"../../ui/sender-to-recipient/sender-to-recipient.constants":5882,"../../ui/tooltip":5903,"../cancel-button":5157,"../transaction-activity-log":5434,"../transaction-breakdown":5441,"@metamask/etherscan-link":1460,"@metamask/transaction-controller":2685,"copy-to-clipboard":3637,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=C(e("prop-types")),r=C(e("copy-to-clipboard")),i=e("@metamask/etherscan-link"),s=e("@metamask/transaction-controller"),c=C(e("../../ui/sender-to-recipient")),l=e("../../ui/sender-to-recipient/sender-to-recipient.constants"),u=C(e("../../ui/disclosure")),d=C(e("../transaction-activity-log")),p=C(e("../transaction-breakdown")),m=C(e("../../ui/button")),f=C(e("../../ui/tooltip")),h=C(e("../cancel-button")),y=C(e("../../ui/popover")),g=e("../../component-library/box"),b=e("../../../../shared/constants/time"),v=e("../../../../shared/constants/metametrics"),k=e("../../../helpers/utils/util"),T=e("../../../helpers/constants/routes"),x=e("../../../../shared/constants/copy");function C(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends a.PureComponent{constructor(...e){super(...e),w(this,"state",{justCopied:!1}),w(this,"handleBlockExplorerClick",(()=>{const{transactionGroup:{primaryTransaction:e},rpcPrefs:t,isCustomNetwork:n,history:a,onClose:o}=this.props,r=(0,i.getBlockExplorerLink)(e,t);!t.blockExplorerUrl&&n?(o(),a.push(`${T.NETWORKS_ROUTE}#blockExplorerUrl`)):(this.context.trackEvent({category:v.MetaMetricsEventCategory.Transactions,event:"Clicked Block Explorer Link",properties:{link_type:"Transaction Block Explorer",action:"Transaction Details",block_explorer_domain:(0,k.getURLHostName)(r)}}),global.platform.openTab({url:r}))})),w(this,"handleCancel",(e=>{const{onCancel:t,onClose:n}=this.props;t(e),n()})),w(this,"handleRetry",(e=>{const{onClose:t,onRetry:n}=this.props;n(e),t()})),w(this,"handleCopyTxId",(()=>{const{transactionGroup:e}=this.props,{primaryTransaction:t}=e,{hash:n}=t;this.context.trackEvent({category:v.MetaMetricsEventCategory.Navigation,event:"Copied Transaction ID",properties:{action:"Activity Log",legacy_event:!0}}),this.setState({justCopied:!0},(()=>{(0,r.default)(n,x.COPY_OPTIONS),setTimeout((()=>this.setState({justCopied:!1})),b.SECOND)}))}))}componentDidMount(){const{recipientAddress:e,tryReverseResolveAddress:t}=this.props;e&&t(e)}render(){const{t:e}=this.context,{justCopied:t}=this.state,{transactionGroup:n,primaryCurrency:o,showSpeedUp:r,showRetry:i,recipientEns:b,recipientAddress:k,recipientName:T,recipientMetadataName:x,senderAddress:C,isEarliestNonce:_,senderNickname:w,title:E,onClose:M,recipientNickname:N,showCancel:O,transactionStatus:A,blockExplorerLinkText:S}=this.props,{primaryTransaction:I,initialTransaction:{type:P}}=n,{hash:j}=I;return a.default.createElement(y.default,{title:E,onClose:M},a.default.createElement("div",{className:"transaction-list-item-details"},a.default.createElement("div",{className:"transaction-list-item-details__operations"},a.default.createElement("div",{className:"transaction-list-item-details__header-buttons"},r&&a.default.createElement(m.default,{type:"primary",onClick:this.handleRetry,className:"transaction-list-item-details__header-button-rounded-button","data-testid":"speedup-button"},e("speedUp")),O&&a.default.createElement(h.default,{transaction:I,cancelTransaction:this.handleCancel,detailsModal:!0}),i&&a.default.createElement(f.default,{title:e("retryTransaction")},a.default.createElement(m.default,{type:"raised",onClick:this.handleRetry,className:"transaction-list-item-details__header-button","data-testid":"rety-button"},a.default.createElement("i",{className:"fa fa-sync"}))))),a.default.createElement("div",{className:"transaction-list-item-details__header"},a.default.createElement("div",{className:"transaction-list-item-details__tx-status","data-testid":"transaction-list-item-details-tx-status"},a.default.createElement("div",null,e("status")),a.default.createElement("div",null,a.default.createElement(A,null))),a.default.createElement("div",{className:"transaction-list-item-details__tx-hash"},a.default.createElement("div",null,a.default.createElement(m.default,{type:"link",onClick:this.handleBlockExplorerClick,disabled:!j},"addBlockExplorer"===S.firstPart?e("addBlockExplorer"):e("viewOnBlockExplorer"))),a.default.createElement("div",null,a.default.createElement(f.default,{wrapperClassName:"transaction-list-item-details__header-button",containerClassName:"transaction-list-item-details__header-button-tooltip-container",title:t?e("copiedExclamation"):null},a.default.createElement(m.default,{type:"link",onClick:this.handleCopyTxId,disabled:!j},e("copyTransactionId")))))),a.default.createElement("div",{className:"transaction-list-item-details__body"},a.default.createElement("div",{className:"transaction-list-item-details__sender-to-recipient-header"},a.default.createElement("div",null,e("from")),a.default.createElement("div",null,e("to"))),a.default.createElement("div",{className:"transaction-list-item-details__sender-to-recipient-container"},a.default.createElement(c.default,{warnUserOnAccountMismatch:!1,variant:l.DEFAULT_VARIANT,addressOnly:!0,recipientEns:b,recipientAddress:k,recipientNickname:N,recipientName:T,recipientMetadataName:x,senderName:w,senderAddress:C,onRecipientClick:()=>{this.context.trackEvent({category:v.MetaMetricsEventCategory.Navigation,event:'Copied "To" Address',properties:{action:"Activity Log",legacy_event:!0}})},onSenderClick:()=>{this.context.trackEvent({category:v.MetaMetricsEventCategory.Navigation,event:'Copied "From" Address',properties:{action:"Activity Log",legacy_event:!0}})}})),a.default.createElement("div",{className:"transaction-list-item-details__cards-container"},a.default.createElement(p.default,{nonce:n.initialTransaction.txParams.nonce,isTokenApprove:P===s.TransactionType.tokenMethodApprove||P===s.TransactionType.tokenMethodSetApprovalForAll,transaction:I,primaryCurrency:o,className:"transaction-list-item-details__transaction-breakdown"}),n.initialTransaction.type!==s.TransactionType.incoming&&a.default.createElement(g.Box,{marginTop:3,marginBottom:3},a.default.createElement(u.default,{title:e("activityLog"),size:"small",isScrollToBottomOnOpen:!0},a.default.createElement(d.default,{transactionGroup:n,className:"transaction-list-item-details__transaction-activity-log",onCancel:this.handleCancel,onRetry:this.handleRetry,isEarliestNonce:_})))))))}}n.default=E,w(E,"contextTypes",{t:o.default.func,trackEvent:o.default.func}),w(E,"defaultProps",{recipientEns:null}),w(E,"propTypes",{onCancel:o.default.func,onRetry:o.default.func,showCancel:o.default.bool,showSpeedUp:o.default.bool,showRetry:o.default.bool,isEarliestNonce:o.default.bool,primaryCurrency:o.default.string,transactionGroup:o.default.object,title:o.default.string.isRequired,onClose:o.default.func.isRequired,recipientEns:o.default.string,recipientAddress:o.default.string,recipientName:o.default.string,recipientMetadataName:o.default.string,rpcPrefs:o.default.object,senderAddress:o.default.string.isRequired,tryReverseResolveAddress:o.default.func.isRequired,senderNickname:o.default.string.isRequired,recipientNickname:o.default.string,transactionStatus:o.default.func,isCustomNetwork:o.default.bool,history:o.default.object,blockExplorerLinkText:o.default.object})}}},{package:"$root$",file:"ui/components/app/transaction-list-item-details/transaction-list-item-details.component.js"}],[5450,{"../../../../shared/modules/hexstring-utils":5089,"../../../selectors":6639,"../../../store/actions":6652,"./transaction-list-item-details.component":5449,"react-redux":4735,"react-router-dom":4764,redux:4797},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("redux"),i=e("react-router-dom"),s=e("../../../store/actions"),c=e("../../../selectors"),l=e("../../../../shared/modules/hexstring-utils"),u=(a=e("./transaction-list-item-details.component"))&&a.__esModule?a:{default:a};n.default=(0,r.compose)(i.withRouter,(0,o.connect)(((e,t)=>{const{recipientAddress:n,senderAddress:a}=t;let o;if(n){const t=(0,l.toChecksumHexAddress)(n);o=(0,c.getEnsResolutionByAddress)(e,t)}const r=(0,c.getAddressBook)(e),i=(0,c.getInternalAccounts)(e),s=(0,c.getAccountName)(i,n),u=(0,c.getMetadataContractName)(e,n),d=e=>{const t=r.find((t=>e.toLowerCase()===t.address.toLowerCase()));return t&&t.name||""},p=(0,c.getRpcPrefsForCurrentProvider)(e),m=(0,c.getIsCustomNetwork)(e);return{rpcPrefs:p,recipientEns:o,senderNickname:d(a),recipientNickname:n?d(n):null,isCustomNetwork:m,blockExplorerLinkText:(0,c.getBlockExplorerLinkText)(e),recipientName:s,recipientMetadataName:u}}),(e=>({tryReverseResolveAddress:t=>e((0,s.tryReverseResolveAddress)(t))}))))(u.default)}}},{package:"$root$",file:"ui/components/app/transaction-list-item-details/transaction-list-item-details.container.js"}],[5451,{"./transaction-list-item.component":5453},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./transaction-list-item.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-list-item/index.js"}],[5452,{"../../../../shared/constants/transaction":5061,"../../../ducks/swaps/swaps":5949,"../../../helpers/constants/design-system":5953,"../../../helpers/utils/util":6001,"../../../hooks/useTransactionDisplayData":6055,"../../../selectors":6639,"../../component-library":5534,"../../multichain":5678,"../cancel-button":5157,"../transaction-icon":5446,"../transaction-list-item-details":5448,"../transaction-status-label/transaction-status-label":5456,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=b(e("prop-types")),r=e("react-redux"),i=b(e("../transaction-status-label/transaction-status-label")),s=b(e("../transaction-icon")),c=e("../../../hooks/useTransactionDisplayData"),l=e("../../../helpers/utils/util"),u=e("../../../../shared/constants/transaction"),d=b(e("../cancel-button")),p=e("../../../ducks/swaps/swaps"),m=b(e("../transaction-list-item-details")),f=e("../../multichain"),h=e("../../component-library"),y=e("../../../helpers/constants/design-system"),g=e("../../../selectors");function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function k({smartTransaction:e,transactionGroup:t,isEarliestNonce:n=!1}){var o;const b=(0,r.useDispatch)(),[v,k]=(0,a.useState)(!1),[T,x]=(0,a.useState)(!1),{title:C,category:_,primaryCurrency:w,recipientAddress:E,isPending:M,senderAddress:N}=(0,c.useTransactionDisplayData)(t),O=(0,r.useSelector)(g.getCurrentNetwork),{time:A,status:S}=e,I=(0,l.formatDateWithYearContext)(A,"MMM d, y","MMM d");let P;S===u.SmartTransactionStatus.pending?P=u.TransactionGroupStatus.pending:null!=S&&S.startsWith(u.SmartTransactionStatus.cancelled)&&(P=u.TransactionGroupStatus.cancelled);const j=e.cancellable&&!v,D=(0,a.useCallback)((()=>{x((e=>!e))}),[]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(f.ActivityListItem,{className:"transaction-list-item transaction-list-item--unconfirmed",title:C,onClick:D,icon:a.default.createElement(h.BadgeWrapper,{anchorElementShape:h.BadgeWrapperAnchorElementShape.circular,positionObj:{top:-4,right:-4},display:y.Display.Block,badge:a.default.createElement(h.AvatarNetwork,{className:"activity-tx__network-badge","data-testid":"activity-tx-network-badge",size:h.AvatarNetworkSize.Xs,name:null==O?void 0:O.nickname,src:null==O||null===(o=O.rpcPrefs)||void 0===o?void 0:o.imageUrl,borderWidth:1,borderColor:y.BackgroundColor.backgroundDefault})},a.default.createElement(s.default,{category:_,status:P})),subtitle:a.default.createElement(i.default,{isPending:!0,isEarliestNonce:n,date:I,status:P})},P===u.TransactionGroupStatus.pending&&j&&a.default.createElement(h.Box,{paddingTop:4,className:"transaction-list-item__pending-actions"},a.default.createElement(d.default,{transaction:e.uuid,cancelTransaction:t=>{null==t||t.preventDefault(),b((0,p.cancelSwapsSmartTransaction)(e.uuid)),k(!0)}}))),T&&a.default.createElement(m.default,{title:C,onClose:D,senderAddress:N,recipientAddress:E,primaryCurrency:w,isEarliestNonce:n,transactionGroup:t,transactionStatus:()=>a.default.createElement(i.default,{isPending:M,isEarliestNonce:n,date:I,status:P,statusOnly:!0})}))}k.propTypes={smartTransaction:o.default.object.isRequired,isEarliestNonce:o.default.bool,transactionGroup:o.default.object}}}},{package:"$root$",file:"ui/components/app/transaction-list-item/smart-transaction-list-item.component.js"}],[5453,{"../../../../shared/constants/gas":5038,"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/transaction":5061,"../../../../shared/modules/selectors":5100,"../../../contexts/gasFee":5916,"../../../contexts/metametrics":5920,"../../../contexts/transaction-modal":5924,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../helpers/utils/transactions.util":5999,"../../../helpers/utils/util":6001,"../../../hooks/useI18nContext":6031,"../../../hooks/useShouldShowSpeedUp":6046,"../../../hooks/useTransactionDisplayData":6055,"../../../pages/confirmations/components/advanced-gas-fee-popover":6103,"../../../pages/confirmations/components/edit-gas-fee-popover":6201,"../../../pages/confirmations/components/edit-gas-popover":6208,"../../../selectors":6639,"../../../store/actions":6652,"../../component-library":5534,"../../multichain":5678,"../../ui/button":5793,"../cancel-button":5157,"../cancel-speedup-popover":5159,"../transaction-icon":5446,"../transaction-list-item-details":5448,"../transaction-status-label/transaction-status-label":5456,"@metamask/transaction-controller":2685,classnames:3599,"prop-types":4529,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=B(e("prop-types")),r=B(e("classnames")),i=e("react-router-dom"),s=e("react-redux"),c=e("@metamask/transaction-controller"),l=e("../../../hooks/useTransactionDisplayData"),u=e("../../../hooks/useI18nContext"),d=B(e("../transaction-list-item-details")),p=e("../../../helpers/constants/routes"),m=e("../../../hooks/useShouldShowSpeedUp"),f=B(e("../transaction-status-label/transaction-status-label")),h=B(e("../transaction-icon")),y=e("../../../helpers/constants/design-system"),g=e("../../component-library"),b=e("../../../../shared/constants/metametrics"),v=e("../../../../shared/constants/transaction"),k=e("../../../../shared/constants/gas"),T=e("../../../contexts/gasFee"),x=e("../../../contexts/transaction-modal"),C=e("../../../selectors"),_=e("../../../helpers/utils/transactions.util"),w=e("../../../helpers/utils/util"),E=B(e("../../ui/button")),M=B(e("../../../pages/confirmations/components/advanced-gas-fee-popover")),N=B(e("../cancel-button")),O=B(e("../cancel-speedup-popover")),A=B(e("../../../pages/confirmations/components/edit-gas-fee-popover")),S=B(e("../../../pages/confirmations/components/edit-gas-popover")),I=e("../../../contexts/metametrics"),P=e("../../multichain"),j=e("../../../store/actions"),D=e("../../../../shared/modules/selectors");function B(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},F.apply(this,arguments)}function L({transactionGroup:e,setEditGasMode:t,isEarliestNonce:n=!1}){var o;const _=(0,u.useI18nContext)(),M=(0,i.useHistory)(),{hasCancelled:O}=e,[A,B]=(0,a.useState)(!1),[R,F]=(0,a.useState)(!1),[L,$]=(0,a.useState)(!1),{supportsEIP1559:W}=(0,T.useGasFeeContext)(),{openModal:z}=(0,x.useTransactionModalContext)(),U=(0,s.useSelector)(C.getTestNetworkBackgroundColor),V=(0,s.useSelector)(D.getIsSmartTransaction),H=(0,s.useDispatch)(),{initialTransaction:{id:G},primaryTransaction:{error:q,status:K}}=e,J=(0,a.useContext)(I.MetaMetricsContext),Y=(0,a.useCallback)((async e=>{e.stopPropagation(),J({event:'Clicked "Speed Up"',category:b.MetaMetricsEventCategory.Navigation,properties:{action:"Activity Log",legacy_event:!0}}),W?(t(k.EditGasModes.speedUp),z("cancelSpeedUpTransaction")):$(!0)}),[z,t,J,W]),X=(0,a.useCallback)((e=>{e.stopPropagation(),J({event:'Clicked "Cancel"',category:b.MetaMetricsEventCategory.Navigation,properties:{action:"Activity Log",legacy_event:!0}}),K===c.TransactionStatus.approved?H((0,j.abortTransactionSigning)(G)):W?(t(k.EditGasModes.cancel),z("cancelSpeedUpTransaction")):F(!0)}),[J,z,t,W,K,H,G]),Q=(0,m.useShouldShowSpeedUp)(e,n),{title:Z,category:ee,primaryCurrency:te,recipientAddress:ne,secondaryCurrency:ae,displayedStatusKey:oe,isPending:re,senderAddress:ie}=(0,l.useTransactionDisplayData)(e),se=(0,w.formatDateWithYearContext)(e.primaryTransaction.time,"MMM d, y","MMM d"),ce=ee===v.TransactionGroupCategory.signatureRequest,le=ee===v.TransactionGroupCategory.approval,ue=K===c.TransactionStatus.unapproved,de=[v.TransactionGroupCategory.swap,v.TransactionGroupCategory.swapAndSend].includes(ee),pe=K===c.TransactionStatus.approved,me=K===c.TransactionStatus.signed,fe=(0,r.default)("transaction-list-item",{"transaction-list-item--unconfirmed":re||[c.TransactionStatus.failed,c.TransactionStatus.dropped,c.TransactionStatus.rejected].includes(oe)}),he=(0,a.useCallback)((()=>{ue?M.push(`${p.CONFIRM_TRANSACTION_ROUTE}/${G}`):B((e=>(J({event:e?b.MetaMetricsEventName.ActivityDetailsClosed:b.MetaMetricsEventName.ActivityDetailsOpened,category:b.MetaMetricsEventCategory.Navigation,properties:{activity_type:ee}}),!e)))}),[ue,M,G,J,ee]),ye=(0,a.useMemo)((()=>!Q||!re||ue||pe||me?null:a.default.createElement(E.default,{"data-testid":"speed-up-button",type:"primary",onClick:O?X:Y,style:O?{width:"auto"}:null},_(O?"speedUpCancellation":"speedUp"))),[Q,ue,_,re,pe,me,O,Y,X]),ge=(0,s.useSelector)(C.getCurrentNetwork);let be=!O&&re&&!ue&&!me;return a.default.createElement(a.default.Fragment,null,a.default.createElement(P.ActivityListItem,{"data-testid":"activity-list-item",onClick:he,className:fe,title:Z,icon:a.default.createElement(g.BadgeWrapper,{anchorElementShape:g.BadgeWrapperAnchorElementShape.circular,positionObj:{top:-4,right:-4},display:y.Display.Block,badge:a.default.createElement(g.AvatarNetwork,{className:"activity-tx__network-badge","data-testid":"activity-tx-network-badge",size:g.AvatarNetworkSize.Xs,name:null==ge?void 0:ge.nickname,src:null==ge||null===(o=ge.rpcPrefs)||void 0===o?void 0:o.imageUrl,borderWidth:1,borderColor:y.BackgroundColor.backgroundDefault,backgroundColor:U})},a.default.createElement(h.default,{category:ee,status:oe})),subtitle:a.default.createElement(f.default,{statusOnly:!0,isPending:re,isEarliestNonce:n,error:q,date:se,status:oe}),rightContent:!ce&&!le&&a.default.createElement(a.default.Fragment,null,a.default.createElement(g.Text,{variant:y.TextVariant.bodyLgMedium,fontWeight:y.FontWeight.Medium,color:y.Color.textDefault,title:te,textAlign:y.TextAlign.Right,"data-testid":"transaction-list-item-primary-currency",className:"activity-list-item__primary-currency",ellipsis:!0},te),a.default.createElement(g.Text,{variant:y.TextVariant.bodyMd,color:y.Color.textAlternative,textAlign:y.TextAlign.Right,"data-testid":"transaction-list-item-secondary-currency"},ae))},a.default.createElement(g.Box,{paddingTop:4,className:"transaction-list-item__pending-actions"},be&&a.default.createElement(N.default,{"data-testid":"cancel-button",transaction:e.primaryTransaction,cancelTransaction:X}),ye)),A&&a.default.createElement(d.default,{title:Z,onClose:he,transactionGroup:e,primaryCurrency:te,senderAddress:ie,recipientAddress:ne,onRetry:Y,showRetry:K===c.TransactionStatus.failed&&!de&&!V,showSpeedUp:Q,isEarliestNonce:n,onCancel:X,showCancel:re&&!O,transactionStatus:()=>a.default.createElement(f.default,{isPending:re,isEarliestNonce:n,error:q,date:se,status:oe,statusOnly:!0})}),!W&&L&&a.default.createElement(S.default,{onClose:()=>$(!1),mode:k.EditGasModes.speedUp,transaction:e.primaryTransaction}),!W&&R&&a.default.createElement(S.default,{onClose:()=>F(!1),mode:k.EditGasModes.cancel,transaction:e.primaryTransaction}))}L.propTypes={transactionGroup:o.default.object.isRequired,isEarliestNonce:o.default.bool,setEditGasMode:o.default.func};const $=e=>{const{transactionGroup:t}=e,[n,o]=(0,a.useState)(),r=t.primaryTransaction,i=(0,s.useSelector)(C.checkNetworkAndAccountSupports1559)&&!(0,_.isLegacyTransaction)(null==r?void 0:r.txParams),c=Boolean(t.primaryTransaction.custodyId);return a.default.createElement(T.GasFeeContextProvider,{transaction:t.primaryTransaction,editGasMode:n},a.default.createElement(x.TransactionModalContextProvider,null,a.default.createElement(L,F({},e,{setEditGasMode:o})),i&&a.default.createElement(a.default.Fragment,null,!c&&a.default.createElement(O.default,null),a.default.createElement(A.default,null),a.default.createElement(M.default,null))))};$.propTypes={transactionGroup:o.default.object.isRequired};n.default=$}}},{package:"$root$",file:"ui/components/app/transaction-list-item/transaction-list-item.component.js"}],[5454,{"./transaction-list.component":5455},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./transaction-list.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/transaction-list/index.js"}],[5455,{"../../../../shared/constants/swaps":5057,"../../../../shared/modules/string-utils":5103,"../../../contexts/metametrics":5920,"../../../ducks/ramps":5943,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/transactions":5965,"../../../helpers/utils/multichain/blockExplorer":5990,"../../../helpers/utils/util":6001,"../../../hooks/useAccountTotalFiatBalance":6016,"../../../hooks/useI18nContext":6031,"../../../hooks/useMultichainSelector":6036,"../../../selectors":6639,"../../../selectors/accounts":6633,"../../../selectors/multichain":6644,"../../../selectors/transactions":6649,"../../component-library":5534,"../../multichain/menu-items/view-explorer-menu-item":5681,"../../multichain/ramps-card/ramps-card":5771,"../transaction-list-item":5451,"../transaction-list-item/smart-transaction-list-item.component":5452,"@metamask/transaction-controller":2685,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=j;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=M(e("prop-types")),r=e("react-redux"),i=e("@metamask/transaction-controller"),s=e("../../../selectors/transactions"),c=e("../../../selectors"),l=e("../../../hooks/useI18nContext"),u=M(e("../transaction-list-item")),d=M(e("../transaction-list-item/smart-transaction-list-item.component")),p=e("../../../helpers/constants/transactions"),m=e("../../../../shared/constants/swaps"),f=e("../../../../shared/modules/string-utils"),h=e("../../component-library"),y=e("../../../helpers/constants/design-system"),g=e("../../../helpers/utils/util"),b=e("../../../hooks/useAccountTotalFiatBalance"),v=e("../../multichain/ramps-card/ramps-card"),k=e("../../../ducks/ramps"),T=e("../../../selectors/accounts"),x=e("../../multichain/menu-items/view-explorer-menu-item"),C=e("../../../helpers/utils/multichain/blockExplorer"),_=e("../../../contexts/metametrics"),w=e("../../../hooks/useMultichainSelector"),E=e("../../../selectors/multichain");function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},O.apply(this,arguments)}const A=10,S=({initialTransaction:{type:e,destinationTokenSymbol:t,sourceTokenSymbol:n}})=>!p.TOKEN_CATEGORY_HASH[e]&&(![i.TransactionType.swap,i.TransactionType.swapAndSend].includes(e)||("ETH"===t||"ETH"===n)),I=(e,t,n,a)=>t?e.filter(S):n?e.filter(((e,t)=>({initialTransaction:{txParams:n}})=>(0,f.isEqualCaseInsensitive)(null==n?void 0:n.to,e)||(null==n?void 0:n.to)===m.SWAPS_CHAINID_CONTRACT_ADDRESS_MAP[t]&&n.data.match(e.slice(2)))(n,a)):e,P=e=>{const t=[];return e.forEach((e=>{const n=(0,g.formatDateWithYearContext)(e.primaryTransaction.time,"MMM d, y","MMM d"),a=t.find((e=>e.date===n));a?a.transactionGroups.push(e):t.push({date:n,dateMillis:e.primaryTransaction.time,transactionGroups:[e]}),t.sort(((e,t)=>t.dateMillis-e.dateMillis))})),t};function j({hideTokenTransactions:e,tokenAddress:t,boxProps:n}){const[o,p]=(0,a.useState)(A),m=(0,l.useI18nContext)(),f=(0,r.useSelector)(s.nonceSortedPendingTransactionsSelector),g=(0,r.useSelector)(s.nonceSortedCompletedTransactionsSelector),M=(0,r.useSelector)(c.getCurrentChainId),N=(0,r.useSelector)(c.getSelectedAccount),S=(0,r.useSelector)(c.getShouldHideZeroBalanceTokens),{totalFiatBalance:j}=(0,b.useAccountTotalFiatBalance)(N,S),D=0===Number(j),B=(0,r.useSelector)(k.getIsNativeTokenBuyable)&&D,R=(e,t)=>0===e?a.default.createElement(h.Text,{paddingTop:4,paddingInline:4,variant:y.TextVariant.bodyMd,color:y.TextColor.textDefault,key:t.dateMillis},t.date):null,F=(0,a.useMemo)((()=>P(I(f,e,t,M))),[e,t,f,M]),L=(0,a.useMemo)((()=>P(I(g,e,t,M))),[e,t,g,M]),$=(0,a.useCallback)((()=>p((e=>e+A))),[]),W=(0,r.useSelector)(T.isSelectedInternalAccountBtc),z=(0,a.useContext)(_.MetaMetricsContext),U=(0,w.useMultichainSelector)(E.getMultichainNetwork,N);if(W){const e=(0,C.getMultichainAccountUrl)(N.address,U),t="Activity Tab";return a.default.createElement(h.Box,O({className:"transaction-list"},n),a.default.createElement(h.Box,{className:"transaction-list__empty-text"},m("bitcoinActivityNotSupported")),a.default.createElement(h.Box,{className:"transaction-list__view-on-block-explorer"},a.default.createElement(h.Button,{display:y.Display.Flex,variant:h.ButtonVariant.Primary,size:h.ButtonSize.Sm,endIconName:h.IconName.Export,onClick:()=>(0,x.openBlockExplorer)(e,t,z)},m("viewOnBlockExplorer"))))}return a.default.createElement(a.default.Fragment,null,B?a.default.createElement(v.RampsCard,{variant:v.RAMPS_CARD_VARIANT_TYPES.ACTIVITY}):null,a.default.createElement(h.Box,O({className:"transaction-list"},n),a.default.createElement(h.Box,{className:"transaction-list__transactions"},F.length>0&&a.default.createElement(h.Box,{className:"transaction-list__pending-transactions"},F.map((e=>e.transactionGroups.map(((t,n)=>{var o;return null!==(o=t.initialTransaction)&&void 0!==o&&o.isSmartTransaction?a.default.createElement(a.Fragment,{key:`${t.nonce}:${n}`},R(n,e),a.default.createElement(d.default,{isEarliestNonce:0===n,smartTransaction:t.initialTransaction,transactionGroup:t})):a.default.createElement(a.Fragment,{key:`${t.nonce}:${n}`},R(n,e),a.default.createElement(u.default,{isEarliestNonce:0===n,transactionGroup:t}))}))))),a.default.createElement(h.Box,{className:"transaction-list__completed-transactions"},L.length>0?L.map((e=>(e.transactionGroups=e.transactionGroups.map((e=>(e.transactions=e.transactions.filter((e=>!(e=>e.type===i.TransactionType.incoming&&e.txParams.to.toLowerCase()!==N.address.toLowerCase())(e))),e))),e))).map((e=>(e.transactionGroups=e.transactionGroups.filter((e=>e.transactions.length>0)),e))).filter((e=>e.transactionGroups.length>0)).slice(0,o).map((e=>e.transactionGroups.map(((t,n)=>{var r;return a.default.createElement(a.Fragment,{key:`${t.nonce}:${t.initialTransaction?n:o+n-10}`},R(n,e),null!==(r=t.initialTransaction)&&void 0!==r&&r.isSmartTransaction?a.default.createElement(d.default,{transactionGroup:t,smartTransaction:t.initialTransaction}):a.default.createElement(u.default,{transactionGroup:t}))})))):a.default.createElement(h.Box,{className:"transaction-list__empty"},a.default.createElement(h.Box,{className:"transaction-list__empty-text"},m("noTransactions"))),L.length>o&&a.default.createElement(h.Button,{className:"transaction-list__view-more",type:"secondary",onClick:$},m("viewMore"))))))}j.propTypes={hideTokenTransactions:o.default.bool,tokenAddress:o.default.string,boxProps:o.default.object},j.defaultProps={hideTokenTransactions:!1,tokenAddress:undefined,boxProps:undefined}}}},{package:"$root$",file:"ui/components/app/transaction-list/transaction-list.component.js"}],[5456,{"../../../../shared/constants/transaction":5061,"../../../hooks/useI18nContext":6031,"../../ui/tooltip":5903,"@metamask/transaction-controller":2685,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=u(e("react")),o=u(e("prop-types")),r=u(e("classnames")),i=e("@metamask/transaction-controller"),s=u(e("../../ui/tooltip")),c=e("../../../hooks/useI18nContext"),l=e("../../../../shared/constants/transaction");function u(e){return e&&e.__esModule?e:{default:e}}const d="queued",p="signing",m={[i.TransactionStatus.submitted]:l.TransactionGroupStatus.pending,[i.TransactionStatus.approved]:l.TransactionGroupStatus.pending},f={[i.TransactionStatus.unapproved]:"transaction-status-label--unapproved",[i.TransactionStatus.rejected]:"transaction-status-label--rejected",[i.TransactionStatus.failed]:"transaction-status-label--failed",[i.TransactionStatus.dropped]:"transaction-status-label--dropped",[l.TransactionGroupStatus.cancelled]:"transaction-status-label--cancelled",[d]:"transaction-status-label--queued",[l.TransactionGroupStatus.pending]:"transaction-status-label--pending"};function h({status:e,date:t,error:n,isEarliestNonce:o,className:u,statusOnly:h}){var y;const g=(0,c.useI18nContext)(),b=function(e,t){return e===i.TransactionStatus.approved?p:m[e]?t?l.TransactionGroupStatus.pending:d:e}(e,o);let v=(null==n||null===(y=n.rpc)||void 0===y?void 0:y.message)||(null==n?void 0:n.message),k=b&&g(b);return b!==i.TransactionStatus.confirmed||h||(k=t),a.default.createElement(s.default,{position:"top",title:v,wrapperClassName:(0,r.default)("transaction-status-label",`transaction-status-label--${b}`,u,f[b])},k)}h.propTypes={status:o.default.string,className:o.default.string,date:o.default.string,error:o.default.object,isEarliestNonce:o.default.bool,statusOnly:o.default.bool}}}},{package:"$root$",file:"ui/components/app/transaction-status-label/transaction-status-label.js"}],[5457,{"./user-preferenced-currency-display.component":5458},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./user-preferenced-currency-display.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/user-preferenced-currency-display/index.js"}],[5458,{"../../../../shared/constants/common":5033,"../../../helpers/constants/common":5951,"../../../hooks/useMultichainSelector":6036,"../../../hooks/useUserPreferencedCurrency":6057,"../../../selectors/multichain":6644,"../../component-library":5534,"../../ui/currency-display":5804,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=p(e("prop-types")),r=e("../../../../shared/constants/common"),i=e("../../../helpers/constants/common"),s=p(e("../../ui/currency-display")),c=e("../../../hooks/useUserPreferencedCurrency"),l=e("../../component-library"),u=e("../../../selectors/multichain"),d=e("../../../hooks/useMultichainSelector");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}function h({"data-testid":e,account:t,ethNumberOfDecimals:n,fiatNumberOfDecimals:o,numberOfDecimals:r,showEthLogo:i,type:p,showFiat:m,showNative:h,showCurrencySuffix:y,...g}){var b;const v=(0,d.useMultichainSelector)(u.getMultichainCurrentNetwork,t),k=(0,d.useMultichainSelector)(u.getMultichainNativeCurrency,t),{currency:T,numberOfDecimals:x}=(0,c.useUserPreferencedCurrency)(p,{account:t,ethNumberOfDecimals:n,fiatNumberOfDecimals:o,numberOfDecimals:r,showFiatOverride:m,showNativeOverride:h}),C=(0,a.useMemo)((()=>{var e;return i&&T===k&&a.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,name:null==v?void 0:v.nickname,src:null==v||null===(e=v.rpcPrefs)||void 0===e?void 0:e.imageUrl})}),[T,i,k,null==v?void 0:v.nickname,null==v||null===(b=v.rpcPrefs)||void 0===b?void 0:b.imageUrl]);return a.default.createElement(s.default,f({},g,{account:t,currency:T,"data-testid":e,numberOfDecimals:x,prefixComponent:C,suffix:y&&!i&&T}))}const y={className:o.default.string,account:o.default.object,"data-testid":o.default.string,prefix:o.default.string,value:o.default.string,numberOfDecimals:o.default.oneOfType([o.default.string,o.default.number]),hideLabel:o.default.bool,hideTitle:o.default.bool,style:o.default.object,showEthLogo:o.default.bool,type:o.default.oneOf([i.PRIMARY,i.SECONDARY]),ethNumberOfDecimals:o.default.oneOfType([o.default.string,o.default.number]),fiatNumberOfDecimals:o.default.oneOfType([o.default.string,o.default.number]),showFiat:o.default.bool,showNative:o.default.bool,showCurrencySuffix:o.default.bool,currency:o.default.string,denomination:o.default.oneOf([r.EtherDenomination.GWEI,r.EtherDenomination.ETH]),displayValue:o.default.string,prefixComponent:o.default.node,suffix:o.default.oneOfType([o.default.string,o.default.bool]),prefixComponentWrapperProps:o.default.object,textProps:o.default.object,suffixProps:o.default.object};h.propTypes=y}}},{package:"$root$",file:"ui/components/app/user-preferenced-currency-display/user-preferenced-currency-display.component.js"}],[5459,{"../../../ducks/ramps":5943,"../../../selectors/multichain":6644,"./coin-overview":5461,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),i=e("../../../selectors/multichain"),s=e("../../../ducks/ramps"),c=e("./coin-overview");n.default=({className:e})=>{const{chainId:t}=(0,r.useSelector)(i.getMultichainProviderConfig),n=(0,r.useSelector)(i.getMultichainSelectedAccountCachedBalance),a=(0,r.useSelector)(s.getIsBitcoinBuyable);return o.default.createElement(c.CoinOverview,{balance:n,balanceIsCached:!0,className:e,chainId:t,isSigningEnabled:!1,isSwapsChain:!1,isBridgeChain:!1,isBuyableChain:a})}}}},{package:"$root$",file:"ui/components/app/wallet-overview/btc-overview.tsx"}],[5460,{"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/transaction":5061,"../../../contexts/i18n":5917,"../../../contexts/metametrics":5920,"../../../ducks/send":5946,"../../../ducks/swaps/swaps":5949,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../helpers/utils/hardware":5985,"../../../helpers/utils/portfolio":5996,"../../../hooks/bridge/useBridging":6004,"../../../hooks/ramps/useRamps/useRamps":6011,"../../../selectors":6639,"../../component-library":5534,"../../ui/icon-button":5825,"../../ui/tooltip":5903,"@metamask/controller-utils":1250,"@metamask/utils":2787,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("@metamask/controller-utils"),s=e("@metamask/utils"),c=e("../../../contexts/i18n"),l=e("../../../helpers/constants/routes"),u=e("../../../selectors"),d=_(e("../../ui/tooltip")),p=e("../../../ducks/swaps/swaps"),m=e("../../../helpers/utils/hardware"),f=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/constants/transaction"),y=e("../../../contexts/metametrics"),g=e("../../../ducks/send"),b=e("../../../helpers/constants/design-system"),v=e("../../component-library"),k=_(e("../../ui/icon-button")),T=e("../../../helpers/utils/portfolio"),x=_(e("../../../hooks/ramps/useRamps/useRamps")),C=_(e("../../../hooks/bridge/useBridging"));function _(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}n.default=({chainId:e,isSwapsChain:t,isSigningEnabled:n,isBridgeChain:_,isBuyableChain:w,defaultSwapsToken:E,classPrefix:M="coin"})=>{const N=(0,a.useContext)(c.I18nContext),O=(0,o.useDispatch)(),A=(0,a.useContext)(y.MetaMetricsContext),S=(0,r.useHistory)(),I=(0,r.useLocation)(),P=(0,o.useSelector)(u.getMetaMetricsId),j=(0,o.useSelector)(u.getParticipateInMetaMetrics),D=(0,o.useSelector)(u.getDataCollectionForMarketing),B=(0,o.useSelector)(u.getCurrentKeyring),R=(0,m.isHardwareKeyring)(null==B?void 0:B.type),F=(0,o.useSelector)(u.getUseExternalServices),L={buyButton:[{condition:!w,message:""}],sendButton:[{condition:!n,message:"methodNotSupported"}],swapButton:[{condition:!t,message:"currentlyUnavailable"},{condition:!n,message:"methodNotSupported"}],bridgeButton:[{condition:!_,message:"currentlyUnavailable"},{condition:!n,message:"methodNotSupported"}]},$=(e,t)=>{const n=L[e].find((({condition:e})=>e));return null!=n&&n.message?a.default.createElement(d.default,{title:N(n.message),position:"bottom"},t):t},{openBuyCryptoInPdapp:W}=(0,x.default)(),{openBridgeExperience:z}=(0,C.default)(),U=(0,a.useCallback)((async()=>{A({event:f.MetaMetricsEventName.NavSendButtonClicked,category:f.MetaMetricsEventCategory.Navigation,properties:{token_symbol:"ETH",location:"Home",text:"Send",chain_id:e}},{excludeMetaMetricsId:!1}),await O((0,g.startNewDraftTransaction)({type:h.AssetType.native})),S.push(l.SEND_ROUTE)}),[e]),V=(0,a.useCallback)((async()=>{t&&(A({event:f.MetaMetricsEventName.NavSwapButtonClicked,category:f.MetaMetricsEventCategory.Swaps,properties:{token_symbol:"ETH",location:f.MetaMetricsSwapsEventSource.MainView,text:"Swap",chain_id:e}}),O((0,p.setSwapsFromToken)(E)),R?global.platform.openExtensionInBrowser&&global.platform.openExtensionInBrowser(l.BUILD_QUOTE_ROUTE):S.push(l.BUILD_QUOTE_ROUTE))}),[t,e,R,E]),H=(0,a.useCallback)((()=>{W((0,s.isCaipChainId)(e)?e:(0,i.toHex)(e)),A({event:f.MetaMetricsEventName.NavBuyButtonClicked,category:f.MetaMetricsEventCategory.Navigation,properties:{location:"Home",text:"Buy",chain_id:e,token_symbol:E}})}),[e,E]),G=(0,a.useCallback)((()=>{E&&z("Home",E,I.pathname.includes("asset")?"&token=native":"")}),[E,I,z]),q=(0,a.useCallback)((()=>{const t=(0,T.getPortfolioUrl)("","ext_portfolio_button",P,j,D);global.platform.openTab({url:t}),A({category:f.MetaMetricsEventCategory.Navigation,event:f.MetaMetricsEventName.PortfolioLinkClicked,properties:{location:"Home",text:"Portfolio",chain_id:e,token_symbol:"ETH"}})}),[e,P]);return a.default.createElement(v.Box,{display:b.Display.Flex,justifyContent:b.JustifyContent.spaceEvenly},a.default.createElement(k.default,{className:`${M}-overview__button`,Icon:a.default.createElement(v.Icon,{name:v.IconName.PlusMinus,color:b.IconColor.primaryInverse}),disabled:!w,"data-testid":`${M}-overview-buy`,label:N("buyAndSell"),onClick:H,tooltipRender:e=>$("buyButton",e)}),a.default.createElement(k.default,{className:`${M}-overview__button`,"data-testid":`${M}-overview-send`,Icon:a.default.createElement(v.Icon,{name:v.IconName.Arrow2UpRight,color:b.IconColor.primaryInverse}),disabled:!n,label:N("send"),onClick:U,tooltipRender:e=>$("sendButton",e)}),a.default.createElement(k.default,{className:`${M}-overview__button`,disabled:!t||!n||!F,Icon:a.default.createElement(v.Icon,{name:v.IconName.SwapHorizontal,color:b.IconColor.primaryInverse}),onClick:V,label:N("swap"),"data-testid":"token-overview-button-swap",tooltipRender:e=>$("swapButton",e)}),a.default.createElement(k.default,{className:`${M}-overview__button`,disabled:!_||!n,"data-testid":`${M}-overview-bridge`,Icon:a.default.createElement(v.Icon,{name:v.IconName.Bridge,color:b.IconColor.primaryInverse}),label:N("bridge"),onClick:G,tooltipRender:e=>$("bridgeButton",e)}),a.default.createElement(k.default,{className:`${M}-overview__button`,"data-testid":`${M}-overview-portfolio`,Icon:a.default.createElement(v.Icon,{name:v.IconName.Diagram,color:b.IconColor.primaryInverse}),label:N("portfolio"),onClick:q}))}}}},{package:"$root$",file:"ui/components/app/wallet-overview/coin-buttons.tsx"}],[5461,{"../../../../shared/modules/currency-display.utils":5082,"../../../contexts/i18n":5917,"../../../helpers/constants/common":5951,"../../../hooks/useIsOriginalNativeTokenSymbol":6032,"../../../selectors":6639,"../../../selectors/multichain":6644,"../../multichain/token-list-item/price/percentage-and-amount-change/percentage-and-amount-change":5779,"../../ui/spinner":5887,"../../ui/tooltip":5903,"../user-preferenced-currency-display":5457,"./coin-buttons":5460,"./wallet-overview":5464,classnames:3599,"ethereumjs-util":3832,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CoinOverview=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=v(e("classnames")),i=e("ethereumjs-util"),s=e("../../../contexts/i18n"),c=v(e("../../ui/tooltip")),l=v(e("../user-preferenced-currency-display")),u=e("../../../helpers/constants/common"),d=e("../../../selectors"),p=v(e("../../ui/spinner")),m=e("../../../hooks/useIsOriginalNativeTokenSymbol"),f=e("../../../../shared/modules/currency-display.utils"),h=e("../../multichain/token-list-item/price/percentage-and-amount-change/percentage-and-amount-change"),y=e("../../../selectors/multichain"),g=v(e("./wallet-overview")),b=v(e("./coin-buttons"));function v(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}n.CoinOverview=({balance:e,balanceIsCached:t,className:n,classPrefix:v="coin",chainId:k,defaultSwapsToken:T,isBridgeChain:x,isBuyableChain:C,isSwapsChain:_,isSigningEnabled:w})=>{var E;if(_&&T===undefined)throw new Error("defaultSwapsToken is required");const M=(0,a.useContext)(s.I18nContext),N=(0,o.useSelector)(y.getMultichainIsEvm),O=(0,o.useSelector)(y.getMultichainShouldShowFiat),{useNativeCurrencyAsPrimaryCurrency:A}=(0,o.useSelector)(d.getPreferences),{ticker:S,type:I,rpcUrl:P}=(0,o.useSelector)(y.getMultichainProviderConfig),j=(0,m.useIsOriginalNativeTokenSymbol)(k,S,I,P),D=(0,o.useSelector)(d.getTokensMarketData);return a.default.createElement(g.default,{balance:a.default.createElement(c.default,{position:"top",title:M("balanceOutdated"),disabled:!t},a.default.createElement("div",{className:`${v}-overview__balance`},a.default.createElement("div",{className:`${v}-overview__primary-container`},e?a.default.createElement(l.default,{style:{display:"contents"},className:(0,r.default)(`${v}-overview__primary-balance`,{[`${v}-overview__cached-balance`]:t}),"data-testid":`${v}-overview__primary-currency`,value:e,type:(0,f.showPrimaryCurrency)(j,A)?u.PRIMARY:u.SECONDARY,ethNumberOfDecimals:4,hideTitle:!0}):a.default.createElement(p.default,{className:"loading-overlay__spinner"}),t&&a.default.createElement("span",{className:`${v}-overview__cached-star`},"*")),O&&j&&e&&a.default.createElement(l.default,{className:(0,r.default)({[`${v}__cached-secondary-balance`]:t,[`${v}__secondary-balance`]:!t}),"data-testid":`${v}-overview__secondary-currency`,value:e,type:u.SECONDARY,ethNumberOfDecimals:4,hideTitle:!0}),N&&a.default.createElement(h.PercentageAndAmountChange,{value:null==D||null===(E=D[(0,i.zeroAddress)()])||void 0===E?void 0:E.pricePercentChange1d}))),buttons:a.default.createElement(b.default,{chainId:k,isSwapsChain:_,isSigningEnabled:w,isBridgeChain:x,isBuyableChain:C,defaultSwapsToken:T,classPrefix:v}),className:n})}}}},{package:"$root$",file:"ui/components/app/wallet-overview/coin-overview.tsx"}],[5462,{"../../../ducks/ramps":5943,"../../../selectors":6639,"./coin-overview":5461,"@metamask/keyring-api":1622,lodash:4382,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),o=d(e("prop-types")),r=e("react-redux"),i=e("@metamask/keyring-api"),s=e("lodash"),c=e("../../../selectors"),l=e("../../../ducks/ramps"),u=e("./coin-overview");function d(e){return e&&e.__esModule?e:{default:e}}const p=({className:e})=>{const t=(0,r.useSelector)(c.getIsBridgeChain),n=(0,r.useSelector)(l.getIsNativeTokenBuyable),o=(0,r.useSelector)(c.getSwapsDefaultToken,s.isEqual),d=(0,r.useSelector)(c.isBalanceCached),p=(0,r.useSelector)(c.getCurrentChainId),m=(0,r.useSelector)(c.getSelectedAccountCachedBalance),f=(0,r.useSelector)(c.getSelectedInternalAccount,s.isEqual),h=(0,r.useSelector)(c.getIsSwapsChain),y=f.methods.includes(i.EthMethod.SignTransaction)||f.methods.includes(i.EthMethod.SignUserOperation);return a.default.createElement(u.CoinOverview,{balance:m,balanceIsCached:d,className:e,classPrefix:"eth",chainId:p,isSigningEnabled:y,isSwapsChain:h,isBridgeChain:t,isBuyableChain:n,defaultSwapsToken:o})};p.propTypes={className:o.default.string};n.default=p}}},{package:"$root$",file:"ui/components/app/wallet-overview/eth-overview.js"}],[5463,{"./btc-overview":5459,"./eth-overview":5462},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BtcOverview",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"EthOverview",{enumerable:!0,get:function(){return a.default}});var a=r(e("./eth-overview")),o=r(e("./btc-overview"));function r(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/wallet-overview/index.js"}],[5464,{classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),o=i(e("prop-types")),r=i(e("classnames"));function i(e){return e&&e.__esModule?e:{default:e}}const s=({balance:e,buttons:t,className:n})=>a.default.createElement("div",{className:(0,r.default)("wallet-overview",n)},a.default.createElement("div",{className:"wallet-overview__balance"},e),a.default.createElement("div",{className:"wallet-overview__buttons"},t));s.propTypes={balance:o.default.element.isRequired,buttons:o.default.element.isRequired,className:o.default.string};n.default=s}}},{package:"$root$",file:"ui/components/app/wallet-overview/wallet-overview.js"}],[5465,{"./whats-new-popup":5466},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./whats-new-popup"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/whats-new-popup/index.js"}],[5466,{"../../../../shared/constants/metametrics":5043,"../../../../shared/notifications":5107,"../../../contexts/i18n":5917,"../../../contexts/metametrics":5920,"../../../ducks/locale/locale":5940,"../../../helpers/constants/design-system":5953,"../../../hooks/useEqualityCheck":6025,"../../../hooks/useTheme":6048,"../../../selectors":6639,"../../../store/actions":6652,"../../component-library":5534,"../../ui/popover":5874,classnames:3599,lodash:4382,"prop-types":4529,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=M;var a=x(e("classnames")),o=e("lodash"),r=x(e("prop-types")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),c=e("react-router-dom"),l=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/notifications"),d=e("../../../contexts/i18n"),p=e("../../../contexts/metametrics"),m=e("../../../ducks/locale/locale"),f=e("../../../helpers/constants/design-system"),h=e("../../../hooks/useEqualityCheck"),y=e("../../../hooks/useTheme"),g=e("../../../selectors"),b=e("../../../store/actions"),v=e("../../component-library"),k=x(e("../../ui/popover"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function x(e){return e&&e.__esModule?e:{default:e}}function C(e){return{[u.NOTIFICATION_DROP_LEDGER_FIREFOX]:()=>{(0,b.updateViewedNotifications)({[u.NOTIFICATION_DROP_LEDGER_FIREFOX]:!0})}}[e]}const _=e=>Array.isArray(e)?i.default.createElement(i.default.Fragment,null,e.map(((t,n)=>{const a=n===e.length-1;return i.default.createElement(v.Text,{"data-testid":`whats-new-description-item-${n}`,key:`item-${n}`,variant:f.TextVariant.bodyMd,marginBottom:a?0:4},t)}))):i.default.createElement(v.Text,{variant:f.TextVariant.bodyMd},e),w=({notification:e,idRefMap:t,isLast:n,trackEvent:o})=>{const{id:r,date:s,title:c,description:u,image:d,actionText:p}=e,m=C(r),h=d&&i.default.createElement("img",{className:"whats-new-popup__notification-image",src:d.src,height:d.height,width:d.width}),y=null==d?void 0:d.placeImageBelowDescription;return i.default.createElement("div",{className:(0,a.default)("whats-new-popup__notification whats-new-popup__first-notification",{"whats-new-popup__last-notification":n}),key:`whats-new-popop-notification-${r}`},i.default.createElement(v.Text,{variant:f.TextVariant.bodyLgMedium,marginBottom:2},c),!y&&h,i.default.createElement("div",{className:"whats-new-popup__description-and-date"},i.default.createElement("div",{className:"whats-new-popup__notification-description"},_(u)),i.default.createElement("div",{className:"whats-new-popup__notification-date"},s)),y&&h,p&&i.default.createElement(v.ButtonPrimary,{className:"whats-new-popup__button",onClick:()=>{m(),o({category:l.MetaMetricsEventCategory.Home,event:l.MetaMetricsEventName.WhatsNewClicked})},block:!0},p),i.default.createElement("div",{className:"whats-new-popup__intersection-observable",ref:t[r]}))},E=({notification:e,idRefMap:t,history:n,isLast:o})=>{const{id:r,date:s,title:c,description:l,actionText:u}=e,d=C(r);return i.default.createElement("div",{className:(0,a.default)("whats-new-popup__notification",{"whats-new-popup__last-notification":o}),key:`whats-new-popop-notification-${r}`},i.default.createElement("div",{className:"whats-new-popup__notification-title"},c),i.default.createElement("div",{className:"whats-new-popup__description-and-date"},i.default.createElement("div",{className:"whats-new-popup__notification-description"},_(l)),i.default.createElement("div",{className:"whats-new-popup__notification-date"},s)),u&&i.default.createElement("div",{className:"whats-new-popup__link",onClick:d},`${u} >`),i.default.createElement("div",{className:"whats-new-popup__intersection-observable",ref:t[r]}))};function M({onClose:e}){const t=(0,i.useContext)(d.I18nContext),n=(0,c.useHistory)(),a=(0,s.useSelector)(g.getSortedAnnouncementsToShow),r=(0,s.useSelector)(m.getCurrentLocale),f=(0,y.useTheme)(),[v,T]=(0,i.useState)({}),[x,C]=(0,i.useState)(!0),_=(0,i.useRef)(),M=(0,h.useEqualityCheck)(a),N=(0,i.useMemo)((()=>M.reduce(((e,t)=>({...e,[t.id]:i.default.createRef()})),{})),[M]),O=(0,i.useContext)(p.MetaMetricsContext),A=(0,o.debounce)((e=>{C(e.scrollHeight-e.scrollTop!==e.clientHeight)}),100);(0,i.useEffect)((()=>{const e=new window.IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const[n,a]=Object.entries(N).find((([t,n])=>n.current.isSameNode(e.target)));T((e=>({...e,[n]:!0}))),t.unobserve(a.current)}}))}),{root:_.current,threshold:1});return Object.values(N).forEach((t=>{e.observe(t.current)})),()=>{e.disconnect()}}),[N,T]);const S={[u.NOTIFICATION_DROP_LEDGER_FIREFOX]:w};return i.default.createElement(k.default,{title:t("whatsNew"),headerProps:{padding:[4,4,4]},className:"whats-new-popup__popover",onClose:()=>{(0,b.updateViewedNotifications)(v),O({category:l.MetaMetricsEventCategory.Home,event:l.MetaMetricsEventName.WhatsNewViewed,properties:{number_viewed:Object.keys(v).pop(),completed_all:!0}}),e()},popoverRef:_,showScrollDown:x&&a.length>1,onScrollDownButtonClick:e=>{e.stopPropagation(),N[a[a.length-1].id].current.scrollIntoView({behavior:"smooth"})},onScroll:e=>{A(e.target)}},i.default.createElement("div",{className:"whats-new-popup__notifications"},a.map((({id:e},o)=>{const i=(0,u.getTranslatedUINotifications)(t,r,f)[e],s=o===a.length-1;return(S[e]||E)({notification:i,idRefMap:N,history:n,isLast:s,trackEvent:O})}))))}M.propTypes={onClose:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/whats-new-popup/whats-new-popup.js"}],[5521,{"../../../../helpers/constants/design-system":5953,"../../../ui/box/box":5788,"../../help-text":5530,"../../label":5538,"../../text-field":5584,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FormTextField=void 0;var a=d(e("react")),o=d(e("prop-types")),r=d(e("classnames")),i=e("../../../../helpers/constants/design-system"),s=d(e("../../../ui/box/box")),c=e("../../text-field"),l=e("../../help-text"),u=e("../../label");function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}const m=({autoComplete:e,autoFocus:t,className:n,defaultValue:o,disabled:d,error:m,helpText:f,helpTextProps:h,id:y,inputProps:g,inputRef:b,label:v,labelProps:k,startAccessory:T,maxLength:x,name:C,onBlur:_,onChange:w,onFocus:E,placeholder:M,readOnly:N,required:O,endAccessory:A,size:S=i.Size.MD,textFieldProps:I,truncate:P,type:j="text",value:D,...B})=>a.default.createElement(s.default,p({className:(0,r.default)("mm-form-text-field",{"mm-form-text-field--disabled":d},n),display:i.Display.Flex,flexDirection:i.FlexDirection.Column},B),v&&a.default.createElement(u.Label,p({htmlFor:y},k,{className:(0,r.default)("mm-form-text-field__label",null==k?void 0:k.className)}),v),a.default.createElement(c.TextField,p({className:(0,r.default)("mm-form-text-field__text-field",null==I?void 0:I.className),id:y,autoComplete:e,autoFocus:t,defaultValue:o,disabled:d,error:m,id:y,inputProps:g,inputRef:b,startAccessory:T,maxLength:x,name:C,onBlur:_,onChange:w,onFocus:E,placeholder:M,readOnly:N,required:O,endAccessory:A,size:S,truncate:P,type:j,value:D},I)),f&&a.default.createElement(l.HelpText,p({severity:m&&l.HelpTextSeverity.Danger,marginTop:1},h,{className:(0,r.default)("mm-form-text-field__help-text",null==h?void 0:h.className)}),f));n.FormTextField=m,m.propTypes={className:o.default.string,id:(e,t,n)=>e.label&&!e[t]?new Error(`If a label prop exists you must provide an ${t} prop for the label's htmlFor attribute for accessibility. Warning coming from ${n} ui/components/component-library/form-text-field/form-text-field.js`):null,label:o.default.string,labelProps:o.default.object,helpText:o.default.oneOfType([o.default.node,o.default.string]),helpTextProps:o.default.object,textFieldProps:o.default.object,...c.TextField.propTypes}}}},{package:"$root$",file:"ui/components/component-library/form-text-field/deprecated/form-text-field.js"}],[5522,{"./form-text-field":5521},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"FormTextField",{enumerable:!0,get:function(){return a.FormTextField}});var a=e("./form-text-field")}}},{package:"$root$",file:"ui/components/component-library/form-text-field/deprecated/index.js"}],[5542,{"../modal-content.types":5546,"./modal-content":5543},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return a.ModalContent}}),Object.defineProperty(n,"ModalContentSize",{enumerable:!0,get:function(){return o.ModalContentSize}});var a=e("./modal-content"),o=e("../modal-content.types")}}},{package:"$root$",file:"ui/components/component-library/modal-content/deprecated/index.ts"}],[5543,{"../..":5534,"../../../../helpers/constants/design-system":5953,"../modal-content.types":5546,classnames:3599,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ModalContent=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("classnames"))&&a.__esModule?a:{default:a},i=e("../../../../helpers/constants/design-system"),s=e("../.."),c=e("../modal-content.types");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}n.ModalContent=o.default.forwardRef((({className:e="",children:t,size:n=c.ModalContentSize.Sm,modalDialogProps:a,...l},d)=>{const{onClose:p,isClosedOnEscapeKey:m,isClosedOnOutsideClick:f,initialFocusRef:h,finalFocusRef:y,restoreFocus:g,autoFocus:b}=(0,s.useModalContext)(),v=(0,o.useRef)(null),k=e=>{m&&"Escape"===e.key&&p()},T=e=>{f&&e.target.closest(".mm-popover")||f&&null!=v&&v.current&&!v.current.contains(e.target)&&p()};return(0,o.useEffect)((()=>(document.addEventListener("keydown",k),document.addEventListener("mousedown",T),()=>{document.removeEventListener("keydown",k),document.removeEventListener("mousedown",T)})),[]),o.default.createElement(s.ModalFocus,{initialFocusRef:h,finalFocusRef:y,restoreFocus:g,autoFocus:b},o.default.createElement(s.Box,u({className:(0,r.default)("mm-modal-content",e),ref:d,display:i.Display.Flex,width:i.BlockSize.Screen,height:i.BlockSize.Screen,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.flexStart,paddingRight:4,paddingLeft:4,paddingTop:[4,8,12],paddingBottom:[4,8,12]},l),o.default.createElement(s.Box,u({as:"section",role:"dialog","aria-modal":"true",backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.LG,width:i.BlockSize.Full,padding:4,ref:v},a,{className:(0,r.default)("mm-modal-content__dialog",`mm-modal-content__dialog--size-${n}`,null==a?void 0:a.className),style:{...null==l?void 0:l.style,overflowY:"auto"}}),t)))}))}}},{package:"$root$",file:"ui/components/component-library/modal-content/deprecated/modal-content.tsx"}],[5551,{"./modal-header":5552},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalHeader",{enumerable:!0,get:function(){return a.ModalHeader}});var a=e("./modal-header")}}},{package:"$root$",file:"ui/components/component-library/modal-header/deprecated/index.ts"}],[5552,{"../..":5534,"../../../../helpers/constants/design-system":5953,"../../../../hooks/useI18nContext":6031,classnames:3599,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ModalHeader=void 0;var a=c(e("react")),o=c(e("classnames")),r=e("../.."),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}n.ModalHeader=({children:e,className:t="",startAccessory:n,endAccessory:c,onClose:u,closeButtonProps:d,onBack:p,backButtonProps:m,...f})=>{const h=(0,s.useI18nContext)();return a.default.createElement(r.HeaderBase,l({className:(0,o.default)("mm-modal-header",t),startAccessory:n||p&&a.default.createElement(r.ButtonIcon,l({iconName:r.IconName.ArrowLeft,ariaLabel:h("back"),size:r.ButtonIconSize.Sm,onClick:p},m)),endAccessory:c||u&&a.default.createElement(r.ButtonIcon,l({iconName:r.IconName.Close,ariaLabel:h("close"),size:r.ButtonIconSize.Sm,onClick:u},d))},f),"string"==typeof e?a.default.createElement(r.Text,{as:"header",variant:i.TextVariant.headingSm,textAlign:i.TextAlign.Center},e):e)}}}},{package:"$root$",file:"ui/components/component-library/modal-header/deprecated/modal-header.tsx"}],[5579,{"./text-field-search":5580},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"TextFieldSearch",{enumerable:!0,get:function(){return a.TextFieldSearch}});var a=e("./text-field-search")}}},{package:"$root$",file:"ui/components/component-library/text-field-search/deprecated/index.js"}],[5580,{"../..":5534,"../../../../hooks/useI18nContext":6031,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TextFieldSearch=void 0;var a=c(e("react")),o=c(e("prop-types")),r=c(e("classnames")),i=e("../.."),s=e("../../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}const u=({className:e,showClearButton:t=!0,clearButtonOnClick:n,clearButtonProps:o,endAccessory:c,inputProps:u,value:d,onChange:p,...m})=>{const f=(0,s.useI18nContext)();return a.default.createElement(i.TextField,l({className:(0,r.default)("mm-text-field-search",e),value:d,onChange:p,type:i.TextFieldType.Search,endAccessory:d&&t?a.default.createElement(a.default.Fragment,null,a.default.createElement(i.ButtonIcon,l({className:"mm-text-field__button-clear",ariaLabel:f("clear"),iconName:i.IconName.Close,size:i.ButtonIconSize.Sm,onClick:n},o)),c):c,startAccessory:a.default.createElement(i.Icon,{padding:1,name:i.IconName.Search,size:i.IconSize.Sm}),inputProps:{...u}},m))};n.TextFieldSearch=u,u.propTypes={value:o.default.oneOfType([o.default.string,o.default.number]),onChange:o.default.func,showClearButton:o.default.bool,clearButtonOnClick:(e,t,n)=>{var a;return!e.showClearButton||e[t]&&null!==(a=e.clearButtonProps)&&void 0!==a&&a.onClick?null:new Error(`${t} is required unless showClearButton is false. Warning coming from ${n} ui/components/component-library/text-field-search/text-field-search.js`)},clearButtonProps:o.default.object,className:o.default.string,endAccessory:o.default.node,inputProps:o.default.object},u.displayName="TextFieldSearch"}}},{package:"$root$",file:"ui/components/component-library/text-field-search/deprecated/text-field-search.js"}],[5590,{"./textarea":5591,"./textarea.types":5592},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Textarea",{enumerable:!0,get:function(){return a.Textarea}}),Object.defineProperty(n,"TextareaResize",{enumerable:!0,get:function(){return o.TextareaResize}});var a=e("./textarea"),o=e("./textarea.types")}}},{package:"$root$",file:"ui/components/component-library/textarea/index.ts"}],[5591,{"..":5534,"../../../helpers/constants/design-system":5953,"./textarea.types":5592,classnames:3599,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Textarea=void 0;var a=c(e("react")),o=c(e("classnames")),r=e("../../../helpers/constants/design-system"),i=e(".."),s=e("./textarea.types");function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}n.Textarea=a.default.forwardRef((({autoFocus:e,className:t="",defaultValue:n,isDisabled:c,disabled:u,error:d,id:p,resize:m=s.TextareaResize.Vertical,rows:f,cols:h,maxLength:y,name:g,onBlur:b,onChange:v,onClick:k,onFocus:T,placeholder:x,readOnly:C,required:_,value:w,...E},M)=>a.default.createElement(i.Text,l({className:(0,o.default)("mm-textarea",`mm-textarea--resize-${m}`,{"mm-textarea--disabled":Boolean(c||u)},t),as:"textarea",ref:M,placeholder:x,readOnly:C,required:_,autoFocus:e,defaultValue:n,disabled:c||u},d&&{"aria-invalid":d},{id:p,maxLength:y,name:g,value:w,onBlur:e=>{null==b||b(e)},onChange:v,onClick:e=>{!k||c&&u||null==k||k(e)},onFocus:e=>{null==T||T(e)},resize:m,rows:f,cols:h,backgroundColor:r.BackgroundColor.backgroundDefault,borderColor:d?r.BorderColor.errorDefault:r.BorderColor.borderDefault,borderRadius:r.BorderRadius.SM,borderWidth:1,paddingBottom:1,paddingLeft:4,paddingRight:4,paddingTop:1},E))))}}},{package:"$root$",file:"ui/components/component-library/textarea/textarea.tsx"}],[5592,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TextareaResize=void 0;n.TextareaResize=function(e){return e.None="none",e.Both="both",e.Horizontal="horizontal",e.Vertical="vertical",e.Initial="initial",e.Inherit="inherit",e}({})}}},{package:"$root$",file:"ui/components/component-library/textarea/textarea.types.ts"}],[5593,{"../../../helpers/constants/design-system":5953,"../../../hooks/useI18nContext":6031,"../../../store/actions":6652,"../../component-library":5534,"../../component-library/form-text-field/deprecated":5522,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetailsAuthenticate=void 0;var a,o=(a=e("prop-types"))&&a.__esModule?a:{default:a},r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),u=e("../../component-library"),d=e("../../component-library/form-text-field/deprecated");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=({address:e,onCancel:t,setPrivateKey:n,setShowHoldToReveal:a})=>{const o=(0,c.useI18nContext)(),p=(0,i.useDispatch)(),[m,f]=(0,r.useState)(""),h=(0,i.useSelector)((e=>e.appState.warning)),y=(0,r.useCallback)((()=>{p((0,l.exportAccount)(m,e,n,a)).then((e=>(p((0,l.hideWarning)()),e))).catch((()=>{}))}),[p,m,e,n,a]),g=(0,r.useCallback)((e=>{"Enter"===e.key&&y()}),[y]);return r.default.createElement(r.default.Fragment,null,r.default.createElement(d.FormTextField,{marginTop:6,id:"account-details-authenticate",label:o("enterYourPassword"),placeholder:o("password"),error:Boolean(h),helpText:h,onChange:e=>f(e.target.value),value:m,variant:s.TextVariant.bodySm,type:"password",inputProps:{onKeyPress:g},labelProps:{fontWeight:s.FontWeight.Medium},autoFocus:!0}),r.default.createElement(u.BannerAlert,{marginTop:6,severity:s.Severity.Danger,description:o("privateKeyWarning")}),r.default.createElement(u.Box,{display:s.Display.Flex,marginTop:6,gap:2},r.default.createElement(u.ButtonSecondary,{onClick:t,block:!0},o("cancel")),r.default.createElement(u.ButtonPrimary,{onClick:y,disabled:""===m,block:!0},o("confirm"))))};n.AccountDetailsAuthenticate=m,m.propTypes={address:o.default.string.isRequired,onCancel:o.default.func.isRequired,setPrivateKey:o.default.func.isRequired,setShowHoldToReveal:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/account-details/account-details-authenticate.js"}],[5594,{"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../helpers/utils/util":6001,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../../store/actions":6652,"../../component-library":5534,"../../ui/editable-label/editable-label":5814,"../../ui/qr-code-view":5878,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetailsDisplay=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=y(e("prop-types")),r=e("react-redux"),i=y(e("../../ui/qr-code-view")),s=y(e("../../ui/editable-label/editable-label")),c=e("../../../store/actions"),l=e("../../../selectors"),u=e("../../../helpers/utils/util"),d=e("../../component-library"),p=e("../../../helpers/constants/design-system"),m=e("../../../contexts/metametrics"),f=e("../../../../shared/constants/metametrics"),h=e("../../../hooks/useI18nContext");function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const b=({accounts:e,accountName:t,address:n,onExportClick:o})=>{const y=(0,r.useDispatch)(),g=(0,a.useContext)(m.MetaMetricsContext),b=(0,h.useI18nContext)(),{metadata:{keyring:v}}=(0,r.useSelector)((e=>(0,l.getInternalAccountByAddress)(e,n))),k=(0,u.isAbleToExportAccount)(null==v?void 0:v.type),T=(0,r.useSelector)(l.getCurrentChainId),x=(0,r.useSelector)(l.getHardwareWalletType);return a.default.createElement(d.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center,flexDirection:p.FlexDirection.Column},a.default.createElement(s.default,{defaultValue:t,onSubmit:e=>{y((0,c.setAccountLabel)(n,e)),g({category:f.MetaMetricsEventCategory.Accounts,event:f.MetaMetricsEventName.AccountRenamed,properties:{location:"Account Details Modal",chain_id:T,account_hardware_type:x}})},accounts:e}),a.default.createElement(i.default,{Qr:{data:n}}),k?a.default.createElement(d.ButtonSecondary,{block:!0,size:d.ButtonSecondarySize.Lg,variant:p.TextVariant.bodyMd,onClick:()=>{g({category:f.MetaMetricsEventCategory.Accounts,event:f.MetaMetricsEventName.KeyExportSelected,properties:{key_type:f.MetaMetricsEventKeyType.Pkey,location:"Account Details Modal"}}),o()}},b("showPrivateKey")):null)};n.AccountDetailsDisplay=b,b.propTypes={accounts:o.default.array.isRequired,accountName:o.default.string.isRequired,address:o.default.string.isRequired,onExportClick:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/account-details/account-details-display.js"}],[5595,{"../../../helpers/constants/design-system":5953,"../../../hooks/useCopyToClipboard":6020,"../../../hooks/useI18nContext":6031,"../../component-library":5534,"@lavamoat/lavadome-react":658,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetailsKey=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@lavamoat/lavadome-react"),i=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../component-library"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../hooks/useCopyToClipboard");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=Boolean(!1),m=({accountName:e,onClose:t,privateKey:n})=>{const a=(0,l.useI18nContext)(),[i,d]=(0,o.useState)(!1),[m,f]=(0,u.useCopyToClipboard)();return o.default.createElement(o.default.Fragment,null,o.default.createElement(s.Text,{marginTop:6,variant:c.TextVariant.bodySm,style:{wordBreak:"break-word"}},a("privateKeyCopyWarning",[e])),o.default.createElement(s.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,borderRadius:c.BorderRadius.SM,borderWidth:1,borderColor:c.BorderColor.default,padding:4,gap:4},o.default.createElement(s.Text,{"data-testid":"account-details-key",variant:c.TextVariant.bodySm,style:{wordBreak:"break-word"},onClick:()=>d(!0)},o.default.createElement(r.LavaDome,{unsafeOpenModeShadow:p,text:(0,r.toLavaDomeToken)(n)})),o.default.createElement(s.ButtonIcon,{onClick:()=>d(!1)||f(n),iconName:m?s.IconName.CopySuccess:s.IconName.Copy,ariaLabel:a("copyPrivateKey")})),i&&o.default.createElement(s.HelpText,{marginTop:2,severity:s.HelpTextSeverity.Danger},a("lavaDomeCopyWarning")),o.default.createElement(s.BannerAlert,{severity:c.Severity.Danger,marginTop:4},o.default.createElement(s.Text,{variant:c.TextVariant.bodySm},a("privateKeyWarning"))),o.default.createElement(s.ButtonPrimary,{marginTop:6,onClick:t,block:!0},a("done")))};n.AccountDetailsKey=m,m.propTypes={accountName:i.default.string.isRequired,onClose:i.default.func.isRequired,privateKey:i.default.string.isRequired}}}},{package:"$root$",file:"ui/components/multichain/account-details/account-details-key.js"}],[5596,{"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../../store/actions":6652,"../../app/modals/hold-to-reveal-modal/hold-to-reveal-modal":5252,"../../component-library":5534,"../address-copy-button":5618,"./account-details-authenticate":5593,"./account-details-display":5594,"./account-details-key":5595,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetails=void 0;var a=v(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../../shared/constants/metametrics"),s=e("../../../contexts/metametrics"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),d=e("../../../store/actions"),p=v(e("../../app/modals/hold-to-reveal-modal/hold-to-reveal-modal")),m=e("../../component-library"),f=e("../address-copy-button"),h=e("./account-details-authenticate"),y=e("./account-details-display"),g=e("./account-details-key");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}const k=({address:e})=>{const t=(0,r.useDispatch)(),n=(0,l.useI18nContext)(),a=(0,o.useContext)(s.MetaMetricsContext),b=(0,r.useSelector)(u.getUseBlockie),v=(0,r.useSelector)(u.getMetaMaskAccountsOrdered),{metadata:{name:k}}=(0,r.useSelector)((t=>(0,u.getInternalAccountByAddress)(t,e))),[T,x]=(0,o.useState)(!1),[C,_]=(0,o.useState)(!1),[w,E]=(0,o.useState)(""),M=(0,o.useCallback)((()=>{t((0,d.setAccountDetailsAddress)("")),t((0,d.clearAccountDetails)()),t((0,d.hideWarning)())}),[t]),N=o.default.createElement(m.AvatarAccount,{variant:b?m.AvatarAccountVariant.Blockies:m.AvatarAccountVariant.Jazzicon,address:e,size:m.AvatarAccountSize.Lg,style:{margin:"0 auto"}});return o.default.createElement(o.default.Fragment,null,o.default.createElement(m.Modal,{isOpen:!T,onClose:M,"data-testid":"account-details-modal"},o.default.createElement(m.ModalOverlay,null),o.default.createElement(m.ModalContent,null,o.default.createElement(m.ModalHeader,{onClose:M,onBack:C&&(()=>{t((0,d.hideWarning)()),E(""),_(!1)})},C?n("showPrivateKey"):N),o.default.createElement(m.ModalBody,null,C?o.default.createElement(o.default.Fragment,null,o.default.createElement(m.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,flexDirection:c.FlexDirection.Column},N,o.default.createElement(m.Text,{marginTop:2,marginBottom:2,variant:c.TextVariant.bodyLgMedium,style:{wordBreak:"break-word"}},k),o.default.createElement(f.AddressCopyButton,{address:e,shorten:!0})),w?o.default.createElement(g.AccountDetailsKey,{accountName:k,onClose:M,privateKey:w}):o.default.createElement(h.AccountDetailsAuthenticate,{address:e,onCancel:M,setPrivateKey:E,setShowHoldToReveal:x})):o.default.createElement(y.AccountDetailsDisplay,{accounts:v,accountName:k,address:e,onExportClick:()=>_(!0)})))),o.default.createElement(p.default,{isOpen:T,onClose:()=>{a({category:i.MetaMetricsEventCategory.Keys,event:i.MetaMetricsEventName.KeyExportCanceled,properties:{key_type:i.MetaMetricsEventKeyType.Pkey}}),E(""),x(!1)},onLongPressed:()=>{x(!1)},holdToRevealType:"PrivateKey"}))};n.AccountDetails=k,k.propTypes={address:a.default.string}}}},{package:"$root$",file:"ui/components/multichain/account-details/account-details.js"}],[5597,{"./account-details":5596},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountDetails",{enumerable:!0,get:function(){return a.AccountDetails}});var a=e("./account-details")}}},{package:"$root$",file:"ui/components/multichain/account-details/index.js"}],[5598,{"..":5678,"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../helpers/utils/metrics":5989,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../../store/actions":6652,"../../component-library":5534,"../../ui/menu":5857,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountListItemMenu=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../contexts/metametrics"),c=e("../../../hooks/useI18nContext"),l=e("../../../selectors"),u=e("../../ui/menu"),d=e("../../component-library"),p=e("../../../../shared/constants/metametrics"),m=e("../../../store/actions"),f=e("../../../helpers/constants/design-system"),h=e("../../../helpers/utils/metrics"),y=e("..");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const b="Account Options",v=({anchorElement:e,onClose:t,closeMenu:n,isRemovable:a,account:i,isOpen:g,isPinned:v,isHidden:k})=>{const T=(0,c.useI18nContext)(),x=(0,o.useContext)(s.MetaMetricsContext),C=(0,r.useDispatch)(),_=(0,r.useSelector)(l.getCurrentChainId),w=(0,r.useSelector)(l.getHardwareWalletType),{keyring:E}=i.metadata,M=(0,h.formatAccountType)((0,l.getAccountTypeForKeyring)(E)),N=(0,r.useSelector)(l.getPinnedAccountsList),O=(0,r.useSelector)(l.getHiddenAccountsList),A=(0,o.useRef)(null),S=(0,o.useRef)(null),I=(0,o.useRef)(null),P=(0,o.useRef)(null);(0,o.useEffect)((()=>{P.current?A.current=P.current:I.current?A.current=I.current:A.current=S.current}),[P.current,I.current,S.current]);const j=(0,o.useCallback)((e=>{"Tab"===e.key&&e.target===A.current&&t()}),[t]),D=(0,o.useRef)(null),B=(0,o.useCallback)((e=>{null!=D&&D.current&&!D.current.contains(e.target)&&t()}),[t]);(0,o.useEffect)((()=>(document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)})),[B]);const R=e=>{const t=N.filter((t=>t!==e));C((0,m.updateAccountsList)(t))};return o.default.createElement(d.Popover,{className:"multichain-account-list-item-menu__popover",referenceElement:e,role:d.PopoverRole.Dialog,position:d.PopoverPosition.Bottom,offset:[0,0],padding:0,isOpen:g,isPortal:!0,preventOverflow:!0,flip:!0},o.default.createElement(d.ModalFocus,{restoreFocus:!0,initialFocusRef:e},o.default.createElement("div",{onKeyDown:j,ref:D},o.default.createElement(y.AccountDetailsMenuItem,{metricsLocation:b,closeMenu:n,address:i.address,textProps:{variant:f.TextVariant.bodySm}}),o.default.createElement(y.ViewExplorerMenuItem,{metricsLocation:b,closeMenu:n,textProps:{variant:f.TextVariant.bodySm},account:i}),k?null:o.default.createElement(u.MenuItem,{"data-testid":"account-list-menu-pin",onClick:()=>{v?R(i.address):(e=>{const t=[...N,e];C((0,m.updateAccountsList)(t))})(i.address),t()},iconName:v?d.IconName.Unpin:d.IconName.Pin},o.default.createElement(d.Text,{variant:f.TextVariant.bodySm},T(v?"unpin":"pinToTop"))),o.default.createElement(u.MenuItem,{"data-testid":"account-list-menu-hide",onClick:()=>{k?(e=>{const t=O.filter((t=>t!==e));C((0,m.updateHiddenAccountsList)(t))})(i.address):(e=>{const t=[...O,e];N.includes(e)&&R(e),C((0,m.updateHiddenAccountsList)(t))})(i.address),t()},iconName:k?d.IconName.Eye:d.IconName.EyeSlash},o.default.createElement(d.Text,{variant:f.TextVariant.bodySm},T(k?"showAccount":"hideAccount"))),a?o.default.createElement(u.MenuItem,{ref:I,"data-testid":"account-list-menu-remove",onClick:()=>{C((0,m.showModal)({name:"CONFIRM_REMOVE_ACCOUNT",account:i})),x({event:p.MetaMetricsEventName.AccountRemoved,category:p.MetaMetricsEventCategory.Accounts,properties:{account_hardware_type:w,chain_id:_,account_type:M}}),t(),null==n||n()},iconName:d.IconName.Trash},o.default.createElement(d.Text,{variant:f.TextVariant.bodySm},T("removeAccount"))):null)))};n.AccountListItemMenu=v,v.propTypes={anchorElement:i.default.instanceOf(window.Element),onClose:i.default.func.isRequired,isOpen:i.default.bool.isRequired,closeMenu:i.default.func,isRemovable:i.default.bool.isRequired,isPinned:i.default.bool,isHidden:i.default.bool,account:i.default.shape({id:i.default.string.isRequired,address:i.default.string.isRequired,balance:i.default.string.isRequired,metadata:i.default.shape({name:i.default.string.isRequired,snap:i.default.shape({id:i.default.string.isRequired,name:i.default.string,enabled:i.default.bool}),keyring:i.default.shape({type:i.default.string.isRequired}).isRequired}).isRequired}).isRequired}}}},{package:"$root$",file:"ui/components/multichain/account-list-item-menu/account-list-item-menu.js"}],[5599,{"./account-list-item-menu":5598},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountListItemMenu",{enumerable:!0,get:function(){return a.AccountListItemMenu}});var a=e("./account-list-item-menu")}}},{package:"$root$",file:"ui/components/multichain/account-list-item-menu/index.js"}],[5600,{"..":5678,"../../../../app/scripts/lib/multichain/address":82,"../../../../shared/constants/keyring":5040,"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../helpers/constants/common":5951,"../../../helpers/constants/design-system":5953,"../../../helpers/utils/util":6001,"../../../hooks/useI18nContext":6031,"../../../hooks/useMultichainAccountTotalFiatBalance":6035,"../../../hooks/useMultichainSelector":6036,"../../../selectors":6639,"../../../selectors/multichain":6644,"../../app/user-preferenced-currency-display/user-preferenced-currency-display.component":5458,"../../component-library":5534,"../../ui/tooltip/tooltip":5904,"../connected-accounts-menu":5650,"../connected-status/connected-status":5653,"./account-list-item.types":5601,classnames:3599,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=E(e("prop-types")),r=E(e("classnames")),i=e("react-redux"),s=e("../../../hooks/useI18nContext"),c=e("../../../helpers/utils/util"),l=e(".."),u=e("../connected-accounts-menu"),d=e("../../component-library"),p=e("../../../helpers/constants/design-system"),m=e("../../../../shared/constants/keyring"),f=E(e("../../app/user-preferenced-currency-display/user-preferenced-currency-display.component")),h=e("../../../helpers/constants/common"),y=E(e("../../ui/tooltip/tooltip")),g=e("../../../../shared/constants/metametrics"),b=e("../../../contexts/metametrics"),v=e("../../../selectors"),k=e("../../../selectors/multichain"),T=e("../../../hooks/useMultichainAccountTotalFiatBalance"),x=e("../connected-status/connected-status"),C=e("../../../../app/scripts/lib/multichain/address"),_=e("../../../hooks/useMultichainSelector"),w=e("./account-list-item.types");function E(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const N=({account:e,selected:t,onClick:n,closeMenu:o,accountsCount:E,connectedAvatar:M,isPinned:N=!1,menuType:O=w.AccountListItemMenuTypes.None,isHidden:A=!1,currentTabOrigin:S,isActive:I=!1,startAccessory:P,onActionClick:j})=>{const D=(0,s.useI18nContext)(),[B,R]=(0,a.useState)(!1),[F,L]=(0,a.useState)(),$=(0,i.useSelector)(v.getUseBlockie),{isEvmNetwork:W}=(0,_.useMultichainSelector)(k.getMultichainNetwork,e),z=(0,_.useMultichainSelector)(k.getMultichainIsTestnet,e),U=!z,V=(0,_.useMultichainSelector)(k.getMultichainShouldShowFiat,e),H=(0,i.useSelector)(v.getShowFiatInTestnets),G=V&&(U||z&&H),q=(0,T.useMultichainAccountTotalFiatBalance)(e),K=q.orderedTokenList.map((e=>({avatarValue:e.iconUrl}))),J=W?e.balance:q.totalBalance,Y=(0,a.useRef)(null);(0,a.useEffect)((()=>{var e,n;t&&(null===(e=Y.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e))}),[Y,t]);const X=(0,a.useContext)(b.MetaMetricsContext),Q=(0,_.useMultichainSelector)(k.getMultichainNativeCurrencyImage,e),Z=(0,_.useMultichainSelector)(k.getMultichainNativeCurrency,e),ee=(0,i.useSelector)((t=>(0,v.isAccountConnectedToCurrentTab)(t,e.address))),te=S&&ee,ne=1===E;return a.default.createElement(d.Box,{display:p.Display.Flex,padding:4,backgroundColor:t?p.Color.primaryMuted:p.Color.transparent,className:(0,r.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t,"multichain-account-list-item--connected":Boolean(M),"multichain-account-list-item--clickable":Boolean(n)}),ref:Y,onClick:()=>{B||null==n||n()}},P?a.default.createElement(d.Box,{marginInlineEnd:2,marginTop:1},P):null,t&&a.default.createElement(d.Box,{className:"multichain-account-list-item__selected-indicator",borderRadius:p.BorderRadius.pill,backgroundColor:p.Color.primaryDefault}),a.default.createElement(a.default.Fragment,null,a.default.createElement(d.Box,{display:[p.Display.Flex,p.Display.None],"data-testid":"account-list-item-badge"},a.default.createElement(x.ConnectedStatus,{address:e.address,isActive:I})),a.default.createElement(d.Box,{display:[p.Display.None,p.Display.Flex]},a.default.createElement(d.AvatarAccount,{borderColor:p.BorderColor.transparent,size:p.Size.MD,address:e.address,variant:$?d.AvatarAccountVariant.Blockies:d.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}))),a.default.createElement(d.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column,className:"multichain-account-list-item__content"},a.default.createElement(d.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column},a.default.createElement(d.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.spaceBetween},a.default.createElement(d.Box,{className:"multichain-account-list-item__account-name",marginInlineEnd:2,display:p.Display.Flex,alignItems:p.AlignItems.center,gap:2},N?a.default.createElement(d.Icon,{name:d.IconName.Pin,size:d.IconSize.Xs,className:"account-pinned-icon"}):null,A?a.default.createElement(d.Icon,{name:d.IconName.EyeSlash,size:d.IconSize.Xs,className:"account-hidden-icon"}):null,a.default.createElement(d.Text,{as:"button",onClick:e=>{e.stopPropagation(),null==n||n()},variant:p.TextVariant.bodyMdMedium,className:"multichain-account-list-item__account-name__button",padding:0,backgroundColor:p.BackgroundColor.transparent,width:p.BlockSize.Full,textAlign:p.TextAlign.Left,ellipsis:!0},e.metadata.name.length>17?a.default.createElement(y.default,{title:e.metadata.name,position:"bottom",wrapperClassName:"multichain-account-list-item__tooltip"},e.metadata.name):e.metadata.name)),a.default.createElement(d.Text,{as:"div",className:"multichain-account-list-item__asset",display:p.Display.Flex,flexDirection:p.FlexDirection.Row,alignItems:p.AlignItems.center,justifyContent:p.JustifyContent.flexEnd,ellipsis:!0,textAlign:p.TextAlign.End},a.default.createElement(f.default,{account:e,ethNumberOfDecimals:3,value:J,type:h.PRIMARY,showFiat:G,"data-testid":"first-currency-display"})))),a.default.createElement(d.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.spaceBetween},a.default.createElement(d.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center},a.default.createElement(d.Text,{variant:p.TextVariant.bodySm,color:p.Color.textAlternative,"data-testid":"account-list-address"},(0,c.shortenAddress)((0,C.normalizeSafeAddress)(e.address)))),K.length>1||!W?a.default.createElement(l.AvatarGroup,{members:K,limit:4}):a.default.createElement(d.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center,justifyContent:p.JustifyContent.center,gap:1,className:"multichain-account-list-item__avatar-currency"},a.default.createElement(d.AvatarToken,{src:Q,name:Z,size:d.AvatarTokenSize.Xs,borderColor:p.BorderColor.borderDefault}),a.default.createElement(d.Text,{variant:p.TextVariant.bodySm,color:p.TextColor.textAlternative,textAlign:p.TextAlign.End,as:"div"},a.default.createElement(f.default,{account:e,ethNumberOfDecimals:3,value:e.balance,type:h.SECONDARY,showNative:!0,"data-testid":"second-currency-display"})))),e.label?a.default.createElement(d.Tag,{label:e.label,labelProps:{variant:p.TextVariant.bodyXs,color:p.Color.textAlternative},startIconName:e.metadata.keyring.type===m.KeyringType.snap?d.IconName.Snaps:null}):null),O===w.AccountListItemMenuTypes.None?null:a.default.createElement(d.ButtonIcon,{ariaLabel:`${e.metadata.name} ${D("options")}`,iconName:d.IconName.MoreVertical,size:d.IconSize.Sm,ref:e=>{L(e)},onClick:e=>{e.stopPropagation(),B||X({event:g.MetaMetricsEventName.AccountDetailMenuOpened,category:g.MetaMetricsEventCategory.Navigation,properties:{location:"Account Options"}}),R(!B)},"data-testid":"account-list-item-menu-button"}),O===w.AccountListItemMenuTypes.Account&&a.default.createElement(l.AccountListItemMenu,{anchorElement:F,account:e,onClose:()=>R(!1),isOpen:B,isRemovable:e.keyring.type!==m.KeyringType.hdKeyTree,closeMenu:o,isPinned:N,isHidden:A,isConnected:te}),O===w.AccountListItemMenuTypes.Connection&&a.default.createElement(u.ConnectedAccountsMenu,{anchorElement:F,account:e,onClose:()=>R(!1),closeMenu:o,disableAccountSwitcher:ne&&t,isOpen:B,onActionClick:j,activeTabOrigin:S}))};N.propTypes={account:o.default.shape({id:o.default.string.isRequired,address:o.default.string.isRequired,balance:o.default.string.isRequired,metadata:o.default.shape({name:o.default.string.isRequired,snap:o.default.shape({id:o.default.string.isRequired,name:o.default.string,enabled:o.default.bool}),keyring:o.default.shape({type:o.default.string.isRequired}).isRequired}).isRequired,keyring:o.default.shape({type:o.default.string.isRequired}).isRequired,label:o.default.string}).isRequired,selected:o.default.bool.isRequired,onClick:o.default.func,accountsCount:o.default.number,closeMenu:o.default.func,onActionClick:o.default.func,connectedAvatar:o.default.string,menuType:o.default.string,isPinned:o.default.bool,isHidden:o.default.bool,currentTabOrigin:o.default.string,isActive:o.default.bool,startAccessory:o.default.node},N.displayName="AccountListItem";n.default=a.default.memo(N)}}},{package:"$root$",file:"ui/components/multichain/account-list-item/account-list-item.js"}],[5601,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountListItemMenuTypes=void 0;n.AccountListItemMenuTypes={None:"none",Connection:"connection",Account:"account"}}}},{package:"$root$",file:"ui/components/multichain/account-list-item/account-list-item.types.js"}],[5602,{"./account-list-item":5600,"./account-list-item.types":5601},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountListItem",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"AccountListItemMenuTypes",{enumerable:!0,get:function(){return r.AccountListItemMenuTypes}});var a,o=(a=e("./account-list-item"))&&a.__esModule?a:{default:a},r=e("./account-list-item.types")}}},{package:"$root$",file:"ui/components/multichain/account-list-item/index.js"}],[5603,{"..":5678,"../../../../app/scripts/lib/util":128,"../../../../shared/constants/app":5031,"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../helpers/utils/accounts":5977,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../../store/actions":6652,"../../component-library":5534,"../../component-library/modal-content/deprecated":5542,"../../component-library/modal-header":5553,"../../component-library/text-field-search/deprecated":5579,"./hidden-account-list":5604,"@metamask/keyring-api":1622,"fuse.js":3953,"prop-types":4529,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mergeAccounts=n.getActionTitle=n.AccountListMenu=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=w(e("prop-types")),r=e("react-router-dom"),i=w(e("fuse.js")),s=e("react-redux"),c=e("@metamask/keyring-api"),l=e("../../component-library"),u=e("../../component-library/modal-content/deprecated"),d=e("../../component-library/modal-header"),p=e("../../component-library/text-field-search/deprecated"),m=e(".."),f=e("../../../helpers/constants/design-system"),h=e("../../../hooks/useI18nContext"),y=e("../../../contexts/metametrics"),g=e("../../../selectors"),b=e("../../../store/actions"),v=e("../../../../shared/constants/metametrics"),k=e("../../../helpers/constants/routes"),T=e("../../../../app/scripts/lib/util"),x=e("../../../../shared/constants/app"),C=e("../../../helpers/utils/accounts"),_=e("./hidden-account-list");function w(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},M.apply(this,arguments)}const N="",O="menu",A="add",S="import",I=(e,t)=>{switch(t){case A:case O:return e("addAccount");case S:return e("importAccount");default:return e("selectAnAccount")}};n.getActionTitle=I;const P=(e,t)=>e.map((e=>{const n=t.find((t=>t.address===e.address));return n?{...e,...n,keyring:n.metadata.keyring,label:(0,C.getAccountLabel)(n.metadata.keyring.type,n)}:e}));n.mergeAccounts=P;const j=({onClose:e,showAccountCreation:t=!0,accountListItemProps:n,allowedAccountTypes:o=[c.EthAccountType.Eoa,c.EthAccountType.Erc4337,c.BtcAccountType.P2wpkh]})=>{const C=(0,h.useI18nContext)(),w=(0,a.useContext)(y.MetaMetricsContext),E=(0,s.useSelector)(g.getMetaMaskAccountsOrdered),j=(0,a.useMemo)((()=>E.filter((e=>o.includes(e.type)))),[E,o]),D=(0,s.useSelector)(g.getSelectedInternalAccount),B=(0,s.useSelector)(g.getConnectedSubjectsForAllAddresses),R=(0,s.useSelector)(g.getOriginOfCurrentTab),F=(0,r.useHistory)(),L=(0,s.useDispatch)(),$=(0,s.useSelector)(g.getHiddenAccountsList),W=(0,s.useSelector)(g.getUpdatedAndSortedAccounts),z=(0,a.useMemo)((()=>W.filter((e=>o.includes(e.type)))),[W,o]),U=(0,s.useSelector)(g.getIsAddSnapAccountEnabled),[V,H]=(0,a.useState)(""),[G,q]=(0,a.useState)(N);let K=z;if(V){const e=new i.default(j,{threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["metadata.name","address"]});e.setCollection(j),K=e.search(V)}K=P(K,j);const J=(0,a.useMemo)((()=>I(C,G)),[G,C]);let Y;G!==N&&(Y=G===O?()=>q(N):()=>q(O));const X=(0,a.useCallback)((t=>()=>{e(),w({category:v.MetaMetricsEventCategory.Navigation,event:v.MetaMetricsEventName.NavAccountSwitched,properties:{location:"Main Menu"}}),L((0,b.setSelectedAccount)(t.address))}),[L,e,w]);return a.default.createElement(l.Modal,{isOpen:!0,onClose:e},a.default.createElement(l.ModalOverlay,null),a.default.createElement(u.ModalContent,{className:"multichain-account-menu-popover",modalDialogProps:{className:"multichain-account-menu-popover__dialog",padding:0,display:f.Display.Flex,flexDirection:f.FlexDirection.Column}},a.default.createElement(d.ModalHeader,{padding:4,onClose:e,onBack:Y},J),G===A?a.default.createElement(l.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},a.default.createElement(m.CreateEthAccount,{onActionComplete:t=>{t?e():q(N)}})):null,G===S?a.default.createElement(l.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4,paddingTop:0},a.default.createElement(m.ImportAccount,{onActionComplete:t=>{t?e():q(N)}})):null,G===O?a.default.createElement(l.Box,{padding:4},a.default.createElement(l.Box,null,a.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Sm,startIconName:l.IconName.Add,onClick:()=>{w({category:v.MetaMetricsEventCategory.Navigation,event:v.MetaMetricsEventName.AccountAddSelected,properties:{account_type:v.MetaMetricsEventAccountType.Default,location:"Main Menu"}}),q(A)},"data-testid":"multichain-account-menu-popover-add-account"},C("addNewAccount"))),a.default.createElement(l.Box,{marginTop:4},a.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Sm,startIconName:l.IconName.Import,onClick:()=>{w({category:v.MetaMetricsEventCategory.Navigation,event:v.MetaMetricsEventName.AccountAddSelected,properties:{account_type:v.MetaMetricsEventAccountType.Imported,location:"Main Menu"}}),q(S)}},C("importAccount"))),a.default.createElement(l.Box,{marginTop:4},a.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Sm,startIconName:l.IconName.Hardware,onClick:()=>{var t,n;(e(),w({category:v.MetaMetricsEventCategory.Navigation,event:v.MetaMetricsEventName.AccountAddSelected,properties:{account_type:v.MetaMetricsEventAccountType.Hardware,location:"Main Menu"}}),(0,T.getEnvironmentType)()===x.ENVIRONMENT_TYPE_POPUP)?null===(t=(n=global.platform).openExtensionInBrowser)||void 0===t||t.call(n,k.CONNECT_HARDWARE_ROUTE):F.push(k.CONNECT_HARDWARE_ROUTE)}},C("addHardwareWallet"))),U?a.default.createElement(l.Box,{marginTop:4},a.default.createElement(l.ButtonLink,{size:l.ButtonLinkSize.Sm,startIconName:l.IconName.Snaps,onClick:()=>{e(),w({category:v.MetaMetricsEventCategory.Navigation,event:v.MetaMetricsEventName.AccountAddSelected,properties:{account_type:v.MetaMetricsEventAccountType.Snap,location:"Main Menu"}}),global.platform.openTab({url:"https://snaps.metamask.io/account-management"})}},C("settingAddSnapAccount"))):null):null,G===N?a.default.createElement(a.default.Fragment,null,j.length>1?a.default.createElement(l.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4,paddingTop:0},a.default.createElement(p.TextFieldSearch,{size:f.Size.SM,width:f.BlockSize.Full,placeholder:C("searchAccounts"),value:V,onChange:e=>H(e.target.value),clearButtonOnClick:()=>H(""),clearButtonProps:{size:f.Size.SM},inputProps:{autoFocus:!0},endAccessory:!0,className:!0})):null,a.default.createElement(l.Box,{className:"multichain-account-menu-popover__list"},0===K.length&&""!==V?a.default.createElement(l.Text,{paddingLeft:4,paddingRight:4,color:f.TextColor.textMuted,"data-testid":"multichain-account-menu-popover-no-results"},C("noAccountsFound")):null,K.map((t=>{var o;const r=null===(o=B[t.address])||void 0===o?void 0:o.find((({origin:e})=>e===R)),i=0===V.length&&t.hidden;return a.default.createElement(l.Box,{className:t.hidden?"multichain-account-menu-popover__list--menu-item-hidden":"multichain-account-menu-popover__list--menu-item",display:i?f.Display.None:f.Display.Block,key:t.address},a.default.createElement(m.AccountListItem,M({onClick:X(t),account:t,key:t.address,selected:D.address===t.address,closeMenu:e,connectedAvatar:null==r?void 0:r.iconUrl,menuType:m.AccountListItemMenuTypes.Account,isPinned:Boolean(t.pinned),isHidden:Boolean(t.hidden),currentTabOrigin:R,isActive:Boolean(t.active)},n)))}))),$.length>0?a.default.createElement(_.HiddenAccountList,{onClose:e}):null,t?a.default.createElement(l.Box,{paddingTop:2,paddingBottom:4,paddingLeft:4,paddingRight:4,alignItems:f.AlignItems.center,display:f.Display.Flex},a.default.createElement(l.ButtonSecondary,{startIconName:l.IconName.Add,size:l.ButtonSecondarySize.Lg,block:!0,onClick:()=>q(O),"data-testid":"multichain-account-menu-popover-action-button"},C("addImportAccount"))):null):null))};n.AccountListMenu=j,j.propTypes={onClose:o.default.func.isRequired,showAccountCreation:o.default.bool,accountListItemProps:o.default.object,allowedAccountTypes:o.default.array}}}},{package:"$root$",file:"ui/components/multichain/account-list-menu/account-list-menu.tsx"}],[5604,{"..":5678,"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../../store/actions":6652,"../../component-library":5534,"../account-list-item":5602,"./account-list-menu":5603,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HiddenAccountList=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("react-redux"),s=e("../../../../shared/constants/metametrics"),c=e("../../../contexts/metametrics"),l=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../selectors"),p=e("../../../store/actions"),m=e("../../component-library"),f=e("../account-list-item"),h=e(".."),y=e("./account-list-menu");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const b=({onClose:e})=>{const t=(0,u.useI18nContext)(),n=(0,o.useContext)(c.MetaMetricsContext),a=(0,i.useDispatch)(),r=(0,i.useSelector)(d.getHiddenAccountsList),g=(0,i.useSelector)(d.getMetaMaskAccountsOrdered),b=(0,i.useSelector)(d.getInternalAccounts),v=(0,y.mergeAccounts)(g,b),k=(0,i.useSelector)(d.getSelectedAccount),T=(0,i.useSelector)(d.getConnectedSubjectsForAllAddresses),x=(0,i.useSelector)(d.getOriginOfCurrentTab),C=v.filter((e=>r.includes(e.address))),[_,w]=(0,o.useState)(!1);return o.default.createElement(o.default.Fragment,null,o.default.createElement(m.Box,{as:"button",onClick:()=>w(!_),backgroundColor:l.BackgroundColor.backgroundDefault,display:l.Display.Flex,padding:4,alignItems:l.AlignItems.center,width:l.BlockSize.Full,justifyContent:l.JustifyContent.spaceBetween,className:"hidden-accounts-list","data-testid":"hidden-accounts-list"},o.default.createElement(m.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,width:l.BlockSize.TwoThirds,gap:2},o.default.createElement(m.AvatarIcon,{iconName:m.IconName.EyeSlash,color:l.IconColor.infoDefault,backgroundColor:l.BackgroundColor.infoMuted,size:m.AvatarIconSize.Sm}),o.default.createElement(m.Box,{display:l.Display.Flex},o.default.createElement(m.Text,{variant:l.TextVariant.bodyMdMedium},t("hiddenAccounts")))),o.default.createElement(m.Box,{gap:2,display:l.Display.Flex,alignItems:l.AlignItems.center,width:l.BlockSize.OneThird,justifyContent:l.JustifyContent.flexEnd},o.default.createElement(m.Text,{variant:l.TextVariant.bodyMdMedium},r.length),o.default.createElement(m.Icon,{name:_?m.IconName.ArrowUp:m.IconName.ArrowDown,size:m.IconSize.Sm,color:l.IconColor.iconDefault}))),_?o.default.createElement(m.Box,null,C.map((t=>{var r;const i=null===(r=T[t.address])||void 0===r?void 0:r.find((({origin:e})=>e===x));return o.default.createElement(m.Box,{className:"multichain-account-menu-popover__list--menu-item-hidden-account",key:t.address},o.default.createElement(f.AccountListItem,{onClick:()=>{e(),n({category:s.MetaMetricsEventCategory.Navigation,event:s.MetaMetricsEventName.NavAccountSwitched,properties:{location:"Main Menu"}}),a((0,p.setSelectedAccount)(t.address))},account:t,key:t.address,selected:k.address===t.address,closeMenu:e,connectedAvatar:null==i?void 0:i.iconUrl,menuType:h.AccountListItemMenuTypes.Account,isPinned:Boolean(t.pinned),isHidden:Boolean(t.hidden)}))}))):null)};n.HiddenAccountList=b,b.propTypes={onClose:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/account-list-menu/hidden-account-list.js"}],[5605,{"./account-list-menu":5603},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountListMenu",{enumerable:!0,get:function(){return a.AccountListMenu}});var a=e("./account-list-menu")}}},{package:"$root$",file:"ui/components/multichain/account-list-menu/index.js"}],[5606,{"../../app/wallet-overview":5463,"./account-overview-layout":5608,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverviewBtc=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../app/wallet-overview"),i=e("./account-overview-layout");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}n.AccountOverviewBtc=e=>o.default.createElement(i.AccountOverviewLayout,s({showTokens:!0,showTokensLinks:!1,showNfts:!1,showActivity:!0},e),o.default.createElement(r.BtcOverview,null))}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview-btc.tsx"}],[5607,{"../../app/wallet-overview":5463,"./account-overview-layout":5608,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverviewEth=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../app/wallet-overview"),i=e("./account-overview-layout");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}n.AccountOverviewEth=e=>o.default.createElement(i.AccountOverviewLayout,s({showTokens:!0,showNfts:!0,showActivity:!0},e),o.default.createElement(r.EthOverview,null))}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview-eth.tsx"}],[5608,{"./account-overview-tabs":5609,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverviewLayout=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("./account-overview-tabs");n.AccountOverviewLayout=({children:e,...t})=>o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"account-overview__balance-wrapper"},e),o.default.createElement(r.AccountOverviewTabs,t))}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview-layout.tsx"}],[5609,{"../../../../shared/constants/metametrics":5043,"../../../../shared/lib/ui-utils":5075,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../hooks/useI18nContext":6031,"../../app/assets/asset-list":5135,"../../app/assets/nfts/nfts-tab":5148,"../../app/transaction-list":5454,"../../component-library":5534,"../../ui/tabs":5889,react:4779,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverviewTabs=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-router-dom"),r=e("../../../hooks/useI18nContext"),i=e("../../../helpers/constants/routes"),s=e("../../../../shared/lib/ui-utils"),c=e("../../../../shared/constants/metametrics"),l=e("../../../contexts/metametrics"),u=y(e("../../app/assets/nfts/nfts-tab")),d=y(e("../../app/assets/asset-list")),p=y(e("../../app/transaction-list")),m=e("../../ui/tabs"),f=e("../../../helpers/constants/design-system"),h=e("../../component-library");function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}n.AccountOverviewTabs=({onTabClick:e,onSupportLinkClick:t,defaultHomeActiveTabName:n,showTokens:y,showTokensLinks:g,showNfts:v,showActivity:k})=>{const T=(0,o.useHistory)(),x=(0,r.useI18nContext)(),C=(0,a.useContext)(l.MetaMetricsContext),_=(0,a.useMemo)((()=>({activeClassName:"account-overview__tab--active",className:"account-overview__tab"})),[]),w=e=>{switch(e){case"nfts":return c.MetaMetricsEventName.NftScreenOpened;case"activity":return c.MetaMetricsEventName.ActivityScreenOpened;default:return c.MetaMetricsEventName.TokenScreenOpened}},E=(0,a.useCallback)((t=>{e(t),C({category:c.MetaMetricsEventCategory.Home,event:w(t)})}),[e]),M=a.default.memo((e=>a.default.createElement(h.ButtonLink,b({size:h.ButtonLinkSize.Md,startIconName:h.IconName.MessageQuestion,"data-testid":"need-help-link",href:s.SUPPORT_LINK,display:f.Display.Flex,onClick:t,externalLink:!0},e),x("needHelpLinkText"))));return a.default.createElement(h.Box,{style:{flexGrow:"1"},paddingTop:4},a.default.createElement(m.Tabs,{defaultActiveTabKey:n,onTabClick:E,tabsClassName:"account-overview__tabs"},y&&a.default.createElement(m.Tab,b({name:x("tokens"),tabKey:"tokens","data-testid":"account-overview__asset-tab"},_),a.default.createElement(h.Box,{marginTop:2},a.default.createElement(d.default,{showTokensLinks:g??!0,onClickAsset:e=>T.push(`${i.ASSET_ROUTE}/${e}`)}),a.default.createElement(M,{justifyContent:f.JustifyContent.flexStart,paddingLeft:4,marginBottom:4}))),v&&a.default.createElement(m.Tab,b({name:x("nfts"),tabKey:"nfts","data-testid":"account-overview__nfts-tab"},_),a.default.createElement(u.default,null),a.default.createElement(M,{justifyContent:f.JustifyContent.flexStart,paddingLeft:4,marginBottom:4})),k&&a.default.createElement(m.Tab,b({name:x("activity"),tabKey:"activity","data-testid":"account-overview__activity-tab"},_),a.default.createElement(p.default,{boxProps:{paddingTop:4}}),a.default.createElement(M,{justifyContent:f.JustifyContent.center,marginBottom:4,marginTop:4}))))}}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview-tabs.tsx"}],[5610,{"../../../hooks/useI18nContext":6031,"../../component-library":5534,"./account-overview-layout":5608,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverviewUnknown=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../component-library"),i=e("../../../hooks/useI18nContext"),s=e("./account-overview-layout");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}n.AccountOverviewUnknown=e=>{const t=(0,i.useI18nContext)();return o.default.createElement(s.AccountOverviewLayout,c({showTokens:!1,showNfts:!1,showActivity:!0},e),o.default.createElement(r.Box,{className:"account-overview-unknown__empty"},o.default.createElement(r.Box,{className:"account-overview-unknown__empty-text"},o.default.createElement("span",null,t("accountTypeNotSupported")))))}}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview-unknown.tsx"}],[5611,{"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../component-library":5534,"./account-overview-btc":5606,"./account-overview-eth":5607,"./account-overview-unknown":5610,"@metamask/keyring-api":1622,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountOverview=function(e){const t=(0,s.useI18nContext)(),n=(0,r.useSelector)(l.getSelectedInternalAccount),{useExternalServices:a,setBasicFunctionalityModalOpen:m}=e;return o.default.createElement(o.default.Fragment,null,!a&&o.default.createElement(c.BannerAlert,{margin:4,marginBottom:0,severity:c.BannerAlertSeverity.Danger,actionButtonLabel:t("basicConfigurationBannerCTA"),actionButtonOnClick:()=>{m()},title:t("basicConfigurationBannerTitle")}),(()=>{switch(n.type){case i.EthAccountType.Eoa:case i.EthAccountType.Erc4337:return o.default.createElement(u.AccountOverviewEth,e);case i.BtcAccountType.P2wpkh:return o.default.createElement(d.AccountOverviewBtc,e);default:return o.default.createElement(p.AccountOverviewUnknown,e)}})())};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),i=e("@metamask/keyring-api"),s=e("../../../hooks/useI18nContext"),c=e("../../component-library"),l=e("../../../selectors"),u=e("./account-overview-eth"),d=e("./account-overview-btc"),p=e("./account-overview-unknown")}}},{package:"$root$",file:"ui/components/multichain/account-overview/account-overview.tsx"}],[5612,{"./account-overview":5611},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountOverview",{enumerable:!0,get:function(){return a.AccountOverview}});var a=e("./account-overview")}}},{package:"$root$",file:"ui/components/multichain/account-overview/index.js"}],[5613,{"../../../../shared/modules/hexstring-utils":5089,"../../../helpers/constants/design-system":5953,"../../../helpers/utils/util":6001,"../../../selectors":6639,"../../component-library":5534,classnames:3599,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountPicker=void 0;var a=p(e("react")),o=p(e("prop-types")),r=p(e("classnames")),i=e("react-redux"),s=e("../../../../shared/modules/hexstring-utils"),c=e("../../component-library"),l=e("../../../helpers/constants/design-system"),u=e("../../../selectors"),d=e("../../../helpers/utils/util");function p(e){return e&&e.__esModule?e:{default:e}}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}const f=({address:e,name:t,onClick:n,disabled:o=!1,showAddress:p=!1,addressProps:f={},labelProps:h={},textProps:y={},className:g="",...b})=>{const v=(0,i.useSelector)(u.getUseBlockie),k=(0,d.shortenAddress)((0,s.toChecksumHexAddress)(e));return a.default.createElement(c.ButtonBase,m({className:(0,r.default)("multichain-account-picker",g),"data-testid":"account-menu-icon",onClick:n,backgroundColor:l.BackgroundColor.transparent,borderRadius:l.BorderRadius.LG,ellipsis:!0,textProps:{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:2,...y},size:p?c.ButtonBaseSize.Lg:c.ButtonBaseSize.Sm,disabled:o,endIconName:c.IconName.ArrowDown,endIconProps:{color:l.IconColor.iconDefault,size:l.Size.SM}},b,{gap:2}),a.default.createElement(c.AvatarAccount,{variant:v?c.AvatarAccountVariant.Blockies:c.AvatarAccountVariant.Jazzicon,address:e,size:p?l.Size.MD:l.Size.XS,borderColor:l.BackgroundColor.backgroundDefault}),a.default.createElement(c.Text,m({as:"span",ellipsis:!0},h,{className:(0,r.default)("multichain-account-picker__label",h.className??"")}),t,p?a.default.createElement(c.Text,m({color:l.TextColor.textAlternative,variant:l.TextVariant.bodySm,ellipsis:!0},f),k):null))};n.AccountPicker=f,f.propTypes={name:o.default.string.isRequired,address:o.default.string.isRequired,showAddress:o.default.bool,addressProps:o.default.object,onClick:o.default.func.isRequired,disabled:o.default.bool,block:o.default.bool,labelProps:o.default.object,textProps:o.default.object,className:o.default.string}}}},{package:"$root$",file:"ui/components/multichain/account-picker/account-picker.js"}],[5614,{"./account-picker":5613},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountPicker",{enumerable:!0,get:function(){return a.AccountPicker}});var a=e("./account-picker")}}},{package:"$root$",file:"ui/components/multichain/account-picker/index.js"}],[5615,{"../../../helpers/constants/design-system":5953,"../../component-library":5534,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ActivityListItem=void 0;var a=c(e("react")),o=c(e("prop-types")),r=c(e("classnames")),i=e("../../../helpers/constants/design-system"),s=e("../../component-library");function c(e){return e&&e.__esModule?e:{default:e}}const l=({topContent:e,icon:t,title:n,subtitle:o,midContent:c,children:l,rightContent:u,onClick:d,className:p,"data-testid":m})=>{const f=(0,r.default)("activity-list-item",p,{"activity-list-item--single-content-row":!(o||l)});return a.default.createElement(s.Box,{tabIndex:0,backgroundColor:i.BackgroundColor.backgroundDefault,className:f,onClick:d,onKeyPress:e=>{"Enter"===e.key&&d()},"data-testid":m,padding:4,display:i.Display.Flex,width:i.BlockSize.Full,flexWrap:i.FlexWrap.Wrap,gap:4},e&&a.default.createElement(s.Text,{variant:i.TextVariant.bodyMd,color:i.TextColor.textDefault,display:i.Display.Flex,width:i.BlockSize.Full},e),a.default.createElement(s.Box,{display:i.Display.Flex,width:i.BlockSize.Full,flexDirection:i.FlexDirection.Row,gap:4},t&&a.default.createElement(s.Box,{display:i.Display.InlineFlex},t),a.default.createElement(s.Box,{display:i.Display.InlineFlex,width:i.BlockSize.Full,className:"activity-list-item__content-container"},a.default.createElement(s.Box,{display:i.Display.InlineFlex,width:[i.BlockSize.OneThird,i.BlockSize.SevenTwelfths],flexDirection:i.FlexDirection.Column,className:"activity-list-item__detail-container"},a.default.createElement(s.Text,{ellipsis:!0,textAlign:i.TextAlign.Left,variant:i.TextVariant.bodyLgMedium,fontWeight:i.FontWeight.Medium,"data-testid":"activity-list-item-action"},n),o&&a.default.createElement(s.Text,{as:"div",ellipsis:!0,textAlign:i.TextAlign.Left,variant:i.TextVariant.bodyMd,fontWeight:i.FontWeight.Normal},o),l&&a.default.createElement(s.Box,{className:"activity-list-item__children"},l)),c&&a.default.createElement(s.Box,{display:i.Display.InlineFlex,className:"activity-list-item__mid-content"},c),u&&a.default.createElement(s.Box,{display:i.Display.InlineFlex,width:i.BlockSize.Full,height:i.BlockSize.Min,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexEnd,className:"activity-list-item__right-content"},u))))};n.ActivityListItem=l,l.propTypes={topContent:o.default.node,icon:o.default.node,title:o.default.oneOfType([o.default.string,o.default.node]),subtitle:o.default.node,midContent:o.default.node,children:o.default.node,rightContent:o.default.node,onClick:o.default.func,className:o.default.string,"data-testid":o.default.string}}}},{package:"$root$",file:"ui/components/multichain/activity-list-item/activity-list-item.js"}],[5616,{"./activity-list-item":5615},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ActivityListItem",{enumerable:!0,get:function(){return a.ActivityListItem}});var a=e("./activity-list-item")}}},{package:"$root$",file:"ui/components/multichain/activity-list-item/index.js"}],[5617,{"../../../../app/scripts/lib/multichain/address":82,"../../../../shared/constants/time":5059,"../../../helpers/constants/design-system":5953,"../../../helpers/utils/util":6001,"../../../hooks/useCopyToClipboard":6020,"../../../hooks/useI18nContext":6031,"../../component-library":5534,"../../ui/tooltip/tooltip":5904,classnames:3599,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddressCopyButton=void 0;var a=f(e("react")),o=f(e("prop-types")),r=f(e("classnames")),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useCopyToClipboard"),l=e("../../../helpers/utils/util"),u=f(e("../../ui/tooltip/tooltip")),d=e("../../../hooks/useI18nContext"),p=e("../../../../shared/constants/time"),m=e("../../../../app/scripts/lib/multichain/address");function f(e){return e&&e.__esModule?e:{default:e}}const h=({address:e,shorten:t=!1,wrap:n=!1,onClick:o})=>{const f=(0,m.normalizeSafeAddress)(e),h=t?(0,l.shortenAddress)(f):f,[y,g]=(0,c.useCopyToClipboard)(p.MINUTE),b=(0,d.useI18nContext)();let v=b(y?"copiedExclamation":"copyToClipboard");return a.default.createElement(u.default,{position:"bottom",title:v},a.default.createElement(i.ButtonBase,{backgroundColor:s.BackgroundColor.primaryMuted,onClick:()=>{g(f),null==o||o()},paddingRight:4,paddingLeft:4,size:s.Size.SM,variant:s.TextVariant.bodySm,color:s.TextColor.primaryDefault,endIconName:y?i.IconName.CopySuccess:i.IconName.Copy,className:(0,r.default)("multichain-address-copy-button",{"multichain-address-copy-button__address--wrap":n}),borderRadius:s.BorderRadius.pill,alignItems:s.AlignItems.center,"data-testid":"address-copy-button-text"},a.default.createElement(i.Box,{display:s.Display.Flex},h)))};n.AddressCopyButton=h,h.propTypes={address:o.default.string.isRequired,shorten:o.default.bool,wrap:o.default.bool,onClick:o.default.func}}}},{package:"$root$",file:"ui/components/multichain/address-copy-button/address-copy-button.js"}],[5618,{"./address-copy-button":5617},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AddressCopyButton",{enumerable:!0,get:function(){return a.AddressCopyButton}});var a=e("./address-copy-button")}}},{package:"$root$",file:"ui/components/multichain/address-copy-button/index.js"}],[5619,{"../../../helpers/constants/design-system":5953,"../../../helpers/utils/util":6001,"../../../selectors":6639,"../../component-library":5534,"../../ui/confusable":5802,"../../ui/tooltip":5903,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AddressListItem=void 0;var a=d(e("react")),o=e("react-redux"),r=d(e("../../ui/confusable")),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),c=e("../../../selectors"),l=e("../../../helpers/utils/util"),u=d(e("../../ui/tooltip"));function d(e){return e&&e.__esModule?e:{default:e}}n.AddressListItem=({address:e,label:t,useConfusable:n=!1,onClick:d})=>{const p=(0,o.useSelector)(c.getUseBlockie);let m=(0,l.shortenAddress)(e);return t&&(m=t,n&&(m=a.default.createElement(r.default,{input:t}))),a.default.createElement(i.Box,{display:s.Display.Flex,padding:4,as:"button",onClick:e=>{e.stopPropagation(),d()},width:s.BlockSize.Full,backgroundColor:s.BackgroundColor.transparent,className:"address-list-item",alignItems:s.AlignItems.center},a.default.createElement(i.AvatarAccount,{borderColor:s.BorderColor.transparent,size:i.AvatarAccountSize.Md,address:e,variant:p?i.AvatarAccountVariant.Blockies:i.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,style:{overflow:"hidden"}},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium,padding:0,width:s.BlockSize.Full,textAlign:s.TextAlign.Left,className:"address-list-item__label","data-testid":"address-list-item-label",style:{overflow:"hidden"},ellipsis:!0},m),a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative,ellipsis:!0,"data-testid":"address-list-item-address",as:"div",display:s.Display.Flex},a.default.createElement(u.default,{title:e,position:"bottom"},(0,l.shortenAddress)(e)))))}}}},{package:"$root$",file:"ui/components/multichain/address-list-item/address-list-item.tsx"}],[5620,{"./address-list-item":5619},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AddressListItem",{enumerable:!0,get:function(){return a.AddressListItem}});var a=e("./address-list-item")}}},{package:"$root$",file:"ui/components/multichain/address-list-item/index.ts"}],[5621,{"../../../helpers/constants/design-system":5953,"../../component-library":5534,classnames:3599,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeaderContainer=void 0;var a=s(e("react")),o=s(e("classnames")),r=e("../../../helpers/constants/design-system"),i=e("../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}n.AppHeaderContainer=({isUnlocked:e,popupStatus:t,headerBottomMargin:n,children:s})=>{const c=!e||t?r.BackgroundColor.backgroundDefault:r.BackgroundColor.backgroundAlternative;return a.default.createElement(i.Box,{display:r.Display.Flex,className:(0,o.default)("multichain-app-header",{"multichain-app-header-shadow":!e||t}),marginBottom:n,alignItems:r.AlignItems.center,width:r.BlockSize.Full,backgroundColor:c},s)}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header-container.tsx"}],[5622,{"../../../helpers/constants/routes":5959,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../component-library":5534,"../../ui/metafox-logo":5861,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeaderLockedContent=void 0;var a=d(e("react")),o=e("react-router-dom"),r=e("react-redux"),i=e("../../../hooks/useI18nContext"),s=d(e("../../ui/metafox-logo")),c=e("../../component-library"),l=e("../../../helpers/constants/routes"),u=e("../../../selectors");function d(e){return e&&e.__esModule?e:{default:e}}n.AppHeaderLockedContent=({currentNetwork:e,networkOpenCallback:t})=>{var n;const d=(0,i.useI18nContext)(),p=(0,o.useHistory)(),m=(0,r.useSelector)(u.getTestNetworkBackgroundColor);return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",null,a.default.createElement(c.PickerNetwork,{avatarNetworkProps:{backgroundColor:m,role:"img",name:(null==e?void 0:e.nickname)??""},"aria-label":`${d("networkMenu")} ${null==e?void 0:e.nickname}`,label:(null==e?void 0:e.nickname)??"",src:null==e||null===(n=e.network)||void 0===n||null===(n=n.rpcPrefs)||void 0===n?void 0:n.imageUrl,onClick:e=>{e.stopPropagation(),e.preventDefault(),t()},className:"multichain-app-header__contents__network-picker","data-testid":"network-display"})),a.default.createElement(s.default,{unsetIconHeight:!0,onClick:async()=>{p.push(l.DEFAULT_ROUTE)}}))}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header-locked-content.tsx"}],[5623,{"../../../../app/scripts/lib/multichain/address":82,"../../../../app/scripts/lib/util":128,"../../../../shared/constants/app":5031,"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/time":5059,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../helpers/utils/util":6001,"../../../hooks/useCopyToClipboard":6020,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../../store/actions":6652,"../../app/connected-status-indicator":5188,"../../component-library":5534,"../../ui/tooltip":5903,"../account-picker":5614,"../global-menu":5665,"../notifications-tag-counter":5732,react:4779,"react-redux":4735,"react-router-dom":4764,"webextension-polyfill":5010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeaderUnlockedContent=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=E(e("webextension-polyfill")),r=e("react-redux"),i=e("react-router-dom"),s=e("../../../helpers/constants/design-system"),c=e("../../component-library"),l=E(e("../../ui/tooltip")),u=e("../../../../shared/constants/metametrics"),d=e("../../../hooks/useI18nContext"),p=e("../../../store/actions"),m=E(e("../../app/connected-status-indicator")),f=e("../account-picker"),h=e("../global-menu"),y=e("../../../selectors"),g=e("../../../../app/scripts/lib/util"),b=e("../../../../app/scripts/lib/multichain/address"),v=e("../../../helpers/utils/util"),k=e("../../../../shared/constants/app"),T=e("../../../contexts/metametrics"),x=e("../../../hooks/useCopyToClipboard"),C=e("../../../../shared/constants/time"),_=e("../notifications-tag-counter"),w=e("../../../helpers/constants/routes");function E(e){return e&&e.__esModule?e:{default:e}}function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}n.AppHeaderUnlockedContent=({popupStatus:e,isEvmNetwork:t,currentNetwork:n,networkOpenCallback:E,disableNetworkPicker:M,disableAccountPicker:N,menuRef:O})=>{var A,S;const I=(0,a.useContext)(T.MetaMetricsContext),P=(0,d.useI18nContext)(),j=(0,i.useHistory)(),D=(0,r.useDispatch)(),B=(0,r.useSelector)(y.getOriginOfCurrentTab),[R,F]=(0,a.useState)(!1),L=(0,r.useSelector)(y.getTestNetworkBackgroundColor),$=(0,r.useSelector)(y.getSelectedInternalAccount),W=$&&(0,v.shortenAddress)((0,b.normalizeSafeAddress)($.address)),z=null==$?void 0:$.address,U=(0,b.normalizeSafeAddress)(z),[V,H]=(0,x.useCopyToClipboard)(C.MINUTE),G=(0,g.getEnvironmentType)()===k.ENVIRONMENT_TYPE_POPUP&&B&&B!==o.default.runtime.id,q=()=>{I({event:u.MetaMetricsEventName.NavMainMenuOpened,category:u.MetaMetricsEventCategory.Navigation,properties:{location:"Home"}}),F(!0)};return a.default.createElement(a.default.Fragment,null,e?a.default.createElement(c.Box,{className:"multichain-app-header__contents__container"},a.default.createElement(l.default,{title:null==n?void 0:n.nickname,position:"right"},a.default.createElement(c.PickerNetwork,{avatarNetworkProps:{backgroundColor:L,role:"img",name:(null==n?void 0:n.nickname)??""},className:"multichain-app-header__contents--avatar-network",ref:O,as:"button",src:(null==n||null===(A=n.network)||void 0===A||null===(A=A.rpcPrefs)||void 0===A?void 0:A.imageUrl)??"",label:(null==n?void 0:n.nickname)??"","aria-label":`${P("networkMenu")} ${null==n?void 0:n.nickname}`,labelProps:{display:s.Display.None},onClick:e=>{e.stopPropagation(),e.preventDefault(),E()},display:[s.Display.Flex,s.Display.None],disabled:M}))):a.default.createElement("div",null,a.default.createElement(c.PickerNetwork,{avatarNetworkProps:{backgroundColor:L,role:"img",name:(null==n?void 0:n.nickname)??""},margin:2,"aria-label":`${P("networkMenu")} ${null==n?void 0:n.nickname}`,label:(null==n?void 0:n.nickname)??"",src:null==n||null===(S=n.network)||void 0===S||null===(S=S.rpcPrefs)||void 0===S?void 0:S.imageUrl,onClick:e=>{e.stopPropagation(),e.preventDefault(),E()},display:[s.Display.None,s.Display.Flex],className:"multichain-app-header__contents__network-picker",disabled:M,"data-testid":"network-display"})),$&&a.default.createElement(c.Text,{as:"div",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,ellipsis:!0},a.default.createElement(f.AccountPicker,{address:$.address,name:$.metadata.name,onClick:()=>{D((0,p.toggleAccountMenu)()),I({event:u.MetaMetricsEventName.NavAccountMenuOpened,category:u.MetaMetricsEventCategory.Navigation,properties:{location:"Home"}})},disabled:N,labelProps:{fontWeight:s.FontWeight.Bold},paddingLeft:2,paddingRight:2}),a.default.createElement(l.default,{position:"left",title:P(V?"addressCopied":"copyToClipboard")},a.default.createElement(c.ButtonBase,{className:"multichain-app-header__address-copy-button",onClick:()=>H(U),size:c.ButtonBaseSize.Sm,backgroundColor:s.BackgroundColor.transparent,borderRadius:s.BorderRadius.LG,endIconName:V?c.IconName.CopySuccess:c.IconName.Copy,endIconProps:{color:s.IconColor.iconAlternative,size:c.IconSize.Sm},ellipsis:!0,textProps:{display:s.Display.Flex,alignItems:s.AlignItems.center,gap:2},style:{height:"auto"},"data-testid":"app-header-copy-button"},a.default.createElement(c.Text,{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySm,ellipsis:!0,as:"span"},W)))),a.default.createElement(c.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.flexEnd,style:{marginLeft:"auto"}},a.default.createElement(c.Box,{display:s.Display.Flex,gap:4},G&&a.default.createElement(c.Box,{ref:O},a.default.createElement(m.default,{onClick:()=>{t&&j.push(`${w.CONNECTIONS}/${encodeURIComponent(B)}`)},disabled:!t}))," ",a.default.createElement(c.Box,{ref:O,display:s.Display.Flex,justifyContent:s.JustifyContent.flexEnd,width:s.BlockSize.Full},!R&&a.default.createElement(c.Box,{style:{position:"relative"},onClick:()=>q()},a.default.createElement(_.NotificationsTagCounter,{noLabel:!0})),a.default.createElement(c.ButtonIcon,{iconName:c.IconName.MoreVertical,"data-testid":"account-options-menu-button",ariaLabel:P("accountOptions"),onClick:()=>{q()},size:c.ButtonIconSize.Sm}))),a.default.createElement(h.GlobalMenu,{anchorElement:O.current,isOpen:R,closeMenu:()=>F(!1)})))}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header-unlocked-content.tsx"}],[5624,{"../../../../app/scripts/lib/util":128,"../../../../shared/constants/app":5031,"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../ducks/metamask/metamask":5941,"../../../ducks/send":5946,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../selectors":6639,"../../../selectors/multichain":6644,"../../../store/actions":6652,"../../component-library":5534,"./app-header-container":5621,"./app-header-locked-content":5622,"./app-header-unlocked-content":5623,"./multichain-meta-fox-logo":5626,classnames:3599,"prop-types":4529,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AppHeader=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=_(e("classnames")),r=_(e("prop-types")),i=e("react-redux"),s=e("react-router-dom"),c=e("../../../contexts/metametrics"),l=e("../../../../shared/constants/metametrics"),u=e("../../../helpers/constants/routes"),d=e("../../../helpers/constants/design-system"),p=e("../../component-library"),m=e("../../../selectors"),f=e("../../../store/actions"),h=e("../../../../app/scripts/lib/util"),y=e("../../../../shared/constants/app"),g=e("../../../ducks/metamask/metamask"),b=e("../../../ducks/send"),v=e("../../../selectors/multichain"),k=e("./multichain-meta-fox-logo"),T=e("./app-header-container"),x=e("./app-header-unlocked-content"),C=e("./app-header-locked-content");function _(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E.apply(this,arguments)}const M=({location:e})=>{const t=(0,a.useContext)(c.MetaMetricsContext),n=(0,a.useRef)(null),r=(0,i.useSelector)(g.getIsUnlocked),_=(0,i.useSelector)(v.getMultichainNetwork),{chainId:w,isEvmNetwork:M}=_,N=(0,i.useDispatch)(),O=(0,h.getEnvironmentType)()===y.ENVIRONMENT_TYPE_POPUP,A=(0,i.useSelector)(b.getSendStage),S=[b.SEND_STAGES.EDIT,b.SEND_STAGES.DRAFT,b.SEND_STAGES.ADD_RECIPIENT].includes(A),I=Boolean((0,s.matchPath)(e.pathname,{path:u.CONFIRM_TRANSACTION_ROUTE,exact:!1})),P=Boolean((0,s.matchPath)(e.pathname,{path:u.SWAPS_ROUTE,exact:!1})),j=Boolean((0,s.matchPath)(e.pathname,{path:u.BUILD_QUOTE_ROUTE,exact:!1})),D=(0,i.useSelector)(m.getUnapprovedTransactions),B=Object.keys(D).length>0,R=I||P&&!j,F=P||S||I||B||!M,L=(0,a.useCallback)((()=>{N((0,f.toggleNetworkMenu)()),t({event:l.MetaMetricsEventName.NavNetworkMenuOpened,category:l.MetaMetricsEventCategory.Navigation,properties:{location:"App header",chain_id:w}})}),[w,N,t]),$=!O&&F?4:0,W={alignItems:d.AlignItems.center,width:d.BlockSize.Full,backgroundColor:d.BackgroundColor.backgroundDefault,padding:2,paddingLeft:4,paddingRight:4,gap:2},z={display:d.Display.Flex,alignItems:d.AlignItems.center,width:d.BlockSize.Full,justifyContent:d.JustifyContent.spaceBetween,backgroundColor:d.BackgroundColor.backgroundDefault,padding:2,gap:2};return a.default.createElement(a.default.Fragment,null,r&&!O?a.default.createElement(k.MultichainMetaFoxLogo,null):null,a.default.createElement(T.AppHeaderContainer,{isUnlocked:r,popupStatus:O,headerBottomMargin:$},a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Box,E({className:(0,o.default)(r?"multichain-app-header__contents":"multichain-app-header__lock-contents",{"multichain-app-header-shadow":r&&!O})},r?W:z),r?a.default.createElement(x.AppHeaderUnlockedContent,{popupStatus:O,isEvmNetwork:M,currentNetwork:_,networkOpenCallback:L,disableNetworkPicker:F,disableAccountPicker:R,menuRef:n}):a.default.createElement(C.AppHeaderLockedContent,{currentNetwork:_,networkOpenCallback:L})))))};n.AppHeader=M,M.propTypes={location:r.default.object}}}},{package:"$root$",file:"ui/components/multichain/app-header/app-header.js"}],[5625,{"./app-header":5624},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AppHeader",{enumerable:!0,get:function(){return a.AppHeader}});var a=e("./app-header")}}},{package:"$root$",file:"ui/components/multichain/app-header/index.js"}],[5626,{"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../component-library":5534,"../../ui/metafox-logo":5861,react:4779,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainMetaFoxLogo=void 0;var a=l(e("react")),o=e("react-router-dom"),r=e("../../../helpers/constants/routes"),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),c=l(e("../../ui/metafox-logo"));function l(e){return e&&e.__esModule?e:{default:e}}n.MultichainMetaFoxLogo=()=>{const e=(0,o.useHistory)();return a.default.createElement(s.Box,{display:[i.Display.None,i.Display.Flex],alignItems:i.AlignItems.center,margin:2,className:"multichain-app-header-logo","data-testid":"app-header-logo",justifyContent:i.JustifyContent.center},a.default.createElement(c.default,{unsetIconHeight:!0,onClick:async()=>e.push(r.DEFAULT_ROUTE)}))}}}},{package:"$root$",file:"ui/components/multichain/app-header/multichain-meta-fox-logo.js"}],[5627,{"../../../../../shared/constants/transaction":5061,"../../../../../shared/modules/conversion.utils":5081,"../../../../helpers/constants/common":5951,"../../../../helpers/constants/design-system":5953,"../../../../hooks/useCurrencyDisplay":6021,"../../../../hooks/useI18nContext":6031,"../../../../hooks/useTokenFiatAmount":6052,"../../../../hooks/useTokenTracker":6053,"../../../../selectors":6639,"../../../app/user-preferenced-currency-display":5457,"../../../component-library":5534,"../../../ui/currency-display":5804,"../utils":5641,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetBalanceText=function({asset:e,balanceColor:t,error:n}){var b,k,T,x;const C=(0,y.useI18nContext)(),_=(0,o.useSelector)(c.getCurrentCurrency),w=(0,o.useSelector)(h.getIsFiatPrimary),{tokensWithBalances:E}=(0,p.useTokenTracker)({tokens:null!==(b=e.details)&&void 0!==b&&b.address&&!e.balance?[{address:e.details.address}]:[],address:undefined}),M=(0,g.hexToDecimal)(e.balance)||(null===(k=E[0])||void 0===k?void 0:k.string),N=(0,o.useSelector)(c.getSelectedAccountCachedBalance),O=(0,m.useCurrencyDisplay)(N,{numberOfDecimals:2,currency:_})[1].value,A=(0,f.useTokenFiatAmount)(null===(T=e.details)||void 0===T?void 0:T.address,M,undefined,0===Number(M)?{exchangeRate:Number.MIN_VALUE}:undefined,!0),S=e.type===l.AssetType.native?O:A,I={hideLabel:!0,textProps:{color:t,variant:u.TextVariant.bodySm},suffixProps:{color:t,variant:u.TextVariant.bodySm}},P=n?`. ${C(n)}`:"";if(e.type===l.AssetType.NFT){var j;const t=(0,g.hexToDecimal)(e.balance||"0x0");return a.default.createElement(r.Text,I.textProps,`${t} ${null===(j=C("1"===t?"token":"tokens"))||void 0===j?void 0:j.toLowerCase()}${P}`)}if(w)return a.default.createElement(d.default,v({},I,{currency:_,numberOfDecimals:2,displayValue:`${S}${P}`}));if(e.type===l.AssetType.native)return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.default,v({},I,{value:e.balance,type:s.PRIMARY})),P?a.default.createElement(r.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.errorDefault,"data-testid":"send-page-amount-error"},P):null);if(null!==(x=e.details)&&void 0!==x&&x.address)return a.default.createElement(i.default,v({},I,{displayValue:`${M||""}${P}`}));return null};var a=b(e("react")),o=e("react-redux"),r=e("../../../component-library"),i=b(e("../../../app/user-preferenced-currency-display")),s=e("../../../../helpers/constants/common"),c=e("../../../../selectors"),l=e("../../../../../shared/constants/transaction"),u=e("../../../../helpers/constants/design-system"),d=b(e("../../../ui/currency-display")),p=e("../../../../hooks/useTokenTracker"),m=e("../../../../hooks/useCurrencyDisplay"),f=e("../../../../hooks/useTokenFiatAmount"),h=e("../utils"),y=e("../../../../hooks/useI18nContext"),g=e("../../../../../shared/modules/conversion.utils");function b(e){return e&&e.__esModule?e:{default:e}}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(this,arguments)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-balance/asset-balance-text.tsx"}],[5628,{"../../../../helpers/constants/design-system":5953,"../../../../hooks/useI18nContext":6031,"../../../component-library":5534,"./asset-balance-text":5627,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetBalance=function({asset:e,error:t}){const n=(0,s.useI18nContext)(),a=t?i.TextColor.errorDefault:i.TextColor.textAlternative;return o.default.createElement(r.Box,{className:"asset-picker-amount__balance",display:i.Display.Flex},o.default.createElement(r.Text,{color:a,marginRight:1,variant:i.TextVariant.bodySm},n("balance"),":"),o.default.createElement(c.AssetBalanceText,{asset:e,balanceColor:a,error:t}))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext"),c=e("./asset-balance-text")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-balance/asset-balance.tsx"}],[5629,{"../../../../shared/constants/transaction":5061,"../../../ducks/send":5946,"../../../helpers/constants/design-system":5953,"../../../hooks/useI18nContext":6031,"../../../pages/confirmations/send/send.constants":6376,"../../../selectors":6639,"../../component-library":5534,"./asset-balance/asset-balance":5628,"./asset-picker/asset-picker":5634,"./max-clear-button":5637,"./swappable-currency-input/swappable-currency-input":5640,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPickerAmount=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../hooks/useI18nContext"),s=e("../../component-library"),c=e("../../../helpers/constants/design-system"),l=e("../../../selectors"),u=e("../../../../shared/constants/transaction"),d=e("../../../ducks/send"),p=e("../../../pages/confirmations/send/send.constants"),m=(a=e("./max-clear-button"))&&a.__esModule?a:{default:a},f=e("./asset-picker/asset-picker"),h=e("./swappable-currency-input/swappable-currency-input"),y=e("./asset-balance/asset-balance");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}n.AssetPickerAmount=({asset:e,amount:t,onAmountChange:n,isAmountLoading:a,error:g,...v})=>{var k,T;const x=(0,r.useSelector)(l.getSelectedInternalAccount),C=(0,i.useI18nContext)(),{swapQuotesError:_,sendAsset:w,receiveAsset:E}=(0,r.useSelector)(d.getCurrentDraftTransaction),M=!n,N=M&&_,O=(0,r.useSelector)(d.getSendMaxModeState),A=(0,r.useSelector)(d.getIsNativeSendPossible);(0,o.useEffect)((()=>{M||A||O&&n("0x0")}),[A]);const[S,I]=(0,o.useState)(!1),[P,j]=(0,o.useState)(!1),D=(0,o.useCallback)(((t,a)=>{P||e.type!==u.AssetType.NFT||j(!0),null==n||n(t,a)}),[n,P,e.type]);(0,o.useEffect)((()=>{j(!1)}),[e]);const{error:B}=t,R=B===p.NEGATIVE_OR_ZERO_AMOUNT_TOKENS_ERROR&&e.type===u.AssetType.NFT&&!P,F=B&&!R?B:undefined;(0,o.useEffect)((()=>{if(!e)throw new Error("No asset is drafted for sending")}),[x]);let L=c.BorderColor.borderMuted;M?N&&(L=c.BorderColor.errorDefault):F?L=c.BorderColor.errorDefault:S&&(L=c.BorderColor.primaryDefault);const $=w.type===u.AssetType.native&&E.type!==u.AssetType.native;return o.default.createElement(s.Box,{className:"asset-picker-amount"},o.default.createElement(s.Box,{onFocus:()=>I(!0),onBlur:()=>I(!1),display:c.Display.Flex,alignItems:c.AlignItems.center,backgroundColor:c.BackgroundColor.backgroundDefault,borderRadius:c.BorderRadius.LG,borderColor:L,borderStyle:c.BorderStyle.solid,borderWidth:1,marginBottom:1,padding:1,paddingTop:(null===(k=e.details)||void 0===k?void 0:k.standard)===u.TokenStandard.ERC721?4:1,paddingBottom:(null===(T=e.details)||void 0===T?void 0:T.standard)===u.TokenStandard.ERC721?4:1},o.default.createElement(f.AssetPicker,b({asset:e},v)),o.default.createElement(h.SwappableCurrencyInput,{onAmountChange:n?D:undefined,assetType:e.type,asset:e,amount:t,isAmountLoading:a})),o.default.createElement(s.Box,{display:c.Display.Flex},n&&o.default.createElement(y.AssetBalance,{asset:e,error:g||F}),N&&o.default.createElement(s.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.errorDefault},C(_)),n&&A&&!$&&o.default.createElement(m.default,{asset:e})))}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-amount.tsx"}],[5630,{"../../../../../shared/modules/string-utils":5103,"../../../../ducks/locale/locale":5940,"../../../../hooks/useTokenFiatAmount":6052,"../../../../pages/confirmations/components/simulation-details/formatAmount":6251,"../../../../selectors":6639,"../../token-list-item":5778,"bignumber.js":3481,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({address:e,image:t,symbol:n,decimalTokenAmount:a,tooltipText:m}){const f=(0,r.useSelector)(p.getIntlLocale),h=(0,r.useSelector)(s.getTokenList),y=e?Object.values(h).find((t=>(0,u.isEqualCaseInsensitive)(t.symbol,n)&&(0,u.isEqualCaseInsensitive)(t.address,e))):undefined,g=(null==y?void 0:y.name)||n,b=(null==y?void 0:y.iconUrl)||t,v=(0,c.useTokenFiatAmount)(e??undefined,a,n,{},!0);return o.default.createElement(l.TokenListItem,{tokenSymbol:n,tokenImage:b,primary:(0,d.formatAmount)(f,new i.BigNumber(a||"0",10)),secondary:v,title:g,tooltipText:m})};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),i=e("bignumber.js"),s=e("../../../../selectors"),c=e("../../../../hooks/useTokenFiatAmount"),l=e("../../token-list-item"),u=e("../../../../../shared/modules/string-utils"),d=e("../../../../pages/confirmations/components/simulation-details/formatAmount"),p=e("../../../../ducks/locale/locale")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/Asset.tsx"}],[5631,{"../..":5678,"../../../../../shared/constants/transaction":5061,"../../../../../shared/modules/string-utils":5103,"../../../../ducks/metamask/metamask":5941,"../../../../helpers/constants/common":5951,"../../../../helpers/constants/design-system":5953,"../../../../hooks/useCurrencyDisplay":6021,"../../../../hooks/useUserPreferencedCurrency":6057,"../../../../selectors":6639,"../../../component-library":5534,"./Asset":5630,classnames:3599,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({handleAssetChange:e,asset:t,tokenList:n,sendingAssetSymbol:g,memoizedSwapsBlockedTokens:v}){var k;const T=null===(k=t.details)||void 0===k?void 0:k.address,x=(0,o.useSelector)(s.getNativeCurrency),C=(0,o.useSelector)(i.getSelectedAccountCachedBalance),{useNativeCurrencyAsPrimaryCurrency:_}=(0,o.useSelector)(i.getPreferences),{currency:w,numberOfDecimals:E}=(0,c.useUserPreferencedCurrency)(l.PRIMARY,{ethNumberOfDecimals:4}),{currency:M,numberOfDecimals:N}=(0,c.useUserPreferencedCurrency)(l.SECONDARY,{ethNumberOfDecimals:4}),[,O]=(0,u.useCurrencyDisplay)(C,{numberOfDecimals:E,currency:w}),[A,S]=(0,u.useCurrencyDisplay)(C,{numberOfDecimals:N,currency:M,hideLabel:!0});return a.default.createElement(p.Box,{className:"tokens-main-view-modal"},n.map((t=>{var n;const o=null===(n=t.address)||void 0===n?void 0:n.toLowerCase(),i=o===(null==T?void 0:T.toLowerCase()),s=!!g&&(!(0,h.isEqualCaseInsensitive)(g,t.symbol)&&v.has(o));return a.default.createElement(p.Box,{padding:0,gap:0,margin:0,key:t.symbol,backgroundColor:i?m.BackgroundColor.primaryMuted:m.BackgroundColor.transparent,className:(0,r.default)("multichain-asset-picker-list-item",{"multichain-asset-picker-list-item--selected":i,"multichain-asset-picker-list-item--disabled":s}),"data-testid":"asset-list-item",onClick:()=>{s||e(t)}},i?a.default.createElement(p.Box,{className:"multichain-asset-picker-list-item__selected-indicator",borderRadius:m.BorderRadius.pill,backgroundColor:m.BackgroundColor.primaryDefault}):null,a.default.createElement(p.Box,{key:t.address,padding:0,display:m.Display.Block,flexWrap:m.FlexWrap.NoWrap,alignItems:m.AlignItems.center},a.default.createElement(p.Box,{marginInlineStart:2},t.type===d.AssetType.native?a.default.createElement(f.TokenListItem,{title:x,primary:O.value??S.value,tokenSymbol:_?w:M,secondary:A,tokenImage:t.image,isOriginalTokenSymbol:!0}):a.default.createElement(y.default,b({key:t.address},t,{decimalTokenAmount:t.string,tooltipText:s?"swapTokenNotAvailable":undefined})))))})))};var a=g(e("react")),o=e("react-redux"),r=g(e("classnames")),i=e("../../../../selectors"),s=e("../../../../ducks/metamask/metamask"),c=e("../../../../hooks/useUserPreferencedCurrency"),l=e("../../../../helpers/constants/common"),u=e("../../../../hooks/useCurrencyDisplay"),d=e("../../../../../shared/constants/transaction"),p=e("../../../component-library"),m=e("../../../../helpers/constants/design-system"),f=e("../.."),h=e("../../../../../shared/modules/string-utils"),y=g(e("./Asset"));function g(e){return e&&e.__esModule?e:{default:e}}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/AssetList.tsx"}],[5632,{"../../../../helpers/constants/design-system":5953,"../../../../helpers/constants/zendesk-url":5966,"../../../../hooks/useI18nContext":6031,"../../../../selectors":6639,"../../../app/assets/nfts/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab":5145,"../../../app/assets/nfts/nfts-items/nfts-items":5147,"../../../component-library":5534,"../../../ui/spinner":5887,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPickerModalNftTab=function({collectionDataFiltered:e,previouslyOwnedCollection:t,onClose:n,renderSearch:m}){const f=(0,c.useI18nContext)(),h=Object.keys(e).length>0,y=(0,o.useSelector)(d.getUseNftDetection),g=(0,o.useSelector)(d.getIsMainnet),b=(0,o.useSelector)(d.getNftIsStillFetchingIndication);if(!h&&b)return a.default.createElement(i.Box,{className:"modal-tab__loading","data-testid":"spinner"},a.default.createElement(u.default,{color:"var(--color-warning-default)",className:"loading-overlay__spinner"}));if(h)return a.default.createElement(i.Box,{className:"modal-tab__main-view"},m(),a.default.createElement(r.default,{collections:e,previouslyOwnedCollection:t,isModal:!0,onCloseModal:()=>n(),showTokenId:!0,displayPreviouslyOwnedCollection:!1}),b?a.default.createElement(i.Box,{className:"modal-tab__fetching"},a.default.createElement(u.default,{color:"var(--color-warning-default)",className:"loading-overlay__spinner"})):null);return a.default.createElement(a.default.Fragment,null,g&&!y&&a.default.createElement(i.Box,{paddingTop:4,paddingInlineStart:4,paddingInlineEnd:4},a.default.createElement(p.default,null)),a.default.createElement(i.Box,{padding:12,display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},a.default.createElement(i.Box,{justifyContent:s.JustifyContent.center},a.default.createElement("img",{src:"./images/no-nfts.svg"})),a.default.createElement(i.Box,{marginTop:4,marginBottom:12,display:s.Display.Flex,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center,flexDirection:s.FlexDirection.Column,className:"nfts-tab__link"},a.default.createElement(i.Text,{color:s.TextColor.textMuted,variant:s.TextVariant.headingSm,textAlign:s.TextAlign.Center,as:"h4"},f("noNFTs")),a.default.createElement(i.ButtonLink,{size:i.ButtonLinkSize.Sm,href:l.default.NFT_TOKENS,externalLink:!0},f("learnMoreUpperCase")))))};var a=m(e("react")),o=e("react-redux"),r=m(e("../../../app/assets/nfts/nfts-items/nfts-items")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext"),l=m(e("../../../../helpers/constants/zendesk-url")),u=m(e("../../../ui/spinner")),d=e("../../../../selectors"),p=m(e("../../../app/assets/nfts/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab"));function m(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-nft-tab.tsx"}],[5633,{"../../../../../shared/constants/metametrics":5043,"../../../../../shared/constants/transaction":5061,"../../../../../shared/modules/string-utils":5103,"../../../../contexts/metametrics":5920,"../../../../ducks/metamask/metamask":5941,"../../../../ducks/send":5946,"../../../../ducks/swaps/swaps":5949,"../../../../helpers/constants/design-system":5953,"../../../../hooks/useEqualityCheck":6025,"../../../../hooks/useI18nContext":6031,"../../../../hooks/useNftsCollections":6038,"../../../../hooks/useTokenTracker":6053,"../../../../hooks/useTokensToSearch":6054,"../../../../selectors":6639,"../../../component-library":5534,"../../../ui/tabs":5889,"./AssetList":5631,"./asset-picker-modal-nft-tab":5632,lodash:4382,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPickerModal=function({isOpen:e,onClose:t,asset:n,onAssetChange:a,sendingAssetImage:w,sendingAssetSymbol:N}){var O;const A=(0,u.useI18nContext)(),S=(0,o.useContext)(k.MetaMetricsContext),I=(0,r.useSelector)(T.getSendAnalyticProperties),[P,j]=(0,o.useState)(""),{collections:D,previouslyOwnedCollection:B}=(0,p.useNftsCollections)(),R=Object.keys(D),F=R.reduce(((e,t)=>{var n;const a=D[t];return(null===(n=a.collectionName)||void 0===n?void 0:n.toLowerCase().includes(P.toLowerCase()))?(e.push(a),e):e}),[]).filter((e=>e.nfts.length>0)),L=(0,r.useSelector)(T.getSwapsBlockedTokens),$=(0,o.useMemo)((()=>new Set(L)),[L]),W=w&&N,z=(0,o.useCallback)((e=>{a(e),S({event:v.MetaMetricsEventName.sendAssetSelected,category:v.MetaMetricsEventCategory.Send,properties:{is_destination_asset_picker_modal:Boolean(W),is_nft:!1},sensitiveProperties:{...I,new_asset_symbol:e.symbol,new_asset_address:e.address}},{excludeMetaMetricsId:!1}),t()}),[a]),U=(null==n?void 0:n.type)===d.AssetType.NFT?"nfts":"tokens",V=(0,r.useSelector)(m.getCurrentChainId),H=(0,r.useSelector)(m.getNativeCurrencyImage),G=(0,r.useSelector)(f.getNativeCurrency),q=(0,r.useSelector)(m.getSelectedAccountCachedBalance),K=(0,r.useSelector)(m.getTokenExchangeRates,i.isEqual),J=(0,r.useSelector)(f.getConversionRate),Y=(0,r.useSelector)(m.getCurrentCurrency),{address:X}=(0,r.useSelector)(m.getSelectedInternalAccount),Q=(0,r.useSelector)(m.getShouldHideZeroBalanceTokens),Z=(0,r.useSelector)(m.getAllTokens),ee=(null==Z||null===(O=Z[V])||void 0===O?void 0:O[X])??[],{tokensWithBalances:te}=(0,h.useTokenTracker)({tokens:ee,address:X,hideZeroBalanceTokens:Boolean(Q)}),ne=(0,r.useSelector)(m.getTokenList),ae=(0,r.useSelector)(y.getTopAssets,i.isEqual),oe=(0,i.uniqBy)([...te,...ee],"address"),re=(0,b.useEqualityCheck)(oe),ie=(0,o.useMemo)((()=>{const e={address:null,symbol:G,decimals:18,image:H,balance:q,type:d.AssetType.native},t=[],n=new Set,a=({address:e,symbol:t})=>!!N&&(!(0,x.isEqualCaseInsensitive)(N,t)&&$.has(e||""));let o;for(o of function*(){yield e;const t=[];for(const e of re)yield e;for(const e of Object.keys(ae)){const n=null==ne?void 0:ne[e];if(n){if(W&&a(n)){t.push(n);continue}yield n}}for(const e of Object.values(ne))yield e;for(const e of t)yield e}()){var r,i,s;if(null!==(r=o.symbol)&&void 0!==r&&r.toLowerCase().includes(P.toLowerCase())&&!n.has(null===(i=o.address)||void 0===i?void 0:i.toLowerCase()))n.add(null===(s=o.address)||void 0===s?void 0:s.toLowerCase()),t.push((0,g.getRenderableTokenData)(o.address?{...o,...ne[o.address.toLowerCase()],type:d.AssetType.token}:o,K,J,Y,V,ne));if(t.length>M)break}return t}),[re,ae,P,G,H,q,K,J,Y,V,ne,N]),se=(0,o.useCallback)((({isNFTSearch:e=!1,props:t})=>o.default.createElement(c.Box,E({padding:4},t),o.default.createElement(c.TextFieldSearch,{borderRadius:l.BorderRadius.LG,placeholder:A(e?"searchNfts":"searchTokens"),value:P,onChange:e=>j(e.target.value),error:!1,autoFocus:!0,autoComplete:!1,width:l.BlockSize.Full,clearButtonOnClick:()=>j(""),clearButtonProps:{size:c.ButtonIconSize.Sm},showClearButton:!0,className:"asset-picker-modal__search-list",inputProps:{"data-testid":"asset-picker-modal-search-input"},endAccessory:null,size:c.TextFieldSearchSize.Lg}))),[P]);return o.default.createElement(c.Modal,{className:"asset-picker-modal",isOpen:e,onClose:t,"data-testid":"asset-picker-modal"},o.default.createElement(c.ModalOverlay,null),o.default.createElement(c.ModalContent,{modalDialogProps:{padding:0}},o.default.createElement(c.ModalHeader,{paddingBottom:2,onClose:t},o.default.createElement(c.Text,{variant:l.TextVariant.headingSm,textAlign:l.TextAlign.Center},A(W?"sendSelectReceiveAsset":"sendSelectSendAsset"))),W&&o.default.createElement(c.Box,{display:l.Display.Flex,gap:1,alignItems:l.AlignItems.center,marginInline:"auto",marginBottom:3},o.default.createElement(c.AvatarToken,{borderRadius:l.BorderRadius.full,src:w,size:c.AvatarTokenSize.Xs}),o.default.createElement(c.Text,{variant:l.TextVariant.bodySm},A("sendingAsset",[N]))),o.default.createElement(c.Box,{className:"modal-tab__wrapper"},W?o.default.createElement(o.default.Fragment,null,o.default.createElement(se,{props:{paddingTop:1}}),o.default.createElement(_.default,{handleAssetChange:z,asset:n,tokenList:ie,sendingAssetSymbol:N,memoizedSwapsBlockedTokens:$})):o.default.createElement(s.Tabs,{defaultActiveTabKey:U,tabsClassName:"modal-tab__tabs"},o.default.createElement(s.Tab,{activeClassName:"modal-tab__tab--active",className:"modal-tab__tab",name:A("tokens"),tabKey:"tokens"},o.default.createElement(se,null),o.default.createElement(_.default,{handleAssetChange:z,asset:n,tokenList:ie,memoizedSwapsBlockedTokens:$})),o.default.createElement(s.Tab,{activeClassName:"modal-tab__tab--active",className:"modal-tab__tab",name:A("nfts"),tabKey:"nfts"},o.default.createElement(C.AssetPickerModalNftTab,{collectionDataFiltered:F,previouslyOwnedCollection:B,onClose:t,renderSearch:()=>se({isNFTSearch:!0})}))))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("lodash"),s=e("../../../ui/tabs"),c=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../../shared/constants/transaction"),p=e("../../../../hooks/useNftsCollections"),m=e("../../../../selectors"),f=e("../../../../ducks/metamask/metamask"),h=e("../../../../hooks/useTokenTracker"),y=e("../../../../ducks/swaps/swaps"),g=e("../../../../hooks/useTokensToSearch"),b=e("../../../../hooks/useEqualityCheck"),v=e("../../../../../shared/constants/metametrics"),k=e("../../../../contexts/metametrics"),T=e("../../../../ducks/send"),x=e("../../../../../shared/modules/string-utils"),C=e("./asset-picker-modal-nft-tab"),_=(a=e("./AssetList"))&&a.__esModule?a:{default:a};function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E.apply(this,arguments)}const M=30}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal.tsx"}],[5634,{"../../../../../shared/constants/metametrics":5043,"../../../../../shared/constants/transaction":5061,"../../../../contexts/metametrics":5920,"../../../../ducks/metamask/metamask":5941,"../../../../ducks/send":5946,"../../../../helpers/constants/design-system":5953,"../../../../helpers/utils/util":6001,"../../../../hooks/useI18nContext":6031,"../../../../pages/confirmations/send/send.utils":6377,"../../../../selectors":6639,"../../../component-library":5534,"../../../ui/tooltip":5903,"../asset-picker-modal/asset-picker-modal":5633,"../constants":5635,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPicker=function({asset:e,onAssetChange:t,sendingAsset:n,isDisabled:a=!1}){var k,C,_,w;const E=(0,y.useI18nContext)(),M=(0,o.useContext)(g.MetaMetricsContext),N=(0,r.useSelector)(s.getSendAnalyticProperties),O=(0,r.useSelector)(d.getNativeCurrency),A=(0,r.useSelector)(p.getNativeCurrencyImage),S=(0,r.useSelector)(p.getTokenList),I=(0,r.useSelector)(p.getIpfsGateway),[P,j]=(0,o.useState)(!1);let D,B;if(e.type===l.AssetType.native)D=A;else if(S&&e.details){var R,F,L;D=(0,h.getAssetImageURL)(null===(R=e.details)||void 0===R?void 0:R.image,I)||(null===(F=S[null===(L=e.details.address)||void 0===L?void 0:L.toLowerCase()])||void 0===F?void 0:F.iconUrl)}if(n)if(n.type===l.AssetType.native)B=A;else if(S&&n.details){var $,W,z;B=(0,h.getAssetImageURL)(null===($=n.details)||void 0===$?void 0:$.image,I)||(null===(W=S[null===(z=n.details.address)||void 0===z?void 0:z.toLowerCase()])||void 0===W?void 0:W.iconUrl)}const U=e.type===l.AssetType.native?O:null===(k=e.details)||void 0===k?void 0:k.symbol,V=(null==U?void 0:U.length)>f.LARGE_SYMBOL_LENGTH,H=e.type===l.AssetType.NFT,G=V&&!H?`${U.substring(0,f.LARGE_SYMBOL_LENGTH-1)}...`:U,q=(0,r.useSelector)(p.getCurrentNetwork),K=(0,r.useSelector)(p.getTestNetworkBackgroundColor);return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.AssetPickerModal,{isOpen:P,onClose:()=>j(!1),asset:e,onAssetChange:t,sendingAssetImage:B,sendingAssetSymbol:(null==n||null===(C=n.details)||void 0===C?void 0:C.symbol)||O}),o.default.createElement(i.Button,{"data-testid":"asset-picker-button",className:"asset-picker",disabled:a,display:c.Display.Flex,alignItems:c.AlignItems.center,gap:2,padding:2,paddingLeft:2,paddingRight:2,justifyContent:H?c.JustifyContent.spaceBetween:undefined,backgroundColor:c.BackgroundColor.transparent,onClick:()=>{j(!0),M({event:b.MetaMetricsEventName.sendTokenModalOpened,category:b.MetaMetricsEventCategory.Send,properties:{is_destination_asset_picker_modal:Boolean(n)},sensitiveProperties:{...N}},{excludeMetaMetricsId:!1})},endIconName:i.IconName.ArrowDown,endIconProps:{color:c.IconColor.iconDefault,marginInlineStart:0,display:a?c.Display.None:c.Display.InlineBlock},title:a?E("swapTokenNotAvailable"):undefined},o.default.createElement(i.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,gap:3},o.default.createElement(i.Box,{display:c.Display.Flex},o.default.createElement(i.BadgeWrapper,{badge:o.default.createElement(i.AvatarNetwork,{size:i.AvatarNetworkSize.Xs,name:(null==q?void 0:q.nickname)??"",src:null==q||null===(_=q.rpcPrefs)||void 0===_?void 0:_.imageUrl,backgroundColor:K,borderColor:D?c.BorderColor.borderMuted:c.BorderColor.borderDefault})},o.default.createElement(i.AvatarToken,T({borderRadius:H?c.BorderRadius.LG:c.BorderRadius.full,src:D,size:i.AvatarTokenSize.Md,name:U},H&&{backgroundColor:c.BackgroundColor.transparent})))),o.default.createElement(m.default,{disabled:!V,title:U,position:"bottom"},o.default.createElement(i.Text,{className:"asset-picker__symbol",variant:c.TextVariant.bodyMd},G),(null===(w=e.details)||void 0===w?void 0:w.tokenId)&&o.default.createElement(i.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative},"#",String(e.details.tokenId).length<x?e.details.tokenId:(0,v.ellipsify)(String(e.details.tokenId),6,4))))))};var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../component-library"),s=e("../../../../ducks/send"),c=e("../../../../helpers/constants/design-system"),l=e("../../../../../shared/constants/transaction"),u=e("../asset-picker-modal/asset-picker-modal"),d=e("../../../../ducks/metamask/metamask"),p=e("../../../../selectors"),m=(a=e("../../../ui/tooltip"))&&a.__esModule?a:{default:a},f=e("../constants"),h=e("../../../../helpers/utils/util"),y=e("../../../../hooks/useI18nContext"),g=e("../../../../contexts/metametrics"),b=e("../../../../../shared/constants/metametrics"),v=e("../../../../pages/confirmations/send/send.utils");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(this,arguments)}const x=13}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/asset-picker/asset-picker.tsx"}],[5635,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LARGE_SYMBOL_LENGTH=void 0;n.LARGE_SYMBOL_LENGTH=7}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/constants.tsx"}],[5636,{"./asset-picker-amount":5629},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AssetPickerAmount",{enumerable:!0,get:function(){return a.AssetPickerAmount}});var a=e("./asset-picker-amount")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/index.ts"}],[5637,{"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/transaction":5061,"../../../../shared/modules/conversion.utils":5081,"../../../contexts/metametrics":5920,"../../../ducks/send":5946,"../../../helpers/constants/design-system":5953,"../../../hooks/useI18nContext":6031,"../../component-library":5534,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({asset:e}){const t=(0,l.useI18nContext)(),n=(0,o.useSelector)(r.getSendMaxModeState),m=(0,o.useDispatch)(),f=(0,a.useContext)(i.MetaMetricsContext),h=(0,o.useSelector)(r.getSendAnalyticProperties);return e.type===d.AssetType.NFT||Number((0,p.hexToDecimal)(e.balance||"0x0"))<=0?null:a.default.createElement(c.ButtonLink,{className:"asset-picker-amount__max-clear",onClick:()=>{f({event:'Clicked "Amount Max"',category:s.MetaMetricsEventCategory.Transactions,properties:{...h,action:"Edit Screen",legacy_event:!0}}),m((0,r.toggleSendMaxMode)())},marginLeft:"auto",textProps:{variant:u.TextVariant.bodySm},"data-testid":"max-clear-button"},t(n?"clear":"max"))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../ducks/send"),i=e("../../../contexts/metametrics"),s=e("../../../../shared/constants/metametrics"),c=e("../../component-library"),l=e("../../../hooks/useI18nContext"),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/transaction"),p=e("../../../../shared/modules/conversion.utils");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/max-clear-button.tsx"}],[5638,{"../../../../../shared/modules/Numeric":5076,"../../../ui/unit-input":5909,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NFTInput=function({integerValue:e,onChange:t,className:n}){return a.default.createElement(o.default,{isDisabled:!t,isFocusOnInput:Boolean(t),type:"number",step:1,min:0,dataTestId:"nft-input",onChange:e=>{if(!t)return;const n=new r.Numeric(e,10);Number.isInteger(n.toNumber())&&t(n.toPrefixedHexString(),String(e))},value:e,className:n,keyPressRegex:s})};var a=i(e("react")),o=i(e("../../../ui/unit-input")),r=e("../../../../../shared/modules/Numeric");function i(e){return e&&e.__esModule?e:{default:e}}const s=/^[0-9]*$/u}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/nft-input/nft-input.tsx"}],[5639,{"../../../../helpers/constants/design-system":5953,"../../../../hooks/useI18nContext":6031,"../../../component-library":5534,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClick:e}){const t=(0,s.useI18nContext)();return o.default.createElement(i.ButtonIcon,{backgroundColor:r.BackgroundColor.transparent,iconName:i.IconName.SwapVertical,size:i.ButtonIconSize.Sm,color:r.IconColor.primaryDefault,onClick:e,ariaLabel:t("switchInputCurrency"),className:"asset-picker-amount__input__swap"})};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../helpers/constants/design-system"),i=e("../../../component-library"),s=e("../../../../hooks/useI18nContext")}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/swappable-currency-input/swap-icon.tsx"}],[5640,{"../../../../../shared/constants/transaction":5061,"../../../../ducks/app/app":5929,"../../../../ducks/send":5946,"../../../../helpers/constants/design-system":5953,"../../../../hooks/useI18nContext":6031,"../../../app/currency-input":5198,"../../../component-library":5534,"../nft-input/nft-input":5638,"../utils":5641,"./swap-icon":5639,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SwappableCurrencyInput=function({assetType:e,asset:t,amount:{value:n},isAmountLoading:h,onAmountChange:y}){var g,b;const v=(0,o.useDispatch)(),k=(0,r.useI18nContext)(),T=(0,o.useSelector)(p.getIsFiatPrimary),x=(0,o.useSelector)(i.getSendMaxModeState),C=a.default.createElement(d.default,{className:"asset-picker-amount__input",isFiatPreferred:T,onChange:y,hexValue:n,swapIcon:e=>a.default.createElement(f.default,{onClick:e}),onPreferenceToggle:(0,a.useCallback)((()=>v((0,s.toggleCurrencySwitch)())),[v]),asset:null==t?void 0:t.details,isSkeleton:h,isMatchingUpstream:x}),_=a.default.createElement(m.NFTInput,{integerValue:parseInt(n,16),onChange:y,className:"asset-picker-amount__input-nft"});switch(e){case c.AssetType.token:case c.AssetType.native:return C;case c.AssetType.NFT:return(null===(g=t.details)||void 0===g?void 0:g.standard)===c.TokenStandard.ERC721?null:_}return a.default.createElement(l.Box,{marginLeft:"auto"},a.default.createElement(l.Text,{variant:u.TextVariant.bodySm},k("tokenId")),a.default.createElement(l.Text,{variant:u.TextVariant.bodySm,fontWeight:u.FontWeight.Bold,marginLeft:10},null==t||null===(b=t.details)||void 0===b?void 0:b.tokenId))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../../hooks/useI18nContext"),i=e("../../../../ducks/send"),s=e("../../../../ducks/app/app"),c=e("../../../../../shared/constants/transaction"),l=e("../../../component-library"),u=e("../../../../helpers/constants/design-system"),d=h(e("../../../app/currency-input")),p=e("../utils"),m=e("../nft-input/nft-input"),f=h(e("./swap-icon"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/swappable-currency-input/swappable-currency-input.tsx"}],[5641,{reselect:4805},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsFiatPrimary=void 0;var a=e("reselect");n.getIsFiatPrimary=(0,a.createSelector)((e=>e.metamask.preferences),(e=>e.appState.sendInputCurrencySwitched),(({useNativeCurrencyAsPrimaryCurrency:e},t)=>Boolean(e&&t||!e&&!t)))}}},{package:"$root$",file:"ui/components/multichain/asset-picker-amount/utils.ts"}],[5642,{"../../../helpers/constants/design-system":5953,"../../../selectors":6639,"../../component-library":5534,"./avatar-group.types":5643,classnames:3599,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AvatarGroup=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("classnames"))&&a.__esModule?a:{default:a},i=e("react-redux"),s=e("../../../selectors"),c=e("../../component-library"),l=e("../../../helpers/constants/design-system"),u=e("./avatar-group.types");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.AvatarGroup=({className:e="",limit:t=4,members:n=[],size:a=c.AvatarTokenSize.Xs,avatarType:d=u.AvatarType.TOKEN,borderColor:p})=>{const m=n.length,f=n.slice(0,t).reverse(),h=m>t,y=(0,i.useSelector)(s.getUseBlockie);let g="";g=c.AvatarTokenSize.Xs?"-8px":c.AvatarTokenSize.Sm?"-12px":"-16px";const b=`+${(m-t).toLocaleString()}`;return o.createElement(c.Box,{alignItems:l.AlignItems.center,display:l.Display.Flex,className:(0,r.default)("multichain-avatar-group",e),"data-testid":"avatar-group",gap:1},o.createElement(c.Box,{display:l.Display.Flex},f.map(((e,t)=>o.createElement(c.Box,{borderRadius:l.BorderRadius.full,key:t,style:{marginLeft:0===t?"0":g}},d===u.AvatarType.TOKEN?o.createElement(c.AvatarToken,{src:e.avatarValue,name:e.symbol,size:a,borderColor:p}):o.createElement(c.AvatarAccount,{size:c.AvatarAccountSize.Xs,address:e.avatarValue,variant:y?c.AvatarAccountVariant.Blockies:c.AvatarAccountVariant.Jazzicon,borderColor:p}))))),h?o.createElement(c.Box,null,o.createElement(c.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},b)):null)}}}},{package:"$root$",file:"ui/components/multichain/avatar-group/avatar-group.tsx"}],[5643,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AvatarType=void 0;n.AvatarType=function(e){return e.TOKEN="TOKEN",e.ACCOUNT="ACCOUNT",e}({})}}},{package:"$root$",file:"ui/components/multichain/avatar-group/avatar-group.types.tsx"}],[5644,{"./avatar-group":5642},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AvatarGroup",{enumerable:!0,get:function(){return a.AvatarGroup}});var a=e("./avatar-group")}}},{package:"$root$",file:"ui/components/multichain/avatar-group/index.ts"}],[5645,{"../../../helpers/constants/design-system":5953,"../../../selectors":6639,"../../component-library":5534,"../../ui/tooltip":5903,classnames:3599,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BadgeStatus=void 0;var a=u(e("react")),o=u(e("classnames")),r=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),c=e("../../../selectors"),l=u(e("../../ui/tooltip"));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}n.BadgeStatus=({className:e="",badgeBackgroundColor:t=i.BackgroundColor.backgroundAlternative,badgeBorderColor:n=i.BorderColor.borderMuted,address:u,isConnectedAndNotActive:p=!1,text:m,...f})=>{const h=(0,r.useSelector)(c.getUseBlockie);return a.default.createElement(s.Box,d({className:(0,o.default)("multichain-badge-status",e),"data-testid":"multichain-badge-status",as:"button",display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,backgroundColor:i.BackgroundColor.transparent},f),a.default.createElement(l.default,{style:{display:"flex"},title:m,"data-testid":"multichain-badge-status__tooltip",position:"bottom"},a.default.createElement(s.BadgeWrapper,{positionObj:p?{bottom:2,right:5}:{bottom:-1,right:2},badge:a.default.createElement(s.Box,{className:(0,o.default)("multichain-badge-status__badge",{"multichain-badge-status__badge-not-connected":p}),backgroundColor:t,borderRadius:i.BorderRadius.full,borderColor:n,borderWidth:p?2:4})},a.default.createElement(s.AvatarAccount,{borderColor:i.BorderColor.transparent,size:s.AvatarAccountSize.Md,address:u,variant:h?s.AvatarAccountVariant.Blockies:s.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}))))}}}},{package:"$root$",file:"ui/components/multichain/badge-status/badge-status.tsx"}],[5646,{"./badge-status":5645},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BadgeStatus",{enumerable:!0,get:function(){return a.BadgeStatus}});var a=e("./badge-status")}}},{package:"$root$",file:"ui/components/multichain/badge-status/index.ts"}],[5647,{"..":5678,"../../../helpers/constants/design-system":5953,"../../../helpers/utils/util":6001,"../../../hooks/useI18nContext":6031,"../../../store/actions":6652,"../../component-library":5534,"../../ui/tooltip/tooltip":5904,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectAccountsModalList=void 0;var a=p(e("react")),o=e("react-redux"),r=e("../../component-library"),i=e("../../../hooks/useI18nContext"),s=e(".."),c=e("../../../helpers/constants/design-system"),l=p(e("../../ui/tooltip/tooltip")),u=e("../../../helpers/utils/util"),d=e("../../../store/actions");function p(e){return e&&e.__esModule?e:{default:e}}n.ConnectAccountsModalList=({onClose:e,allAreSelected:t,deselectAll:n,selectAll:p,handleAccountClick:m,selectedAccounts:f,accounts:h,checked:y,isIndeterminate:g,onAccountsUpdate:b,activeTabOrigin:v})=>{const k=(0,i.useI18nContext)(),T=(0,o.useDispatch)();return a.default.createElement(r.Modal,{isOpen:!0,onClose:e,"data-testid":"connect-more-accounts"},a.default.createElement(r.ModalOverlay,null),a.default.createElement(r.ModalContent,null,a.default.createElement(r.ModalHeader,{"data-testid":"connect-more-accounts-title",onClose:e},k("connectMoreAccounts")),a.default.createElement(r.ModalBody,null,a.default.createElement(r.Box,{padding:4,display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(r.Checkbox,{label:k("selectAll"),isChecked:y,onClick:()=>t()?n():p(),isIndeterminate:g}),a.default.createElement(r.Text,{color:c.TextColor.textAlternative,as:"div",display:c.Display.Flex},a.default.createElement(l.default,{distance:10,html:k("connectedAccountsListTooltip",[a.default.createElement("strong",null,(0,u.getURLHost)(v))]),position:"top"},a.default.createElement(r.Icon,{marginInlineEnd:2,name:r.IconName.Info,color:c.IconColor.iconMuted})),k("permissions"))),h.map((t=>{const n=f.includes(t.address);return a.default.createElement(s.AccountListItem,{onClick:()=>m(t.address),account:t,selected:n,key:t.address,closeMenu:e,startAccessory:a.default.createElement(r.Checkbox,{isChecked:n})})}))),a.default.createElement(r.ModalFooter,null,a.default.createElement(r.ButtonPrimary,{"data-testid":"connect-more-accounts-button",onClick:()=>{T((0,d.addMorePermittedAccounts)(v,f)),e(),b()},size:r.ButtonPrimarySize.Lg,block:!0,disabled:0===f.length},k("confirm")))))}}}},{package:"$root$",file:"ui/components/multichain/connect-accounts-modal/connect-accounts-modal-list.tsx"}],[5648,{"../../../selectors/selectors":6647,"./connect-accounts-modal-list":5647,"@metamask/keyring-api":1622,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectAccountsModal=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/keyring-api"),i=e("../../../selectors/selectors"),s=e("./connect-accounts-modal-list");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}n.ConnectAccountsModal=({onClose:e,onAccountsUpdate:t,activeTabOrigin:n})=>{const c=(0,o.useSelector)((e=>(0,i.getUnconnectedAccounts)(e,n).filter((e=>(0,r.isEvmAccountType)(e.type))))),[l,u]=(0,a.useState)([]),d=()=>c.length===l.length;let p=!1,m=!1;return d()?(p=!0,m=!1):l.length>0&&!d()&&(p=!1,m=!0),a.default.createElement(s.ConnectAccountsModalList,{accounts:c,selectedAccounts:l,allAreSelected:d,deselectAll:()=>{u([])},selectAll:()=>{const e=c.map((e=>e.address));u(e)},handleAccountClick:e=>{const t=l.indexOf(e);let n=[];n=-1===t?[...l,e]:l.filter(((e,n)=>n!==t)),u(n)},checked:p,isIndeterminate:m,onClose:e,onAccountsUpdate:t,activeTabOrigin:n})}}}},{package:"$root$",file:"ui/components/multichain/connect-accounts-modal/connect-accounts-modal.tsx"}],[5649,{"../../../helpers/constants/design-system":5953,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../../store/actions":6652,"../../component-library":5534,"../../ui/menu":5857,"../permission-details-modal/permission-details-modal":5768,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectedAccountsMenu=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../component-library"),i=e("../../ui/menu"),s=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),u=e("../../../selectors"),d=e("../permission-details-modal/permission-details-modal");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=i.MenuItem;n.ConnectedAccountsMenu=({isOpen:e,account:t,anchorElement:n,disableAccountSwitcher:i=!1,onClose:p,closeMenu:f,onActionClick:h,activeTabOrigin:y})=>{const g=(0,o.useDispatch)(),b=(0,c.useI18nContext)(),v=(0,a.useRef)(null),[k,T]=(0,a.useState)(!1),x=(0,o.useSelector)(u.getPermissionsForActiveTab),C=(0,a.useCallback)((e=>{null!=v&&v.current&&!v.current.contains(e.target)&&p()}),[p]);(0,a.useEffect)((()=>(document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)})),[C]);const _=(0,a.useCallback)((e=>{var t;"Tab"===e.key&&null!=v&&null!==(t=v.current)&&void 0!==t&&t.contains(e.target)&&p&&p()}),[p]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(r.Popover,{className:"multichain-connected-accounts-menu__popover",referenceElement:n,role:r.PopoverRole.Dialog,position:r.PopoverPosition.Bottom,offset:[0,0],padding:0,isOpen:e,flip:!0,preventOverflow:!0,isPortal:!0},a.default.createElement(r.ModalFocus,{restoreFocus:!0,initialFocusRef:{current:n}},a.default.createElement(r.Box,{onKeyDown:_,ref:v},null!=x&&x.length?a.default.createElement(m,{iconName:r.IconName.SecurityTick,"data-testid":"permission-details-menu-item",onClick:()=>{T(!0),p()}},a.default.createElement(r.Text,{variant:s.TextVariant.bodyMd},b("permissionDetails"))):null,i?null:a.default.createElement(m,{iconName:r.IconName.SwapHorizontal,"data-testid":"switch-account-menu-item",onClick:()=>{g((0,l.setSelectedAccount)(t.address)),p(),f()}},a.default.createElement(r.Text,{variant:s.TextVariant.bodyMd},b("switchToThisAccount"))),a.default.createElement(m,{iconName:r.IconName.Logout,iconColor:s.IconColor.errorDefault,"data-testid":"disconnect-menu-item",onClick:()=>{h(t.metadata.name),g((0,l.removePermittedAccount)(y,t.address))}},a.default.createElement(r.Text,{color:s.TextColor.errorDefault,variant:s.TextVariant.bodyMd},b("disconnect")))))),k?a.default.createElement(d.PermissionDetailsModal,{isOpen:k,account:t,onClick:()=>{g((0,l.removePermittedAccount)(y,t.address))},onClose:()=>T(!1),permissions:x}):null)}}}},{package:"$root$",file:"ui/components/multichain/connected-accounts-menu/connected-accounts-menu.tsx"}],[5650,{"./connected-accounts-menu":5649},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConnectedAccountsMenu",{enumerable:!0,get:function(){return a.ConnectedAccountsMenu}});var a=e("./connected-accounts-menu")}}},{package:"$root$",file:"ui/components/multichain/connected-accounts-menu/index.ts"}],[5651,{"../../../helpers/constants/connected-sites":5952,"../../../helpers/constants/design-system":5953,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../component-library":5534,"../../ui/tooltip":5903,classnames:3599,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectedSiteMenu=void 0;var a=m(e("react")),o=m(e("prop-types")),r=m(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/connected-sites"),c=e("../../../helpers/constants/design-system"),l=e("../../component-library"),u=e("../../../selectors"),d=m(e("../../ui/tooltip")),p=e("../../../hooks/useI18nContext");function m(e){return e&&e.__esModule?e:{default:e}}const f=({className:e,globalMenuColor:t,status:n,text:o,onClick:m,disabled:f})=>{const h=(0,p.useI18nContext)(),y=(0,i.useSelector)(u.getSelectedInternalAccount),g=(0,i.useSelector)(u.getSubjectMetadata)[(0,i.useSelector)(u.getOriginOfCurrentTab)],b=n===s.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT||n===s.STATUS_CONNECTED_TO_SNAP;return a.default.createElement(l.Box,{className:(0,r.default)("multichain-connected-site-menu"+(f?"--disabled":""),e),"data-testid":"connection-menu",as:"button",onClick:m,display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,backgroundColor:c.BackgroundColor.backgroundDefault},a.default.createElement(d.default,{title:n===s.STATUS_NOT_CONNECTED?h("statusNotConnectedAccount"):`${null==y?void 0:y.metadata.name} ${o}`,"data-testid":"multichain-connected-site-menu__tooltip",position:"bottom"},a.default.createElement(l.BadgeWrapper,{positionObj:b?{bottom:-1,right:-2,zIndex:1}:{bottom:-1,right:-4,zIndex:1},badge:a.default.createElement(l.Box,{backgroundColor:t,className:(0,r.default)("multichain-connected-site-menu__badge",{"not-connected":b}),borderRadius:c.BorderRadius.full,borderColor:b?c.BorderColor.successDefault:c.BackgroundColor.backgroundDefault,borderWidth:b?2:3})},null!=g&&g.iconUrl?a.default.createElement(l.AvatarFavicon,{name:g.name,size:c.Size.SM,src:g.iconUrl}):a.default.createElement(l.Icon,{name:l.IconName.Global,size:l.IconSize.Sm,color:c.IconColor.iconDefault}))))};n.ConnectedSiteMenu=f,f.propTypes={className:o.default.string,globalMenuColor:o.default.string.isRequired,status:o.default.string.isRequired,text:o.default.string,onClick:o.default.func,disabled:o.default.bool}}}},{package:"$root$",file:"ui/components/multichain/connected-site-menu/connected-site-menu.js"}],[5652,{"./connected-site-menu":5651},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConnectedSiteMenu",{enumerable:!0,get:function(){return a.ConnectedSiteMenu}});var a=e("./connected-site-menu")}}},{package:"$root$",file:"ui/components/multichain/connected-site-menu/index.js"}],[5653,{"../../../helpers/constants/connected-sites":5952,"../../../helpers/constants/design-system":5953,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../badge-status":5646,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectedStatus=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),i=e("../../../helpers/constants/design-system"),s=e("../../../selectors"),c=e("../../../helpers/constants/connected-sites"),l=e("../../../hooks/useI18nContext"),u=e("../badge-status");n.ConnectedStatus=({address:e="",isActive:t})=>{const n=(0,l.useI18nContext)(),a=(0,r.useSelector)((t=>(0,s.isAccountConnectedToCurrentTab)(t,e)));let d=c.STATUS_NOT_CONNECTED;t?d=c.STATUS_CONNECTED:a&&(d=c.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT);let p=i.BackgroundColor.backgroundDefault,m=i.Color.borderMuted,f=n("statusNotConnected");d===c.STATUS_CONNECTED?(p=i.BackgroundColor.backgroundDefault,m=i.BackgroundColor.successDefault,f=n("active")):d===c.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT&&(p=i.BorderColor.successDefault,m=i.BackgroundColor.backgroundDefault,f=n("tooltipSatusConnectedUpperCase"));const h=a&&!t;return o.default.createElement(u.BadgeStatus,{address:e,badgeBackgroundColor:m,badgeBorderColor:p,text:f,isConnectedAndNotActive:h})}}}},{package:"$root$",file:"ui/components/multichain/connected-status/connected-status.tsx"}],[5654,{"./connected-status":5653},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConnectedStatus",{enumerable:!0,get:function(){return a.ConnectedStatus}});var a=e("./connected-status")}}},{package:"$root$",file:"ui/components/multichain/connected-status/index.ts"}],[5655,{"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../ducks/history/history":5938,"../../../helpers/constants/design-system":5953,"../../../helpers/utils/accounts":5977,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../component-library":5534,"../../component-library/form-text-field/form-text-field":5523,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateAccount=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("../../component-library"),s=e("../../component-library/form-text-field/form-text-field"),c=e("../../../hooks/useI18nContext"),l=e("../../../helpers/utils/accounts"),u=e("../../../selectors"),d=e("../../../ducks/history/history"),p=e("../../../../shared/constants/metametrics"),m=e("../../../contexts/metametrics"),f=e("../../../helpers/constants/design-system");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.CreateAccount=a.default.memo(a.default.forwardRef((({getNextAvailableAccountName:e,onCreateAccount:t,onActionComplete:n},h)=>{const y=(0,c.useI18nContext)(),g=(0,r.useHistory)(),b=(0,a.useContext)(m.MetaMetricsContext),v=(0,o.useSelector)(d.getMostRecentOverviewPage),k=(0,o.useSelector)(u.getMetaMaskAccountsOrdered),[T,x]=(0,a.useState)("");(0,a.useEffect)((()=>{e(k).then(x)}),[]);const[C,_]=(0,a.useState)(""),w=C.trim(),{isValidAccountName:E,errorMessage:M}=(0,l.getAccountNameErrorMessage)(k,{t:y},w||T,T),N=(0,a.useCallback)((async e=>{e.preventDefault();try{await t(w||T),b({category:p.MetaMetricsEventCategory.Accounts,event:p.MetaMetricsEventName.AccountAdded,properties:{account_type:p.MetaMetricsEventAccountType.Default,location:"Home"}}),g.push(v)}catch(e){b({category:p.MetaMetricsEventCategory.Accounts,event:p.MetaMetricsEventName.AccountAddFailed,properties:{account_type:p.MetaMetricsEventAccountType.Default,error:e.message}})}}),[w,T,v]);return a.default.createElement(i.Box,{as:"form",onSubmit:N},a.default.createElement(s.FormTextField,{ref:h,size:i.FormTextFieldSize.Lg,gap:2,autoFocus:!0,id:"account-name",label:y("accountName"),placeholder:T,onChange:e=>_(e.target.value),helpText:M,error:!E,onKeyPress:e=>{"Enter"===e.key&&N(e)}}),a.default.createElement(i.Box,{display:f.Display.Flex,marginTop:1,gap:2},a.default.createElement(i.ButtonSecondary,{"data-testid":"cancel-add-account-with-name",type:"button",onClick:async()=>await n(!1),block:!0},y("cancel")),a.default.createElement(i.ButtonPrimary,{"data-testid":"submit-add-account-with-name",type:"submit",disabled:!E,block:!0},y("addAccount"))))})))}}},{package:"$root$",file:"ui/components/multichain/create-account/create-account.tsx"}],[5656,{"./create-account":5655},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateAccount",{enumerable:!0,get:function(){return a.CreateAccount}});var a=e("./create-account")}}},{package:"$root$",file:"ui/components/multichain/create-account/index.js"}],[5657,{"..":5678,"../../../store/actions":6652,"@metamask/keyring-controller":1675,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateEthAccount=void 0;var a=l(e("react")),o=l(e("prop-types")),r=e("react-redux"),i=e("@metamask/keyring-controller"),s=e("../../../store/actions"),c=e("..");function l(e){return e&&e.__esModule?e:{default:e}}const u=({onActionComplete:e})=>{const t=(0,r.useDispatch)();return a.default.createElement(c.CreateAccount,{onActionComplete:e,onCreateAccount:async n=>{const a=await t((0,s.addNewAccount)());n&&t((0,s.setAccountLabel)(a,n)),e(!0)},getNextAvailableAccountName:async()=>await(0,s.getNextAvailableAccountName)(i.KeyringTypes.hd)})};n.CreateEthAccount=u,u.propTypes={onActionComplete:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/create-eth-account/create-eth-account.js"}],[5658,{"./create-eth-account":5657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateEthAccount",{enumerable:!0,get:function(){return a.CreateEthAccount}});var a=e("./create-eth-account")}}},{package:"$root$",file:"ui/components/multichain/create-eth-account/index.js"}],[5659,{"..":5678,"../../../ducks/history/history":5938,"../../../hooks/useI18nContext":6031,"../../../store/actions":6652,"../../component-library":5534,"@metamask/keyring-controller":1675,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateNamedSnapAccount=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("@metamask/keyring-controller"),s=e(".."),c=e("../../component-library"),l=e("../../../hooks/useI18nContext"),u=e("../../../ducks/history/history"),d=e("../../../store/actions");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.CreateNamedSnapAccount=({onActionComplete:e,snapSuggestedAccountName:t})=>{const n=(0,l.useI18nContext)(),p=(0,r.useHistory)(),m=(0,o.useSelector)(u.getMostRecentOverviewPage),f=(0,a.useCallback)((async t=>{await e({success:t})}),[]),h=(0,a.useCallback)((async t=>{await e({success:!0,name:t})}),[]),y=(0,a.useCallback)((async e=>{if(t){let n=1,a=t;const o=t=>e.some((e=>e.metadata.name===t));for(;o(a);)n+=1,a=`${t} ${n}`;return a}return(0,d.getNextAvailableAccountName)(i.KeyringTypes.snap)}),[]),g=(0,a.useCallback)((async()=>{await e({success:!1}),p.push(m)}),[]);return a.default.createElement(c.Box,{padding:4},a.default.createElement(c.ModalHeader,{padding:4,onClose:g},n("addAccountToMetaMask")),a.default.createElement(s.CreateAccount,{onActionComplete:f,onCreateAccount:h,getNextAvailableAccountName:y}))}}}},{package:"$root$",file:"ui/components/multichain/create-named-snap-account/create-named-snap-account.tsx"}],[5660,{"./create-named-snap-account":5659},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"CreateNamedSnapAccount",{enumerable:!0,get:function(){return a.CreateNamedSnapAccount}});var a=e("./create-named-snap-account")}}},{package:"$root$",file:"ui/components/multichain/create-named-snap-account/index.js"}],[5661,{"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../component-library":5534,classnames:3599,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DetectedTokensBanner=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=p(e("prop-types")),i=p(e("classnames")),s=e("../../../hooks/useI18nContext"),c=e("../../../selectors"),l=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/metametrics"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}const h=({className:e,actionButtonOnClick:t,...n})=>{const r=(0,s.useI18nContext)(),p=(0,a.useContext)(l.MetaMetricsContext),m=(0,o.useSelector)(c.getDetectedTokensInCurrentNetwork),h=m.map((({address:e,symbol:t})=>`${t} - ${e}`)),y=(0,o.useSelector)(c.getCurrentChainId);return a.default.createElement(d.BannerAlert,f({className:(0,i.default)("multichain-detected-token-banner",e),actionButtonLabel:r("importTokensCamelCase"),actionButtonOnClick:()=>{t(),p({event:u.MetaMetricsEventName.TokenImportClicked,category:u.MetaMetricsEventCategory.Wallet,properties:{source_connection_method:u.MetaMetricsTokenEventSource.Detected,tokens:h,chain_id:y}})},"data-testid":"detected-token-banner"},n),1===m.length?r("numberOfNewTokensDetectedSingular"):r("numberOfNewTokensDetectedPlural",[m.length]))};n.DetectedTokensBanner=h,h.propTypes={actionButtonOnClick:r.default.func.isRequired,className:r.default.string}}}},{package:"$root$",file:"ui/components/multichain/detected-token-banner/detected-token-banner.js"}],[5662,{"./detected-token-banner":5661},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DetectedTokensBanner",{enumerable:!0,get:function(){return a.DetectedTokensBanner}});var a=e("./detected-token-banner")}}},{package:"$root$",file:"ui/components/multichain/detected-token-banner/index.js"}],[5663,{"../../../hooks/useI18nContext":6031,"../../component-library":5534,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DisconnectType=n.DisconnectAllModal=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../component-library"),i=e("../../../hooks/useI18nContext");n.DisconnectType=function(e){return e.Account="disconnectAllAccountsText",e.Snap="disconnectAllSnapsText",e}({});n.DisconnectAllModal=({type:e,hostname:t,onClick:n,onClose:a})=>{const s=(0,i.useI18nContext)();return o.default.createElement(r.Modal,{isOpen:!0,onClose:a,"data-testid":"disconnect-all-modal"},o.default.createElement(r.ModalOverlay,null),o.default.createElement(r.ModalContent,null,o.default.createElement(r.ModalHeader,{onClose:a},s("disconnectAllTitle",[s(e)])),o.default.createElement(r.ModalBody,null,o.default.createElement(r.Text,null,s("disconnectAllText",[s(e),t]))),o.default.createElement(r.ModalFooter,null,o.default.createElement(r.Button,{onClick:n,startIconName:r.IconName.Logout,block:!0,danger:!0,"data-testid":"disconnect-all"},s("disconnect")))))}}}},{package:"$root$",file:"ui/components/multichain/disconnect-all-modal/disconnect-all-modal.tsx"}],[5664,{"..":5678,"../../../../app/scripts/lib/util":128,"../../../../shared/constants/app":5031,"../../../../shared/constants/metametrics":5043,"../../../../shared/lib/ui-utils":5075,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../hooks/metamask-notifications/useCounter":6005,"../../../hooks/useI18nContext":6031,"../../../pages/notifications/NewFeatureTag":6415,"../../../selectors":6639,"../../../selectors/metamask-notifications/metamask-notifications":6641,"../../../selectors/metamask-notifications/profile-syncing":6642,"../../../store/actions":6652,"../../component-library":5534,"../../ui/menu":5857,"../notifications-tag-counter":5732,"prop-types":4529,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalMenu=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("react-router-dom"),s=e("react-redux"),c=e("../../../hooks/metamask-notifications/useCounter"),l=e("../notifications-tag-counter"),u=e("../../../pages/notifications/NewFeatureTag"),d=e("../../../helpers/constants/routes"),p=e("../../../store/actions"),m=e("../../../hooks/useI18nContext"),f=e("../../../selectors/metamask-notifications/metamask-notifications"),h=e("../../../selectors/metamask-notifications/profile-syncing"),y=e("../../component-library"),g=e("../../ui/menu"),b=e("../../../../app/scripts/lib/util"),v=e("../../../../shared/constants/app"),k=e("../../../../shared/lib/ui-utils"),T=e("../../../contexts/metametrics"),x=e("../../../../shared/constants/metametrics"),C=e("../../../selectors"),_=e("../../../helpers/constants/design-system"),w=e("..");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const M="Global Menu",N=({closeMenu:e,anchorElement:t,isOpen:n})=>{const a=(0,m.useI18nContext)(),r=(0,s.useDispatch)(),E=(0,o.useContext)(T.MetaMetricsContext),N=(0,s.useSelector)(C.getUseExternalServices),O=(0,i.useHistory)(),{notificationsUnreadCount:A}=(0,c.useUnreadNotificationsCounter)(),{notificationsReadCount:S}=(0,c.useReadNotificationsCounter)(),I=(0,s.useSelector)(C.getSelectedInternalAccount),P=(0,s.useSelector)(C.getUnapprovedTransactions),j=(0,s.useSelector)(f.selectIsMetamaskNotificationsFeatureSeen),D=(0,s.useSelector)(f.selectIsMetamaskNotificationsEnabled),B=(0,s.useSelector)(h.selectIsProfileSyncingEnabled),R=Object.keys(P).length>0;let F=!1;const L=(0,s.useSelector)(C.getAnySnapUpdateAvailable);F=(0,s.useSelector)(C.getNotifySnaps).length>0;let $=a("support"),W=k.SUPPORT_LINK;const z=o.default.useRef(null);o.default.useEffect((()=>{const t=z.current,n=t=>{"Tab"!==t.key||t.shiftKey||(t.preventDefault(),e())};return t&&t.addEventListener("keydown",n),()=>{t&&t.removeEventListener("keydown",n)}}),[e]);return o.default.createElement(y.Popover,{"data-testid":"global-menu",referenceElement:t,isOpen:n,padding:0,onClickOutside:e,onPressEscKey:e,style:{overflow:"hidden",minWidth:225},borderStyle:_.BorderStyle.none,position:y.PopoverPosition.BottomEnd},N&&o.default.createElement(o.default.Fragment,null,o.default.createElement(g.MenuItem,{iconName:y.IconName.Notification,onClick:()=>(()=>{if(!F&&!D)return E({event:x.MetaMetricsEventName.NotificationsActivated,properties:{action_type:"started",is_profile_syncing_enabled:B}}),r((0,p.showConfirmTurnOnMetamaskNotifications)()),void e();E({category:x.MetaMetricsEventCategory.NotificationInteraction,event:x.MetaMetricsEventName.NotificationsMenuOpened,properties:{unread_count:A,read_count:S}}),O.push(d.NOTIFICATIONS_ROUTE),e()})()},o.default.createElement(y.Box,{display:_.Display.Flex,flexDirection:_.FlexDirection.Row,alignItems:_.AlignItems.center,justifyContent:_.JustifyContent.spaceBetween},a("notifications"),0===A&&!j&&o.default.createElement(u.NewFeatureTag,null),o.default.createElement(l.NotificationsTagCounter,null))),o.default.createElement(y.Box,{borderColor:_.BorderColor.borderMuted,width:_.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}})),I&&o.default.createElement(o.default.Fragment,null,o.default.createElement(w.AccountDetailsMenuItem,{metricsLocation:M,closeMenu:e,address:I.address}),o.default.createElement(w.ViewExplorerMenuItem,{metricsLocation:M,closeMenu:e,account:I})),o.default.createElement(y.Box,{borderColor:_.BorderColor.borderMuted,width:_.BlockSize.Full,style:{height:"1px",borderBottomWidth:0}}),o.default.createElement(g.MenuItem,{iconName:y.IconName.SecurityTick,onClick:()=>{O.push(d.PERMISSIONS),E({event:x.MetaMetricsEventName.NavPermissionsOpened,category:x.MetaMetricsEventCategory.Navigation,properties:{location:M}}),e()},"data-testid":"global-menu-connected-sites",disabled:R},a("allPermissions")),(0,b.getEnvironmentType)()===v.ENVIRONMENT_TYPE_FULLSCREEN?null:o.default.createElement(g.MenuItem,{iconName:y.IconName.Expand,onClick:()=>{global.platform.openExtensionInBrowser(),E({event:x.MetaMetricsEventName.AppWindowExpanded,category:x.MetaMetricsEventCategory.Navigation,properties:{location:M}}),e()},"data-testid":"global-menu-expand"},a("expandView")),o.default.createElement(g.MenuItem,{iconName:y.IconName.Snaps,onClick:()=>{O.push(d.SNAPS_ROUTE),e()},showInfoDot:L},a("snaps")),o.default.createElement(g.MenuItem,{iconName:y.IconName.MessageQuestion,onClick:()=>{global.platform.openTab({url:W}),E({category:x.MetaMetricsEventCategory.Home,event:x.MetaMetricsEventName.SupportLinkClicked,properties:{url:W,location:M}},{contextPropsIntoEventProperties:[x.MetaMetricsContextProp.PageTitle]}),e()},"data-testid":"global-menu-support"},$),o.default.createElement(g.MenuItem,{iconName:y.IconName.Setting,disabled:R,onClick:()=>{O.push(d.SETTINGS_ROUTE),E({category:x.MetaMetricsEventCategory.Navigation,event:x.MetaMetricsEventName.NavSettingsOpened,properties:{location:M}}),e()},"data-testid":"global-menu-settings"},a("settings")),o.default.createElement(g.MenuItem,{ref:z,iconName:y.IconName.Lock,onClick:()=>{r((0,p.lockMetamask)()),O.push(d.DEFAULT_ROUTE),E({category:x.MetaMetricsEventCategory.Navigation,event:x.MetaMetricsEventName.AppLocked,properties:{location:M}}),e()},"data-testid":"global-menu-lock"},a("lockMetaMask")))};n.GlobalMenu=N,N.propTypes={anchorElement:r.default.instanceOf(window.Element),closeMenu:r.default.func.isRequired,isOpen:r.default.bool.isRequired}}}},{package:"$root$",file:"ui/components/multichain/global-menu/global-menu.js"}],[5665,{"./global-menu":5664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"GlobalMenu",{enumerable:!0,get:function(){return a.GlobalMenu}});var a=e("./global-menu")}}},{package:"$root$",file:"ui/components/multichain/global-menu/index.js"}],[5666,{"../../../helpers/constants/design-system":5953,"../../../hooks/useI18nContext":6031,"../../../store/actions":6652,"../../component-library":5534,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=d(e("prop-types")),o=d(e("react")),r=e("react-redux"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),c=e("../../../hooks/useI18nContext"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("../../../store/actions"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p({importAccountFunc:e,isPrimaryDisabled:t,onActionComplete:n}){const a=(0,c.useI18nContext)(),u=(0,r.useDispatch)();return o.default.createElement(i.Box,{display:s.Display.Flex,gap:4},o.default.createElement(i.ButtonSecondary,{onClick:()=>{u(l.hideWarning()),n()},size:i.ButtonSecondarySize.Lg,block:!0},a("cancel")),o.default.createElement(i.ButtonPrimary,{onClick:async()=>{try{await e()&&n(!0)}catch(e){}},disabled:t,size:i.ButtonSecondarySize.Lg,"data-testid":"import-account-confirm-button",block:!0},a("import")))}p.propTypes={importAccountFunc:a.default.func.isRequired,isPrimaryDisabled:a.default.bool.isRequired,onActionComplete:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/bottom-buttons.js"}],[5667,{"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/zendesk-url":5966,"../../../hooks/useI18nContext":6031,"../../../store/actions":6652,"../../component-library":5534,"../../ui/dropdown":5813,"./json":5669,"./private-key":5670,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportAccount=void 0;var a=b(e("react")),o=y(e("prop-types")),r=e("react-redux"),i=e("../../../../shared/constants/metametrics"),s=e("../../component-library"),c=y(e("../../ui/dropdown")),l=e("../../../contexts/metametrics"),u=e("../../../helpers/constants/design-system"),d=y(e("../../../helpers/constants/zendesk-url")),p=e("../../../hooks/useI18nContext"),m=b(e("../../../store/actions")),f=y(e("./json")),h=y(e("./private-key"));function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}const v=({onActionComplete:e})=>{const t=(0,p.useI18nContext)(),n=(0,r.useDispatch)(),o=(0,a.useContext)(l.MetaMetricsContext),y=[t("privateKey"),t("jsonFile")],[g,b]=(0,a.useState)(y[0]);async function v(o,r){const i=function(e){if("json"===e)return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Text,{width:u.BlockSize.ThreeFourths,fontWeight:u.FontWeight.Bold},t("importAccountJsonLoading1")),a.default.createElement(s.Text,{width:u.BlockSize.ThreeFourths,fontWeight:u.FontWeight.Bold},t("importAccountJsonLoading2")));return""}(o);try{const{selectedAddress:a}=await n(m.importNewAccount(o,r,i));if(!a)return n(m.displayWarning(t("importAccountError"))),!1;k(o,!0),n(m.hideWarning()),e(!0)}catch(e){return k(o,e.message),(c=e.message)&&!c.startsWith("t(")?n(m.displayWarning(c)):n(m.displayWarning(t(c.slice(3,-2)))),!1}var c;return!0}function k(e,t){const n="Private Key"===e?i.MetaMetricsEventAccountImportType.PrivateKey:i.MetaMetricsEventAccountImportType.Json,a=t?i.MetaMetricsEventName.AccountAdded:i.MetaMetricsEventName.AccountAddFailed;o({category:i.MetaMetricsEventCategory.Accounts,event:a,properties:{account_type:i.MetaMetricsEventAccountType.Imported,account_import_type:n}})}return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Text,{variant:u.TextVariant.bodySm,marginTop:2},t("importAccountMsg")," ",a.default.createElement(s.ButtonLink,{size:u.Size.inherit,href:d.default.IMPORTED_ACCOUNTS,target:"_blank",rel:"noopener noreferrer"},t("here"))),a.default.createElement(s.Box,{paddingTop:4,paddingBottom:8},a.default.createElement(s.Label,{width:u.BlockSize.Full,marginBottom:4,justifyContent:u.JustifyContent.spaceBetween},t("selectType"),a.default.createElement(c.default,{options:y.map((e=>({value:e}))),selectedOption:g,onChange:e=>{n(m.hideWarning()),b(e)}})),g===y[0]?a.default.createElement(h.default,{importAccountFunc:v,onActionComplete:e}):a.default.createElement(f.default,{importAccountFunc:v,onActionComplete:e})))};n.ImportAccount=v,v.propTypes={onActionComplete:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/import-account.js"}],[5668,{"./import-account":5667},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImportAccount",{enumerable:!0,get:function(){return a.ImportAccount}});var a=e("./import-account")}}},{package:"$root$",file:"ui/components/multichain/import-account/index.js"}],[5669,{"../../../helpers/constants/design-system":5953,"../../../helpers/constants/zendesk-url":5966,"../../../hooks/useI18nContext":6031,"../../../store/actions":6652,"../../component-library":5534,"../../component-library/form-text-field/deprecated":5522,"./bottom-buttons":5666,"prop-types":4529,react:4779,"react-redux":4735,"react-simple-file-input":4774},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=h(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=h(e("react-simple-file-input")),s=e("../../component-library"),c=e("../../../helpers/constants/design-system"),l=e("../../component-library/form-text-field/deprecated"),u=h(e("../../../helpers/constants/zendesk-url")),d=e("../../../hooks/useI18nContext"),p=e("../../../store/actions"),m=h(e("./bottom-buttons"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function y({importAccountFunc:e,onActionComplete:t}){const n=(0,d.useI18nContext)(),a=(0,r.useSelector)((e=>e.appState.warning)),[f,h]=(0,o.useState)(""),[y,g]=(0,o.useState)(""),b=""===y;function v(){b?(0,p.displayWarning)(n("needImportFile")):e("json",[y,f])}return o.default.createElement(o.default.Fragment,null,o.default.createElement(s.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center},n("usedByClients"),o.default.createElement(s.ButtonLink,{size:c.Size.inherit,href:u.default.IMPORTED_ACCOUNTS,target:"_blank",rel:"noopener noreferrer"},n("fileImportFail"))),o.default.createElement(i.default,{id:"file-input","data-testid":"file-input",readAs:"text",onLoad:e=>g(e.target.result),style:{padding:"20px 0px 12px 15%",fontSize:"16px",display:"flex",justifyContent:"center",width:"100%"}}),o.default.createElement(l.FormTextField,{id:"json-password-box",size:s.TextFieldSize.Lg,autoFocus:!0,type:s.TextFieldType.Password,helpText:a,error:!0,placeholder:n("enterOptionalPassword"),value:f,onChange:e=>{h(e.target.value)},inputProps:{onKeyPress:function(e){b||"Enter"!==e.key||(e.preventDefault(),v())}},marginBottom:4}),o.default.createElement(m.default,{importAccountFunc:v,isPrimaryDisabled:b,onActionComplete:t}))}y.propTypes={importAccountFunc:a.default.func.isRequired,onActionComplete:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/json.js"}],[5670,{"../../../hooks/useI18nContext":6031,"../../component-library":5534,"../../ui/show-hide-toggle":5883,"./bottom-buttons":5666,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=d(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),c=d(e("../../ui/show-hide-toggle")),l=d(e("./bottom-buttons"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p({importAccountFunc:e,onActionComplete:t}){const n=(0,s.useI18nContext)(),[a,u]=(0,o.useState)(""),[d,p]=(0,o.useState)(!1),m=(0,r.useSelector)((e=>e.appState.warning));function f(){e("privateKey",[a])}return o.default.createElement(o.default.Fragment,null,o.default.createElement(i.FormTextField,{id:"private-key-box",size:i.TextFieldSize.Lg,autoFocus:!0,helpText:m,error:!0,label:n("pastePrivateKey"),value:a,onChange:e=>u(e.target.value),inputProps:{onKeyPress:function(e){""!==a&&"Enter"===e.key&&(e.preventDefault(),f())}},marginBottom:4,type:d?i.TextFieldType.Text:i.TextFieldType.Password,textFieldProps:{endAccessory:o.default.createElement(c.default,{shown:d,id:"show-hide-private-key",title:n("privateKeyShow"),ariaLabelShown:n("privateKeyShown"),ariaLabelHidden:n("privateKeyHidden"),onChange:()=>p(!d)})}}),o.default.createElement(l.default,{importAccountFunc:f,isPrimaryDisabled:""===a,onActionComplete:t}))}p.propTypes={importAccountFunc:a.default.func.isRequired,onActionComplete:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-account/private-key.js"}],[5671,{"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/transaction":5061,"../../../contexts/metametrics":5920,"../../../ducks/metamask/metamask":5941,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../helpers/utils/util":6001,"../../../hooks/useI18nContext":6031,"../../../hooks/useNftsCollections":6038,"../../../selectors":6639,"../../../store/actions":6652,"../../app/assets/nfts/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts":5144,"../../component-library":5534,"../../component-library/form-text-field/deprecated":5522,"../../component-library/modal-content/deprecated":5542,"../../component-library/modal-header/deprecated":5551,"../../ui/tooltip":5903,"@metamask/controller-utils":1250,"prop-types":4529,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportNftsModal=void 0;var a=e("@metamask/controller-utils"),o=E(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("react-router-dom"),c=e("../../../../shared/constants/metametrics"),l=e("../../../../shared/constants/transaction"),u=e("../../../contexts/metametrics"),d=e("../../../ducks/metamask/metamask"),p=e("../../../helpers/constants/design-system"),m=e("../../../helpers/constants/routes"),f=e("../../../hooks/useI18nContext"),h=e("../../../selectors"),y=e("../../../store/actions"),g=E(e("../../app/assets/nfts/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts")),b=e("../../component-library"),v=e("../../component-library/form-text-field/deprecated"),k=e("../../component-library/modal-content/deprecated"),T=e("../../component-library/modal-header/deprecated"),x=E(e("../../ui/tooltip")),C=e("../../../hooks/useNftsCollections"),_=e("../../../helpers/utils/util");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function E(e){return e&&e.__esModule?e:{default:e}}const M=({onClose:e})=>{const t=(0,f.useI18nContext)(),n=(0,s.useHistory)(),o=(0,i.useDispatch)(),w=(0,i.useSelector)(h.getOpenSeaEnabled),E=(0,i.useSelector)(h.getIsMainnet),M=(0,i.useSelector)(d.getNftsDropdownState),N=(0,i.useSelector)(h.getSelectedInternalAccount),O=(0,i.useSelector)(h.getCurrentChainId),{tokenAddress:A,tokenId:S,ignoreErc20Token:I}=(0,i.useSelector)((e=>e.appState.importNftsModal)),P=(0,C.useNftsCollections)(),[j,D]=(0,r.useState)(A??""),[B,R]=(0,r.useState)(S??""),[F,L]=(0,r.useState)(!0),[$,W]=(0,r.useState)(!1),z=(0,r.useContext)(u.MetaMetricsContext),[U,V]=(0,r.useState)(null),[H,G]=(0,r.useState)(null);return r.default.createElement(b.Modal,{isOpen:!0,onClose:()=>{e()},className:"import-nfts-modal"},r.default.createElement(b.ModalOverlay,null),r.default.createElement(k.ModalContent,null,r.default.createElement(T.ModalHeader,{onClose:()=>{e()}},t("importNFT")),r.default.createElement(b.Box,null,E&&!w?r.default.createElement(b.Box,{marginTop:6},r.default.createElement(g.default,{onActionButtonClick:e})):null,$&&r.default.createElement(b.Box,{marginTop:6},r.default.createElement(b.BannerAlert,{severity:p.Severity.Danger,onClose:()=>W(!1),closeButtonProps:{"data-testid":"add-nft-error-close"}},t("nftAddFailedMessage"))),r.default.createElement(b.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column,gap:6,marginTop:6,marginBottom:6},r.default.createElement(b.Box,null,r.default.createElement(b.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.spaceBetween,alignItems:p.AlignItems.flexEnd},r.default.createElement(b.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center},r.default.createElement(b.Label,{htmlFor:"address"},t("address")),r.default.createElement(x.default,{title:t("importNFTAddressToolTip"),position:"bottom"},r.default.createElement(b.Icon,{name:b.IconName.Info,size:b.IconSize.Sm,marginLeft:1,color:p.IconColor.iconAlternative})))),r.default.createElement(v.FormTextField,{autoFocus:!0,dataTestId:"address",id:"address",placeholder:"0x...",value:j,onChange:e=>{var n;n=e.target.value,V(null),n&&!(0,a.isValidHexAddress)(n)&&V(t("invalidAddress")),L(!(0,a.isValidHexAddress)(n)||!B),D(n),W(!1)},helpText:U,error:Boolean(U)})),r.default.createElement(b.Box,null,r.default.createElement(b.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.spaceBetween,alignItems:p.AlignItems.flexEnd},r.default.createElement(b.Box,{display:p.Display.Flex,alignItems:p.AlignItems.center},r.default.createElement(b.Label,{htmlFor:"token-id"},t("tokenId")),r.default.createElement(x.default,{title:t("importNFTTokenIdToolTip"),position:"bottom"},r.default.createElement(b.Icon,{name:b.IconName.Info,size:b.IconSize.Sm,marginLeft:1,color:p.IconColor.iconAlternative})))),r.default.createElement(v.FormTextField,{dataTestId:"token-id",id:"token-id",placeholder:t("nftTokenIdPlaceholder"),value:B,onChange:e=>{(e=>{G(null);const n=(0,_.checkTokenIdExists)(j,e,P.collections);n&&G(t("nftAlreadyAdded")),L(!(0,a.isValidHexAddress)(j)||!e||isNaN(Number(e))||n),R(e)})(e.target.value),W(!1)},helpText:H,error:H})))),r.default.createElement(b.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Row,justifyContent:p.JustifyContent.spaceBetween,gap:4,paddingTop:4,paddingBottom:4},r.default.createElement(b.ButtonSecondary,{size:b.ButtonSecondarySize.Lg,onClick:()=>e(),block:!0,className:"import-nfts-modal__cancel-button"},t("cancel")),r.default.createElement(b.ButtonPrimary,{size:p.Size.LG,onClick:()=>(async()=>{try{var t;await o((0,y.addNftVerifyOwnership)(j,B));const e={...M,[N.address]:{...null==M?void 0:M[N.address],[O]:{...null==M||null===(t=M[N.address])||void 0===t?void 0:t[O],[j]:!0}}};o((0,y.updateNftDropDownState)(e))}catch(e){const{message:t}=e;return o((0,y.setNewNftAddedMessage)(t)),void W(!0)}I&&j&&await o((0,y.ignoreTokens)({tokensToIgnore:j,dontShowLoadingIndicator:!0})),o((0,y.setNewNftAddedMessage)("success"));const a=await(0,y.getTokenStandardAndDetails)(j,null,B.toString());z({event:c.MetaMetricsEventName.TokenAdded,category:"Wallet",sensitiveProperties:{token_contract_address:j,token_symbol:null==a?void 0:a.symbol,tokenId:B.toString(),asset_type:l.AssetType.NFT,token_standard:null==a?void 0:a.standard,source_connection_method:c.MetaMetricsTokenEventSource.Custom}}),n.push(m.DEFAULT_ROUTE),e()})(),disabled:F,block:!0,"data-testid":"import-nfts-modal-import-button"},t("import")))))};n.ImportNftsModal=M,M.propTypes={onClose:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-nfts-modal/import-nfts-modal.js"}],[5672,{"./import-nfts-modal":5671},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImportNftsModal",{enumerable:!0,get:function(){return a.ImportNftsModal}});var a=e("./import-nfts-modal")}}},{package:"$root$",file:"ui/components/multichain/import-nfts-modal/index.js"}],[5673,{"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../../store/actions":6652,"../../component-library":5534,classnames:3599,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportTokenLink=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=(a=e("classnames"))&&a.__esModule?a:{default:a},s=e("../../component-library"),c=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../selectors");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(this,arguments)}n.ImportTokenLink=({className:e="",...t})=>{const n=(0,o.useContext)(d.MetaMetricsContext),a=(0,l.useI18nContext)(),f=(0,r.useDispatch)(),y=(0,r.useSelector)(m.getIsTokenDetectionSupported),g=(0,r.useSelector)(m.getIsTokenDetectionInactiveOnMainnet),b=y||g||Boolean(!1);return o.default.createElement(s.Box,h({className:(0,i.default)("multichain-import-token-link",e)},t),o.default.createElement(s.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center},o.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Md,"data-testid":"import-token-button",startIconName:s.IconName.Add,onClick:()=>{f((0,u.showImportTokensModal)()),n({category:p.MetaMetricsEventCategory.Navigation,event:p.MetaMetricsEventName.TokenImportButtonClicked,properties:{location:"HOME"}})}},b?a("importTokensCamelCase"):a("importTokensCamelCase").charAt(0).toUpperCase()+a("importTokensCamelCase").slice(1))),o.default.createElement(s.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,paddingTop:2},o.default.createElement(s.ButtonLink,{size:s.ButtonLinkSize.Md,startIconName:s.IconName.Refresh,"data-testid":"refresh-list-button",onClick:()=>f((0,u.detectTokens)())},a("refreshList"))))}}}},{package:"$root$",file:"ui/components/multichain/import-token-link/import-token-link.tsx"}],[5674,{"./import-token-link":5673},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImportTokenLink",{enumerable:!0,get:function(){return a.ImportTokenLink}});var a=e("./import-token-link")}}},{package:"$root$",file:"ui/components/multichain/import-token-link/index.ts"}],[5675,{"../../../contexts/i18n":5917,"../../../ducks/metamask/metamask":5941,"../../../helpers/constants/design-system":5953,"../../../selectors":6639,"../../component-library":5534,"../../ui/token-balance/token-balance":5902,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportTokensModalConfirm=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),i=e("../../../selectors"),s=e("../../component-library"),c=e("../../../helpers/constants/design-system"),l=e("../../../ducks/metamask/metamask"),u=(a=e("../../ui/token-balance/token-balance"))&&a.__esModule?a:{default:a},d=e("../../../contexts/i18n");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.ImportTokensModalConfirm=()=>{const e=(0,o.useContext)(d.I18nContext),t=(0,r.useSelector)(i.getCurrentNetwork),n=(0,r.useSelector)(i.getTestNetworkBackgroundColor),a=(0,r.useSelector)(l.getPendingTokens),p=(0,r.useSelector)(i.getTokenList);return o.default.createElement(s.Box,{paddingTop:6},o.default.createElement(s.Text,{textAlign:c.TextAlign.Center},1===Object.keys(a).length?e("likeToImportToken"):e("likeToImportTokens")),o.default.createElement(s.Box,{paddingTop:6},o.default.createElement(s.Box,{flexDirection:c.FlexDirection.Column,className:"import-tokens-modal__confirmation-list"},Object.entries(a).map((([e,a])=>{var r,i;const{name:l,symbol:d,iconUrl:m}=a,f=m||(null===(r=p[e.toLowerCase()])||void 0===r?void 0:r.iconUrl);return o.default.createElement(s.Box,{key:e,padding:4,display:c.Display.Flex},o.default.createElement(s.Box,{display:c.Display.Flex,className:"import-tokens-modal__confirm-token-list-item-wrapper"},o.default.createElement(s.BadgeWrapper,{badge:o.default.createElement(s.AvatarNetwork,{size:s.AvatarNetworkSize.Xs,name:null==t?void 0:t.nickname,src:null==t||null===(i=t.rpcPrefs)||void 0===i?void 0:i.imageUrl,backgroundColor:n}),marginRight:4,marginTop:1},o.default.createElement(s.AvatarToken,{name:d,src:f})),o.default.createElement(s.Box,null,o.default.createElement(s.Text,{fontWeight:c.FontWeight.Medium,variant:c.TextVariant.bodyMd},l||d),o.default.createElement(s.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative},o.default.createElement(u.default,{token:a})))),o.default.createElement(s.Box,{alignItems:c.AlignItems.flexStart},o.default.createElement(u.default,{textProps:{font:c.FontWeight.Medium,variant:c.TextVariant.bodyLgMedium},suffixProps:{font:c.FontWeight.Medium,variant:c.TextVariant.bodyLgMedium},token:a,showFiat:!0})))})))))}}}},{package:"$root$",file:"ui/components/multichain/import-tokens-modal/import-tokens-modal-confirm.js"}],[5676,{"../../../../app/scripts/lib/util":128,"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/tokens":5060,"../../../../shared/constants/transaction":5061,"../../../../shared/modules/hexstring-utils":5089,"../../../contexts/metametrics":5920,"../../../ducks/metamask/metamask":5941,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../helpers/constants/zendesk-url":5966,"../../../helpers/utils/token-util":5998,"../../../helpers/utils/util":6001,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../../store/actions":6652,"../../app/import-token/token-list":5209,"../../app/import-token/token-search":5214,"../../component-library":5534,"../../component-library/form-text-field/deprecated":5522,"../../ui/tabs":5889,"./import-tokens-modal-confirm":5675,"@metamask/etherscan-link/dist/token-tracker-link":1463,"prop-types":4529,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ImportTokensModal=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=O(e("prop-types")),s=e("@metamask/etherscan-link/dist/token-tracker-link"),c=e("../../ui/tabs"),l=e("../../../hooks/useI18nContext"),u=e("../../../selectors"),d=e("../../../store/actions"),p=e("../../component-library"),m=e("../../component-library/form-text-field/deprecated"),f=O(e("../../app/import-token/token-search")),h=O(e("../../app/import-token/token-list")),y=e("../../../helpers/constants/design-system"),g=e("../../../helpers/constants/routes"),b=O(e("../../../helpers/constants/zendesk-url")),v=e("../../../../shared/modules/hexstring-utils"),k=e("../../../../app/scripts/lib/util"),T=e("../../../../shared/constants/tokens"),x=e("../../../../shared/constants/transaction"),C=e("../../../helpers/utils/util"),_=e("../../../helpers/utils/token-util"),w=e("../../../contexts/metametrics"),E=e("../../../ducks/metamask/metamask"),M=e("../../../../shared/constants/metametrics"),N=e("./import-tokens-modal-confirm");function O(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}const S=({onClose:e})=>{const t=(0,l.useI18nContext)(),n=(0,r.useHistory)(),i=(0,o.useDispatch)(),[O,A]=(0,a.useState)(""),[S,I]=(0,a.useState)(null),[P,j]=(0,a.useState)({}),[D,B]=(0,a.useState)([]),R=(0,o.useSelector)(u.getIsTokenDetectionSupported),F=(0,o.useSelector)(u.getIsTokenDetectionInactiveOnMainnet),L=R||F||Boolean(!1),$=(0,o.useSelector)(u.getTokenList),W=(0,o.useSelector)((({metamask:e})=>e.useTokenDetection)),z=(0,o.useSelector)(u.getTokenDetectionSupportNetworkByChainId),U=(0,o.useSelector)(E.getNativeCurrency),V=(0,o.useSelector)(u.getIstokenDetectionInactiveOnNonMainnetSupportedNetwork),H=(0,o.useSelector)(u.getIsDynamicTokenListAvailable),G=(0,o.useSelector)(u.getSelectedInternalAccount),q=(0,o.useSelector)(u.getIsMainnet),K=(0,o.useSelector)(u.getInternalAccounts),J=(0,o.useSelector)((e=>e.metamask.tokens)),Y=(0,o.useSelector)(u.getRpcPrefsForCurrentProvider),X=(0,o.useSelector)(u.getTokenExchangeRates),[Q,Z]=(0,a.useState)(""),[ee,te]=(0,a.useState)(null),[ne,ae]=(0,a.useState)(null),[oe,re]=(0,a.useState)(!1),[ie,se]=(0,a.useState)(null),[ce,le]=(0,a.useState)(""),[ue,de]=(0,a.useState)(""),[pe,me]=(0,a.useState)(null),[fe,he]=(0,a.useState)(0),[ye,ge]=(0,a.useState)(null),[be,ve]=(0,a.useState)(x.TokenStandard.none),ke=(0,o.useSelector)(u.getCurrentNetwork),Te=(0,o.useSelector)(u.getTestNetworkBackgroundColor),[xe,Ce]=(0,a.useState)(!1),_e=(0,o.useSelector)(u.getCurrentChainId),we=(0,s.getTokenTrackerLink)(Q,_e,null,null,{blockExplorerUrl:(null==Y?void 0:Y.blockExplorerUrl)??null}),Ee=null!=Y&&Y.blockExplorerUrl?(0,C.getURLHostName)(we):t("etherscan"),Me=(0,a.useRef)((0,_.tokenInfoGetter)()),Ne=(0,a.useContext)(w.MetaMetricsContext),Oe=(0,o.useSelector)(E.getPendingTokens),Ae=(0,o.useSelector)(u.getSelectedNetworkClientId),Se=(0,a.useCallback)((async()=>{try{const e=Object.values(Oe);await i((0,d.addImportedTokens)(e,Ae)),e.forEach((e=>{Ne({event:M.MetaMetricsEventName.TokenAdded,category:M.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source_connection_method:e.isCustom?M.MetaMetricsTokenEventSource.Custom:M.MetaMetricsTokenEventSource.List,token_standard:x.TokenStandard.ERC20,asset_type:x.AssetType.token}})}));const t=[];for(const e in Oe)Object.prototype.hasOwnProperty.call(Oe,e)&&t.push(Oe[e].symbol);i((0,d.setNewTokensImported)(t.join(", "))),i((0,d.clearPendingTokens)()),i((0,d.hideImportTokensModal)()),n.push(g.DEFAULT_ROUTE)}catch(e){i((0,d.setNewTokensImportedError)("error")),i((0,d.clearPendingTokens)()),n.push(g.DEFAULT_ROUTE)}}),[i,n,Oe,Ne]);(0,a.useEffect)((()=>{const e=Object.keys(Oe);if(0===e.length)return;let t={},n={};e.forEach((e=>{const a=Oe[e],{isCustom:o}=a;o?n={...a}:t={...P,[e]:{...a}}})),j(t),Z(n.address),le(n.symbol),he(n.decimals)}),[Oe]);const Ie=e=>{const n=e.trim(),a=n.length;let o=null;(a<=0||a>=12)&&(o=t("symbolBetweenZeroTwelve")),le(n),me(o)},Pe=e=>{let n,o=null;e?(n=Number(e.trim()),o=e<0||e>36?t("decimalsMustZerotoTen"):null):(n="",o=t("tokenDecimalFetchFailed",[a.default.createElement(p.ButtonLink,{className:"import-tokens-modal__button-link",key:"import-token-verify-token-decimal",rel:"noopener noreferrer",target:"_blank",href:we,endIconName:p.IconName.Export},Ee)])),he(n),ge(o)},je=()=>S||ee||pe||ye||ne,De=()=>Q||Object.keys(P).length>0,Be=async n=>{const o=n.trim();Z(o),te(null),ae(null),re(!1),se(null),Ce(!1);const r=(0,v.isValidHexAddress)(o,{allowNonPrefixed:!1}),s=(0,k.addHexPrefix)(o).toLowerCase(),c=Object.keys(T.STATIC_MAINNET_TOKEN_LIST).some((e=>e.toLowerCase()===o.toLowerCase()));let l;if(r)try{({standard:l}=await(0,d.getTokenStandardAndDetails)(s,G.address,null))}catch(e){}const u=0===o.length||"0x0000000000000000000000000000000000000000"===o;switch(!0){case!r&&!u:te(t("invalidAddress")),le(""),he(0),me(null),ge(null),Ce(!1);break;case l===x.TokenStandard.ERC1155||l===x.TokenStandard.ERC721:ae(t("nftAddressError",[a.default.createElement(p.ButtonLink,{className:"import-tokens-modal__nft-address-error-link",onClick:()=>{i((0,d.showImportNftsModal)({tokenAddress:o})),e()},color:y.TextColor.primaryDefault,key:"nftAddressError"},t("importNFTPage"))])),Ce(!1);break;case c&&!q:se(t("mainnetToken")),le(""),he(0),me(null),ge(null),Ce(!1);break;case Boolean(K.find((e=>e.address.toLowerCase()===s))):te(t("personalAddressDetected")),Ce(!1);break;case(0,C.checkExistingAddresses)(o,J):te(t("tokenAlreadyAdded")),Ce(!1);break;default:u||((async e=>{const{symbol:t="",decimals:n,name:a}=await Me.current(e,$);re(Boolean(n)),Ie(t||""),Pe(n),de(a)})(o),Ce(!0),l&&ve(l))}},Re="confirm"===O;return a.default.createElement(p.Modal,{isOpen:!0,isClosedOnOutsideClick:!1,onClose:()=>{i((0,d.clearPendingTokens)()),e()},className:"import-tokens-modal"},a.default.createElement(p.ModalOverlay,null),a.default.createElement(p.ModalContent,{modalDialogProps:{className:"import-tokens-modal__modal-dialog-content"}},a.default.createElement(p.ModalHeader,{onBack:Re?()=>A(""):null,paddingBottom:4,paddingRight:4,paddingLeft:4,onClose:()=>{i((0,d.clearPendingTokens)()),e()}},t("importTokensCamelCase")),a.default.createElement(p.Box,{className:"import-tokens-modal__body"},a.default.createElement(c.Tabs,{t:t,tabsClassName:"import-tokens-modal__tabs"},L?a.default.createElement(c.Tab,{activeClassName:"import-tokens-modal__active-tab",buttonClassName:"import-tokens-modal__button-tab",tabKey:"search",name:t("search")},Re?a.default.createElement(N.ImportTokensModalConfirm,null):a.default.createElement(p.Box,{paddingTop:4},W?null:a.default.createElement(p.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(p.BannerAlert,{severity:y.Severity.Info,marginBottom:4,paddingLeft:4,paddingRight:4},a.default.createElement(p.Text,{variant:y.TextVariant.bodyMd,fontSize:"16"},t("enhancedTokenDetectionAlertMessage",[z,a.default.createElement(p.ButtonLink,{key:"token-detection-announcement",className:"import-tokens-modal__autodetect",onClick:()=>{e(),n.push(`${g.SECURITY_ROUTE}#auto-detect-tokens`)}},t("enableFromSettings"))])))),a.default.createElement(p.Box,{paddingLeft:4,paddingRight:4,paddingBottom:4},a.default.createElement(f.default,{searchClassName:"import-tokens-modal__button-search",onSearch:({results:e=[]})=>B(e),error:S,tokenList:$})),a.default.createElement(h.default,{currentNetwork:ke,testNetworkBackgroundColor:Te,results:D,selectedTokens:P,onToggleToken:e=>(e=>{const{address:t}=e,n={...P};t in n?delete n[t]:n[t]=e,j(n),I(null)})(e)}))):null,a.default.createElement(c.Tab,{activeClassName:"import-tokens-modal__active-tab",buttonClassName:"import-tokens-modal__button-tab",tabKey:"customToken",name:t("customToken")},Re?a.default.createElement(N.ImportTokensModalConfirm,null):a.default.createElement(p.Box,{paddingTop:4},a.default.createElement(p.Box,{className:"import-tokens-modal__custom-token-form__container"},V?a.default.createElement(p.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(p.BannerAlert,{severity:y.Severity.Warning},a.default.createElement(p.Text,{variant:y.TextVariant.bodyMd},t("customTokenWarningInTokenDetectionNetworkWithTDOFF",[a.default.createElement(p.ButtonLink,{key:"import-token-security-risk",rel:"noopener noreferrer",target:"_blank",href:b.default.TOKEN_SAFETY_PRACTICES},t("tokenScamSecurityRisk")),a.default.createElement(p.ButtonLink,{type:"link",key:"import-token-token-detection-announcement",onClick:()=>{e(),n.push(`${g.SECURITY_ROUTE}#auto-detect-tokens`)}},t("inYourSettings"))])))):a.default.createElement(p.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(p.BannerAlert,{severity:H?y.Severity.Warning:y.Severity.Info},a.default.createElement(p.Text,{variant:y.TextVariant.bodyMd},t(H?"customTokenWarningInTokenDetectionNetwork":"customTokenWarningInNonTokenDetectionNetwork",[a.default.createElement(p.ButtonLink,{key:"import-token-fake-token-warning",rel:"noopener noreferrer",target:"_blank",href:b.default.TOKEN_SAFETY_PRACTICES},t("learnScamRisk"))])))),a.default.createElement(p.Box,null,a.default.createElement(m.FormTextField,{paddingLeft:4,paddingRight:4,paddingTop:6,label:t("tokenContractAddress"),value:Q,onChange:e=>Be(e.target.value),helpText:ee||ie||ne,error:ee||ie||ne,textFieldProps:{className:ee||ie||ne?"import-tokens-modal__custom-token-form__text-outline-error":"import-tokens-modal__custom-token-form__text-outline-success"},inputProps:{"data-testid":"import-tokens-modal-custom-address"}}),xe&&a.default.createElement(p.Box,null,a.default.createElement(m.FormTextField,{paddingLeft:4,paddingRight:4,paddingTop:4,label:a.default.createElement(a.default.Fragment,null,t("tokenSymbol")),value:ce,onChange:e=>Ie(e.target.value),helpText:pe,error:pe,textFieldProps:{className:pe?"import-tokens-modal__custom-token-form__text-outline-error":"import-tokens-modal__custom-token-form__text-outline-success"},inputProps:{"data-testid":"import-tokens-modal-custom-symbol"}}),a.default.createElement(m.FormTextField,{paddingLeft:4,paddingRight:4,paddingTop:4,label:t("decimal"),type:"number",value:fe,onChange:e=>Pe(e.target.value),helpText:ye,error:ye,disabled:oe,min:0,max:36,textFieldProps:{className:ye?"import-tokens-modal__custom-token-form__text-outline-error":"import-tokens-modal__custom-token-form__text-outline-success"},inputProps:{"data-testid":"import-tokens-modal-custom-decimals"}})))))))),Re?a.default.createElement(p.Box,{paddingTop:5,paddingLeft:4,paddingRight:4,display:y.Display.Flex},a.default.createElement(p.ButtonSecondary,{size:y.Size.LG,onClick:()=>{i((0,d.clearPendingTokens)()),A("")},block:!0,marginRight:5},t("back")),a.default.createElement(p.ButtonPrimary,{size:y.Size.LG,onClick:async()=>{await Se(),n.push(g.DEFAULT_ROUTE)},block:!0,"data-testid":"import-tokens-modal-import-button"},t("import"))):a.default.createElement(p.Box,{paddingTop:6,paddingLeft:4,paddingRight:4},a.default.createElement(p.ButtonPrimary,{onClick:()=>(async()=>{if(je())return;if(!De())return void I(t("mustSelectOne"));const e=Object.keys($),n=Q?{address:Q,symbol:ce,decimals:fe,standard:be,name:ue}:null;i((0,d.setPendingTokens)({customToken:n,selectedTokens:P,tokenAddressList:e}));const a={...P,...(null==n?void 0:n.address)&&{[n.address]:{...n}}},o=Object.values(a).filter((e=>(null==X?void 0:X[(0,v.toChecksumHexAddress)(e.address)])===undefined)),r=o.map((e=>e.address));if(0!==o.length){const e=await(0,C.fetchTokenExchangeRates)(U,r,_e);i((0,d.setConfirmationExchangeRates)(e))}A("confirm")})(),size:y.Size.LG,disabled:Boolean(je())||!De(),block:!0,"data-testid":"import-tokens-button-next"},t("next")))))};n.ImportTokensModal=S,S.propTypes={onClose:i.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/import-tokens-modal/import-tokens-modal.js"}],[5677,{"./import-tokens-modal":5676},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImportTokensModal",{enumerable:!0,get:function(){return a.ImportTokensModal}});var a=e("./import-tokens-modal")}}},{package:"$root$",file:"ui/components/multichain/import-tokens-modal/index.js"}],[5678,{"./account-details":5597,"./account-list-item":5602,"./account-list-item-menu":5599,"./account-list-menu":5605,"./account-overview":5612,"./account-picker":5614,"./activity-list-item":5616,"./address-copy-button":5618,"./address-list-item":5620,"./app-header":5625,"./asset-picker-amount":5636,"./avatar-group":5644,"./connected-accounts-menu":5650,"./connected-site-menu":5652,"./connected-status":5654,"./create-account":5656,"./create-eth-account":5658,"./detected-token-banner":5662,"./global-menu":5665,"./import-account":5668,"./import-nfts-modal":5672,"./import-token-link":5674,"./import-tokens-modal":5677,"./menu-items":5680,"./network-list-item":5684,"./network-list-menu":5687,"./notification-detail":5714,"./notification-detail-address":5694,"./notification-detail-asset":5696,"./notification-detail-block-explorer-button":5698,"./notification-detail-button":5700,"./notification-detail-collection":5702,"./notification-detail-copy-button":5704,"./notification-detail-info":5706,"./notification-detail-network-fee":5708,"./notification-detail-nft":5710,"./notification-detail-title":5712,"./notification-list-item":5722,"./notification-list-item-icon":5716,"./notification-list-item-snap":5718,"./notification-list-item-text":5720,"./notifications-page":5724,"./notifications-settings-account":5726,"./notifications-settings-box":5728,"./notifications-settings-type":5730,"./notifications-tag-counter":5732,"./permission-details-modal":5767,"./product-tour-popover":5769,"./receive-token-link":5774,"./toast":5776,"./token-list-item":5778},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountDetails",{enumerable:!0,get:function(){return k.AccountDetails}}),Object.defineProperty(n,"AccountDetailsMenuItem",{enumerable:!0,get:function(){return E.AccountDetailsMenuItem}}),Object.defineProperty(n,"AccountListItem",{enumerable:!0,get:function(){return a.AccountListItem}}),Object.defineProperty(n,"AccountListItemMenu",{enumerable:!0,get:function(){return o.AccountListItemMenu}}),Object.defineProperty(n,"AccountListItemMenuTypes",{enumerable:!0,get:function(){return a.AccountListItemMenuTypes}}),Object.defineProperty(n,"AccountListMenu",{enumerable:!0,get:function(){return r.AccountListMenu}}),Object.defineProperty(n,"AccountOverview",{enumerable:!0,get:function(){return i.AccountOverview}}),Object.defineProperty(n,"AccountPicker",{enumerable:!0,get:function(){return s.AccountPicker}}),Object.defineProperty(n,"ActivityListItem",{enumerable:!0,get:function(){return c.ActivityListItem}}),Object.defineProperty(n,"AddressCopyButton",{enumerable:!0,get:function(){return h.AddressCopyButton}}),Object.defineProperty(n,"AddressListItem",{enumerable:!0,get:function(){return A.AddressListItem}}),Object.defineProperty(n,"AppHeader",{enumerable:!0,get:function(){return l.AppHeader}}),Object.defineProperty(n,"AssetPickerAmount",{enumerable:!0,get:function(){return O.AssetPickerAmount}}),Object.defineProperty(n,"AvatarGroup",{enumerable:!0,get:function(){return N.AvatarGroup}}),Object.defineProperty(n,"ConnectedAccountsMenu",{enumerable:!0,get:function(){return C.ConnectedAccountsMenu}}),Object.defineProperty(n,"ConnectedSiteMenu",{enumerable:!0,get:function(){return y.ConnectedSiteMenu}}),Object.defineProperty(n,"ConnectedStatus",{enumerable:!0,get:function(){return S.ConnectedStatus}}),Object.defineProperty(n,"CreateAccount",{enumerable:!0,get:function(){return T.CreateAccount}}),Object.defineProperty(n,"CreateEthAccount",{enumerable:!0,get:function(){return x.CreateEthAccount}}),Object.defineProperty(n,"DetectedTokensBanner",{enumerable:!0,get:function(){return u.DetectedTokensBanner}}),Object.defineProperty(n,"GlobalMenu",{enumerable:!0,get:function(){return d.GlobalMenu}}),Object.defineProperty(n,"ImportAccount",{enumerable:!0,get:function(){return _.ImportAccount}}),Object.defineProperty(n,"ImportNftsModal",{enumerable:!0,get:function(){return w.ImportNftsModal}}),Object.defineProperty(n,"ImportTokenLink",{enumerable:!0,get:function(){return p.ImportTokenLink}}),Object.defineProperty(n,"ImportTokensModal",{enumerable:!0,get:function(){return M.ImportTokensModal}}),Object.defineProperty(n,"NetworkListItem",{enumerable:!0,get:function(){return g.NetworkListItem}}),Object.defineProperty(n,"NetworkListMenu",{enumerable:!0,get:function(){return b.NetworkListMenu}}),Object.defineProperty(n,"NotificationDetail",{enumerable:!0,get:function(){return D.NotificationDetail}}),Object.defineProperty(n,"NotificationDetailAddress",{enumerable:!0,get:function(){return B.NotificationDetailAddress}}),Object.defineProperty(n,"NotificationDetailAsset",{enumerable:!0,get:function(){return R.NotificationDetailAsset}}),Object.defineProperty(n,"NotificationDetailBlockExplorerButton",{enumerable:!0,get:function(){return H.NotificationDetailBlockExplorerButton}}),Object.defineProperty(n,"NotificationDetailButton",{enumerable:!0,get:function(){return V.NotificationDetailButton}}),Object.defineProperty(n,"NotificationDetailCollection",{enumerable:!0,get:function(){return F.NotificationDetailCollection}}),Object.defineProperty(n,"NotificationDetailCopyButton",{enumerable:!0,get:function(){return L.NotificationDetailCopyButton}}),Object.defineProperty(n,"NotificationDetailInfo",{enumerable:!0,get:function(){return W.NotificationDetailInfo}}),Object.defineProperty(n,"NotificationDetailNetworkFee",{enumerable:!0,get:function(){return $.NotificationDetailNetworkFee}}),Object.defineProperty(n,"NotificationDetailNft",{enumerable:!0,get:function(){return z.NotificationDetailNft}}),Object.defineProperty(n,"NotificationDetailTitle",{enumerable:!0,get:function(){return U.NotificationDetailTitle}}),Object.defineProperty(n,"NotificationListItem",{enumerable:!0,get:function(){return I.NotificationListItem}}),Object.defineProperty(n,"NotificationListItemIcon",{enumerable:!0,get:function(){return P.NotificationListItemIcon}}),Object.defineProperty(n,"NotificationListItemSnap",{enumerable:!0,get:function(){return Y.NotificationListItemSnap}}),Object.defineProperty(n,"NotificationListItemText",{enumerable:!0,get:function(){return j.NotificationListItemText}}),Object.defineProperty(n,"NotificationsPage",{enumerable:!0,get:function(){return G.NotificationsPage}}),Object.defineProperty(n,"NotificationsSettingsAccount",{enumerable:!0,get:function(){return J.NotificationsSettingsAccount}}),Object.defineProperty(n,"NotificationsSettingsBox",{enumerable:!0,get:function(){return q.NotificationsSettingsBox}}),Object.defineProperty(n,"NotificationsSettingsType",{enumerable:!0,get:function(){return K.NotificationsSettingsType}}),Object.defineProperty(n,"NotificationsTagCounter",{enumerable:!0,get:function(){return X.NotificationsTagCounter}}),Object.defineProperty(n,"PermissionDetailsModal",{enumerable:!0,get:function(){return Z.PermissionDetailsModal}}),Object.defineProperty(n,"ProductTour",{enumerable:!0,get:function(){return v.ProductTour}}),Object.defineProperty(n,"ReceiveTokenLink",{enumerable:!0,get:function(){return m.ReceiveTokenLink}}),Object.defineProperty(n,"Toast",{enumerable:!0,get:function(){return Q.Toast}}),Object.defineProperty(n,"ToastContainer",{enumerable:!0,get:function(){return Q.ToastContainer}}),Object.defineProperty(n,"TokenListItem",{enumerable:!0,get:function(){return f.TokenListItem}}),Object.defineProperty(n,"ViewExplorerMenuItem",{enumerable:!0,get:function(){return E.ViewExplorerMenuItem}});var a=e("./account-list-item"),o=e("./account-list-item-menu"),r=e("./account-list-menu"),i=e("./account-overview"),s=e("./account-picker"),c=e("./activity-list-item"),l=e("./app-header"),u=e("./detected-token-banner"),d=e("./global-menu"),p=e("./import-token-link"),m=e("./receive-token-link"),f=e("./token-list-item"),h=e("./address-copy-button"),y=e("./connected-site-menu"),g=e("./network-list-item"),b=e("./network-list-menu"),v=e("./product-tour-popover"),k=e("./account-details"),T=e("./create-account"),x=e("./create-eth-account"),C=e("./connected-accounts-menu"),_=e("./import-account"),w=e("./import-nfts-modal"),E=e("./menu-items"),M=e("./import-tokens-modal"),N=e("./avatar-group"),O=e("./asset-picker-amount"),A=e("./address-list-item"),S=e("./connected-status"),I=e("./notification-list-item"),P=e("./notification-list-item-icon"),j=e("./notification-list-item-text"),D=e("./notification-detail"),B=e("./notification-detail-address"),R=e("./notification-detail-asset"),F=e("./notification-detail-collection"),L=e("./notification-detail-copy-button"),$=e("./notification-detail-network-fee"),W=e("./notification-detail-info"),z=e("./notification-detail-nft"),U=e("./notification-detail-title"),V=e("./notification-detail-button"),H=e("./notification-detail-block-explorer-button"),G=e("./notifications-page"),q=e("./notifications-settings-box"),K=e("./notifications-settings-type"),J=e("./notifications-settings-account"),Y=e("./notification-list-item-snap"),X=e("./notifications-tag-counter"),Q=e("./toast"),Z=e("./permission-details-modal")}}},{package:"$root$",file:"ui/components/multichain/index.js"}],[5679,{"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../hooks/useI18nContext":6031,"../../../store/actions":6652,"../../component-library":5534,"../../ui/menu":5857,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AccountDetailsMenuItem=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("react-redux"),s=e("../../../store/actions"),c=e("../../ui/menu"),l=e("../../../hooks/useI18nContext"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../component-library");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const f=({metricsLocation:e,closeMenu:t,address:n,textProps:a})=>{const r=(0,l.useI18nContext)(),m=(0,i.useDispatch)(),f=(0,o.useContext)(u.MetaMetricsContext),h=r("accountDetails");return o.default.createElement(c.MenuItem,{onClick:()=>{m((0,s.setAccountDetailsAddress)(n)),f({event:d.MetaMetricsEventName.AccountDetailsOpened,category:d.MetaMetricsEventCategory.Navigation,properties:{location:e}}),null==t||t()},iconName:p.IconName.ScanBarcode,"data-testid":"account-list-menu-details"},a?o.default.createElement(p.Text,a,h):h)};n.AccountDetailsMenuItem=f,f.propTypes={metricsLocation:r.default.string.isRequired,closeMenu:r.default.func,address:r.default.string.isRequired,textProps:r.default.object}}}},{package:"$root$",file:"ui/components/multichain/menu-items/account-details-menu-item.js"}],[5680,{"./account-details-menu-item":5679,"./view-explorer-menu-item":5681},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AccountDetailsMenuItem",{enumerable:!0,get:function(){return a.AccountDetailsMenuItem}}),Object.defineProperty(n,"ViewExplorerMenuItem",{enumerable:!0,get:function(){return o.ViewExplorerMenuItem}});var a=e("./account-details-menu-item"),o=e("./view-explorer-menu-item")}}},{package:"$root$",file:"ui/components/multichain/menu-items/index.js"}],[5681,{"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../helpers/constants/routes":5959,"../../../helpers/utils/multichain/blockExplorer":5990,"../../../helpers/utils/util":6001,"../../../hooks/useI18nContext":6031,"../../../hooks/useMultichainSelector":6036,"../../../selectors":6639,"../../../selectors/multichain":6644,"../../component-library":5534,"../../ui/menu":5857,"@metamask/utils":2787,react:4779,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openBlockExplorer=n.ViewExplorerMenuItem=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("@metamask/utils"),s=e("../../../helpers/utils/multichain/blockExplorer"),c=e("../../ui/menu"),l=e("../../../hooks/useI18nContext"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../component-library"),m=e("../../../selectors"),f=e("../../../helpers/utils/util"),h=e("../../../helpers/constants/routes"),y=e("../../../selectors/multichain"),g=e("../../../hooks/useMultichainSelector");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const v=(e,t,n,a)=>{n({event:d.MetaMetricsEventName.ExternalLinkClicked,category:d.MetaMetricsEventCategory.Navigation,properties:{link_type:d.MetaMetricsEventLinkType.AccountTracker,location:t,url_domain:(0,f.getURLHostName)(e)}}),global.platform.openTab({url:e}),null==a||a()};n.openBlockExplorer=v;n.ViewExplorerMenuItem=({metricsLocation:e,closeMenu:t,textProps:n,account:b})=>{const k=(0,l.useI18nContext)(),T=(0,a.useContext)(u.MetaMetricsContext),x=(0,r.useHistory)(),C=(0,g.useMultichainSelector)(y.getMultichainNetwork,b),_=(0,s.getMultichainAccountUrl)(b.address,C),w=(0,i.parseCaipChainId)(C.chainId).reference,E=(0,s.getMultichainBlockExplorerUrl)(C),M=(0,f.getURLHostName)(E),N=(0,o.useSelector)(m.getBlockExplorerLinkText),O=k("viewOnExplorer");return a.default.createElement(c.MenuItem,{onClick:()=>{"addBlockExplorer"===N.firstPart?x.push(`${h.NETWORKS_ROUTE}#blockExplorerUrl`):v(_,e,T,t),T({event:d.MetaMetricsEventName.BlockExplorerLinkClicked,category:d.MetaMetricsEventCategory.Accounts,properties:{location:e,chain_id:w}}),null==t||t()},subtitle:M||null,iconName:p.IconName.Export,"data-testid":"account-list-menu-open-explorer"},n?a.default.createElement(p.Text,n,O):O)}}}},{package:"$root$",file:"ui/components/multichain/menu-items/view-explorer-menu-item.tsx"}],[5682,{"./network-list-item-menu":5683},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NetworkListItemMenu",{enumerable:!0,get:function(){return a.NetworkListItemMenu}});var a=e("./network-list-item-menu")}}},{package:"$root$",file:"ui/components/multichain/network-list-item-menu/index.js"}],[5683,{"../../../helpers/constants/design-system":5953,"../../../hooks/useI18nContext":6031,"../../component-library":5534,"../../ui/menu":5857,"prop-types":4529,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkListItemMenu=void 0;var a=l(e("react")),o=l(e("prop-types")),r=e("../../../hooks/useI18nContext"),i=e("../../component-library"),s=e("../../ui/menu"),c=e("../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}const u=({anchorElement:e,onClose:t,onEditClick:n,onDeleteClick:o,isOpen:l})=>{const u=(0,r.useI18nContext)();return a.default.createElement(i.Popover,{className:"multichain-network-list-item-menu__popover",onClickOutside:t,referenceElement:e,role:i.PopoverRole.Dialog,position:i.PopoverPosition.Bottom,offset:[0,0],padding:0,isOpen:l,isPortal:!0,preventOverflow:!0,flip:!0},a.default.createElement(i.ModalFocus,{restoreFocus:!0,initialFocusRef:e},a.default.createElement(i.Box,null,n?a.default.createElement(s.MenuItem,{iconName:i.IconName.Edit,onClick:e=>{e.stopPropagation(),n()},"data-testid":"network-list-item-options-edit"},a.default.createElement(i.Text,null," ",u("edit"))):null,o?a.default.createElement(s.MenuItem,{iconName:i.IconName.Trash,iconColor:c.IconColor.errorDefault,onClick:e=>{e.stopPropagation(),o()},"data-testid":"network-list-item-options-delete"},a.default.createElement(i.Text,{color:c.TextColor.errorDefault},u("delete"))):null)))};n.NetworkListItemMenu=u,u.propTypes={anchorElement:o.default.instanceOf(window.Element),onClose:o.default.func.isRequired,onEditClick:o.default.func,onDeleteClick:o.default.func,isOpen:o.default.bool.isRequired}}}},{package:"$root$",file:"ui/components/multichain/network-list-item-menu/network-list-item-menu.js"}],[5684,{"./network-list-item":5685},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NetworkListItem",{enumerable:!0,get:function(){return a.NetworkListItem}});var a=e("./network-list-item")}}},{package:"$root$",file:"ui/components/multichain/network-list-item/index.js"}],[5685,{"../../../helpers/constants/design-system":5953,"../../../helpers/utils/accounts":5977,"../../../helpers/utils/feature-flags":5982,"../../../hooks/useI18nContext":6031,"../../component-library":5534,"../../ui/tooltip/tooltip":5904,"../network-list-item-menu":5682,classnames:3599,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkListItem=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=f(e("classnames")),r=f(e("prop-types")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),c=e("../../component-library"),l=e("../../../hooks/useI18nContext"),u=e("../../../helpers/utils/accounts"),d=f(e("../../ui/tooltip/tooltip")),p=e("../network-list-item-menu"),m=e("../../../helpers/utils/feature-flags");function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=({name:e,iconSrc:t,iconSize:n=c.AvatarNetworkSize.Md,selected:r=!1,focus:f=!0,onClick:h,onDeleteClick:y,onEditClick:g,startAccessory:b,showEndAccessory:v=!0})=>{const k=(0,l.useI18nContext)(),T=(0,a.useRef)(),[x,C]=(0,a.useState)(),_=e=>{C(e)},[w,E]=(0,a.useState)(!1),M=(0,i.useSelector)(m.getLocalNetworkMenuRedesignFeatureFlag);(0,a.useEffect)((()=>{T.current&&f&&T.current.focus()}),[T,f]);return a.default.createElement(c.Box,{padding:4,gap:4,backgroundColor:r?s.Color.primaryMuted:s.Color.transparent,className:(0,o.default)("multichain-network-list-item",{"multichain-network-list-item--selected":r}),display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween,width:s.BlockSize.Full,onClick:h},b?a.default.createElement(c.Box,{marginInlineEnd:2,marginTop:1},b):null,r&&a.default.createElement(c.Box,{className:"multichain-network-list-item__selected-indicator",borderRadius:s.BorderRadius.pill,backgroundColor:s.Color.primaryDefault}),a.default.createElement(c.AvatarNetwork,{backgroundColor:(0,u.getAvatarNetworkColor)(e),name:e,src:t,size:n}),a.default.createElement(c.Box,{className:"multichain-network-list-item__network-name",display:s.Display.Flex,alignItems:s.AlignItems.center,"data-testid":e},a.default.createElement(c.Text,{ref:T,color:s.TextColor.textDefault,backgroundColor:s.BackgroundColor.transparent,ellipsis:!0,onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),h())},tabIndex:"0"},e.length>20?a.default.createElement(d.default,{title:e,position:"bottom",wrapperClassName:"multichain-network-list-item__tooltip"},e):e)),M?y||g?a.default.createElement(c.ButtonIcon,{iconName:c.IconName.MoreVertical,ref:_,"data-testid":"network-list-item-options-button",ariaLabel:k("networkOptions"),onClick:e=>{e.stopPropagation(),E(!0)},size:c.ButtonIconSize.Sm}):null:y?a.default.createElement(c.ButtonIcon,{className:"multichain-network-list-item__delete",color:s.IconColor.errorDefault,iconName:c.IconName.Trash,ariaLabel:k("deleteNetwork"),size:s.Size.SM,onClick:e=>{e.stopPropagation(),y()}}):null,v?a.default.createElement(p.NetworkListItemMenu,{anchorElement:x,isOpen:w,onDeleteClick:y,onEditClick:g,onClose:()=>E(!1)}):null)};n.NetworkListItem=y,y.propTypes={name:r.default.string.isRequired,iconSrc:r.default.string,iconSize:r.default.string,selected:r.default.bool,onClick:r.default.func.isRequired,onDeleteClick:r.default.func,onEditClick:r.default.func,focus:r.default.bool,startAccessory:r.default.node,showEndAccessory:r.default.bool}}}},{package:"$root$",file:"ui/components/multichain/network-list-item/network-list-item.js"}],[5686,{"../../../../helpers/constants/design-system":5953,"../../../../hooks/useI18nContext":6031,"../../../component-library":5534,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../component-library"),i=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext");n.default=()=>{const e=(0,s.useI18nContext)();return o.default.createElement(r.Box,{padding:4},o.default.createElement(r.FormTextField,{id:"additional-rpc-url",label:e("additionalRpcUrl"),labelProps:{children:undefined,variant:i.TextVariant.bodySmMedium}}),o.default.createElement(r.ButtonPrimary,{size:r.ButtonPrimarySize.Lg,display:i.Display.Block,width:i.BlockSize.Full,marginTop:8,marginLeft:"auto",marginRight:"auto",onClick:()=>({})},e("addUrl")))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/add-rpc-url-modal/add-rpc-url-modal.tsx"}],[5687,{"./network-list-menu":5689},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NetworkListMenu",{enumerable:!0,get:function(){return a.NetworkListMenu}});var a=e("./network-list-menu")}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/index.js"}],[5688,{"../../../../pages/confirmations/confirmation/confirmation":6308,"../../../../selectors":6639,"../../../ui/popover":5874,"@metamask/approval-controller":1166,"@metamask/controller-utils":1250,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("@metamask/controller-utils"),i=e("@metamask/approval-controller"),s=u(e("../../../ui/popover")),c=u(e("../../../../pages/confirmations/confirmation/confirmation")),l=e("../../../../selectors");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.default=()=>{const[e,t]=(0,a.useState)(!1),n=(0,o.useSelector)(l.getUnapprovedConfirmations);return(0,a.useEffect)((()=>{const a=null==n?void 0:n.find((e=>e.origin===i.ORIGIN_METAMASK&&e.type===r.ApprovalType.AddEthereumChain));!e&&a?t(!0):e&&!a&&t(!1)}),[n,e]),e?a.default.createElement(s.default,{"data-testid":"network-popover"},a.default.createElement(c.default,{redirectToHomeOnZeroConfirmations:!1})):null}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/network-confirmation-popover/network-confirmation-popover.tsx"}],[5689,{"../../../../app/scripts/lib/util":128,"../../../../shared/constants/app":5031,"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/network":5047,"../../../contexts/metametrics":5920,"../../../ducks/metamask/metamask":5941,"../../../helpers/constants/design-system":5953,"../../../helpers/constants/routes":5959,"../../../helpers/utils/feature-flags":5982,"../../../hooks/useI18nContext":6031,"../../../pages/onboarding-flow/add-network-modal":6437,"../../../selectors":6639,"../../../store/actions":6652,"../../component-library":5534,"../../ui/toggle-button":5899,"../network-list-item":5684,"./add-rpc-url-modal/add-rpc-url-modal":5686,"./network-list-search/network-list-search":5690,"./popular-network-list/popular-network-list":5691,"fuse.js":3953,"prop-types":4529,react:4779,"react-beautiful-dnd":4599,"react-redux":4735,"react-router-dom":4764},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkListMenu=n.ACTION_MODES=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=N(e("prop-types")),r=e("react-beautiful-dnd"),i=e("react-redux"),s=e("react-router-dom"),c=N(e("fuse.js")),l=e("../../../hooks/useI18nContext"),u=e("../network-list-item"),d=e("../../../store/actions"),p=e("../../../../shared/constants/network"),m=e("../../../selectors"),f=N(e("../../ui/toggle-button")),h=e("../../../helpers/constants/design-system"),y=e("../../component-library"),g=e("../../../helpers/constants/routes"),b=e("../../../../app/scripts/lib/util"),v=e("../../../../shared/constants/app"),k=e("../../../contexts/metametrics"),T=e("../../../../shared/constants/metametrics"),x=e("../../../ducks/metamask/metamask"),C=e("../../../helpers/utils/feature-flags"),_=N(e("../../../pages/onboarding-flow/add-network-modal")),w=N(e("./popular-network-list/popular-network-list")),E=N(e("./network-list-search/network-list-search")),M=N(e("./add-rpc-url-modal/add-rpc-url-modal"));function N(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},A.apply(this,arguments)}const S=n.ACTION_MODES={LIST:"list",ADD:"add",EDIT:"edit",ADD_RPC:"add_rpc"},I=({onClose:e})=>{const t=(0,l.useI18nContext)(),n=(0,i.useSelector)(m.getNonTestNetworks),o=(0,i.useSelector)(m.getTestNetworks),N=(0,i.useSelector)(m.getShowTestNetworks),O=(0,i.useSelector)(m.getCurrentChainId),I=(0,i.useSelector)(C.getLocalNetworkMenuRedesignFeatureFlag),P=(0,i.useSelector)(m.getOriginOfCurrentTab),j=(0,i.useSelector)(m.getUseRequestQueue),D=(0,i.useSelector)(m.getNetworkConfigurations),B=(0,i.useSelector)(m.getAllDomains),R=(0,i.useDispatch)(),F=(0,s.useHistory)(),L=(0,a.useContext)(k.MetaMetricsContext),$=(0,i.useSelector)(m.getCurrentNetwork),W=p.TEST_CHAINS.includes(O),z=(0,b.getEnvironmentType)()===v.ENVIRONMENT_TYPE_FULLSCREEN,U=(0,i.useSelector)(x.getCompletedOnboarding),V=(0,i.useSelector)(x.getIsUnlocked),H=(0,i.useSelector)(m.getOrderedNetworksList),G=(0,i.useSelector)(m.getEditedNetwork),[q,K]=(0,a.useState)(G?S.EDIT:S.LIST),[J,Y]=(0,a.useState)({networkNameForm:"",networkChainIdForm:"",networkTickerForm:""}),[X,Q]=(0,a.useState)(null),Z=(0,a.useMemo)((()=>{const e=[...n,...o].find((e=>e.id===(null==G?void 0:G.networkConfigurationId)));return e?{...e,label:e.nickname}:undefined}),[G,n,o]),ee=Object.values(D).map((e=>e.chainId)),te=p.FEATURED_RPCS.sort(((e,t)=>e.nickname>t.nickname?1:-1)).slice(0,p.FEATURED_RPCS.length).filter((({chainId:e})=>!ee.includes(e))),ne=(()=>{if(!H||0===H.length)return n;const e={};H.forEach(((t,n)=>{e[`${t.networkId}_${t.networkRpcUrl}`]=n}));return n.sort(((t,n)=>{const a=`${t.chainId}_${t.rpcUrl}`,o=`${n.chainId}_${n.rpcUrl}`;return e[a]-e[o]}))})(),[ae,oe]=(0,a.useState)([...ne]);(0,a.useEffect)((()=>{K(S.LIST),Q(null),W&&R((0,d.setShowTestNetworks)(W))}),[R,W]);const[re,ie]=(0,a.useState)(""),[se,ce]=(0,a.useState)(!1),le=(0,i.useSelector)(m.getOnboardedInThisUISession),ue=(0,i.useSelector)(m.getShowNetworkBanner),de=U&&!le&&ue,pe=e=>{if(!e.destination)return;const t=[...ae],[n]=t.splice(e.source.index,1);t.splice(e.destination.index,0,n);const a=t.map((e=>({networkId:e.chainId,networkRpcUrl:e.rpcUrl})));R((0,d.updateNetworksList)(a)),oe(t)};let me=[...ne].length===ae.length?ae:[...ne],fe=[...te].length===ae.length?ae:[...te],he=[...o];if(se&&""!==re){const e=new c.default(me,{threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,shouldSort:!0,keys:["nickname","chainId","ticker"]}),t=new c.default(fe,{threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,shouldSort:!0,keys:["nickname","chainId","ticker"]}),n=new c.default(he,{threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,shouldSort:!0,keys:["nickname","chainId","ticker"]});e.setCollection(me),t.setCollection(fe),n.setCollection(he);const a=e.search(re),o=t.search(re),r=n.search(re);me=me.filter((e=>a.includes(e))),fe=fe.filter((e=>o.includes(e))),he=he.filter((e=>r.includes(e)))}const ye=e=>{R((0,d.setEditedNetwork)({networkConfigurationId:e.id,nickname:e.nickname})),K(S.EDIT),Q(S.LIST)},ge=e=>()=>ye(e),be=({network:e,isCurrentNetwork:t,canDeleteNetwork:n})=>{var o;return a.default.createElement(u.NetworkListItem,{name:e.nickname,iconSrc:null==e||null===(o=e.rpcPrefs)||void 0===o?void 0:o.imageUrl,iconSize:I?y.AvatarNetworkSize.Sm:y.AvatarNetworkSize.Md,key:e.id,selected:t&&!se,focus:t&&!se,onClick:()=>{R((0,d.toggleNetworkMenu)()),e.providerType?R((0,d.setProviderType)(e.providerType)):R((0,d.setActiveNetwork)(e.id)),j&&P&&B[P]&&(0,d.setNetworkClientIdForDomain)(P,e.id),L({event:T.MetaMetricsEventName.NavNetworkSwitched,category:T.MetaMetricsEventCategory.Network,properties:{location:"Network Menu",chain_id:O,from_network:O,to_network:e.chainId}})},onDeleteClick:n?()=>{R((0,d.toggleNetworkMenu)()),R((0,d.showModal)({name:"CONFIRM_DELETE_NETWORK",target:e.id,onConfirm:()=>undefined}))}:null,onEditClick:()=>ye(e)})},ve=e=>{const t=!e;R((0,d.setShowTestNetworks)(t)),t&&L({event:T.MetaMetricsEventName.TestNetworksDisplayed,category:T.MetaMetricsEventCategory.Network})},ke=()=>{K(S.ADD_RPC),Q(S.EDIT)},Te=()=>{K(S.ADD_RPC),Q(S.ADD)};let xe,Ce;return q===S.EDIT||q===S.ADD?xe=()=>K(S.LIST):q===S.ADD_RPC&&X===S.EDIT?xe=()=>K(S.EDIT):q===S.ADD_RPC&&X===S.ADD&&(xe=()=>K(S.ADD)),Ce=q===S.LIST?t("networkMenuHeading"):q===S.ADD?t("addCustomNetwork"):q===S.ADD_RPC?t("addRpcUrl"):(null==G?void 0:G.nickname)??"",a.default.createElement(y.Modal,{isOpen:!0,onClose:e},a.default.createElement(y.ModalOverlay,null),a.default.createElement(y.ModalContent,{className:"multichain-network-list-menu-content-wrapper",modalDialogProps:{className:"multichain-network-list-menu-content-wrapper__dialog",display:h.Display.Flex,flexDirection:h.FlexDirection.Column,padding:0}},a.default.createElement(y.ModalHeader,{paddingTop:4,paddingRight:4,onClose:e,onBack:xe},Ce),q===S.LIST?a.default.createElement(a.default.Fragment,null,a.default.createElement(E.default,{searchQuery:re,setSearchQuery:ie,setFocusSearch:ce}),a.default.createElement(y.Box,{className:"multichain-network-list-menu"},de?a.default.createElement(y.BannerBase,{className:"network-list-menu__banner",marginLeft:4,marginRight:4,marginBottom:4,marginTop:2,backgroundColor:h.BackgroundColor.backgroundAlternative,startAccessory:a.default.createElement(y.Box,{display:h.Display.Flex,alignItems:h.AlignItems.center,justifyContent:h.JustifyContent.center},a.default.createElement("img",{src:"./images/dragging-animation.svg",alt:"drag-and-drop"})),onClose:()=>(0,d.hideNetworkBanner)(),description:t("dragAndDropBanner")}):null,a.default.createElement(y.Box,{className:"multichain-network-list-menu"},me.length>0?a.default.createElement(y.Box,{padding:4,display:h.Display.Flex,justifyContent:h.JustifyContent.spaceBetween},a.default.createElement(y.Text,{color:h.TextColor.textAlternative},t("enabledNetworks"))):null,0===me.length&&0===fe.length&&0===he.length&&se?a.default.createElement(y.Text,{paddingLeft:4,paddingRight:4,color:h.TextColor.textMuted,"data-testid":"multichain-network-menu-popover-no-results"},t("noNetworksFound")):a.default.createElement(r.DragDropContext,{onDragEnd:pe},a.default.createElement(r.Droppable,{droppableId:"characters"},(e=>a.default.createElement(y.Box,A({className:"characters"},e.droppableProps,{ref:e.innerRef}),me.map(((e,t)=>{const n=$.id===e.id,o=V&&!n&&e.removable,i=be({network:e,isCurrentNetwork:n,canDeleteNetwork:o});return a.default.createElement(r.Draggable,{key:e.id,draggableId:e.id,index:t},(e=>a.default.createElement(y.Box,A({ref:e.innerRef},e.draggableProps,e.dragHandleProps),i)))})),e.placeholder)))),I?a.default.createElement(w.default,{searchAddNetworkResults:fe,"data-testid":"add-popular-network-view"}):null,he.length>0?a.default.createElement(y.Box,{paddingBottom:4,paddingTop:4,paddingLeft:4,display:h.Display.Flex,justifyContent:h.JustifyContent.spaceBetween},a.default.createElement(y.Text,{color:h.TextColor.textAlternative},t("showTestnetNetworks")),a.default.createElement(f.default,{value:N,disabled:W,onToggle:ve})):null,N||W?a.default.createElement(y.Box,{className:"multichain-network-list-menu"},he.map((e=>{const t=$.id===e.id&&$.rpcUrl===e.rpcUrl,n=V&&!t&&e.removable;return be({network:e,isCurrentNetwork:t,canDeleteNetwork:n})}))):null)),a.default.createElement(y.Box,{paddingLeft:4,paddingRight:4,paddingTop:4},a.default.createElement(y.ButtonSecondary,{size:y.ButtonSecondarySize.Lg,startIconName:y.IconName.Add,block:!0,onClick:()=>{if(!I)return z?U?F.push(g.ADD_POPULAR_CUSTOM_NETWORK):R((0,d.showModal)({name:"ONBOARDING_ADD_NETWORK"})):global.platform.openExtensionInBrowser(g.ADD_POPULAR_CUSTOM_NETWORK),void R((0,d.toggleNetworkMenu)());L({event:T.MetaMetricsEventName.AddNetworkButtonClick,category:T.MetaMetricsEventCategory.Network}),K(S.ADD),Q(S.LIST)}},t(I?"addCustomNetwork":"addNetwork")))):q===S.ADD?a.default.createElement(_.default,{isNewNetworkFlow:!0,addNewNetwork:!0,getOnEditCallback:ge,onRpcUrlAdd:Te,prevActionMode:X,networkFormInformation:J,setNetworkFormInformation:Y}):q===S.EDIT?a.default.createElement(_.default,{isNewNetworkFlow:!0,addNewNetwork:!1,networkToEdit:Z,onRpcUrlAdd:ke}):q===S.ADD_RPC?a.default.createElement(M.default,null):null))};n.NetworkListMenu=I,I.propTypes={onClose:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/network-list-menu.js"}],[5690,{"../../../../helpers/constants/design-system":5953,"../../../../hooks/useI18nContext":6031,"../../../component-library":5534,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../hooks/useI18nContext"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");n.default=({searchQuery:e,setSearchQuery:t,setFocusSearch:n})=>{const a=(0,r.useI18nContext)();return o.default.createElement(i.Box,{paddingLeft:4,paddingRight:4,paddingBottom:2,paddingTop:0},o.default.createElement(i.TextFieldSearch,{size:i.TextFieldSearchSize.Lg,width:s.BlockSize.Full,placeholder:a("search"),autoFocus:!0,value:e,onFocus:()=>n(!0),onBlur:()=>n(!1),onChange:e=>t(e.target.value),clearButtonOnClick:()=>t(""),clearButtonProps:{size:i.ButtonIconSize.Sm},inputProps:{"data-testid":"network-redesign-modal-search-input"},borderRadius:s.BorderRadius.MD,"data-testid":"search-list"}))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/network-list-search/network-list-search.tsx"}],[5691,{"../../../../../app/scripts/lib/util":128,"../../../../../shared/constants/app":5031,"../../../../../shared/constants/metametrics":5043,"../../../../helpers/constants/design-system":5953,"../../../../helpers/constants/zendesk-url":5966,"../../../../hooks/useI18nContext":6031,"../../../../store/actions":6652,"../../../component-library":5534,"@metamask/controller-utils":1250,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/controller-utils"),i=e("react-redux"),s=e("../../../../hooks/useI18nContext"),c=e("../../../component-library"),l=e("../../../../../shared/constants/metametrics"),u=e("../../../../../shared/constants/app"),d=e("../../../../store/actions"),p=e("../../../../../app/scripts/lib/util"),m=e("../../../../helpers/constants/design-system"),f=(a=e("../../../../helpers/constants/zendesk-url"))&&a.__esModule?a:{default:a};function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=({searchAddNetworkResults:e})=>{const t=(0,s.useI18nContext)(),n=(0,p.getEnvironmentType)()===u.ENVIRONMENT_TYPE_POPUP,a=(0,i.useDispatch)(),[h,y]=(0,o.useState)(!1),g=()=>{y(!1)},[b,v]=(0,o.useState)();return o.default.createElement(c.Box,{className:"new-network-list__networks-container"},o.default.createElement(c.Box,{marginTop:n?0:4,marginBottom:1,paddingLeft:4,paddingRight:4,ref:e=>{v(e)}},0===Object.keys(e).length?null:o.default.createElement(c.Box,{marginTop:4,marginBottom:4,display:m.Display.Flex,justifyContent:m.JustifyContent.spaceBetween},o.default.createElement(c.Text,{display:m.Display.InlineFlex,color:m.TextColor.textAlternative,variant:m.TextVariant.bodyMd},t("additionalNetworks"),o.default.createElement(c.Box,{onMouseEnter:()=>{y(!0)},style:{marginTop:2}},o.default.createElement(c.Icon,{className:"add-network__warning-icon",name:c.IconName.Info,color:m.IconColor.iconMuted,size:c.IconSize.Sm,marginLeft:2}),o.default.createElement(c.Popover,{referenceElement:b,position:c.PopoverPosition.Top,isOpen:h,matchWidth:!0,flip:!0,hasArrow:!0,backgroundColor:m.BackgroundColor.backgroundAlternative,onMouseLeave:g},t("popularNetworkAddToolTip",[o.default.createElement(c.Box,null,o.default.createElement(c.ButtonLink,{key:"security-provider-button-supporturl",size:c.ButtonLinkSize.Inherit,externalLink:!0,onClick:()=>{global.platform.openTab({url:f.default.UNKNOWN_NETWORK})}},t("learnMoreUpperCase")))]))))),e.map(((e,n)=>{var i;return o.default.createElement(c.Box,{key:n,display:m.Display.Flex,alignItems:m.AlignItems.center,justifyContent:m.JustifyContent.spaceBetween,paddingBottom:4,paddingTop:4,className:"new-network-list__list-of-networks",onMouseEnter:g},o.default.createElement(c.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center},o.default.createElement(c.AvatarNetwork,{size:c.AvatarNetworkSize.Sm,src:null===(i=e.rpcPrefs)||void 0===i?void 0:i.imageUrl,name:e.nickname}),o.default.createElement(c.Box,{marginLeft:4},o.default.createElement(c.Text,{color:m.TextColor.textDefault,backgroundColor:m.BackgroundColor.transparent,ellipsis:!0},e.nickname))),o.default.createElement(c.Box,{display:m.Display.Flex,alignItems:m.AlignItems.center,marginLeft:1},o.default.createElement(c.Button,{type:c.ButtonVariant.Link,className:"add-network__add-button",variant:c.ButtonVariant.Link,"data-testid":"test-add-button",onClick:async()=>{var t;a((0,d.toggleNetworkMenu)()),await a((0,d.requestUserApproval)({origin:u.ORIGIN_METAMASK,type:r.ApprovalType.AddEthereumChain,requestData:{chainId:e.chainId,rpcUrl:e.rpcUrl,ticker:e.ticker,rpcPrefs:e.rpcPrefs,imageUrl:null===(t=e.rpcPrefs)||void 0===t?void 0:t.imageUrl,chainName:e.nickname,referrer:u.ORIGIN_METAMASK,source:l.MetaMetricsNetworkEventSource.NewAddNetworkFlow}}))}},t("add"))))}))))}}}},{package:"$root$",file:"ui/components/multichain/network-list-menu/popular-network-list/popular-network-list.tsx"}],[5692,{"./nft-item":5693},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NftItem",{enumerable:!0,get:function(){return a.NftItem}});var a=e("./nft-item")}}},{package:"$root$",file:"ui/components/multichain/nft-item/index.js"}],[5693,{"../../../helpers/constants/design-system":5953,"../../../selectors":6639,"../../app/assets/nfts/nft-default-image/nft-default-image":5136,"../../component-library":5534,classnames:3599,"prop-types":4529,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NftItem=void 0;var a=d(e("react")),o=d(e("prop-types")),r=d(e("classnames")),i=e("react-redux"),s=d(e("../../app/assets/nfts/nft-default-image/nft-default-image")),c=e("../../component-library"),l=e("../../../helpers/constants/design-system"),u=e("../../../selectors");function d(e){return e&&e.__esModule?e:{default:e}}const p=({alt:e,name:t,src:n,networkName:o,networkSrc:d,tokenId:p,onClick:m,clickable:f,isIpfsURL:h,badgeWrapperClassname:y})=>{const g=(0,i.useSelector)(u.getTestNetworkBackgroundColor),b=(0,i.useSelector)(u.getIpfsGateway),v=(0,i.useSelector)(u.getOpenSeaEnabled),k=b&&h&&n||v&&n&&!h?a.default.createElement(c.Box,{className:"nft-item__item nft-item__item-image","data-testid":"nft-image",as:"img",src:n,alt:e,display:l.Display.Block,justifyContent:l.JustifyContent.center}):a.default.createElement(s.default,{className:"nft-item__default-image","data-testid":"nft-default-image",name:t,tokenId:p,clickable:f&&h});return a.default.createElement(c.Box,{className:"nft-item__container","data-testid":"nft-item",as:"button",onClick:m},a.default.createElement(c.BadgeWrapper,{className:(0,r.default)("nft-item__badge-wrapper",y,{"nft-item__badge-wrapper__clickable":f}),anchorElementShape:c.BadgeWrapperAnchorElementShape.circular,positionObj:{top:-4,right:-4},display:l.Display.Block,badge:a.default.createElement(c.AvatarNetwork,{className:"nft-item__network-badge",backgroundColor:g,"data-testid":"nft-network-badge",size:c.AvatarNetworkSize.Sm,name:o,src:d,borderWidth:2,borderColor:l.BackgroundColor.backgroundDefault})},k))};n.NftItem=p,p.propTypes={src:o.default.string,alt:o.default.string.isRequired,name:o.default.string,networkName:o.default.string.isRequired,networkSrc:o.default.string,tokenId:o.default.string.isRequired,onClick:o.default.func,clickable:o.default.bool,isIpfsURL:o.default.bool,badgeWrapperClassname:o.default.string}}}},{package:"$root$",file:"ui/components/multichain/nft-item/nft-item.js"}],[5694,{"./notification-detail-address":5695},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailAddress",{enumerable:!0,get:function(){return a.NotificationDetailAddress}});var a=e("./notification-detail-address")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-address/index.ts"}],[5695,{"../../../../shared/modules/hexstring-utils":5089,"../../../helpers/constants/design-system":5953,"../../../helpers/utils/util":6001,"../../component-library":5534,"../notification-detail":5714,"../notification-detail-copy-button":5704,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailAddress=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../notification-detail"),i=e("../notification-detail-copy-button"),s=e("../../component-library"),c=e("../../../helpers/constants/design-system"),l=e("../../../helpers/utils/util"),u=e("../../../../shared/modules/hexstring-utils");const d=({side:e})=>o.default.createElement(s.Text,{variant:c.TextVariant.bodyLgMedium,fontWeight:c.FontWeight.Medium},e);n.NotificationDetailAddress=({side:e,address:t})=>{const n=(0,u.toChecksumHexAddress)(t),a=(0,l.shortenAddress)(n);return o.default.createElement(r.NotificationDetail,{icon:o.default.createElement(s.AvatarAccount,{address:t}),primaryTextLeft:o.default.createElement(d,{side:e}),secondaryTextLeft:o.default.createElement(i.NotificationDetailCopyButton,{text:t,displayText:a})})}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-address/notification-detail-address.tsx"}],[5696,{"./notification-detail-asset":5697},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailAsset",{enumerable:!0,get:function(){return a.NotificationDetailAsset}});var a=e("./notification-detail-asset")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-asset/index.ts"}],[5697,{"../../../helpers/constants/design-system":5953,"../../component-library":5534,"../notification-detail":5714,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailAsset=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../notification-detail"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system");const c=(e,t,n,a)=>o.default.createElement(i.Text,{variant:e,fontWeight:t,color:n},a);n.NotificationDetailAsset=({icon:e,label:t,detail:n,fiatValue:a,value:l})=>{var u;const d=o.default.createElement(i.AvatarToken,{src:null===(u=e.badge)||void 0===u?void 0:u.src,size:i.AvatarTokenSize.Sm,backgroundColor:s.BackgroundColor.infoDefault,borderColor:s.BorderColor.backgroundDefault,borderWidth:2}),p=e.badge?o.default.createElement(i.BadgeWrapper,{position:e.badge.position||i.BadgeWrapperPosition.topRight,badge:d},o.default.createElement(i.AvatarToken,{src:e.src,borderColor:s.BorderColor.borderMuted,className:"notification-detail-asset__icon"})):o.default.createElement(i.AvatarToken,{src:e.src,borderColor:s.BorderColor.borderMuted,className:"notification-detail-asset__icon"}),m=c(s.TextVariant.bodyLgMedium,s.FontWeight.Medium,s.TextColor.textDefault,t),f=c(s.TextVariant.bodyMd,s.FontWeight.Normal,s.TextColor.textAlternative,n),h=l?c(s.TextVariant.bodyLgMedium,s.FontWeight.Medium,s.TextColor.textDefault,l):undefined,y=a?c(s.TextVariant.bodyMd,s.FontWeight.Normal,s.TextColor.textAlternative,a):undefined;return o.default.createElement(r.NotificationDetail,{icon:p,primaryTextLeft:m,secondaryTextLeft:f,primaryTextRight:h,secondaryTextRight:y})}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-asset/notification-detail-asset.tsx"}],[5698,{"./notification-detail-block-explorer-button":5699},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailBlockExplorerButton",{enumerable:!0,get:function(){return a.NotificationDetailBlockExplorerButton}});var a=e("./notification-detail-block-explorer-button")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-block-explorer-button/index.ts"}],[5699,{"../../../../shared/modules/conversion.utils":5081,"../../../helpers/utils/notification.util":5993,"../../../hooks/useI18nContext":6031,"../../../selectors":6639,"../../component-library":5534,"../notification-detail-button":5700,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailBlockExplorerButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("../../../selectors"),i=e("../../component-library"),s=e("../../../../shared/modules/conversion.utils"),c=e("../../../hooks/useI18nContext"),l=e("../../../helpers/utils/notification.util"),u=e("../notification-detail-button");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.NotificationDetailBlockExplorerButton=({notification:e,chainId:t,txHash:n,id:d})=>{var p;const m=(0,c.useI18nContext)(),f=(0,s.decimalToHex)(t),{blockExplorerConfig:h}=(0,l.getNetworkDetailsByChainId)(`0x${f}`),y=(0,o.useSelector)(r.getAllNetworks),g=(0,a.useMemo)((()=>y.find((e=>e.chainId===f))),[y]),b=(null==g||null===(p=g.rpcPrefs)||void 0===p?void 0:p.blockExplorerUrl)??(null==h?void 0:h.url),v=null!=g&&null!==(k=g.rpcPrefs)&&void 0!==k&&k.blockExplorerUrl?m("notificationItemCheckBlockExplorer"):null!=h&&h.name?m("notificationTransactionSuccessView",[h.name]):m("notificationItemCheckBlockExplorer");var k;return b?a.default.createElement(u.NotificationDetailButton,{notification:e,variant:i.ButtonVariant.Secondary,text:v,href:`${b}/tx/${n}`,id:d,isExternal:!0}):null}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-block-explorer-button/notification-detail-block-explorer-button.tsx"}],[5700,{"./notification-detail-button":5701},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailButton",{enumerable:!0,get:function(){return a.NotificationDetailButton}});var a=e("./notification-detail-button")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-button/index.ts"}],[5701,{"../../../../app/scripts/controllers/metamask-notifications/constants/notification-schema":19,"../../../../shared/constants/metametrics":5043,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../component-library":5534,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../contexts/metametrics"),r=e("../../../../shared/constants/metametrics"),i=e("../../../../app/scripts/controllers/metamask-notifications/constants/notification-schema"),s=e("../../component-library"),c=e("../../../helpers/constants/design-system");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.NotificationDetailButton=({notification:e,variant:t=s.ButtonVariant.Secondary,text:n,href:l,id:u,isExternal:d=!1,endIconName:p=!0})=>{const m=(0,a.useContext)(o.MetaMetricsContext);return a.default.createElement(s.Button,{key:u,href:l,variant:t,externalLink:d,size:s.ButtonSize.Lg,width:c.BlockSize.Full,endIconName:p?s.IconName.Arrow2UpRight:undefined,onClick:()=>{m({category:r.MetaMetricsEventCategory.NotificationInteraction,event:r.MetaMetricsEventName.NotificationClicked,properties:{notification_id:e.id,notification_type:e.type,...e.type!==i.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT&&{chain_id:null==e?void 0:e.chain_id},clicked_item:"block_explorer"}})}},n)}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-button/notification-detail-button.tsx"}],[5702,{"./notification-detail-collection":5703},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailCollection",{enumerable:!0,get:function(){return a.NotificationDetailCollection}});var a=e("./notification-detail-collection")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-collection/index.ts"}],[5703,{"../../../helpers/constants/design-system":5953,"../../../helpers/utils/notification.util":5993,"../../../selectors":6639,"../../app/assets/nfts/nft-default-image/nft-default-image":5136,"../../component-library":5534,"../notification-detail":5714,react:4779,"react-redux":4735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailCollection=void 0;var a=d(e("react")),o=e("react-redux"),r=e("../../../selectors"),i=d(e("../../app/assets/nfts/nft-default-image/nft-default-image")),s=e("../../../helpers/utils/notification.util"),c=e("../notification-detail"),l=e("../../component-library"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}n.NotificationDetailCollection=({icon:e,label:t,collection:n})=>{const{badgeSrc:d,src:p}=e,m=(0,o.useSelector)(r.getIpfsGateway),f=(0,o.useSelector)(r.getOpenSeaEnabled),h=m&&(0,s.isIpfsURL)(p)&&p,y=f&&p&&!(0,s.isIpfsURL)(p),g=a.default.createElement(l.AvatarToken,{src:d,backgroundColor:u.BackgroundColor.infoDefault,borderColor:u.BorderColor.backgroundDefault,borderWidth:2,size:l.AvatarTokenSize.Sm}),b=a.default.createElement(l.BadgeWrapper,{position:l.BadgeWrapperPosition.topRight,badge:g},h||y?a.default.createElement(l.Box,{as:"img",src:p,display:u.Display.Block,justifyContent:u.JustifyContent.center,backgroundColor:u.BackgroundColor.primaryMuted,borderRadius:u.BorderRadius.LG,className:"notification-detail-collection__image"}):a.default.createElement(i.default,{className:"nft-item__default-image notification-detail-collection__image","data-testid":"nft-default-image",clickable:!1})),v=(e,t,n,o)=>a.default.createElement(l.Text,{variant:e,fontWeight:t,color:n},o),k=v(u.TextVariant.bodyLgMedium,u.FontWeight.Medium,u.TextColor.textDefault,t),T=v(u.TextVariant.bodyMd,u.FontWeight.Normal,u.TextColor.textAlternative,n);return a.default.createElement(c.NotificationDetail,{icon:b,primaryTextLeft:k,secondaryTextLeft:T})}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-collection/notification-detail-collection.tsx"}],[5704,{"./notification-detail-copy-button":5705},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailCopyButton",{enumerable:!0,get:function(){return a.NotificationDetailCopyButton}});var a=e("./notification-detail-copy-button")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-copy-button/index.ts"}],[5705,{"../../../../app/scripts/controllers/metamask-notifications/constants/notification-schema":19,"../../../../shared/constants/metametrics":5043,"../../../../shared/constants/time":5059,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../hooks/useCopyToClipboard":6020,"../../../hooks/useI18nContext":6031,"../../component-library":5534,"../../ui/tooltip/tooltip":5904,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailCopyButton=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../app/scripts/controllers/metamask-notifications/constants/notification-schema"),i=e("../../../contexts/metametrics"),s=e("../../../../shared/constants/metametrics"),c=e("../../component-library"),l=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useCopyToClipboard"),d=(a=e("../../ui/tooltip/tooltip"))&&a.__esModule?a:{default:a},p=e("../../../hooks/useI18nContext"),m=e("../../../../shared/constants/time");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.NotificationDetailCopyButton=({notification:e,text:t,displayText:n,color:a=l.TextColor.textAlternative})=>{const[f,h]=(0,u.useCopyToClipboard)(m.MINUTE),y=(0,p.useI18nContext)(),g=(0,o.useContext)(i.MetaMetricsContext),b=y(f?"copiedExclamation":"copyToClipboard");return o.default.createElement(d.default,{position:"bottom",title:b},o.default.createElement(c.ButtonBase,{backgroundColor:l.BackgroundColor.transparent,onClick:()=>{"function"==typeof h&&h(t),e&&g({category:s.MetaMetricsEventCategory.NotificationInteraction,event:s.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.id,notification_type:e.type,...e.type!==r.TRIGGER_TYPES.FEATURES_ANNOUNCEMENT&&{chain_id:null==e?void 0:e.chain_id},clicked_item:"tx_id"}})},paddingRight:0,paddingLeft:0,variant:l.TextVariant.bodyMd,fontWeight:l.FontWeight.Normal,color:a,endIconName:f?c.IconName.CopySuccess:c.IconName.Copy,alignItems:l.AlignItems.center,"data-testid":"address-copy-button-text",size:c.ButtonBaseSize.Sm},o.default.createElement(c.Box,{display:l.Display.Flex},n)))}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-copy-button/notification-detail-copy-button.tsx"}],[5706,{"./notification-detail-info":5707},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailInfo",{enumerable:!0,get:function(){return a.NotificationDetailInfo}});var a=e("./notification-detail-info")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-info/index.ts"}],[5707,{"../../../helpers/constants/design-system":5953,"../../component-library":5534,"../notification-detail":5714,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailInfo=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../notification-detail"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system");n.NotificationDetailInfo=({icon:e,label:t,detail:n,action:a})=>o.default.createElement(r.NotificationDetail,{icon:o.default.createElement(i.AvatarIcon,e),primaryTextLeft:o.default.createElement(i.Text,{variant:s.TextVariant.bodyLgMedium,fontWeight:s.FontWeight.Medium,color:s.TextColor.textDefault},t),secondaryTextLeft:o.default.createElement(i.Text,{variant:s.TextVariant.bodyMd,fontWeight:s.FontWeight.Normal,color:s.TextColor.textAlternative},n),secondaryTextRight:a})}}},{package:"$root$",file:"ui/components/multichain/notification-detail-info/notification-detail-info.tsx"}],[5708,{"./notification-detail-network-fee":5709},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailNetworkFee",{enumerable:!0,get:function(){return a.NotificationDetailNetworkFee}});var a=e("./notification-detail-network-fee")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-network-fee/index.ts"}],[5709,{"../../../../shared/constants/metametrics":5043,"../../../../shared/modules/conversion.utils":5081,"../../../contexts/metametrics":5920,"../../../helpers/constants/design-system":5953,"../../../helpers/utils/notification.util":5993,"../../../hooks/useI18nContext":6031,"../../component-library":5534,"../../ui/icon/preloader/preloader-icon.component":5833,"../notification-detail":5714,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailNetworkFee=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../hooks/useI18nContext"),i=e("../../../contexts/metametrics"),s=e("../../../helpers/utils/notification.util"),c=e("../../../../shared/modules/conversion.utils"),l=e("../../../../shared/constants/metametrics"),u=e("../notification-detail"),d=e("../../component-library"),p=e("../../../helpers/constants/design-system"),m=(a=e("../../ui/icon/preloader/preloader-icon.component"))&&a.__esModule?a:{default:a};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const h=({label:e,value:t})=>o.default.createElement(d.Box,{display:p.Display.Flex,justifyContent:p.JustifyContent.spaceBetween,padding:4},o.default.createElement(d.Text,{color:p.TextColor.textDefault,variant:p.TextVariant.bodyMd,fontWeight:p.FontWeight.Normal},e),o.default.createElement(d.Text,{color:p.TextColor.textAlternative,variant:p.TextVariant.bodyMd,fontWeight:p.FontWeight.Normal},t));n.NotificationDetailNetworkFee=({notification:e})=>{const t=(0,r.useI18nContext)(),n=(0,o.useContext)(i.MetaMetricsContext),[a,f]=(0,o.useState)(!1),[y,g]=(0,o.useState)(null),[b,v]=(0,o.useState)(!1),k=(e=>{const t=(0,c.decimalToHex)(e.chain_id);return(0,s.getNetworkDetailsByChainId)(`0x${t}`)})(e);(0,o.useEffect)((()=>{(async()=>{try{const t=await(0,s.getNetworkFees)(e);t&&g({transactionFee:{transactionFeeInEther:t.transactionFeeInEth,transactionFeeInUsd:t.transactionFeeInUsd},gasLimitUnits:t.gasLimit,gasUsedUnits:t.gasUsed,baseFee:t.baseFee,priorityFee:t.priorityFee,maxFeePerGas:t.maxFeePerGas})}catch(e){v(!0)}})()}),[]);return y||b?!y&&b?o.default.createElement(d.Box,{height:p.BlockSize.Full,width:p.BlockSize.Full,display:p.Display.Flex,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,flexDirection:p.FlexDirection.Column,"data-testid":"notifications-list-loading",paddingTop:4},o.default.createElement(d.Text,{as:"p",color:p.TextColor.errorDefault,variant:p.TextVariant.bodyMd},t("notificationItemError"))):o.default.createElement(d.Box,{width:p.BlockSize.Full,backgroundColor:p.BackgroundColor.transparent,padding:0},o.default.createElement(u.NotificationDetail,{icon:o.default.createElement(d.AvatarIcon,{iconName:d.IconName.Gas,color:p.TextColor.infoDefault,backgroundColor:p.BackgroundColor.infoMuted}),primaryTextLeft:o.default.createElement(d.Text,{variant:p.TextVariant.bodyLgMedium,fontWeight:p.FontWeight.Medium,color:p.TextColor.textDefault},t("notificationDetailNetworkFee")),secondaryTextLeft:o.default.createElement(d.Text,{variant:p.TextVariant.bodyMd,fontWeight:p.FontWeight.Normal,color:p.TextColor.textAlternative},null==y?void 0:y.transactionFee.transactionFeeInEther," ",null==k?void 0:k.nativeCurrencySymbol," (",null==y?void 0:y.transactionFee.transactionFeeInUsd," USD)"),secondaryTextRight:o.default.createElement(d.Box,{paddingLeft:0,paddingRight:0,paddingTop:0,backgroundColor:p.BackgroundColor.transparent,display:p.Display.InlineFlex,alignItems:p.AlignItems.center,justifyContent:p.JustifyContent.flexEnd,gap:2,as:"button",onClick:()=>{a||n({category:l.MetaMetricsEventCategory.NotificationInteraction,event:l.MetaMetricsEventName.NotificationDetailClicked,properties:{notification_id:e.id,notification_type:e.type,chain_id:e.chain_id,clicked_item:"fee_details"}}),f(!a)}},o.default.createElement(d.Text,{color:p.TextColor.primaryDefault,variant:p.TextVariant.bodyMd},t("notificationDetail")),o.default.createElement(d.Icon,{name:a?d.IconName.ArrowUp:d.IconName.ArrowDown,color:p.IconColor.primaryDefault,size:d.IconSize.Sm,marginInlineEnd:1}))}),a&&o.default.createElement(d.Box,{display:p.Display.Flex,flexDirection:p.FlexDirection.Column,justifyContent:p.JustifyContent.flexStart,width:p.BlockSize.Full},o.default.createElement(h,{label:t("notificationDetailGasLimit"),value:(null==y?void 0:y.gasLimitUnits.toString())||""}),o.default.createElement(h,{label:t("notificationDetailGasUsed"),value:(null==y?void 0:y.gasUsedUnits.toString())||""}),o.default.createElement(h,{label:t("notificationDetailBaseFee"),value:(null==y?void 0:y.baseFee)||""}),o.default.createElement(h,{label:t("notificationDetailPriorityFee"),value:(null==y?void 0:y.priorityFee)||""}),o.default.createElement(h,{label:t("notificationDetailMaxFee"),value:(null==y?void 0:y.maxFeePerGas)||""}))):o.default.createElement(d.Box,{height:p.BlockSize.Full,width:p.BlockSize.Full,display:p.Display.Flex,justifyContent:p.JustifyContent.center,alignItems:p.AlignItems.center,flexDirection:p.FlexDirection.Column,"data-testid":"notifications-list-loading"},o.default.createElement(m.default,{size:36}))}}}},{package:"$root$",file:"ui/components/multichain/notification-detail-network-fee/notification-detail-network-fee.tsx"}],[5710,{"./notification-detail-nft":5711},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailNft",{enumerable:!0,get:function(){return a.NotificationDetailNft}});var a=e("./notification-detail-nft")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-nft/index.ts"}],[5711,{"../../../helpers/constants/design-system":5953,"../../component-library":5534,"../nft-item":5692,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailNft=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../component-library"),i=e("../nft-item"),s=e("../../../helpers/constants/design-system");n.NotificationDetailNft=({networkSrc:e,tokenId:t,tokenName:n,tokenSrc:a,networkName:c})=>o.default.createElement(r.Box,{paddingTop:1,paddingBottom:4,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},o.default.createElement(r.Box,{className:"notification-detail-nft__image"},o.default.createElement(i.NftItem,{networkSrc:e,src:a,name:n,alt:n,networkName:c,tokenId:t})))}}},{package:"$root$",file:"ui/components/multichain/notification-detail-nft/notification-detail-nft.tsx"}],[5712,{"./notification-detail-title":5713},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetailTitle",{enumerable:!0,get:function(){return a.NotificationDetailTitle}});var a=e("./notification-detail-title")}}},{package:"$root$",file:"ui/components/multichain/notification-detail-title/index.ts"}],[5713,{"../../../helpers/constants/design-system":5953,"../../component-library":5534,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetailTitle=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../helpers/constants/design-system"),i=e("../../component-library");n.NotificationDetailTitle=({title:e,date:t})=>o.default.createElement(i.Box,{display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,width:r.BlockSize.Full,flexDirection:r.FlexDirection.Column,paddingInlineStart:8,paddingInlineEnd:8},o.default.createElement(i.Text,{variant:r.TextVariant.headingSm,textAlign:r.TextAlign.Center,overflowWrap:r.OverflowWrap.BreakWord},e),o.default.createElement(i.Text,{variant:r.TextVariant.bodyXs},t))}}},{package:"$root$",file:"ui/components/multichain/notification-detail-title/notification-detail-title.tsx"}],[5714,{"./notification-detail":5715},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationDetail",{enumerable:!0,get:function(){return a.NotificationDetail}});var a=e("./notification-detail")}}},{package:"$root$",file:"ui/components/multichain/notification-detail/index.ts"}],[5715,{"../../../helpers/constants/design-system":5953,"../../component-library":5534,react:4779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationDetail=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../component-library"),i=e("../../../helpers/constants/design-system");n.NotificationDetail=({icon:e,primaryTextLeft:t,primaryTextRight:n,secondaryTextLeft:a,secondaryTextRight:s})=>o.default.createElement(r.Box,{display:i.Display.Flex,justifyContent:i.JustifyContent.spaceBetween,alignItems:i.AlignItems.flexStart,width:i.BlockSize.Full,paddingBottom:2,paddingRight:4,paddingLeft:4,paddingTop:2,backgroundColor:i.BackgroundColor.transparent},o.default.createElement(r.Box,{display:i.Display.Flex,gap:4,paddingRight:4,height:i.BlockSize.Full,alignItems:i.AlignItems.flexStart},o.default.createElement(r.Box,{height:i.BlockSize.Full,className:"notification-detail__icon"},e),o.default.createElement(r.Box,{display:i.Display.Block,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,textAlign:i.TextAlign.Left},t,a)),o.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexEnd,textAlign:i.TextAlign.Right,className:"notification-detail__right-container"},n??null,s??null))}}},{package:"$root$",file:"ui/components/multichain/notification-detail/notification-detail.tsx"}],[5716,{"./notification-list-item-icon":5717},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NotificationListItemIcon",{enumerable:!0,get:function(){return a.NotificationListItemIcon}});var a=e("./notification-list-item-icon")}}},{package:"$root$",file:"ui/components/multichain/notification-list-item-icon/index.js"}]],[],{});