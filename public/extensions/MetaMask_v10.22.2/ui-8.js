LavaPack.loadBundle([[6840,{"../../../shared/constants/bridge":5720,"../../../shared/constants/multichain/networks":5733,"../../../shared/constants/network":5734,"../../../shared/constants/time":5747,"../../../shared/constants/transaction":5749,"../../../shared/lib/asset-utils":5757,"../../../shared/lib/fetch-with-cache":5763,"../../ducks/bridge/selectors":6748,"../../pages/swaps/swaps.util":7467,"../../selectors":7485,"../useAsync":6865,"../useMultichainBalances":6887,"@metamask/bridge-controller":1390,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokensWithFiltering=void 0;var a,s=e("react"),r=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("../../selectors"),l=e("../../../shared/constants/transaction"),u=e("../../../shared/constants/network"),c=e("../useMultichainBalances"),d=e("../useAsync"),m=e("../../pages/swaps/swaps.util"),p=e("../../../shared/constants/time"),f=e("../../ducks/bridge/selectors"),g=(a=e("../../../shared/lib/fetch-with-cache"))&&a.__esModule?a:{default:a},h=e("../../../shared/constants/bridge"),y=e("../../../shared/lib/asset-utils"),k=e("../../../shared/constants/multichain/networks");n.useTokensWithFiltering=(e,t)=>{const n=(0,r.useSelector)((t=>(0,f.getTopAssetsFromFeatureFlags)(t,e))),{assetsWithBalance:a}=(0,c.useMultichainBalances)(),v=(0,r.useSelector)(i.selectERC20TokensByChain),{value:b,pending:T}=(0,d.useAsyncResult)((async()=>{if(e){if(!(0,o.isSolanaChainId)(e)){var t;const a=(0,o.formatChainIdToHex)(e),s=null===(t=v[a])||void 0===t?void 0:t.timestamp;var n;if(s&&Date.now()-s<=10*p.MINUTE)return null===(n=v[a])||void 0===n?void 0:n.data}return await(0,o.fetchBridgeTokens)(e,o.BridgeClientId.EXTENSION,(async(e,t)=>{const{headers:n,...a}=t??{};return await(0,g.default)({url:e,...a,fetchOptions:{method:"GET",headers:n},functionName:"fetchBridgeTokens"})}),h.BRIDGE_API_BASE_URL)}return{}}),[e,v]),{value:S,pending:w}=(0,d.useAsyncResult)((async()=>e?n?n.map((e=>({address:e}))):await(0,m.fetchTopAssetsList)(e):[]),[e,n]),C=(0,s.useCallback)((t=>{if(!e||!t)return undefined;const n={...t,chainId:(0,o.isSolanaChainId)(e)?(0,o.formatChainIdToCaip)(e):(0,o.formatChainIdToHex)(e),assetId:t.assetId};return(0,o.isNativeAddress)(t.address)?{...n,type:l.AssetType.native,address:"",image:u.CHAIN_ID_TOKEN_IMAGE_MAP[n.chainId]??(t.iconUrl||t.icon||""),balance:"0",string:"0"}:{...n,type:l.AssetType.token,image:t.iconUrl??t.icon??"",balance:"",string:undefined}}),[e]);return{filteredTokenListGenerator:(0,s.useCallback)((n=>function*(){const s=(e,a,s)=>n(e,a,s)&&(!t||!s||!(t.symbol===e&&t.address===a&&t.chainId===(0,o.formatChainIdToCaip)(s)));if(e&&S&&b&&0!==Object.keys(b).length){for(const e of a){var r,i,c;if(s(e.symbol,e.address??undefined,e.chainId))if((0,o.isNativeAddress)(e.address)||e.isNative)yield{symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:"",type:l.AssetType.native,balance:e.balance??"0",string:e.string??undefined,image:u.CHAIN_ID_TOKEN_IMAGE_MAP[e.chainId]??k.MULTICHAIN_TOKEN_IMAGE_MAP[e.chainId]??((null===(r=(0,o.getNativeAssetForChainId)(e.chainId))||void 0===r?void 0:r.icon)||(null===(i=(0,o.getNativeAssetForChainId)(e.chainId))||void 0===i?void 0:i.iconUrl)||(0,y.getAssetImageUrl)(e.address,(0,o.formatChainIdToCaip)(e.chainId)))};else yield{symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:e.address,type:l.AssetType.token,balance:e.balance??"",string:e.string??undefined,image:(e.image||(null==b||null===(c=b[e.address.toLowerCase()])||void 0===c?void 0:c.iconUrl))??(0,y.getAssetImageUrl)(e.address,(0,o.formatChainIdToCaip)(e.chainId))??""}}for(const t of S){const n=null==b?void 0:b[t.address],a=C(n);a&&s(a.symbol,a.address??undefined,e)&&a&&(yield a)}for(const t of Object.values(b)){const n=C(t);n&&!n.symbol.includes("$")&&s(n.symbol,n.address??undefined,e)&&n&&(yield n)}}}()),[C,a,S,e,b,t]),isLoading:T||w}}}}},{package:"$root$",file:"ui/hooks/bridge/useTokensWithFiltering.ts"}],[6841,{"./useAccountSyncing":6842},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAccountSyncing",{enumerable:!0,get:function(){return a.useAccountSyncing}}),Object.defineProperty(n,"useDeleteAccountSyncingDataFromUserStorage",{enumerable:!0,get:function(){return a.useDeleteAccountSyncingDataFromUserStorage}}),Object.defineProperty(n,"useShouldDispatchAccountSyncing",{enumerable:!0,get:function(){return a.useShouldDispatchAccountSyncing}});var a=e("./useAccountSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/index.ts"}],[6842,{"../../../ducks/metamask/metamask":6758,"../../../selectors":7485,"../../../selectors/identity/authentication":7483,"../../../selectors/identity/profile-syncing":7484,"../../../store/actions":7502,loglevel:4863,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldDispatchAccountSyncing=n.useDeleteAccountSyncingDataFromUserStorage=n.useAccountSyncing=void 0;var a,s=(a=e("loglevel"))&&a.__esModule?a:{default:a},r=e("react"),o=e("react-redux"),i=e("../../../store/actions"),l=e("../../../selectors/identity/profile-syncing"),u=e("../../../selectors"),c=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const m=()=>{const e=(0,o.useSelector)(l.selectIsAccountSyncingReadyToBeDispatched),t=(0,o.useSelector)(l.selectIsProfileSyncingEnabled),n=(0,o.useSelector)(u.getUseExternalServices),a=(0,o.useSelector)(c.getIsUnlocked),s=(0,o.useSelector)(d.selectIsSignedIn),r=(0,o.useSelector)(c.getCompletedOnboarding);return Boolean(n&&t&&a&&s&&r&&e)};n.useShouldDispatchAccountSyncing=m;n.useAccountSyncing=()=>{const e=(0,o.useDispatch)(),t=m(),n=(0,r.useCallback)((()=>{try{if(!t)return;e((0,i.syncInternalAccountsWithUserStorage)())}catch(e){s.default.error(e)}}),[e,t]);return{dispatchAccountSyncing:n,shouldDispatchAccountSyncing:t}};n.useDeleteAccountSyncingDataFromUserStorage=()=>{const e=(0,o.useDispatch)();return{dispatchDeleteAccountSyncingData:(0,r.useCallback)((async()=>{try{await e((0,i.deleteAccountSyncingDataFromUserStorage)())}catch{}}),[])}}}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/useAccountSyncing.ts"}],[6843,{"./useAutoSignIn":6844,"./useAutoSignOut":6845,"./useSignIn":6846,"./useSignOut":6847},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAutoSignIn",{enumerable:!0,get:function(){return r.useAutoSignIn}}),Object.defineProperty(n,"useAutoSignOut",{enumerable:!0,get:function(){return o.useAutoSignOut}}),Object.defineProperty(n,"useSignIn",{enumerable:!0,get:function(){return a.useSignIn}}),Object.defineProperty(n,"useSignOut",{enumerable:!0,get:function(){return s.useSignOut}});var a=e("./useSignIn"),s=e("./useSignOut"),r=e("./useAutoSignIn"),o=e("./useAutoSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/index.ts"}],[6844,{"../../../ducks/metamask/metamask":6758,"../../../selectors":7485,"../../../selectors/identity/authentication":7483,"../../../selectors/identity/profile-syncing":7484,"../../../selectors/metamask-notifications/metamask-notifications":7486,"./useSignIn":6846,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignIn=function(){const{signIn:e}=(0,c.useSignIn)(),t=Boolean((0,s.useSelector)(r.getIsUnlocked)),n=Boolean((0,s.useSelector)(o.getUseExternalServices)),d=Boolean((0,s.useSelector)(r.getCompletedOnboarding)),m=(0,s.useSelector)(i.selectIsSignedIn),p=(0,a.useMemo)((()=>!m&&t&&n&&d),[m,t,n,d]),f=(0,s.useSelector)(l.selectIsProfileSyncingEnabled),g=(0,s.useSelector)(o.getParticipateInMetaMetrics),h=(0,s.useSelector)(u.selectIsMetamaskNotificationsEnabled),y=(0,a.useMemo)((()=>f||g||h),[f,g,h]),k=(0,a.useMemo)((()=>p&&y),[p,y]);return{autoSignIn:(0,a.useCallback)((async()=>{k&&await e()}),[k,e]),shouldAutoSignIn:k}};var a=e("react"),s=e("react-redux"),r=e("../../../ducks/metamask/metamask"),o=e("../../../selectors"),i=e("../../../selectors/identity/authentication"),l=e("../../../selectors/identity/profile-syncing"),u=e("../../../selectors/metamask-notifications/metamask-notifications"),c=e("./useSignIn")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignIn.ts"}],[6845,{"../../../ducks/metamask/metamask":6758,"../../../selectors":7485,"../../../selectors/identity/authentication":7483,"./useSignOut":6847,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignOut=function(){const{signOut:e}=(0,l.useSignOut)(),t=Boolean((0,s.useSelector)(r.getIsUnlocked)),n=Boolean((0,s.useSelector)(o.getUseExternalServices)),u=(0,s.useSelector)(i.selectIsSignedIn),c=(0,a.useMemo)((()=>u&&t&&!n),[u,t,n]),d=(0,a.useMemo)((()=>c),[c]);return{autoSignOut:(0,a.useCallback)((async()=>{d&&await e()}),[d,e]),shouldAutoSignOut:d}};var a=e("react"),s=e("react-redux"),r=e("../../../ducks/metamask/metamask"),o=e("../../../selectors"),i=e("../../../selectors/identity/authentication"),l=e("./useSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignOut.ts"}],[6846,{"../../../selectors/identity/authentication":7483,"../../../store/actions":7502,loglevel:4863,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignIn=function(){const e=(0,r.useDispatch)(),t=(0,r.useSelector)(i.selectIsSignedIn),n=(0,s.useMemo)((()=>!t),[t]);return{signIn:(0,s.useCallback)((async()=>{if(n)try{await e((0,l.performSignIn)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t)}}),[e,n])}};var a,s=e("react"),r=e("react-redux"),o=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../../../selectors/identity/authentication"),l=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignIn.ts"}],[6847,{"../../../selectors/identity/authentication":7483,"../../../store/actions":7502,loglevel:4863,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignOut=function(){const e=(0,r.useDispatch)(),t=(0,r.useSelector)(i.selectIsSignedIn),n=(0,s.useMemo)((()=>Boolean(t)),[t]);return{signOut:(0,s.useCallback)((async()=>{if(n)try{await e((0,l.performSignOut)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t)}}),[e,n])}};var a,s=e("react"),r=e("react-redux"),o=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../../../selectors/identity/authentication"),l=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignOut.ts"}],[6848,{"./useProfileSyncing":6849},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useDisableProfileSyncing",{enumerable:!0,get:function(){return a.useDisableProfileSyncing}}),Object.defineProperty(n,"useEnableProfileSyncing",{enumerable:!0,get:function(){return a.useEnableProfileSyncing}});var a=e("./useProfileSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useProfileSyncing/index.ts"}],[6849,{"../../../store/actions":7502,loglevel:4863,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisableProfileSyncing=function(){const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(null);return{disableProfileSyncing:(0,s.useCallback)((async()=>{n(null);try{await e((0,i.disableProfileSyncing)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");n(t),o.default.error(t)}finally{e((0,i.hideLoadingIndication)())}}),[e]),error:t}},n.useEnableProfileSyncing=function(){const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(null);return{enableProfileSyncing:(0,s.useCallback)((async()=>{n(null);try{await e((0,i.enableProfileSyncing)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t),n(t)}}),[e]),error:t}};var a,s=e("react"),r=e("react-redux"),o=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useProfileSyncing/useProfileSyncing.ts"}],[685,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0})}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/types.js"}],[6850,{"../../selectors/metamask-notifications/metamask-notifications":7486,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useReadNotificationsCounter=function(){const{readSnapNotificationsCount:e}=r(),{featureAnnouncementsReadCount:t}=o(),{onChainMetamaskNotificationsReadCount:n}=i();return{notificationsReadCount:e+t+n}},n.useUnreadNotificationsCounter=function(){const{unreadSnapNotificationsCount:e}=r(),{featureAnnouncementsUnreadCount:t}=o(),{onChainMetamaskNotificationsUnreadCount:n}=i();return{notificationsUnreadCount:e+t+n}};var a=e("react-redux"),s=e("../../selectors/metamask-notifications/metamask-notifications");const r=()=>({unreadSnapNotificationsCount:(0,a.useSelector)(s.getSnapNotificationsUnreadCount),readSnapNotificationsCount:(0,a.useSelector)(s.getSnapNotificationsReadCount)}),o=()=>{const e=(0,a.useSelector)(s.selectIsFeatureAnnouncementsEnabled),t=(0,a.useSelector)(s.getFeatureAnnouncementsUnreadCount),n=(0,a.useSelector)(s.getFeatureAnnouncementsReadCount);return e?{featureAnnouncementsUnreadCount:t,featureAnnouncementsReadCount:n}:{featureAnnouncementsUnreadCount:0,featureAnnouncementsReadCount:0}},i=()=>{const e=(0,a.useSelector)(s.selectIsMetamaskNotificationsEnabled),t=(0,a.useSelector)(s.getOnChainMetamaskNotificationsUnreadCount),n=(0,a.useSelector)(s.getOnChainMetamaskNotificationsReadCount);return e?{onChainMetamaskNotificationsUnreadCount:t,onChainMetamaskNotificationsReadCount:n}:{onChainMetamaskNotificationsUnreadCount:0,onChainMetamaskNotificationsReadCount:0}}}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useCounter.tsx"}],[6851,{"../../store/actions":7502,loglevel:4863,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCreateNotifications=function(){const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(null);return{createNotifications:(0,s.useCallback)((async()=>{n(null);try{await e((0,i.createOnChainTriggers)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}}),[e]),error:t}},n.useDisableNotifications=function(){const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(null);return{disableNotifications:(0,s.useCallback)((async()=>{n(null);try{await e((0,i.disableMetamaskNotifications)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}}),[e]),error:t}},n.useEnableNotifications=function(){const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(null);return{enableNotifications:(0,s.useCallback)((async()=>{n(null);try{await e((0,i.enableMetamaskNotifications)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}}),[e]),error:t}},n.useListNotifications=function(){const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(!1),[a,l]=(0,s.useState)(null),[u,c]=(0,s.useState)(undefined);return{listNotifications:(0,s.useCallback)((async()=>{n(!0),l(null);const t=new URLSearchParams(window.location.search).get("previewToken");try{const n=await e((0,i.fetchAndUpdateMetamaskNotifications)(t??undefined));return c(n),n}catch(e){throw o.default.error(e),l(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1)}}),[e]),notificationsData:u,isLoading:t,error:a}},n.useMarkNotificationAsRead=function(){const e=(0,r.useDispatch)();return{markNotificationAsRead:(0,s.useCallback)((async t=>{try{e((0,i.markMetamaskNotificationsAsRead)(t))}catch(e){throw o.default.error(e),e}}),[e])}};var a,s=e("react"),r=e("react-redux"),o=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useNotifications.ts"}],[6852,{"../../selectors/metamask-notifications/metamask-notifications":7486,"../../store/actions":7502,loglevel:4863,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountSettingsProps=function(e){const t=(0,r.useSelector)(l.getIsUpdatingMetamaskNotificationsAccount),n=(0,r.useSelector)(l.selectIsMetamaskNotificationsEnabled),a=function(){const e=(0,r.useDispatch)(),t=(0,s.useCallback)((async t=>{try{return await e((0,i.checkAccountsPresence)(t))}catch{return{}}}),[]);return t}(),[o,u]=(0,s.useState)({}),[c,d]=(0,s.useState)(!1),[m,p]=(0,s.useState)(null),f=(0,s.useMemo)((()=>JSON.stringify(e)),[e]),g=(0,s.useCallback)((async e=>{try{d(!0),p(null);const t=await a(e);u(t)}catch{p("Failed to get account settings")}finally{d(!1)}}),[]);return(0,s.useEffect)((()=>{if(!n)return;const e=JSON.parse(f);g(e)}),[f,a,n]),{data:o,initialLoading:c,error:m,accountsBeingUpdated:t,update:g}},n.useSwitchAccountNotificationsChange=function(){const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(null);return{onChange:(0,s.useCallback)((async(t,a)=>{n(null);try{a?await e((0,i.updateOnChainTriggersByAccount)(t)):await e((0,i.deleteOnChainTriggersByAccount)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");o.default.error(t),n(t)}e((0,i.hideLoadingIndication)())}),[e]),error:t}},n.useSwitchFeatureAnnouncementsChange=function(){const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(null);return{onChange:(0,s.useCallback)((async t=>{n(null);try{await e((0,i.setFeatureAnnouncementsEnabled)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");n(t)}}),[e]),error:t}};var a,s=e("react"),r=e("react-redux"),o=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../../store/actions"),l=e("../../selectors/metamask-notifications/metamask-notifications")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useSwitchNotifications.ts"}],[6853,{"../../../../shared/modules/selectors/networks":5799,"../../../selectors":7485,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.RampsMetaMaskEntry=void 0;var a=e("react"),s=e("react-redux"),r=e("../../../../shared/modules/selectors/networks"),o=e("../../../selectors");let i=n.RampsMetaMaskEntry=function(e){return e.BuySellButton="ext_buy_sell_button",e.NftBanner="ext_buy_banner_nfts",e.TokensBanner="ext_buy_banner_tokens",e.ActivityBanner="ext_buy_banner_activity",e.BtcBanner="ext_buy_banner_btc",e}({});n.default=(e=i.BuySellButton)=>{const t=(0,s.useSelector)(r.getCurrentChainId),n=(0,s.useSelector)(o.getMetaMetricsId),l=(0,s.useSelector)(o.getParticipateInMetaMetrics),u=(0,s.useSelector)(o.getDataCollectionForMarketing),c=(0,a.useCallback)((t=>{try{const a=new URLSearchParams;a.set("metamaskEntry",e),a.set("chainId",t),n&&a.set("metametricsId",n),a.set("metricsEnabled",String(l)),u&&a.set("marketingEnabled",String(u));const s=new URL("https://portfolio.metamask.io");return s.pathname="buy",s.search=a.toString(),s.toString()}catch{return"https://portfolio.metamask.io/buy"}}),[n]);return{openBuyCryptoInPdapp:(0,a.useCallback)((e=>{const n=c(e||t);global.platform.openTab({url:n})}),[t]),getBuyURI:c}}}}},{package:"$root$",file:"ui/hooks/ramps/useRamps/useRamps.ts"}],[6854,{"../../../shared/modules/conversion.utils":5782,"../../../shared/modules/hexstring-utils":5788,"../../selectors/snaps":7499,"@metamask/utils":2950,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=void 0;var a=e("@metamask/utils"),s=e("react-redux"),r=e("../../selectors/snaps"),o=e("../../../shared/modules/hexstring-utils"),i=e("../../../shared/modules/conversion.utils");n.useDisplayName=e=>{const{address:t,chain:{namespace:n,reference:l}}=e,u=n===a.KnownCaipNamespace.Eip155,c=u?(0,o.toChecksumHexAddress)(t):t,d=(0,s.useSelector)((e=>(0,r.getMemoizedAccountName)(e,c))),m=(0,s.useSelector)((e=>(0,r.getAddressBookEntryByNetwork)(e,c,`0x${(0,i.decimalToHex)(u?l:"0")}`)));return d||u&&(null==m?void 0:m.name)||undefined}}}},{package:"$root$",file:"ui/hooks/snaps/useDisplayName.ts"}],[6855,{"../../selectors":7485,"@metamask/snaps-sdk":2746,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useInsightSnaps=function(e){const t=(0,a.useSelector)((t=>(0,r.getSnapInsights)(t,e))),n=t?Object.values(t):[],o=n.filter((e=>e.severity===s.SeverityLevel.Critical));return{data:n,warnings:o}};var a=e("react-redux"),s=e("@metamask/snaps-sdk"),r=e("../../selectors")}}},{package:"$root$",file:"ui/hooks/snaps/useInsightSnaps.js"}],[6856,{react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react");n.default=()=>{const e=(0,a.useRef)(null),[t,n]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{n(e.current&&e.current.offsetHeight<e.current.scrollHeight)}),[e]),{contentRef:e,isOverflowing:t}}}}},{package:"$root$",file:"ui/hooks/snaps/useIsOverflowing.js"}],[6857,{"../../store/actions":7502,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeWebsite=void 0;var a=e("react"),s=e("../../store/actions");n.useSafeWebsite=e=>{const[t,n]=(0,a.useState)();return(0,a.useEffect)((()=>{e&&(async()=>{(await(0,s.getPhishingResult)(e)).result||n(new URL(e))})()}),[e]),t}}}},{package:"$root$",file:"ui/hooks/snaps/useSafeWebsite.ts"}],[6858,{"../../helpers/utils/util":6819,"@metamask/snaps-utils":2850,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-router-dom"),s=e("@metamask/snaps-utils"),r=e("../../helpers/utils/util");n.default=()=>{const e=(0,a.useHistory)();return{navigate:t=>{let n;const a=(0,s.parseMetaMaskUrl)(t);n=a.snapId?(0,r.getSnapRoute)(a.snapId):a.path,e.push(n)}}}}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNavigation.ts"}],[6859,{"../../store/actions":7502,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapSettings=function({snapId:e}){const t=(0,s.useDispatch)(),[n,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(undefined),[u,c]=(0,a.useState)(undefined);return(0,a.useEffect)((()=>{let n=!1;return e&&async function(e){try{c(undefined),o(!0);const a=await(0,r.handleSnapRequest)({snapId:e,origin:"",handler:"onSettingsPage",request:{jsonrpc:"2.0",method:" "}});n||(l(a),(0,r.forceUpdateMetamaskState)(t))}catch(e){n||c(e)}finally{n||o(!1)}}(e),()=>{n=!0}}),[e]),{data:i,error:u,loading:n}};var a=e("react"),s=e("react-redux"),r=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapSettings.ts"}],[686,{"./lib":683},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.patchTags=void 0;const a=e("./lib"),s=[];n.patchTags=e=>{e.forEach((e=>{s.find((t=>t===e))||((0,a.addSemanticEncode)(e,(t=>{if(t instanceof a.DataItem&&t.getTag()===e)return t.getData()})),(0,a.addSemanticDecode)(e,(t=>new a.DataItem(t,e))),s.push(e))}))}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/utils.js"}],[6860,{"../../../shared/constants/swaps":5745,"../../../shared/modules/selectors/networks":5799,"../../ducks/swaps/swaps":6766,lodash:4855,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react"),s=e("react-redux"),r=e("lodash"),o=e("../../../shared/modules/selectors/networks"),i=e("../../../shared/constants/swaps"),l=e("../../ducks/swaps/swaps");n.default=function(){const e=(0,s.useSelector)(o.getCurrentChainId),t=(0,s.useSelector)(l.getFromToken,r.isEqual),n=(0,a.useMemo)((()=>{if(!t)return null;const n=i.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e]??null;return n?n.address===(null==t?void 0:t.address)?i.SWAPS_CHAINID_COMMON_TOKEN_PAIR[e]??null:n:null}),[e,null==t?void 0:t.address]);return n||console.warn(`No Swap default token found for chainId: ${e}`),{defaultToToken:n}}}}},{package:"$root$",file:"ui/hooks/swap/useSwapDefaultToToken.ts"}],[6861,{"../../shared/modules/conversion.utils":5782,"../../shared/modules/selectors/networks":5799,"../ducks/metamask/metamask":6758,"../helpers/utils/token-util":6816,"../selectors":7485,"ethereumjs-util":4327,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalCrossChainFiatBalance=void 0;var a=e("react-redux"),s=e("ethereumjs-util"),r=e("react"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../../shared/modules/conversion.utils"),u=e("../helpers/utils/token-util"),c=e("../../shared/modules/selectors/networks");n.useAccountTotalCrossChainFiatBalance=(e,t)=>{const n=(0,a.useSelector)(c.getNetworkConfigurationsByChainId),d=(0,a.useSelector)(o.getCurrencyRates),m=(0,a.useSelector)(o.getCurrentCurrency),p=(0,a.useSelector)(i.getCrossChainTokenExchangeRates,a.shallowEqual),f=(0,a.useSelector)(i.getCrossChainMetaMaskCachedBalances),g=(0,r.useMemo)((()=>({...p})),[p]),h=(0,r.useMemo)((()=>t.map((t=>{var a,r;const{tokensWithBalances:o}=t,i=n[t.chainId].nativeCurrency,c=null==d||null===(a=d[i])||void 0===a?void 0:a.conversionRate,p=o.map((e=>{var n;const a=null==g||null===(n=g[t.chainId])||void 0===n?void 0:n[(0,s.toChecksumAddress)(e.address)];return(0,u.getTokenFiatAmount)(a,c,m,e.string,e.symbol,!1,!1)})),h=(null==f||null===(r=f[t.chainId])||void 0===r?void 0:r[null==e?void 0:e.address])??0,y=(0,l.getValueFromWeiHex)({value:h,toCurrency:m,conversionRate:c,numberOfDecimals:2});return{...t,tokenFiatBalances:p,nativeFiatValue:y}}))),[t,n,d,g,f,null==e?void 0:e.address,m]);return{totalFiatBalance:(0,r.useMemo)((()=>h.reduce(((e,t)=>{const n=t.tokenFiatBalances.filter((e=>e!==undefined)),a=(0,l.sumDecimals)(t.nativeFiatValue,...n);return e+(a.toNumber?a.toNumber():Number(a))}),0)),[h]).toString(10),tokenFiatBalancesCrossChains:h}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalCrossChainFiatBalance.ts"}],[6862,{"../../shared/modules/conversion.utils":5782,"../../shared/modules/selectors/networks":5799,"../ducks/metamask/metamask":6758,"../helpers/utils/confirm-tx.util":6797,"../helpers/utils/token-util":6816,"../helpers/utils/util":6819,"../selectors":7485,"./useTokenBalances":6904,"ethereumjs-util":4327,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalFiatBalance=void 0;var a=e("react-redux"),s=e("ethereumjs-util"),r=e("react"),o=e("../../shared/modules/selectors/networks"),i=e("../selectors"),l=e("../../shared/modules/conversion.utils"),u=e("../ducks/metamask/metamask"),c=e("../helpers/utils/confirm-tx.util"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),p=e("./useTokenBalances");n.useAccountTotalFiatBalance=(e,t)=>{const n=(0,a.useSelector)(o.getCurrentChainId),f=(0,a.useSelector)(u.getConversionRate),g=(0,a.useSelector)(u.getCurrentCurrency),h=(0,a.useSelector)(i.getTokenExchangeRates,a.shallowEqual),y=(0,a.useSelector)(i.getConfirmationExchangeRates),k=(0,a.useSelector)(i.getMetaMaskCachedBalances),v=(null==k?void 0:k[null==e?void 0:e.address])??0,b=(0,l.getValueFromWeiHex)({value:v,toCurrency:g,conversionRate:f,numberOfDecimals:2}),T=(0,a.useSelector)(i.getAllTokens),S=(0,r.useMemo)((()=>{var t;return(null==T||null===(t=T[n])||void 0===t?void 0:t[null==e?void 0:e.address])??[]}),[null==e?void 0:e.address,n,T]),w=(0,a.useSelector)(i.getTokenList),C=(0,a.useSelector)(i.getNativeCurrencyImage),x=(0,a.useSelector)(u.getNativeCurrency),{tokensWithBalances:E}=(0,p.useTokenTracker)({chainId:n,tokens:S,address:null==e?void 0:e.address,hideZeroBalanceTokens:t}),_=(0,r.useMemo)((()=>({...h,...y})),[y,h]),I=(0,r.useMemo)((()=>E.map((e=>{const t=_[(0,s.toChecksumAddress)(e.address)];return(0,d.getTokenFiatAmount)(t,f,g,e.string,e.symbol,!1,!1)}))),[E,_,f,g]),A=(0,r.useMemo)((()=>((e,t)=>{const n=[];return t.forEach((t=>{const a=e[t.address.toLowerCase()];a&&n.push({...a,balance:t.balance,string:t.string,balanceError:t.balanceError})})),n})(w,E)),[w,E]),M=(0,r.useMemo)((()=>[{iconUrl:C,symbol:x,fiatBalance:b},...A.map(((e,t)=>({...e,fiatBalance:I[t]})))]),[A,I,C,x,b]),P=(0,r.useMemo)((()=>M.sort(((e,t)=>parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance)))),[M]),N=(0,l.sumDecimals)(b,...I).toString(10),O=(0,r.useMemo)((()=>(E.forEach((e=>{e.string=(0,m.roundToDecimalPlacesRemovingExtraZeroes)(e.string,5);const t=_[(0,s.toChecksumAddress)(e.address)];e.tokenFiatAmount=(0,d.getTokenFiatAmount)(t,f,g,e.string,e.symbol,!1,!1)||"0"})),E)),[E,_,f,g]),D=(0,c.formatCurrency)(N,g);let B=(0,l.getWeiHexFromDecimalValue)({value:N,fromCurrency:g,conversionRate:f,invertConversionRate:!0});return"NaN"===B&&(B="0x0"),{formattedFiat:D,totalWeiBalance:B,totalFiatBalance:N,tokensWithBalances:O,loading:!1,orderedTokenList:P,mergedRates:_}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[6863,{"../ducks/metamask/metamask":6758,"../selectors":7485,"../store/actions":7502,"./useMultiPolling":6885,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../selectors"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./useMultiPolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,s.useSelector)(r.getNetworkClientIdsToPoll),t=(0,s.useSelector)(i.getCompletedOnboarding),n=(0,s.useSelector)(i.getIsUnlocked),a=t&&n;(0,l.default)({startPolling:o.accountTrackerStartPolling,stopPollingByPollingToken:o.accountTrackerStopPollingByPollingToken,input:a?e:[]})}}}},{package:"$root$",file:"ui/hooks/useAccountTrackerPolling.ts"}],[6864,{"../ducks/confirm-alerts/confirm-alerts":6750,"../helpers/constants/design-system":6770,"../selectors/alerts":7477,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),s=e("react"),r=e("../selectors/alerts"),o=e("../ducks/confirm-alerts/confirm-alerts"),i=e("../helpers/constants/design-system");function l(e){const t={[i.Severity.Danger]:3,[i.Severity.Warning]:2,[i.Severity.Info]:1};return e.sort(((e,n)=>t[n.severity]-t[e.severity]))}n.default=e=>{const t=(0,a.useDispatch)(),n=l((0,a.useSelector)((t=>(0,r.selectAlerts)(t,e)))),u=(0,a.useSelector)((t=>(0,r.selectConfirmedAlertKeys)(t,e))),c=l((0,a.useSelector)((t=>(0,r.selectGeneralAlerts)(t,e)))),d=l((0,a.useSelector)((t=>(0,r.selectFieldAlerts)(t,e)))),m=(0,s.useCallback)((e=>e?n.filter((t=>t.field===e)):[]),[n]),p=(0,s.useCallback)(((n,a)=>{t((0,o.setAlertConfirmed)(e,n,a))}),[t,o.setAlertConfirmed,e]),f=(0,s.useCallback)((e=>u.includes(e)),[u]),g=n.filter((e=>!f(e.key)&&e.severity===i.Severity.Danger)),h=n.length>0,y=n.filter((e=>e.severity===i.Severity.Danger)),k=g.length>0,v=d.filter((e=>!f(e.key)&&e.severity===i.Severity.Danger));return{alerts:n,fieldAlerts:d,generalAlerts:c,getFieldAlerts:m,hasAlerts:h,dangerAlerts:y,hasDangerAlerts:(null==y?void 0:y.length)>0,hasUnconfirmedDangerAlerts:k,isAlertConfirmed:f,setAlertConfirmed:p,unconfirmedDangerAlerts:g,unconfirmedFieldDangerAlerts:v,hasUnconfirmedFieldDangerAlerts:v.length>0}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[6865,{react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RESULT_PENDING=n.RESULT_IDLE=n.RESULT_BASE=void 0,n.createErrorResult=l,n.createSuccessResult=i,n.useAsyncCallback=u,n.useAsyncResult=c,n.useAsyncResultOrThrow=function(e,t=[]){const n=c(e,t);if("error"===n.status)throw n.error;return n};var a=e("react");const s=n.RESULT_BASE={idle:!1,pending:!1,value:undefined,error:undefined},r=n.RESULT_IDLE={...s,status:"idle",idle:!0},o=n.RESULT_PENDING={...s,status:"pending",pending:!0};function i(e){return{...s,status:"success",value:e}}function l(e){return{...s,status:"error",error:e}}function u(e,t=[]){const[n,s]=(0,a.useState)(r),u=(0,a.useRef)(!0);(0,a.useEffect)((()=>()=>{u.current=!1}),[]);return[(0,a.useCallback)((async()=>{if(u.current){s(o);try{const t=await e();u.current&&s(i(t))}catch(e){u.current&&s(l(e))}}}),t),n]}function c(e,t=[]){const[n,s]=u(e,t);return(0,a.useEffect)((()=>{n()}),[n]),"idle"===s.status?o:s}}}},{package:"$root$",file:"ui/hooks/useAsync.ts"}],[6866,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ZERO_BALANCE=n.SWEEPSTAKES_START=n.SWEEPSTAKES_SLIDE=n.SWEEPSTAKES_END=n.FUND_SLIDE=n.CASH_SLIDE=n.CARD_SLIDE=n.BRIDGE_SLIDE=void 0;n.SWEEPSTAKES_SLIDE={id:"sweepStake",title:"slideSweepStakeTitle",description:"slideSweepStakeDescription",image:"./images/sweepstakes.png",href:"https://portfolio.metamask.io/explore/nfts?event=012e19e2"},n.FUND_SLIDE={id:"fund",title:"slideFundWalletTitle",description:"slideFundWalletDescription",image:"./images/slide-fund-icon.svg",href:"https://portfolio.metamask.io/buy/build-quote"},n.BRIDGE_SLIDE={id:"bridge",title:"slideBridgeTitle",description:"slideBridgeDescription",image:"./images/slide-bridge-icon.svg"},n.CARD_SLIDE={id:"card",title:"slideDebitCardTitle",description:"slideDebitCardDescription",image:"./images/slide-card-icon.svg",href:"https://portfolio.metamask.io/card"},n.CASH_SLIDE={id:"cash",title:"slideCashOutTitle",description:"slideCashOutDescription",image:"./images/slide-sell-icon.svg",href:"https://portfolio.metamask.io/sell"},n.ZERO_BALANCE="0x00",n.SWEEPSTAKES_START=new Date("2025-04-09T00:00:00Z"),n.SWEEPSTAKES_END=new Date("2025-04-28T23:59:59Z")}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/constants.ts"}],[6867,{"./constants":6866,"./useCarouselManagement":6868},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./useCarouselManagement");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=e("./constants");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}))}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/index.ts"}],[6868,{"../../selectors":7485,"../../store/actions":7502,"./constants":6866,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSweepstakesCampaignActive=l,n.useCarouselManagement=void 0;var a=e("react"),s=e("react-redux"),r=e("../../store/actions"),o=e("../../selectors"),i=e("./constants");function l(e){return e>=i.SWEEPSTAKES_START&&e<=i.SWEEPSTAKES_END}n.useCarouselManagement=({hasZeroBalance:e,testDate:t})=>{const n=Boolean(!1),u=(0,s.useDispatch)(),c=(0,s.useSelector)(o.getSlides),d=(0,a.useCallback)((t=>{const n=[],a={...i.FUND_SLIDE,undismissable:e};t&&n.push({...i.SWEEPSTAKES_SLIDE,dismissed:!1}),n.push(i.BRIDGE_SLIDE),n.push(i.CARD_SLIDE),n.push(i.CASH_SLIDE);const s=t?1:0;return n.splice(s,0,a),n}),[e]),m=(0,a.useCallback)((e=>!n&&l(e)),[]);return(0,a.useEffect)((()=>{const e=t?new Date(t):new Date((new Date).toISOString()),n=m(e);if(!n){c.find((e=>e.id===i.SWEEPSTAKES_SLIDE.id))&&u((0,r.removeSlide)(i.SWEEPSTAKES_SLIDE.id))}const a=d(n);u((0,r.updateSlides)(a))}),[e,t,d,m]),{slides:c}}}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/useCarouselManagement.ts"}],[6869,{"../../shared/constants/copy":5722,"../../shared/constants/time":5747,"./useTimeout":6903,"copy-to-clipboard":4143,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCopyToClipboard=function(e=u){const[t,n]=(0,s.useState)(!1),a=(0,l.useTimeout)((()=>{(0,r.default)(" ",i.COPY_OPTIONS),n(!1)}),e,!1),o=(0,s.useCallback)((e=>{n(!0),a(),(0,r.default)(e,i.COPY_OPTIONS)}),[a]);return[t,o]};var a,s=e("react"),r=(a=e("copy-to-clipboard"))&&a.__esModule?a:{default:a},o=e("../../shared/constants/time"),i=e("../../shared/constants/copy"),l=e("./useTimeout");const u=o.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[6871,{"../../shared/modules/selectors/networks":5799,"../ducks/metamask/metamask":6758,"../selectors":7485,"../store/actions":7502,"./usePolling":6895,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../selectors"),o=e("../../shared/modules/selectors/networks"),i=e("../store/actions"),l=e("../ducks/metamask/metamask"),u=(a=e("./usePolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,s.useSelector)(r.getUseCurrencyRateCheck),t=(0,s.useSelector)(l.getCompletedOnboarding),n=(0,s.useSelector)(l.getIsUnlocked),a=(0,s.useSelector)(o.getNetworkConfigurationsByChainId),c=t&&n&&e,d=[...new Set(Object.values(a).map((e=>e.nativeCurrency)))];(0,u.default)({startPolling:i.currencyRateStartPolling,stopPollingByPollingToken:i.currencyRateStopPollingByPollingToken,input:d,enabled:c})}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[6872,{"../../shared/constants/swaps":5745,"../../shared/modules/selectors/networks":5799,"../../shared/modules/string-utils":5802,"../ducks/metamask/metamask":6758,"../helpers/constants/routes":6776,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,s.useRouteMatch)({path:`${i.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),n=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,c=(0,a.useSelector)(r.getTokens),d=n&&c.find((({address:e})=>(0,u.isEqualCaseInsensitive)(e,n))),m=(0,a.useSelector)(o.getCurrentChainId);return d??(l.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[m]||l.ETH_SWAPS_TOKEN_OBJECT)};var a=e("react-redux"),s=e("react-router-dom"),r=e("../ducks/metamask/metamask"),o=e("../../shared/modules/selectors/networks"),i=e("../helpers/constants/routes"),l=e("../../shared/constants/swaps"),u=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[6873,{"../../shared/constants/first-party-contracts":5724,"../../shared/modules/hexstring-utils":5788,"../ducks/domains":6752,"../selectors":7485,"../selectors/nft":7491,"./useName":6889,"./useNftCollectionsMetadata":6890,"@metamask/name-controller":2164,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=function(e){return m([e])[0]},n.useDisplayNames=m;var a=e("@metamask/name-controller"),s=e("react-redux"),r=e("../../shared/constants/first-party-contracts"),o=e("../../shared/modules/hexstring-utils"),i=e("../ducks/domains"),l=e("../selectors"),u=e("../selectors/nft"),c=e("./useName"),d=e("./useNftCollectionsMetadata");function m(e){const t=(0,c.useNames)(e),n=e.map((({type:e,value:t,variation:n})=>{if(e!==a.NameType.ETHEREUM_ADDRESS)return undefined;const s=t.toLowerCase();return Object.keys(r.FIRST_PARTY_CONTRACT_NAMES).find((e=>{var t;const a=null===(t=r.FIRST_PARTY_CONTRACT_NAMES[e])||void 0===t?void 0:t[n];return(null==a?void 0:a.toLowerCase())===s}))}));const m=function(e){const t=(0,s.useSelector)(l.selectERC20TokensByChain);return e.map((({preferContractSymbol:e,type:n,value:s,variation:r})=>{var o;if(n!==a.NameType.ETHEREUM_ADDRESS)return undefined;const i=s.toLowerCase(),{iconUrl:l,name:u,symbol:c}=(null==t||null===(o=t[r])||void 0===o||null===(o=o.data)||void 0===o?void 0:o[i])??{};return{name:e&&c?c:u,image:l}}))}(e),p=function(e){const t=(0,s.useSelector)(u.getNftContractsByAddressByChain);return e.map((({type:e,value:n,variation:s})=>{var r;if(e!==a.NameType.ETHEREUM_ADDRESS)return undefined;const o=n.toLowerCase(),i=t[s];return null==i||null===(r=i[o])||void 0===r?void 0:r.name}))}(e),f=function(e){const t=e.filter((({type:e})=>e===a.NameType.ETHEREUM_ADDRESS)).map((({value:e,variation:t})=>({chainId:t,contractAddress:e}))),n=(0,d.useNftCollectionsMetadata)(t);return e.map((({type:e,value:t,variation:s})=>{var r;if(e!==a.NameType.ETHEREUM_ADDRESS)return undefined;const o=null===(r=n[s])||void 0===r?void 0:r[t.toLowerCase()],i=!1!==(null==o?void 0:o.isSpam);if(!o||i)return undefined;const{name:l,image:u}=o;return{name:l,image:u}}))}(e),g=function(e){const t=(0,s.useSelector)(i.getDomainResolutions);return e.map((({type:e,value:n})=>{if(e!==a.NameType.ETHEREUM_ADDRESS)return undefined;const s=null==t?void 0:t.find((e=>(0,o.toChecksumHexAddress)(e.resolvedAddress)===(0,o.toChecksumHexAddress)(n)));return null==s?void 0:s.domainName}))}(e);return e.map(((e,a)=>{const s=t[a],r=n[a],o=m[a],i=p[a],l=f[a],u=g[a],c=(null==s?void 0:s.name)||r||(null==l?void 0:l.name)||(null==o?void 0:o.name)||i||u||null,d=(null==l?void 0:l.image)||(null==o?void 0:o.image);return{name:c,hasPetname:Boolean(null==s?void 0:s.name),contractDisplayName:null==o?void 0:o.name,image:d}}))}}}},{package:"$root$",file:"ui/hooks/useDisplayName.ts"}],[6874,{lodash:4855,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=s.isEqual){const[n,r]=(0,a.useState)(e);return(0,a.useLayoutEffect)((()=>{t(e,n)||r(e)}),[e,t,n]),n};var a=e("react"),s=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[6875,{"../../shared/modules/conversion.utils":5782,"../ducks/metamask/metamask":6758,"../helpers/utils/confirm-tx.util":6797,"../selectors":7485,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEthFiatAmount=function(e,t={},n){const u=(0,s.useSelector)(i.getConversionRate),c=(0,s.useSelector)(i.getCurrentCurrency),d=(0,s.useSelector)(r.getShouldShowFiat),m=t.showFiat??d,p=(0,a.useMemo)((()=>(0,l.decEthToConvertedCurrency)(e,c,u)),[u,c,e]);if(!m||"ETH"===c.toUpperCase()||u<=0||e===undefined)return undefined;return n?(0,o.formatCurrency)(p,c):`${(0,o.formatCurrency)(p,c)} ${c.toUpperCase()}`};var a=e("react"),s=e("react-redux"),r=e("../selectors"),o=e("../helpers/utils/confirm-tx.util"),i=e("../ducks/metamask/metamask"),l=e("../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[6876,{"../ducks/locale/locale":6757,"../ducks/metamask/metamask":6758,"../helpers/utils/util":6819,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFiatFormatter=void 0;var a=e("react-redux"),s=e("../ducks/locale/locale"),r=e("../ducks/metamask/metamask"),o=e("../helpers/utils/util");n.useFiatFormatter=()=>{const e=(0,a.useSelector)(s.getIntlLocale),t=(0,a.useSelector)(r.getCurrentCurrency);return(n,a={})=>{const{shorten:s}=a;try{const a=new Intl.NumberFormat(e,{style:"currency",currency:t});if(!s)return a.format(n);const r=a.formatToParts(n);let i="",l="";r.forEach((e=>{"currency"===e.type?i+=e.value:l+=e.value}));const u=(0,o.shortenString)(l,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return r.findIndex((e=>"currency"===e.type))<r.findIndex((e=>"integer"===e.type))?`${i}${u}`:`${u}${i}`}catch(a){const r=new Intl.NumberFormat(e).format(n),i=(0,o.shortenString)(r,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return s?`${i} ${t}`:`${r} ${t}`}}}}}},{package:"$root$",file:"ui/hooks/useFiatFormatter.ts"}],[6877,{"../../shared/modules/selectors/networks":5799,"../ducks/metamask/metamask":6758,"../store/actions":7502,"./usePolling":6895,"lodash/isEqual":4842,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(e){const t=(0,s.useSelector)(l.getSelectedNetworkClientId),n=e??t,[c,d]=(0,r.useState)(""),m=(0,s.useSelector)((e=>(0,o.getGasEstimateTypeByChainId)(e,c))),p=(0,s.useSelector)((e=>(0,o.getGasFeeEstimatesByChainId)(e,c)),a.default),f=(0,s.useSelector)((e=>(0,o.getIsGasEstimatesLoadingByChainId)(e,{chainId:c,networkClientId:n}))),g=(0,s.useSelector)((e=>(0,o.getIsNetworkBusyByChainId)(e,c)));return(0,r.useEffect)((()=>{let e=!0;return(0,i.getNetworkConfigurationByNetworkClientId)(n).then((t=>{t&&e&&d(t.chainId)})),()=>{e=!1}}),[n]),(0,u.default)({startPolling:e=>(0,i.gasFeeStartPollingByNetworkClientId)(e.networkClientId),stopPollingByPollingToken:i.gasFeeStopPollingByPollingToken,input:{networkClientId:n}}),{gasFeeEstimates:p,gasEstimateType:m,isGasEstimatesLoading:f,isNetworkBusy:g}};var a=c(e("lodash/isEqual")),s=e("react-redux"),r=e("react"),o=e("../ducks/metamask/metamask"),i=e("../store/actions"),l=e("../../shared/modules/selectors/networks"),u=c(e("./usePolling"));function c(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[6878,{"../helpers/utils/util":6819,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react"),s=e("../helpers/utils/util");n.default=(e,t)=>{const[n,r]=(0,a.useState)("");return(0,a.useEffect)((()=>{(async()=>{const n=await(0,s.getAssetImageURL)(e,t);r(n)})()}),[e,t]),n}}}},{package:"$root$",file:"ui/hooks/useGetAssetImageUrl.ts"}],[6879,{"../../shared/modules/conversion.utils":5782,"../../shared/modules/selectors/networks":5799,"../selectors":7485,"./useTokenBalances":6904,"bn.js":4026,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGetFormattedTokensPerChain=void 0;var a=e("react-redux"),s=e("bn.js"),r=e("../selectors"),o=e("../../shared/modules/selectors/networks"),i=e("../../shared/modules/conversion.utils"),l=e("./useTokenBalances");n.useGetFormattedTokensPerChain=(e,t,n,u)=>{const c=(0,a.useSelector)(o.getCurrentChainId),d=(0,a.useSelector)(r.getAllTokens),m=(0,l.useTokenBalances)({chainIds:u});return{formattedTokensWithBalancesPerChain:(n?[c]:u).map((n=>{var a;const r=((null==d||null===(a=d[n])||void 0===a?void 0:a[null==e?void 0:e.address])??[]).reduce(((a,r)=>{var o;const u=(null===(o=m.tokenBalances[e.address])||void 0===o||null===(o=o[n])||void 0===o?void 0:o[r.address])??"0x0";if("0x0"!==u||!t){const e=(0,i.hexToDecimal)(u);a.push({address:r.address,symbol:r.symbol,decimals:r.decimals,balance:e,string:(0,l.stringifyBalance)(new s.BN(e),new s.BN(r.decimals))})}return a}),[]);return{chainId:n,tokensWithBalances:r}}))}}}}},{package:"$root$",file:"ui/hooks/useGetFormattedTokensPerChain.ts"}],[6881,{"../../app/scripts/lib/util":187,"../../shared/constants/network":5734,"../../shared/constants/time":5747,"../../shared/lib/fetch-with-cache":5763,"../selectors":7485,"../selectors/multichain":7489,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalNativeTokenSymbol=function(e,t,n,a=""){const[m,p]=(0,s.useState)(!1),f=(0,r.useSelector)(u.useSafeChainsListValidationSelector),g=(0,r.useSelector)(c.getMultichainIsEvm),h=(0,r.useSelector)(c.getMultichainCurrentNetwork);return(0,s.useEffect)((()=>{!async function(n){if(g)try{var s;if(!f)return void p(!0);if((e=>{const t=(0,d.getValidUrl)(e);return null!==t&&("localhost"===t.hostname||"127.0.0.1"===t.hostname)})(a))return void p(!0);const r=i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e];if(r)return void p(r===t);const u=i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[e];if(u&&u.some((e=>e.currencySymbol===t)))return void p(!0);const c=(await(0,o.default)({url:i.CHAIN_SPEC_URL,allowStale:!0,cacheOptions:{cacheRefreshTime:l.DAY},functionName:"getSafeChainsList"})).find((e=>e.chainId===parseInt(n,16))),m=(null==c||null===(s=c.nativeCurrency)||void 0===s?void 0:s.symbol)??null;p(m===t)}catch(e){p(!1)}else p(t===(null==h?void 0:h.ticker))}(e)}),[m,e,t,n,a,f]),m};var a,s=e("react"),r=e("react-redux"),o=(a=e("../../shared/lib/fetch-with-cache"))&&a.__esModule?a:{default:a},i=e("../../shared/constants/network"),l=e("../../shared/constants/time"),u=e("../selectors"),c=e("../selectors/multichain"),d=e("../../app/scripts/lib/util")}}},{package:"$root$",file:"ui/hooks/useIsOriginalNativeTokenSymbol.js"}],[6882,{"../selectors":7485,"../store/actions":7502,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalTokenSymbol=function(e,t){const[n,i]=(0,a.useState)(null),l=(0,s.useSelector)(o.getTokenList);return(0,a.useEffect)((()=>{!async function(e){var n,a;let s=null===(n=l[null==e?void 0:e.toLowerCase()])||void 0===n?void 0:n.symbol;s||(s=await(0,r.getTokenSymbol)(e)),i((null===(a=s)||void 0===a?void 0:a.toLowerCase())===(null==t?void 0:t.toLowerCase()))}(e)}),[e,t]),n};var a=e("react"),s=e("react-redux"),r=e("../store/actions"),o=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useIsOriginalTokenSymbol.js"}],[6883,{"../store/actions":7502,loglevel:4863,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisableMetametrics=function(){const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(!1),[a,o]=(0,s.useState)(null);return{disableMetametrics:(0,s.useCallback)((async()=>{n(!0),e((0,i.showLoadingIndication)()),o(null);try{await e((0,i.setParticipateInMetaMetrics)(!1))}catch(e){throw o(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())}),[e]),loading:t,error:a}},n.useEnableMetametrics=function(){const e=(0,r.useDispatch)(),[t,n]=(0,s.useState)(!1),[a,l]=(0,s.useState)(null);return{enableMetametrics:(0,s.useCallback)((async()=>{n(!0),e((0,i.showLoadingIndication)()),l(null);try{await e((0,i.setParticipateInMetaMetrics)(!0))}catch(e){throw l(e instanceof Error?e.message:"An unexpected error occurred"),o.default.error(e),e}finally{n(!1),e((0,i.hideLoadingIndication)())}e((0,i.hideLoadingIndication)())}),[e]),loading:t,error:a}};var a,s=e("react"),r=e("react-redux"),o=(a=e("loglevel"))&&a.__esModule?a:{default:a},i=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useMetametrics.ts"}],[6884,{"../store/actions":7502,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useModalProps=function(){const e=(0,a.useSelector)((e=>{var t;return null===(t=e.appState.modal.modalState)||void 0===t?void 0:t.props})),t=(0,a.useDispatch)();return{props:e,hideModal:()=>t((0,s.hideModal)())}};var a=e("react-redux"),s=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useModalProps.ts"}],[6885,{react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react");n.default=e=>{const t=(0,a.useRef)(new Map);(0,a.useEffect)((()=>{for(const n of e.input){const a=JSON.stringify(n);t.current.has(a)||e.startPolling(n).then((e=>t.current.set(a,e)))}for(const[n,a]of t.current.entries()){e.input.some((e=>n===JSON.stringify(e)))||(e.stopPollingByPollingToken(a),t.current.delete(n))}}),[e.input&&JSON.stringify(e.input)]),(0,a.useEffect)((()=>()=>{for(const n of t.current.values())e.stopPollingByPollingToken(n)}),[])}}}},{package:"$root$",file:"ui/hooks/useMultiPolling.ts"}],[6886,{"../../shared/constants/multichain/assets":5732,"../helpers/utils/confirm-tx.util":6797,"../helpers/utils/token-util":6816,"../selectors/multichain":7489,"./useAccountTotalFiatBalance":6862,"./useMultichainSelector":6888,"@metamask/keyring-api":1983,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainAccountTotalFiatBalance=n.EMPTY_VALUES=void 0;var a=e("react-redux"),s=e("@metamask/keyring-api"),r=e("../selectors/multichain"),o=e("../helpers/utils/confirm-tx.util"),i=e("../../shared/constants/multichain/assets"),l=e("../helpers/utils/token-util"),u=e("./useMultichainSelector"),c=e("./useAccountTotalFiatBalance");const d=n.EMPTY_VALUES={formattedFiat:"0",totalFiatBalance:"0",totalWeiBalance:"0",tokensWithBalances:[],loading:!1,orderedTokenList:[]};n.useMultichainAccountTotalFiatBalance=(e,t=!1)=>{var n;if((0,s.isEvmAccountType)(e.type))return(0,c.useAccountTotalFiatBalance)(e,t);const m=(0,u.useMultichainSelector)(r.getMultichainCurrentCurrency,e),{network:p}=(0,u.useMultichainSelector)(r.getMultichainNetwork,e),{ticker:f}=p,g=(0,u.useMultichainSelector)(r.getMultichainConversionRate,e),h=(0,u.useMultichainSelector)(r.getMultichainCurrencyImage,e),y=(0,a.useSelector)(r.getMultichainBalances),k=i.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19[f];if(null==y||null===(n=y[e.id])||void 0===n||!n[k])return d;const{amount:v}=y[e.id][k],b=(0,l.getTokenFiatAmount)(1,Number(g),m,v,f,!1,!1)??"0",T={iconUrl:h,symbol:f,fiatBalance:b};return{formattedFiat:(0,o.formatCurrency)(b,m),totalFiatBalance:b,totalBalance:v,tokensWithBalances:[],loading:!1,orderedTokenList:[T]}}}}},{package:"$root$",file:"ui/hooks/useMultichainAccountTotalFiatBalance.ts"}],[6887,{"../../shared/constants/transaction":5749,"../selectors/assets":7479,"../selectors/multichain":7489,"../selectors/selectors":7494,"./useMultichainSelector":6888,"@metamask/utils":2950,"bignumber.js":3978,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainBalances=void 0;var a=e("react"),s=e("react-redux"),r=e("@metamask/utils"),o=e("bignumber.js"),i=e("../selectors/assets"),l=e("../selectors/multichain"),u=e("../../shared/constants/transaction"),c=e("../selectors/selectors"),d=e("./useMultichainSelector");n.useMultichainBalances=()=>{const e=(0,s.useSelector)(c.getSelectedEvmInternalAccount),t=(0,s.useSelector)((t=>(0,i.getTokenBalancesEvm)(t,e.address))),n=(()=>{const e=(0,s.useSelector)(l.getLastSelectedNonEvmAccount),t=(0,s.useSelector)(i.getAccountAssets),n=(0,s.useSelector)(i.getAssetsMetadata),c=(0,d.useMultichainSelector)(l.getMultichainBalances),m=(0,s.useSelector)(l.getMultichainCoinRates),p=(0,s.useSelector)(i.getAssetsRates);return(0,a.useMemo)((()=>{if(null==e||!e.id)return[];const a=null==t?void 0:t[e.id],s=null==c?void 0:c[e.id];return s&&a?a.filter((e=>n[e])).map((e=>{var t,a,i,l,c,d,f,g,h;const{chainId:y,assetReference:k,assetNamespace:v}=(0,r.parseCaipAssetType)(e);return{chainId:y,symbol:(null===(t=n[e])||void 0===t?void 0:t.symbol)??"",assetId:e,address:k,string:(null===(a=s[e])||void 0===a?void 0:a.amount)??"0",balance:(null===(i=s[e])||void 0===i?void 0:i.amount)??"0",decimals:null===(l=n[e])||void 0===l||null===(l=l.units[0])||void 0===l?void 0:l.decimals,image:(null===(c=n[e])||void 0===c?void 0:c.iconUrl)??"",type:"token"===v?u.AssetType.token:u.AssetType.native,tokenFiatAmount:new o.BigNumber((null===(d=s[e])||void 0===d?void 0:d.amount)??"1").times((null==p||null===(f=p[e])||void 0===f?void 0:f.rate)??(null==m||null===(g=m[null===(h=n[e])||void 0===h||null===(h=h.units[0])||void 0===h?void 0:h.symbol.toLowerCase()])||void 0===g?void 0:g.conversionRate)??"1").toNumber()}})).filter(Boolean):[]}),[n,p,t,m,null==e?void 0:e.id,c])})();return{assetsWithBalance:(0,a.useMemo)((()=>[...t,...n].map((e=>({...e,type:e.isNative?u.AssetType.native:u.AssetType.token}))).sort(((e,t)=>(t.tokenFiatAmount??0)-(e.tokenFiatAmount??0)))),[t,n]),balanceByChainId:(0,a.useMemo)((()=>[...t,...n].reduce(((e,t)=>(e[t.chainId]||(e[t.chainId]=0),e[t.chainId]+=t.tokenFiatAmount??0,e)),{})),[t,n])}}}}},{package:"$root$",file:"ui/hooks/useMultichainBalances.ts"}],[6889,{"../selectors":7485,"@metamask/name-controller":2164,lodash:4855,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useName=function(e,t,n){return i([{value:e,type:t,variation:n}])[0]},n.useNames=i;var a=e("@metamask/name-controller"),s=e("react-redux"),r=e("lodash"),o=e("../selectors");function i(e){const t=(0,s.useSelector)(o.getNames,r.isEqual);return e.map((({value:e,type:n,variation:s})=>{var r;const o=function(e,t){if(t===a.NameType.ETHEREUM_ADDRESS)return e.toLowerCase();return e}(e,n),i=(null===(r=t[n])||void 0===r?void 0:r[o])??{},l=i[s],u=i[a.FALLBACK_VARIATION],c=null!=l&&l.name||!u?l??{}:u,{name:d=null,sourceId:m=null,origin:p=null,proposedNames:f={}}=c;return{name:d,sourceId:m,proposedNames:f,origin:p}}))}}}},{package:"$root$",file:"ui/hooks/useName.ts"}],[6890,{"../../shared/constants/transaction":5749,"../store/actions":7502,"./useAsync":6865},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftCollectionsMetadata=function(e){const{value:t}=(0,r.useAsyncResult)((()=>async function(e){const t=e.reduce(((e,{chainId:t,contractAddress:n})=>(e[t]=[...e[t]??[],n.toLowerCase()],e)),{}),n=Object.keys(t),a=await Promise.all(n.map((e=>async function(e,t){const n=await Promise.all(e.map((e=>(0,s.getTokenStandardAndDetails)(e,t)))),a=e.filter(((e,t)=>o.includes(n[t].standard)));if(0===a.length)return{};const r=await(0,s.getNFTContractInfo)(a,t);return r.collections.reduce(((e,t,n)=>(e[a[n]]={name:null==t?void 0:t.name,image:null==t?void 0:t.image,isSpam:null==t?void 0:t.isSpam},e)),{})}(t[e],e))));return n.reduce(((e,t,n)=>(e[t]=a[n],e)),{})}(e)),[JSON.stringify(e)]);return t??{}};var a=e("../../shared/constants/transaction"),s=e("../store/actions"),r=e("./useAsync");const o=[a.TokenStandard.ERC721]}}},{package:"$root$",file:"ui/hooks/useNftCollectionsMetadata.ts"}],[6891,{"../../shared/modules/selectors/networks":5799,"../ducks/metamask/metamask":6758,"../selectors":7485,"./useI18nContext":6880,"./usePrevious":6896,lodash:4855,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNfts=function({overridePopularNetworkFilter:e=!1}={}){const t=(0,c.useI18nContext)(),n=(0,s.useSelector)(o.getAllNfts),{address:d}=(0,s.useSelector)(i.getSelectedInternalAccount),m=(0,s.useSelector)(l.getCurrentChainId),p=(0,s.useSelector)(i.getAllChainsToPoll),f=(0,s.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),g=(0,a.useMemo)((()=>f||e?(null==n?void 0:n[m])??[]:n),[f,n,m,e]),h=(0,s.useSelector)(o.getNftContracts),y=t("nftsPreviouslyOwned"),k=t("unknownCollection"),[v,b]=(0,a.useState)([]),[T,S]=(0,a.useState)([]),[w,C]=(0,a.useState)((()=>(null==g?void 0:g.length)>=0)),x=(0,u.usePrevious)(g),E=(0,u.usePrevious)(p),_=(0,u.usePrevious)(d);return(0,a.useEffect)((()=>{(0,r.isEqual)(x,g)&&(0,r.isEqual)(_,d)&&(0,r.isEqual)(E,m)||(()=>{if(C(!0),d===undefined||p===undefined)return;const e=[],t=[];Object.values(g).flat().forEach((n=>{!1===(null==n?void 0:n.isCurrentlyOwned)?e.push(n):t.push(n)})),S(e),b(t),C(!1)})()}),[g,x,h,C,m,E,d,_,y,k,p]),{loading:w,currentlyOwnedNfts:v,previouslyOwnedNfts:T}};var a=e("react"),s=e("react-redux"),r=e("lodash"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../../shared/modules/selectors/networks"),u=e("./usePrevious"),c=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNfts.ts"}],[6892,{"../../shared/modules/selectors/networks":5799,"../ducks/metamask/metamask":6758,"../selectors":7485,"./useI18nContext":6880,"./usePrevious":6896,lodash:4855,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftsCollections=function(){const e=(0,c.useI18nContext)(),t=e("nftsPreviouslyOwned"),n=e("unknownCollection"),[d,m]=(0,a.useState)({}),[p,f]=(0,a.useState)({collectionName:t,nfts:[]}),g=(0,s.useSelector)(i.getIsTokenNetworkFilterEqualCurrentNetwork),h=(0,s.useSelector)(o.getAllNfts),{address:y}=(0,s.useSelector)(i.getSelectedInternalAccount),k=(0,s.useSelector)(l.getCurrentChainId),v=(0,a.useMemo)((()=>g?(null==h?void 0:h[k])??[]:h),[g,h,k]),[b,T]=(0,a.useState)((()=>(null==v?void 0:v.length)>=0)),S=(0,s.useSelector)(o.getNftContracts),w=(0,u.usePrevious)(v),C=(0,u.usePrevious)(k),x=(0,u.usePrevious)(y);return(0,a.useEffect)((()=>{(0,r.isEqual)(w,v)&&(0,r.isEqual)(x,y)&&(0,r.isEqual)(C,k)||(()=>{if(T(!0),y===undefined||k===undefined)return;const e={},a={collectionName:t,nfts:[]};Object.values(v).flat().forEach((t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))a.nfts.push(t);else if(e[t.address])e[t.address].nfts.push(t);else{const a=S.find((({address:e})=>e===t.address));e[t.address]={collectionName:(null==a?void 0:a.name)||n,collectionImage:(null==a?void 0:a.logo)||t.image,nfts:[t]}}})),m(e),f(a),T(!1)})()}),[v,w,S,T,k,C,y,x,t,n]),{nftsLoading:b,collections:d,previouslyOwnedCollection:p}};var a=e("react"),s=e("react-redux"),r=e("lodash"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),l=e("../../shared/modules/selectors/networks"),u=e("./usePrevious"),c=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNftsCollections.js"}],[6893,{"../helpers/constants/notifications":6774,"../store/actions":7502,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapNotificationTimeouts=void 0;var a=e("react-redux"),s=e("../store/actions"),r=e("../helpers/constants/notifications");n.useSnapNotificationTimeouts=()=>{const e=(0,a.useDispatch)();return{setNotificationTimeout:t=>{setTimeout((()=>{e((0,s.deleteNotificationsById)([t]))}),r.NOTIFICATIONS_EXPIRATION_DELAY)}}}}}},{package:"$root$",file:"ui/hooks/useNotificationTimeouts.ts"}],[6894,{"../selectors":7485,"@metamask/permission-controller":2393,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,s.useSelector)((t=>(0,r.getTargetSubjectMetadata)(t,e)));if(!e)return null;let n=null;try{const t=new URL(e);n={host:t.host,hostname:t.hostname,origin:e,subjectType:a.SubjectType.Unknown}}catch(e){}if(t&&n)return{...n,...t};if(t)return t;return n};var a=e("@metamask/permission-controller"),s=e("react-redux"),r=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[6895,{react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react");n.default=e=>{const t=(0,a.useRef)(null),n=(0,a.useRef)(null);let s=!1;(0,a.useEffect)((()=>{if(!1===e.enabled)return()=>{};s=!0;const a=()=>{var a;t.current&&(e.stopPollingByPollingToken(t.current),null===(a=n.current)||void 0===a||a.call(n,t.current))};return e.startPolling(e.input).then((r=>{var o;t.current=r,n.current=(null===(o=e.callback)||void 0===o?void 0:o.call(e,r))||null,s||a()})),()=>{s=!1,a()}}),[e.input&&JSON.stringify(e.input),e.enabled])}}}},{package:"$root$",file:"ui/hooks/usePolling.ts"}],[6896,{react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePrevious=function(e){const t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e}),[e]),t.current};var a=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.ts"}],[6897,{"./usePrevious":6896,lodash:4855,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useScrollRequired=void 0;var a=e("react"),s=e("lodash"),r=e("./usePrevious");n.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{var n,o;const i=(0,a.useRef)(null),l=(0,r.usePrevious)(null===(n=i.current)||void 0===n?void 0:n.offsetHeight),[u,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),g=()=>{if(!i.current)return;const e=i.current&&i.current.scrollHeight>i.current.clientHeight,n=e&&Math.round(i.current.scrollTop)+i.current.offsetHeight+t>=i.current.scrollHeight;e!==d&&(c(!1),m(e)),f(!e||n),e&&!n||c(!0)};(0,a.useEffect)(g,[i,...e]),(0,a.useEffect)((()=>{var e;l!==(null===(e=i.current)||void 0===e?void 0:e.offsetHeight)&&g()}),[null===(o=i.current)||void 0===o?void 0:o.offsetHeight]);return{isScrollable:d,isScrolledToBottom:p,hasScrolledToBottom:u,scrollToBottom:()=>{f(!0),c(!0),i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:c,ref:i,onScroll:(0,s.debounce)(g,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[6898,{"../helpers/constants/routes":6776,"../selectors":7485,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,s.useRouteMatch)({path:i,exact:!0,strict:!0}),t=((0,a.useSelector)(o.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:r.PATH_NAME_MAP[e.path],url:e.path}:undefined,referrer:n}};var a=e("react-redux"),s=e("react-router-dom"),r=e("../helpers/constants/routes"),o=e("../selectors");const i=Object.keys(r.PATH_NAME_MAP)}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[6899,{"../ducks/app/app":6743,"./useGasFeeEstimates":6877,lodash:4855,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),n=(0,s.useDispatch)(),l=(0,s.useSelector)(o.getGasLoadingAnimationIsShowing),u=(0,a.useRef)(t),c=!(0,r.isEqual)(u.current,t),d=(0,r.isEqual)(u.current,{});c&&(u.current=t);const m=e||c&&!d;(0,a.useEffect)((()=>{!1===l&&!0===m&&n((0,o.toggleGasLoadingAnimation)(!0))}),[n,l,m]),(0,a.useEffect)((()=>{let e;return l&&!m&&(e=setTimeout((()=>{n((0,o.toggleGasLoadingAnimation)(!1))}),2e3)),()=>{e&&clearTimeout(e)}}),[n,l,m])};var a=e("react"),s=e("react-redux"),r=e("lodash"),o=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[6900,{"../../shared/constants/time":5747,"../../shared/modules/selectors/networks":5799,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:i}=e,l=(0,s.useSelector)(o.getCurrentChainId),[u={}]=n,c=u.chainId===l,{submittedTime:d}=u,[m,p]=(0,a.useState)((()=>Date.now()-d>5e3&&t&&!i&&c));return(0,a.useEffect)((()=>{let e;return i||!t||m||(Date.now()-d>5*r.SECOND?p(!0):e=setTimeout((()=>{p(!0),clearTimeout(e)}),5001-(Date.now()-d))),()=>{e&&clearTimeout(e)}}),[d,m,i,t]),m};var a=e("react"),s=e("react-redux"),r=e("../../shared/constants/time"),o=e("../../shared/modules/selectors/networks")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[6901,{"../../shared/lib/transactions-controller-utils":5775,"../../shared/modules/selectors/networks":5799,"../../shared/modules/swaps.utils":5803,"./useTokenFiatAmount":6908,"@metamask/transaction-controller":2905,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:u,address:c}=t,{primaryTransaction:d,initialTransaction:m}=e,{type:p}=m,{from:f}=m.txParams||{},g=(0,a.useSelector)(i.getCurrentChainId),h=p===s.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,o.isSwapsDefaultTokenAddress)(t.address,g)&&(0,o.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,g)),y=[s.TransactionType.swap].includes(p)&&h?(0,r.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,m,c,f,u,null,g):[s.TransactionType.swap,s.TransactionType.swapAndSend].includes(p)&&d.swapTokenValue,k="string"==typeof y&&-1===Math.sign(y),v=(0,l.useTokenFiatAmount)(c,y||"",n),b=(0,l.useTokenFiatAmount)(d.sourceTokenAddress,y,d.sourceTokenSymbol);let T;y&&(h?T=v:p===s.TransactionType.swapAndSend&&(T=b));return{swapTokenValue:y,swapTokenFiatAmount:T,isViewingReceivedTokenFromSwap:h,isNegative:k}};var a=e("react-redux"),s=e("@metamask/transaction-controller"),r=e("../../shared/lib/transactions-controller-utils"),o=e("../../shared/modules/swaps.utils"),i=e("../../shared/modules/selectors/networks"),l=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[6902,{"../../shared/constants/preferences":5739,"../selectors":7485,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTheme=function(){const e=(0,s.useSelector)(r.getTheme),[t,n]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const t=e&&e!==o.ThemeType.os?e:document.documentElement.getAttribute("data-theme");i.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${o.ThemeType.light}".`),n(o.ThemeType.light)),n(t)}),[e]),t};var a=e("react"),s=e("react-redux"),r=e("../selectors"),o=e("../../shared/constants/preferences");const i=Object.values(o.ThemeType).filter((e=>e!==o.ThemeType.os))}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[6903,{react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const s=(0,a.useRef)(),[r,o]=(0,a.useState)(null);(0,a.useEffect)((()=>{s.current=e}),[e]),(0,a.useEffect)((()=>{if("start"!==r)return undefined;const e=setTimeout((()=>{s.current()}),t);return o(e),()=>{clearTimeout(r)}}),[t,r]);const i=(0,a.useCallback)((()=>{clearTimeout(r),o("start")}),[r]);n&&i();return i};var a=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[6904,{"../../shared/modules/conversion.utils":5782,"../../shared/modules/selectors/networks":5799,"../ducks/metamask/metamask":6758,"../store/actions":7502,"./useMultiPolling":6885,"bn.js":4026,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stringifyBalance=m,n.useTokenTracker=n.useTokenBalances=void 0;var a=e("react-redux"),s=c(e("bn.js")),r=e("../../shared/modules/selectors/networks"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=e("../../shared/modules/conversion.utils"),u=c(e("./useMultiPolling"));function c(e){return e&&e.__esModule?e:{default:e}}const d=({chainIds:e}={})=>{const t=(0,a.useSelector)(i.getTokenBalances),n=(0,a.useSelector)(r.getNetworkConfigurationsByChainId);return(0,u.default)({startPolling:o.tokenBalancesStartPolling,stopPollingByPollingToken:o.tokenBalancesStopPollingByPollingToken,input:e??Object.keys(n)}),{tokenBalances:t}};n.useTokenBalances=d;function m(e,t,n=5){if(e.eq(new s.default(0)))return"0";const a=parseInt(t.toString(),10);if(0===a)return e.toString();let r=e.toString(),o=r.length,i=o-a,l="";if(i<=0){for(;l.length<=-1*i;)l+="0",o+=1;r=l+r,i=1}const u=r.substr(0,o-a);if(0===n)return u;const c=r.substr(i,n);if(/0+$/u.test(c)){let e=r.substr(i).replace(/0+$/u,"");return e.length>0&&(e=`.${e}`),`${u}${e}`}return`${u}.${c}`}n.useTokenTracker=({chainId:e,tokens:t,address:n,hideZeroBalanceTokens:a})=>{const{tokenBalances:r}=d({chainIds:[e]});return{tokensWithBalances:t.reduce(((t,o)=>{var i;const u=(null===(i=r[n])||void 0===i||null===(i=i[e])||void 0===i?void 0:i[o.address])??"0x0";if("0x0"!==u||!a){const e=(0,l.hexToDecimal)(u);t.push({address:o.address,symbol:o.symbol,decimals:o.decimals,balance:e,balanceError:null,string:m(new s.default(e),new s.default(o.decimals))})}return t}),[])}}}}},{package:"$root$",file:"ui/hooks/useTokenBalances.ts"}],[6905,{"../../shared/modules/transaction.utils":5804,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,a.useMemo)((()=>t&&e?(0,s.parseStandardTokenTransactionData)(e):null),[t,e])};var a=e("react"),s=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[6906,{"../ducks/metamask/metamask":6758,"../selectors":7485,"../store/actions":7502,"./useMultiPolling":6885,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../selectors"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./useMultiPolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,s.useSelector)(r.getUseTokenDetection),t=(0,s.useSelector)(i.getCompletedOnboarding),n=(0,s.useSelector)(i.getIsUnlocked),a=(0,s.useSelector)(r.getChainIdsToPoll),u=t&&n&&e;return(0,l.default)({startPolling:o.tokenDetectionStartPolling,stopPollingByPollingToken:o.tokenDetectionStopPollingByPollingToken,input:u?[a]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenDetectionPolling.ts"}],[6907,{"../../shared/lib/metamask-controller-utils":5766,"../../shared/lib/transactions-controller-utils":5775,"./useTokenData":6905,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const i=(0,o.useTokenData)(e,n),l=(0,s.getTokenValueParam)(i),u=Boolean(n&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&l);return(0,a.useMemo)((()=>u?(0,r.calcTokenAmount)(l,t.decimals).toString(10):null),[u,l,t])};var a=e("react"),s=e("../../shared/lib/metamask-controller-utils"),r=e("../../shared/lib/transactions-controller-utils"),o=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[6909,{"../ducks/metamask/metamask":6758,"../selectors":7485,"../store/actions":7502,"./useMultiPolling":6885,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../selectors"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./useMultiPolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,s.useSelector)(r.getUseTokenDetection),t=(0,s.useSelector)(r.getUseTransactionSimulations),n=(0,s.useSelector)(i.getCompletedOnboarding),a=(0,s.useSelector)(i.getIsUnlocked),u=(0,s.useSelector)(r.getUseExternalServices),c=(0,s.useSelector)(r.getChainIdsToPoll),d=n&&a&&u&&(e||t);return(0,l.default)({startPolling:o.tokenListStartPolling,stopPollingByPollingToken:o.tokenListStopPollingByPollingToken,input:d?c:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenListPolling.ts"}],[6910,{"../ducks/metamask/metamask":6758,"../selectors":7485,"../store/actions":7502,"./useMultiPolling":6885,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../selectors"),o=e("../store/actions"),i=e("../ducks/metamask/metamask"),l=(a=e("./useMultiPolling"))&&a.__esModule?a:{default:a};n.default=()=>{const e=(0,s.useSelector)(i.getCompletedOnboarding),t=(0,s.useSelector)(i.getIsUnlocked),n=(0,s.useSelector)(r.getUseCurrencyRateCheck),a=(0,s.useSelector)(r.getChainIdsToPoll),u=(0,s.useSelector)(r.getTokenExchangeRates),c=(0,s.useSelector)(r.getTokensMarketData),d=(0,s.useSelector)(r.getMarketData),m=e&&t&&n;return(0,l.default)({startPolling:o.tokenRatesStartPolling,stopPollingByPollingToken:o.tokenRatesStopPollingByPollingToken,input:m?a:[]}),{tokenExchangeRates:u,tokensMarketData:c,marketData:d}}}}},{package:"$root$",file:"ui/hooks/useTokenRatesPolling.ts"}],[6911,{"../../shared/constants/time":5747,"../../shared/modules/selectors/networks":5799,"../../shared/modules/string-utils":5802,"../selectors":7485,"./useEqualityCheck":6874,"@metamask/eth-token-tracker":1855,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:n=!1,hideZeroBalanceTokens:a=!1}){const{chainId:m,rpcUrl:p}=(0,o.useSelector)(l.getProviderConfig),{address:f}=(0,o.useSelector)(i.getSelectedInternalAccount,o.shallowEqual),g=t??f,[h,y]=(0,s.useState)((()=>(null==e?void 0:e.length)>=0)),[k,v]=(0,s.useState)([]),[b,T]=(0,s.useState)(null),S=(0,s.useRef)(null),w=(0,d.useEqualityCheck)(e),C=(0,s.useCallback)((e=>{const t=(a?e.filter((e=>Number(e.balance)>0)):e).map((e=>{const t=w.find((t=>(0,c.isEqualCaseInsensitive)(t.address,e.address)));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}}));v(t),y(!1),T(null)}),[a,w]),x=(0,s.useCallback)((e=>{T(e),y(!1)}),[]),E=(0,s.useCallback)((()=>{S.current&&(S.current.stop(),S.current.removeAllListeners("update"),S.current.removeAllListeners("error"),S.current=null)}),[]),_=(0,s.useCallback)(((e,t)=>{E(),S.current=new r.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:n,pollingInterval:8*u.SECOND,balanceDecimals:5}),S.current.on("update",C),S.current.on("error",x),S.current.updateBalances()}),[C,n,x,E]);return(0,s.useEffect)((()=>E),[E]),(0,s.useEffect)((()=>{y(!0),g&&m!==undefined&&global.ethereumProvider?(0===w.length&&C([]),_(g,w)):E()}),[g,E,m,p,w,C,_]),{loading:h,tokensWithBalances:k,error:b}};var a,s=e("react"),r=(a=e("@metamask/eth-token-tracker"))&&a.__esModule?a:{default:a},o=e("react-redux"),i=e("../selectors"),l=e("../../shared/modules/selectors/networks"),u=e("../../shared/constants/time"),c=e("../../shared/modules/string-utils"),d=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[6912,{"../../shared/constants/network":5734,"../../shared/constants/swaps":5745,"../../shared/modules/hexstring-utils":5788,"../../shared/modules/selectors/networks":5799,"../../shared/modules/swaps.utils":5803,"../ducks/metamask/metamask":6758,"../ducks/swaps/swaps":6766,"../helpers/utils/token-util":6816,"../selectors":7485,"./useEqualityCheck":6874,"@metamask/assets-controllers":1329,"bignumber.js":3978,lodash:4855,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=v,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:a=h.TokenBucketPriority.owned}){const l=(0,r.useSelector)(d.getCurrentChainId),u=(0,r.useSelector)(c.getTokenExchangeRates,i.isEqual),g=(0,r.useSelector)(m.getConversionRate),y=(0,r.useSelector)(m.getCurrentCurrency),b=(0,r.useSelector)(c.getSwapsDefaultToken,r.shallowEqual),T=(0,r.useSelector)(c.getTokenList,i.isEqual),S=(0,k.useEqualityCheck)(t),w=(0,k.useEqualityCheck)(e),C=v(b,u,g,y,l,T),x=(0,k.useEqualityCheck)(C),E=(0,r.useSelector)(p.getSwapsTokens,i.isEqual)||[],_=E.length?E:[x,...n.filter((e=>e.symbol!==x.symbol))],I=(0,k.useEqualityCheck)(_);return(0,s.useMemo)((()=>{const e=w.reduce(((e,t)=>({...e,[t.address.toLowerCase()]:t})),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([x,...I,...w],(e=>e.address.toLowerCase())).forEach((n=>{const s=v({...e[n.address.toLowerCase()],...n},u,g,y,l,T);a===h.TokenBucketPriority.owned?(0,f.isSwapsDefaultTokenSymbol)(s.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(s):S[n.address.toLowerCase()]?t.top[S[n.address.toLowerCase()].index]=s:t.others.push(s):S[n.address.toLowerCase()]?t.top[S[n.address.toLowerCase()].index]=s:(0,f.isSwapsDefaultTokenSymbol)(s.symbol,l)||e[n.address.toLowerCase()]?t.owned.push(s):t.others.push(s)})),t.owned=t.owned.sort((({rawFiat:e},{rawFiat:t})=>new o.default(e||0).gt(t||0)?-1:1)),t.top=t.top.filter(Boolean),a===h.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]}),[I,w,S,u,g,y,x,l,T,a])};var a,s=e("react"),r=e("react-redux"),o=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("lodash"),l=e("@metamask/assets-controllers"),u=e("../helpers/utils/token-util"),c=e("../selectors"),d=e("../../shared/modules/selectors/networks"),m=e("../ducks/metamask/metamask"),p=e("../ducks/swaps/swaps"),f=e("../../shared/modules/swaps.utils"),g=e("../../shared/modules/hexstring-utils"),h=e("../../shared/constants/swaps"),y=e("../../shared/constants/network"),k=e("./useEqualityCheck");function v(e,t,n,a,s,r){var i,c;const{symbol:d,name:m,address:p,iconUrl:h,string:k,balance:v,decimals:b}=e;let T;(0,f.isSwapsDefaultTokenSymbol)(d,s)?T=1:k&&n>0&&(T=t[(0,g.toChecksumHexAddress)(p)]);const S=(0,u.getTokenFiatAmount)(T,n,a,k,d,!0)||"",w=S?(0,u.getTokenFiatAmount)(T,n,a,k,d,!1):"",C=s===y.CHAIN_IDS.SEPOLIA?y.CHAIN_IDS.MAINNET:s,x=(d===y.CURRENCY_SYMBOLS.ETH&&s===y.CHAIN_IDS.MAINNET||d===y.CURRENCY_SYMBOLS.ETH&&s===y.CHAIN_IDS.SEPOLIA||d===y.CURRENCY_SYMBOLS.BNB&&s===y.CHAIN_IDS.BSC||d===y.CURRENCY_SYMBOLS.MATIC&&s===y.CHAIN_IDS.POLYGON||d===y.CURRENCY_SYMBOLS.AVALANCHE&&s===y.CHAIN_IDS.AVALANCHE||d===y.CURRENCY_SYMBOLS.ETH&&s===y.CHAIN_IDS.OPTIMISM||d===y.CURRENCY_SYMBOLS.ETH&&s===y.CHAIN_IDS.ARBITRUM||d===y.CURRENCY_SYMBOLS.ETH&&s===y.CHAIN_IDS.LINEA_MAINNET||d===y.CURRENCY_SYMBOLS.ETH&&s===y.CHAIN_IDS.ZKSYNC_ERA||d===y.CURRENCY_SYMBOLS.ETH&&s===y.CHAIN_IDS.BASE?h:(0,l.formatIconUrlWithProxy)({chainId:C,tokenAddress:p||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:m||(null===(i=r[null==p?void 0:p.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:k&&`${new o.default(k).round(6).toString()} ${d}`,rightSecondaryLabel:S,iconUrl:x,identiconAddress:x?null:p,balance:v,decimals:b,name:m||(null===(c=r[null==p?void 0:p.toLowerCase()])||void 0===c?void 0:c.name),rawFiat:w,image:e.image||e.iconUrl}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[6913,{"../../shared/constants/bridge":5720,"../../shared/constants/transaction":5749,"../../shared/lib/metamask-controller-utils":5766,"../../shared/modules/string-utils":5802,"../ducks/bridge-status/selectors":6745,"../ducks/locale/locale":6757,"../ducks/metamask/metamask":6758,"../helpers/constants/common":6768,"../helpers/constants/transactions":6782,"../helpers/utils/common.util":6796,"../helpers/utils/token-util":6816,"../helpers/utils/transactions.util":6817,"../helpers/utils/util":6819,"../pages/bridge/hooks/useBridgeTokenDisplayData":6933,"../pages/confirmations/components/simulation-details/formatAmount":7136,"../selectors/selectors":7494,"../store/actions":7502,"./bridge/useBridgeChainInfo":6830,"./useCurrencyDisplay":6870,"./useCurrentAsset":6872,"./useI18nContext":6880,"./useSwappedTokenValue":6901,"./useTokenData":6905,"./useTokenDisplayValue":6907,"./useTokenFiatAmount":6908,"./useUserPreferencedCurrency":6914,"@metamask/transaction-controller":2905,"bignumber.js":3978,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,O,B,R,j,F,L,$,q,W;const U=(0,a.useDispatch)(),H=(0,a.useSelector)(S.getIntlLocale),V=(0,P.useCurrentAsset)(),G=(0,a.useSelector)(i.getAllTokens),z=(0,a.useSelector)(i.getSelectedAddress),Q=(0,a.useSelector)(f.getNfts),K=(0,a.useSelector)(i.getAllDetectedTokens),J=(0,a.useSelector)(i.selectERC20TokensByChain),Y=(0,C.useI18nContext)(),X=(0,a.useSelector)(v.selectBridgeHistoryForAccount),Z=e.initialTransaction.id,ee=X[Z],{destNetwork:te}=(0,N.default)({bridgeHistoryItem:ee,srcTxMeta:e.initialTransaction}),ne=w.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==te?void 0:te.chainId],{initialTransaction:ae,primaryTransaction:se}=e,{type:re}=ae,{from:oe,to:ie}=ae.txParams||{},le=(0,a.useSelector)((e=>{var t;return(0,i.getKnownMethodData)(e,null==ae||null===(t=ae.txParams)||void 0===t?void 0:t.data)}))||{},ue=(0,l.getStatusKey)(se),ce=ue in p.PENDING_STATUS_HASH,de=ue===r.TransactionStatus.submitted,me=(0,s.useRef)(!0),pe=null===(t=se.txParams)||void 0===t?void 0:t.value,fe=(0,m.formatDateWithYearContext)(ae.time);let ge,he="-",ye=!1,ke=ie;const ve=p.TOKEN_CATEGORY_HASH[re];let be=null;const[Te,Se]=(0,s.useState)(null);var we,Ce,xe,Ee,_e,Ie;ve&&(be=(null==G||null===(we=G[null==e||null===(Ce=e.initialTransaction)||void 0===Ce?void 0:Ce.chainId])||void 0===we||null===(we=we[z])||void 0===we?void 0:we.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,ke))))||(null==K||null===(xe=K[null==e||null===(Ee=e.initialTransaction)||void 0===Ee?void 0:Ee.chainId])||void 0===xe||null===(xe=xe[z])||void 0===xe?void 0:xe.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,ke))))||(null==J||null===(_e=J[null==e||null===(Ie=e.initialTransaction)||void 0===Ie?void 0:Ie.chainId])||void 0===_e||null===(_e=_e.data)||void 0===_e?void 0:_e[ke.toLowerCase()]));(0,s.useEffect)((()=>()=>{me.current=!1}),[]),(0,s.useEffect)((()=>{!async function(){if(ve&&!be){var e;const t=await(0,d.getAssetDetails)(ie,oe,null==ae||null===(e=ae.txParams)||void 0===e?void 0:e.data,Q);!0===me.current&&Se(t)}}()}),[ve,be,ke,oe,null==ae||null===(n=ae.txParams)||void 0===n?void 0:n.data,Q,ie,me]),Te&&(be={address:Te.toAddress,symbol:Te.symbol,decimals:Te.decimals});const Ae=(0,A.useTokenData)(null==ae||null===(O=ae.txParams)||void 0===O?void 0:O.data,ve),Me=(0,d.getTokenIdParam)(Ae)??(0,k.getTokenValueParam)(Ae),Pe=ve&&Q.find((({address:e,tokenId:t})=>(0,y.isEqualCaseInsensitive)(e,ke)&&t===Me)),Ne=(0,I.useTokenDisplayValue)(null==se||null===(B=se.txParams)||void 0===B?void 0:B.data,be,ve),Oe=(0,x.useTokenFiatAmount)(null===(R=be)||void 0===R?void 0:R.address,Ne,null===(j=be)||void 0===j?void 0:j.symbol),De=(0,m.stripHttpSchemes)(ae.origin||(null===(F=ae.msgParams)||void 0===F?void 0:F.origin)||"");let Be,Re,je=ve?null===(L=be)||void 0===L?void 0:L.symbol:undefined,Fe=ve?Ne:undefined,Le=ve?Oe:undefined;const{swapTokenValue:$e,isNegative:qe,swapTokenFiatAmount:We,isViewingReceivedTokenFromSwap:Ue}=(0,M.useSwappedTokenValue)(e,V),He=(0,b.useBridgeTokenDisplayData)(e);if(D.includes(re))Be=g.TransactionGroupCategory.signatureRequest,Re=Y("signatureRequest"),ge=De,ye=!0;else if(re===r.TransactionType.swap)Be=g.TransactionGroupCategory.swap,Re=Y("swapTokenToToken",[ae.sourceTokenSymbol,ae.destinationTokenSymbol]),ge=De,ye=!0,je=Ue?V.symbol:ae.sourceTokenSymbol,Fe=$e,Le=We,he=qe?"":Ue?"+":"-";else if(re===r.TransactionType.swapAndSend){const e=ae.swapAndSendRecipient===oe;ke=ae.swapAndSendRecipient,Be=g.TransactionGroupCategory.swapAndSend,Re=Y("sendTokenAsToken",[ae.sourceTokenSymbol,ae.destinationTokenSymbol]),ge=De,ye=!0,je=Ue&&e?V.symbol:ae.sourceTokenSymbol,Fe=$e,Le=We,he=qe?"":Ue&&e?"+":"-"}else if(re===r.TransactionType.swapApproval)Be=g.TransactionGroupCategory.approval,Re=Y("swapApproval",[se.sourceTokenSymbol]),ge=De,ye=!0,je=se.sourceTokenSymbol;else if(re===r.TransactionType.tokenMethodApprove){var Ve;Be=g.TransactionGroupCategory.approval,he="",Re=Y("approveSpendingCap",[(null===(Ve=be)||void 0===Ve?void 0:Ve.symbol)||Y("token").toLowerCase()]),ge=De,ye=!0}else if(re===r.TransactionType.tokenMethodSetApprovalForAll){var Ge,ze,Qe;const e=!(null!=Ae&&null!==(Ge=Ae.args)&&void 0!==Ge&&Ge[1]);Be=g.TransactionGroupCategory.approval,he="",Re=e?Y("revokePermissionTitle",[(null===(ze=be)||void 0===ze?void 0:ze.symbol)||(null==Pe?void 0:Pe.name)||Y("token")]):Y("setApprovalForAllTitle",[(null===(Qe=be)||void 0===Qe?void 0:Qe.symbol)||Y("token")]),ge=De,ye=!0}else if(re===r.TransactionType.tokenMethodIncreaseAllowance){var Ke;Be=g.TransactionGroupCategory.approval,he="",Re=Y("approveIncreaseAllowance",[(null===(Ke=be)||void 0===Ke?void 0:Ke.symbol)||Y("token")]),ge=De,ye=!0}else if(re===r.TransactionType.contractInteraction||re===r.TransactionType.batch||re===r.TransactionType.revokeDelegation){Be=g.TransactionGroupCategory.interaction;const e=(0,l.getTransactionTypeTitle)(Y,re);Re=(null==le?void 0:le.name)&&(0,u.camelCaseToCapitalize)(le.name)||e,ge=De,ye=!0}else if(re===r.TransactionType.deployContract)Be=g.TransactionGroupCategory.interaction,Re=(0,l.getTransactionTypeTitle)(Y,re),ge=De,ye=!0;else if(re===r.TransactionType.incoming)Be=g.TransactionGroupCategory.receive,Re=Y("receive"),he="",ge=Y("fromAddress",[(0,m.shortenAddress)(oe)]);else if(re===r.TransactionType.tokenMethodTransferFrom||re===r.TransactionType.tokenMethodTransfer){var Je;Be=g.TransactionGroupCategory.send,Re=Y("sendSpecifiedTokens",[(null===(Je=be)||void 0===Je?void 0:Je.symbol)||(null==Pe?void 0:Pe.name)||Y("token")]),ke=(0,d.getTokenAddressParam)(Ae),ge=Y("toAddress",[(0,m.shortenAddress)(ke)])}else re===r.TransactionType.tokenMethodSafeTransferFrom?(Be=g.TransactionGroupCategory.send,Re=Y("safeTransferFrom"),ke=(0,d.getTokenAddressParam)(Ae),ge=Y("toAddress",[(0,m.shortenAddress)(ke)])):re===r.TransactionType.simpleSend?(Be=g.TransactionGroupCategory.send,Re=Y("send"),ge=Y("toAddress",[(0,m.shortenAddress)(ke)])):re===r.TransactionType.bridgeApproval?(Re=Y("bridgeApproval"),Be=g.TransactionGroupCategory.approval,Re=Y("bridgeApproval",[se.sourceTokenSymbol]),ge=De,ye=!0,je=se.sourceTokenSymbol):re===r.TransactionType.bridge?(Re=Y("bridgeToChain",[ne||""]),Be=He.category,je=He.sourceTokenSymbol,Fe=(0,T.formatAmount)(H,new o.default(He.sourceTokenAmountSent??0)),Le=He.displayCurrencyAmount):U((0,h.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${re}`));const Ye=(0,E.useUserPreferencedCurrency)(c.PRIMARY,{},null==e||null===($=e.initialTransaction)||void 0===$?void 0:$.chainId),Xe=(0,E.useUserPreferencedCurrency)(c.SECONDARY),[Ze]=(0,_.useCurrencyDisplay)(pe,{prefix:he,displayValue:Fe,suffix:je,...Ye},null==e||null===(q=e.initialTransaction)||void 0===q?void 0:q.chainId),[et]=(0,_.useCurrencyDisplay)(pe,{prefix:he,displayValue:Le,hideLabel:ve||Boolean($e),...Xe},null==e||null===(W=e.initialTransaction)||void 0===W?void 0:W.chainId);return{title:Re,category:Be,date:fe,subtitle:ge,subtitleContainsOrigin:ye,primaryCurrency:re===r.TransactionType.swap&&ce?"":Ze,senderAddress:oe,recipientAddress:ke,secondaryCurrency:ve&&!Oe||[r.TransactionType.swap,r.TransactionType.swapAndSend].includes(re)&&!We?undefined:et,displayedStatusKey:ue,isPending:ce,isSubmitted:de}};var a=e("react-redux"),s=e("react"),r=e("@metamask/transaction-controller"),o=O(e("bignumber.js")),i=e("../selectors/selectors"),l=e("../helpers/utils/transactions.util"),u=e("../helpers/utils/common.util"),c=e("../helpers/constants/common"),d=e("../helpers/utils/token-util"),m=e("../helpers/utils/util"),p=e("../helpers/constants/transactions"),f=e("../ducks/metamask/metamask"),g=e("../../shared/constants/transaction"),h=e("../store/actions"),y=e("../../shared/modules/string-utils"),k=e("../../shared/lib/metamask-controller-utils"),v=e("../ducks/bridge-status/selectors"),b=e("../pages/bridge/hooks/useBridgeTokenDisplayData"),T=e("../pages/confirmations/components/simulation-details/formatAmount"),S=e("../ducks/locale/locale"),w=e("../../shared/constants/bridge"),C=e("./useI18nContext"),x=e("./useTokenFiatAmount"),E=e("./useUserPreferencedCurrency"),_=e("./useCurrencyDisplay"),I=e("./useTokenDisplayValue"),A=e("./useTokenData"),M=e("./useSwappedTokenValue"),P=e("./useCurrentAsset"),N=O(e("./bridge/useBridgeChainInfo"));function O(e){return e&&e.__esModule?e:{default:e}}const D=[null,undefined,r.TransactionType.sign,r.TransactionType.personalSign,r.TransactionType.signTypedData,r.TransactionType.ethDecrypt,r.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[6914,{"../../shared/constants/common":5721,"../../shared/constants/network":5734,"../constants":6727,"../helpers/constants/common":6768,"../selectors":7485,"../selectors/multichain":7489,"./useMultichainSelector":6888,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={},n=null){const d=(0,a.useSelector)(s.getSelectedInternalAccount),m=t.account??d,p=(0,c.useMultichainSelector)(r.getMultichainNativeCurrency,m),{showNativeTokenAsMainBalance:f}=(0,a.useSelector)(s.getPreferences,a.shallowEqual),g=(0,c.useMultichainSelector)(r.getMultichainShouldShowFiat,m),h={currency:(0,c.useMultichainSelector)(r.getMultichainCurrentCurrency,m),numberOfDecimals:t.numberOfDecimals||t.fiatNumberOfDecimals||2},y={currency:n?u.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[n]||p||i.EtherDenomination.ETH:p||i.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||l.ETH_DEFAULT_DECIMALS};if(t.showNativeOverride)return y;if(t.showFiatOverride)return h;if(!g)return y;if(t.shouldCheckShowNativeToken&&f||!t.shouldCheckShowNativeToken)return e===o.PRIMARY?y:h;return e===o.PRIMARY?h:y};var a=e("react-redux"),s=e("../selectors"),r=e("../selectors/multichain"),o=e("../helpers/constants/common"),i=e("../../shared/constants/common"),l=e("../constants"),u=e("../../shared/constants/network"),c=e("./useMultichainSelector")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[6915,{react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useWindowFocus=void 0;var a=e("react");n.useWindowFocus=()=>{const[e,t]=(0,a.useState)(document.hasFocus());return(0,a.useEffect)((()=>{const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("focus",e),window.addEventListener("blur",n),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",n)}}),[]),e}}}},{package:"$root$",file:"ui/hooks/useWindowFocus.ts"}],[6916,{"../app/scripts/constants/sentry-state":7,"../app/scripts/lib/util":187,"../shared/constants/alerts":5717,"../shared/constants/app":5719,"../shared/constants/copy":5722,"../shared/lib/error-utils":5762,"../shared/lib/switch-direction":5771,"../shared/lib/trace":5773,"../shared/modules/object.utils":5793,"../shared/modules/selectors/networks":5799,"./ducks/alerts":6740,"./ducks/metamask/metamask":6758,"./helpers/utils/tags":6815,"./helpers/utils/tx-helper":6818,"./pages":7271,"./selectors":7485,"./store/actions":7502,"./store/background-connection":7503,"./store/store":7505,"copy-to-clipboard":4143,lodash:4855,loglevel:4863,react:5259,"react-dom":5088,util:5662,"webextension-polyfill":5696},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=async function(e){const{backgroundConnection:t,traceContext:n}=e,s=await(0,k.trace)({name:k.TraceName.GetState,parentContext:n},(()=>(0,a.promisify)(t.getState.bind(t))())),r=await async function(e,t,n){const{traceContext:a}=n,s=(0,I.getStartupTraceTags)({metamask:e}),r=await(0,k.trace)({name:k.TraceName.SetupStore,parentContext:a,tags:s},(()=>O(e,t,n.activeTab)));return global.metamask={updateCurrentLocale:e=>{r.dispatch(b.updateCurrentLocale(e))},setFeatureFlag:(e,t)=>{r.dispatch(b.setFeatureFlag(e,t))}},await(0,k.trace)({name:k.TraceName.InitialActions,parentContext:a},(()=>async function(e){const t=e.getState(),n=(0,S.getNetworkToAutomaticallySwitchTo)(t);n?await e.dispatch(b.automaticallySwitchNetwork(n,(0,S.getOriginOfCurrentTab)(t))):(0,S.getSwitchedNetworkDetails)(t)&&await e.dispatch(b.clearSwitchedNetworkDetails());if((0,c.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){const t=Date.now();global.metamask.id=t,await e.dispatch(b.setCurrentExtensionPopupId(t))}}(r))),(0,k.trace)({name:k.TraceName.FirstRender,parentContext:a},(()=>(0,l.render)(i.default.createElement(x.default,{store:r}),n.container))),r}(s,t,e);return await(0,a.promisify)(t.startPatches.bind(t))(),function(e){0;window.stateHooks.getCleanAppState=async function(){const t=(0,o.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,m.maskObject)(t,p.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:n}=t.metamask;return Object.values(n).sort(((e,t)=>e.timestamp-t.timestamp))}}(r),r},n.setupInitialStore=O,n.updateBackgroundConnection=void 0;var a=e("util"),s=M(e("copy-to-clipboard")),r=M(e("loglevel")),o=e("lodash"),i=M(e("react")),l=e("react-dom"),u=M(e("webextension-polyfill")),c=e("../app/scripts/lib/util"),d=e("../shared/constants/alerts"),m=e("../shared/modules/object.utils"),p=e("../app/scripts/constants/sentry-state"),f=e("../shared/constants/app"),g=e("../shared/constants/copy"),h=M(e("../shared/lib/switch-direction")),y=e("../shared/lib/error-utils"),k=e("../shared/lib/trace"),v=e("../shared/modules/selectors/networks"),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("./store/actions")),T=M(e("./store/store")),S=e("./selectors"),w=e("./ducks/alerts"),C=e("./ducks/metamask/metamask"),x=M(e("./pages")),E=M(e("./helpers/utils/tx-helper")),_=e("./store/background-connection"),I=e("./helpers/utils/tags");function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function M(e){return e&&e.__esModule?e:{default:e}}let P;r.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const N=e=>{(0,_.setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);P.dispatch(b.updateMetamaskState(e.params[0]))}))};async function O(e,t,n){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:a,enLocaleMessages:s}=await(0,y.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,h.default)("rtl");const r={activeTab:n,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:a,en:s}};if(N(t),(0,c.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){var o;const{origin:e}=r.activeTab,t=(0,S.getPermittedAccountsForCurrentTab)(r),n=(null===(o=(0,S.getSelectedInternalAccount)(r))||void 0===o?void 0:o.address)??"",a=(0,C.getUnconnectedAccountAlertShown)(r),s=(0,C.getUnconnectedAccountAlertEnabledness)(r);e&&s&&!a[e]&&t.length>0&&!t.includes(n)&&(r[d.AlertTypes.unconnectedAccount]={state:w.ALERT_STATE.OPEN},b.setUnconnectedAccountAlertShown(e))}const i=(0,T.default)(r);P=i;const l=(0,S.getUnapprovedTransactions)(e),u=(0,E.default)(l,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,(0,v.getCurrentChainId)({metamask:e}));return u.length>0&&i.dispatch(b.showConfTxPage({id:u[0].id})),i}n.updateBackgroundConnection=N,window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),n=window.stateHooks.getLogs();u.default.runtime.getPlatformInfo().then((a=>{t.platform=a,t.logs=n;const s=JSON.stringify(t,null,2);e(null,s)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,s.default)(n,g.COPY_OPTIONS),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$",file:"ui/index.js"}],[6917,{"../../../shared/modules/string-utils":5802,"../../components/app/assets/nfts/nft-details/nft-details":5864,"../../ducks/metamask/metamask":6758,"../../helpers/constants/routes":6776,"../../selectors":7485,"./components/native-asset":6924,"./components/token-asset":6925,"./util":6929,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("../../../shared/modules/string-utils"),i=f(e("../../components/app/assets/nfts/nft-details/nft-details")),l=e("../../selectors"),u=e("../../ducks/metamask/metamask"),c=e("../../helpers/constants/routes"),d=f(e("./components/token-asset")),m=e("./util"),p=f(e("./components/native-asset"));function f(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,s.useSelector)(l.getSelectedAccountTokensAcrossChains),t=(0,r.useParams)(),{chainId:n,asset:f,id:g}=t,h=(0,s.useSelector)((e=>(0,u.getNFTsByChainId)(e,n))),y=(0,m.findAssetByAddress)(e,f,n),k=h.find((({address:e,tokenId:t})=>(0,o.isEqualCaseInsensitive)(e,f)&&g===t.toString()));let v;return(0,a.useEffect)((()=>{const e=document.querySelector(".app");null==e||e.scroll(0,0)}),[]),v=k?a.default.createElement(i.default,{nft:k}):y&&n?null!=y&&y.address?a.default.createElement(d.default,{chainId:n,token:y}):a.default.createElement(p.default,{chainId:n,token:y}):a.default.createElement(r.Redirect,{to:{pathname:c.DEFAULT_ROUTE}}),a.default.createElement("div",{className:"main-container asset__container"},v)}}}},{package:"$root$",file:"ui/pages/asset/asset.tsx"}],[6918,{"../../../components/component-library":6314,"../../../components/ui/menu":6671,"../../../contexts/i18n":6730,"../../../helpers/constants/design-system":6770,"../../../helpers/constants/routes":6776,"../../../selectors":7485,"prop-types":5013,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},o=e("react-router-dom"),i=e("react-redux"),l=e("../../../contexts/i18n"),u=e("../../../components/ui/menu"),c=e("../../../selectors"),d=e("../../../helpers/constants/routes"),m=e("../../../components/component-library"),p=e("../../../helpers/constants/design-system");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const g=({onRemove:e,onClickBlockExplorer:t,onViewTokenDetails:n,tokenSymbol:a,isNativeAsset:r})=>{const f=(0,s.useContext)(l.I18nContext),[g,h]=(0,s.useState)(!1),y=(0,o.useHistory)(),k=(0,i.useSelector)(c.getBlockExplorerLinkText),v=(0,s.useRef)(!1);return s.default.createElement("div",{ref:v},s.default.createElement(m.ButtonIcon,{className:"asset-options__button","data-testid":"asset-options__button",onClick:()=>h(!0),ariaLabel:f("assetOptions"),iconName:m.IconName.MoreVertical,color:p.Color.textDefault,size:m.ButtonIconSize.Sm}),g?s.default.createElement(u.Menu,{anchorElement:v.current,onHide:()=>h(!1)},s.default.createElement(u.MenuItem,{iconName:m.IconName.Export,"data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===k.firstPart?()=>{y.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{h(!1),t()}},f(k.firstPart,""===k.secondPart?null:[f("blockExplorerAssetAction")])),r?null:s.default.createElement(u.MenuItem,{iconName:m.IconName.Trash,"data-testid":"asset-options__hide",onClick:()=>{h(!1),e()}},f("hideTokenSymbol",[a])),r||!n?null:s.default.createElement(u.MenuItem,{iconName:m.IconName.Info,"data-testid":"asset-options__token-details",onClick:()=>{h(!1),n()}},f("tokenDetails"))):null)};g.propTypes={isNativeAsset:r.default.bool,onClickBlockExplorer:r.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&"function"!=typeof e.onRemove)throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:r.default.func,tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};n.default=g}}},{package:"$root$",file:"ui/pages/asset/components/asset-options.js"}],[6919,{"../../../../shared/constants/transaction":5749,"../../../../shared/modules/conversion.utils":5782,"../../../../shared/modules/hexstring-utils":5788,"../../../../shared/modules/selectors/networks":5799,"../../../components/app/assets/token-cell":5879,"../../../components/app/assets/util/calculateTokenBalance":5883,"../../../components/app/transaction-list":6227,"../../../components/app/wallet-overview/coin-buttons":6234,"../../../components/component-library":6314,"../../../components/multichain":6482,"../../../ducks/metamask/metamask":6758,"../../../ducks/ramps":6760,"../../../helpers/constants/design-system":6770,"../../../helpers/constants/routes":6776,"../../../helpers/utils/confirm-tx.util":6797,"../../../helpers/utils/portfolio":6812,"../../../hooks/useI18nContext":6880,"../../../hooks/useMultichainSelector":6888,"../../../hooks/useTokenBalances":6904,"../../../selectors":7485,"../../../selectors/multichain":7489,"../util":6929,"./chart/asset-chart":6921,"./token-buttons":6926,"@metamask/assets-controllers":1329,"@metamask/keyring-api":1983,lodash:4855,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-router-dom"),r=e("react-redux"),o=e("@metamask/keyring-api"),i=e("lodash"),l=e("@metamask/assets-controllers"),u=e("../../../selectors"),c=e("../../../helpers/constants/design-system"),d=e("../../../components/component-library"),m=e("../../../helpers/utils/confirm-tx.util"),p=e("../../../hooks/useI18nContext"),f=e("../../../components/multichain"),g=e("../../../../shared/constants/transaction"),h=O(e("../../../components/app/assets/token-cell")),y=O(e("../../../components/app/transaction-list")),k=e("../util"),v=e("../../../helpers/constants/routes"),b=e("../../../ducks/metamask/metamask"),T=e("../../../../shared/modules/hexstring-utils"),S=O(e("../../../components/app/wallet-overview/coin-buttons")),w=e("../../../ducks/ramps"),C=e("../../../components/app/assets/util/calculateTokenBalance"),x=e("../../../hooks/useTokenBalances"),E=e("../../../hooks/useMultichainSelector"),_=e("../../../selectors/multichain"),I=e("../../../../shared/modules/selectors/networks"),A=e("../../../helpers/utils/portfolio"),M=e("../../../../shared/modules/conversion.utils"),P=O(e("./chart/asset-chart")),N=O(e("./token-buttons"));function O(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function B(e,t){return a.default.createElement(d.Box,{display:c.Display.Flex,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(d.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},e),t)}n.default=({asset:e,optionsButton:t})=>{var n,O,D,R,j,F,L;const $=(0,p.useI18nContext)(),q=(0,s.useHistory)(),W=(0,r.useSelector)(u.getSelectedAccount),U=(0,r.useSelector)(b.getCurrentCurrency),H=(0,r.useSelector)(b.getConversionRate),V=(0,r.useSelector)(w.getIsNativeTokenBuyable),{chainId:G,type:z,symbol:Q,name:K,image:J,decimals:Y}=e,X=(0,r.useSelector)((e=>(0,u.getSwapsDefaultToken)(e,G)),i.isEqual),Z=(0,r.useSelector)((e=>(0,u.getIsSwapsChain)(e,G))),ee=(0,r.useSelector)((e=>(0,u.getIsBridgeChain)(e,G))),te=(0,r.useSelector)(u.getSelectedInternalAccount,i.isEqual),ne=te.methods.includes(o.EthMethod.SignTransaction)||te.methods.includes(o.EthMethod.SignUserOperation),ae=(0,r.useSelector)(u.getMarketData),se=(0,r.useSelector)(u.getCurrencyRates),re=(0,r.useSelector)(u.getIsTestnet),oe=(0,E.useMultichainSelector)(_.getMultichainShouldShowFiat,W),ie=!re,le=(0,r.useSelector)(u.getShowFiatInTestnets),ue=oe&&(ie||re&&le),ce=(0,r.useSelector)(u.getSelectedAccountNativeTokenCachedBalanceByChainId),{tokenBalances:de}=(0,x.useTokenBalances)({chainIds:[G]}),me=de[W.address],pe=(0,r.useSelector)(u.getParticipateInMetaMetrics),fe=(0,r.useSelector)(u.getDataCollectionForMarketing),ge=(0,r.useSelector)(u.getMetaMetricsId),he=z===g.AssetType.token?(0,T.toChecksumHexAddress)(e.address):(0,l.getNativeTokenAddress)(G),ye=null==me||null===(n=me[G])||void 0===n?void 0:n[he],ke=(0,C.calculateTokenBalance)({isNative:z===g.AssetType.native,chainId:G,address:he,decimals:Y,nativeBalances:ce,selectedAccountTokenBalancesAcrossChains:me}),ve=null===(O=ae[G])||void 0===O||null===(O=O[he])||void 0===O?void 0:O.currency,be=(null===(D=ae[G])||void 0===D||null===(D=D[he])||void 0===D?void 0:D.price)||undefined,Te=z===g.AssetType.native?null===(R=se[Q])||void 0===R?void 0:R.conversionRate:(null===(j=se[ve])||void 0===j?void 0:j.conversionRate)||0,Se=be*Te*parseFloat(String(ke)),we=Te!==undefined&&be!==undefined?Te*be:undefined,Ce=null===(F=ae[G])||void 0===F?void 0:F[he],xe=H>0&&Ce&&(Ce.marketCap>0||Ce.totalVolume>0||Ce.circulatingSupply>0||Ce.allTimeHigh>0||Ce.allTimeLow>0);e.balance={value:(0,M.hexToDecimal)(ye),display:String(ke),fiat:String(Se)};const Ee=(0,a.useMemo)((()=>(0,A.getPortfolioUrl)("","asset_page",ge,pe,fe,te.address,"spending-caps")),[te.address,fe,pe,ge]),_e=null===(L=(0,r.useSelector)(I.getNetworkConfigurationsByChainId)[G])||void 0===L?void 0:L.name,Ie=(0,_.getImageForChainId)(G);return a.default.createElement(d.Box,{marginLeft:"auto",marginRight:"auto",marginTop:4,className:"asset__content"},a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween,paddingLeft:2,paddingRight:4,paddingBottom:1},a.default.createElement(d.Box,{display:c.Display.Flex},a.default.createElement(d.ButtonIcon,{color:c.IconColor.iconAlternative,marginRight:1,size:d.ButtonIconSize.Sm,ariaLabel:$("back"),iconName:d.IconName.ArrowLeft,onClick:()=>q.push(v.DEFAULT_ROUTE)}),a.default.createElement(d.Text,{"data-testid":"asset-name",color:c.TextColor.textAlternative},K&&Q&&K!==Q?`${K} (${Q})`:K??Q)),t),a.default.createElement(P.default,{chainId:G,address:he,currentPrice:we,currency:U}),a.default.createElement(d.Box,{marginTop:4},z===g.AssetType.native?a.default.createElement(S.default,{account:te,trackingLocation:"asset-page",isBuyableChain:V,isSigningEnabled:ne,isSwapsChain:Z,isBridgeChain:ee,chainId:G,defaultSwapsToken:X}):a.default.createElement(N.default,{token:e})),a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,paddingTop:5},a.default.createElement(d.Text,{variant:c.TextVariant.headingMd,paddingBottom:2,paddingLeft:4},$("yourBalance")),[g.AssetType.token,g.AssetType.native].includes(z)&&a.default.createElement(h.default,{key:`${Q}-${he}`,token:{address:he,chainId:G,symbol:Q,image:J,title:K??Q,tokenFiatAmount:ue&&be?Se:null,string:ke?ke.toString():"",decimals:e.decimals,aggregators:z===g.AssetType.token&&e.aggregators?e.aggregators:[],isNative:z===g.AssetType.native,primary:ke?ke.toString():"",secondary:ke?Number(ke):0}}),a.default.createElement(d.Box,{marginTop:2,display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:7},[g.AssetType.token,g.AssetType.native].includes(z)&&a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,paddingLeft:4,paddingRight:4},a.default.createElement(d.Text,{variant:c.TextVariant.headingMd,paddingBottom:4},$("tokenDetails")),a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2},B($("network"),a.default.createElement(d.Text,{display:c.Display.Flex,alignItems:c.AlignItems.center,gap:1,"data-testid":"asset-network"},a.default.createElement(d.AvatarNetwork,{src:Ie,name:_e,size:d.AvatarNetworkSize.Sm}),_e)),z===g.AssetType.token&&a.default.createElement(d.Box,null,B($("contractAddress"),a.default.createElement(f.AddressCopyButton,{address:he,shorten:!0})),a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2},e.decimals!==undefined&&B($("tokenDecimal"),a.default.createElement(d.Text,null,e.decimals)),e.aggregators&&e.aggregators.length>0&&a.default.createElement(d.Box,null,a.default.createElement(d.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodyMdMedium},$("tokenList")),a.default.createElement(d.Text,null,e.aggregators.map((e=>e.replace(/^metamask$/iu,"MetaMask"))).join(", "))))),B($("spendingCaps"),a.default.createElement(d.ButtonLink,{className:"asset-page__spending-caps mm-text--body-md-medium",href:Ee,target:"_blank",rel:"noopener noreferrer"},$("editInPortfolio"))))),xe&&a.default.createElement(d.Box,{paddingLeft:4,paddingRight:4},a.default.createElement(d.Text,{variant:c.TextVariant.headingMd,paddingBottom:4},$("marketDetails")),a.default.createElement(d.Box,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,gap:2},Ce.marketCap>0&&B($("marketCap"),a.default.createElement(d.Text,{"data-testid":"asset-market-cap"},(0,k.localizeLargeNumber)($,Te*Ce.marketCap))),Ce.totalVolume>0&&B($("totalVolume"),a.default.createElement(d.Text,null,(0,k.localizeLargeNumber)($,Te*Ce.totalVolume))),Ce.circulatingSupply>0&&B($("circulatingSupply"),a.default.createElement(d.Text,null,(0,k.localizeLargeNumber)($,Ce.circulatingSupply))),Ce.allTimeHigh>0&&B($("allTimeHigh"),a.default.createElement(d.Text,null,(0,m.formatCurrency)(""+Te*Ce.allTimeHigh,U,(0,k.getPricePrecision)(Te*Ce.allTimeHigh)))),Ce.allTimeLow>0&&B($("allTimeLow"),a.default.createElement(d.Text,null,(0,m.formatCurrency)(""+Te*Ce.allTimeLow,U,(0,k.getPricePrecision)(Te*Ce.allTimeLow)))))),a.default.createElement(d.Box,{marginBottom:8},a.default.createElement(d.Text,{paddingLeft:4,paddingRight:4,variant:c.TextVariant.headingMd},$("yourActivity")),z===g.AssetType.native?a.default.createElement(y.default,{hideNetworkFilter:!0}):a.default.createElement(y.default,{tokenAddress:he,hideNetworkFilter:!0})))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-page.tsx"}],[6920,{"../../../components/component-library":6314,"../../../helpers/constants/design-system":6770,"../../../helpers/utils/confirm-tx.util":6797,"../util":6929,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("../../../helpers/constants/design-system"),r=e("../../../components/component-library"),o=e("../../../helpers/utils/confirm-tx.util"),i=e("../util");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const u=a.default.createElement("svg",{className:"chart-up",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M9.75 3.8125L6.25 7.4875L4.91667 5.3875L2.25 8.1875",strokeLinecap:"round",strokeLinejoin:"round"}),a.default.createElement("path",{d:"M8.08398 3.8125H9.75065V5.5625",strokeLinecap:"round",strokeLinejoin:"round"})),c=a.default.createElement("svg",{className:"chart-down",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M9.75 8.1875L6.25 4.5125L4.91667 6.6125L2.25 3.8125",strokeLinecap:"round",strokeLinejoin:"round"}),a.default.createElement("path",{d:"M8.08398 8.1875H9.75065V6.4375",strokeLinecap:"round",strokeLinejoin:"round"})),d=(0,a.forwardRef)(((e,t)=>{const[{price:n,date:l},d]=(0,a.useState)({price:e.price,date:e.date});(0,a.useImperativeHandle)(t,(()=>({setPrice:d})));const{loading:m,currency:p,comparePrice:f}=e,g=n!==undefined&&f!==undefined?n-f:undefined;return a.default.createElement(r.Box,{marginLeft:4,marginRight:4},a.default.createElement(r.Text,{"data-testid":"asset-hovered-price",style:{width:"100px"},variant:s.TextVariant.headingLg,borderRadius:s.BorderRadius.LG,marginBottom:1,backgroundColor:m&&!n?s.BackgroundColor.backgroundAlternative:s.BackgroundColor.transparent},n?(0,o.formatCurrency)(`${n}`,p,(0,i.getPricePrecision)(n)):""),a.default.createElement(r.Box,null,g!==undefined&&f!==undefined?a.default.createElement(r.Box,{style:{opacity:m?i.loadingOpacity:1}},g>=0?u:c,a.default.createElement(r.Text,{display:s.Display.InlineBlock,variant:s.TextVariant.bodyMdMedium,marginLeft:1,marginRight:1,color:g>=0?s.TextColor.successDefault:s.TextColor.errorDefault},(0,o.formatCurrency)(`${Math.abs(g)}`,p,(0,i.getPricePrecision)(g))," ","(",g>=0?"+":"",(g/f*100).toFixed(2),"%)"),a.default.createElement(r.Text,{display:s.Display.InlineBlock,variant:s.TextVariant.bodyMdMedium,color:s.TextColor.textAlternative},(0,i.getShortDateFormatter)().format(l))):a.default.createElement(r.Text,{style:{width:"200px"},backgroundColor:m?s.BackgroundColor.backgroundAlternative:s.BackgroundColor.transparent,borderRadius:s.BorderRadius.LG,variant:s.TextVariant.bodyMdMedium},"")))}));n.default=d}}},{package:"$root$",file:"ui/pages/asset/components/asset-price.tsx"}],[6921,{"../../../../components/component-library":6314,"../../../../helpers/constants/design-system":6770,"../../../../hooks/useI18nContext":6880,"../../../../hooks/useTheme":6902,"../../useHistoricalPrices":6928,"../../util":6929,"../asset-price":6920,"./chart-tooltip":6922,"./crosshair-plugin":6923,"@metamask/design-tokens":1479,"chart.js":4097,classnames:4102,react:5259,"react-chartjs-2":5084},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("chart.js"),r=e("react-chartjs-2"),o=y(e("classnames")),i=e("@metamask/design-tokens"),l=e("../../../../hooks/useTheme"),u=e("../../../../helpers/constants/design-system"),c=e("../../../../components/component-library"),d=e("../../../../hooks/useI18nContext"),m=e("../../useHistoricalPrices"),p=e("../../util"),f=y(e("../asset-price")),g=y(e("./chart-tooltip")),h=e("./crosshair-plugin");function y(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(null,arguments)}s.Chart.register(s.LinearScale,s.PointElement,s.LineElement,s.Filler,s.Decimation,h.CrosshairPlugin);const b={normalized:!0,parsing:!1,aspectRatio:2.9,layout:{autoPadding:!1,padding:0},animation:{duration:0},fill:!0,backgroundColor:({chart:e})=>{const t=e.ctx.createLinearGradient(0,0,0,e.height);return t.addColorStop(0,`${e.options.borderColor}60`),t.addColorStop(1,`${e.options.borderColor}00`),t},elements:{line:{borderWidth:2},point:{pointStyle:!1}},plugins:{decimation:{algorithm:"lttb",samples:150,threshold:150,enabled:!0}}};n.default=({chainId:e,address:t,currentPrice:n,currency:s})=>{var h;const y=(0,d.useI18nContext)(),k=(0,l.useTheme)(),[T,S]=(0,a.useState)("1D"),w=(0,a.useRef)(),C=(0,a.useRef)(),{loading:x,data:{prices:E,edges:_}}=(0,m.useHistoricalPrices)({chainId:e,address:t,currency:s,timeRange:T}),{xMin:I,xMax:A,yMin:M,yMax:P}=_??{},N={...b,borderColor:"dark"===k?i.brandColor.blue400:i.brandColor.blue500,scales:{x:{min:null==I?void 0:I.x,max:null==A?void 0:A.x,display:!1,type:"linear"},y:{min:null==M?void 0:M.y,max:null==P?void 0:P.y,display:!1}}};return n&&(x||E)?a.default.createElement(c.Box,{borderRadius:u.BorderRadius.LG},a.default.createElement(f.default,{ref:C,loading:x,currency:s,price:n,date:Date.now(),comparePrice:null==E||null===(h=E[0])||void 0===h?void 0:h.y}),a.default.createElement(c.Box,{"data-testid":"asset-price-chart",marginTop:4,borderRadius:u.BorderRadius.LG,backgroundColor:x&&!E?u.BackgroundColor.backgroundAlternative:u.BackgroundColor.transparent},a.default.createElement(c.Box,{style:{opacity:x&&E?p.loadingOpacity:1}},a.default.createElement(g.default,v({point:P},_,{currency:s})),a.default.createElement(c.Box,{style:{aspectRatio:`${N.aspectRatio}`},display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:n?u.JustifyContent.flexEnd:u.JustifyContent.flexStart},a.default.createElement(r.Line,{ref:w,data:{datasets:[{data:E}]},options:N,updateMode:"none",onMouseMove:e=>{var t;const n=null==w||null===(t=w.current)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.datasets)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.data;if(n){const t=e.target,s=n[Math.max(0,Math.min(n.length-1,Math.round(e.nativeEvent.offsetX/t.clientWidth*n.length)))];var a;if(s)null==C||null===(a=C.current)||void 0===a||a.setPrice({price:s.y,date:s.x})}},onMouseOut:()=>{var e;null==C||null===(e=C.current)||void 0===e||e.setPrice({price:n,date:Date.now()})}})),a.default.createElement(g.default,v({point:M},_,{currency:s}))),a.default.createElement(c.Box,{style:E?undefined:{visibility:"hidden"},display:u.Display.Flex,justifyContent:u.JustifyContent.spaceBetween,marginTop:4,marginLeft:4,marginRight:4},[[y("oneDayAbbreviation"),"1D"],[y("oneWeekAbbreviation"),"7D"],[y("oneMonthAbbreviation"),"1M"],[y("threeMonthsAbbreviation"),"3M"],[y("oneYearAbbreviation"),"1Y"],[y("all"),"1000Y"]].map((([e,t])=>a.default.createElement(c.ButtonBase,{key:t,className:(0,o.default)("time-range-button",{"time-range-button__selected":t===T}),onClick:()=>S(t),variant:u.TextVariant.bodySmMedium,size:c.ButtonBaseSize.Sm,backgroundColor:u.BackgroundColor.transparent,color:u.TextColor.textAlternative},e)))))):null}}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart.tsx"}],[6922,{"../../../../components/component-library":6314,"../../../../helpers/constants/design-system":6770,"../../../../helpers/utils/confirm-tx.util":6797,"../../util":6929,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../components/component-library"),o=e("../../../../helpers/utils/confirm-tx.util"),i=e("../../../../helpers/constants/design-system"),l=e("../../util");n.default=({point:e,xMin:t,xMax:n,currency:a})=>{const u=e&&t&&n?(e.x-t.x)/(n.x-t.x):0;return s.default.createElement(r.Box,{style:{...u<.5?{paddingRight:100-200*u+"%"}:{paddingLeft:100-2*(100-100*u)+"%"},direction:u<.5?r.TextDirection.LeftToRight:r.TextDirection.RightToLeft}},s.default.createElement(r.Text,{marginLeft:4,marginRight:4,variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},(null==e?void 0:e.y)===undefined?"":(0,o.formatCurrency)(`${null==e?void 0:e.y}`,a,(0,l.getPricePrecision)(null==e?void 0:e.y))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/chart-tooltip.tsx"}],[6923,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CrosshairPlugin=void 0;n.CrosshairPlugin={id:"crosshair",afterEvent(e,{event:t}){e.crosshairX="mouseout"===t.type?undefined:t.x??undefined,e.draw()},afterDraw(e){if(e.crosshairX!==undefined){const t=e.data.datasets[0].data,n=t[Math.max(0,Math.min(t.length-1,Math.round(e.crosshairX/e.width*t.length)))];if(n){const{x:t,y:a}=e.scales,s=t.getPixelForValue(n.x),r=a.getPixelForValue(n.y);e.ctx.lineWidth=1,e.ctx.strokeStyle="#BBC0C5",e.ctx.beginPath(),e.ctx.moveTo(s,0),e.ctx.lineTo(s,e.height),e.ctx.stroke(),e.ctx.beginPath(),e.ctx.arc(s,r,3,0,2*Math.PI),e.ctx.fillStyle=e.options.borderColor,e.ctx.fill()}}}}}}},{package:"$root$",file:"ui/pages/asset/components/chart/crosshair-plugin.ts"}],[6924,{"../../../../shared/constants/metametrics":5730,"../../../../shared/constants/transaction":5749,"../../../../shared/modules/selectors/networks":5799,"../../../contexts/metametrics":6734,"../../../helpers/utils/util":6819,"../../../hooks/useIsOriginalNativeTokenSymbol":6881,"../../../selectors":7485,"./asset-options":6918,"./asset-page":6919,"@metamask/etherscan-link":1908,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("@metamask/etherscan-link"),o=e("../../../selectors"),i=e("../../../../shared/modules/selectors/networks"),l=e("../../../../shared/constants/transaction"),u=e("../../../hooks/useIsOriginalNativeTokenSymbol"),c=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/utils/util"),m=e("../../../contexts/metametrics"),p=g(e("./asset-options")),f=g(e("./asset-page"));function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{const{symbol:n}=e,g=(0,o.getNativeCurrencyForChain)(t),{type:h}=(0,s.useSelector)(i.getProviderConfig)??{},{address:y}=(0,s.useSelector)(o.getSelectedInternalAccount),k=(0,s.useSelector)(o.getRpcPrefsForCurrentProvider),v=(0,r.getAccountLink)(y,t,k),b=(0,a.useContext)(m.MetaMetricsContext),T=(0,u.useIsOriginalNativeTokenSymbol)(t,n,h);return a.default.createElement(f.default,{asset:{chainId:t,type:l.AssetType.native,symbol:n,image:g,decimals:e.decimals,isOriginalNativeSymbol:!0===T},optionsButton:a.default.createElement(p.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{b({event:"Clicked Block Explorer Link",category:c.MetaMetricsEventCategory.Navigation,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,d.getURLHostName)(v)}}),global.platform.openTab({url:v})}})})}}}},{package:"$root$",file:"ui/pages/asset/components/native-asset.tsx"}],[6925,{"../../../../shared/constants/metametrics":5730,"../../../../shared/constants/transaction":5749,"../../../../shared/modules/selectors/networks":5799,"../../../../shared/modules/string-utils":5802,"../../../contexts/metametrics":6734,"../../../helpers/utils/util":6819,"../../../hooks/useTokenFiatAmount":6908,"../../../hooks/useTokenTracker":6911,"../../../selectors":7485,"../../../store/actions":7502,"./asset-options":6918,"./asset-page":6919,"@metamask/etherscan-link":1908,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("@metamask/etherscan-link"),o=e("react-router-dom"),i=e("../../../selectors"),l=e("../../../../shared/modules/string-utils"),u=e("../../../hooks/useTokenTracker"),c=e("../../../../shared/constants/transaction"),d=e("../../../hooks/useTokenFiatAmount"),m=e("../../../helpers/utils/util"),p=e("../../../contexts/metametrics"),f=e("../../../store/actions"),g=e("../../../../shared/constants/metametrics"),h=e("../../../../shared/modules/selectors/networks"),y=v(e("./asset-options")),k=v(e("./asset-page"));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{var n,v,b;const{address:T,symbol:S,isERC721:w}=e,C=(0,s.useSelector)(i.getTokenList),x=(0,s.useSelector)(h.getNetworkConfigurationsByChainId),E=null===(n=x[t])||void 0===n?void 0:n.defaultBlockExplorerUrlIndex,_=E===undefined?null:null===(v=x[t])||void 0===v?void 0:v.blockExplorerUrls[E],{address:I}=(0,s.useSelector)(i.getSelectedInternalAccount),A=(0,s.useSelector)(i.selectERC20TokensByChain),M=(0,o.useHistory)(),P=(0,s.useDispatch)(),N=(0,a.useContext)(p.MetaMetricsContext),O=Object.values(C).find((e=>(0,l.isEqualCaseInsensitive)(e.symbol,S)&&(0,l.isEqualCaseInsensitive)(e.address,T))),D=null==A||null===(b=A[t])||void 0===b||null===(b=b.data)||void 0===b?void 0:b[T.toLowerCase()],B=(null==O?void 0:O.name)||(null==D?void 0:D.name)||S,R=(null==O?void 0:O.iconUrl)||(null==D?void 0:D.iconUrl)||"",j=null==O?void 0:O.aggregators,{tokensWithBalances:F}=(0,u.useTokenTracker)({tokens:[e],address:undefined}),L=null==F?void 0:F[0],$=(0,d.useTokenFiatAmount)(T,null==L?void 0:L.string,S,{},!1),q=(0,r.getTokenTrackerLink)(e.address,t,"",I,{blockExplorerUrl:_??""});return a.default.createElement(k.default,{asset:{chainId:t,type:c.AssetType.token,address:T,symbol:S,name:B,decimals:e.decimals,image:R,aggregators:j,balance:{value:null==L?void 0:L.balance,display:`${(0,m.roundToDecimalPlacesRemovingExtraZeroes)(null==L?void 0:L.string,5)}`,fiat:$},isERC721:w},optionsButton:a.default.createElement(y.default,{isNativeAsset:!1,onRemove:()=>P((0,f.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:M})),onClickBlockExplorer:()=>{N({event:"Clicked Block Explorer Link",category:g.MetaMetricsEventCategory.Navigation,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,m.getURLHostName)(q)}}),global.platform.openTab({url:q})},tokenSymbol:e.symbol})})}}}},{package:"$root$",file:"ui/pages/asset/components/token-asset.tsx"}],[6926,{"../../../../shared/constants/metametrics":5730,"../../../../shared/constants/transaction":5749,"../../../../shared/modules/selectors/networks":5799,"../../../components/component-library":6314,"../../../components/ui/icon-button/icon-button":6641,"../../../contexts/i18n":6730,"../../../contexts/metametrics":6734,"../../../ducks/ramps":6760,"../../../ducks/send":6763,"../../../ducks/swaps/swaps":6766,"../../../helpers/constants/design-system":6770,"../../../helpers/constants/error-keys":6771,"../../../helpers/constants/routes":6776,"../../../helpers/utils/hardware":6801,"../../../hooks/bridge/useBridging":6833,"../../../hooks/ramps/useRamps/useRamps":6853,"../../../selectors":7485,"../../../store/actions":7502,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("../../../contexts/i18n"),i=e("../../../helpers/constants/routes"),l=e("../../../ducks/send"),u=e("../../../helpers/utils/hardware"),c=e("../../../ducks/swaps/swaps"),d=C(e("../../../hooks/ramps/useRamps/useRamps")),m=e("../../../selectors"),p=e("../../../../shared/modules/selectors/networks"),f=C(e("../../../hooks/bridge/useBridging")),g=e("../../../helpers/constants/error-keys"),h=e("../../../store/actions"),y=e("../../../contexts/metametrics"),k=e("../../../../shared/constants/metametrics"),v=e("../../../../shared/constants/transaction"),b=e("../../../helpers/constants/design-system"),T=C(e("../../../components/ui/icon-button/icon-button")),S=e("../../../components/component-library"),w=e("../../../ducks/ramps");function C(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}n.default=({token:e})=>{const t=(0,s.useDispatch)(),n=(0,a.useContext)(o.I18nContext),C=(0,a.useContext)(y.MetaMetricsContext),x=(0,r.useHistory)(),E=(0,s.useSelector)(m.getCurrentKeyring),_=(0,u.isHardwareKeyring)(E.type),I=(0,s.useSelector)(p.getCurrentChainId),A=(0,s.useSelector)(m.getNetworkConfigurationIdByChainId),M=(0,s.useSelector)(m.getIsSwapsChain),P=(0,s.useSelector)(m.getIsBridgeChain),N=(0,s.useSelector)(w.getIsNativeTokenBuyable),{openBuyCryptoInPdapp:O}=(0,d.default)(),{openBridgeExperience:D}=(0,f.default)();(0,a.useEffect)((()=>{e.isERC721&&t((0,h.showModal)({name:"CONVERT_TOKEN_TO_NFT",tokenAddress:e.address}))}),[e.isERC721,e.address,t]);const B=async()=>{if(I!==e.chainId)try{const n=A[e.chainId];await t((0,h.setActiveNetworkWithError)(n)),await t((0,h.setSwitchedNetworkDetails)({networkClientId:n}))}catch(t){throw console.error(`Failed to switch chains.\n        Target chainId: ${e.chainId}, Current chainId: ${I}.\n        ${t}`),t}};return a.default.createElement(S.Box,{display:b.Display.Flex,justifyContent:b.JustifyContent.spaceEvenly},a.default.createElement(T.default,{className:"token-overview__button",Icon:a.default.createElement(S.Icon,{name:S.IconName.PlusMinus,color:b.IconColor.primaryInverse,size:S.IconSize.Sm}),label:n("buyAndSell"),"data-testid":"token-overview-buy",onClick:()=>{O(),C({event:k.MetaMetricsEventName.NavBuyButtonClicked,category:k.MetaMetricsEventCategory.Navigation,properties:{location:"Token Overview",text:"Buy",chain_id:I,token_symbol:e.symbol}})},disabled:e.isERC721||!N,tooltipRender:null}),a.default.createElement(T.default,{className:"token-overview__button",onClick:async()=>{C({event:k.MetaMetricsEventName.NavSendButtonClicked,category:k.MetaMetricsEventCategory.Navigation,properties:{token_symbol:e.symbol,location:k.MetaMetricsSwapsEventSource.TokenView,text:"Send",chain_id:e.chainId}},{excludeMetaMetricsId:!1});try{await B(),await t((0,l.startNewDraftTransaction)({type:v.AssetType.token,details:e})),x.push(i.SEND_ROUTE)}catch(e){if(!e.message.includes(g.INVALID_ASSET_TYPE))throw e}},Icon:a.default.createElement(S.Icon,{name:S.IconName.Arrow2UpRight,color:b.IconColor.primaryInverse,size:S.IconSize.Sm}),label:n("send"),"data-testid":"eth-overview-send",disabled:e.isERC721,tooltipRender:null}),M&&a.default.createElement(T.default,{className:"token-overview__button",Icon:a.default.createElement(S.Icon,{name:S.IconName.SwapHorizontal,color:b.IconColor.primaryInverse,size:S.IconSize.Sm}),onClick:async()=>{var n,a,s,r,o;(await B(),C({event:k.MetaMetricsEventName.NavSwapButtonClicked,category:k.MetaMetricsEventCategory.Swaps,properties:{token_symbol:e.symbol,location:k.MetaMetricsSwapsEventSource.TokenView,text:"Swap",chain_id:I}}),t((0,c.setSwapsFromToken)({...e,address:null===(n=e.address)||void 0===n?void 0:n.toLowerCase(),iconUrl:e.image,balance:null==e||null===(a=e.balance)||void 0===a?void 0:a.value,string:null==e||null===(s=e.balance)||void 0===s?void 0:s.display})),_)?null===(r=(o=global.platform).openExtensionInBrowser)||void 0===r||r.call(o,i.PREPARE_SWAP_ROUTE,undefined,!1):x.push(i.PREPARE_SWAP_ROUTE)},label:n("swap"),tooltipRender:null}),P&&a.default.createElement(T.default,{className:"token-overview__button","data-testid":"token-overview-bridge",Icon:a.default.createElement(S.Icon,{name:S.IconName.Bridge,color:b.IconColor.primaryInverse,size:S.IconSize.Sm}),label:n("bridge"),onClick:async()=>{var t,n;await B(),D(k.MetaMetricsSwapsEventSource.TokenView,{...e,iconUrl:e.image,balance:null==e||null===(t=e.balance)||void 0===t?void 0:t.value,string:null==e||null===(n=e.balance)||void 0===n?void 0:n.display,name:e.name??""})},tooltipRender:null}))}}}},{package:"$root$",file:"ui/pages/asset/components/token-buttons.tsx"}],[6927,{"./asset":6917},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./asset"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/asset/index.js"}],[6928,{"../../../shared/constants/time":5747,"../../../shared/lib/fetch-with-cache":5763,"../../selectors":7485,"./util":6929,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHistoricalPrices=void 0;var a,s=e("react"),r=e("react-redux"),o=(a=e("../../../shared/lib/fetch-with-cache"))&&a.__esModule?a:{default:a},i=e("../../../shared/constants/time"),l=e("../../selectors"),u=e("./util");n.useHistoricalPrices=({chainId:e,address:t,currency:n,timeRange:a})=>{const c=(0,r.useSelector)(l.getShouldShowFiat)&&(0,u.chainSupportsPricing)(e),[d,m]=(0,s.useState)(c),[p,f]=(0,s.useState)({});return(0,s.useEffect)((()=>{c?(m(!0),(0,o.default)({url:`https://price.api.cx.metamask.io/v1/chains/${e}/historical-prices/${t}?vsCurrency=${n}&timePeriod=${a}`,cacheOptions:{cacheRefreshTime:5*i.MINUTE},functionName:"GetAssetHistoricalPrices",fetchOptions:{headers:{"X-Client-Id":"extension"}}}).catch((()=>({}))).then((e=>{var t;const n=null==e||null===(t=e.prices)||void 0===t?void 0:t.map((e=>({x:null==e?void 0:e[0],y:null==e?void 0:e[1]})));let a;if(n&&n.length>0){let[e,t,s,r]=[];for(const a of n)e=!e||a.x<e.x?a:e,t=!t||a.x>t.x?a:t,s=!s||a.y<s.y?a:s,r=!r||a.y>r.y?a:r;a={xMin:e,xMax:t,yMin:s,yMax:r}}f({prices:n,edges:a}),m(!1)}))):(f({}),m(!1))}),[c,e,t,n,a]),{loading:d,data:p}}}}},{package:"$root$",file:"ui/pages/asset/useHistoricalPrices.ts"}],[6929,{"@metamask/assets-controllers":1329},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.localizeLargeNumber=n.loadingOpacity=n.getShortDateFormatterV2=n.getShortDateFormatter=n.getPricePrecision=n.findAssetByAddress=n.chainSupportsPricing=void 0;var a=e("@metamask/assets-controllers");n.getShortDateFormatter=()=>Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});n.getShortDateFormatterV2=()=>Intl.DateTimeFormat(navigator.language,{year:"numeric",month:"short",day:"numeric"});n.localizeLargeNumber=(e,t)=>t>=1e12?`${(t/1e12).toFixed(2)}${e("trillionAbbreviation")}`:t>=1e9?`${(t/1e9).toFixed(2)}${e("billionAbbreviation")}`:t>=1e6?`${(t/1e6).toFixed(2)}${e("millionAbbreviation")}`:t.toFixed(2);n.getPricePrecision=e=>{if(0===e)return 1;let t=2;for(let n=Math.abs(e);n<1;t++)n*=10;return t};n.chainSupportsPricing=e=>a.SUPPORTED_CHAIN_IDS.includes(e);n.loadingOpacity=.2;n.findAssetByAddress=(e,t,n)=>{if(!n)return console.error("Chain ID is required."),null;const a=e[n];return a?t?a.find((e=>e.address&&e.address.toLowerCase()===t.toLowerCase())):a.find((e=>!e.address)):(console.warn(`No tokens found for chainId: ${n}`),null)}}}},{package:"$root$",file:"ui/pages/asset/util.ts"}],[6930,{"../../../components/component-library":6314,"../../../contexts/i18n":6730,"../../../helpers/constants/routes":6776,react:5259,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-router-dom"),r=e("../../../helpers/constants/routes"),o=e("../../../components/component-library"),i=e("../../../contexts/i18n");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(i.I18nContext),t=(0,s.useHistory)();return a.default.createElement(o.Button,{onClick:()=>{t.push(`${r.CROSS_CHAIN_SWAP_ROUTE}${r.PREPARE_SWAP_ROUTE}`)}},e("cancel"))}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures-cancel-button.tsx"}],[6931,{"../../../../shared/constants/metametrics":5730,"../../../components/component-library":6314,"../../../components/ui/pulse-loader":6689,"../../../contexts/metametrics":6734,"../../../ducks/bridge/selectors":6748,"../../../helpers/constants/design-system":6770,"../../../hooks/useI18nContext":6880,"../../../selectors/selectors":7494,"lodash/isEqual":4842,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;const t=(0,p.useI18nContext)(),{activeQuote:n}=(0,s.useSelector)(m.getBridgeQuotes,s.shallowEqual),f=null==n||null===(e=n.sentAmount)||void 0===e||null===(e=e.amount)||void 0===e?void 0:e.toNumber(),g=(0,s.useSelector)(m.getFromToken,r.default),h=(0,s.useSelector)(m.getToToken,r.default),y=(0,s.useSelector)(m.getFromChain,r.default),k=(0,s.useSelector)(m.getToChain,r.default),v=(0,s.useSelector)(o.isHardwareWallet),b=(0,s.useSelector)(o.getHardwareWalletType),T=Boolean(null==n?void 0:n.approval),S=(0,a.useContext)(u.MetaMetricsContext);return(0,a.useEffect)((()=>{var e,t;S({event:"Awaiting Signature(s) on a HW wallet",category:c.MetaMetricsEventCategory.Swaps,properties:{needs_two_confirmations:T,token_from:(null==g?void 0:g.symbol)??"",token_to:(null==h?void 0:h.symbol)??"",is_hardware_wallet:v,hardware_wallet_type:b??""},sensitiveProperties:{token_from_amount:(null==n||null===(e=n.quote)||void 0===e?void 0:e.srcTokenAmount)??"",token_to_amount:(null==n||null===(t=n.quote)||void 0===t?void 0:t.destTokenAmount)??""}})}),[]),a.default.createElement("div",{className:"awaiting-bridge-signatures"},a.default.createElement(d.Box,{paddingLeft:6,paddingRight:6,height:l.BlockSize.Full,justifyContent:l.JustifyContent.center,display:l.Display.Flex,flexDirection:l.FlexDirection.Column},a.default.createElement(d.Box,{marginTop:3,marginBottom:4},a.default.createElement(i.default,null)),!T&&a.default.createElement(d.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.headingMd,as:"h3"},t("swapConfirmWithHwWallet")),T&&a.default.createElement(a.default.Fragment,null,a.default.createElement(d.Text,{variant:l.TextVariant.bodyMdBold,marginTop:2},t("bridgeConfirmTwoTransactions")),a.default.createElement("ul",{className:"awaiting-bridge-signatures__steps"},a.default.createElement("li",null,a.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:l.BackgroundColor.primaryMuted,color:l.TextColor.primaryDefault,marginRight:2},"1"),t("bridgeAllowSwappingOf",[a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowAmount"},f),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowToken"},null==g?void 0:g.symbol),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"allowNetwork"},null==y?void 0:y.name)])),a.default.createElement("li",null,a.default.createElement(d.AvatarBase,{size:d.AvatarBaseSize.Sm,backgroundColor:l.BackgroundColor.primaryMuted,color:l.TextColor.primaryDefault,marginRight:2},"2"),t("bridgeFromTo",[a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"fromAmount"},f),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"fromToken"},null==g?void 0:g.symbol),a.default.createElement(d.Text,{as:"span",variant:l.TextVariant.bodyMd,key:"toNetwork"},null==k?void 0:k.name)]))),a.default.createElement(d.Text,{variant:l.TextVariant.bodyXs},t("bridgeGasFeesSplit")))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=f(e("lodash/isEqual")),o=e("../../../selectors/selectors"),i=f(e("../../../components/ui/pulse-loader")),l=e("../../../helpers/constants/design-system"),u=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/metametrics"),d=e("../../../components/component-library"),m=e("../../../ducks/bridge/selectors"),p=e("../../../hooks/useI18nContext");function f(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures.tsx"}],[6932,{"../../../../shared/constants/network":5734,"../../../../shared/modules/conversion.utils":5782,"../../../../shared/modules/selectors/networks":5799,"../../../store/actions":7502,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useDispatch)(),t=(0,a.useSelector)(o.getNetworkConfigurationsByChainId),n=(0,a.useSelector)(o.getSelectedNetworkClientId);return{addSourceToken:t=>{const{address:a,decimals:s,symbol:o,icon:i}=t.quote.srcAsset;e((0,r.addToken)({address:a,decimals:s,symbol:o,image:i,networkClientId:n}))},addDestToken:async n=>{const a=(0,i.decimalToPrefixedHex)(n.quote.destChainId),o=t[a];let l;if(!o){const t=s.FEATURED_RPCS.find((e=>e.chainId===a));if(!t)throw new Error("No featured RPC found");l=await e((0,r.addNetwork)(t))}const u=o||l;if(!u)throw new Error("No destination network configuration found");const c=u.defaultRpcEndpointIndex,d=u.rpcEndpoints[c].networkClientId,{address:m,decimals:p,symbol:f,icon:g}=n.quote.destAsset;await e((0,r.addToken)({address:m,decimals:p,symbol:f,image:g,networkClientId:d}))}}};var a=e("react-redux"),s=e("../../../../shared/constants/network"),r=e("../../../store/actions"),o=e("../../../../shared/modules/selectors/networks"),i=e("../../../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useAddToken.ts"}],[6933,{"../../../../shared/constants/transaction":5749,"../../../../shared/modules/selectors/networks":5799,"../../../ducks/bridge-status/selectors":6745,"../../../hooks/useTokenFiatAmount":6908,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeTokenDisplayData=function(e){var t,n;const{primaryTransaction:l}=e,u=(0,a.useSelector)(s.getCurrentChainId),c=(0,a.useSelector)(i.selectBridgeHistoryForAccount)[l.id],d=(0,r.useTokenFiatAmount)(l.sourceTokenAddress,null==c||null===(t=c.pricingData)||void 0===t?void 0:t.amountSent,l.sourceTokenSymbol,{},!0,u);return{category:o.TransactionGroupCategory.bridge,displayCurrencyAmount:d,sourceTokenSymbol:l.sourceTokenSymbol,sourceTokenAmountSent:null==c||null===(n=c.pricingData)||void 0===n?void 0:n.amountSent}};var a=e("react-redux"),s=e("../../../../shared/modules/selectors/networks"),r=e("../../../hooks/useTokenFiatAmount"),o=e("../../../../shared/constants/transaction"),i=e("../../../ducks/bridge-status/selectors")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useBridgeTokenDisplayData.ts"}],[6934,{"../../../ducks/bridge/selectors":6748,"../../../hooks/useMultichainSelector":6888,"../../../selectors":7485,"../../../selectors/multichain":7489,"@metamask/bridge-controller":1390,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDestinationAccount=void 0;var a=e("react-redux"),s=e("react"),r=e("@metamask/bridge-controller"),o=e("../../../selectors"),i=e("../../../ducks/bridge/selectors"),l=e("../../../selectors/multichain"),u=e("../../../hooks/useMultichainSelector");n.useDestinationAccount=(e=!1)=>{const[t,n]=(0,s.useState)(null),c=(0,u.useMultichainSelector)(l.getMultichainIsEvm),d=(0,a.useSelector)(o.getSelectedEvmInternalAccount),m=(0,a.useSelector)(l.getLastSelectedSolanaAccount),p=(0,u.useMultichainSelector)(o.getSelectedInternalAccount),f=c?d:p,g=(0,a.useSelector)(i.getToChain),h=g&&(0,r.isSolanaChainId)(g.chainId);return(0,s.useEffect)((()=>{n(e?f:h?m:d)}),[h,m,d]),{selectedDestinationAccount:t,setSelectedDestinationAccount:n}}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useDestinationAccount.ts"}],[6935,{"../../../../app/scripts/lib/multichain/address":128,"../../../../shared/lib/multichain/accounts":5767,"../../../ducks/domains":6752,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useExternalAccountResolution=void 0;var a=e("react"),s=e("react-redux"),r=e("../../../../app/scripts/lib/multichain/address"),o=e("../../../ducks/domains"),i=e("../../../../shared/lib/multichain/accounts");n.useExternalAccountResolution=({searchQuery:e,isDestinationSolana:t,accounts:n})=>{const l=(0,s.useDispatch)(),u=(0,s.useSelector)(o.getDomainResolutions);(0,a.useEffect)((()=>{l((0,o.initializeDomainSlice)())}),[l]);const c=(0,a.useMemo)((()=>{const n=e.trim();return!!n&&(t?(0,i.isSolanaAddress)(n):(0,r.isEthAddress)(n))}),[e,t]),d=(0,a.useMemo)((()=>{if(t)return!1;const n=e.trim();return!!n&&n.endsWith(".eth")}),[e,t]);(0,a.useEffect)((()=>{l(d?(0,o.lookupDomainName)(e.trim()):(0,o.resetDomainResolution)())}),[l,d,e]);const m=(0,a.useMemo)((()=>{const t=u||[];if(!c&&!d)return null;if(d&&t.length>0){const{resolvedAddress:a}=t[0],s=e.trim();return n.some((e=>e.address.toLowerCase()===a.toLowerCase()))?null:{address:a,metadata:{name:s},isExternal:!0}}if(c){const t=e.trim();return n.some((e=>e.address.toLowerCase()===t.toLowerCase()))?null:{address:t,metadata:{name:t},isExternal:!0}}return null}),[n,c,d,e,u]);return{isValidAddress:c,isValidEnsName:d,externalAccount:m}}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useExternalAccountResolution.ts"}],[6936,{"../../../../shared/constants/bridge":5720,"../../../../shared/modules/conversion.utils":5782,"../../../ducks/bridge/actions":6746,"./useHandleTx":6938,"@metamask/bridge-controller":1390,"@metamask/transaction-controller":2905,"bignumber.js":3978},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.APPROVAL_TX_ERROR=n.ALLOWANCE_RESET_ERROR=void 0,n.default=function(){const{handleTx:e}=(0,c.default)();return{handleApprovalTx:async({approval:t,quoteResponse:n})=>{try{const a=(0,u.decimalToPrefixedHex)(t.chainId);(0,o.isEthUsdt)(a,n.quote.srcAsset.address)&&await(async({approval:t,quoteResponse:n,hexChainId:a})=>{try{const u=new r.BigNumber(await(0,l.getBridgeERC20Allowance)(i.ETH_USDT_ADDRESS,a)),c=new r.BigNumber(n.quote.srcTokenAmount).plus(n.quote.feeData[o.FeeType.METABRIDGE].amount).toString();if(u.lt(c)&&u.gt(0)){const a=(0,o.getEthUsdtResetData)(),r={...t,data:a};await e({txType:s.TransactionType.bridgeApproval,txParams:r,fieldsToAddToTxMeta:{sourceTokenSymbol:n.quote.srcAsset.symbol}})}}catch(e){throw new Error(`${d}: ${e}`)}})({approval:t,quoteResponse:n,hexChainId:a});return await e({txType:s.TransactionType.bridgeApproval,txParams:t,fieldsToAddToTxMeta:{sourceTokenSymbol:n.quote.srcAsset.symbol}})}catch(e){throw new Error(`${m}: ${e}`)}}}};var a,s=e("@metamask/transaction-controller"),r=e("bignumber.js"),o=e("@metamask/bridge-controller"),i=e("../../../../shared/constants/bridge"),l=e("../../../ducks/bridge/actions"),u=e("../../../../shared/modules/conversion.utils"),c=(a=e("./useHandleTx"))&&a.__esModule?a:{default:a};const d=n.ALLOWANCE_RESET_ERROR="Eth USDT allowance reset failed",m=n.APPROVAL_TX_ERROR="Approve transaction failed"}}},{package:"$root$",file:"ui/pages/bridge/hooks/useHandleApprovalTx.ts"}],[6937,{"../../../../shared/modules/Numeric":5777,"./useHandleTx":6938,"@metamask/bridge-controller":1390,"@metamask/transaction-controller":2905,"bignumber.js":3978,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const{handleTx:e}=(0,u.default)(),t=(0,o.useDispatch)();return{handleBridgeTx:async({quoteResponse:n,approvalTxId:a})=>{const o=new s.BigNumber(n.quote.srcTokenAmount).plus(n.quote.feeData[i.FeeType.METABRIDGE].amount),u=new l.Numeric(o,10).shiftedBy(n.quote.srcAsset.decimals).toString(),c="string"==typeof n.trade,d={destinationChainId:new l.Numeric(n.quote.destChainId,10).toPrefixedHexString().toLowerCase(),sourceTokenAmount:n.quote.srcTokenAmount,sourceTokenSymbol:n.quote.srcAsset.symbol,sourceTokenDecimals:n.quote.srcAsset.decimals,sourceTokenAddress:n.quote.srcAsset.address,destinationTokenAmount:n.quote.destTokenAmount,destinationTokenSymbol:n.quote.destAsset.symbol,destinationTokenDecimals:n.quote.destAsset.decimals,destinationTokenAddress:n.quote.destAsset.address,approvalTxId:a,swapTokenValue:u,isSolana:c,isBridgeTx:!0},m=await e({txType:r.TransactionType.bridge,txParams:n.trade,fieldsToAddToTxMeta:d});return c&&m&&(m.isSolana||(m.isSolana=!0),m.hash&&t({type:"TRANSACTION_CREATED",payload:m})),m}}};var a,s=e("bignumber.js"),r=e("@metamask/transaction-controller"),o=e("react-redux"),i=e("@metamask/bridge-controller"),l=e("../../../../shared/modules/Numeric"),u=(a=e("./useHandleTx"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useHandleBridgeTx.ts"}],[6938,{"../../../../shared/lib/accounts/solana-wallet-snap":5756,"../../../../shared/modules/conversion.utils":5782,"../../../../shared/modules/selectors":5798,"../../../ducks/bridge/utils":6749,"../../../ducks/metamask/metamask":6758,"../../../helpers/constants/routes":6776,"../../../hooks/accounts/useMultichainWalletSnapClient":6823,"../../../hooks/useMultichainSelector":6888,"../../../selectors":7485,"../../../selectors/multichain":7489,"../../../store/actions":7502,"@metamask/keyring-api":1983,"@metamask/transaction-controller":2905,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useDispatch)(),t=(0,s.useSelector)(y.checkNetworkAndAccountSupports1559),n=(0,s.useSelector)(c.getGasFeeEstimates),v=(0,s.useSelector)(p.getIsSmartTransaction),b=(0,s.useSelector)(y.getNetworkConfigurationIdByChainId),T=(0,s.useSelector)(y.getSelectedInternalAccount),S=(0,s.useSelector)(f.getMultichainCurrentChainId),w=(0,h.useMultichainWalletSnapSender)(g.SOLANA_WALLET_SNAP_ID),C=(0,i.useHistory)(),x=(0,s.useSelector)(y.getMemoizedUnapprovedTemplatedConfirmations),E=(0,s.useSelector)(y.getMemoizedUnapprovedConfirmations);(0,o.useEffect)((()=>{const e=x.find((e=>e.origin===g.SOLANA_WALLET_SNAP_ID)),t=E.find((e=>e.origin===g.SOLANA_WALLET_SNAP_ID));e?C.push(`${k.CONFIRMATION_V_NEXT_ROUTE}/${e.id}`):t&&C.push(`${k.CONFIRM_TRANSACTION_ROUTE}/${t.id}`)}),[C,x,E]);const _=(0,d.useMultichainSelector)(f.getMultichainIsSolana);return{handleTx:async({txType:s,txParams:o,fieldsToAddToTxMeta:i})=>_&&s===a.TransactionType.bridge&&"string"==typeof o?(console.log("Handling Solana bridge transaction"),(async({txType:e,txParams:t,fieldsToAddToTxMeta:n})=>{const s=await w.send({id:crypto.randomUUID(),jsonrpc:"2.0",method:r.KeyringRpcMethod.SubmitRequest,params:{request:{params:{account:{address:T.address},transaction:t,scope:S},method:"signAndSendTransaction"},id:crypto.randomUUID(),account:T.id,scope:S}});let o;console.log("===SOLANA=== snap response:",s),"string"==typeof s?o=s:s&&"object"==typeof s&&s.result&&"object"==typeof s.result&&(console.log("===SOLANA=== snap response result:",s.result),o=s.result.signature||s.result.txid||s.result.hash||s.result.txHash),console.log("===SOLANA=== Extracted signature:",o);const i={...n,id:crypto.randomUUID(),chainId:S,networkClientId:T.id,time:Date.now(),txParams:{data:t},type:e,status:a.TransactionStatus.submitted,hash:o,isSolana:!0,isBridgeTx:!0,actionId:e,origin:g.SOLANA_WALLET_SNAP_ID};return console.log("===SOLANA=== Creating bridge transaction meta with ALL fields:",{id:i.id,hash:i.hash,isSolana:i.isSolana,isBridgeTx:i.isBridgeTx,type:i.type,chainId:i.chainId,networkClientId:i.networkClientId,time:i.time,status:i.status,origin:i.origin,actionId:i.actionId,fieldsFromParent:{...n},txParams:i.txParams,fullObject:i}),i})({txType:s,txParams:"string"==typeof o?o:JSON.stringify(o),fieldsToAddToTxMeta:i})):(async({txType:s,txParams:r,fieldsToAddToTxMeta:o})=>{const i=(0,m.decimalToPrefixedHex)(r.chainId),{maxFeePerGas:c,maxPriorityFeePerGas:d}=await(0,u.getTxGasEstimates)({networkAndAccountSupports1559:t,networkGasFeeEstimates:n,txParams:r,hexChainId:i}),p=(0,u.getHexMaxGasLimit)(r.gasLimit??0),f={...r,chainId:i,gasLimit:p,gas:p,maxFeePerGas:c,maxPriorityFeePerGas:d},g=b[i];let h;return h=s===a.TransactionType.bridge&&v?await(0,l.addTransaction)(f,{networkClientId:g,requireApproval:!1,type:s}):await(0,l.addTransactionAndWaitForPublish)(f,{networkClientId:g,requireApproval:!1,type:s}),e((0,l.updateTransaction)({...h,...o},!0)),await(0,l.forceUpdateMetamaskState)(e),h})({txType:s,txParams:o,fieldsToAddToTxMeta:i})}};var a=e("@metamask/transaction-controller"),s=e("react-redux"),r=e("@metamask/keyring-api"),o=e("react"),i=e("react-router-dom"),l=e("../../../store/actions"),u=e("../../../ducks/bridge/utils"),c=e("../../../ducks/metamask/metamask"),d=e("../../../hooks/useMultichainSelector"),m=e("../../../../shared/modules/conversion.utils"),p=e("../../../../shared/modules/selectors"),f=e("../../../selectors/multichain"),g=e("../../../../shared/lib/accounts/solana-wallet-snap"),h=e("../../../hooks/accounts/useMultichainWalletSnapClient"),y=e("../../../selectors"),k=e("../../../helpers/constants/routes")}}},{package:"$root$",file:"ui/pages/bridge/hooks/useHandleTx.ts"}],[6939,{"../../../ducks/bridge/selectors":6748,"../../../selectors/multichain":7489,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsMultichainSwap=void 0;var a=e("react-redux"),s=e("react-router-dom"),r=e("react"),o=e("../../../selectors/multichain"),i=e("../../../ducks/bridge/selectors");n.useIsMultichainSwap=()=>{const{search:e,pathname:t}=(0,s.useLocation)(),n=(0,s.useHistory)(),l=(0,a.useSelector)(o.getMultichainIsSolana),u=(0,a.useSelector)(i.getIsSwap);(0,r.useEffect)((()=>{const a=new URLSearchParams(e),s="true"===a.get("swaps");u&&l&&!s&&(a.set("swaps","true"),n.replace({pathname:t,search:a.toString()}))}),[u,l,n,e,t]);return(0,r.useMemo)((()=>"true"===new URLSearchParams(e).get("swaps")&&l),[l,e])}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useIsMultichainSwap.tsx"}],[6940,{"../../../../shared/constants/metametrics":5730,"../../../../shared/constants/network":5734,"../../../../shared/lib/bridge-status/metrics":5758,"../../../../shared/lib/bridge-status/utils":5759,"../../../../shared/modules/selectors/networks":5799,"../../../../shared/types/bridge-status":5807,"../../../ducks/bridge-status/actions":6744,"../../../ducks/bridge/actions":6746,"../../../ducks/bridge/selectors":6748,"../../../helpers/constants/routes":6776,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6835,"../../../hooks/useMultichainSelector":6888,"../../../selectors":7485,"../../../selectors/multichain":7489,"../../../store/actions":7502,"./useAddToken":6932,"./useHandleApprovalTx":6936,"./useHandleBridgeTx":6937,"@metamask/bridge-controller":1390,"@metamask/utils":2950,"ethereumjs-util":4327,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useHistory)(),t=(0,a.useDispatch)(),n=(0,a.useSelector)((e=>e)),o=(0,a.useSelector)(f.getCurrentChainId),{addSourceToken:E,addDestToken:_}=(0,w.default)(),{handleApprovalTx:O}=(0,C.default)(),{handleBridgeTx:D}=(0,x.default)(),B=(0,a.useSelector)(d.isHardwareWallet),{slippage:R}=(0,a.useSelector)(m.getQuoteRequest),j=(0,a.useSelector)(d.getSelectedAddress),F=(0,k.useCrossChainSwapsEventTracker)(),L=(0,T.useMultichainSelector)(S.getMultichainIsEvm);return{submitBridgeTransaction:async a=>{B&&e.push(`${l.CROSS_CHAIN_SWAP_ROUTE}${l.AWAITING_SIGNATURES_ROUTE}`);const r={bridgeId:a.quote.bridgeId,bridge:a.quote.bridges[0],srcChainId:a.quote.srcChainId,destChainId:a.quote.destChainId,quote:a.quote,refuel:Boolean(a.quote.refuel)};let d,m;try{null!=a&&a.approval&&(d=await O({approval:a.approval,quoteResponse:a}))}catch(s){var f;I("Approve transaction failed",s),B&&N(s)?(t((0,g.setWasTxDeclined)(!0)),e.push(`${l.CROSS_CHAIN_SWAP_ROUTE}${l.PREPARE_SWAP_ROUTE}`)):(await t((0,u.setDefaultHomeActiveTabName)("activity")),e.push(l.DEFAULT_ROUTE));const o=(0,h.getInitialHistoryItem)({quoteResponse:(0,h.serializeQuoteMetadata)(a),bridgeTxMetaId:"dummy-id",startTime:null===(f=d)||void 0===f?void 0:f.time,slippagePercentage:R??0,initialDestAssetBalance:undefined,targetContractAddress:undefined,account:j,statusRequest:r}),i=(0,v.getCommonProperties)(o,n),c=M(s)?{allowance_reset_transaction:b.StatusTypes.FAILED}:undefined,m=P(s)?{approval_transaction:b.StatusTypes.FAILED}:undefined;return void F({event:y.MetaMetricsEventName.ActionFailed,properties:{...i,...c,...m,error_message:s.message}})}if([p.CHAIN_IDS.LINEA_MAINNET,p.CHAIN_IDS.LINEA_GOERLI,p.CHAIN_IDS.LINEA_SEPOLIA].includes(o)&&null!=a&&a.approval){I("Delaying submitting bridge tx to make Linea confirmation more likely");const e=new Promise((e=>setTimeout(e,A)));await e}try{var k;m=await D({quoteResponse:a,approvalTxId:null===(k=d)||void 0===k?void 0:k.id})}catch(n){return I("Bridge transaction failed",n),void(B&&N(n)?(t((0,g.setWasTxDeclined)(!0)),e.push(`${l.CROSS_CHAIN_SWAP_ROUTE}${l.PREPARE_SWAP_ROUTE}`)):(await t((0,u.setDefaultHomeActiveTabName)("activity")),e.push(l.DEFAULT_ROUTE)))}const T={...r,srcTxHash:m.hash},S=!0===m.isSolana;t((0,c.startPollingForBridgeTxStatus)({bridgeTxMeta:m,statusRequest:{...T,srcTxHash:S&&m.hash?m.hash:T.srcTxHash},quoteResponse:(0,h.serializeQuoteMetadata)(a),slippagePercentage:R??0,startTime:m.time})),L&&(a.quote.srcAsset.address!==(0,s.zeroAddress)()&&E(a),a.quote.destAsset.address===(0,s.zeroAddress)()||(0,i.isSolanaChainId)(a.quote.destChainId)||await _(a)),await t((0,u.setDefaultHomeActiveTabName)("activity")),e.push({pathname:l.DEFAULT_ROUTE,state:{stayOnHomePage:!0}})}}},n.isApprovalTxError=n.isAllowanceResetError=void 0;var a=e("react-redux"),s=e("ethereumjs-util"),r=e("react-router-dom"),o=e("@metamask/utils"),i=e("@metamask/bridge-controller"),l=e("../../../helpers/constants/routes"),u=e("../../../store/actions"),c=e("../../../ducks/bridge-status/actions"),d=e("../../../selectors"),m=e("../../../ducks/bridge/selectors"),p=e("../../../../shared/constants/network"),f=e("../../../../shared/modules/selectors/networks"),g=e("../../../ducks/bridge/actions"),h=e("../../../../shared/lib/bridge-status/utils"),y=e("../../../../shared/constants/metametrics"),k=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),v=e("../../../../shared/lib/bridge-status/metrics"),b=e("../../../../shared/types/bridge-status"),T=e("../../../hooks/useMultichainSelector"),S=e("../../../selectors/multichain"),w=_(e("./useAddToken")),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("./useHandleApprovalTx")),x=_(e("./useHandleBridgeTx"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}const I=(0,o.createProjectLogger)("bridge"),A=5e3,M=e=>(e.message??"").includes(C.ALLOWANCE_RESET_ERROR);n.isAllowanceResetError=M;const P=e=>(e.message??"").includes(C.APPROVAL_TX_ERROR);n.isApprovalTxError=P;const N=e=>{var t;const n=(null===(t=e.message)||void 0===t?void 0:t.toLowerCase())??"";return n.includes("ledger")&&(n.includes("rejected")||n.includes("denied")||n.includes("error while signing"))||n.includes("trezor")&&(n.includes("cancelled")||n.includes("rejected"))||n.includes("lattice")&&n.includes("rejected")||n.includes("user rejected")||n.includes("user cancelled")}}}},{package:"$root$",file:"ui/pages/bridge/hooks/useSubmitBridgeTransaction.ts"}],[6941,{"../../../shared/modules/selectors/networks":5799,"../../components/component-library":6314,"../../components/multichain/pages/page":6552,"../../contexts/i18n":6730,"../../ducks/bridge/actions":6746,"../../ducks/swaps/swaps":6766,"../../helpers/constants/design-system":6770,"../../helpers/constants/routes":6776,"../../helpers/higher-order-components/feature-toggled-route":6787,"../../hooks/bridge/useBridgeExchangeRates":6831,"../../hooks/bridge/useBridging":6833,"../../hooks/bridge/useQuoteFetchEvents":6838,"../../hooks/useGasFeeEstimates":6877,"../../selectors":7485,"../../store/actions":7502,"../swaps/hooks/useSwapsFeatureFlags":7429,"./awaiting-signatures/awaiting-signatures":6931,"./awaiting-signatures/awaiting-signatures-cancel-button":6930,"./hooks/useIsMultichainSwap":6939,"./prepare/bridge-transaction-settings-modal":6948,"./prepare/prepare-bridge-page":6954,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("../../contexts/i18n"),i=e("../../ducks/swaps/swaps"),l=e("../../helpers/constants/routes"),u=e("../../store/actions"),c=_(e("../../helpers/higher-order-components/feature-toggled-route")),d=e("../../components/component-library"),m=e("../../../shared/modules/selectors/networks"),p=e("../../selectors"),f=_(e("../../hooks/bridge/useBridging")),g=e("../../components/multichain/pages/page"),h=e("../swaps/hooks/useSwapsFeatureFlags"),y=e("../../ducks/bridge/actions"),k=e("../../hooks/useGasFeeEstimates"),v=e("../../hooks/bridge/useBridgeExchangeRates"),b=e("../../hooks/bridge/useQuoteFetchEvents"),T=e("../../helpers/constants/design-system"),S=_(e("./prepare/prepare-bridge-page")),w=_(e("./awaiting-signatures/awaiting-signatures-cancel-button")),C=_(e("./awaiting-signatures/awaiting-signatures")),x=e("./prepare/bridge-transaction-settings-modal"),E=e("./hooks/useIsMultichainSwap");function _(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(o.I18nContext);(0,h.useSwapsFeatureFlags)(),(0,f.default)();const t=(0,r.useHistory)(),n=(0,s.useDispatch)(),_=(0,s.useSelector)(p.getIsBridgeEnabled),I=(0,s.useSelector)(m.getSelectedNetworkClientId),A=async()=>{await n((0,y.resetBridgeState)())};(0,a.useEffect)((()=>(window.addEventListener("beforeunload",A),()=>{window.removeEventListener("beforeunload",A),A()})),[]),(0,k.useGasFeeEstimates)(I),(0,v.useBridgeExchangeRates)(),(0,b.useQuoteFetchEvents)();const M=(0,E.useIsMultichainSwap)(),[P,N]=(0,a.useState)(!1);return a.default.createElement(g.Page,{className:"bridge__container"},a.default.createElement(g.Header,{textProps:{variant:T.TextVariant.headingSm},startAccessory:a.default.createElement(d.ButtonIcon,{iconName:d.IconName.ArrowLeft,size:d.ButtonIconSize.Sm,ariaLabel:e("back"),onClick:async()=>{t.push({pathname:l.DEFAULT_ROUTE,state:{stayOnHomePage:!0}}),n((0,i.clearSwapsState)()),await n((0,u.resetBackgroundSwapsState)()),await A()}}),endAccessory:a.default.createElement(d.ButtonIcon,{iconName:d.IconName.Setting,size:d.ButtonIconSize.Sm,ariaLabel:e("settings"),onClick:()=>{N(!0)}})},e(M?"swap":"bridge")),a.default.createElement(g.Content,{padding:0},a.default.createElement(r.Switch,null,a.default.createElement(c.default,{redirectRoute:l.SWAPS_MAINTENANCE_ROUTE,flag:_,path:l.CROSS_CHAIN_SWAP_ROUTE+l.PREPARE_SWAP_ROUTE,render:()=>a.default.createElement(a.default.Fragment,null,a.default.createElement(x.BridgeTransactionSettingsModal,{isOpen:P,onClose:()=>{N(!1)}}),a.default.createElement(S.default,null))}),a.default.createElement(r.Route,{path:l.CROSS_CHAIN_SWAP_ROUTE+l.AWAITING_SIGNATURES_ROUTE},a.default.createElement(g.Content,null,a.default.createElement(C.default,null)),a.default.createElement(g.Footer,null,a.default.createElement(w.default,null))))))}}}},{package:"$root$",file:"ui/pages/bridge/index.tsx"}],[6942,{"../../../components/component-library":6314,"../../../helpers/constants/design-system":6770,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}n.default=e=>s.default.createElement(r.Container,i({display:o.Display.Flex,flexDirection:o.FlexDirection.Column,width:o.BlockSize.Full},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/column.tsx"}],[6943,{"./column":6942,"./row":6944,"./tooltip":6945},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Column",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"Row",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"Tooltip",{enumerable:!0,get:function(){return r.default}});var a=o(e("./column")),s=o(e("./row")),r=o(e("./tooltip"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/layout/index.tsx"}],[6944,{"../../../components/component-library":6314,"../../../helpers/constants/design-system":6770,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}n.default=e=>s.default.createElement(r.Container,i({display:o.Display.Flex,flexDirection:o.FlexDirection.Row,justifyContent:o.JustifyContent.spaceBetween,flexWrap:o.FlexWrap.NoWrap,alignItems:o.AlignItems.center},e))}}},{package:"$root$",file:"ui/pages/bridge/layout/row.tsx"}],[6945,{"../../../components/component-library":6314,"../../../helpers/constants/design-system":6770,"./column":6942,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=(a=e("./column"))&&a.__esModule?a:{default:a};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}const c=s.default.forwardRef((({children:e,title:t,triggerElement:n,disabled:a=!1,onClose:l,iconName:c,style:d,...m},p)=>{const[f,g]=(0,s.useState)(!1),[h,y]=(0,s.useState)(null),k=()=>g(!1);return s.default.createElement(r.Box,{ref:p},s.default.createElement(r.Box,{ref:e=>y(e),onMouseEnter:()=>g(!0),onMouseLeave:k,display:o.Display.Flex},n??(c&&s.default.createElement(r.Icon,{color:o.IconColor.iconAlternativeSoft,name:c,size:r.IconSize.Sm}))??s.default.createElement(r.Icon,{name:r.IconName.Question,color:o.IconColor.iconAlternativeSoft,size:r.IconSize.Sm})),!a&&s.default.createElement(r.Popover,u({position:r.PopoverPosition.Auto,referenceElement:h,isOpen:f,onClickOutside:k,style:{maxWidth:"240px",backgroundColor:"var(--color-text-default)",paddingInline:"16px",paddingTop:"8px",paddingBottom:"8px",transitionTimingFunction:"linear",display:"inherit",...d},preventOverflow:!0,flip:!0,hasArrow:!0,isPortal:!0},m),s.default.createElement(i.default,{gap:4},t&&s.default.createElement(r.PopoverHeader,{color:o.TextColor.infoInverse,textAlign:o.TextAlign.Center,justifyContent:l?o.JustifyContent.spaceBetween:o.JustifyContent.center,onClose:l,childrenWrapperProps:{style:{whiteSpace:"nowrap"}}},t),s.default.createElement(r.Text,{justifyContent:o.JustifyContent.center,color:o.TextColor.infoInverse},e))))}));n.default=c}}},{package:"$root$",file:"ui/pages/bridge/layout/tooltip.tsx"}],[6946,{"../../../../shared/constants/metametrics":5730,"../../../components/component-library":6314,"../../../ducks/bridge/selectors":6748,"../../../helpers/constants/design-system":6770,"../../../hooks/bridge/events/useRequestMetadataProperties":6827,"../../../hooks/bridge/events/useRequestProperties":6828,"../../../hooks/bridge/events/useTradeProperties":6829,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6835,"../../../hooks/bridge/useIsTxSubmittable":6836,"../../../hooks/bridge/useLatestBalance":6837,"../../../hooks/useI18nContext":6880,"../hooks/useSubmitBridgeTransaction":6940,"../layout":6943,"../utils/quote":6968,"@metamask/bridge-controller":1390,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeCTAButton=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("@metamask/bridge-controller"),o=e("../../../components/component-library"),i=e("../../../ducks/bridge/selectors"),l=e("../../../hooks/useI18nContext"),u=b(e("../hooks/useSubmitBridgeTransaction")),c=e("../../../helpers/constants/design-system"),d=b(e("../../../hooks/bridge/useLatestBalance")),m=e("../../../hooks/bridge/useIsTxSubmittable"),p=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),f=e("../../../hooks/bridge/events/useRequestProperties"),g=e("../../../hooks/bridge/events/useRequestMetadataProperties"),h=e("../../../hooks/bridge/events/useTradeProperties"),y=e("../../../../shared/constants/metametrics"),k=e("../layout"),v=e("../utils/quote");function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.BridgeCTAButton=({onFetchNewQuotes:e,needsDestinationAddress:t=!1})=>{const n=(0,l.useI18nContext)(),b=(0,s.useSelector)(i.getFromToken),T=(0,s.useSelector)(i.getToToken),S=(0,s.useSelector)(i.getFromChain),w=(0,s.useSelector)(i.getFromAmount),{isLoading:C,activeQuote:x,isQuoteGoingToRefresh:E,quotesLastFetchedMs:_}=(0,s.useSelector)(i.getBridgeQuotes),I=(0,s.useSelector)(i.getQuoteRefreshRate),A=(0,v.isQuoteExpired)(E,I,_),{submitBridgeTransaction:M}=(0,u.default)(),[P,N]=(0,a.useState)(!1),{isNoQuotesAvailable:O,isInsufficientBalance:D,isInsufficientGasBalance:B,isInsufficientGasForQuote:R}=(0,s.useSelector)(i.getValidationErrors),j=(0,s.useSelector)(i.getWasTxDeclined),F=(0,d.default)(b),L=(0,a.useMemo)((()=>null!=S&&S.chainId?(0,r.getNativeAssetForChainId)(S.chainId):null),[null==S?void 0:S.chainId]),$=(0,d.default)(L),q=(0,m.useIsTxSubmittable)(),W=(0,p.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:U}=(0,f.useRequestProperties)(),H=(0,g.useRequestMetadataProperties)(),V=(0,h.useTradeProperties)(),G=D(F),z=B($),Q=R($),K=(0,a.useMemo)((()=>j?"youDeclinedTheTransaction":A?"bridgeQuoteExpired":!C||q||x?z||O?undefined:G||Q?"alertReasonInsufficientBalance":w?t?"bridgeSelectDestinationAccount":q?"submit":"swapSelectToken":T?t?"bridgeEnterAmountAndSelectAccount":"bridgeEnterAmount":t?"bridgeSelectTokenAmountAndAccount":"bridgeSelectTokenAndAmount":undefined),[C,w,T,q,G,z,Q,j,A,t,x,O]),J=(0,a.useMemo)((()=>j||A?"bridgeFetchNewQuotes":undefined),[j,A]);return x&&!J?a.default.createElement(o.ButtonPrimary,{width:c.BlockSize.Full,size:x?o.ButtonPrimarySize.Md:o.ButtonPrimarySize.Lg,variant:c.TextVariant.bodyMd,"data-testid":"bridge-cta-button",style:{boxShadow:"none"},onClick:async()=>{if(x&&q&&!P)try{N(!0),U&&H&&V&&W({event:y.MetaMetricsEventName.ActionSubmitted,properties:{...U,...H,...V}}),await M(x)}finally{N(!1)}},loading:P,disabled:!q||A||P||t},K?n(K):""):a.default.createElement(k.Row,{alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,gap:1},a.default.createElement(o.Text,{variant:c.TextVariant.bodyMd,textAlign:c.TextAlign.Center,color:c.TextColor.textAlternativeSoft},K?n(K):""),J&&a.default.createElement(o.ButtonLink,{as:"a",variant:c.TextVariant.bodyMd,style:{whiteSpace:"nowrap"},onClick:e},n(J)))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-cta-button.tsx"}],[6947,{"../../../../shared/constants/time":5747,"../../../components/component-library":6314,"../../../components/multichain/asset-picker-amount/asset-picker":6427,"../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs":6422,"../../../ducks/bridge/selectors":6748,"../../../ducks/locale/locale":6757,"../../../ducks/metamask/metamask":6758,"../../../helpers/constants/design-system":6770,"../../../helpers/utils/util":6819,"../../../hooks/bridge/useLatestBalance":6837,"../../../hooks/useCopyToClipboard":6869,"../../../hooks/useI18nContext":6880,"../hooks/useIsMultichainSwap":6939,"../layout":6943,"../utils/quote":6968,"./components/bridge-asset-picker-button":6949,"@metamask/bridge-controller":1390,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeInputGroup=void 0;var a,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/bridge-controller"),i=e("../../../components/component-library"),l=e("../../../components/multichain/asset-picker-amount/asset-picker"),u=e("../../../components/multichain/asset-picker-amount/asset-picker-modal/asset-picker-modal-tabs"),c=e("../../../hooks/useI18nContext"),d=e("../../../ducks/metamask/metamask"),m=e("../utils/quote"),p=e("../layout"),f=e("../../../helpers/constants/design-system"),g=(a=e("../../../hooks/bridge/useLatestBalance"))&&a.__esModule?a:{default:a},h=e("../../../ducks/bridge/selectors"),y=e("../../../helpers/utils/util"),k=e("../../../hooks/useCopyToClipboard"),v=e("../../../../shared/constants/time"),b=e("../../../ducks/locale/locale"),T=e("../hooks/useIsMultichainSwap"),S=e("./components/bridge-asset-picker-button");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C.apply(null,arguments)}const x=e=>e.replace(/[^\d.]+/gu,"").split(".",2).join(".");n.BridgeInputGroup=({header:e,token:t,onAssetChange:n,onAmountChange:a,networkProps:w,isTokenListLoading:E,customTokenListGenerator:_,amountFieldProps:I,amountInFiat:A,onMaxButtonClick:M,isMultiselectEnabled:P,buttonProps:N})=>{var O;const D=(0,c.useI18nContext)(),{isLoading:B}=(0,r.useSelector)(h.getBridgeQuotes),{isInsufficientBalance:R,isEstimatedReturnLow:j}=(0,r.useSelector)(h.getValidationErrors),F=(0,r.useSelector)(d.getCurrentCurrency),L=(0,r.useSelector)(b.getIntlLocale),$=null==w||null===(O=w.network)||void 0===O?void 0:O.chainId,q=(0,g.default)(t),[,W]=(0,k.useCopyToClipboard)(v.MINUTE),U=(0,s.useRef)(null),H=(null==I?void 0:I.readOnly)||(null==I?void 0:I.disabled);(0,s.useEffect)((()=>{var e;!H&&U.current&&(U.current.value=(null==I||null===(e=I.value)||void 0===e?void 0:e.toString())??"",U.current.focus())}),[null==I?void 0:I.value,H,t]);const V=(0,T.useIsMultichainSwap)();return s.default.createElement(p.Column,{paddingInline:6,gap:1},s.default.createElement(p.Row,{gap:4},s.default.createElement(i.TextField,C({inputProps:{disableStateStyles:!0,textAlign:f.TextAlign.Start,style:{fontWeight:400,fontSize:Math.max(14,9/Math.max(9,((null==I?void 0:I.value)??"").toString().length)*36),transition:"font-size 0.1s",padding:0}},style:{minWidth:96,maxWidth:190,opacity:H&&null!=I&&I.value?1:undefined},display:f.Display.Flex,inputRef:U,type:i.TextFieldType.Text,className:"amount-input",placeholder:"0",onKeyPress:e=>{var t;e&&("."===e.key&&null!==(t=I.value)&&void 0!==t&&t.toString().includes(".")?e.preventDefault():/^[\d.]{1}$/u.test(e.key)||e.preventDefault())},onPaste:e=>{e.preventDefault();const t=x(e.clipboardData.getData("text"));null==a||a(t??"")},onChange:e=>{e.preventDefault(),e.stopPropagation();const t=x(e.target.value);null==a||a(t??"")}},I)),s.default.createElement(l.AssetPicker,{header:e,visibleTabs:[u.TabName.TOKENS],asset:t??undefined,onAssetChange:n,networkProps:w,customTokenListGenerator:_,isTokenListLoading:E,isMultiselectEnabled:P},((e,n)=>H&&!t?s.default.createElement(i.Button,{"data-testid":N.testId,onClick:e,size:i.ButtonSize.Lg,paddingLeft:6,paddingRight:6,fontWeight:f.FontWeight.Normal,style:{whiteSpace:"nowrap"}},D(V?"swapSwapTo":"bridgeTo")):s.default.createElement(S.BridgeAssetPickerButton,{onClick:e,networkImageSrc:n,asset:t??undefined,networkProps:w,"data-testid":N.testId})))),s.default.createElement(p.Row,{justifyContent:f.JustifyContent.spaceBetween},s.default.createElement(p.Row,null,s.default.createElement(i.Text,{variant:f.TextVariant.bodyMd,fontWeight:f.FontWeight.Normal,color:H&&j?f.TextColor.warningDefault:f.TextColor.textAlternativeSoft,textAlign:f.TextAlign.End,ellipsis:!0},H&&B&&"0"===I.value?D("bridgeCalculatingAmount"):undefined,A&&(0,m.formatCurrencyAmount)(A,F,2))),s.default.createElement(i.Text,{display:f.Display.Flex,gap:1,variant:f.TextVariant.bodyMd,color:!H&&R(q)?f.TextColor.errorDefault:f.TextColor.textAlternativeSoft,onClick:()=>{H&&t&&$&&W(t.address)},as:H?"a":"p"},H&&t&&$&&((0,o.isNativeAddress)(t.address)?undefined:(0,y.shortenString)(t.address,{truncatedCharLimit:11,truncatedStartChars:4,truncatedEndChars:4,skipCharacterInEnd:!1})),!H&&q?(0,m.formatTokenAmount)(L,q,null==t?void 0:t.symbol):undefined,M&&t&&!(0,o.isNativeAddress)(t.address)&&q&&s.default.createElement(i.ButtonLink,{variant:f.TextVariant.bodyMd,onClick:()=>M(null==q?void 0:q.toFixed())},D("max")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-input-group.tsx"}],[6948,{"../../../../shared/constants/metametrics":5730,"../../../components/component-library":6314,"../../../ducks/bridge/actions":6746,"../../../ducks/bridge/selectors":6748,"../../../helpers/constants/design-system":6770,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6835,"../../../hooks/useI18nContext":6880,"../layout":6943,"@metamask/bridge-controller":1390,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeTransactionSettingsModal=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("@metamask/bridge-controller"),o=e("../../../components/component-library"),i=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/design-system"),u=e("../../../ducks/bridge/selectors"),c=e("../../../ducks/bridge/actions"),d=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),m=e("../../../../shared/constants/metametrics"),p=e("../layout");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const g=[r.BRIDGE_DEFAULT_SLIPPAGE,3];n.BridgeTransactionSettingsModal=({onClose:e,isOpen:t})=>{const n=(0,i.useI18nContext)(),r=(0,d.useCrossChainSwapsEventTracker)(),f=(0,s.useDispatch)(),h=(0,s.useSelector)(u.getSlippage),[y,k]=(0,a.useState)(h),[v,b]=(0,a.useState)(h&&!g.includes(h)?h.toString():undefined),[T,S]=(0,a.useState)(!0),w=(()=>{if(!v)return null;const e=Number(v.replace(",","."));return e<.5?{severity:l.SEVERITIES.WARNING,text:n("swapSlippageLowDescription",[e]),title:n("swapSlippageLowTitle")}:null})();return a.default.createElement(o.Modal,{isOpen:t,onClose:e,className:"bridge-settings-modal"},a.default.createElement(o.ModalOverlay,null),a.default.createElement(o.ModalContent,null,a.default.createElement(o.ModalHeader,{onClose:e},n("transactionSettings")),a.default.createElement(p.Column,{gap:3,padding:4},a.default.createElement(p.Row,{gap:1,justifyContent:l.JustifyContent.flexStart},a.default.createElement(o.Text,null,n("swapsMaxSlippage")),a.default.createElement(p.Tooltip,{position:o.PopoverPosition.Top,iconName:o.IconName.Info,style:{zIndex:1051}},n("swapSlippageTooltip"))),a.default.createElement(p.Row,{gap:2,justifyContent:l.JustifyContent.flexStart},g.map((e=>a.default.createElement(o.Button,{key:e,size:o.ButtonSize.Sm,onClick:t=>{t.preventDefault(),t.stopPropagation(),k(e),b(undefined)},variant:o.ButtonVariant.Secondary,borderColor:y===e&&T?l.BorderColor.primaryDefault:l.BorderColor.borderDefault,borderWidth:y===e&&T?2:1,backgroundColor:y===e&&T?l.BackgroundColor.primaryMuted:l.BackgroundColor.backgroundDefault},a.default.createElement(o.Text,{color:y===e&&T?l.TextColor.primaryDefault:l.TextColor.textDefault},e,"%")))),T&&a.default.createElement(o.Button,{size:o.ButtonSize.Sm,variant:o.ButtonVariant.Secondary,borderColor:v===undefined?l.BorderColor.borderDefault:l.BorderColor.primaryDefault,borderWidth:v===undefined?1:2,backgroundColor:v===undefined?l.BackgroundColor.backgroundDefault:l.BackgroundColor.primaryMuted,onClick:e=>{e.preventDefault(),e.stopPropagation(),S(!1)}},a.default.createElement(o.Text,{color:v===undefined?l.TextColor.textDefault:l.TextColor.primaryDefault},v===undefined?n("customSlippage"):`${v}%`)),!T&&a.default.createElement(o.TextField,{borderColor:l.BorderColor.primaryDefault,borderWidth:2,borderRadius:l.BorderRadius.pill,type:o.TextFieldType.Text,value:v,onChange:e=>{const{value:t}=e.target;(""===t||/^\d*[.,]?\d*$/u.test(t))&&(k(undefined),b(t))},autoFocus:!0,onBlur:()=>{S(!0)},onFocus:()=>{S(!1)},endAccessory:a.default.createElement(o.Text,{variant:l.TextVariant.bodyMd},"%")})),w&&a.default.createElement(o.Box,{marginTop:5},a.default.createElement(o.BannerAlert,{severity:w.severity,title:w.title,titleProps:{"data-testid":"swaps-banner-title"}},a.default.createElement(o.Text,null,w.text)))),a.default.createElement(o.ModalFooter,null,a.default.createElement(o.ButtonPrimary,{width:l.BlockSize.Full,size:o.ButtonPrimarySize.Md,variant:l.TextVariant.bodyMd,disabled:v!==undefined&&Number(v.replace(",","."))===h||y!==undefined&&y===h,onClick:()=>{const t=y??Number(null==v?void 0:v.replace(",","."));t&&(r({event:m.MetaMetricsEventName.InputChanged,properties:{input:"slippage",value:t.toString()}}),f((0,c.setSlippage)(t)),e())}},n("submit")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/bridge-transaction-settings-modal.tsx"}],[6949,{"../../../../components/component-library":6314,"../../../../components/component-library/select-button/select-button.types":6351,"../../../../helpers/constants/design-system":6770,"../../../../hooks/useI18nContext":6880,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeAssetPickerButton=void 0;var a,s=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../components/component-library/select-button/select-button.types"),o=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}n.BridgeAssetPickerButton=({asset:e,networkProps:t,networkImageSrc:n,...a})=>{var c;const d=(0,l.useI18nContext)();return s.default.createElement(o.SelectButton,u({borderRadius:i.BorderRadius.pill,backgroundColor:i.BackgroundColor.backgroundDefault,borderColor:i.BorderColor.borderMuted,style:{padding:8,paddingRight:11,paddingInline:e?undefined:24,minWidth:"fit-content"},gap:0,size:r.SelectButtonSize.Lg,alignItems:i.AlignItems.center,descriptionProps:{variant:i.TextVariant.bodyMd,overflowWrap:i.OverflowWrap.BreakWord,ellipsis:!1},caretIconProps:{name:o.IconName.Arrow2Down,style:{display:i.Display.None}},label:s.default.createElement(o.Text,{variant:i.TextVariant.bodyLgMedium,ellipsis:!0},(null==e?void 0:e.symbol)??d("bridgeTo")),startAccessory:e?s.default.createElement(o.BadgeWrapper,{marginRight:2,badge:e?s.default.createElement(o.AvatarNetwork,{name:(null==t||null===(c=t.network)||void 0===c?void 0:c.name)??"",src:n,size:o.AvatarNetworkSize.Xs}):undefined},e?s.default.createElement(o.AvatarToken,{src:e.image||undefined,backgroundColor:i.BackgroundColor.backgroundHover,name:e.symbol}):undefined):undefined},a))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/bridge-asset-picker-button.tsx"}],[6950,{"../../../../../app/scripts/lib/multichain/address":128,"../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":6231,"../../../../components/component-library":6314,"../../../../helpers/constants/common":6768,"../../../../helpers/constants/design-system":6770,"../../../../helpers/utils/util":6819,"../../../../hooks/useAccountTotalCrossChainFiatBalance":6861,"../../../../hooks/useGetFormattedTokensPerChain":6879,"../../../../hooks/useMultichainAccountTotalFiatBalance":6886,"../../../../hooks/useMultichainSelector":6888,"../../../../selectors":7485,"../../../../selectors/multichain":7489,classnames:4102,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=k(e("react")),s=k(e("classnames")),r=e("react-redux"),o=e("../../../../helpers/utils/util"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../selectors"),c=e("../../../../../app/scripts/lib/multichain/address"),d=e("../../../../hooks/useMultichainAccountTotalFiatBalance"),m=e("../../../../hooks/useGetFormattedTokensPerChain"),p=e("../../../../hooks/useAccountTotalCrossChainFiatBalance"),f=k(e("../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),g=e("../../../../helpers/constants/common"),h=e("../../../../hooks/useMultichainSelector"),y=e("../../../../selectors/multichain");function k(e){return e&&e.__esModule?e:{default:e}}const v=({account:e,selected:t,onClick:n})=>{const k=(0,r.useSelector)(u.getUseBlockie),v=(0,r.useSelector)(u.getShouldHideZeroBalanceTokens),b=(0,r.useSelector)(u.getIsTokenNetworkFilterEqualCurrentNetwork),T=(0,r.useSelector)(u.getChainIdsToPoll),{isEvmNetwork:S}=(0,h.useMultichainSelector)(y.getMultichainNetwork,e),w=(0,h.useMultichainSelector)(y.getMultichainIsTestnet,e),C=!w,x=(0,h.useMultichainSelector)(y.getMultichainShouldShowFiat,e),E=(0,r.useSelector)(u.getShowFiatInTestnets),_=x&&(C||w&&E),I=(0,h.useMultichainSelector)(y.getMultichainNativeCurrencyImage,e),A=(0,h.useMultichainSelector)(y.getMultichainNativeCurrency,e),M=(0,d.useMultichainAccountTotalFiatBalance)(e),{formattedTokensWithBalancesPerChain:P}=(0,m.useGetFormattedTokensPerChain)(e,v,b,T),{totalFiatBalance:N}=(0,p.useAccountTotalCrossChainFiatBalance)(e,P);let O;return O=S?!x||w?e.balance:N:M.totalBalance,a.default.createElement(i.Box,{display:l.Display.Flex,padding:4,backgroundColor:t?l.BackgroundColor.primaryMuted:l.BackgroundColor.transparent,className:(0,s.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t}),onClick:n,alignItems:l.AlignItems.center},a.default.createElement(i.AvatarAccount,{borderColor:l.BorderColor.transparent,size:i.AvatarAccountSize.Md,address:e.address,variant:k?i.AvatarAccountVariant.Blockies:i.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),a.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{flex:1}},a.default.createElement(i.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween},a.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium},e.metadata.name),a.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.flexEnd,gap:1},a.default.createElement(i.Text,{as:"div",display:l.Display.Flex,flexDirection:l.FlexDirection.Row,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.flexEnd,ellipsis:!0,textAlign:l.TextAlign.End},a.default.createElement(f.default,{ethNumberOfDecimals:3,value:O,type:g.PRIMARY,showFiat:_,isAggregatedFiatOverviewBalance:_,hideLabel:!0,"data-testid":"first-currency-display"})))),a.default.createElement(i.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween,alignItems:l.AlignItems.center},a.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,"data-testid":"account-list-address"},(0,o.shortenAddress)((0,c.normalizeSafeAddress)(e.address))),a.default.createElement(i.Box,{display:l.Display.Flex,gap:2},a.default.createElement(i.AvatarToken,{src:I,name:A,size:i.AvatarTokenSize.Xs,borderColor:l.BorderColor.borderDefault})))))};n.default=a.default.memo(v)}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-account-list-item.tsx"}],[6951,{"../../../../../app/scripts/translate":366,"../../../../components/component-library":6314,"../../../../helpers/constants/design-system":6770,"../../../../selectors":7485,"../../hooks/useExternalAccountResolution":6935,"./destination-account-list-item":6950,"./destination-selected-account-list-item":6952,"./external-account-list-item":6953,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DestinationAccountPicker=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("../../../../components/component-library"),o=e("../../../../selectors"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../../app/scripts/translate"),u=e("../../hooks/useExternalAccountResolution"),c=p(e("./destination-selected-account-list-item")),d=p(e("./destination-account-list-item")),m=e("./external-account-list-item");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.DestinationAccountPicker=({onAccountSelect:e,selectedSwapToAccount:t,isDestinationSolana:n})=>{const[p,f]=(0,a.useState)(""),g=(0,s.useSelector)(o.getSelectedInternalAccount),h=(0,s.useSelector)(o.getInternalAccounts),{externalAccount:y}=(0,u.useExternalAccountResolution)({searchQuery:p,isDestinationSolana:n,accounts:h}),k=(0,a.useMemo)((()=>h.filter((e=>{const t=e.metadata.name.toLowerCase().includes(p.toLowerCase()),a=e.address.toLowerCase().includes(p.toLowerCase()),s=t||a,r=n?(0,o.isSolanaAccount)(e):!(0,o.isSolanaAccount)(e);return s&&r}))),[h,n,p]);return t?a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.spaceBetween,width:i.BlockSize.Full,className:"swap-to-account-picker",backgroundColor:i.BackgroundColor.backgroundDefault,style:{height:"70px",borderRadius:"8px",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},a.default.createElement(r.Box,{className:"destination-account-picker__selected",width:i.BlockSize.Full},a.default.createElement(c.default,{account:t,isSelected:t.id===(null==g?void 0:g.id),showOptions:!1,disableHover:!0})),a.default.createElement(r.Box,{className:"deselect-button-container",paddingRight:5},a.default.createElement(r.Button,{onClick:()=>e(null),"aria-label":"Deselect account",variant:r.ButtonVariant.Link,size:r.ButtonSize.Sm,className:"deselect-button",style:{padding:"5px",color:"var(--color-icon-alternative)",textDecoration:"none"}},""))):a.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,className:"destination-account-picker",backgroundColor:i.BackgroundColor.backgroundDefault,style:{borderRadius:"8px",position:"relative"}},a.default.createElement(r.Box,{className:"search-container",width:i.BlockSize.Full,display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,backgroundColor:i.BackgroundColor.backgroundDefault,style:{height:"50px",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"#B7BBC866",borderRadius:"8px 8px 0 0",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},a.default.createElement(r.TextField,{placeholder:n?(0,l.t)("destinationAccountPickerSearchPlaceholderToSolana"):(0,l.t)("destinationAccountPickerSearchPlaceholderToMainnet"),value:p,onChange:e=>f(e.target.value),clearButtonOnClick:()=>f(""),className:"text-field-search",style:{width:"98%",borderRadius:0,borderWidth:0,color:"var(--color-text-alternative)"}})),a.default.createElement(r.Box,{style:{height:"20px"}}),a.default.createElement(r.Box,{className:"destination-account-picker__list",backgroundColor:i.BackgroundColor.backgroundDefault,style:{position:"absolute",top:"50px",left:0,right:0,maxHeight:"240px",overflowY:"auto",borderRadius:"0 0 8px 8px",zIndex:1e3,boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"}},k.map((n=>a.default.createElement(d.default,{key:n.id,account:n,onClick:()=>e(n),isSelected:n.id===(null==t?void 0:t.id),showOptions:!1}))),y&&a.default.createElement(m.ExternalAccountListItem,{key:"external-account",account:y,selected:Boolean(t&&t.address===y.address),onClick:()=>e(y)}),0===k.length&&!y&&a.default.createElement(r.Box,{display:i.Display.Flex,style:{minHeight:"79px"},width:i.BlockSize.Full,height:i.BlockSize.Full,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},a.default.createElement(r.Text,{textAlign:i.TextAlign.Center},p?(0,l.t)("destinationAccountPickerNoMatching"):(0,l.t)("destinationAccountPickerNoEligible")))))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-account-picker.tsx"}],[6952,{"../../../../components/component-library":6314,"../../../../helpers/constants/design-system":6770,"../../../../hooks/useI18nContext":6880,"../../../../selectors":7485,classnames:4102,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),s=c(e("classnames")),r=e("react-redux"),o=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../selectors"),u=e("../../../../hooks/useI18nContext");function c(e){return e&&e.__esModule?e:{default:e}}const d=({account:e,selected:t,onClick:n})=>{const c=(0,r.useSelector)(l.getUseBlockie),d=(0,u.useI18nContext)(),m="isExternal"in e&&e.isExternal;return a.default.createElement(o.Box,{display:i.Display.Flex,padding:4,backgroundColor:t?i.BackgroundColor.primaryMuted:i.BackgroundColor.transparent,className:(0,s.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t}),onClick:n,alignItems:i.AlignItems.center,style:{pointerEvents:"none"}},a.default.createElement(o.AvatarAccount,{borderColor:i.BorderColor.transparent,size:o.AvatarAccountSize.Md,address:e.address,variant:c?o.AvatarAccountVariant.Blockies:o.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),a.default.createElement(o.Box,{display:i.Display.Flex,style:{flexDirection:"column"}},a.default.createElement(o.Text,{variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative,"data-testid":"account-list-address",marginBottom:1},d("destinationAccountPickerReceiveAt")),a.default.createElement(o.Text,{variant:i.TextVariant.bodyMdMedium,marginBottom:1},m?e.metadata.name.endsWith(".eth")?e.metadata.name:d("externalAccount"):e.metadata.name)))};n.default=a.default.memo(d)}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/destination-selected-account-list-item.tsx"}],[6953,{"../../../../../app/scripts/lib/multichain/address":128,"../../../../components/component-library":6314,"../../../../helpers/constants/design-system":6770,"../../../../helpers/utils/util":6819,"../../../../hooks/useI18nContext":6880,"../../../../selectors":7485,classnames:4102,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ExternalAccountListItem=void 0;var a=m(e("react")),s=m(e("classnames")),r=e("react-redux"),o=e("../../../../helpers/utils/util"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),u=e("../../../../selectors"),c=e("../../../../../app/scripts/lib/multichain/address"),d=e("../../../../hooks/useI18nContext");function m(e){return e&&e.__esModule?e:{default:e}}n.ExternalAccountListItem=({account:e,selected:t,onClick:n})=>{const m=(0,r.useSelector)(u.getUseBlockie),p=(0,d.useI18nContext)(),f=e.metadata.name.endsWith(".eth");return a.default.createElement(i.Box,{display:l.Display.Flex,padding:4,backgroundColor:l.BackgroundColor.transparent,className:(0,s.default)("multichain-account-list-item",{"multichain-account-list-item--selected":t}),onClick:n,alignItems:l.AlignItems.center,justifyContent:l.JustifyContent.spaceBetween},a.default.createElement(i.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},a.default.createElement(i.AvatarAccount,{borderColor:l.BorderColor.transparent,size:i.AvatarAccountSize.Md,address:e.address,variant:m?i.AvatarAccountVariant.Blockies:i.AvatarAccountVariant.Jazzicon,marginInlineEnd:2}),a.default.createElement(i.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Column,style:{maxWidth:"140px",overflow:"hidden"}},a.default.createElement(i.Text,{variant:l.TextVariant.bodyMdMedium,marginBottom:1,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},f?e.metadata.name:p("externalAccount")),a.default.createElement(i.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative,"data-testid":"account-list-address",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},(0,o.shortenAddress)((0,c.normalizeSafeAddress)(e.address))))),f&&a.default.createElement(i.Tag,{label:p("externalAccount"),paddingLeft:2,paddingRight:2,labelProps:{variant:l.TextVariant.bodyXs}}))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/components/external-account-list-item.tsx"}],[6954,{"../../../../shared/constants/bridge":5720,"../../../../shared/constants/metametrics":5730,"../../../../shared/constants/time":5747,"../../../../shared/lib/swaps-utils":5770,"../../../../shared/types/security-alerts-api":5808,"../../../components/component-library":6314,"../../../components/multichain/pages/page":6552,"../../../ducks/bridge/actions":6746,"../../../ducks/bridge/selectors":6748,"../../../ducks/bridge/utils":6749,"../../../ducks/locale/locale":6757,"../../../ducks/metamask/metamask":6758,"../../../helpers/constants/design-system":6770,"../../../helpers/utils/hardware":6801,"../../../hooks/bridge/events/useRequestProperties":6828,"../../../hooks/bridge/useCountdownTimer":6834,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6835,"../../../hooks/bridge/useIsTxSubmittable":6836,"../../../hooks/bridge/useLatestBalance":6837,"../../../hooks/bridge/useTokenAlerts":6839,"../../../hooks/bridge/useTokensWithFiltering":6840,"../../../hooks/ramps/useRamps/useRamps":6853,"../../../hooks/useI18nContext":6880,"../../../hooks/useMultichainSelector":6888,"../../../selectors":7485,"../../../selectors/multichain":7489,"../../../store/actions":7502,"../../swaps/mascot-background-animation/mascot-background-animation":7438,"../hooks/useDestinationAccount":6934,"../hooks/useIsMultichainSwap":6939,"../layout":6943,"../quotes/bridge-quote-card":6955,"../quotes/multichain-bridge-quote-card":6957,"../utils/quote":6968,"./bridge-cta-button":6946,"./bridge-input-group":6947,"./components/destination-account-picker":6951,"@metamask/bridge-controller":1390,"bignumber.js":3978,classnames:4102,"ethereumjs-util":4327,lodash:4855,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=K(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=Q(e("classnames")),o=e("lodash"),i=e("react-router-dom"),l=e("bignumber.js"),u=e("ethereumjs-util"),c=e("@metamask/bridge-controller"),d=e("../../../ducks/bridge/actions"),m=e("../../../ducks/bridge/selectors"),p=e("../../../components/component-library"),f=e("../../../helpers/constants/design-system"),g=e("../../../hooks/useI18nContext"),h=e("../../../hooks/bridge/useTokensWithFiltering"),y=e("../../../store/actions"),k=e("../../../../shared/lib/swaps-utils"),v=e("../utils/quote"),b=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),T=e("../../../hooks/bridge/events/useRequestProperties"),S=e("../../../../shared/constants/metametrics"),w=e("../../../ducks/bridge/utils"),C=e("../../../components/multichain/pages/page"),x=Q(e("../../swaps/mascot-background-animation/mascot-background-animation")),E=e("../layout"),_=Q(e("../../../hooks/ramps/useRamps/useRamps")),I=e("../../../ducks/metamask/metamask"),A=Q(e("../../../hooks/bridge/useLatestBalance")),M=e("../../../hooks/bridge/useCountdownTimer"),P=e("../../../selectors"),N=e("../../../helpers/utils/hardware"),O=e("../../../../shared/constants/time"),D=e("../../../../shared/constants/bridge"),B=e("../../../ducks/locale/locale"),R=e("../hooks/useIsMultichainSwap"),j=e("../../../hooks/useMultichainSelector"),F=e("../../../selectors/multichain"),L=e("../quotes/multichain-bridge-quote-card"),$=e("../quotes/bridge-quote-card"),q=e("../../../../shared/types/security-alerts-api"),W=e("../../../hooks/bridge/useTokenAlerts"),U=e("../hooks/useDestinationAccount"),H=e("../../../hooks/bridge/useIsTxSubmittable"),V=e("./bridge-input-group"),G=e("./bridge-cta-button"),z=e("./components/destination-account-picker");function Q(e){return e&&e.__esModule?e:{default:e}}function K(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(K=function(e){return e?n:t})(e)}n.default=()=>{var e,t,n;const Q=(0,s.useDispatch)(),K=(0,g.useI18nContext)(),J=(0,R.useIsMultichainSwap)(),Y=(0,s.useSelector)(m.getFromToken),X=(0,s.useSelector)(P.getTokenList),Z=(0,a.useMemo)((()=>0===Object.keys(X).length),[X]),ee=(0,s.useSelector)(m.getToToken),te=(0,s.useSelector)(m.getFromChains),ne=(0,s.useSelector)(m.getToChains),ae=(0,s.useSelector)(m.getFromChain),se=(0,s.useSelector)(m.getToChain),re=(0,s.useSelector)(m.getFromAmount),oe=(0,s.useSelector)(m.getFromAmountInCurrency),ie=(0,j.useMultichainSelector)(F.getMultichainProviderConfig),le=(0,s.useSelector)(m.getSlippage),ue=(0,s.useSelector)(m.getQuoteRequest),{isLoading:ce,activeQuote:de,isQuoteGoingToRefresh:me,quotesLastFetchedMs:pe}=(0,s.useSelector)(m.getBridgeQuotes),fe=(0,s.useSelector)(m.getQuoteRefreshRate),ge=(0,s.useSelector)(m.getWasTxDeclined),he=(0,v.isQuoteExpired)(me,fe,pe),ye=he&&!ue.insufficientBal?undefined:de,ke=(0,j.useMultichainSelector)(F.getMultichainIsEvm),ve=(0,s.useSelector)(P.getSelectedEvmInternalAccount),be=(0,s.useSelector)(F.getLastSelectedNonEvmAccount),Te=(0,j.useMultichainSelector)(P.getSelectedInternalAccount),Se=ke?ve:Te,we=(0,s.useSelector)(P.getCurrentKeyring),Ce=(0,N.isHardwareKeyring)(we.type),xe=(0,s.useSelector)(m.getHardwareWalletName),Ee=(0,H.useIsTxSubmittable)(),_e=(0,s.useSelector)(B.getIntlLocale),Ie=(0,s.useSelector)(I.getNativeCurrency),{isEstimatedReturnLow:Ae,isNoQuotesAvailable:Me,isInsufficientGasForQuote:Pe,isInsufficientBalance:Ne}=(0,s.useSelector)(m.getValidationErrors),{quotesRefreshCount:Oe}=(0,s.useSelector)(m.getBridgeQuotes),{openBuyCryptoInPdapp:De}=(0,_.default)(),Be=(0,a.useMemo)((()=>null!=ae&&ae.chainId?(0,c.getNativeAssetForChainId)(ae.chainId):null),[null==ae?void 0:ae.chainId]),Re=(0,A.default)(Be),{tokenAlert:je}=(0,W.useTokenAlerts)(),Fe=(0,A.default)(Y),{selectedDestinationAccount:Le,setSelectedDestinationAccount:$e}=(0,U.useDestinationAccount)(J),{filteredTokenListGenerator:qe,isLoading:We}=(0,h.useTokensWithFiltering)((null==se?void 0:se.chainId)??(null==ae?void 0:ae.chainId),Y),{flippedRequestProperties:Ue}=(0,T.useRequestProperties)(),He=(0,b.useCrossChainSwapsEventTracker)(),Ve=(0,M.useCountdownTimer)(),[Ge,ze]=(0,a.useState)(!1),[Qe,Ke]=(0,a.useState)(!0);(0,a.useEffect)((()=>Ke(!0)),[Oe]);const[Je,Ye]=(0,a.useState)(!0);(0,a.useEffect)((()=>Ye(!0)),[je]);const[Xe,Ze]=(0,a.useState)(!1);(0,a.useEffect)((()=>{Ze(!0);const e=setTimeout((()=>{Ze(!1)}),O.SECOND);return()=>{clearTimeout(e)}}),[Ge]),(0,a.useEffect)((()=>{if(ye){const{srcAsset:e,destAsset:t,destChainId:n,srcChainId:a}=ye.quote;e&&t&&n&&(Q((0,d.setToChainId)(n)),Q((0,d.setToToken)({...t,chainId:n,image:e.icon??t.iconUrl??"",address:t.address})),Q((0,d.setFromToken)({...e,chainId:a,image:e.icon||e.iconUrl||"",address:e.address})))}else Q((0,d.resetBridgeState)())}),[]);const et=(0,a.useRef)(null),tt=(0,a.useRef)(null),nt=(0,a.useRef)(null);(0,a.useEffect)((()=>{var e,t;Pe(Re)&&(null===(e=et.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}));Ae&&(null===(t=tt.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start"}))}),[Ae,Pe(Re),Qe]);const at=(0,s.useSelector)(m.getIsToOrFromSolana),st=(0,a.useMemo)((()=>!(null==se||!se.chainId)&&(0,c.isSolanaChainId)(se.chainId)),[null==se?void 0:se.chainId]),rt=(0,a.useMemo)((()=>{var e;return{srcTokenAddress:null==Y?void 0:Y.address,destTokenAddress:null==ee?void 0:ee.address,srcTokenAmount:re&&null!=Y&&Y.decimals?(0,k.calcTokenValue)(["","."].includes(re)?"0":re,Y.decimals).toFixed().split(".")[0]:undefined,srcChainId:null==ae?void 0:ae.chainId,destChainId:null==se?void 0:se.chainId,insufficientBal:!(null==ie||null===(e=ie.rpcUrl)||void 0===e||!e.includes("localhost"))||undefined,slippage:le,walletAddress:(null==Se?void 0:Se.address)??"",destWalletAddress:null==Le?void 0:Le.address}}),[null==Y?void 0:Y.address,null==Y?void 0:Y.decimals,null==ee?void 0:ee.address,re,null==ae?void 0:ae.chainId,null==se?void 0:se.chainId,le,null==Se?void 0:Se.address,null==Le?void 0:Le.address,null==ie?void 0:ie.rpcUrl]),ot=(0,a.useCallback)((0,o.debounce)((e=>{Q((0,d.updateQuoteRequestParams)(e))}),300),[]);(0,a.useEffect)((()=>{Q((0,d.setSelectedQuote)(null)),ot(rt)}),[rt,ot]);const it=(0,a.useCallback)((e=>{He({event:S.MetaMetricsEventName.InputChanged,properties:e})}),[]),{search:lt}=(0,i.useLocation)(),ut=(0,i.useHistory)();(0,a.useEffect)((()=>{if(null==ae||!ae.chainId||Z)return;const e=new URLSearchParams(lt),t=e.get("token");if(!t)return;const n=()=>{const t=new URLSearchParams(e);t.delete("token"),ut.replace({search:t.toString()})},a=X[t.toLowerCase()];switch(t){case null==Y?void 0:Y.address:n();break;case null==a?void 0:a.address:case null!=a&&a.address?(0,u.toChecksumAddress)(a.address):undefined:Q((0,d.setFromToken)({...a,image:a.iconUrl,chainId:ae.chainId})),n();break;default:n()}}),[ae,Y,X,lt,Z]),(0,a.useEffect)((()=>{J&&(Q((0,d.setSlippage)(undefined)),ae&&!ee&&(Q((0,d.setToChainId)(ae.chainId)),Q((0,d.setToToken)(D.SOLANA_USDC_ASSET))))}),[]);const ct=(0,s.useSelector)(m.isBridgeSolanaEnabled);return a.default.createElement(E.Column,{className:"prepare-bridge-page",gap:8},a.default.createElement(V.BridgeInputGroup,{header:K(J?"swapSwapFrom":"bridgeFrom"),token:Y,onAmountChange:e=>{Q((0,d.setFromTokenInputValue)(e))},onAssetChange:e=>{const t={...e,address:e.address??(0,u.zeroAddress)()};Q((0,d.setFromToken)(t)),Q((0,d.setFromTokenInputValue)(null)),e.address===(null==ee?void 0:ee.address)&&Q((0,d.setToToken)(null)),t.address&&it({input:"token_source",value:t.address})},networkProps:{network:ae,networks:J?undefined:te,onNetworkChange:e=>{(null==e?void 0:e.chainId)&&e.chainId!==(null==ae?void 0:ae.chainId)&&it({input:"chain_source",value:e.chainId}),null!=e&&e.chainId&&e.chainId===(null==se?void 0:se.chainId)&&(Q((0,d.setToChainId)(null)),Q((0,d.setToToken)(null))),(0,c.isSolanaChainId)(e.chainId)&&be?Q((0,y.setSelectedAccount)(be.address)):(0,w.isNetworkAdded)(e)&&(Q((0,y.setSelectedAccount)(ve.address)),Q((0,y.setActiveNetworkWithError)(e.rpcEndpoints[e.defaultRpcEndpointIndex].networkClientId||e.chainId))),Q((0,d.setFromToken)(null)),Q((0,d.setFromTokenInputValue)(null))},header:K("yourNetworks")},isMultiselectEnabled:!J,onMaxButtonClick:e=>{Q((0,d.setFromTokenInputValue)(e))},amountInFiat:oe.valueInCurrency,amountFieldProps:{testId:"from-amount",autoFocus:!0,value:re||undefined},isTokenListLoading:Z,buttonProps:{testId:"bridge-source-button"}}),a.default.createElement(E.Column,{height:f.BlockSize.Full,paddingTop:8,backgroundColor:f.BackgroundColor.backgroundAlternativeSoft,style:{position:"relative"}},a.default.createElement(p.Box,{className:"prepare-bridge-page__switch-tokens",display:f.Display.Flex,backgroundColor:f.BackgroundColor.backgroundAlternativeSoft,style:{position:"absolute",top:"calc(-20px + 1px)",right:"calc(50% - 20px)",border:"2px solid var(--color-background-default)",borderRadius:"100%",opacity:1,width:40,height:40,justifyContent:f.JustifyContent.center}},a.default.createElement(p.ButtonIcon,{iconProps:{className:(0,r.default)({rotate:Ge})},style:{alignSelf:"center",borderRadius:"100%",width:"100%",height:"100%"},"data-testid":"switch-tokens",ariaLabel:"switch-tokens",iconName:p.IconName.Arrow2Down,color:f.IconColor.iconAlternativeSoft,disabled:Xe||!(0,c.isValidQuoteRequest)(ue,!1)||!J&&!(0,w.isNetworkAdded)(se),onClick:()=>{if(J||(0,w.isNetworkAdded)(se)){if(ze(!Ge),Ue&&He({event:S.MetaMetricsEventName.InputSourceDestinationFlipped,properties:Ue}),!J){const e=(null==se?void 0:se.defaultRpcEndpointIndex)!==undefined&&null!=se&&se.rpcEndpoints&&(0,w.isNetworkAdded)(se)?se.rpcEndpoints[se.defaultRpcEndpointIndex].networkClientId:undefined;null!=se&&se.chainId&&(0,c.isSolanaChainId)(se.chainId)&&be?Q((0,y.setSelectedAccount)(be.address)):Q((0,y.setSelectedAccount)(ve.address)),e&&Q((0,y.setActiveNetwork)(e)),(null==ae?void 0:ae.chainId)&&Q((0,d.setToChainId)(ae.chainId))}Q((0,d.setFromToken)(ee)),Q((0,d.setToToken)(Y))}}})),a.default.createElement(V.BridgeInputGroup,{header:K("swapSelectToken"),token:ee,onAssetChange:e=>{const t={...e,address:e.address??(0,u.zeroAddress)()};t.address&&it({input:"token_destination",value:t.address}),Q((0,d.setToToken)(t))},networkProps:J?undefined:{network:se,networks:ne,onNetworkChange:e=>{e.chainId!==(null==se?void 0:se.chainId)&&it({input:"chain_destination",value:e.chainId}),Q((0,d.setToChainId)(e.chainId)),Q((0,d.setToToken)(null))},header:K(J?"swapSwapTo":"bridgeTo"),shouldDisableNetwork:({chainId:e})=>e===(null==ae?void 0:ae.chainId)},customTokenListGenerator:se||J?qe:undefined,amountInFiat:(null==ye||null===(e=ye.toTokenAmount)||void 0===e?void 0:e.valueInCurrency)||undefined,amountFieldProps:{testId:"to-amount",readOnly:!0,disabled:!0,value:null!=ye&&null!==(t=ye.toTokenAmount)&&void 0!==t&&t.amount?(0,v.formatTokenAmount)(_e,ye.toTokenAmount.amount):"0",autoFocus:!1,className:null!=ye&&null!==(n=ye.toTokenAmount)&&void 0!==n&&n.amount?"amount-input defined":"amount-input"},isTokenListLoading:We,buttonProps:{testId:"bridge-destination-button"}}),ct&&at&&a.default.createElement(p.Box,{padding:6,paddingBottom:3,paddingTop:3},a.default.createElement(z.DestinationAccountPicker,{onAccountSelect:$e,selectedSwapToAccount:Le,isDestinationSolana:st})),a.default.createElement(E.Column,{height:f.BlockSize.Full,justifyContent:f.JustifyContent.center},ce&&!ye?a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Text,{textAlign:f.TextAlign.Center,color:f.TextColor.textAlternativeSoft},K("swapFetchingQuotes")),a.default.createElement(x.default,{height:"64",width:"64"})):null),a.default.createElement(E.Row,{padding:6,paddingTop:ye?0:6},a.default.createElement(E.Column,{gap:3,className:ye?"highlight":"",style:{paddingBottom:null!=ye&&ye.approval?16:"revert-layer",paddingTop:null!=ye&&ye.approval?16:undefined,paddingInline:16,position:"relative",overflow:"hidden",...ye&&!ge&&ct?{boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)",backgroundColor:"var(--color-background-default)",borderRadius:8}:{}}},ye&&me&&a.default.createElement(E.Row,{style:{position:"absolute",left:0,top:0,width:`calc(100% * (${fe} - ${Ve}) / ${fe})`,height:4,maxWidth:"100%",transition:"width 1s linear"},backgroundColor:f.BackgroundColor.primaryMuted}),!ge&&ye&&(ct?a.default.createElement(L.MultichainBridgeQuoteCard,null):a.default.createElement($.BridgeQuoteCard,null)),a.default.createElement(C.Footer,{padding:0,flexDirection:f.FlexDirection.Column,gap:2},a.default.createElement(G.BridgeCTAButton,{onFetchNewQuotes:()=>{ot(rt)},needsDestinationAddress:ct&&at&&!Le}),null!=ye&&ye.approval&&re&&Y?a.default.createElement(E.Row,{justifyContent:f.JustifyContent.center,gap:1},a.default.createElement(p.Text,{color:f.TextColor.textAlternativeSoft,variant:f.TextVariant.bodyXs,textAlign:f.TextAlign.Center},Ce?K("willApproveAmountForBridgingHardware"):K("willApproveAmountForBridging",[(0,v.formatTokenAmount)(_e,new l.BigNumber(re),Y.symbol)])),re&&a.default.createElement(E.Tooltip,{display:f.Display.InlineBlock,position:p.PopoverPosition.Top,offset:[-48,8],title:K("grantExactAccess")},K(Ce?"bridgeApprovalWarningForHardware":"bridgeApprovalWarning",[re,Y.symbol]))):null))),Ce&&Ee&&xe&&ye&&a.default.createElement(p.BannerAlert,{marginInline:4,marginBottom:3,title:K("hardwareWalletSubmissionWarningTitle"),textAlign:f.TextAlign.Left},a.default.createElement("ul",{style:{listStyle:"disc"}},a.default.createElement("li",null,a.default.createElement(p.Text,{variant:f.TextVariant.bodyMd},K("hardwareWalletSubmissionWarningStep1",[xe]))),a.default.createElement("li",null,a.default.createElement(p.Text,{variant:f.TextVariant.bodyMd},K("hardwareWalletSubmissionWarningStep2",[xe]))))),Me&&!he&&a.default.createElement(p.BannerAlert,{marginInline:4,marginBottom:10,severity:p.BannerAlertSeverity.Danger,description:K("noOptionsAvailableMessage"),textAlign:f.TextAlign.Left}),Ae&&Qe&&ye&&a.default.createElement(p.BannerAlert,{ref:et,marginInline:4,marginBottom:3,title:K("lowEstimatedReturnTooltipTitle"),severity:p.BannerAlertSeverity.Warning,description:K("lowEstimatedReturnTooltipMessage",[100*c.BRIDGE_QUOTE_MAX_RETURN_DIFFERENCE_PERCENTAGE]),textAlign:f.TextAlign.Left,onClose:()=>Ke(!1)}),je&&Je&&a.default.createElement(p.BannerAlert,{ref:nt,marginInline:4,marginBottom:3,title:je.titleId?K(je.titleId):"",severity:je.type===q.TokenFeatureType.MALICIOUS?p.BannerAlertSeverity.Danger:p.BannerAlertSeverity.Warning,description:je.descriptionId?K(je.descriptionId):je.description,textAlign:f.TextAlign.Left,onClose:()=>Ye(!1)}),!ce&&ye&&!Ne(Fe)&&Pe(Re)&&a.default.createElement(p.BannerAlert,{ref:tt,marginInline:4,marginBottom:3,title:K("bridgeValidationInsufficientGasTitle",[Ie]),severity:p.BannerAlertSeverity.Danger,description:K("bridgeValidationInsufficientGasMessage",[Ie]),textAlign:f.TextAlign.Left,actionButtonLabel:K("buyMoreAsset",[Ie]),actionButtonOnClick:()=>De()})))}}}},{package:"$root$",file:"ui/pages/bridge/prepare/prepare-bridge-page.tsx"}],[6955,{"../../../../shared/constants/bridge":5720,"../../../../shared/constants/metametrics":5730,"../../../../shared/constants/terms":5746,"../../../components/component-library":6314,"../../../ducks/bridge/selectors":6748,"../../../ducks/locale/locale":6757,"../../../ducks/metamask/metamask":6758,"../../../helpers/constants/design-system":6770,"../../../hooks/bridge/events/useQuoteProperties":6826,"../../../hooks/bridge/events/useRequestMetadataProperties":6827,"../../../hooks/bridge/events/useRequestProperties":6828,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6835,"../../../hooks/useI18nContext":6880,"../../../selectors/multichain":7489,"../layout":6943,"../utils/quote":6968,"./bridge-quotes-modal":6956,"@metamask/bridge-controller":1390,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeQuoteCard=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("@metamask/bridge-controller"),o=e("../../../components/component-library"),i=e("../../../ducks/bridge/selectors"),l=e("../../../hooks/useI18nContext"),u=e("../utils/quote"),c=e("../../../ducks/metamask/metamask"),d=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),m=e("../../../hooks/bridge/events/useRequestProperties"),p=e("../../../hooks/bridge/events/useRequestMetadataProperties"),f=e("../../../hooks/bridge/events/useQuoteProperties"),g=e("../../../../shared/constants/metametrics"),h=e("../../../helpers/constants/design-system"),y=e("../layout"),k=e("../../../../shared/constants/bridge"),v=e("../../../../shared/constants/terms"),b=e("../../../ducks/locale/locale"),T=e("../../../selectors/multichain"),S=e("./bridge-quotes-modal");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}n.BridgeQuoteCard=()=>{var e,t,n,w;const C=(0,l.useI18nContext)(),{activeQuote:x}=(0,s.useSelector)(i.getBridgeQuotes),E=(0,s.useSelector)(c.getCurrentCurrency),_=(0,s.useSelector)(c.getNativeCurrency),{isEstimatedReturnLow:I}=(0,s.useSelector)(i.getValidationErrors),A=(0,d.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:M}=(0,m.useRequestProperties)(),P=(0,p.useRequestMetadataProperties)(),N=(0,f.useQuoteProperties)(),O=(0,s.useSelector)(i.getFromChain),D=(0,s.useSelector)(i.getToChain),B=(0,s.useSelector)(b.getIntlLocale),[R,j]=(0,a.useState)(!1),[F,L]=(0,a.useState)(!1);return a.default.createElement(a.default.Fragment,null,a.default.createElement(S.BridgeQuotesModal,{isOpen:R,onClose:()=>j(!1)}),x?a.default.createElement(y.Column,{gap:3},a.default.createElement(y.Row,{justifyContent:h.JustifyContent.spaceBetween},a.default.createElement(y.Row,{gap:1,justifyContent:h.JustifyContent.flexStart,style:{whiteSpace:"nowrap"}},a.default.createElement(o.Text,{variant:h.TextVariant.bodyLgMedium},C("bestPrice")),a.default.createElement(y.Tooltip,{title:C("howQuotesWork"),position:o.PopoverPosition.TopStart,offset:[-16,16],iconName:o.IconName.Question},C("howQuotesWorkExplanation",[r.BRIDGE_MM_FEE_RATE]))),a.default.createElement(y.Column,{height:h.BlockSize.Full,alignItems:h.AlignItems.flexEnd},a.default.createElement(o.Text,{as:"a",variant:h.TextVariant.bodyMd,color:h.TextColor.primaryDefault,onClick:()=>{M&&P&&N&&A({event:g.MetaMetricsEventName.AllQuotesOpened,properties:{...M,...P,...N}}),j(!0)}},C("moreQuotes")))),a.default.createElement(y.Column,{gap:1},a.default.createElement(y.Row,null,a.default.createElement(o.Text,{variant:h.TextVariant.bodyMdMedium,color:h.TextColor.textAlternativeSoft},C("bridging")),a.default.createElement(y.Row,{gap:1},a.default.createElement(o.AvatarNetwork,{name:(null==O?void 0:O.name)??"",src:null!=O&&O.chainId?(0,T.getImageForChainId)(O.chainId):undefined,size:o.AvatarNetworkSize.Xs,backgroundColor:h.BackgroundColor.transparent}),a.default.createElement(o.Text,{style:{whiteSpace:"nowrap"}},null!=O&&O.chainId?k.NETWORK_TO_SHORT_NETWORK_NAME_MAP[O.chainId]:null==O?void 0:O.name),a.default.createElement(o.Icon,{name:o.IconName.Arrow2Right,size:o.IconSize.Xs}),a.default.createElement(o.AvatarNetwork,{name:(null==D?void 0:D.name)??"",src:null!=D&&D.chainId?(0,T.getImageForChainId)(D.chainId):undefined,size:o.AvatarNetworkSize.Xs,backgroundColor:h.BackgroundColor.transparent}),a.default.createElement(o.Text,{style:{whiteSpace:"nowrap"}},null!=D&&D.chainId?k.NETWORK_TO_SHORT_NETWORK_NAME_MAP[D.chainId]:null==D?void 0:D.name))),a.default.createElement(y.Row,{className:"row-with-warning",backgroundColor:I?h.BackgroundColor.warningMuted:undefined},a.default.createElement(o.Text,{style:{whiteSpace:"nowrap"},variant:h.TextVariant.bodyMdMedium,color:I?h.TextColor.warningDefault:h.TextColor.textAlternativeSoft},C("networkFee")),a.default.createElement(y.Row,{gap:1},a.default.createElement(y.Tooltip,{position:o.PopoverPosition.TopStart,offset:[-16,16],iconName:o.IconName.Question,triggerElement:a.default.createElement(o.Text,{style:{whiteSpace:"nowrap",overflow:"visible",textDecoration:"underline",cursor:"pointer"},color:I?h.TextColor.warningDefault:undefined},F?`${null!=x&&null!==(e=x.totalNetworkFee)&&void 0!==e&&e.valueInCurrency?(0,u.formatTokenAmount)(B,null==x||null===(t=x.totalNetworkFee)||void 0===t?void 0:t.amount,_):undefined}`:`${(0,u.formatCurrencyAmount)(null==x||null===(n=x.totalNetworkFee)||void 0===n?void 0:n.valueInCurrency,E,2)??(0,u.formatTokenAmount)(B,null==x||null===(w=x.totalNetworkFee)||void 0===w?void 0:w.amount,_)}`)},C("howNetworkFeesWorkExplanation",[F?(0,u.formatTokenAmount)(B,null==x?void 0:x.totalMaxNetworkFee.amount,_):(0,u.formatCurrencyAmount)(null==x?void 0:x.totalMaxNetworkFee.valueInCurrency,E,2)])),a.default.createElement(o.Icon,{style:{cursor:"pointer"},color:I?h.IconColor.warningDefault:h.IconColor.iconAlternativeSoft,name:o.IconName.SwapVertical,size:o.IconSize.Md,onClick:()=>L(!F)}))),a.default.createElement(y.Row,null,a.default.createElement(o.Text,{variant:h.TextVariant.bodyMdMedium,color:h.TextColor.textAlternativeSoft},C("time")),a.default.createElement(o.Text,null,C("bridgeTimingMinutes",[(0,u.formatEtaInMinutes)(x.estimatedProcessingTimeInSeconds)]))),a.default.createElement(y.Row,{justifyContent:h.JustifyContent.flexStart,gap:2},a.default.createElement(o.Text,{variant:h.TextVariant.bodyMd,color:h.TextColor.textAlternativeSoft},C("rateIncludesMMFee",[r.BRIDGE_MM_FEE_RATE])),a.default.createElement(o.Text,{color:h.TextColor.textAlternativeSoft},C("bulletpoint")),a.default.createElement(o.ButtonLink,{variant:h.TextVariant.bodyMd,color:h.TextColor.textAlternativeSoft,href:v.TERMS_OF_USE_LINK,externalLink:!0,style:{textDecoration:"underline"}},C("bridgeTerms"))))):null)}}}},{package:"$root$",file:"ui/pages/bridge/quotes/bridge-quote-card.tsx"}],[6956,{"../../../../shared/constants/metametrics":5730,"../../../components/component-library":6314,"../../../ducks/bridge/actions":6746,"../../../ducks/bridge/selectors":6748,"../../../ducks/locale/locale":6757,"../../../ducks/metamask/metamask":6758,"../../../helpers/constants/design-system":6770,"../../../hooks/bridge/events/useQuoteProperties":6826,"../../../hooks/bridge/events/useRequestMetadataProperties":6827,"../../../hooks/bridge/events/useRequestProperties":6828,"../../../hooks/bridge/events/useTradeProperties":6829,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6835,"../../../hooks/useI18nContext":6880,"../../../hooks/useMultichainSelector":6888,"../../../selectors/multichain":7489,"../layout":6943,"../utils/quote":6968,"@metamask/bridge-controller":1390,"@metamask/snaps-sdk/jsx":2830,lodash:4855,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BridgeQuotesModal=void 0;var a,s=(a=e("react"))&&a.__esModule?a:{default:a},r=e("@metamask/snaps-sdk/jsx"),o=e("react-redux"),i=e("lodash"),l=e("@metamask/bridge-controller"),u=e("../../../components/component-library"),c=e("../../../helpers/constants/design-system"),d=e("../utils/quote"),m=e("../../../hooks/useI18nContext"),p=e("../../../ducks/bridge/actions"),f=e("../../../ducks/bridge/selectors"),g=e("../layout"),h=e("../../../ducks/metamask/metamask"),y=e("../../../hooks/bridge/events/useQuoteProperties"),k=e("../../../hooks/bridge/events/useRequestMetadataProperties"),v=e("../../../hooks/bridge/events/useRequestProperties"),b=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),T=e("../../../../shared/constants/metametrics"),S=e("../../../hooks/bridge/events/useTradeProperties"),w=e("../../../ducks/locale/locale"),C=e("../../../selectors/multichain"),x=e("../../../hooks/useMultichainSelector");function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E.apply(null,arguments)}n.BridgeQuotesModal=({onClose:e,...t})=>{const n=(0,m.useI18nContext)(),a=(0,o.useDispatch)(),{sortedQuotes:_,activeQuote:I,recommendedQuote:A}=(0,o.useSelector)(f.getBridgeQuotes),M=(0,o.useSelector)(f.getBridgeSortOrder),P=(0,o.useSelector)(h.getCurrentCurrency),N=(0,x.useMultichainSelector)(C.getMultichainNativeCurrency),O=(0,o.useSelector)(w.getIntlLocale),D=(0,b.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:B}=(0,v.useRequestProperties)(),R=(0,k.useRequestMetadataProperties)(),j=(0,y.useQuoteProperties)(),F=(0,S.useTradeProperties)();return s.default.createElement(u.Modal,E({className:"quotes-modal",onClose:e},t),s.default.createElement(u.ModalOverlay,null),s.default.createElement(u.ModalContent,{modalDialogProps:{padding:0}},s.default.createElement(u.ModalHeader,{onBack:e},s.default.createElement(u.Text,{variant:c.TextVariant.headingSm,textAlign:c.TextAlign.Center},n("swapSelectAQuote"))),s.default.createElement(g.Row,{paddingTop:3,paddingBottom:1,paddingInline:4},[[l.SortOrder.COST_ASC,n("bridgeNetCost"),r.IconName.Arrow2Up],[l.SortOrder.ETA_ASC,n("time"),r.IconName.Arrow2Down]].map((([e,t,n])=>s.default.createElement(u.ButtonLink,{key:t,onClick:()=>{B&&R&&j&&D({event:T.MetaMetricsEventName.AllQuotesSorted,properties:{...B,...R,...j,sort_order:M}}),a((0,p.setSortOrder)(e))},startIconName:M===e&&M===l.SortOrder.ETA_ASC?n:undefined,startIconProps:{size:u.IconSize.Xs},endIconName:M===e&&M===l.SortOrder.COST_ASC?n:undefined,endIconProps:{size:u.IconSize.Xs},color:M===e?c.TextColor.primaryDefault:c.TextColor.textAlternativeSoft},s.default.createElement(u.Text,{variant:M===e?c.TextVariant.bodySmMedium:c.TextVariant.bodySm,color:M===e?c.TextColor.primaryDefault:c.TextColor.textAlternativeSoft},t))))),s.default.createElement(g.Column,{style:{overflow:"scroll"}},_.map(((t,r)=>{const{totalNetworkFee:o,estimatedProcessingTimeInSeconds:l,toTokenAmount:m,cost:f,sentAmount:h,quote:{destAsset:y,bridges:k,requestId:v}}=t,b=v===(null==I?void 0:I.quote.requestId),S=v===(null==A?void 0:A.quote.requestId);return s.default.createElement(g.Row,{alignItems:c.AlignItems.flexStart,key:r,backgroundColor:b?c.BackgroundColor.primaryMuted:undefined,onClick:()=>{a((0,p.setSelectedQuote)(t)),B&&R&&j&&F&&D({event:T.MetaMetricsEventName.QuoteSelected,properties:{...B,...R,...j,...F,is_best_quote:S}}),e()},paddingInline:4,paddingTop:3,paddingBottom:3,style:{position:"relative"}},b&&s.default.createElement(g.Column,{style:{position:"absolute",left:4,top:4,height:"calc(100% - 8px)",width:4,borderRadius:8},backgroundColor:c.BackgroundColor.primaryDefault}),s.default.createElement(g.Column,null,s.default.createElement(u.Text,{variant:c.TextVariant.bodyMd},f.valueInCurrency&&(0,d.formatCurrencyAmount)(f.valueInCurrency,P,0)),[null!=o&&o.valueInCurrency&&null!=h&&h.valueInCurrency?n("quotedTotalCost",[(0,d.formatCurrencyAmount)(o.valueInCurrency.plus(h.valueInCurrency),P,0)]):n("quotedTotalCost",[(0,d.formatTokenAmount)(O,o.amount,N)]),n("quotedReceiveAmount",[(0,d.formatCurrencyAmount)(m.valueInCurrency,P,0)??(0,d.formatTokenAmount)(O,m.amount,y.symbol)])].map((e=>s.default.createElement(u.Text,{key:e,variant:c.TextVariant.bodyXsMedium,color:c.TextColor.textAlternative},e)))),s.default.createElement(g.Column,{alignItems:c.AlignItems.flexEnd},s.default.createElement(u.Text,{variant:c.TextVariant.bodyMd},n("bridgeTimingMinutes",[(0,d.formatEtaInMinutes)(l)])),s.default.createElement(u.Text,{variant:c.TextVariant.bodyXsMedium,color:c.TextColor.textAlternative},(0,i.startCase)(k[0]))))})))))}}}},{package:"$root$",file:"ui/pages/bridge/quotes/bridge-quotes-modal.tsx"}],[6957,{"../../../../shared/constants/bridge":5720,"../../../../shared/constants/metametrics":5730,"../../../../shared/constants/multichain/networks":5733,"../../../../shared/constants/network":5734,"../../../components/component-library":6314,"../../../ducks/bridge/selectors":6748,"../../../ducks/locale/locale":6757,"../../../ducks/metamask/metamask":6758,"../../../helpers/constants/design-system":6770,"../../../hooks/bridge/events/useQuoteProperties":6826,"../../../hooks/bridge/events/useRequestMetadataProperties":6827,"../../../hooks/bridge/events/useRequestProperties":6828,"../../../hooks/bridge/useCrossChainSwapsEventTracker":6835,"../../../hooks/useI18nContext":6880,"../layout":6943,"../utils/quote":6968,"./bridge-quotes-modal":6956,"@metamask/bridge-controller":1390,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultichainBridgeQuoteCard=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("@metamask/bridge-controller"),o=e("../../../components/component-library"),i=e("../../../ducks/bridge/selectors"),l=e("../../../hooks/useI18nContext"),u=e("../utils/quote"),c=e("../../../ducks/metamask/metamask"),d=e("../../../hooks/bridge/useCrossChainSwapsEventTracker"),m=e("../../../hooks/bridge/events/useRequestProperties"),p=e("../../../hooks/bridge/events/useRequestMetadataProperties"),f=e("../../../hooks/bridge/events/useQuoteProperties"),g=e("../../../../shared/constants/metametrics"),h=e("../../../helpers/constants/design-system"),y=e("../layout"),k=e("../../../../shared/constants/bridge"),v=e("../../../../shared/constants/network"),b=e("../../../../shared/constants/multichain/networks"),T=e("../../../ducks/locale/locale"),S=e("./bridge-quotes-modal");function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}n.MultichainBridgeQuoteCard=()=>{var e;const t=(0,l.useI18nContext)(),{activeQuote:n}=(0,s.useSelector)(i.getBridgeQuotes),w=(0,s.useSelector)(c.getCurrentCurrency),C=(0,d.useCrossChainSwapsEventTracker)(),{quoteRequestProperties:x}=(0,m.useRequestProperties)(),E=(0,p.useRequestMetadataProperties)(),_=(0,f.useQuoteProperties)(),I=(0,s.useSelector)(i.getFromChain),A=(0,s.useSelector)(i.getToChain),M=(0,s.useSelector)(T.getIntlLocale),P=(0,s.useSelector)(i.getIsBridgeTx),[N,O]=(0,a.useState)(!1),D=e=>(0,r.isSolanaChainId)(e)?b.MULTICHAIN_TOKEN_IMAGE_MAP[b.MultichainNetworks.SOLANA]:v.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[(0,r.formatChainIdToHex)(e)],B=e=>(0,r.isSolanaChainId)(e)?k.NETWORK_TO_SHORT_NETWORK_NAME_MAP[b.MultichainNetworks.SOLANA]:k.NETWORK_TO_SHORT_NETWORK_NAME_MAP[(0,r.formatChainIdToHex)(e)];return a.default.createElement(a.default.Fragment,null,a.default.createElement(S.BridgeQuotesModal,{isOpen:N,onClose:()=>O(!1)}),n?a.default.createElement(y.Column,{gap:3},a.default.createElement(y.Column,{gap:2},a.default.createElement(y.Row,{justifyContent:h.JustifyContent.spaceBetween},a.default.createElement(y.Row,{gap:1},a.default.createElement(o.Text,{variant:h.TextVariant.bodyMd,color:h.TextColor.textAlternative},t("multichainQuoteCardQuoteLabel")),a.default.createElement(y.Tooltip,{title:t("howQuotesWork"),position:o.PopoverPosition.TopStart,offset:[-16,16],iconName:o.IconName.Question},t("howQuotesWorkExplanation",[r.BRIDGE_MM_FEE_RATE]))),a.default.createElement(o.Text,null,`1 ${n.quote.srcAsset.symbol} = ${(0,u.formatTokenAmount)(M,n.toTokenAmount.amount.dividedBy(n.sentAmount.amount))} ${n.quote.destAsset.symbol}`)),P&&a.default.createElement(y.Row,{justifyContent:h.JustifyContent.spaceBetween},a.default.createElement(o.Text,{variant:h.TextVariant.bodyMd,color:h.TextColor.textAlternative},t("multichainQuoteCardBridgingLabel")),a.default.createElement(y.Row,{gap:1},a.default.createElement(o.AvatarNetwork,{name:(null==I?void 0:I.name)??"",src:D(n.quote.srcChainId),size:o.AvatarNetworkSize.Xs,backgroundColor:h.BackgroundColor.transparent}),a.default.createElement(o.Text,null,B(n.quote.srcChainId)),a.default.createElement(o.Icon,{name:o.IconName.Arrow2Right,size:o.IconSize.Xs}),a.default.createElement(o.AvatarNetwork,{name:(null==A?void 0:A.name)??"",src:D(n.quote.destChainId),size:o.AvatarNetworkSize.Xs,backgroundColor:h.BackgroundColor.transparent}),a.default.createElement(o.Text,null,B(n.quote.destChainId)))),a.default.createElement(y.Row,{justifyContent:h.JustifyContent.spaceBetween},a.default.createElement(o.Text,{variant:h.TextVariant.bodyMd,color:h.TextColor.textAlternative},t("networkFee")),a.default.createElement(o.Text,null,(0,u.formatCurrencyAmount)(null===(e=n.totalNetworkFee)||void 0===e?void 0:e.valueInCurrency,w,2))),a.default.createElement(y.Row,{justifyContent:h.JustifyContent.spaceBetween},a.default.createElement(o.Text,{variant:h.TextVariant.bodyMd,color:h.TextColor.textAlternative},t("multichainQuoteCardTimeLabel")),a.default.createElement(o.Text,null,t("bridgeTimingMinutes",[(0,u.formatEtaInMinutes)(n.estimatedProcessingTimeInSeconds)]))),a.default.createElement(y.Row,{justifyContent:h.JustifyContent.spaceBetween,color:h.TextColor.textAlternative},a.default.createElement(o.Text,{variant:h.TextVariant.bodyMd},t("rateIncludesMMFee",[r.BRIDGE_MM_FEE_RATE])),a.default.createElement(o.ButtonLink,{variant:h.TextVariant.bodyMd,onClick:()=>{x&&E&&_&&C({event:g.MetaMetricsEventName.AllQuotesOpened,properties:{...x,...E,..._}}),O(!0)}},t("moreQuotes"))))):null)}}}},{package:"$root$",file:"ui/pages/bridge/quotes/multichain-bridge-quote-card.tsx"}],[6958,{"../../../../shared/types/bridge-status":5807,"../../../components/component-library":6314,"../../../helpers/constants/design-system":6770,"./segment":6964,"@metamask/transaction-controller":2905,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeTxHistoryItem:e,transactionGroup:t}){const{initialTransaction:n}=t,s=d(n),r=m({bridgeTxHistoryItem:e,srcTxStatus:s}),u=c(s);return a.default.createElement(o.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:2},a.default.createElement(o.Text,{color:i.TextColor.textAlternative},"Transaction ",u," of 2"),a.default.createElement(o.Box,{display:i.Display.Flex,gap:2,width:i.BlockSize.Full},a.default.createElement(l.default,{type:s}),a.default.createElement(l.default,{type:r})))};var a=u(e("react")),s=e("@metamask/transaction-controller"),r=e("../../../../shared/types/bridge-status"),o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system"),l=u(e("./segment"));function u(e){return e&&e.__esModule?e:{default:e}}const c=e=>{if(e===r.StatusTypes.PENDING)return 1;if(e===r.StatusTypes.COMPLETE)return 2;throw new Error("No more possible states for srcTxStatus")},d=e=>e.status===s.TransactionStatus.confirmed?r.StatusTypes.COMPLETE:r.StatusTypes.PENDING,m=({bridgeTxHistoryItem:e,srcTxStatus:t})=>{var n;return t!==r.StatusTypes.COMPLETE?null:null!=e&&null!==(n=e.status.destChain)&&void 0!==n&&n.txHash&&e.status.status===r.StatusTypes.COMPLETE?r.StatusTypes.COMPLETE:r.StatusTypes.PENDING}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-activity-item-tx-segments.tsx"}],[6959,{"../../../../shared/constants/common":5721,"../../../components/component-library":6314,"../../../components/multichain/menu-items/view-explorer-menu-item":6485,"../../../contexts/metametrics":6734,"../../../helpers/constants/design-system":6770,"../../../hooks/useI18nContext":6880,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({srcChainId:e,destChainId:t,srcBlockExplorerUrl:n,destBlockExplorerUrl:u}){const c=(0,a.useContext)(o.MetaMetricsContext),p=(0,l.useI18nContext)(),f=p("bridgeExplorerLinkViewOn",[d(e,n)]),g=u?p("bridgeExplorerLinkViewOn",[d(t,u)]):undefined;return a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4},n&&a.default.createElement(s.ButtonSecondary,{endIconName:s.IconName.Export,onClick:()=>{n&&(0,r.openBlockExplorer)(n,m,c)}},f),u&&a.default.createElement(s.ButtonSecondary,{endIconName:s.IconName.Export,onClick:()=>{u&&(0,r.openBlockExplorer)(u,m,c)}},g))},n.getBlockExplorerUrl=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("../../../components/component-library"),r=e("../../../components/multichain/menu-items/view-explorer-menu-item"),o=e("../../../contexts/metametrics"),i=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),u=e("../../../../shared/constants/common");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=(e,t)=>{const n=e?u.CHAINID_DEFAULT_BLOCK_EXPLORER_HUMAN_READABLE_URL_MAP[e]:undefined;return n||(t?t.split("/")[2]:undefined)};n.getBlockExplorerUrl=(e,t)=>{var n;if(!e||!t)return undefined;const a=e.defaultBlockExplorerUrlIndex;if(a===undefined)return undefined;return`${null===(n=e.blockExplorerUrls[a])||void 0===n?void 0:n.replace(/\/$/u,"")}/tx/${t}`};const m="Activity Tab"}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-explorer-links.tsx"}],[6960,{"../../../../shared/constants/bridge":5720,"../../../../shared/modules/Numeric":5777,"../../../../shared/types/bridge-status":5807,"../../../components/component-library":6314,"../../../helpers/constants/design-system":6770,"../../../hooks/useI18nContext":6880,"@metamask/transaction-controller":2905,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({step:e,networkConfigurationsByChainId:t,time:n,stepStatus:s}){const i=(0,u.useI18nContext)();return a.createElement(o.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center,gap:2,className:"bridge-transaction-details__step-grid--desc"},n&&a.createElement(o.Text,{color:l.TextColor.textDefault},n),a.createElement(o.Text,{color:s===r.StatusTypes.PENDING||s===r.StatusTypes.COMPLETE?l.TextColor.textDefault:l.TextColor.textAlternative,fontWeight:s===r.StatusTypes.PENDING?l.FontWeight.Medium:l.FontWeight.Normal},e.action===r.ActionTypes.BRIDGE&&m(i,s,e,t),e.action===r.ActionTypes.SWAP&&p(i,s,e)))},n.getStepStatus=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("@metamask/transaction-controller"),r=e("../../../../shared/types/bridge-status"),o=e("../../../components/component-library"),i=e("../../../../shared/modules/Numeric"),l=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),c=e("../../../../shared/constants/bridge");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const m=(e,t,n,a)=>{var s;const o=n.destChainId?new i.Numeric(n.destChainId,10).toPrefixedHexString():undefined,l=o?a[o]:undefined,u=c.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==l?void 0:l.chainId],d=null===(s=n.destAsset)||void 0===s?void 0:s.symbol;return d?t===r.StatusTypes.COMPLETE?e("bridgeStepActionBridgeComplete",[d,u]):e("bridgeStepActionBridgePending",[d,u]):null},p=(e,t,n)=>{var a,s;const o=null===(a=n.srcAsset)||void 0===a?void 0:a.symbol,i=null===(s=n.destAsset)||void 0===s?void 0:s.symbol;return o&&i?t===r.StatusTypes.COMPLETE?e("bridgeStepActionSwapComplete",[o,i]):e("bridgeStepActionSwapPending",[o,i]):null};n.getStepStatus=({bridgeHistoryItem:e,step:t,srcChainTxMeta:n})=>e?t.action===r.ActionTypes.SWAP?((e,t,n)=>{const a=t.srcChainId===t.destChainId,o=t.srcChainId===e.quote.srcChainId;if(a&&o)return(null==n?void 0:n.status)===s.TransactionStatus.confirmed?r.StatusTypes.COMPLETE:r.StatusTypes.PENDING;return(null==n?void 0:n.status)===s.TransactionStatus.confirmed&&e.status?e.status.status:null})(e,t,n):t.action===r.ActionTypes.BRIDGE?(e=>e.status?e.status.status:null)(e):r.StatusTypes.UNKNOWN:r.StatusTypes.UNKNOWN}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-step-description.tsx"}],[6961,{"../../../../shared/types/bridge-status":5807,"../../../components/component-library":6314,"../../../helpers/utils/util":6819,"./bridge-step-description":6960,"./step-progress-bar-item":6965,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeHistoryItem:e,srcChainTxMeta:t,networkConfigurationsByChainId:n}){const u=(null==e?void 0:e.quote.steps)||[],c=u.map((n=>(0,i.getStepStatus)({bridgeHistoryItem:e,step:n,srcChainTxMeta:t})));return a.default.createElement(s.Box,{className:"bridge-transaction-details__step-grid"},u.map(((s,m)=>{const p=m>0?c[m-1]:null,f=c[m],g=m<c.length-1?c[m+1]:null,h=f===r.StatusTypes.COMPLETE&&(g===r.StatusTypes.PENDING||g===r.StatusTypes.COMPLETE),y=p===r.StatusTypes.PENDING&&f===r.StatusTypes.PENDING?null:f,k=(0,o.formatDate)(d(m,m===u.length-1,(null==e?void 0:e.startTime)||(null==t?void 0:t.time),(null==e?void 0:e.estimatedProcessingTimeInSeconds)||0),"hh:mm a");return a.default.createElement(l.default,{key:`progress-${s.action}-${s.srcChainId}-${s.destChainId}`,stepStatus:y,isLastItem:m===u.length-1,isEdgeComplete:h},a.default.createElement(i.default,{step:s,networkConfigurationsByChainId:n,stepStatus:y,time:k}))})))};var a=c(e("react")),s=e("../../../components/component-library"),r=e("../../../../shared/types/bridge-status"),o=e("../../../helpers/utils/util"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("./bridge-step-description")),l=c(e("./step-progress-bar-item"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}const d=(e,t,n,a)=>0===e?n:t&&n&&a?n+1e3*a:undefined}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/bridge-step-list.tsx"}],[6962,{"../../../components/component-library":6314,"../../../helpers/constants/design-system":6770,classnames:4102,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("classnames"))&&a.__esModule?a:{default:a},o=e("../../../components/component-library"),i=e("../../../helpers/constants/design-system");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const u=s.forwardRef((({size:e=o.IconSize.Md,color:t,className:n="",style:a},l)=>s.createElement(o.Box,{className:(0,r.default)(n,"mm-icon",`mm-icon--size-${e}`),ref:l,as:"span",display:i.Display.InlineBlock,style:{height:"12px",width:"12px",border:`1px solid var(--color-${t})`,borderRadius:"50%",backgroundColor:`var(--color-${i.BackgroundColor.backgroundDefault})`,zIndex:1,...a}})));n.default=u}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/hollow-circle.tsx"}],[6963,{"../../../components/component-library":6314,"../../../helpers/constants/design-system":6770,"./hollow-circle":6962,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({iconSize:e,color:t}){return a.default.createElement(s.Box,{style:{position:"relative"}},a.default.createElement(s.Box,{className:"bridge-transaction-details__icon-loading",backgroundColor:r.BackgroundColor.primaryMuted,display:r.Display.Flex,justifyContent:r.JustifyContent.center,alignItems:r.AlignItems.center,borderRadius:r.BorderRadius.full,style:{width:"2rem",height:"2rem"}}),a.default.createElement(o.default,{size:e,color:t,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderWidth:"2px"}}))};var a=i(e("react")),s=e("../../../components/component-library"),r=e("../../../helpers/constants/design-system"),o=i(e("./hollow-circle"));function i(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/pulsing-circle.tsx"}],[6964,{"../../../../shared/types/bridge-status":5807,"../../../components/component-library":6314,"../../../helpers/constants/design-system":6770,classnames:4102,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({type:e}){return a.default.createElement(r.Box,{width:o.BlockSize.Full,backgroundColor:o.BackgroundColor.backgroundAlternative,borderRadius:o.BorderRadius.pill},a.default.createElement(r.Box,{width:o.BlockSize.Full,backgroundColor:o.BackgroundColor.primaryDefault,borderRadius:o.BorderRadius.pill,className:(0,s.default)({"bridge-transaction-details__segment":!0,"bridge-transaction-details__segment--pending":e===i.StatusTypes.PENDING,"bridge-transaction-details__segment--complete":e===i.StatusTypes.COMPLETE})}))};var a=l(e("react")),s=l(e("classnames")),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=e("../../../../shared/types/bridge-status");function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/segment.tsx"}],[6965,{"../../../../shared/types/bridge-status":5807,"../../../components/component-library":6314,"../../../helpers/constants/design-system":6770,"./hollow-circle":6962,"./pulsing-circle":6963,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({stepStatus:e,isLastItem:t,isEdgeComplete:n,children:u}){return a.default.createElement(a.default.Fragment,null,(null===e||e===s.StatusTypes.UNKNOWN)&&a.default.createElement(i.default,{size:c,color:o.IconColor.iconMuted}),e===s.StatusTypes.PENDING&&a.default.createElement(l.default,{iconSize:c,color:o.IconColor.primaryDefault}),e===s.StatusTypes.COMPLETE&&a.default.createElement(r.Icon,{name:r.IconName.FullCircle,color:o.IconColor.primaryDefault,size:c}),u,!t&&a.default.createElement(d,{color:n?o.IconColor.primaryDefault:o.IconColor.iconMuted}),!t&&a.default.createElement("div",null))};var a=u(e("react")),s=e("../../../../shared/types/bridge-status"),r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system"),i=u(e("./hollow-circle")),l=u(e("./pulsing-circle"));function u(e){return e&&e.__esModule?e:{default:e}}const c=r.IconSize.Xs,d=({color:e})=>a.default.createElement("div",{style:{height:"60px",marginTop:"-1rem",marginBottom:"-1rem",width:"1px",backgroundColor:`var(--color-${e})`,zIndex:.1}})}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/step-progress-bar-item.tsx"}],[6966,{"../../../components/component-library":6314,"../../../helpers/constants/design-system":6770,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({title:e,value:t}){return s.default.createElement(r.Box,{display:o.Display.Flex,justifyContent:o.JustifyContent.spaceBetween},s.default.createElement(r.Text,{width:o.BlockSize.OneFourth,paddingRight:1,variant:o.TextVariant.bodyMd},e),s.default.createElement(r.Text,{display:o.Display.Flex,width:o.BlockSize.ThreeFourths,flexDirection:o.FlexDirection.Column,alignItems:o.AlignItems.flexEnd,textAlign:o.TextAlign.Right,paddingLeft:1,variant:o.TextVariant.bodyMd},t))};var a,s=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../components/component-library"),o=e("../../../helpers/constants/design-system")}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/transaction-detail-row.tsx"}],[6967,{"../../../../shared/constants/bridge":5720,"../../../../shared/constants/common":5721,"../../../../shared/constants/metametrics":5730,"../../../../shared/constants/time":5747,"../../../../shared/modules/conversion.utils":5782,"../../../../shared/modules/selectors/networks":5799,"../../../../shared/types/bridge-status":5807,"../../../components/app/confirm/info/row":5907,"../../../components/app/transaction-activity-log":6206,"../../../components/app/transaction-breakdown/transaction-breakdown-utils":6216,"../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":6231,"../../../components/component-library":6314,"../../../components/multichain/pages/page":6552,"../../../contexts/metametrics":6734,"../../../ducks/bridge-status/selectors":6745,"../../../ducks/locale/locale":6757,"../../../helpers/constants/common":6768,"../../../helpers/constants/design-system":6770,"../../../helpers/utils/util":6819,"../../../hooks/bridge/useBridgeChainInfo":6830,"../../../hooks/useI18nContext":6880,"../../../selectors":7485,"../../../selectors/multichain":7489,"../../confirmations/components/simulation-details/formatAmount":7136,"./bridge-explorer-links":6959,"./bridge-step-list":6961,"./transaction-detail-row":6966,"@metamask/bridge-controller":1390,"bignumber.js":3978,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsDelayed=n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("bignumber.js"),i=e("@metamask/bridge-controller"),l=e("../../../components/component-library"),u=e("../../../components/multichain/pages/page"),c=e("../../../ducks/bridge-status/selectors"),d=B(e("../../../hooks/bridge/useBridgeChainInfo")),m=e("../../../../shared/modules/selectors/networks"),p=e("../../../components/app/transaction-breakdown/transaction-breakdown-utils"),f=e("../../../../shared/modules/conversion.utils"),g=B(e("../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),h=e("../../../../shared/constants/common"),y=e("../../../helpers/constants/common"),k=e("../../../../shared/types/bridge-status"),v=e("../../../helpers/constants/design-system"),b=e("../../../helpers/utils/util"),T=e("../../../components/app/confirm/info/row"),S=e("../../../hooks/useI18nContext"),w=e("../../../selectors"),C=e("../../../../shared/constants/metametrics"),x=e("../../../contexts/metametrics"),E=e("../../confirmations/components/simulation-details/formatAmount"),_=e("../../../ducks/locale/locale"),I=B(e("../../../components/app/transaction-activity-log")),A=e("../../../../shared/constants/bridge"),M=e("../../../selectors/multichain"),P=e("../../../../shared/constants/time"),N=B(e("./transaction-detail-row")),O=B(e("./bridge-explorer-links")),D=B(e("./bridge-step-list"));function B(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}const j=(e,t)=>{var n;if(!e||!t)return undefined;const a=e.defaultBlockExplorerUrlIndex;if(a===undefined)return undefined;return`${null===(n=e.blockExplorerUrls[a])||void 0===n?void 0:n.replace(/\/$/u,"")}/tx/${t}`},F=(e,t)=>{const n=10*P.MINUTE;return Boolean(e===k.StatusTypes.PENDING&&(null==t?void 0:t.startTime)&&Date.now()>t.startTime+n+1e3*t.estimatedProcessingTimeInSeconds)};n.getIsDelayed=F;const L={[k.StatusTypes.PENDING]:v.TextColor.warningDefault,[k.StatusTypes.COMPLETE]:v.TextColor.successDefault,[k.StatusTypes.FAILED]:v.TextColor.errorDefault,[k.StatusTypes.UNKNOWN]:v.TextColor.errorDefault};n.default=()=>{var e,t,n;const P=(0,S.useI18nContext)(),B=(0,s.useSelector)(_.getIntlLocale),R=(0,a.useContext)(x.MetaMetricsContext),$=(0,s.useSelector)((e=>e)),q=(0,r.useHistory)(),W=(0,r.useLocation)(),{srcTxMetaId:U}=(0,r.useParams)(),H=(0,s.useSelector)(c.selectBridgeHistoryForAccount),V=(0,s.useSelector)(w.selectedAddressTxListSelectorAllChain),G=(0,s.useSelector)(m.getNetworkConfigurationsByChainId),z=(null===(e=W.state)||void 0===e?void 0:e.transactionGroup)||null,Q=(null===(t=W.state)||void 0===t?void 0:t.isEarliestNonce)||null,K=V.find((e=>e.id===U)),J=U?H[U]:undefined,{srcNetwork:Y,destNetwork:X}=(0,d.default)({bridgeHistoryItem:J,srcTxMeta:K}),Z=null==K?void 0:K.hash,ee=null!=Y&&Y.isEvm?j(Y,Z):undefined,te=null==J||null===(n=J.status.destChain)||void 0===n?void 0:n.txHash,ne=null!=X&&X.isEvm?j(X,te):undefined,ae=J?null==J?void 0:J.status.status:k.StatusTypes.PENDING,se=Y?(0,M.getImageForChainId)(Y.isEvm?(0,i.formatChainIdToHex)(Y.chainId):Y.chainId):undefined,re=X?(0,M.getImageForChainId)(X.isEvm?(0,i.formatChainIdToHex)(X.chainId):X.chainId):undefined,oe=A.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==Y?void 0:Y.chainId],ie=A.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==X?void 0:X.chainId],le=K?(0,p.getTransactionBreakdownData)({state:$,transaction:K,isTokenApprove:!1}):undefined,ue=(({locale:e,bridgeHistoryItem:t})=>{var n;return null!=t&&null!==(n=t.pricingData)&&void 0!==n&&n.amountSent?(0,E.formatAmount)(e,new o.BigNumber(t.pricingData.amountSent)):undefined})({locale:B,bridgeHistoryItem:J}),ce=(({locale:e,bridgeHistoryItem:t})=>{var n;if(!t)return undefined;const a=null===(n=t.status.destChain)||void 0===n?void 0:n.amount;if(!a)return undefined;const s=t.quote.destAsset.decimals;return(0,E.formatAmount)(e,new o.BigNumber(a).dividedBy(10**s))})({locale:B,bridgeHistoryItem:J}),de=F(ae,J),me=a.default.createElement(l.Box,{display:v.Display.Flex,gap:1,alignItems:v.AlignItems.center},Y&&a.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,src:se,name:null==Y?void 0:Y.name}),oe),pe=a.default.createElement(l.Box,{display:v.Display.Flex,gap:1,alignItems:v.AlignItems.center},X&&a.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Xs,src:re,name:null==X?void 0:X.name}),ie);return a.default.createElement("div",{className:"bridge__container"},a.default.createElement(u.Header,{className:"bridge__header",startAccessory:a.default.createElement(l.ButtonIcon,{iconName:l.IconName.ArrowLeft,size:l.ButtonIconSize.Sm,ariaLabel:P("back"),onClick:()=>q.goBack()})},P("bridge")," details"),a.default.createElement(u.Content,{className:"bridge-transaction-details__content"},a.default.createElement(l.Box,{display:v.Display.Flex,flexDirection:v.FlexDirection.Column,gap:4},de&&a.default.createElement(l.BannerAlert,{title:P("bridgeTxDetailsDelayedTitle"),severity:l.BannerAlertSeverity.Warning},a.default.createElement(l.Text,{display:v.Display.Flex,alignItems:v.AlignItems.center},P("bridgeTxDetailsDelayedDescription"),"",a.default.createElement(l.ButtonLink,{externalLink:!0,href:y.SUPPORT_REQUEST_LINK,onClick:()=>{R({category:C.MetaMetricsEventCategory.Home,event:C.MetaMetricsEventName.SupportLinkClicked,properties:{url:y.SUPPORT_REQUEST_LINK,location:"Bridge Tx Details"}},{contextPropsIntoEventProperties:[C.MetaMetricsContextProp.PageTitle]})}},P("bridgeTxDetailsDelayedDescriptionSupport")),".")),ae!==k.StatusTypes.COMPLETE&&(J||K)&&a.default.createElement(D.default,{bridgeHistoryItem:J,srcChainTxMeta:K,networkConfigurationsByChainId:G}),a.default.createElement(O.default,{srcChainId:null!=Y&&Y.isEvm?(0,i.formatChainIdToHex)(null==Y?void 0:Y.chainId):undefined,destChainId:null!=X&&X.isEvm?(0,i.formatChainIdToHex)(null==X?void 0:X.chainId):undefined,srcBlockExplorerUrl:ee,destBlockExplorerUrl:ne}),a.default.createElement(T.ConfirmInfoRowDivider,null),a.default.createElement(l.Box,{display:v.Display.Flex,flexDirection:v.FlexDirection.Column,gap:2},a.default.createElement(N.default,{title:P("bridgeTxDetailsStatus"),value:a.default.createElement(l.Text,{textTransform:v.TextTransform.Capitalize,color:ae?L[ae]:undefined},null==ae?void 0:ae.toLowerCase())}),a.default.createElement(N.default,{title:P("bridgeTxDetailsBridging"),value:a.default.createElement(l.Box,{display:v.Display.Flex,gap:1,alignItems:v.AlignItems.center,flexWrap:v.FlexWrap.Wrap,justifyContent:v.JustifyContent.flexEnd},me,a.default.createElement(l.Icon,{name:l.IconName.Arrow2Right,size:l.IconSize.Sm}),pe)}),a.default.createElement(N.default,{title:P("bridgeTxDetailsTimestamp"),value:P("bridgeTxDetailsTimestampValue",[(0,b.formatDate)(null==K?void 0:K.time,"MMM d, yyyy"),(0,b.formatDate)(null==K?void 0:K.time,"hh:mm a")])})),a.default.createElement(T.ConfirmInfoRowDivider,null),a.default.createElement(l.Box,{display:v.Display.Flex,flexDirection:v.FlexDirection.Column,gap:2},a.default.createElement(N.default,{title:P("bridgeTxDetailsYouSent"),value:a.default.createElement(l.Box,{display:v.Display.Flex,gap:1,alignItems:v.AlignItems.center,flexWrap:v.FlexWrap.Wrap,justifyContent:v.JustifyContent.flexEnd},P("bridgeTxDetailsTokenAmountOnChain",[ue,null==J?void 0:J.quote.srcAsset.symbol]),me)}),ce&&(null==J?void 0:J.quote.destAsset.symbol)&&a.default.createElement(N.default,{title:P("bridgeTxDetailsYouReceived"),value:a.default.createElement(l.Box,{display:v.Display.Flex,gap:1,alignItems:v.AlignItems.center,flexWrap:v.FlexWrap.Wrap,justifyContent:v.JustifyContent.flexEnd},P("bridgeTxDetailsTokenAmountOnChain",[ce,null==J?void 0:J.quote.destAsset.symbol]),pe)}),a.default.createElement(N.default,{title:P("bridgeTxDetailsTotalGasFee"),value:a.default.createElement(g.default,{currency:null==le?void 0:le.nativeCurrency,denomination:h.EtherDenomination.ETH,numberOfDecimals:6,value:null==le?void 0:le.hexGasTotal,type:y.PRIMARY})})),a.default.createElement(T.ConfirmInfoRowDivider,null),a.default.createElement(l.Box,{display:v.Display.Flex,flexDirection:v.FlexDirection.Column,gap:2},a.default.createElement(N.default,{title:P("bridgeTxDetailsNonce"),value:null!=K&&K.txParams.nonce?(0,f.hexToDecimal)(null==K?void 0:K.txParams.nonce):undefined}),z&&void 0!==Q&&a.default.createElement(I.default,{transactionGroup:z,className:"transaction-list-item-details__transaction-activity-log",isEarliestNonce:Q})))))}}}},{package:"$root$",file:"ui/pages/bridge/transaction-details/transaction-details.tsx"}],[6969,{"../../../shared/constants/metametrics":5730,"../../../shared/constants/network":5734,"../../../shared/constants/transaction":5749,"../../../shared/modules/selectors/networks":5799,"../../../shared/modules/string-utils":5802,"../../components/app/assets/nfts/nft-default-image/nft-default-image":5859,"../../components/app/network-account-balance-header/network-account-balance-header":6030,"../../components/component-library":6314,"../../components/ui/page-container":6681,"../../components/ui/site-origin/site-origin":6699,"../../contexts/i18n":6730,"../../contexts/metametrics":6734,"../../ducks/history/history":6755,"../../helpers/constants/common":6768,"../../helpers/constants/design-system":6770,"../../helpers/utils/util":6819,"../../hooks/useCurrencyDisplay":6870,"../../hooks/useOriginMetadata":6894,"../../hooks/useUserPreferencedCurrency":6914,"../../selectors":7485,"../../store/actions":7502,"../confirmations/components/confirm/nav":7093,"@metamask/etherscan-link":1908,"@metamask/rpc-errors":2554,classnames:4102,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("@metamask/rpc-errors"),i=e("@metamask/etherscan-link"),l=P(e("classnames")),u=e("../../components/ui/page-container"),c=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),m=e("../../ducks/history/history"),p=e("../../store/actions"),f=e("../../../shared/constants/metametrics"),g=e("../../../shared/constants/transaction"),h=e("../../components/component-library"),y=e("../../../shared/modules/selectors/networks"),k=e("../../selectors"),v=P(e("../../components/app/assets/nfts/nft-default-image/nft-default-image")),b=e("../../helpers/utils/util"),T=e("../../helpers/constants/design-system"),S=P(e("../../components/app/network-account-balance-header/network-account-balance-header")),w=e("../../../shared/constants/network"),C=P(e("../../components/ui/site-origin/site-origin")),x=e("../../helpers/constants/common"),E=e("../../hooks/useUserPreferencedCurrency"),_=e("../../hooks/useCurrencyDisplay"),I=e("../../hooks/useOriginMetadata"),A=e("../../../shared/modules/string-utils"),M=e("../confirmations/components/confirm/nav");function P(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}n.default=()=>{var e,t;const n=(0,a.useContext)(c.I18nContext),P=(0,s.useDispatch)(),N=(0,r.useHistory)(),O=(0,s.useSelector)(m.getMostRecentOverviewPage),D=(0,s.useSelector)(k.getSuggestedNfts).sort(((e,t)=>e.requestData.asset.tokenId-t.requestData.asset.tokenId)),B=(0,s.useSelector)(k.getRpcPrefsForCurrentProvider),R=(0,s.useSelector)(y.getCurrentChainId),j=(0,s.useSelector)(k.getIpfsGateway),F=(0,a.useContext)(d.MetaMetricsContext),L=(0,s.useSelector)(k.getNetworkIdentifier),{address:$}=(0,s.useSelector)(k.getSelectedInternalAccount),q=(0,s.useSelector)(k.getSelectedAccountCachedBalance),W=(0,s.useSelector)((e=>(0,k.getAddressBookEntryOrAccountName)(e,$))),[U,H]=(0,a.useState)([]),V=w.NETWORK_TO_NAME_MAP[R]||L,{currency:G,numberOfDecimals:z}=(0,E.useUserPreferencedCurrency)(x.PRIMARY,{ethNumberOfDecimals:4}),[Q]=(0,_.useCurrencyDisplay)(q,{numberOfDecimals:z,currency:G}),K=(0,I.useOriginMetadata)(null===(e=D[0])||void 0===e?void 0:e.origin)||{},J=null===(t=D[0])||void 0===t?void 0:t.id,Y=(0,a.useCallback)((async()=>{await Promise.all(D.map((async({requestData:{asset:e},id:t})=>{await P((0,p.resolvePendingApproval)(t,null)),F({event:f.MetaMetricsEventName.NftAdded,category:f.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_contract_address:e.address,token_symbol:e.symbol,token_id:e.tokenId,token_standard:e.standard,asset_type:g.AssetType.NFT,source:f.MetaMetricsTokenEventSource.Dapp}})}))),N.push(O)}),[P,N,F,O,D]),X=(0,a.useCallback)((async()=>{await Promise.all(D.map((async({id:e})=>P((0,p.rejectPendingApproval)(e,(0,o.serializeError)(o.providerErrors.userRejectedRequest())))))),N.push(O)}),[P,N,O,D]);let Z,ee;if((0,a.useEffect)((()=>{D.length||N.push(O)}),[N,O,D]),D.length)try{const e=new URL(D[0].origin);Z=e.host,ee=e.href}catch{Z="dapp"}return(0,a.useEffect)((()=>{(async()=>{const e=await Promise.all(D.map((async e=>{const t=await(0,b.getAssetImageURL)(e.requestData.asset.image,j);return{...e,requestData:{...e.requestData,asset:{...e.requestData.asset,assetImageUrl:t}}}})));H(e)})()}),[]),a.default.createElement(h.Box,{height:T.BlockSize.Full,width:T.BlockSize.Full,display:T.Display.Flex,flexDirection:T.FlexDirection.Column},a.default.createElement(M.Nav,{confirmationId:J}),a.default.createElement(h.Box,{paddingBottom:2,className:"confirm-add-suggested-nft__header"},a.default.createElement(S.default,{accountName:W,accountBalance:Q,accountAddress:$,networkName:V,chainId:R}),a.default.createElement(h.Box,{paddingTop:4,paddingRight:4,paddingLeft:4,display:T.Display.Flex,justifyContent:T.JustifyContent.center},a.default.createElement(C.default,{chip:!0,siteOrigin:K.origin,title:K.origin,iconSrc:K.iconUrl,iconName:K.hostname})),a.default.createElement(h.Text,{variant:T.TextVariant.headingLg,textAlign:T.TextAlign.Center,margin:2},n("addSuggestedNFTs")),a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,textAlign:T.TextAlign.Center},n("wantsToAddThisAsset",["dapp"===Z?a.default.createElement(h.Text,{key:Z,variant:T.TextVariant.bodyMd,fontWeight:"bold"},Z):a.default.createElement(h.ButtonLink,{key:Z,size:h.BUTTON_SIZES.INHERIT,href:ee,target:"_blank"},Z)]))),a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__content"},a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__card",padding:2,borderRadius:T.BorderRadius.MD},a.default.createElement(h.Box,{className:(0,l.default)({"confirm-add-suggested-nft__nft-list":D.length>1})},D.map((({id:e,requestData:{asset:{address:t,tokenId:n,symbol:s,name:r}}})=>{const l=U.find((e=>e.requestData.asset.tokenId===n&&(0,A.isEqualCaseInsensitive)(e.requestData.asset.address,t))),u=l?l.requestData.asset.assetImageUrl:"",c=(0,i.getTokenTrackerLink)(t,R,null,null,{blockExplorerUrl:(null==B?void 0:B.blockExplorerUrl)??null});return 1===D.length?a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__nft-single",key:`confirm-add-suggested-nft__nft-single-${e}`,borderRadius:T.BorderRadius.MD,margin:0,padding:0},u?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-single-image",src:u,alt:r||n}):a.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-single-image-default",tokenId:n,name:r||s||(0,b.shortenAddress)(t)}),a.default.createElement(h.Box,{padding:1,display:T.Display.Flex,flexDirection:T.FlexDirection.Row,justifyContent:T.JustifyContent.spaceBetween,alignItems:T.AlignItems.Center},a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Column,justifyContent:T.JustifyContent.spaceEvenly,flexWrap:T.FlexWrap.NoWrap,width:T.BlockSize.Full,className:"confirm-add-suggested-nft__nft-single-sub-details"},B.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:c,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},r||s||(0,b.shortenAddress)(t)):a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,className:"confirm-add-suggested-nft__nft-name",title:t},r||s||(0,b.shortenAddress)(t)),a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,color:T.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",n)))):a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Row,flexWrap:T.FlexWrap.NoWrap,alignItems:T.AlignItems.Center,justifyContent:T.JustifyContent.spaceBetween,marginBottom:4,className:"confirm-add-suggested-nft__nft-list-item",key:`${t}-${n}`},a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Row,flexWrap:T.FlexWrap.NoWrap,alignItems:T.AlignItems.Center,justifyContent:T.JustifyContent.spaceBetween},u?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-image",src:u,alt:r||n}):a.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-image-default"}),a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Column,justifyContent:T.JustifyContent.spaceEvenly,flexWrap:T.FlexWrap.NoWrap,width:T.BlockSize.Full,className:"confirm-add-suggested-nft__nft-sub-details"},B.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:c,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},r||s||(0,b.shortenAddress)(t)):a.default.createElement(h.Text,{variant:T.TextVariant.bodySm,className:"confirm-add-suggested-nft__nft-name",title:t},r||s||(0,b.shortenAddress)(t)),a.default.createElement(h.Text,{variant:T.TextVariant.bodySm,color:T.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",n))),a.default.createElement(h.ButtonIcon,{className:"confirm-add-suggested-nft__nft-remove","data-testid":`confirm-add-suggested-nft__nft-remove-${e}`,iconName:h.IconName.Close,size:h.ButtonIconSize.Sm,color:T.IconColor.iconMuted,onClick:t=>{t.preventDefault(),t.stopPropagation(),P((0,p.rejectPendingApproval)(e,(0,o.serializeError)(o.providerErrors.userRejectedRequest())))}}))}))))),a.default.createElement(u.PageContainerFooter,{cancelText:n("cancel"),submitText:1===D.length?n("addNft"):n("addNfts"),onCancel:X,onSubmit:Y}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/confirm-add-suggested-nft.js"}],[6970,{"./confirm-add-suggested-nft":6969},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-add-suggested-nft"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/index.js"}],[6971,{"../../../shared/constants/metametrics":5730,"../../../shared/constants/transaction":5749,"../../../shared/modules/string-utils":5802,"../../components/component-library":6314,"../../components/ui/identicon":6656,"../../components/ui/page-container":6681,"../../components/ui/token-balance":6714,"../../contexts/i18n":6730,"../../contexts/metametrics":6734,"../../ducks/history/history":6755,"../../ducks/metamask/metamask":6758,"../../helpers/constants/design-system":6770,"../../helpers/constants/zendesk-url":6783,"../../selectors":7485,"../../store/actions":7502,"../confirmations/components/confirm/nav":7093,"@metamask/rpc-errors":2554,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("@metamask/rpc-errors"),i=e("../../components/component-library"),l=w(e("../../components/ui/identicon")),u=w(e("../../components/ui/token-balance")),c=e("../../components/ui/page-container"),d=e("../../contexts/i18n"),m=e("../../contexts/metametrics"),p=e("../../ducks/history/history"),f=e("../../ducks/metamask/metamask"),g=w(e("../../helpers/constants/zendesk-url")),h=e("../../../shared/modules/string-utils"),y=e("../../store/actions"),k=e("../../../shared/constants/metametrics"),v=e("../../../shared/constants/transaction"),b=e("../../selectors"),T=e("../../helpers/constants/design-system"),S=e("../confirmations/components/confirm/nav");function w(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,a.useContext)(d.I18nContext),n=(0,s.useDispatch)(),w=(0,r.useHistory)(),C=(0,s.useSelector)(p.getMostRecentOverviewPage),x=(0,s.useSelector)(b.getSuggestedTokens),E=(0,s.useSelector)(f.getTokens),_=(0,a.useContext)(m.MetaMetricsContext),I=null===(e=x[0])||void 0===e?void 0:e.id,A=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((({address:t})=>(0,h.isEqualCaseInsensitive)(t,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(x,E)&&a.default.createElement(i.BannerAlert,{severity:T.Severity.Warning,marginTop:4},t("knownTokenWarning",[a.default.createElement(i.Button,{variant:i.ButtonVariant.Link,key:"confirm-add-suggested-token-duplicate-warning",className:"confirm-add-suggested-token__link",externalLink:!0,size:i.ButtonLinkSize.Inherit,href:g.default.TOKEN_SAFETY_PRACTICES},t("learnScamRisk"))]))),[x,E,t]),M=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((t=>(0,h.isEqualCaseInsensitive)(t.symbol,null==e?void 0:e.symbol)&&!(0,h.isEqualCaseInsensitive)(t.address,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(x,E)&&a.default.createElement(i.BannerAlert,{marginTop:4,severity:T.Severity.Warning,description:t("reusedTokenNameWarning")})),[x,E,t]),P=(0,a.useCallback)((async()=>{await Promise.all(x.map((async({requestData:{asset:e},id:t})=>{await n((0,y.resolvePendingApproval)(t,null)),_({event:k.MetaMetricsEventName.TokenAdded,category:k.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:k.MetaMetricsTokenEventSource.Dapp,token_standard:v.TokenStandard.ERC20,asset_type:v.AssetType.token}})}))),w.push(C)}),[n,w,_,C,x]),N=(0,a.useCallback)((async()=>{await Promise.all(x.map((({id:e})=>n((0,y.rejectPendingApproval)(e,(0,o.serializeError)(o.providerErrors.userRejectedRequest())))))),w.push(C)}),[n,w,C,x]);return(0,a.useEffect)((()=>{x.length||w.push(C)}),[]),a.default.createElement("div",{className:"page-container"},a.default.createElement(S.Nav,{confirmationId:I}),a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},t("addSuggestedTokens")),a.default.createElement("div",{className:"page-container__subtitle"},t("likeToImportTokens")),A,M),a.default.createElement("div",{className:"page-container__content"},a.default.createElement("div",{className:"confirm-add-suggested-token"},a.default.createElement("div",{className:"confirm-add-suggested-token__header"},a.default.createElement("div",{className:"confirm-add-suggested-token__token"},t("token")),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},t("balance"))),a.default.createElement("div",{className:"confirm-add-suggested-token__token-list"},x.map((({requestData:{asset:e}})=>{return a.default.createElement("div",{className:"confirm-add-suggested-token__token-list-item",key:e.address},a.default.createElement("div",{className:"confirm-add-suggested-token__token confirm-add-suggested-token__data"},a.default.createElement(l.default,{className:"confirm-add-suggested-token__token-icon",diameter:48,address:e.address,image:e.image}),a.default.createElement("div",{className:"confirm-add-suggested-token__name"},(t=e.name,n=e.symbol,t===undefined?n:`${t} (${n})`))),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},a.default.createElement(u.default,{token:e})));var t,n}))))),a.default.createElement(c.PageContainerFooter,{cancelText:t("cancel"),submitText:t("addToken"),onCancel:N,onSubmit:P,disabled:0===x.length}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/confirm-add-suggested-token.js"}],[6972,{"./confirm-add-suggested-token":6971},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-add-suggested-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/index.js"}],[6973,{"../../../shared/constants/common":5721,"../../../shared/constants/copy":5722,"../../../shared/constants/metametrics":5730,"../../../shared/constants/time":5747,"../../../shared/modules/Numeric":5777,"../../components/app/account-list-item":5822,"../../components/component-library":6314,"../../components/ui/page-container":6681,"../../components/ui/tooltip":6716,"../../contexts/metametrics":6734,"../../ducks/confirm-transaction/confirm-transaction.duck":6751,"../../ducks/history/history":6755,"../../ducks/metamask/metamask":6758,"../../helpers/constants/design-system":6770,"../../hooks/useI18nContext":6880,"../../hooks/useScrollRequired":6897,"../../selectors":7485,"../../store/actions":7502,"../confirmations/components/confirm/nav":7093,classnames:4102,"copy-to-clipboard":4143,lodash:4855,loglevel:4863,"prop-types":5013,react:5259,"react-redux":5217,"react-router-dom":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=M(e("prop-types")),r=M(e("copy-to-clipboard")),o=M(e("classnames")),i=M(e("loglevel")),l=e("react-redux"),u=e("react-router-dom"),c=e("lodash"),d=M(e("../../components/app/account-list-item")),m=M(e("../../components/ui/tooltip")),p=e("../../components/ui/page-container"),f=e("../../ducks/history/history"),g=e("../../ducks/metamask/metamask"),h=e("../../../shared/constants/metametrics"),y=e("../../../shared/constants/time"),k=e("../../../shared/modules/Numeric"),v=e("../../../shared/constants/common"),b=e("../../components/component-library"),T=e("../../../shared/constants/copy"),S=e("../../hooks/useI18nContext"),w=e("../../hooks/useScrollRequired"),C=e("../../contexts/metametrics"),x=e("../../helpers/constants/design-system"),E=e("../../ducks/confirm-transaction/confirm-transaction.duck"),_=e("../../store/actions"),I=e("../../selectors"),A=e("../confirmations/components/confirm/nav");function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}const N=({approvalId:e})=>{const t=(0,S.useI18nContext)();return a.default.createElement(a.default.Fragment,null,a.default.createElement(A.Nav,{confirmationId:e}),a.default.createElement("div",{className:"request-decrypt-message__header"},a.default.createElement("div",{className:"request-decrypt-message__header-background"}),a.default.createElement("div",{className:"request-decrypt-message__header__text"},t("decryptRequest")),a.default.createElement("div",{className:"request-decrypt-message__header__tip-container"},a.default.createElement("div",{className:"request-decrypt-message__header__tip"}))))},O=({fromAccount:e,nativeCurrency:t})=>{const n=(0,S.useI18nContext)(),s=new k.Numeric(e.balance,16,v.EtherDenomination.WEI).toDenomination(v.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-decrypt-message__account-info"},a.default.createElement("div",{className:"request-decrypt-message__account"},a.default.createElement("div",{className:"request-decrypt-message__account-text"},`${n("account")}:`),a.default.createElement("div",{className:"request-decrypt-message__account-item"},a.default.createElement(d.default,{account:e}))),a.default.createElement("div",{className:"request-decrypt-message__balance"},a.default.createElement("div",{className:"request-decrypt-message__balance-text"},`${n("balance")}:`),a.default.createElement("div",{className:"request-decrypt-message__balance-value"},`${s} ${t}`)))};O.propTypes={fromAccount:s.default.shape({balance:s.default.string.isRequired}).isRequired,nativeCurrency:s.default.string.isRequired};const D=({name:e,notice:t,targetSubjectMetadata:n})=>a.default.createElement("div",{className:"request-decrypt-message__visual"},a.default.createElement("section",null,null!=n&&n.iconUrl?a.default.createElement("img",{className:"request-decrypt-message__visual-identicon",src:n.iconUrl,alt:""}):a.default.createElement("i",{className:"request-decrypt-message__visual-identicon--default"},e.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-decrypt-message__notice"},t)));D.propTypes={name:s.default.string.isRequired,notice:s.default.string.isRequired,targetSubjectMetadata:s.default.shape({iconUrl:s.default.string})};const B=({isScrollable:e,isScrolledToBottom:t,hasDecrypted:n,hasError:s,scrollToBottom:r})=>{const o=(0,S.useI18nContext)();return n&&!s&&e&&!t?a.default.createElement(b.ButtonIcon,{ariaLabel:o("scrollDown"),backgroundColor:x.BackgroundColor.primaryDefault,borderRadius:x.BorderRadius.full,className:"scroll-to-bottom__button",color:x.IconColor.primaryInverse,"data-testid":"scroll-to-bottom",display:x.Display.Flex,iconName:b.IconName.Arrow2Down,onClick:r,size:b.ButtonIconSize.Md}):null};B.propTypes={isScrollable:s.default.bool.isRequired,isScrolledToBottom:s.default.bool.isRequired,hasDecrypted:s.default.bool.isRequired,hasError:s.default.bool.isRequired,scrollToBottom:s.default.func.isRequired};const R=(0,a.forwardRef)((({isScrollable:e,isScrolledToBottom:t,onScroll:n,rawMessage:s,scrollToBottom:i,setRawMessage:u,messageData:c},d)=>{const p=(0,l.useDispatch)(),f=(0,a.useContext)(C.MetaMetricsContext),g=(0,S.useI18nContext)(),[k,v]=(0,a.useState)(!1),[w,E]=(0,a.useState)(!1),[I,A]=(0,a.useState)(!1),[M,P]=(0,a.useState)(!1),[N,O]=(0,a.useState)("");return a.default.createElement("div",{className:"request-decrypt-message__message-container"},a.default.createElement("div",{className:"request-decrypt-message__message"},a.default.createElement("div",{className:"request-decrypt-message__message-text",ref:d,onScroll:n},I||M?s:c.msgParams.data,M?N:""),a.default.createElement("div",{className:(0,o.default)("request-decrypt-message__message-cover",{"request-decrypt-message__message-lock--pressed":I||M})}),a.default.createElement("div",{className:(0,o.default)("request-decrypt-message__message-lock",{"request-decrypt-message__message-lock--pressed":I||M}),"data-testid":"message-lock",onClick:async e=>{e.stopPropagation(e);const t=c.msgParams;t.metamaskId=c.id;const n=await p((0,_.decryptMsgInline)(t));n.error?(P(!0),O(g("decryptInlineError",[n.error]))):(A(!0),u(n.rawSig))}},a.default.createElement("div",{className:"request-decrypt-message__message-lock__container"},a.default.createElement("i",{className:"fa fa-lock fa-lg request-decrypt-message__message-lock__container__icon"}),a.default.createElement("div",{className:"request-decrypt-message__message-lock__container__text"},g("decryptMetamask"))))),a.default.createElement(B,{isScrollable:e,hasError:M,hasDecrypted:I,isScrolledToBottom:t,scrollToBottom:i}),I?a.default.createElement("div",{className:(0,o.default)({"request-decrypt-message__message-copy":!0,"request-decrypt-message__message-copy--pressed":k}),onClick:()=>{(0,r.default)(s,T.COPY_OPTIONS),f({category:h.MetaMetricsEventCategory.Messages,event:"Copy",properties:{action:"Decrypt Message Copy",legacy_event:!0}}),E(!0),setTimeout((()=>E(!1)),3*y.SECOND)},onMouseDown:()=>v(!0),onMouseUp:()=>v(!1),"data-testid":"message-copy"},a.default.createElement(m.default,{position:"bottom",title:g(w?"copiedExclamation":"copyToClipboard"),wrapperClassName:"request-decrypt-message__message-copy-tooltip",style:{display:"flex",alignItems:"center"}},a.default.createElement("div",{className:"request-decrypt-message__message-copy-text"},g("decryptCopy")),a.default.createElement(b.Icon,{name:w?b.IconName.CopySuccess:b.IconName.Copy,color:x.IconColor.primaryDefault}))):a.default.createElement("div",null))}));R.displayName="MessageBody",R.propTypes={isScrollable:s.default.bool.isRequired,isScrolledToBottom:s.default.bool.isRequired,onScroll:s.default.func.isRequired,rawMessage:s.default.string.isRequired,scrollToBottom:s.default.func.isRequired,setRawMessage:s.default.func.isRequired,messageData:s.default.shape({msgParams:s.default.shape({data:s.default.string.isRequired,from:s.default.string.isRequired,origin:s.default.string.isRequired}).isRequired,id:s.default.string.isRequired}).isRequired};const j=({hasScrolledToBottom:e,isScrollable:t,mostRecentOverviewPage:n,messageData:s})=>{const r=(0,l.useDispatch)(),o=(0,u.useHistory)(),i=(0,S.useI18nContext)(),c=(0,a.useContext)(C.MetaMetricsContext);return a.default.createElement(p.PageContainerFooter,{cancelText:i("cancel"),submitText:i("decrypt"),disabled:t&&!e,onCancel:async e=>{e.stopPropagation(e),await r((0,_.cancelDecryptMsg)(s)),c({category:h.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Decrypt Message Request",legacy_event:!0}}),r((0,E.clearConfirmTransaction)()),o.push(n)},onSubmit:async e=>{e.stopPropagation(e);const t=s.msgParams;t.metamaskId=s.id,await r((0,_.decryptMsg)(t)),c({category:h.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Decrypt Message Request",legacy_event:!0}}),r((0,E.clearConfirmTransaction)()),o.push(n)}})};j.propTypes={hasScrolledToBottom:s.default.bool.isRequired,isScrollable:s.default.bool.isRequired,mostRecentOverviewPage:s.default.string.isRequired,messageData:s.default.shape({msgParams:s.default.shape({data:s.default.string.isRequired,from:s.default.string.isRequired,origin:s.default.string.isRequired}).isRequired,id:s.default.string.isRequired}).isRequired};n.default=()=>{const e=(0,S.useI18nContext)(),[t,n]=(0,a.useState)(""),s=(0,l.useSelector)(f.getMostRecentOverviewPage),r=(0,l.useSelector)(g.getNativeCurrency),{id:o}=(0,u.useParams)(),d=(0,l.useSelector)(I.unconfirmedTransactionsListSelector),m=(0,c.cloneDeep)(d.find((e=>e.id===o))),p=(0,l.useSelector)((e=>{var t;return(0,I.getTargetAccountWithSendEtherInfo)(e,null==m||null===(t=m.msgParams)||void 0===t?void 0:t.from)})),h=(0,l.useSelector)((e=>e.metamask.subjectMetadata||{})),{hasScrolledToBottom:y,isScrollable:k,isScrolledToBottom:v,onScroll:b,scrollToBottom:T,ref:C}=(0,w.useScrollRequired)([t],{offsetPxFromBottom:0});if(!m)return i.default.warn("ConfirmDecryptMessage Page: Missing messageData prop."),null;const x=h[m.msgParams.origin],E=(null==x?void 0:x.name)||m.msgParams.origin,_=e("decryptMessageNotice",[m.msgParams.origin]);return a.default.createElement("div",{className:"request-decrypt-message__container"},a.default.createElement(N,{approvalId:o}),a.default.createElement("div",{className:"request-decrypt-message__body"},a.default.createElement(O,{fromAccount:p,nativeCurrency:r}),a.default.createElement(D,{name:E,notice:_,targetSubjectMetadata:x}),a.default.createElement(R,{isScrollable:k,isScrolledToBottom:v,onScroll:b,rawMessage:t,ref:C,scrollToBottom:T,setRawMessage:n,messageData:m})),a.default.createElement(j,{hasScrolledToBottom:y,isScrollable:k,mostRecentOverviewPage:s,messageData:m}))}}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/confirm-decrypt-message.component.js"}],[6974,{"./confirm-decrypt-message.component":6973},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-decrypt-message.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/index.js"}],[6975,{"../../../shared/constants/common":5721,"../../../shared/constants/metametrics":5730,"../../../shared/modules/Numeric":5777,"../../components/app/account-list-item":5822,"../../components/ui/identicon":6656,"../../components/ui/page-container":6681,"../../components/ui/site-origin":6698,"../confirmations/components/confirm/nav":7093,loglevel:4863,"prop-types":5013,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=f(e("prop-types")),r=f(e("loglevel")),o=f(e("../../components/app/account-list-item")),i=f(e("../../components/ui/identicon")),l=e("../../components/ui/page-container"),u=e("../../../shared/constants/metametrics"),c=f(e("../../components/ui/site-origin")),d=e("../../../shared/modules/Numeric"),m=e("../../../shared/constants/common"),p=e("../confirmations/components/confirm/nav");function f(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends a.Component{constructor(...e){super(...e),h(this,"renderHeader",(()=>{var e;const t=null===(e=this.props.txData)||void 0===e?void 0:e.id;return a.default.createElement(a.default.Fragment,null,a.default.createElement(p.Nav,{confirmationId:t}),a.default.createElement("div",{className:"request-encryption-public-key__header"},a.default.createElement("div",{className:"request-encryption-public-key__header-background"}),a.default.createElement("div",{className:"request-encryption-public-key__header__text"},this.context.t("encryptionPublicKeyRequest")),a.default.createElement("div",{className:"request-encryption-public-key__header__tip-container"},a.default.createElement("div",{className:"request-encryption-public-key__header__tip"}))))})),h(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-encryption-public-key__account"},a.default.createElement("div",{className:"request-encryption-public-key__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-encryption-public-key__account-item"},a.default.createElement(o.default,{account:e})))})),h(this,"renderBalance",(()=>{const{nativeCurrency:e,fromAccount:{balance:t}}=this.props,{t:n}=this.context,s=new d.Numeric(t,16,m.EtherDenomination.WEI).toDenomination(m.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-encryption-public-key__balance"},a.default.createElement("div",{className:"request-encryption-public-key__balance-text"},`${n("balance")}:`),a.default.createElement("div",{className:"request-encryption-public-key__balance-value"},`${s} ${e}`))})),h(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-encryption-public-key__request-icon"},a.default.createElement(i.default,{diameter:40,address:e}))})),h(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-encryption-public-key__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),h(this,"renderBody",(()=>{const{subjectMetadata:e,txData:t}=this.props,{t:n}=this.context,s=e[t.origin],r=n("encryptionPublicKeyNotice",[a.default.createElement(c.default,{siteOrigin:t.origin,key:t.origin})]),o=(null==s?void 0:s.hostname)||t.origin;return a.default.createElement("div",{className:"request-encryption-public-key__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-encryption-public-key__visual"},a.default.createElement("section",null,null!=s&&s.iconUrl?a.default.createElement("img",{className:"request-encryption-public-key__visual-identicon",src:s.iconUrl,alt:""}):a.default.createElement("i",{className:"request-encryption-public-key__visual-identicon--default"},o.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-encryption-public-key__notice"},r))))})),h(this,"renderFooter",(()=>{const{cancelEncryptionPublicKey:e,clearConfirmTransaction:t,encryptionPublicKey:n,history:s,mostRecentOverviewPage:r,txData:o}=this.props,{t:i,trackEvent:c}=this.context;return a.default.createElement(l.PageContainerFooter,{cancelText:i("cancel"),submitText:i("provide"),onCancel:async n=>{await e(o,n),c({category:u.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),s.push(r)},onSubmit:async e=>{await n(o,e),this.context.trackEvent({category:u.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),s.push(r)}})})),h(this,"render",(()=>this.props.txData?a.default.createElement("div",{className:"request-encryption-public-key__container"},this.renderHeader(),this.renderBody(),this.renderFooter()):(r.default.warn("ConfirmEncryptionPublicKey Page: Missing txData prop."),null)))}}n.default=y,h(y,"contextTypes",{t:s.default.func.isRequired,trackEvent:s.default.func.isRequired}),h(y,"propTypes",{fromAccount:s.default.shape({address:s.default.string.isRequired,balance:s.default.string,name:s.default.string}).isRequired,clearConfirmTransaction:s.default.func.isRequired,cancelEncryptionPublicKey:s.default.func.isRequired,encryptionPublicKey:s.default.func.isRequired,history:s.default.object.isRequired,requesterAddress:s.default.string,txData:s.default.object,subjectMetadata:s.default.object,mostRecentOverviewPage:s.default.string.isRequired,nativeCurrency:s.default.string.isRequired})}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.component.js"}],[6976,{"../../ducks/confirm-transaction/confirm-transaction.duck":6751,"../../ducks/history/history":6755,"../../ducks/metamask/metamask":6758,"../../selectors":7485,"../../store/actions":7502,"./confirm-encryption-public-key.component":6975,"react-redux":5217,"react-router-dom":5244,redux:5277},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("redux"),o=e("react-router-dom"),i=e("../../store/actions"),l=e("../../selectors"),u=e("../../ducks/confirm-transaction/confirm-transaction.duck"),c=e("../../ducks/history/history"),d=e("../../ducks/metamask/metamask"),m=(a=e("./confirm-encryption-public-key.component"))&&a.__esModule?a:{default:a};n.default=(0,r.compose)(o.withRouter,(0,s.connect)((function(e,t){const{metamask:{subjectMetadata:n={}}}=e,a=(0,l.unconfirmedTransactionsListSelector)(e),{match:{params:{id:s}}}=t,r=a.find((e=>e.id===s));return{txData:r,subjectMetadata:n,fromAccount:(0,l.getTargetAccountWithSendEtherInfo)(e,null==r?void 0:r.msgParams),requester:null,requesterAddress:null,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),nativeCurrency:(0,d.getNativeCurrency)(e)}}),(function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,u.clearConfirmTransaction)()),encryptionPublicKey:(t,n)=>{const a={data:t.msgParams,metamaskId:t.id};return n.stopPropagation(),e((0,i.encryptionPublicKeyMsg)(a))},cancelEncryptionPublicKey:(t,n)=>(n.stopPropagation(),e((0,i.cancelEncryptionPublicKeyMsg)(t)))}})))(m.default)}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.container.js"}],[6977,{"./confirm-encryption-public-key.container":6976},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-encryption-public-key.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/index.js"}],[6978,{"../../../../components/ui/form-field":6638,"../../../../contexts/i18n":6730,"../../../../helpers/constants/gas":6772,"prop-types":5013,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=l(e("prop-types")),r=e("../../../../contexts/i18n"),o=l(e("../../../../components/ui/form-field")),i=e("../../../../helpers/constants/gas");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c({onManualChange:e,gasLimit:t,setGasLimit:n,gasPrice:s,setGasPrice:l,gasErrors:u,minimumGasLimit:c}){const d=(0,a.useContext)(r.I18nContext);return a.default.createElement("div",{className:"advanced-gas-controls"},a.default.createElement(o.default,{titleText:d("gasLimit"),error:null!=u&&u.gasLimit?(0,i.getGasFormErrorText)(u.gasLimit,d,{minimumGasLimit:c}):null,onChange:t=>{null==e||e(),n(t)},tooltipText:d("editGasLimitTooltip"),value:t,allowDecimals:!1,numeric:!0}),a.default.createElement(a.default.Fragment,null,a.default.createElement(o.default,{titleText:d("advancedGasPriceTitle"),titleUnit:"(GWEI)",onChange:t=>{null==e||e(),l(t)},tooltipText:d("editGasPriceTooltip"),value:s,numeric:!0,allowDecimals:!0,error:null!=u&&u.gasPrice?(0,i.getGasFormErrorText)(u.gasPrice,d):null})))}c.propTypes={onManualChange:s.default.func,gasLimit:s.default.number,setGasLimit:s.default.func,gasPrice:s.default.string,setGasPrice:s.default.func,minimumGasLimit:s.default.string,gasErrors:s.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-controls/advanced-gas-controls.component.js"}],[6979,{"../../../../../../shared/constants/gas":5725,"../../../../../../shared/modules/Numeric":5777,"../../../../../components/component-library":6314,"../../../../../contexts/gasFee":6729,"../../../../../helpers/constants/design-system":6770,"../../../../../hooks/useI18nContext":6880,"../../../../../selectors":7485,"../../../../../store/actions":7502,"../../../hooks/useTransactionEventFragment":7239,"../context":6995,lodash:4855,react:5259,"react-redux":5217},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),r=e("lodash"),o=e("../../../hooks/useTransactionEventFragment"),i=e("../../../../../../shared/constants/gas"),l=e("../../../../../helpers/constants/design-system"),u=e("../../../../../selectors"),c=e("../../../../../store/actions"),d=e("../../../../../contexts/gasFee"),m=e("../context"),p=e("../../../../../hooks/useI18nContext"),f=e("../../../../../components/component-library"),g=e("../../../../../../shared/modules/Numeric");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,p.useI18nContext)(),t=(0,s.useDispatch)(),{gasErrors:n,maxBaseFee:h,maxPriorityFeePerGas:y}=(0,m.useAdvancedGasFeePopoverContext)(),k=new g.Numeric(h,10).toString(),v=new g.Numeric(y,10).toString(),b=(0,s.useSelector)(u.getAdvancedGasFeeValues),{updateTransactionEventFragment:T}=(0,o.useTransactionEventFragment)(),{editGasMode:S,transaction:w}=(0,d.useGasFeeContext)(),{chainId:C}=w,x=(0,s.useSelector)((e=>(0,u.selectNetworkIdentifierByChainId)(e,C))),[E,_]=(0,a.useState)(Boolean(b)&&b.maxBaseFee===k&&b.priorityFee===v);(0,a.useEffect)((()=>{_(Boolean(b)&&b.maxBaseFee===k&&b.priorityFee===v)}),[b,k,v]);return S===i.EditGasModes.swaps?null:a.default.createElement(f.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,marginTop:4,marginLeft:2,marginRight:2,paddingTop:4,paddingBottom:4,className:"advanced-gas-fee-defaults"},a.default.createElement(f.Checkbox,{isChecked:E,onChange:()=>{E?(t((0,c.setAdvancedGasFee)({chainId:C,gasFeePreferences:undefined})),_(!1),T({properties:{advanced_gas_defaults_updated_maxbasefee:null,advanced_gas_defaults_updated_priorityfee:null}})):(t((0,c.setAdvancedGasFee)({chainId:C,gasFeePreferences:{maxBaseFee:k,priorityFee:v}})),T({properties:{advanced_gas_defaults_updated_maxbasefee:k,advanced_gas_defaults_updated_priorityfee:v}}))},isDisabled:n.maxFeePerGas||n.maxPriorityFeePerGas,label:e("advancedGasFeeDefaultOptIn",[(0,r.capitalize)(x)])}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/advanced-gas-fee-defaults.js"}],[6980,{"./advanced-gas-fee-defaults":6979},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./advanced-gas-fee-defaults"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/index.js"}],[6981,{"../../../../../../shared/modules/conversion.utils":5782,"../../../../../components/component-library":6314,"../../../../../components/ui/button":6607,"../../../../../components/ui/form-field":6638,"../../../../../contexts/gasFee":6729,"../../../../../helpers/constants/design-system":6770,"../../../../../helpers/utils/util":6819,"../../../../../hooks/useI18nContext":6880,"../../../constants":7185,"../../../send/send.constants":7250,"../context":6995,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("../../../../../contexts/gasFee"),r=e("../../../../../helpers/utils/util"),o=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),l=e("../../../send/send.constants"),u=g(e("../../../../../components/ui/button")),c=g(e("../../../../../components/ui/form-field")),d=e("../context"),m=e("../../../../../components/component-library"),p=e("../../../constants"),f=e("../../../../../../shared/modules/conversion.utils");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,i.useI18nContext)(),{setGasLimit:t,setErrorValue:n}=(0,d.useAdvancedGasFeePopoverContext)(),{gasLimit:g,minimumGasLimitDec:h,transaction:{chainId:y,originalGasEstimate:k}}=(0,s.useGasFeeContext)(),v=k!==undefined&&(0,f.hexToDecimal)(k),[b,T]=(0,a.useState)(v?Math.max(l.MAX_GAS_LIMIT_DEC,v):l.MAX_GAS_LIMIT_DEC),[S,w]=(0,a.useState)(!1),[C,x]=(0,a.useState)(g),[E,_]=(0,a.useState)(),I=e=>{x(e||0)};return(0,a.useEffect)((()=>{if(t(C),p.IGNORE_GAS_LIMIT_CHAIN_IDS.includes(y))return;const e=((e,t,n)=>(0,r.bnLessThan)(e,t)||(0,r.bnGreaterThan)(e,n)?"editGasLimitOutOfBoundsV2":null)(C,h,b);_(e),w(!0===S?S:null!==e),n("gasLimit","editGasLimitOutOfBoundsV2"===e)}),[y,C,h,t,n,b,S,e]),(0,a.useEffect)((()=>{v&&T(Math.max(l.MAX_GAS_LIMIT_DEC,v))}),[h,v,T]),S?a.default.createElement(c.default,{dataTestId:"gas-limit-input",error:E?e(E,[h-1,b]):"",onChange:I,titleText:e("gasLimitV2"),value:C,allowDecimals:!1,numeric:!0}):a.default.createElement(m.Text,{tag:o.TextVariant.bodyMd,variant:o.TextVariant.bodySm,as:"h6",className:"advanced-gas-fee-gas-limit",marginTop:4,marginLeft:2,marginRight:2},a.default.createElement("strong",null,e("gasLimitV2")),a.default.createElement("span",null,C),a.default.createElement(u.default,{"data-testid":"advanced-gas-fee-edit",className:"advanced-gas-fee-gas-limit__edit-link",onClick:()=>w(!0),type:"link"},e("edit")))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/advanced-gas-fee-gas-limit.js"}],[6982,{"./advanced-gas-fee-gas-limit":6981},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./advanced-gas-fee-gas-limit"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/index.js"}],[6983,{"../../../../../components/ui/box":6603,"../../../../../components/ui/loading-heartbeat":6662,"../../../../../contexts/i18n":6730,"../../../../../helpers/utils/gas":6800,"../../../../../helpers/utils/util":6819,classnames:4102,"prop-types":5013,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=d(e("prop-types")),r=d(e("classnames")),o=e("../../../../../helpers/utils/util"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../contexts/i18n"),u=d(e("../../../../../components/ui/box")),c=d(e("../../../../../components/ui/loading-heartbeat"));function d(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const p=({latest:e,historical:t,trend:n})=>{const s=(0,a.useContext)(l.I18nContext),d=function(e,t){switch(e){case"up":return{className:"fa-arrow-up advanced-gas-fee-input-subtext__up",color:"var(--color-success-default)",title:t("upArrow")};case"down":return{className:"fa-arrow-down advanced-gas-fee-input-subtext__down",color:"var(--color-error-default)",title:t("downArrow")};case"level":return{className:"fa-arrow-right advanced-gas-fee-input-subtext__level",color:"var(--color-icon-alternative)",title:t("levelArrow")};default:return null}}(n,s);return a.default.createElement(u.default,{display:"flex",alignItems:"center",gap:4,className:"advanced-gas-fee-input-subtext"},(0,o.isNullish)(e)?null:a.default.createElement(u.default,{display:"flex",alignItems:"center","data-testid":"latest"},a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label"},s("currentTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(c.default,null),(0,i.formatGasFeeOrFeeRange)(e)),null===d?null:a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__icon"},a.default.createElement("i",{className:(0,r.default)("fa",d.className),style:{color:d.color},title:d.title,"data-testid":"fee-arrow"}))),(0,o.isNullish)(t)?null:a.default.createElement(u.default,null,a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label","data-testid":"historical"},s("twelveHrTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(c.default,null),(0,i.formatGasFeeOrFeeRange)(t))))};p.propTypes={latest:s.default.oneOfType([s.default.string,s.default.arrayOf(s.default.string)]),historical:s.default.oneOfType([s.default.string,s.default.arrayOf(s.default.string)]),trend:s.default.oneOf(["up","down","level"])};n.default=p}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/advanced-gas-fee-input-subtext.js"}],[6984,{"./advanced-gas-fee-input-subtext":6983},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./advanced-gas-fee-input-subtext"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/index.js"}],[6985,{"../../../../../components/ui/box":6603,"./base-fee-input":6987,"./priority-fee-input":6989,react:5259},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),s=i(e("../../../../../components/ui/box")),r=i(e("./base-fee-input")),o=i(e("./priority-fee-input"));function i(e){return e&&e.__esModule?e:{default:e}}n.default=()=>a.default.createElement(s.default,{className:"advanced-gas-fee-inputs"},a.default.createElement(r.default,null),a.default.createElement(o.default,null))}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/advanced-gas-fee-inputs.js"}]],[],{});