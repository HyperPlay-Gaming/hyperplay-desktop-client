LavaPack.loadBundle([[6912,{"../../../shared/constants/bridge":5825,"../../../shared/constants/hardware-wallets":5832,"../../../shared/constants/multichain/networks":5838,"../../../shared/constants/network":5839,"../../../shared/lib/asset-utils":5863,"../../../shared/modules/selectors/networks":5923,"../../../shared/modules/selectors/util":5925,"../../pages/bridge/utils/quote":7141,"../../selectors/assets":7704,"../../selectors/multichain":7715,"../../selectors/remote-feature-flags":7719,"../../selectors/selectors":7721,"./utils":6913,"@metamask/bridge-controller":1409,"@metamask/keyring-api":2046,"@metamask/notification-services-controller/push-services":2422,"bignumber.js":4029,lodash:4934,reselect:5385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.needsSolanaAccountForDestination=n.isBridgeSolanaEnabled=n.getWasTxDeclined=n.getValidationErrors=n.getTopAssetsFromFeatureFlags=n.getToTokenConversionRate=n.getToToken=n.getToChains=n.getToChain=n.getSlippage=n.getQuoteRequest=n.getQuoteRefreshRate=n.getIsUnifiedUIEnabled=n.getIsToOrFromSolana=n.getIsSwap=n.getIsQuoteExpired=n.getIsBridgeTx=n.getHardwareWalletName=n.getFromTokenConversionRate=n.getFromToken=n.getFromChains=n.getFromChain=n.getFromAmountInCurrency=n.getFromAmount=n.getBridgeSortOrder=n.getBridgeQuotes=n.getAllBridgeableNetworks=void 0;var s=e("@metamask/bridge-controller"),r=e("@metamask/keyring-api"),i=e("lodash"),a=e("reselect"),o=e("bignumber.js"),c=e("@metamask/notification-services-controller/push-services"),u=e("../../../shared/constants/multichain/networks"),l=e("../../selectors/selectors"),d=e("../../../shared/constants/bridge"),h=e("../../../shared/modules/selectors/util"),m=e("../../../shared/modules/selectors/networks");e("../../pages/bridge/utils/quote");var p=e("../../../shared/constants/network"),g=e("../../selectors/multichain"),f=e("../../selectors/assets"),y=e("../../../shared/constants/hardware-wallets"),T=e("../../../shared/lib/asset-utils"),k=e("../../selectors/remote-feature-flags"),v=e("./utils");const b=e=>{var t;const n=(null===(t=e.metamask.internalAccounts)||void 0===t?void 0:t.accounts)||{};return Object.values(n).some((e=>{const{DataAccount:t}=r.SolAccountType;return Boolean(e&&e.type===t)}))},S=n.getAllBridgeableNetworks=(0,h.createDeepEqualSelector)(m.getNetworkConfigurationsByChainId,(e=>(0,i.uniqBy)([...Object.values(e),{...u.MULTICHAIN_PROVIDER_CONFIGS[u.MultichainNetworks.SOLANA],blockExplorerUrls:[],name:u.MULTICHAIN_PROVIDER_CONFIGS[u.MultichainNetworks.SOLANA].nickname,nativeCurrency:u.MULTICHAIN_PROVIDER_CONFIGS[u.MultichainNetworks.SOLANA].ticker,rpcEndpoints:[{url:"",type:"",networkClientId:""}],defaultRpcEndpointIndex:0,chainId:u.MultichainNetworks.SOLANA}],"chainId").filter((({chainId:e})=>d.ALLOWED_BRIDGE_CHAIN_IDS.includes(e))))),_=(0,h.createDeepEqualSelector)([e=>(0,k.getRemoteFeatureFlags)(e).bridgeConfig],(e=>(0,s.selectBridgeFeatureFlags)({remoteFeatureFlags:{bridgeConfig:e}}))),I=n.getFromChains=(0,h.createDeepEqualSelector)(S,_,(e=>b(e)),((e,t,n)=>(n?e:e.filter((({chainId:e})=>!(0,s.isSolanaChainId)(e)))).filter((({chainId:e})=>{var n;return null===(n=t.chains[(0,s.formatChainIdToCaip)(e)])||void 0===n?void 0:n.isActiveSrc})))),w=n.getFromChain=(0,h.createDeepEqualSelector)(g.getMultichainProviderConfig,I,((e,t)=>null!=e&&e.chainId?t.find((({chainId:t})=>t===e.chainId)):undefined)),C=n.getToChains=(0,h.createDeepEqualSelector)(S,_,((e,t)=>(0,i.uniqBy)([...e,...p.FEATURED_RPCS],"chainId").filter((({chainId:e})=>{var n;return null==t||null===(n=t.chains)||void 0===n||null===(n=n[(0,s.formatChainIdToCaip)(e)])||void 0===n?void 0:n.isActiveDest}))));n.getTopAssetsFromFeatureFlags=(e,t)=>{var n;if(!t)return undefined;const r=_(e);return null==r||null===(n=r.chains[(0,s.formatChainIdToCaip)(t)])||void 0===n?void 0:n.topAssets};const E=n.getToChain=(0,a.createSelector)(C,(e=>{var t;return null===(t=e.bridge)||void 0===t?void 0:t.toChainId}),((e,t)=>t?e.find((({chainId:e})=>e===t||(0,s.formatChainIdToCaip)(e)===t)):undefined)),M=n.getFromToken=(0,a.createSelector)((e=>e.bridge.fromToken),w,((e,t)=>{if(null==t||!t.chainId)return null;if(null!=e&&e.address)return e;const{iconUrl:n,...r}=(0,s.getNativeAssetForChainId)(t.chainId);return{...r,chainId:(0,s.formatChainIdToCaip)(t.chainId),image:p.CHAIN_ID_TOKEN_IMAGE_MAP[t.chainId]??(0,g.getImageForChainId)(t.chainId),balance:"0",string:"0"}})),A=e=>e.bridge.toToken;n.getToToken=A;const N=e=>e.bridge.fromTokenInputValue;n.getFromAmount=N;n.getSlippage=e=>e.bridge.slippage;const P=e=>{const{quoteRequest:t}=e.metamask;return t};n.getQuoteRequest=P;n.getQuoteRefreshRate=(0,a.createSelector)(_,w,((e,t)=>{var n;return(t&&(null===(n=e.chains[(0,s.formatChainIdToCaip)(t.chainId)])||void 0===n?void 0:n.refreshRate))??e.refreshRate}));n.getBridgeSortOrder=e=>e.bridge.sortOrder;const O=n.getFromTokenConversionRate=(0,a.createSelector)([w,e=>e.metamask.marketData,f.getAssetsRates,M,g.getMultichainCoinRates,e=>e.metamask.currencyRates,e=>e.bridge.fromTokenExchangeRate],((e,t,n,r,i,a,o)=>{if(null!=e&&e.chainId&&r){var c,u,l,d,h;const f=null===(c=(0,s.getNativeAssetForChainId)(e.chainId))||void 0===c?void 0:c.assetId,y=(0,T.toAssetId)(r.address,(0,s.formatChainIdToCaip)(e.chainId)),k=(0,s.isSolanaChainId)(e.chainId)?Number((null==n||null===(u=n[f])||void 0===u?void 0:u.rate)??null):(null===(l=a[e.nativeCurrency])||void 0===l?void 0:l.conversionRate)??null,b=(0,s.isSolanaChainId)(e.chainId)?Number((null==i||null===(d=i[e.nativeCurrency.toLowerCase()])||void 0===d?void 0:d.usdConversionRate)??null):(null===(h=a[e.nativeCurrency])||void 0===h?void 0:h.usdConversionRate)??null;if((0,s.isNativeAddress)(r.address))return{valueInCurrency:k,usd:b};if((0,s.isSolanaChainId)(e.chainId)&&f&&y){var m,p,g;const e=(0,v.tokenPriceInNativeAsset)(Number((null==n||null===(m=n[y])||void 0===m?void 0:m.rate)??o??null),Number((null==n||null===(p=n[f])||void 0===p?void 0:p.rate)??(null==i||null===(g=i.sol)||void 0===g?void 0:g.conversionRate)??null));return(0,v.exchangeRatesFromNativeAndCurrencyRates)(e,Number(k),Number(b))}const S=(0,v.exchangeRateFromMarketData)(e.chainId,r.address,t)??(0,v.tokenPriceInNativeAsset)(o,k);return(0,v.exchangeRatesFromNativeAndCurrencyRates)(S,k,b)}return(0,v.exchangeRatesFromNativeAndCurrencyRates)()}));n.getToTokenConversionRate=(0,h.createDeepEqualSelector)([E,e=>e.metamask.marketData,f.getAssetsRates,A,m.getNetworkConfigurationsByChainId,e=>({state:e,toTokenExchangeRate:e.bridge.toTokenExchangeRate,toTokenUsdExchangeRate:e.bridge.toTokenUsdExchangeRate}),g.getMultichainCoinRates],((e,t,n,r,i,{state:a,toTokenExchangeRate:o,toTokenUsdExchangeRate:c},u)=>{if(null!=e&&e.chainId&&!i[e.chainId]&&o)return{valueInCurrency:o,usd:c};if(null!=e&&e.chainId&&r){var d;const i=null===(d=(0,s.getNativeAssetForChainId)(e.chainId))||void 0===d?void 0:d.assetId,c=(0,T.toAssetId)(r.address,(0,s.formatChainIdToCaip)(e.chainId));if((0,s.isSolanaChainId)(e.chainId)&&i&&c){var h,m,p,g;const t=(0,v.tokenPriceInNativeAsset)(Number((null==n||null===(h=n[c])||void 0===h?void 0:h.rate)??null),Number((null==n||null===(m=n[i])||void 0===m?void 0:m.rate)??null));return(0,v.exchangeRatesFromNativeAndCurrencyRates)(t,(null==u||null===(p=u[e.nativeCurrency.toLowerCase()])||void 0===p?void 0:p.conversionRate)??null,(null==u||null===(g=u[e.nativeCurrency.toLowerCase()])||void 0===g?void 0:g.usdConversionRate)??null)}const{chainId:f}=e,y=(0,l.selectConversionRateByChainId)(a,f),k=(0,l.getUSDConversionRateByChainId)(f)(a);if((0,s.isNativeAddress)(r.address))return{valueInCurrency:y,usd:k};const b=(0,v.exchangeRateFromMarketData)(f,r.address,t)??(0,v.tokenPriceInNativeAsset)(o,y);return(0,v.exchangeRatesFromNativeAndCurrencyRates)(b,y,k)}return(0,v.exchangeRatesFromNativeAndCurrencyRates)()}));n.getIsQuoteExpired=({metamask:e},t)=>(0,s.selectIsQuoteExpired)(e,{},t);const R=n.getBridgeQuotes=(0,a.createSelector)([({metamask:e})=>e,({bridge:{sortOrder:e}})=>e,({bridge:{selectedQuote:e}})=>e],((e,t,n)=>(0,s.selectBridgeQuotes)(e,{sortOrder:t,selectedQuote:n}))),D=(n.getIsBridgeTx=(0,h.createDeepEqualSelector)(w,E,((e,t)=>!(!t||null==e||!e.chainId)&&e.chainId!==t.chainId)),n.getIsSwap=(0,h.createDeepEqualSelector)(P,(({srcChainId:e,destChainId:t})=>Boolean(e&&t&&(0,s.formatChainIdToCaip)(e)===(0,s.formatChainIdToCaip)(t)))),(0,a.createSelector)(M,(e=>e.metamask.quoteRequest.srcTokenAmount),((e,t)=>t&&null!=e&&e.decimals?(0,c.calcTokenAmount)(t,Number(e.decimals)).toString():null)));n.getFromAmountInCurrency=(0,a.createSelector)(M,w,D,O,((e,t,n,{valueInCurrency:s,usd:r})=>null!=e&&e.symbol&&null!=t&&t.chainId&&n&&s?{valueInCurrency:new o.BigNumber(n).mul(new o.BigNumber(s.toString()??1)),usd:new o.BigNumber(n).mul(new o.BigNumber((null==r?void 0:r.toString())??1))}:{valueInCurrency:new o.BigNumber(0),usd:new o.BigNumber(0)})),n.getValidationErrors=(0,h.createDeepEqualSelector)(R,D,M,N,(({activeQuote:e,quotesLastFetchedMs:t,isLoading:n},r,i,a)=>{var c,u;return{isNoQuotesAvailable:Boolean(!e&&t&&!n),isInsufficientGasBalance:t=>!(!t||e||!r||!i)&&((0,s.isNativeAddress)(i.address)?t.eq(r):t.lte(0)),isInsufficientGasForQuote:t=>!!(t&&e&&i&&a)&&((0,s.isNativeAddress)(i.address)?t.sub(e.totalMaxNetworkFee.amount).sub(e.sentAmount.amount).lte(0):t.lte(e.totalMaxNetworkFee.amount)),isInsufficientBalance:e=>!(!r||e===undefined)&&e.lt(r),isEstimatedReturnLow:!!(null!=e&&null!==(c=e.sentAmount)&&void 0!==c&&c.valueInCurrency&&null!=e&&null!==(u=e.adjustedReturn)&&void 0!==u&&u.valueInCurrency&&a)&&new o.BigNumber(e.adjustedReturn.valueInCurrency).lt(new o.BigNumber(1-s.BRIDGE_QUOTE_MAX_RETURN_DIFFERENCE_PERCENTAGE).times(e.sentAmount.valueInCurrency))}}));n.getWasTxDeclined=e=>e.bridge.wasTxDeclined;n.isBridgeSolanaEnabled=(0,h.createDeepEqualSelector)(_,(e=>{var t;const n=u.MultichainNetworks.SOLANA,r=(0,s.formatChainIdToCaip)(n),i=null==e||null===(t=e.chains)||void 0===t?void 0:t[r];return Boolean((null==i?void 0:i.isActiveSrc)||(null==i?void 0:i.isActiveDest))})),n.needsSolanaAccountForDestination=(0,h.createDeepEqualSelector)(E,(e=>b(e)),((e,t)=>{if(!e)return!1;return(0,s.isSolanaChainId)(e.chainId)&&!t})),n.getIsToOrFromSolana=(0,a.createSelector)(w,E,((e,t)=>{if(null==e||!e.chainId||null==t||!t.chainId)return!1;const n=(0,s.isSolanaChainId)(e.chainId);return(0,s.isSolanaChainId)(t.chainId)!==n}));n.getHardwareWalletName=e=>{switch((0,l.getHardwareWalletType)(e)){case y.HardwareKeyringType.ledger:return y.HardwareKeyringNames.ledger;case y.HardwareKeyringType.trezor:return y.HardwareKeyringNames.trezor;case y.HardwareKeyringType.lattice:return y.HardwareKeyringNames.lattice;case y.HardwareKeyringType.oneKey:return y.HardwareKeyringNames.oneKey;default:return undefined}};n.getIsUnifiedUIEnabled=(0,a.createSelector)([_,(e,t)=>t],((e,t)=>{var n;if(t===undefined||null===t)return!1;const r=(0,s.formatChainIdToCaip)(t);return Boolean(null==e||null===(n=e.chains)||void 0===n||null===(n=n[r])||void 0===n?void 0:n.isUnifiedUIEnabled)}))}}},{package:"$root$",file:"ui/ducks/bridge/selectors.ts"}],[6913,{"../../../shared/constants/multichain/networks":5838,"../../../shared/lib/asset-utils":5863,"../../../shared/lib/fetch-with-cache":5881,"../../../shared/modules/Numeric":5901,"../../../shared/modules/conversion.utils":5906,"../../helpers/utils/util":6985,"../../pages/swaps/swaps.util":7692,"@metamask/bridge-controller":1409,"@metamask/utils":3026,"bignumber.js":4029,"ethereumjs-util":4403},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.tokenPriceInNativeAsset=n.tokenAmountToCurrency=n.isNetworkAdded=n.getTxGasEstimates=n.getTokenExchangeRate=n.getHexMaxGasLimit=n.exchangeRatesFromNativeAndCurrencyRates=n.exchangeRateFromMarketData=void 0;var s,r=e("@metamask/utils"),i=e("bignumber.js"),a=e("ethereumjs-util"),o=e("@metamask/bridge-controller"),c=e("../../../shared/modules/conversion.utils"),u=e("../../../shared/modules/Numeric"),l=e("../../pages/swaps/swaps.util"),d=e("../../helpers/utils/util"),h=(s=e("../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},m=e("../../../shared/lib/asset-utils"),p=e("../../../shared/constants/multichain/networks");n.getHexMaxGasLimit=e=>new u.Numeric(new i.BigNumber(e).toString(),10).toPrefixedHexString();n.getTxGasEstimates=async({networkAndAccountSupports1559:e,networkGasFeeEstimates:t,txParams:n,hexChainId:s})=>{if(e){var r;const{estimatedBaseFee:e="0"}=t,i=(0,c.decGWEIToHexWEI)(e);return await(0,l.getTransaction1559GasFeeEstimates)({...n,chainId:s,gasLimit:null===(r=n.gasLimit)||void 0===r?void 0:r.toString()},i,s)}return{baseAndPriorityFeePerGas:undefined,maxFeePerGas:undefined,maxPriorityFeePerGas:undefined}};n.getTokenExchangeRate=async e=>{const{chainId:t,tokenAddress:n,currency:s}=e,r=await(async(e,t,...n)=>{let s;if((0,o.isSolanaChainId)(e)){const e=`https://price.api.cx.metamask.io/v3/spot-prices?${new URLSearchParams({assetIds:n.map((e=>(0,m.toAssetId)(e,p.MultichainNetworks.SOLANA))).join(","),includeMarketData:"true",vsCurrency:t})}`,r=await(0,h.default)({url:e,fetchOptions:{method:"GET",headers:{"X-Client-Id":o.BridgeClientId.EXTENSION}},cacheOptions:{cacheRefreshTime:0},functionName:"fetchSolanaTokenExchangeRates"});return s=Object.entries(r).reduce(((e,[t,n])=>(e[t]=n.price,e)),{}),s}return s=await(0,d.fetchTokenExchangeRates)(t,n,(0,o.formatChainIdToHex)(e)),Object.keys(s).reduce(((e,t)=>(e[t]=s[t],e)),{})})(t,s,n),i=(0,m.toAssetId)(n,(0,o.formatChainIdToCaip)(t));if((0,o.isSolanaChainId)(t)&&i)return null==r?void 0:r[i];return(null==r?void 0:r[(0,a.toChecksumAddress)(n)])??(null==r?void 0:r[n.toLowerCase()])};n.exchangeRateFromMarketData=(e,t,n)=>{var s;return(0,r.isStrictHexString)(t)&&(0,r.isStrictHexString)(e)?null==n||null===(s=n[e])||void 0===s||null===(s=s[t])||void 0===s?void 0:s.price:undefined};n.tokenAmountToCurrency=(e,t)=>new u.Numeric(e,10).applyConversionRate(new i.BigNumber(t.toString(),10)).toNumber();n.tokenPriceInNativeAsset=(e,t)=>e&&t?e/t:null;n.exchangeRatesFromNativeAndCurrencyRates=(e,t,n)=>({valueInCurrency:e&&t?e*t:null,usd:e&&n?e*n:null});n.isNetworkAdded=e=>e!==undefined&&"networkClientId"in e.rpcEndpoints[e.defaultRpcEndpointIndex]}}},{package:"$root$",file:"ui/ducks/bridge/utils.ts"}],[6914,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.clearAlerts=function(e){return{type:"CLEAR_ALERTS",ownerId:e}},n.default=function(e=s,t){switch(t.type){case"UPDATE_ALERTS":return{...e,alerts:{...e.alerts,[t.ownerId]:t.alerts}};case"SET_ALERT_CONFIRMED":return{...e,confirmed:{...e.confirmed,[t.ownerId]:{...e.confirmed[t.ownerId],[t.alertKey]:t.isConfirmed}}};case"CLEAR_ALERTS":return{...e,alerts:{...e.alerts,[t.ownerId]:[]},confirmed:{...e.confirmed,[t.ownerId]:{}}};default:return e}},n.setAlertConfirmed=function(e,t,n){return{type:"SET_ALERT_CONFIRMED",ownerId:e,alertKey:t,isConfirmed:n}},n.updateAlerts=function(e,t){return{type:"UPDATE_ALERTS",alerts:t,ownerId:e}};const s={alerts:{},confirmed:{}}}}},{package:"$root$",file:"ui/ducks/confirm-alerts/confirm-alerts.ts"}],[6919,{"../../helpers/constants/routes":6940,"@reduxjs/toolkit":3090},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.pageChanged=n.getMostRecentOverviewPage=n.default=void 0;var s=e("@reduxjs/toolkit"),r=e("../../helpers/constants/routes");const i={mostRecentOverviewPage:r.DEFAULT_ROUTE},a="history",o=(0,s.createSlice)({name:a,initialState:i,reducers:{pageChanged:(e,t)=>{const n=t.payload;(n===r.DEFAULT_ROUTE||n.startsWith(r.ASSET_ROUTE))&&(e.mostRecentOverviewPage=n)}}}),{actions:c,reducer:u}=o;n.default=u;n.getMostRecentOverviewPage=e=>e[a].mostRecentOverviewPage;const{pageChanged:l}=c;n.pageChanged=l}}},{package:"$root$",file:"ui/ducks/history/history.js"}],[6920,{"../../shared/constants/alerts":5822,"./alerts":6904,"./app/app":6907,"./bridge/bridge":6911,"./confirm-alerts/confirm-alerts":6914,"./confirm-transaction/confirm-transaction.duck":6915,"./domains":6916,"./gas/gas.duck":6918,"./history/history":6919,"./locale/locale":6921,"./metamask/metamask":6922,"./ramps/ramps":6925,"./send/send":6928,"./swaps/swaps":6930,redux:5302},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("redux"),r=e("../../shared/constants/alerts"),i=T(e("./metamask/metamask")),a=T(e("./locale/locale")),o=T(e("./send/send")),c=T(e("./domains")),u=T(e("./app/app")),l=T(e("./confirm-transaction/confirm-transaction.duck")),d=T(e("./gas/gas.duck")),h=e("./alerts"),m=T(e("./swaps/swaps")),p=T(e("./bridge/bridge")),g=T(e("./history/history")),f=T(e("./ramps/ramps")),y=T(e("./confirm-alerts/confirm-alerts"));function T(e){return e&&e.__esModule?e:{default:e}}n.default=(0,s.combineReducers)({[r.AlertTypes.invalidCustomNetwork]:h.invalidCustomNetwork,[r.AlertTypes.unconnectedAccount]:h.unconnectedAccount,activeTab:e=>e===undefined?null:e,metamask:i.default,appState:u.default,DNS:c.default,history:g.default,send:o.default,confirmAlerts:y.default,confirmTransaction:l.default,swaps:m.default,ramps:f.default,bridge:p.default,gas:d.default,localeMessages:a.default})}}},{package:"$root$",file:"ui/ducks/index.js"}],[6923,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultBuyableChains=void 0;n.defaultBuyableChains=[{active:!0,chainId:1,chainName:"Ethereum Mainnet",shortName:"Ethereum",nativeTokenSupported:!0},{active:!0,chainId:10,chainName:"Optimism Mainnet",shortName:"Optimism",nativeTokenSupported:!0},{active:!0,chainId:25,chainName:"Cronos Mainnet",shortName:"Cronos",nativeTokenSupported:!0},{active:!0,chainId:56,chainName:"BNB Chain Mainnet",shortName:"BNB Chain",nativeTokenSupported:!0},{active:!0,chainId:100,chainName:"Gnosis Mainnet",shortName:"Gnosis",nativeTokenSupported:!0},{active:!0,chainId:137,chainName:"Polygon Mainnet",shortName:"Polygon",nativeTokenSupported:!0},{active:!0,chainId:250,chainName:"Fantom Mainnet",shortName:"Fantom",nativeTokenSupported:!0},{active:!0,chainId:324,chainName:"zkSync Era Mainnet",shortName:"zkSync Era",nativeTokenSupported:!0},{active:!0,chainId:1101,chainName:"Polygon zkEVM",shortName:"Polygon zkEVM",nativeTokenSupported:!0},{active:!0,chainId:1284,chainName:"Moonbeam Mainnet",shortName:"Moonbeam",nativeTokenSupported:!0},{active:!0,chainId:1285,chainName:"Moonriver Mainnet",shortName:"Moonriver",nativeTokenSupported:!0},{active:!0,chainId:8453,chainName:"Base Mainnet",shortName:"Base",nativeTokenSupported:!0},{active:!0,chainId:42161,chainName:"Arbitrum Mainnet",shortName:"Arbitrum",nativeTokenSupported:!0},{active:!0,chainId:42220,chainName:"Celo Mainnet",shortName:"Celo",nativeTokenSupported:!1},{active:!0,chainId:43114,chainName:"Avalanche C-Chain Mainnet",shortName:"Avalanche C-Chain",nativeTokenSupported:!0},{active:!0,chainId:59144,chainName:"Linea",shortName:"Linea",nativeTokenSupported:!0},{active:!0,chainId:1313161554,chainName:"Aurora Mainnet",shortName:"Aurora",nativeTokenSupported:!1},{active:!0,chainId:16666e5,chainName:"Harmony Mainnet (Shard 0)",shortName:"Harmony (Shard 0)",nativeTokenSupported:!0},{active:!0,chainId:11297108109,chainName:"Palm Mainnet",shortName:"Palm",nativeTokenSupported:!1}]}}},{package:"$root$",file:"ui/ducks/ramps/constants.ts"}],[6924,{"./ramps":6925},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./ramps");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}))}}},{package:"$root$",file:"ui/ducks/ramps/index.ts"}],[6925,{"../../../shared/constants/multichain/networks":5838,"../../../shared/modules/conversion.utils":5906,"../../../shared/modules/selectors/networks":5923,"../../helpers/ramps/rampApi/rampAPI":6957,"../../selectors":7711,"../../selectors/multichain":7715,"./constants":6923,"@reduxjs/toolkit":3090,reselect:5385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getIsSolanaBuyable=n.getIsNativeTokenBuyable=n.getIsBitcoinBuyable=n.getBuyableChains=n.fetchBuyableChains=n.default=void 0;var s,r=e("reselect"),i=e("@reduxjs/toolkit"),a=e("../../../shared/modules/selectors/networks"),o=e("../../selectors"),c=(s=e("../../helpers/ramps/rampApi/rampAPI"))&&s.__esModule?s:{default:s},u=e("../../../shared/modules/conversion.utils"),l=e("../../selectors/multichain"),d=e("../../../shared/constants/multichain/networks"),h=e("./constants");const m=n.fetchBuyableChains=(0,i.createAsyncThunk)("ramps/fetchBuyableChains",(async(e,{getState:t})=>{const n=t(),{isFetched:s}=n.ramps;return(0,o.getUseExternalServices)(n)?s?n.ramps.buyableChains:await c.default.getNetworks():h.defaultBuyableChains})),p=(0,i.createSlice)({name:"ramps",initialState:{buyableChains:h.defaultBuyableChains,isFetched:!1},reducers:{setBuyableChains:(e,t)=>{Array.isArray(t.payload)&&t.payload.length>0&&t.payload.every((e=>null==e?void 0:e.chainId))?(e.buyableChains=t.payload,e.isFetched=!0):e.buyableChains=h.defaultBuyableChains}},extraReducers:e=>{e.addCase(m.fulfilled,((e,t)=>{const n=t.payload;n&&n.length>0?e.buyableChains=n:e.buyableChains=h.defaultBuyableChains,e.isFetched=!0})).addCase(m.rejected,(e=>{e.buyableChains=h.defaultBuyableChains,e.isFetched=!0}))}}),{reducer:g}=p,f=e=>{var t;return(null===(t=e.ramps)||void 0===t?void 0:t.buyableChains)??h.defaultBuyableChains};n.getBuyableChains=f;const y=n.getIsBitcoinBuyable=(0,r.createSelector)([f],(e=>e.filter(Boolean).some((e=>e.chainId===d.MultichainNetworks.BITCOIN&&e.active)))),T=n.getIsSolanaBuyable=(0,r.createSelector)([f],(e=>e.filter(Boolean).some((e=>e.chainId===d.MultichainNetworks.SOLANA&&e.active))));n.getIsNativeTokenBuyable=(0,r.createSelector)([a.getCurrentChainId,f,y,l.getMultichainIsBitcoin,T,l.getMultichainIsSolana],((e,t,n,s,r,i)=>{try{return s?n:i?r:t.filter(Boolean).some((t=>String(t.chainId)===(0,u.hexToDecimal)(e)))}catch(e){return!1}}));n.default=g}}},{package:"$root$",file:"ui/ducks/ramps/ramps.ts"}],[6931,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=[{code:"aud",name:"Australian Dollar"},{code:"hkd",name:"Hong Kong Dollar"},{code:"sgd",name:"Singapore Dollar"},{code:"idr",name:"Indonesian Rupiah"},{code:"inr",name:"Indian Rupee"},{code:"nzd",name:"New Zealand Dollar"},{code:"php",name:"Philippine Peso"},{code:"btc",name:"Bitcoin"},{code:"cad",name:"Canadian Dollar"},{code:"eur",name:"Euro"},{code:"gbp",name:"Pound Sterling"},{code:"jpy",name:"Japanese Yen"},{code:"ltc",name:"Litecoin"},{code:"rub",name:"Russian Ruble"},{code:"uah",name:"Ukrainian Hryvnia"},{code:"usd",name:"United States Dollar"},{code:"xlm",name:"Stellar Lumen"},{code:"xrp",name:"Ripple"},{code:"sek",name:"Swedish Krona"},{code:"aed",name:"United Arab Emirates Dirham"},{code:"ars",name:"Argentine Peso"},{code:"bch",name:"Bitcoin Cash"},{code:"bnb",name:"Binance Coin"},{code:"brl",name:"Brazilian Real"},{code:"clp",name:"Chilean Peso"},{code:"cny",name:"Chinese Yuan"},{code:"czk",name:"Czech Koruna"},{code:"dkk",name:"Danish Krone"},{code:"chf",name:"Swiss Franc"},{code:"dot",name:"Polkadot"},{code:"eos",name:"EOS"},{code:"eth",name:"Ethereum"},{code:"gel",name:"Georgian Lari"},{code:"huf",name:"Hungarian Forint"},{code:"ils",name:"Israeli Shekel"},{code:"krw",name:"South Korean Won"},{code:"mxn",name:"Mexican Peso"},{code:"myr",name:"Malaysian Ringgit"},{code:"ngn",name:"Nigerian Naira"},{code:"nok",name:"Norwegian Krone"},{code:"pln",name:"Polish Zloty"},{code:"thb",name:"Thai Baht"},{code:"try",name:"Turkish Lira"},{code:"zar",name:"South African Rand"}]}}},{package:"$root$",file:"ui/helpers/constants/available-conversions.json"}],[6933,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.STATUS_NOT_CONNECTED=n.STATUS_CONNECTED_TO_SNAP=n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT=n.STATUS_CONNECTED=void 0;n.STATUS_CONNECTED="STATUS_CONNECTED",n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT="STATUS_CONNECTED_TO_ANOTHER_ACCOUNT",n.STATUS_NOT_CONNECTED="STATUS_NOT_CONNECTED",n.STATUS_CONNECTED_TO_SNAP="STATUS_CONNECTED_TO_SNAP"}}},{package:"$root$",file:"ui/helpers/constants/connected-sites.js"}],[6936,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PRIORITY_LEVEL_ICON_MAP=n.GAS_FORM_ERRORS=void 0,n.getGasFormErrorText=function(e,t,{minimumGasLimit:n}={}){switch(e){case s.GAS_LIMIT_OUT_OF_BOUNDS:return t("editGasLimitOutOfBounds",[n]);case s.MAX_PRIORITY_FEE_TOO_LOW:return t("editGasMaxPriorityFeeLow");case s.MAX_FEE_TOO_LOW:return t("editGasMaxFeeLow");case s.MAX_PRIORITY_FEE_BELOW_MINIMUM:return t("editGasMaxPriorityFeeBelowMinimum");case s.MAX_PRIORITY_FEE_HIGH_WARNING:return t("editGasMaxPriorityFeeHigh");case s.MAX_FEE_HIGH_WARNING:return t("editGasMaxFeeHigh");case s.MAX_FEE_IMBALANCE:return t("editGasMaxFeePriorityImbalance");case s.GAS_PRICE_TOO_LOW:return t("editGasPriceTooLow");default:return""}};const s=n.GAS_FORM_ERRORS={GAS_LIMIT_OUT_OF_BOUNDS:"editGasLimitOutOfBounds",MAX_PRIORITY_FEE_TOO_LOW:"editGasMaxPriorityFeeLow",MAX_FEE_TOO_LOW:"editGasMaxFeeLow",MAX_PRIORITY_FEE_BELOW_MINIMUM:"editGasMaxPriorityFeeBelowMinimum",MAX_PRIORITY_FEE_HIGH_WARNING:"editGasMaxPriorityFeeHigh",MAX_FEE_HIGH_WARNING:"editGasMaxFeeHigh",MAX_FEE_IMBALANCE:"editGasMaxFeeImbalance",GAS_PRICE_TOO_LOW:"editGasPriceTooLow"};n.PRIORITY_LEVEL_ICON_MAP={low:"ðŸ¢",medium:"ðŸ¦Š",high:"ðŸ¦",dappSuggested:"ðŸŒ",dappSuggestedHigh:"ðŸŒ",swapSuggested:"ðŸ”„",tenPercentIncreased:"â¬†",custom:"âš™ï¸"}}}},{package:"$root$",file:"ui/helpers/constants/gas.js"}],[6937,{"../../../../shared/constants/network":5839},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS=void 0;var s=e("../../../../shared/constants/network");n.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS={[s.CHAIN_IDS.MAINNET]:{url:"https://etherscan.io",name:"Etherscan"},[s.CHAIN_IDS.OPTIMISM]:{url:"https://optimistic.etherscan.io",name:"Optimistic Etherscan"},[s.CHAIN_IDS.BSC]:{url:"https://bscscan.com",name:"BscScan"},[s.CHAIN_IDS.POLYGON]:{url:"https://polygonscan.com",name:"PolygonScan"},[s.CHAIN_IDS.ARBITRUM]:{url:"https://arbiscan.io",name:"Arbiscan"},[s.CHAIN_IDS.AVALANCHE]:{url:"https://snowtrace.io",name:"Snowtrace"},[s.CHAIN_IDS.LINEA_MAINNET]:{url:"https://lineascan.build",name:"LineaScan"}}}}},{package:"$root$",file:"ui/helpers/constants/metamask-notifications/metamask-notifications.ts"}],[6939,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PRIVACY_POLICY_DATE=void 0;n.PRIVACY_POLICY_DATE="2024-06-18T12:00:00Z"}}},{package:"$root$",file:"ui/helpers/constants/privacy-policy.ts"}],[694,{"@ethereumjs/util":490,"@keystonehq/bc-ur-registry":716,buffer:4138,hdkey:4708,uuid:5768},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var s,r=e("@keystonehq/bc-ur-registry"),i=e("uuid"),a=(s=e("hdkey"))&&"object"==typeof s&&"default"in s?s.default:s,o=e("@ethereumjs/util");const c={ETH_SIGN_REQUEST:new r.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new r.RegistryType("eth-signature",402),ETH_NFT_ITEM:new r.RegistryType("eth-nft-item",403)},{decodeToDataItem:u,RegistryTypes:l}=r.extend;var d,h;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(d||(d={})),(h=n.DataType||(n.DataType={}))[h.transaction=1]="transaction",h[h.typedData=2]="typedData",h[h.personalMessage=3]="personalMessage",h[h.typedTransaction=4]="typedTransaction";class m extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[d.requestId]=new r.DataItem(this.requestId,l.UUID.getTag())),this.address&&(e[d.address]=this.address),this.chainId&&(e[d.chainId]=Number(this.chainId)),this.origin&&(e[d.origin]=this.origin),e[d.signData]=this.signData,e[d.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[d.derivationPath]=t,new r.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,n,s,a,o,c,u,l){const d=s.replace(/[m|M]\//,"").split("/"),h=new r.CryptoKeypath(d.map((e=>{const t=parseInt(e.replace("'",""));let n=!1;return e.endsWith("'")&&(n=!0),new r.PathComponent({index:t,hardened:n})})),t.from(a,"hex"));return new m({requestId:o?t.from(i.parse(o)):undefined,signData:e,dataType:n,derivationPath:h,chainId:c,address:u?t.from(u.replace("0x",""),"hex"):undefined,origin:l||undefined})}}m.fromDataItem=e=>{const t=e.getData(),n=t[d.signData],s=t[d.dataType],i=r.CryptoKeypath.fromDataItem(t[d.derivationPath]),a=t[d.chainId]?t[d.chainId]:undefined,o=t[d.address]?t[d.address]:undefined,c=t[d.requestId]?t[d.requestId].getData():undefined,u=t[d.origin]?t[d.origin]:undefined;return new m({requestId:c,signData:n,dataType:s,chainId:a,derivationPath:i,address:o,origin:u})},m.fromCBOR=e=>{const t=u(e);return m.fromDataItem(t)};const{RegistryTypes:p,decodeToDataItem:g}=r.extend;var f;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(f||(f={}));class y extends r.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>c.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[f.requestId]=new r.DataItem(this.requestId,p.UUID.getTag())),this.origin&&(e[f.origin]=this.origin),e[f.signature]=this.signature,new r.DataItem(e)},this.signature=e,this.requestId=t,this.origin=n}}y.fromDataItem=e=>{const t=e.getData(),n=t[f.signature],s=t[f.requestId]?t[f.requestId].getData():undefined;return new y(n,s,t[f.origin])},y.fromCBOR=e=>{const t=g(e);return y.fromDataItem(t)};const{decodeToDataItem:T}=r.extend;var k;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(k||(k={}));class v extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[k.chainId]=this.chainId,e[k.name]=this.name,e[k.contractAddress]=this.contractAddress,e[k.contractName]=this.contractName,e[k.mediaData]=this.mediaData,new r.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,s,r){return new v({chainId:e,contractAddress:t,contractName:n,mediaData:r,name:s})}}v.fromDataItem=e=>{const t=e.getData(),n=t[k.chainId],s=t[k.name],r=t[k.mediaData],i=t[k.contractAddress],a=t[k.contractName];return new v({chainId:n,name:s,contractAddress:i,contractName:a,mediaData:r})},v.fromCBOR=e=>{const t=T(e);return v.fromDataItem(t)};const b=(e,n)=>{const s=a.fromExtendedKey(e).derive(n),r="0x"+t.from(o.publicToAddress(s.publicKey,!0)).toString("hex");return o.toChecksumAddress(r)};r.patchTags(Object.values(c).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(r).forEach((function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}})})),n.ETHNFTItem=v,n.ETHSignature=y,n.EthSignRequest=m,n.findHDPathFromAddress=(e,t,n,s)=>{for(let r=0;r<n;r++){const n=b(t,`M/0/${r}`);if(e.toLowerCase()==n.toLowerCase())return`${s}/0/${r}`}return null},n.generateAddressFromXpub=b}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.development.js"}],[6941,{"../../../app/scripts/lib/util":206,"../../../shared/constants/app":5824,"../../components/component-library":6463,"./routes":6940},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("../../../app/scripts/lib/util"),r=e("../../../shared/constants/app"),i=e("../../components/component-library"),a=e("./routes");const o=[{tabMessage:e=>e("general"),sectionMessage:e=>e("currencyConversion"),descriptionMessage:e=>e("currencyConversion"),route:`${a.GENERAL_ROUTE}#currency-conversion`,iconName:i.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("showNativeTokenAsMainBalance"),descriptionMessage:e=>e("showNativeTokenAsMainBalance"),route:`${a.GENERAL_ROUTE}#show-native-token-as-main-balance`,iconName:i.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("currentLanguage"),descriptionMessage:e=>e("currentLanguage"),route:`${a.GENERAL_ROUTE}#current-language`,iconName:i.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("theme"),descriptionMessage:e=>e("themeDescription"),route:`${a.GENERAL_ROUTE}#theme`,icon:"fa fa-flask"},{tabMessage:e=>e("general"),sectionMessage:e=>e("accountIdenticon"),descriptionMessage:e=>e("accountIdenticon"),route:`${a.GENERAL_ROUTE}#account-identicon`,iconName:i.IconName.Setting},{tabMessage:e=>e("general"),sectionMessage:e=>e("hideZeroBalanceTokens"),descriptionMessage:e=>e("hideZeroBalanceTokens"),route:`${a.GENERAL_ROUTE}#zero-balancetokens`,iconName:i.IconName.Setting},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("stateLogs"),descriptionMessage:e=>e("stateLogsDescription"),route:`${a.ADVANCED_ROUTE}#state-logs`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("clearActivity"),descriptionMessage:e=>e("clearActivityDescription"),route:`${a.ADVANCED_ROUTE}#clear-activity`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("smartTransactions"),descriptionMessage:e=>e("stxOptInSupportedNetworksDescription"),route:`${a.ADVANCED_ROUTE}#smart-transactions`,icon:"fas fa-upload"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showHexData"),descriptionMessage:e=>e("showHexDataDescription"),route:`${a.ADVANCED_ROUTE}#show-hexdata`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showFiatConversionInTestnets"),descriptionMessage:e=>e("showFiatConversionInTestnetsDescription"),route:`${a.ADVANCED_ROUTE}#conversion-testnetworks`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showTestnetNetworks"),descriptionMessage:e=>e("showTestnetNetworksDescription"),route:`${a.ADVANCED_ROUTE}#show-testnets`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("autoLockTimeLimit"),descriptionMessage:e=>e("autoLockTimeLimitDescription"),route:`${a.ADVANCED_ROUTE}#autolock-timer`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showExtensionInFullSizeView"),descriptionMessage:e=>e("showExtensionInFullSizeViewDescription"),route:`${a.ADVANCED_ROUTE}#extension-full-size-view`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("dismissReminderField"),descriptionMessage:e=>e("dismissReminderDescriptionField"),route:`${a.ADVANCED_ROUTE}#dismiss-secretrecovery`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("exportYourData"),descriptionMessage:e=>e("exportYourDataDescription"),route:`${a.ADVANCED_ROUTE}#export-data`,icon:"fas fa-download"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("overrideContentSecurityPolicyHeader"),descriptionMessage:e=>e("overrideContentSecurityPolicyHeaderDescription"),route:`${a.ADVANCED_ROUTE}#override-content-security-policy-header`,icon:"fas fa-sliders-h",hidden:(0,s.getPlatform)()!==r.PLATFORM_FIREFOX},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncEnable"),descriptionMessage:e=>e("backupAndSyncEnable"),route:`${a.BACKUPANDSYNC_ROUTE}#backup-and-sync-toggle`,iconName:i.IconName.SecurityTime},{tabMessage:e=>e("backupAndSync"),sectionMessage:e=>e("backupAndSyncFeatureAccounts"),descriptionMessage:e=>e("backupAndSyncFeatureAccounts"),route:`${a.BACKUPANDSYNC_ROUTE}#backup-and-sync-features-toggles-account-syncing`,iconName:i.IconName.SecurityTime},{tabMessage:e=>e("contacts"),sectionMessage:e=>e("contacts"),descriptionMessage:e=>e("contacts"),route:a.CONTACT_LIST_ROUTE,iconName:i.IconName.Book},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("basicConfigurationLabel"),descriptionMessage:e=>e("basicConfigurationDescription"),route:`${a.SECURITY_ROUTE}#basic-functionality-toggle`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("revealSeedWords"),descriptionMessage:e=>e("revealSeedWords"),route:`${a.SECURITY_ROUTE}#reveal-secretrecovery`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("usePhishingDetection"),descriptionMessage:e=>e("usePhishingDetectionDescription"),route:`${a.SECURITY_ROUTE}#phishing-detection`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("use4ByteResolution"),descriptionMessage:e=>e("toggleDecodeDescription"),route:`${a.SECURITY_ROUTE}#decode-smart-contracts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("participateInMetaMetrics"),descriptionMessage:e=>e("participateInMetaMetricsDescription"),route:`${a.SECURITY_ROUTE}#metametrics`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("networkProvider"),descriptionMessage:e=>`${e("chooseYourNetwork")} ${e("chooseYourNetworkDescription")}`,route:`${a.SECURITY_ROUTE}#network-provider`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ipfsGateway"),descriptionMessage:e=>e("ipfsGatewayDescription"),route:`${a.SECURITY_ROUTE}#add-custom-ipfs-gateway`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("autoDetectTokens"),descriptionMessage:e=>e("autoDetectTokensDescription"),route:`${a.SECURITY_ROUTE}#auto-detect-tokens`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useMultiAccountBalanceChecker"),descriptionMessage:e=>e("useMultiAccountBalanceCheckerSettingDescription"),route:`${a.SECURITY_ROUTE}#batch-account-balance-requests`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("currencyRateCheckToggle"),descriptionMessage:e=>e("currencyRateCheckToggleDescription"),route:`${a.SECURITY_ROUTE}#price-checker`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("ensDomainsSettingTitle"),descriptionMessage:e=>e("ensDomainsSettingDescriptionIntroduction"),route:`${a.SECURITY_ROUTE}#ens-domains`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("displayNftMedia"),descriptionMessage:e=>e("displayNftMediaDescription"),route:`${a.SECURITY_ROUTE}#display-nft-media`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useNftDetection"),descriptionMessage:e=>e("useNftDetectionDescriptionText"),route:`${a.SECURITY_ROUTE}#autodetect-nfts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useSafeChainsListValidation"),descriptionMessage:e=>e("useSafeChainsListValidationDescription"),route:`${a.SECURITY_ROUTE}#network-details-check`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("externalNameSourcesSetting"),descriptionMessage:e=>e("externalNameSourcesSettingDescription"),route:`${a.SECURITY_ROUTE}#proposed-nicknames`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("securityAlerts"),descriptionMessage:e=>e("securityAlertsDescription"),route:`${a.SECURITY_ROUTE}#security-alerts`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("blockaid"),descriptionMessage:e=>e("blockaidMessage"),route:`${a.SECURITY_ROUTE}#security-alerts-blockaid`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("simulationsSettingSubHeader"),descriptionMessage:e=>e("simulationsSettingDescription"),route:`${a.SECURITY_ROUTE}#transaction-simulations`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("dataCollectionForMarketing"),descriptionMessage:e=>e("dataCollectionForMarketingDescription"),route:`${a.SECURITY_ROUTE}#dataCollectionForMarketing`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("deleteMetaMetricsData"),descriptionMessage:e=>e("deleteMetaMetricsDataDescription"),route:`${a.SECURITY_ROUTE}#delete-metametrics-data`,icon:"fa fa-lock"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("mainnet"),descriptionMessage:e=>e("mainnet"),route:`${a.NETWORKS_ROUTE}#networks-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaMainnet"),descriptionMessage:e=>e("lineaMainnet"),route:`${a.NETWORKS_ROUTE}#networks-linea-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("goerli"),descriptionMessage:e=>e("goerli"),route:`${a.NETWORKS_ROUTE}#networks-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("sepolia"),descriptionMessage:e=>e("sepolia"),route:`${a.NETWORKS_ROUTE}#networks-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaGoerli"),descriptionMessage:e=>e("lineaGoerli"),route:`${a.NETWORKS_ROUTE}#networks-linea-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("lineaSepolia"),descriptionMessage:e=>e("lineaSepolia"),route:`${a.NETWORKS_ROUTE}#networks-linea-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("localhost"),descriptionMessage:e=>e("localhost"),route:`${a.NETWORKS_ROUTE}#networks-localhost`,icon:"fa fa-plug"},{tabMessage:e=>e("about"),sectionMessage:e=>e("metamaskVersion"),descriptionMessage:e=>e("builtAroundTheWorld"),route:`${a.ABOUT_US_ROUTE}#version`,iconName:i.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("links"),descriptionMessage:e=>e("links"),route:`${a.ABOUT_US_ROUTE}#links`,iconName:i.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("privacyMsg"),descriptionMessage:e=>e("privacyMsg"),route:`${a.ABOUT_US_ROUTE}#privacy-policy`,iconName:i.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("terms"),descriptionMessage:e=>e("terms"),route:`${a.ABOUT_US_ROUTE}#terms`,iconName:i.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("attributions"),descriptionMessage:e=>e("attributions"),route:`${a.ABOUT_US_ROUTE}#attributions`,iconName:i.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("supportCenter"),descriptionMessage:e=>e("supportCenter"),route:`${a.ABOUT_US_ROUTE}#supportcenter`,iconName:i.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("visitWebSite"),descriptionMessage:e=>e("visitWebSite"),route:`${a.ABOUT_US_ROUTE}#visitwebsite`,iconName:i.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("contactUs"),descriptionMessage:e=>e("contactUs"),route:`${a.ABOUT_US_ROUTE}#contactus`,iconName:i.IconName.Info},{tabMessage:e=>e("about"),sectionMessage:e=>e("betaTerms"),descriptionMessage:e=>e("betaTerms"),route:`${a.ABOUT_US_ROUTE}#beta-terms`,iconName:i.IconName.Info},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("notificationsFeatureToggle"),descriptionMessage:e=>e("notificationsFeatureToggleDescription"),route:`${a.EXPERIMENTAL_ROUTE}#notifications`,icon:"fas fa-flask"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("snaps"),descriptionMessage:e=>e("addSnapAccountToggle"),route:`${a.EXPERIMENTAL_ROUTE}#snaps`,icon:"fas fa-flask"},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Reset States",descriptionMessage:"Reset States",route:`${a.DEVELOPER_OPTIONS_ROUTE}#reset-states`,icon:i.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Announcements",descriptionMessage:"Resets isShown boolean to false for all announcements. Announcements are the notifications shown in the What's New popup modal.",route:`${a.DEVELOPER_OPTIONS_ROUTE}#reset-states-announcements`,icon:i.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Service Worker Keep Alive",descriptionMessage:'Resets various states related to onboarding and redirects to the "Secure Your Wallet" onboarding page.',route:`${a.DEVELOPER_OPTIONS_ROUTE}#reset-states-onboarding`,icon:i.IconName.CodeCircle},{featureFlag:"ENABLE_SETTINGS_PAGE_DEV_OPTIONS",tabMessage:e=>e("developerOptions"),sectionMessage:"Service Worker Keep Alive",descriptionMessage:"Results in a timestamp being continuously saved to session.storage",route:`${a.DEVELOPER_OPTIONS_ROUTE}#service-worker-keep-alive`,icon:i.IconName.CodeCircle}];n.default=o}}},{package:"$root$",file:"ui/helpers/constants/settings.js"}],[6942,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDelineatorTitle=n.DelineatorType=void 0;let s=n.DelineatorType=function(e){return e.Content="content",e.Error="error",e.Insights="insights",e.Description="description",e.Warning="warning",e}({});n.getDelineatorTitle=e=>{switch(e){case s.Error:return"errorWithSnap";case s.Insights:return"insightsFromSnap";case s.Description:return"descriptionFromSnap";case s.Warning:return"warningFromSnap";default:return"contentFromSnap"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/delineator.ts"}],[6943,{"./delineator":6942,"./insights":6944},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./delineator");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}));var r=e("./insights");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/helpers/constants/snaps/index.js"}],[6944,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.InsightWarningLanguage=void 0;n.InsightWarningLanguage={confirming:{noun:"transaction",imperative:"confirm"},signing:{noun:"signature",imperative:"sign"}}}}},{package:"$root$",file:"ui/helpers/constants/snaps/insights.ts"}],[6945,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SURVEY_START_TIME=n.SURVEY_START_HOUR=n.SURVEY_GMT=n.SURVEY_END_TIME=n.SURVEY_END_HOUR=n.SURVEY_DATE=void 0;n.SURVEY_DATE="February 28 2024";const s=n.SURVEY_GMT="GMT-0600",r=n.SURVEY_START_HOUR="12:00:00",i=n.SURVEY_END_HOUR="13:00:00";n.SURVEY_START_TIME=`${r} ${s}`,n.SURVEY_END_TIME=`${i} ${s}`}}},{package:"$root$",file:"ui/helpers/constants/survey.ts"}],[6948,{"../../constants/routes":6940,"prop-types":5102,react:5284,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var s=o(e("react")),r=o(e("prop-types")),i=e("react-router-dom"),a=e("../../constants/routes");function o(e){return e&&e.__esModule?e:{default:e}}const c={pathname:a.ONBOARDING_ROUTE},u={pathname:a.UNLOCK_ROUTE};function l(e){const{isUnlocked:t,completedOnboarding:n}=e;switch(!0){case t&&n:return s.default.createElement(i.Route,e);case!n:return s.default.createElement(i.Redirect,{to:c});default:return s.default.createElement(i.Redirect,{to:u})}}l.propTypes={isUnlocked:r.default.bool,completedOnboarding:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.component.js"}],[6949,{"./authenticated.component":6948,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),i=(s=e("./authenticated.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)((e=>{const{metamask:{isUnlocked:t,completedOnboarding:n}}=e;return{isUnlocked:t,completedOnboarding:n}}))(i.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.container.js"}],[695,{"@ethereumjs/util":490,"@keystonehq/bc-ur-registry":716,buffer:4138,hdkey:4708,uuid:5768},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0});var s,r=e("@keystonehq/bc-ur-registry"),i=e("uuid"),a=(s=e("hdkey"))&&"object"==typeof s&&"default"in s?s.default:s,o=e("@ethereumjs/util");const c={ETH_SIGN_REQUEST:new r.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new r.RegistryType("eth-signature",402),ETH_NFT_ITEM:new r.RegistryType("eth-nft-item",403)},{decodeToDataItem:u,RegistryTypes:l}=r.extend;var d,h;!function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"}(d||(d={})),(h=n.DataType||(n.DataType={}))[h.transaction=1]="transaction",h[h.typedData=2]="typedData",h[h.personalMessage=3]="personalMessage",h[h.typedTransaction=4]="typedTransaction";class m extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};this.requestId&&(e[d.requestId]=new r.DataItem(this.requestId,l.UUID.getTag())),this.address&&(e[d.address]=this.address),this.chainId&&(e[d.chainId]=Number(this.chainId)),this.origin&&(e[d.origin]=this.origin),e[d.signData]=this.signData,e[d.dataType]=this.dataType;const t=this.derivationPath.toDataItem();return t.setTag(this.derivationPath.getRegistryType().getTag()),e[d.derivationPath]=t,new r.DataItem(e)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,n,s,a,o,c,u,l){const d=s.replace(/[m|M]\//,"").split("/"),h=new r.CryptoKeypath(d.map((e=>{const t=parseInt(e.replace("'",""));let n=!1;return e.endsWith("'")&&(n=!0),new r.PathComponent({index:t,hardened:n})})),t.from(a,"hex"));return new m({requestId:o?t.from(i.parse(o)):void 0,signData:e,dataType:n,derivationPath:h,chainId:c,address:u?t.from(u.replace("0x",""),"hex"):void 0,origin:l||void 0})}}m.fromDataItem=e=>{const t=e.getData(),n=t[d.signData],s=t[d.dataType],i=r.CryptoKeypath.fromDataItem(t[d.derivationPath]),a=t[d.chainId]?t[d.chainId]:void 0,o=t[d.address]?t[d.address]:void 0,c=t[d.requestId]?t[d.requestId].getData():void 0;return new m({requestId:c,signData:n,dataType:s,chainId:a,derivationPath:i,address:o,origin:t[d.origin]?t[d.origin]:void 0})},m.fromCBOR=e=>{const t=u(e);return m.fromDataItem(t)};const{RegistryTypes:p,decodeToDataItem:g}=r.extend;var f;!function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"}(f||(f={}));class y extends r.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>c.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const e={};return this.requestId&&(e[f.requestId]=new r.DataItem(this.requestId,p.UUID.getTag())),this.origin&&(e[f.origin]=this.origin),e[f.signature]=this.signature,new r.DataItem(e)},this.signature=e,this.requestId=t,this.origin=n}}y.fromDataItem=e=>{const t=e.getData(),n=t[f.signature],s=t[f.requestId]?t[f.requestId].getData():void 0;return new y(n,s,t[f.origin])},y.fromCBOR=e=>{const t=g(e);return y.fromDataItem(t)};const{decodeToDataItem:T}=r.extend;var k;!function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"}(k||(k={}));class v extends r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>c.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{const e={};return e[k.chainId]=this.chainId,e[k.name]=this.name,e[k.contractAddress]=this.contractAddress,e[k.contractName]=this.contractName,e[k.mediaData]=this.mediaData,new r.DataItem(e)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,s,r){return new v({chainId:e,contractAddress:t,contractName:n,mediaData:r,name:s})}}v.fromDataItem=e=>{const t=e.getData();return new v({chainId:t[k.chainId],name:t[k.name],contractAddress:t[k.contractAddress],contractName:t[k.contractName],mediaData:t[k.mediaData]})},v.fromCBOR=e=>{const t=T(e);return v.fromDataItem(t)};const b=(e,n)=>{const s=a.fromExtendedKey(e).derive(n),r="0x"+t.from(o.publicToAddress(s.publicKey,!0)).toString("hex");return o.toChecksumAddress(r)};r.patchTags(Object.values(c).filter((e=>!!e.getTag())).map((e=>e.getTag()))),Object.keys(r).forEach((function(e){"default"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}})})),n.ETHNFTItem=v,n.ETHSignature=y,n.EthSignRequest=m,n.findHDPathFromAddress=(e,t,n,s)=>{for(let r=0;r<n;r++){const n=b(t,"M/0/"+r);if(e.toLowerCase()==n.toLowerCase())return`${s}/0/${r}`}return null},n.generateAddressFromXpub=b}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/bc-ur-registry-eth.cjs.production.min.js"}],[6950,{"./authenticated.container":6949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./authenticated.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/index.js"}],[6951,{"prop-types":5102,react:5284,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var s,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),i=(s=e("prop-types"))&&s.__esModule?s:{default:s},a=e("react-router-dom");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function c({flag:e,redirectRoute:t,...n}){const s=(0,r.useMemo)((()=>({pathname:t})),[t]);return e?r.default.createElement(a.Route,n):r.default.createElement(a.Redirect,{to:s})}c.propTypes={flag:i.default.bool.isRequired,redirectRoute:i.default.string.isRequired}}}},{package:"$root$",file:"ui/helpers/higher-order-components/feature-toggled-route.js"}],[6952,{"./initialized.container":6954},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./initialized.container"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/index.js"}],[6953,{"../../constants/routes":6940,"prop-types":5102,react:5284,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var s=a(e("react")),r=a(e("prop-types")),i=e("react-router-dom");function a(e){return e&&e.__esModule?e:{default:e}}const o={pathname:e("../../constants/routes").ONBOARDING_ROUTE};function c(e){return e.completedOnboarding?s.default.createElement(i.Route,e):s.default.createElement(i.Redirect,{to:o})}c.propTypes={completedOnboarding:r.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.component.js"}],[6954,{"./initialized.component":6953,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),i=(s=e("./initialized.component"))&&s.__esModule?s:{default:s};n.default=(0,r.connect)((e=>{const{metamask:{completedOnboarding:t}}=e;return{completedOnboarding:t}}))(i.default)}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.container.js"}],[6955,{"./with-modal-props":6956},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./with-modal-props"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/index.js"}],[6956,{"../../../store/actions":7729,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,s.connect)(i,a)(e)};var s=e("react-redux"),r=e("../../../store/actions");const i=e=>{const{appState:t}=e,{props:n}=t.modal.modalState;return{...n}},a=e=>({hideModal:()=>e((0,r.hideModal)())})}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/with-modal-props.js"}],[6957,{"../../../../shared/modules/fetch-with-timeout":5910},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var s;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;const r=(0,((s=e("../../../../shared/modules/fetch-with-timeout"))&&s.__esModule?s:{default:s}).default)(),i={async getNetworks(){const e=new URL("/regions/networks","https://on-ramp-content.api.cx.metamask.io"),t=await r(e.toString()),{networks:n}=await t.json();return n}};n.default=i}}},{package:"$root$",file:"ui/helpers/ramps/rampApi/rampAPI.ts"}],[6958,{"../../../app/scripts/translate":399,"../../../shared/constants/hardware-wallets":5832,"../../../shared/constants/keyring":5833,"../../../shared/constants/network":5839,"../../../shared/lib/snaps/snaps":5890,"../../components/component-library":6463,"../constants/design-system":6934,"@metamask/snaps-sdk/jsx":2896},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountLabels=function(e,t,n,r){if(!t)return[];const i=[],a=n.filter((e=>e.type===o.KeyringType.hdKeyTree));switch(e){case o.KeyringType.hdKeyTree:if(a.length>1){const e=a.findIndex((e=>e.accounts.includes(t.address)));i.push({label:d(e),icon:null})}break;case o.KeyringType.imported:i.push({label:(0,u.t)("imported"),icon:null});break;case o.KeyringType.qr:i.push({label:c.HardwareKeyringNames.qr,icon:null});break;case o.KeyringType.trezor:i.push({label:c.HardwareKeyringNames.trezor,icon:null});break;case o.KeyringType.ledger:i.push({label:c.HardwareKeyringNames.ledger,icon:null});break;case o.KeyringType.oneKey:i.push({label:c.HardwareKeyringNames.oneKey,icon:null});break;case o.KeyringType.lattice:i.push({label:c.HardwareKeyringNames.lattice,icon:null});break;case o.KeyringType.snap:{const{entropySource:e}=t.options;if(e&&a.length>1){const t=a.findIndex((t=>t.metadata.id===e));i.push({label:d(t),icon:null})}if((0,l.isSnapPreinstalled)(t.metadata.snap.id))break;if(r){i.push({label:`${r} (${(0,u.t)("beta")})`,icon:s.IconName.Snaps});break}i.push({label:`${(0,u.t)("snaps")} (${(0,u.t)("beta")})`,icon:s.IconName.Snaps});break}}return i},n.getAccountNameErrorMessage=function(e,t,n,s){const i=e.some((e=>{var t;return(null===(t=e.metadata)||void 0===t||null===(t=t.name)||void 0===t?void 0:t.toLowerCase())===(null==n?void 0:n.toLowerCase())})),a=!n||""===n,o=t.t("newAccountNumberName").replace(" $1",""),c=new RegExp(`^\\s*${o} \\d+\\s*$`,"iu").test(n||""),u=(null==n?void 0:n.toLowerCase())===(null==s?void 0:s.toLowerCase())||!i&&!c&&!a;let l;u?l=r.InvisibleCharacter:i?l=t.t("accountNameDuplicate"):c?l=t.t("accountNameReserved"):a&&(l=t.t("required"));return{isValidAccountName:u,errorMessage:l}},n.getAvatarNetworkColor=function(e){switch(e){case i.GOERLI_DISPLAY_NAME:return a.BackgroundColor.goerli;case i.LINEA_GOERLI_DISPLAY_NAME:return a.BackgroundColor.lineaGoerli;case i.LINEA_SEPOLIA_DISPLAY_NAME:return a.BackgroundColor.lineaSepolia;case i.SEPOLIA_DISPLAY_NAME:return a.BackgroundColor.sepolia;default:return undefined}};var s=e("@metamask/snaps-sdk/jsx"),r=e("../../components/component-library"),i=e("../../../shared/constants/network"),a=e("../constants/design-system"),o=e("../../../shared/constants/keyring"),c=e("../../../shared/constants/hardware-wallets"),u=e("../../../app/scripts/translate"),l=e("../../../shared/lib/snaps/snaps");const d=e=>`SRP #${e+1}`}}},{package:"$root$",file:"ui/helpers/utils/accounts.js"}],[696,{"./bc-ur-registry-eth.cjs.development.js":694,"./bc-ur-registry-eth.cjs.production.min.js":695},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=e("./bc-ur-registry-eth.cjs.production.min.js")}}},{package:"@keystonehq/bc-ur-registry-eth",file:"node_modules/@keystonehq/bc-ur-registry-eth/dist/index.js"}],[6960,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.camelCaseToCapitalize=function(e=""){return e.replace(/([A-Z])/gu," $1").replace(/^./u,(e=>e.toUpperCase()))},n.getCurrencySymbol=function(e){const t={EUR:"â‚¬",HKD:"$",JPY:"Â¥",PHP:"â‚±",RUB:"â‚½",SGD:"$",USD:"$"};if(t[e.toUpperCase()])return t[e.toUpperCase()];return e.toUpperCase()}}}},{package:"$root$",file:"ui/helpers/utils/common.util.js"}],[6962,{buffer:4138},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(e){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.ExportableContentType=void 0,n.exportAsFile=async function(t,n,r){if(!s[r])throw new Error(`Unsupported file type: ${r}`);"undefined"!=typeof window&&void 0!==window.showSaveFilePicker&&void 0!==window.Blob?await async function(e,t,n){const r=new window.Blob([t],{contentType:n}),i=s[n],a=await window.showSaveFilePicker({suggestedName:e,types:[{description:e,accept:{[n]:[i]}}]}),o=await a.createWritable();await o.write(r),await o.close()}(t,n,r):function(t,n,s){const r=e.from(n,"utf8").toString("base64"),i=document.createElement("a");i.href=`data:${s};Base64,${r}`,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)}(t,n,r)};const t=n.ExportableContentType={JSON:"application/json",TXT:"text/plain"},s={[t.JSON]:".json",[t.TXT]:".txt"}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/helpers/utils/export-utils.js"}],[6964,{"../../../shared/constants/gas":5831,"../../../shared/modules/Numeric":5901,"../../../shared/modules/conversion.utils":5906,"./util":6985,"bignumber.js":4029,lodash:4934},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addTenPercentAndRound=d,n.editGasModeIsSpeedUpOrCancel=function(e){return e===a.EditGasModes.cancel||e===a.EditGasModes.speedUp},n.formatGasFeeOrFeeRange=function(e,{precision:t=2}={}){if((0,u.isNullish)(e)||Array.isArray(e)&&0===e.length)return null;const n=Array.isArray(e)?e.slice(0,2):[e],s=Array.isArray(t)?t.slice(0,2):(0,r.times)(n.length,(0,r.constant)(t));return`${(0,r.uniq)((0,r.zip)(n,s).map((([e,t])=>t===undefined?e:(0,u.roundToDecimalPlacesRemovingExtraZeroes)(e,t)))).join(" - ")} GWEI`},n.gasEstimateGreaterThanGasUsedPlusTenPercent=void 0,n.isMetamaskSuggestedGasEstimate=function(e){return[a.GasRecommendations.high,a.GasRecommendations.medium,a.GasRecommendations.low].includes(e)};var s,r=e("lodash"),i=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},a=e("../../../shared/constants/gas"),o=e("../../../shared/modules/conversion.utils"),c=e("../../../shared/modules/Numeric"),u=e("./util");const l=new c.Numeric(1.1,10);function d(e){return e===undefined?undefined:new c.Numeric(e,16).times(l).round(0).toPrefixedHexString()}n.gasEstimateGreaterThanGasUsedPlusTenPercent=(e,t,n)=>{var s;let{maxFeePerGas:r}=e;r=new i.default((0,o.hexWEIToDecGWEI)(d(r)));const a=null==t||null===(s=t[n])||void 0===s?void 0:s.suggestedMaxFeePerGas;return(0,u.bnGreaterThan)(a,r)}}}},{package:"$root$",file:"ui/helpers/utils/gas.js"}],[6965,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHardwareKeyring=function(e=""){return e.includes("Hardware")}}}},{package:"$root$",file:"ui/helpers/utils/hardware.js"}],[6968,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=()=>window.matchMedia("screen and (max-width: 575px)").matches}}},{package:"$root$",file:"ui/helpers/utils/is-mobile-view.js"}],[6969,{"../../../shared/constants/network":5839,"../../../shared/constants/time":5852,"../../../shared/lib/fetch-with-cache":5881},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isOriginalNativeTokenSymbol=n.getOriginalNativeTokenSymbol=void 0;var s,r=e("../../../shared/constants/network"),i=(s=e("../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},a=e("../../../shared/constants/time");const o=async({chainId:e,useAPICall:t=!1})=>{try{var n;const s=r.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e];if(s)return s;const o=r.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP_NETWORK_COLLISION[e];if(null!=o&&o[0].currencySymbol)return o[0].currencySymbol;if(!t)return null;const c=(await(0,i.default)({url:r.CHAIN_SPEC_URL,allowStale:!0,cacheOptions:{cacheRefreshTime:a.DAY},functionName:"getSafeChainsList"})).find((t=>t.chainId===parseInt(e,16)));return(null==c||null===(n=c.nativeCurrency)||void 0===n?void 0:n.symbol)??null}catch(e){return null}};n.getOriginalNativeTokenSymbol=o;n.isOriginalNativeTokenSymbol=async({ticker:e,chainId:t,useAPICall:n=!1})=>{const s=await o({chainId:t,useAPICall:n});return null===s||s===e}}}},{package:"$root$",file:"ui/helpers/utils/isOriginalNativeTokenSymbol.ts"}],[697,{"./RegistryItem":708,"./RegistryType":709,"./lib":719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Bytes=void 0;const s=e("./lib"),r=e("./RegistryItem"),i=e("./RegistryType");class a extends r.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>i.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new s.DataItem(this.bytes)}}n.Bytes=a,a.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new a(t)},a.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return a.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Bytes.js"}],[6971,{"../../../shared/lib/manifestFlags":5884,"../../../shared/lib/trace":5895,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mmLazy=function(e){return i.default.lazy((async()=>{const t=Date.now(),n=await e(),{componentName:s,component:r}=function(e){let t;if(!e.default){const n=Object.keys(e);if(1===n.length)return t=n[0],{componentName:t,component:{default:e[t]}};throw new Error("mmLazy: You cannot lazy-load a component when there are multiple exported components in one file")}t=e.default.WrappedComponent?e.default.WrappedComponent.name:e.default.name||e.default.displayName;return{componentName:t,component:e}}(n);return c&&Math.random()<c&&((0,o.trace)({name:o.TraceName.LazyLoadComponent,data:{componentName:s},startTime:t}),(0,o.endTrace)({name:o.TraceName.LazyLoadComponent})),r}))};var s,r,i=(s=e("react"))&&s.__esModule?s:{default:s},a=e("../../../shared/lib/manifestFlags"),o=e("../../../shared/lib/trace");const c=null===(r=(0,a.getManifestFlags)().sentry)||void 0===r?void 0:r.lazyLoadSubSampleRate}}},{package:"$root$",file:"ui/helpers/utils/mm-lazy.ts"}],[6972,{"../../../../app/scripts/lib/multichain/address":142,"../../../../shared/lib/multichain/networks":5887,"@metamask/etherscan-link":1971,"@metamask/utils":3026},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMultichainBlockExplorerUrl=n.getMultichainAccountUrl=void 0;var s=e("@metamask/etherscan-link"),r=e("@metamask/utils"),i=e("../../../../app/scripts/lib/multichain/address"),a=e("../../../../shared/lib/multichain/networks");n.getMultichainBlockExplorerUrl=e=>{var t;return(null===(t=e.network)||void 0===t||null===(t=t.rpcPrefs)||void 0===t?void 0:t.blockExplorerUrl)??""};n.getMultichainAccountUrl=(e,t)=>{const{namespace:n}=(0,r.parseCaipChainId)(t.chainId);var o;if(n===r.KnownCaipNamespace.Eip155)return(0,s.getAccountLink)((0,i.normalizeSafeAddress)(e),t.network.chainId,null===(o=t.network)||void 0===o?void 0:o.rpcPrefs);const{blockExplorerFormatUrls:c}=t.network;return c?(0,a.formatBlockExplorerAddressUrl)(c,e):""}}}},{package:"$root$",file:"ui/helpers/utils/multichain/blockExplorer.ts"}],[6973,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.nftTruncateAltText=n.getNftImageAlt=n.getNftImage=void 0;const s=(e,t)=>{if(e.length<=t)return e;const n=e.substring(0,t),s=n.lastIndexOf(" ");return s>0?`${n.substring(0,s)}...`:`${n}...`};n.nftTruncateAltText=s;n.getNftImageAlt=({name:e,tokenId:t,description:n})=>{if(!e&&!t&&!n)return"";const r=n??`${e??""} ${t??""}`.trim();return s(r,100)};n.getNftImage=e=>"string"==typeof e?e:Array.isArray(e)?e[0]:undefined}}},{package:"$root$",file:"ui/helpers/utils/nfts.ts"}],[6974,{"../../../shared/constants/network":5839,"../../../shared/lib/transactions-controller-utils":5897,"../../../shared/modules/conversion.utils":5906,"../constants/metamask-notifications/metamask-notifications":6937,"@ethersproject/providers":578,"bignumber.js":4029},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.formatAmount=n.createTextItems=void 0,n.formatIsoDateString=function(e){const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(t)},n.formatMenuItemDate=function(e){const t=new Date;if(u(t,e))return new Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric",hour12:!1}).format(e);if(l(t,e))return new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(-1,"day");if(d(t,e))return new Intl.DateTimeFormat("en",{month:"short",day:"numeric"}).format(e);return new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"numeric"}).format(e)},n.getLeadingZeroCount=n.getAmount=void 0,n.getNetworkDetailsByChainId=function(e){const t=(i.NETWORK_TO_NAME_MAP[e]??"").split(" ")[0]??"",n=i.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[e],s=i.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e],r=e&&(o=a.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS,c=e,c in o)?a.SUPPORTED_NOTIFICATION_BLOCK_EXPLORERS[e]:undefined;var o,c;return{nativeCurrencyName:t,nativeCurrencySymbol:n,nativeCurrencyLogo:s,nativeCurrencyAddress:"0x0000000000000000000000000000000000000000",blockExplorerConfig:r}},n.getRandomKey=n.getNetworkNameByChainId=n.getNetworkFees=void 0,n.getRpcUrlByChainId=g,n.getUsdAmount=void 0,n.hasNetworkFeeFields=f,n.isIpfsURL=void 0;var s=e("bignumber.js"),r=e("@ethersproject/providers"),i=e("../../../shared/constants/network"),a=e("../constants/metamask-notifications/metamask-notifications"),o=e("../../../shared/lib/transactions-controller-utils"),c=e("../../../shared/modules/conversion.utils");const u=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),l=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()-1),u(n,t)},d=(e,t)=>e.getFullYear()===t.getFullYear();const h={decimalPlaces:4},m=e=>{var t;return(null===(t=(new s.BigNumber(e,10).toString(10).split(".")[1]??"").match(/^0*/u))||void 0===t||null===(t=t[0])||void 0===t?void 0:t.length)||0};n.getLeadingZeroCount=m;const p=(e,t)=>{const n={...h,...t},s=m(e),r=e.toString().includes(".")||s>0||e.toString().includes("e-");if(e>999)return Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:2}).format(e);if(r){const t=(i=n.decimalPlaces,Boolean(null==n?void 0:n.shouldEllipse)&&s>=i),r=Intl.NumberFormat("en-US",{minimumFractionDigits:t?n.decimalPlaces:undefined,maximumFractionDigits:n.decimalPlaces}).format(e);return t?`${r}...`:r}var i;return e.toString()};n.formatAmount=p;n.getRandomKey=(e,t)=>`${e.replace(/\s+/gu,"_").replace(/[^\w-]/gu,"")}-${t}-${Math.random().toString(36).substring(2,15)}`;n.createTextItems=(e,t)=>({items:e.map(((e,t)=>({text:e,highlighted:t%2==1}))),variant:t});n.getAmount=(e,t,n)=>{if(!e||!t)return"";const s=(0,o.calcTokenAmount)(e,parseFloat(t)).toNumber();return p(s,n)};n.getUsdAmount=(e,t,n)=>{if(!e||!t||!n)return"";const s=(0,o.calcTokenAmount)(e,parseFloat(t)).toNumber(),r=parseFloat(`${s}`)*parseFloat(n);return p(r)};function g(e){const t=i.FEATURED_RPCS.find((t=>t.chainId===e));if(t)return t.rpcEndpoints[0].url;switch(e){case i.CHAIN_IDS.MAINNET:return i.MAINNET_RPC_URL;case i.CHAIN_IDS.GOERLI:return i.GOERLI_RPC_URL;case i.CHAIN_IDS.SEPOLIA:return i.SEPOLIA_RPC_URL;case i.CHAIN_IDS.LINEA_GOERLI:return i.LINEA_GOERLI_RPC_URL;case i.CHAIN_IDS.LINEA_SEPOLIA:return i.LINEA_SEPOLIA_RPC_URL;case i.CHAIN_IDS.LINEA_MAINNET:return i.LINEA_MAINNET_RPC_URL;case i.CHAIN_IDS.LOCALHOST:return i.LOCALHOST_RPC_URL;default:return i.MAINNET_RPC_URL}}function f(e){return"network_fee"in e.data}n.getNetworkNameByChainId=e=>i.NETWORK_TO_NAME_MAP[e];n.getNetworkFees=async e=>{if(!f(e))throw new Error("Invalid notification type");const t=(0,c.decimalToHex)(e.chain_id),n={url:g(`0x${t}`),headers:{"Infura-Source":"metamask/metamask"}},s=new r.JsonRpcProvider(n);if(!s)throw new Error(`No provider found for chainId ${t}`);try{const[t,n,r]=await Promise.all([s.getTransactionReceipt(e.tx_hash),s.getTransaction(e.tx_hash),s.getBlock(e.block_number)]),i=(t,n)=>p(parseFloat(t)*parseFloat(e.data.network_fee.native_token_price_in_usd),{decimalPlaces:n||4}),a=(0,c.hexWEIToDecETH)(t.gasUsed.mul(t.effectiveGasPrice)._hex),o=i(a),u=n.gasLimit.toNumber(),l=t.gasUsed.toNumber(),d=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(r.baseFeePerGas._hex):null,h=r.baseFeePerGas?(0,c.hexWEIToDecGWEI)(t.effectiveGasPrice.sub(r.baseFeePerGas)._hex):null;return{transactionFeeInEth:a,transactionFeeInUsd:o,gasLimit:u,gasUsed:l,baseFee:d,priorityFee:h,maxFeePerGas:n.maxFeePerGas?(0,c.hexWEIToDecGWEI)(n.maxFeePerGas._hex):null}}catch(e){throw new Error(`Error fetching network fees for chainId ${t}: ${e}`)}};n.isIpfsURL=e=>e.startsWith("ipfs://")}}},{package:"$root$",file:"ui/helpers/utils/notification.util.ts"}],[6975,{"../../../app/scripts/controllers/permissions":88,"../../../shared/constants/permissions":5843,"../../components/component-library":6463,"../constants/design-system":6934,"./util":6985,"@metamask/chain-agnostic-permission":1525,"@metamask/controller-utils":1542,"@metamask/snaps-rpc-methods":2766,"@metamask/snaps-utils":2925,"deep-freeze-strict":4298,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionDescription=void 0,n.getWeightedPermissions=function({t:e,isRequestApprovalPermittedChains:t,permissions:n,getSubjectName:s,subjectName:r}){return Object.entries(n).reduce(((n,[i,a])=>n.concat(k({t:e,isRequestApprovalPermittedChains:t,permissionName:i,permissionValue:a,subjectName:r,getSubjectName:s}))),[]).sort(((e,t)=>e.weight-t.weight))};var s=p(e("deep-freeze-strict")),r=p(e("react")),i=e("@metamask/snaps-rpc-methods"),a=e("@metamask/snaps-utils"),o=e("@metamask/controller-utils"),c=e("@metamask/chain-agnostic-permission"),u=e("../../../shared/constants/permissions"),l=e("../../components/component-library"),d=e("../constants/design-system"),h=e("../../../app/scripts/controllers/permissions"),m=e("./util");function p(e){return e&&e.__esModule?e:{default:e}}const g=Symbol("unknown"),f=r.default.createElement(l.Icon,{name:l.IconName.Info,size:l.IconSize.Sm,color:d.IconColor.iconMuted});function y(e){return r.default.createElement(l.Text,{fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},e)}const T=(0,s.default)({[c.Caip25EndowmentPermissionName]:({t:e,isRequestApprovalPermittedChains:t})=>t?{label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}:{label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts},[u.RestrictedMethods.eth_accounts]:({t:e})=>({label:e("permission_ethereumAccounts"),leftIcon:l.IconName.Eye,weight:u.PermissionWeight.eth_accounts}),[h.PermissionNames.permittedChains]:({t:e})=>({label:e("permission_walletSwitchEthereumChain"),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.permittedChains}),[u.RestrictedMethods.snap_dialog]:({t:e,subjectName:t})=>({label:e("permission_dialog"),description:e("permission_dialogDescription",[y(t)]),leftIcon:l.IconName.Messages,weight:u.PermissionWeight.snap_dialog}),[u.RestrictedMethods.snap_notify]:({t:e,subjectName:t})=>({label:e("permission_notifications"),description:e("permission_notificationsDescription",[y(t)]),leftIcon:l.IconName.Notification,weight:u.PermissionWeight.snap_notify}),[u.RestrictedMethods.snap_getBip32PublicKey]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map((({path:t,curve:s},i)=>{var o;const c={leftIcon:l.IconName.SecuritySearch,weight:u.PermissionWeight.snap_getBip32PublicKey,id:`public-key-access-bip32-${null===(o=t.join("-"))||void 0===o?void 0:o.replace(/'/gu,"h")}-${s}-${i}`,warningMessageSubject:(0,a.getSnapDerivationPathName)(t,s)??`${e("unknownNetworkForKeyEntropy")}  ${t.join("/")} (${s})`},h=(0,a.getSnapDerivationPathName)(t,s);return h?{...c,label:e("permission_viewNamedBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},h)]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},h),y(n)])}:{...c,label:e("permission_viewBip32PublicKeys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} `," ",t.join("/")),s]),description:e("permission_viewBip32PublicKeysDescription",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`description-${t.join("/")}`},t.join("/")),y(n)])}})),[u.RestrictedMethods.snap_getBip32Entropy]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map((({path:t,curve:s},i)=>{var o;const c={leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip32Entropy,id:`key-access-bip32-${null===(o=t.join("-"))||void 0===o?void 0:o.replace(/'/gu,"h")}-${s}-${i}`,warningMessageSubject:(0,a.getSnapDerivationPathName)(t,s)??`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${s})`},h=(0,a.getSnapDerivationPathName)(t,s);return h?{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},h)]),description:e("permission_manageBip44AndBip32KeysDescription",[y(n)])}:{...c,label:e("permission_manageBip32Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t.join("/")},`${e("unknownNetworkForKeyEntropy")} ${t.join("/")} (${s})`)]),description:e("permission_manageBip44AndBip32KeysDescription",[y(n)])}})),[u.RestrictedMethods.snap_getBip44Entropy]:({t:e,permissionValue:t,subjectName:n})=>t.caveats[0].value.map((({coinType:t},s)=>({label:e("permission_manageBip44Keys",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:`coin-type-${t}`},(0,a.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`)]),description:e("permission_manageBip44AndBip32KeysDescription",[y(n)]),leftIcon:l.IconName.Key,weight:u.PermissionWeight.snap_getBip44Entropy,id:`key-access-bip44-${t}-${s}`,warningMessageSubject:(0,a.getSlip44ProtocolName)(t)??`${e("unknownNetworkForKeyEntropy")} m/44'/${t}'`}))),[u.RestrictedMethods.snap_getEntropy]:({t:e,subjectName:t})=>({label:e("permission_getEntropy",[y(t)]),description:e("permission_getEntropyDescription",[y(t)]),leftIcon:l.IconName.SecurityKey,weight:u.PermissionWeight.snap_getEntropy}),[u.RestrictedMethods.snap_manageState]:({t:e,subjectName:t})=>({label:e("permission_manageState"),description:e("permission_manageStateDescription",[y(t)]),leftIcon:l.IconName.AddSquare,weight:u.PermissionWeight.snap_manageState}),[u.RestrictedMethods.snap_getLocale]:({t:e,subjectName:t})=>({label:e("permission_getLocale"),description:e("permission_getLocaleDescription",[y(t)]),leftIcon:l.IconName.Global,weight:u.PermissionWeight.snap_getLocale}),[u.RestrictedMethods.snap_getPreferences]:({t:e,subjectName:t})=>({label:e("permission_getPreferences"),description:e("permission_getPreferencesDescription",[y(t)]),leftIcon:l.IconName.Customize,weight:4}),[u.RestrictedMethods.wallet_snap]:({t:e,permissionValue:t,getSubjectName:n})=>{const s=t.caveats[0].value,i={leftIcon:l.IconName.Flash,rightIcon:f,weight:u.PermissionWeight.wallet_snap};return Object.keys(s).map((t=>{const s=n(t);return s?{...i,label:e("permission_accessNamedSnap",[r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:t},s)]),description:e("permission_accessSnapDescription",[s])}:{...i,label:e("permission_accessSnap",[t]),description:e("permission_accessSnapDescription",[t])}}))},[u.EndowmentPermissions["endowment:network-access"]]:({t:e,subjectName:t})=>({label:e("permission_accessNetwork"),description:e("permission_accessNetworkDescription",[y(t)]),leftIcon:l.IconName.Wifi,weight:u.PermissionWeight.endowment_networkAccess}),[u.EndowmentPermissions["endowment:webassembly"]]:({t:e,subjectName:t})=>({label:e("permission_webAssembly"),description:e("permission_webAssemblyDescription",[y(t)]),leftIcon:l.IconName.DocumentCode,rightIcon:null,weight:u.PermissionWeight.endowment_webassembly}),[u.EndowmentPermissions["endowment:transaction-insight"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Speedometer,weight:u.PermissionWeight.endowment_transactionInsight},r=[{...s,label:e("permission_transactionInsight"),description:e("permission_transactionInsightDescription",[y(n)])}];return(0,o.isNonEmptyArray)(t.caveats)&&t.caveats[0].type===a.SnapCaveatType.TransactionOrigin&&t.caveats[0].value&&r.push({...s,label:e("permission_transactionInsightOrigin"),description:e("permission_transactionInsightOriginDescription",[y(n)]),leftIcon:l.IconName.Explore}),r},[u.EndowmentPermissions["endowment:cronjob"]]:({t:e,subjectName:t})=>({label:e("permission_cronjob"),description:e("permission_cronjobDescription",[y(t)]),leftIcon:l.IconName.Clock,weight:u.PermissionWeight.endowment_cronjob}),[u.EndowmentPermissions["endowment:ethereum-provider"]]:({t:e,subjectName:t})=>({label:e("permission_ethereumProvider"),description:e("permission_ethereumProviderDescription",[y(t)]),leftIcon:l.IconName.Ethereum,weight:u.PermissionWeight.endowment_ethereumProvider,id:"ethereum-provider-access",message:e("ethereumProviderAccess",[y(t)])}),[u.EndowmentPermissions["endowment:rpc"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_rpc},{snaps:a,dapps:o,allowedOrigins:c}=(0,i.getRpcCaveatOrigins)(t),h=[];if(a&&h.push({...s,label:e("permission_rpc",[e("otherSnaps"),y(n)]),description:e("permission_rpcDescription",[e("otherSnaps"),y(n)])}),o&&h.push({...s,label:e("permission_rpc",[e("websites"),y(n)]),description:e("permission_rpcDescription",[e("websites"),y(n)])}),(null==c?void 0:c.length)>0){let t;if(1===c.length)t=r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},c[0]);else{const n=c.slice(-1);t=e("permission_rpcDescriptionOriginList",[c.slice(0,-1).map((e=>r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,style:{lineBreak:"anywhere"}},e),", "))),r.default.createElement(l.Text,{color:d.TextColor.inherit,variant:d.TextVariant.inherit,fontWeight:d.FontWeight.Medium,key:"2",style:{lineBreak:"anywhere"}},n)])}h.push({...s,label:e("permission_rpc",[t,y(n)]),description:e("permission_rpcDescription",[t,y(n)])})}return h},[u.EndowmentPermissions["endowment:lifecycle-hooks"]]:({t:e,subjectName:t})=>({label:e("permission_lifecycleHooks"),description:e("permission_lifecycleHooksDescription",[y(t)]),leftIcon:l.IconName.Hierarchy,weight:u.PermissionWeight.endowment_lifecycleHooks}),[u.EndowmentPermissions["endowment:page-home"]]:({t:e,subjectName:t})=>({label:e("permission_homePage"),description:e("permission_homePageDescription",[y(t)]),leftIcon:l.IconName.Home,weight:u.PermissionWeight.endowment_pageHome}),[u.RestrictedMethods.snap_manageAccounts]:({t:e,subjectName:t})=>({label:e("permission_manageAccounts"),description:e("permission_manageAccountsDescription",[y(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.snap_manageAccounts}),[u.EndowmentPermissions["endowment:keyring"]]:({t:e,subjectName:t})=>({label:e("permission_keyring"),description:e("permission_keyringDescription",[y(t)]),leftIcon:l.IconName.UserCircleAdd,rightIcon:null,weight:u.PermissionWeight.endowment_keyring}),[u.EndowmentPermissions["endowment:name-lookup"]]:({t:e})=>({label:e("permission_nameLookup"),description:e("permission_nameLookupDescription"),leftIcon:l.IconName.Search,weight:u.PermissionWeight.endowment_nameLookup}),[u.EndowmentPermissions["endowment:assets"]]:({t:e,subjectName:t})=>({label:e("permission_assets"),description:e("permission_assetsDescription",[y(t)]),leftIcon:l.IconName.Coin,weight:u.PermissionWeight.endowment_assets}),[u.EndowmentPermissions["endowment:protocol"]]:({t:e,subjectName:t})=>({label:e("permission_protocol"),description:e("permission_protocolDescription",[y(t)]),leftIcon:l.IconName.GlobalSearch,weight:u.PermissionWeight.endowment_protocol}),[u.EndowmentPermissions["endowment:signature-insight"]]:({t:e,permissionValue:t,subjectName:n})=>{const s={leftIcon:l.IconName.Warning,weight:u.PermissionWeight.endowment_signatureInsight},r=[{...s,label:e("permission_signatureInsight"),description:e("permission_signatureInsightDescription",[y(n)])}];return(0,o.isNonEmptyArray)(t.caveats)&&t.caveats.find((e=>e.type===a.SnapCaveatType.SignatureOrigin&&e.value))&&r.push({...s,label:e("permission_signatureInsightOrigin"),description:e("permission_signatureInsightOriginDescription",[y(n)]),leftIcon:l.IconName.Explore}),r},[u.ConnectionPermission.connection_permission]:({t:e,permissionValue:t,subjectName:n})=>Object.keys(t).map((t=>{let s=(0,m.getURLHost)(t);return s||(s=t.replace("npm:","")),{label:e("snapConnectTo",[r.default.createElement(l.Text,{key:"connectToMain",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit,style:{lineBreak:"anywhere"}},s)]),description:e("snapConnectionPermissionDescription",[y(n),r.default.createElement(l.Text,{key:"connectToDescription",fontWeight:d.FontWeight.Medium,variant:d.TextVariant.inherit,color:d.TextColor.inherit},s)]),leftIcon:undefined,connection:t,connectionName:s,subjectName:n,weight:u.PermissionWeight.connection_permission}})),[g]:({t:e,permissionName:t})=>({label:e("permission_unknown",[t??"undefined"]),leftIcon:l.IconName.Question,rightIcon:null,weight:u.PermissionWeight.unknown_permission})}),k=({t:e,isRequestApprovalPermittedChains:t,permissionName:n,permissionValue:s,subjectName:r,getSubjectName:i})=>{let a=T[g];Object.hasOwnProperty.call(T,n)&&(a=T[n]);const o=a({t:e,isRequestApprovalPermittedChains:t,permissionName:n,permissionValue:s,subjectName:r,getSubjectName:i});return Array.isArray(o)?o.map((e=>({...e,permissionName:n,permissionValue:s}))):[{...o,permissionName:n,permissionValue:s}]};n.getPermissionDescription=k}}},{package:"$root$",file:"ui/helpers/utils/permission.js"}],[6976,{"../../../shared/constants/permissions":5843,"@metamask/keyring-api":2046},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.containsEthPermissionsAndNonEvmAccount=void 0;var s=e("@metamask/keyring-api"),r=e("../../../shared/constants/permissions");n.containsEthPermissionsAndNonEvmAccount=(e,t)=>{const n=Object.keys(r.RestrictedEthMethods),i=Object.keys(t).some((e=>n.includes(e))),a=e.some((e=>!(0,s.isEvmAccountType)(e.type)));return i&&a}}}},{package:"$root$",file:"ui/helpers/utils/permissions.ts"}],[6977,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPortfolioUrl=function(e="",t="",n="",s=!1,r=!1,i,a){const o=new URL(e,"https://portfolio.metamask.io");o.searchParams.append("metamaskEntry",t),o.searchParams.append("metametricsId",n),o.searchParams.append("metricsEnabled",String(s)),o.searchParams.append("marketingEnabled",String(r)),i&&o.searchParams.append("accountAddress",i);a&&o.searchParams.append("tab",a);return o.href}}}},{package:"$root$",file:"ui/helpers/utils/portfolio.js"}],[6978,{"../../../shared/constants/network":5839,"../../pages/remote-mode/remote.constants":7559},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getChainNamesForDisplayByIds=function(e){return e.map((e=>r.NETWORK_TO_NAME_MAP[e]||`Unknown(${e})`)).join(", ")},n.isRemoteModeSupported=function(e){return s.SUPPORTED_HARDWARE_WALLET_TYPES.includes(e.metadata.keyring.type)};var s=e("../../pages/remote-mode/remote.constants"),r=e("../../../shared/constants/network")}}},{package:"$root$",file:"ui/helpers/utils/remote-mode.ts"}],[6979,{"../constants/settings":6941,_process:5097},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.colorText=c,n.escapeRegExp=void 0,n.getNumberOfSettingRoutesInTab=function(e,t){return o(e,t).length},n.getSettingsRoutes=a,n.getSpecificSettingsRoute=function(e,t,n){return a().find((s=>s.tabMessage(e)===t&&s.sectionMessage(e)===n))},n.handleSettingsRefs=function(e,t,n){const s=o(e,t),r=s.findIndex((e=>e.route.substring(1)===window.location.hash.substring(1)));if(-1===r)return;const i=1===s.length?n:n[r];if(null!=i&&i.current){i.current.scrollIntoView({behavior:"smooth"}),i.current.focus();const e=window.location.hash.split("#")[1];window.location.hash=e}},n.highlightSearchedText=function(){const e=document.getElementById("search-settings"),t=new RegExp(u(e.value),"gi");[...document.querySelectorAll(".settings-page__header__search__list__item")].forEach((e=>{const n=e.querySelector(".settings-page__header__search__list__item__tab"),s=e.querySelector(".settings-page__header__search__list__item__section");c(n,t),c(s,t)}))};var s,r=(s=e("../constants/settings"))&&s.__esModule?s:{default:s};let i;function a(){return i||(i=r.default.filter((e=>(!e.featureFlag||t.env[e.featureFlag])&&!e.hidden)),i)}function o(e,t){return a().filter((n=>n.tabMessage(e)===t))}function c(e,t){if(null!==e){let n=e.innerHTML;n=n.replace("&amp;","&"),n=n.replace(/(<span class="settings-page__header__search__list__item__highlight">|<\/span>)/gim,""),e.innerHTML=n.replace(t,'<span class="settings-page__header__search__list__item__highlight">$&</span>')}}const u=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");n.escapeRegExp=u}).call(this)}).call(this,e("_process"))}}},{package:"$root$",file:"ui/helpers/utils/settings-search.js"}],[698,{".":716,"./RegistryItem":708,"./RegistryType":709,"./lib":719,buffer:4138},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoAccount=void 0;const s=e("."),r=e("./lib"),i=e("./RegistryItem"),a=e("./RegistryType");var o;!function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"}(o||(o={}));class c extends i.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>a.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const e={};return this.masterFingerprint&&(e[o.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(e[o.outputDescriptors]=this.outputDescriptors.map((e=>e.toDataItem()))),new r.DataItem(e)}}}n.CryptoAccount=c,c.fromDataItem=e=>{const n=e.getData(),r=t.alloc(4),i=n[o.masterFingerprint];i&&r.writeUInt32BE(i,0);const a=n[o.outputDescriptors].map((e=>s.CryptoOutput.fromDataItem(e)));return new c(r,a)},c.fromCBOR=e=>{const t=(0,r.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoAccount.js"}],[6981,{"../../../app/scripts/lib/util":206,"../../ducks/metamask/metamask":6922,"../../selectors":7711,"../../selectors/metamask-notifications/metamask-notifications":7712,"../../selectors/nft":7717},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getStartupTraceTags=function(e){var t;const n=(0,s.getEnvironmentType)(),c=(0,r.getIsUnlocked)(e),u=(0,i.getInternalAccounts)(e).length,l=(0,o.selectAllNftsFlat)(e).length,d=(0,a.getMetamaskNotifications)(e).length,h=(0,i.selectAllTokensFlat)(e).length,m=(0,i.getTransactions)(e).length,p=(0,i.getPendingApprovals)(e),g=null==p||null===(t=p[0])||void 0===t?void 0:t.type;return{"wallet.account_count":u,"wallet.nft_count":l,"wallet.notification_count":d,"wallet.pending_approval":g,"wallet.token_count":h,"wallet.transaction_count":m,"wallet.unlocked":c,"wallet.ui_type":n}};var s=e("../../../app/scripts/lib/util"),r=e("../../ducks/metamask/metamask"),i=e("../../selectors"),a=e("../../selectors/metamask-notifications/metamask-notifications"),o=e("../../selectors/nft")}}},{package:"$root$",file:"ui/helpers/utils/tags.ts"}],[6986,{"../../../app/scripts/lib/util":206,"../../../shared/constants/app":5824},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("../../../shared/constants/app"),r=e("../../../app/scripts/lib/util");n.default=class{static async checkStatus(){const e=(0,r.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP,t=(0,r.getPlatform)()===(s.PLATFORM_FIREFOX||s.PLATFORM_BRAVE),n=(await window.navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)),i=n.length>0,a=n.some((e=>e.label&&e.label.length>0));if(i){let n=!0;return(t&&e||e&&!a)&&(n=!1),{permissions:a,environmentReady:n}}const o=new Error("No webcam found");throw o.type="NO_WEBCAM_FOUND",o}}}}},{package:"$root$",file:"ui/helpers/utils/webcam-utils.js"}],[6987,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.openWindow=void 0;n.openWindow=(e,t)=>{window.open(e,t||"_blank","noopener")}}}},{package:"$root$",file:"ui/helpers/utils/window.ts"}],[6988,{"../../../shared/constants/multichain/networks":5838,"../../selectors":7711,"./useMultichainWalletSnapClient":6989,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountCreationOnNetworkChange=void 0;var s=e("react-redux"),r=e("../../../shared/constants/multichain/networks"),i=e("../../selectors"),a=e("./useMultichainWalletSnapClient");n.useAccountCreationOnNetworkChange=()=>{const e=(0,a.useMultichainWalletSnapClient)(a.WalletClientType.Bitcoin),t=(0,a.useMultichainWalletSnapClient)(a.WalletClientType.Solana),n=(0,s.useSelector)(i.getMetaMaskAccountsOrdered);return{createAccount:async n=>{switch(n){case r.MultichainNetworks.BITCOIN:await e.createAccount({scope:r.MultichainNetworks.BITCOIN});break;case r.MultichainNetworks.SOLANA:await t.createAccount({scope:r.MultichainNetworks.SOLANA});break;default:throw new Error(`Unsupported chainId: ${n}`)}},hasAnyAccountsInNetwork:e=>n.some((({scopes:t})=>t.includes(e)))}}}}},{package:"$root$",file:"ui/hooks/accounts/useAccountCreationOnNetworkChange.ts"}],[6989,{"../../../shared/lib/accounts":5859,"../../../shared/lib/accounts/bitcoin-wallet-snap":5858,"../../../shared/lib/accounts/solana-wallet-snap":5862,"../../store/actions":7729,"@metamask/keyring-controller":2053,"@metamask/snaps-utils":2925,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WalletClientType=n.MultichainWalletSnapSender=n.MultichainWalletSnapClient=void 0,n.useMultichainWalletSnapClient=function(e){return(0,i.useMemo)((()=>new v(e)),[e])},n.useMultichainWalletSnapSender=function(e){return(0,i.useMemo)((()=>new y(e)),[e])};var s=e("@metamask/keyring-controller"),r=e("@metamask/snaps-utils"),i=e("react"),a=e("../../../shared/lib/accounts"),o=e("../../../shared/lib/accounts/bitcoin-wallet-snap"),c=e("../../../shared/lib/accounts/solana-wallet-snap"),u=e("../../store/actions");function l(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function d(e,t){return e.get(m(e,t))}function h(e,t,n){return e.set(m(e,t),n),n}function m(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=n.WalletClientType=function(e){return e.Bitcoin="bitcoin-wallet-snap",e.Solana="solana-wallet-snap",e}({});const f={[g.Bitcoin]:{id:o.BITCOIN_WALLET_SNAP_ID,name:o.BITCOIN_WALLET_NAME},[g.Solana]:{id:c.SOLANA_WALLET_SNAP_ID,name:c.SOLANA_WALLET_NAME}};class y{constructor(e){p(this,"snapId",void 0),p(this,"send",(async e=>await(0,u.handleSnapRequest)({origin:"metamask",snapId:this.snapId,handler:r.HandlerType.OnKeyringRequest,request:e}))),this.snapId=e}}n.MultichainWalletSnapSender=y;var T=new WeakMap,k=new WeakMap;class v{constructor(e){l(this,T,void 0),l(this,k,void 0);const{id:t,name:n}=f[e];if(h(T,this,t),h(k,this,n),!d(T,this))throw new Error(`Unsupported client type: ${e}`)}getSnapId(){return d(T,this)}getSnapName(){return d(k,this)}async createAccount(e,t){const n=d(T,this)===o.BITCOIN_WALLET_SNAP_ID?{...e,synchronize:!0}:e;return await(0,u.createSnapAccount)(d(T,this),n,t)}async getNextAvailableAccountName(e){return(0,a.getNextAvailableSnapAccountName)((async()=>(0,u.getNextAvailableAccountName)(s.KeyringTypes.snap)),d(T,this),e)}}n.MultichainWalletSnapClient=v}}},{package:"$root$",file:"ui/hooks/accounts/useMultichainWalletSnapClient.ts"}],[699,{"./RegistryItem":708,"./RegistryType":709,"./lib":719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoCoinInfo=n.Network=n.Type=void 0;const s=e("./lib"),r=e("./RegistryItem"),i=e("./RegistryType");var a,o,c;!function(e){e.type="1",e.network="2"}(a||(a={})),function(e){e[e.bitcoin=0]="bitcoin"}(o=n.Type||(n.Type={})),function(e){e[e.mainnet=0]="mainnet",e[e.testnet=1]="testnet"}(c=n.Network||(n.Network={}));class u extends r.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||o.bitcoin,this.getNetwork=()=>this.network||c.mainnet,this.toDataItem=()=>{const e={};return this.type&&(e[a.type]=this.type),this.network&&(e[a.network]=this.network),new s.DataItem(e)}}}n.CryptoCoinInfo=u,u.fromDataItem=e=>{const t=e.getData(),n=t[a.type],s=t[a.network];return new u(n,s)},u.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return u.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoCoinInfo.js"}],[6990,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ActionType=void 0;n.ActionType=function(e){return e.CROSSCHAIN_V1="crosschain-v1",e.SWAPBRIDGE_V1="swapbridge-v1",e}({})}}},{package:"$root$",file:"ui/hooks/bridge/events/types.ts"}],[6991,{"../../../../shared/lib/bridge/metrics":5865,"../../../ducks/bridge/selectors":6912,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useConvertedUsdAmounts=void 0;var s=e("react-redux"),r=e("../../../ducks/bridge/selectors"),i=e("../../../../shared/lib/bridge/metrics");n.useConvertedUsdAmounts=()=>{const{activeQuote:e}=(0,s.useSelector)(r.getBridgeQuotes),{usd:t}=(0,s.useSelector)(r.getFromAmountInCurrency);return(0,i.getConvertedUsdAmounts)({activeQuote:e??undefined,fromAmountInputValueInUsd:t.toString()})}}}},{package:"$root$",file:"ui/hooks/bridge/events/useConvertedUsdAmounts.ts"}],[6992,{"../../../../shared/constants/time":5852,"../../../ducks/bridge/selectors":6912,"../../../pages/bridge/utils/quote":7141,"../useIsTxSubmittable":7002,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useQuoteProperties=void 0;var s=e("react-redux"),r=e("../../../ducks/bridge/selectors"),i=e("../../../pages/bridge/utils/quote"),a=e("../useIsTxSubmittable"),o=e("../../../../shared/constants/time");n.useQuoteProperties=()=>{const{recommendedQuote:e,sortedQuotes:t,quotesInitialLoadTimeMs:n}=(0,s.useSelector)(r.getBridgeQuotes),c=(0,a.useIsTxSubmittable)(),u=n?n/o.SECOND:0;return{can_submit:c,best_quote_provider:(0,i.formatProviderLabel)(null==e?void 0:e.quote),quotes_count:t.length,quotes_list:t.map((e=>(0,i.formatProviderLabel)(e.quote))),initial_load_time_all_quotes:u}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useQuoteProperties.ts"}],[6993,{"../../../../shared/modules/selectors":5922,"../../../ducks/bridge/selectors":6912,"../../../helpers/utils/hardware":6965,"../../../selectors":7711,"../../../selectors/multichain":7715,"./types":6990,"./useConvertedUsdAmounts":6991,"@metamask/bridge-controller":1409,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRequestMetadataProperties=void 0;var s=e("react-redux"),r=e("@metamask/bridge-controller"),i=e("../../../ducks/bridge/selectors"),a=e("../../../helpers/utils/hardware"),o=e("../../../selectors"),c=e("../../../../shared/modules/selectors"),u=e("../../../selectors/multichain"),l=e("./types"),d=e("./useConvertedUsdAmounts");n.useRequestMetadataProperties=()=>{const{slippage:e}=(0,s.useSelector)(i.getQuoteRequest),t=(0,s.useSelector)(i.getIsBridgeTx),n=(0,s.useSelector)(u.getMultichainCurrentChainId),h=(0,s.useSelector)((e=>(0,c.getIsSmartTransaction)(e,n))),{usd_amount_source:m}=(0,d.useConvertedUsdAmounts)(),p=(0,s.useSelector)(o.getCurrentKeyring),g=(0,a.isHardwareKeyring)(null==p?void 0:p.type)??!1,f=e,y=t?l.ActionType.CROSSCHAIN_V1:l.ActionType.SWAPBRIDGE_V1,T=f!==r.BRIDGE_DEFAULT_SLIPPAGE;return{slippage_limit:e??r.BRIDGE_DEFAULT_SLIPPAGE,custom_slippage:T,is_hardware_wallet:g,swap_type:y,stx_enabled:h,usd_amount_source:m}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useRequestMetadataProperties.ts"}],[6994,{"../../../ducks/bridge/selectors":6912,"@metamask/bridge-controller":1409,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRequestProperties=void 0;var s=e("react-redux"),r=e("@metamask/bridge-controller"),i=e("../../../ducks/bridge/selectors");n.useRequestProperties=()=>{const{srcChainId:e,destChainId:t,srcTokenAddress:n,destTokenAddress:a}=(0,s.useSelector)(i.getQuoteRequest),o=(0,s.useSelector)(i.getFromToken),c=(0,s.useSelector)(i.getToToken),u=null==o?void 0:o.symbol,l=null==c?void 0:c.symbol,d=n,h=a;return e&&t&&d&&h&&u&&l?{quoteRequestProperties:{chain_id_source:(0,r.formatChainIdToCaip)(e),chain_id_destination:(0,r.formatChainIdToCaip)(t),token_symbol_source:u,token_symbol_destination:l,token_address_source:d,token_address_destination:h},flippedRequestProperties:{chain_id_source:(0,r.formatChainIdToCaip)(t),chain_id_destination:(0,r.formatChainIdToCaip)(e),token_symbol_source:l,token_symbol_destination:u,token_address_source:h,token_address_destination:d}}:{}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useRequestProperties.ts"}],[6995,{"../../../ducks/bridge/selectors":6912,"../../../pages/bridge/utils/quote":7141,"./useConvertedUsdAmounts":6991,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTradeProperties=void 0;var s=e("react-redux"),r=e("../../../ducks/bridge/selectors"),i=e("../../../pages/bridge/utils/quote"),a=e("./useConvertedUsdAmounts");n.useTradeProperties=()=>{const{activeQuote:e}=(0,s.useSelector)(r.getBridgeQuotes),{usd_amount_source:t,usd_quoted_gas:n,usd_quoted_return:o}=(0,a.useConvertedUsdAmounts)();return{gas_included:!1,quoted_time_minutes:null!=e&&e.estimatedProcessingTimeInSeconds?e.estimatedProcessingTimeInSeconds/60:0,provider:(0,i.formatProviderLabel)(null==e?void 0:e.quote),usd_amount_source:t,usd_quoted_gas:n,usd_quoted_return:o}}}}},{package:"$root$",file:"ui/hooks/bridge/events/useTradeProperties.ts"}],[6996,{"../../../shared/constants/bridge":5825,"../../../shared/constants/common":5826,"@metamask/bridge-controller":1409,"@metamask/transaction-controller":2981},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({bridgeHistoryItem:e,srcTxMeta:t}){var n,c,u,l;if((null==t?void 0:t.type)!==s.TransactionType.bridge)return{srcNetwork:undefined,destNetwork:undefined};const{srcChainId:d,destChainId:h}=o({bridgeHistoryItem:e});if(!d||!h)return{srcNetwork:undefined,destNetwork:undefined};const m=(0,r.formatChainIdToCaip)(d),p=(0,r.isSolanaChainId)(d)?m:(0,r.formatChainIdToHex)(d),g={chainId:m,name:a.NETWORK_TO_SHORT_NETWORK_NAME_MAP[p],...(0,r.isSolanaChainId)(m)?{isEvm:!1,nativeCurrency:null===(n=(0,r.getNativeAssetForChainId)(d))||void 0===n?void 0:n.assetId}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[i.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[p]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(c=(0,r.getNativeAssetForChainId)(d))||void 0===c?void 0:c.symbol,isEvm:!0}},f=(0,r.formatChainIdToCaip)(h),y=(0,r.isSolanaChainId)(h)?f:(0,r.formatChainIdToHex)(h),T={chainId:f,name:a.NETWORK_TO_SHORT_NETWORK_NAME_MAP[y],...(0,r.isSolanaChainId)(f)?{isEvm:!1,nativeCurrency:null===(u=(0,r.getNativeAssetForChainId)(h))||void 0===u?void 0:u.assetId}:{defaultBlockExplorerUrlIndex:0,blockExplorerUrls:[i.CHAINID_DEFAULT_BLOCK_EXPLORER_URL_MAP[y]],defaultRpcEndpointIndex:0,rpcEndpoints:[],nativeCurrency:null===(l=(0,r.getNativeAssetForChainId)(h))||void 0===l?void 0:l.symbol,isEvm:!0}};return{srcNetwork:g,destNetwork:T}};var s=e("@metamask/transaction-controller"),r=e("@metamask/bridge-controller"),i=e("../../../shared/constants/common"),a=e("../../../shared/constants/bridge");const o=({bridgeHistoryItem:e})=>({srcChainId:e?e.quote.srcChainId:undefined,destChainId:e?e.quote.destChainId:undefined})}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeChainInfo.ts"}],[6997,{"../../ducks/bridge/bridge":6911,"../../ducks/bridge/selectors":6912,"../../ducks/bridge/utils":6913,"../../ducks/metamask/metamask":6922,"../../selectors":7711,"../../selectors/multichain":7715,"../useMultichainSelector":7058,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBridgeExchangeRates=void 0;var s=e("react"),r=e("react-redux"),i=e("../../ducks/bridge/selectors"),a=e("../../selectors"),o=e("../../ducks/metamask/metamask"),c=e("../../ducks/bridge/bridge"),u=e("../../ducks/bridge/utils"),l=e("../useMultichainSelector"),d=e("../../selectors/multichain");n.useBridgeExchangeRates=()=>{const{srcTokenAddress:e,destTokenAddress:t}=(0,r.useSelector)(i.getQuoteRequest),{activeQuote:n}=(0,r.useSelector)(i.getBridgeQuotes),h=(0,l.useMultichainSelector)(d.getMultichainCurrentChainId),m=(0,r.useSelector)(i.getToChain),p=null==m?void 0:m.chainId,g=(0,r.useSelector)(a.getParticipateInMetaMetrics),f=(0,r.useDispatch)(),y=(0,r.useSelector)(o.getCurrentCurrency),T=n?n.quote.srcAsset.address:e,k=(0,r.useSelector)(i.getFromToken),v=(null==k?void 0:k.address)??T,b=n?n.quote.destAsset.address:t,S=(0,r.useSelector)(i.getToToken),_=(null==S?void 0:S.address)??b,I=(0,r.useSelector)(a.getMarketData);(0,s.useEffect)((()=>{if(h&&v){(0,u.exchangeRateFromMarketData)(h,v,I)||f((0,c.setSrcTokenExchangeRates)({chainId:h,tokenAddress:v,currency:y}))}}),[y,f,h,v,I]),(0,s.useEffect)((()=>{if(p&&_){(0,u.exchangeRateFromMarketData)(p,_,I)||(f((0,c.setDestTokenExchangeRates)({chainId:p,tokenAddress:_,currency:y})),g&&"usd"!==y&&f((0,c.setDestTokenUsdExchangeRates)({chainId:p,tokenAddress:_,currency:"usd"})))}}),[y,f,g,I,p,_])}}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeExchangeRates.ts"}],[6998,{"../../ducks/bridge-status/selectors":6909,"../../helpers/constants/routes":6940,"@metamask/bridge-controller":1409,"@metamask/transaction-controller":2981,"react-redux":5230,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FINAL_NON_CONFIRMED_STATUSES=void 0,n.useBridgeTxHistoryData=function({transactionGroup:e,isEarliestNonce:t}){const n=(0,i.useHistory)(),r=(0,s.useSelector)(o.selectBridgeHistoryForAccount),l=e.initialTransaction,d=l.id,h=r[d],m=h?Boolean(null==h?void 0:h.status.srcChain.txHash)&&h.status.status===a.StatusTypes.COMPLETE:null,p=h?(null==h?void 0:h.status.status)===a.StatusTypes.FAILED:null,g=u.includes(l.status)?undefined:()=>{n.push({pathname:`${c.CROSS_CHAIN_SWAP_TX_DETAILS_ROUTE}/${d}`,state:{transactionGroup:e,isEarliestNonce:t}})};return{bridgeTxHistoryItem:h,isBridgeComplete:m,isBridgeFailed:p,showBridgeTxDetails:g}};var s=e("react-redux"),r=e("@metamask/transaction-controller"),i=e("react-router-dom"),a=e("@metamask/bridge-controller"),o=e("../../ducks/bridge-status/selectors"),c=e("../../helpers/constants/routes");const u=n.FINAL_NON_CONFIRMED_STATUSES=[r.TransactionStatus.failed,r.TransactionStatus.dropped,r.TransactionStatus.rejected]}}},{package:"$root$",file:"ui/hooks/bridge/useBridgeTxHistoryData.ts"}],[6999,{"../../../shared/constants/metametrics":5836,"../../../shared/lib/trace":5895,"../../../shared/modules/selectors/networks":5923,"../../contexts/metametrics":6898,"../../ducks/bridge/actions":6910,"../../helpers/constants/routes":6940,"../../helpers/utils/portfolio":6977,"../../selectors":7711,"./useCrossChainSwapsEventTracker":7001,"@metamask/bridge-controller":1409,"@metamask/utils":3026,"ethereumjs-util":4403,react:5284,"react-redux":5230,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("react-redux"),i=e("react-router-dom"),a=e("ethereumjs-util"),o=e("@metamask/utils"),c=e("@metamask/bridge-controller"),u=e("../../ducks/bridge/actions"),l=e("../../selectors"),d=e("../../contexts/metametrics"),h=e("../../../shared/constants/metametrics"),m=e("../../helpers/constants/routes"),p=e("../../helpers/utils/portfolio"),g=e("../../../shared/modules/selectors/networks"),f=e("../../../shared/lib/trace"),y=e("./useCrossChainSwapsEventTracker");n.default=()=>{const e=(0,i.useHistory)(),t=(0,r.useDispatch)(),n=(0,s.useContext)(d.MetaMetricsContext),T=(0,y.useCrossChainSwapsEventTracker)(),k=(0,r.useSelector)(l.getMetaMetricsId),v=(0,r.useSelector)(l.getParticipateInMetaMetrics),b=(0,r.useSelector)(l.getDataCollectionForMarketing),S=(0,r.useSelector)(g.getProviderConfig),_=(0,r.useSelector)(l.getIsBridgeEnabled),I=(0,r.useSelector)(l.getIsBridgeChain);return{openBridgeExperience:(0,s.useCallback)(((s,r,i,l=!1)=>{if(I&&S)if(_){(0,f.trace)({name:l?f.TraceName.SwapViewLoaded:f.TraceName.BridgeViewLoaded,startTime:Date.now()}),T({event:h.MetaMetricsEventName.ActionButtonClicked,category:h.MetaMetricsEventCategory.Navigation,properties:{location:"Home"===s?h.MetaMetricsSwapsEventSource.MainView:h.MetaMetricsSwapsEventSource.TokenView,chain_id_source:(0,c.formatChainIdToCaip)(S.chainId),token_symbol_source:r.symbol,token_address_source:r.address}}),n({event:l?h.MetaMetricsEventName.SwapLinkClicked:h.MetaMetricsEventName.BridgeLinkClicked,category:h.MetaMetricsEventCategory.Navigation,properties:{token_symbol:r.symbol,location:s,text:l?"Swap":"Bridge",chain_id:S.chainId}}),t((0,u.trackUnifiedSwapBridgeEvent)(c.UnifiedSwapBridgeEventName.ButtonClicked,{location:"Home"===s?h.MetaMetricsSwapsEventSource.MainView:h.MetaMetricsSwapsEventSource.TokenView,token_symbol_source:r.symbol,token_symbol_destination:null}));let i=`${m.CROSS_CHAIN_SWAP_ROUTE}${m.PREPARE_SWAP_ROUTE}`;i+=`?token=${(0,o.isStrictHexString)(r.address)?(0,a.toChecksumAddress)(r.address):r.address}`,l&&(i+="&swaps=true"),e.push(i)}else{const e=(0,p.getPortfolioUrl)("bridge","ext_bridge_button",k,v,b);global.platform.openTab({url:`${e}${i??`&token=${r.address}`}`}),n({category:h.MetaMetricsEventCategory.Navigation,event:h.MetaMetricsEventName.BridgeLinkClicked,properties:{location:s,text:"Bridge",url:e,chain_id:S.chainId,token_symbol:r.symbol}})}}),[_,I,e,k,n,T,v,b,S])}}}}},{package:"$root$",file:"ui/hooks/bridge/useBridging.ts"}],[700,{"./RegistryItem":708,"./RegistryType":709,"./lib":719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoECKey=void 0;const s=e("./lib"),r=e("./RegistryItem"),i=e("./RegistryType");var a;!function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"}(a||(a={}));class o extends r.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const e={};return this.curve&&(e[a.curve]=this.curve),this.privateKey!==undefined&&(e[a.private]=this.privateKey),e[a.data]=this.data,new s.DataItem(e)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||undefined}}n.CryptoECKey=o,o.fromDataItem=e=>{const t=e.getData(),n=t[a.curve],s=t[a.private],r=t[a.data];if(!r)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new o({data:r,curve:n,privateKey:s})},o.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return o.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoECKey.js"}],[7e3,{"../../ducks/bridge/selectors":6912,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCountdownTimer=void 0;var s=e("react"),r=e("react-redux"),i=e("../../ducks/bridge/selectors");const a=1e3;n.useCountdownTimer=()=>{const{quotesLastFetchedMs:e}=(0,r.useSelector)(i.getBridgeQuotes),t=(0,r.useSelector)(i.getQuoteRefreshRate),[n,o]=(0,s.useState)(t);return(0,s.useEffect)((()=>{e&&o(t-(Date.now()-e)+a)}),[e]),(0,s.useEffect)((()=>{const e=setInterval((()=>{o(Math.max(0,n-a))}),a);return()=>clearInterval(e)}),[n]),n}}}},{package:"$root$",file:"ui/hooks/bridge/useCountdownTimer.ts"}],[7001,{"../../../shared/constants/metametrics":5836,"../../contexts/metametrics":6898,"./events/types":6990,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCrossChainSwapsEventTracker=void 0;var s=e("react"),r=e("../../contexts/metametrics"),i=e("../../../shared/constants/metametrics"),a=e("./events/types");n.useCrossChainSwapsEventTracker=()=>{const e=(0,s.useContext)(r.MetaMetricsContext);return(0,s.useCallback)((({event:t,category:n,properties:s})=>{e({category:n??i.MetaMetricsEventCategory.CrossChainSwaps,event:t,properties:{action_type:a.ActionType.CROSSCHAIN_V1,...s},value:"value"in s?s.value:undefined})}),[e])}}}},{package:"$root$",file:"ui/hooks/bridge/useCrossChainSwapsEventTracker.ts"}],[7002,{"../../ducks/bridge/selectors":6912,"../../pages/bridge/hooks/useIsMultichainSwap":7111,"../../selectors/multichain":7715,"../useMultichainSelector":7058,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsTxSubmittable=void 0;var s=e("react-redux"),r=e("../../ducks/bridge/selectors"),i=e("../../selectors/multichain"),a=e("../useMultichainSelector"),o=e("../../pages/bridge/hooks/useIsMultichainSwap");n.useIsTxSubmittable=(e,t)=>{const n=(0,s.useSelector)(r.getFromToken),c=(0,s.useSelector)(r.getToToken),u=(0,a.useMultichainSelector)(i.getMultichainCurrentChainId),l=(0,s.useSelector)(r.getToChain),d=(0,s.useSelector)(r.getFromAmount),{activeQuote:h}=(0,s.useSelector)(r.getBridgeQuotes),m=(0,o.useIsMultichainSwap)(),{isInsufficientBalance:p,isInsufficientGasBalance:g,isInsufficientGasForQuote:f}=(0,s.useSelector)(r.getValidationErrors);return Boolean(n&&c&&u&&(m||l)&&d&&h&&!p(t)&&!g(e)&&!f(e))}}}},{package:"$root$",file:"ui/hooks/bridge/useIsTxSubmittable.ts"}],[7003,{"../../../shared/constants/multichain/assets":5837,"../../../shared/lib/trace":5895,"../../../shared/lib/transactions-controller-utils":5897,"../../../shared/modules/Numeric":5901,"../../selectors":7711,"../../selectors/multichain":7715,"../useAsync":7033,"../useMultichainSelector":7058,"@metamask/bridge-controller":1409,react:5284,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("@metamask/bridge-controller"),i=e("react-router-dom"),a=e("../../selectors"),o=e("../useAsync"),c=e("../../../shared/modules/Numeric"),u=e("../../../shared/lib/transactions-controller-utils"),l=e("../useMultichainSelector"),d=e("../../selectors/multichain"),h=e("../../../shared/constants/multichain/assets"),m=e("../../../shared/lib/trace");n.default=e=>{const{search:t}=(0,i.useLocation)(),n=(0,s.useMemo)((()=>new URLSearchParams(t)),[t]),p=(0,s.useMemo)((()=>n.get("token")),[n]),{address:g,id:f}=(0,l.useMultichainSelector)(a.getSelectedInternalAccount),y=(0,l.useMultichainSelector)(d.getMultichainCurrentChainId),T=(0,l.useMultichainSelector)(d.getMultichainBalances),k=(0,s.useMemo)((()=>null==T?void 0:T[f]),[T,f]),v=(0,s.useCallback)((()=>(null==e?void 0:e.chainId)&&!p),[p,e]),b=(0,o.useAsyncResult)((async()=>{if(!v()||!e)return undefined;const{chainId:t}=e;if((0,r.isSolanaChainId)(t))return undefined;const n=(0,r.formatChainIdToCaip)(y);if(e.address&&n===(0,r.formatChainIdToCaip)(t)){var s;(0,m.trace)({name:m.TraceName.BridgeBalancesUpdated,data:{srcChainId:n,isNative:(0,r.isNativeAddress)(null==e?void 0:e.address)},startTime:Date.now()});const i=null===(s=await(0,r.calcLatestSrcBalance)(global.ethereumProvider,g,e.address,(0,r.formatChainIdToHex)(t)))||void 0===s?void 0:s.toString();return(0,m.endTrace)({name:m.TraceName.BridgeBalancesUpdated}),i}return undefined}),[y,e,g,v]),S=(0,s.useMemo)((()=>{if(!v()||!e)return undefined;const{chainId:t,decimals:n,address:s}=e;if((0,r.isSolanaChainId)(t)&&n){var i;const t=(0,r.isNativeAddress)(s)?h.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19.SOL:e.assetId??e.address;return c.Numeric.from((null==k||null===(i=k[t])||void 0===i?void 0:i.amount)??(null==e?void 0:e.string),10).shiftedBy(-1*e.decimals).toString()}return undefined}),[v,e,k]);if(e&&"number"!=typeof e.decimals)throw new Error(`Failed to calculate latest balance - ${e.symbol} token is missing "decimals" value`);const _=(0,s.useMemo)((()=>null!=e&&e.chainId&&(0,r.isSolanaChainId)(e.chainId)?S:null==b?void 0:b.value),[S,null==b?void 0:b.value,null==e?void 0:e.chainId]);return(0,s.useMemo)((()=>_?(0,u.calcTokenAmount)(_,null==e?void 0:e.decimals):undefined),[_,null==e?void 0:e.decimals])}}}},{package:"$root$",file:"ui/hooks/bridge/useLatestBalance.ts"}],[7004,{"../../../shared/constants/metametrics":5836,"../../ducks/bridge/selectors":6912,"./events/useConvertedUsdAmounts":6991,"./events/useQuoteProperties":6992,"./events/useRequestMetadataProperties":6993,"./events/useRequestProperties":6994,"./events/useTradeProperties":6995,"./useCrossChainSwapsEventTracker":7001,"./useLatestBalance":7003,"@metamask/bridge-controller":1409,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useQuoteFetchEvents=void 0;var s,r=e("react"),i=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../../shared/constants/metametrics"),c=e("../../ducks/bridge/selectors"),u=e("./useCrossChainSwapsEventTracker"),l=(s=e("./useLatestBalance"))&&s.__esModule?s:{default:s},d=e("./events/useRequestMetadataProperties"),h=e("./events/useRequestProperties"),m=e("./events/useTradeProperties"),p=e("./events/useConvertedUsdAmounts"),g=e("./events/useQuoteProperties");n.useQuoteFetchEvents=()=>{const e=(0,u.useCrossChainSwapsEventTracker)(),{isLoading:t,quotesRefreshCount:n,quoteFetchError:s,quotesInitialLoadTimeMs:f}=(0,i.useSelector)(c.getBridgeQuotes),{insufficientBal:y,srcTokenAddress:T}=(0,i.useSelector)(c.getQuoteRequest),k=(0,i.useSelector)(c.getFromAmount),v=(0,i.useSelector)(c.getValidationErrors),{quoteRequestProperties:b}=(0,h.useRequestProperties)(),S=(0,d.useRequestMetadataProperties)(),{usd_amount_source:_}=(0,p.useConvertedUsdAmounts)(),I=!y,w=(0,g.useQuoteProperties)(),C=(0,m.useTradeProperties)(),E=(0,i.useSelector)(c.getFromToken),M=(0,i.useSelector)(c.getFromChain),A=(0,l.default)(E),N=(0,r.useMemo)((()=>null!=M&&M.chainId?(0,a.getNativeAssetForChainId)(M.chainId):null),[null==M?void 0:M.chainId]),P=(0,l.default)(N),O=(0,r.useMemo)((()=>{const{isEstimatedReturnLow:e,isNoQuotesAvailable:t,isInsufficientGasBalance:n,isInsufficientGasForQuote:s,isInsufficientBalance:r}=v,i=[];return e&&i.push("low_return"),t&&i.push("no_quotes"),n(P)&&i.push("insufficient_gas_balance"),s(P)&&i.push("insufficient_gas_for_selected_quote"),r(A)&&i.push("insufficient_balance"),i}),[v]);(0,r.useEffect)((()=>{const s=t&&0===n&&f===undefined;b&&k&&T&&s&&e({event:o.MetaMetricsEventName.CrossChainSwapsQuotesRequested,properties:{...b,...S,has_sufficient_funds:I,usd_amount_source:_}})}),[t,f]),(0,r.useEffect)((()=>{b&&k&&T&&s&&e({event:o.MetaMetricsEventName.CrossChainSwapsQuoteError,properties:{...b,...S,has_sufficient_funds:I,usd_amount_source:_,error_message:s}})}),[s]),(0,r.useEffect)((()=>{k&&T&&!t&&n>=0&&w.initial_load_time_all_quotes>0&&b&&!s&&C&&e({event:o.MetaMetricsEventName.CrossChainSwapsQuotesReceived,properties:{...b,...S,...w,...C,refresh_count:n-1,warnings:O}})}),[n])}}}},{package:"$root$",file:"ui/hooks/bridge/useQuoteFetchEvents.ts"}],[7005,{"../../../shared/constants/bridge":5825,"../../../shared/constants/multichain/networks":5838,"../../../shared/constants/network":5839,"../../../shared/modules/Numeric":5901,"../../ducks/bridge-status/selectors":6909,"../useMultichainTransactionDisplay":7059,"@metamask/bridge-controller":1409,"@metamask/keyring-api":2046,"@metamask/transaction-controller":2981,"@metamask/utils":3026,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){const t=(0,r.useSelector)(m.selectBridgeHistoryForAccount),n=(0,s.useMemo)((()=>{var t;const n=new Map;return null==e||null===(t=e.transactions)||void 0===t||t.forEach((e=>{n.set(e.id,e)})),n}),[e]),g=e=>{var t;if(e===undefined||null===e)return"";const n=e.toString();let s=null===(t=d.MULTICHAIN_PROVIDER_CONFIGS[n])||void 0===t?void 0:t.nickname;if(!s&&!isNaN(Number(e)))try{const t=new u.Numeric(e,10).toPrefixedHexString();s=h.NETWORK_TO_SHORT_NETWORK_NAME_MAP[t]??l.NETWORK_TO_NAME_MAP[t]}catch(e){console.error("Error converting chain ID",e)}return s||n},f={};t&&Object.values(t).forEach((e=>{var t;const n=null===(t=e.status)||void 0===t||null===(t=t.srcChain)||void 0===t?void 0:t.txHash;n&&(f[n]=e)}));let y=e?{...e,transactions:(e.transactions||[]).map((e=>({...e,isBridgeOriginated:!1})))}:{transactions:[],next:null,lastUpdated:Date.now()};const T=[];t&&Object.entries(t).forEach((([e,t])=>{if(t.startTime&&Date.now()-t.startTime<864e5){var s;const e=null===(s=t.status)||void 0===s||null===(s=s.srcChain)||void 0===s?void 0:s.txHash;if(!n.has(e??"")&&e){var r,i,a,u,l,h,m;const n=(("COMPLETE"===(null===(r=t.status)||void 0===r?void 0:r.status)?t.completionTime??t.startTime:t.startTime)??Date.now())/1e3,s=null===(i=t.quote)||void 0===i?void 0:i.srcChainId,p=(0,o.isCaipChainId)(s)?s:d.MultichainNetworks.SOLANA,g=(0,c.getNativeAssetForChainId)(p)??"eip155:1/slip44:60",f={id:e,account:t.account,timestamp:n,type:"send",to:[],from:[{address:t.account,asset:{type:g,amount:(Number((null===(a=t.quote)||void 0===a?void 0:a.srcTokenAmount)??0)/10**((null===(u=t.quote)||void 0===u||null===(u=u.srcAsset)||void 0===u?void 0:u.decimals)??9)).toString(),unit:(null===(l=t.quote)||void 0===l||null===(l=l.srcAsset)||void 0===l?void 0:l.symbol)??"",fungible:!0}}],isBridgeOriginated:!0,bridgeStatus:(null===(h=t.status)||void 0===h?void 0:h.status)??"PENDING",network:(null===(m=t.quote)||void 0===m||null===(m=m.srcChainId)||void 0===m?void 0:m.toString())??"",isBridgeTx:!0,bridgeInfo:undefined,isSourceTxConfirmed:!1};T.push(f)}}}));T.length>0&&(y={...y,transactions:[...y.transactions,...T]});if(!y.transactions.length)return e===undefined&&0===T.length?undefined:y;const k=y.transactions.map((e=>{const t=e.id,s=n.get(t),r=(null==s?void 0:s.status)??i.TransactionStatus.Submitted,o=p.KEYRING_TRANSACTION_STATUS_KEY[r]===a.TransactionStatus.confirmed;if("swap"===e.type&&!e.isBridgeOriginated)return e;const c=t?f[t]:null;if(c){var u,l,d,h,m,y,T,k,v,b;const t=null===(u=c.quote)||void 0===u?void 0:u.srcChainId,n=null===(l=c.quote)||void 0===l?void 0:l.destChainId,s=t!==undefined&&n!==undefined&&t!==n;if(!s)return e;const r={destChainId:n,destChainName:g(n),destAsset:{...(null===(d=c.quote)||void 0===d?void 0:d.destAsset)??{},decimals:(null===(h=c.quote)||void 0===h||null===(h=h.destAsset)||void 0===h?void 0:h.decimals)??18},destTokenAmount:null===(m=c.quote)||void 0===m?void 0:m.destTokenAmount,status:(null===(y=c.status)||void 0===y?void 0:y.status)??"PENDING",destTxHash:null===(T=c.status)||void 0===T||null===(T=T.destChain)||void 0===T?void 0:T.txHash,srcTxHash:null===(k=c.status)||void 0===k||null===(k=k.srcChain)||void 0===k?void 0:k.txHash,provider:null===(v=c.quote)||void 0===v?void 0:v.provider,destBlockExplorerUrl:null===(b=c.quote)||void 0===b||null===(b=b.destChain)||void 0===b?void 0:b.blockExplorerUrl};return e.isBridgeOriginated?{id:e.id,account:e.account,timestamp:e.timestamp,type:e.type,from:e.from,to:e.to,isBridgeOriginated:!0,bridgeStatus:e.bridgeStatus,network:e.network,isBridgeTx:s,bridgeInfo:r,isSourceTxConfirmed:o}:{...e,isBridgeTx:s,bridgeInfo:r,isBridgeOriginated:!1,isSourceTxConfirmed:o}}return e.isBridgeOriginated?{id:e.id,account:e.account,timestamp:e.timestamp,type:e.type,from:e.from,to:e.to,isBridgeOriginated:!0,bridgeStatus:e.bridgeStatus,network:e.network,isBridgeTx:!1,bridgeInfo:undefined,isSourceTxConfirmed:o}:e}));return{...y,transactions:k}};var s=e("react"),r=e("react-redux"),i=e("@metamask/keyring-api"),a=e("@metamask/transaction-controller"),o=e("@metamask/utils"),c=e("@metamask/bridge-controller"),u=e("../../../shared/modules/Numeric"),l=e("../../../shared/constants/network"),d=e("../../../shared/constants/multichain/networks"),h=e("../../../shared/constants/bridge"),m=e("../../ducks/bridge-status/selectors"),p=e("../useMultichainTransactionDisplay")}}},{package:"$root$",file:"ui/hooks/bridge/useSolanaBridgeTransactionMapping.ts"}],[7006,{"../../../shared/modules/bridge-utils/security-alerts-api.util":5902,"../../ducks/bridge/selectors":6912,"../useAsync":7033,"@metamask/bridge-controller":1409,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenAlerts=n.default=void 0;var s=e("react-redux"),r=e("@metamask/bridge-controller"),i=e("../../ducks/bridge/selectors"),a=e("../../../shared/modules/bridge-utils/security-alerts-api.util"),o=e("../useAsync");const c=()=>{const e=(0,s.useSelector)(i.getFromToken),t=(0,s.useSelector)(i.getFromChain),n=(0,s.useSelector)(i.getToToken),c=(0,s.useSelector)(i.getToChain),{value:u}=(0,o.useAsyncResult)((async()=>{if(e&&t&&n&&c&&!(0,r.isNativeAddress)(n.address)){const e=(0,a.convertChainIdToBlockAidChainName)(null==c?void 0:c.chainId);if(e)return await(0,a.fetchTokenAlert)(e,(0,r.formatAddressToCaipReference)(n.address))}return null}),[n,c]);return{tokenAlert:u}};n.useTokenAlerts=c;n.default=c}}},{package:"$root$",file:"ui/hooks/bridge/useTokenAlerts.ts"}],[7007,{"../../../shared/constants/bridge":5825,"../../../shared/constants/multichain/networks":5838,"../../../shared/constants/network":5839,"../../../shared/constants/time":5852,"../../../shared/constants/transaction":5854,"../../../shared/lib/asset-utils":5863,"../../../shared/lib/fetch-with-cache":5881,"../../ducks/bridge/selectors":6912,"../../pages/swaps/swaps.util":7692,"../useAsync":7033,"../useMultichainBalances":7057,"@metamask/bridge-controller":1409,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokensWithFiltering=void 0;var s,r=e("react"),i=e("react-redux"),a=e("@metamask/bridge-controller"),o=e("../../../shared/constants/transaction"),c=e("../../../shared/constants/network"),u=e("../useMultichainBalances"),l=e("../useAsync"),d=e("../../pages/swaps/swaps.util"),h=e("../../../shared/constants/time"),m=e("../../ducks/bridge/selectors"),p=(s=e("../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},g=e("../../../shared/constants/bridge"),f=e("../../../shared/lib/asset-utils"),y=e("../../../shared/constants/multichain/networks");const T=(e,t)=>{if(!e||!t)return undefined;const n={...t,chainId:(0,a.isSolanaChainId)(e)?(0,a.formatChainIdToCaip)(e):(0,a.formatChainIdToHex)(e),assetId:"assetId"in t?t.assetId:(0,f.toAssetId)(t.address,(0,a.formatChainIdToCaip)(e))};return(0,a.isNativeAddress)(t.address)?{...n,type:o.AssetType.native,address:"",image:c.CHAIN_ID_TOKEN_IMAGE_MAP[n.chainId]??(t.iconUrl||("icon"in t?t.icon:"")||""),balance:"0",string:"0"}:{...n,type:o.AssetType.token,image:t.iconUrl??("icon"in t?t.icon:"")??"",balance:"",string:undefined}};n.useTokensWithFiltering=(e,t,n)=>{const s=(0,i.useSelector)((t=>(0,m.getTopAssetsFromFeatureFlags)(t,e))),{assetsWithBalance:k}=(0,u.useMultichainBalances)(n),v=(0,i.useSelector)((e=>e.metamask.tokensChainsCache)),b=(0,r.useMemo)((()=>{var t;if(!e)return undefined;if((0,a.isSolanaChainId)(e))return undefined;const n=(0,a.formatChainIdToHex)(e);return n?null===(t=v[n])||void 0===t?void 0:t.data:undefined}),[e,v]),S=Boolean(b),{value:_,pending:I}=(0,l.useAsyncResult)((async()=>S||!e?{}:await(0,a.fetchBridgeTokens)(e,a.BridgeClientId.EXTENSION,(async(e,t)=>{const{headers:n,...s}=t??{};return await(0,p.default)({url:e,...s,fetchOptions:{method:"GET",headers:n},cacheOptions:{cacheRefreshTime:10*h.MINUTE},functionName:"fetchBridgeTokens"})}),g.BRIDGE_API_BASE_URL)),[e,S]),w=(0,r.useMemo)((()=>b??_),[b,_]),{value:C,pending:E}=(0,l.useAsyncResult)((async()=>e?s?s.map((e=>({address:e}))):await(0,d.fetchTopAssetsList)(e):[]),[e,s]);return{filteredTokenListGenerator:(0,r.useCallback)((n=>function*(){const s=(e,s,r)=>n(e,s,r)&&(!t||!r||!(t.symbol===e&&t.address===s&&t.chainId===(0,a.formatChainIdToCaip)(r)));if(e&&C&&w&&0!==Object.keys(w).length){for(const e of k){var r,i,u;if(s(e.symbol,e.address??undefined,e.chainId))if((0,a.isNativeAddress)(e.address)||e.isNative)yield{symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:"",type:o.AssetType.native,balance:e.balance??"0",string:e.string??undefined,image:c.CHAIN_ID_TOKEN_IMAGE_MAP[e.chainId]??y.MULTICHAIN_TOKEN_IMAGE_MAP[e.chainId]??((null===(r=(0,a.getNativeAssetForChainId)(e.chainId))||void 0===r?void 0:r.icon)||(null===(i=(0,a.getNativeAssetForChainId)(e.chainId))||void 0===i?void 0:i.iconUrl)||(0,f.getAssetImageUrl)(e.address,(0,a.formatChainIdToCaip)(e.chainId)))};else yield{...e,symbol:e.symbol,chainId:e.chainId,tokenFiatAmount:e.tokenFiatAmount,decimals:e.decimals,address:e.address,type:o.AssetType.token,balance:e.balance??"",string:e.string??undefined,image:(e.image||(null==w||null===(u=w[e.address.toLowerCase()])||void 0===u?void 0:u.iconUrl))??(0,f.getAssetImageUrl)(e.address,(0,a.formatChainIdToCaip)(e.chainId))??""}}for(const t of C){const n=null==w?void 0:w[t.address],r=T(e,n);r&&s(r.symbol,r.address??undefined,e)&&(yield r)}for(const t of Object.values(w)){const n=T(e,t);n&&-1===n.symbol.indexOf("$")&&s(n.symbol,n.address??undefined,e)&&(yield n)}}}()),[k,C,e,w,t]),isLoading:I||E}}}}},{package:"$root$",file:"ui/hooks/bridge/useTokensWithFiltering.ts"}],[7008,{"./useAccountSyncing":7009},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAccountSyncing",{enumerable:!0,get:function(){return s.useAccountSyncing}}),Object.defineProperty(n,"useDeleteAccountSyncingDataFromUserStorage",{enumerable:!0,get:function(){return s.useDeleteAccountSyncingDataFromUserStorage}}),Object.defineProperty(n,"useShouldDispatchAccountSyncing",{enumerable:!0,get:function(){return s.useShouldDispatchAccountSyncing}});var s=e("./useAccountSyncing")}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/index.ts"}],[7009,{"../../../ducks/metamask/metamask":6922,"../../../selectors":7711,"../../../selectors/identity/authentication":7709,"../../../selectors/identity/backup-and-sync":7710,"../../../store/actions":7729,loglevel:4942,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldDispatchAccountSyncing=n.useDeleteAccountSyncingDataFromUserStorage=n.useAccountSyncing=void 0;var s,r=(s=e("loglevel"))&&s.__esModule?s:{default:s},i=e("react"),a=e("react-redux"),o=e("../../../store/actions"),c=e("../../../selectors/identity/backup-and-sync"),u=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),d=e("../../../selectors/identity/authentication");const h=()=>{const e=(0,a.useSelector)(c.selectIsAccountSyncingReadyToBeDispatched),t=(0,a.useSelector)(c.selectIsBackupAndSyncEnabled),n=(0,a.useSelector)(c.selectIsAccountSyncingEnabled),s=(0,a.useSelector)(u.getUseExternalServices),r=(0,a.useSelector)(l.getIsUnlocked),i=(0,a.useSelector)(d.selectIsSignedIn),o=(0,a.useSelector)(l.getCompletedOnboarding);return Boolean(s&&t&&n&&r&&i&&o&&e)};n.useShouldDispatchAccountSyncing=h;n.useAccountSyncing=()=>{const e=(0,a.useDispatch)(),t=h(),n=(0,i.useCallback)((()=>{try{if(!t)return;e((0,o.syncInternalAccountsWithUserStorage)())}catch(e){r.default.error(e)}}),[e,t]);return{dispatchAccountSyncing:n,shouldDispatchAccountSyncing:t}};n.useDeleteAccountSyncingDataFromUserStorage=()=>{const e=(0,a.useDispatch)();return{dispatchDeleteAccountSyncingData:(0,i.useCallback)((async()=>{try{await e((0,o.deleteAccountSyncingDataFromUserStorage)())}catch{}}),[e])}}}}},{package:"$root$",file:"ui/hooks/identity/useAccountSyncing/useAccountSyncing.ts"}],[701,{"./CryptoCoinInfo":699,"./CryptoKeypath":702,"./RegistryItem":708,"./RegistryType":709,"./lib":719,bs58check:4142,buffer:4138},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoHDKey=void 0;const s=e("bs58check"),r=e("./CryptoCoinInfo"),i=e("./CryptoKeypath"),a=e("./lib"),o=e("./RegistryItem"),c=e("./RegistryType");var u;!function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"}(u||(u={}));class l extends o.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var e,n,r;let i,a,o=0,c=t.alloc(4).fill(0);if(this.isMaster())i=t.from("0488ADE4","hex"),a=0,o=0;else{a=(null===(e=this.getOrigin())||void 0===e?void 0:e.getComponents().length)||(null===(n=this.getOrigin())||void 0===n?void 0:n.getDepth());const s=null===(r=this.getOrigin())||void 0===r?void 0:r.getComponents(),u=s[s.length-1];u&&(o=u.isHardened()?u.getIndex()+2147483648:u.getIndex(),this.getParentFingerprint()&&(c=this.getParentFingerprint())),i=this.isPrivateKey()?t.from("0488ADE4","hex"):t.from("0488B21E","hex")}const u=t.alloc(1);u.writeUInt8(a,0);const l=t.alloc(4);l.writeUInt32BE(o,0);const d=this.getChainCode(),h=this.getKey();return(0,s.encode)(t.concat([i,u,c,l,d,h]))},this.getRegistryType=()=>c.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var e,t,n,s,r,i,a;let o="";return this.getOrigin()&&(null===(e=this.getOrigin())||void 0===e?void 0:e.getSourceFingerprint())&&(null===(t=this.getOrigin())||void 0===t?void 0:t.getPath())&&(o+=`${null===(s=null===(n=this.getOrigin())||void 0===n?void 0:n.getSourceFingerprint())||void 0===s?void 0:s.toString("hex")}/${null===(r=this.getOrigin())||void 0===r?void 0:r.getPath()}`),o+=this.getBip32Key(),this.getChildren()&&(null===(i=this.getChildren())||void 0===i?void 0:i.getPath())&&(o+=`/${null===(a=this.getChildren())||void 0===a?void 0:a.getPath()}`),o},this.setupMasterKey=e=>{this.master=!0,this.key=e.key,this.chainCode=e.chainCode},this.setupDeriveKey=e=>{this.master=!1,this.privateKey=e.isPrivateKey,this.key=e.key,this.chainCode=e.chainCode,this.useInfo=e.useInfo,this.origin=e.origin,this.children=e.children,this.parentFingerprint=e.parentFingerprint,this.name=e.name,this.note=e.note},this.toDataItem=()=>{const e={};if(this.master)e[u.is_master]=!0,e[u.key_data]=this.key,e[u.chain_code]=this.chainCode;else{if(this.privateKey!==undefined&&(e[u.is_private]=this.privateKey),e[u.key_data]=this.key,this.chainCode&&(e[u.chain_code]=this.chainCode),this.useInfo){const t=this.useInfo.toDataItem();t.setTag(this.useInfo.getRegistryType().getTag()),e[u.use_info]=t}if(this.origin){const t=this.origin.toDataItem();t.setTag(this.origin.getRegistryType().getTag()),e[u.origin]=t}if(this.children){const t=this.children.toDataItem();t.setTag(this.children.getRegistryType().getTag()),e[u.children]=t}this.parentFingerprint&&(e[u.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==undefined&&(e[u.name]=this.name),this.note!==undefined&&(e[u.note]=this.note)}return new a.DataItem(e)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}}n.CryptoHDKey=l,l.fromDataItem=e=>{const n=e.getData(),s=!!n[u.is_master],a=n[u.is_private],o=n[u.key_data],c=n[u.chain_code],d=n[u.use_info]?r.CryptoCoinInfo.fromDataItem(n[u.use_info]):undefined,h=n[u.origin]?i.CryptoKeypath.fromDataItem(n[u.origin]):undefined,m=n[u.children]?i.CryptoKeypath.fromDataItem(n[u.children]):undefined,p=n[u.parent_fingerprint];let g=undefined;p&&(g=t.alloc(4),g.writeUInt32BE(p,0));const f=n[u.name],y=n[u.note];return new l({isMaster:s,isPrivateKey:a,key:o,chainCode:c,useInfo:d,origin:h,children:m,parentFingerprint:g,name:f,note:y})},l.fromCBOR=e=>{const t=(0,a.decodeToDataItem)(e);return l.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoHDKey.js"}],[7010,{"./useAutoSignIn":7011,"./useAutoSignOut":7012,"./useSignIn":7013,"./useSignOut":7014},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useAutoSignIn",{enumerable:!0,get:function(){return i.useAutoSignIn}}),Object.defineProperty(n,"useAutoSignOut",{enumerable:!0,get:function(){return a.useAutoSignOut}}),Object.defineProperty(n,"useSignIn",{enumerable:!0,get:function(){return s.useSignIn}}),Object.defineProperty(n,"useSignOut",{enumerable:!0,get:function(){return r.useSignOut}});var s=e("./useSignIn"),r=e("./useSignOut"),i=e("./useAutoSignIn"),a=e("./useAutoSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/index.ts"}],[7011,{"../../../ducks/metamask/metamask":6922,"../../../selectors":7711,"../../../selectors/identity/authentication":7709,"../../../selectors/identity/backup-and-sync":7710,"../../../selectors/metamask-notifications/metamask-notifications":7712,"./useSignIn":7013,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignIn=function(){const{signIn:e}=(0,l.useSignIn)(),t=Boolean((0,r.useSelector)(i.getIsUnlocked)),n=Boolean((0,r.useSelector)(a.getUseExternalServices)),d=Boolean((0,r.useSelector)(i.getCompletedOnboarding)),h=(0,r.useSelector)(o.selectIsSignedIn),m=(0,s.useMemo)((()=>!h&&t&&n&&d),[h,t,n,d]),p=(0,r.useSelector)(c.selectIsBackupAndSyncEnabled),g=(0,r.useSelector)(a.getParticipateInMetaMetrics),f=(0,r.useSelector)(u.selectIsMetamaskNotificationsEnabled),y=(0,s.useMemo)((()=>p||g||f),[p,g,f]),T=(0,s.useMemo)((()=>m&&y),[m,y]);return{autoSignIn:(0,s.useCallback)((async()=>{T&&await e()}),[T,e]),shouldAutoSignIn:T}};var s=e("react"),r=e("react-redux"),i=e("../../../ducks/metamask/metamask"),a=e("../../../selectors"),o=e("../../../selectors/identity/authentication"),c=e("../../../selectors/identity/backup-and-sync"),u=e("../../../selectors/metamask-notifications/metamask-notifications"),l=e("./useSignIn")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignIn.ts"}],[7012,{"../../../ducks/metamask/metamask":6922,"../../../selectors":7711,"../../../selectors/identity/authentication":7709,"./useSignOut":7014,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAutoSignOut=function(){const{signOut:e}=(0,c.useSignOut)(),t=Boolean((0,r.useSelector)(i.getIsUnlocked)),n=Boolean((0,r.useSelector)(a.getUseExternalServices)),u=(0,r.useSelector)(o.selectIsSignedIn),l=(0,s.useMemo)((()=>u&&t&&!n),[u,t,n]),d=(0,s.useMemo)((()=>l),[l]);return{autoSignOut:(0,s.useCallback)((async()=>{d&&await e()}),[d,e]),shouldAutoSignOut:d}};var s=e("react"),r=e("react-redux"),i=e("../../../ducks/metamask/metamask"),a=e("../../../selectors"),o=e("../../../selectors/identity/authentication"),c=e("./useSignOut")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useAutoSignOut.ts"}],[7013,{"../../../selectors/identity/authentication":7709,"../../../store/actions":7729,loglevel:4942,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignIn=function(){const e=(0,i.useDispatch)(),t=(0,i.useSelector)(o.selectIsSignedIn),n=(0,r.useMemo)((()=>!t),[t]);return{signIn:(0,r.useCallback)((async()=>{if(n)try{await e((0,c.performSignIn)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");a.default.error(t)}}),[e,n])}};var s,r=e("react"),i=e("react-redux"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignIn.ts"}],[7014,{"../../../selectors/identity/authentication":7709,"../../../store/actions":7729,loglevel:4942,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSignOut=function(){const e=(0,i.useDispatch)(),t=(0,i.useSelector)(o.selectIsSignedIn),n=(0,r.useMemo)((()=>Boolean(t)),[t]);return{signOut:(0,r.useCallback)((async()=>{if(n)try{await e((0,c.performSignOut)())}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");a.default.error(t)}}),[e,n])}};var s,r=e("react"),i=e("react-redux"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../../selectors/identity/authentication"),c=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useAuthentication/useSignOut.ts"}],[7015,{"./useBackupAndSync":7016},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useBackupAndSync",{enumerable:!0,get:function(){return s.useBackupAndSync}});var s=e("./useBackupAndSync")}}},{package:"$root$",file:"ui/hooks/identity/useBackupAndSync/index.ts"}],[7016,{"../../../store/actions":7729,loglevel:4942,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBackupAndSync=function(){const e=(0,i.useDispatch)(),[t,n]=(0,r.useState)(null),s=(0,r.useCallback)((async(t,s)=>{n(null);try{await e((0,o.setIsBackupAndSyncFeatureEnabled)(t,s))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");a.default.error(t),n(t)}finally{e((0,o.hideLoadingIndication)())}}),[e]);return{error:t,setIsBackupAndSyncFeatureEnabled:s}};var s,r=e("react"),i=e("react-redux"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../../store/actions")}}},{package:"$root$",file:"ui/hooks/identity/useBackupAndSync/useBackupAndSync.ts"}],[7017,{"../../selectors/metamask-notifications/metamask-notifications":7712,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useReadNotificationsCounter=function(){const{readSnapNotificationsCount:e}=i(),{featureAnnouncementsReadCount:t}=a(),{onChainMetamaskNotificationsReadCount:n}=o();return{notificationsReadCount:e+t+n}},n.useUnreadNotificationsCounter=function(){const{unreadSnapNotificationsCount:e}=i(),{featureAnnouncementsUnreadCount:t}=a(),{onChainMetamaskNotificationsUnreadCount:n}=o();return{notificationsUnreadCount:e+t+n}};var s=e("react-redux"),r=e("../../selectors/metamask-notifications/metamask-notifications");const i=()=>({unreadSnapNotificationsCount:(0,s.useSelector)(r.getSnapNotificationsUnreadCount),readSnapNotificationsCount:(0,s.useSelector)(r.getSnapNotificationsReadCount)}),a=()=>{const e=(0,s.useSelector)(r.selectIsFeatureAnnouncementsEnabled),t=(0,s.useSelector)(r.getFeatureAnnouncementsUnreadCount),n=(0,s.useSelector)(r.getFeatureAnnouncementsReadCount);return e?{featureAnnouncementsUnreadCount:t,featureAnnouncementsReadCount:n}:{featureAnnouncementsUnreadCount:0,featureAnnouncementsReadCount:0}},o=()=>{const e=(0,s.useSelector)(r.selectIsMetamaskNotificationsEnabled),t=(0,s.useSelector)(r.getOnChainMetamaskNotificationsUnreadCount),n=(0,s.useSelector)(r.getOnChainMetamaskNotificationsReadCount);return e?{onChainMetamaskNotificationsUnreadCount:t,onChainMetamaskNotificationsReadCount:n}:{onChainMetamaskNotificationsUnreadCount:0,onChainMetamaskNotificationsReadCount:0}}}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useCounter.tsx"}],[7018,{"../../store/actions":7729,loglevel:4942,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCreateNotifications=function(){const e=(0,i.useDispatch)(),[t,n]=(0,r.useState)(null);return{createNotifications:(0,r.useCallback)((async()=>{n(null);try{await e((0,o.createOnChainTriggers)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),a.default.error(e),e}}),[e]),error:t}},n.useDisableNotifications=function(){const e=(0,i.useDispatch)(),[t,n]=(0,r.useState)(null);return{disableNotifications:(0,r.useCallback)((async()=>{n(null);try{await e((0,o.disableMetamaskNotifications)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),a.default.error(e),e}}),[e]),error:t}},n.useEnableNotifications=function(){const e=(0,i.useDispatch)(),[t,n]=(0,r.useState)(null);return{enableNotifications:(0,r.useCallback)((async()=>{n(null);try{await e((0,o.enableMetamaskNotifications)())}catch(e){throw n(e instanceof Error?e.message:"An unexpected error occurred"),a.default.error(e),e}}),[e]),error:t}},n.useListNotifications=function(){const e=(0,i.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,c]=(0,r.useState)(null),[u,l]=(0,r.useState)(undefined);return{listNotifications:(0,r.useCallback)((async()=>{n(!0),c(null);const t=new URLSearchParams(window.location.search).get("previewToken");try{const n=await e((0,o.fetchAndUpdateMetamaskNotifications)(t??undefined));return l(n),n}catch(e){throw a.default.error(e),c(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1)}}),[e]),notificationsData:u,isLoading:t,error:s}},n.useMarkNotificationAsRead=function(){const e=(0,i.useDispatch)();return{markNotificationAsRead:(0,r.useCallback)((async t=>{try{e((0,o.markMetamaskNotificationsAsRead)(t))}catch(e){throw a.default.error(e),e}}),[e])}};var s,r=e("react"),i=e("react-redux"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useNotifications.ts"}],[7019,{"../../selectors/metamask-notifications/metamask-notifications":7712,"../../store/actions":7729,loglevel:4942,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountSettingsProps=function(e){const t=(0,i.useSelector)(c.getIsUpdatingMetamaskNotificationsAccount),n=(0,i.useSelector)(c.selectIsMetamaskNotificationsEnabled),s=function(){const e=(0,i.useDispatch)(),t=(0,r.useCallback)((async t=>{try{return await e((0,o.checkAccountsPresence)(t))}catch{return{}}}),[]);return t}(),[a,u]=(0,r.useState)({}),[l,d]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),p=(0,r.useMemo)((()=>JSON.stringify(e)),[e]),g=(0,r.useCallback)((async e=>{try{d(!0),m(null);const t=await s(e);u(t)}catch{m("Failed to get account settings")}finally{d(!1)}}),[]);return(0,r.useEffect)((()=>{if(!n)return;const e=JSON.parse(p);g(e)}),[p,s,n]),{data:a,initialLoading:l,error:h,accountsBeingUpdated:t,update:g}},n.useSwitchAccountNotificationsChange=function(){const e=(0,i.useDispatch)(),[t,n]=(0,r.useState)(null);return{onChange:(0,r.useCallback)((async(t,s)=>{n(null);try{s?await e((0,o.updateOnChainTriggersByAccount)(t)):await e((0,o.deleteOnChainTriggersByAccount)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");a.default.error(t),n(t)}e((0,o.hideLoadingIndication)())}),[e]),error:t}},n.useSwitchFeatureAnnouncementsChange=function(){const e=(0,i.useDispatch)(),[t,n]=(0,r.useState)(null);return{onChange:(0,r.useCallback)((async t=>{n(null);try{await e((0,o.setFeatureAnnouncementsEnabled)(t))}catch(e){const t=e instanceof Error?e.message:JSON.stringify(e??"");n(t)}}),[e]),error:t}};var s,r=e("react"),i=e("react-redux"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../../store/actions"),c=e("../../selectors/metamask-notifications/metamask-notifications")}}},{package:"$root$",file:"ui/hooks/metamask-notifications/useSwitchNotifications.ts"}],[702,{"./PathComponent":707,"./RegistryItem":708,"./RegistryType":709,"./lib":719,buffer:4138},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoKeypath=void 0;const s=e("./lib"),r=e("./PathComponent"),i=e("./RegistryItem"),a=e("./RegistryType");var o;!function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"}(o||(o={}));class c extends i.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>a.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>{if(0===this.components.length)return undefined;return this.components.map((e=>`${e.isWildcard()?"*":e.getIndex()}${e.isHardened()?"'":""}`)).join("/")},this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const e={},t=[];return this.components&&this.components.forEach((e=>{e.isWildcard()?t.push([]):t.push(e.getIndex()),t.push(e.isHardened())})),e[o.components]=t,this.sourceFingerprint&&(e[o.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==undefined&&(e[o.depth]=this.depth),new s.DataItem(e)}}}n.CryptoKeypath=c,c.fromDataItem=e=>{const n=e.getData(),s=[],i=n[o.components];if(i)for(let e=0;e<i.length;e+=2){const t=i[e+1],n=i[e];"number"==typeof n?s.push(new r.PathComponent({index:n,hardened:t})):s.push(new r.PathComponent({hardened:t}))}const a=n[o.source_fingerprint];let u;a&&(u=t.alloc(4),u.writeUInt32BE(a,0));const l=n[o.depth];return new c(s,u,l)},c.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return c.fromDataItem(t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoKeypath.js"}],[7020,{"../../../shared/lib/snaps/snaps":5890,"../../selectors":7711,"../../selectors/accounts":7701,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHdKeyringsWithSnapAccounts=void 0;var s=e("react"),r=e("react-redux"),i=e("../../selectors/accounts"),a=e("../../selectors"),o=e("../../../shared/lib/snaps/snaps");n.useHdKeyringsWithSnapAccounts=()=>{const e=(0,r.useSelector)(a.getMetaMaskHdKeyrings),t=(0,r.useSelector)(i.getInternalAccounts);return(0,s.useMemo)((()=>e.map((e=>{const n=t.filter((t=>{var n;return t.metadata.snap&&(0,o.isSnapPreinstalled)(t.metadata.snap.id)&&(null===(n=t.options)||void 0===n?void 0:n.entropySource)===e.metadata.id})).map((e=>e.address));return{...e,accounts:[...e.accounts,...n]}}))),[e,t])}}}},{package:"$root$",file:"ui/hooks/multi-srp/useHdKeyringsWithSnapAccounts.ts"}],[7021,{"../../../../shared/modules/selectors/networks":5923,"../../../selectors":7711,"@metamask/bridge-controller":1409,"@metamask/utils":3026,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.RampsMetaMaskEntry=void 0;var s=e("react"),r=e("react-redux"),i=e("@metamask/bridge-controller"),a=e("@metamask/utils"),o=e("../../../../shared/modules/selectors/networks"),c=e("../../../selectors");let u=n.RampsMetaMaskEntry=function(e){return e.BuySellButton="ext_buy_sell_button",e.NftBanner="ext_buy_banner_nfts",e.TokensBanner="ext_buy_banner_tokens",e.ActivityBanner="ext_buy_banner_activity",e.BtcBanner="ext_buy_banner_btc",e}({});n.default=(e=u.BuySellButton)=>{const t=(0,r.useSelector)(o.getCurrentChainId),n=(0,r.useSelector)(c.getMetaMetricsId),l=(0,r.useSelector)(c.getParticipateInMetaMetrics),d=(0,r.useSelector)(c.getDataCollectionForMarketing),h=(0,s.useCallback)((t=>{try{const s=new URLSearchParams;s.set("metamaskEntry",e);let r="";r=(0,i.isSolanaChainId)(t)?t:(0,a.hexToNumber)(t).toString(),s.set("chainId",r),n&&s.set("metametricsId",n),s.set("metricsEnabled",String(l)),d&&s.set("marketingEnabled",String(d));const o=new URL("https://portfolio.metamask.io");return o.pathname="buy",o.search=s.toString(),o.toString()}catch{return"https://portfolio.metamask.io/buy"}}),[d,l,n,e]);return{openBuyCryptoInPdapp:(0,s.useCallback)((e=>{const n=h(e||t);global.platform.openTab({url:n})}),[t,h]),getBuyURI:h}}}}},{package:"$root$",file:"ui/hooks/ramps/useRamps/useRamps.ts"}],[7022,{"../../../shared/modules/conversion.utils":5906,"../../../shared/modules/hexstring-utils":5912,"../../selectors/snaps":7726,"@metamask/utils":3026,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=void 0;var s=e("@metamask/utils"),r=e("react-redux"),i=e("../../selectors/snaps"),a=e("../../../shared/modules/hexstring-utils"),o=e("../../../shared/modules/conversion.utils");n.useDisplayName=e=>{const{address:t,chain:{namespace:n,reference:c}}=e,u=n===s.KnownCaipNamespace.Eip155,l=u?(0,a.toChecksumHexAddress)(t):t,d=(0,r.useSelector)((e=>(0,i.getMemoizedAccountName)(e,l))),h=(0,r.useSelector)((e=>(0,i.getAddressBookEntryByNetwork)(e,l,`0x${(0,o.decimalToHex)(u?c:"0")}`)));return d||u&&(null==h?void 0:h.name)||undefined}}}},{package:"$root$",file:"ui/hooks/snaps/useDisplayName.ts"}],[7023,{"../../selectors":7711,"@metamask/snaps-sdk":2813,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useInsightSnaps=function(e){const t=(0,s.useSelector)((t=>(0,i.getSnapInsights)(t,e))),n=t?Object.values(t):[],a=n.filter((e=>e.severity===r.SeverityLevel.Critical));return{data:n,warnings:a}};var s=e("react-redux"),r=e("@metamask/snaps-sdk"),i=e("../../selectors")}}},{package:"$root$",file:"ui/hooks/snaps/useInsightSnaps.js"}],[7024,{react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=()=>{const e=(0,s.useRef)(null),[t,n]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{n(e.current&&e.current.offsetHeight<e.current.scrollHeight)}),[e]),{contentRef:e,isOverflowing:t}}}}},{package:"$root$",file:"ui/hooks/snaps/useIsOverflowing.js"}],[7025,{"../../store/actions":7729,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeWebsite=void 0;var s=e("react"),r=e("../../store/actions");n.useSafeWebsite=e=>{const[t,n]=(0,s.useState)();return(0,s.useEffect)((()=>{e&&(async()=>{(await(0,r.getPhishingResult)(e)).result||n(new URL(e))})()}),[e]),t}}}},{package:"$root$",file:"ui/hooks/snaps/useSafeWebsite.ts"}],[7026,{"../../helpers/utils/util":6985,"@metamask/snaps-utils":2925,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-router-dom"),r=e("@metamask/snaps-utils"),i=e("../../helpers/utils/util");n.default=()=>{const e=(0,s.useHistory)();return{navigate:t=>{let n;const s=(0,r.parseMetaMaskUrl)(t);n=s.snapId?(0,i.getSnapRoute)(s.snapId):s.path,e.push(n)}}}}}},{package:"$root$",file:"ui/hooks/snaps/useSnapNavigation.ts"}],[7027,{"../../store/actions":7729,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapSettings=function({snapId:e}){const t=(0,r.useDispatch)(),[n,a]=(0,s.useState)(!0),[o,c]=(0,s.useState)(undefined),[u,l]=(0,s.useState)(undefined);return(0,s.useEffect)((()=>{let n=!1;return e&&async function(e){try{l(undefined),a(!0);const s=await(0,i.handleSnapRequest)({snapId:e,origin:"metamask",handler:"onSettingsPage",request:{jsonrpc:"2.0",method:" "}});n||(c(s),(0,i.forceUpdateMetamaskState)(t))}catch(e){n||l(e)}finally{n||a(!1)}}(e),()=>{n=!0}}),[e]),{data:o,error:u,loading:n}};var s=e("react"),r=e("react-redux"),i=e("../../store/actions")}}},{package:"$root$",file:"ui/hooks/snaps/useSnapSettings.ts"}],[7028,{"../../../shared/constants/swaps":5850,"../../../shared/modules/selectors/networks":5923,"../../ducks/swaps/swaps":6930,lodash:4934,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("react-redux"),i=e("lodash"),a=e("../../../shared/modules/selectors/networks"),o=e("../../../shared/constants/swaps"),c=e("../../ducks/swaps/swaps");n.default=function(){const e=(0,r.useSelector)(a.getCurrentChainId),t=(0,r.useSelector)(c.getFromToken,i.isEqual),n=(0,s.useMemo)((()=>{if(!t)return null;const n=o.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[e]??null;return n?n.address===(null==t?void 0:t.address)?o.SWAPS_CHAINID_COMMON_TOKEN_PAIR[e]??null:n:null}),[e,null==t?void 0:t.address]);return n||console.warn(`No Swap default token found for chainId: ${e}`),{defaultToToken:n}}}}},{package:"$root$",file:"ui/hooks/swap/useSwapDefaultToToken.ts"}],[7029,{"../../shared/constants/network":5839,"../../shared/modules/conversion.utils":5906,"../../shared/modules/selectors/networks":5923,"../ducks/metamask/metamask":6922,"../helpers/utils/token-util":6982,"../selectors":7711,"ethereumjs-util":4403,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalCrossChainFiatBalance=void 0;var s=e("react-redux"),r=e("ethereumjs-util"),i=e("react"),a=e("../ducks/metamask/metamask"),o=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../helpers/utils/token-util"),l=e("../../shared/modules/selectors/networks"),d=e("../../shared/constants/network");n.useAccountTotalCrossChainFiatBalance=(e,t)=>{const n=(0,s.useSelector)(l.getNetworkConfigurationsByChainId),h=(0,s.useSelector)(a.getCurrencyRates),m=(0,s.useSelector)(a.getCurrentCurrency),p=(0,s.useSelector)(o.getCrossChainTokenExchangeRates,s.shallowEqual),g=(0,s.useSelector)(o.getCrossChainMetaMaskCachedBalances),f=(0,i.useMemo)((()=>({...p})),[p]),y=(0,i.useMemo)((()=>t.map((t=>{var s,i;const{tokensWithBalances:a}=t,o=d.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[t.chainId]??n[t.chainId].nativeCurrency,l=null==h||null===(s=h[o])||void 0===s?void 0:s.conversionRate,p=a.map((e=>{var n;const s=null==f||null===(n=f[t.chainId])||void 0===n?void 0:n[(0,r.toChecksumAddress)(e.address)];return(0,u.getTokenFiatAmount)(s,l,m,e.string,e.symbol,!1,!1)})),y=(null==g||null===(i=g[t.chainId])||void 0===i?void 0:i[null==e?void 0:e.address])??0,T=(0,c.getValueFromWeiHex)({value:y,toCurrency:m,conversionRate:l,numberOfDecimals:2});return{...t,tokenFiatBalances:p,nativeFiatValue:T}}))),[t,n,h,f,g,null==e?void 0:e.address,m]);return{totalFiatBalance:(0,i.useMemo)((()=>y.reduce(((e,t)=>{const n=t.tokenFiatBalances.filter((e=>e!==undefined)),s=(0,c.sumDecimals)(t.nativeFiatValue,...n);return e+(s.toNumber?s.toNumber():Number(s))}),0)),[y]).toString(10),tokenFiatBalancesCrossChains:y}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalCrossChainFiatBalance.ts"}],[703,{"./CryptoECKey":700,"./CryptoHDKey":701,"./MultiKey":706,"./RegistryItem":708,"./RegistryType":709,"./ScriptExpression":710,"./lib":719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoOutput=void 0;const s=e("./CryptoECKey"),r=e("./CryptoHDKey"),i=e("./lib"),a=e("./MultiKey"),o=e("./RegistryItem"),c=e("./RegistryType"),u=e("./ScriptExpression");class l extends o.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>c.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>this.cryptoKey instanceof r.CryptoHDKey?this.cryptoKey:undefined,this.getECKey=()=>this.cryptoKey instanceof s.CryptoECKey?this.cryptoKey:undefined,this.getMultiKey=()=>this.cryptoKey instanceof a.MultiKey?this.cryptoKey:undefined,this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=e=>e>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[e].getExpression()}(${this._toOutputDescriptor(e+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let e=this.cryptoKey.toDataItem();(this.cryptoKey instanceof s.CryptoECKey||this.cryptoKey instanceof r.CryptoHDKey)&&e.setTag(this.cryptoKey.getRegistryType().getTag());return[...this.scriptExpressions].reverse().forEach((t=>{const n=t.getTag();e.getTag()===undefined?e.setTag(n):e=new i.DataItem(e,n)})),e}}}n.CryptoOutput=l,l.fromDataItem=e=>{const t=[];let n=e;for(;;){let e=n.getTag();const s=u.ScriptExpression.fromTag(e);if(!s)break;if(t.push(s),!(n.getData()instanceof i.DataItem))break;n=n.getData(),e=n.getTag()}const o=t.length;if(o>0&&(t[o-1].getExpression()===u.ScriptExpressions.MULTISIG.getExpression()||t[o-1].getExpression()===u.ScriptExpressions.SORTED_MULTISIG.getExpression())){const e=a.MultiKey.fromDataItem(n);return new l(t,e)}if(n.getTag()===c.RegistryTypes.CRYPTO_HDKEY.getTag()){const e=r.CryptoHDKey.fromDataItem(n);return new l(t,e)}{const e=s.CryptoECKey.fromDataItem(n);return new l(t,e)}},l.fromCBOR=e=>{const t=(0,i.decodeToDataItem)(e);return l.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoOutput.js"}],[7030,{"../../shared/modules/conversion.utils":5906,"../../shared/modules/selectors/networks":5923,"../ducks/metamask/metamask":6922,"../helpers/utils/confirm-tx.util":6961,"../helpers/utils/token-util":6982,"../helpers/utils/util":6985,"../selectors":7711,"./useTokenBalances":7075,"ethereumjs-util":4403,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAccountTotalFiatBalance=void 0;var s=e("react-redux"),r=e("ethereumjs-util"),i=e("react"),a=e("../../shared/modules/selectors/networks"),o=e("../selectors"),c=e("../../shared/modules/conversion.utils"),u=e("../ducks/metamask/metamask"),l=e("../helpers/utils/confirm-tx.util"),d=e("../helpers/utils/token-util"),h=e("../helpers/utils/util"),m=e("./useTokenBalances");n.useAccountTotalFiatBalance=(e,t)=>{const n=(0,s.useSelector)(a.getCurrentChainId),p=(0,s.useSelector)(u.getConversionRate),g=(0,s.useSelector)(u.getCurrentCurrency),f=(0,s.useSelector)(o.getTokenExchangeRates,s.shallowEqual),y=(0,s.useSelector)(o.getConfirmationExchangeRates),T=(0,s.useSelector)(o.getMetaMaskCachedBalances),k=(null==T?void 0:T[null==e?void 0:e.address])??0,v=(0,c.getValueFromWeiHex)({value:k,toCurrency:g,conversionRate:p,numberOfDecimals:2}),b=(0,s.useSelector)(o.getAllTokens),S=(0,i.useMemo)((()=>{var t;return(null==b||null===(t=b[n])||void 0===t?void 0:t[null==e?void 0:e.address])??[]}),[null==e?void 0:e.address,n,b]),_=(0,s.useSelector)(o.getTokenList),I=(0,s.useSelector)(o.getNativeCurrencyImage),w=(0,s.useSelector)(u.getNativeCurrency),{tokensWithBalances:C}=(0,m.useTokenTracker)({chainId:n,tokens:S,address:null==e?void 0:e.address,hideZeroBalanceTokens:t}),E=(0,i.useMemo)((()=>({...f,...y})),[y,f]),M=(0,i.useMemo)((()=>C.map((e=>{const t=E[(0,r.toChecksumAddress)(e.address)];return(0,d.getTokenFiatAmount)(t,p,g,e.string,e.symbol,!1,!1)}))),[C,E,p,g]),A=(0,i.useMemo)((()=>((e,t)=>{const n=[];return t.forEach((t=>{const s=null==e?void 0:e[t.address.toLowerCase()];s&&n.push({...s,balance:t.balance,string:t.string,balanceError:t.balanceError})})),n})(_,C)),[_,C]),N=(0,i.useMemo)((()=>[{iconUrl:I,symbol:w,fiatBalance:v},...A.map(((e,t)=>({...e,fiatBalance:M[t]})))]),[A,M,I,w,v]),P=(0,i.useMemo)((()=>N.sort(((e,t)=>parseFloat(t.fiatBalance)-parseFloat(e.fiatBalance)))),[N]),O=(0,c.sumDecimals)(v,...M).toString(10),R=(0,i.useMemo)((()=>(C.forEach((e=>{e.string=(0,h.roundToDecimalPlacesRemovingExtraZeroes)(e.string,5);const t=E[(0,r.toChecksumAddress)(e.address)];e.tokenFiatAmount=(0,d.getTokenFiatAmount)(t,p,g,e.string,e.symbol,!1,!1)||"0"})),C)),[C,E,p,g]),D=(0,l.formatCurrency)(O,g);let x=(0,c.getWeiHexFromDecimalValue)({value:O,fromCurrency:g,conversionRate:p,invertConversionRate:!0});return"NaN"===x&&(x="0x0"),{formattedFiat:D,totalWeiBalance:x,totalFiatBalance:O,tokensWithBalances:R,loading:!1,orderedTokenList:P,mergedRates:E}}}}},{package:"$root$",file:"ui/hooks/useAccountTotalFiatBalance.js"}],[7031,{"../ducks/metamask/metamask":6922,"../selectors":7711,"../store/actions":7729,"./useMultiPolling":7055,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),i=e("../selectors"),a=e("../store/actions"),o=e("../ducks/metamask/metamask"),c=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(i.getNetworkClientIdsToPoll),t=(0,r.useSelector)(o.getCompletedOnboarding),n=(0,r.useSelector)(o.getIsUnlocked),s=t&&n;(0,c.default)({startPolling:a.accountTrackerStartPolling,stopPollingByPollingToken:a.accountTrackerStopPollingByPollingToken,input:s?e:[]})}}}},{package:"$root$",file:"ui/hooks/useAccountTrackerPolling.ts"}],[7032,{"../ducks/confirm-alerts/confirm-alerts":6914,"../helpers/constants/design-system":6934,"../selectors/alerts":7702,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react-redux"),r=e("react"),i=e("../selectors/alerts"),a=e("../ducks/confirm-alerts/confirm-alerts"),o=e("../helpers/constants/design-system");function c(e){const t={[o.Severity.Danger]:3,[o.Severity.Warning]:2,[o.Severity.Info]:1};return e.sort(((e,n)=>t[n.severity]-t[e.severity]))}n.default=e=>{const t=(0,s.useDispatch)(),n=c((0,s.useSelector)((t=>(0,i.selectAlerts)(t,e)))),u=(0,s.useSelector)((t=>(0,i.selectConfirmedAlertKeys)(t,e))),l=c((0,s.useSelector)((t=>(0,i.selectGeneralAlerts)(t,e)))),d=c((0,s.useSelector)((t=>(0,i.selectFieldAlerts)(t,e)))),h=(0,r.useCallback)((e=>e?n.filter((t=>t.field===e)):[]),[n]),m=(0,r.useCallback)(((n,s)=>{t((0,a.setAlertConfirmed)(e,n,s))}),[t,a.setAlertConfirmed,e]),p=(0,r.useCallback)((e=>u.includes(e)),[u]),g=n.filter((e=>!p(e.key)&&e.severity===o.Severity.Danger)),f=n.length>0,y=n.filter((e=>e.severity===o.Severity.Danger)),T=g.length>0,k=d.filter((e=>!p(e.key)&&e.severity===o.Severity.Danger));return{alerts:n,fieldAlerts:d,generalAlerts:l,getFieldAlerts:h,hasAlerts:f,dangerAlerts:y,hasDangerAlerts:(null==y?void 0:y.length)>0,hasUnconfirmedDangerAlerts:T,isAlertConfirmed:p,setAlertConfirmed:m,unconfirmedDangerAlerts:g,unconfirmedFieldDangerAlerts:k,hasUnconfirmedFieldDangerAlerts:k.length>0}}}}},{package:"$root$",file:"ui/hooks/useAlerts.ts"}],[7033,{react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RESULT_PENDING=n.RESULT_IDLE=n.RESULT_BASE=void 0,n.createErrorResult=c,n.createSuccessResult=o,n.useAsyncCallback=u,n.useAsyncResult=l,n.useAsyncResultOrThrow=function(e,t=[]){const n=l(e,t);if("error"===n.status)throw n.error;return n};var s=e("react");const r=n.RESULT_BASE={idle:!1,pending:!1,value:undefined,error:undefined},i=n.RESULT_IDLE={...r,status:"idle",idle:!0},a=n.RESULT_PENDING={...r,status:"pending",pending:!0};function o(e){return{...r,status:"success",value:e}}function c(e){return{...r,status:"error",error:e}}function u(e,t=[]){const[n,r]=(0,s.useState)(i),u=(0,s.useRef)(!0);(0,s.useEffect)((()=>()=>{u.current=!1}),[]);return[(0,s.useCallback)((async()=>{if(u.current){r(a);try{const t=await e();u.current&&r(o(t))}catch(e){u.current&&r(c(e))}}}),t),n]}function l(e,t=[]){const[n,r]=u(e,t);return(0,s.useEffect)((()=>{n()}),[n]),"idle"===r.status?a:r}}}},{package:"$root$",file:"ui/hooks/useAsync.ts"}],[7034,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ZERO_BALANCE=n.SWEEPSTAKES_START=n.SWEEPSTAKES_SLIDE=n.SWEEPSTAKES_END=n.SOLANA_SLIDE=n.SMART_ACCOUNT_UPGRADE_SLIDE=n.REMOTE_MODE_SLIDE=n.MULTI_SRP_SLIDE=n.FUND_SLIDE=n.CASH_SLIDE=n.CARD_SLIDE=n.BRIDGE_SLIDE=n.BACKUPANDSYNC_SLIDE=void 0;n.REMOTE_MODE_SLIDE={id:"remoteMode",title:"slideRemoteModeTitle",description:"slideRemoteModeDescription",image:"./images/slide-cold-storage.svg",href:"/home.html#remote"},n.SOLANA_SLIDE={id:"solana",title:"slideSolanaTitle",description:"slideSolanaDescription",image:"./images/slide-solana-icon.svg"},n.SMART_ACCOUNT_UPGRADE_SLIDE={id:"smartAccountUpgrade",title:"slideSmartAccountUpgradeTitle",description:"slideSmartAccountUpgradeDescription",image:"./images/smart-account-upgrade.png"},n.SWEEPSTAKES_SLIDE={id:"sweepStake",title:"slideSweepStakeTitle",description:"slideSweepStakeDescription",image:"./images/sweepstakes.png",href:"https://portfolio.metamask.io/explore/nfts?event=012e19e2"},n.FUND_SLIDE={id:"fund",title:"slideFundWalletTitle",description:"slideFundWalletDescription",image:"./images/slide-fund-icon.svg",href:"https://portfolio.metamask.io/buy/build-quote"},n.BRIDGE_SLIDE={id:"bridge",title:"slideBridgeTitle",description:"slideBridgeDescription",image:"./images/slide-bridge-icon.svg"},n.CARD_SLIDE={id:"card",title:"slideDebitCardTitle",description:"slideDebitCardDescription",image:"./images/slide-card-icon.svg",href:"https://portfolio.metamask.io/card"},n.CASH_SLIDE={id:"cash",title:"slideCashOutTitle",description:"slideCashOutDescription",image:"./images/slide-sell-icon.svg",href:"https://portfolio.metamask.io/sell"},n.MULTI_SRP_SLIDE={id:"multiSrp",title:"slideMultiSrpTitle",description:"slideMultiSrpDescription",image:"./images/slide-multi-srp-icon.svg",href:"/home.html#import-srp"},n.BACKUPANDSYNC_SLIDE={id:"backupAndSync",title:"backupAndSyncSlideTitle",description:"backupAndSyncSlideDescription",image:"./images/slide-backup-and-sync-icon.png"},n.ZERO_BALANCE="0x0",n.SWEEPSTAKES_START=new Date("2025-04-09T00:00:00Z"),n.SWEEPSTAKES_END=new Date("2025-04-28T23:59:59Z")}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/constants.ts"}],[7035,{"../../../shared/modules/environment":5907},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchCarouselSlidesFromContentful=async function(){var e;if(!r||!i)return c;const t=new URL(o);t.searchParams.set("access_token",i),t.searchParams.set("content_type",a);const n=await fetch(t).then((e=>e.json())),s=(null===(e=n.includes)||void 0===e?void 0:e.Asset)||[],u=e=>{var t;const n=s.find((t=>{var n;return t.sys.id===(null==e||null===(n=e.sys)||void 0===n?void 0:n.id)})),r=(null==n||null===(t=n.fields)||void 0===t||null===(t=t.file)||void 0===t?void 0:t.url)||"";return r.startsWith("//")?`https:${r}`:r};return n.items.map((e=>({id:`contentful-${e.sys.id}`,title:e.fields.headline,description:e.fields.teaser,image:u(e.fields.image),href:e.fields.linkUrl,undismissable:e.fields.undismissable,dismissed:!1,startDate:e.fields.startDate,endDate:e.fields.endDate})))};const s=(0,e("../../../shared/modules/environment").isProduction)(),r="",i="",a="promotionalBanner",o=`https://${s?"cdn.contentful.com":"preview.contentful.com"}/spaces/${r}/environments/${s?"master":"dev"}/entries`,c=[]}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/fetchCarouselSlidesFromContentful.ts"}],[7036,{"./constants":7034,"./useCarouselManagement":7037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var s=e("./useCarouselManagement");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}));var r=e("./constants");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}))}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/index.ts"}],[7037,{"../../../shared/lib/multichain/accounts":5886,"../../selectors":7711,"../../selectors/remote-mode":7720,"../../store/actions":7729,"./constants":7034,"./fetchCarouselSlidesFromContentful":7035,lodash:4934,loglevel:4942,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSweepstakesCampaignActive=p,n.isActive=g,n.useCarouselManagement=void 0;var s,r=e("lodash"),i=e("react"),a=e("react-redux"),o=(s=e("loglevel"))&&s.__esModule?s:{default:s},c=e("../../../shared/lib/multichain/accounts"),u=e("../../store/actions"),l=e("../../selectors"),d=e("../../selectors/remote-mode"),h=e("./constants"),m=e("./fetchCarouselSlidesFromContentful");function p(e){return e>=h.SWEEPSTAKES_START&&e<=h.SWEEPSTAKES_END}function g(e,t=new Date){const n=e.startDate?new Date(e.startDate):null,s=e.endDate?new Date(e.endDate):null;return!(n&&t<n)&&!(s&&t>s)}n.useCarouselManagement=({testDate:e}={})=>{const t=Boolean(!1),n=(0,a.useDispatch)(),s=(0,a.useSelector)(l.getSlides),f=(0,a.useSelector)(l.getRemoteFeatureFlags),y=(0,a.useSelector)(l.getSelectedAccountCachedBalance),T=(0,a.useSelector)(d.getIsRemoteModeEnabled),k=(0,a.useSelector)(l.getSelectedInternalAccount),v=(0,i.useRef)(),b=y===h.ZERO_BALANCE;return(0,i.useEffect)((()=>{const i=[],a=s.find((e=>e.id===h.SWEEPSTAKES_SLIDE.id)),l=(null==a?void 0:a.dismissed)??!1,d={...h.FUND_SLIDE,undismissable:b};(0,c.isSolanaAddress)(k.address)||i.push(h.SMART_ACCOUNT_UPGRADE_SLIDE),i.push(h.BRIDGE_SLIDE),i.push(h.CARD_SLIDE),i.push(h.CASH_SLIDE),i.push(h.MULTI_SRP_SLIDE),i.push(h.BACKUPANDSYNC_SLIDE),i.push(h.SOLANA_SLIDE),i.splice(b?0:2,0,d),T&&i.unshift(h.REMOTE_MODE_SLIDE);const y=p(e?new Date(e):new Date((new Date).toISOString()));if(t||!y||l){if(null!=a&&a.dismissed){const e={...h.SWEEPSTAKES_SLIDE,dismissed:!0};i.push(e)}}else{const e={...h.SWEEPSTAKES_SLIDE,dismissed:!1};i.unshift(e)}(async()=>{if((null==f?void 0:f.contentfulCarouselEnabled)??!1)try{const t=(await(0,m.fetchCarouselSlidesFromContentful)()).map((e=>{const t=s.find((t=>t.id===e.id));return{...e,dismissed:(null==t?void 0:t.dismissed)??!1}})).filter((t=>g(t,e?new Date(e):new Date))),a=[...i,...t];(0,r.isEqual)(v.current,a)||(n((0,u.updateSlides)(a)),v.current=a)}catch(e){o.default.warn("Failed to fetch Contentful slides:",e),(0,r.isEqual)(v.current,i)||(n((0,u.updateSlides)(i)),v.current=i)}else(0,r.isEqual)(v.current,i)||(n((0,u.updateSlides)(i)),v.current=i)})()}),[n,b,T,f,e,t,s,k.address]),{slides:s}}}}},{package:"$root$",file:"ui/hooks/useCarouselManagement/useCarouselManagement.ts"}],[7038,{"../../shared/constants/copy":5827,"../../shared/constants/time":5852,"./useTimeout":7074,"copy-to-clipboard":4212,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCopyToClipboard=function(e=u){const[t,n]=(0,r.useState)(!1),s=(0,c.useTimeout)((()=>{(0,i.default)(" ",o.COPY_OPTIONS),n(!1)}),e,!1),a=(0,r.useCallback)((e=>{n(!0),s(),(0,i.default)(e,o.COPY_OPTIONS)}),[s]);return[t,a]};var s,r=e("react"),i=(s=e("copy-to-clipboard"))&&s.__esModule?s:{default:s},a=e("../../shared/constants/time"),o=e("../../shared/constants/copy"),c=e("./useTimeout");const u=a.MINUTE}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[7039,{"../../shared/constants/common":5826,"../../shared/constants/network":5839,"../../shared/modules/Numeric":5901,"../../shared/modules/conversion.utils":5906,"../ducks/metamask/metamask":6922,"../helpers/utils/confirm-tx.util":6961,"../helpers/utils/token-util":6982,"../selectors/multichain":7715,"./useMultichainSelector":7058,"bignumber.js":4029,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MIN_AMOUNT=n.DEFAULT_PRECISION=void 0,n.useCurrencyDisplay=function(e,{account:t,displayValue:n,prefix:s,numberOfDecimals:i,denomination:g,currency:T,isAggregatedFiatOverviewBalance:k,...v},b=null){const S=(0,p.useMultichainSelector)(o.getMultichainIsEvm,t),_=(0,p.useMultichainSelector)(o.getMultichainCurrentCurrency,t),I=(0,p.useMultichainSelector)(o.getMultichainNativeCurrency,t),w=(0,p.useMultichainSelector)(o.getMultichainConversionRate,t),C=(0,p.useMultichainSelector)(m.getCurrencyRates,t),E=T===_,M=T===I||T===u.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[b],A=(0,r.useMemo)((()=>{return n||(S||k?k?(0,a.formatCurrency)(e,T):function({isNativeCurrency:e,isUserPreferredCurrency:t,currency:n,nativeCurrency:s,inputValue:r,conversionRate:i,denomination:o,numberOfDecimals:u}){if(e||!t&&!s){const e=new l.Numeric(r,16,d.EtherDenomination.WEI).toDenomination(o||d.EtherDenomination.ETH).round(u||y).toBase(10).toString();return"0"===e&&r&&0!==Number(r)?f:e}if(t&&i)return(0,a.formatCurrency)((0,c.getValueFromWeiHex)({value:r,fromCurrency:s,toCurrency:n,conversionRate:i,numberOfDecimals:u||2,toDenomination:o}),n);return null}({isNativeCurrency:M,isUserPreferredCurrency:E,currency:T,nativeCurrency:I,inputValue:e,conversionRate:w,denomination:g,numberOfDecimals:i}):function({tokenSymbol:e,isNativeCurrency:t,isUserPreferredCurrency:n,currency:s,currentCurrency:r,nativeCurrency:i,inputValue:o,conversionRate:c}){if(t||!n&&!i)return new l.Numeric(o,10).toString();if(n&&c){const t=(0,h.getTokenFiatAmount)(1,Number(c),r,o,e,!1,!1)??"0";return(0,a.formatCurrency)(t,s)}return null}({tokenSymbol:I,isNativeCurrency:M,isUserPreferredCurrency:E,currency:T,currentCurrency:_,nativeCurrency:I,inputValue:e,conversionRate:b?null==C||null===(t=C[u.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[b]])||void 0===t?void 0:t.conversionRate:w}));var t}),[n,S,M,E,T,I,e,w,g,i,_,k,b,C]);let N;if(!v.hideLabel){const e=Object.values(u.TEST_NETWORK_TICKER_MAP).includes(T)?T:null==T?void 0:T.toUpperCase();N=v.suffix||e}return[`${s||""}${A}${N?` ${N}`:""}`,{prefix:s,value:A,suffix:N}]};var s,r=e("react"),i=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},a=e("../helpers/utils/confirm-tx.util"),o=e("../selectors/multichain"),c=e("../../shared/modules/conversion.utils"),u=e("../../shared/constants/network"),l=e("../../shared/modules/Numeric"),d=e("../../shared/constants/common"),h=e("../helpers/utils/token-util"),m=e("../ducks/metamask/metamask"),p=e("./useMultichainSelector");const g=n.MIN_AMOUNT=1e-6,f=`<${g}`,y=n.DEFAULT_PRECISION=new i.default(g).decimalPlaces()}}},{package:"$root$",file:"ui/hooks/useCurrencyDisplay.js"}],[704,{"./RegistryItem":708,"./RegistryType":709,"./lib":719},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CryptoPSBT=void 0;const s=e("./lib"),r=e("./RegistryItem"),i=e("./RegistryType");class a extends r.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new s.DataItem(this.psbt)}}n.CryptoPSBT=a,a.fromDataItem=e=>{const t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new a(t)},a.fromCBOR=e=>{const t=(0,s.decodeToDataItem)(e);return a.fromDataItem(t)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/CryptoPSBT.js"}],[7040,{"../../shared/modules/selectors/networks":5923,"../ducks/metamask/metamask":6922,"../helpers/utils/isOriginalNativeTokenSymbol":6969,"../selectors":7711,"../store/actions":7729,"./usePolling":7066,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react"),i=e("react-redux"),a=e("../selectors"),o=e("../../shared/modules/selectors/networks"),c=e("../helpers/utils/isOriginalNativeTokenSymbol"),u=e("../store/actions"),l=e("../ducks/metamask/metamask"),d=(s=e("./usePolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(()=>{const e=(0,i.useSelector)(l.getCompletedOnboarding),t=(0,i.useSelector)(l.getIsUnlocked),n=(0,i.useSelector)(a.getUseCurrencyRateCheck);return e&&t&&n})(),t=(e=>{const t=(0,i.useSelector)(o.getNetworkConfigurationsByChainId),n=(0,i.useSelector)(a.useSafeChainsListValidationSelector),[s,u]=(0,r.useState)([]),l=(0,i.useSelector)(a.getChainIdsToPoll);return(0,r.useEffect)((()=>{(async()=>{const s=(await Promise.all(Object.values(t).map((async t=>{const s=await(0,c.getOriginalNativeTokenSymbol)({chainId:t.chainId,useAPICall:n&&e});return l.includes(t.chainId)?s??t.nativeCurrency:null})))).filter((e=>null!==e)),r=[...new Set(s)];u(r)})()}),[l,e,t,n]),s})(e),n=e&&t.length>0;(0,d.default)({startPolling:u.currencyRateStartPolling,stopPollingByPollingToken:u.currencyRateStopPollingByPollingToken,input:t,enabled:n})}}}},{package:"$root$",file:"ui/hooks/useCurrencyRatePolling.ts"}],[7041,{"../../shared/constants/swaps":5850,"../../shared/modules/selectors/networks":5923,"../../shared/modules/string-utils":5926,"../ducks/metamask/metamask":6922,"../helpers/constants/routes":6940,"react-redux":5230,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,r.useRouteMatch)({path:`${o.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),n=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,l=(0,s.useSelector)(i.getTokens),d=n&&l.find((({address:e})=>(0,u.isEqualCaseInsensitive)(e,n))),h=(0,s.useSelector)(a.getCurrentChainId);return d??(c.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[h]||c.ETH_SWAPS_TOKEN_OBJECT)};var s=e("react-redux"),r=e("react-router-dom"),i=e("../ducks/metamask/metamask"),a=e("../../shared/modules/selectors/networks"),o=e("../helpers/constants/routes"),c=e("../../shared/constants/swaps"),u=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[7042,{"../../shared/constants/first-party-contracts":5830,"../../shared/modules/hexstring-utils":5912,"../ducks/domains":6916,"../selectors":7711,"../selectors/nft":7717,"./useName":7060,"./useNftCollectionsMetadata":7061,"@metamask/name-controller":2307,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisplayName=function(e){return h([e])[0]},n.useDisplayNames=h;var s=e("@metamask/name-controller"),r=e("react-redux"),i=e("../../shared/constants/first-party-contracts"),a=e("../../shared/modules/hexstring-utils"),o=e("../ducks/domains"),c=e("../selectors"),u=e("../selectors/nft"),l=e("./useName"),d=e("./useNftCollectionsMetadata");function h(e){const t=(0,l.useNames)(e),n=e.map((({type:e,value:t,variation:n})=>{if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const r=t.toLowerCase();return Object.keys(i.FIRST_PARTY_CONTRACT_NAMES).find((e=>{var t;const s=null===(t=i.FIRST_PARTY_CONTRACT_NAMES[e])||void 0===t?void 0:t[n];return(null==s?void 0:s.toLowerCase())===r}))}));const h=function(e){const t=(0,r.useSelector)(c.selectERC20TokensByChain);return e.map((({preferContractSymbol:e,type:n,value:r,variation:i})=>{var a;if(n!==s.NameType.ETHEREUM_ADDRESS)return undefined;const o=r.toLowerCase(),{iconUrl:c,name:u,symbol:l}=(null==t||null===(a=t[i])||void 0===a||null===(a=a.data)||void 0===a?void 0:a[o])??{};return{name:e&&l?l:u,image:c}}))}(e),m=function(e){const t=(0,r.useSelector)(u.getNftContractsByAddressByChain);return e.map((({type:e,value:n,variation:r})=>{var i;if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const a=n.toLowerCase(),o=t[r];return null==o||null===(i=o[a])||void 0===i?void 0:i.name}))}(e),p=function(e){const t=e.filter((({type:e})=>e===s.NameType.ETHEREUM_ADDRESS)).map((({value:e,variation:t})=>({chainId:t,contractAddress:e}))),n=(0,d.useNftCollectionsMetadata)(t);return e.map((({type:e,value:t,variation:r})=>{var i;if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const a=null===(i=n[r])||void 0===i?void 0:i[t.toLowerCase()],o=!1!==(null==a?void 0:a.isSpam);if(!a||o)return undefined;const{name:c,image:u}=a;return{name:c,image:u}}))}(e),g=function(e){const t=(0,r.useSelector)(o.getDomainResolutions);return e.map((({type:e,value:n})=>{if(e!==s.NameType.ETHEREUM_ADDRESS)return undefined;const r=null==t?void 0:t.find((e=>(0,a.toChecksumHexAddress)(e.resolvedAddress)===(0,a.toChecksumHexAddress)(n)));return null==r?void 0:r.domainName}))}(e);return e.map(((e,s)=>{const r=t[s],i=n[s],a=h[s],o=m[s],c=p[s],u=g[s],l=(null==r?void 0:r.name)||i||(null==c?void 0:c.name)||(null==a?void 0:a.name)||o||u||null,d=(null==c?void 0:c.image)||(null==a?void 0:a.image);return{name:l,hasPetname:Boolean(null==r?void 0:r.name),contractDisplayName:null==a?void 0:a.name,image:d}}))}}}},{package:"$root$",file:"ui/hooks/useDisplayName.ts"}],[7043,{lodash:4934,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=r.isEqual){const[n,i]=(0,s.useState)(e);return(0,s.useLayoutEffect)((()=>{t(e,n)||i(e)}),[e,t,n]),n};var s=e("react"),r=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[7044,{"../../shared/modules/conversion.utils":5906,"../ducks/metamask/metamask":6922,"../helpers/utils/confirm-tx.util":6961,"../selectors":7711,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEthFiatAmount=function(e,t={},n){const u=(0,r.useSelector)(o.getConversionRate),l=(0,r.useSelector)(o.getCurrentCurrency),d=(0,r.useSelector)(i.getShouldShowFiat),h=t.showFiat??d,m=(0,s.useMemo)((()=>(0,c.decEthToConvertedCurrency)(e,l,u)),[u,l,e]);if(!h||"ETH"===l.toUpperCase()||u<=0||e===undefined)return undefined;return n?(0,a.formatCurrency)(m,l):`${(0,a.formatCurrency)(m,l)} ${l.toUpperCase()}`};var s=e("react"),r=e("react-redux"),i=e("../selectors"),a=e("../helpers/utils/confirm-tx.util"),o=e("../ducks/metamask/metamask"),c=e("../../shared/modules/conversion.utils")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[7045,{react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=e=>{const[t,n]=(0,s.useState)(""),[r,i]=(0,s.useState)("");return(0,s.useEffect)((()=>{(async()=>{if(!e)return;const t=await fetch(e);if(t.ok)try{let e=await t.text();e=e.replace(/,\s*}/g,"}").replace(/,\s*\]/g,"]");const s=JSON.parse(e);n(s.image),i(s.name)}catch{}})()}),[e]),{image:t,name:r}}}}},{package:"$root$",file:"ui/hooks/useFetchNftDetailsFromTokenURI.ts"}],[7046,{"../ducks/locale/locale":6921,"../ducks/metamask/metamask":6922,"../helpers/utils/util":6985,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useFiatFormatter=void 0;var s=e("react-redux"),r=e("../ducks/locale/locale"),i=e("../ducks/metamask/metamask"),a=e("../helpers/utils/util");n.useFiatFormatter=()=>{const e=(0,s.useSelector)(r.getIntlLocale),t=(0,s.useSelector)(i.getCurrentCurrency);return(n,s={})=>{const{shorten:r,truncatedCharLimit:i,truncatedStartChars:o}=s;try{const s=new Intl.NumberFormat(e,{style:"currency",currency:t});if(!r)return s.format(n);const c=s.formatToParts(n);let u="",l="";c.forEach((e=>{"currency"===e.type?u+=e.value:l+=e.value}));const d=(0,a.shortenString)(l,{truncatedCharLimit:i??15,truncatedStartChars:o??12,truncatedEndChars:0,skipCharacterInEnd:!0});return c.findIndex((e=>"currency"===e.type))<c.findIndex((e=>"integer"===e.type))?`${u}${d}`:`${d}${u}`}catch(s){const i=new Intl.NumberFormat(e).format(n),o=(0,a.shortenString)(i,{truncatedCharLimit:15,truncatedStartChars:12,truncatedEndChars:0,skipCharacterInEnd:!0});return r?`${o} ${t}`:`${i} ${t}`}}}}}},{package:"$root$",file:"ui/hooks/useFiatFormatter.ts"}],[7047,{"../../shared/modules/selectors/networks":5923,"../ducks/metamask/metamask":6922,"../store/actions":7729,"./usePolling":7066,"lodash/isEqual":4921,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(e){const t=(0,r.useSelector)(c.getSelectedNetworkClientId),n=e??t,[l,d]=(0,i.useState)(""),h=(0,r.useSelector)((e=>(0,a.getGasEstimateTypeByChainId)(e,l))),m=(0,r.useSelector)((e=>(0,a.getGasFeeEstimatesByChainId)(e,l)),s.default),p=(0,r.useSelector)((e=>(0,a.getIsGasEstimatesLoadingByChainId)(e,{chainId:l,networkClientId:n}))),g=(0,r.useSelector)((e=>(0,a.getIsNetworkBusyByChainId)(e,l)));return(0,i.useEffect)((()=>{let e=!0;return(0,o.getNetworkConfigurationByNetworkClientId)(n).then((t=>{t&&e&&d(t.chainId)})),()=>{e=!1}}),[n]),(0,u.default)({startPolling:e=>(0,o.gasFeeStartPollingByNetworkClientId)(e.networkClientId),stopPollingByPollingToken:o.gasFeeStopPollingByPollingToken,input:{networkClientId:n}}),{gasFeeEstimates:m,gasEstimateType:h,isGasEstimatesLoading:p,isNetworkBusy:g}};var s=l(e("lodash/isEqual")),r=e("react-redux"),i=e("react"),a=e("../ducks/metamask/metamask"),o=e("../store/actions"),c=e("../../shared/modules/selectors/networks"),u=l(e("./usePolling"));function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[7048,{"../helpers/utils/util":6985,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react"),r=e("../helpers/utils/util");n.default=(e,t)=>{const[n,i]=(0,s.useState)("");return(0,s.useEffect)((()=>{(async()=>{const n=await(0,r.getAssetImageURL)(e,t);i(n)})()}),[e,t]),n}}}},{package:"$root$",file:"ui/hooks/useGetAssetImageUrl.ts"}],[7049,{"../../shared/modules/conversion.utils":5906,"../../shared/modules/selectors/networks":5923,"../selectors":7711,"./useTokenBalances":7075,"bn.js":4077,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGetFormattedTokensPerChain=void 0;var s=e("react-redux"),r=e("bn.js"),i=e("../selectors"),a=e("../../shared/modules/selectors/networks"),o=e("../../shared/modules/conversion.utils"),c=e("./useTokenBalances");n.useGetFormattedTokensPerChain=(e,t,n,u)=>{const l=(0,s.useSelector)(a.getCurrentChainId),d=(0,s.useSelector)(i.getAllTokens),h=(0,c.useTokenBalances)({chainIds:u});return{formattedTokensWithBalancesPerChain:(n?[l]:u).map((n=>{var s;const i=((null==d||null===(s=d[n])||void 0===s?void 0:s[null==e?void 0:e.address])??[]).reduce(((s,i)=>{var a;const u=(null===(a=h.tokenBalances[e.address])||void 0===a||null===(a=a[n])||void 0===a?void 0:a[i.address])??"0x0";if("0x0"!==u||!t){const e=(0,o.hexToDecimal)(u);s.push({address:i.address,symbol:i.symbol,decimals:i.decimals,balance:e,string:(0,c.stringifyBalance)(new r.BN(e),new r.BN(i.decimals))})}return s}),[]);return{chainId:n,tokensWithBalances:i}}))}}}}},{package:"$root$",file:"ui/hooks/useGetFormattedTokensPerChain.ts"}],[705,{"..":716,"../RegistryType":709,"../errors":711,"@ngraveio/bc-ur":3045},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.URRegistryDecoder=void 0;const s=e("@ngraveio/bc-ur"),r=e(".."),i=e("../RegistryType"),a=e("../errors");class o extends s.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case i.RegistryTypes.BYTES.getType():return r.Bytes.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_HDKEY.getType():return r.CryptoHDKey.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_KEYPATH.getType():return r.CryptoKeypath.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_COIN_INFO.getType():return r.CryptoCoinInfo.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_ECKEY.getType():return r.CryptoECKey.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_OUTPUT.getType():return r.CryptoOutput.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_PSBT.getType():return r.CryptoPSBT.fromCBOR(e.cbor);case i.RegistryTypes.CRYPTO_ACCOUNT.getType():return r.CryptoAccount.fromCBOR(e.cbor);default:throw new a.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}n.URRegistryDecoder=o}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/Decoder/index.js"}],[7051,{"../../app/scripts/lib/util":206,"../helpers/utils/isOriginalNativeTokenSymbol":6969,"../selectors":7711,"../selectors/multichain":7715,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalNativeTokenSymbol=function(e,t,n,u=""){const[l,d]=(0,s.useState)(!1),h=(0,r.useSelector)(i.useSafeChainsListValidationSelector),m=(0,r.useSelector)(a.getMultichainIsEvm),p=(0,r.useSelector)(a.getMultichainCurrentNetwork);return(0,s.useEffect)((()=>{!async function(e){if(m)try{if((e=>{const t=(0,o.getValidUrl)(e);return null!==t&&("localhost"===t.hostname||"127.0.0.1"===t.hostname)})(u))return void d(!0);const n=await(0,c.isOriginalNativeTokenSymbol)({ticker:t,chainId:e,useAPICall:h});d(n)}catch(e){d(!1)}else d(t===(null==p?void 0:p.ticker))}(e)}),[l,e,t,n,u,h,m,null==p?void 0:p.ticker]),l};var s=e("react"),r=e("react-redux"),i=e("../selectors"),a=e("../selectors/multichain"),o=e("../../app/scripts/lib/util"),c=e("../helpers/utils/isOriginalNativeTokenSymbol")}}},{package:"$root$",file:"ui/hooks/useIsOriginalNativeTokenSymbol.ts"}],[7052,{"../selectors":7711,"../store/actions":7729,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIsOriginalTokenSymbol=function(e,t){const[n,o]=(0,s.useState)(null),c=(0,r.useSelector)(a.getTokenList);return(0,s.useEffect)((()=>{!async function(e){var n,s;let r=null===(n=c[null==e?void 0:e.toLowerCase()])||void 0===n?void 0:n.symbol;r||(r=await(0,i.getTokenSymbol)(e)),o((null===(s=r)||void 0===s?void 0:s.toLowerCase())===(null==t?void 0:t.toLowerCase()))}(e)}),[e,t]),n};var s=e("react"),r=e("react-redux"),i=e("../store/actions"),a=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useIsOriginalTokenSymbol.js"}],[7053,{"../store/actions":7729,loglevel:4942,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useDisableMetametrics=function(){const e=(0,i.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null);return{disableMetametrics:(0,r.useCallback)((async()=>{n(!0),e((0,o.showLoadingIndication)()),a(null);try{await e((0,o.setParticipateInMetaMetrics)(!1))}catch(e){throw a(e instanceof Error?e.message:"An unexpected error occurred"),e}finally{n(!1),e((0,o.hideLoadingIndication)())}e((0,o.hideLoadingIndication)())}),[e]),loading:t,error:s}},n.useEnableMetametrics=function(){const e=(0,i.useDispatch)(),[t,n]=(0,r.useState)(!1),[s,c]=(0,r.useState)(null);return{enableMetametrics:(0,r.useCallback)((async()=>{n(!0),e((0,o.showLoadingIndication)()),c(null);try{await e((0,o.setParticipateInMetaMetrics)(!0))}catch(e){throw c(e instanceof Error?e.message:"An unexpected error occurred"),a.default.error(e),e}finally{n(!1),e((0,o.hideLoadingIndication)())}e((0,o.hideLoadingIndication)())}),[e]),loading:t,error:s}};var s,r=e("react"),i=e("react-redux"),a=(s=e("loglevel"))&&s.__esModule?s:{default:s},o=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useMetametrics.ts"}],[7054,{"../store/actions":7729,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useModalProps=function(){const e=(0,s.useSelector)((e=>{var t;return null===(t=e.appState.modal.modalState)||void 0===t?void 0:t.props})),t=(0,s.useDispatch)();return{props:e,hideModal:()=>t((0,r.hideModal)())}};var s=e("react-redux"),r=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useModalProps.ts"}],[7055,{react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=e=>{const t=(0,s.useRef)(new Map);(0,s.useEffect)((()=>{for(const n of e.input){const s=JSON.stringify(n);t.current.has(s)||e.startPolling(n).then((e=>t.current.set(s,e)))}for(const[n,s]of t.current.entries()){e.input.some((e=>n===JSON.stringify(e)))||(e.stopPollingByPollingToken(s),t.current.delete(n))}}),[e.input&&JSON.stringify(e.input)]),(0,s.useEffect)((()=>()=>{for(const n of t.current.values())e.stopPollingByPollingToken(n)}),[])}}}},{package:"$root$",file:"ui/hooks/useMultiPolling.ts"}],[7056,{"../../shared/constants/multichain/assets":5837,"../helpers/utils/confirm-tx.util":6961,"../helpers/utils/token-util":6982,"../selectors/multichain":7715,"./useAccountTotalFiatBalance":7030,"./useMultichainSelector":7058,"@metamask/keyring-api":2046,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainAccountTotalFiatBalance=n.EMPTY_VALUES=void 0;var s=e("react-redux"),r=e("@metamask/keyring-api"),i=e("../selectors/multichain"),a=e("../helpers/utils/confirm-tx.util"),o=e("../../shared/constants/multichain/assets"),c=e("../helpers/utils/token-util"),u=e("./useMultichainSelector"),l=e("./useAccountTotalFiatBalance");const d=n.EMPTY_VALUES={formattedFiat:"0",totalFiatBalance:"0",totalWeiBalance:"0",tokensWithBalances:[],loading:!1,orderedTokenList:[]};n.useMultichainAccountTotalFiatBalance=(e,t=!1)=>{var n;if((0,r.isEvmAccountType)(e.type))return(0,l.useAccountTotalFiatBalance)(e,t);const h=(0,u.useMultichainSelector)(i.getMultichainCurrentCurrency,e),{network:m}=(0,u.useMultichainSelector)(i.getMultichainNetwork,e),{ticker:p}=m,g=(0,u.useMultichainSelector)(i.getMultichainConversionRate,e),f=(0,u.useMultichainSelector)(i.getMultichainCurrencyImage,e),y=(0,s.useSelector)(i.getMultichainBalances),T=o.MULTICHAIN_NATIVE_CURRENCY_TO_CAIP19[p];if(null==y||null===(n=y[e.id])||void 0===n||!n[T])return d;const{amount:k}=y[e.id][T],v=(0,c.getTokenFiatAmount)(1,Number(g),h,k,p,!1,!1)??"0",b={iconUrl:f,symbol:p,fiatBalance:v};return{formattedFiat:(0,a.formatCurrency)(v,h),totalFiatBalance:v,totalBalance:k,tokensWithBalances:[],loading:!1,orderedTokenList:[b]}}}}},{package:"$root$",file:"ui/hooks/useMultichainAccountTotalFiatBalance.ts"}],[7057,{"../../shared/constants/transaction":5854,"../selectors/assets":7704,"../selectors/multichain":7715,"../selectors/selectors":7721,"./useMultichainSelector":7058,"@metamask/utils":3026,"bignumber.js":4029,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainBalances=void 0;var s=e("react"),r=e("react-redux"),i=e("@metamask/utils"),a=e("bignumber.js"),o=e("../selectors/assets"),c=e("../selectors/multichain"),u=e("../../shared/constants/transaction"),l=e("../selectors/selectors"),d=e("./useMultichainSelector");n.useMultichainBalances=e=>{const t=(0,r.useSelector)(l.getSelectedEvmInternalAccount),n=(0,r.useSelector)((t=>(0,l.getInternalAccount)(t,e??""))),h=e?n:t,m=(0,r.useSelector)((e=>(0,o.getTokenBalancesEvm)(e,null==h?void 0:h.address))),p=(0,r.useSelector)(c.getLastSelectedNonEvmAccount),g=(e=>{const t=(0,r.useSelector)(o.getAccountAssets),n=(0,r.useSelector)(o.getAssetsMetadata),l=(0,d.useMultichainSelector)(c.getMultichainBalances),h=(0,r.useSelector)(o.getAssetsRates);return(0,s.useMemo)((()=>{if(!e)return[];const s=null==t?void 0:t[e],r=null==l?void 0:l[e];return r&&s?s.filter((e=>n[e])).map((e=>{var t,s,o,c,l,d,m;const{chainId:p,assetReference:g,assetNamespace:f}=(0,i.parseCaipAssetType)(e);return{chainId:p,symbol:(null===(t=n[e])||void 0===t?void 0:t.symbol)??"",assetId:e,address:g,string:(null===(s=r[e])||void 0===s?void 0:s.amount)??"0",balance:(null===(o=r[e])||void 0===o?void 0:o.amount)??"0",decimals:null===(c=n[e])||void 0===c||null===(c=c.units[0])||void 0===c?void 0:c.decimals,image:(null===(l=n[e])||void 0===l?void 0:l.iconUrl)??"",type:"token"===f?u.AssetType.token:u.AssetType.native,tokenFiatAmount:new a.BigNumber((null===(d=r[e])||void 0===d?void 0:d.amount)??"1").times((null==h||null===(m=h[e])||void 0===m?void 0:m.rate)??"1").toNumber()}})).filter(Boolean):[]}),[n,h,t,e,l])})(e??(null==p?void 0:p.id));return{assetsWithBalance:(0,s.useMemo)((()=>[...m,...g].map((e=>({...e,type:e.isNative?u.AssetType.native:u.AssetType.token}))).sort(((e,t)=>(t.tokenFiatAmount??0)-(e.tokenFiatAmount??0)))),[m,g]),balanceByChainId:(0,s.useMemo)((()=>[...m,...g].reduce(((e,t)=>(e[t.chainId]||(e[t.chainId]=0),e[t.chainId]+=t.tokenFiatAmount??0,e)),{})),[m,g])}}}}},{package:"$root$",file:"ui/hooks/useMultichainBalances.ts"}],[7058,{"../selectors":7711,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMultichainSelector=function(e,t){return(0,s.useSelector)((n=>e(n,t||(0,r.getSelectedInternalAccount)(n))))};var s=e("react-redux"),r=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useMultichainSelector.ts"}],[7059,{"../../shared/constants/transaction":5854,"../components/app/assets/util/formatWithThreshold":6020,"../ducks/locale/locale":6921,"./useI18nContext":7050,"@metamask/keyring-api":2046,"@metamask/multichain-network-controller":2181,"@metamask/transaction-controller":2981,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.KEYRING_TRANSACTION_STATUS_KEY=void 0,n.useMultichainTransactionDisplay=function(e,t){const n=(0,a.useSelector)(c.getIntlLocale),{chainId:r}=t,o=i.MULTICHAIN_NETWORK_DECIMAL_PLACES[r],u=(0,l.useI18nContext)(),h=d(e.from,!0,n,o),m=d(e.to,e.type===s.TransactionType.Send,n,o),p=d((e.fees||[]).filter((e=>"base"===e.type)),!0,n),g=d((e.fees||[]).filter((e=>"priority"===e.type)),!0,n),f={[s.TransactionType.Send]:u("send"),[s.TransactionType.Receive]:u("receive"),[s.TransactionType.Swap]:`${u("swap")} ${null==h?void 0:h.unit} ${u("to").toLowerCase()} ${null==m?void 0:m.unit}`,[s.TransactionType.Unknown]:u("interaction")};return{...e,title:f[e.type],from:h,to:m,baseFee:p,priorityFee:g,isRedeposit:0===e.to.length&&e.type===s.TransactionType.Send}};var s=e("@metamask/keyring-api"),r=e("@metamask/transaction-controller"),i=e("@metamask/multichain-network-controller"),a=e("react-redux"),o=e("../components/app/assets/util/formatWithThreshold"),c=e("../ducks/locale/locale"),u=e("../../shared/constants/transaction"),l=e("./useI18nContext");n.KEYRING_TRANSACTION_STATUS_KEY={[s.TransactionStatus.Failed]:r.TransactionStatus.failed,[s.TransactionStatus.Confirmed]:r.TransactionStatus.confirmed,[s.TransactionStatus.Unconfirmed]:u.TransactionGroupStatus.pending,[s.TransactionStatus.Submitted]:r.TransactionStatus.submitted};function d(e,t,n,s){const r={};for(const t of e){if(null==t||!t.asset.fungible)continue;const e=t.asset.type;r[e]?r[e].amount+=parseFloat(t.asset.amount):r[e]={amount:parseFloat(t.asset.amount),address:t.address,unit:t.asset.unit}}return Object.entries(r).map((([e,r])=>function(e,t,n,s){const r=1/10**(s||8),i=(0,o.formatWithThreshold)(e.amount,r,t,{minimumFractionDigits:0,maximumFractionDigits:s||8});let a=i;n&&(a=`-${i}`);return{...e,amount:a}}(r,n,t,s)))[0]}}}},{package:"$root$",file:"ui/hooks/useMultichainTransactionDisplay.ts"}],[706,{"./CryptoECKey":700,"./CryptoHDKey":701,"./RegistryItem":708,"./RegistryType":709,"./lib/DataItem":717},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MultiKey=void 0;const s=e("./CryptoECKey"),r=e("./CryptoHDKey"),i=e("./lib/DataItem"),a=e("./RegistryItem"),o=e("./RegistryType");var c;!function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"}(c||(c={}));class u extends a.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const e={};e[c.threshold]=this.threshold;const t=this.keys.map((e=>{const t=e.toDataItem();return t.setTag(e.getRegistryType().getTag()),t}));return e[c.keys]=t,new i.DataItem(e)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map((e=>e.getOutputDescriptorContent())).join(",")].join(",")}}n.MultiKey=u,u.fromDataItem=e=>{const t=e.getData(),n=t[c.threshold],i=t[c.keys],a=[];return i.forEach((e=>{e.getTag()===o.RegistryTypes.CRYPTO_HDKEY.getTag()?a.push(r.CryptoHDKey.fromDataItem(e)):e.getTag()===o.RegistryTypes.CRYPTO_ECKEY.getTag()&&a.push(s.CryptoECKey.fromDataItem(e))})),new u(n,a)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/MultiKey.js"}],[7060,{"../selectors":7711,"@metamask/name-controller":2307,lodash:4934,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useName=function(e,t,n){return o([{value:e,type:t,variation:n}])[0]},n.useNames=o;var s=e("@metamask/name-controller"),r=e("react-redux"),i=e("lodash"),a=e("../selectors");function o(e){const t=(0,r.useSelector)(a.getNames,i.isEqual);return e.map((({value:e,type:n,variation:r})=>{var i;const a=function(e,t){if(t===s.NameType.ETHEREUM_ADDRESS)return e.toLowerCase();return e}(e,n),o=(null===(i=t[n])||void 0===i?void 0:i[a])??{},c=o[r],u=o[s.FALLBACK_VARIATION],l=null!=c&&c.name||!u?c??{}:u,{name:d=null,sourceId:h=null,origin:m=null,proposedNames:p={}}=l;return{name:d,sourceId:h,proposedNames:p,origin:m}}))}}}},{package:"$root$",file:"ui/hooks/useName.ts"}],[7061,{"../../shared/constants/transaction":5854,"../store/actions":7729,"./useAsync":7033},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftCollectionsMetadata=function(e){const{value:t}=(0,i.useAsyncResult)((()=>async function(e){const t=e.reduce(((e,{chainId:t,contractAddress:n})=>(e[t]=[...e[t]??[],n.toLowerCase()],e)),{}),n=Object.keys(t),s=await Promise.all(n.map((e=>async function(e,t){const n=await Promise.all(e.map((e=>(0,r.getTokenStandardAndDetails)(e,t)))),s=e.filter(((e,t)=>a.includes(n[t].standard)));if(0===s.length)return{};const i=await(0,r.getNFTContractInfo)(s,t);return i.collections.reduce(((e,t,n)=>(e[s[n]]={name:null==t?void 0:t.name,image:null==t?void 0:t.image,isSpam:null==t?void 0:t.isSpam},e)),{})}(t[e],e))));return n.reduce(((e,t,n)=>(e[t]=s[n],e)),{})}(e)),[JSON.stringify(e)]);return t??{}};var s=e("../../shared/constants/transaction"),r=e("../store/actions"),i=e("./useAsync");const a=[s.TokenStandard.ERC721]}}},{package:"$root$",file:"ui/hooks/useNftCollectionsMetadata.ts"}],[7062,{"../../shared/modules/selectors/networks":5923,"../ducks/metamask/metamask":6922,"../selectors":7711,"./useI18nContext":7050,"./usePrevious":7067,lodash:4934,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNfts=function({overridePopularNetworkFilter:e=!1}={}){const t=(0,l.useI18nContext)(),n=(0,r.useSelector)(a.getAllNfts),{address:d}=(0,r.useSelector)(o.getSelectedInternalAccount),h=(0,r.useSelector)(c.getCurrentChainId),m=(0,r.useSelector)(o.getAllChainsToPoll),p=(0,r.useSelector)(o.getIsTokenNetworkFilterEqualCurrentNetwork),g=(0,s.useMemo)((()=>p||e?(null==n?void 0:n[h])??[]:n),[p,n,h,e]),f=(0,r.useSelector)(a.getNftContracts),y=t("nftsPreviouslyOwned"),T=t("unknownCollection"),[k,v]=(0,s.useState)([]),[b,S]=(0,s.useState)([]),[_,I]=(0,s.useState)((()=>(null==g?void 0:g.length)>=0)),w=(0,u.usePrevious)(g),C=(0,u.usePrevious)(m),E=(0,u.usePrevious)(d);return(0,s.useEffect)((()=>{(0,i.isEqual)(w,g)&&(0,i.isEqual)(E,d)&&(0,i.isEqual)(C,h)||(()=>{if(I(!0),d===undefined||m===undefined)return;const e=[],t=[];Object.values(g).flat().forEach((n=>{!1===(null==n?void 0:n.isCurrentlyOwned)?e.push(n):t.push(n)})),S(e),v(t),I(!1)})()}),[g,w,f,I,h,C,d,E,y,T,m]),{loading:_,currentlyOwnedNfts:k,previouslyOwnedNfts:b}};var s=e("react"),r=e("react-redux"),i=e("lodash"),a=e("../ducks/metamask/metamask"),o=e("../selectors"),c=e("../../shared/modules/selectors/networks"),u=e("./usePrevious"),l=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNfts.ts"}],[7063,{"../../shared/modules/selectors/networks":5923,"../ducks/metamask/metamask":6922,"../helpers/utils/nfts":6973,"../selectors":7711,"./useI18nContext":7050,"./usePrevious":7067,lodash:4934,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useNftsCollections=function(){const e=(0,d.useI18nContext)(),t=e("nftsPreviouslyOwned"),n=e("unknownCollection"),[h,m]=(0,s.useState)({}),[p,g]=(0,s.useState)({collectionName:t,nfts:[]}),f=(0,r.useSelector)(o.getIsTokenNetworkFilterEqualCurrentNetwork),y=(0,r.useSelector)(a.getAllNfts),{address:T}=(0,r.useSelector)(o.getSelectedInternalAccount),k=(0,r.useSelector)(c.getCurrentChainId),v=(0,s.useMemo)((()=>f?(null==y?void 0:y[k])??[]:y),[f,y,k]),[b,S]=(0,s.useState)((()=>(null==v?void 0:v.length)>=0)),_=(0,r.useSelector)(a.getNftContracts),I=(0,l.usePrevious)(v),w=(0,l.usePrevious)(k),C=(0,l.usePrevious)(T);return(0,s.useEffect)((()=>{(0,i.isEqual)(I,v)&&(0,i.isEqual)(C,T)&&(0,i.isEqual)(w,k)||(()=>{if(S(!0),T===undefined||k===undefined)return;const e={},s={collectionName:t,nfts:[]};Object.values(v).flat().forEach((t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))s.nfts.push(t);else if(e[t.address])e[t.address].nfts.push(t);else{const s=_.find((({address:e})=>e===t.address));e[t.address]={collectionName:(null==s?void 0:s.name)||n,collectionImage:(null==s?void 0:s.logo)||(0,u.getNftImage)(t.image),nfts:[t]}}})),m(e),g(s),S(!1)})()}),[v,I,_,S,k,w,T,C,t,n]),{nftsLoading:b,collections:h,previouslyOwnedCollection:p}};var s=e("react"),r=e("react-redux"),i=e("lodash"),a=e("../ducks/metamask/metamask"),o=e("../selectors"),c=e("../../shared/modules/selectors/networks"),u=e("../helpers/utils/nfts"),l=e("./usePrevious"),d=e("./useI18nContext")}}},{package:"$root$",file:"ui/hooks/useNftsCollections.js"}],[7064,{"../helpers/constants/notifications":6938,"../store/actions":7729,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSnapNotificationTimeouts=void 0;var s=e("react-redux"),r=e("../store/actions"),i=e("../helpers/constants/notifications");n.useSnapNotificationTimeouts=()=>{const e=(0,s.useDispatch)();return{setNotificationTimeout:t=>{setTimeout((()=>{e((0,r.deleteNotificationsById)([t]))}),i.NOTIFICATIONS_EXPIRATION_DELAY)}}}}}},{package:"$root$",file:"ui/hooks/useNotificationTimeouts.ts"}],[7065,{"../selectors":7711,"@metamask/permission-controller":2452,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,r.useSelector)((t=>(0,i.getTargetSubjectMetadata)(t,e)));if(!e)return null;let n=null;try{const t=new URL(e);n={host:t.host,hostname:t.hostname,origin:e,subjectType:s.SubjectType.Unknown}}catch(e){}if(t&&n)return{...n,...t};if(t)return t;return n};var s=e("@metamask/permission-controller"),r=e("react-redux"),i=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[7066,{react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("react");n.default=e=>{const t=(0,s.useRef)(null),n=(0,s.useRef)(null);let r=!1;(0,s.useEffect)((()=>{if(!1===e.enabled)return()=>{};r=!0;const s=()=>{var s;t.current&&(e.stopPollingByPollingToken(t.current),null===(s=n.current)||void 0===s||s.call(n,t.current))};return e.startPolling(e.input).then((i=>{var a;t.current=i,n.current=(null===(a=e.callback)||void 0===a?void 0:a.call(e,i))||null,r||s()})),()=>{r=!1,s()}}),[e.input&&JSON.stringify(e.input),e.enabled])}}}},{package:"$root$",file:"ui/hooks/usePolling.ts"}],[7067,{react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePrevious=function(e){const t=(0,s.useRef)();return(0,s.useEffect)((()=>{t.current=e}),[e]),t.current};var s=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.ts"}],[7068,{"./usePrevious":7067,lodash:4934,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useScrollRequired=void 0;var s=e("react"),r=e("lodash"),i=e("./usePrevious");n.useScrollRequired=(e=[],{offsetPxFromBottom:t=16}={})=>{var n,a;const o=(0,s.useRef)(null),c=(0,i.usePrevious)(null===(n=o.current)||void 0===n?void 0:n.offsetHeight),[u,l]=(0,s.useState)(!1),[d,h]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),g=()=>{if(!o.current)return;const e=o.current&&o.current.scrollHeight>o.current.clientHeight,n=e&&Math.round(o.current.scrollTop)+o.current.offsetHeight+t>=o.current.scrollHeight;e!==d&&(l(!1),h(e)),p(!e||n),e&&!n||l(!0)};(0,s.useEffect)(g,[o,...e]),(0,s.useEffect)((()=>{var e;c!==(null===(e=o.current)||void 0===e?void 0:e.offsetHeight)&&g()}),[null===(a=o.current)||void 0===a?void 0:a.offsetHeight]);return{isScrollable:d,isScrolledToBottom:m,hasScrolledToBottom:u,scrollToBottom:()=>{p(!0),l(!0),o.current&&o.current.scrollTo({top:o.current.scrollHeight,behavior:"smooth"})},setHasScrolledToBottom:l,ref:o,onScroll:(0,r.debounce)(g,25)}}}}},{package:"$root$",file:"ui/hooks/useScrollRequired.js"}],[7069,{"../helpers/constants/routes":6940,"../selectors":7711,"react-redux":5230,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,r.useRouteMatch)({path:o,exact:!0,strict:!0}),t=((0,s.useSelector)(a.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:i.PATH_NAME_MAP[e.path],url:e.path}:undefined,referrer:n}};var s=e("react-redux"),r=e("react-router-dom"),i=e("../helpers/constants/routes"),a=e("../selectors");const o=Object.keys(i.PATH_NAME_MAP)}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[707,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PathComponent=void 0;class s{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==undefined?this.wildcard=!1:this.wildcard=!0,this.index&&this.index&s.HARDENED_BIT)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}}n.PathComponent=s,s.HARDENED_BIT=2147483648}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/PathComponent.js"}],[7070,{"../ducks/app/app":6907,"./useGasFeeEstimates":7047,lodash:4934,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,o.useGasFeeEstimates)(),n=(0,r.useDispatch)(),c=(0,r.useSelector)(a.getGasLoadingAnimationIsShowing),u=(0,s.useRef)(t),l=!(0,i.isEqual)(u.current,t),d=(0,i.isEqual)(u.current,{});l&&(u.current=t);const h=e||l&&!d;(0,s.useEffect)((()=>{!1===c&&!0===h&&n((0,a.toggleGasLoadingAnimation)(!0))}),[n,c,h]),(0,s.useEffect)((()=>{let e;return c&&!h&&(e=setTimeout((()=>{n((0,a.toggleGasLoadingAnimation)(!1))}),2e3)),()=>{e&&clearTimeout(e)}}),[n,c,h])};var s=e("react"),r=e("react-redux"),i=e("lodash"),a=e("../ducks/app/app"),o=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[7071,{"../../shared/constants/time":5852,"../../shared/modules/selectors/networks":5923,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:o}=e,c=(0,r.useSelector)(a.getCurrentChainId),[u={}]=n,l=u.chainId===c,{submittedTime:d}=u,[h,m]=(0,s.useState)((()=>Date.now()-d>5e3&&t&&!o&&l));return(0,s.useEffect)((()=>{let e;return o||!t||h||(Date.now()-d>5*i.SECOND?m(!0):e=setTimeout((()=>{m(!0),clearTimeout(e)}),5001-(Date.now()-d))),()=>{e&&clearTimeout(e)}}),[d,h,o,t]),h};var s=e("react"),r=e("react-redux"),i=e("../../shared/constants/time"),a=e("../../shared/modules/selectors/networks")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[7072,{"../../shared/lib/transactions-controller-utils":5897,"../../shared/modules/selectors/networks":5923,"../../shared/modules/swaps.utils":5927,"./useTokenFiatAmount":7079,"@metamask/transaction-controller":2981,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:u,address:l}=t,{primaryTransaction:d,initialTransaction:h}=e,{type:m}=h,{from:p}=h.txParams||{},g=(0,s.useSelector)(o.getCurrentChainId),f=m===r.TransactionType.swap&&((null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,a.isSwapsDefaultTokenAddress)(t.address,g)&&(0,a.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,g)),y=[r.TransactionType.swap].includes(m)&&f?(0,i.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,h,l,p,u,null,g):[r.TransactionType.swap,r.TransactionType.swapAndSend].includes(m)&&d.swapTokenValue,T="string"==typeof y&&-1===Math.sign(y),k=(0,c.useTokenFiatAmount)(l,y||"",n),v=(0,c.useTokenFiatAmount)(d.sourceTokenAddress,y,d.sourceTokenSymbol);let b;y&&(f?b=k:m===r.TransactionType.swapAndSend&&(b=v));return{swapTokenValue:y,swapTokenFiatAmount:b,isViewingReceivedTokenFromSwap:f,isNegative:T}};var s=e("react-redux"),r=e("@metamask/transaction-controller"),i=e("../../shared/lib/transactions-controller-utils"),a=e("../../shared/modules/swaps.utils"),o=e("../../shared/modules/selectors/networks"),c=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[7073,{"../../shared/constants/preferences":5844,"../selectors":7711,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTheme=function(){const e=(0,r.useSelector)(i.getTheme),[t,n]=(0,s.useState)(e);return(0,s.useEffect)((()=>{const t=e&&e!==a.ThemeType.os?e:document.documentElement.getAttribute("data-theme");o.includes(t)||(console.warn(`useTheme: Invalid theme resolved to "${t}". Defaulting to "${a.ThemeType.light}".`),n(a.ThemeType.light)),n(t)}),[e]),t};var s=e("react"),r=e("react-redux"),i=e("../selectors"),a=e("../../shared/constants/preferences");const o=Object.values(a.ThemeType).filter((e=>e!==a.ThemeType.os))}}},{package:"$root$",file:"ui/hooks/useTheme.ts"}],[7074,{react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const r=(0,s.useRef)(),[i,a]=(0,s.useState)(null);(0,s.useEffect)((()=>{r.current=e}),[e]),(0,s.useEffect)((()=>{if("start"!==i)return undefined;const e=setTimeout((()=>{r.current()}),t);return a(e),()=>{clearTimeout(i)}}),[t,i]);const o=(0,s.useCallback)((()=>{clearTimeout(i),a("start")}),[i]);n&&o();return o};var s=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[7075,{"../../shared/modules/conversion.utils":5906,"../../shared/modules/selectors/networks":5923,"../ducks/metamask/metamask":6922,"../store/actions":7729,"./useMultiPolling":7055,"bn.js":4077,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.stringifyBalance=h,n.useTokenTracker=n.useTokenBalances=void 0;var s=e("react-redux"),r=l(e("bn.js")),i=e("../../shared/modules/selectors/networks"),a=e("../store/actions"),o=e("../ducks/metamask/metamask"),c=e("../../shared/modules/conversion.utils"),u=l(e("./useMultiPolling"));function l(e){return e&&e.__esModule?e:{default:e}}const d=({chainIds:e}={})=>{const t=(0,s.useSelector)(o.getTokenBalances),n=(0,s.useSelector)(i.getNetworkConfigurationsByChainId);return(0,u.default)({startPolling:a.tokenBalancesStartPolling,stopPollingByPollingToken:a.tokenBalancesStopPollingByPollingToken,input:e??Object.keys(n)}),{tokenBalances:t}};n.useTokenBalances=d;function h(e,t,n=5){if(e.eq(new r.default(0)))return"0";const s=parseInt(t.toString(),10);if(0===s)return e.toString();let i=e.toString(),a=i.length,o=a-s,c="";if(o<=0){for(;c.length<=-1*o;)c+="0",a+=1;i=c+i,o=1}const u=i.substr(0,a-s);if(0===n)return u;const l=i.substr(o,n);if(/0+$/u.test(l)){let e=i.substr(o).replace(/0+$/u,"");return e.length>0&&(e=`.${e}`),`${u}${e}`}return`${u}.${l}`}n.useTokenTracker=({chainId:e,tokens:t,address:n,hideZeroBalanceTokens:s})=>{const{tokenBalances:i}=d({chainIds:[e]});return{tokensWithBalances:t.reduce(((t,a)=>{var o;const u=(null===(o=i[n])||void 0===o||null===(o=o[e])||void 0===o?void 0:o[a.address])??"0x0";if("0x0"!==u||!s){const e=(0,c.hexToDecimal)(u);t.push({address:a.address,symbol:a.symbol,decimals:a.decimals,balance:e,balanceError:null,string:h(new r.default(e),new r.default(a.decimals))})}return t}),[])}}}}},{package:"$root$",file:"ui/hooks/useTokenBalances.ts"}],[7076,{"../../shared/modules/transaction.utils":5928,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,s.useMemo)((()=>t&&e?(0,r.parseStandardTokenTransactionData)(e):null),[t,e])};var s=e("react"),r=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[7077,{"../ducks/metamask/metamask":6922,"../selectors":7711,"../store/actions":7729,"./useMultiPolling":7055,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),i=e("../selectors"),a=e("../store/actions"),o=e("../ducks/metamask/metamask"),c=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(i.getUseTokenDetection),t=(0,r.useSelector)(o.getCompletedOnboarding),n=(0,r.useSelector)(o.getIsUnlocked),s=(0,r.useSelector)(i.getChainIdsToPoll),u=t&&n&&e;return(0,c.default)({startPolling:a.tokenDetectionStartPolling,stopPollingByPollingToken:a.tokenDetectionStopPollingByPollingToken,input:u?[s]:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenDetectionPolling.ts"}],[7078,{"../../shared/lib/metamask-controller-utils":5885,"../../shared/lib/transactions-controller-utils":5897,"./useTokenData":7076,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const o=(0,a.useTokenData)(e,n),c=(0,r.getTokenValueParam)(o),u=Boolean(n&&e&&t&&null!==t.decimals&&t.decimals!==undefined&&c);return(0,s.useMemo)((()=>u?(0,i.calcTokenAmount)(c,t.decimals).toString(10):null),[u,c,t])};var s=e("react"),r=e("../../shared/lib/metamask-controller-utils"),i=e("../../shared/lib/transactions-controller-utils"),a=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[708,{"./lib":719,"@ngraveio/bc-ur":3045},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RegistryItem=void 0;const s=e("@ngraveio/bc-ur"),r=e("./lib");n.RegistryItem=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===undefined)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,r.encodeDataItem)(this.toDataItem())},this.toUR=()=>new s.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{const r=this.toUR();return new s.UREncoder(r,e,t,n)}}}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryItem.js"}],[7080,{"../ducks/metamask/metamask":6922,"../selectors":7711,"../store/actions":7729,"./useMultiPolling":7055,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),i=e("../selectors"),a=e("../store/actions"),o=e("../ducks/metamask/metamask"),c=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(i.getUseTokenDetection),t=(0,r.useSelector)(i.getUseTransactionSimulations),n=(0,r.useSelector)(o.getCompletedOnboarding),s=(0,r.useSelector)(o.getIsUnlocked),u=(0,r.useSelector)(i.getUseExternalServices),l=(0,r.useSelector)(i.getChainIdsToPoll),d=n&&s&&u&&(e||t);return(0,c.default)({startPolling:a.tokenListStartPolling,stopPollingByPollingToken:a.tokenListStopPollingByPollingToken,input:d?l:[]}),{}}}}},{package:"$root$",file:"ui/hooks/useTokenListPolling.ts"}],[7081,{"../ducks/metamask/metamask":6922,"../selectors":7711,"../store/actions":7729,"./useMultiPolling":7055,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=e("react-redux"),i=e("../selectors"),a=e("../store/actions"),o=e("../ducks/metamask/metamask"),c=(s=e("./useMultiPolling"))&&s.__esModule?s:{default:s};n.default=()=>{const e=(0,r.useSelector)(o.getCompletedOnboarding),t=(0,r.useSelector)(o.getIsUnlocked),n=(0,r.useSelector)(i.getUseCurrencyRateCheck),s=(0,r.useSelector)(i.getChainIdsToPoll),u=(0,r.useSelector)(i.getTokenExchangeRates),l=(0,r.useSelector)(i.getTokensMarketData),d=(0,r.useSelector)(i.getMarketData),h=e&&t&&n;return(0,c.default)({startPolling:a.tokenRatesStartPolling,stopPollingByPollingToken:a.tokenRatesStopPollingByPollingToken,input:h?[s]:[]}),{tokenExchangeRates:u,tokensMarketData:l,marketData:d}}}}},{package:"$root$",file:"ui/hooks/useTokenRatesPolling.ts"}],[7082,{"../../shared/constants/time":5852,"../../shared/modules/selectors/networks":5923,"../../shared/modules/string-utils":5926,"../selectors":7711,"./useEqualityCheck":7043,"@metamask/eth-token-tracker":1913,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function({tokens:e,address:t,includeFailedTokens:n=!1,hideZeroBalanceTokens:s=!1}){const{chainId:h,rpcUrl:m}=(0,a.useSelector)(c.getProviderConfig),{address:p}=(0,a.useSelector)(o.getSelectedInternalAccount,a.shallowEqual),g=t??p,[f,y]=(0,r.useState)((()=>(null==e?void 0:e.length)>=0)),[T,k]=(0,r.useState)([]),[v,b]=(0,r.useState)(null),S=(0,r.useRef)(null),_=(0,d.useEqualityCheck)(e),I=(0,r.useCallback)((e=>{const t=(s?e.filter((e=>Number(e.balance)>0)):e).map((e=>{const t=_.find((t=>(0,l.isEqualCaseInsensitive)(t.address,e.address)));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}}));k(t),y(!1),b(null)}),[s,_]),w=(0,r.useCallback)((e=>{b(e),y(!1)}),[]),C=(0,r.useCallback)((()=>{S.current&&(S.current.stop(),S.current.removeAllListeners("update"),S.current.removeAllListeners("error"),S.current=null)}),[]),E=(0,r.useCallback)(((e,t)=>{C(),S.current=new i.default({userAddress:e,provider:global.ethereumProvider,tokens:t,includeFailedTokens:n,pollingInterval:8*u.SECOND,balanceDecimals:5}),S.current.on("update",I),S.current.on("error",w),S.current.updateBalances()}),[I,n,w,C]);return(0,r.useEffect)((()=>C),[C]),(0,r.useEffect)((()=>{y(!0),g&&h!==undefined&&global.ethereumProvider?(0===_.length&&I([]),E(g,_)):C()}),[g,C,h,m,_,I,E]),{loading:f,tokensWithBalances:T,error:v}};var s,r=e("react"),i=(s=e("@metamask/eth-token-tracker"))&&s.__esModule?s:{default:s},a=e("react-redux"),o=e("../selectors"),c=e("../../shared/modules/selectors/networks"),u=e("../../shared/constants/time"),l=e("../../shared/modules/string-utils"),d=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[7083,{"../../shared/constants/network":5839,"../../shared/constants/swaps":5850,"../../shared/modules/hexstring-utils":5912,"../../shared/modules/selectors/networks":5923,"../../shared/modules/swaps.utils":5927,"../ducks/metamask/metamask":6922,"../ducks/swaps/swaps":6930,"../helpers/utils/token-util":6982,"../selectors":7711,"./useEqualityCheck":7043,"@metamask/assets-controllers":1363,"bignumber.js":4029,lodash:4934,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=k,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:s=f.TokenBucketPriority.owned}){const c=(0,i.useSelector)(d.getCurrentChainId),u=(0,i.useSelector)(l.getTokenExchangeRates,o.isEqual),g=(0,i.useSelector)(h.getConversionRate),y=(0,i.useSelector)(h.getCurrentCurrency),v=(0,i.useSelector)(l.getSwapsDefaultToken,i.shallowEqual),b=(0,i.useSelector)(l.getTokenList,o.isEqual),S=(0,T.useEqualityCheck)(t),_=(0,T.useEqualityCheck)(e),I=k(v,u,g,y,c,b),w=(0,T.useEqualityCheck)(I),C=(0,i.useSelector)(m.getSwapsTokens,o.isEqual)||[],E=C.length?C:[w,...n.filter((e=>e.symbol!==w.symbol))],M=(0,T.useEqualityCheck)(E);return(0,r.useMemo)((()=>{const e=_.reduce(((e,t)=>({...e,[t.address.toLowerCase()]:t})),{}),t={owned:[],top:[],others:[]};return(0,o.uniqBy)([w,...M,..._],(e=>e.address.toLowerCase())).forEach((n=>{const r=k({...e[n.address.toLowerCase()],...n},u,g,y,c,b);s===f.TokenBucketPriority.owned?(0,p.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(r):S[n.address.toLowerCase()]?t.top[S[n.address.toLowerCase()].index]=r:t.others.push(r):S[n.address.toLowerCase()]?t.top[S[n.address.toLowerCase()].index]=r:(0,p.isSwapsDefaultTokenSymbol)(r.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(r):t.others.push(r)})),t.owned=t.owned.sort((({rawFiat:e},{rawFiat:t})=>new a.default(e||0).gt(t||0)?-1:1)),t.top=t.top.filter(Boolean),s===f.TokenBucketPriority.owned?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]}),[M,_,S,u,g,y,w,c,b,s])};var s,r=e("react"),i=e("react-redux"),a=(s=e("bignumber.js"))&&s.__esModule?s:{default:s},o=e("lodash"),c=e("@metamask/assets-controllers"),u=e("../helpers/utils/token-util"),l=e("../selectors"),d=e("../../shared/modules/selectors/networks"),h=e("../ducks/metamask/metamask"),m=e("../ducks/swaps/swaps"),p=e("../../shared/modules/swaps.utils"),g=e("../../shared/modules/hexstring-utils"),f=e("../../shared/constants/swaps"),y=e("../../shared/constants/network"),T=e("./useEqualityCheck");function k(e,t,n,s,r,i){var o,l;const{symbol:d,name:h,address:m,iconUrl:f,string:T,balance:k,decimals:v}=e;let b;(0,p.isSwapsDefaultTokenSymbol)(d,r)?b=1:T&&n>0&&(b=t[(0,g.toChecksumHexAddress)(m)]);const S=(0,u.getTokenFiatAmount)(b,n,s,T,d,!0)||"",_=S?(0,u.getTokenFiatAmount)(b,n,s,T,d,!1):"",I=r===y.CHAIN_IDS.SEPOLIA?y.CHAIN_IDS.MAINNET:r,w=(d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.MAINNET||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.SEPOLIA||d===y.CURRENCY_SYMBOLS.BNB&&r===y.CHAIN_IDS.BSC||d===y.CURRENCY_SYMBOLS.MATIC&&r===y.CHAIN_IDS.POLYGON||d===y.CURRENCY_SYMBOLS.AVALANCHE&&r===y.CHAIN_IDS.AVALANCHE||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.OPTIMISM||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.ARBITRUM||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.LINEA_MAINNET||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.ZKSYNC_ERA||d===y.CURRENCY_SYMBOLS.ETH&&r===y.CHAIN_IDS.BASE?f:(0,c.formatIconUrlWithProxy)({chainId:I,tokenAddress:m||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:h||(null===(o=i[null==m?void 0:m.toLowerCase()])||void 0===o?void 0:o.name),rightPrimaryLabel:T&&`${new a.default(T).round(6).toString()} ${d}`,rightSecondaryLabel:S,iconUrl:w,identiconAddress:w?null:m,balance:k,decimals:v,name:h||(null===(l=i[null==m?void 0:m.toLowerCase()])||void 0===l?void 0:l.name),rawFiat:_,image:e.image||e.iconUrl}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[7084,{"../../shared/constants/bridge":5825,"../../shared/constants/transaction":5854,"../../shared/lib/metamask-controller-utils":5885,"../../shared/modules/string-utils":5926,"../ducks/bridge-status/selectors":6909,"../ducks/locale/locale":6921,"../ducks/metamask/metamask":6922,"../helpers/constants/common":6932,"../helpers/constants/transactions":6946,"../helpers/utils/common.util":6960,"../helpers/utils/token-util":6982,"../helpers/utils/transactions.util":6983,"../helpers/utils/util":6985,"../pages/bridge/hooks/useBridgeTokenDisplayData":7108,"../pages/confirmations/components/simulation-details/formatAmount":7312,"../selectors/selectors":7721,"../store/actions":7729,"./bridge/useBridgeChainInfo":6996,"./useCurrencyDisplay":7039,"./useCurrentAsset":7041,"./useI18nContext":7050,"./useSwappedTokenValue":7072,"./useTokenData":7076,"./useTokenDisplayValue":7078,"./useTokenFiatAmount":7079,"./useUserPreferencedCurrency":7085,"@metamask/transaction-controller":2981,"bignumber.js":4029,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,R,x,B,$,F,U,L,j,H;const W=(0,s.useDispatch)(),q=(0,s.useSelector)(S.getIntlLocale),K=(0,P.useCurrentAsset)(),G=(0,s.useSelector)(o.getAllTokens),V=(0,s.useSelector)(o.getSelectedAddress),Y=(0,s.useSelector)(p.getNfts),z=(0,s.useSelector)(o.getAllDetectedTokens),Q=(0,s.useSelector)(o.selectERC20TokensByChain),X=(0,I.useI18nContext)(),J=(0,s.useSelector)(k.selectBridgeHistoryForAccount),Z=e.initialTransaction.id,ee=J[Z],{destNetwork:te}=(0,O.default)({bridgeHistoryItem:ee,srcTxMeta:e.initialTransaction}),ne=_.NETWORK_TO_SHORT_NETWORK_NAME_MAP[null==te?void 0:te.chainId],{initialTransaction:se,primaryTransaction:re}=e,{type:ie}=se,{from:ae,to:oe}=se.txParams||{},ce=(0,s.useSelector)((e=>{var t;return(0,o.getKnownMethodData)(e,null==se||null===(t=se.txParams)||void 0===t?void 0:t.data)}))||{},ue=(0,c.getStatusKey)(re),le=ue in m.PENDING_STATUS_HASH,de=ue===i.TransactionStatus.submitted,he=(0,r.useRef)(!0),me=null===(t=re.txParams)||void 0===t?void 0:t.value,pe=(0,h.formatDateWithYearContext)(se.time);let ge,fe="-",ye=!1,Te=oe;const ke=m.TOKEN_CATEGORY_HASH[ie];let ve=null;const[be,Se]=(0,r.useState)(null);var _e,Ie,we,Ce,Ee,Me;ke&&(ve=(null==G||null===(_e=G[null==e||null===(Ie=e.initialTransaction)||void 0===Ie?void 0:Ie.chainId])||void 0===_e||null===(_e=_e[V])||void 0===_e?void 0:_e.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,Te))))||(null==z||null===(we=z[null==e||null===(Ce=e.initialTransaction)||void 0===Ce?void 0:Ce.chainId])||void 0===we||null===(we=we[V])||void 0===we?void 0:we.find((({address:e})=>(0,y.isEqualCaseInsensitive)(e,Te))))||(null==Q||null===(Ee=Q[null==e||null===(Me=e.initialTransaction)||void 0===Me?void 0:Me.chainId])||void 0===Ee||null===(Ee=Ee.data)||void 0===Ee?void 0:Ee[Te.toLowerCase()]));(0,r.useEffect)((()=>()=>{he.current=!1}),[]),(0,r.useEffect)((()=>{!async function(){if(ke&&!ve){var e;const t=await(0,d.getAssetDetails)(oe,ae,null==se||null===(e=se.txParams)||void 0===e?void 0:e.data,Y);!0===he.current&&Se(t)}}()}),[ke,ve,Te,ae,null==se||null===(n=se.txParams)||void 0===n?void 0:n.data,Y,oe,he]),be&&(ve={address:be.toAddress,symbol:be.symbol,decimals:be.decimals});const Ae=(0,A.useTokenData)(null==se||null===(R=se.txParams)||void 0===R?void 0:R.data,ke),Ne=(0,d.getTokenIdParam)(Ae)??(0,T.getTokenValueParam)(Ae),Pe=ke&&Y.find((({address:e,tokenId:t})=>(0,y.isEqualCaseInsensitive)(e,Te)&&t===Ne)),Oe=(0,M.useTokenDisplayValue)(null==re||null===(x=re.txParams)||void 0===x?void 0:x.data,ve,ke),Re=(0,w.useTokenFiatAmount)(null===(B=ve)||void 0===B?void 0:B.address,Oe,null===($=ve)||void 0===$?void 0:$.symbol),De=(0,h.stripHttpSchemes)(se.origin||(null===(F=se.msgParams)||void 0===F?void 0:F.origin)||"");let xe,Be,$e=ke?null===(U=ve)||void 0===U?void 0:U.symbol:undefined,Fe=ke?Oe:undefined,Ue=ke?Re:undefined;const{swapTokenValue:Le,isNegative:je,swapTokenFiatAmount:He,isViewingReceivedTokenFromSwap:We}=(0,N.useSwappedTokenValue)(e,K),qe=(0,v.useBridgeTokenDisplayData)(e);if(D.includes(ie))xe=g.TransactionGroupCategory.signatureRequest,Be=X("signatureRequest"),ge=De,ye=!0;else if(ie===i.TransactionType.swap)xe=g.TransactionGroupCategory.swap,Be=X("swapTokenToToken",[se.sourceTokenSymbol,se.destinationTokenSymbol]),ge=De,ye=!0,$e=We?K.symbol:se.sourceTokenSymbol,Fe=Le,Ue=He,fe=je?"":We?"+":"-";else if(ie===i.TransactionType.swapAndSend){const e=se.swapAndSendRecipient===ae;Te=se.swapAndSendRecipient,xe=g.TransactionGroupCategory.swapAndSend,Be=X("sendTokenAsToken",[se.sourceTokenSymbol,se.destinationTokenSymbol]),ge=De,ye=!0,$e=We&&e?K.symbol:se.sourceTokenSymbol,Fe=Le,Ue=He,fe=je?"":We&&e?"+":"-"}else if(ie===i.TransactionType.swapApproval)xe=g.TransactionGroupCategory.approval,Be=X("swapApproval",[re.sourceTokenSymbol]),ge=De,ye=!0,$e=re.sourceTokenSymbol;else if(ie===i.TransactionType.tokenMethodApprove){var Ke;xe=g.TransactionGroupCategory.approval,fe="",Be=X("approveSpendingCap",[(null===(Ke=ve)||void 0===Ke?void 0:Ke.symbol)||X("token").toLowerCase()]),ge=De,ye=!0}else if(ie===i.TransactionType.tokenMethodSetApprovalForAll){var Ge,Ve,Ye;const e=!(null!=Ae&&null!==(Ge=Ae.args)&&void 0!==Ge&&Ge[1]);xe=g.TransactionGroupCategory.approval,fe="",Be=e?X("revokePermissionTitle",[(null===(Ve=ve)||void 0===Ve?void 0:Ve.symbol)||(null==Pe?void 0:Pe.name)||X("token")]):X("setApprovalForAllTitle",[(null===(Ye=ve)||void 0===Ye?void 0:Ye.symbol)||X("token")]),ge=De,ye=!0}else if(ie===i.TransactionType.tokenMethodIncreaseAllowance){var ze;xe=g.TransactionGroupCategory.approval,fe="",Be=X("approveIncreaseAllowance",[(null===(ze=ve)||void 0===ze?void 0:ze.symbol)||X("token")]),ge=De,ye=!0}else if(ie===i.TransactionType.contractInteraction||ie===i.TransactionType.batch||ie===i.TransactionType.revokeDelegation){xe=g.TransactionGroupCategory.interaction;const e=(0,c.getTransactionTypeTitle)(X,ie);Be=(null==ce?void 0:ce.name)&&(0,u.camelCaseToCapitalize)(ce.name)||e,ge=De,ye=!0}else if(ie===i.TransactionType.deployContract)xe=g.TransactionGroupCategory.interaction,Be=(0,c.getTransactionTypeTitle)(X,ie),ge=De,ye=!0;else if(ie===i.TransactionType.incoming)xe=g.TransactionGroupCategory.receive,Be=X("receive"),fe="",ge=X("fromAddress",[(0,h.shortenAddress)(ae)]);else if(ie===i.TransactionType.tokenMethodTransferFrom||ie===i.TransactionType.tokenMethodTransfer){var Qe;xe=g.TransactionGroupCategory.send,Be=X("sendSpecifiedTokens",[(null===(Qe=ve)||void 0===Qe?void 0:Qe.symbol)||(null==Pe?void 0:Pe.name)||X("token")]),Te=(0,d.getTokenAddressParam)(Ae),ge=X("toAddress",[(0,h.shortenAddress)(Te)])}else ie===i.TransactionType.tokenMethodSafeTransferFrom?(xe=g.TransactionGroupCategory.send,Be=X("safeTransferFrom"),Te=(0,d.getTokenAddressParam)(Ae),ge=X("toAddress",[(0,h.shortenAddress)(Te)])):ie===i.TransactionType.simpleSend?(xe=g.TransactionGroupCategory.send,Be=X("send"),ge=X("toAddress",[(0,h.shortenAddress)(Te)])):ie===i.TransactionType.bridgeApproval?(Be=X("bridgeApproval"),xe=g.TransactionGroupCategory.approval,Be=X("bridgeApproval",[qe.sourceTokenSymbol]),ge=De,ye=!0,$e=qe.sourceTokenSymbol):ie===i.TransactionType.bridge?(Be=ne?X("bridgeToChain",[ne]):X("bridge"),xe=qe.category,$e=qe.sourceTokenSymbol,Fe=(0,b.formatAmount)(q,new a.default(qe.sourceTokenAmountSent??0)),Ue=qe.displayCurrencyAmount):W((0,f.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${ie}`));const Xe=(0,C.useUserPreferencedCurrency)(l.PRIMARY,{},null==e||null===(L=e.initialTransaction)||void 0===L?void 0:L.chainId),Je=(0,C.useUserPreferencedCurrency)(l.SECONDARY),[Ze]=(0,E.useCurrencyDisplay)(me,{prefix:fe,displayValue:Fe,suffix:$e,...Xe},null==e||null===(j=e.initialTransaction)||void 0===j?void 0:j.chainId),[et]=(0,E.useCurrencyDisplay)(me,{prefix:fe,displayValue:Ue,hideLabel:ke||Boolean(Le),...Je},null==e||null===(H=e.initialTransaction)||void 0===H?void 0:H.chainId);return{title:Be,category:xe,date:pe,subtitle:ge,subtitleContainsOrigin:ye,primaryCurrency:ie===i.TransactionType.swap&&le?"":Ze,senderAddress:ae,recipientAddress:Te,secondaryCurrency:ke&&!Re||[i.TransactionType.swap,i.TransactionType.swapAndSend].includes(ie)&&!He||ie===i.TransactionType.bridge&&!Ue?undefined:et,displayedStatusKey:ue,isPending:le,isSubmitted:de}};var s=e("react-redux"),r=e("react"),i=e("@metamask/transaction-controller"),a=R(e("bignumber.js")),o=e("../selectors/selectors"),c=e("../helpers/utils/transactions.util"),u=e("../helpers/utils/common.util"),l=e("../helpers/constants/common"),d=e("../helpers/utils/token-util"),h=e("../helpers/utils/util"),m=e("../helpers/constants/transactions"),p=e("../ducks/metamask/metamask"),g=e("../../shared/constants/transaction"),f=e("../store/actions"),y=e("../../shared/modules/string-utils"),T=e("../../shared/lib/metamask-controller-utils"),k=e("../ducks/bridge-status/selectors"),v=e("../pages/bridge/hooks/useBridgeTokenDisplayData"),b=e("../pages/confirmations/components/simulation-details/formatAmount"),S=e("../ducks/locale/locale"),_=e("../../shared/constants/bridge"),I=e("./useI18nContext"),w=e("./useTokenFiatAmount"),C=e("./useUserPreferencedCurrency"),E=e("./useCurrencyDisplay"),M=e("./useTokenDisplayValue"),A=e("./useTokenData"),N=e("./useSwappedTokenValue"),P=e("./useCurrentAsset"),O=R(e("./bridge/useBridgeChainInfo"));function R(e){return e&&e.__esModule?e:{default:e}}const D=[null,undefined,i.TransactionType.sign,i.TransactionType.personalSign,i.TransactionType.signTypedData,i.TransactionType.ethDecrypt,i.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[7085,{"../../shared/constants/common":5826,"../../shared/constants/network":5839,"../constants":6891,"../helpers/constants/common":6932,"../selectors":7711,"../selectors/multichain":7715,"./useMultichainSelector":7058,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={},n=null){const d=(0,s.useSelector)(r.getSelectedInternalAccount),h=t.account??d,m=(0,l.useMultichainSelector)(i.getMultichainNativeCurrency,h),{showNativeTokenAsMainBalance:p}=(0,s.useSelector)(r.getPreferences,s.shallowEqual),g=(0,l.useMultichainSelector)(i.getMultichainShouldShowFiat,h),f={currency:(0,l.useMultichainSelector)(i.getMultichainCurrentCurrency,h),numberOfDecimals:t.numberOfDecimals||t.fiatNumberOfDecimals||2},y={currency:n?u.CHAIN_ID_TO_CURRENCY_SYMBOL_MAP[n]||m||o.EtherDenomination.ETH:m||o.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||c.ETH_DEFAULT_DECIMALS};if(t.showNativeOverride)return y;if(t.showFiatOverride)return f;if(!g)return y;if(t.shouldCheckShowNativeToken&&p||!t.shouldCheckShowNativeToken)return e===a.PRIMARY?y:f;return e===a.PRIMARY?f:y};var s=e("react-redux"),r=e("../selectors"),i=e("../selectors/multichain"),a=e("../helpers/constants/common"),o=e("../../shared/constants/common"),c=e("../constants"),u=e("../../shared/constants/network"),l=e("./useMultichainSelector")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[7086,{react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useWindowFocus=void 0;var s=e("react");n.useWindowFocus=()=>{const[e,t]=(0,s.useState)(document.hasFocus());return(0,s.useEffect)((()=>{const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("focus",e),window.addEventListener("blur",n),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",n)}}),[]),e}}}},{package:"$root$",file:"ui/hooks/useWindowFocus.ts"}],[7087,{"../app/scripts/constants/sentry-state":7,"../app/scripts/lib/util":206,"../shared/constants/alerts":5822,"../shared/constants/app":5824,"../shared/constants/copy":5827,"../shared/lib/error-utils":5880,"../shared/lib/switch-direction":5893,"../shared/lib/trace":5895,"../shared/modules/object.utils":5917,"../shared/modules/selectors/networks":5923,"./ducks/alerts":6904,"./ducks/metamask/metamask":6922,"./helpers/utils/tags":6981,"./helpers/utils/tx-helper":6984,"./pages":7461,"./selectors":7711,"./store/actions":7729,"./store/background-connection":7730,"./store/store":7733,"@metamask/chain-agnostic-permission":1525,"copy-to-clipboard":4212,lodash:4934,loglevel:4942,react:5284,"react-dom":5180,util:5767,"webextension-polyfill":5801},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=async function(e){const{backgroundConnection:t,traceContext:n}=e,r=await(0,k.trace)({name:k.TraceName.GetState,parentContext:n},(()=>(0,s.promisify)(t.getState.bind(t))())),i=await async function(e,t,n){const{traceContext:s}=n,r=(0,A.getStartupTraceTags)({metamask:e}),i=await(0,k.trace)({name:k.TraceName.SetupStore,parentContext:s,tags:r},(()=>D(e,t,n.activeTab)));return global.metamask={updateCurrentLocale:e=>{i.dispatch(b.updateCurrentLocale(e))},setFeatureFlag:(e,t)=>{i.dispatch(b.setFeatureFlag(e,t))}},await(0,k.trace)({name:k.TraceName.InitialActions,parentContext:s},(()=>async function(e){const t=e.getState(),n=(0,_.getNetworkToAutomaticallySwitchTo)(t);n?await e.dispatch(b.automaticallySwitchNetwork(n,(0,_.getOriginOfCurrentTab)(t))):(0,_.getSwitchedNetworkDetails)(t)&&await e.dispatch(b.clearSwitchedNetworkDetails());if((0,d.getEnvironmentType)()===g.ENVIRONMENT_TYPE_POPUP){const t=Date.now();global.metamask.id=t,await e.dispatch(b.setCurrentExtensionPopupId(t))}}(i))),(0,k.trace)({name:k.TraceName.FirstRender,parentContext:s},(()=>(0,c.render)(o.default.createElement(C.default,{store:i}),n.container))),i}(r,t,e);return await(0,s.promisify)(t.startPatches.bind(t))(),function(e){0;window.stateHooks.getCleanAppState=async function(){const t=(0,a.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,m.maskObject)(t,p.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:n}=t.metamask;return Object.values(n).sort(((e,t)=>e.timestamp-t.timestamp))}}(i),i},n.setupInitialStore=D,n.updateBackgroundConnection=void 0;var s=e("util"),r=P(e("copy-to-clipboard")),i=P(e("loglevel")),a=e("lodash"),o=P(e("react")),c=e("react-dom"),u=P(e("webextension-polyfill")),l=e("@metamask/chain-agnostic-permission"),d=e("../app/scripts/lib/util"),h=e("../shared/constants/alerts"),m=e("../shared/modules/object.utils"),p=e("../app/scripts/constants/sentry-state"),g=e("../shared/constants/app"),f=e("../shared/constants/copy"),y=e("../shared/lib/switch-direction"),T=e("../shared/lib/error-utils"),k=e("../shared/lib/trace"),v=e("../shared/modules/selectors/networks"),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("./store/actions")),S=P(e("./store/store")),_=e("./selectors"),I=e("./ducks/alerts"),w=e("./ducks/metamask/metamask"),C=P(e("./pages")),E=P(e("./helpers/utils/tx-helper")),M=e("./store/background-connection"),A=e("./helpers/utils/tags");function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function P(e){return e&&e.__esModule?e:{default:e}}let O;i.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const R=e=>{(0,M.setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);O.dispatch(b.updateMetamaskState(e.params[0]))}))};async function D(e,t,n){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:s,enLocaleMessages:r}=await(0,T.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,y.switchDirection)("rtl");const i={activeTab:n,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:s,en:r}};if(R(t),(0,d.getEnvironmentType)()===g.ENVIRONMENT_TYPE_POPUP){const{origin:e}=i.activeTab,t=(0,_.getAllPermittedAccountsForCurrentTab)(i),n=(0,_.getSelectedInternalAccount)(i),s=n&&(0,l.isInternalAccountInPermittedAccountIds)(n,t),r=(0,w.getUnconnectedAccountAlertShown)(i),a=(0,w.getUnconnectedAccountAlertEnabledness)(i);e&&a&&!r[e]&&t.length>0&&!s&&(i[h.AlertTypes.unconnectedAccount]={state:I.ALERT_STATE.OPEN},b.setUnconnectedAccountAlertShown(e))}const a=(0,S.default)(i);O=a;const o=(0,_.getUnapprovedTransactions)(e),c=(0,E.default)(o,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,(0,v.getCurrentChainId)({metamask:e}));return c.length>0&&a.dispatch(b.showConfTxPage({id:c[0].id})),a}n.updateBackgroundConnection=R,window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),n=window.stateHooks.getLogs();u.default.runtime.getPlatformInfo().then((s=>{t.platform=s,t.logs=n;const r=JSON.stringify(t,null,2);e(null,r)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,r.default)(n,f.COPY_OPTIONS),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$",file:"ui/index.js"}],[7088,{"../../../shared/modules/string-utils":5926,"../../components/app/assets/nfts/nft-details/nft-details":5997,"../../ducks/metamask/metamask":6922,"../../helpers/constants/routes":6940,"../../selectors/assets":7704,"./components/native-asset":7098,"./components/token-asset":7099,react:5284,"react-redux":5230,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),i=e("react-router-dom"),a=e("../../../shared/modules/string-utils"),o=m(e("../../components/app/assets/nfts/nft-details/nft-details")),c=e("../../ducks/metamask/metamask"),u=e("../../helpers/constants/routes"),l=e("../../selectors/assets"),d=m(e("./components/native-asset")),h=m(e("./components/token-asset"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,i.useParams)(),{chainId:t,asset:n,id:m}=e,p=n?decodeURIComponent(n):undefined,g=(0,r.useSelector)((e=>(0,c.getNFTsByChainId)(e,t))),f=(0,r.useSelector)((e=>(0,l.getTokenByAccountAndAddressAndChainId)(e,undefined,p,t))),y=g.find((({address:e,tokenId:t})=>(0,a.isEqualCaseInsensitive)(e,p)&&m===t.toString()));(0,s.useEffect)((()=>{const e=document.querySelector(".app");null==e||e.scroll(0,0)}),[]);const T=(()=>{if(y)return s.default.createElement(o.default,{nft:y});if(!f||!t)return s.default.createElement(i.Redirect,{to:{pathname:u.DEFAULT_ROUTE}});return!f.isNative&&f.address?s.default.createElement(h.default,{chainId:t,token:f}):s.default.createElement(d.default,{chainId:t,token:f})})();return s.default.createElement("div",{className:"main-container asset__container"},T)}}}},{package:"$root$",file:"ui/pages/asset/asset.tsx"}],[7089,{"../../../../app/scripts/lib/util":206,"../../../../shared/constants/transaction":5854,"../../../components/component-library":6463,"../../../ducks/metamask/metamask":6922,"../../../helpers/constants/design-system":6934,"../../../helpers/utils/confirm-tx.util":6961,"../../../hooks/useI18nContext":7050,"../../../hooks/useMultichainSelector":7058,"../../../selectors/assets":7704,"../../../selectors/multichain":7715,"../../../selectors/selectors":7721,"../util":7105,"bignumber.js":4029,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetMarketDetails=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},i=e("react-redux"),a=e("bignumber.js"),o=e("../../../helpers/utils/confirm-tx.util"),c=e("../util"),u=e("../../../components/component-library"),l=e("../../../helpers/constants/design-system"),d=e("../../../hooks/useI18nContext"),h=e("../../../ducks/metamask/metamask"),m=e("../../../hooks/useMultichainSelector"),p=e("../../../selectors/multichain"),g=e("../../../selectors/assets"),f=e("../../../selectors/selectors"),y=e("../../../../shared/constants/transaction"),T=e("../../../../app/scripts/lib/util");function k(e,t){return r.default.createElement(u.Box,{display:l.Display.Flex,justifyContent:l.JustifyContent.spaceBetween},r.default.createElement(u.Text,{color:l.TextColor.textAlternative,variant:l.TextVariant.bodyMdMedium},e),t)}n.AssetMarketDetails=({asset:e,address:t})=>{var n,s,v,b,S;const _=(0,d.useI18nContext)(),I=(0,i.useSelector)(h.getCurrentCurrency),w=(0,m.useMultichainSelector)(p.getMultichainConversionRate),C=(0,i.useSelector)(f.getMarketData),E=(0,i.useSelector)(f.getCurrencyRates),M=(0,i.useSelector)(g.getAssetsRates),A=(0,i.useSelector)(p.getMultichainIsEvm),N=(0,m.useMultichainSelector)(p.getMultichainNativeCurrency),{type:P,symbol:O,chainId:R}=e,D=P===y.AssetType.native?null===(n=E[O])||void 0===n?void 0:n.conversionRate:(null===(s=E[N])||void 0===s?void 0:s.conversionRate)||0,x=(null==M||null===(v=M[t])||void 0===v?void 0:v.rate)||0,B=A?D:x,$=(0,T.getConversionRatesForNativeAsset)({conversionRates:M,chainId:R}),F=P===y.AssetType.native?null==$?void 0:$.marketData:null==M||null===(b=M[t])||void 0===b?void 0:b.marketData,U=A?null===(S=C[R])||void 0===S?void 0:S[t]:F;if(!(w>0&&U&&(U.marketCap>0||U.totalVolume>0||U.circulatingSupply>0||U.allTimeHigh>0||U.allTimeLow>0)))return null;const L=e=>e?new a.BigNumber("string"==typeof e?e:e.toString()).toNumber():0;let j=L(U.marketCap),H=L(U.totalVolume),W=L(U.circulatingSupply),q=L(U.allTimeHigh),K=L(U.allTimeLow);return A&&(j*=B,H*=B,W*=B,q*=B,K*=B),r.default.createElement(u.Box,null,r.default.createElement(u.Box,{marginBottom:2,borderColor:l.BorderColor.borderMuted,marginInline:4,style:{height:"1px",borderBottomWidth:0}}),r.default.createElement(u.Text,{variant:l.TextVariant.headingSm,paddingInline:4,paddingTop:2,paddingBottom:2},_("marketDetails")),r.default.createElement(u.Box,{paddingInline:4,display:l.Display.Flex,flexDirection:l.FlexDirection.Column,gap:2},j>0&&k(_("marketCap"),r.default.createElement(u.Text,{variant:l.TextVariant.bodyMdMedium,"data-testid":"asset-market-cap"},(0,c.localizeLargeNumber)(_,j))),H>0&&k(_("totalVolume"),r.default.createElement(u.Text,{variant:l.TextVariant.bodyMdMedium},(0,c.localizeLargeNumber)(_,H))),W>0&&k(_("circulatingSupply"),r.default.createElement(u.Text,{variant:l.TextVariant.bodyMdMedium},(0,c.localizeLargeNumber)(_,W))),q>0&&k(_("allTimeHigh"),r.default.createElement(u.Text,{variant:l.TextVariant.bodyMdMedium},(0,o.formatCurrency)(`${q}`,I,(0,c.getPricePrecision)(q)))),K>0&&k(_("allTimeLow"),r.default.createElement(u.Text,{variant:l.TextVariant.bodyMdMedium},(0,o.formatCurrency)(`${K}`,I,(0,c.getPricePrecision)(K))))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-market-details.tsx"}],[709,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RegistryTypes=n.RegistryType=void 0;class s{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}}n.RegistryType=s,n.RegistryTypes={UUID:new s("uuid",37),BYTES:new s("bytes",undefined),CRYPTO_HDKEY:new s("crypto-hdkey",303),CRYPTO_KEYPATH:new s("crypto-keypath",304),CRYPTO_COIN_INFO:new s("crypto-coin-info",305),CRYPTO_ECKEY:new s("crypto-eckey",306),CRYPTO_OUTPUT:new s("crypto-output",308),CRYPTO_PSBT:new s("crypto-psbt",310),CRYPTO_ACCOUNT:new s("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new s("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new s("qr-hardware-call",1201),KEY_DERIVATION_CALL:new s("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new s("key-derivation-schema",1302)}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/RegistryType.js"}],[7090,{"../../../components/component-library":6463,"../../../components/ui/menu":6835,"../../../contexts/i18n":6894,"../../../helpers/constants/design-system":6934,"../../../helpers/constants/routes":6940,"../../../selectors":7711,"../../../selectors/multichain":7715,"prop-types":5102,react:5284,"react-redux":5230,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),i=(s=e("prop-types"))&&s.__esModule?s:{default:s},a=e("react-router-dom"),o=e("react-redux"),c=e("../../../contexts/i18n"),u=e("../../../components/ui/menu"),l=e("../../../selectors"),d=e("../../../helpers/constants/routes"),h=e("../../../components/component-library"),m=e("../../../helpers/constants/design-system"),p=e("../../../selectors/multichain");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const f=({onRemove:e,onClickBlockExplorer:t,onViewTokenDetails:n,tokenSymbol:s,isNativeAsset:i})=>{const g=(0,r.useContext)(c.I18nContext),[f,y]=(0,r.useState)(!1),T=(0,a.useHistory)(),k=(0,o.useSelector)(l.getBlockExplorerLinkText),v=(0,r.useRef)(!1),b=(0,o.useSelector)(p.getMultichainIsEvm)&&!i;return r.default.createElement("div",{ref:v},r.default.createElement(h.ButtonIcon,{className:"asset-options__button","data-testid":"asset-options__button",onClick:()=>y(!0),ariaLabel:g("assetOptions"),iconName:h.IconName.MoreVertical,color:m.Color.textDefault,size:h.ButtonIconSize.Sm}),f?r.default.createElement(u.Menu,{anchorElement:v.current,onHide:()=>y(!1)},r.default.createElement(u.MenuItem,{iconName:h.IconName.Export,"data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===k.firstPart?()=>{T.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{y(!1),t()}},g(k.firstPart,""===k.secondPart?null:[g("blockExplorerAssetAction")])),b&&r.default.createElement(u.MenuItem,{iconName:h.IconName.Trash,"data-testid":"asset-options__hide",onClick:()=>{y(!1),e()}},g("hideTokenSymbol",[s])),i||!n?null:r.default.createElement(u.MenuItem,{iconName:h.IconName.Info,"data-testid":"asset-options__token-details",onClick:()=>{y(!1),n()}},g("tokenDetails"))):null)};f.propTypes={isNativeAsset:i.default.bool,onClickBlockExplorer:i.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&"function"!=typeof e.onRemove)throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:i.default.func,tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};n.default=f}}},{package:"$root$",file:"ui/pages/asset/components/asset-options.js"}],[7091,{"../../../../shared/constants/transaction":5854,"../../../../shared/lib/trace":5895,"../../../../shared/modules/conversion.utils":5906,"../../../../shared/modules/hexstring-utils":5912,"../../../components/app/assets/hooks/useMultichainAssets":5988,"../../../components/app/assets/token-cell":6012,"../../../components/app/assets/util/calculateTokenBalance":6016,"../../../components/app/transaction-list":6374,"../../../components/app/wallet-overview/coin-buttons":6382,"../../../components/component-library":6463,"../../../components/multichain":6638,"../../../ducks/metamask/metamask":6922,"../../../ducks/ramps":6924,"../../../helpers/constants/design-system":6934,"../../../helpers/constants/routes":6940,"../../../helpers/utils/portfolio":6977,"../../../hooks/useI18nContext":7050,"../../../hooks/useMultichainSelector":7058,"../../../hooks/useTokenBalances":7075,"../../../selectors":7711,"../../../selectors/assets":7704,"../../../selectors/multichain":7715,"../../settings/networks-tab/networks-form/use-safe-chains":7606,"../hooks/useCurrentPrice":7102,"./asset-market-details":7089,"./chart/asset-chart":7095,"./token-buttons":7100,"@metamask/assets-controllers":1363,"@metamask/keyring-api":2046,"@metamask/utils":3026,lodash:4934,react:5284,"react-redux":5230,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("@metamask/assets-controllers"),r=e("@metamask/keyring-api"),i=e("@metamask/utils"),a=e("lodash"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=F(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),c=e("react-redux"),u=e("react-router-dom"),l=e("../../../../shared/constants/transaction"),d=e("../../../../shared/modules/conversion.utils"),h=e("../../../../shared/modules/hexstring-utils"),m=$(e("../../../components/app/assets/hooks/useMultichainAssets")),p=$(e("../../../components/app/assets/token-cell")),g=e("../../../components/app/assets/util/calculateTokenBalance"),f=$(e("../../../components/app/transaction-list")),y=$(e("../../../components/app/wallet-overview/coin-buttons")),T=e("../../../components/component-library"),k=e("../../../components/multichain"),v=e("../../../ducks/metamask/metamask"),b=e("../../../ducks/ramps"),S=e("../../../helpers/constants/design-system"),_=e("../../../helpers/constants/routes"),I=e("../../../helpers/utils/portfolio"),w=e("../../../hooks/useI18nContext"),C=e("../../../hooks/useMultichainSelector"),E=e("../../../hooks/useTokenBalances"),M=e("../../../selectors"),A=e("../../../selectors/multichain"),N=e("../../../../shared/lib/trace"),P=e("../../settings/networks-tab/networks-form/use-safe-chains"),O=e("../hooks/useCurrentPrice"),R=e("../../../selectors/assets"),D=$(e("./chart/asset-chart")),x=$(e("./token-buttons")),B=e("./asset-market-details");function $(e){return e&&e.__esModule?e:{default:e}}function F(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(F=function(e){return e?n:t})(e)}function U(e,t){return o.default.createElement(T.Box,{display:S.Display.Flex,justifyContent:S.JustifyContent.spaceBetween},o.default.createElement(T.Text,{color:S.TextColor.textAlternative,variant:S.TextVariant.bodyMdMedium},e),o.default.createElement(T.Text,{variant:S.TextVariant.bodyMdMedium},t))}n.default=({asset:e,optionsButton:t})=>{var n,$;const F=(0,w.useI18nContext)(),L=(0,u.useHistory)(),j=(0,c.useSelector)(M.getSelectedAccount),H=(0,c.useSelector)(v.getCurrentCurrency),W=(0,c.useSelector)(b.getIsNativeTokenBuyable),q=(0,C.useMultichainSelector)(A.getMultichainIsEvm),K=(0,c.useSelector)(R.getMultichainNativeAssetType);(0,o.useEffect)((()=>{(0,N.endTrace)({name:N.TraceName.AssetDetails})}),[]);const{chainId:G,type:V,symbol:Y,name:z,image:Q,decimals:X}=e,J=V===l.AssetType.native,Z=(0,c.useSelector)((e=>(0,M.getSwapsDefaultToken)(e,G)),a.isEqual),ee=(0,c.useSelector)((e=>(0,M.getIsSwapsChain)(e,G))),te=(0,c.useSelector)((e=>(0,M.getIsBridgeChain)(e,G))),ne=(0,c.useSelector)(M.getSelectedInternalAccount,a.isEqual),se=ne.methods.includes(r.EthMethod.SignTransaction)||ne.methods.includes(r.EthMethod.SignUserOperation)||ne.methods.includes(r.SolMethod.SignTransaction),re=(0,C.useMultichainSelector)(A.getMultichainIsTestnet),ie=(0,C.useMultichainSelector)(A.getMultichainShouldShowFiat),ae=!re,oe=(0,c.useSelector)(M.getShowFiatInTestnets),ce=ie&&(ae||re&&oe),ue=(0,c.useSelector)(M.getSelectedAccountNativeTokenCachedBalanceByChainId),{tokenBalances:le}=(0,E.useTokenBalances)({chainIds:[G]}),de=le[j.address],he=(0,m.default)().filter((e=>e.chainId===G&&e.address!==undefined)).find((t=>{switch(V){case l.AssetType.native:return t.isNative;case l.AssetType.token:return t.address===e.address;default:return!1}}))??{address:"",chainId:"",symbol:"",title:"",image:"",tokenFiatAmount:0,string:"",decimals:0,aggregators:[],isNative:!1,primary:"",secondary:0},me=(0,c.useSelector)(M.getParticipateInMetaMetrics),pe=(0,c.useSelector)(M.getDataCollectionForMarketing),ge=(0,c.useSelector)(M.getMetaMetricsId),fe=(V===l.AssetType.token?q?(0,h.toChecksumHexAddress)(e.address):e.address:q?(0,s.getNativeTokenAddress)(G):K)??"",ye=V===l.AssetType.token,Te=ye?q?(0,h.toChecksumHexAddress)(e.address):(0,i.parseCaipAssetType)(fe).assetReference:"",ke=null==de||null===(n=de[G])||void 0===n?void 0:n[fe],ve=(0,g.calculateTokenBalance)({isNative:J,chainId:G,address:fe,decimals:X,nativeBalances:ue,selectedAccountTokenBalancesAcrossChains:de}),{currentPrice:be}=(0,O.useCurrentPrice)(e),Se=be?be*parseFloat(String(ve)):0;e.balance={value:(0,d.hexToDecimal)(ke),display:String(ve),fiat:String(Se)};const _e=q,Ie=(0,o.useMemo)((()=>(0,I.getPortfolioUrl)("","asset_page",ge,me,pe,ne.address,"spending-caps")),[ne.address,pe,me,ge]),we=null===($=(0,c.useSelector)(A.getMultichainNetworkConfigurationsByChainId)[G])||void 0===$?void 0:$.name,Ce=(0,A.getImageForChainId)(G),Ee=q?{address:fe,chainId:G,symbol:Y,image:Q,title:z??Y,tokenFiatAmount:ce?Se:null,string:ve?ve.toString():"",decimals:e.decimals,aggregators:V===l.AssetType.token&&e.aggregators?e.aggregators:[],isNative:V===l.AssetType.native,primary:ve?ve.toString():"",secondary:ve?Number(ve):0}:he,{safeChains:Me}=(0,P.useSafeChains)();return o.default.createElement(T.Box,{marginLeft:"auto",marginRight:"auto",marginTop:4,className:"asset__content"},o.default.createElement(T.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Row,justifyContent:S.JustifyContent.spaceBetween,paddingTop:1,paddingBottom:3,paddingLeft:2,paddingRight:4},o.default.createElement(T.Box,{display:S.Display.Flex},o.default.createElement(T.ButtonIcon,{color:S.IconColor.iconAlternative,marginRight:1,size:T.ButtonIconSize.Sm,ariaLabel:F("back"),iconName:T.IconName.ArrowLeft,onClick:()=>L.push(_.DEFAULT_ROUTE)})),t),o.default.createElement(T.Box,{paddingLeft:4},o.default.createElement(T.Text,{"data-testid":"asset-name",variant:S.TextVariant.bodyMdMedium,color:S.TextColor.textAlternative},z&&Y&&z!==Y?`${z} (${Y})`:z??Y)),o.default.createElement(D.default,{chainId:G,address:fe,currentPrice:be,currency:H}),o.default.createElement(T.Box,{marginTop:4},V===l.AssetType.native?o.default.createElement(y.default,{account:ne,trackingLocation:"asset-page",isBuyableChain:W,isSigningEnabled:se,isSwapsChain:ee,isBridgeChain:te,chainId:G,defaultSwapsToken:Z}):o.default.createElement(x.default,{token:e})),o.default.createElement(T.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,paddingTop:3},o.default.createElement(T.Text,{variant:S.TextVariant.headingSm,paddingBottom:1,paddingTop:1,paddingLeft:4},F("yourBalance")),[l.AssetType.token,l.AssetType.native].includes(V)&&o.default.createElement(p.default,{key:`${Y}-${fe}`,token:Ee,disableHover:!0,safeChains:Me}),o.default.createElement(T.Box,{marginTop:2,marginBottom:2,borderColor:S.BorderColor.borderMuted,marginInline:4,style:{height:"1px",borderBottomWidth:0}}),o.default.createElement(T.Box,{marginTop:2,display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:4},[l.AssetType.token,l.AssetType.native].includes(V)&&o.default.createElement(T.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,paddingLeft:4,paddingRight:4},o.default.createElement(T.Text,{variant:S.TextVariant.headingSm,paddingBottom:2},F("tokenDetails")),o.default.createElement(T.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:2},U(F("network"),o.default.createElement(T.Text,{variant:S.TextVariant.bodyMdMedium,display:S.Display.Flex,alignItems:S.AlignItems.center,gap:2,"data-testid":"asset-network"},o.default.createElement(T.AvatarNetwork,{src:Ce,name:we,size:T.AvatarNetworkSize.Xs}),we)),ye&&o.default.createElement(T.Box,null,U(F("contractAddress"),o.default.createElement(k.AddressCopyButton,{address:Te,shorten:!0})),o.default.createElement(T.Box,{display:S.Display.Flex,flexDirection:S.FlexDirection.Column,gap:2},e.decimals!==undefined&&U(F("tokenDecimal"),o.default.createElement(T.Text,{variant:S.TextVariant.bodyMdMedium},e.decimals)),e.aggregators&&e.aggregators.length>0&&o.default.createElement(T.Box,null,o.default.createElement(T.Text,{variant:S.TextVariant.bodyMdMedium,color:S.TextColor.textAlternative},F("tokenList")),o.default.createElement(T.Text,{variant:S.TextVariant.bodyMdMedium},e.aggregators.map((e=>e.replace(/^metamask$/iu,"MetaMask"))).join(", "))))),_e&&U(F("spendingCaps"),o.default.createElement(T.ButtonLink,{className:"asset-page__spending-caps mm-text--body-md-medium",href:Ie,target:"_blank",rel:"noopener noreferrer"},F("editInPortfolio"))))),o.default.createElement(B.AssetMarketDetails,{asset:e,address:fe}),o.default.createElement(T.Box,{borderColor:S.BorderColor.borderMuted,marginInline:4,style:{height:"1px",borderBottomWidth:0}}),o.default.createElement(T.Box,{marginBottom:4},o.default.createElement(T.Text,{paddingInline:4,variant:S.TextVariant.headingSm},F("yourActivity")),V===l.AssetType.native?o.default.createElement(f.default,{tokenAddress:fe,hideNetworkFilter:!0,overrideFilterForCurrentChain:!0}):o.default.createElement(f.default,{tokenAddress:fe,hideNetworkFilter:!0})))))}}}},{package:"$root$",file:"ui/pages/asset/components/asset-page.tsx"}],[7092,{"../../../../components/component-library":6463,"../../../../helpers/constants/design-system":6934,"../../../../hooks/useI18nContext":7050,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetChartEmptyState=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),a=e("../../../../hooks/useI18nContext");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}n.AssetChartEmptyState=()=>{const e=(0,a.useI18nContext)();return s.createElement(r.Box,{className:"asset-chart__empty-state-container"},s.createElement(r.Box,{className:"asset-chart__empty-state-content"},s.createElement("img",{src:"./images/asset-chart-empty-state-illustration.png",className:"asset-chart__empty-state-illustration"}),s.createElement(r.Text,{textAlign:i.TextAlign.Center,variant:i.TextVariant.bodySmMedium,color:i.TextColor.textAlternative,fontWeight:i.FontWeight.Medium,paddingTop:4,paddingRight:2,paddingBottom:4,paddingLeft:2,width:i.BlockSize.Full},e("assetChartNoHistoricalPrices"))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart-empty-state.tsx"}],[7093,{"../../../../components/component-library":6463,"../../../../components/component-library/skeleton":6509,"../../../../helpers/constants/design-system":6934,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetChartLoading=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("../../../../components/component-library/skeleton"),i=e("../../../../components/component-library"),a=e("../../../../helpers/constants/design-system");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}n.AssetChartLoading=()=>s.createElement(i.Box,{className:"asset-chart__skeleton-container","data-testid":"asset-chart-loading"},s.createElement(r.Skeleton,{className:"asset-chart__skeleton",borderRadius:a.BorderRadius.LG}))}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart-loading.tsx"}],[7094,{"../../../../components/component-library":6463,"../../../../components/component-library/skeleton":6509,"../../../../helpers/constants/design-system":6934,"../../../../helpers/utils/confirm-tx.util":6961,"../../util":7105,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library"),a=e("../../../../helpers/utils/confirm-tx.util"),o=e("../../util"),c=e("../../../../components/component-library/skeleton");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const l=()=>s.default.createElement(c.Skeleton,{width:"25%",marginBottom:1,borderRadius:r.BorderRadius.LG},s.default.createElement(i.Text,{variant:r.TextVariant.displayMd},"Â ")),d=()=>s.default.createElement(i.Text,{variant:r.TextVariant.displayMd,marginBottom:1},"Â "),h=()=>s.default.createElement(c.Skeleton,{width:"33%",borderRadius:r.BorderRadius.LG},s.default.createElement(i.Text,{variant:r.TextVariant.bodyMdMedium},"Â ")),m=()=>s.default.createElement(i.Text,{variant:r.TextVariant.bodyMdMedium},"Â "),p=s.default.createElement("svg",{className:"chart-up",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M9.75 3.8125L6.25 7.4875L4.91667 5.3875L2.25 8.1875",strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M8.08398 3.8125H9.75065V5.5625",strokeLinecap:"round",strokeLinejoin:"round"})),g=s.default.createElement("svg",{className:"chart-down",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{d:"M9.75 8.1875L6.25 4.5125L4.91667 6.6125L2.25 3.8125",strokeLinecap:"round",strokeLinejoin:"round"}),s.default.createElement("path",{d:"M8.08398 8.1875H9.75065V6.4375",strokeLinecap:"round",strokeLinejoin:"round"})),f=(0,s.forwardRef)(((e,t)=>{const[{price:n,date:c},u]=(0,s.useState)({price:e.price,date:e.date});(0,s.useImperativeHandle)(t,(()=>({setPrice:u})));const{loading:f,currency:y,comparePrice:T}=e,k=n!==undefined&&T!==undefined?n-T:undefined,v=f&&n===undefined,b=!f&&n===undefined,S=f&&n!==undefined,_=!f&&n!==undefined,I=f&&k===undefined,w=!f&&k===undefined,C=f&&k!==undefined&&T!==undefined,E=!f&&k!==undefined&&T!==undefined;return s.default.createElement(i.Box,{marginLeft:4,marginRight:4},v&&s.default.createElement(l,null),b&&s.default.createElement(d,null),(_||S)&&s.default.createElement(i.Text,{"data-testid":"asset-hovered-price",variant:r.TextVariant.displayMd,fontWeight:r.FontWeight.Medium,borderRadius:r.BorderRadius.LG,marginBottom:1,style:{opacity:S?o.loadingOpacity:1}},(0,a.formatCurrency)(`${n}`,y,(0,o.getPricePrecision)(n))),I&&s.default.createElement(h,null),w&&s.default.createElement(m,null),(E||C)&&s.default.createElement(i.Box,{style:{opacity:f?o.loadingOpacity:1}},k>=0?p:g,s.default.createElement(i.Text,{display:r.Display.InlineBlock,variant:r.TextVariant.bodyMdMedium,marginLeft:1,marginRight:1,color:k>=0?r.TextColor.successDefault:r.TextColor.errorDefault},(0,a.formatCurrency)(`${Math.abs(k)}`,y,(0,o.getPricePrecision)(k))," ","(",k>=0?"+":"",(k/T*100).toFixed(2),"%)"),s.default.createElement(i.Text,{display:r.Display.InlineBlock,variant:r.TextVariant.bodyMdMedium,color:r.TextColor.textAlternative},(0,o.getShortDateFormatter)().format(c))))}));n.default=f}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart-price.tsx"}],[7095,{"../../../../components/component-library":6463,"../../../../helpers/constants/design-system":6934,"../../../../hooks/useI18nContext":7050,"../../../../hooks/useTheme":7073,"../../hooks/useChartTimeRanges":7101,"../../hooks/useHistoricalPrices":7103,"../../util":7105,"./asset-chart-empty-state":7092,"./asset-chart-loading":7093,"./asset-chart-price":7094,"./chart-tooltip":7096,"./crosshair-plugin":7097,"@metamask/design-tokens":1552,"chart.js":4163,classnames:4171,lodash:4934,luxon:4944,react:5284,"react-chartjs-2":5176},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("chart.js"),i=e("react-chartjs-2"),a=S(e("classnames")),o=e("@metamask/design-tokens"),c=e("lodash"),u=e("luxon"),l=e("../../../../hooks/useTheme"),d=e("../../../../helpers/constants/design-system"),h=e("../../../../components/component-library"),m=e("../../../../hooks/useI18nContext"),p=e("../../hooks/useHistoricalPrices"),g=e("../../util"),f=e("../../hooks/useChartTimeRanges"),y=S(e("./chart-tooltip")),T=e("./crosshair-plugin"),k=e("./asset-chart-empty-state"),v=e("./asset-chart-loading"),b=S(e("./asset-chart-price"));function S(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}r.Chart.register(r.LinearScale,r.PointElement,r.LineElement,r.Filler,r.Decimation,T.CrosshairPlugin);const I={normalized:!0,parsing:!1,aspectRatio:2.6,layout:{autoPadding:!1,padding:0},animation:{duration:0},fill:!0,backgroundColor:({chart:e})=>{const t=e.ctx.createLinearGradient(0,0,0,e.height);return t.addColorStop(0,`${e.options.borderColor}60`),t.addColorStop(1,`${e.options.borderColor}00`),t},elements:{line:{borderWidth:1.5},point:{pointStyle:!1}},plugins:{decimation:{algorithm:"lttb",samples:150,threshold:150,enabled:!0}}};n.default=({chainId:e,address:t,currentPrice:n,currency:r})=>{var T;const S=(0,m.useI18nContext)(),_=(0,l.useTheme)(),w=(0,f.useChartTimeRanges)(t,r),[C,E]=(0,s.useState)(w[0]??"P1D"),{loading:M,data:{prices:A,metadata:{minPricePoint:N,maxPricePoint:P,xMin:O,xMax:R,yMin:D,yMax:x}}}=(0,p.useHistoricalPrices)({chainId:e,address:t,currency:r,timeRange:C}),B=M&&0===A.length,$=!M&&0===A.length,F=M&&A.length>0,U=!M&&A.length>0,L={...I,borderColor:"dark"===_?o.brandColor.blue400:o.brandColor.blue500,scales:{x:{min:O,max:R,display:!1,type:"linear"},y:{min:D,max:x,display:!1}}},j=(0,s.useRef)(),H=(0,s.useRef)();return(0,s.useEffect)((()=>{var e;null==H||null===(e=H.current)||void 0===e||e.setPrice({price:n,date:Date.now()})}),[n]),s.default.createElement(h.Box,{borderRadius:d.BorderRadius.LG},s.default.createElement(b.default,{ref:H,loading:M,currency:r,price:n,date:Date.now(),comparePrice:null==A||null===(T=A[0])||void 0===T?void 0:T.y}),s.default.createElement(h.Box,{"data-testid":"asset-price-chart",marginTop:4,backgroundColor:M&&!A?d.BackgroundColor.backgroundMuted:d.BackgroundColor.transparent,borderRadius:d.BorderRadius.LG,display:d.Display.Flex,flexDirection:d.FlexDirection.Column},B&&s.default.createElement(v.AssetChartLoading,null),$&&s.default.createElement(k.AssetChartEmptyState,null),(U||F)&&s.default.createElement(h.Box,{style:{opacity:F?g.loadingOpacity:1}},s.default.createElement(y.default,{point:P,xMin:O,xMax:R,currency:r}),s.default.createElement(h.Box,{style:{aspectRatio:`${L.aspectRatio}`},display:d.Display.Flex,flexDirection:d.FlexDirection.Column,justifyContent:n?d.JustifyContent.flexEnd:d.JustifyContent.flexStart},s.default.createElement(i.Line,{ref:j,data:{datasets:[{data:A}]},options:L,updateMode:"none",onMouseMove:e=>{var t;const n=null==j||null===(t=j.current)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.datasets)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.data;if(n){const t=e.target,r=n[Math.max(0,Math.min(n.length-1,Math.round(e.nativeEvent.offsetX/t.clientWidth*n.length)))];var s;if(r)null==H||null===(s=H.current)||void 0===s||s.setPrice({price:r.y,date:r.x})}},onMouseOut:()=>{var e;null==H||null===(e=H.current)||void 0===e||e.setPrice({price:n,date:Date.now()})}})),s.default.createElement(y.default,{point:N,xMin:O,xMax:R,currency:r})),s.default.createElement(h.Box,{style:A?undefined:{visibility:"hidden"},display:d.Display.Flex,justifyContent:d.JustifyContent.spaceBetween,marginTop:2,marginLeft:3,marginRight:3},w.map((e=>s.default.createElement(h.ButtonBase,{key:e,className:(0,a.default)("time-range-button",{"time-range-button__selected":e===C}),onClick:()=>E(e),variant:d.TextVariant.bodyXsMedium,size:h.ButtonBaseSize.Sm,paddingLeft:2,paddingRight:2,backgroundColor:d.BackgroundColor.transparent,color:d.TextColor.textAlternative},((e,t)=>{const{years:n,months:s,weeks:r,days:i,hours:a,minutes:o,seconds:l,milliseconds:d}=u.Duration.fromISO(t,{locale:"en"}).normalize().rescale().toObject();return n&&n>100?`${e("all")}`:(0,c.trim)(`${n?`${n}${e("durationSuffixYear")} `:""}${s?`${s}${e("durationSuffixMonth")} `:""}${r?`${r}${e("durationSuffixWeek")} `:""}${i?`${i}${e("durationSuffixDay")} `:""}${a?`${a}${e("durationSuffixHour")} `:""}${o?`${o}${e("durationSuffixMinute")} `:""}${l?`${l}${e("durationSuffixSecond")} `:""}${d?`${d}${e("durationSuffixMillisecond")}`:""}`)})(S,e)))))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/asset-chart.tsx"}],[7096,{"../../../../components/component-library":6463,"../../../../helpers/constants/design-system":6934,"../../../../helpers/utils/confirm-tx.util":6961,"../../util":7105,react:5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s,r=(s=e("react"))&&s.__esModule?s:{default:s},i=e("../../../../components/component-library"),a=e("../../../../helpers/utils/confirm-tx.util"),o=e("../../../../helpers/constants/design-system"),c=e("../../util");n.default=({point:e,xMin:t,xMax:n,currency:s})=>{const u=e&&t&&n?(e.x-t)/(n-t):0;return r.default.createElement(i.Box,{style:{...u<.5?{paddingRight:100-200*u+"%"}:{paddingLeft:100-2*(100-100*u)+"%"},direction:u<.5?i.TextDirection.LeftToRight:i.TextDirection.RightToLeft}},r.default.createElement(i.Text,{marginLeft:4,marginRight:4,marginBottom:1,marginTop:1,variant:o.TextVariant.bodyXsMedium,color:o.TextColor.textAlternative,textAlign:o.TextAlign.Center},(null==e?void 0:e.y)===undefined?"Â ":(0,a.formatCurrency)(`${null==e?void 0:e.y}`,s,(0,c.getPricePrecision)(null==e?void 0:e.y))))}}}},{package:"$root$",file:"ui/pages/asset/components/chart/chart-tooltip.tsx"}],[7097,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CrosshairPlugin=void 0;n.CrosshairPlugin={id:"crosshair",afterEvent(e,{event:t}){e.crosshairX="mouseout"===t.type?undefined:t.x??undefined,e.draw()},afterDraw(e){if(e.crosshairX!==undefined){const t=e.data.datasets[0].data,n=t[Math.max(0,Math.min(t.length-1,Math.round(e.crosshairX/e.width*t.length)))];if(n){const{x:t,y:s}=e.scales,r=t.getPixelForValue(n.x),i=s.getPixelForValue(n.y);e.ctx.lineWidth=1,e.ctx.strokeStyle="#BBC0C5",e.ctx.beginPath(),e.ctx.moveTo(r,0),e.ctx.lineTo(r,e.height),e.ctx.stroke(),e.ctx.beginPath(),e.ctx.arc(r,i,3,0,2*Math.PI),e.ctx.fillStyle=e.options.borderColor,e.ctx.fill()}}}}}}},{package:"$root$",file:"ui/pages/asset/components/chart/crosshair-plugin.ts"}],[7098,{"../../../../shared/constants/metametrics":5836,"../../../../shared/constants/transaction":5854,"../../../../shared/modules/selectors/networks":5923,"../../../contexts/metametrics":6898,"../../../helpers/utils/multichain/blockExplorer":6972,"../../../helpers/utils/util":6985,"../../../hooks/useIsOriginalNativeTokenSymbol":7051,"../../../hooks/useMultichainSelector":7058,"../../../selectors":7711,"../../../selectors/multichain":7715,"./asset-options":7090,"./asset-page":7091,"@metamask/etherscan-link":1971,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),i=e("@metamask/etherscan-link"),a=e("../../../selectors"),o=e("../../../../shared/modules/selectors/networks"),c=e("../../../../shared/constants/transaction"),u=e("../../../hooks/useIsOriginalNativeTokenSymbol"),l=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/utils/util"),h=e("../../../contexts/metametrics"),m=e("../../../helpers/utils/multichain/blockExplorer"),p=e("../../../hooks/useMultichainSelector"),g=e("../../../selectors/multichain"),f=T(e("./asset-options")),y=T(e("./asset-page"));function T(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{const{symbol:n}=e,T=(0,a.getNativeCurrencyForChain)(t),{type:k}=(0,r.useSelector)(o.getProviderConfig)??{},{address:v}=(0,r.useSelector)(a.getSelectedInternalAccount),b=(0,r.useSelector)(a.getRpcPrefsForCurrentProvider),S=(0,r.useSelector)(a.getSelectedAccount),_=(0,p.useMultichainSelector)(g.getMultichainNetwork,S),I=(0,r.useSelector)(g.getMultichainIsEvm),w=(0,m.getMultichainAccountUrl)(S.address,_),C=I?(0,i.getAccountLink)(v,t,b):w,E=(0,s.useContext)(h.MetaMetricsContext),M=(0,u.useIsOriginalNativeTokenSymbol)(t,n,k);return s.default.createElement(y.default,{asset:{chainId:t,type:c.AssetType.native,symbol:n,image:T,decimals:e.decimals,isOriginalNativeSymbol:!0===M},optionsButton:s.default.createElement(f.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{E({event:"Clicked Block Explorer Link",category:l.MetaMetricsEventCategory.Navigation,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,d.getURLHostName)(C)}}),global.platform.openTab({url:C})}})})}}}},{package:"$root$",file:"ui/pages/asset/components/native-asset.tsx"}],[7099,{"../../../../shared/constants/metametrics":5836,"../../../../shared/constants/transaction":5854,"../../../../shared/modules/selectors/networks":5923,"../../../../shared/modules/string-utils":5926,"../../../contexts/metametrics":6898,"../../../helpers/utils/multichain/blockExplorer":6972,"../../../helpers/utils/util":6985,"../../../hooks/useMultichainSelector":7058,"../../../hooks/useTokenFiatAmount":7079,"../../../hooks/useTokenTracker":7082,"../../../selectors":7711,"../../../selectors/multichain":7715,"../../../store/actions":7729,"./asset-options":7090,"./asset-page":7091,"@metamask/etherscan-link":1971,"@metamask/utils":3026,react:5284,"react-redux":5230,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=e("@metamask/etherscan-link"),r=e("@metamask/utils"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),a=e("react-redux"),o=e("react-router-dom"),c=e("../../../../shared/constants/metametrics"),u=e("../../../../shared/constants/transaction"),l=e("../../../../shared/modules/selectors/networks"),d=e("../../../../shared/modules/string-utils"),h=e("../../../contexts/metametrics"),m=e("../../../helpers/utils/util"),p=e("../../../hooks/useTokenFiatAmount"),g=e("../../../hooks/useTokenTracker"),f=e("../../../selectors"),y=e("../../../store/actions"),T=e("../../../helpers/utils/multichain/blockExplorer"),k=e("../../../hooks/useMultichainSelector"),v=e("../../../selectors/multichain"),b=_(e("./asset-options")),S=_(e("./asset-page"));function _(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}n.default=({token:e,chainId:t})=>{var n,_,I;const{address:w,symbol:C,isERC721:E,image:M}=e,A=(0,a.useSelector)(f.getTokenList),N=(0,a.useSelector)(l.getNetworkConfigurationsByChainId),P=null===(n=N[t])||void 0===n?void 0:n.defaultBlockExplorerUrlIndex,O=P===undefined?null:null===(_=N[t])||void 0===_?void 0:_.blockExplorerUrls[P],R=(0,a.useSelector)(f.getSelectedInternalAccount),{address:D}=R,x=(0,a.useSelector)(f.selectERC20TokensByChain),B=(0,k.useMultichainSelector)(v.getMultichainNetwork,R),$=(0,a.useSelector)(v.getMultichainIsEvm),F=(0,o.useHistory)(),U=(0,a.useDispatch)(),L=(0,i.useContext)(h.MetaMetricsContext),j=Object.values(A).find((e=>(0,d.isEqualCaseInsensitive)(e.symbol,C)&&(0,d.isEqualCaseInsensitive)(e.address,w))),H=null==x||null===(I=x[t])||void 0===I||null===(I=I.data)||void 0===I?void 0:I[w.toLowerCase()],W=(null==j?void 0:j.name)||(null==H?void 0:H.name)||C,q=(null==j?void 0:j.iconUrl)||(null==H?void 0:H.iconUrl)||M||"",K=null==j?void 0:j.aggregators,{tokensWithBalances:G}=(0,g.useTokenTracker)({tokens:[e],address:undefined}),V=null==G?void 0:G[0],Y=(0,p.useTokenFiatAmount)(w,null==V?void 0:V.string,C,{},!1),z=(0,s.getTokenTrackerLink)(e.address,t,"",D,{blockExplorerUrl:O??""}),Q=$?z:(0,T.getMultichainAccountUrl)((0,r.parseCaipAssetType)(w).assetReference,B);return i.default.createElement(S.default,{asset:{chainId:t,type:u.AssetType.token,address:w,symbol:C,name:W,decimals:e.decimals,image:q,aggregators:K,balance:{value:null==V?void 0:V.balance,display:`${(0,m.roundToDecimalPlacesRemovingExtraZeroes)(null==V?void 0:V.string,5)}`,fiat:Y},isERC721:E},optionsButton:i.default.createElement(b.default,{isNativeAsset:!1,onRemove:()=>U((0,y.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:F})),onClickBlockExplorer:()=>{L({event:"Clicked Block Explorer Link",category:c.MetaMetricsEventCategory.Navigation,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,m.getURLHostName)(z)}}),global.platform.openTab({url:Q})},tokenSymbol:e.symbol})})}}}},{package:"$root$",file:"ui/pages/asset/components/token-asset.tsx"}],[710,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptExpressions=n.ScriptExpression=void 0;class s{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}n.ScriptExpression=s,s.fromTag=e=>Object.values(n.ScriptExpressions).find((t=>t.getTag()===e)),n.ScriptExpressions={SCRIPT_HASH:new s(400,"sh"),WITNESS_SCRIPT_HASH:new s(401,"wsh"),PUBLIC_KEY:new s(402,"pk"),PUBLIC_KEY_HASH:new s(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new s(404,"wpkh"),COMBO:new s(405,"combo"),MULTISIG:new s(406,"multi"),SORTED_MULTISIG:new s(407,"sortedmulti"),ADDRESS:new s(307,"addr"),RAW_SCRIPT:new s(408,"raw")}}}},{package:"@keystonehq/bc-ur-registry-eth>@keystonehq/bc-ur-registry",file:"node_modules/@keystonehq/bc-ur-registry/dist/ScriptExpression.js"}],[7100,{"../../../../shared/constants/metametrics":5836,"../../../../shared/constants/multichain/networks":5838,"../../../../shared/constants/transaction":5854,"../../../../shared/modules/selectors/networks":5923,"../../../components/app/wallet-overview/hooks/useHandleSendNonEvm":6385,"../../../components/component-library":6463,"../../../components/ui/icon-button/icon-button":6805,"../../../contexts/i18n":6894,"../../../contexts/metametrics":6898,"../../../ducks/ramps":6924,"../../../ducks/send":6927,"../../../ducks/swaps/swaps":6930,"../../../helpers/constants/design-system":6934,"../../../helpers/constants/error-keys":6935,"../../../helpers/constants/routes":6940,"../../../helpers/utils/hardware":6965,"../../../hooks/bridge/useBridging":6999,"../../../hooks/ramps/useRamps/useRamps":7021,"../../../hooks/useMultichainSelector":7058,"../../../selectors":7711,"../../../selectors/multichain":7715,"../../../store/actions":7729,"@metamask/keyring-api":2046,lodash:4934,react:5284,"react-redux":5230,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-redux"),i=e("react-router-dom"),a=e("@metamask/keyring-api"),o=e("lodash"),c=e("../../../contexts/i18n"),u=e("../../../helpers/constants/routes"),l=e("../../../ducks/send"),d=e("../../../helpers/utils/hardware"),h=e("../../../ducks/swaps/swaps"),m=N(e("../../../hooks/ramps/useRamps/useRamps")),p=e("../../../selectors"),g=N(e("../../../hooks/bridge/useBridging")),f=e("../../../helpers/constants/error-keys"),y=e("../../../store/actions"),T=e("../../../contexts/metametrics"),k=e("../../../../shared/constants/metametrics"),v=e("../../../../shared/constants/transaction"),b=e("../../../helpers/constants/design-system"),S=N(e("../../../components/ui/icon-button/icon-button")),_=e("../../../components/component-library"),I=e("../../../ducks/ramps"),w=e("../../../hooks/useMultichainSelector"),C=e("../../../selectors/multichain"),E=e("../../../components/app/wallet-overview/hooks/useHandleSendNonEvm"),M=e("../../../../shared/constants/multichain/networks"),A=e("../../../../shared/modules/selectors/networks");function N(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}n.default=({token:e})=>{const t=(0,r.useDispatch)(),n=(0,s.useContext)(c.I18nContext),N=(0,s.useContext)(T.MetaMetricsContext),P=(0,i.useHistory)(),O=(0,r.useSelector)(p.getCurrentKeyring),R=(0,d.isHardwareKeyring)(O.type),D=(0,w.useMultichainSelector)(C.getMultichainIsEvm),x=(0,r.useSelector)(p.getSelectedInternalAccount,o.isEqual),{chainId:B}=(0,r.useSelector)(p.getSelectedMultichainNetworkConfiguration),$=(0,r.useSelector)(A.getCurrentChainId),F=(0,r.useSelector)(p.getNetworkConfigurationIdByChainId),U=(0,r.useSelector)((e=>(0,p.getIsSwapsChain)(e,D?$:B))),L=(0,r.useSelector)((e=>(0,p.getIsBridgeChain)(e,D?$:B))),j=(0,r.useSelector)(I.getIsNativeTokenBuyable),{openBuyCryptoInPdapp:H}=(0,m.default)(),{openBridgeExperience:W}=(0,g.default)(),q=(0,E.useHandleSendNonEvm)(e.address);(0,s.useEffect)((()=>{e.isERC721&&t((0,y.showModal)({name:"CONVERT_TOKEN_TO_NFT",tokenAddress:e.address}))}),[e.isERC721,e.address,t]);const K=(0,s.useCallback)((async()=>{if($!==e.chainId&&B!==e.chainId)try{const n=F[e.chainId];await t((0,y.setActiveNetworkWithError)(n)),await t((0,y.setSwitchedNetworkDetails)({networkClientId:n}))}catch(t){throw console.error(`Failed to switch chains.\n        Target chainId: ${e.chainId}, Current chainId: ${$}.\n        ${t}`),t}}),[$,B,F,e.chainId,t]),G=(0,s.useCallback)((()=>{H(),N({event:k.MetaMetricsEventName.NavBuyButtonClicked,category:k.MetaMetricsEventCategory.Navigation,properties:{location:"Token Overview",text:"Buy",chain_id:$,token_symbol:e.symbol}})}),[$,e.symbol,N,H]),V=(0,s.useCallback)((async()=>{if(N({event:k.MetaMetricsEventName.NavSendButtonClicked,category:k.MetaMetricsEventCategory.Navigation,properties:{token_symbol:e.symbol,location:k.MetaMetricsSwapsEventSource.TokenView,text:"Send",chain_id:e.chainId}},{excludeMetaMetricsId:!1}),(0,a.isEvmAccountType)(x.type))try{await K(),await t((0,l.startNewDraftTransaction)({type:v.AssetType.token,details:e})),P.push(u.SEND_ROUTE)}catch(e){if(!e.message.includes(f.INVALID_ASSET_TYPE))throw e}else await q()}),[N,t,P,e,K,x,q]),Y=(0,s.useCallback)((async t=>{var n,s;await K(),W(k.MetaMetricsSwapsEventSource.TokenView,{...e,iconUrl:e.image,balance:null==e||null===(n=e.balance)||void 0===n?void 0:n.value,string:null==e||null===(s=e.balance)||void 0===s?void 0:s.display,name:e.name??""},undefined,t)}),[e,K,W]),z=(0,s.useCallback)((async()=>{var n,s,r,i,a;B!==M.MultichainNetworks.SOLANA?(await K(),N({event:k.MetaMetricsEventName.NavSwapButtonClicked,category:k.MetaMetricsEventCategory.Swaps,properties:{token_symbol:e.symbol,location:k.MetaMetricsSwapsEventSource.TokenView,text:"Swap",chain_id:$}}),t((0,h.setSwapsFromToken)({...e,address:null===(n=e.address)||void 0===n?void 0:n.toLowerCase(),iconUrl:e.image,balance:null==e||null===(s=e.balance)||void 0===s?void 0:s.value,string:null==e||null===(r=e.balance)||void 0===r?void 0:r.display})),R?null===(i=(a=global.platform).openExtensionInBrowser)||void 0===i||i.call(a,u.PREPARE_SWAP_ROUTE,undefined,!1):P.push(u.PREPARE_SWAP_ROUTE)):Y(!0)}),[$,N,t,P,e,R,K,Y,B]);return s.default.createElement(_.Box,{display:b.Display.Flex,justifyContent:b.JustifyContent.spaceEvenly},s.default.createElement(S.default,{className:"token-overview__button",Icon:s.default.createElement(_.Icon,{name:_.IconName.PlusAndMinus,color:b.IconColor.iconDefault,size:_.IconSize.Sm}),label:n("buyAndSell"),"data-testid":"token-overview-buy",onClick:G,disabled:e.isERC721||!j,tooltipRender:null}),s.default.createElement(S.default,{className:"token-overview__button",onClick:V,Icon:s.default.createElement(_.Icon,{name:_.IconName.Arrow2UpRight,color:b.IconColor.iconDefault,size:_.IconSize.Sm}),label:n("send"),"data-testid":"eth-overview-send",disabled:e.isERC721,tooltipRender:null}),s.default.createElement(S.default,{className:"token-overview__button",Icon:s.default.createElement(_.Icon,{name:_.IconName.SwapHorizontal,color:b.IconColor.iconDefault,size:_.IconSize.Sm}),onClick:z,label:n("swap"),tooltipRender:null,disabled:!U}),s.default.createElement(S.default,{className:"token-overview__button","data-testid":"token-overview-bridge",Icon:s.default.createElement(_.Icon,{name:_.IconName.Bridge,color:b.IconColor.iconDefault,size:_.IconSize.Sm}),label:n("bridge"),onClick:()=>Y(!1),tooltipRender:null,disabled:!L}))}}}},{package:"$root$",file:"ui/pages/asset/components/token-buttons.tsx"}],[7101,{"../../../selectors/assets":7704,"../../../selectors/multichain":7715,"@metamask/utils":3026,lodash:4934,luxon:4944,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useChartTimeRanges=void 0;var s=e("@metamask/utils"),r=e("lodash"),i=e("luxon"),a=e("react-redux"),o=e("../../../selectors/assets"),c=e("../../../selectors/multichain");n.useChartTimeRanges=(e,t)=>{var n;const u=["P1D","P1W","P1M","P3M","P1Y","P1000Y"],l=(0,a.useSelector)(c.getMultichainIsEvm),d=(0,a.useSelector)(o.getHistoricalPrices);if(l)return u;(0,s.assert)(e,"caipAssetType is required on non-EVM chains"),(0,s.assert)(t,"currency is required on non-EVM chains");const h=null===(n=d[e])||void 0===n||null===(n=n[t])||void 0===n?void 0:n.intervals;return h?(0,r.chain)(h).keys().map((e=>i.Duration.fromISO(e))).filter((e=>e.isValid)).sortBy((e=>e.toMillis())).map((e=>e.toISO())).filter((e=>null!==e)).uniq().value():u}}}},{package:"$root$",file:"ui/pages/asset/hooks/useChartTimeRanges.ts"}],[7102,{"../../../../shared/modules/hexstring-utils":5912,"../../../hooks/useMultichainSelector":7058,"../../../selectors":7711,"../../../selectors/assets":7704,"../../../selectors/multichain":7715,"@metamask/assets-controllers":1363,"@metamask/bridge-controller":1409,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentPrice=void 0;var s=e("@metamask/assets-controllers"),r=e("@metamask/bridge-controller"),i=e("react-redux"),a=e("../../../../shared/modules/hexstring-utils"),o=e("../../../hooks/useMultichainSelector"),c=e("../../../selectors"),u=e("../../../selectors/assets"),l=e("../../../selectors/multichain");n.useCurrentPrice=e=>{var t;const n=(0,o.useMultichainSelector)(l.getMultichainIsEvm),d=(0,i.useSelector)(c.getMarketData),h=(0,i.useSelector)(c.getCurrencyRates),m=(0,i.useSelector)(u.getAssetsRates),p=(0,o.useMultichainSelector)(l.getMultichainConversionRate),{chainId:g,type:f}=e,y=f===r.AssetType.token?n?(0,a.toChecksumHexAddress)(e.address):e.address:(0,s.getNativeTokenAddress)(g);if(f===r.AssetType.native)return{currentPrice:Number(p)};if(n){var T,k,v;const e=null===(T=d[g])||void 0===T||null===(T=T[y])||void 0===T?void 0:T.price,t=null===(v=h[null===(k=d[g])||void 0===k||null===(k=k[y])||void 0===k?void 0:k.currency])||void 0===v?void 0:v.conversionRate;return{currentPrice:t!==undefined&&e!==undefined?t*e:undefined}}const b=null==m||null===(t=m[y])||void 0===t?void 0:t.rate;return{currentPrice:b?parseFloat(b):undefined}}}}},{package:"$root$",file:"ui/pages/asset/hooks/useCurrentPrice.ts"}],[7103,{"../../../../shared/constants/time":5852,"../../../../shared/lib/fetch-with-cache":5881,"../../../selectors":7711,"../../../selectors/assets":7704,"../../../selectors/multichain":7715,"../../../store/actions":7729,"../util":7105,react:5284,"react-redux":5230},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useHistoricalPrices=n.DEFAULT_USE_HISTORICAL_PRICES_METADATA=void 0;var s,r=e("react"),i=e("react-redux"),a=e("../../../../shared/constants/time"),o=(s=e("../../../../shared/lib/fetch-with-cache"))&&s.__esModule?s:{default:s},c=e("../../../selectors"),u=e("../../../selectors/assets"),l=e("../../../selectors/multichain"),d=e("../util"),h=e("../../../store/actions");const m=n.DEFAULT_USE_HISTORICAL_PRICES_METADATA={minPricePoint:{x:-Infinity,y:-Infinity},maxPricePoint:{x:Infinity,y:Infinity},xMin:Infinity,xMax:-Infinity,yMin:Infinity,yMax:-Infinity},p=e=>{const t=Math.min(...e.map((e=>e.x))),n=Math.max(...e.map((e=>e.x))),s=Math.min(...e.map((e=>e.y))),r=Math.max(...e.map((e=>e.y)));return{minPricePoint:e.find((e=>e.y===s))??m.minPricePoint,maxPricePoint:e.find((e=>e.y===r))??m.maxPricePoint,xMin:t,xMax:n,yMin:s,yMax:r}};n.useHistoricalPrices=({chainId:e,address:t,currency:n,timeRange:s})=>{const g=(0,i.useSelector)(l.getMultichainIsEvm),f=(({chainId:e,address:t,currency:n,timeRange:s})=>{const u=(0,i.useSelector)(l.getMultichainIsEvm),h=(0,i.useSelector)(c.getShouldShowFiat),[g,f]=(0,r.useState)(!1),[y,T]=(0,r.useState)([]),[k,v]=(0,r.useState)(m);return(0,r.useEffect)((()=>{if(!u)return;if(!h||!(0,d.chainSupportsPricing)(e))return;f(!0);const r=(0,d.fromIso8601DurationToPriceApiTimePeriod)(s);(0,o.default)({url:`https://price.api.cx.metamask.io/v1/chains/${e}/historical-prices/${t}?vsCurrency=${n}&timePeriod=${r}`,cacheOptions:{cacheRefreshTime:5*a.MINUTE},functionName:"GetAssetHistoricalPrices",fetchOptions:{headers:{"X-Client-Id":"extension"}}}).catch((()=>({}))).then((e=>{var t;const n=(null==e||null===(t=e.prices)||void 0===t?void 0:t.map((e=>({x:null==e?void 0:e[0],y:null==e?void 0:e[1]}))))??[];T(n)})).finally((()=>{f(!1)}))}),[u,e,t,n,s,h]),(0,r.useEffect)((()=>{if(!u)return;const e=p(y);v(e)}),[u,y]),{loading:g,data:{prices:y,metadata:k}}})({chainId:e,address:t,currency:n,timeRange:s}),y=(({chainId:e,address:t,currency:n,timeRange:s})=>{const a=(0,i.useSelector)(l.getMultichainIsEvm),[o,c]=(0,r.useState)(!1),[d,g]=(0,r.useState)([]),[f,y]=(0,r.useState)(m),T=(0,i.useSelector)(u.getHistoricalPrices),k=(0,i.useDispatch)();return(0,r.useEffect)((()=>{if(a)return()=>{};const n=async()=>{c(!0);try{await k((0,h.fetchHistoricalPricesForAsset)(t))}catch(n){console.error("Error fetching historical prices for %s on %s",t,e,n)}finally{c(!1)}};n();const s=setInterval(n,6e4);return()=>clearInterval(s)}),[a,e,t,k]),(0,r.useEffect)((()=>{var e;if(a)return;const r=((null==T||null===(e=T[t])||void 0===e||null===(e=e[n])||void 0===e?void 0:e.intervals[s])??[]).map((([e,t])=>({x:e,y:Number(t)})));g(r)}),[a,T,t,n,s]),(0,r.useEffect)((()=>{if(a)return;const e=p(d);y(e)}),[a,d]),{loading:o,data:{prices:d,metadata:f}}})({chainId:e,address:t,currency:n,timeRange:s});return g?f:y}}}},{package:"$root$",file:"ui/pages/asset/hooks/useHistoricalPrices.ts"}],[7104,{"./asset":7088},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var s,r=(s=e("./asset"))&&s.__esModule?s:{default:s}}}},{package:"$root$",file:"ui/pages/asset/index.js"}],[7105,{"@metamask/assets-controllers":1363,"@metamask/utils":3026,luxon:4944},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.localizeLargeNumber=n.loadingOpacity=n.getShortDateFormatterV2=n.getShortDateFormatter=n.getPricePrecision=n.fromIso8601DurationToPriceApiTimePeriod=n.findAssetByAddress=n.chainSupportsPricing=void 0;var s=e("@metamask/assets-controllers"),r=e("@metamask/utils"),i=e("luxon");n.getShortDateFormatter=()=>Intl.DateTimeFormat(navigator.language,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});n.getShortDateFormatterV2=()=>Intl.DateTimeFormat(navigator.language,{year:"numeric",month:"short",day:"numeric"});n.localizeLargeNumber=(e,t)=>t>=1e12?`${(t/1e12).toFixed(2)}${e("trillionAbbreviation")}`:t>=1e9?`${(t/1e9).toFixed(2)}${e("billionAbbreviation")}`:t>=1e6?`${(t/1e6).toFixed(2)}${e("millionAbbreviation")}`:t.toFixed(2);n.getPricePrecision=e=>{if(0===e)return 1;let t=2;for(let n=Math.abs(e);n<1;t++)n*=10;return t};n.chainSupportsPricing=e=>s.SUPPORTED_CHAIN_IDS.includes(e);n.loadingOpacity=.2;n.findAssetByAddress=(e,t,n)=>{if(!n)return console.error("Chain ID is required."),null;const s=e[n];return s?t?s.find((e=>e.address&&e.address.toLowerCase()===t.toLowerCase())):s.find((e=>!e.address)):(console.warn(`No tokens found for chainId: ${n}`),null)};n.fromIso8601DurationToPriceApiTimePeriod=e=>{(0,r.assert)(i.Duration.fromISO(e,{locale:"en"}).isValid,`Invalid ISO 8601 duration: ${e}`);const t={P1D:"1D",P7D:"7D",P1W:"7D",P1M:"1M",P3M:"3M",P1Y:"1Y",P1000Y:"1000Y"}[e];if(!t)throw new Error(`No Price API timePeriod matching the ISO 8601 duration: ${e}`);return t}}}},{package:"$root$",file:"ui/pages/asset/util.ts"}],[7106,{"../../../components/component-library":6463,"../../../contexts/i18n":6894,"../../../helpers/constants/routes":6940,react:5284,"react-router-dom":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var s={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,n&&n.set(e,s),s}(e("react")),r=e("react-router-dom"),i=e("../../../helpers/constants/routes"),a=e("../../../components/component-library"),o=e("../../../contexts/i18n");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,s.useContext)(o.I18nContext),t=(0,r.useHistory)();return s.default.createElement(a.Button,{onClick:()=>{t.push(`${i.CROSS_CHAIN_SWAP_ROUTE}${i.PREPARE_SWAP_ROUTE}`)}},e("cancel"))}}}},{package:"$root$",file:"ui/pages/bridge/awaiting-signatures/awaiting-signatures-cancel-button.tsx"}]],[],{});