LavaPack.loadBundle([[3857,{"../../../shared/constants/app":3218,"../../../shared/constants/metametrics":3223,"../../../shared/constants/swaps":3228,"../../../shared/constants/transaction":3231,"../../../shared/lib/transactions-controller-utils":3239,"../../../shared/modules/conversion.utils":3244,"../../helpers/constants/routes":3865,"../../helpers/utils/conversions.util":3882,"../../pages/swaps/swaps.util":4250,"../../selectors":4266,"../../store/actions":4273,"../metamask/metamask":3853,"@reduxjs/toolkit":1179,"@sentry/browser":1190,"bignumber.js":1642,loglevel:2750},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GAS_PRICES_LOADING_STATES=n.FALLBACK_GAS_MULTIPLIER=void 0,n.cancelSwapsSmartTransaction=function(e){return async(t,n)=>{try{await t((0,i.cancelSmartTransaction)(e))}catch(e){const{swaps:{isFeatureFlagLoaded:a}}=n();if(e.message.startsWith("Fetch error:")&&a){const n=(0,l.parseSmartTransactionsError)(e.message);t(_e(null==n?void 0:n.error))}}}},n.fetchAndSetSwapsGasPriceInfo=n.dismissCurrentSmartTransactionsErrorMessage=n.default=n.clearSwapsState=void 0,n.fetchMetaSwapsGasPriceEstimates=Se,n.fetchSwapsLivenessAndFeatureFlags=n.fetchQuotesAndSetQuoteState=void 0,n.fetchSwapsSmartTransactionFees=ke,n.setTopAssets=n.setSwapsFromToken=n.setSwapToToken=n.setSwapQuotesFetchStartTime=n.setReviewSwapClickedTimestamp=n.setMaxSlippage=n.setIsFeatureFlagLoaded=n.setFromTokenInputValue=n.setFromTokenError=n.setFetchingQuotes=n.setBalanceError=n.setAggregatorMetadata=n.prepareToLeaveSwaps=n.prepareForRetryGetQuotes=n.navigateBackToBuildQuote=n.getUsedSwapsGasPrice=n.getUsedQuote=n.getTradeTxId=n.getTopQuote=n.getTopAssets=n.getToToken=n.getSwapsWelcomeMessageSeenStatus=n.getSwapsUserFeeLevel=n.getSwapsTokens=n.getSwapsSTXLoading=n.getSwapsQuoteRefreshTime=n.getSwapsQuotePrefetchingRefreshTime=n.getSwapsNetworkConfig=n.getSwapsFeatureIsLive=n.getSwapsFallbackGasPrice=n.getSwapsErrorKey=n.getSwapsCustomizationModalPrice=n.getSwapsCustomizationModalLimit=n.getSwapGasPriceEstimateData=n.getSmartTransactionsOptInStatus=n.getSmartTransactionsErrorMessageDismissed=n.getSmartTransactionsError=n.getSmartTransactionsEnabled=n.getSmartTransactionFees=n.getSmartTransactionEstimatedGas=n.getShowQuoteLoadingScreen=n.getSelectedQuote=n.getReviewSwapClickedTimestamp=n.getQuotesLastFetched=n.getQuotesFetchStartTime=n.getQuotes=n.getPendingSmartTransactions=n.getMaxSlippage=n.getIsFeatureFlagLoaded=n.getFromTokenInputValue=n.getFromTokenError=n.getFromToken=n.getFetchingQuotes=n.getFetchParams=n.getDestinationTokenInfo=n.getCustomSwapsGasPrice=n.getCustomSwapsGas=n.getCustomMaxPriorityFeePerGas=n.getCustomMaxFeePerGas=n.getCurrentSmartTransactionsErrorMessageDismissed=n.getCurrentSmartTransactionsError=n.getCurrentSmartTransactionsEnabled=n.getCurrentSmartTransactions=n.getBalanceError=n.getBackgroundSwapRouteState=n.getApproveTxParams=n.getApproveTxId=n.getAggregatorMetadata=void 0,n.shouldShowCustomPriceTooLowWarning=function(e){const{average:t}=C(e),n=R(e);if(!n||t===undefined)return!1;return(0,d.conversionLessThan)({value:n,fromNumericBase:"hex",fromDenomination:"WEI",toDenomination:"GWEI"},{value:t,fromNumericBase:"dec"})},n.swapsQuoteSelected=n.swapGasPriceEstimateIsLoading=n.swapGasEstimateLoadingHasFailed=n.swapCustomGasModalPriceEdited=n.swapCustomGasModalLimitEdited=n.swapCustomGasModalClosed=n.signAndSendTransactions=n.signAndSendSwapsSmartTransaction=void 0;var a=e("@reduxjs/toolkit"),s=_(e("bignumber.js")),r=_(e("loglevel")),o=e("@sentry/browser"),i=e("../../store/actions"),c=e("../../helpers/constants/routes"),l=e("../../pages/swaps/swaps.util"),u=e("../../helpers/utils/conversions.util"),d=e("../../../shared/modules/conversion.utils"),p=e("../../selectors"),m=e("../../../shared/constants/metametrics"),f=e("../../../shared/constants/swaps"),h=e("../../../shared/constants/transaction"),g=e("../metamask/metamask"),T=e("../../../shared/constants/app"),E=e("../../../shared/lib/transactions-controller-utils");function _(e){return e&&e.__esModule?e:{default:e}}const v={INITIAL:"INITIAL",LOADING:"LOADING",FAILED:"FAILED",COMPLETED:"COMPLETED"};n.GAS_PRICES_LOADING_STATES=v;n.FALLBACK_GAS_MULTIPLIER=1.5;const y={aggregatorMetadata:null,approveTxId:null,tradeTxId:null,balanceError:!1,fetchingQuotes:!1,fromToken:null,fromTokenInputValue:"",fromTokenError:null,isFeatureFlagLoaded:!1,maxSlippage:f.SLIPPAGE.DEFAULT,quotesFetchStartTime:null,reviewSwapClickedTimestamp:null,topAssets:{},toToken:null,customGas:{price:null,limit:null,loading:v.INITIAL,priceEstimates:{},fallBackPrice:null},currentSmartTransactionsError:"",currentSmartTransactionsErrorMessageDismissed:!1,swapsSTXLoading:!1},A=(0,a.createSlice)({name:"swaps",initialState:y,reducers:{clearSwapsState:()=>y,navigatedBackToBuildQuote:e=>{e.approveTxId=null,e.tradeTxId=null,e.balanceError=!1,e.fetchingQuotes=!1,e.customGas.limit=null,e.customGas.price=null},retriedGetQuotes:e=>{e.approveTxId=null,e.balanceError=!1,e.fetchingQuotes=!1},setAggregatorMetadata:(e,t)=>{e.aggregatorMetadata=t.payload},setBalanceError:(e,t)=>{e.balanceError=t.payload},setFetchingQuotes:(e,t)=>{e.fetchingQuotes=t.payload},setFromToken:(e,t)=>{e.fromToken=t.payload},setFromTokenInputValue:(e,t)=>{e.fromTokenInputValue=t.payload},setFromTokenError:(e,t)=>{e.fromTokenError=t.payload},setIsFeatureFlagLoaded:(e,t)=>{e.isFeatureFlagLoaded=t.payload},setMaxSlippage:(e,t)=>{e.maxSlippage=t.payload},setQuotesFetchStartTime:(e,t)=>{e.quotesFetchStartTime=t.payload},setReviewSwapClickedTimestamp:(e,t)=>{e.reviewSwapClickedTimestamp=t.payload},setTopAssets:(e,t)=>{e.topAssets=t.payload},setToToken:(e,t)=>{e.toToken=t.payload},swapCustomGasModalClosed:e=>{e.customGas.price=null,e.customGas.limit=null},swapCustomGasModalPriceEdited:(e,t)=>{e.customGas.price=t.payload},swapCustomGasModalLimitEdited:(e,t)=>{e.customGas.limit=t.payload},swapGasPriceEstimatesFetchStarted:e=>{e.customGas.loading=v.LOADING},swapGasPriceEstimatesFetchFailed:e=>{e.customGas.loading=v.FAILED},swapGasPriceEstimatesFetchCompleted:(e,t)=>{e.customGas.priceEstimates=t.payload.priceEstimates,e.customGas.loading=v.COMPLETED},retrievedFallbackSwapsGasPrice:(e,t)=>{e.customGas.fallBackPrice=t.payload},setCurrentSmartTransactionsError:(e,t)=>{const n=Object.values(l.stxErrorTypes).includes(t.payload)?t.payload:l.stxErrorTypes.UNAVAILABLE;e.currentSmartTransactionsError=n},dismissCurrentSmartTransactionsErrorMessage:e=>{e.currentSmartTransactionsErrorMessageDismissed=!0},setSwapsSTXSubmitLoading:(e,t)=>{e.swapsSTXLoading=t.payload||!1}}}),{actions:S,reducer:k}=A;var O=k;n.default=O;n.getAggregatorMetadata=e=>e.swaps.aggregatorMetadata;const N=e=>e.swaps.balanceError;n.getBalanceError=N;const b=e=>e.swaps.fromToken;n.getFromToken=b;n.getFromTokenError=e=>e.swaps.fromTokenError;n.getFromTokenInputValue=e=>e.swaps.fromTokenInputValue;n.getIsFeatureFlagLoaded=e=>e.swaps.isFeatureFlagLoaded;n.getSwapsSTXLoading=e=>e.swaps.swapsSTXLoading;n.getMaxSlippage=e=>e.swaps.maxSlippage;n.getTopAssets=e=>e.swaps.topAssets;const w=e=>e.swaps.toToken;n.getToToken=w;n.getFetchingQuotes=e=>e.swaps.fetchingQuotes;n.getQuotesFetchStartTime=e=>e.swaps.quotesFetchStartTime;n.getReviewSwapClickedTimestamp=e=>e.swaps.reviewSwapClickedTimestamp;const R=e=>e.swaps.customGas.price;n.getSwapsCustomizationModalPrice=R;n.getSwapsCustomizationModalLimit=e=>e.swaps.customGas.limit;n.swapGasPriceEstimateIsLoading=e=>e.swaps.customGas.loading===v.LOADING;n.swapGasEstimateLoadingHasFailed=e=>e.swaps.customGas.loading===v.INITIAL;const C=e=>e.swaps.customGas.priceEstimates;n.getSwapGasPriceEstimateData=C;const P=e=>e.swaps.customGas.fallBackPrice;n.getSwapsFallbackGasPrice=P;const I=e=>e.swaps.currentSmartTransactionsError;n.getCurrentSmartTransactionsError=I;n.getCurrentSmartTransactionsErrorMessageDismissed=e=>e.swaps.currentSmartTransactionsErrorMessageDismissed;const M=e=>e.metamask.swapsState;n.getSwapsFeatureIsLive=e=>e.metamask.swapsState.swapsFeatureIsLive;n.getSmartTransactionsError=e=>e.appState.smartTransactionsError;n.getSmartTransactionsErrorMessageDismissed=e=>e.appState.smartTransactionsErrorMessageDismissed;const x=e=>{var t,n,a,s;const r=(0,p.isHardwareWallet)(e),o=(0,p.getCurrentChainId)(e),i=f.ALLOWED_SMART_TRANSACTIONS_CHAIN_IDS.includes(o),c=null===(t=e.metamask.swapsState)||void 0===t||null===(n=t.swapsFeatureFlags)||void 0===n||null===(a=n.smartTransactions)||void 0===a?void 0:a.extensionActive,l=null===(s=e.metamask.smartTransactionsState)||void 0===s?void 0:s.liveness;return Boolean(i&&!r&&c&&l)};n.getSmartTransactionsEnabled=x;const D=e=>{const t=x(e),n=I(e);return t&&!n};n.getCurrentSmartTransactionsEnabled=D;n.getSwapsQuoteRefreshTime=e=>e.metamask.swapsState.swapsQuoteRefreshTime;n.getSwapsQuotePrefetchingRefreshTime=e=>e.metamask.swapsState.swapsQuotePrefetchingRefreshTime;n.getBackgroundSwapRouteState=e=>e.metamask.swapsState.routeState;const F=e=>e.metamask.swapsState.customMaxGas;n.getCustomSwapsGas=F;const L=e=>e.metamask.swapsState.customGasPrice;n.getCustomSwapsGasPrice=L;const U=e=>e.metamask.swapsState.customMaxFeePerGas;n.getCustomMaxFeePerGas=U;const G=e=>e.metamask.swapsState.customMaxPriorityFeePerGas;n.getCustomMaxPriorityFeePerGas=G;n.getSwapsUserFeeLevel=e=>e.metamask.swapsState.swapsUserFeeLevel;const j=e=>e.metamask.swapsState.fetchParams;n.getFetchParams=j;const $=e=>e.metamask.swapsState.quotes;n.getQuotes=$;n.getQuotesLastFetched=e=>e.metamask.swapsState.quotesLastFetched;const W=e=>{const{selectedAggId:t,quotes:n}=M(e);return n[t]};n.getSelectedQuote=W;n.getSwapsErrorKey=e=>{var t;return null===(t=M(e))||void 0===t?void 0:t.errorKey};n.getShowQuoteLoadingScreen=e=>e.swaps.showQuoteLoadingScreen;const H=e=>e.metamask.swapsState.tokens;n.getSwapsTokens=H;n.getSwapsWelcomeMessageSeenStatus=e=>e.metamask.swapsWelcomeMessageHasBeenShown;const B=e=>{const{topAggId:t,quotes:n}=M(e);return n[t]};n.getTopQuote=B;n.getApproveTxId=e=>e.metamask.swapsState.approveTxId;n.getTradeTxId=e=>e.metamask.swapsState.tradeTxId;const V=e=>W(e)||B(e);n.getUsedQuote=V;n.getDestinationTokenInfo=e=>{var t,n;return null===(t=j(e))||void 0===t||null===(n=t.metaData)||void 0===n?void 0:n.destinationTokenInfo};const q=e=>L(e)||P(e);n.getUsedSwapsGasPrice=q;const Y=e=>{var t;const{approvalNeeded:n}=W(e)||B(e)||{};if(!n)return null;const a=(null===(t=M(e))||void 0===t?void 0:t.customApproveTxData)||n.data,s=q(e);return{...n,gasPrice:s,data:a}};n.getApproveTxParams=Y;const K=e=>{var t;return null===(t=e.metamask.smartTransactionsState)||void 0===t?void 0:t.userOptIn};n.getSmartTransactionsOptInStatus=K;const z=e=>{var t,n;return null===(t=e.metamask.smartTransactionsState)||void 0===t||null===(n=t.smartTransactions)||void 0===n?void 0:n[(0,p.getCurrentChainId)(e)]};n.getCurrentSmartTransactions=z;n.getPendingSmartTransactions=e=>{const t=z(e);return t&&0!==t.length?t.filter((e=>e.status===h.SmartTransactionStatus.pending)):[]};n.getSmartTransactionFees=e=>{var t;return null===(t=e.metamask.smartTransactionsState)||void 0===t?void 0:t.fees};n.getSmartTransactionEstimatedGas=e=>{var t;return null===(t=e.metamask.smartTransactionsState)||void 0===t?void 0:t.estimatedGas};const Q=e=>{const{swapsQuoteRefreshTime:t,swapsQuotePrefetchingRefreshTime:n,swapsStxGetTransactionsRefreshTime:a,swapsStxBatchStatusRefreshTime:s,swapsStxStatusDeadline:r,swapsStxMaxFeeMultiplier:o}=e.metamask.swapsState;return{quoteRefreshTime:t,quotePrefetchingRefreshTime:n,stxGetTransactionsRefreshTime:a,stxBatchStatusRefreshTime:s,stxStatusDeadline:r,stxMaxFeeMultiplier:o}};n.getSwapsNetworkConfig=Q;const{clearSwapsState:X,navigatedBackToBuildQuote:Z,retriedGetQuotes:J,swapGasPriceEstimatesFetchCompleted:ee,swapGasPriceEstimatesFetchStarted:te,swapGasPriceEstimatesFetchFailed:ne,setAggregatorMetadata:ae,setBalanceError:se,setFetchingQuotes:re,setFromToken:oe,setFromTokenError:ie,setFromTokenInputValue:ce,setIsFeatureFlagLoaded:le,setMaxSlippage:ue,setQuotesFetchStartTime:de,setReviewSwapClickedTimestamp:pe,setTopAssets:me,setToToken:fe,swapCustomGasModalPriceEdited:he,swapCustomGasModalLimitEdited:ge,retrievedFallbackSwapsGasPrice:Te,swapCustomGasModalClosed:Ee,setCurrentSmartTransactionsError:_e,dismissCurrentSmartTransactionsErrorMessage:ve,setSwapsSTXSubmitLoading:ye}=S;n.dismissCurrentSmartTransactionsErrorMessage=ve,n.swapCustomGasModalClosed=Ee,n.swapCustomGasModalLimitEdited=ge,n.swapCustomGasModalPriceEdited=he,n.setSwapToToken=fe,n.setTopAssets=me,n.setReviewSwapClickedTimestamp=pe,n.setSwapQuotesFetchStartTime=de,n.setMaxSlippage=ue,n.setIsFeatureFlagLoaded=le,n.setFromTokenInputValue=ce,n.setFromTokenError=ie,n.setSwapsFromToken=oe,n.setFetchingQuotes=re,n.setBalanceError=se,n.setAggregatorMetadata=ae,n.clearSwapsState=X;n.navigateBackToBuildQuote=e=>async t=>{await t((0,i.setBackgroundSwapRouteState)("")),t(Z()),e.push(c.BUILD_QUOTE_ROUTE)};n.prepareForRetryGetQuotes=()=>async e=>{await e((0,i.resetSwapsPostFetchState)()),e(J())};n.prepareToLeaveSwaps=()=>async e=>{e(X()),await e((0,i.resetBackgroundSwapsState)())};n.swapsQuoteSelected=e=>t=>{t(ge(null)),t((0,i.setSelectedQuoteAggId)(e)),t((0,i.setSwapsTxGasLimit)(""))};const Ae=()=>async e=>{const t=await e(Se());null!=t&&t.fast&&e((0,i.setSwapsTxGasPrice)((0,u.decGWEIToHexWEI)(t.fast)))};n.fetchAndSetSwapsGasPriceInfo=Ae;n.fetchSwapsLivenessAndFeatureFlags=()=>async(e,t)=>{let n={swapsFeatureIsLive:!1};const a=t(),s=(0,p.getCurrentChainId)(a);try{const t=await(0,l.fetchSwapsFeatureFlags)();if(await e((0,i.setSwapsFeatureFlags)(t)),f.ALLOWED_SMART_TRANSACTIONS_CHAIN_IDS.includes(s)){var o;await e((0,i.fetchSmartTransactionsLiveness)());((e,t)=>{if(!((null==t?void 0:t.length)<=0))for(const n of t)if(h.IN_PROGRESS_TRANSACTION_STATUSES.includes(n.status)){e(_e(l.stxErrorTypes.REGULAR_TX_IN_PROGRESS));break}})(e,await(0,i.getTransactions)({searchCriteria:{from:null===(o=a.metamask)||void 0===o?void 0:o.selectedAddress}}))}n=(0,l.getSwapsLivenessForNetwork)(t,s)}catch(e){r.default.error("Failed to fetch Swaps feature flags and Swaps liveness, defaulting to false.",e)}return await e((0,i.setSwapsLiveness)(n)),e(le(!0)),n};n.fetchQuotesAndSetQuoteState=(e,t,n,a,o)=>async(u,d)=>{var h,T,_,v;const y=d(),A=(0,p.getCurrentChainId)(y);let S={swapsFeatureIsLive:!1};try{const e=await(0,l.fetchSwapsFeatureFlags)();S=(0,l.getSwapsLivenessForNetwork)(e,A)}catch(e){r.default.error("Failed to fetch Swaps liveness, defaulting to false.",e)}if(await u((0,i.setSwapsLiveness)(S)),!S.swapsFeatureIsLive)return void await e.push(c.SWAPS_MAINTENANCE_ROUTE);const k=j(y),O=(0,p.getSelectedAccount)(y),R=N(y),C=(0,p.getSwapsDefaultToken)(y),P=(null==k||null===(h=k.metaData)||void 0===h||null===(T=h.sourceTokenInfo)||void 0===T?void 0:T.symbol)===C.symbol?C:null==k||null===(_=k.metaData)||void 0===_?void 0:_.sourceTokenInfo,I=b(y)||P||{},M=w(y)||(null==k||null===(v=k.metaData)||void 0===v?void 0:v.destinationTokenInfo)||{},{address:F,symbol:L,decimals:U,iconUrl:G,balance:$}=I,{address:W,symbol:B,decimals:V,iconUrl:q}=M;o||(await u((0,i.setBackgroundSwapRouteState)("loading")),e.push(c.LOADING_QUOTES_ROUTE)),u(re(!0));const Y=(0,p.getTokenExchangeRates)(y);let z=!1;var Q,X;!W||B===C.symbol||Y[W]!==undefined||(Q=W,X=(0,g.getTokens)(y),Array.isArray(X)&&X.find((e=>e.address.toLowerCase()===Q.toLowerCase())))||(z=!0,await u((0,i.addToken)(W,B,V,q,!0))),F&&L!==C.symbol&&!Y[F]&&$&&new s.default($,16).gt(0)&&u((0,i.addToken)(F,L,U,G,!0));const Z=H(y),J=(null==Z?void 0:Z.find((({address:e})=>e===F)))||I,ee=(null==Z?void 0:Z.find((({address:e})=>e===W)))||M;u(oe(I));const te=(0,p.isHardwareWallet)(y),ne=(0,p.getHardwareWalletType)(y),ae=(0,p.checkNetworkAndAccountSupports1559)(y),se=K(y),ie=x(y),ce=D(y);a({event:"Quotes Requested",category:m.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{token_from:L,token_from_amount:String(t),token_to:B,request_type:R?"Quote":"Order",slippage:n,custom_slippage:n!==f.SLIPPAGE.DEFAULT,is_hardware_wallet:te,hardware_wallet_type:ne,stx_enabled:ie,current_stx_enabled:ce,stx_user_opt_in:se,anonymizedData:!0}});try{var le;const e=Date.now();u(de(e));const s=u((0,i.fetchAndSetQuotes)({slippage:n,sourceToken:F,destinationToken:W,value:t,fromAddress:O.address,destinationTokenAddedForSwap:z,balanceError:R,sourceDecimals:U},{sourceTokenInfo:J,destinationTokenInfo:ee,accountBalance:O.balance,chainId:A})),r=ae?null:u(Ae()),[[o,c]]=await Promise.all([s,r]);if(0===(null===(le=Object.values(o))||void 0===le?void 0:le.length))a({event:"No Quotes Available",category:m.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{token_from:L,token_from_amount:String(t),token_to:B,request_type:R?"Quote":"Order",slippage:n,custom_slippage:n!==f.SLIPPAGE.DEFAULT,is_hardware_wallet:te,hardware_wallet_type:ne,stx_enabled:ie,current_stx_enabled:ce,stx_user_opt_in:se}}),u((0,i.setSwapsErrorKey)(f.QUOTES_NOT_AVAILABLE_ERROR));else{var ue;const s=o[c];a({event:"Quotes Received",category:m.EVENT.CATEGORIES.SWAPS,sensitiveProperties:{token_from:L,token_from_amount:String(t),token_to:B,token_to_amount:(0,E.calcTokenAmount)(s.destinationAmount,s.decimals||18),request_type:R?"Quote":"Order",slippage:n,custom_slippage:n!==f.SLIPPAGE.DEFAULT,response_time:Date.now()-e,best_quote_source:s.aggregator,available_quotes:null===(ue=Object.values(o))||void 0===ue?void 0:ue.length,is_hardware_wallet:te,hardware_wallet_type:ne,stx_enabled:ie,current_stx_enabled:ce,stx_user_opt_in:se,anonymizedData:!0}}),u((0,i.setInitialGasEstimate)(c))}}catch(e){if(e.message===f.SWAPS_FETCH_ORDER_CONFLICT)return void r.default.debug("Swap fetch order conflict detected; ignoring older request");r.default.error("Error fetching quotes: ",e),u((0,i.setSwapsErrorKey)(f.ERROR_FETCHING_QUOTES))}u(re(!1))};n.signAndSendSwapsSmartTransaction=({unsignedTransaction:e,trackEvent:t,history:n,additionalTrackingParams:a})=>async(s,u)=>{var d,g,_,v,y,A,S,k;s(ye(!0));const O=u(),N=j(O),{metaData:b,value:w,slippage:R}=N,{sourceTokenInfo:C={},destinationTokenInfo:P={}}=b,I=V(O),M=Q(O),F=(0,p.getCurrentChainId)(O);s((0,i.setSmartTransactionsRefreshInterval)(null==M?void 0:M.stxBatchStatusRefreshTime));const L=I.trade,U=(0,E.calcTokenAmount)(I.destinationAmount,P.decimals||18).toPrecision(8),G=K(O),W=x(O),H=D(O),q={token_from:C.symbol,token_from_amount:String(w),token_to:P.symbol,token_to_amount:U,slippage:R,custom_slippage:2!==R,best_quote_source:null===(d=B(O))||void 0===d?void 0:d.aggregator,available_quotes:null===(g=$(O))||void 0===g?void 0:g.length,other_quote_selected:I.aggregator!==(null===(_=B(O))||void 0===_?void 0:_.aggregator),other_quote_selected_source:I.aggregator===(null===(v=B(O))||void 0===v?void 0:v.aggregator)?"":I.aggregator,average_savings:null===(y=I.savings)||void 0===y?void 0:y.total,performance_savings:null===(A=I.savings)||void 0===A?void 0:A.performance,fee_savings:null===(S=I.savings)||void 0===S?void 0:S.fee,median_metamask_fee:null===(k=I.savings)||void 0===k?void 0:k.medianMetaMaskFee,stx_enabled:W,current_stx_enabled:H,stx_user_opt_in:G,...a};if(t({event:"STX Swap Started",category:m.EVENT.CATEGORIES.SWAPS,sensitiveProperties:q}),!(0,l.isContractAddressValid)(L.to,F))return(0,o.captureMessage)("Invalid contract address",{extra:{token_from:q.token_from,token_to:q.token_to,contract_address:L.to}}),await s((0,i.setSwapsErrorKey)(f.SWAP_FAILED_ERROR)),void n.push(c.SWAPS_ERROR_ROUTE);const z=Y(O);let X,Z;try{var J;z&&(Z={...z,value:"0x0"});const t=await s(ke({unsignedTransaction:e,approveTxParams:Z,fallbackOnNotEnoughFunds:!0}));if(!t)return r.default.error('"fetchSwapsSmartTransactionFees" failed'),s(ye(!1)),void s(_e(l.stxErrorTypes.UNAVAILABLE));var ee;if(z)Z.gas=`0x${(0,E.decimalToHex)((null===(ee=t.approvalTxFees)||void 0===ee?void 0:ee.gasLimit)||0)}`,X=await s((0,i.signAndSendSmartTransaction)({unsignedTransaction:Z,smartTransactionFees:t.approvalTxFees}));e.gas=`0x${(0,E.decimalToHex)((null===(J=t.tradeTxFees)||void 0===J?void 0:J.gasLimit)||0)}`;const a=await s((0,i.signAndSendSmartTransaction)({unsignedTransaction:e,smartTransactionFees:t.tradeTxFees})),o=P.address,u=P.decimals,d=P.symbol,p=C.symbol;await s((0,i.updateSmartTransaction)(a,{origin:T.ORIGIN_METAMASK,destinationTokenAddress:o,destinationTokenDecimals:u,destinationTokenSymbol:d,sourceTokenSymbol:p,swapMetaData:q,swapTokenValue:w,type:h.TransactionType.swap})),X&&await s((0,i.updateSmartTransaction)(X,{origin:T.ORIGIN_METAMASK,type:h.TransactionType.swapApproval,sourceTokenSymbol:p})),n.push(c.SMART_TRANSACTION_STATUS_ROUTE),s(ye(!1))}catch(e){console.log("signAndSendSwapsSmartTransaction error",e);const{swaps:{isFeatureFlagLoaded:t}}=u();if(e.message.startsWith("Fetch error:")&&t){const t=(0,l.parseSmartTransactionsError)(e.message);s(_e(null==t?void 0:t.error))}}};function Se(){return async(e,t)=>{const n=t(),a=(0,p.getCurrentChainId)(n);let s;e(te());try{s=await(0,l.fetchSwapsGasPrices)(a)}catch(t){var o;if(r.default.warn("Fetching swaps gas prices failed:",t),null===(o=t.message)||void 0===o||!o.match(/NetworkError|Fetch failed with status:/u))throw t;e(ne());try{const t=await global.ethQuery.gasPrice(),n=(0,E.hexWEIToDecGWEI)(t.toString(10));return e(Te(n)),null}catch(e){return console.error("Failed to retrieve fallback gas price: ",e),null}}return e(ee({priceEstimates:s})),s}}function ke({unsignedTransaction:e,approveTxParams:t,fallbackOnNotEnoughFunds:n=!1}){return async(a,s)=>{const{swaps:{isFeatureFlagLoaded:r}}=s();try{return await a((0,i.fetchSmartTransactionFees)(e,t))}catch(e){if(e.message.startsWith("Fetch error:")&&r){const t=(0,l.parseSmartTransactionsError)(e.message);(n||(null==t?void 0:t.error)!==l.stxErrorTypes.NOT_ENOUGH_FUNDS)&&a(_e(null==t?void 0:t.error))}}return null}}n.signAndSendTransactions=(e,t,n)=>async(a,d)=>{var T,_,v,y,A,S,k,O,N,b;const w=d(),R=(0,p.getCurrentChainId)(w),P=(0,p.isHardwareWallet)(w),I=(0,p.checkNetworkAndAccountSupports1559)(w);let M={swapsFeatureIsLive:!1};try{const e=await(0,l.fetchSwapsFeatureFlags)();M=(0,l.getSwapsLivenessForNetwork)(e,R)}catch(e){r.default.error("Failed to fetch Swaps liveness, defaulting to false.",e)}if(await a((0,i.setSwapsLiveness)(M)),!M.swapsFeatureIsLive)return void await e.push(c.SWAPS_MAINTENANCE_ROUTE);const L=F(w),W=U(w),H=G(w),z=j(w),{metaData:Q,value:X,slippage:Z}=z,{sourceTokenInfo:J={},destinationTokenInfo:ee={}}=Q;await a((0,i.setBackgroundSwapRouteState)("awaiting")),await a((0,i.stopPollingForQuotes)()),P||e.push(c.AWAITING_SWAP_ROUTE);const{fast:te}=C(w);let ne,ae,se,re;if(I){const{high:{suggestedMaxFeePerGas:e,suggestedMaxPriorityFeePerGas:t},estimatedBaseFee:n="0"}=(0,g.getGasFeeEstimates)(w);re=(0,u.decGWEIToHexWEI)(n),ne=W||(0,u.decGWEIToHexWEI)(e),ae=H||(0,u.decGWEIToHexWEI)(t),se=(0,u.addHexes)(re,ae)}const oe=V(w),ie=oe.trade,ce=new s.default((null==oe?void 0:oe.gasEstimate)||"0x0",16),le=ce.times((null==oe?void 0:oe.gasMultiplier)||1.5,10).round(0).toString(16),ue=L||(null!=oe&&oe.gasEstimate?le:`0x${(0,E.decimalToHex)((null==oe?void 0:oe.maxGas)||0)}`),de=q(w);ie.gas=ue,I?(ie.maxFeePerGas=ne,ie.maxPriorityFeePerGas=ae,delete ie.gasPrice):ie.gasPrice=de;const pe=(0,p.getUSDConversionRate)(w),me=(0,E.calcTokenAmount)(oe.destinationAmount,ee.decimals||18).toPrecision(8),fe=(null==oe?void 0:oe.gasEstimateWithRefund)||`0x${(0,E.decimalToHex)((null==oe?void 0:oe.averageGas)||0)}`,he=new s.default(fe,16).plus((null===(T=oe.approvalNeeded)||void 0===T?void 0:T.gas)||"0x0",16).toString(16),ge=(0,u.getValueFromWeiHex)({value:(0,E.calcGasTotal)(he,I?se:de),toCurrency:"usd",conversionRate:pe,numberOfDecimals:6}),Te=K(w),Ee=x(w),_e=D(w),ve={token_from:J.symbol,token_from_amount:String(X),token_to:ee.symbol,token_to_amount:me,slippage:Z,custom_slippage:2!==Z,best_quote_source:null===(_=B(w))||void 0===_?void 0:_.aggregator,available_quotes:null===(v=$(w))||void 0===v?void 0:v.length,other_quote_selected:oe.aggregator!==(null===(y=B(w))||void 0===y?void 0:y.aggregator),other_quote_selected_source:oe.aggregator===(null===(A=B(w))||void 0===A?void 0:A.aggregator)?"":oe.aggregator,gas_fees:ge,estimated_gas:ce.toString(10),suggested_gas_price:te,used_gas_price:(0,E.hexWEIToDecGWEI)(de),average_savings:null===(S=oe.savings)||void 0===S?void 0:S.total,performance_savings:null===(k=oe.savings)||void 0===k?void 0:k.performance,fee_savings:null===(O=oe.savings)||void 0===O?void 0:O.fee,median_metamask_fee:null===(N=oe.savings)||void 0===N?void 0:N.medianMetaMaskFee,is_hardware_wallet:P,hardware_wallet_type:(0,p.getHardwareWalletType)(w),stx_enabled:Ee,current_stx_enabled:_e,stx_user_opt_in:Te,...n};if(I&&(ve.max_fee_per_gas=ne,ve.max_priority_fee_per_gas=ae,ve.base_and_priority_fee_per_gas=se),t({event:"Swap Started",category:m.EVENT.CATEGORIES.SWAPS,sensitiveProperties:ve}),!(0,l.isContractAddressValid)(ie.to,R))return(0,o.captureMessage)("Invalid contract address",{extra:{token_from:ve.token_from,token_to:ve.token_to,contract_address:ie.to}}),await a((0,i.setSwapsErrorKey)(f.SWAP_FAILED_ERROR)),void e.push(c.SWAPS_ERROR_ROUTE);let ye;const Ae=Y(w);if(P&&e.push(c.AWAITING_SIGNATURES_ROUTE),Ae){I&&(Ae.maxFeePerGas=ne,Ae.maxPriorityFeePerGas=ae,delete Ae.gasPrice);const t=await(0,i.addUnapprovedTransaction)({...Ae,amount:"0x0"},h.TransactionType.swapApproval);await a((0,i.setApproveTxId)(t.id)),ye=await a((0,i.updateSwapApprovalTransaction)(t.id,{type:h.TransactionType.swapApproval,sourceTokenSymbol:J.symbol}));try{await a((0,i.updateAndApproveTx)(ye,!0))}catch(t){return await a((0,i.setSwapsErrorKey)(f.SWAP_FAILED_ERROR)),void e.push(c.SWAPS_ERROR_ROUTE)}}const Se=await(0,i.addUnapprovedTransaction)(ie,h.TransactionType.swap);if(a((0,i.setTradeTxId)(Se.id)),!Ae&&Se.simulationFails)return await a((0,i.cancelTx)(Se,!1)),await a((0,i.setSwapsErrorKey)(f.SWAP_FAILED_ERROR)),void e.push(c.SWAPS_ERROR_ROUTE);const ke=await a((0,i.updateSwapTransaction)(Se.id,{estimatedBaseFee:re,sourceTokenSymbol:J.symbol,destinationTokenSymbol:ee.symbol,type:h.TransactionType.swap,destinationTokenDecimals:ee.decimals,destinationTokenAddress:ee.address,swapMetaData:ve,swapTokenValue:X,approvalTxId:null===(b=ye)||void 0===b?void 0:b.id}));try{await a((0,i.updateAndApproveTx)(ke,!0))}catch(t){const n=t.message.includes("EthAppPleaseEnableContractData")?f.CONTRACT_DATA_DISABLED_ERROR:f.SWAP_FAILED_ERROR;return await a((0,i.setSwapsErrorKey)(n)),void e.push(c.SWAPS_ERROR_ROUTE)}P&&e.push(c.AWAITING_SWAP_ROUTE),await(0,i.forceUpdateMetamaskState)(a)}}}},{package:"$root$",file:"ui/ducks/swaps/swaps.js"}],[3858,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){t.exports=[{code:"aud",name:"Australian Dollar"},{code:"hkd",name:"Hong Kong Dollar"},{code:"sgd",name:"Singapore Dollar"},{code:"idr",name:"Indonesian Rupiah"},{code:"inr",name:"Indian Rupee"},{code:"nzd",name:"New Zealand Dollar"},{code:"php",name:"Philippine Peso"},{code:"1st",name:"FirstBlood"},{code:"adt",name:"adToken"},{code:"adx",name:"AdEx"},{code:"ant",name:"Aragon"},{code:"bat",name:"Basic Attention Token"},{code:"bnt",name:"Bancor"},{code:"btc",name:"Bitcoin"},{code:"cad",name:"Canadian Dollar"},{code:"cfi",name:"Cofound.it"},{code:"crb",name:"CreditBit"},{code:"cvc",name:"Civic"},{code:"dash",name:"Dash"},{code:"dgd",name:"DigixDAO"},{code:"etc",name:"Ethereum Classic"},{code:"eur",name:"Euro"},{code:"fun",name:"FunFair"},{code:"gbp",name:"Pound Sterling"},{code:"gno",name:"Gnosis"},{code:"gnt",name:"Golem"},{code:"gup",name:"Matchpool"},{code:"hmq",name:"Humaniq"},{code:"jpy",name:"Japanese Yen"},{code:"lgd",name:"Legends Room"},{code:"lsk",name:"Lisk"},{code:"ltc",name:"Litecoin"},{code:"lun",name:"Lunyr"},{code:"mco",name:"Monaco"},{code:"mtl",name:"Metal"},{code:"myst",name:"Mysterium"},{code:"nmr",name:"Numeraire"},{code:"omg",name:"OmiseGO"},{code:"pay",name:"TenX"},{code:"ptoy",name:"Patientory"},{code:"qrl",name:"Quantum-Resistant Ledger"},{code:"qtum",name:"Qtum"},{code:"rep",name:"Augur"},{code:"rlc",name:"iEx.ec"},{code:"rub",name:"Russian Ruble"},{code:"sc",name:"Siacoin"},{code:"sngls",name:"SingularDTV"},{code:"snt",name:"Status"},{code:"steem",name:"Steem"},{code:"storj",name:"Storj"},{code:"time",name:"ChronoBank"},{code:"tkn",name:"TokenCard"},{code:"trst",name:"WeTrust"},{code:"uah",name:"Ukrainian Hryvnia"},{code:"usd",name:"United States Dollar"},{code:"wings",name:"Wings"},{code:"xem",name:"NEM"},{code:"xlm",name:"Stellar Lumen"},{code:"xmr",name:"Monero"},{code:"xrp",name:"Ripple"},{code:"zec",name:"Zcash"},{code:"dai",name:"DAI"},{code:"sai",name:"SAI"}]}}},{package:"$root$",file:"ui/helpers/constants/available-conversions.json"}],[3859,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WEI=n.SUPPORT_REQUEST_LINK=n.SECONDARY=n.PRIMARY=n.PASSWORD_MIN_LENGTH=n.GWEI=n.GAS_ESTIMATE_TYPES=n.ETH=n.CONTRACT_ADDRESS_LINK=void 0;n.ETH="ETH";n.GWEI="GWEI";n.WEI="WEI";n.PRIMARY="PRIMARY";n.SECONDARY="SECONDARY";n.GAS_ESTIMATE_TYPES={SLOW:"SLOW",AVERAGE:"AVERAGE",FAST:"FAST",FASTEST:"FASTEST"};n.SUPPORT_REQUEST_LINK="https://metamask.zendesk.com/hc/en-us";n.CONTRACT_ADDRESS_LINK="https://metamask.zendesk.com/hc/en-us/articles/360020028092-What-is-the-known-contract-address-warning-";n.PASSWORD_MIN_LENGTH=8}}},{package:"$root$",file:"ui/helpers/constants/common.js"}],[3860,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.STATUS_NOT_CONNECTED=n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT=n.STATUS_CONNECTED=void 0;n.STATUS_CONNECTED="STATUS_CONNECTED";n.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT="STATUS_CONNECTED_TO_ANOTHER_ACCOUNT";n.STATUS_NOT_CONNECTED="STATUS_NOT_CONNECTED"}}},{package:"$root$",file:"ui/helpers/constants/connected-sites.js"}],[3861,{lodash:2735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TYPOGRAPHY=n.TEXT_TRANSFORM=n.TEXT_COLORS=n.TEXT_ALIGN=n.TEXT=n.SIZES=n.SEVERITIES=n.RESIZE=n.OVERFLOW_WRAP=n.JUSTIFY_CONTENT=n.ICON_COLORS=n.FRACTIONS=n.FONT_WEIGHT=n.FONT_STYLE=n.FLEX_WRAP=n.FLEX_DIRECTION=n.DISPLAY=n.COLORS=n.BREAKPOINTS=n.BORDER_STYLE=n.BORDER_RADIUS=n.BORDER_COLORS=n.BLOCK_SIZES=n.BACKGROUND_COLORS=n.ALIGN_ITEMS=void 0;var a=e("lodash");const s={BACKGROUND_DEFAULT:"background-default",BACKGROUND_ALTERNATIVE:"background-alternative",TEXT_DEFAULT:"text-default",TEXT_ALTERNATIVE:"text-alternative",TEXT_MUTED:"text-muted",ICON_DEFAULT:"icon-default",ICON_ALTERNATIVE:"icon-alternative",ICON_MUTED:"icon-muted",BORDER_DEFAULT:"border-default",BORDER_MUTED:"border-muted",OVERLAY_DEFAULT:"overlay-default",OVERLAY_INVERSE:"overlay-inverse",PRIMARY_DEFAULT:"primary-default",PRIMARY_ALTERNATIVE:"primary-alternative",PRIMARY_MUTED:"primary-muted",PRIMARY_INVERSE:"primary-inverse",PRIMARY_DISABLED:"primary-disabled",ERROR_DEFAULT:"error-default",ERROR_ALTERNATIVE:"error-alternative",ERROR_MUTED:"error-muted",ERROR_INVERSE:"error-inverse",ERROR_DISABLED:"error-disabled",WARNING_DEFAULT:"warning-default",WARNING_ALTERNATIVE:"warning-alternative",WARNING_MUTED:"warning-muted",WARNING_INVERSE:"warning-inverse",WARNING_DISABLED:"warning-disabled",SUCCESS_DEFAULT:"success-default",SUCCESS_ALTERNATIVE:"success-alternative",SUCCESS_MUTED:"success-muted",SUCCESS_INVERSE:"success-inverse",SUCCESS_DISABLED:"success-disabled",INFO_DEFAULT:"info-default",INFO_ALTERNATIVE:"info-alternative",INFO_MUTED:"info-muted",INFO_INVERSE:"info-inverse",INFO_DISABLED:"info-disabled",MAINNET:"mainnet",GOERLI:"goerli",SEPOLIA:"sepolia",LOCALHOST:"localhost",TRANSPARENT:"transparent",INHERIT:"inherit",GOERLI_INVERSE:"goerli-inverse",SEPOLIA_INVERSE:"sepolia-inverse"};n.COLORS=s;const r=(0,a.pick)(s,["BACKGROUND_DEFAULT","BACKGROUND_ALTERNATIVE","OVERLAY_DEFAULT","PRIMARY_DEFAULT","PRIMARY_ALTERNATIVE","PRIMARY_MUTED","ERROR_DEFAULT","ERROR_ALTERNATIVE","ERROR_MUTED","WARNING_DEFAULT","WARNING_ALTERNATIVE","WARNING_MUTED","SUCCESS_DEFAULT","SUCCESS_ALTERNATIVE","SUCCESS_MUTED","INFO_DEFAULT","INFO_ALTERNATIVE","INFO_MUTED","MAINNET","GOERLI","SEPOLIA","TRANSPARENT","LOCALHOST"]);n.BACKGROUND_COLORS=r;const o=(0,a.pick)(s,["BORDER_DEFAULT","BORDER_MUTED","PRIMARY_DEFAULT","PRIMARY_ALTERNATIVE","PRIMARY_MUTED","ERROR_DEFAULT","ERROR_ALTERNATIVE","ERROR_MUTED","WARNING_DEFAULT","WARNING_ALTERNATIVE","WARNING_MUTED","SUCCESS_DEFAULT","SUCCESS_ALTERNATIVE","SUCCESS_MUTED","INFO_DEFAULT","INFO_ALTERNATIVE","INFO_MUTED","MAINNET","GOERLI","SEPOLIA","TRANSPARENT","LOCALHOST"]);n.BORDER_COLORS=o;const i=(0,a.pick)(s,["TEXT_DEFAULT","TEXT_ALTERNATIVE","TEXT_MUTED","OVERLAY_INVERSE","PRIMARY_DEFAULT","PRIMARY_INVERSE","ERROR_DEFAULT","ERROR_INVERSE","SUCCESS_DEFAULT","SUCCESS_INVERSE","WARNING_DEFAULT","WARNING_INVERSE","INFO_DEFAULT","INFO_INVERSE","INHERIT","GOERLI","SEPOLIA","GOERLI_INVERSE","SEPOLIA_INVERSE"]);n.TEXT_COLORS=i;const c=(0,a.pick)(s,["ICON_DEFAULT","ICON_ALTERNATIVE","ICON_MUTED","OVERLAY_INVERSE","PRIMARY_DEFAULT","PRIMARY_INVERSE","ERROR_DEFAULT","ERROR_INVERSE","SUCCESS_DEFAULT","SUCCESS_INVERSE","WARNING_DEFAULT","WARNING_INVERSE","INFO_DEFAULT","INFO_INVERSE","INHERIT","GOERLI","SEPOLIA","GOERLI_INVERSE","SEPOLIA_INVERSE"]);n.ICON_COLORS=c;n.TYPOGRAPHY={H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",H7:"h7",H8:"h8",H9:"h9",Paragraph:"p",Span:"span"};n.TEXT={DISPLAY_MD:"display-md",HEADING_LG:"heading-lg",HEADING_MD:"heading-md",HEADING_SM:"heading-sm",BODY_LG_MEDIUM:"body-lg-medium",BODY_MD:"body-md",BODY_MD_BOLD:"body-md-bold",BODY_SM:"body-sm",BODY_SM_BOLD:"body-sm-bold",BODY_XS:"body-xs",INHERIT:"inherit"};const l="none",u={XXS:"xxs",XS:"xs",SM:"sm",MD:"md",LG:"lg",XL:"xl",AUTO:"auto",NONE:l};n.SIZES=u;const d={DASHED:"dashed",SOLID:"solid",DOTTED:"dotted",DOUBLE:"double",NONE:l};n.BORDER_STYLE=d;const p={XS:u.XS,SM:u.SM,MD:u.MD,LG:u.LG,XL:u.XL,NONE:l,PILL:"pill",FULL:"full"};n.BORDER_RADIUS=p;const m="flex-end",f="flex-start",h="center",g={FLEX_START:f,FLEX_END:m,CENTER:h,BASELINE:"baseline",STRETCH:"stretch"};n.ALIGN_ITEMS=g;const T={FLEX_START:f,FLEX_END:m,CENTER:h,SPACE_AROUND:"space-around",SPACE_BETWEEN:"space-between",SPACE_EVENLY:"space-evenly"};n.JUSTIFY_CONTENT=T;n.FLEX_DIRECTION={ROW:"row",ROW_REVERSE:"row-reverse",COLUMN:"column",COLUMN_REVERSE:"column-reverse"};n.FLEX_WRAP={WRAP:"wrap",WRAP_REVERSE:"wrap-reverse",NO_WRAP:"nowrap"};n.DISPLAY={BLOCK:"block",FLEX:"flex",GRID:"grid",INLINE_BLOCK:"inline-block",INLINE:"inline",INLINE_FLEX:"inline-flex",INLINE_GRID:"inline-grid",LIST_ITEM:"list-item",NONE:"none"};const E={HALF:"1/2",ONE_THIRD:"1/3",TWO_THIRDS:"2/3",ONE_FOURTH:"1/4",TWO_FOURTHS:"2/4",THREE_FOURTHS:"3/4",ONE_FIFTH:"1/5",TWO_FIFTHS:"2/5",THREE_FIFTHS:"3/5",FOUR_FIFTHS:"4/5",ONE_SIXTH:"1/6",TWO_SIXTHS:"2/6",THREE_SIXTHS:"3/6",FOUR_SIXTHS:"4/6",FIVE_SIXTHS:"5/6",ONE_TWELFTH:"1/12",TWO_TWELFTHS:"2/12",THREE_TWELFTHS:"3/12",FOUR_TWELFTHS:"4/12",FIVE_TWELFTHS:"5/12",SIX_TWELFTHS:"6/12",SEVEN_TWELFTHS:"7/12",EIGHT_TWELFTHS:"8/12",NINE_TWELFTHS:"9/12",TEN_TWELFTHS:"10/12",ELEVEN_TWELFTHS:"11/12"};n.FRACTIONS=E;const _={...E,SCREEN:"screen",MAX:"max",MIN:"min",FULL:"full"};n.BLOCK_SIZES=_;n.TEXT_ALIGN={LEFT:"left",CENTER:"center",RIGHT:"right",JUSTIFY:"justify",END:"end"};n.TEXT_TRANSFORM={UPPERCASE:"uppercase",LOWERCASE:"lowercase",CAPITALIZE:"capitalize"};n.FONT_WEIGHT={BOLD:"bold",MEDIUM:"medium",NORMAL:"normal"};n.OVERFLOW_WRAP={BREAK_WORD:"break-word",ANYWHERE:"anywhere",NORMAL:"normal"};n.FONT_STYLE={ITALIC:"italic",NORMAL:"normal"};n.SEVERITIES={DANGER:"danger",WARNING:"warning",INFO:"info",SUCCESS:"success"};n.RESIZE={NONE:"none",BOTH:"both",HORIZONTAL:"horizontal",VERTICAL:"vertical",INITIAL:"initial",INHERIT:"inherit"};n.BREAKPOINTS=["base","sm","md","lg"]}}},{package:"$root$",file:"ui/helpers/constants/design-system.js"}],[3862,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.UNSENDABLE_ASSET_ERROR_KEY=n.TRANSACTION_ERROR_KEY=n.INVALID_ASSET_TYPE=n.INSUFFICIENT_FUNDS_FOR_GAS_ERROR_KEY=n.INSUFFICIENT_FUNDS_ERROR_KEY=n.GAS_PRICE_FETCH_FAILURE_ERROR_KEY=n.GAS_PRICE_EXCESSIVE_ERROR_KEY=n.GAS_LIMIT_TOO_LOW_ERROR_KEY=n.ETH_GAS_PRICE_FETCH_WARNING_KEY=void 0;n.INSUFFICIENT_FUNDS_ERROR_KEY="insufficientFunds";n.GAS_LIMIT_TOO_LOW_ERROR_KEY="gasLimitTooLow";n.TRANSACTION_ERROR_KEY="transactionError";n.ETH_GAS_PRICE_FETCH_WARNING_KEY="ethGasPriceFetchWarning";n.GAS_PRICE_FETCH_FAILURE_ERROR_KEY="gasPriceFetchFailed";n.GAS_PRICE_EXCESSIVE_ERROR_KEY="gasPriceExcessive";n.UNSENDABLE_ASSET_ERROR_KEY="unsendableAsset";n.INSUFFICIENT_FUNDS_FOR_GAS_ERROR_KEY="insufficientFundsForGas";n.INVALID_ASSET_TYPE="invalidAssetType"}}},{package:"$root$",file:"ui/helpers/constants/error-keys.js"}],[3863,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PRIORITY_LEVEL_ICON_MAP=n.GAS_FORM_ERRORS=void 0,n.getGasFormErrorText=function(e,t,{minimumGasLimit:n}={}){switch(e){case a.GAS_LIMIT_OUT_OF_BOUNDS:return t("editGasLimitOutOfBounds",[n]);case a.MAX_PRIORITY_FEE_TOO_LOW:return t("editGasMaxPriorityFeeLow");case a.MAX_FEE_TOO_LOW:return t("editGasMaxFeeLow");case a.MAX_PRIORITY_FEE_BELOW_MINIMUM:return t("editGasMaxPriorityFeeBelowMinimum");case a.MAX_PRIORITY_FEE_HIGH_WARNING:return t("editGasMaxPriorityFeeHigh");case a.MAX_FEE_HIGH_WARNING:return t("editGasMaxFeeHigh");case a.MAX_FEE_IMBALANCE:return t("editGasMaxFeePriorityImbalance");case a.GAS_PRICE_TOO_LOW:return t("editGasPriceTooLow");default:return""}};const a={GAS_LIMIT_OUT_OF_BOUNDS:"editGasLimitOutOfBounds",MAX_PRIORITY_FEE_TOO_LOW:"editGasMaxPriorityFeeLow",MAX_FEE_TOO_LOW:"editGasMaxFeeLow",MAX_PRIORITY_FEE_BELOW_MINIMUM:"editGasMaxPriorityFeeBelowMinimum",MAX_PRIORITY_FEE_HIGH_WARNING:"editGasMaxPriorityFeeHigh",MAX_FEE_HIGH_WARNING:"editGasMaxFeeHigh",MAX_FEE_IMBALANCE:"editGasMaxFeeImbalance",GAS_PRICE_TOO_LOW:"editGasPriceTooLow"};n.GAS_FORM_ERRORS=a;n.PRIORITY_LEVEL_ICON_MAP={low:"🐢",medium:"🦊",high:"🦍",dappSuggested:"🌐",swapSuggested:"🔄",custom:"⚙️"}}}},{package:"$root$",file:"ui/helpers/constants/gas.js"}],[3864,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FIRST_TIME_FLOW_TYPES=void 0;n.FIRST_TIME_FLOW_TYPES={IMPORT:"import",CREATE:"create"}}}},{package:"$root$",file:"ui/helpers/constants/onboarding.js"}],[3865,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.VIEW_QUOTE_ROUTE=n.UNLOCK_ROUTE=n.TOKEN_DETAILS=n.SWAPS_ROUTE=n.SWAPS_MAINTENANCE_ROUTE=n.SWAPS_ERROR_ROUTE=n.SNAPS_VIEW_ROUTE=n.SNAPS_LIST_ROUTE=n.SMART_TRANSACTION_STATUS_ROUTE=n.SIGNATURE_REQUEST_PATH=n.SETTINGS_ROUTE=n.SEND_ROUTE=n.SECURITY_ROUTE=n.REVEAL_SEED_ROUTE=n.RESTORE_VAULT_ROUTE=n.PATH_NAME_MAP=n.ONBOARDING_WELCOME_ROUTE=n.ONBOARDING_UNLOCK_ROUTE=n.ONBOARDING_SECURE_YOUR_WALLET_ROUTE=n.ONBOARDING_ROUTE=n.ONBOARDING_REVIEW_SRP_ROUTE=n.ONBOARDING_PRIVACY_SETTINGS_ROUTE=n.ONBOARDING_PIN_EXTENSION_ROUTE=n.ONBOARDING_METAMETRICS=n.ONBOARDING_IMPORT_WITH_SRP_ROUTE=n.ONBOARDING_IMPORT_MOBILE_ROUTE=n.ONBOARDING_HELP_US_IMPROVE_ROUTE=n.ONBOARDING_CREATE_PASSWORD_ROUTE=n.ONBOARDING_CONFIRM_SRP_ROUTE=n.ONBOARDING_COMPLETION_ROUTE=n.NEW_ACCOUNT_ROUTE=n.NETWORKS_ROUTE=n.NETWORKS_FORM_ROUTE=n.MOBILE_SYNC_ROUTE=n.LOCK_ROUTE=n.LOADING_QUOTES_ROUTE=n.INITIALIZE_WELCOME_ROUTE=n.INITIALIZE_UNLOCK_ROUTE=n.INITIALIZE_SELECT_ACTION_ROUTE=n.INITIALIZE_SEED_PHRASE_ROUTE=n.INITIALIZE_SEED_PHRASE_INTRO_ROUTE=n.INITIALIZE_ROUTE=n.INITIALIZE_METAMETRICS_OPT_IN_ROUTE=n.INITIALIZE_IMPORT_WITH_SEED_PHRASE_ROUTE=n.INITIALIZE_END_OF_FLOW_ROUTE=n.INITIALIZE_CREATE_PASSWORD_ROUTE=n.INITIALIZE_CONFIRM_SEED_PHRASE_ROUTE=n.INITIALIZE_BACKUP_SEED_PHRASE_ROUTE=n.IMPORT_TOKEN_ROUTE=n.IMPORT_ACCOUNT_ROUTE=n.GENERAL_ROUTE=n.EXPERIMENTAL_ROUTE=n.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH=n.DEFAULT_ROUTE=n.DECRYPT_MESSAGE_REQUEST_PATH=n.CONTACT_VIEW_ROUTE=n.CONTACT_LIST_ROUTE=n.CONTACT_EDIT_ROUTE=n.CONTACT_ADD_ROUTE=n.CONNECT_ROUTE=n.CONNECT_HARDWARE_ROUTE=n.CONNECT_CONFIRM_PERMISSIONS_ROUTE=n.CONNECTED_ROUTE=n.CONNECTED_ACCOUNTS_ROUTE=n.CONFIRM_TRANSFER_FROM_PATH=n.CONFIRM_TRANSACTION_ROUTE=n.CONFIRM_TOKEN_METHOD_PATH=n.CONFIRM_SET_APPROVAL_FOR_ALL_PATH=n.CONFIRM_SEND_TOKEN_PATH=n.CONFIRM_SEND_ETHER_PATH=n.CONFIRM_SAFE_TRANSFER_FROM_PATH=n.CONFIRM_IMPORT_TOKEN_ROUTE=n.CONFIRM_DEPLOY_CONTRACT_PATH=n.CONFIRM_APPROVE_PATH=n.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE=n.CONFIRMATION_V_NEXT_ROUTE=n.BUILD_QUOTE_ROUTE=n.AWAITING_SWAP_ROUTE=n.AWAITING_SIGNATURES_ROUTE=n.ASSET_ROUTE=n.ALERTS_ROUTE=n.ADVANCED_ROUTE=n.ADD_POPULAR_CUSTOM_NETWORK=n.ADD_NETWORK_ROUTE=n.ADD_COLLECTIBLE_ROUTE=n.ABOUT_US_ROUTE=void 0;n.DEFAULT_ROUTE="/";const a="/unlock";n.UNLOCK_ROUTE=a;const s="/lock";n.LOCK_ROUTE=s;const r="/asset";n.ASSET_ROUTE=r;const o="/settings";n.SETTINGS_ROUTE=o;const i="/settings/general";n.GENERAL_ROUTE=i;const c="/settings/advanced";n.ADVANCED_ROUTE=c;const l="/settings/experimental";n.EXPERIMENTAL_ROUTE=l;const u="/settings/security";n.SECURITY_ROUTE=u;const d="/settings/about-us";n.ABOUT_US_ROUTE=d;const p="/settings/alerts";n.ALERTS_ROUTE=p;const m="/settings/networks";n.NETWORKS_ROUTE=m;const f="/settings/networks/form";n.NETWORKS_FORM_ROUTE=f;const h="/settings/networks/add-network";n.ADD_NETWORK_ROUTE=h;const g="/settings/networks/add-popular-custom-network";n.ADD_POPULAR_CUSTOM_NETWORK=g;n.SNAPS_LIST_ROUTE="/settings/snaps-list";n.SNAPS_VIEW_ROUTE="/settings/snaps-view";const T="/settings/contact-list";n.CONTACT_LIST_ROUTE=T;const E="/settings/contact-list/edit-contact";n.CONTACT_EDIT_ROUTE=E;const _="/settings/contact-list/add-contact";n.CONTACT_ADD_ROUTE=_;const v="/settings/contact-list/view-contact";n.CONTACT_VIEW_ROUTE=v;const y="/seed";n.REVEAL_SEED_ROUTE=y;const A="/mobile-sync";n.MOBILE_SYNC_ROUTE=A;const S="/restore-vault";n.RESTORE_VAULT_ROUTE=S;const k="/import-token";n.IMPORT_TOKEN_ROUTE=k;const O="/confirm-import-token";n.CONFIRM_IMPORT_TOKEN_ROUTE=O;const N="/confirm-add-suggested-token";n.CONFIRM_ADD_SUGGESTED_TOKEN_ROUTE=N;const b="/new-account";n.NEW_ACCOUNT_ROUTE=b;const w="/new-account/import";n.IMPORT_ACCOUNT_ROUTE=w;const R="/new-account/connect";n.CONNECT_HARDWARE_ROUTE=R;const C="/send";n.SEND_ROUTE=C;const P="/token-details";n.TOKEN_DETAILS=P;const I="/connect";n.CONNECT_ROUTE=I;const M="/confirm-permissions";n.CONNECT_CONFIRM_PERMISSIONS_ROUTE=M;const x="/connected";n.CONNECTED_ROUTE=x;const D="/connected/accounts";n.CONNECTED_ACCOUNTS_ROUTE=D;n.SWAPS_ROUTE="/swaps";const F="/swaps/build-quote";n.BUILD_QUOTE_ROUTE=F;const L="/swaps/view-quote";n.VIEW_QUOTE_ROUTE=L;const U="/swaps/loading-quotes";n.LOADING_QUOTES_ROUTE=U;n.AWAITING_SIGNATURES_ROUTE="/swaps/awaiting-signatures";n.SMART_TRANSACTION_STATUS_ROUTE="/swaps/smart-transaction-status";const G="/swaps/awaiting-swap";n.AWAITING_SWAP_ROUTE=G;const j="/swaps/swaps-error";n.SWAPS_ERROR_ROUTE=j;n.SWAPS_MAINTENANCE_ROUTE="/swaps/maintenance";n.ADD_COLLECTIBLE_ROUTE="/add-collectible";const $="/initialize";n.INITIALIZE_ROUTE=$;const W="/initialize/welcome";n.INITIALIZE_WELCOME_ROUTE=W;const H="/initialize/unlock";n.INITIALIZE_UNLOCK_ROUTE=H;const B="/initialize/create-password";n.INITIALIZE_CREATE_PASSWORD_ROUTE=B;const V="/initialize/create-password/import-with-seed-phrase";n.INITIALIZE_IMPORT_WITH_SEED_PHRASE_ROUTE=V;const q="/initialize/select-action";n.INITIALIZE_SELECT_ACTION_ROUTE=q;const Y="/initialize/seed-phrase";n.INITIALIZE_SEED_PHRASE_ROUTE=Y;const K="/initialize/backup-seed-phrase";n.INITIALIZE_BACKUP_SEED_PHRASE_ROUTE=K;const z="/initialize/seed-phrase-intro";n.INITIALIZE_SEED_PHRASE_INTRO_ROUTE=z;const Q="/initialize/end-of-flow";n.INITIALIZE_END_OF_FLOW_ROUTE=Q;const X="/initialize/seed-phrase/confirm";n.INITIALIZE_CONFIRM_SEED_PHRASE_ROUTE=X;const Z="/initialize/metametrics-opt-in";n.INITIALIZE_METAMETRICS_OPT_IN_ROUTE=Z;n.ONBOARDING_ROUTE="/onboarding";n.ONBOARDING_REVIEW_SRP_ROUTE="/onboarding/review-recovery-phrase";n.ONBOARDING_CONFIRM_SRP_ROUTE="/onboarding/confirm-recovery-phrase";n.ONBOARDING_CREATE_PASSWORD_ROUTE="/onboarding/create-password";n.ONBOARDING_COMPLETION_ROUTE="/onboarding/completion";n.ONBOARDING_UNLOCK_ROUTE="/onboarding/unlock";n.ONBOARDING_HELP_US_IMPROVE_ROUTE="/onboarding/help-us-improve";n.ONBOARDING_IMPORT_WITH_SRP_ROUTE="/onboarding/import-with-recovery-phrase";n.ONBOARDING_IMPORT_MOBILE_ROUTE="/onboarding/import-mobile";n.ONBOARDING_SECURE_YOUR_WALLET_ROUTE="/onboarding/secure-your-wallet";n.ONBOARDING_PRIVACY_SETTINGS_ROUTE="/onboarding/privacy-settings";n.ONBOARDING_PIN_EXTENSION_ROUTE="/onboarding/pin-extension";n.ONBOARDING_WELCOME_ROUTE="/onboarding/welcome";n.ONBOARDING_METAMETRICS="/onboarding/metametrics";const J="/confirm-transaction";n.CONFIRM_TRANSACTION_ROUTE=J;const ee="/send-ether";n.CONFIRM_SEND_ETHER_PATH=ee;const te="/send-token";n.CONFIRM_SEND_TOKEN_PATH=te;const ne="/deploy-contract";n.CONFIRM_DEPLOY_CONTRACT_PATH=ne;const ae="/approve";n.CONFIRM_APPROVE_PATH=ae;const se="/set-approval-for-all";n.CONFIRM_SET_APPROVAL_FOR_ALL_PATH=se;const re="/transfer-from";n.CONFIRM_TRANSFER_FROM_PATH=re;const oe="/safe-transfer-from";n.CONFIRM_SAFE_TRANSFER_FROM_PATH=oe;const ie="/token-method";n.CONFIRM_TOKEN_METHOD_PATH=ie;const ce="/signature-request";n.SIGNATURE_REQUEST_PATH=ce;const le="/decrypt-message-request";n.DECRYPT_MESSAGE_REQUEST_PATH=le;const ue="/encryption-public-key-request";n.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH=ue;const de="/confirmation";n.CONFIRMATION_V_NEXT_ROUTE=de;const pe={"/":"Home",[a]:"Unlock Page",[s]:"Lock Page","/asset/:asset/:id":"Asset Page",[o]:"Settings Page",[i]:"General Settings Page",[c]:"Advanced Settings Page",[l]:"Experimental Settings Page",[u]:"Security Settings Page",[d]:"About Us Page",[p]:"Alerts Settings Page",[m]:"Network Settings Page",[f]:"Network Settings Page Form",[h]:"Add Network From Settings Page Form",[g]:"Add Network From A List Of Popular Custom Networks",[T]:"Contact List Settings Page",[`${E}/:address`]:"Edit Contact Settings Page",[_]:"Add Contact Settings Page",[`${v}/:address`]:"View Contact Settings Page",[y]:"Reveal Secret Recovery Phrase Page",[A]:"Sync With Mobile Page",[S]:"Restore Vault Page",[k]:"Import Token Page",[O]:"Confirm Import Token Page",[N]:"Confirm Add Suggested Token Page",[b]:"New Account Page",[w]:"Import Account Page",[R]:"Connect Hardware Wallet Page",[C]:"Send Page","/token-details/:address":"Token Details Page","/connect/:id":"Connect To Site Confirmation Page","/connect/:id/confirm-permissions":"Grant Connected Site Permissions Confirmation Page",[x]:"Sites Connected To This Account Page",[D]:"Accounts Connected To This Site Page","/confirm-transaction/:id":"Confirmation Root Page",[J]:"Confirmation Root Page",[de]:"New Confirmation Page","/confirm-transaction/:id/token-method":"Confirm Token Method Transaction Page","/confirm-transaction/:id/send-ether":"Confirm Send Ether Transaction Page","/confirm-transaction/:id/send-token":"Confirm Send Token Transaction Page","/confirm-transaction/:id/deploy-contract":"Confirm Deploy Contract Transaction Page","/confirm-transaction/:id/approve":"Confirm Approve Transaction Page","/confirm-transaction/:id/set-approval-for-all":"Confirm Set Approval For All Transaction Page","/confirm-transaction/:id/transfer-from":"Confirm Transfer From Transaction Page","/confirm-transaction/:id/safe-transfer-from":"Confirm Safe Transfer From Transaction Page","/confirm-transaction/:id/signature-request":"Signature Request Page","/confirm-transaction/:id/decrypt-message-request":"Decrypt Message Request Page","/confirm-transaction/:id/encryption-public-key-request":"Encryption Public Key Request Page",[$]:"Initialization Page",[W]:"Install Welcome Page",[H]:"Initialization Unlock page",[B]:"Initialization Create Password Page",[V]:"Initialization Import Account With Secret Recovery Phrase Page",[q]:"Initialization Choose Restore or New Account Page",[Y]:"Initialization Secret Recovery Phrase Page",[K]:"Initialization Backup Secret Recovery Phrase Page",[z]:"Initialization Secret Recovery Phrase Intro Page",[Q]:"End of Initialization Page",[X]:"Initialization Confirm Secret Recovery Phrase Page",[Z]:"MetaMetrics Opt In Page",[F]:"Swaps Build Quote Page",[L]:"Swaps View Quotes Page",[U]:"Swaps Loading Quotes Page",[G]:"Swaps Awaiting Swaps Page",[j]:"Swaps Error Page"};n.PATH_NAME_MAP=pe}}},{package:"$root$",file:"ui/helpers/constants/routes.js"}],[3866,{"./routes":3865},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SETTINGS_CONSTANTS=void 0;var a=e("./routes");const s=[{tabMessage:e=>e("general"),sectionMessage:e=>e("currencyConversion"),descriptionMessage:e=>e("currencyConversion"),route:`${a.GENERAL_ROUTE}#currency-conversion`,icon:"fa fa-cog"},{tabMessage:e=>e("general"),sectionMessage:e=>e("primaryCurrencySetting"),descriptionMessage:e=>e("primaryCurrencySettingDescription"),route:`${a.GENERAL_ROUTE}#primary-currency`,icon:"fa fa-cog"},{tabMessage:e=>e("general"),sectionMessage:e=>e("currentLanguage"),descriptionMessage:e=>e("currentLanguage"),route:`${a.GENERAL_ROUTE}#current-language`,icon:"fa fa-cog"},{tabMessage:e=>e("general"),sectionMessage:e=>e("theme"),descriptionMessage:e=>e("themeDescription"),route:`${a.GENERAL_ROUTE}#theme`,icon:"fa fa-flask"},{tabMessage:e=>e("general"),sectionMessage:e=>e("accountIdenticon"),descriptionMessage:e=>e("accountIdenticon"),route:`${a.GENERAL_ROUTE}#account-identicon`,icon:"fa fa-cog"},{tabMessage:e=>e("general"),sectionMessage:e=>e("hideZeroBalanceTokens"),descriptionMessage:e=>e("hideZeroBalanceTokens"),route:`${a.GENERAL_ROUTE}#zero-balancetokens`,icon:"fa fa-cog"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("stateLogs"),descriptionMessage:e=>e("stateLogsDescription"),route:`${a.ADVANCED_ROUTE}#state-logs`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("syncWithMobile"),descriptionMessage:e=>e("syncWithMobile"),route:`${a.ADVANCED_ROUTE}#sync-withmobile`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("resetAccount"),descriptionMessage:e=>e("resetAccountDescription"),route:`${a.ADVANCED_ROUTE}#reset-account`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showAdvancedGasInline"),descriptionMessage:e=>e("showAdvancedGasInlineDescription"),route:`${a.ADVANCED_ROUTE}#advanced-gascontrols`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showHexData"),descriptionMessage:e=>e("showHexDataDescription"),route:`${a.ADVANCED_ROUTE}#show-hexdata`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showFiatConversionInTestnets"),descriptionMessage:e=>e("showFiatConversionInTestnetsDescription"),route:`${a.ADVANCED_ROUTE}#conversion-testnetworks`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("showTestnetNetworks"),descriptionMessage:e=>e("showTestnetNetworksDescription"),route:`${a.ADVANCED_ROUTE}#show-testnets`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("nonceField"),descriptionMessage:e=>e("nonceFieldDescription"),route:`${a.ADVANCED_ROUTE}#customize-nonce`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("autoLockTimeLimit"),descriptionMessage:e=>e("autoLockTimeLimitDescription"),route:`${a.ADVANCED_ROUTE}#autolock-timer`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("preferredLedgerConnectionType"),descriptionMessage:e=>e("preferredLedgerConnectionType"),route:`${a.ADVANCED_ROUTE}#ledger-connection`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("dismissReminderField"),descriptionMessage:e=>e("dismissReminderDescriptionField"),route:`${a.ADVANCED_ROUTE}#dimiss-secretrecovery`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("toggleEthSignField"),descriptionMessage:e=>e("toggleEthSignDescriptionField"),route:`${a.ADVANCED_ROUTE}#toggle-ethsign`,icon:"fas fa-sliders-h"},{tabMessage:e=>e("contacts"),sectionMessage:e=>e("contacts"),descriptionMessage:e=>e("contacts"),route:a.CONTACT_LIST_ROUTE,icon:"fa fa-address-book"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("revealSeedWords"),descriptionMessage:e=>e("revealSeedWords"),route:`${a.SECURITY_ROUTE}#reveal-secretrecovery`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("showIncomingTransactions"),descriptionMessage:e=>e("showIncomingTransactionsDescription"),route:`${a.SECURITY_ROUTE}#incoming-transaction`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("usePhishingDetection"),descriptionMessage:e=>e("usePhishingDetectionDescription"),route:`${a.SECURITY_ROUTE}#phishing-detection`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("participateInMetaMetrics"),descriptionMessage:e=>e("participateInMetaMetricsDescription"),route:`${a.SECURITY_ROUTE}#metrametrics`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("chooseYourNetwork"),descriptionMessage:e=>e("chooseYourNetworkDescription"),route:`${a.SECURITY_ROUTE}#-chose-your-network`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("addCustomIPFSGateway"),descriptionMessage:e=>e("addCustomIPFSGatewayDescription"),route:`${a.SECURITY_ROUTE}#-add-custom-ipfs-gateway`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("autoDetectTokens"),descriptionMessage:e=>e("autoDetectTokensDescription"),route:`${a.SECURITY_ROUTE}#-auto-detect-tokens`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useMultiAccountBalanceChecker"),descriptionMessage:e=>e("useMultiAccountBalanceCheckerDescription"),route:`${a.SECURITY_ROUTE}#-use-milti-account-balance-checker`,icon:"fa fa-lock"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("useCollectibleDetection"),descriptionMessage:e=>e("useCollectibleDetectionDescription"),route:`${a.SECURITY_ROUTE}#autodetect-nfts`,icon:"fa fa-flask",featureFlag:"NFTS_V1"},{tabMessage:e=>e("securityAndPrivacy"),sectionMessage:e=>e("currencyRateCheckToggle"),descriptionMessage:e=>e("currencyRateCheckToggleDescription"),route:`${a.SECURITY_ROUTE}#price-checker`,icon:"fa fa-lock"},{tabMessage:e=>e("alerts"),sectionMessage:e=>e("alertSettingsUnconnectedAccount"),descriptionMessage:e=>e("alertSettingsUnconnectedAccount"),route:`${a.ALERTS_ROUTE}#unconnected-account`,icon:"fa fa-bell"},{tabMessage:e=>e("alerts"),sectionMessage:e=>e("alertSettingsWeb3ShimUsage"),descriptionMessage:e=>e("alertSettingsWeb3ShimUsage"),route:`${a.ALERTS_ROUTE}#web3-shimusage`,icon:"fa fa-bell"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("mainnet"),descriptionMessage:e=>e("mainnet"),route:`${a.NETWORKS_ROUTE}#networks-mainnet`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("goerli"),descriptionMessage:e=>e("goerli"),route:`${a.NETWORKS_ROUTE}#networks-goerli`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("sepolia"),descriptionMessage:e=>e("sepolia"),route:`${a.NETWORKS_ROUTE}#networks-sepolia`,icon:"fa fa-plug"},{tabMessage:e=>e("networks"),sectionMessage:e=>e("localhost"),descriptionMessage:e=>e("localhost"),route:`${a.NETWORKS_ROUTE}#networks-localhost`,icon:"fa fa-plug"},{tabMessage:e=>e("about"),sectionMessage:e=>e("metamaskVersion"),descriptionMessage:e=>e("builtAroundTheWorld"),route:`${a.ABOUT_US_ROUTE}#version`,icon:"fa fa-info-circle"},{tabMessage:e=>e("about"),sectionMessage:e=>e("links"),descriptionMessage:e=>e("links"),route:`${a.ABOUT_US_ROUTE}#links`,icon:"fa fa-info-circle"},{tabMessage:e=>e("about"),sectionMessage:e=>e("privacyMsg"),descriptionMessage:e=>e("privacyMsg"),route:`${a.ABOUT_US_ROUTE}#privacy-policy`,icon:"fa fa-info-circle"},{tabMessage:e=>e("about"),sectionMessage:e=>e("terms"),descriptionMessage:e=>e("terms"),route:`${a.ABOUT_US_ROUTE}#terms`,icon:"fa fa-info-circle"},{tabMessage:e=>e("about"),sectionMessage:e=>e("attributions"),descriptionMessage:e=>e("attributions"),route:`${a.ABOUT_US_ROUTE}#attributions`,icon:"fa fa-info-circle"},{tabMessage:e=>e("about"),sectionMessage:e=>e("supportCenter"),descriptionMessage:e=>e("supportCenter"),route:`${a.ABOUT_US_ROUTE}#supportcenter`,icon:"fa fa-info-circle"},{tabMessage:e=>e("about"),sectionMessage:e=>e("visitWebSite"),descriptionMessage:e=>e("visitWebSite"),route:`${a.ABOUT_US_ROUTE}#visitwebsite`,icon:"fa fa-info-circle"},{tabMessage:e=>e("about"),sectionMessage:e=>e("contactUs"),descriptionMessage:e=>e("contactUs"),route:`${a.ABOUT_US_ROUTE}#contactus`,icon:"fa fa-info-circle"},{tabMessage:e=>e("about"),sectionMessage:e=>e("betaTerms"),descriptionMessage:e=>e("betaTerms"),route:`${a.ABOUT_US_ROUTE}#beta-terms`,icon:"fa fa-info-circle"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("enableOpenSeaAPI"),descriptionMessage:e=>e("enableOpenSeaAPIDescription"),route:`${a.EXPERIMENTAL_ROUTE}#opensea-api`,icon:"fa fa-flask",featureFlag:"NFTS_V1"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("backupUserData"),descriptionMessage:e=>e("backupUserDataDescription"),route:`${a.ADVANCED_ROUTE}#backup-userdata`,icon:"fas fa-download"},{tabMessage:e=>e("advanced"),sectionMessage:e=>e("restoreUserData"),descriptionMessage:e=>e("restoreUserDataDescription"),route:`${a.ADVANCED_ROUTE}#restore-userdata`,icon:"fas fa-upload"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("improvedTokenAllowance"),descriptionMessage:e=>e("improvedTokenAllowanceDescription"),route:`${a.EXPERIMENTAL_ROUTE}#improved-token-allowance`,icon:"fa fa-flask"},{tabMessage:e=>e("experimental"),sectionMessage:e=>e("transactionSecurityCheck"),descriptionMessage:e=>e("transactionSecurityCheckDescription"),route:`${a.EXPERIMENTAL_ROUTE}#transaction-security-check`,icon:"fa fa-flask"}];n.SETTINGS_CONSTANTS=s}}},{package:"$root$",file:"ui/helpers/constants/settings.js"}],[3867,{"../../../shared/constants/transaction":3231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TOKEN_CATEGORY_HASH=n.PRIORITY_STATUS_HASH=n.PENDING_STATUS_HASH=void 0;var a=e("../../../shared/constants/transaction");const s={[a.TransactionStatus.unapproved]:!0,[a.TransactionStatus.approved]:!0,[a.TransactionStatus.submitted]:!0,[a.TransactionStatus.pending]:!0};n.PENDING_STATUS_HASH=s;const r={...s,[a.TransactionStatus.confirmed]:!0};n.PRIORITY_STATUS_HASH=r;const o={[a.TransactionType.tokenMethodApprove]:!0,[a.TransactionType.tokenMethodSetApprovalForAll]:!0,[a.TransactionType.tokenMethodTransfer]:!0,[a.TransactionType.tokenMethodTransferFrom]:!0};n.TOKEN_CATEGORY_HASH=o}}},{package:"$root$",file:"ui/helpers/constants/transactions.js"}],[3868,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={ADD_CUSTOM_TOKENS:"https://metamask.zendesk.com/hc/en-us/articles/360015489031",ADD_MISSING_ACCOUNTS:"https://metamask.zendesk.com/hc/en-us/articles/360015489271",BASIC_SAFETY:"https://metamask.zendesk.com/hc/en-us/articles/360015489591-Basic-Safety-Tips",CUSTOMIZE_NONCE:"https://metamask.zendesk.com/hc/en-us/articles/7417499333531-How-to-customize-a-transaction-nonce",HARDWARE_CONNECTION:"https://metamask.zendesk.com/hc/en-us/articles/360020394612-How-to-connect-a-Trezor-or-Ledger-Hardware-Wallet",IMPORT_ACCOUNTS:"https://metamask.zendesk.com/hc/en-us/articles/360015489331",IMPORTED_ACCOUNTS:"https://metamask.zendesk.com/hc/en-us/articles/360015289932",INFURA_BLOCKAGE:"https://metamask.zendesk.com/hc/en-us/articles/360059386712",LEGACY_WEB3:"https://metamask.zendesk.com/hc/en-us/articles/360053147012",NFT_TOKENS:"https://metamask.zendesk.com/hc/en-us/articles/360058238591-NFT-tokens-in-MetaMask-wallet",PASSWORD_ARTICLE:"https://metamask.zendesk.com/hc/en-us/articles/4404722782107",SECRET_RECOVERY_PHRASE:"https://metamask.zendesk.com/hc/en-us/articles/360060826432-What-is-a-Secret-Recovery-Phrase-and-how-to-keep-your-crypto-wallet-secure",SPEEDUP_CANCEL:"https://metamask.zendesk.com/hc/en-us/articles/360015489251-How-to-speed-up-or-cancel-a-pending-transaction",TOKEN_SAFETY_PRACTICES:"https://metamask.zendesk.com/hc/en-us/articles/4403988839451",UNKNOWN_NETWORK:"https://metamask.zendesk.com/hc/en-us/articles/4417500466971",USER_GUIDE_CUSTOM_NETWORKS:"https://metamask.zendesk.com/hc/en-us/articles/4404424659995",USER_GUIDE_DAPPS:"https://metamask.zendesk.com/hc/en-us/articles/4405506066331-User-guide-Dapps",USER_GUIDE_GAS:"https://metamask.zendesk.com/hc/en-us/articles/4404600179227-User-Guide-Gas",VERIFY_CUSTOM_NETWORK:"https://metamask.zendesk.com/hc/en-us/articles/360057142392"};n.default=a}}},{package:"$root$",file:"ui/helpers/constants/zendesk-url.js"}],[3869,{"../../constants/routes":3865,"prop-types":2838,react:3037,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=i(e("react")),s=i(e("prop-types")),r=e("react-router-dom"),o=e("../../constants/routes");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){const{isUnlocked:t,completedOnboarding:n}=e;switch(!0){case t&&n:return a.default.createElement(r.Route,e);case!n:return a.default.createElement(r.Redirect,{to:{pathname:o.ONBOARDING_ROUTE}});default:return a.default.createElement(r.Redirect,{to:{pathname:o.UNLOCK_ROUTE}})}}c.propTypes={isUnlocked:s.default.bool,completedOnboarding:s.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.component.js"}],[3870,{"./authenticated.component":3869,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=(a=e("./authenticated.component"))&&a.__esModule?a:{default:a};var o=(0,s.connect)((e=>{const{metamask:{isUnlocked:t,completedOnboarding:n}}=e;return{isUnlocked:t,completedOnboarding:n}}))(r.default);n.default=o}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/authenticated.container.js"}],[3871,{"./authenticated.container":3870},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./authenticated.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/helpers/higher-order-components/authenticated/index.js"}],[3872,{"prop-types":2838,react:3037,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var a=o(e("react")),s=o(e("prop-types")),r=e("react-router-dom");function o(e){return e&&e.__esModule?e:{default:e}}function i({flag:e,redirectRoute:t,...n}){return e?a.default.createElement(r.Route,n):a.default.createElement(r.Redirect,{to:{pathname:t}})}i.propTypes={flag:s.default.bool.isRequired,redirectRoute:s.default.string.isRequired}}}},{package:"$root$",file:"ui/helpers/higher-order-components/feature-toggled-route.js"}],[3873,{"./initialized.container":3875},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./initialized.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/index.js"}],[3874,{"../../constants/routes":3865,"prop-types":2838,react:3037,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=i(e("react")),s=i(e("prop-types")),r=e("react-router-dom"),o=e("../../constants/routes");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){return e.completedOnboarding?a.default.createElement(r.Route,e):a.default.createElement(r.Redirect,{to:{pathname:o.ONBOARDING_ROUTE}})}c.propTypes={completedOnboarding:s.default.bool}}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.component.js"}],[3875,{"./initialized.component":3874,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=(a=e("./initialized.component"))&&a.__esModule?a:{default:a};var o=(0,s.connect)((e=>{const{metamask:{completedOnboarding:t}}=e;return{completedOnboarding:t}}))(r.default);n.default=o}}},{package:"$root$",file:"ui/helpers/higher-order-components/initialized/initialized.container.js"}],[3876,{"./with-modal-props":3877},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./with-modal-props"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/index.js"}],[3877,{"../../../store/actions":4273,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return(0,a.connect)(r,o)(e)};var a=e("react-redux"),s=e("../../../store/actions");const r=e=>{const{appState:t}=e,{props:n}=t.modal.modalState;return{...n}},o=e=>({hideModal:()=>e((0,s.hideModal)())})}}},{package:"$root$",file:"ui/helpers/higher-order-components/with-modal-props/with-modal-props.js"}],[3878,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAccountNameErrorMessage=function(e,t,n,a){const s=e.some((e=>e.name===n)),r=t.t("newAccountNumberName").replace(" $1",""),o=new RegExp(`^\\s*${r} \\d+\\s*$`,"iu").test(n),i=n===a||!s&&!o;let c;i?c="‍":s?c=t.t("accountNameDuplicate"):o&&(c=t.t("accountNameReserved"));return{isValidAccountName:i,errorMessage:c}}}}},{package:"$root$",file:"ui/helpers/utils/accounts.js"}],[3880,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.camelCaseToCapitalize=function(e=""){return e.replace(/([A-Z])/gu," $1").replace(/^./u,(e=>e.toUpperCase()))}}}},{package:"$root$",file:"ui/helpers/utils/common.util.js"}],[3881,{"../../../app/scripts/lib/util":86,"../../../shared/modules/conversion.utils":3244,"../../selectors":4266,"bignumber.js":1642,"currency-formatter":1857,"currency-formatter/currencies":1856},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addEth=function(...e){return e.reduce(((e,t)=>(0,c.addCurrencies)(e,t,{toNumericBase:"dec",numberOfDecimals:6,aBase:10,bBase:10})))},n.addFiat=function(...e){return e.reduce(((e,t)=>(0,c.addCurrencies)(e,t,{toNumericBase:"dec",numberOfDecimals:2,aBase:10,bBase:10})))},n.areDappSuggestedAndTxParamGasFeesTheSame=function(e={}){const{txParams:t,dappSuggestedGasFees:n}=e,{gasPrice:a,maxFeePerGas:s,maxPriorityFeePerGas:r}=t||{},{gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c}=n||{},l=!o&&!i&&!c;if(!a&&!s&&!r||l)return!1;const u=a&&a===o,d=[s,r].every((e=>e===o)),p=s&&s===i&&r===c;return u||d||p},n.convertTokenToFiat=function({value:e,fromCurrency:t="ETH",toCurrency:n,conversionRate:a,contractExchangeRate:s}){const r=a*s;return(0,c.conversionUtil)(e,{fromNumericBase:"dec",toNumericBase:"dec",fromCurrency:t,toCurrency:n,numberOfDecimals:2,conversionRate:r})},n.formatCurrency=function(e,t){const n=t.toUpperCase();return s.default.find((e=>e.code===n))?a.default.format(Number(e),{code:n,style:"currency"}):e},n.getHexGasTotal=function({gasLimit:e,gasPrice:t}){return(0,o.addHexPrefix)((0,c.multiplyCurrencies)(e||"0x0",t||"0x0",{toNumericBase:"hex",multiplicandBase:16,multiplierBase:16}))},n.getTransactionFee=function({value:e,fromCurrency:t="ETH",toCurrency:n,conversionRate:a,numberOfDecimals:s}){return(0,c.conversionUtil)(e,{fromNumericBase:"BN",toNumericBase:"dec",fromDenomination:"WEI",fromCurrency:t,toCurrency:n,numberOfDecimals:s,conversionRate:a})},n.getValueFromWeiHex=function({value:e,fromCurrency:t="ETH",toCurrency:n,conversionRate:a,numberOfDecimals:s,toDenomination:r}){return(0,c.conversionUtil)(e,{fromNumericBase:"hex",toNumericBase:"dec",fromCurrency:t,toCurrency:n,numberOfDecimals:s,fromDenomination:"WEI",toDenomination:r,conversionRate:a})},n.hasUnconfirmedTransactions=function(e){return(0,i.unconfirmedTransactionsCountSelector)(e)>0},n.hexGreaterThan=function(e,t){return(0,c.conversionGreaterThan)({value:e,fromNumericBase:"hex"},{value:t,fromNumericBase:"hex"})},n.increaseLastGasPrice=function(e){return(0,o.addHexPrefix)((0,c.multiplyCurrencies)(e||"0x0",1.1,{multiplicandBase:16,multiplierBase:10,toNumericBase:"hex"}))},n.roundExponential=function(e){const t=new r.default(e);return t.e>20?t.toPrecision(4):e};var a=l(e("currency-formatter")),s=l(e("currency-formatter/currencies")),r=l(e("bignumber.js")),o=e("../../../app/scripts/lib/util"),i=e("../../selectors"),c=e("../../../shared/modules/conversion.utils");function l(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/helpers/utils/confirm-tx.util.js"}],[3882,{"../../../app/scripts/lib/util":86,"../../../shared/modules/conversion.utils":3244,"../constants/common":3859,"./confirm-tx.util":3881},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addHexWEIsToDec=function(e,t){return(0,r.addCurrencies)(e,t,{aBase:16,bBase:16,fromDenomination:"WEI",numberOfDecimals:6})},n.addHexes=l,n.bnToHex=function(e){return(0,s.addHexPrefix)(e.toString(16))},n.decETHToDecWEI=function(e){return(0,r.conversionUtil)(e,{fromNumericBase:"dec",toNumericBase:"dec",fromDenomination:"ETH",toDenomination:"WEI"})},n.decEthToConvertedCurrency=c,n.decGWEIToHexWEI=function(e){return(0,r.conversionUtil)(e,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})},n.decWEIToDecETH=function(e){return(0,r.conversionUtil)(e,{fromNumericBase:"dec",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"ETH"})},n.getEthConversionFromWeiHex=function({value:e,fromCurrency:t=a.ETH,conversionRate:n,numberOfDecimals:s=6}){const r=[t,a.GWEI,a.WEI];let o;for(let a=0;a<r.length;a++){const c=i({value:e,conversionRate:n,fromCurrency:t,toCurrency:t,numberOfDecimals:s,toDenomination:r[a]});if("0"!==c||a===r.length-1){o=`${c} ${r[a]}`;break}}return o},n.getValueFromWeiHex=i,n.getWeiHexFromDecimalValue=function({value:e,fromCurrency:t,conversionRate:n,fromDenomination:s,invertConversionRate:o}){return(0,r.conversionUtil)(e,{fromNumericBase:"dec",toNumericBase:"hex",toCurrency:a.ETH,fromCurrency:t,conversionRate:n,invertConversionRate:o,fromDenomination:s,toDenomination:a.WEI})},n.hexWEIToDecETH=function(e){return(0,r.conversionUtil)(e,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"ETH"})},n.subtractHexWEIsToDec=function(e,t){return(0,r.subtractCurrencies)(e,t,{aBase:16,bBase:16,fromDenomination:"WEI",numberOfDecimals:6})},n.subtractHexes=function(e,t){return(0,r.subtractCurrencies)(e,t,{aBase:16,bBase:16,toNumericBase:"hex",numberOfDecimals:6})},n.sumHexWEIs=u,n.sumHexWEIsToRenderableFiat=function(e,t,n){const a=d(e,t,n);return(0,o.formatCurrency)(a,t)},n.sumHexWEIsToUnformattedFiat=d;var a=e("../constants/common"),s=e("../../../app/scripts/lib/util"),r=e("../../../shared/modules/conversion.utils"),o=e("./confirm-tx.util");function i({value:e,fromCurrency:t=a.ETH,toCurrency:n,conversionRate:s,numberOfDecimals:o,toDenomination:i}){return(0,r.conversionUtil)(e,{fromNumericBase:"hex",toNumericBase:"dec",fromCurrency:t,toCurrency:n,numberOfDecimals:o,fromDenomination:a.WEI,toDenomination:i,conversionRate:s})}function c(e,t,n){return(0,r.conversionUtil)(e,{fromNumericBase:"dec",toNumericBase:"dec",fromCurrency:"ETH",toCurrency:t,numberOfDecimals:2,conversionRate:n})}function l(e,t){return(0,r.addCurrencies)(e,t,{aBase:16,bBase:16,toNumericBase:"hex",numberOfDecimals:6})}function u(e){return e.filter(Boolean).reduce(l)}function d(e,t,n){return c(i({value:u(e),toCurrency:"ETH",numberOfDecimals:4}),t,n)}}}},{package:"$root$",file:"ui/helpers/utils/conversions.util.js"}],[3883,{"./util":3900},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.exportAsFile=function(e,t,n="text/csv"){e=e||(0,a.getRandomFileName)();const s=new window.Blob([t],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(s,e);else{const t=window.document.createElement("a");t.target="_blank",t.href=window.URL.createObjectURL(s),t.download=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)}};var a=e("./util")}}},{package:"$root$",file:"ui/helpers/utils/export-utils.js"}],[3884,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.formatETHFee=function(e,t="ETH"){return`${e} ${t}`}}}},{package:"$root$",file:"ui/helpers/utils/formatters.js"}],[3885,{"../../../shared/constants/gas":3219,"../../../shared/lib/transactions-controller-utils":3239,"../../../shared/modules/conversion.utils":3244,"./util":3900,"bignumber.js":1642,"ethereumjs-util":2036,lodash:2735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addTenPercent=d,n.addTenPercentAndRound=p,n.editGasModeIsSpeedUpOrCancel=function(e){return e===i.EDIT_GAS_MODES.CANCEL||e===i.EDIT_GAS_MODES.SPEED_UP},n.formatGasFeeOrFeeRange=function(e,{precision:t=2}={}){if((0,u.isNullish)(e)||Array.isArray(e)&&0===e.length)return null;const n=Array.isArray(e)?e.slice(0,2):[e],a=Array.isArray(t)?t.slice(0,2):(0,s.times)(n.length,(0,s.constant)(t));return`${(0,s.uniq)((0,s.zip)(n,a).map((([e,t])=>t===undefined?e:(0,u.roundToDecimalPlacesRemovingExtraZeroes)(e,t)))).join(" - ")} GWEI`},n.gasEstimateGreaterThanGasUsedPlusTenPercent=void 0,n.isMetamaskSuggestedGasEstimate=function(e){return[i.GAS_RECOMMENDATIONS.HIGH,i.GAS_RECOMMENDATIONS.MEDIUM,i.GAS_RECOMMENDATIONS.LOW].includes(e)};var a,s=e("lodash"),r=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},o=e("ethereumjs-util"),i=e("../../../shared/constants/gas"),c=e("../../../shared/modules/conversion.utils"),l=e("../../../shared/lib/transactions-controller-utils"),u=e("./util");function d(e,t={}){return e===undefined?undefined:(0,o.addHexPrefix)((0,c.multiplyCurrencies)(e,1.1,{toNumericBase:"hex",multiplicandBase:16,multiplierBase:10,numberOfDecimals:0,...t}))}function p(e){return d(e,{numberOfDecimals:0})}n.gasEstimateGreaterThanGasUsedPlusTenPercent=(e,t,n)=>{var a;let{maxFeePerGas:s}=e;s=new r.default((0,l.hexWEIToDecGWEI)(p(s)));const o=null===(a=t[n])||void 0===a?void 0:a.suggestedMaxFeePerGas;return(0,u.bnGreaterThan)(o,s)}}}},{package:"$root$",file:"ui/helpers/utils/gas.js"}],[3886,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHardwareKeyring=function(e=""){return e.includes("Hardware")}}}},{package:"$root$",file:"ui/helpers/utils/hardware.js"}],[3887,{"../../../shared/modules/fetch-with-timeout":3245,"@sentry/browser":1190,loglevel:2750,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchLocale=async function(e){try{const t=await c(`./_locales/${e}/messages.json`);return await t.json()}catch(t){return s.default.error(`failed to fetch ${e} locale because of ${t}`),{}}},n.getMessage=void 0,n.loadRelativeTimeFormatLocaleData=async function(e){const t=e.split("_")[0];if(Intl.RelativeTimeFormat&&"function"==typeof Intl.RelativeTimeFormat.__addLocaleData&&!p.has(t)){const e=await async function(e){const t=await c(`./intl/${e}/relative-time-format-data.json`);return await t.json()}(t);Intl.RelativeTimeFormat.__addLocaleData(e)}};var a=i(e("react")),s=i(e("loglevel")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=s?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("@sentry/browser"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(e){return e&&e.__esModule?e:{default:e}}const c=(0,i(e("../../../shared/modules/fetch-with-timeout")).default)(),l={},u={},d={};n.getMessage=(e,t,n,o)=>{if(!t)return null;if(!t[n])return"en"===e?u[n]||(u[n]=new Error(`Unable to find value of key "${n}" for locale "${e}"`),r.captureException(u[n]),s.default.error(u[n])):l[e]&&l[e][n]||(l[e]||(l[e]={}),l[e][n]=!0,s.default.warn(`Translator - Unable to find value of key "${n}" for locale "${e}"`)),null;let i=t[n].message;const c=Boolean(o&&o.length),p=c&&o.some((e=>null!==e&&("function"==typeof e||"object"==typeof e)));if(c){const t=i.split(/(\$\d)/gu).map((t=>{var a;const i=t.match(/\$(\d)/u);if(!i)return t;const c=Number(i[1])-1;if(!(null!==o[c]&&o[c]!==undefined||null!==(a=d[e])&&void 0!==a&&a[n])){d[e]||(d[e]={}),d[e][n]=!0;const t=new Error(`Insufficient number of substitutions for key "${n}" with locale "${e}"`);s.default.error(t),r.captureException(t)}return o[c]}));i=p?a.default.createElement("span",null," ",t," "):t.join("")}return i};const p=new Set}}},{package:"$root$",file:"ui/helpers/utils/i18n-helper.js"}],[3888,{"../../../shared/modules/hexstring-utils":3247},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){s||(s=new r(e));return s};var a=e("../../../shared/modules/hexstring-utils");let s;function r(e){this.jazzicon=e,this.cache={}}r.prototype.iconForAddress=function(e,t,n){return function(e,t){return(0,a.isValidHexAddress)(e,{allowNonPrefixed:!1})&&t&&t.iconUrl}(e,n)?function(e={}){const t=document.createElement("img");return t.src=null==e?void 0:e.iconUrl,t.style.width="100%",t}(n):this.generateIdenticonSvg(e,t)},r.prototype.generateIdenticonSvg=function(e,t){const n=`${e}:${t}`;return(this.cache[n]||(this.cache[n]=this.generateNewIdenticon(e,t))).cloneNode(!0)},r.prototype.generateNewIdenticon=function(e,t){const n=function(e){const t=e.slice(2,10);return parseInt(t,16)}(e);return this.jazzicon(t,n)}}}},{package:"$root$",file:"ui/helpers/utils/icon-factory.js"}],[3889,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.addUrlProtocolPrefix=function(e){return e.match(/^https?:\/\//u)?e:`https://${e}`}}}},{package:"$root$",file:"ui/helpers/utils/ipfs.js"}],[3890,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=()=>window.matchMedia("screen and (max-width: 575px)").matches;n.default=a}}},{package:"$root$",file:"ui/helpers/utils/is-mobile-view.js"}],[3891,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMethodName=function(e){if(!e||"string"!=typeof e)return"";return e.replace(/([a-z])([A-Z])/gu,"$1 $2").replace(/([A-Z])([a-z])/gu," $1$2").replace(/ +/gu," ")}}}},{package:"$root$",file:"ui/helpers/utils/metrics.js"}],[3892,{"../../../shared/constants/network":3224},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.formatMoonpaySymbol=void 0;var a=e("../../../shared/constants/network");n.formatMoonpaySymbol=(e,t=a.CHAIN_IDS.MAINNET)=>{if(!e)return e;let n=e;var s;t===a.CHAIN_IDS.POLYGON||t===a.CHAIN_IDS.BSC?n=`${n}_${null===a.BUYABLE_CHAINS_MAP||void 0===a.BUYABLE_CHAINS_MAP||null===(s=a.BUYABLE_CHAINS_MAP[t])||void 0===s?void 0:s.network.toUpperCase()}`:t===a.CHAIN_IDS.AVALANCHE&&(n=`${n}_CCHAIN`);return n}}}},{package:"$root$",file:"ui/helpers/utils/moonpay.js"}],[3895,{"../../../shared/constants/permissions":3225,"deep-freeze-strict":1865},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionDescription=void 0;var a,s=(a=e("deep-freeze-strict"))&&a.__esModule?a:{default:a},r=e("../../../shared/constants/permissions");const o=Symbol("unknown"),i=(0,s.default)({[r.RestrictedMethods.eth_accounts]:e=>({label:e("permission_ethereumAccounts"),leftIcon:"fas fa-eye",rightIcon:null}),[o]:(e,t)=>({label:e("permission_unknown",[null!=t?t:"undefined"]),leftIcon:"fas fa-times-circle",rightIcon:null})});n.getPermissionDescription=(e,t,n)=>{let a=i[o];Object.hasOwnProperty.call(i,t)&&(a=i[t]);const s=a(e,t,n);return Array.isArray(s)?s:[s]}}}},{package:"$root$",file:"ui/helpers/utils/permission.js"}],[3896,{"../constants/settings":3866,_process:2833},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.getNumberOfSettingsInSection=function(e,t){return o(e,t).length},n.getSettingsRoutes=r,n.handleSettingsRefs=function(e,t,n){const a=o(e,t),s=a.findIndex((e=>e.route.substring(1)===window.location.hash.substring(1)));if(-1===s)return;const r=1===a.length?n:n[s];if(null!=r&&r.current){r.current.scrollIntoView({behavior:"smooth"}),r.current.focus();const e=window.location.hash.split("#")[1];window.location.hash=e}},n.highlightSearchedText=function(){const e=document.getElementById("search-settings"),t=new RegExp(e.value,"gi");[...document.querySelectorAll(".settings-page__header__search__list__item")].forEach((e=>{const n=e.querySelector(".settings-page__header__search__list__item__tab"),a=e.querySelector(".settings-page__header__search__list__item__section");i(n,t),i(a,t)}))};var a=e("../constants/settings");let s;function r(){return s||(s=a.SETTINGS_CONSTANTS.filter((e=>!e.featureFlag||t.env[e.featureFlag])),s)}function o(e,t){return r().filter((n=>n.tabMessage(e)===t))}function i(e,t){if(null!==e){let n=e.innerHTML;n=n.replace("&amp;","&"),n=n.replace(/(<span style="background:#ffd33d">|<\/span>)/gim,""),e.innerHTML=n.replace(t,'<span style="background:#ffd33d">$&</span>')}}}).call(this)}).call(this,e("_process"))}}},{package:"$root$",file:"ui/helpers/utils/settings-search.js"}],[3897,{"../../../shared/constants/transaction":3231,"../../../shared/lib/metamask-controller-utils":3234,"../../../shared/lib/transactions-controller-utils":3239,"../../../shared/modules/conversion.utils":3244,"../../../shared/modules/string-utils":3254,"../../../shared/modules/transaction.utils":3256,"../../store/actions":4273,"./confirm-tx.util":3881,"./util":3900,loglevel:2750},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAssetDetails=async function(e,t,n,a){var r,p,m,f,h,g,T;const E=(0,c.parseStandardTokenTransactionData)(n);if(!E)throw new Error("Unable to detect valid token data");let y=null!==(r=null===(p=v(E))||void 0===p?void 0:p.toString())&&void 0!==r?r:(0,u.getTokenValueParam)(E);const A=_(E);let S;if(null!=a&&a.length&&y){const t=a.find((({address:t,tokenId:n})=>(0,i.isEqualCaseInsensitive)(e,t)&&n===y));if(t)return{toAddress:A,...t}}try{S=await(0,o.getTokenStandardAndDetails)(e,t,y)}catch(e){return s.default.warn(e),{toAddress:A,tokenId:y}}const k=E&&(null===(m=S)||void 0===m?void 0:m.decimals)&&(0,d.calcTokenAmount)((0,u.getTokenValueParam)(E),null===(f=S)||void 0===f?void 0:f.decimals).toString(10),O=(null===(h=S)||void 0===h?void 0:h.decimals)&&Number(null===(g=S.decimals)||void 0===g?void 0:g.toString(10));(null===(T=S)||void 0===T?void 0:T.standard)===l.TokenStandard.ERC20&&(y=undefined);return{tokenAmount:k,toAddress:A,decimals:O,tokenId:y,...S}},n.getSymbolAndDecimals=E,n.getTokenAddressParam=_,n.getTokenApprovedParam=function(e={}){var t;return null==e||null===(t=e.args)||void 0===t?void 0:t._approved},n.getTokenFiatAmount=function(e,t,n,a,s,o=!0,i=!1){if(t<=0||!e||a===undefined)return undefined;const c=(0,r.multiplyCurrencies)(e,t,{multiplicandBase:10,multiplierBase:10}),l=(0,r.conversionUtil)(a,{fromNumericBase:"dec",fromCurrency:s,toCurrency:n.toUpperCase(),numberOfDecimals:2,conversionRate:c});let u;u=i?(0,m.formatCurrency)(l,n):o?`${(0,m.formatCurrency)(l,n)} ${n.toUpperCase()}`:l;return u},n.getTokenIdParam=v,n.getTokenMetadata=h,n.tokenInfoGetter=function(){const e={};return async(t,n)=>(e[t]||(e[t]=await E(t,n)),e[t])};var a,s=(a=e("loglevel"))&&a.__esModule?a:{default:a},r=e("../../../shared/modules/conversion.utils"),o=e("../../store/actions"),i=e("../../../shared/modules/string-utils"),c=e("../../../shared/modules/transaction.utils"),l=e("../../../shared/constants/transaction"),u=e("../../../shared/lib/metamask-controller-utils"),d=e("../../../shared/lib/transactions-controller-utils"),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("./util")),m=e("./confirm-tx.util");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){return e&&t[e.toLowerCase()]}async function g(e,t){let n=await async function(e){const t=p.getContractAtAddress(e);try{return(await t.symbol())[0]}catch(t){return s.default.warn(`symbol() call for token at address ${e} resulted in error:`,t),undefined}}(e);if(!n){const a=h(e,t);a&&(n=a.symbol)}return n}async function T(e,t){let n=await async function(e){const t=p.getContractAtAddress(e);try{const e=(await t.decimals())[0];return null==e?void 0:e.toString()}catch(t){return s.default.warn(`decimals() call for token at address ${e} resulted in error:`,t),undefined}}(e);if(!n||"0"===n){const s=h(e,t);var a;if(s)n=null===(a=s.decimals)||void 0===a?void 0:a.toString()}return n}async function E(e,t){let n,a;try{n=await g(e,t),a=await T(e,t)}catch(t){s.default.warn(`symbol() and decimal() calls for token at address ${e} resulted in error:`,t)}return{symbol:n||"",decimals:a}}function _(e={}){var t,n,a;const s=(null==e||null===(t=e.args)||void 0===t?void 0:t._to)||(null==e||null===(n=e.args)||void 0===n?void 0:n.to)||(null==e||null===(a=e.args)||void 0===a?void 0:a[0]);return null==s?void 0:s.toString().toLowerCase()}function v(e={}){var t,n,a,s,r;return null!==(t=null==e||null===(n=e.args)||void 0===n||null===(a=n._tokenId)||void 0===a?void 0:a.toString())&&void 0!==t?t:null==e||null===(s=e.args)||void 0===s||null===(r=s.id)||void 0===r?void 0:r.toString()}}}},{package:"$root$",file:"ui/helpers/utils/token-util.js"}],[3899,{"../../../shared/modules/transaction.utils":3256,"./util":3900,loglevel:2750},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,a,i,c,l,u){s.default.debug("tx-helper called with params:"),s.default.debug({unapprovedTxs:e,unapprovedMsgs:t,personalMsgs:n,decryptMsgs:a,encryptionPublicKeyMsgs:i,typedMessages:c,network:l,chainId:u});const d=l?(0,o.valuesFor)(e).filter((e=>(0,r.transactionMatchesNetwork)(e,u,l))):(0,o.valuesFor)(e);s.default.debug(`tx helper found ${d.length} unapproved txs`);const p=(0,o.valuesFor)(t);s.default.debug(`tx helper found ${p.length} unsigned messages`);let m=d.concat(p);const f=(0,o.valuesFor)(n);s.default.debug(`tx helper found ${f.length} unsigned personal messages`),m=m.concat(f);const h=(0,o.valuesFor)(a);s.default.debug(`tx helper found ${h.length} decrypt requests`),m=m.concat(h);const g=(0,o.valuesFor)(i);s.default.debug(`tx helper found ${g.length} encryptionPublicKey requests`),m=m.concat(g);const T=(0,o.valuesFor)(c);return s.default.debug(`tx helper found ${T.length} unsigned typed messages`),m=m.concat(T),m=m.sort(((e,t)=>e.time-t.time)),m};var a,s=(a=e("loglevel"))&&a.__esModule?a:{default:a},r=e("../../../shared/modules/transaction.utils"),o=e("./util")}}},{package:"$root$",file:"ui/helpers/utils/tx-helper.js"}],[3901,{"../../../app/scripts/lib/util":86,"../../../shared/constants/app":3218},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("../../../shared/constants/app"),s=e("../../../app/scripts/lib/util");var r=class{static async checkStatus(){const e=(0,s.getEnvironmentType)()===a.ENVIRONMENT_TYPE_POPUP,t=(0,s.getPlatform)()===(a.PLATFORM_FIREFOX||a.PLATFORM_BRAVE),n=(await window.navigator.mediaDevices.enumerateDevices()).filter((e=>"videoinput"===e.kind)),r=n.length>0,o=n.some((e=>e.label&&e.label.length>0));if(r){let n=!0;return(t&&e||e&&!o)&&(n=!1),{permissions:o,environmentReady:n}}const i=new Error("No webcam found");throw i.type="NO_WEBCAM_FOUND",i}};n.default=r}}},{package:"$root$",file:"ui/helpers/utils/webcam-utils.js"}],[3902,{"../../../shared/constants/gas":3219,"../../../shared/lib/transactions-controller-utils":3239,"../../../shared/modules/gas.utils":3246,"../../helpers/constants/common":3859,"../../helpers/utils/conversions.util":3882,"../../helpers/utils/transactions.util":3898,"../../selectors":4266,"../useCurrencyDisplay":3915,"../useUserPreferencedCurrency":3938,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasEstimates=function({editGasMode:e,gasEstimateType:t,gasFeeEstimates:n,gasLimit:m,gasPrice:f,maxFeePerGas:h,maxPriorityFeePerGas:g,minimumGasLimit:T,transaction:E}){const _=(0,a.useSelector)(i.checkNetworkAndAccountSupports1559)&&!(0,l.isLegacyTransaction)(null==E?void 0:E.txParams),{currency:v,numberOfDecimals:y}=(0,d.useUserPreferencedCurrency)(o.PRIMARY);let A={gasLimit:(0,p.decimalToHex)(m)};var S;A=_?{...A,maxFeePerGas:(0,c.decGWEIToHexWEI)(h||f||"0"),maxPriorityFeePerGas:(0,c.decGWEIToHexWEI)(g||h||f||"0"),baseFeePerGas:(0,c.decGWEIToHexWEI)(null!==(S=n.estimatedBaseFee)&&void 0!==S?S:"0")}:{...A,gasPrice:t===s.GAS_ESTIMATE_TYPES.NONE?"0x0":(0,c.decGWEIToHexWEI)(f)};const k=(0,r.getMaximumGasTotalInHexWei)(A);e===s.EDIT_GAS_MODES.SWAPS&&(A={...A,gasLimit:T});const O=(0,r.getMinimumGasTotalInHexWei)(A),[N]=(0,u.useCurrencyDisplay)(O,{numberOfDecimals:y,currency:v});return{estimatedMinimumNative:N,maximumCostInHexWei:k,minimumCostInHexWei:O}};var a=e("react-redux"),s=e("../../../shared/constants/gas"),r=e("../../../shared/modules/gas.utils"),o=e("../../helpers/constants/common"),i=e("../../selectors"),c=e("../../helpers/utils/conversions.util"),l=e("../../helpers/utils/transactions.util"),u=e("../useCurrencyDisplay"),d=e("../useUserPreferencedCurrency"),p=e("../../../shared/lib/transactions-controller-utils")}}},{package:"$root$",file:"ui/hooks/gasFeeInput/useGasEstimates.js"}],[3903,{"../../../shared/constants/gas":3219,"../../../shared/modules/conversion.utils":3244,"../../helpers/constants/gas":3863,"../../helpers/utils/conversions.util":3882,"../../helpers/utils/transactions.util":3898,"../../helpers/utils/util":3900,"../../selectors":4266,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeErrors=function({gasEstimateType:e,gasFeeEstimates:t,isGasEstimatesLoading:n,gasLimit:m,gasPrice:f,maxPriorityFeePerGas:h,maxFeePerGas:g,minimumCostInHexWei:T,minimumGasLimit:E,transaction:_}){const v=(0,s.useSelector)(i.checkNetworkAndAccountSupports1559)&&!(0,l.isLegacyTransaction)(null==_?void 0:_.txParams),y=e===r.GAS_ESTIMATE_TYPES.FEE_MARKET,A=((e,t)=>{if((0,o.conversionLessThan)({value:e,fromNumericBase:"dec"},{value:t||r.GAS_LIMITS.SIMPLE,fromNumericBase:"hex"}))return d.GAS_FORM_ERRORS.GAS_LIMIT_OUT_OF_BOUNDS;return undefined})(m,E),S=((e,t)=>{if(!t)return undefined;if((0,u.bnLessThan)(e,0))return d.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_BELOW_MINIMUM;return undefined})(h,v),k=((e,t,n,a)=>{if(t||!a)return undefined;if((0,u.bnGreaterThan)(n,e))return d.GAS_FORM_ERRORS.MAX_FEE_IMBALANCE;return undefined})(g,S,h,v),O=((e,t,n,a)=>{var s;if(n&&e)return undefined;if((!n||null!=a&&null!==(s=a.txParams)&&void 0!==s&&s.gasPrice)&&(0,u.bnLessThan)(t,0))return d.GAS_FORM_ERRORS.GAS_PRICE_TOO_LOW;return undefined})(y,f,v,_),N=((e,t,n,a,s)=>{var r;if(!s||!t||n)return undefined;if((0,u.bnLessThan)(a,null==e||null===(r=e.low)||void 0===r?void 0:r.suggestedMaxPriorityFeePerGas))return d.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW;if(null!=e&&e.high&&(0,u.bnGreaterThan)(a,1.5*e.high.suggestedMaxPriorityFeePerGas))return d.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_HIGH_WARNING;return undefined})(t,y,n,h,v),b=((e,t,n,a,s,r,o)=>{var i;if(s||a||!n||!o||t)return undefined;if((0,u.bnLessThan)(r,null==e||null===(i=e.low)||void 0===i?void 0:i.suggestedMaxFeePerGas))return d.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW;if(null!=e&&e.high&&(0,u.bnGreaterThan)(r,e.high.suggestedMaxFeePerGas*p))return d.GAS_FORM_ERRORS.MAX_FEE_HIGH_WARNING;return undefined})(t,n,y,k,S,g,v),w=(0,a.useMemo)((()=>{const e={};return A&&(e.gasLimit=A),S&&(e.maxPriorityFee=S),k&&(e.maxFee=k),O&&(e.gasPrice=O),e}),[A,S,k,O]),R=(0,a.useMemo)((()=>{const e={};return N&&(e.maxPriorityFee=N),b&&(e.maxFee=b),e}),[N,b]),C=Boolean(Object.keys(w).length),P=(0,a.useMemo)((()=>({...R,...w})),[w,R]),{balance:I}=(0,s.useSelector)(i.getSelectedAccount,s.shallowEqual),M=((e,t,n)=>{var a;if(e===undefined||n===undefined)return!1;const s=(0,c.addHexes)(e,(null==t||null===(a=t.txParams)||void 0===a?void 0:a.value)||"0x0");return(0,o.conversionGreaterThan)({value:s,fromNumericBase:"hex"},{value:n,fromNumericBase:"hex"})})(T,_,I);return{gasErrors:P,hasGasErrors:C,balanceError:M,hasSimulationError:Boolean(null==_?void 0:_.simulationFails)}};var a=e("react"),s=e("react-redux"),r=e("../../../shared/constants/gas"),o=e("../../../shared/modules/conversion.utils"),i=e("../../selectors"),c=e("../../helpers/utils/conversions.util"),l=e("../../helpers/utils/transactions.util"),u=e("../../helpers/utils/util"),d=e("../../helpers/constants/gas");const p=1.5}}},{package:"$root$",file:"ui/hooks/gasFeeInput/useGasFeeErrors.js"}],[3904,{"../../../shared/constants/gas":3219,"../../../shared/lib/metamask-controller-utils":3234,"../../helpers/constants/gas":3863,"../../helpers/utils/gas":3885,"../../helpers/utils/transactions.util":3898,"../../selectors":4266,"../useGasFeeEstimates":3919,"./useGasEstimates":3902,"./useGasFeeErrors":3903,"./useGasPriceInput":3905,"./useMaxFeePerGasInput":3906,"./useMaxPriorityFeePerGasInput":3907,"./useTransactionFunctions":3908,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeInputs=function(e=r.GAS_RECOMMENDATIONS.MEDIUM,t,n="0x5208",E=r.EDIT_GAS_MODES.MODIFY_IN_PLACE){const _={txParams:null==t?void 0:t.txParams,id:null==t?void 0:t.id,userFeeLevel:null==t?void 0:t.userFeeLevel,originalGasEstimate:null==t?void 0:t.originalGasEstimate,userEditedGasLimit:null==t?void 0:t.userEditedGasLimit};null!=t&&t.previousGas&&(_.previousGas=null==t?void 0:t.previousGas);const[v,y]=(0,a.useState)(_),A=(0,u.editGasModeIsSpeedUpOrCancel)(E)?v:t,S=(0,s.useSelector)(i.checkNetworkAndAccountSupports1559)&&!(0,c.isLegacyTransaction)(null==A?void 0:A.txParams),{gasEstimateType:k,gasFeeEstimates:O,isGasEstimatesLoading:N,isNetworkBusy:b}=(0,l.useGasFeeEstimates)(),w=(0,s.useSelector)(i.getAdvancedInlineGasShown),[R,C]=(0,a.useState)((()=>{var t,n;return w&&null!=A&&null!==(t=A.txParams)&&void 0!==t&&t.maxPriorityFeePerGas&&null!=A&&null!==(n=A.txParams)&&void 0!==n&&n.maxFeePerGas?null:A?(null==A?void 0:A.userFeeLevel)||null:e})),[P,I]=(0,a.useState)((()=>R||r.PRIORITY_LEVELS.CUSTOM)),[M,x]=(0,a.useState)((()=>{var e,t;return Number((0,d.hexToDecimal)(null!==(e=null==A||null===(t=A.txParams)||void 0===t?void 0:t.gas)&&void 0!==e?e:"0x0"))})),D=Number((0,d.hexToDecimal)(null==A?void 0:A.originalGasEstimate));(0,a.useEffect)((()=>{var e,t;S&&(null!=A&&A.userFeeLevel&&(I(null==A?void 0:A.userFeeLevel),C(null==A?void 0:A.userFeeLevel)),x(Number((0,d.hexToDecimal)(null!==(e=null==A||null===(t=A.txParams)||void 0===t?void 0:t.gas)&&void 0!==e?e:"0x0"))))}),[I,x,C,S,A]);const{gasPrice:F,setGasPrice:L,setGasPriceHasBeenManuallySet:U}=(0,m.useGasPriceInput)({estimateToUse:R,gasEstimateType:k,gasFeeEstimates:O,transaction:A}),{maxFeePerGas:G,setMaxFeePerGas:j}=(0,f.useMaxFeePerGasInput)({estimateToUse:R,gasEstimateType:k,gasFeeEstimates:O,transaction:A}),{maxPriorityFeePerGas:$,setMaxPriorityFeePerGas:W}=(0,h.useMaxPriorityFeePerGasInput)({estimateToUse:R,gasEstimateType:k,gasFeeEstimates:O,transaction:A}),{estimatedMinimumNative:H,maximumCostInHexWei:B,minimumCostInHexWei:V}=(0,g.useGasEstimates)({editGasMode:E,gasEstimateType:k,gasFeeEstimates:O,gasLimit:M,gasPrice:F,maxFeePerGas:G,maxPriorityFeePerGas:$,minimumGasLimit:n,transaction:A}),{balanceError:q,gasErrors:Y,hasGasErrors:K,hasSimulationError:z}=(0,p.useGasFeeErrors)({gasEstimateType:k,gasFeeEstimates:O,isGasEstimatesLoading:N,gasLimit:M,gasPrice:F,maxPriorityFeePerGas:$,maxFeePerGas:G,minimumCostInHexWei:V,minimumGasLimit:n,transaction:A}),Q=(0,a.useCallback)((()=>{if(Y.gasLimit===o.GAS_FORM_ERRORS.GAS_LIMIT_OUT_OF_BOUNDS){var e;const t=(0,d.hexToDecimal)(null==A||null===(e=A.txParams)||void 0===e?void 0:e.gas),a=(0,d.hexToDecimal)(n);x(t>a?t:a)}}),[n,Y.gasLimit,A]),{cancelTransaction:X,speedUpTransaction:Z,updateTransaction:J,updateTransactionToTenPercentIncreasedGasFee:ee,updateTransactionUsingDAPPSuggestedValues:te,updateTransactionUsingEstimate:ne}=(0,T.useTransactionFunctions)({defaultEstimateToUse:e,editGasMode:E,gasFeeEstimates:O,gasLimit:M,maxPriorityFeePerGas:$,minimumGasLimit:n,transaction:A,setRetryTxMeta:y}),ae=(0,a.useCallback)((()=>{C(r.CUSTOM_GAS_ESTIMATE),Q(),L(F),x(M),j(G),W($),U(!0),I("custom")}),[C,Q,L,F,x,M,j,G,W,$,U]);return{transaction:A,maxFeePerGas:G,maxPriorityFeePerGas:$,gasPrice:F,setGasPrice:L,gasLimit:M,setGasLimit:x,properGasLimit:D,editGasMode:E,estimateToUse:R,estimatedMinimumNative:H,maximumCostInHexWei:B,minimumCostInHexWei:V,estimateUsed:P,gasFeeEstimates:O,isNetworkBusy:b,onManualChange:ae,balanceError:q,gasErrors:Y,hasGasErrors:K,hasSimulationError:z,minimumGasLimitDec:(0,d.hexToDecimal)(n),supportsEIP1559:S,cancelTransaction:X,speedUpTransaction:Z,updateTransaction:J,updateTransactionToTenPercentIncreasedGasFee:ee,updateTransactionUsingDAPPSuggestedValues:te,updateTransactionUsingEstimate:ne}};var a=e("react"),s=e("react-redux"),r=e("../../../shared/constants/gas"),o=e("../../helpers/constants/gas"),i=e("../../selectors"),c=e("../../helpers/utils/transactions.util"),l=e("../useGasFeeEstimates"),u=e("../../helpers/utils/gas"),d=e("../../../shared/lib/metamask-controller-utils"),p=e("./useGasFeeErrors"),m=e("./useGasPriceInput"),f=e("./useMaxFeePerGasInput"),h=e("./useMaxPriorityFeePerGasInput"),g=e("./useGasEstimates"),T=e("./useTransactionFunctions")}}},{package:"$root$",file:"ui/hooks/gasFeeInput/useGasFeeInputs.js"}],[3905,{"../../../shared/constants/gas":3219,"../../../shared/lib/transactions-controller-utils":3239,"../../helpers/utils/transactions.util":3898,"./utils":3909,lodash:2735,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasPriceInput=function({estimateToUse:e,gasEstimateType:t,gasFeeEstimates:n,transaction:u}){const[d,p]=(0,a.useState)((null==u?void 0:u.userFeeLevel)===r.CUSTOM_GAS_ESTIMATE),[m,f]=(0,a.useState)((()=>{const{gasPrice:e}=(null==u?void 0:u.txParams)||{};return e&&(0,c.feeParamsAreCustom)(u)?Number((0,i.hexWEIToDecGWEI)(e)):null})),[h]=(0,a.useState)(n),g=(0,s.isEqual)(h,n);return{gasPrice:null!==m&&(d||g||(0,o.isLegacyTransaction)(null==u?void 0:u.txParams))?m:l(n,t,e),setGasPrice:f,setGasPriceHasBeenManuallySet:p}};var a=e("react"),s=e("lodash"),r=e("../../../shared/constants/gas"),o=e("../../helpers/utils/transactions.util"),i=e("../../../shared/lib/transactions-controller-utils"),c=e("./utils");function l(e,t,n){var a,s;return t===r.GAS_ESTIMATE_TYPES.LEGACY?null!==(a=null==e?void 0:e[n])&&void 0!==a?a:"0":t===r.GAS_ESTIMATE_TYPES.ETH_GASPRICE&&null!==(s=null==e?void 0:e.gasPrice)&&void 0!==s?s:"0"}}}},{package:"$root$",file:"ui/hooks/gasFeeInput/useGasPriceInput.js"}],[3906,{"../../../shared/lib/transactions-controller-utils":3239,"../../helpers/utils/transactions.util":3898,"../../selectors":4266,"./utils":3909,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMaxFeePerGasInput=function({estimateToUse:e,gasEstimateType:t,gasFeeEstimates:n,transaction:l}){const u=(0,s.useSelector)(r.checkNetworkAndAccountSupports1559)&&!(0,o.isLegacyTransaction)(null==l?void 0:l.txParams),d=u?((e,t)=>{if(null!=t&&t[null==e?void 0:e.userFeeLevel])return t[e.userFeeLevel].suggestedMaxFeePerGas;const{maxFeePerGas:n,gasPrice:a}=(null==e?void 0:e.txParams)||{};return Number((0,i.hexWEIToDecGWEI)(n||a))})(l,n):0,[p,m]=(0,a.useState)((()=>d&&(0,c.feeParamsAreCustom)(l)?d:null));(0,a.useEffect)((()=>{u&&d&&m(d)}),[d,m,u]);return{maxFeePerGas:null!=p?p:(0,c.getGasFeeEstimate)("suggestedMaxFeePerGas",n,t,e,d||0),setMaxFeePerGas:m}};var a=e("react"),s=e("react-redux"),r=e("../../selectors"),o=e("../../helpers/utils/transactions.util"),i=e("../../../shared/lib/transactions-controller-utils"),c=e("./utils")}}},{package:"$root$",file:"ui/hooks/gasFeeInput/useMaxFeePerGasInput.js"}],[3907,{"../../../shared/lib/transactions-controller-utils":3239,"../../helpers/utils/transactions.util":3898,"../../selectors":4266,"./utils":3909,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useMaxPriorityFeePerGasInput=function({estimateToUse:e,gasEstimateType:t,gasFeeEstimates:n,transaction:u}){const d=(0,a.useSelector)(r.checkNetworkAndAccountSupports1559)&&!(0,o.isLegacyTransaction)(null==u?void 0:u.txParams),p=d?((e,t)=>{if(null!=t&&t[null==e?void 0:e.userFeeLevel])return t[e.userFeeLevel].suggestedMaxPriorityFeePerGas;const{maxPriorityFeePerGas:n,maxFeePerGas:a,gasPrice:s}=(null==e?void 0:e.txParams)||{},r=n||a||s;return r?Number((0,i.hexWEIToDecGWEI)(r)):null})(u,n):null,[m,f]=(0,s.useState)((()=>!l(p)&&(0,c.feeParamsAreCustom)(u)?p:null));(0,s.useEffect)((()=>{d&&!l(p)&&f(p)}),[p,f,d]);return{maxPriorityFeePerGas:null!=m?m:(0,c.getGasFeeEstimate)("suggestedMaxPriorityFeePerGas",n,t,e,p||0),setMaxPriorityFeePerGas:f}};var a=e("react-redux"),s=e("react"),r=e("../../selectors"),o=e("../../helpers/utils/transactions.util"),i=e("../../../shared/lib/transactions-controller-utils"),c=e("./utils");const l=e=>null===e||e===undefined}}},{package:"$root$",file:"ui/hooks/gasFeeInput/useMaxPriorityFeePerGasInput.js"}],[3908,{"../../../shared/constants/gas":3219,"../../../shared/lib/transactions-controller-utils":3239,"../../helpers/utils/conversions.util":3882,"../../helpers/utils/gas":3885,"../../store/actions":4273,"bignumber.js":1642,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionFunctions=void 0;var a,s=e("react"),r=e("react-redux"),o=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("../../../shared/lib/transactions-controller-utils"),c=e("../../../shared/constants/gas"),l=e("../../helpers/utils/conversions.util"),u=e("../../helpers/utils/gas"),d=e("../../store/actions");n.useTransactionFunctions=({defaultEstimateToUse:e,editGasMode:t,estimatedBaseFee:n,gasFeeEstimates:a,gasLimit:p,maxPriorityFeePerGas:m,transaction:f,setRetryTxMeta:h})=>{const g=(0,r.useDispatch)(),T=(0,s.useCallback)((()=>{var e;if(t!==c.EDIT_GAS_MODES.CANCEL&&t!==c.EDIT_GAS_MODES.SPEED_UP||f.previousGas)return{};const{maxFeePerGas:n,maxPriorityFeePerGas:a,gasLimit:s}=null!==(e=null==f?void 0:f.txParams)&&void 0!==e?e:{};return{previousGas:{maxFeePerGas:n,maxPriorityFeePerGas:a,gasLimit:s}}}),[t,null==f?void 0:f.previousGas,null==f?void 0:f.txParams]),E=(0,s.useCallback)((async({estimateUsed:n,gasLimit:a,maxFeePerGas:s,maxPriorityFeePerGas:r,estimateSuggested:o})=>{const E={gas:(0,i.decimalToHex)(a||p),gasLimit:(0,i.decimalToHex)(a||p),estimateSuggested:o||e,estimateUsed:n};s&&(E.maxFeePerGas=s),r&&(E.maxPriorityFeePerGas=r||(0,l.decGWEIToHexWEI)(m));const _=T(),v={...f,userFeeLevel:n||c.PRIORITY_LEVELS.CUSTOM,txParams:{...f.txParams,...E},..._};t===c.EDIT_GAS_MODES.SWAPS?(g((0,d.updateSwapsUserFeeLevel)(n||c.PRIORITY_LEVELS.CUSTOM)),g((0,d.updateCustomSwapsEIP1559GasParams)(E))):(0,u.editGasModeIsSpeedUpOrCancel)(t)?h(v):(E.userEditedGasLimit=v.userEditedGasLimit,E.userFeeLevel=v.userFeeLevel,_&&_.previousGas&&await g((0,d.updatePreviousGasParams)(v.id,_.previousGas)),await g((0,d.updateTransactionGasFees)(v.id,E)))}),[e,g,t,p,T,m,f,h]),_=(0,s.useCallback)((()=>{g((0,d.createCancelTransaction)(f.id,f.txParams,{estimatedBaseFee:n}))}),[g,n,f]),v=(0,s.useCallback)((()=>{g((0,d.createSpeedUpTransaction)(f.id,f.txParams,{estimatedBaseFee:n}))}),[g,n,f]),y=(0,s.useCallback)(((t=!1)=>{const{gas:n,maxFeePerGas:s,maxPriorityFeePerGas:r}=f.previousGas||f.txParams,i=new o.default(r,16).isZero()?(0,l.decGWEIToHexWEI)(a[e].suggestedMaxPriorityFeePerGas):r,d="0x0"===r?c.CUSTOM_GAS_ESTIMATE:c.PRIORITY_LEVELS.TEN_PERCENT_INCREASED;E({estimateSuggested:t?e:c.PRIORITY_LEVELS.TEN_PERCENT_INCREASED,estimateUsed:d,gasLimit:n,maxFeePerGas:(0,u.addTenPercentAndRound)(s),maxPriorityFeePerGas:(0,u.addTenPercentAndRound)(i)})}),[e,a,f,E]),A=(0,s.useCallback)((e=>{if(!a[e])return;const{suggestedMaxFeePerGas:t,suggestedMaxPriorityFeePerGas:n}=a[e];E({estimateUsed:e,maxFeePerGas:(0,l.decGWEIToHexWEI)(t),maxPriorityFeePerGas:(0,l.decGWEIToHexWEI)(n)})}),[a,E]),S=(0,s.useCallback)((()=>{var e;const{maxFeePerGas:t,maxPriorityFeePerGas:n}=null!==(e=null==f?void 0:f.dappSuggestedGasFees)&&void 0!==e?e:{};E({estimateUsed:c.PRIORITY_LEVELS.DAPP_SUGGESTED,maxFeePerGas:t,maxPriorityFeePerGas:n})}),[f,E]);return{cancelTransaction:_,speedUpTransaction:v,updateTransaction:E,updateTransactionToTenPercentIncreasedGasFee:y,updateTransactionUsingDAPPSuggestedValues:S,updateTransactionUsingEstimate:A}}}}},{package:"$root$",file:"ui/hooks/gasFeeInput/useTransactionFunctions.js"}],[3909,{"../../../shared/constants/gas":3219},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.feeParamsAreCustom=void 0,n.getGasFeeEstimate=function(e,t,n,s,r="0"){var o,i;return n===a.GAS_ESTIMATE_TYPES.FEE_MARKET&&null!==(o=null==t||null===(i=t[s])||void 0===i?void 0:i[e])&&void 0!==o?o:String(r)};var a=e("../../../shared/constants/gas");n.feeParamsAreCustom=e=>!(null!=e&&e.userFeeLevel)||(null==e?void 0:e.userFeeLevel)===a.CUSTOM_GAS_ESTIMATE}}},{package:"$root$",file:"ui/hooks/gasFeeInput/utils.js"}],[3910,{"../../shared/modules/hexstring-utils":3247,"../helpers/utils/util":3900,"../selectors":4266,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),s=e("../../shared/modules/hexstring-utils"),r=e("../selectors"),o=e("../helpers/utils/util");var i=e=>{var t,n;const i=(0,a.useSelector)(r.getAddressBook),c=(0,a.useSelector)(r.getMetaMaskIdentities),l=(0,a.useSelector)(r.getTokenList),u=(0,s.toChecksumHexAddress)(e);if(!e)return{};const d=i.find((e=>e.address===u));return null!=d&&d.name?{toName:d.name,isTrusted:!0}:null!==(t=c[e])&&void 0!==t&&t.name?{toName:c[e].name,isTrusted:!0}:null!==(n=l[null==e?void 0:e.toLowerCase()])&&void 0!==n&&n.name?{toName:l[null==e?void 0:e.toLowerCase()].name,isTrusted:!0}:{toName:(0,o.shortenAddress)(u),isTrusted:!1}};n.default=i}}},{package:"$root$",file:"ui/hooks/useAddressDetails.js"}],[3911,{react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useApproveTransaction=function(){const[e,t]=(0,a.useState)(!1);return{approveTransaction:(0,a.useCallback)((()=>t(!0)),[]),showCustomizeGasPopover:e,closeCustomizeGasPopover:()=>t(!1)}};var a=e("react")}}},{package:"$root$",file:"ui/hooks/useApproveTransaction.js"}],[3912,{"../../shared/modules/string-utils":3254,"../ducks/metamask/metamask":3853,"../helpers/utils/token-util":3897,"../store/actions":4273,"./usePrevious":3923,"./useTokenTracker":3934,lodash:2735,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useAssetDetails=function(e,t,n){const p=(0,r.useDispatch)(),m=(0,r.useSelector)(o.getCollectibles),f=(0,r.useSelector)(o.getTokens,a.isEqual).find((t=>(0,l.isEqualCaseInsensitive)(t.address,e))),[h,g]=(0,s.useState)(null),{tokensWithBalances:T}=(0,d.useTokenTracker)(f?[f]:[]),E=(0,u.usePrevious)(e),_=(0,u.usePrevious)(t),v=(0,u.usePrevious)(n),y=(0,u.usePrevious)(T);if((0,s.useEffect)((()=>{(e!==E||t!==_||n!==v||y&&y!==T)&&async function(){p((0,c.showLoadingIndication)());const a=await(0,i.getAssetDetails)(e,t,n,m);g(a),p((0,c.hideLoadingIndication)())}()}),[p,E,v,_,e,t,n,m,T,y]),h){const{standard:t,symbol:n,image:a,name:s,balance:r,tokenId:o,toAddress:i,tokenAmount:c,decimals:l}=h;return{toAddress:i,tokenId:o,decimals:l,tokenAmount:c,assetAddress:e,assetStandard:t,tokenSymbol:null!=n?n:"",tokenImage:a,userBalance:r,assetName:s}}return{}};var a=e("lodash"),s=e("react"),r=e("react-redux"),o=e("../ducks/metamask/metamask"),i=e("../helpers/utils/token-util"),c=e("../store/actions"),l=e("../../shared/modules/string-utils"),u=e("./usePrevious"),d=e("./useTokenTracker")}}},{package:"$root$",file:"ui/hooks/useAssetDetails.js"}],[3913,{"../ducks/metamask/metamask":3853,"../selectors":4266,"./usePrevious":3923,lodash:2735,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCollectiblesCollections=function(){const[e,t]=(0,a.useState)({}),[n,l]=(0,a.useState)({collectionName:"Previously Owned",collectibles:[]}),u=(0,s.useSelector)(o.getCollectibles),[d,p]=(0,a.useState)((()=>(null==u?void 0:u.length)>=0)),m=(0,s.useSelector)(i.getSelectedAddress),f=(0,s.useSelector)(i.getCurrentChainId),h=(0,s.useSelector)(o.getCollectibleContracts),g=(0,c.usePrevious)(u),T=(0,c.usePrevious)(f),E=(0,c.usePrevious)(m);return(0,a.useEffect)((()=>{(0,r.isEqual)(g,u)&&(0,r.isEqual)(E,m)&&(0,r.isEqual)(T,f)||(()=>{if(p(!0),m===undefined||f===undefined)return;const e={},n={collectionName:"Previously Owned",collectibles:[]};u.forEach((t=>{if(!1===(null==t?void 0:t.isCurrentlyOwned))n.collectibles.push(t);else if(e[t.address])e[t.address].collectibles.push(t);else{const n=h.find((({address:e})=>e===t.address));e[t.address]={collectionName:(null==n?void 0:n.name)||t.name,collectionImage:(null==n?void 0:n.logo)||t.collectionImage,collectibles:[t]}}})),t(e),l(n),p(!1)})()}),[u,g,h,p,f,T,m,E]),{collectiblesLoading:d,collections:e,previouslyOwnedCollection:n}};var a=e("react"),s=e("react-redux"),r=e("lodash"),o=e("../ducks/metamask/metamask"),i=e("../selectors"),c=e("./usePrevious")}}},{package:"$root$",file:"ui/hooks/useCollectiblesCollections.js"}],[3914,{"../../shared/constants/time":3229,"./useTimeout":3930,"copy-to-clipboard":1819,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCopyToClipboard=function(e=c){const[t,n]=(0,s.useState)(!1),a=(0,i.useTimeout)((()=>n(!1)),e,!1),o=(0,s.useCallback)((e=>{n(!0),a(),(0,r.default)(e)}),[a]);return[t,o]};var a,s=e("react"),r=(a=e("copy-to-clipboard"))&&a.__esModule?a:{default:a},o=e("../../shared/constants/time"),i=e("./useTimeout");const c=3*o.SECOND}}},{package:"$root$",file:"ui/hooks/useCopyToClipboard.js"}],[3915,{"../../shared/constants/network":3224,"../../shared/modules/conversion.utils":3244,"../ducks/metamask/metamask":3853,"../helpers/utils/confirm-tx.util":3881,"../selectors":4266,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrencyDisplay=function(e,{displayValue:t,prefix:n,numberOfDecimals:u,denomination:d,currency:p,...m}){const f=(0,s.useSelector)(o.getCurrentCurrency),h=(0,s.useSelector)(i.getNativeCurrency),g=(0,s.useSelector)(i.getConversionRate),T=p===f,E=(0,a.useMemo)((()=>t||(p===h||!T&&!h?(0,c.conversionUtil)(e,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",numberOfDecimals:u||2,toDenomination:d}):T&&g?(0,r.formatCurrency)((0,r.getValueFromWeiHex)({value:e,fromCurrency:h,toCurrency:p,conversionRate:g,numberOfDecimals:u||2,toDenomination:d}),p):null)),[e,h,g,t,u,d,p,T]);let _;if(!m.hideLabel){const e=Object.values(l.TEST_NETWORK_TICKER_MAP).includes(p)?p:null==p?void 0:p.toUpperCase();_=m.suffix||e}return[`${n||""}${E}${_?` ${_}`:""}`,{prefix:n,value:E,suffix:_}]};var a=e("react"),s=e("react-redux"),r=e("../helpers/utils/confirm-tx.util"),o=e("../selectors"),i=e("../ducks/metamask/metamask"),c=e("../../shared/modules/conversion.utils"),l=e("../../shared/constants/network")}}},{package:"$root$",file:"ui/hooks/useCurrencyDisplay.js"}],[3916,{"../../shared/constants/swaps":3228,"../../shared/modules/string-utils":3254,"../ducks/metamask/metamask":3853,"../helpers/constants/routes":3865,"../selectors":4266,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCurrentAsset=function(){var e;const t=(0,s.useRouteMatch)({path:`${i.ASSET_ROUTE}/:asset`,exact:!0,strict:!0}),n=null==t||null===(e=t.params)||void 0===e?void 0:e.asset,u=(0,a.useSelector)(r.getTokens),d=n&&u.find((({address:e})=>(0,l.isEqualCaseInsensitive)(e,n))),p=(0,a.useSelector)(o.getCurrentChainId);return null!=d?d:c.SWAPS_CHAINID_DEFAULT_TOKEN_MAP[p]||c.ETH_SWAPS_TOKEN_OBJECT};var a=e("react-redux"),s=e("react-router-dom"),r=e("../ducks/metamask/metamask"),o=e("../selectors"),i=e("../helpers/constants/routes"),c=e("../../shared/constants/swaps"),l=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useCurrentAsset.js"}],[3917,{lodash:2735,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEqualityCheck=function(e,t=s.isEqual){const[n,r]=(0,a.useState)(e);return(0,a.useLayoutEffect)((()=>{t(e,n)||r(e)}),[e,t,n]),n};var a=e("react"),s=e("lodash")}}},{package:"$root$",file:"ui/hooks/useEqualityCheck.js"}],[3918,{"../ducks/metamask/metamask":3853,"../helpers/utils/confirm-tx.util":3881,"../helpers/utils/conversions.util":3882,"../selectors":4266,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useEthFiatAmount=function(e,t={},n){var l;const u=(0,s.useSelector)(c.getConversionRate),d=(0,s.useSelector)(r.getCurrentCurrency),p=(0,s.useSelector)(r.getShouldShowFiat),m=null!==(l=t.showFiat)&&void 0!==l?l:p,f=(0,a.useMemo)((()=>(0,o.decEthToConvertedCurrency)(e,d,u)),[u,d,e]);if(!m||"ETH"===d.toUpperCase()||u<=0||e===undefined)return undefined;return n?(0,i.formatCurrency)(f,d):`${(0,i.formatCurrency)(f,d)} ${d.toUpperCase()}`};var a=e("react"),s=e("react-redux"),r=e("../selectors"),o=e("../helpers/utils/conversions.util"),i=e("../helpers/utils/confirm-tx.util"),c=e("../ducks/metamask/metamask")}}},{package:"$root$",file:"ui/hooks/useEthFiatAmount.js"}],[3919,{"../ducks/metamask/metamask":3853,"./useSafeGasEstimatePolling":3924,"lodash/isEqual":2720,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasFeeEstimates=function(){const e=(0,r.useSelector)(o.getGasEstimateType),t=(0,r.useSelector)(o.getGasFeeEstimates,s.default),n=(0,r.useSelector)(o.getIsGasEstimatesLoading),a=(0,r.useSelector)(o.getIsNetworkBusy);return(0,i.useSafeGasEstimatePolling)(),{gasFeeEstimates:t,gasEstimateType:e,isGasEstimatesLoading:n,isNetworkBusy:a}};var a,s=(a=e("lodash/isEqual"))&&a.__esModule?a:{default:a},r=e("react-redux"),o=e("../ducks/metamask/metamask"),i=e("./useSafeGasEstimatePolling")}}},{package:"$root$",file:"ui/hooks/useGasFeeEstimates.js"}],[3920,{"../contexts/i18n":3838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useI18nContext=function(){return(0,a.useContext)(s.I18nContext)};var a=e("react"),s=e("../contexts/i18n")}}},{package:"$root$",file:"ui/hooks/useI18nContext.js"}],[3921,{"../../shared/modules/transaction.utils":3256,"../helpers/utils/conversions.util":3882,"../helpers/utils/gas":3885,"./useGasFeeEstimates":3919,"bignumber.js":1642,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useIncrementedGasFees=function(e){const{gasFeeEstimates:t={}}=(0,l.useGasFeeEstimates)();return(0,r.useMemo)((()=>{var n,a,s,r,i,c;const l={gasLimit:null===(n=e.txParams)||void 0===n?void 0:n.gas,gas:null===(a=e.txParams)||void 0===a?void 0:a.gas},d=null!==(s=null==t||null===(r=t.medium)||void 0===r?void 0:r.suggestedMaxFeePerGas)&&void 0!==s?s:"0",p=null!==(i=null==t||null===(c=t.medium)||void 0===c?void 0:c.suggestedMaxPriorityFeePerGas)&&void 0!==i?i:"0";if((0,o.isEIP1559Transaction)(e)){var m,f;const t=null===(m=e.txParams)||void 0===m?void 0:m.maxFeePerGas,n=null===(f=e.txParams)||void 0===f?void 0:f.maxPriorityFeePerGas;l.maxFeePerGas=t===undefined||t.startsWith("-")?"0x0":u(t,d),l.maxPriorityFeePerGas=n===undefined||n.startsWith("-")?"0x0":u(n,p)}else{var h;const t=null===(h=e.txParams)||void 0===h?void 0:h.gasPrice;l.gasPrice=t===undefined||t.startsWith("-")?"0x0":u(t,d)}return l}),[e,t])};var a,s=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},r=e("react"),o=e("../../shared/modules/transaction.utils"),i=e("../helpers/utils/conversions.util"),c=e("../helpers/utils/gas"),l=e("./useGasFeeEstimates");function u(e,t){const n=(0,c.addTenPercent)(e),a=(0,i.decGWEIToHexWEI)(t);return new s.default(n,16).greaterThan(new s.default(a,16))?n:a}}}},{package:"$root$",file:"ui/hooks/useIncrementedGasFees.js"}],[3922,{"../../shared/constants/app":3218,"../selectors":4266,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useOriginMetadata=function(e){const t=(0,a.useSelector)((t=>(0,s.getTargetSubjectMetadata)(t,e)));if(!e)return null;let n=null;try{const t=new URL(e);n={host:t.host,hostname:t.hostname,origin:e,subjectType:r.SUBJECT_TYPES.UNKNOWN}}catch(e){}if(t&&n)return{...n,...t};if(t)return t;return n};var a=e("react-redux"),s=e("../selectors"),r=e("../../shared/constants/app")}}},{package:"$root$",file:"ui/hooks/useOriginMetadata.js"}],[3923,{react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePrevious=function(e){const t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e}),[e]),t.current};var a=e("react")}}},{package:"$root$",file:"ui/hooks/usePrevious.js"}],[3924,{"../store/actions":4273,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSafeGasEstimatePolling=function(){(0,a.useEffect)((()=>{let e,t=!0;const n=()=>{t=!1,e&&((0,s.disconnectGasFeeEstimatePoller)(e),(0,s.removePollingTokenFromAppState)(e))};return(0,s.getGasFeeEstimatesAndStartPolling)().then((n=>{t?(e=n,(0,s.addPollingTokenToAppState)(e)):((0,s.disconnectGasFeeEstimatePoller)(n),(0,s.removePollingTokenFromAppState)(e))})),window.addEventListener("beforeunload",n),()=>{n(),window.removeEventListener("beforeunload",n)}}),[])};var a=e("react"),s=e("../store/actions")}}},{package:"$root$",file:"ui/hooks/useSafeGasEstimatePolling.js"}],[3925,{"../helpers/constants/routes":3865,"../selectors":4266,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSegmentContext=function(){const e=(0,s.useRouteMatch)({path:i,exact:!0,strict:!0}),t=((0,a.useSelector)(o.txDataSelector)||{}).origin,n=t?{url:t}:undefined;return{page:e?{path:e.path,title:r.PATH_NAME_MAP[e.path],url:e.path}:undefined,referrer:n}};var a=e("react-redux"),s=e("react-router-dom"),r=e("../helpers/constants/routes"),o=e("../selectors");const i=Object.keys(r.PATH_NAME_MAP)}}},{package:"$root$",file:"ui/hooks/useSegmentContext.js"}],[3926,{"../ducks/app/app":3845,"./useGasFeeEstimates":3919,lodash:2735,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldAnimateGasEstimations=function(){const{isGasEstimatesLoading:e,gasFeeEstimates:t}=(0,i.useGasFeeEstimates)(),n=(0,s.useDispatch)(),c=(0,s.useSelector)(o.getGasLoadingAnimationIsShowing),l=(0,a.useRef)(t),u=!(0,r.isEqual)(l.current,t),d=(0,r.isEqual)(l.current,{});u&&(l.current=t);const p=e||u&&!d;(0,a.useEffect)((()=>{!1===c&&!0===p&&n((0,o.toggleGasLoadingAnimation)(!0))}),[n,c,p]),(0,a.useEffect)((()=>{!0===c&&!1===p&&setTimeout((()=>{n((0,o.toggleGasLoadingAnimation)(!1))}),2e3)}),[n,c,p])};var a=e("react"),s=e("react-redux"),r=e("lodash"),o=e("../ducks/app/app"),i=e("./useGasFeeEstimates")}}},{package:"$root$",file:"ui/hooks/useShouldAnimateGasEstimations.js"}],[3927,{"../../shared/constants/time":3229,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useShouldShowSpeedUp=function(e,t){const{transactions:n,hasRetried:r}=e,[o={}]=n,{submittedTime:i}=o,[c,l]=(0,a.useState)((()=>Date.now()-i>5e3&&t&&!r));return(0,a.useEffect)((()=>{let e;return r||!t||c||(Date.now()-i>5*s.SECOND?l(!0):e=setTimeout((()=>{l(!0),clearTimeout(e)}),5001-(Date.now()-i))),()=>{e&&clearTimeout(e)}}),[i,c,r,t]),c};var a=e("react"),s=e("../../shared/constants/time")}}},{package:"$root$",file:"ui/hooks/useShouldShowSpeedUp.js"}],[3928,{"../selectors":4266,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSimulationFailureWarning=function(e){const t=(0,a.useSelector)(s.txDataSelector)||{},n=Boolean(t.simulationFails);return n&&!e};var a=e("react-redux"),s=e("../selectors")}}},{package:"$root$",file:"ui/hooks/useSimulationFailureWarning.js"}],[3929,{"../../shared/constants/transaction":3231,"../../shared/lib/transactions-controller-utils":3239,"../../shared/modules/swaps.utils":3255,"../selectors":4266,"./useTokenFiatAmount":3933,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useSwappedTokenValue=function(e,t){const{symbol:n,decimals:l,address:u}=t,{primaryTransaction:d,initialTransaction:p}=e,{type:m}=p,{from:f}=p.txParams||{},h=(0,a.useSelector)(i.getCurrentChainId),g=(null==t?void 0:t.symbol)===d.destinationTokenSymbol||(0,o.isSwapsDefaultTokenAddress)(t.address,h)&&(0,o.isSwapsDefaultTokenSymbol)(d.destinationTokenSymbol,h),T=m===r.TransactionType.swap&&g?(0,s.getSwapsTokensReceivedFromTxMeta)(d.destinationTokenSymbol,p,u,f,l,null,h):m===r.TransactionType.swap&&d.swapTokenValue,E="string"==typeof T&&-1===Math.sign(T),_=(0,c.useTokenFiatAmount)(u,T||"",n);return{swapTokenValue:T,swapTokenFiatAmount:T&&g&&_,isViewingReceivedTokenFromSwap:g,isNegative:E}};var a=e("react-redux"),s=e("../../shared/lib/transactions-controller-utils"),r=e("../../shared/constants/transaction"),o=e("../../shared/modules/swaps.utils"),i=e("../selectors"),c=e("./useTokenFiatAmount")}}},{package:"$root$",file:"ui/hooks/useSwappedTokenValue.js"}],[3930,{react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTimeout=function(e,t,n=!0){const s=(0,a.useRef)(),[r,o]=(0,a.useState)(null);(0,a.useEffect)((()=>{s.current=e}),[e]),(0,a.useEffect)((()=>{if("start"!==r)return undefined;const e=setTimeout((()=>{s.current()}),t);return o(e),()=>{clearTimeout(r)}}),[t,r]);const i=(0,a.useCallback)((()=>{clearTimeout(r),o("start")}),[r]);n&&i();return i};var a=e("react")}}},{package:"$root$",file:"ui/hooks/useTimeout.js"}],[3931,{"../../shared/modules/transaction.utils":3256,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenData=function(e,t=!0){return(0,a.useMemo)((()=>t&&e?(0,s.parseStandardTokenTransactionData)(e):null),[t,e])};var a=e("react"),s=e("../../shared/modules/transaction.utils")}}},{package:"$root$",file:"ui/hooks/useTokenData.js"}],[3932,{"../../shared/lib/metamask-controller-utils":3234,"../../shared/lib/transactions-controller-utils":3239,"./useTokenData":3931,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenDisplayValue=function(e,t,n=!0){const i=(0,o.useTokenData)(e,n),c=(0,s.getTokenValueParam)(i),l=Boolean(n&&e&&t&&t.decimals&&c);return(0,a.useMemo)((()=>l?(0,r.calcTokenAmount)(c,t.decimals).toString(10):null),[l,c,t])};var a=e("react"),s=e("../../shared/lib/metamask-controller-utils"),r=e("../../shared/lib/transactions-controller-utils"),o=e("./useTokenData")}}},{package:"$root$",file:"ui/hooks/useTokenDisplayValue.js"}],[3933,{"../../shared/modules/string-utils":3254,"../ducks/metamask/metamask":3853,"../helpers/utils/token-util":3897,"../selectors":4266,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenFiatAmount=function(e,t,n,l={},u){var d,p;const m=(0,s.useSelector)(r.getTokenExchangeRates,s.shallowEqual),f=(0,s.useSelector)(i.getConversionRate),h=(0,s.useSelector)(r.getCurrentCurrency),g=(0,s.useSelector)(r.getShouldShowFiat),T=null!==(d=l.showFiat)&&void 0!==d?d:g,E=Object.keys(m).find((t=>(0,c.isEqualCaseInsensitive)(t,e))),_=null!==(p=l.exchangeRate)&&void 0!==p?p:E&&m[E],v=(0,a.useMemo)((()=>(0,o.getTokenFiatAmount)(_,f,h,t,n,!0,u)),[_,f,h,t,n,u]);if(!T||h.toUpperCase()===n)return undefined;return v};var a=e("react"),s=e("react-redux"),r=e("../selectors"),o=e("../helpers/utils/token-util"),i=e("../ducks/metamask/metamask"),c=e("../../shared/modules/string-utils")}}},{package:"$root$",file:"ui/hooks/useTokenFiatAmount.js"}],[3934,{"../../shared/constants/time":3229,"../../shared/modules/string-utils":3254,"../selectors":4266,"./useEqualityCheck":3917,"@metamask/eth-token-tracker":1043,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTokenTracker=function(e,t=!1,n=!1){const a=(0,o.useSelector)(i.getCurrentChainId),d=(0,o.useSelector)(i.getSelectedAddress,o.shallowEqual),[p,m]=(0,s.useState)((()=>(null==e?void 0:e.length)>=0)),[f,h]=(0,s.useState)([]),[g,T]=(0,s.useState)(null),E=(0,s.useRef)(null),_=(0,u.useEqualityCheck)(e),v=(0,s.useCallback)((e=>{const t=(n?e.filter((e=>Number(e.balance)>0)):e).map((e=>{const t=_.find((t=>(0,l.isEqualCaseInsensitive)(t.address,e.address)));return{...e,isERC721:null==t?void 0:t.isERC721,image:null==t?void 0:t.image}}));h(t),m(!1),T(null)}),[n,_]),y=(0,s.useCallback)((e=>{T(e),m(!1)}),[]),A=(0,s.useCallback)((()=>{E.current&&(E.current.stop(),E.current.removeAllListeners("update"),E.current.removeAllListeners("error"),E.current=null)}),[]),S=(0,s.useCallback)(((e,n)=>{A(),E.current=new r.default({userAddress:e,provider:global.ethereumProvider,tokens:n,includeFailedTokens:t,pollingInterval:8*c.SECOND,balanceDecimals:5}),E.current.on("update",v),E.current.on("error",y),E.current.updateBalances()}),[v,t,y,A]);return(0,s.useEffect)((()=>A),[A]),(0,s.useEffect)((()=>{m(!0),d&&a!==undefined&&global.ethereumProvider?(0===_.length&&v([]),S(d,_)):A()}),[d,A,a,_,v,S]),{loading:p,tokensWithBalances:f,error:g}};var a,s=e("react"),r=(a=e("@metamask/eth-token-tracker"))&&a.__esModule?a:{default:a},o=e("react-redux"),i=e("../selectors"),c=e("../../shared/constants/time"),l=e("../../shared/modules/string-utils"),u=e("./useEqualityCheck")}}},{package:"$root$",file:"ui/hooks/useTokenTracker.js"}],[3935,{"../../shared/constants/network":3224,"../../shared/constants/swaps":3228,"../../shared/modules/hexstring-utils":3247,"../../shared/modules/swaps.utils":3255,"../ducks/metamask/metamask":3853,"../ducks/swaps/swaps":3857,"../helpers/utils/token-util":3897,"../selectors":4266,"./useEqualityCheck":3917,"@metamask/assets-controllers":956,"bignumber.js":1642,lodash:2735,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRenderableTokenData=E,n.useTokensToSearch=function({usersTokens:e=[],topTokens:t={},shuffledTokensList:n,tokenBucketPriority:a=h.TOKEN_BUCKET_PRIORITY.OWNED}){const c=(0,r.useSelector)(u.getCurrentChainId),l=(0,r.useSelector)(u.getTokenExchangeRates,i.isEqual),f=(0,r.useSelector)(d.getConversionRate),g=(0,r.useSelector)(u.getCurrentCurrency),_=(0,r.useSelector)(u.getSwapsDefaultToken,r.shallowEqual),v=(0,r.useSelector)(u.getTokenList,i.isEqual),y=(0,T.useEqualityCheck)(t),A=(0,T.useEqualityCheck)(e),S=E(_,l,f,g,c,v),k=(0,T.useEqualityCheck)(S),O=(0,r.useSelector)(p.getSwapsTokens,i.isEqual)||[],N=O.length?O:[k,...n.filter((e=>e.symbol!==k.symbol))],b=(0,T.useEqualityCheck)(N);return(0,s.useMemo)((()=>{const e=A.reduce(((e,t)=>({...e,[t.address.toLowerCase()]:t})),{}),t={owned:[],top:[],others:[]};return(0,i.uniqBy)([k,...b,...A],(e=>e.address.toLowerCase())).forEach((n=>{const s=E({...e[n.address.toLowerCase()],...n},l,f,g,c,v);a===h.TOKEN_BUCKET_PRIORITY.OWNED?(0,m.isSwapsDefaultTokenSymbol)(s.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(s):y[n.address.toLowerCase()]?t.top[y[n.address.toLowerCase()].index]=s:t.others.push(s):y[n.address.toLowerCase()]?t.top[y[n.address.toLowerCase()].index]=s:(0,m.isSwapsDefaultTokenSymbol)(s.symbol,c)||e[n.address.toLowerCase()]?t.owned.push(s):t.others.push(s)})),t.owned=t.owned.sort((({rawFiat:e},{rawFiat:t})=>new o.default(e||0).gt(t||0)?-1:1)),t.top=t.top.filter(Boolean),a===h.TOKEN_BUCKET_PRIORITY.OWNED?[...t.owned,...t.top,...t.others]:[...t.top,...t.owned,...t.others]}),[b,A,y,l,f,g,k,c,v,a])};var a,s=e("react"),r=e("react-redux"),o=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("lodash"),c=e("@metamask/assets-controllers"),l=e("../helpers/utils/token-util"),u=e("../selectors"),d=e("../ducks/metamask/metamask"),p=e("../ducks/swaps/swaps"),m=e("../../shared/modules/swaps.utils"),f=e("../../shared/modules/hexstring-utils"),h=e("../../shared/constants/swaps"),g=e("../../shared/constants/network"),T=e("./useEqualityCheck");function E(e,t,n,a,s,r){var i,u;const{symbol:d,name:p,address:h,iconUrl:T,string:E,balance:_,decimals:v}=e;let y;(0,m.isSwapsDefaultTokenSymbol)(d,s)?y=1:E&&n>0&&(y=t[(0,f.toChecksumHexAddress)(h)]);const A=(0,l.getTokenFiatAmount)(y,n,a,E,d,!0)||"",S=A?(0,l.getTokenFiatAmount)(y,n,a,E,d,!1):"",k=s===g.CHAIN_IDS.GOERLI?g.CHAIN_IDS.MAINNET:s,O=(d===g.CURRENCY_SYMBOLS.ETH&&s===g.CHAIN_IDS.MAINNET||d===g.CURRENCY_SYMBOLS.ETH&&s===g.CHAIN_IDS.GOERLI||d===g.CURRENCY_SYMBOLS.BNB&&s===g.CHAIN_IDS.BSC||d===g.CURRENCY_SYMBOLS.MATIC&&s===g.CHAIN_IDS.POLYGON||d===g.CURRENCY_SYMBOLS.AVALANCHE&&s===g.CHAIN_IDS.AVALANCHE||d===g.CURRENCY_SYMBOLS.ETH&&s===g.CHAIN_IDS.OPTIMISM||d===g.CURRENCY_SYMBOLS.ETH&&s===g.CHAIN_IDS.ARBITRUM?T:(0,c.formatIconUrlWithProxy)({chainId:k,tokenAddress:h||""}))||(null==e?void 0:e.image);return{...e,primaryLabel:d,secondaryLabel:p||(null===(i=r[null==h?void 0:h.toLowerCase()])||void 0===i?void 0:i.name),rightPrimaryLabel:E&&`${new o.default(E).round(6).toString()} ${d}`,rightSecondaryLabel:A,iconUrl:O,identiconAddress:O?null:h,balance:_,decimals:v,name:p||(null===(u=r[null==h?void 0:h.toLowerCase()])||void 0===u?void 0:u.name),rawFiat:S}}}}},{package:"$root$",file:"ui/hooks/useTokensToSearch.js"}],[3936,{"../../shared/constants/transaction":3231,"../../shared/lib/metamask-controller-utils":3234,"../../shared/modules/string-utils":3254,"../ducks/metamask/metamask":3853,"../helpers/constants/common":3859,"../helpers/constants/transactions":3867,"../helpers/utils/common.util":3880,"../helpers/utils/token-util":3897,"../helpers/utils/transactions.util":3898,"../helpers/utils/util":3900,"../selectors/selectors":4269,"../store/actions":4273,"./useCurrencyDisplay":3915,"./useCurrentAsset":3916,"./useI18nContext":3920,"./useSwappedTokenValue":3929,"./useTokenData":3931,"./useTokenDisplayValue":3932,"./useTokenFiatAmount":3933,"./useUserPreferencedCurrency":3938,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionDisplayData=function(e){var t,n,O,N,b;const w=(0,a.useDispatch)(),R=(0,S.useCurrentAsset)(),C=(0,a.useSelector)(d.getTokens),P=(0,a.useSelector)(d.getCollectibles),I=(0,g.useI18nContext)(),{initialTransaction:M,primaryTransaction:x}=e,{type:D}=M,{from:F,to:L}=M.txParams||{},U=(0,a.useSelector)((e=>{var t;return(0,s.getKnownMethodData)(e,null==M||null===(t=M.txParams)||void 0===t?void 0:t.data)}))||{},G=(0,r.getStatusKey)(x),j=G in u.PENDING_STATUS_HASH,$=G===p.TransactionStatus.submitted,W=null===(t=x.txParams)||void 0===t?void 0:t.value,H=(0,l.formatDateWithYearContext)(M.time);let B,V="-",q=!1,Y=L;const K=u.TOKEN_CATEGORY_HASH[D],z=K&&C.find((({address:e})=>(0,f.isEqualCaseInsensitive)(e,Y))),Q=(0,y.useTokenData)(null==M||null===(n=M.txParams)||void 0===n?void 0:n.data,K),X=null!==(O=(0,c.getTokenIdParam)(Q))&&void 0!==O?O:(0,h.getTokenValueParam)(Q),Z=K&&P.find((({address:e,tokenId:t})=>(0,f.isEqualCaseInsensitive)(e,Y)&&t===X)),J=(0,v.useTokenDisplayValue)(null==M||null===(N=M.txParams)||void 0===N?void 0:N.data,z,K),ee=(0,T.useTokenFiatAmount)(null==z?void 0:z.address,J,null==z?void 0:z.symbol),te=(0,l.stripHttpSchemes)(M.origin||(null===(b=M.msgParams)||void 0===b?void 0:b.origin)||"");let ne,ae,se=K?null==z?void 0:z.symbol:undefined,re=K?J:undefined,oe=K?ee:undefined;const{swapTokenValue:ie,isNegative:ce,swapTokenFiatAmount:le,isViewingReceivedTokenFromSwap:ue}=(0,A.useSwappedTokenValue)(e,R);if(k.includes(D))ne=p.TransactionGroupCategory.signatureRequest,ae=I("signatureRequest"),B=te,q=!0;else if(D===p.TransactionType.swap)ne=p.TransactionGroupCategory.swap,ae=I("swapTokenToToken",[M.sourceTokenSymbol,M.destinationTokenSymbol]),B=te,q=!0,se=ue?R.symbol:M.sourceTokenSymbol,re=ie,oe=le,V=ce?"":ue?"+":"-";else if(D===p.TransactionType.swapApproval)ne=p.TransactionGroupCategory.approval,ae=I("swapApproval",[x.sourceTokenSymbol]),B=te,q=!0,se=x.sourceTokenSymbol;else if(D===p.TransactionType.tokenMethodApprove)ne=p.TransactionGroupCategory.approval,V="",ae=I("approveSpendLimit",[(null==z?void 0:z.symbol)||I("token")]),B=te,q=!0;else if(D===p.TransactionType.tokenMethodSetApprovalForAll)ne=p.TransactionGroupCategory.approval,V="",ae=I("setApprovalForAllTitle",[(null==z?void 0:z.symbol)||I("token")]),B=te,q=!0;else if(D===p.TransactionType.contractInteraction){ne=p.TransactionGroupCategory.interaction;const e=(0,r.getTransactionTypeTitle)(I,D);ae=(null==U?void 0:U.name)&&(0,o.camelCaseToCapitalize)(U.name)||e,B=te,q=!0}else D===p.TransactionType.deployContract?(ne=p.TransactionGroupCategory.interaction,ae=(0,r.getTransactionTypeTitle)(I,D),B=te,q=!0):D===p.TransactionType.incoming?(ne=p.TransactionGroupCategory.receive,ae=I("receive"),V="",B=I("fromAddress",[(0,l.shortenAddress)(F)])):D===p.TransactionType.tokenMethodTransferFrom||D===p.TransactionType.tokenMethodTransfer?(ne=p.TransactionGroupCategory.send,ae=I("sendSpecifiedTokens",[(null==z?void 0:z.symbol)||(null==Z?void 0:Z.name)||I("token")]),Y=(0,c.getTokenAddressParam)(Q),B=I("toAddress",[(0,l.shortenAddress)(Y)])):D===p.TransactionType.tokenMethodSafeTransferFrom?(ne=p.TransactionGroupCategory.send,ae=I("safeTransferFrom"),Y=(0,c.getTokenAddressParam)(Q),B=I("toAddress",[(0,l.shortenAddress)(Y)])):D===p.TransactionType.simpleSend?(ne=p.TransactionGroupCategory.send,ae=I("send"),B=I("toAddress",[(0,l.shortenAddress)(Y)])):w((0,m.captureSingleException)(`useTransactionDisplayData does not recognize transaction type. Type received is: ${D}`));const de=(0,E.useUserPreferencedCurrency)(i.PRIMARY),pe=(0,E.useUserPreferencedCurrency)(i.SECONDARY),[me]=(0,_.useCurrencyDisplay)(W,{prefix:V,displayValue:re,suffix:se,...de}),[fe]=(0,_.useCurrencyDisplay)(W,{prefix:V,displayValue:oe,hideLabel:K||Boolean(ie),...pe});return{title:ae,category:ne,date:H,subtitle:B,subtitleContainsOrigin:q,primaryCurrency:D===p.TransactionType.swap&&j?"":me,senderAddress:F,recipientAddress:Y,secondaryCurrency:K&&!ee||D===p.TransactionType.swap&&!le?undefined:fe,displayedStatusKey:G,isPending:j,isSubmitted:$}};var a=e("react-redux"),s=e("../selectors/selectors"),r=e("../helpers/utils/transactions.util"),o=e("../helpers/utils/common.util"),i=e("../helpers/constants/common"),c=e("../helpers/utils/token-util"),l=e("../helpers/utils/util"),u=e("../helpers/constants/transactions"),d=e("../ducks/metamask/metamask"),p=e("../../shared/constants/transaction"),m=e("../store/actions"),f=e("../../shared/modules/string-utils"),h=e("../../shared/lib/metamask-controller-utils"),g=e("./useI18nContext"),T=e("./useTokenFiatAmount"),E=e("./useUserPreferencedCurrency"),_=e("./useCurrencyDisplay"),v=e("./useTokenDisplayValue"),y=e("./useTokenData"),A=e("./useSwappedTokenValue"),S=e("./useCurrentAsset");const k=[null,undefined,p.TransactionType.sign,p.TransactionType.personalSign,p.TransactionType.signTypedData,p.TransactionType.ethDecrypt,p.TransactionType.ethGetEncryptionPublicKey]}}},{package:"$root$",file:"ui/hooks/useTransactionDisplayData.js"}],[3937,{"../../shared/constants/transaction":3231,"../contexts/gasFee":3837,"../selectors":4266,"../store/actions":4273,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useTransactionEventFragment=void 0;var a=e("react"),s=e("react-redux"),r=e("../contexts/gasFee"),o=e("../store/actions"),i=e("../selectors"),c=e("../../shared/constants/transaction");n.useTransactionEventFragment=()=>{const{transaction:e}=(0,r.useGasFeeContext)(),t=(0,s.useSelector)((t=>(0,i.selectMatchingFragment)(t,{fragmentOptions:{},existingId:`transaction-added-${null==e?void 0:e.id}`})));return{updateTransactionEventFragment:(0,a.useCallback)((async n=>{e&&e.id&&(t||await(0,o.createTransactionEventFragment)(e.id,c.TransactionMetaMetricsEvent.approved),(0,o.updateEventFragment)(`transaction-added-${e.id}`,n))}),[t,e])}}}}},{package:"$root$",file:"ui/hooks/useTransactionEventFragment.js"}],[3938,{"../ducks/metamask/metamask":3853,"../helpers/constants/common":3859,"../selectors":4266,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={}){const n=(0,a.useSelector)(r.getNativeCurrency),{useNativeCurrencyAsPrimaryCurrency:i}=(0,a.useSelector)(s.getPreferences,a.shallowEqual),c=(0,a.useSelector)(s.getShouldShowFiat)||t.showFiatOverride,l=(0,a.useSelector)(s.getCurrentCurrency);let u,d;!c||e===o.PRIMARY&&i||e===o.SECONDARY&&!i?(u=n||o.ETH,d=t.numberOfDecimals||t.ethNumberOfDecimals||8):(e===o.SECONDARY&&i||e===o.PRIMARY&&!i)&&(u=l,d=t.numberOfDecimals||t.fiatNumberOfDecimals||2);return{currency:u,numberOfDecimals:d}};var a=e("react-redux"),s=e("../selectors"),r=e("../ducks/metamask/metamask"),o=e("../helpers/constants/common")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[3939,{"../app/scripts/lib/setupSentry":83,"../app/scripts/lib/util":86,"../shared/constants/alerts":3217,"../shared/constants/app":3218,"../shared/lib/error-utils":3232,"../shared/lib/switch-direction":3237,"../shared/modules/object.utils":3250,"./ducks/alerts":3842,"./ducks/metamask/metamask":3853,"./helpers/utils/tx-helper":3899,"./pages":4067,"./selectors":4266,"./store/action-queue":4271,"./store/actions":4273,"./store/store":4274,"copy-to-clipboard":1819,lodash:2735,loglevel:2750,react:3037,"react-dom":2937,"webextension-polyfill":3202},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){const{backgroundConnection:n}=e;n.getState((function(a,s){a?t(a,s):async function(e,t,n){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:a,enLocaleMessages:s}=await(0,h.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&await(0,f.default)("rtl");const r={activeTab:n.activeTab,metamask:e,appState:{},localeMessages:{current:a,en:s}};if(b(t),(0,l.getEnvironmentType)()===m.ENVIRONMENT_TYPE_POPUP){const{origin:e}=r.activeTab,t=(0,E.getPermittedAccountsForCurrentTab)(r),n=(0,E.getSelectedAddress)(r),a=(0,v.getUnconnectedAccountAlertShown)(r),s=(0,v.getUnconnectedAccountAlertEnabledness)(r);e&&s&&!a[e]&&t.length>0&&!t.includes(n)&&(r[u.ALERT_TYPES.unconnectedAccount]={state:_.ALERT_STATE.OPEN},g.setUnconnectedAccountAlertShown(e))}const c=(0,T.default)(r);N=c;const d=(0,A.default)(e.unapprovedTxs,e.unapprovedMsgs,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.network,e.provider.chainId);d.length>0&&c.dispatch(g.showConfTxPage({id:d[0].id}));return global.metamask={updateCurrentLocale:e=>{c.dispatch(g.updateCurrentLocale(e))},setProviderType:e=>{c.dispatch(g.setProviderType(e))},setFeatureFlag:(e,t)=>{c.dispatch(g.setFeatureFlag(e,t))}},(0,i.render)(o.default.createElement(y.default,{store:c}),n.container),c}(s,n,e).then((e=>{!function(e){window.stateHooks.getCleanAppState=async function(){const t=(0,r.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t.completeTxList=await g.getTransactions({filterToCurrentNetwork:!1}),t},window.stateHooks.getSentryState=function(){const t=e.getState(),n=(0,d.maskObject)(t,p.SENTRY_STATE);return{browser:window.navigator.userAgent,store:n,version:global.platform.getVersion()}}}(e),t(null,e)}))}))},n.updateBackgroundConnection=void 0;var a=O(e("copy-to-clipboard")),s=O(e("loglevel")),r=e("lodash"),o=O(e("react")),i=e("react-dom"),c=O(e("webextension-polyfill")),l=e("../app/scripts/lib/util"),u=e("../shared/constants/alerts"),d=e("../shared/modules/object.utils"),p=e("../app/scripts/lib/setupSentry"),m=e("../shared/constants/app"),f=O(e("../shared/lib/switch-direction")),h=e("../shared/lib/error-utils"),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("./store/actions")),T=O(e("./store/store")),E=e("./selectors"),_=e("./ducks/alerts"),v=e("./ducks/metamask/metamask"),y=O(e("./pages")),A=O(e("./helpers/utils/tx-helper")),S=e("./store/action-queue");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function O(e){return e&&e.__esModule?e:{default:e}}let N;s.default.setLevel(global.METAMASK_DEBUG?"debug":"warn");const b=e=>{(0,S._setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);N.dispatch(g.updateMetamaskState(e.params[0]))}))};n.updateBackgroundConnection=b,window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState();c.default.runtime.getPlatformInfo().then((n=>{t.platform=n;const a=JSON.stringify(t,null,2);e(null,a)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,a.default)(n),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$",file:"ui/index.js"}],[3940,{"../../../shared/constants/metametrics":3223,"../../../shared/constants/transaction":3231,"../../components/app/collectibles-detection-notice":3313,"../../components/ui/actionable-message":3663,"../../components/ui/box":3666,"../../components/ui/form-field":3702,"../../components/ui/page-container":3781,"../../components/ui/typography":3830,"../../contexts/metametrics":3839,"../../ducks/metamask/metamask":3853,"../../helpers/constants/design-system":3861,"../../helpers/constants/routes":3865,"../../hooks/useI18nContext":3920,"../../selectors":4266,"../../store/actions":4273,"@metamask/controller-utils":978,react:3037,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e,t,n,A,S;const k=(0,i.useI18nContext)(),O=(0,s.useHistory)(),N=(0,r.useDispatch)(),b=(0,r.useSelector)(g.getUseNftDetection),w=(0,r.useSelector)(g.getIsMainnet),R=(0,r.useSelector)(T.getCollectiblesDetectionNoticeDismissed),C=(0,r.useSelector)(T.getCollectiblesDropdownState),P=(0,r.useSelector)(g.getSelectedAddress),I=(0,r.useSelector)(g.getCurrentChainId),M=null==O||null===(e=O.location)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.addressEnteredOnImportTokensPage,x=null==O||null===(n=O.location)||void 0===n||null===(A=n.state)||void 0===A?void 0:A.tokenAddress,[D,F]=(0,a.useState)(null!==(S=null!=M?M:x)&&void 0!==S?S:""),[L,U]=(0,a.useState)(""),[G,j]=(0,a.useState)(!0),[$,W]=(0,a.useState)(!1),H=(0,a.useContext)(_.MetaMetricsContext);return a.default.createElement(m.default,{title:k("importNFT"),onSubmit:()=>{(async()=>{try{var e;await N((0,f.addNftVerifyOwnership)(D,L));const t={...C,[P]:{...null==C?void 0:C[P],[I]:{...null==C||null===(e=C[P])||void 0===e?void 0:e[I],[D]:!0}}};N((0,f.updateCollectibleDropDownState)(t))}catch(e){const{message:t}=e;return N((0,f.setNewCollectibleAddedMessage)(t)),void W(!0)}x&&await N((0,f.ignoreTokens)({tokensToIgnore:x,dontShowLoadingIndicator:!0})),N((0,f.setNewCollectibleAddedMessage)("success"));const t=await(0,f.getTokenStandardAndDetails)(D,null,L.toString());H({event:y.EVENT_NAMES.TOKEN_ADDED,category:"Wallet",sensitiveProperties:{token_contract_address:D,token_symbol:null==t?void 0:t.symbol,tokenId:L.toString(),asset_type:v.AssetType.NFT,token_standard:null==t?void 0:t.standard,source:y.EVENT.SOURCE.TOKEN.CUSTOM}}),O.push(c.DEFAULT_ROUTE)})()},submitText:k("add"),onCancel:()=>{O.push(c.DEFAULT_ROUTE)},onClose:()=>{O.push(c.DEFAULT_ROUTE)},disabled:G,contentComponent:a.default.createElement(u.default,null,!w||b||R?null:a.default.createElement(E.default,null),$&&a.default.createElement(u.default,{marginLeft:4,marginRight:4},a.default.createElement(p.default,{type:"danger",useIcon:!0,iconFillColor:"var(--color-error-default)",message:a.default.createElement(u.default,{display:l.DISPLAY.INLINE_FLEX},a.default.createElement(d.default,{variant:l.TYPOGRAPHY.H7,fontWeight:l.FONT_WEIGHT.NORMAL,margin:0},k("collectibleAddFailedMessage")),a.default.createElement("button",{className:"fas fa-times add-collectible__close",title:k("close"),onClick:()=>W(!1)}))})),a.default.createElement(u.default,{margin:4},a.default.createElement(h.default,{dataTestId:"address",titleText:k("address"),placeholder:"0x...",value:D,onChange:e=>{(e=>{j(!(0,o.isValidHexAddress)(e)||!L),F(e)})(e),W(!1)},tooltipText:k("importNFTAddressToolTip"),autoFocus:!0}),a.default.createElement(h.default,{dataTestId:"token-id",titleText:k("tokenId"),placeholder:k("nftTokenIdPlaceholder"),value:L,onChange:e=>{(e=>{j(!(0,o.isValidHexAddress)(D)||!e||isNaN(Number(e))),U(e)})(e),W(!1)},tooltipText:k("importNFTTokenIdToolTip")})))})};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=e("react-router-dom"),r=e("react-redux"),o=e("@metamask/controller-utils"),i=e("../../hooks/useI18nContext"),c=e("../../helpers/constants/routes"),l=e("../../helpers/constants/design-system"),u=A(e("../../components/ui/box")),d=A(e("../../components/ui/typography")),p=A(e("../../components/ui/actionable-message")),m=A(e("../../components/ui/page-container")),f=e("../../store/actions"),h=A(e("../../components/ui/form-field")),g=e("../../selectors"),T=e("../../ducks/metamask/metamask"),E=A(e("../../components/app/collectibles-detection-notice")),_=e("../../contexts/metametrics"),v=e("../../../shared/constants/transaction"),y=e("../../../shared/constants/metametrics");function A(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/pages/add-collectible/add-collectible.js"}],[3941,{"./add-collectible":3940},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./add-collectible"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/add-collectible/index.js"}],[3942,{"../../../shared/modules/string-utils":3254,"../../components/app/collectible-details/collectible-details":3310,"../../ducks/metamask/metamask":3853,"../../helpers/constants/routes":3865,"./components/native-asset":3946,"./components/token-asset":3947,react:3037,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("../../../shared/modules/string-utils"),i=p(e("../../components/app/collectible-details/collectible-details")),c=e("../../ducks/metamask/metamask"),l=e("../../helpers/constants/routes"),u=p(e("./components/native-asset")),d=p(e("./components/token-asset"));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var f=()=>{const e=(0,s.useSelector)((e=>e.metamask.nativeCurrency)),t=(0,s.useSelector)(c.getTokens),n=(0,s.useSelector)(c.getCollectibles),{asset:p,id:m}=(0,r.useParams)(),f=t.find((({address:e})=>(0,o.isEqualCaseInsensitive)(e,p))),h=n.find((({address:e,tokenId:t})=>(0,o.isEqualCaseInsensitive)(e,p)&&m===t.toString()));let g;return(0,a.useEffect)((()=>{document.querySelector(".app").scroll(0,0)}),[]),g=h?a.default.createElement(i.default,{collectible:h}):f?a.default.createElement(d.default,{token:f}):p===e?a.default.createElement(u.default,{nativeCurrency:e}):a.default.createElement(r.Redirect,{to:{pathname:l.DEFAULT_ROUTE}}),a.default.createElement("div",{className:"main-container asset__container"},g)};n.default=f}}},{package:"$root$",file:"ui/pages/asset/asset.js"}],[3943,{"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("react")),s=r(e("prop-types"));function r(e){return e&&e.__esModule?e:{default:e}}const o=({accountName:e,assetName:t,onBack:n})=>a.default.createElement("button",{className:"asset-breadcrumb",onClick:n},a.default.createElement("i",{className:"fas fa-chevron-left asset-breadcrumb__chevron","data-testid":"asset__back"}),a.default.createElement("span",null,e)," / ",a.default.createElement("span",{className:"asset-breadcrumb__asset"},t));o.propTypes={accountName:s.default.string.isRequired,assetName:s.default.string.isRequired,onBack:s.default.func.isRequired};var i=o;n.default=i}}},{package:"$root$",file:"ui/pages/asset/components/asset-breadcrumb.js"}],[3944,{"./asset-breadcrumb":3943,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("react")),s=o(e("prop-types")),r=o(e("./asset-breadcrumb"));function o(e){return e&&e.__esModule?e:{default:e}}const i=({accountName:e,assetName:t,onBack:n,optionsButton:s})=>a.default.createElement("div",{className:"asset-navigation"},a.default.createElement(r.default,{accountName:e,assetName:t,onBack:n}),s);i.propTypes={accountName:s.default.string.isRequired,assetName:s.default.string.isRequired,onBack:s.default.func.isRequired,optionsButton:s.default.element},i.defaultProps={optionsButton:undefined};var c=i;n.default=c}}},{package:"$root$",file:"ui/pages/asset/components/asset-navigation.js"}],[3945,{"../../../components/ui/menu":3770,"../../../contexts/i18n":3838,"../../../helpers/constants/routes":3865,"../../../selectors":4266,"prop-types":2838,react:3037,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},o=e("react-router-dom"),i=e("react-redux"),c=e("../../../contexts/i18n"),l=e("../../../components/ui/menu"),u=e("../../../selectors"),d=e("../../../helpers/constants/routes");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=({onRemove:e,onClickBlockExplorer:t,onViewAccountDetails:n,onViewTokenDetails:a,tokenSymbol:r,isNativeAsset:p})=>{const m=(0,s.useContext)(c.I18nContext),[f,h]=(0,s.useState)(null),[g,T]=(0,s.useState)(!1),E=(0,o.useHistory)(),_=(0,i.useSelector)(u.getBlockExplorerLinkText);return s.default.createElement(s.default.Fragment,null,s.default.createElement("button",{className:"fas fa-ellipsis-v asset-options__button","data-testid":"asset-options__button",onClick:()=>T(!0),ref:h,title:m("assetOptions")}),g?s.default.createElement(l.Menu,{anchorElement:f,onHide:()=>T(!1)},s.default.createElement(l.MenuItem,{iconClassName:"fas fa-qrcode","data-testid":"asset-options__account-details",onClick:()=>{T(!1),n()}},m("accountDetails")),s.default.createElement(l.MenuItem,{iconClassName:"fas fa-external-link-alt asset-options__icon","data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===_.firstPart?()=>{E.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{T(!1),t()}},m(_.firstPart,""===_.secondPart?null:[m("blockExplorerAssetAction")])),p?null:s.default.createElement(l.MenuItem,{iconClassName:"fas fa-trash-alt asset-options__icon","data-testid":"asset-options__hide",onClick:()=>{T(!1),e()}},m("hideTokenSymbol",[r])),p?null:s.default.createElement(l.MenuItem,{iconClassName:"fas fa-info-circle asset-options__icon","data-testid":"asset-options__token-details",onClick:()=>{T(!1),a()}},m("tokenDetails"))):null)},f=e=>"function"!=typeof e;m.propTypes={isNativeAsset:r.default.bool,onClickBlockExplorer:r.default.func.isRequired,onViewAccountDetails:r.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&f(e.onRemove))throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:e=>{if(!1===e.isNativeAsset&&f(e.onViewTokenDetails))throw new Error("When isNativeAsset is true, onViewTokenDetails is a required prop")},tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};var h=m;n.default=h}}},{package:"$root$",file:"ui/pages/asset/components/asset-options.js"}],[3946,{"../../../../shared/constants/metametrics":3223,"../../../components/app/transaction-list":3574,"../../../components/app/wallet-overview":3586,"../../../contexts/metametrics":3839,"../../../helpers/constants/routes":3865,"../../../helpers/utils/util":3900,"../../../selectors/selectors":4269,"../../../store/actions":4273,"./asset-navigation":3944,"./asset-options":3945,"@metamask/etherscan-link":1064,"prop-types":2838,react:3037,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=E(e("prop-types")),r=e("react-redux"),o=e("react-router-dom"),i=e("@metamask/etherscan-link"),c=E(e("../../../components/app/transaction-list")),l=e("../../../components/app/wallet-overview"),u=e("../../../selectors/selectors"),d=e("../../../store/actions"),p=e("../../../helpers/constants/routes"),m=e("../../../helpers/utils/util"),f=e("../../../contexts/metametrics"),h=e("../../../../shared/constants/metametrics"),g=E(e("./asset-navigation")),T=E(e("./asset-options"));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v({nativeCurrency:e}){const t=(0,r.useSelector)((e=>(0,u.getSelectedIdentity)(e).name)),n=(0,r.useDispatch)(),s=(0,r.useSelector)(u.getCurrentChainId),E=(0,r.useSelector)(u.getRpcPrefsForCurrentProvider),_=(0,r.useSelector)(u.getSelectedAddress),v=(0,o.useHistory)(),y=(0,i.getAccountLink)(_,s,E),A=(0,a.useContext)(f.MetaMetricsContext),S=(0,r.useSelector)(u.getIsCustomNetwork);return a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{accountName:t,assetName:e,onBack:()=>v.push(p.DEFAULT_ROUTE),optionsButton:a.default.createElement(T.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{A({event:"Clicked Block Explorer Link",category:h.EVENT.CATEGORIES.NAVIGATION,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,m.getURLHostName)(y)}}),global.platform.openTab({url:y})},onViewAccountDetails:()=>{n((0,d.showModal)({name:"ACCOUNT_DETAILS"}))},isCustomNetwork:S})}),a.default.createElement(l.EthOverview,{className:"asset__overview"}),a.default.createElement(c.default,{hideTokenTransactions:!0}))}v.propTypes={nativeCurrency:s.default.string.isRequired}}}},{package:"$root$",file:"ui/pages/asset/components/native-asset.js"}],[3947,{"../../../../shared/constants/metametrics":3223,"../../../components/app/transaction-list":3574,"../../../components/app/wallet-overview":3586,"../../../contexts/metametrics":3839,"../../../helpers/constants/routes":3865,"../../../helpers/utils/util":3900,"../../../selectors/selectors":4269,"../../../store/actions":4273,"./asset-navigation":3944,"./asset-options":3945,"@metamask/etherscan-link":1064,"prop-types":2838,react:3037,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=E(e("prop-types")),r=e("react-redux"),o=e("react-router-dom"),i=e("@metamask/etherscan-link"),c=E(e("../../../components/app/transaction-list")),l=e("../../../components/app/wallet-overview"),u=e("../../../selectors/selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../helpers/utils/util"),m=e("../../../store/actions"),f=e("../../../contexts/metametrics"),h=e("../../../../shared/constants/metametrics"),g=E(e("./asset-navigation")),T=E(e("./asset-options"));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v({token:e}){const t=(0,r.useDispatch)(),n=(0,r.useSelector)(u.getCurrentChainId),s=(0,r.useSelector)(u.getRpcPrefsForCurrentProvider),E=(0,r.useSelector)(u.getSelectedIdentity),_=E.name,v=E.address,y=(0,o.useHistory)(),A=(0,i.getTokenTrackerLink)(e.address,n,null,v,s),S=(0,a.useContext)(f.MetaMetricsContext),k=(0,r.useSelector)(u.getIsCustomNetwork);return a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{accountName:_,assetName:e.symbol,onBack:()=>y.push(d.DEFAULT_ROUTE),optionsButton:a.default.createElement(T.default,{onRemove:()=>t((0,m.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:y})),isCustomNetwork:k,onClickBlockExplorer:()=>{S({event:"Clicked Block Explorer Link",category:h.EVENT.CATEGORIES.NAVIGATION,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,p.getURLHostName)(A)}}),global.platform.openTab({url:A})},onViewAccountDetails:()=>{t((0,m.showModal)({name:"ACCOUNT_DETAILS"}))},onViewTokenDetails:()=>{y.push(`${d.TOKEN_DETAILS}/${e.address}`)},tokenSymbol:e.symbol})}),a.default.createElement(l.TokenOverview,{className:"asset__overview",token:e}),a.default.createElement(c.default,{tokenAddress:e.address}))}v.propTypes={token:s.default.shape({address:s.default.string.isRequired,decimals:s.default.number,symbol:s.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/asset/components/token-asset.js"}],[3948,{"./asset":3942},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./asset"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/asset/index.js"}],[3949,{"../../../shared/constants/metametrics":3223,"../../../shared/constants/transaction":3231,"../../../shared/modules/string-utils":3254,"../../components/ui/actionable-message/actionable-message":3662,"../../components/ui/button":3670,"../../components/ui/identicon":3744,"../../components/ui/token-balance":3821,"../../contexts/i18n":3838,"../../contexts/metametrics":3839,"../../ducks/history/history":3850,"../../ducks/metamask/metamask":3853,"../../helpers/constants/zendesk-url":3868,"../../selectors":4266,"../../store/actions":4273,react:3037,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=v(e("../../components/ui/actionable-message/actionable-message")),i=v(e("../../components/ui/button")),c=v(e("../../components/ui/identicon")),l=v(e("../../components/ui/token-balance")),u=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),p=e("../../ducks/history/history"),m=e("../../ducks/metamask/metamask"),f=v(e("../../helpers/constants/zendesk-url")),h=e("../../../shared/modules/string-utils"),g=e("../../selectors"),T=e("../../store/actions"),E=e("../../../shared/constants/metametrics"),_=e("../../../shared/constants/transaction");function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var A=()=>{const e=(0,a.useContext)(u.I18nContext),t=(0,s.useDispatch)(),n=(0,r.useHistory)(),v=(0,s.useSelector)(p.getMostRecentOverviewPage),y=(0,s.useSelector)(g.getSuggestedAssets),A=(0,s.useSelector)(m.getTokens),S=(0,a.useContext)(d.MetaMetricsContext),k=(0,a.useMemo)((()=>function(e,t){const n=e.find((({asset:e})=>{const n=t.find((({address:t})=>(0,h.isEqualCaseInsensitive)(t,e.address)));return Boolean(n)}));return Boolean(n)}(y,A)&&a.default.createElement(o.default,{message:e("knownTokenWarning",[a.default.createElement(i.default,{type:"link",key:"confirm-add-suggested-token-duplicate-warning",className:"confirm-add-suggested-token__link",rel:"noopener noreferrer",target:"_blank",href:f.default.TOKEN_SAFETY_PRACTICES},e("learnScamRisk"))]),type:"warning",withRightButton:!0,useIcon:!0,iconFillColor:"#f8c000"})),[y,A,e]),O=(0,a.useMemo)((()=>function(e,t){const n=e.find((({asset:e})=>{const n=t.find((t=>(0,h.isEqualCaseInsensitive)(t.symbol,e.symbol)&&!(0,h.isEqualCaseInsensitive)(t.address,e.address)));return Boolean(n)}));return Boolean(n)}(y,A)&&a.default.createElement(o.default,{message:e("reusedTokenNameWarning"),type:"warning",withRightButton:!0,useIcon:!0,iconFillColor:"#f8c000"})),[y,A,e]),N=(0,a.useCallback)((async()=>{await Promise.all(y.map((async({asset:e,id:n})=>{await t((0,T.acceptWatchAsset)(n)),S({event:E.EVENT_NAMES.TOKEN_ADDED,category:E.EVENT.CATEGORIES.WALLET,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:E.EVENT.SOURCE.TOKEN.DAPP,token_standard:_.TokenStandard.ERC20,asset_type:_.AssetType.token}})}))),n.push(v)}),[t,n,S,v,y]);return(0,a.useEffect)((()=>{y.length||n.push(v)}),[]),a.default.createElement("div",{className:"page-container"},a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},e("addSuggestedTokens")),a.default.createElement("div",{className:"page-container__subtitle"},e("likeToImportTokens")),k,O),a.default.createElement("div",{className:"page-container__content"},a.default.createElement("div",{className:"confirm-add-suggested-token"},a.default.createElement("div",{className:"confirm-add-suggested-token__header"},a.default.createElement("div",{className:"confirm-add-suggested-token__token"},e("token")),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},e("balance"))),a.default.createElement("div",{className:"confirm-add-suggested-token__token-list"},y.map((({asset:e})=>{return a.default.createElement("div",{className:"confirm-add-suggested-token__token-list-item",key:e.address},a.default.createElement("div",{className:"confirm-add-suggested-token__token confirm-add-suggested-token__data"},a.default.createElement(c.default,{className:"confirm-add-suggested-token__token-icon",diameter:48,address:e.address,image:e.image}),a.default.createElement("div",{className:"confirm-add-suggested-token__name"},(t=e.name,n=e.symbol,t===undefined?n:`${t} (${n})`))),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},a.default.createElement(l.default,{token:e})));var t,n}))))),a.default.createElement("div",{className:"page-container__footer"},a.default.createElement("footer",null,a.default.createElement(i.default,{type:"secondary",large:!0,className:"page-container__footer-button",onClick:async()=>{await Promise.all(y.map((({id:e})=>t((0,T.rejectWatchAsset)(e))))),n.push(v)}},e("cancel")),a.default.createElement(i.default,{type:"primary",large:!0,className:"page-container__footer-button",disabled:0===y.length,onClick:N},e("addToken")))))};n.default=A}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/confirm-add-suggested-token.js"}],[3950,{"./confirm-add-suggested-token":3949},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-add-suggested-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/index.js"}],[3951,{"../../../../shared/constants/network":3224,"../../../../shared/constants/time":3229,"../../../../shared/constants/transaction":3231,"../../../components/app/confirm-page-container/confirm-page-container-content":3325,"../../../components/app/edit-gas-fee-button":3371,"../../../components/app/gas-details-item":3389,"../../../components/app/ledger-instruction-field":3396,"../../../components/app/modals/contract-details-modal/contract-details-modal":3435,"../../../components/app/multilayer-fee-message":3467,"../../../components/ui/box":3666,"../../../components/ui/button":3670,"../../../components/ui/icon/copy-icon.component":3712,"../../../components/ui/identicon":3744,"../../../components/ui/simulation-error-message":3800,"../../../components/ui/typography":3830,"../../../components/ui/url-icon":3835,"../../../helpers/constants/design-system":3861,"../../../helpers/utils/confirm-tx.util":3881,"../../../helpers/utils/util":3900,"../../send/send.utils":4142,"@metamask/etherscan-link":1064,classnames:1767,"copy-to-clipboard":1819,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=w(e("prop-types")),r=w(e("classnames")),o=w(e("copy-to-clipboard")),i=e("@metamask/etherscan-link"),c=w(e("../../../components/ui/url-icon")),l=e("../../../helpers/utils/util"),u=e("../../../helpers/utils/confirm-tx.util"),d=e("../../send/send.utils"),p=w(e("../../../components/ui/typography")),m=w(e("../../../components/ui/box")),f=w(e("../../../components/ui/button")),h=w(e("../../../components/ui/simulation-error-message")),g=w(e("../../../components/app/edit-gas-fee-button")),T=w(e("../../../components/ui/identicon")),E=w(e("../../../components/app/multilayer-fee-message")),_=w(e("../../../components/ui/icon/copy-icon.component")),v=e("../../../helpers/constants/design-system"),y=e("../../../../shared/constants/time"),A=e("../../../components/app/confirm-page-container/confirm-page-container-content"),S=w(e("../../../components/app/gas-details-item")),k=w(e("../../../components/app/ledger-instruction-field")),O=e("../../../../shared/constants/transaction"),N=e("../../../../shared/constants/network"),b=w(e("../../../components/app/modals/contract-details-modal/contract-details-modal"));function w(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends a.Component{constructor(...e){super(...e),C(this,"state",{showFullTxDetails:!1,copied:!1,setShowContractDetails:!1})}renderApproveContentCard({showHeader:e=!0,symbol:t,title:n,showEdit:s,showAdvanceGasFeeOptions:o=!1,onEditClick:i,content:c,footer:l,noBorder:u}){const{supportsEIP1559:d,renderSimulationFailureWarning:p,userAcknowledgedGasMissing:h}=this.props,{t:T}=this.context;return a.default.createElement("div",{className:(0,r.default)({"confirm-approve-content__card":!u,"confirm-approve-content__card--no-border":u})},e&&a.default.createElement("div",{className:"confirm-approve-content__card-header"},d&&n===T("transactionFee")?null:a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-approve-content__card-header__symbol"},t),a.default.createElement("div",{className:"confirm-approve-content__card-header__title"},n)),s&&(!o||!d)&&a.default.createElement(m.default,{width:v.BLOCK_SIZES.ONE_SIXTH},a.default.createElement(f.default,{type:"link",className:"confirm-approve-content__small-blue-text",onClick:()=>i()},T("edit"))),s&&o&&d&&!p&&a.default.createElement(g.default,{userAcknowledgedGasMissing:h})),a.default.createElement("div",{className:"confirm-approve-content__card-content"},c),l)}renderTransactionDetailsContent(){const{t:e}=this.context,{currentCurrency:t,nativeCurrency:n,ethTransactionTotal:s,fiatTransactionTotal:r,hexTransactionTotal:o,txData:i,isMultiLayerFeeNetwork:c,supportsEIP1559:l,userAcknowledgedGasMissing:d,renderSimulationFailureWarning:p}=this.props;return c||!l||p?a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content"},c?a.default.createElement("div",{className:"confirm-approve-content__transaction-details-extra-content"},a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content__labelled-fee"},a.default.createElement("span",null,e("transactionDetailLayer2GasHeading")),`${s} ${n}`),a.default.createElement(E.default,{transaction:i,layer2fee:o,nativeCurrency:n,plainStyle:!0})):a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-approve-content__small-text"},e("feeAssociatedRequest")),a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content__fee"},a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content__primary-fee"},(0,u.formatCurrency)(r,t)),a.default.createElement("div",{className:"confirm-approve-content__transaction-details-content__secondary-fee"},`${s} ${n}`)))):a.default.createElement(S.default,{userAcknowledgedGasMissing:d})}renderERC721OrERC1155PermissionContent(){const{t:e}=this.context,{origin:t,toAddress:n,isContract:s,isSetApproveForAll:r}=this.props,i=this.getTitleTokenDescription(),c=s?`${e("contract")} (${(0,l.addressSummary)(n)})`:(0,l.addressSummary)(n);return a.default.createElement("div",{className:"flex-column"},a.default.createElement("div",{className:"confirm-approve-content__small-text"},e("accessAndSpendNoticeNFT",[t])),a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"confirm-approve-content__label"},e("approvedAsset"),":"),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},r?e("allOfYour",[i]):i)),a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"confirm-approve-content__label"},e("grantedToWithColon")),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},c),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},a.default.createElement(f.default,{type:"link",className:"confirm-approve-content__copy-address",onClick:()=>{this.setState({copied:!0}),this.copyTimeout=setTimeout((()=>this.setState({copied:!1})),3*y.SECOND),(0,o.default)(n)},title:this.state.copied?e("copiedExclamation"):e("copyToClipboard")},a.default.createElement(_.default,{size:14,color:"var(--color-icon-default)"})))))}renderERC20PermissionContent(){const{t:e}=this.context,{customTokenAmount:t,tokenAmount:n,tokenSymbol:s,origin:r,toAddress:i,isContract:c}=this.props,u=c?`${e("contract")} (${(0,l.addressSummary)(i)})`:(0,l.addressSummary)(i);return a.default.createElement("div",{className:"flex-column"},a.default.createElement("div",{className:"confirm-approve-content__small-text"},e("accessAndSpendNotice",[r])),a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"confirm-approve-content__label"},e("approvedAmountWithColon")),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},`${Number(t||n)} ${s}`)),a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"confirm-approve-content__label"},e("grantedToWithColon")),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},`${u}`),a.default.createElement("div",{className:"confirm-approve-content__medium-text"},a.default.createElement(f.default,{type:"link",className:"confirm-approve-content__copy-address",onClick:()=>{this.setState({copied:!0}),this.copyTimeout=setTimeout((()=>this.setState({copied:!1})),3*y.SECOND),(0,o.default)(i)},title:this.state.copied?e("copiedExclamation"):e("copyToClipboard")},a.default.createElement(_.default,{size:14,color:"var(--color-icon-default)"})))))}renderDataContent(){const{t:e}=this.context,{data:t,isSetApproveForAll:n,isApprovalOrRejection:s}=this.props;return a.default.createElement("div",{className:"flex-column"},a.default.createElement("div",{className:"confirm-approve-content__small-text"},e(n?"functionSetApprovalForAll":"functionApprove")),n&&s!==undefined?a.default.createElement("div",{className:"confirm-approve-content__small-text"},`${e("parameters")}: ${s}`):null,a.default.createElement("div",{className:"confirm-approve-content__small-text confirm-approve-content__data__data-block"},t))}renderFullDetails(){const{t:e}=this.context,{assetStandard:t,showEditApprovalPermissionModal:n,customTokenAmount:s,tokenAmount:r,decimals:o,origin:i,setCustomAmount:c,tokenSymbol:l,tokenBalance:u}=this.props;return t===O.TokenStandard.ERC20?a.default.createElement("div",{className:"confirm-approve-content__full-tx-content"},a.default.createElement("div",{className:"confirm-approve-content__permission"},this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fa fa-user-check"}),title:e("permissionRequest"),content:this.renderERC20PermissionContent(),showEdit:!0,onEditClick:()=>n({customTokenAmount:s,decimals:o,origin:i,setCustomAmount:c,tokenAmount:r,tokenSymbol:l,tokenBalance:u})})),a.default.createElement("div",{className:"confirm-approve-content__data"},this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fa fa-file"}),title:"Data",content:this.renderDataContent(),noBorder:!0}))):t===O.TokenStandard.ERC721||t===O.TokenStandard.ERC1155?a.default.createElement("div",{className:"confirm-approve-content__full-tx-content"},a.default.createElement("div",{className:"confirm-approve-content__permission"},this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fas fa-user-check"}),title:e("permissionRequest"),content:this.renderERC721OrERC1155PermissionContent(),showEdit:!1})),a.default.createElement("div",{className:"confirm-approve-content__data"},this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fa fa-file"}),title:e("data"),content:this.renderDataContent(),noBorder:!0}))):null}renderCustomNonceContent(){const{t:e}=this.context,{useNonceField:t,customNonceValue:n,updateCustomNonce:s,getNextNonce:r,nextNonce:o,showCustomizeNonceModal:i}=this.props;return a.default.createElement(a.default.Fragment,null,t&&a.default.createElement("div",{className:"confirm-approve-content__custom-nonce-content"},a.default.createElement(m.default,{className:"confirm-approve-content__custom-nonce-header",justifyContent:v.JUSTIFY_CONTENT.FLEX_START},a.default.createElement(p.default,{variant:v.TYPOGRAPHY.H6,fontWeight:v.FONT_WEIGHT.NORMAL},e("nonce")),a.default.createElement(f.default,{type:"link",className:"confirm-approve-content__custom-nonce-edit",onClick:()=>i({nextNonce:o,customNonceValue:n,updateCustomNonce:s,getNextNonce:r})},e("edit"))),a.default.createElement(p.default,{className:"confirm-approve-content__custom-nonce-value",variant:v.TYPOGRAPHY.H6,fontWeight:v.FONT_WEIGHT.BOLD},n||o)))}getTokenName(){const{tokenId:e,assetName:t,assetStandard:n,tokenSymbol:a,isSetApproveForAll:s}=this.props,{t:r}=this.context;let o=r("token");return n===O.TokenStandard.ERC20||a&&!e&&!s?o=a:(n===O.TokenStandard.ERC721||n===O.TokenStandard.ERC1155||t&&e||a&&e)&&(o=t||a?`${null!=t?t:a}`:r("nft")),o}getTitleTokenDescription(){const{tokenId:e,tokenAddress:t,rpcPrefs:n,chainId:s,userAddress:r}=this.props,c=(null==n?void 0:n.blockExplorerUrl)||[...N.TEST_CHAINS,N.CHAIN_IDS.MAINNET].includes(s),l=this.getTokenName(),u=e?` (#${e})`:"";if(c){var d;const e=(0,i.getTokenTrackerLink)(t,s,null,r,{blockExplorerUrl:null!==(d=null==n?void 0:n.blockExplorerUrl)&&void 0!==d?d:null});return a.default.createElement(a.default.Fragment,null,a.default.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",title:t,className:"confirm-approve-content__approval-asset-link"},l),u&&a.default.createElement("span",null,u))}return a.default.createElement(a.default.Fragment,null,a.default.createElement("span",{className:"confirm-approve-content__approval-asset-title",onClick:()=>{(0,o.default)(t)},title:t},l),u&&a.default.createElement("span",null,u))}renderTitle(){const{t:e}=this.context,{assetName:t,tokenId:n,tokenSymbol:a,assetStandard:s,isSetApproveForAll:r,isApprovalOrRejection:o}=this.props,i=this.getTitleTokenDescription();let c;return r?(c=e("approveAllTokensTitle",[i]),!1===o&&(c=e("revokeAllTokensTitle",[i]))):(s===O.TokenStandard.ERC721||s===O.TokenStandard.ERC1155||t&&n||a&&n)&&(c=e("approveTokenTitle",[i])),c||e("allowSpendToken",[i])}renderDescription(){const{t:e}=this.context,{assetStandard:t,assetName:n,tokenId:a,tokenSymbol:s,isContract:r,isSetApproveForAll:o,isApprovalOrRejection:i}=this.props,c=r?e("contract").toLowerCase():e("account").toLowerCase();let l=e("trustSiteApprovePermission",[c]);return o&&!1===i?l=e("revokeApproveForAllDescription",[c,this.getTitleTokenDescription()]):(o||t===O.TokenStandard.ERC721||t===O.TokenStandard.ERC1155||n&&a||s&&a)&&(l=e("approveTokenDescription")),l}render(){var e;const{t:t}=this.context,{decimals:n,siteImage:s,tokenAmount:l,customTokenAmount:u,origin:g,tokenSymbol:E,showCustomizeGasModal:S,showEditApprovalPermissionModal:N,setCustomAmount:w,tokenBalance:R,useNonceField:C,warning:P,txData:I,fromAddressIsLedger:M,toAddress:x,chainId:D,rpcPrefs:F,isContract:L,assetStandard:U,userAddress:G,tokenId:j,tokenAddress:$,assetName:W,isSetApproveForAll:H,userAcknowledgedGasMissing:B,setUserAcknowledgedGasMissing:V,renderSimulationFailureWarning:q}=this.props,{showFullTxDetails:Y,setShowContractDetails:K}=this.state;return a.default.createElement("div",{className:(0,r.default)("confirm-approve-content",{"confirm-approve-content--full":Y})},P&&a.default.createElement("div",{className:"confirm-approve-content__custom-nonce-warning"},a.default.createElement(A.ConfirmPageContainerWarning,{warning:P})),a.default.createElement(m.default,{display:v.DISPLAY.FLEX,className:"confirm-approve-content__icon-display-content"},a.default.createElement(m.default,{display:v.DISPLAY.FLEX},a.default.createElement(c.default,{className:"confirm-approve-content__siteimage-identicon",fallbackClassName:"confirm-approve-content__siteimage-identicon",name:g,url:s}),a.default.createElement(p.default,{variant:v.TYPOGRAPHY.H6,fontWeight:v.FONT_WEIGHT.NORMAL,color:v.COLORS.TEXT_ALTERNATIVE,boxProps:{marginLeft:1,marginTop:2}},g))),a.default.createElement("div",{className:"confirm-approve-content__title","data-testid":"confirm-approve-title"},this.renderTitle()),a.default.createElement("div",{className:"confirm-approve-content__description"},this.renderDescription()),U===O.TokenStandard.ERC20||E&&!j&&!H?a.default.createElement(m.default,{className:"confirm-approve-content__address-display-content"},a.default.createElement(m.default,{display:v.DISPLAY.FLEX},a.default.createElement(T.default,{className:"confirm-approve-content__address-identicon",diameter:20,address:x}),a.default.createElement(p.default,{variant:v.TYPOGRAPHY.H6,fontWeight:v.FONT_WEIGHT.NORMAL,color:v.COLORS.TEXT_ALTERNATIVE,boxProps:{marginBottom:0}},(0,d.ellipsify)(x)),a.default.createElement(f.default,{type:"link",className:"confirm-approve-content__copy-address",onClick:()=>{this.setState({copied:!0}),this.copyTimeout=setTimeout((()=>this.setState({copied:!1})),3*y.SECOND),(0,o.default)(x)},title:this.state.copied?t("copiedExclamation"):t("copyToClipboard")},a.default.createElement(_.default,{size:9,color:"var(--color-icon-default)"})),a.default.createElement(f.default,{type:"link",className:"confirm-approve-content__etherscan-link",onClick:()=>{var e,t;const n=L?(0,i.getTokenTrackerLink)(x,D,null,G,{blockExplorerUrl:null!==(e=null==F?void 0:F.blockExplorerUrl)&&void 0!==e?e:null}):(0,i.getAccountLink)(x,D,{blockExplorerUrl:null!==(t=null==F?void 0:F.blockExplorerUrl)&&void 0!==t?t:null},null);global.platform.openTab({url:n})},target:"_blank",rel:"noopener noreferrer",title:t("etherscanView")},a.default.createElement("i",{className:"fa fa-share-square fa-sm",style:{color:"var(--color-icon-default)",fontSize:11},title:t("etherscanView")})))):a.default.createElement(m.default,{marginBottom:4,marginTop:2},a.default.createElement(f.default,{type:"link",className:"confirm-approve-content__verify-contract-details",onClick:()=>this.setState({setShowContractDetails:!0})},t("verifyContractDetails")),K&&a.default.createElement(b.default,{onClose:()=>this.setState({setShowContractDetails:!1}),tokenName:E,tokenAddress:$,toAddress:x,chainId:D,rpcPrefs:F,tokenId:j,assetName:W,assetStandard:U})),U===O.TokenStandard.ERC20?a.default.createElement("div",{className:"confirm-approve-content__edit-submission-button-container"},a.default.createElement("div",{className:"confirm-approve-content__medium-link-text cursor-pointer",onClick:()=>N({customTokenAmount:u,decimals:n,origin:g,setCustomAmount:w,tokenAmount:l,tokenSymbol:E,tokenBalance:R})},t("editPermission"))):null,a.default.createElement("div",{className:"confirm-approve-content__card-wrapper"},q&&a.default.createElement(m.default,{paddingTop:0,paddingRight:6,paddingBottom:4,paddingLeft:6},a.default.createElement(h.default,{userAcknowledgedGasMissing:B,setUserAcknowledgedGasMissing:()=>V(!0)})),this.renderApproveContentCard({symbol:a.default.createElement("i",{className:"fa fa-tag"}),title:t("transactionFee"),showEdit:!0,showAdvanceGasFeeOptions:!0,onEditClick:S,content:this.renderTransactionDetailsContent(),noBorder:C||!Y,footer:!C&&a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button-wrapper",onClick:()=>this.setState({showFullTxDetails:!this.state.showFullTxDetails})},a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button cursor-pointer"},a.default.createElement("div",{className:"confirm-approve-content__small-blue-text"},this.state.showFullTxDetails?t("hideFullTransactionDetails"):t("viewFullTransactionDetails")),a.default.createElement("i",{className:(0,r.default)({"fa fa-caret-up":Y,"fa fa-caret-down":!Y})})))}),C&&this.renderApproveContentCard({showHeader:!1,content:this.renderCustomNonceContent(),useNonceField:C,noBorder:!Y,footer:a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button-wrapper",onClick:()=>this.setState({showFullTxDetails:!this.state.showFullTxDetails})},a.default.createElement("div",{className:"confirm-approve-content__view-full-tx-button cursor-pointer"},a.default.createElement("div",{className:"confirm-approve-content__small-blue-text"},this.state.showFullTxDetails?t("hideFullTransactionDetails"):t("viewFullTransactionDetails")),a.default.createElement("i",{className:(0,r.default)({"fa fa-caret-up":Y,"fa fa-caret-down":!Y})})))})),M?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(k.default,{showDataInstruction:Boolean(null===(e=I.txParams)||void 0===e?void 0:e.data)})):null,Y?this.renderFullDetails():null)}}n.default=P,C(P,"contextTypes",{t:s.default.func}),C(P,"propTypes",{decimals:s.default.number,tokenAmount:s.default.string,customTokenAmount:s.default.string,tokenSymbol:s.default.string,siteImage:s.default.string,showCustomizeGasModal:s.default.func,showEditApprovalPermissionModal:s.default.func,origin:s.default.string,setCustomAmount:s.default.func,tokenBalance:s.default.string,data:s.default.string,toAddress:s.default.string,currentCurrency:s.default.string,nativeCurrency:s.default.string,fiatTransactionTotal:s.default.string,ethTransactionTotal:s.default.string,useNonceField:s.default.bool,customNonceValue:s.default.string,updateCustomNonce:s.default.func,getNextNonce:s.default.func,nextNonce:s.default.number,showCustomizeNonceModal:s.default.func,warning:s.default.string,txData:s.default.object,fromAddressIsLedger:s.default.bool,chainId:s.default.string,tokenAddress:s.default.string,rpcPrefs:s.default.object,isContract:s.default.bool,hexTransactionTotal:s.default.string,isMultiLayerFeeNetwork:s.default.bool,supportsEIP1559:s.default.bool,assetName:s.default.string,tokenId:s.default.string,assetStandard:s.default.string,isSetApproveForAll:s.default.bool,isApprovalOrRejection:s.default.bool,userAddress:s.default.string,userAcknowledgedGasMissing:s.default.bool,setUserAcknowledgedGasMissing:s.default.func,renderSimulationFailureWarning:s.default.bool})}}},{package:"$root$",file:"ui/pages/confirm-approve/confirm-approve-content/confirm-approve-content.component.js"}],[3952,{"./confirm-approve-content.component":3951},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-approve-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-approve/confirm-approve-content/index.js"}],[3953,{"../../../shared/constants/gas":3219,"../../../shared/constants/transaction":3231,"../../../shared/lib/transactions-controller-utils":3239,"../../../shared/modules/contract-utils":3243,"../../../shared/modules/transaction.utils":3256,"../../components/app/advanced-gas-fee-popover":3283,"../../components/app/edit-gas-fee-popover":3378,"../../components/app/edit-gas-popover/edit-gas-popover.component":3384,"../../components/ui/loading-screen":3755,"../../contexts/gasFee":3837,"../../contexts/transaction-modal":3840,"../../ducks/metamask/metamask":3853,"../../helpers/utils/token-util":3897,"../../hooks/useApproveTransaction":3911,"../../hooks/useSimulationFailureWarning":3928,"../../selectors":4266,"../../store/actions":4273,"../confirm-contract-interaction":3957,"../confirm-transaction-base":3978,"../token-allowance/token-allowance":4256,"./confirm-approve-content":3952,"./confirm-approve.util":3954,"prop-types":2838,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=C;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=R(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=w(e("prop-types")),r=e("react-redux"),o=w(e("../confirm-transaction-base")),i=e("../../../shared/constants/gas"),c=e("../../store/actions"),l=e("../../helpers/utils/token-util"),u=e("../../../shared/modules/contract-utils"),d=e("../../contexts/gasFee"),p=e("../../contexts/transaction-modal"),m=e("../../ducks/metamask/metamask"),f=w(e("../confirm-contract-interaction")),h=e("../../selectors"),g=e("../../hooks/useApproveTransaction"),T=e("../../hooks/useSimulationFailureWarning"),E=w(e("../../components/app/advanced-gas-fee-popover")),_=w(e("../../components/app/edit-gas-fee-popover")),v=w(e("../../components/app/edit-gas-popover/edit-gas-popover.component")),y=w(e("../../components/ui/loading-screen")),A=e("../../../shared/modules/transaction.utils"),S=e("../../../shared/constants/transaction"),k=e("../../../shared/lib/transactions-controller-utils"),O=w(e("../token-allowance/token-allowance")),N=e("./confirm-approve.util"),b=w(e("./confirm-approve-content"));function w(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(R=function(e){return e?n:t})(e)}function C({assetStandard:e,assetName:t,userBalance:n,tokenSymbol:s,decimals:w,tokenImage:R,tokenAmount:C,tokenId:P,userAddress:I,toAddress:M,tokenAddress:x,transaction:D,ethTransactionTotal:F,fiatTransactionTotal:L,hexTransactionTotal:U,isSetApproveForAll:G}){const j=(0,r.useDispatch)(),{txParams:{data:$}={}}=D,W=(0,r.useSelector)(h.getCurrentCurrency),H=(0,r.useSelector)(m.getNativeCurrency),B=(0,r.useSelector)(h.getSubjectMetadata),V=(0,r.useSelector)(h.getUseNonceField),q=(0,r.useSelector)(h.getNextSuggestedNonce),Y=(0,r.useSelector)(h.getCustomNonceValue),K=(0,r.useSelector)(h.getCurrentChainId),z=(0,r.useSelector)(h.getRpcPrefsForCurrentProvider),Q=(0,r.useSelector)(h.getIsMultiLayerFeeNetwork),X=(0,r.useSelector)(h.checkNetworkAndAccountSupports1559),Z=(0,r.useSelector)((J=I,e=>(0,m.isAddressLedger)(e,J)));var J;const[ee,te]=(0,a.useState)(""),[ne,ae]=(0,a.useState)(""),[se,re]=(0,a.useState)(!1),[oe,ie]=(0,a.useState)(!1),ce=X,le=(0,r.useSelector)(h.getIsImprovedTokenAllowanceEnabled),ue=(0,a.useRef)(C),{approveTransaction:de,showCustomizeGasPopover:pe,closeCustomizeGasPopover:me}=(0,g.useApproveTransaction)(),fe=(0,T.useSimulationFailureWarning)(oe);(0,a.useEffect)((()=>{ee&&ue.current!==C&&te(C),ue.current=C}),[ee,C]);const he=(0,a.useRef)(q),ge=(0,a.useRef)(Y);(0,a.useEffect)((()=>{he.current===q&&ge.current===Y||ae(null!==q&&Y>q?`Nonce is higher than suggested nonce of ${q}`:""),ge.current=Y,he.current=q}),[Y,q]);const Te=(0,a.useCallback)((async()=>{const{isContractAddress:e}=await(0,u.readAddressAsContract)(global.eth,M);re(e)}),[re,M]);(0,a.useEffect)((()=>{Te()}),[Te]);const{origin:Ee}=D,_e=Ee||"",{iconUrl:ve=""}=B[Ee]||{};let ye;e===S.TokenStandard.ERC20?ye=`${Number(C)} ${s}`:e!==S.TokenStandard.ERC721&&e!==S.TokenStandard.ERC1155||(ye=t);const Ae=n?(0,k.calcTokenAmount)(n,w).toString(10):"",Se=ee?(0,N.getCustomTxParamsData)($,{customPermissionAmount:ee,decimals:w}):null,ke=(0,A.parseStandardTokenTransactionData)($),Oe=(0,l.getTokenApprovedParam)(ke);return s===undefined&&t===undefined?a.default.createElement(y.default,null):e===undefined?a.default.createElement(f.default,null):le&&e===S.TokenStandard.ERC20?a.default.createElement(d.GasFeeContextProvider,{transaction:D},a.default.createElement(p.TransactionModalContextProvider,null,a.default.createElement(O.default,{origin:_e,siteImage:ve,showCustomizeGasModal:de,useNonceField:V,currentCurrency:W,nativeCurrency:H,ethTransactionTotal:F,fiatTransactionTotal:L,hexTransactionTotal:U,txData:D,isMultiLayerFeeNetwork:Q,supportsEIP1559:ce,userAddress:I,tokenAddress:x,data:$,isSetApproveForAll:G,isApprovalOrRejection:Oe,dappProposedTokenAmount:C,currentTokenBalance:Ae,toAddress:M,tokenSymbol:s,decimals:w}),pe&&!ce&&a.default.createElement(v.default,{onClose:me,mode:i.EDIT_GAS_MODES.MODIFY_IN_PLACE,transaction:D}),ce&&a.default.createElement(a.default.Fragment,null,a.default.createElement(_.default,null),a.default.createElement(E.default,null)))):a.default.createElement(d.GasFeeContextProvider,{transaction:D},a.default.createElement(o.default,{toAddress:M,identiconAddress:M,showAccountInHeader:!0,title:ye,tokenAddress:x,customTokenAmount:String(ee),dappProposedTokenAmount:C,currentTokenBalance:Ae,isApprovalOrRejection:Oe,contentComponent:a.default.createElement(p.TransactionModalContextProvider,null,a.default.createElement(b.default,{userAddress:I,isSetApproveForAll:G,isApprovalOrRejection:Oe,decimals:w,siteImage:ve,setCustomAmount:te,customTokenAmount:String(ee),tokenAmount:C,origin:_e,tokenSymbol:s,tokenImage:R,tokenBalance:Ae,tokenId:P,assetName:t,assetStandard:e,tokenAddress:x,showCustomizeGasModal:de,showEditApprovalPermissionModal:({customTokenAmount:t,decimals:n,origin:a,setCustomAmount:s,tokenAmount:r,tokenBalance:o,tokenSymbol:i})=>j((0,c.showModal)({name:"EDIT_APPROVAL_PERMISSION",customTokenAmount:t,decimals:n,origin:a,setCustomAmount:s,tokenAmount:r,tokenBalance:o,tokenSymbol:i,tokenId:P,assetStandard:e})),data:Se||$,toAddress:M,currentCurrency:W,nativeCurrency:H,ethTransactionTotal:F,fiatTransactionTotal:L,hexTransactionTotal:U,useNonceField:V,nextNonce:q,customNonceValue:Y,userAcknowledgedGasMissing:oe,setUserAcknowledgedGasMissing:ie,renderSimulationFailureWarning:fe,updateCustomNonce:e=>{j((0,c.updateCustomNonce)(e))},getNextNonce:()=>j((0,c.getNextNonce)()),showCustomizeNonceModal:({useNonceField:e,nextNonce:t,customNonceValue:n,updateCustomNonce:a,getNextNonce:s})=>j((0,c.showModal)({name:"CUSTOMIZE_NONCE",useNonceField:e,nextNonce:t,customNonceValue:n,updateCustomNonce:a,getNextNonce:s})),warning:ne,txData:D,fromAddressIsLedger:Z,chainId:K,rpcPrefs:z,isContract:se,isMultiLayerFeeNetwork:Q,supportsEIP1559:ce}),pe&&!ce&&a.default.createElement(v.default,{onClose:me,mode:i.EDIT_GAS_MODES.MODIFY_IN_PLACE,transaction:D}),ce&&a.default.createElement(a.default.Fragment,null,a.default.createElement(_.default,null),a.default.createElement(E.default,null))),hideSenderToRecipient:!0,customTxParamsData:Se,assetStandard:e}))}C.propTypes={assetStandard:s.default.string,assetName:s.default.string,tokenAddress:s.default.string,userBalance:s.default.string,tokenSymbol:s.default.string,decimals:s.default.string,tokenImage:s.default.string,tokenAmount:s.default.string,tokenId:s.default.string,userAddress:s.default.string,toAddress:s.default.string,transaction:s.default.shape({origin:s.default.string,txParams:s.default.shape({data:s.default.string,to:s.default.string,from:s.default.string})}),ethTransactionTotal:s.default.string,fiatTransactionTotal:s.default.string,hexTransactionTotal:s.default.string,isSetApproveForAll:s.default.bool}}}},{package:"$root$",file:"ui/pages/confirm-approve/confirm-approve.js"}],[3954,{"../../../shared/constants/transaction":3231,"../../../shared/lib/swaps-utils":3236,"../../../shared/lib/transactions-controller-utils":3239,"../../../shared/modules/transaction.utils":3256,"../../helpers/utils/token-util":3897},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCustomTxParamsData=function(e,{customPermissionAmount:t,decimals:n}){const c=(0,o.parseStandardTokenTransactionData)(e);if(!c)throw new Error("Invalid data");if(c.name!==r.TransactionType.tokenMethodApprove)throw new Error(`Invalid data; should be 'approve' method, but instead is '${c.name}'`);let l=(0,i.getTokenAddressParam)(c);l.startsWith("0x")&&(l=l.substring(2));const[u,d]=e.split(l);if(!u||!d)throw new Error("Invalid data");if(64!==d.length)throw new Error("Invalid token value; should be exactly 64 hex digits long (u256)");let p=(0,s.decimalToHex)((0,a.calcTokenValue)(t,n));if(p.length>64)throw new Error("Custom value is larger than u256");p=p.padStart(d.length,"0");return`${u}${l}${p}`};var a=e("../../../shared/lib/swaps-utils"),s=e("../../../shared/lib/transactions-controller-utils"),r=e("../../../shared/constants/transaction"),o=e("../../../shared/modules/transaction.utils"),i=e("../../helpers/utils/token-util")}}},{package:"$root$",file:"ui/pages/confirm-approve/confirm-approve.util.js"}],[3955,{"./confirm-approve":3953},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-approve"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-approve/index.js"}],[3956,{"../../../shared/constants/transaction":3231,"../../ducks/confirm-transaction/confirm-transaction.duck":3846,"../../ducks/send":3855,"../../helpers/constants/routes":3865,"../confirm-transaction-base":3978,react:3037,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useDispatch)(),t=(0,r.useHistory)(),n=n=>{(async({txData:t})=>{const{id:n}=t;await e((0,c.editExistingTransaction)(u.AssetType.native,n.toString())),e((0,l.clearConfirmTransaction)())})(n).then((()=>{t.push(i.SEND_ROUTE)}))};return a.default.createElement(o.default,{actionKey:"confirm",onEdit:e=>n(e)})};var a=d(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=d(e("../confirm-transaction-base")),i=e("../../helpers/constants/routes"),c=e("../../ducks/send"),l=e("../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../../shared/constants/transaction");function d(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/confirm-contract-interaction/confirm-contract-interaction.js"}],[3957,{"./confirm-contract-interaction":3956},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-contract-interaction"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-contract-interaction/index.js"}],[3958,{"../../../shared/constants/metametrics":3223,"../../../shared/constants/time":3229,"../../../shared/modules/conversion.utils":3244,"../../components/app/account-list-item":3259,"../../components/ui/button":3670,"../../components/ui/icon/copy-icon.component":3712,"../../components/ui/identicon":3744,"../../components/ui/tooltip":3826,classnames:1767,"copy-to-clipboard":1819,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=h(e("prop-types")),r=h(e("copy-to-clipboard")),o=h(e("classnames")),i=h(e("../../components/app/account-list-item")),c=h(e("../../components/ui/button")),l=h(e("../../components/ui/identicon")),u=h(e("../../components/ui/tooltip")),d=h(e("../../components/ui/icon/copy-icon.component")),p=e("../../../shared/constants/metametrics"),m=e("../../../shared/constants/time"),f=e("../../../shared/modules/conversion.utils");function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends a.Component{constructor(...e){super(...e),T(this,"state",{fromAccount:this.props.fromAccount,copyToClipboardPressed:!1,hasCopied:!1}),T(this,"copyMessage",(()=>{(0,r.default)(this.state.rawMessage),this.context.trackEvent({category:p.EVENT.CATEGORIES.MESSAGES,event:"Copy",properties:{action:"Decrypt Message Copy",legacy_event:!0}}),this.setState({hasCopied:!0}),setTimeout((()=>this.setState({hasCopied:!1})),3*m.SECOND)})),T(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-decrypt-message__header"},a.default.createElement("div",{className:"request-decrypt-message__header-background"}),a.default.createElement("div",{className:"request-decrypt-message__header__text"},this.context.t("decryptRequest")),a.default.createElement("div",{className:"request-decrypt-message__header__tip-container"},a.default.createElement("div",{className:"request-decrypt-message__header__tip"}))))),T(this,"renderAccount",(()=>{const{fromAccount:e}=this.state,{t:t}=this.context;return a.default.createElement("div",{className:"request-decrypt-message__account"},a.default.createElement("div",{className:"request-decrypt-message__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-decrypt-message__account-item"},a.default.createElement(i.default,{account:e})))})),T(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t}=this.props,{fromAccount:{balance:n}}=this.state,{t:s}=this.context,r=(0,f.conversionUtil)(n,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",numberOfDecimals:6,conversionRate:e});return a.default.createElement("div",{className:"request-decrypt-message__balance"},a.default.createElement("div",{className:"request-decrypt-message__balance-text"},`${s("balance")}:`),a.default.createElement("div",{className:"request-decrypt-message__balance-value"},`${r} ${t}`))})),T(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-decrypt-message__request-icon"},a.default.createElement(l.default,{diameter:40,address:e}))})),T(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-decrypt-message__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),T(this,"renderBody",(()=>{const{decryptMessageInline:e,subjectMetadata:t,txData:n}=this.props,{t:s}=this.context,r=t[n.msgParams.origin],i=(null==r?void 0:r.name)||n.msgParams.origin,c=s("decryptMessageNotice",[n.msgParams.origin]),{hasCopied:l,hasDecrypted:p,hasError:m,rawMessage:f,errorMessage:h,copyToClipboardPressed:g}=this.state;return a.default.createElement("div",{className:"request-decrypt-message__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-decrypt-message__visual"},a.default.createElement("section",null,null!=r&&r.iconUrl?a.default.createElement("img",{className:"request-decrypt-message__visual-identicon",src:r.iconUrl,alt:""}):a.default.createElement("i",{className:"request-decrypt-message__visual-identicon--default"},i.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-decrypt-message__notice"},c))),a.default.createElement("div",{className:"request-decrypt-message__message"},a.default.createElement("div",{className:"request-decrypt-message__message-text"},p||m?f:n.msgParams.data,m?h:""),a.default.createElement("div",{className:(0,o.default)("request-decrypt-message__message-cover",{"request-decrypt-message__message-lock--pressed":p||m})}),a.default.createElement("div",{className:(0,o.default)("request-decrypt-message__message-lock",{"request-decrypt-message__message-lock--pressed":p||m}),onClick:t=>{e(n,t).then((e=>{e.error?this.setState({hasError:!0,errorMessage:this.context.t("decryptInlineError",[e.error])}):this.setState({hasDecrypted:!0,rawMessage:e.rawData})}))}},a.default.createElement("div",{className:"request-decrypt-message__message-lock__container"},a.default.createElement("i",{className:"fa fa-lock fa-lg request-decrypt-message__message-lock__container__icon"}),a.default.createElement("div",{className:"request-decrypt-message__message-lock__container__text"},s("decryptMetamask"))))),p?a.default.createElement("div",{className:(0,o.default)({"request-decrypt-message__message-copy":!0,"request-decrypt-message__message-copy--pressed":g}),onClick:()=>this.copyMessage(),onMouseDown:()=>this.setState({copyToClipboardPressed:!0}),onMouseUp:()=>this.setState({copyToClipboardPressed:!1})},a.default.createElement(u.default,{position:"bottom",title:s(l?"copiedExclamation":"copyToClipboard"),wrapperClassName:"request-decrypt-message__message-copy-tooltip",style:{display:"flex",alignItems:"center"}},a.default.createElement("div",{className:"request-decrypt-message__message-copy-text"},s("decryptCopy")),a.default.createElement(d.default,{size:17,color:"var(--color-primary-default)"}))):a.default.createElement("div",null))})),T(this,"renderFooter",(()=>{const{cancelDecryptMessage:e,clearConfirmTransaction:t,decryptMessage:n,history:s,mostRecentOverviewPage:r,txData:o}=this.props,{trackEvent:i,t:l}=this.context;return a.default.createElement("div",{className:"request-decrypt-message__footer"},a.default.createElement(c.default,{type:"secondary",large:!0,className:"request-decrypt-message__footer__cancel-button",onClick:async n=>{await e(o,n),i({category:p.EVENT.CATEGORIES.MESSAGES,event:"Cancel",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),s.push(r)}},l("cancel")),a.default.createElement(c.default,{type:"primary",large:!0,className:"request-decrypt-message__footer__sign-button",onClick:async e=>{await n(o,e),i({category:p.EVENT.CATEGORIES.MESSAGES,event:"Confirm",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),s.push(r)}},l("decrypt")))})),T(this,"render",(()=>a.default.createElement("div",{className:"request-decrypt-message__container"},this.renderHeader(),this.renderBody(),this.renderFooter())))}}n.default=E,T(E,"contextTypes",{t:s.default.func.isRequired,trackEvent:s.default.func.isRequired}),T(E,"propTypes",{fromAccount:s.default.shape({address:s.default.string.isRequired,balance:s.default.string,name:s.default.string}).isRequired,clearConfirmTransaction:s.default.func.isRequired,cancelDecryptMessage:s.default.func.isRequired,decryptMessage:s.default.func.isRequired,decryptMessageInline:s.default.func.isRequired,conversionRate:s.default.number,history:s.default.object.isRequired,mostRecentOverviewPage:s.default.string.isRequired,requesterAddress:s.default.string,txData:s.default.object,subjectMetadata:s.default.object,nativeCurrency:s.default.string.isRequired})}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/confirm-decrypt-message.component.js"}],[3959,{"../../ducks/confirm-transaction/confirm-transaction.duck":3846,"../../ducks/history/history":3850,"../../ducks/metamask/metamask":3853,"../../selectors":4266,"../../store/actions":4273,"./confirm-decrypt-message.component":3958,"react-redux":2990,"react-router-dom":3010,redux:3054},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("redux"),o=e("react-router-dom"),i=e("../../store/actions"),c=e("../../selectors"),l=e("../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../ducks/history/history"),d=e("../../ducks/metamask/metamask"),p=(a=e("./confirm-decrypt-message.component"))&&a.__esModule?a:{default:a};var m=(0,r.compose)(o.withRouter,(0,s.connect)((function(e){const{metamask:{subjectMetadata:t={}}}=e,n=(0,c.unconfirmedTransactionsListSelector)(e)[0],{msgParams:{from:a}}=n;return{txData:n,subjectMetadata:t,fromAccount:(0,c.getTargetAccountWithSendEtherInfo)(e,a),requester:null,requesterAddress:null,conversionRate:(0,c.conversionRateSelector)(e),mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),nativeCurrency:(0,d.getNativeCurrency)(e)}}),(function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,l.clearConfirmTransaction)()),decryptMessage:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,i.decryptMsg)(a))},cancelDecryptMessage:(t,n)=>(n.stopPropagation(n),e((0,i.cancelDecryptMsg)(t))),decryptMessageInline:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,i.decryptMsgInline)(a))}}})))(p.default);n.default=m}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/confirm-decrypt-message.container.js"}],[3960,{"./confirm-decrypt-message.container":3959},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-decrypt-message.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/index.js"}],[3961,{"../../../shared/modules/buffer-utils":3242,"../confirm-transaction-base":3978,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=i(e("prop-types")),r=i(e("../confirm-transaction-base")),o=e("../../../shared/modules/buffer-utils");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{renderData(){const{t:e}=this.context,{txData:{origin:t,txParams:{data:n}={}}={}}=this.props;return a.default.createElement("div",{className:"confirm-page-container-content__data"},a.default.createElement("div",{className:"confirm-page-container-content__data-box"},a.default.createElement("div",{className:"confirm-page-container-content__data-field"},a.default.createElement("div",{className:"confirm-page-container-content__data-field-label"},`${e("origin")}:`),a.default.createElement("div",null,t)),a.default.createElement("div",{className:"confirm-page-container-content__data-field"},a.default.createElement("div",{className:"confirm-page-container-content__data-field-label"},`${e("bytes")}:`),a.default.createElement("div",null,(0,o.toBuffer)(n).length))),a.default.createElement("div",{className:"confirm-page-container-content__data-box-label"},`${e("hexData")}:`),a.default.createElement("div",{className:"confirm-page-container-content__data-box"},n))}render(){return a.default.createElement(r.default,{actionKey:"contractDeployment",dataComponent:this.renderData()})}}n.default=u,l(u,"contextTypes",{t:s.default.func}),l(u,"propTypes",{txData:s.default.object})}}},{package:"$root$",file:"ui/pages/confirm-deploy-contract/confirm-deploy-contract.component.js"}],[3962,{"./confirm-deploy-contract.component":3961,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=(a=e("./confirm-deploy-contract.component"))&&a.__esModule?a:{default:a};var o=(0,s.connect)((e=>{const{confirmTransaction:{txData:t}={}}=e;return{txData:t}}))(r.default);n.default=o}}},{package:"$root$",file:"ui/pages/confirm-deploy-contract/confirm-deploy-contract.container.js"}],[3963,{"./confirm-deploy-contract.container":3962},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-deploy-contract.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-deploy-contract/index.js"}],[3964,{"../../../shared/constants/metametrics":3223,"../../../shared/modules/conversion.utils":3244,"../../components/app/account-list-item":3259,"../../components/ui/button":3670,"../../components/ui/identicon":3744,"../../components/ui/site-origin":3804,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=d(e("prop-types")),r=d(e("../../components/app/account-list-item")),o=d(e("../../components/ui/button")),i=d(e("../../components/ui/identicon")),c=e("../../../shared/constants/metametrics"),l=e("../../../shared/modules/conversion.utils"),u=d(e("../../components/ui/site-origin"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{constructor(...e){super(...e),m(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-encryption-public-key__header"},a.default.createElement("div",{className:"request-encryption-public-key__header-background"}),a.default.createElement("div",{className:"request-encryption-public-key__header__text"},this.context.t("encryptionPublicKeyRequest")),a.default.createElement("div",{className:"request-encryption-public-key__header__tip-container"},a.default.createElement("div",{className:"request-encryption-public-key__header__tip"}))))),m(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-encryption-public-key__account"},a.default.createElement("div",{className:"request-encryption-public-key__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-encryption-public-key__account-item"},a.default.createElement(r.default,{account:e})))})),m(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t,fromAccount:{balance:n}}=this.props,{t:s}=this.context,r=(0,l.conversionUtil)(n,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",numberOfDecimals:6,conversionRate:e});return a.default.createElement("div",{className:"request-encryption-public-key__balance"},a.default.createElement("div",{className:"request-encryption-public-key__balance-text"},`${s("balance")}:`),a.default.createElement("div",{className:"request-encryption-public-key__balance-value"},`${r} ${t}`))})),m(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-encryption-public-key__request-icon"},a.default.createElement(i.default,{diameter:40,address:e}))})),m(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-encryption-public-key__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),m(this,"renderBody",(()=>{const{subjectMetadata:e,txData:t}=this.props,{t:n}=this.context,s=e[t.origin],r=n("encryptionPublicKeyNotice",[a.default.createElement(u.default,{siteOrigin:t.origin,key:t.origin})]),o=(null==s?void 0:s.hostname)||t.origin;return a.default.createElement("div",{className:"request-encryption-public-key__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-encryption-public-key__visual"},a.default.createElement("section",null,null!=s&&s.iconUrl?a.default.createElement("img",{className:"request-encryption-public-key__visual-identicon",src:s.iconUrl,alt:""}):a.default.createElement("i",{className:"request-encryption-public-key__visual-identicon--default"},o.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-encryption-public-key__notice"},r))))})),m(this,"renderFooter",(()=>{const{cancelEncryptionPublicKey:e,clearConfirmTransaction:t,encryptionPublicKey:n,history:s,mostRecentOverviewPage:r,txData:i}=this.props,{t:l,trackEvent:u}=this.context;return a.default.createElement("div",{className:"request-encryption-public-key__footer"},a.default.createElement(o.default,{type:"secondary",large:!0,className:"request-encryption-public-key__footer__cancel-button",onClick:async n=>{await e(i,n),u({category:c.EVENT.CATEGORIES.MESSAGES,event:"Cancel",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),s.push(r)}},this.context.t("cancel")),a.default.createElement(o.default,{type:"primary",large:!0,className:"request-encryption-public-key__footer__sign-button",onClick:async e=>{await n(i,e),this.context.trackEvent({category:c.EVENT.CATEGORIES.MESSAGES,event:"Confirm",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),s.push(r)}},l("provide")))})),m(this,"render",(()=>a.default.createElement("div",{className:"request-encryption-public-key__container"},this.renderHeader(),this.renderBody(),this.renderFooter())))}}n.default=f,m(f,"contextTypes",{t:s.default.func.isRequired,trackEvent:s.default.func.isRequired}),m(f,"propTypes",{fromAccount:s.default.shape({address:s.default.string.isRequired,balance:s.default.string,name:s.default.string}).isRequired,clearConfirmTransaction:s.default.func.isRequired,cancelEncryptionPublicKey:s.default.func.isRequired,encryptionPublicKey:s.default.func.isRequired,conversionRate:s.default.number,history:s.default.object.isRequired,requesterAddress:s.default.string,txData:s.default.object,subjectMetadata:s.default.object,mostRecentOverviewPage:s.default.string.isRequired,nativeCurrency:s.default.string.isRequired})}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.component.js"}],[3965,{"../../ducks/confirm-transaction/confirm-transaction.duck":3846,"../../ducks/history/history":3850,"../../ducks/metamask/metamask":3853,"../../selectors":4266,"../../store/actions":4273,"./confirm-encryption-public-key.component":3964,"react-redux":2990,"react-router-dom":3010,redux:3054},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("redux"),o=e("react-router-dom"),i=e("../../store/actions"),c=e("../../selectors"),l=e("../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../ducks/history/history"),d=e("../../ducks/metamask/metamask"),p=(a=e("./confirm-encryption-public-key.component"))&&a.__esModule?a:{default:a};var m=(0,r.compose)(o.withRouter,(0,s.connect)((function(e){const{metamask:{subjectMetadata:t={}}}=e,n=(0,c.unconfirmedTransactionsListSelector)(e)[0],{msgParams:a}=n;return{txData:n,subjectMetadata:t,fromAccount:(0,c.getTargetAccountWithSendEtherInfo)(e,a),requester:null,requesterAddress:null,conversionRate:(0,c.conversionRateSelector)(e),mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),nativeCurrency:(0,d.getNativeCurrency)(e)}}),(function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,l.clearConfirmTransaction)()),encryptionPublicKey:(t,n)=>{const a={data:t.msgParams,metamaskId:t.id};return n.stopPropagation(),e((0,i.encryptionPublicKeyMsg)(a))},cancelEncryptionPublicKey:(t,n)=>(n.stopPropagation(),e((0,i.cancelEncryptionPublicKeyMsg)(t)))}})))(p.default);n.default=m}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.container.js"}],[3966,{"./confirm-encryption-public-key.container":3965},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-encryption-public-key.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/index.js"}],[3967,{"../../../shared/constants/metametrics":3223,"../../../shared/constants/transaction":3231,"../../components/ui/button":3670,"../../components/ui/identicon":3744,"../../components/ui/token-balance":3821,"../../contexts/i18n":3838,"../../contexts/metametrics":3839,"../../ducks/history/history":3850,"../../ducks/metamask/metamask":3853,"../../helpers/constants/routes":3865,"../../store/actions":4273,react:3037,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=e("react-redux"),r=e("react-router-dom"),o=e("../../helpers/constants/routes"),i=T(e("../../components/ui/button")),c=T(e("../../components/ui/identicon")),l=T(e("../../components/ui/token-balance")),u=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),p=e("../../ducks/history/history"),m=e("../../ducks/metamask/metamask"),f=e("../../store/actions"),h=e("../../../shared/constants/metametrics"),g=e("../../../shared/constants/transaction");function T(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}var _=()=>{const e=(0,a.useContext)(u.I18nContext),t=(0,s.useDispatch)(),n=(0,r.useHistory)(),T=(0,a.useContext)(d.MetaMetricsContext),E=(0,s.useSelector)(p.getMostRecentOverviewPage),_=(0,s.useSelector)(m.getPendingTokens),v=(0,a.useCallback)((async()=>{var e;await t((0,f.addTokens)(_));const a=Object.values(_),s=null==a||null===(e=a[0].address)||void 0===e?void 0:e.toLowerCase();a.forEach((e=>{T({event:h.EVENT_NAMES.TOKEN_ADDED,category:h.EVENT.CATEGORIES.WALLET,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:e.isCustom?h.EVENT.SOURCE.TOKEN.CUSTOM:h.EVENT.SOURCE.TOKEN.LIST,token_standard:g.TokenStandard.ERC20,asset_type:g.AssetType.token}})})),t((0,f.clearPendingTokens)()),s?n.push(`${o.ASSET_ROUTE}/${s}`):n.push(E)}),[t,n,E,_,T]);return(0,a.useEffect)((()=>{0===Object.keys(_).length&&n.push(E)}),[]),a.default.createElement("div",{className:"page-container"},a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},e("importTokensCamelCase")),a.default.createElement("div",{className:"page-container__subtitle"},e("likeToImportTokens"))),a.default.createElement("div",{className:"page-container__content"},a.default.createElement("div",{className:"confirm-import-token"},a.default.createElement("div",{className:"confirm-import-token__header"},a.default.createElement("div",{className:"confirm-import-token__token"},e("token")),a.default.createElement("div",{className:"confirm-import-token__balance"},e("balance"))),a.default.createElement("div",{className:"confirm-import-token__token-list"},Object.entries(_).map((([e,t])=>{const{name:n,symbol:s}=t;return a.default.createElement("div",{className:"confirm-import-token__token-list-item",key:e},a.default.createElement("div",{className:"confirm-import-token__token confirm-import-token__data"},a.default.createElement(c.default,{className:"confirm-import-token__token-icon",diameter:48,address:e}),a.default.createElement("div",{className:"confirm-import-token__name"},((e,t)=>e===undefined?t:`${e} (${t})`)(n,s))),a.default.createElement("div",{className:"confirm-import-token__balance"},a.default.createElement(l.default,{token:t})))}))))),a.default.createElement("div",{className:"page-container__footer"},a.default.createElement("footer",null,a.default.createElement(i.default,{type:"secondary",large:!0,className:"page-container__footer-button",onClick:()=>{t((0,f.clearPendingTokens)()),n.push(o.IMPORT_TOKEN_ROUTE)}},e("back")),a.default.createElement(i.default,{type:"primary",large:!0,className:"page-container__footer-button",onClick:v},e("importTokensCamelCase")))))};n.default=_}}},{package:"$root$",file:"ui/pages/confirm-import-token/confirm-import-token.js"}],[3968,{"./confirm-import-token":3967},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=((a=e("./confirm-import-token"))&&a.__esModule?a:{default:a}).default;n.default=s}}},{package:"$root$",file:"ui/pages/confirm-import-token/index.js"}],[3969,{"../../helpers/constants/routes":3865,"../confirm-transaction-base":3978,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=i(e("prop-types")),r=i(e("../confirm-transaction-base")),o=e("../../helpers/constants/routes");function i(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{handleEdit({txData:e}){const{editTransaction:t,history:n}=this.props;t(e).then((()=>{n.push(o.SEND_ROUTE)}))}shouldHideData(){const{txParams:e={}}=this.props;return!e.data}render(){const e=this.shouldHideData();return a.default.createElement(r.default,{actionKey:"confirm",hideData:e,onEdit:e=>this.handleEdit(e)})}}n.default=u,l(u,"contextTypes",{t:s.default.func}),l(u,"propTypes",{editTransaction:s.default.func,history:s.default.object,txParams:s.default.object})}}},{package:"$root$",file:"ui/pages/confirm-send-ether/confirm-send-ether.component.js"}],[3970,{"../../../shared/constants/transaction":3231,"../../ducks/confirm-transaction/confirm-transaction.duck":3846,"../../ducks/send":3855,"./confirm-send-ether.component":3969,"react-redux":2990,"react-router-dom":3010,redux:3054},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("redux"),o=e("react-router-dom"),i=e("../../ducks/send"),c=e("../../ducks/confirm-transaction/confirm-transaction.duck"),l=e("../../../shared/constants/transaction"),u=(a=e("./confirm-send-ether.component"))&&a.__esModule?a:{default:a};var d=(0,r.compose)(o.withRouter,(0,s.connect)((e=>{const{confirmTransaction:{txData:{txParams:t}={}}}=e;return{txParams:t}}),(e=>({editTransaction:async t=>{const{id:n}=t;await e((0,i.editExistingTransaction)(l.AssetType.native,n.toString())),e((0,c.clearConfirmTransaction)())}}))))(u.default);n.default=d}}},{package:"$root$",file:"ui/pages/confirm-send-ether/confirm-send-ether.container.js"}],[3971,{"./confirm-send-ether.container":3970},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-send-ether.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-send-ether/index.js"}],[3972,{"../../../shared/constants/transaction":3231,"../../ducks/confirm-transaction/confirm-transaction.duck":3846,"../../ducks/metamask/metamask":3853,"../../ducks/send":3855,"../../helpers/constants/routes":3865,"../../selectors":4266,"../../store/actions":4273,"../confirm-token-transaction-base/confirm-token-transaction-base":3974,"prop-types":2838,react:3037,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=h(e("react")),s=h(e("prop-types")),r=e("react-redux"),o=e("react-router-dom"),i=h(e("../confirm-token-transaction-base/confirm-token-transaction-base")),c=e("../../helpers/constants/routes"),l=e("../../ducks/send"),u=e("../../selectors"),d=e("../../ducks/metamask/metamask"),p=e("../../ducks/confirm-transaction/confirm-transaction.duck"),m=e("../../store/actions"),f=e("../../../shared/constants/transaction");function h(e){return e&&e.__esModule?e:{default:e}}function g({assetStandard:e,toAddress:t,tokenAddress:n,assetName:s,tokenSymbol:h,tokenAmount:g,tokenId:T,transaction:E,image:_,ethTransactionTotal:v,fiatTransactionTotal:y,hexMaximumTransactionFee:A}){const S=(0,r.useDispatch)(),k=(0,o.useHistory)(),O=(0,r.useSelector)(d.getConversionRate),N=(0,r.useSelector)(d.getNativeCurrency),b=(0,r.useSelector)(u.getCurrentCurrency),w=(0,r.useSelector)(u.contractExchangeRateSelector);let R,C;return e===f.TokenStandard.ERC721?(R=s,C=`#${T}`):e===f.TokenStandard.ERC20&&(R=`${g} ${h}`),a.default.createElement(i.default,{onEdit:e=>{(async({txData:e})=>{const{id:t}=e;await S((0,l.editExistingTransaction)(f.AssetType.token,t.toString())),S((0,p.clearConfirmTransaction)()),S((0,m.showSendTokenPage)())})(e).then((()=>{k.push(c.SEND_ROUTE)}))},conversionRate:O,currentCurrency:b,nativeCurrency:N,contractExchangeRate:w,title:R,subtitle:C,assetStandard:e,assetName:s,tokenSymbol:h,tokenAmount:g,tokenId:T,transaction:E,image:_,toAddress:t,tokenAddress:n,ethTransactionTotal:v,fiatTransactionTotal:y,hexMaximumTransactionFee:A})}g.propTypes={tokenAmount:s.default.string,assetStandard:s.default.string,assetName:s.default.string,tokenSymbol:s.default.string,image:s.default.string,tokenId:s.default.string,toAddress:s.default.string,tokenAddress:s.default.string,transaction:s.default.shape({origin:s.default.string,txParams:s.default.shape({data:s.default.string,to:s.default.string,from:s.default.string})}),ethTransactionTotal:s.default.string,fiatTransactionTotal:s.default.string,hexMaximumTransactionFee:s.default.string}}}},{package:"$root$",file:"ui/pages/confirm-send-token/confirm-send-token.js"}],[3973,{"./confirm-send-token":3972},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-send-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-send-token/index.js"}],[3974,{"../../../shared/constants/transaction":3231,"../../../shared/lib/transactions-controller-utils":3239,"../../components/app/user-preferenced-currency-display":3577,"../../contexts/i18n":3838,"../../ducks/metamask/metamask":3853,"../../helpers/constants/common":3859,"../../helpers/utils/confirm-tx.util":3881,"../../helpers/utils/conversions.util":3882,"../../selectors":4266,"../confirm-transaction-base":3978,"bignumber.js":1642,"prop-types":2838,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=T(e("prop-types")),r=T(e("bignumber.js")),o=e("react-redux"),i=e("../../contexts/i18n"),c=T(e("../confirm-transaction-base")),l=T(e("../../components/app/user-preferenced-currency-display")),u=e("../../helpers/utils/confirm-tx.util"),d=e("../../helpers/constants/common"),p=e("../../helpers/utils/conversions.util"),m=e("../../selectors"),f=e("../../ducks/metamask/metamask"),h=e("../../../shared/constants/transaction"),g=e("../../../shared/lib/transactions-controller-utils");function T(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function _({image:e="",assetName:t,toAddress:n,tokenAddress:s,tokenAmount:T="0",tokenSymbol:E,tokenId:_,assetStandard:v,onEdit:y,ethTransactionTotal:A,fiatTransactionTotal:S,hexMaximumTransactionFee:k}){const O=(0,a.useContext)(i.I18nContext),N=(0,o.useSelector)(m.contractExchangeRateSelector),b=(0,o.useSelector)(f.getNativeCurrency),w=(0,o.useSelector)(m.getCurrentCurrency),R=(0,o.useSelector)(f.getConversionRate),C=Number((0,g.hexWEIToDecETH)(k));let P,I;v===h.TokenStandard.ERC721||v===h.TokenStandard.ERC1155?(P=t,I=`#${_}`):v===h.TokenStandard.ERC20&&(P=`${T} ${E}`);const M=(0,a.useMemo)((()=>{if("0"===T||!N)return"0";const e=new r.default(T).times(new r.default(N?String(N):0)).toFixed();return(0,p.getWeiHexFromDecimalValue)({value:e,fromCurrency:d.ETH,fromDenomination:d.ETH})}),[T,N]),x=(0,a.useMemo)((()=>{if(void 0===N)return(0,u.formatCurrency)(S,w);const e=(0,u.convertTokenToFiat)({value:T,toCurrency:w,conversionRate:R,contractExchangeRate:N}),t=(0,u.addFiat)(e,S),n=(0,u.roundExponential)(t);return(0,u.formatCurrency)(n,w)}),[w,R,N,S,T]);return a.default.createElement(c.default,{toAddress:n,image:e,onEdit:y,tokenAddress:s,title:P,subtitleComponent:N===undefined&&I===undefined?a.default.createElement("span",null,O("noConversionRateAvailable")):I?a.default.createElement("span",null,I):a.default.createElement(l.default,{value:M,type:d.PRIMARY,showEthLogo:!0,hideLabel:!0}),primaryTotalTextOverride:`${P} + ${A} ${b}`,primaryTotalTextOverrideMaxAmount:`${P} + ${C} ${b}`,secondaryTotalTextOverride:x})}_.propTypes={image:s.default.string,assetName:s.default.string,toAddress:s.default.string,tokenAddress:s.default.string,tokenAmount:s.default.string,tokenSymbol:s.default.string,tokenId:s.default.string,assetStandard:s.default.string,onEdit:s.default.func,ethTransactionTotal:s.default.string,fiatTransactionTotal:s.default.string,hexMaximumTransactionFee:s.default.string}}}},{package:"$root$",file:"ui/pages/confirm-token-transaction-base/confirm-token-transaction-base.js"}],[3975,{"./confirm-token-transaction-base":3974},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-token-transaction-base"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-token-transaction-base/index.js"}],[3976,{"../../../shared/constants/metametrics":3223,"../../../shared/constants/network":3224,"../../../shared/constants/transaction":3231,"../../../shared/lib/metamask-controller-utils":3234,"../../../shared/lib/transactions-controller-utils":3239,"../../../shared/modules/buffer-utils":3242,"../../components/app/confirm-page-container":3332,"../../components/app/gas-details-item":3389,"../../components/app/gas-timing/gas-timing.component":3390,"../../components/app/ledger-instruction-field":3396,"../../components/app/multilayer-fee-message":3467,"../../components/app/transaction-alerts":3545,"../../components/app/transaction-decoding":3559,"../../components/app/transaction-decoding/components/ui/copy-raw-data":3557,"../../components/app/transaction-detail-item/transaction-detail-item.component":3563,"../../components/app/transaction-detail/transaction-detail.component":3565,"../../components/app/user-preferenced-currency-display":3577,"../../components/ui/disclosure":3692,"../../components/ui/info-tooltip/info-tooltip":3747,"../../components/ui/loading-heartbeat":3752,"../../components/ui/simulation-error-message":3800,"../../components/ui/text-field":3816,"../../components/ui/typography/typography":3831,"../../contexts/transaction-modal":3840,"../../helpers/constants/common":3859,"../../helpers/constants/design-system":3861,"../../helpers/constants/error-keys":3862,"../../helpers/constants/routes":3865,"../../helpers/utils/conversions.util":3882,"../../helpers/utils/metrics":3891,"../../helpers/utils/transactions.util":3898,"../../store/actions":4273,"../send/send.constants":4140,"../send/send.utils":4142,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=G(e("prop-types")),r=G(e("../../components/app/confirm-page-container")),o=G(e("../../components/app/transaction-decoding")),i=e("../send/send.utils"),c=e("../../helpers/utils/conversions.util"),l=e("../../helpers/constants/routes"),u=e("../../helpers/constants/error-keys"),d=G(e("../../components/app/user-preferenced-currency-display")),p=G(e("../../components/app/transaction-decoding/components/ui/copy-raw-data")),m=e("../../helpers/constants/common"),f=G(e("../../components/ui/text-field")),h=G(e("../../components/ui/simulation-error-message")),g=G(e("../../components/ui/disclosure")),T=e("../../../shared/constants/metametrics"),E=e("../../../shared/constants/transaction"),_=e("../../helpers/utils/metrics"),v=e("../../helpers/utils/transactions.util"),y=e("../../../shared/modules/buffer-utils"),A=e("../../contexts/transaction-modal"),S=G(e("../../components/app/transaction-detail/transaction-detail.component")),k=G(e("../../components/app/transaction-detail-item/transaction-detail-item.component")),O=G(e("../../components/ui/info-tooltip/info-tooltip")),N=G(e("../../components/ui/loading-heartbeat")),b=G(e("../../components/app/gas-details-item")),w=G(e("../../components/app/gas-timing/gas-timing.component")),R=G(e("../../components/app/ledger-instruction-field")),C=G(e("../../components/app/multilayer-fee-message")),P=G(e("../../components/ui/typography/typography")),I=e("../../helpers/constants/design-system"),M=e("../../store/actions"),x=e("../send/send.constants"),D=e("../../../shared/lib/metamask-controller-utils"),F=e("../../../shared/lib/transactions-controller-utils"),L=e("../../../shared/constants/network"),U=G(e("../../components/app/transaction-alerts"));function G(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const W=()=>a.default.createElement(N.default,null);class H extends a.Component{constructor(...e){super(...e),$(this,"state",{submitting:!1,submitError:null,submitWarning:"",ethGasPriceWarning:"",editingGas:!1,userAcknowledgedGasMissing:!1,showWarningModal:!1}),$(this,"_beforeUnloadForGasPolling",(()=>{this._isMounted=!1,this.state.pollingToken&&((0,M.disconnectGasFeeEstimatePoller)(this.state.pollingToken),(0,M.removePollingTokenFromAppState)(this.state.pollingToken))})),$(this,"_removeBeforeUnload",(()=>{window.removeEventListener("beforeunload",this._beforeUnloadForGasPolling)})),$(this,"supportsEIP1559",this.props.supportsEIP1559&&!(0,v.isLegacyTransaction)(this.props.txData))}componentDidUpdate(e){const{transactionStatus:t,showTransactionConfirmedModal:n,history:a,clearConfirmTransaction:s,nextNonce:r,customNonceValue:o,toAddress:i,tryReverseResolveAddress:c,isEthGasPrice:d,setDefaultHomeActiveTabName:p}=this.props,{customNonceValue:m,nextNonce:f,toAddress:h,transactionStatus:g,isEthGasPrice:T}=e,_=t!==g,v=t===E.TransactionStatus.dropped||t===E.TransactionStatus.confirmed;r===f&&o===m||(null!==r&&o>r?this.setState({submitWarning:this.context.t("nextNonceWarning",[r])}):this.setState({submitWarning:""})),_&&v&&n({onSubmit:()=>{s(),p("activity").then((()=>{a.push(l.DEFAULT_ROUTE)}))}}),i&&i!==h&&c(i),d!==T&&(d?this.setState({ethGasPriceWarning:this.context.t(u.ETH_GAS_PRICE_FETCH_WARNING_KEY)}):this.setState({ethGasPriceWarning:""}))}getErrorKey(){const{balance:e,conversionRate:t,hexMaximumTransactionFee:n,txData:{txParams:{value:a}={}}={},customGas:s,noGasPrice:r,gasFeeIsCustom:o}=this.props;return e&&!(0,i.isBalanceSufficient)({amount:a,gasTotal:n||"0x0",balance:e,conversionRate:t})?{valid:!1,errorKey:u.INSUFFICIENT_FUNDS_ERROR_KEY}:(0,D.hexToDecimal)(s.gasLimit)<Number(x.MIN_GAS_LIMIT_DEC)?{valid:!1,errorKey:u.GAS_LIMIT_TOO_LOW_ERROR_KEY}:r&&!o?{valid:!1,errorKey:u.GAS_PRICE_FETCH_FAILURE_ERROR_KEY}:{valid:!0}}handleEditGas(){const{actionKey:e,txData:{origin:t},methodData:n={}}=this.props;this.context.trackEvent({category:T.EVENT.CATEGORIES.TRANSACTIONS,event:'User clicks "Edit" on gas',properties:{action:"Confirm Screen",legacy_event:!0,recipientKnown:null,functionType:e||(0,_.getMethodName)(n.name)||E.TransactionType.contractInteraction,origin:t}}),this.setState({editingGas:!0})}handleCloseEditGas(){this.setState({editingGas:!1})}setUserAcknowledgedGasMissing(){this.setState({userAcknowledgedGasMissing:!0})}renderDetails(){var e,t;const{primaryTotalTextOverride:n,secondaryTotalTextOverride:s,hexMinimumTransactionFee:r,hexMaximumTransactionFee:o,hexTransactionTotal:i,useNonceField:l,customNonceValue:u,updateCustomNonce:p,nextNonce:g,getNextNonce:T,txData:E,useNativeCurrencyAsPrimaryCurrency:_,primaryTotalTextOverrideMaxAmount:v,maxFeePerGas:y,maxPriorityFeePerGas:A,isMainnet:M,showLedgerSteps:x,supportsEIP1559:D,isMultiLayerFeeNetwork:G,nativeCurrency:j,isBuyableChain:$,useCurrencyRateCheck:H}=this.props,{t:B}=this.context,{userAcknowledgedGasMissing:V}=this.state,{valid:q}=this.getErrorKey(),Y=Boolean(E.simulationFails)&&!V,K=L.NETWORK_TO_NAME_MAP[E.chainId],z=l?a.default.createElement("div",null,a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement("div",{className:"confirm-detail-row__label"},B("nonceFieldHeading")),a.default.createElement("div",{className:"custom-nonce-input"},a.default.createElement(f.default,{type:"number",min:0,placeholder:"number"==typeof g?g.toString():null,onChange:({target:{value:e}})=>{!e.length||Number(e)<0?p(""):p(String(Math.floor(e))),T()},fullWidth:!0,margin:"dense",value:u||""})))):null;return a.default.createElement("div",{className:"confirm-page-container-content__details"},a.default.createElement(U.default,{setUserAcknowledgedGasMissing:()=>this.setUserAcknowledgedGasMissing(),userAcknowledgedGasMissing:V,nativeCurrency:j,networkName:K,type:E.type,isBuyableChain:$}),a.default.createElement(S.default,{disabled:!V&&!q,userAcknowledgedGasMissing:V,onEdit:Y||G?null:()=>this.handleEditGas(),rows:[Y&&!this.supportsEIP1559&&(()=>a.default.createElement("div",{className:"confirm-page-container-content__error-container"},a.default.createElement(h.default,{userAcknowledgedGasMissing:V,setUserAcknowledgedGasMissing:()=>this.setUserAcknowledgedGasMissing()})))(),!Y&&!G&&(()=>this.supportsEIP1559?a.default.createElement(b.default,{key:"gas_details",userAcknowledgedGasMissing:V}):a.default.createElement(k.default,{key:"gas-item",detailTitle:E.dappSuggestedGasFees?a.default.createElement(a.default.Fragment,null,B("transactionDetailGasHeading"),a.default.createElement(O.default,{contentText:B("transactionDetailDappGasTooltip"),position:"top"},a.default.createElement("i",{className:"fa fa-info-circle"}))):a.default.createElement(a.default.Fragment,null,B("transactionDetailGasHeading"),a.default.createElement(O.default,{contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",null,B("transactionDetailGasTooltipIntro",[M?B("networkNameEthereum"):""])),a.default.createElement("p",null,B("transactionDetailGasTooltipExplanation")),a.default.createElement("p",null,a.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},B("transactionDetailGasTooltipConversion")))),position:"top"},a.default.createElement("i",{className:"fa fa-info-circle"}))),detailText:H&&a.default.createElement("div",{className:"confirm-page-container-content__currency-container test"},W(),a.default.createElement(d.default,{type:m.SECONDARY,value:r,hideLabel:Boolean(_)})),detailTotal:a.default.createElement("div",{className:"confirm-page-container-content__currency-container"},W(),a.default.createElement(d.default,{type:m.PRIMARY,value:r,hideLabel:!_,numberOfDecimals:6})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement("strong",{key:"editGasSubTextFeeLabel"},B("editGasSubTextFeeLabel")),a.default.createElement("div",{key:"editGasSubTextFeeValue",className:"confirm-page-container-content__currency-container"},W(),a.default.createElement(d.default,{key:"editGasSubTextFeeAmount",type:m.PRIMARY,value:o,hideLabel:!_}))),subTitle:a.default.createElement(a.default.Fragment,null,E.dappSuggestedGasFees?a.default.createElement(P.default,{variant:I.TYPOGRAPHY.H7,fontStyle:I.FONT_STYLE.ITALIC,color:I.COLORS.TEXT_ALTERNATIVE},B("transactionDetailDappGasMoreInfo")):"",D&&a.default.createElement(w.default,{maxPriorityFeePerGas:(0,F.hexWEIToDecGWEI)(A||E.txParams.maxPriorityFeePerGas).toString(),maxFeePerGas:(0,F.hexWEIToDecGWEI)(y||E.txParams.maxFeePerGas).toString()}))}))(),!Y&&G&&a.default.createElement(C.default,{transaction:E,layer2fee:r,nativeCurrency:j}),!G&&a.default.createElement(k.default,{key:"total-item",detailTitle:B("total"),detailText:H&&(()=>{var e;return n===undefined&&s===undefined?a.default.createElement("div",{className:"confirm-page-container-content__total-value"},a.default.createElement(N.default,{estimateUsed:null===(e=this.props.txData)||void 0===e?void 0:e.userFeeLevel}),a.default.createElement(d.default,{type:m.SECONDARY,key:"total-detail-text",value:i,hideLabel:Boolean(_)})):_?s:n})(),detailTotal:(()=>{var e;return n===undefined&&s===undefined?a.default.createElement("div",{className:"confirm-page-container-content__total-value"},a.default.createElement(N.default,{estimateUsed:null===(e=this.props.txData)||void 0===e?void 0:e.userFeeLevel}),a.default.createElement(d.default,{type:m.PRIMARY,key:"total-detail-value",value:i,hideLabel:!_})):_?n:s})(),subTitle:B("transactionDetailGasTotalSubtitle"),subText:a.default.createElement("div",{className:"confirm-page-container-content__total-amount"},a.default.createElement(N.default,{estimateUsed:null===(e=this.props.txData)||void 0===e?void 0:e.userFeeLevel}),a.default.createElement("strong",{key:"editGasSubTextAmountLabel"},B("editGasSubTextAmountLabel"))," ",v===undefined&&s===undefined?a.default.createElement(d.default,{type:m.PRIMARY,key:"total-max-amount",value:(0,c.addHexes)(E.txParams.value,o),hideLabel:!_}):_?v:s)})]}),z,x?a.default.createElement(R.default,{showDataInstruction:Boolean(null===(t=E.txParams)||void 0===t?void 0:t.data)}):null)}renderData(e){const{t:t}=this.context,{txData:{txParams:n}={},methodData:{params:s}={},hideData:r,dataComponent:i}=this.props;if(r)return null;const c=null!=s&&s.length?`(${s.map((({type:e})=>e)).join(", ")})`:"";return i||a.default.createElement("div",{className:"confirm-page-container-content__data"},a.default.createElement("div",{className:"confirm-page-container-content__data-box-label"},`${t("functionType")}:`,a.default.createElement("span",{className:"confirm-page-container-content__function-type"},`${e} ${c}`)),a.default.createElement(g.default,null,a.default.createElement(o.default,{to:null==n?void 0:n.to,inputData:null==n?void 0:n.data})))}renderDataHex(e){const{t:t}=this.context,{txData:{txParams:n}={},methodData:{params:s}={},hideData:r,dataHexComponent:o}=this.props;if(r||!n.to)return null;const i=null!=s&&s.length?`(${s.map((({type:e})=>e)).join(", ")})`:"";return o||a.default.createElement("div",{className:"confirm-page-container-content__data"},a.default.createElement("div",{className:"confirm-page-container-content__data-box-label"},`${t("functionType")}:`,a.default.createElement("span",{className:"confirm-page-container-content__function-type"},`${e} ${i}`)),s&&a.default.createElement("div",{className:"confirm-page-container-content__data-box"},a.default.createElement("div",{className:"confirm-page-container-content__data-field-label"},`${t("parameters")}:`),a.default.createElement("div",null,a.default.createElement("pre",null,JSON.stringify(s,null,2)))),a.default.createElement("div",{className:"confirm-page-container-content__data-box-label"},`${t("hexData")}: ${(0,y.toBuffer)(null==n?void 0:n.data).length} bytes`),a.default.createElement("div",{className:"confirm-page-container-content__data-box"},null==n?void 0:n.data),a.default.createElement(p.default,{data:null==n?void 0:n.data}))}handleEdit(){const{txData:e,tokenData:t,tokenProps:n,onEdit:a,actionKey:s,txData:{origin:r},methodData:o={}}=this.props;this.context.trackEvent({category:T.EVENT.CATEGORIES.TRANSACTIONS,event:"Edit Transaction",properties:{action:"Confirm Screen",legacy_event:!0,recipientKnown:null,functionType:s||(0,_.getMethodName)(o.name)||E.TransactionType.contractInteraction,origin:r}}),a({txData:e,tokenData:t,tokenProps:n})}handleCancelAll(){const{cancelAllTransactions:e,clearConfirmTransaction:t,history:n,mostRecentOverviewPage:a,showRejectTransactionsConfirmationModal:s,unapprovedTxCount:r}=this.props;s({unapprovedTxCount:r,onSubmit:async()=>{this._removeBeforeUnload(),await e(),t(),n.push(a)}})}handleCancel(){const{txData:e,cancelTransaction:t,history:n,mostRecentOverviewPage:a,clearConfirmTransaction:s,updateCustomNonce:r}=this.props;this._removeBeforeUnload(),r(""),t(e).then((()=>{s(),n.push(a)}))}handleSubmit(){const{sendTransaction:e,clearConfirmTransaction:t,txData:n,history:a,mostRecentOverviewPage:s,updateCustomNonce:r,maxFeePerGas:o,customTokenAmount:i,dappProposedTokenAmount:c,currentTokenBalance:l,maxPriorityFeePerGas:u,baseFeePerGas:d,methodData:p}=this.props,{submitting:m}=this.state,{name:f}=p;m||(d&&(n.estimatedBaseFee=d),f&&(n.contractMethodName=f),c&&(n.dappProposedTokenAmount=c,n.originalApprovalAmount=c),i?(n.customTokenAmount=i,n.finalApprovalAmount=i):c!==undefined&&(n.finalApprovalAmount=c),l&&(n.currentTokenBalance=l),o&&(n.txParams={...n.txParams,maxFeePerGas:o}),u&&(n.txParams={...n.txParams,maxPriorityFeePerGas:u}),this.setState({submitting:!0,submitError:null},(()=>{this._removeBeforeUnload(),e(n).then((()=>{t(),this.setState({submitting:!1},(()=>{a.push(s),r("")}))})).catch((e=>{this.setState({submitting:!1,submitError:e.message}),r("")}))})))}handleSetApprovalForAll(){this.setState({showWarningModal:!0})}renderTitleComponent(){const{title:e,hexTransactionAmount:t,txData:n}=this.props;if(e)return null;const s=n.type===E.TransactionType.contractInteraction;return a.default.createElement(d.default,{value:t,type:m.PRIMARY,showEthLogo:!0,ethLogoHeight:24,hideLabel:!s,showCurrencySuffix:s})}renderSubtitleComponent(){const{subtitleComponent:e,hexTransactionAmount:t}=this.props;return e||a.default.createElement(d.default,{value:t,type:m.SECONDARY,showEthLogo:!0,hideLabel:!0})}componentDidMount(){this._isMounted=!0;const{toAddress:e,txData:{origin:t}={},getNextNonce:n,tryReverseResolveAddress:a}=this.props,{trackEvent:s}=this.context;s({category:T.EVENT.CATEGORIES.TRANSACTIONS,event:"Confirm: Started",properties:{action:"Confirm Screen",legacy_event:!0,origin:t}}),n(),e&&a(e),(0,M.getGasFeeEstimatesAndStartPolling)().then((e=>{this._isMounted?((0,M.addPollingTokenToAppState)(e),this.setState({pollingToken:e})):((0,M.disconnectGasFeeEstimatePoller)(e),(0,M.removePollingTokenFromAppState)(this.state.pollingToken))})),window.addEventListener("beforeunload",this._beforeUnloadForGasPolling)}componentWillUnmount(){this._beforeUnloadForGasPolling(),this._removeBeforeUnload()}render(){const{t:e}=this.context,{fromName:t,fromAddress:n,toName:s,toAddress:o,toEns:i,toNickname:c,methodData:l,title:u,hideSubtitle:d,tokenAddress:p,contentComponent:m,onEdit:f,nonce:h,customNonceValue:g,unapprovedTxCount:T,type:y,hideSenderToRecipient:S,showAccountInHeader:k,txData:O,gasIsLoading:N,gasFeeIsCustom:b,nativeCurrency:w,hardwareWalletRequiresConnection:R,image:C,isApprovalOrRejection:P,assetStandard:I}=this.props,{submitting:M,submitError:x,submitWarning:D,ethGasPriceWarning:F,editingGas:L,userAcknowledgedGasMissing:U,showWarningModal:G}=this.state,{name:j}=l,{valid:$,errorKey:W}=this.getErrorKey(),H=Boolean(O.simulationFails),B=H&&!U,V=O.type===E.TransactionType.tokenMethodSetApprovalForAll||O.type===E.TransactionType.tokenMethodApprove,q=O.type===E.TransactionType.contractInteraction,Y=(V||q)&&"metamask"!==O.origin;let K;return Y&&(K=(0,_.getMethodName)(j)),K||(K=y?(0,v.getTransactionTypeTitle)(e,y,w):e("contractInteraction")),a.default.createElement(A.TransactionModalContextProvider,null,a.default.createElement(r.default,{fromName:t,fromAddress:n,showAccountInHeader:k,toName:s,toAddress:o,toEns:i,toNickname:c,showEdit:!Y&&Boolean(f),action:K,title:u,image:C,titleComponent:this.renderTitleComponent(),subtitleComponent:this.renderSubtitleComponent(),hideSubtitle:d,detailsComponent:this.renderDetails(),dataComponent:this.renderData(K),dataHexComponent:this.renderDataHex(K),contentComponent:m,nonce:g||h,unapprovedTxCount:T,tokenAddress:p,errorMessage:x,errorKey:W,hasSimulationError:H,warning:D,disabled:B||!$||M||R||N&&!b,onEdit:()=>this.handleEdit(),onCancelAll:()=>this.handleCancelAll(),onCancel:()=>this.handleCancel(),onSubmit:()=>this.handleSubmit(),onSetApprovalForAll:()=>this.handleSetApprovalForAll(),showWarningModal:G,hideSenderToRecipient:S,origin:O.origin,ethGasPriceWarning:F,editingGas:L,handleCloseEditGas:()=>this.handleCloseEditGas(),currentTransaction:O,supportsEIP1559:this.supportsEIP1559,nativeCurrency:w,isApprovalOrRejection:P,assetStandard:I,txData:O}))}}n.default=H,$(H,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),$(H,"propTypes",{history:s.default.object,balance:s.default.string,cancelTransaction:s.default.func,cancelAllTransactions:s.default.func,clearConfirmTransaction:s.default.func,conversionRate:s.default.number,fromAddress:s.default.string,fromName:s.default.string,hexTransactionAmount:s.default.string,hexMinimumTransactionFee:s.default.string,hexMaximumTransactionFee:s.default.string,hexTransactionTotal:s.default.string,methodData:s.default.object,nonce:s.default.string,useNonceField:s.default.bool,customNonceValue:s.default.string,updateCustomNonce:s.default.func,sendTransaction:s.default.func,showTransactionConfirmedModal:s.default.func,showRejectTransactionsConfirmationModal:s.default.func,toAddress:s.default.string,tokenData:s.default.object,tokenProps:s.default.object,toName:s.default.string,toEns:s.default.string,toNickname:s.default.string,transactionStatus:s.default.string,txData:s.default.object,unapprovedTxCount:s.default.number,customGas:s.default.object,actionKey:s.default.string,contentComponent:s.default.node,dataComponent:s.default.node,dataHexComponent:s.default.node,hideData:s.default.bool,hideSubtitle:s.default.bool,tokenAddress:s.default.string,customTokenAmount:s.default.string,dappProposedTokenAmount:s.default.string,currentTokenBalance:s.default.string,onEdit:s.default.func,subtitleComponent:s.default.node,title:s.default.string,image:s.default.string,type:s.default.string,getNextNonce:s.default.func,nextNonce:s.default.number,tryReverseResolveAddress:s.default.func.isRequired,hideSenderToRecipient:s.default.bool,showAccountInHeader:s.default.bool,mostRecentOverviewPage:s.default.string.isRequired,isEthGasPrice:s.default.bool,noGasPrice:s.default.bool,setDefaultHomeActiveTabName:s.default.func,primaryTotalTextOverride:s.default.string,secondaryTotalTextOverride:s.default.string,gasIsLoading:s.default.bool,primaryTotalTextOverrideMaxAmount:s.default.string,useNativeCurrencyAsPrimaryCurrency:s.default.bool,maxFeePerGas:s.default.string,maxPriorityFeePerGas:s.default.string,baseFeePerGas:s.default.string,isMainnet:s.default.bool,gasFeeIsCustom:s.default.bool,showLedgerSteps:s.default.bool.isRequired,nativeCurrency:s.default.string,supportsEIP1559:s.default.bool,hardwareWalletRequiresConnection:s.default.bool,isMultiLayerFeeNetwork:s.default.bool,isBuyableChain:s.default.bool,isApprovalOrRejection:s.default.bool,assetStandard:s.default.string,useCurrencyRateCheck:s.default.bool})}}},{package:"$root$",file:"ui/pages/confirm-transaction-base/confirm-transaction-base.component.js"}],[3977,{"../../../shared/constants/gas":3219,"../../../shared/constants/transaction":3231,"../../../shared/lib/transactions-controller-utils":3239,"../../../shared/modules/hexstring-utils":3247,"../../../shared/modules/string-utils":3254,"../../../shared/modules/transaction.utils":3256,"../../ducks/app/app":3845,"../../ducks/confirm-transaction/confirm-transaction.duck":3846,"../../ducks/history/history":3850,"../../ducks/metamask/metamask":3853,"../../helpers/utils/token-util":3897,"../../helpers/utils/transactions.util":3898,"../../helpers/utils/util":3900,"../../selectors":4266,"../../store/actions":4273,"../send/send.utils":4142,"./confirm-transaction-base.component":3976,"react-redux":2990,"react-router-dom":3010,redux:3054},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.mapDispatchToProps=n.default=void 0;var a,s=e("react-redux"),r=e("redux"),o=e("react-router-dom"),i=e("../../ducks/confirm-transaction/confirm-transaction.duck"),c=e("../../store/actions"),l=e("../send/send.utils"),u=e("../../helpers/utils/util"),d=e("../../selectors"),p=e("../../ducks/history/history"),m=e("../../ducks/metamask/metamask"),f=e("../../../shared/modules/transaction.utils"),h=e("../../../shared/modules/hexstring-utils"),g=e("../../ducks/app/app"),T=e("../../helpers/utils/transactions.util"),E=e("../../../shared/constants/gas"),_=e("../../../shared/constants/transaction"),v=e("../../../shared/modules/string-utils"),y=e("../../helpers/utils/token-util"),A=e("../../../shared/lib/transactions-controller-utils"),S=(a=e("./confirm-transaction-base.component"))&&a.__esModule?a:{default:a};let k="";const O=e=>({tryReverseResolveAddress:t=>e((0,c.tryReverseResolveAddress)(t)),updateCustomNonce:t=>{k=t,e((0,c.updateCustomNonce)(t))},clearConfirmTransaction:()=>e((0,i.clearConfirmTransaction)()),showTransactionConfirmedModal:({onSubmit:t})=>e((0,c.showModal)({name:"TRANSACTION_CONFIRMED",onSubmit:t})),showRejectTransactionsConfirmationModal:({onSubmit:t,unapprovedTxCount:n})=>e((0,c.showModal)({name:"REJECT_TRANSACTIONS",onSubmit:t,unapprovedTxCount:n})),cancelTransaction:({id:t})=>e((0,c.cancelTx)({id:t})),cancelAllTransactions:t=>e((0,c.cancelTxs)(t)),sendTransaction:t=>e((0,c.updateAndApproveTx)((e=>k?{...e,customNonceValue:k}:e)(t))),getNextNonce:()=>e((0,c.getNextNonce)()),setDefaultHomeActiveTabName:t=>e((0,c.setDefaultHomeActiveTabName)(t)),updateTransactionGasFees:t=>{e((0,m.updateGasFees)({...t,expectHexWei:!0}))}});n.mapDispatchToProps=O;var N=(0,r.compose)(o.withRouter,(0,s.connect)(((e,t)=>{var n,a,s,r,o;const{toAddress:i,customTxParamsData:c,match:{params:S={}}}=t,{id:O}=S,N=(0,d.getIsMainnet)(e),b=(0,m.getIsGasEstimatesLoading)(e),w=(0,g.getGasLoadingAnimationIsShowing)(e),R=(0,d.getIsBuyableChain)(e),{confirmTransaction:C,metamask:P}=e,{conversionRate:I,identities:M,addressBook:x,network:D,unapprovedTxs:F,nextNonce:L,allNftContracts:U,selectedAddress:G,provider:{chainId:j}}=P,{tokenData:$,txData:W,tokenProps:H,nonce:B}=C,{txParams:V={},id:q,type:Y}=W,K=q||Number(O),z=(0,d.getUnapprovedTransaction)(e,K),{from:Q,to:X,gasPrice:Z,gas:J,value:ee,data:te}=z&&z.txParams||V,ne=(0,d.getMetaMaskAccounts)(e),ae=(0,f.parseStandardTokenTransactionData)(te),se=(0,y.getTokenAddressParam)(ae),{balance:re}=ne[Q],{name:oe}=M[Q];let ie=X;Y!==_.TransactionType.simpleSend&&(ie=i||se||X);const ce=(0,d.getTokenList)(e),le=(null===(n=M[ie])||void 0===n?void 0:n.name)||(null===(a=ce[null===(s=ie)||void 0===s?void 0:s.toLowerCase()])||void 0===a?void 0:a.name)||(0,u.shortenAddress)((0,h.toChecksumHexAddress)(ie)),ue=(0,h.toChecksumHexAddress)(ie),de=x&&x[j]&&x[j][ue],pe=(0,d.getEnsResolutionByAddress)(e,ue),me=de?de.name:"",fe=z?z.status:"",he=(0,d.checkNetworkAndAccountSupports1559)(e)&&!(0,T.isLegacyTransaction)(V),{hexTransactionAmount:ge,hexMinimumTransactionFee:Te,hexMaximumTransactionFee:Ee,hexTransactionTotal:_e,gasEstimationObject:ve}=(0,d.transactionFeeSelector)(e,z),ye=Object.keys(F).filter((e=>(0,f.transactionMatchesNetwork)(F[e],j,D))).reduce(((e,t)=>({...e,[t]:F[t]})),{}),Ae=(0,u.valuesFor)(ye).length,Se=!(0,l.isBalanceSufficient)({amount:ee,gasTotal:(0,A.calcGasTotal)(J,Z),balance:re,conversionRate:I}),ke=(0,d.getKnownMethodData)(e,te)||{},Oe=(0,d.getFullTxData)(e,K,_.TransactionStatus.unapproved,c),Ne=Boolean(null==U||null===(r=U[G])||void 0===r||null===(o=r[j])||void 0===o?void 0:o.find((e=>(0,v.isEqualCaseInsensitive)(e.address,Oe.txParams.to))));k=(0,d.getCustomNonceValue)(e);const be=(0,d.getIsEthGasPriceFetched)(e),we=!he&&(0,d.getNoGasPriceFetched)(e),{useNativeCurrencyAsPrimaryCurrency:Re}=(0,d.getPreferences)(e),Ce=Oe.userFeeLevel===E.CUSTOM_GAS_ESTIMATE||(0,f.txParamsAreDappSuggested)(Oe),Pe=(0,m.isAddressLedger)(e,Q),Ie=(0,m.getNativeCurrency)(e),Me=(0,d.doesAddressRequireLedgerHidConnection)(e,Q),xe=(0,d.getIsMultiLayerFeeNetwork)(e);return{balance:re,fromAddress:Q,fromName:oe,toAddress:ie,toEns:pe,toName:le,toNickname:me,hexTransactionAmount:ge,hexMinimumTransactionFee:Te,hexMaximumTransactionFee:Ee,hexTransactionTotal:_e,txData:Oe,tokenData:$,methodData:ke,tokenProps:H,conversionRate:I,transactionStatus:fe,nonce:B,unapprovedTxs:F,unapprovedTxCount:Ae,customGas:{gasLimit:J,gasPrice:Z},advancedInlineGasShown:(0,d.getAdvancedInlineGasShown)(e),useNonceField:(0,d.getUseNonceField)(e),customNonceValue:k,insufficientBalance:Se,hideSubtitle:!(0,d.getShouldShowFiat)(e)&&!Ne,hideFiatConversion:!(0,d.getShouldShowFiat)(e),type:Y,nextNonce:L,mostRecentOverviewPage:(0,p.getMostRecentOverviewPage)(e),isMainnet:N,isEthGasPrice:be,noGasPrice:we,supportsEIP1559:he,gasIsLoading:b||w,useNativeCurrencyAsPrimaryCurrency:Re,maxFeePerGas:ve.maxFeePerGas,maxPriorityFeePerGas:ve.maxPriorityFeePerGas,baseFeePerGas:ve.baseFeePerGas,gasFeeIsCustom:Ce,showLedgerSteps:Pe,nativeCurrency:Ie,hardwareWalletRequiresConnection:Me,isMultiLayerFeeNetwork:xe,chainId:j,isBuyableChain:R,useCurrencyRateCheck:(0,d.getUseCurrencyRateCheck)(e)}}),O,((e,t,n)=>{const{txData:a,unapprovedTxs:s}=e,{cancelAllTransactions:r,updateTransactionGasFees:o,...i}=t;return{...e,...i,...n,cancelAllTransactions:()=>r((0,u.valuesFor)(s)),updateGasAndCalculate:({gasLimit:e,gasPrice:t})=>{o({gasLimit:e,gasPrice:t,transaction:a})}}})))(S.default);n.default=N}}},{package:"$root$",file:"ui/pages/confirm-transaction-base/confirm-transaction-base.container.js"}],[3978,{"./confirm-transaction-base.container":3977},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirm-transaction-base.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-transaction-base/index.js"}],[3979,{"../../../shared/constants/app":3218,"../../../shared/constants/transaction":3231,"../../components/ui/loading-screen":3755,"../../helpers/constants/routes":3865,"prop-types":2838,react:3037,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s,r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=m(e("prop-types")),c=e("react-router-dom"),l=m(e("../../components/ui/loading-screen")),u=e("../../helpers/constants/routes"),d=e("../../../shared/constants/app"),p=e("../../../shared/constants/transaction");function m(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}class h extends o.Component{redirectToTransaction(){const{txData:e}=this.props,{id:t,txParams:{data:n}={},type:a}=e;if(a===p.TransactionType.deployContract){const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_DEPLOY_CONTRACT_PATH}`;return o.default.createElement(c.Redirect,{to:{pathname:e}})}if(a===p.TransactionType.simpleSend){const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_SEND_ETHER_PATH}`;return o.default.createElement(c.Redirect,{to:{pathname:e}})}if(n)switch(a){case p.TransactionType.tokenMethodTransfer:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_SEND_TOKEN_PATH}`;return o.default.createElement(c.Redirect,{to:{pathname:e}})}case p.TransactionType.tokenMethodApprove:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_APPROVE_PATH}`;return o.default.createElement(c.Redirect,{to:{pathname:e}})}case p.TransactionType.tokenMethodSetApprovalForAll:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_SET_APPROVAL_FOR_ALL_PATH}`;return o.default.createElement(c.Redirect,{to:{pathname:e}})}case p.TransactionType.tokenMethodTransferFrom:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_TRANSFER_FROM_PATH}`;return o.default.createElement(c.Redirect,{to:{pathname:e}})}case p.TransactionType.tokenMethodSafeTransferFrom:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_SAFE_TRANSFER_FROM_PATH}`;return o.default.createElement(c.Redirect,{to:{pathname:e}})}default:{const e=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_TOKEN_METHOD_PATH}`;return o.default.createElement(c.Redirect,{to:{pathname:e}})}}const s=`${u.CONFIRM_TRANSACTION_ROUTE}/${t}${u.CONFIRM_SEND_ETHER_PATH}`;return o.default.createElement(c.Redirect,{to:{pathname:s}})}render(){const{txData:e}=this.props;if(e.txParams)return this.redirectToTransaction();if(e.msgParams){let t=`${u.CONFIRM_TRANSACTION_ROUTE}/${e.id}${u.SIGNATURE_REQUEST_PATH}`;return e.type===d.MESSAGE_TYPE.ETH_DECRYPT?t=`${u.CONFIRM_TRANSACTION_ROUTE}/${e.id}${u.DECRYPT_MESSAGE_REQUEST_PATH}`:e.type===d.MESSAGE_TYPE.ETH_GET_ENCRYPTION_PUBLIC_KEY&&(t=`${u.CONFIRM_TRANSACTION_ROUTE}/${e.id}${u.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH}`),o.default.createElement(c.Redirect,{to:{pathname:t}})}return o.default.createElement(l.default,null)}}n.default=h,a=h,s="propTypes",r={txData:i.default.object},s in a?Object.defineProperty(a,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[s]=r}}},{package:"$root$",file:"ui/pages/confirm-transaction-switch/confirm-transaction-switch.component.js"}],[3980,{"../../selectors":4266,"./confirm-transaction-switch.component":3979,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../selectors"),o=(a=e("./confirm-transaction-switch.component"))&&a.__esModule?a:{default:a};var i=(0,s.connect)(((e,t)=>{const{metamask:{unapprovedTxs:n}}=e,{match:{params:a={},url:s}}=t,o=(null==s?void 0:s.match(/\d+/u))&&(null==s?void 0:s.match(/\d+/u)[0]),{id:i}=a,c=i||o,l=(0,r.unconfirmedTransactionsListSelector)(e);return{txData:l.length?n[c]||l[0]:{}}}))(o.default);n.default=i}}},{package:"$root$",file:"ui/pages/confirm-transaction-switch/confirm-transaction-switch.container.js"}],[3981,{"./confirm-transaction-switch.container":3980},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=((a=e("./confirm-transaction-switch.container"))&&a.__esModule?a:{default:a}).default;n.default=s}}},{package:"$root$",file:"ui/pages/confirm-transaction-switch/index.js"}],[3982,{"../../../shared/constants/app":3218,"../../../shared/constants/transaction":3231,"../../components/app/signature-request":3516,"../../components/app/signature-request-original":3503,"../../components/app/signature-request-siwe":3508,"../../components/ui/loading-screen":3755,"../../ducks/history/history":3850,"../../ducks/send":3855,"../../helpers/utils/tx-helper":3899,"../../store/actions":4273,loglevel:2750,"prop-types":2838,react:3037,"react-redux":2990,"react-router-dom":3010,redux:3054},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s,r,o=S(e("prop-types")),i=A(e("react")),c=e("react-redux"),l=e("react-router-dom"),u=e("redux"),d=S(e("loglevel")),p=A(e("../../store/actions")),m=S(e("../../helpers/utils/tx-helper")),f=S(e("../../components/app/signature-request")),h=(S(e("../../components/app/signature-request-siwe")),S(e("../../components/app/signature-request-original"))),g=S(e("../../components/ui/loading-screen")),T=e("../../ducks/history/history"),E=e("../../../shared/constants/app"),_=e("../../../shared/constants/transaction"),v=e("../../ducks/send");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}function S(e){return e&&e.__esModule?e:{default:e}}class k extends i.Component{getUnapprovedMessagesTotal(){const{unapprovedMsgCount:e=0,unapprovedPersonalMsgCount:t=0,unapprovedTypedMessagesCount:n=0}=this.props;return n+e+t}getTxData(){const{network:e,index:t,unapprovedTxs:n,unapprovedMsgs:a,unapprovedPersonalMsgs:s,unapprovedTypedMessages:r,match:{params:{id:o}={}},chainId:i}=this.props,c=(0,m.default)(n,a,s,r,e,i);return d.default.info(`rendering a combined ${c.length} unconf msgs & txs`),o?c.find((({id:e})=>`${e}`===o)):c[t]}signatureSelect(e){const{type:t,msgParams:{version:n,siwe:a}}=e;return t!==E.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA||"V3"!==n&&"V4"!==n?h.default:f.default}signMessage(e,t){d.default.info("conf-tx.js: signing message");const n=e.msgParams;return n.metamaskId=e.id,this.stopPropagation(t),this.props.dispatch(p.signMsg(n))}stopPropagation(e){null!=e&&e.stopPropagation&&e.stopPropagation()}signPersonalMessage(e,t){d.default.info("conf-tx.js: signing personal message");const n=e.msgParams;return n.metamaskId=e.id,this.stopPropagation(t),this.props.dispatch(p.signPersonalMsg(n))}signTypedMessage(e,t){d.default.info("conf-tx.js: signing typed message");const n=e.msgParams;return n.metamaskId=e.id,this.stopPropagation(t),this.props.dispatch(p.signTypedMsg(n))}cancelMessage(e,t){return d.default.info("canceling message"),this.stopPropagation(t),this.props.dispatch(p.cancelMsg(e))}cancelPersonalMessage(e,t){return d.default.info("canceling personal message"),this.stopPropagation(t),this.props.dispatch(p.cancelPersonalMsg(e))}cancelTypedMessage(e,t){return d.default.info("canceling typed message"),this.stopPropagation(t),this.props.dispatch(p.cancelTypedMsg(e))}componentDidMount(){const{unapprovedTxs:e={},history:t,mostRecentOverviewPage:n,network:a,chainId:s,sendTo:r}=this.props;0!==(0,m.default)(e,{},{},{},a,s).length||r||0!==this.getUnapprovedMessagesTotal()||t.push(n)}componentDidUpdate(e){const{unapprovedTxs:t={},network:n,chainId:a,currentNetworkTxList:s,sendTo:r,history:o,match:{params:{id:i}={}},mostRecentOverviewPage:c}=this.props;let l;if(i)l=s.find((({id:e})=>`${e}`===i));else{const{index:t,unapprovedTxs:r}=e,o=(0,m.default)(r,{},{},{},n,a)[t]||{};l=s.find((({id:e})=>e===o.id))||{}}const u=(0,m.default)(t,{},{},{},n,a);l&&l.status===_.TransactionStatus.dropped?this.props.dispatch(p.showModal({name:"TRANSACTION_CONFIRMED",onSubmit:()=>o.push(c)})):0!==u.length||r||0!==this.getUnapprovedMessagesTotal()||this.props.history.push(c)}render(){const{currentCurrency:e,blockGasLimit:t}=this.props,n=this.getTxData()||{},{msgParams:a}=n;if(d.default.debug("msgParams detected, rendering pending msg"),!a)return i.default.createElement(g.default,null);const s=this.signatureSelect(n);return i.default.createElement(s,{txData:n,key:n.id,identities:this.props.identities,currentCurrency:e,blockGasLimit:t,signMessage:this.signMessage.bind(this,n),signPersonalMessage:this.signPersonalMessage.bind(this,n),signTypedMessage:this.signTypedMessage.bind(this,n),cancelMessage:this.cancelMessage.bind(this,n),cancelPersonalMessage:this.cancelPersonalMessage.bind(this,n),cancelTypedMessage:this.cancelTypedMessage.bind(this,n)})}}a=k,s="propTypes",r={mostRecentOverviewPage:o.default.string.isRequired,unapprovedMsgCount:o.default.number,unapprovedPersonalMsgCount:o.default.number,unapprovedTypedMessagesCount:o.default.number,network:o.default.string,chainId:o.default.string,index:o.default.number,unapprovedTxs:o.default.object,unapprovedMsgs:o.default.object,unapprovedPersonalMsgs:o.default.object,unapprovedTypedMessages:o.default.object,match:o.default.shape({params:o.default.shape({id:o.default.string})}),currentNetworkTxList:o.default.array,currentCurrency:o.default.string,blockGasLimit:o.default.string,history:o.default.object,identities:o.default.object,dispatch:o.default.func.isRequired,sendTo:o.default.string},s in a?Object.defineProperty(a,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[s]=r;var O=(0,u.compose)(l.withRouter,(0,c.connect)((function(e){const{metamask:t,appState:n}=e,{unapprovedMsgCount:a,unapprovedPersonalMsgCount:s,unapprovedTypedMessagesCount:r}=t,{txId:o}=n;return{identities:e.metamask.identities,mostRecentOverviewPage:(0,T.getMostRecentOverviewPage)(e),unapprovedTxs:e.metamask.unapprovedTxs,unapprovedMsgs:e.metamask.unapprovedMsgs,unapprovedPersonalMsgs:e.metamask.unapprovedPersonalMsgs,unapprovedTypedMessages:e.metamask.unapprovedTypedMessages,index:o,warning:e.appState.warning,network:e.metamask.network,chainId:e.metamask.provider.chainId,currentCurrency:e.metamask.currentCurrency,blockGasLimit:e.metamask.currentBlockGasLimit,unapprovedMsgCount:a,unapprovedPersonalMsgCount:s,unapprovedTypedMessagesCount:r,sendTo:(0,v.getSendTo)(e),currentNetworkTxList:e.metamask.currentNetworkTxList}})))(k);n.default=O}}},{package:"$root$",file:"ui/pages/confirm-transaction/conf-tx.js"}],[3983,{"../../helpers/constants/routes":3865,"../../hooks/useAssetDetails":3912,"../../selectors":4266,"../confirm-approve":3955,"../confirm-send-token":3973,"../confirm-token-transaction-base":3975,"../confirm-transaction-switch":3981,"prop-types":2838,react:3037,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=f(e("react")),s=f(e("prop-types")),r=e("react-redux"),o=e("react-router-dom"),i=e("../../helpers/constants/routes"),c=e("../../selectors"),l=f(e("../confirm-approve")),u=f(e("../confirm-send-token")),d=f(e("../confirm-token-transaction-base")),p=f(e("../confirm-transaction-switch")),m=e("../../hooks/useAssetDetails");function f(e){return e&&e.__esModule?e:{default:e}}function h({transaction:e}){const{txParams:{data:t,to:n,from:s}={}}=e,{assetStandard:f,assetName:h,userBalance:g,tokenSymbol:T,decimals:E,tokenImage:_,tokenAmount:v,tokenId:y,toAddress:A}=(0,m.useAssetDetails)(n,s,t),{ethTransactionTotal:S,fiatTransactionTotal:k,hexTransactionTotal:O,hexMaximumTransactionFee:N}=(0,r.useSelector)((t=>(0,c.transactionFeeSelector)(t,e)));return a.default.createElement(o.Switch,null,a.default.createElement(o.Route,{exact:!0,path:`${i.CONFIRM_TRANSACTION_ROUTE}/:id?${i.CONFIRM_APPROVE_PATH}`,render:()=>a.default.createElement(l.default,{assetStandard:f,assetName:h,userBalance:g,tokenSymbol:T,decimals:E,tokenImage:_,tokenAmount:v,tokenId:y,userAddress:s,tokenAddress:n,toAddress:A,transaction:e,ethTransactionTotal:S,fiatTransactionTotal:k,hexTransactionTotal:O})}),a.default.createElement(o.Route,{exact:!0,path:`${i.CONFIRM_TRANSACTION_ROUTE}/:id?${i.CONFIRM_SET_APPROVAL_FOR_ALL_PATH}`,render:()=>a.default.createElement(l.default,{isSetApproveForAll:!0,assetStandard:f,assetName:h,userBalance:g,tokenSymbol:T,decimals:E,tokenImage:_,tokenAmount:v,tokenId:y,userAddress:s,tokenAddress:n,toAddress:A,transaction:e,ethTransactionTotal:S,fiatTransactionTotal:k,hexTransactionTotal:O})}),a.default.createElement(o.Route,{exact:!0,path:`${i.CONFIRM_TRANSACTION_ROUTE}/:id?${i.CONFIRM_TRANSFER_FROM_PATH}`,render:()=>a.default.createElement(d.default,{assetStandard:f,assetName:h,userBalance:g,tokenSymbol:T,decimals:E,image:_,tokenAddress:n,toAddress:A,tokenAmount:v,tokenId:y,userAddress:s,transaction:e,ethTransactionTotal:S,fiatTransactionTotal:k,hexMaximumTransactionFee:N})}),a.default.createElement(o.Route,{exact:!0,path:`${i.CONFIRM_TRANSACTION_ROUTE}/:id?${i.CONFIRM_SAFE_TRANSFER_FROM_PATH}`,render:()=>a.default.createElement(d.default,{assetStandard:f,assetName:h,userBalance:g,tokenSymbol:T,decimals:E,image:_,tokenAddress:n,toAddress:A,tokenAmount:v,tokenId:y,userAddress:s,transaction:e,ethTransactionTotal:S,fiatTransactionTotal:k,hexMaximumTransactionFee:N})}),a.default.createElement(o.Route,{exact:!0,path:`${i.CONFIRM_TRANSACTION_ROUTE}/:id?${i.CONFIRM_SEND_TOKEN_PATH}`,render:()=>a.default.createElement(u.default,{assetStandard:f,assetName:h,tokenSymbol:T,image:_,tokenAddress:n,toAddress:A,tokenAmount:v,tokenId:y,transaction:e,ethTransactionTotal:S,fiatTransactionTotal:k,hexMaximumTransactionFee:N})}),a.default.createElement(o.Route,{path:"*",component:p.default}))}h.propTypes={transaction:s.default.shape({origin:s.default.string,txParams:s.default.shape({data:s.default.string,to:s.default.string,from:s.default.string})})}}}},{package:"$root$",file:"ui/pages/confirm-transaction/confirm-token-transaction-switch.js"}],[3984,{"../../components/ui/loading-screen":3755,"../../helpers/constants/routes":3865,"../../store/actions":4273,"../confirm-contract-interaction":3957,"../confirm-decrypt-message":3960,"../confirm-deploy-contract":3963,"../confirm-encryption-public-key":3966,"../confirm-send-ether":3971,"../confirm-transaction-switch":3981,"./conf-tx":3982,"./confirm-token-transaction-switch":3983,"prop-types":2838,react:3037,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=T(e("prop-types")),r=e("react-router-dom"),o=T(e("../../components/ui/loading-screen")),i=T(e("../confirm-transaction-switch")),c=T(e("../confirm-contract-interaction")),l=T(e("../confirm-send-ether")),u=T(e("../confirm-deploy-contract")),d=T(e("../confirm-decrypt-message")),p=T(e("../confirm-encryption-public-key")),m=e("../../helpers/constants/routes"),f=e("../../store/actions"),h=T(e("./confirm-token-transaction-switch")),g=T(e("./conf-tx"));function T(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends a.Component{constructor(e){super(e),_(this,"_beforeUnload",(()=>{this._isMounted=!1,this.state.pollingToken&&((0,f.disconnectGasFeeEstimatePoller)(this.state.pollingToken),(0,f.removePollingTokenFromAppState)(this.state.pollingToken))})),this.state={}}componentDidMount(){this._isMounted=!0;const{totalUnapprovedCount:e=0,sendTo:t,history:n,mostRecentOverviewPage:a,transaction:{txParams:{data:s}={},origin:r}={},getContractMethodData:o,transactionId:i,paramsTransactionId:c}=this.props;if((0,f.getGasFeeEstimatesAndStartPolling)().then((e=>{this._isMounted?(this.setState({pollingToken:e}),(0,f.addPollingTokenToAppState)(e)):((0,f.disconnectGasFeeEstimatePoller)(e),(0,f.removePollingTokenFromAppState)(e))})),window.addEventListener("beforeunload",this._beforeUnload),!e&&!t)return void n.replace(a);"metamask"!==r&&o(s);const l=i||c;l&&this.props.setTransactionToConfirm(l)}componentWillUnmount(){this._beforeUnload(),window.removeEventListener("beforeunload",this._beforeUnload)}componentDidUpdate(e){const{setTransactionToConfirm:t,transaction:{txData:{txParams:{data:n}={},origin:a}={}},clearConfirmTransaction:s,getContractMethodData:r,paramsTransactionId:o,transactionId:i,history:c,mostRecentOverviewPage:l,totalUnapprovedCount:u,setDefaultHomeActiveTabName:d}=this.props;o&&i&&e.paramsTransactionId!==o?(s(),t(o),"metamask"!==a&&r(n)):!e.transactionId||i||u?e.transactionId&&i&&e.transactionId!==i&&c.replace(l):d("activity").then((()=>{c.replace(m.DEFAULT_ROUTE)}))}render(){const{transactionId:e,paramsTransactionId:t,isTokenMethodAction:n,transaction:s}=this.props,f=e&&(!t||t===e);return n&&f?a.default.createElement(h.default,{transaction:s}):f?a.default.createElement(r.Switch,null,a.default.createElement(r.Route,{exact:!0,path:`${m.CONFIRM_TRANSACTION_ROUTE}/:id?${m.CONFIRM_DEPLOY_CONTRACT_PATH}`,component:u.default}),a.default.createElement(r.Route,{exact:!0,path:`${m.CONFIRM_TRANSACTION_ROUTE}/:id?${m.CONFIRM_SEND_ETHER_PATH}`,component:l.default}),a.default.createElement(r.Route,{exact:!0,path:`${m.CONFIRM_TRANSACTION_ROUTE}/:id?${m.CONFIRM_TOKEN_METHOD_PATH}`,component:c.default}),a.default.createElement(r.Route,{exact:!0,path:`${m.CONFIRM_TRANSACTION_ROUTE}/:id?${m.SIGNATURE_REQUEST_PATH}`,component:g.default}),a.default.createElement(r.Route,{exact:!0,path:`${m.CONFIRM_TRANSACTION_ROUTE}/:id?${m.DECRYPT_MESSAGE_REQUEST_PATH}`,component:d.default}),a.default.createElement(r.Route,{exact:!0,path:`${m.CONFIRM_TRANSACTION_ROUTE}/:id?${m.ENCRYPTION_PUBLIC_KEY_REQUEST_PATH}`,component:p.default}),a.default.createElement(r.Route,{path:"*",component:i.default})):a.default.createElement(o.default,null)}}n.default=v,_(v,"contextTypes",{metricsEvent:s.default.func}),_(v,"propTypes",{history:s.default.object.isRequired,totalUnapprovedCount:s.default.number.isRequired,sendTo:s.default.string,setTransactionToConfirm:s.default.func,clearConfirmTransaction:s.default.func,mostRecentOverviewPage:s.default.string.isRequired,transaction:s.default.object,getContractMethodData:s.default.func,transactionId:s.default.string,paramsTransactionId:s.default.string,isTokenMethodAction:s.default.bool,setDefaultHomeActiveTabName:s.default.func})}}},{package:"$root$",file:"ui/pages/confirm-transaction/confirm-transaction.component.js"}],[3985,{"../../ducks/confirm-transaction/confirm-transaction.duck":3846,"../../ducks/history/history":3850,"../../ducks/send":3855,"../../helpers/utils/transactions.util":3898,"../../selectors":4266,"../../store/actions":4273,"./confirm-transaction.component":3984,"react-redux":2990,"react-router-dom":3010,redux:3054},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("redux"),o=e("react-router-dom"),i=e("../../ducks/confirm-transaction/confirm-transaction.duck"),c=e("../../helpers/utils/transactions.util"),l=e("../../store/actions"),u=e("../../selectors"),d=e("../../ducks/history/history"),p=e("../../ducks/send"),m=(a=e("./confirm-transaction.component"))&&a.__esModule?a:{default:a};var f=(0,r.compose)(o.withRouter,(0,s.connect)(((e,t)=>{const{metamask:{unapprovedTxs:n}}=e,{match:{params:a={}}}=t,{id:s}=a,r=(0,p.getSendTo)(e),o=(0,u.unconfirmedTransactionsListSelector)(e),i=o.length,l=i?n[s]||o[0]:{},{id:m,type:f}=l;return{totalUnapprovedCount:i,sendTo:r,unapprovedTxs:n,id:s,mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),paramsTransactionId:s&&String(s),transactionId:m&&String(m),transaction:l,isTokenMethodAction:(0,c.isTokenMethodAction)(f)}}),(e=>({setTransactionToConfirm:t=>{e((0,i.setTransactionToConfirm)(t))},clearConfirmTransaction:()=>e((0,i.clearConfirmTransaction)()),getContractMethodData:t=>e((0,l.getContractMethodData)(t)),setDefaultHomeActiveTabName:t=>e((0,l.setDefaultHomeActiveTabName)(t))}))))(m.default);n.default=f}}},{package:"$root$",file:"ui/pages/confirm-transaction/confirm-transaction.container.js"}],[3986,{"./confirm-transaction.container":3985},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=((a=e("./confirm-transaction.container"))&&a.__esModule?a:{default:a}).default;n.default=s}}},{package:"$root$",file:"ui/pages/confirm-transaction/index.js"}],[3987,{"../../../../components/ui/button":3670,classnames:1767,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=i(e("react")),s=i(e("prop-types")),r=i(e("classnames")),o=i(e("../../../../components/ui/button"));function i(e){return e&&e.__esModule?e:{default:e}}function c({onSubmit:e,onCancel:t,submitText:n,cancelText:s,alerts:i}){return a.default.createElement("div",{className:"confirmation-footer"},i,a.default.createElement("div",{className:"confirmation-footer__actions"},t?a.default.createElement(o.default,{type:"secondary",onClick:t},s):null,a.default.createElement(o.default,{type:"primary",onClick:e,className:(0,r.default)({centered:!t})},n)))}c.propTypes={alerts:s.default.node,onCancel:s.default.func,cancelText:s.default.string,onSubmit:s.default.func.isRequired,submitText:s.default.string.isRequired}}}},{package:"$root$",file:"ui/pages/confirmation/components/confirmation-footer/confirmation-footer.js"}],[3988,{"./confirmation-footer":3987},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirmation-footer"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmation/components/confirmation-footer/index.js"}],[3989,{"../../../../../shared/constants/network":3224,"../../../../components/ui/box":3666,"../../../../components/ui/site-icon":3802,"../../../../components/ui/typography/typography":3831,"../../../../helpers/constants/design-system":3861,"prop-types":2838,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=d(e("react")),s=d(e("prop-types")),r=e("react-redux"),o=d(e("../../../../components/ui/box")),i=d(e("../../../../components/ui/site-icon")),c=d(e("../../../../components/ui/typography/typography")),l=e("../../../../helpers/constants/design-system"),u=e("../../../../../shared/constants/network");function d(e){return e&&e.__esModule?e:{default:e}}function p({newNetwork:e}){const t=(0,r.useSelector)((e=>({nickname:e.metamask.provider.nickname,type:e.metamask.provider.type,chainId:e.metamask.provider.chainId})));return a.default.createElement(o.default,{className:"confirmation-network-switch",display:l.DISPLAY.FLEX,height:l.BLOCK_SIZES.FULL,justifyContent:l.JUSTIFY_CONTENT.CENTER,marginTop:8},a.default.createElement(o.default,{className:"confirmation-network-switch__icon",display:l.DISPLAY.BLOCK},t.chainId in u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP?a.default.createElement(i.default,{icon:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[t.chainId],name:t.nickname,size:64}):a.default.createElement("div",{className:"confirmation-network-switch__unknown-icon"},a.default.createElement("i",{className:"fa fa-question fa-2x"})),a.default.createElement(c.default,{color:l.COLORS.TEXT_DEFAULT,variant:l.TYPOGRAPHY.H6,fontWeight:l.FONT_WEIGHT.NORMAL,align:l.TEXT_ALIGN.CENTER,boxProps:{display:l.DISPLAY.FLEX,justifyContent:l.JUSTIFY_CONTENT.CENTER}},t.nickname||u.NETWORK_TO_NAME_MAP[t.type])),a.default.createElement(o.default,{className:"confirmation-network-switch__center-icon",display:l.DISPLAY.FLEX,alignItems:l.ALIGN_ITEMS.CENTER,justifyContent:l.JUSTIFY_CONTENT.CENTER},a.default.createElement("i",{className:"fa fa-angle-right fa-lg confirmation-network-switch__check"}),a.default.createElement("div",{className:"confirmation-network-switch__dashed-line"})),a.default.createElement(o.default,{className:"confirmation-network-switch__icon",display:l.DISPLAY.BLOCK},e.chainId in u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP?a.default.createElement(i.default,{icon:u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[e.chainId],name:e.name,size:64}):a.default.createElement("div",{className:"confirmation-network-switch__unknown-icon"},a.default.createElement("i",{className:"fa fa-question fa-2x"})),a.default.createElement(c.default,{color:l.COLORS.TEXT_DEFAULT,variant:l.TYPOGRAPHY.H6,fontWeight:l.FONT_WEIGHT.NORMAL,align:l.TEXT_ALIGN.CENTER,boxProps:{display:l.DISPLAY.FLEX,justifyContent:l.JUSTIFY_CONTENT.CENTER}},e.name)))}p.propTypes={newNetwork:s.default.shape({chainId:s.default.string.isRequired,name:s.default.string.isRequired})}}}},{package:"$root$",file:"ui/pages/confirmation/components/confirmation-network-switch/confirmation-network-switch.js"}],[3990,{"./confirmation-network-switch":3989},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirmation-network-switch"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmation/components/confirmation-network-switch/index.js"}],[3991,{"../../../shared/constants/app":3218,"../../components/app/confirmation-warning-modal":3334,"../../components/app/metamask-template-renderer":3405,"../../components/app/network-display/network-display":3474,"../../components/ui/box":3666,"../../components/ui/callout":3672,"../../components/ui/site-origin":3804,"../../helpers/constants/design-system":3861,"../../helpers/constants/routes":3865,"../../hooks/useI18nContext":3920,"../../hooks/useOriginMetadata":3922,"../../selectors":4266,"./components/confirmation-footer":3988,"./templates":3994,immer:2474,lodash:2735,"prop-types":2838,react:3037,"react-redux":2990,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=N;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=S(e("prop-types")),r=e("react-redux"),o=e("react-router-dom"),i=e("lodash"),c=e("immer"),l=e("../../../shared/constants/app"),u=S(e("../../components/ui/box")),d=S(e("../../components/app/metamask-template-renderer")),p=S(e("../../components/app/confirmation-warning-modal")),m=e("../../helpers/constants/routes"),f=e("../../helpers/constants/design-system"),h=e("../../hooks/useI18nContext"),g=e("../../hooks/useOriginMetadata"),T=e("../../selectors"),E=S(e("../../components/app/network-display/network-display")),_=S(e("../../components/ui/callout")),v=S(e("../../components/ui/site-origin")),y=S(e("./components/confirmation-footer")),A=e("./templates");function S(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const O=(0,c.produce)(((e,t)=>{var n;switch(t.type){case"dismiss":null!=e&&null!==(n=e[t.confirmationId])&&void 0!==n&&n[t.alertId]&&(e[t.confirmationId][t.alertId].dismissed=!0);break;case"set":e[t.confirmationId]||(e[t.confirmationId]={}),t.alerts.forEach((n=>{e[t.confirmationId][n.id]={...n,dismissed:!1}}));break;default:throw new Error("You must provide a type when dispatching an action for alertState")}}));function N({redirectToHomeOnZeroConfirmations:e=!0}){const t=(0,h.useI18nContext)(),n=(0,r.useDispatch)(),s=(0,o.useHistory)(),c=(0,r.useSelector)(T.getUnapprovedTemplatedConfirmations,i.isEqual),[S,k]=(0,a.useState)(0),N=c[S],b=(0,g.useOriginMetadata)(null==N?void 0:N.origin)||{},[w,R]=function(e){const[t,n]=(0,a.useReducer)(O,{});return(0,a.useEffect)((()=>{let t=!0;return e&&(0,A.getTemplateAlerts)(e).then((a=>{t&&a.length>0&&n({type:"set",confirmationId:e.id,alerts:a})})),()=>{t=!1}}),[e]),[t,(0,a.useCallback)((t=>{n({type:"dismiss",confirmationId:e.id,alertId:t})}),[e])]}(N),[C]=function(e){const[t,n]=(0,a.useState)({});return(0,a.useEffect)((()=>{let t=!0;return e&&(0,A.getTemplateState)(e).then((a=>{t&&Object.values(a).length>0&&n((t=>({...t,[e.id]:a})))})),()=>{t=!1}}),[e]),[t]}(N),[P,I]=(0,a.useState)(!1),M=(0,r.useSelector)(T.getUnapprovedTxCount),[x,D]=(0,a.useState)({}),F=(e,t)=>{D((n=>({...n,[e]:t})))},L=[],U=(0,a.useMemo)((()=>N?(0,A.getTemplateValues)({...N},t,n,s,F):{}),[N,t,n,s]);if((0,a.useEffect)((()=>{0===c.length&&e?s.push(m.DEFAULT_ROUTE):c.length<=S&&k(c.length-1)}),[c,s,S,e]),!N)return null;return a.default.createElement("div",{className:"confirmation-page"},c.length>1&&a.default.createElement("div",{className:"confirmation-page__navigation"},a.default.createElement("p",null,t("xOfYPending",[S+1,c.length])),S>0&&a.default.createElement("button",{className:"confirmation-page__navigation-button",onClick:()=>k(S-1)},a.default.createElement("i",{className:"fas fa-chevron-left"})),a.default.createElement("button",{className:"confirmation-page__navigation-button",disabled:S+1===c.length,onClick:()=>k(S+1)},a.default.createElement("i",{className:"fas fa-chevron-right"}))),a.default.createElement("div",{className:"confirmation-page__content"},U.networkDisplay?a.default.createElement(u.default,{justifyContent:"center",marginTop:2},a.default.createElement(E.default,{indicatorSize:f.SIZES.XS,labelProps:{color:f.COLORS.TEXT_DEFAULT}})):null,"metamask"===N.origin?null:a.default.createElement(u.default,{alignItems:"center",marginTop:1,paddingTop:1,paddingRight:4,paddingLeft:4,paddingBottom:4,flexDirection:f.FLEX_DIRECTION.COLUMN},a.default.createElement(v.default,{chip:!0,siteOrigin:b.origin,title:b.origin,iconSrc:b.iconUrl,iconName:b.hostname})),a.default.createElement(d.default,{sections:U.content}),P&&a.default.createElement(p.default,{onSubmit:async()=>{await U.onSubmit(),I(!1)},onCancel:U.onCancel})),a.default.createElement(y.default,{alerts:w[N.id]&&M>0&&Object.values(w[N.id]).filter((e=>!1===e.dismissed)).map(((e,t,n)=>a.default.createElement(_.default,{key:e.id,severity:e.severity,dismiss:()=>R(e.id),isFirst:0===t,isLast:t===n.length-1,isMultiple:n.length>1},a.default.createElement(d.default,{sections:e.content})))),onSubmit:()=>{var e,t;return null!==(e=C[N.id])&&void 0!==e&&e.useWarningModal?I(!0):U.onSubmit((t=N.type,L.includes(t)?x[l.MESSAGE_TYPE.SNAP_DIALOG_PROMPT]:null))},onCancel:U.onCancel,submitText:U.submitText,cancelText:U.cancelText}))}N.propTypes={redirectToHomeOnZeroConfirmations:s.default.bool}}}},{package:"$root$",file:"ui/pages/confirmation/confirmation.js"}],[3992,{"./confirmation":3991},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./confirmation"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmation/index.js"}],[3993,{"../../../../shared/constants/network":3224,"../../../../shared/lib/fetch-with-cache":3233,"../../../helpers/constants/design-system":3861,"../../../helpers/constants/routes":3865,"../../../helpers/constants/zendesk-url":3868,"eth-rpc-errors":1978,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("eth-rpc-errors"),s=u(e("react")),r=e("../../../../shared/constants/network"),o=e("../../../helpers/constants/design-system"),i=e("../../../helpers/constants/routes"),c=u(e("../../../helpers/constants/zendesk-url")),l=u(e("../../../../shared/lib/fetch-with-cache"));function u(e){return e&&e.__esModule?e:{default:e}}const d={id:"UNRECOGNIZED_CHAIN",severity:o.SEVERITIES.WARNING,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"unrecognizedChain"}}}},p={id:"MISMATCHED_CHAIN_RECOMMENDATION",content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"mismatchedChainRecommendation",variables:[{element:"a",key:"mismatchedChainLink",props:{href:c.default.VERIFY_CUSTOM_NETWORK,target:"__blank",tabIndex:0},children:{element:"MetaMaskTranslation",props:{translationKey:"mismatchedChainLinkText"}}}]}}}},m={id:"MISMATCHED_NETWORK_NAME",severity:o.SEVERITIES.WARNING,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"mismatchedNetworkName"}}}},f={id:"MISMATCHED_NETWORK_SYMBOL",severity:o.SEVERITIES.DANGER,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"mismatchedNetworkSymbol"}}}},h={id:"MISMATCHED_NETWORK_RPC",severity:o.SEVERITIES.DANGER,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"mismatchedRpcUrl"}}}};var g={getAlerts:async function(e){const t=[],n=(await(0,l.default)("https://chainid.network/chains.json")||[]).find((t=>t.chainId===parseInt(e.requestData.chainId,16)));if("metamask"===e.origin&&Boolean(n))return[];if(n){var a;n.name.toLowerCase()!==e.requestData.chainName.toLowerCase()&&t.push(m),(null===(a=n.nativeCurrency)||void 0===a?void 0:a.symbol)!==e.requestData.ticker&&t.push(f);const{origin:s}=new URL(e.requestData.rpcUrl);n.rpc.map((e=>new URL(e).origin)).includes(s)||t.push(h)}return n||t.push(d),t.length&&t.push(p),t},getValues:function(e,t,n,l){var u;const d="metamask"===e.origin;return{content:[{hide:!d,element:"Box",key:"network-box",props:{textAlign:o.TEXT_ALIGN.CENTER,display:o.DISPLAY.FLEX,justifyContent:o.JUSTIFY_CONTENT.CENTER,marginTop:4,marginBottom:2},children:[{element:"Chip",key:"network-chip",props:{label:e.requestData.chainName,backgroundColor:o.COLORS.BACKGROUND_ALTERNATIVE,leftIconUrl:e.requestData.imageUrl}}]},{element:"Typography",key:"title",children:t(d?"wantToAddThisNetwork":"addEthereumChainConfirmationTitle"),props:{variant:o.TYPOGRAPHY.H3,align:"center",fontWeight:"bold",boxProps:{margin:[0,0,4]}}},{element:"Typography",key:"description",children:t("addEthereumChainConfirmationDescription"),props:{variant:o.TYPOGRAPHY.H7,align:"center",boxProps:{margin:d?[0,8,4]:[0,0,4]}}},{element:"Typography",key:"only-add-networks-you-trust",children:[{element:"b",key:"bolded-text",props:{style:{display:d&&"-webkit-box"}},children:[`${t("addEthereumChainConfirmationRisks")} `,{hide:!d,element:"Tooltip",key:"tooltip-info",props:{position:"bottom",interactive:!0,trigger:"mouseenter",html:s.default.createElement("div",{style:{width:"180px",margin:"16px",textAlign:"left"}},t("someNetworksMayPoseSecurity")," ",s.default.createElement("a",{key:"zendesk_page_link",href:c.default.UNKNOWN_NETWORK,rel:"noreferrer",target:"_blank",style:{color:"var(--color-primary-default)"}},t("learnMoreUpperCase")))},children:[{element:"i",key:"info-circle",props:{className:"fas fa-info-circle",style:{marginLeft:"4px",color:"var(--color-icon-default)"}}}]}]},{element:"MetaMaskTranslation",key:"learn-about-risks",props:{translationKey:"addEthereumChainConfirmationRisksLearnMore",variables:[{element:"a",children:t("addEthereumChainConfirmationRisksLearnMoreLink"),key:"addEthereumChainConfirmationRisksLearnMoreLink",props:{href:c.default.USER_GUIDE_CUSTOM_NETWORKS,target:"__blank"}}]}}],props:{variant:o.TYPOGRAPHY.H7,boxProps:{margin:d?[0,8]:0,display:o.DISPLAY.FLEX,flexDirection:o.FLEX_DIRECTION.COLUMN,alignItems:o.ALIGN_ITEMS.CENTER}}},{element:"TruncatedDefinitionList",key:"network-details",props:{title:t("networkDetails"),tooltips:{[t("networkName")]:t("networkNameDefinition"),[t("networkURL")]:t("networkURLDefinition"),[t("chainId")]:t("chainIdDefinition"),[t("currencySymbol")]:t("currencySymbolDefinition"),[t("blockExplorerUrl")]:t("blockExplorerUrlDefinition")},dictionary:{[t("networkName")]:e.requestData.chainName,[t("networkURL")]:null!==(u=e.requestData.rpcUrl)&&void 0!==u&&u.includes(`/v3/${r.infuraProjectId}`)?e.requestData.rpcUrl.replace(`/v3/${r.infuraProjectId}`,""):e.requestData.rpcUrl,[t("chainId")]:parseInt(e.requestData.chainId,16),[t("currencySymbol")]:e.requestData.ticker,[t("blockExplorerUrl")]:e.requestData.blockExplorerUrl},prefaceKeys:[t("networkName"),t("networkURL"),t("chainId"),t("currencySymbol")]}}],cancelText:t("cancel"),submitText:t("approveButtonText"),onSubmit:async()=>{await n.resolvePendingApproval(e.id,e.requestData),d&&(n.addCustomNetwork(e.requestData),l.push(i.DEFAULT_ROUTE))},onCancel:()=>n.rejectPendingApproval(e.id,a.ethErrors.provider.userRejectedRequest().serialize()),networkDisplay:!d}},getState:function(e){return 1===parseInt(e.requestData.chainId,16)?{useWarningModal:!0}:{}}};n.default=g}}},{package:"$root$",file:"ui/pages/confirmation/templates/add-ethereum-chain.js"}],[3994,{"../../../../shared/constants/app":3218,"../../../store/actions":4273,"./add-ethereum-chain":3993,"./switch-ethereum-chain":3995,lodash:2735},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TEMPLATED_CONFIRMATION_MESSAGE_TYPES=void 0,n.getTemplateAlerts=async function(e){var t;const n=null===(t=l[e.type])||void 0===t?void 0:t.getAlerts,a=n?await n(e):[];if(!Array.isArray(a))throw new Error(`Template alerts must be an array, received: ${a}`);if(a.some((e=>(null==e?void 0:e.id)===undefined)))throw new Error(`Template alert entries must be objects with an id key. Received: ${a}`);return a},n.getTemplateState=async function(e){var t,n;const a=null!==(t=null===(n=l[e.type])||void 0===n?void 0:n.getState)&&void 0!==t?t:p,s=await a(e);if("object"!=typeof s||Array.isArray(s))throw new Error(`Template state must be an object, received: ${s}`);if(null===s||s===undefined)return{};return s},n.getTemplateValues=function(e,t,n,s,o){var i;const c=null===(i=l[e.type])||void 0===i?void 0:i.getValues;if(!c)throw new Error(`MESSAGE_TYPE: '${e.type}' is not specified in approval templates`);const u=function(e){return{rejectPendingApproval:(...t)=>e((0,r.rejectPendingApproval)(...t)),resolvePendingApproval:(...t)=>e((0,r.resolvePendingApproval)(...t)),addCustomNetwork:(...t)=>e((0,r.addCustomNetwork)(...t))}}(n),p=c(e,t,u,s,o),m=(0,a.omit)(p,d),f=(0,a.pick)(p,d);if(m.length>0)throw new Error(`Received extraneous keys from ${e.type}.getValues. These keys are not passed to the confirmation page: ${Object.keys(m)}`);return f};var a=e("lodash"),s=e("../../../../shared/constants/app"),r=e("../../../store/actions"),o=c(e("./add-ethereum-chain")),i=c(e("./switch-ethereum-chain"));function c(e){return e&&e.__esModule?e:{default:e}}const l={[s.MESSAGE_TYPE.ADD_ETHEREUM_CHAIN]:o.default,[s.MESSAGE_TYPE.SWITCH_ETHEREUM_CHAIN]:i.default},u=Object.keys(l);n.TEMPLATED_CONFIRMATION_MESSAGE_TYPES=u;const d=["cancelText","content","onCancel","onSubmit","networkDisplay","submitText"];async function p(){return{}}}}},{package:"$root$",file:"ui/pages/confirmation/templates/index.js"}],[3995,{"../../../helpers/constants/design-system":3861,"eth-rpc-errors":1978},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("eth-rpc-errors"),s=e("../../../helpers/constants/design-system");const r={id:"PENDING_TX_DROP_NOTICE",severity:s.SEVERITIES.WARNING,content:{element:"span",children:{element:"MetaMaskTranslation",props:{translationKey:"switchingNetworksCancelsPendingConfirmations"}}}};var o={getAlerts:async function(){return[r]},getValues:function(e,t,n){return{content:[{element:"Typography",key:"title",children:t("switchEthereumChainConfirmationTitle"),props:{variant:s.TYPOGRAPHY.H3,align:"center",fontWeight:"normal",boxProps:{margin:[0,0,2],padding:[0,4,0,4]}}},{element:"Typography",key:"description",children:t("switchEthereumChainConfirmationDescription"),props:{variant:s.TYPOGRAPHY.H7,color:s.COLORS.TEXT_ALTERNATIVE,align:"center",boxProps:{padding:[0,4,0,4]}}},{element:"Box",key:"status-box",props:{justifyContent:s.JUSTIFY_CONTENT.CENTER},children:{element:"ConfirmationNetworkSwitch",key:"network-being-switched",props:{newNetwork:{chainId:e.requestData.chainId,name:e.requestData.nickname}}}}],cancelText:t("cancel"),submitText:t("switchNetwork"),onSubmit:()=>n.resolvePendingApproval(e.id,e.requestData),onCancel:()=>n.rejectPendingApproval(e.id,a.ethErrors.provider.userRejectedRequest().serialize()),networkDisplay:!0}}};n.default=o}}},{package:"$root$",file:"ui/pages/confirmation/templates/switch-ethereum-chain.js"}],[3996,{"../../components/app/connected-accounts-list":3340,"../../components/app/connected-accounts-permissions":3342,"../../components/ui/popover":3788,"../../helpers/utils/util":3900,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=u(e("../../components/ui/popover")),o=u(e("../../components/app/connected-accounts-list")),i=u(e("../../components/app/connected-accounts-permissions")),c=e("../../helpers/utils/util");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends s.PureComponent{render(){const{accountToConnect:e,activeTabOrigin:t,isActiveTabExtension:n,connectAccount:a,connectedAccounts:l,history:u,mostRecentOverviewPage:d,permissions:p,selectedAddress:m,removePermittedAccount:f,setSelectedAddress:h}=this.props,{t:g}=this.context,T=l.length>1?g("connectedAccountsDescriptionPlural",[l.length]):g("connectedAccountsDescriptionSingular");return s.default.createElement(r.default,{title:n?g("currentExtension"):(0,c.getURLHost)(t),subtitle:l.length?T:g("connectedAccountsEmptyDescription"),onClose:()=>u.push(d),footerClassName:"connected-accounts__footer",footer:s.default.createElement(i.default,{permissions:p})},s.default.createElement(o.default,{accountToConnect:e,connectAccount:a,connectedAccounts:l,selectedAddress:m,removePermittedAccount:f,setSelectedAddress:h,shouldRenderListOptions:!0}))}}n.default=p,d(p,"contextTypes",{t:a.default.func.isRequired}),d(p,"defaultProps",{accountToConnect:null,permissions:undefined}),d(p,"propTypes",{accountToConnect:a.default.object,activeTabOrigin:a.default.string.isRequired,connectAccount:a.default.func.isRequired,connectedAccounts:a.default.array.isRequired,mostRecentOverviewPage:a.default.string.isRequired,permissions:a.default.array,isActiveTabExtension:a.default.bool.isRequired,selectedAddress:a.default.string.isRequired,removePermittedAccount:a.default.func.isRequired,setSelectedAddress:a.default.func.isRequired,history:a.default.object.isRequired})}}},{package:"$root$",file:"ui/pages/connected-accounts/connected-accounts.component.js"}],[3997,{"../../ducks/history/history":3850,"../../helpers/utils/util":3900,"../../selectors":4266,"../../store/actions":4273,"./connected-accounts.component":3996,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../selectors"),o=e("../../helpers/utils/util"),i=e("../../store/actions"),c=e("../../ducks/history/history"),l=(a=e("./connected-accounts.component"))&&a.__esModule?a:{default:a};var u=(0,s.connect)((e=>{const{activeTab:t}=e,n=(0,r.getAccountToConnectToActiveTab)(e),a=(0,r.getOrderedConnectedAccountsForActiveTab)(e),s=(0,r.getPermissionsForActiveTab)(e),i=(0,r.getSelectedAddress)(e);return{accountToConnect:n,isActiveTabExtension:(0,o.isExtensionUrl)(t),activeTabOrigin:t.origin,connectedAccounts:a,mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),permissions:s,selectedAddress:i}}),(e=>({addPermittedAccount:(t,n)=>e((0,i.addPermittedAccount)(t,n)),removePermittedAccount:(t,n)=>e((0,i.removePermittedAccount)(t,n)),setSelectedAddress:t=>e((0,i.setSelectedAddress)(t))})),((e,t,n)=>{const{activeTabOrigin:a}=e;return{...n,...e,...t,connectAccount:e=>t.addPermittedAccount(a,e),removePermittedAccount:e=>t.removePermittedAccount(a,e)}}))(l.default);n.default=u}}},{package:"$root$",file:"ui/pages/connected-accounts/connected-accounts.container.js"}],[3998,{"./connected-accounts.container":3997},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./connected-accounts.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/connected-accounts/index.js"}],[3999,{"../../components/app/connected-sites-list":3344,"../../components/ui/button":3670,"../../components/ui/popover/popover.component":3789,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("../../components/app/connected-sites-list")),o=l(e("../../components/ui/popover/popover.component")),i=l(e("../../components/ui/button"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends s.Component{constructor(...e){super(...e),u(this,"state",{sitePendingDisconnect:null}),u(this,"setPendingDisconnect",(e=>{this.setState({sitePendingDisconnect:{subjectKey:e}})})),u(this,"clearPendingDisconnect",(()=>{this.setState({sitePendingDisconnect:null})})),u(this,"disconnectAccount",(()=>{const{disconnectAccount:e}=this.props,{sitePendingDisconnect:t}=this.state;e(t.subjectKey),this.clearPendingDisconnect()})),u(this,"disconnectAllAccounts",(()=>{const{disconnectAllAccounts:e}=this.props,{sitePendingDisconnect:t}=this.state;e(t.subjectKey),this.clearPendingDisconnect()}))}componentDidMount(){const{getOpenMetamaskTabsIds:e}=this.props;e()}renderConnectedSitesList(){return s.default.createElement(r.default,{connectedSubjects:this.props.connectedSubjects,onDisconnect:this.setPendingDisconnect})}renderConnectedSitesPopover(){const{accountLabel:e,closePopover:t,connectedSubjects:n,tabToConnect:a,requestAccountsPermission:r}=this.props,{t:i}=this.context;return s.default.createElement(o.default,{className:"connected-sites",title:i("connectedSites"),subtitle:n.length?i("connectedSitesDescription",[e]):i("connectedSitesEmptyDescription",[e]),onClose:t,footer:a?s.default.createElement("a",{className:"connected-sites__text-button",onClick:r},i("connectManually")):null,footerClassName:"connected-sites__add-site-manually"},this.renderConnectedSitesList())}renderDisconnectPopover(){const{closePopover:e,permittedAccountsByOrigin:t}=this.props,{t:n}=this.context,{sitePendingDisconnect:{subjectKey:a}}=this.state,r=t[a].length;return s.default.createElement(o.default,{className:"connected-sites",title:n("disconnectPrompt",[a]),subtitle:n("disconnectAllAccountsConfirmationDescription"),onClose:e,footer:s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"connected-sites__footer-row"},s.default.createElement(i.default,{type:"secondary",onClick:this.clearPendingDisconnect},n("cancel")),s.default.createElement(i.default,{type:"primary",onClick:this.disconnectAccount},n("disconnect"))),r>1?s.default.createElement("div",{className:"connected-sites__footer-row"},s.default.createElement("a",{className:"connected-sites__text-button",onClick:this.disconnectAllAccounts},n("disconnectAllAccounts"))):null),footerClassName:"connected-sites__confirmation"})}render(){const{sitePendingDisconnect:e}=this.state;return e?this.renderDisconnectPopover():this.renderConnectedSitesPopover()}}n.default=d,u(d,"contextTypes",{t:a.default.func}),u(d,"defaultProps",{tabToConnect:null}),u(d,"propTypes",{accountLabel:a.default.string.isRequired,closePopover:a.default.func.isRequired,connectedSubjects:a.default.arrayOf(a.default.object).isRequired,disconnectAllAccounts:a.default.func.isRequired,disconnectAccount:a.default.func.isRequired,getOpenMetamaskTabsIds:a.default.func.isRequired,permittedAccountsByOrigin:a.default.objectOf(a.default.arrayOf(a.default.string)).isRequired,tabToConnect:a.default.object,requestAccountsPermission:a.default.func.isRequired})}}},{package:"$root$",file:"ui/pages/connected-sites/connected-sites.component.js"}],[40,{"../../../shared/constants/network":3224,"../../../shared/constants/swaps":3228,"../../../shared/modules/fetch-with-timeout":3245,"../../../ui/helpers/utils/moonpay":3892,"../constants/on-ramp":6,loglevel:2750},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=async function({chainId:e,address:t,service:n,symbol:o}){n||(n=function(e){switch(e){case r.CHAIN_IDS.MAINNET:return"wyre";case r.CHAIN_IDS.GOERLI:return"goerli-faucet";case r.CHAIN_IDS.SEPOLIA:return"sepolia-faucet";default:throw new Error(`No default cryptocurrency exchange or faucet for chainId: "${e}"`)}}(e));switch(n){case"wyre":return await(async(e,t,n)=>{const{wyre:o={}}=r.BUYABLE_CHAINS_MAP[t],{srn:i,currencyCode:c}=o,l=parseInt(t,16),d=`${s.SWAPS_API_V2_BASE_URL}/networks/${l}/fiatOnRampUrl?serviceName=wyre&destinationAddress=${e}&currency=${n||c}`,p=`https://pay.sendwyre.com/purchase?dest=${i}:${e}&destCurrency=${n||c}&accountId=AC-7AG3W4XH4N2&paymentMethod=debit-card`;try{const e=await u(d,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),t=await e.json();if(e.ok&&t.url)return t.url;a.default.warn("Failed to create a Wyre purchase URL",t)}catch(e){a.default.warn("Failed to create a Wyre purchase URL",e)}return p})(t,e,o);case"transak":return((e,t,n)=>{const{nativeCurrency:a,network:s}=r.BUYABLE_CHAINS_MAP[t];return`https://global.transak.com/?${new URLSearchParams({apiKey:i.TRANSAK_API_KEY,hostURL:"https://metamask.io",defaultCryptoCurrency:n||a,networks:s,walletAddress:e})}`})(t,e,o);case"moonpay":return(async(e,t,n)=>{const{moonPay:{defaultCurrencyCode:o,showOnlyCurrencies:l}={}}=r.BUYABLE_CHAINS_MAP[t],d=new URLSearchParams({apiKey:i.MOONPAY_API_KEY,walletAddress:e,defaultCurrencyCode:(0,c.formatMoonpaySymbol)(n,t)||o,showOnlyCurrencies:l}),p=new URLSearchParams({url:`https://buy.moonpay.com?${d}`,context:"extension"}),m=`${s.SWAPS_API_V2_BASE_URL}/moonpaySign/?${p}`;try{const e=await u(m,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),t=await e.json();if(e.ok&&t.url)return t.url;a.default.warn("Failed to create a MoonPay purchase URL",t)}catch(e){a.default.warn("Failed to create a MoonPay purchase URL",e)}return""})(t,e,o);case"coinbase":return((e,t,n)=>{const{nativeCurrency:a}=r.BUYABLE_CHAINS_MAP[t];return`https://pay.coinbase.com/buy?${new URLSearchParams({appId:i.COINBASEPAY_API_KEY,attribution:"extension",destinationWallets:JSON.stringify([{address:e,assets:n?[n]:[a]}])})}`})(t,e,o);case"metamask-faucet":return"https://faucet.metamask.io/";case"goerli-faucet":return"https://goerli-faucet.slock.it/";case"sepolia-faucet":return"https://faucet.sepolia.dev/";default:throw new Error(`Unknown cryptocurrency exchange or faucet: "${n}"`)}};var a=l(e("loglevel")),s=e("../../../shared/constants/swaps"),r=e("../../../shared/constants/network"),o=l(e("../../../shared/modules/fetch-with-timeout")),i=e("../constants/on-ramp"),c=e("../../../ui/helpers/utils/moonpay");function l(e){return e&&e.__esModule?e:{default:e}}const u=(0,o.default)()}}},{package:"$root$",file:"app/scripts/lib/buy-url.js"}],[4e3,{"../../ducks/history/history":3850,"../../helpers/constants/routes":3865,"../../selectors":4266,"../../store/actions":4273,"./connected-sites.component":3999,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=e("../../store/actions"),o=e("../../selectors"),i=e("../../helpers/constants/routes"),c=e("../../ducks/history/history"),l=(a=e("./connected-sites.component"))&&a.__esModule?a:{default:a};var u=(0,s.connect)((e=>{var t;const{openMetaMaskTabs:n}=e.appState,{id:a}=e.activeTab,s=(0,o.getConnectedSubjectsForSelectedAddress)(e),r=(0,o.getOriginOfCurrentTab)(e),i=(0,o.getPermittedAccountsByOrigin)(e),l=(0,o.getSelectedAddress)(e),u=!(null!==(t=i[r])&&void 0!==t&&t.length);let d;return r&&u&&!n[a]&&(d={origin:r}),{accountLabel:(0,o.getCurrentAccountWithSendEtherInfo)(e).name,connectedSubjects:s,subjects:(0,o.getPermissionSubjects)(e),mostRecentOverviewPage:(0,c.getMostRecentOverviewPage)(e),permittedAccountsByOrigin:i,selectedAddress:l,tabToConnect:d}}),(e=>({getOpenMetamaskTabsIds:()=>e((0,r.getOpenMetamaskTabsIds)()),disconnectAccount:(t,n)=>{e((0,r.removePermittedAccount)(t,n))},disconnectAllAccounts:(t,n)=>{const a=Object.values(n.permissions).map((({parentCapability:e})=>e));e((0,r.removePermissionsFor)({[t]:a}))},requestAccountsPermissionWithId:t=>e((0,r.requestAccountsPermissionWithId)(t))})),((e,t,n)=>{const{connectedSubjects:a,subjects:s,mostRecentOverviewPage:r,selectedAddress:o,tabToConnect:c}=e,{disconnectAccount:l,disconnectAllAccounts:u,requestAccountsPermissionWithId:d}=t,{history:p}=n,m=()=>p.push(r);return{...n,...e,...t,closePopover:m,disconnectAccount:e=>{l(e,o),1===a.length&&m()},disconnectAllAccounts:e=>{u(e,s[e]),1===a.length&&m()},requestAccountsPermission:async()=>{const e=await d(c.origin);p.push(`${i.CONNECT_ROUTE}/${e}`)}}}))(l.default);n.default=u}}},{package:"$root$",file:"ui/pages/connected-sites/connected-sites.container.js"}],[4001,{"./connected-sites.container":4e3},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./connected-sites.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/connected-sites/index.js"}],[4002,{"../../../../shared/constants/hardware-wallets":3220,"../../../../shared/constants/metametrics":3223,"../../../components/ui/button":3670,"../../../components/ui/check-box":3676,"../../../components/ui/dropdown":3694,"../../../helpers/utils/util":3900,"@metamask/etherscan-link":1064,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("@metamask/etherscan-link"),o=m(e("../../../components/ui/button")),i=m(e("../../../components/ui/check-box")),c=m(e("../../../components/ui/dropdown")),l=e("../../../helpers/utils/util"),u=e("../../../../shared/constants/hardware-wallets"),d=e("../../../../shared/constants/metametrics");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends s.Component{constructor(...e){super(...e),f(this,"state",{pathValue:null}),f(this,"goToNextPage",(()=>{5===this.props.accounts.length?this.props.getPage(this.props.device,1,this.props.selectedPath):this.props.onAccountRestriction()})),f(this,"goToPreviousPage",(()=>{this.props.getPage(this.props.device,-1,this.props.selectedPath)}))}setPath(e){this.setState({pathValue:e})}renderHdPathSelector(){const{device:e,selectedPath:t,hdPaths:n,onPathChange:a}=this.props,{pathValue:r}=this.state;return s.default.createElement("div",null,s.default.createElement("h3",{className:"hw-connect__hdPath__title"},this.context.t("selectHdPath")),s.default.createElement("p",{className:"hw-connect__msg"},this.context.t("selectPathHelp")),s.default.createElement("div",{className:"hw-connect__hdPath"},s.default.createElement(c.default,{className:"hw-connect__hdPath__select",options:n[e.toLowerCase()],selectedOption:r||t,onChange:e=>{this.setPath(e),a(e)}})))}capitalizeDevice(e){return e.slice(0,1).toUpperCase()+e.slice(1)}renderHeader(){const{device:e}=this.props,t=[u.DEVICE_NAMES.LEDGER,u.DEVICE_NAMES.LATTICE,u.DEVICE_NAMES.TREZOR].includes(e.toLowerCase());return s.default.createElement("div",{className:"hw-connect"},s.default.createElement("h3",{className:"hw-connect__unlock-title"},this.context.t("selectAnAccount")),t?this.renderHdPathSelector():null,s.default.createElement("h3",{className:"hw-connect__hdPath__title"},this.context.t("selectAnAccount")))}renderAccounts(){const{accounts:e,connectedAccounts:t,rpcPrefs:n,chainId:a}=this.props;return s.default.createElement("div",{className:"hw-account-list"},e.map(((e,o)=>{const c=t.includes(e.address.toLowerCase()),u=e.index,p=this.props.selectedAccounts.includes(e.index)||c;return s.default.createElement("div",{className:"hw-account-list__item",key:e.address,title:c?this.context.t("selectAnAccountAlreadyConnected"):""},s.default.createElement("div",{className:"hw-account-list__item__checkbox"},s.default.createElement(i.default,{id:`address-${o}`,checked:p,disabled:c,onClick:()=>{this.props.onAccountChange(u)}}),s.default.createElement("label",{className:"hw-account-list__item__label",htmlFor:`address-${o}`},s.default.createElement("span",{className:"hw-account-list__item__index"},e.index+1),`${e.address.slice(0,4)}...${e.address.slice(-4)}`,s.default.createElement("span",{className:"hw-account-list__item__balance"},`${e.balance}`))),s.default.createElement("a",{className:"hw-account-list__item__link",onClick:()=>{const t=(0,r.getAccountLink)(e.address,a,n);this.context.trackEvent({category:d.EVENT.CATEGORIES.ACCOUNTS,event:"Clicked Block Explorer Link",properties:{actions:"Hardware Connect",link_type:"Account Tracker",block_explorer_domain:(0,l.getURLHostName)(t)}}),global.platform.openTab({url:t})},target:"_blank",rel:"noopener noreferrer",title:this.context.t("etherscanView")},s.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-default)"}})))})))}renderPagination(){return s.default.createElement("div",{className:"hw-list-pagination"},s.default.createElement("button",{className:"hw-list-pagination__button",onClick:this.goToPreviousPage},`< ${this.context.t("prev")}`),s.default.createElement("button",{className:"hw-list-pagination__button",onClick:this.goToNextPage},`${this.context.t("next")} >`))}renderButtons(){const e=0===this.props.selectedAccounts.length;return e&&({}.disabled=!0),s.default.createElement("div",{className:"new-external-account-form__buttons"},s.default.createElement(o.default,{type:"secondary",large:!0,className:"new-external-account-form__button",onClick:this.props.onCancel.bind(this)},this.context.t("cancel")),s.default.createElement(o.default,{type:"primary",large:!0,className:"new-external-account-form__button unlock",disabled:e,onClick:this.props.onUnlockAccounts.bind(this,this.props.device,this.props.selectedPath)},this.context.t("unlock")))}renderForgetDevice(){return s.default.createElement("div",{className:"hw-forget-device-container"},s.default.createElement("a",{onClick:this.props.onForgetDevice.bind(this,this.props.device)},this.context.t("forgetDevice")))}render(){return s.default.createElement("div",{className:"new-external-account-form account-list"},this.renderHeader(),this.renderAccounts(),this.renderPagination(),this.renderButtons(),this.renderForgetDevice())}}h.propTypes={onPathChange:a.default.func.isRequired,selectedPath:a.default.string.isRequired,device:a.default.string.isRequired,accounts:a.default.array.isRequired,connectedAccounts:a.default.array.isRequired,onAccountChange:a.default.func.isRequired,onForgetDevice:a.default.func.isRequired,getPage:a.default.func.isRequired,chainId:a.default.string,rpcPrefs:a.default.object,selectedAccounts:a.default.array.isRequired,onUnlockAccounts:a.default.func,onCancel:a.default.func,onAccountRestriction:a.default.func,hdPaths:a.default.array.isRequired},h.contextTypes={t:a.default.func,trackEvent:a.default.func};var g=h;n.default=g}}},{package:"$root$",file:"ui/pages/create-account/connect-hardware/account-list.js"}],[4003,{"../../../../shared/constants/hardware-wallets":3220,"../../../../shared/constants/metametrics":3223,"../../../../shared/constants/time":3229,"../../../ducks/history/history":3850,"../../../helpers/constants/zendesk-url":3868,"../../../helpers/utils/util":3900,"../../../selectors":4266,"../../../store/actions":4273,"./account-list":4002,"./select-hardware":4004,"prop-types":2838,react:3037,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=E(e("react")),s=g(e("prop-types")),r=e("react-redux"),o=E(e("../../../store/actions")),i=e("../../../selectors"),c=e("../../../helpers/utils/util"),l=e("../../../ducks/history/history"),u=e("../../../../shared/constants/metametrics"),d=e("../../../../shared/constants/time"),p=e("../../../../shared/constants/hardware-wallets"),m=g(e("../../../helpers/constants/zendesk-url")),f=g(e("./select-hardware")),h=g(e("./account-list"));function g(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v="U2F",y="m/44'/60'/0'",A="m/44'/60'/0'/0",S="m/44'/60'/0'/0/x",k="m/44'/60'/x'/0/0",O="m/44'/60'/0'/x",N={ledger:[{name:"Ledger Live",value:"m/44'/60'/0'/0/0"},{name:"Legacy (MEW / MyCrypto)",value:y},{name:"BIP44 Standard (e.g. MetaMask, Trezor)",value:A}],lattice:[{name:"Standard (m/44'/60'/0'/0/x)",value:S},{name:"Ledger Live (m/44'/60'/x'/0/0)",value:k},{name:"Ledger Legacy (m/44'/60'/0'/x)",value:O}],trezor:[{name:"BIP44 Standard (e.g. MetaMask, Trezor)",value:A},{name:"Trezor Testnets",value:"m/44'/1'/0'/0"}]};class b extends a.Component{constructor(...e){super(...e),_(this,"state",{error:null,selectedAccounts:[],accounts:[],browserSupported:!0,unlocked:!1,device:null}),_(this,"connectToHardwareWallet",(e=>{this.setState({device:e}),this.state.accounts.length||this.getPage(e,0,this.props.defaultHdPaths[e])})),_(this,"onPathChange",(e=>{this.props.setHardwareWalletDefaultHdPath({device:this.state.device,path:e}),this.setState({selectedAccounts:[]}),this.getPage(this.state.device,0,e)})),_(this,"onAccountChange",(e=>{let{selectedAccounts:t}=this.state;t.includes(e)?t=t.filter((t=>e!==t)):t.push(e),this.setState({selectedAccounts:t,error:null})})),_(this,"onAccountRestriction",(()=>{this.setState({error:this.context.t("ledgerAccountRestriction")})})),_(this,"getPage",((e,t,n)=>{this.props.connectHardware(e,t,n,this.context.t).then((t=>{if(t.length){0!==this.state.accounts.length||this.state.unlocked||this.showTemporaryAlert();const n=t.map((e=>{var t;const n=e.address.toLowerCase(),a=(null===(t=this.props.accounts[n])||void 0===t?void 0:t.balance)||null;return e.balance=a?(0,c.formatBalance)(a,6):"...",e}));this.setState({accounts:n,unlocked:!0,device:e,error:null})}})).catch((e=>{const t="string"==typeof e?e:e.message;"Window blocked"===t?this.setState({browserSupported:!1,error:null}):t.includes(v)?this.setState({error:v}):"LEDGER_LOCKED"===t||"LEDGER_WRONG_APP"===t?this.setState({error:this.context.t("ledgerLocked")}):t.includes("timeout")?this.setState({error:this.context.t("ledgerTimeout")}):t.toLowerCase().includes("KeystoneError#pubkey_account.no_expected_account".toLowerCase())?this.setState({error:this.context.t("QRHardwarePubkeyAccountOutOfRange")}):"Window closed"!==t&&"Popup closed"!==t&&!1===t.toLowerCase().includes("KeystoneError#sync_cancel".toLowerCase())&&this.setState({error:t})}))})),_(this,"onForgetDevice",(e=>{this.props.forgetDevice(e).then((e=>{this.setState({error:null,selectedAccounts:[],accounts:[],unlocked:!1})})).catch((e=>{this.setState({error:e.message})}))})),_(this,"onUnlockAccounts",((e,t)=>{const{history:n,mostRecentOverviewPage:a,unlockHardwareWalletAccounts:s}=this.props,{selectedAccounts:r}=this.state;0===r.length&&this.setState({error:this.context.t("accountSelectionRequired")});const o=y===t?this.context.t("hardwareWalletLegacyDescription"):"";return s(r,e,t||null,o).then((t=>{this.context.trackEvent({category:u.EVENT.CATEGORIES.ACCOUNTS,event:u.EVENT_NAMES.ACCOUNT_ADDED,properties:{account_type:u.EVENT.ACCOUNT_TYPES.HARDWARE,account_hardware_type:e}}),n.push(a)})).catch((t=>{this.context.trackEvent({category:u.EVENT.CATEGORIES.ACCOUNTS,event:u.EVENT_NAMES.ACCOUNT_ADD_FAILED,properties:{account_type:u.EVENT.ACCOUNT_TYPES.HARDWARE,account_hardware_type:e,error:t.message}}),this.setState({error:t.message})}))})),_(this,"onCancel",(()=>{const{history:e,mostRecentOverviewPage:t}=this.props;e.push(t)}))}UNSAFE_componentWillReceiveProps(e){const{accounts:t}=e,n=this.state.accounts.map((e=>{var n;const a=e.address.toLowerCase(),s=(null===(n=t[a])||void 0===n?void 0:n.balance)||null;return e.balance=s?(0,c.formatBalance)(s,6):"...",e}));this.setState({accounts:n})}componentDidMount(){this.checkIfUnlocked()}async checkIfUnlocked(){for(const e of[p.DEVICE_NAMES.TREZOR,p.DEVICE_NAMES.LEDGER,p.DEVICE_NAMES.LATTICE]){const t=this.props.defaultHdPaths[e];await this.props.checkHardwareStatus(e,t)&&(this.setState({unlocked:!0}),this.getPage(e,0,t))}}showTemporaryAlert(){this.props.showAlert(this.context.t("hardwareWalletConnected")),setTimeout((e=>{this.props.hideAlert()}),5*d.SECOND)}renderError(){return this.state.error===v?a.default.createElement("p",{className:"hw-connect__error"},this.context.t("troubleConnectingToWallet",[this.state.device,a.default.createElement("a",{href:m.default.HARDWARE_CONNECTION,key:"hardware-connection-guide",target:"_blank",rel:"noopener noreferrer",className:"hw-connect__link",style:{marginLeft:"5px",marginRight:"5px"}},this.context.t("walletConnectionGuide"))])):this.state.error?a.default.createElement("span",{className:"hw-connect__error"},this.state.error):null}renderContent(){return this.state.accounts.length?a.default.createElement(h.default,{onPathChange:this.onPathChange,selectedPath:this.props.defaultHdPaths[this.state.device],device:this.state.device,accounts:this.state.accounts,connectedAccounts:this.props.connectedAccounts,selectedAccounts:this.state.selectedAccounts,onAccountChange:this.onAccountChange,chainId:this.props.chainId,rpcPrefs:this.props.rpcPrefs,getPage:this.getPage,onUnlockAccounts:this.onUnlockAccounts,onForgetDevice:this.onForgetDevice,onCancel:this.onCancel,onAccountRestriction:this.onAccountRestriction,hdPaths:N}):a.default.createElement(f.default,{connectToHardwareWallet:this.connectToHardwareWallet,browserSupported:this.state.browserSupported,ledgerTransportType:this.props.ledgerTransportType})}render(){return a.default.createElement(a.default.Fragment,null,this.renderError(),this.renderContent())}}_(b,"contextTypes",{t:s.default.func}),b.propTypes={connectHardware:s.default.func,checkHardwareStatus:s.default.func,forgetDevice:s.default.func,showAlert:s.default.func,hideAlert:s.default.func,unlockHardwareWalletAccounts:s.default.func,setHardwareWalletDefaultHdPath:s.default.func,history:s.default.object,chainId:s.default.string,rpcPrefs:s.default.object,accounts:s.default.object,connectedAccounts:s.default.array.isRequired,defaultHdPaths:s.default.object,mostRecentOverviewPage:s.default.string.isRequired,ledgerTransportType:s.default.oneOf(Object.values(p.LEDGER_TRANSPORT_TYPES))};b.contextTypes={t:s.default.func,trackEvent:s.default.func};var w=(0,r.connect)((e=>({chainId:(0,i.getCurrentChainId)(e),rpcPrefs:(0,i.getRpcPrefsForCurrentProvider)(e),accounts:(0,i.getMetaMaskAccounts)(e),connectedAccounts:(0,i.getMetaMaskAccountsConnected)(e),defaultHdPaths:e.appState.defaultHdPaths,mostRecentOverviewPage:(0,l.getMostRecentOverviewPage)(e),ledgerTransportType:e.metamask.ledgerTransportType})),(e=>({setHardwareWalletDefaultHdPath:({device:t,path:n})=>e(o.setHardwareWalletDefaultHdPath({device:t,path:n})),connectHardware:(t,n,a,s)=>e(o.connectHardware(t,n,a,s)),checkHardwareStatus:(t,n)=>e(o.checkHardwareStatus(t,n)),forgetDevice:t=>e(o.forgetDevice(t)),unlockHardwareWalletAccounts:(t,n,a,s)=>e(o.unlockHardwareWalletAccounts(t,n,a,s)),showAlert:t=>e(o.showAlert(t)),hideAlert:()=>e(o.hideAlert())})))(b);n.default=w}}},{package:"$root$",file:"ui/pages/create-account/connect-hardware/index.js"}],[4004,{"../../../../shared/constants/hardware-wallets":3220,"../../../../shared/constants/metametrics":3223,"../../../components/ui/button":3670,"../../../components/ui/logo/logo-lattice":3761,"../../../components/ui/logo/logo-ledger":3762,"../../../components/ui/logo/logo-qr-based":3764,"../../../components/ui/logo/logo-trezor":3766,"../../../helpers/constants/zendesk-url":3868,classnames:1767,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=h(e("classnames")),s=h(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=h(e("../../../components/ui/button")),i=h(e("../../../components/ui/logo/logo-ledger")),c=h(e("../../../components/ui/logo/logo-qr-based")),l=h(e("../../../components/ui/logo/logo-trezor")),u=h(e("../../../components/ui/logo/logo-lattice")),d=e("../../../../shared/constants/hardware-wallets"),p=h(e("../../../helpers/constants/zendesk-url")),m=e("../../../../shared/constants/metametrics");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g.apply(this,arguments)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends r.Component{constructor(...e){super(...e),T(this,"state",{selectedDevice:null}),T(this,"connect",(()=>(this.state.selectedDevice&&this.props.connectToHardwareWallet(this.state.selectedDevice),null)))}renderConnectToTrezorButton(){return r.default.createElement("button",{className:(0,a.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.DEVICE_NAMES.TREZOR}),onClick:e=>this.setState({selectedDevice:d.DEVICE_NAMES.TREZOR})},r.default.createElement(l.default,{className:"hw-connect__btn__img",ariaLabel:"Trezor"}))}renderConnectToLatticeButton(){return r.default.createElement("button",{className:(0,a.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.DEVICE_NAMES.LATTICE}),onClick:e=>this.setState({selectedDevice:d.DEVICE_NAMES.LATTICE})},r.default.createElement(u.default,{className:"hw-connect__btn__img",ariaLabel:"Lattice"}))}renderConnectToLedgerButton(){return r.default.createElement("button",{className:(0,a.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.DEVICE_NAMES.LEDGER}),onClick:e=>this.setState({selectedDevice:d.DEVICE_NAMES.LEDGER})},r.default.createElement(i.default,{className:"hw-connect__btn__img",ariaLabel:"Ledger"}))}renderConnectToQRButton(){return r.default.createElement("button",{className:(0,a.default)("hw-connect__btn",{selected:this.state.selectedDevice===d.DEVICE_NAMES.QR}),onClick:e=>this.setState({selectedDevice:d.DEVICE_NAMES.QR})},r.default.createElement(c.default,{className:"hw-connect__btn__img",ariaLabel:"QRCode"}))}renderButtons(){return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"hw-connect__btn-wrapper"},this.renderConnectToLedgerButton(),this.renderConnectToTrezorButton()),r.default.createElement("div",{className:"hw-connect__btn-wrapper",style:{margin:"10px 0 0 0"}},this.renderConnectToLatticeButton(),this.renderConnectToQRButton()))}renderContinueButton(){return r.default.createElement(o.default,{type:"primary",large:!0,className:"hw-connect__connect-btn",onClick:this.connect,disabled:!this.state.selectedDevice},this.context.t("continue"))}renderUnsupportedBrowser(){return r.default.createElement("div",{className:"new-external-account-form unsupported-browser"},r.default.createElement("div",{className:"hw-connect"},r.default.createElement("h3",{className:"hw-connect__title"},this.context.t("browserNotSupported")),r.default.createElement("p",{className:"hw-connect__msg"},this.context.t("chromeRequiredForHardwareWallets"))),r.default.createElement(o.default,{type:"primary",large:!0,onClick:()=>global.platform.openTab({url:"https://google.com/chrome"})},this.context.t("downloadGoogleChrome")))}renderHeader(){return r.default.createElement("div",{className:"hw-connect__header"},r.default.createElement("h3",{className:"hw-connect__header__title"},this.context.t("hardwareWallets")),r.default.createElement("p",{className:"hw-connect__header__msg"},this.context.t("hardwareWalletsMsg")))}renderTutorialsteps(){switch(this.state.selectedDevice){case d.DEVICE_NAMES.LEDGER:return this.renderLedgerTutorialSteps();case d.DEVICE_NAMES.TREZOR:return this.renderTrezorTutorialSteps();case d.DEVICE_NAMES.LATTICE:return this.renderLatticeTutorialSteps();case d.DEVICE_NAMES.QR:return this.renderQRHardwareWalletSteps();default:return""}}renderLedgerTutorialSteps(){const e=[];return this.props.ledgerTransportType===d.LEDGER_TRANSPORT_TYPES.LIVE&&e.push({renderButtons:!1,title:this.context.t("step1LedgerWallet"),message:this.context.t("step1LedgerWalletMsg",[r.default.createElement("a",{className:"hw-connect__msg-link",href:"https://www.ledger.com/ledger-live",rel:"noopener noreferrer",target:"_blank",key:"ledger-live-app-link"},this.context.t("ledgerLiveApp"))])}),e.push({renderButtons:!0,asset:"plug-in-wallet",dimensions:{width:"225px",height:"75px"},title:this.context.t("step2LedgerWallet"),message:this.context.t("step2LedgerWalletMsg",[r.default.createElement("a",{className:"hw-connect__msg-link",href:p.default.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"ledger-support-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}),r.default.createElement("div",{className:"hw-tutorial"},e.map(((e,t)=>r.default.createElement("div",{className:"hw-connect",key:t},r.default.createElement("h3",{className:"hw-connect__title"},e.title),e.renderButtons?r.default.createElement(r.default.Fragment,null,r.default.createElement(o.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Ledger Buy Now"}),window.open(d.AFFILIATE_LINKS.LEDGER,"_blank")}},this.context.t("buyNow")),r.default.createElement(o.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Ledger Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.LEDGER,"_blank")}},this.context.t("tutorial"))):null,r.default.createElement("p",{className:"hw-connect__msg"},e.message),e.asset&&r.default.createElement("img",g({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""}))))))}renderLatticeTutorialSteps(){const e=[{asset:"connect-lattice",dimensions:{width:"225px",height:"75px"},title:this.context.t("step1LatticeWallet"),message:this.context.t("step1LatticeWalletMsg",[r.default.createElement("a",{className:"hw-connect__msg-link",href:p.default.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"lattice-setup-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}];return r.default.createElement("div",{className:"hw-tutorial"},e.map(((e,t)=>r.default.createElement("div",{className:"hw-connect",key:t},r.default.createElement("h3",{className:"hw-connect__title"},e.title),r.default.createElement(o.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked GridPlus Buy Now"}),window.open(d.AFFILIATE_LINKS.GRIDPLUS,"_blank")}},this.context.t("buyNow")),r.default.createElement(o.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked GidPlus Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.GRIDPLUS,"_blank")}},this.context.t("tutorial")),r.default.createElement("p",{className:"hw-connect__msg"},e.message),e.asset&&r.default.createElement("img",g({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""}))))))}renderTrezorTutorialSteps(){const e=[{asset:"plug-in-wallet",dimensions:{width:"225px",height:"75px"},title:this.context.t("step1TrezorWallet"),message:this.context.t("step1TrezorWalletMsg",[r.default.createElement("a",{className:"hw-connect__msg-link",href:p.default.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"trezor-support-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}];return r.default.createElement("div",{className:"hw-tutorial"},e.map(((e,t)=>r.default.createElement("div",{className:"hw-connect",key:t},r.default.createElement("h3",{className:"hw-connect__title"},e.title),r.default.createElement(o.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Trezor Buy Now"}),window.open(d.AFFILIATE_LINKS.TREZOR,"_blank")}},this.context.t("buyNow")),r.default.createElement(o.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Trezor Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.TREZOR,"_blank")}},this.context.t("tutorial")),r.default.createElement("p",{className:"hw-connect__msg"},e.message),e.asset&&r.default.createElement("img",g({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""}))))))}renderQRHardwareWalletSteps(){const e=[];return e.push({title:this.context.t("QRHardwareWalletSteps1Title"),message:this.context.t("QRHardwareWalletSteps1Description")},{message:r.default.createElement(r.default.Fragment,null,r.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("keystone")),r.default.createElement(o.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Keystone Buy Now"}),window.open(d.AFFILIATE_LINKS.KEYSTONE,"_blank")}},this.context.t("buyNow")),r.default.createElement(o.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked Keystone Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.KEYSTONE,"_blank")}},this.context.t("tutorial")))},{message:r.default.createElement(r.default.Fragment,null,r.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("airgapVault")),r.default.createElement(o.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked AirGap Vault Buy Now"}),window.open(d.AFFILIATE_LINKS.AIRGAP,"_blank")}},this.context.t("downloadNow")),r.default.createElement(o.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked AirGap Vault Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.AIRGAP,"_blank")}},this.context.t("tutorial")))},{message:r.default.createElement(r.default.Fragment,null,r.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("coolWallet")),r.default.createElement(o.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked CoolWallet Buy Now"}),window.open(d.AFFILIATE_LINKS.COOLWALLET,"_blank")}},this.context.t("buyNow")),r.default.createElement(o.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked CoolWallet Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.COOLWALLET,"_blank")}},this.context.t("tutorial")))},{message:r.default.createElement(r.default.Fragment,null,r.default.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("dcent")),r.default.createElement(o.default,{className:"hw-connect__external-btn-first",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked DCent Buy Now"}),window.open(d.AFFILIATE_LINKS.DCENT,"_blank")}},this.context.t("buyNow")),r.default.createElement(o.default,{className:"hw-connect__external-btn",type:"secondary",onClick:()=>{this.context.trackEvent({category:m.EVENT.CATEGORIES.NAVIGATION,event:"Clicked DCent Tutorial"}),window.open(d.AFFILIATE_TUTORIAL_LINKS.DCENT,"_blank")}},this.context.t("tutorial")))},{message:this.context.t("QRHardwareWalletSteps2Description")},{asset:"qrcode-wallet-demo",dimensions:{width:"225px",height:"75px"}}),r.default.createElement("div",{className:"hw-tutorial"},e.map(((e,t)=>r.default.createElement("div",{className:"hw-connect",key:t},e.title&&r.default.createElement("h3",{className:"hw-connect__title"},e.title),r.default.createElement("div",{className:"hw-connect__msg"},e.message),e.asset&&r.default.createElement("img",g({className:"hw-connect__step-asset",src:`images/${e.asset}.svg`},e.dimensions,{alt:""}))))))}renderConnectScreen(){return r.default.createElement("div",{className:"new-external-account-form"},this.renderHeader(),this.renderButtons(),this.state.selectedDevice?this.renderTutorialsteps():null,this.renderContinueButton())}render(){return this.props.browserSupported?this.renderConnectScreen():this.renderUnsupportedBrowser()}}n.default=E,T(E,"contextTypes",{t:s.default.func,trackEvent:s.default.func}),T(E,"propTypes",{connectToHardwareWallet:s.default.func.isRequired,browserSupported:s.default.bool.isRequired,ledgerTransportType:s.default.oneOf(Object.values(d.LEDGER_TRANSPORT_TYPES))})}}},{package:"$root$",file:"ui/pages/create-account/connect-hardware/select-hardware.js"}],[4005,{"../../helpers/constants/routes":3865,"./connect-hardware":4003,"./import-account":4006,"./new-account.container":4011,react:3037,"react-router-dom":3010},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=e("react-router-dom"),r=e("../../helpers/constants/routes"),o=l(e("./new-account.container")),i=l(e("./import-account")),c=l(e("./connect-hardware"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}class d extends a.Component{render(){return a.default.createElement("div",{className:"new-account"},a.default.createElement("div",{className:"new-account__form"},a.default.createElement(s.Switch,null,a.default.createElement(s.Route,{exact:!0,path:r.NEW_ACCOUNT_ROUTE,component:o.default}),a.default.createElement(s.Route,{exact:!0,path:r.IMPORT_ACCOUNT_ROUTE,component:i.default}),a.default.createElement(s.Route,{exact:!0,path:r.CONNECT_HARDWARE_ROUTE,component:c.default}))))}}n.default=d}}},{package:"$root$",file:"ui/pages/create-account/create-account.component.js"}],[4006,{"../../../components/ui/dropdown":3694,"../../../helpers/constants/zendesk-url":3868,"./json":4007,"./private-key":4008,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=l(e("prop-types")),r=l(e("../../../components/ui/dropdown")),o=l(e("../../../helpers/constants/zendesk-url")),i=l(e("./json")),c=l(e("./private-key"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.Component{constructor(...e){super(...e),d(this,"state",{})}getMenuItemTexts(){return[this.context.t("privateKey"),this.context.t("jsonFile")]}renderImportView(){const{type:e}=this.state,t=this.getMenuItemTexts();switch(e||t[0]){case this.context.t("privateKey"):return a.default.createElement(c.default,null);case this.context.t("jsonFile"):default:return a.default.createElement(i.default,null)}}render(){const e=this.getMenuItemTexts(),{type:t}=this.state,{t:n}=this.context;return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},n("importAccount")),a.default.createElement("div",{className:"page-container__subtitle"},n("importAccountMsg"),a.default.createElement("span",{className:"new-account-info-link",onClick:()=>{global.platform.openTab({url:o.default.IMPORTED_ACCOUNTS})}},n("here")))),a.default.createElement("div",{className:"new-account-import-form"},a.default.createElement("div",{className:"new-account-import-form__select-section"},a.default.createElement("div",{className:"new-account-import-form__select-label"},n("selectType")),a.default.createElement(r.default,{className:"new-account-import-form__select",options:e.map((e=>({value:e}))),selectedOption:t||e[0],onChange:e=>{this.setState({type:e})}})),this.renderImportView()))}}n.default=p,d(p,"contextTypes",{t:s.default.func})}}},{package:"$root$",file:"ui/pages/create-account/import-account/index.js"}],[4007,{"../../../../shared/constants/metametrics":3223,"../../../components/ui/button":3670,"../../../ducks/history/history":3850,"../../../helpers/constants/zendesk-url":3868,"../../../selectors":4266,"../../../store/actions":4273,"prop-types":2838,react:3037,"react-redux":2990,"react-router-dom":3010,"react-simple-file-input":3020,redux:3054},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=T(e("react")),s=h(e("prop-types")),r=e("react-router-dom"),o=e("redux"),i=e("react-redux"),c=h(e("react-simple-file-input")),l=T(e("../../../store/actions")),u=e("../../../selectors"),d=h(e("../../../components/ui/button")),p=e("../../../../shared/constants/metametrics"),m=e("../../../ducks/history/history"),f=h(e("../../../helpers/constants/zendesk-url"));function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.Component{constructor(...e){super(...e),E(this,"state",{fileContents:"",isEmpty:!0}),E(this,"inputRef",a.default.createRef())}render(){const{error:e,history:t,mostRecentOverviewPage:n}=this.props,s=!this.state.isEmpty&&""!==this.state.fileContents;return a.default.createElement("div",{className:"new-account-import-form__json"},a.default.createElement("p",null,this.context.t("usedByClients")),a.default.createElement("a",{className:"new-account-import-form__help-link",href:f.default.IMPORTED_ACCOUNTS,target:"_blank",rel:"noopener noreferrer"},this.context.t("fileImportFail")),a.default.createElement(c.default,{readAs:"text",onLoad:this.onLoad.bind(this),style:{padding:"20px 0px 12px 15%",fontSize:"15px",display:"flex",justifyContent:"center",width:"100%"}}),a.default.createElement("input",{className:"new-account-import-form__input-password",type:"password",placeholder:this.context.t("enterPassword"),id:"json-password-box",onKeyPress:this.createKeyringOnEnter.bind(this),onChange:()=>this.checkInputEmpty(),ref:this.inputRef}),a.default.createElement("div",{className:"new-account-create-form__buttons"},a.default.createElement(d.default,{type:"secondary",large:!0,className:"new-account-create-form__button",onClick:()=>t.push(n)},this.context.t("cancel")),a.default.createElement(d.default,{type:"primary",large:!0,className:"new-account-create-form__button",onClick:()=>this.createNewKeychain(),disabled:!s},this.context.t("import"))),e?a.default.createElement("span",{className:"error"},e):null)}onLoad(e){this.setState({fileContents:e.target.result})}createKeyringOnEnter(e){"Enter"===e.key&&(e.preventDefault(),this.createNewKeychain())}createNewKeychain(){const{firstAddress:e,displayWarning:t,history:n,importNewJsonAccount:a,mostRecentOverviewPage:s,setSelectedAddress:r}=this.props,{fileContents:o}=this.state,{t:i}=this.context;if(!o){const e=i("needImportFile");return void t(e)}a([o,this.inputRef.current.value]).then((({selectedAddress:a})=>{a?(n.push(s),this.context.trackEvent({category:p.EVENT.CATEGORIES.ACCOUNTS,event:p.EVENT_NAMES.ACCOUNT_ADDED,properties:{account_type:p.EVENT.ACCOUNT_TYPES.IMPORTED,account_import_type:p.EVENT.ACCOUNT_IMPORT_TYPES.JSON}}),t(null)):(t(i("importAccountError")),this.context.trackEvent({category:p.EVENT.CATEGORIES.ACCOUNTS,event:p.EVENT_NAMES.ACCOUNT_ADD_FAILED,properties:{account_type:p.EVENT.ACCOUNT_TYPES.IMPORTED,account_import_type:p.EVENT.ACCOUNT_IMPORT_TYPES.JSON}}),r(e))})).catch((e=>e&&t(e.message||e)))}checkInputEmpty(){let e=!0;""!==this.inputRef.current.value&&(e=!1),this.setState({isEmpty:e})}}_.propTypes={error:s.default.string,displayWarning:s.default.func,firstAddress:s.default.string,importNewJsonAccount:s.default.func,history:s.default.object,setSelectedAddress:s.default.func,mostRecentOverviewPage:s.default.string.isRequired};_.contextTypes={t:s.default.func,trackEvent:s.default.func};var v=(0,o.compose)(r.withRouter,(0,i.connect)((e=>({error:e.appState.warning,firstAddress:Object.keys((0,u.getMetaMaskAccounts)(e))[0],mostRecentOverviewPage:(0,m.getMostRecentOverviewPage)(e)})),(e=>({displayWarning:t=>e(l.displayWarning(t)),importNewJsonAccount:t=>e(l.importNewAccount("JSON File",t)),setSelectedAddress:t=>e(l.setSelectedAddress(t))}))))(_);n.default=v}}},{package:"$root$",file:"ui/pages/create-account/import-account/json.js"}],[4008,{"../../../../shared/constants/metametrics":3223,"../../../components/ui/button":3670,"../../../ducks/history/history":3850,"../../../selectors":4266,"../../../store/actions":4273,"prop-types":2838,react:3037,"react-redux":2990,"react-router-dom":3010,redux:3054},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=h(e("react")),s=e("react-router-dom"),r=e("redux"),o=m(e("prop-types")),i=e("react-redux"),c=h(e("../../../store/actions")),l=e("../../../selectors"),u=m(e("../../../components/ui/button")),d=e("../../../ducks/history/history"),p=e("../../../../shared/constants/metametrics");function m(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends a.Component{constructor(...e){super(...e),g(this,"inputRef",a.default.createRef()),g(this,"state",{isEmpty:!0}),g(this,"createKeyringOnEnter",(e=>{"Enter"===e.key&&(e.preventDefault(),this.createNewKeychain())}))}createNewKeychain(){const e=this.inputRef.current.value,{importNewAccount:t,history:n,displayWarning:a,mostRecentOverviewPage:s,setSelectedAddress:r,firstAddress:o}=this.props,{t:i}=this.context;t("Private Key",[e]).then((({selectedAddress:e})=>{e?(this.context.trackEvent({category:p.EVENT.CATEGORIES.ACCOUNTS,event:p.EVENT_NAMES.ACCOUNT_ADDED,properties:{account_type:p.EVENT.ACCOUNT_TYPES.IMPORTED,account_import_type:p.EVENT.ACCOUNT_IMPORT_TYPES.PRIVATE_KEY}}),n.push(s),a(null)):(a(i("importAccountError")),this.context.trackEvent({category:p.EVENT.CATEGORIES.ACCOUNTS,event:p.EVENT_NAMES.ACCOUNT_ADD_FAILED,properties:{account_type:p.EVENT.ACCOUNT_TYPES.IMPORTED,account_import_type:p.EVENT.ACCOUNT_IMPORT_TYPES.PRIVATE_KEY}}),r(o))})).catch((e=>e&&a(e.message||e)))}checkInputEmpty(){let e=!0;""!==this.inputRef.current.value&&(e=!1),this.setState({isEmpty:e})}render(){const{error:e,displayWarning:t}=this.props;return a.default.createElement("div",{className:"new-account-import-form__private-key"},a.default.createElement("span",{className:"new-account-import-form__instruction"},this.context.t("pastePrivateKey")),a.default.createElement("div",{className:"new-account-import-form__private-key-password-container"},a.default.createElement("input",{className:"new-account-import-form__input-password",type:"password",id:"private-key-box",onKeyPress:e=>this.createKeyringOnEnter(e),onChange:()=>this.checkInputEmpty(),ref:this.inputRef,autoFocus:!0})),a.default.createElement("div",{className:"new-account-import-form__buttons"},a.default.createElement(u.default,{type:"secondary",large:!0,className:"new-account-create-form__button",onClick:()=>{const{history:e,mostRecentOverviewPage:n}=this.props;t(null),e.push(n)}},this.context.t("cancel")),a.default.createElement(u.default,{type:"primary",large:!0,className:"new-account-create-form__button",onClick:()=>this.createNewKeychain(),disabled:this.state.isEmpty},this.context.t("import"))),e?a.default.createElement("span",{className:"error"},e):null)}}g(T,"contextTypes",{t:o.default.func,trackEvent:o.default.func}),g(T,"propTypes",{importNewAccount:o.default.func.isRequired,history:o.default.object.isRequired,displayWarning:o.default.func.isRequired,setSelectedAddress:o.default.func.isRequired,firstAddress:o.default.string.isRequired,error:o.default.node,mostRecentOverviewPage:o.default.string.isRequired});var E=(0,r.compose)(s.withRouter,(0,i.connect)((function(e){return{error:e.appState.warning,firstAddress:Object.keys((0,l.getMetaMaskAccounts)(e))[0],mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e)}}),(function(e){return{importNewAccount:(t,[n])=>e(c.importNewAccount(t,[n])),displayWarning:t=>e(c.displayWarning(t||null)),setSelectedAddress:t=>e(c.setSelectedAddress(t))}})))(T);n.default=E}}},{package:"$root$",file:"ui/pages/create-account/import-account/private-key.js"}],[4009,{"./create-account.component":4005},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s.default}});var a,s=(a=e("./create-account.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/create-account/index.js"}],[4010,{"../../../shared/constants/metametrics":3223,"../../components/ui/button":3670,"../../helpers/utils/accounts":3878,classnames:1767,"prop-types":2838,react:3037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=l(e("prop-types")),r=l(e("classnames")),o=l(e("../../components/ui/button")),i=e("../../../shared/constants/metametrics"),c=e("../../helpers/utils/accounts");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.Component{constructor(...e){super(...e),d(this,"state",{newAccountName:"",defaultAccountName:this.context.t("newAccountNumberName",[this.props.newAccountNumber])})}render(){const{newAccountName:e,defaultAccountName:t}=this.state,{history:n,createAccount:s,mostRecentOverviewPage:l,accounts:u}=this.props,{isValidAccountName:d,errorMessage:p}=(0,c.getAccountNameErrorMessage)(u,this.context,e,t);return a.default.createElement("div",{className:"new-account-create-form"},a.default.createElement("div",{className:"new-account-create-form__input-label"},this.context.t("accountName")),a.default.createElement("div",null,a.default.createElement("input",{className:(0,r.default)({"new-account-create-form__input":!0,"new-account-create-form__input__error":!d}),value:e,placeholder:t,onChange:e=>this.setState({newAccountName:e.target.value}),autoFocus:!0}),a.default.createElement("div",{className:"new-account-create-form__error new-account-create-form__error-amount"},p),a.default.createElement("div",{className:"new-account-create-form__buttons"},a.default.createElement(o.default,{type:"secondary",large:!0,className:"new-account-create-form__button",onClick:()=>n.push(l)},this.context.t("cancel")),a.default.createElement(o.default,{type:"primary",large:!0,className:"new-account-create-form__button",onClick:a=>{a.preventDefault(),s(e||t).then((()=>{this.context.trackEvent({category:i.EVENT.CATEGORIES.ACCOUNTS,event:i.EVENT_NAMES.ACCOUNT_ADDED,properties:{account_type:i.EVENT.ACCOUNT_TYPES.DEFAULT}}),n.push(l)})).catch((e=>{this.context.trackEvent({category:i.EVENT.CATEGORIES.ACCOUNTS,event:i.EVENT_NAMES.ACCOUNT_ADD_FAILED,properties:{account_type:i.EVENT.ACCOUNT_TYPES.DEFAULT,error:e.message}})}))},disabled:!d},this.context.t("create")))))}}n.default=p,d(p,"defaultProps",{newAccountNumber:0}),p.propTypes={createAccount:s.default.func,newAccountNumber:s.default.number,history:s.default.object,mostRecentOverviewPage:s.default.string.isRequired,accounts:s.default.array},p.contextTypes={t:s.default.func,trackEvent:s.default.func}}}},{package:"$root$",file:"ui/pages/create-account/new-account.component.js"}],[4011,{"../../ducks/history/history":3850,"../../selectors":4266,"../../store/actions":4273,"./new-account.component":4010,"react-redux":2990},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,s=e("react-redux"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=s?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(e("../../store/actions")),o=e("../../ducks/history/history"),i=e("../../selectors"),c=(a=e("./new-account.component"))&&a.__esModule?a:{default:a};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var u=(0,s.connect)((e=>{const{metamask:{identities:t={}}}=e;return{newAccountNumber:Object.keys(t).length+1,mostRecentOverviewPage:(0,o.getMostRecentOverviewPage)(e),accounts:(0,i.getMetaMaskAccountsOrdered)(e)}}),(e=>({createAccount:t=>e(r.addNewAccount()).then((n=>{t&&e(r.setAccountLabel(n,t))}))})))(c.default);n.default=u}}},{package:"$root$",file:"ui/pages/create-account/new-account.container.js"}]],[],{});